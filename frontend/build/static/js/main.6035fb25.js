/*! For license information please see main.6035fb25.js.LICENSE.txt */
(()=>{var e={8322:e=>{"use strict";function t(e,t){this.x=e,this.y=t}e.exports=t,t.prototype={clone:function(){return new t(this.x,this.y)},add:function(e){return this.clone()._add(e)},sub:function(e){return this.clone()._sub(e)},multByPoint:function(e){return this.clone()._multByPoint(e)},divByPoint:function(e){return this.clone()._divByPoint(e)},mult:function(e){return this.clone()._mult(e)},div:function(e){return this.clone()._div(e)},rotate:function(e){return this.clone()._rotate(e)},rotateAround:function(e,t){return this.clone()._rotateAround(e,t)},matMult:function(e){return this.clone()._matMult(e)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(e){return this.x===e.x&&this.y===e.y},dist:function(e){return Math.sqrt(this.distSqr(e))},distSqr:function(e){var t=e.x-this.x,n=e.y-this.y;return t*t+n*n},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(e){return Math.atan2(this.y-e.y,this.x-e.x)},angleWith:function(e){return this.angleWithSep(e.x,e.y)},angleWithSep:function(e,t){return Math.atan2(this.x*t-this.y*e,this.x*e+this.y*t)},_matMult:function(e){var t=e[0]*this.x+e[1]*this.y,n=e[2]*this.x+e[3]*this.y;return this.x=t,this.y=n,this},_add:function(e){return this.x+=e.x,this.y+=e.y,this},_sub:function(e){return this.x-=e.x,this.y-=e.y,this},_mult:function(e){return this.x*=e,this.y*=e,this},_div:function(e){return this.x/=e,this.y/=e,this},_multByPoint:function(e){return this.x*=e.x,this.y*=e.y,this},_divByPoint:function(e){return this.x/=e.x,this.y/=e.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var e=this.y;return this.y=this.x,this.x=-e,this},_rotate:function(e){var t=Math.cos(e),n=Math.sin(e),i=t*this.x-n*this.y,r=n*this.x+t*this.y;return this.x=i,this.y=r,this},_rotateAround:function(e,t){var n=Math.cos(e),i=Math.sin(e),r=t.x+n*(this.x-t.x)-i*(this.y-t.y),o=t.y+i*(this.x-t.x)+n*(this.y-t.y);return this.x=r,this.y=o,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},t.convert=function(e){return e instanceof t?e:Array.isArray(e)?new t(e[0],e[1]):e}},6532:(e,t)=>{"use strict";var n,i=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),l=Symbol.for("react.context"),d=Symbol.for("react.server_context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),f=Symbol.for("react.offscreen");function m(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case o:case s:case a:case h:case A:return e;default:switch(e=e&&e.$$typeof){case d:case l:case u:case g:case p:case c:return e;default:return t}}case r:return t}}}n=Symbol.for("react.module.reference")},8457:(e,t,n)=>{"use strict";n(6532)},3161:(e,t,n)=>{var i;window,i=function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=347)}([function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},function(e,t,i){"use strict";var r=i(0);t.__esModule=!0,t.default=void 0;var o=r(i(402)),a=r(i(199)),s=r(i(125));const c=(0,a.default)((e=>{const t={};return Object.keys(s.default).forEach((n=>{const i=s.default[n].method,r=(0,o.default)("OpenTok:".concat(e,":").concat(n.toLowerCase()));r.log=console[i].bind(console),t[n.toLowerCase()]=r})),t}));c.setLogLevel=e=>{let t;try{t=(void 0!==typeof window?window:n.g).localStorage.debug}catch(r){t=""}const i=[...Object.keys(s.default).map((t=>"".concat(e>=s.default[t].priority?"":"-","(autogen)?OpenTok:*:").concat(t.toLowerCase()))),...(t||"").split(/[\s,]/).filter((e=>-1===e.indexOf("(autogen)?")))].filter((e=>e)).join(",");o.default.enable(i)};var l=c;t.default=l},function(e,t,i){(function(t){e.exports=function(){"use strict";function e(e){var t=typeof e;return null!==e&&("object"===t||"function"===t)}function i(e){return"function"===typeof e}var r=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},o=0,a=void 0,s=void 0,c=function(e,t){Q[o]=e,Q[o+1]=t,2===(o+=2)&&(s?s(U):b())};function l(e){s=e}function d(e){c=e}var u="undefined"!==typeof window?window:void 0,h=u||{},A=h.MutationObserver||h.WebKitMutationObserver,p="undefined"===typeof self&&"undefined"!==typeof t&&"[object process]"==={}.toString.call(t),g="undefined"!==typeof Uint8ClampedArray&&"undefined"!==typeof importScripts&&"undefined"!==typeof MessageChannel;function f(){return function(){return t.nextTick(U)}}function m(){return"undefined"!==typeof a?function(){a(U)}:I()}function E(){var e=0,t=new A(U),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}function C(){var e=new MessageChannel;return e.port1.onmessage=U,function(){return e.port2.postMessage(0)}}function I(){var e=setTimeout;return function(){return e(U,1)}}var Q=new Array(1e3);function U(){for(var e=0;e<o;e+=2)(0,Q[e])(Q[e+1]),Q[e]=void 0,Q[e+1]=void 0;o=0}function y(){try{var e=Function("return this")().require("vertx");return a=e.runOnLoop||e.runOnContext,m()}catch(t){return I()}}var b=void 0;function v(e,t){var n=this,i=new this.constructor(F);void 0===i[S]&&X(i);var r=n._state;if(r){var o=arguments[r-1];c((function(){return P(r,i,o,n._result)}))}else M(n,i,e,t);return i}function R(e){var t=this;if(e&&"object"===typeof e&&e.constructor===t)return e;var n=new t(F);return W(n,e),n}b=p?f():A?E():g?C():void 0===u?y():I();var S=Math.random().toString(36).substring(2);function F(){}var B=void 0,T=1,N=2;function _(){return new TypeError("You cannot resolve a promise with itself")}function w(){return new TypeError("A promises callback cannot return that same promise.")}function k(e,t,n,i){try{e.call(t,n,i)}catch(r){return r}}function D(e,t,n){c((function(e){var i=!1,r=k(n,t,(function(n){i||(i=!0,t!==n?W(e,n):J(e,n))}),(function(t){i||(i=!0,x(e,t))}),"Settle: "+(e._label||" unknown promise"));!i&&r&&(i=!0,x(e,r))}),e)}function V(e,t){t._state===T?J(e,t._result):t._state===N?x(e,t._result):M(t,void 0,(function(t){return W(e,t)}),(function(t){return x(e,t)}))}function Z(e,t,n){t.constructor===e.constructor&&n===v&&t.constructor.resolve===R?V(e,t):void 0===n?J(e,t):i(n)?D(e,t,n):J(e,t)}function W(t,n){if(t===n)x(t,_());else if(e(n)){var i=void 0;try{i=n.then}catch(r){return void x(t,r)}Z(t,n,i)}else J(t,n)}function O(e){e._onerror&&e._onerror(e._result),L(e)}function J(e,t){e._state===B&&(e._result=t,e._state=T,0!==e._subscribers.length&&c(L,e))}function x(e,t){e._state===B&&(e._state=N,e._result=t,c(O,e))}function M(e,t,n,i){var r=e._subscribers,o=r.length;e._onerror=null,r[o]=t,r[o+T]=n,r[o+N]=i,0===o&&e._state&&c(L,e)}function L(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var i=void 0,r=void 0,o=e._result,a=0;a<t.length;a+=3)i=t[a],r=t[a+n],i?P(n,i,r,o):r(o);e._subscribers.length=0}}function P(e,t,n,r){var o=i(n),a=void 0,s=void 0,c=!0;if(o){try{a=n(r)}catch(l){c=!1,s=l}if(t===a)return void x(t,w())}else a=r;t._state!==B||(o&&c?W(t,a):!1===c?x(t,s):e===T?J(t,a):e===N&&x(t,a))}function G(e,t){try{t((function(t){W(e,t)}),(function(t){x(e,t)}))}catch(n){x(e,n)}}var Y=0;function j(){return Y++}function X(e){e[S]=Y++,e._state=void 0,e._result=void 0,e._subscribers=[]}function K(){return new Error("Array Methods must be provided an Array")}var H=function(){function e(e,t){this._instanceConstructor=e,this.promise=new e(F),this.promise[S]||X(this.promise),r(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?J(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&J(this.promise,this._result))):x(this.promise,K())}return e.prototype._enumerate=function(e){for(var t=0;this._state===B&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,i=n.resolve;if(i===R){var r=void 0,o=void 0,a=!1;try{r=e.then}catch(c){a=!0,o=c}if(r===v&&e._state!==B)this._settledAt(e._state,t,e._result);else if("function"!==typeof r)this._remaining--,this._result[t]=e;else if(n===ne){var s=new n(F);a?x(s,o):Z(s,e,r),this._willSettleAt(s,t)}else this._willSettleAt(new n((function(t){return t(e)})),t)}else this._willSettleAt(i(e),t)},e.prototype._settledAt=function(e,t,n){var i=this.promise;i._state===B&&(this._remaining--,e===N?x(i,n):this._result[t]=n),0===this._remaining&&J(i,this._result)},e.prototype._willSettleAt=function(e,t){var n=this;M(e,void 0,(function(e){return n._settledAt(T,t,e)}),(function(e){return n._settledAt(N,t,e)}))},e}();function z(e){return new H(this,e).promise}function q(e){var t=this;return r(e)?new t((function(n,i){for(var r=e.length,o=0;o<r;o++)t.resolve(e[o]).then(n,i)})):new t((function(e,t){return t(new TypeError("You must pass an array to race."))}))}function $(e){var t=new this(F);return x(t,e),t}function ee(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function te(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var ne=function(){function e(t){this[S]=j(),this._result=this._state=void 0,this._subscribers=[],F!==t&&("function"!==typeof t&&ee(),this instanceof e?G(this,t):te())}return e.prototype.catch=function(e){return this.then(null,e)},e.prototype.finally=function(e){var t=this,n=t.constructor;return i(e)?t.then((function(t){return n.resolve(e()).then((function(){return t}))}),(function(t){return n.resolve(e()).then((function(){throw t}))})):t.then(e,e)},e}();function ie(){var e=void 0;if("undefined"!==typeof(void 0!==typeof window?window:n.g))e=void 0!==typeof window?window:n.g;else if("undefined"!==typeof self)e=self;else try{e=Function("return this")()}catch(r){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var i=null;try{i=Object.prototype.toString.call(t.resolve())}catch(r){}if("[object Promise]"===i&&!t.cast)return}e.Promise=ne}return ne.prototype.then=v,ne.all=z,ne.race=q,ne.resolve=R,ne.reject=$,ne._setScheduler=l,ne._setAsap=d,ne._asap=c,ne.polyfill=ie,ne.Promise=ne,ne}()}).call(this,i(28))},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(458)).default.parse();t.default=r},function(e,t,n){e.exports=n(398)},function(e,t,n){(function(t){function n(e,n,i,r,o,a,s){try{var c=e[a](s),l=c.value}catch(d){return void i(d)}c.done?n(l):t.resolve(l).then(r,o)}e.exports=function(e){return function(){var i=this,r=arguments;return new t((function(t,o){var a=e.apply(i,r);function s(e){n(a,t,o,s,c,"next",e)}function c(e){n(a,t,o,s,c,"throw",e)}s(void 0)}))}}}).call(this,n(2))},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=function(e){const t=new a.default;t.on("newListener",(e=>{t.emit("".concat(e,":added"))})),t.on("removeListener",(e=>{t.emit("".concat(e,":removed"))}));const n={eventsDispatched:{},on(e,n,i){return"string"===typeof e&&n?e.split(" ").forEach((e=>{t.on(e,(0,c.default)(n,i))})):Object.keys(e).forEach((i=>{t.on(i,(0,c.default)(e[i],n))})),this},off(e,n,i){return"string"===typeof e?this.off(e.split(" "),n,i):Array.isArray(e)?e.forEach((e=>{n&&(0,o.default)(n)?t.removeListener(e,(0,c.default)(n,i)):t.removeAllListeners(e)})):e?Object.keys(e).forEach((i=>{t.removeListener(i,(0,c.default)(e[i],n))})):t.removeAllListeners(),this},once(e,n,i){return"string"===typeof e&&n?e.split(" ").forEach((e=>{t.once(e,(0,c.default)(n,i))})):Object.keys(e).forEach((i=>{t.once(i,(0,c.default)(e[i],n))})),this},dispatchEvent(e){if(!e.type)throw new Error("dispatchEvent: Event has no type");return e.target||(e.target=this),this.trigger(e.type,e),this},dispatchEventOnce(e,t){this.isEventDispatched(e.type,t)||(this.dispatchEvent(e),this.eventsDispatched[e.type]?this.eventsDispatched[e.type].push(t):this.eventsDispatched[e.type]=[t])},isEventDispatched(e,t){var n;return null==(n=this.eventsDispatched[e])?void 0:n.includes(t)},trigger(e){try{for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];t.emit(e,...i)}catch(o){l.error("An error occurred in an event handler",o)}return this},emit(){return e.trigger(...arguments)},addEventListener:(t,n,i)=>(l.warn("The addEventListener() method is deprecated. Use on() or once() instead."),e.on(t,n,i)),removeEventListener:(t,n,i)=>(l.warn("The removeEventListener() method is deprecated. Use off() instead."),e.off(t,n,i)),listenerCount:e=>t.listenerCount(e)};return(0,r.default)(e,n)};var r=i(n(9)),o=i(n(17)),a=i(n(14)),s=i(n(1)),c=i(n(405));const l=(0,s.default)("Events")},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(131)),o=i(n(214)),a=i(n(6)),s=i(n(1)),c=i(n(3)),l=i(n(216)),d=i(n(215)),u=i(n(217)),h=i(n(470)),A=i(n(219)),p=i(n(224)),g=i(n(561)),f=i(n(258));o.default.logging=(0,s.default)("OT.$"),o.default.env=c.default,o.default.ElementCollection=d.default,o.default.ajax=u.default,o.default.statable=h.default,o.default.Analytics=A.default,o.default.Collection=p.default,o.default.domExtras=g.default,o.default.Error=f.default,(0,l.default)(o.default,"useLogHelpers",{value(e){const t=(0,s.default)("useLogHelpersDeprecatedMixin");return Object.keys(t).forEach((n=>{e[n]=t[n]})),e},name:"OT.useLogHelpers",getWarning:"Please use an external library for your debugging needs"}),o.default.defaults=r.default,(0,l.default)(o.default,"eventing",{value:a.default,name:"OT.$.eventing",getWarning:"Please use an external library to create an event emitter."}),Object.keys(o.default).forEach((e=>{const t=o.default[e]._attachToOTHelpers||{};Object.keys(t).forEach((n=>{!Object.hasOwnProperty.call(o.default,n)||"util"===e&&"bind"===n||console.warn("More than one module is trying to define ".concat(n," on OTHelpers.")),o.default[n]=t[n]}))}));var m=o.default;t.default=m},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0,t.default={AUTHENTICATION_ERROR:"OT_AUTHENTICATION_ERROR",BADLY_FORMED_RESPONSE:"OT_BADLY_FORMED_RESPONSE",CHROME_MICROPHONE_ACQUISITION_ERROR:"OT_CHROME_MICROPHONE_ACQUISITION_ERROR",CONNECT_FAILED:"OT_CONNECT_FAILED",CONNECTION_LIMIT_EXCEEDED:"OT_CONNECTION_LIMIT_EXCEEDED",CONSTRAINTS_NOT_SATISFIED:"OT_CONSTRAINTS_NOT_SATISFIED",CREATE_PEER_CONNECTION_FAILED:"OT_CREATE_PEER_CONNECTION_FAILED",DISCONNECTED:"OT_DISCONNECTED",EMPTY_RESPONSE_BODY:"OT_EMPTY_RESPONSE_BODY",GET_RTC_STATS_REPORT_NOT_SUPPORTED:"OT_GET_RTC_STATS_REPORT_NOT_SUPPORTED",HARDWARE_UNAVAILABLE:"OT_HARDWARE_UNAVAILABLE",ICE_WORKFLOW_FAILED:"OT_ICE_WORKFLOW_FAILED",INVALID_HTTP_STATUS:"OT_INVALID_HTTP_STATUS",INVALID_PARAMETER:"OT_INVALID_PARAMETER",INVALID_SESSION_ID:"OT_INVALID_SESSION_ID",MEDIA_ERR_ABORTED:"OT_MEDIA_ERR_ABORTED",MEDIA_ERR_DECODE:"OT_MEDIA_ERR_DECODE",MEDIA_ERR_NETWORK:"OT_MEDIA_ERR_NETWORK",MEDIA_ERR_SRC_NOT_SUPPORTED:"OT_MEDIA_ERR_SRC_NOT_SUPPORTED",MEDIA_ENDED:"OT_MEDIA_ENDED",NO_DEVICES_FOUND:"OT_NO_DEVICES_FOUND",NO_VALID_CONSTRAINTS:"OT_NO_VALID_CONSTRAINTS",NOT_CONNECTED:"OT_NOT_CONNECTED",NOT_FOUND:"OT_NOT_FOUND",NOT_SUPPORTED:"OT_NOT_SUPPORTED",PEER_CONNECTION_NOT_CONNECTED:"OT_PEER_CONNECTION_NOT_CONNECTED",PERMISSION_DENIED:"OT_PERMISSION_DENIED",RATE_LIMIT_EXCEEDED:"OT_RATE_LIMIT_EXCEEDED",REPORT_ISSUE_FAILED:"OT_REPORT_ISSUE_FAILED",SCREEN_SHARING_EXTENSION_NOT_INSTALLED:"OT_SCREEN_SHARING_EXTENSION_NOT_INSTALLED",SCREEN_SHARING_EXTENSION_NOT_REGISTERED:"OT_SCREEN_SHARING_EXTENSION_NOT_REGISTERED",SCREEN_SHARING_NOT_SUPPORTED:"OT_SCREEN_SHARING_NOT_SUPPORTED",SET_REMOTE_DESCRIPTION_FAILED:"OT_SET_REMOTE_DESCRIPTION_FAILED",FAILED_SET_CONFIGURATION:"OT_FAILED_SET_CONFIGURATION",SOCKET_ALREADY_CONNECTED_CONNECTING:"OT_SOCKET_ALREADY_CONNECTED_CONNECTING",SOCKET_CLOSE_ABNORMAL:"OT_SOCKET_CLOSE_ABNORMAL",SOCKET_CLOSE_CONNECT_EXCEPTION:"OT_SOCKET_CLOSE_CONNECT_EXCEPTION",SOCKET_CLOSE_CONNECTIVITY_LOSS:"OT_SOCKET_CLOSE_CONNECTIVITY_LOSS",SOCKET_CLOSE_FALLBACK_CODE:"OT_SOCKET_CLOSE_FALLBACK_CODE",SOCKET_CLOSE_INCONSISTENT_DATA:"OT_SOCKET_CLOSE_INCONSISTENT_DATA",SOCKET_CLOSE_NO_STATUS:"OT_SOCKET_CLOSE_NO_STATUS",SOCKET_CLOSE_POLICY_VIOLATION:"OT_SOCKET_CLOSE_POLICY_VIOLATION",SOCKET_CLOSE_GOING_AWAY:"OT_SOCKET_CLOSE_GOING_AWAY",SOCKET_CLOSE_PROTOCOL_ERROR:"OT_SOCKET_CLOSE_PROTOCOL_ERROR",SOCKET_CLOSE_TIMEOUT:"OT_SOCKET_CLOSE_TIMEOUT",SOCKET_CLOSE_TOO_LARGE:"OT_SOCKET_CLOSE_TOO_LARGE",SOCKET_CLOSE_UNEXPECTED_CONDITION:"OT_SOCKET_CLOSE_UNEXPECTED_CONDITION",SOCKET_CLOSE_UNSUPPORTED:"OT_SOCKET_CLOSE_UNSUPPORTED",STREAM_CREATE_FAILED:"OT_STREAM_CREATE_FAILED",STREAM_DESTROYED:"OT_STREAM_DESTROYED",STREAM_LIMIT_EXCEEDED:"OT_STREAM_LIMIT_EXCEEDED",STREAM_NOT_FOUND:"OT_STREAM_NOT_FOUND",UNABLE_TO_SUBSCRIBE:"OT_UNABLE_TO_SUBSCRIBE",TERMS_OF_SERVICE_FAILURE:"OT_TERMS_OF_SERVICE_FAILURE",TIMEOUT:"OT_TIMEOUT",CANCEL:"OT_CANCEL",UNABLE_TO_CAPTURE_MEDIA:"OT_UNABLE_TO_CAPTURE_MEDIA",UNABLE_TO_CAPTURE_SCREEN:"OT_UNABLE_TO_CAPTURE_SCREEN",UNEXPECTED_ERROR_CODE:"OT_UNEXPECTED_ERROR_CODE",UNEXPECTED_HTTP_STATUS:"OT_UNEXPECTED_HTTP_STATUS",UNEXPECTED_SERVER_RESPONSE:"OT_UNEXPECTED_SERVER_RESPONSE",UNKNOWN_HTTP_ERROR:"OT_UNKNOWN_HTTP_ERROR",UNSUPPORTED_BROWSER:"OT_UNSUPPORTED_BROWSER",USER_MEDIA_ACCESS_DENIED:"OT_USER_MEDIA_ACCESS_DENIED",XDOMAIN_OR_PARSING_ERROR:"OT_XDOMAIN_OR_PARSING_ERROR",API_KEY_DISABLED:"OT_API_KEY_DISABLED",UNABLE_TO_ACCESS_MEDIA_ENGINE:"OT_UNABLE_TO_ACCESS_MEDIA_ENGINE",SET_PROXY_URL_TIMING_ERROR:"OT_SET_PROXY_URL_TIMING_ERROR",PROXY_URL_ALREADY_SET_ERROR:"OT_PROXY_URL_ALREADY_SET_ERROR",SET_VIDEO_SOURCE_FAILURE:"OT_SET_VIDEO_SOURCE_FAILURE",INVALID_VIDEO_SOURCE:"OT_INVALID_VIDEO_SOURCE",REQUESTED_DEVICE_PERMISSION_DENIED:"OT_REQUESTED_DEVICE_PERMISSION_DENIED",INVALID_AUDIO_OUTPUT_SOURCE:"OT_INVALID_AUDIO_OUTPUT_SOURCE",INVALID_ENCRYPTION_SECRET:"OT_INVALID_ENCRYPTION_SECRET"}},function(e,t,n){var i=n(84),r=n(45),o=n(196),a=n(26),s=n(68),c=n(33),l=Object.prototype.hasOwnProperty,d=o((function(e,t){if(s(t)||a(t))r(t,c(t),e);else for(var n in t)l.call(t,n)&&i(e,n,t[n])}));e.exports=d},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var i={JS_EXCEPTION:2e3,AUTHENTICATION_ERROR:1004,INVALID_SESSION_ID:1005,CONNECT_FAILED:1006,CONNECT_REJECTED:1007,CONNECTION_TIMEOUT:1008,NOT_CONNECTED:1010,INVALID_PARAMETER:1011,P2P_CONNECTION_FAILED:1013,API_RESPONSE_FAILURE:1014,PEER_CONNECTION_NOT_CONNECTED:1015,TERMS_OF_SERVICE_FAILURE:1026,CONNECTION_LIMIT_EXCEEDED:1027,UNABLE_TO_PUBLISH:1500,UNABLE_TO_SUBSCRIBE:1501,UNSUPPORTED_VIDEO_CODEC:1502,UNABLE_TO_FORCE_DISCONNECT:1520,UNABLE_TO_FORCE_UNPUBLISH:1530,UNABLE_TO_FORCE_MUTE:1540,PUBLISHER_ICE_WORKFLOW_FAILED:1553,SUBSCRIBER_ICE_WORKFLOW_FAILED:1554,STREAM_LIMIT_EXCEEDED:1605,UNEXPECTED_SERVER_RESPONSE:2001,REPORT_ISSUE_ERROR:2011,SET_PROXY_URL_TIMING_ERROR:2021,PROXY_URL_ALREADY_SET_ERROR:2022,GET_RTC_STATS_REPORT_NOT_SUPPORTED:2031,ANVIL_BADLY_FORMED_RESPONSE:3001,ANVIL_INVALID_HTTP_STATUS:3002,ANVIL_XDOMAIN_OR_PARSING_ERROR:3003,ANVIL_UNKNOWN_HTTP_ERROR:3004,ANVIL_UNEXPECTED_ERROR_CODE:3005,ANVIL_EMPTY_RESPONSE_BODY:3006,ANVIL_CONNECT_FAILED:3007,UNABLE_TO_ACCESS_MEDIA_ENGINE:5001};t.default=i},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t){var n=Array.isArray;e.exports=n},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=function(e){void 0===e&&(e={});const t=e.Errors||o.default,n=e.OTErrorClass||r.default,i=Object.keys(t).map((e=>t[e]));return function(e,t,r){if(-1===i.indexOf(e))return new Error("Attempt to use invalid error name (".concat(e,"). Original message: ").concat(t.message));if(!(t instanceof Error||/^\[object .*Error\]$/.test(Object.prototype.toString.call(t))))return new Error("Did not pass Error as second argument: ".concat(t));const o=new n(void 0,t.message);if(o.name=e,!t.stack)try{throw t}catch(a){}return o.stack=t.stack,r&&(o.code=r),o}};var r=i(n(22)),o=i(n(8))},function(e,t,n){"use strict";(function(t){var n,i="object"===typeof Reflect?Reflect:null,r=i&&"function"===typeof i.apply?i.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};n=i&&"function"===typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var o=Number.isNaN||function(e){return e!==e};function a(){a.init.call(this)}e.exports=a,e.exports.once=function(e,n){return new t((function(t,i){function r(t){e.removeListener(n,o),i(t)}function o(){"function"===typeof e.removeListener&&e.removeListener("error",r),t([].slice.call(arguments))}f(e,n,o,{once:!0}),"error"!==n&&function(e,t,n){"function"===typeof e.on&&f(e,"error",t,n)}(e,r,{once:!0})}))},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var s=10;function c(e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function l(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function d(e,t,n,i){var r,o,a,s;if(c(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),a=o[t]),void 0===a)a=o[t]=n,++e._eventsCount;else if("function"===typeof a?a=o[t]=i?[n,a]:[a,n]:i?a.unshift(n):a.push(n),(r=l(e))>0&&a.length>r&&!a.warned){a.warned=!0;var d=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");d.name="MaxListenersExceededWarning",d.emitter=e,d.type=t,d.count=a.length,s=d,console&&console.warn&&console.warn(s)}return e}function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(e,t,n){var i={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},r=u.bind(i);return r.listener=n,i.wrapFn=r,r}function A(e,t,n){var i=e._events;if(void 0===i)return[];var r=i[t];return void 0===r?[]:"function"===typeof r?n?[r.listener||r]:[r]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(r):g(r,r.length)}function p(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"===typeof n)return 1;if(void 0!==n)return n.length}return 0}function g(e,t){for(var n=new Array(t),i=0;i<t;++i)n[i]=e[i];return n}function f(e,t,n,i){if("function"===typeof e.on)i.once?e.once(t,n):e.on(t,n);else{if("function"!==typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function r(o){i.once&&e.removeEventListener(t,r),n(o)}))}}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!==typeof e||e<0||o(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||o(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return l(this)},a.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var c=o[e];if(void 0===c)return!1;if("function"===typeof c)r(c,this,t);else{var l=c.length,d=g(c,l);for(n=0;n<l;++n)r(d[n],this,t)}return!0},a.prototype.addListener=function(e,t){return d(this,e,t,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(e,t){return d(this,e,t,!0)},a.prototype.once=function(e,t){return c(t),this.on(e,h(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){return c(t),this.prependListener(e,h(this,e,t)),this},a.prototype.removeListener=function(e,t){var n,i,r,o,a;if(c(t),void 0===(i=this._events))return this;if(void 0===(n=i[e]))return this;if(n===t||n.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!==typeof n){for(r=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){a=n[o].listener,r=o;break}if(r<0)return this;0===r?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,r),1===n.length&&(i[e]=n[0]),void 0!==i.removeListener&&this.emit("removeListener",e,a||t)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(e){var t,n,i;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var r,o=Object.keys(n);for(i=0;i<o.length;++i)"removeListener"!==(r=o[i])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"===typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(i=t.length-1;i>=0;i--)this.removeListener(e,t[i]);return this},a.prototype.listeners=function(e){return A(this,e,!0)},a.prototype.rawListeners=function(e){return A(this,e,!1)},a.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):p.call(e,t)},a.prototype.listenerCount=p,a.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]}}).call(this,n(2))},function(e,t,n){var i=n(178),r="object"==typeof self&&self&&self.Object===Object&&self,o=i||r||Function("return this")();e.exports=o},function(e,t,n){var i=n(471),r=n(472),o=r;o.v1=i,o.v4=r,e.exports=o},function(e,t,n){var i=n(32),r=n(11);e.exports=function(e){if(!r(e))return!1;var t=i(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t,n){"use strict";var i=n(228),r=Object.prototype.toString;function o(e){return"[object Array]"===r.call(e)}function a(e){return"undefined"===typeof e}function s(e){return null!==e&&"object"===typeof e}function c(e){if("[object Object]"!==r.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function l(e){return"[object Function]"===r.call(e)}function d(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),o(e))for(var n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.call(null,e[r],r,e)}e.exports={isArray:o,isArrayBuffer:function(e){return"[object ArrayBuffer]"===r.call(e)},isBuffer:function(e){return null!==e&&!a(e)&&null!==e.constructor&&!a(e.constructor)&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!==typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"===typeof e},isNumber:function(e){return"number"===typeof e},isObject:s,isPlainObject:c,isUndefined:a,isDate:function(e){return"[object Date]"===r.call(e)},isFile:function(e){return"[object File]"===r.call(e)},isBlob:function(e){return"[object Blob]"===r.call(e)},isFunction:l,isStream:function(e){return s(e)&&l(e.pipe)},isURLSearchParams:function(e){return"undefined"!==typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!==typeof window&&"undefined"!==typeof document},forEach:d,merge:function e(){var t={};function n(n,i){c(t[i])&&c(n)?t[i]=e(t[i],n):c(n)?t[i]=e({},n):o(n)?t[i]=n.slice():t[i]=n}for(var i=0,r=arguments.length;i<r;i++)d(arguments[i],n);return t},extend:function(e,t,n){return d(t,(function(t,r){e[r]=n&&"function"===typeof t?i(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},function(e,t,i){"use strict";(function(e){var r=i(0);t.__esModule=!0,t.default=void 0;var o=r(i(4)),a=r(i(5)),s=r(i(3)),c=r(i(94)),l=r(i(212)),d=r(i(462)),u=r(i(213)),h=function(t){void 0===t&&(t={});const i=t.getNativeEnumerateDevices||(0,l.default)(),r=t.getNativeMediaDevices||(0,d.default)(),h=(t.currentAudioOutputDevice||c.default).getCurrentAudioOutputDeviceId,A=(t.currentAudioInputDevice||u.default).getCurrentAudioInputDevice,p=t.env||s.default,g=t.global||(void 0!==typeof window?window:n.g),f={},m={audio:"audioInput",video:"videoInput",audioinput:"audioInput",videoinput:"videoInput",audiooutput:"audioOutput",audioInput:"audioInput",videoInput:"videoInput",audioOutput:"audioOutput"};return f.getNativeMediaDevices=()=>r(),f.hasEnumerateDevicesCapability=()=>"function"===typeof i(),f.hasDeviceChangeCapability=()=>{const e=r();return!(!e||!("ondevicechange"in e))},f.hasSetSinkIdCapability=()=>"setSinkId"in(null==g?void 0:g.HTMLMediaElement.prototype),f.hasAudioOutputApiSupport=()=>{const e=t.hasSetSinkIdCapability,n=void 0===e?f.hasSetSinkIdCapability:e,i=t.hasDeviceChangeCapability,r=void 0===i?f.hasDeviceChangeCapability:i;return!(null!=p&&p.isFirefox)&&n()&&r()},f.hasEnumerateDevicesBug=()=>p.isSafari&&13.1===p.version,f.getMediaDevices=()=>f.hasEnumerateDevicesCapability()?i()().then((e=>e.map((e=>({deviceId:e.deviceId||e.id,label:e.label,kind:m[e.kind]}))))):e.reject(new Error("This browser does not support enumerateDevices APIs")),f.getInputMediaDevices=()=>f.getMediaDevices().then((e=>e.filter((e=>/^(audio|video)Input$/.test(e.kind))))),f.getAudioOutputMediaDevices=()=>f.getMediaDevices().then((e=>e.filter((e=>"audioOutput"===e.kind)).map((e=>({deviceId:e.deviceId,label:e.label}))))),f.getAudioInputMediaDevices=()=>f.getMediaDevices().then((e=>e.filter((e=>"audioInput"===e.kind)).map((e=>({deviceId:e.deviceId,label:e.label}))))),f.shouldAskForDevices=()=>f.hasEnumerateDevicesCapability()?f.getInputMediaDevices().then((e=>{if(0===e.length)return{video:!0,audio:!0};const t=e.filter((e=>"audioInput"===e.kind)),n=e.filter((e=>"videoInput"===e.kind));return f.hasEnumerateDevicesBug()&&0===n.length?{audio:!0,video:!0}:{video:n.length>0,audio:t.length>0,videoDevices:n,audioDevices:t}})).catch((()=>({video:!0,audio:!0}))):e.resolve({video:!0,audio:!0}),f.getDefaultAudioOutputDeviceId=e=>Array.isArray(e)&&0!==e.length?(e.find((e=>"default"===e.deviceId))||e[0]).deviceId:"",f.getDefaultAudioInputDevice=e=>Array.isArray(e)&&0!==e.length?e.find((e=>"default"===e.deviceId))||e[0]:"",f.hasDevice=(e,t)=>{let n=e;return Array.isArray(n)||(n=[]),n.some((e=>e.deviceId===t))},f.getActiveAudioInputDevice=(0,a.default)(o.default.mark((function e(){var t,n,i;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.getAudioInputMediaDevices();case 2:if(0!==(t=e.sent).length){e.next=5;break}return e.abrupt("return",{deviceId:null,label:null});case 5:return(n=A())||(i=f.getDefaultAudioInputDevice(t),n=t.find((e=>e===i))),e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)}))),f.getActiveAudioOutputDevice=(0,a.default)(o.default.mark((function e(){var t,n,i;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.getAudioOutputMediaDevices();case 3:t=e.sent,e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(0),e.t0;case 9:if(0!==t.length){e.next=11;break}return e.abrupt("return",{deviceId:null,label:null});case 11:return(n=t.find((e=>e.deviceId===h())))||(i=f.getDefaultAudioOutputDeviceId(t),n=t.find((e=>e.deviceId===i))),e.abrupt("return",n);case 14:case"end":return e.stop()}}),e,null,[[0,6]])}))),f};t.default=h}).call(this,i(2))},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(9)),o=i(n(62)),a=i(n(283)),s=i(n(133)),c=i(n(284));function l(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"===typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}const u=(0,i(n(1)).default)("SDPHelpers"),h={getSections:e=>e.split(/\r\n|\r|\n/).reduce(((e,t)=>{const n=t.match(/^m=(\w+) \d+/);return n&&(e.sections[e.section=n[1]]=[]),e.sections[e.section].push(t),e}),{sections:{header:[]},section:"header"}).sections,getCodecsFromSection:e=>({codecs:e[0].match(/m=\w+ \d+ [A-Z/]+ ([\d ]+)$/)[1].split(" "),codecMap:(0,r.default)(...e.filter((e=>e.match(/^a=rtpmap:\d+/))).map((e=>e.match(/^a=rtpmap:(\d+) ([\w-]+)/).splice(1))).map((e=>({[e[0]]:e[1]}))))}),getCodecsAndCodecMap(e,t){const n=h.getSections(e)[t];if(!n)throw new Error("no mediaType ".concat(t));return h.getCodecsFromSection(n)},getCodecs(e,t){const n=h.getCodecsAndCodecMap(e,t);return n.codecs.map((e=>n.codecMap[e]||"Unknown codec"))},mediaDirections:{INACTIVE:"inactive",RECVONLY:"recvonly",SENDONLY:"sendonly",SENDRECV:"sendrecv"},getMLineIndex:function(e,t){const n="m=".concat(t);return(0,a.default)(e,(e=>-1!==e.indexOf(n)))},getMLine:function(e,t){const n=h.getMLineIndex(e,t);return n>-1?e[n]:void 0},hasMediaType:(e,t)=>{const n=new RegExp("^m=".concat(t)),i=e.split("\r\n");return(0,a.default)(i,(e=>n.test(e)))>=0},hasMLinePayloadType:function(e,t,n){const i=h.getMLine(e,t);return h.getMLinePayloadTypes(i,t).indexOf(n)>-1},getMLinePayloadTypes:function(e,t){const n=new RegExp("^m=".concat(t," \\d+(/\\d+)? [a-zA-Z0-9/]+(( [a-zA-Z0-9/]+)+)$"),"i"),i=e.match(n);return!i||i.length<2?[]:i[2].trim().split(" ")},splitSections:function(e){return e.split("\nm=").map(((e,t)=>(t>0?"m="+e:e).trim()+"\r\n"))},getLinesPerSection:e=>h.splitSections(e).map((e=>h.getSDPLines(e))),changeMediaDirection:function(e,t){const n=h.splitSections(e);let i=n.shift();return n.forEach((e=>{const n=e.includes("m=video")?(e=>{const n=t===h.mediaDirections.RECVONLY?"a=inactive":"a=recvonly",i=new RegExp(n,"g");return e.replace(i,"a=".concat(t))})(e):e;i+=n})),i},removeTypesFromMLine:function(e,t){const n=/[0-9 ]*$/.exec(e)[0],i=n.split(" ").filter((e=>""!==e&&-1===t.indexOf(e)));return e.replace(n," ".concat(i.join(" ")))},removeMediaEncoding:function(e,t,n){let i,r,o,a,s=e.split("\r\n");const c=h.getMLineIndex(s,t),l=c>-1?s[c]:void 0,d=[];if(-1===c)return s.join("\r\n");if(i=h.getMLinePayloadTypes(l,t),0===i.length)return s.join("\r\n");for(r=c;r<s.length;r++){const e=new RegExp(n,"i");0===s[r].indexOf("a=rtpmap:")&&(a=s[r].split(" "),2===a.length&&e.test(a[1])&&d.push(a[0].substr(9)))}if(!d.length)return s.join("\r\n");for(r=c;r<s.length;r++)if(0===s[r].indexOf("a=fmtp:"))for(a=s[r].split(" "),o=0;o<d.length;o++)2===a.length&&a[1]==="apt=".concat(d[o])&&d.push(a[0].substr(7));return s=s.filter((e=>{for(let t=0;t<d.length;t++)if(0===e.indexOf("a=rtpmap:".concat(d[t]," "))||0===e.indexOf("a=fmtp:".concat(d[t]," "))||0===e.indexOf("a=rtcp-fb:".concat(d[t]," ")))return!1;return!0})),d.length>0&&c>-1&&(s[c]=h.removeTypesFromMLine(l,d)),s.join("\r\n")},disableMediaType:function(e,t){const n=e.split("\r\n"),i=[];let r;n.forEach((e=>{let t=e;/^m=/.test(t)&&(r=void 0),r||(r=[],i.push(r)),r.push(t)}));const o=new RegExp("^m=".concat(t," \\d+ ([^ ]+) [0-9 ]+$")),a=i.map((e=>{const n=e[0].match(o);return n?["m=".concat(t," 0 ").concat(n[1]," 0"),"a=inactive",...e.filter((e=>/^c=/.test(e)||/^a=mid:/.test(e)||""===e))]:e}));return[].concat(...a).join("\r\n")},removeVideoCodec:function(e,t){return h.removeMediaEncoding(e,"video",t)}},A=function(e,t){let n=t.filterByName("ssrc-group:FID");switch(n=0===n.length?[]:n[0].value.split(" "),n.length){case 0:case 1:var i=t.find((e=>0===e.name.indexOf("rtpmap:")&&e.value.indexOf("rtx/90000")>-1));if(!i)return!1;var r=i.name.split(":")[1];return r.indexOf("/")>-1&&(r=r.split("/")[0]),h.hasMLinePayloadType(e,"video",r);default:return u.debug("SDP Helpers: There are more than two FIDs, RTX is definitely enabled"),!0}};h.getAttributesForMediaType=function(e,t){let n,i,r,a,s,c,l,d,u,p;const g=h.getMLineIndex(e,t),f=new RegExp("m=(?!".concat(t,").+ "),"i"),m=new RegExp("a=ssrc:\\d+ .*","i"),E=new RegExp("a=ssrc-group:(SIM|FID) (\\d+).*?","i"),C=new RegExp("a=([a-z0-9:/-]+) (.*)","i"),I=[];for(let o=g+1;o<e.length;o++){if(f.test(e[o])){void 0!==n&&(i=o-1);break}s=e[o].match(E),c=e[o].match(m),void 0===n&&(s||c)&&(n=o,s&&(a=/^(FID|SIM)$/.test(s[1])?s[2]:s[1])),l=e[o].match("a=ssrc:".concat(a," msid:(.+)")),l&&(d=l[1]);const t=m.test(e[o]),h=E.test(e[o]);void 0!==n&&(void 0!==i||t||h?o===e.length-1&&(i=o):i=o-1);const A=e[o].match(/a=mid:(.+)/);A&&(u=A[1],p=o),r=C.exec(e[o]),r&&3===r.length&&I.push({lineIndex:o,name:r[1],value:r[2]})}return I.ssrcStartIndex=n,I.ssrcEndIndex=i,I.msid=d,I.mid=u,I.midIndex=p,I.isUsingRTX=A.bind(null,e,I),I.filterByName=function(e){return this.filter((t=>t.name===e))},I.getRtpNumber=e=>{const t=new RegExp("rtpmap:(.+)");return(0,o.default)(I.map((n=>{const i=n.name.match(t);return i&&n.value.indexOf(e)>=0?i[1]:null})),(e=>null!==e))},I},h.modifyDtx=(e,t)=>{const n=e.split("\r\n");if(!h.getMLine(n,"audio"))return u.debug("No audio m-line, not enabling dtx."),e;const i=h.getAttributesForMediaType(n,"audio"),r=i.getRtpNumber("opus");if(!r)return u.debug("Could not find rtp number for opus, not enabling dtx."),e;const o=i.find((e=>e.name==="fmtp:".concat(r)));if(!o)return u.debug("Could not find a=fmtp line for opus, not enabling dtx."),e;let a=n[o.lineIndex];const s=/usedtx=\d+([\s;]*)/;return s.test(o.value)?a=a.replace(s,t?"usedtx=1$1":""):t&&(a+="; usedtx=1"),a=a.replace(/[;\s]*$/,""),n[o.lineIndex]=a,n.join("\r\n")};const p=(e,t,n)=>{const i=t.split("\r\n");if(!h.getMLine(i,"audio"))return u.debug("No audio m-line, not enabling stereo."),t;const r=h.getAttributesForMediaType(i,"audio"),o=r.getRtpNumber("opus");if(!o)return u.debug("Could not find rtp number for opus, not enabling stereo."),t;const a=r.find((e=>e.name==="fmtp:".concat(o)));if(!a)return u.debug("Could not find a=fmtp line for opus, not enabling stereo."),t;let s,c=i[a.lineIndex];switch(e){case"send":s=/sprop-stereo=\d+([\s;]*)/,s.test(a.value)?c=c.replace(s,n?"sprop-stereo=1$1":""):n&&(c+="; sprop-stereo=1");break;case"receive":s=/([^-])stereo=\d+([\s;]*)/,s.test(a.value)?c=c.replace(s,n?"$1stereo=1$2":"$1"):n&&(c+="; stereo=1");break;default:throw new Error("Invalid type ".concat(e," passed into enableStereo"))}return c=c.replace(/[;\s]*$/,""),i[a.lineIndex]=c,i.join("\r\n")};h.modifySendStereo=p.bind(null,"send"),h.modifyReceiveStereo=p.bind(null,"receive"),h.setAudioBitrate=(e,t)=>{const n=h.getAudioBitrate(e);if(void 0!==n)return u.debug("Audio bitrate already set to ".concat(n,", not setting audio bitrate")),e;const i=e.split("\r\n");if(!h.getMLine(i,"audio"))return u.debug("No audio m-line, not setting audio bitrate"),e;const r=h.getAttributesForMediaType(i,"audio"),o=r.getRtpNumber("opus");if(!o)return u.debug("Could not find rtp number for opus, not setting audio bitrate."),e;const a=r.find((e=>e.name==="fmtp:".concat(o)));if(!a)return u.debug("Could not find a=fmtp line for opus, not setting audio bitrate."),e;let s=i[a.lineIndex];return s+="; maxaveragebitrate=".concat(t),s=s.replace(/[;\s]*$/,""),i[a.lineIndex]=s,i.join("\r\n")},h.removeVideoOrientation=e=>{let t=e.split("\r\n");return t=t.filter((e=>!e.includes("urn:3gpp:video-orientation"))),t.join("\r\n")},h.hasSendStereo=e=>/[\s;]sprop-stereo=1/.test(e),h.hasSendDtx=e=>/[\s;]usedtx=1/.test(e),h.getAudioBitrate=e=>{const t=e.match(/[\s;]maxaveragebitrate=(\d+)/);if(t)return Number(t[1])},h.MAX_SSRCS=10,h.getSSRCGroupType=e=>["SIM","FID"].find((t=>e.filterByName("ssrc-group:".concat(t))[0])),h.getSSRCGroup=e=>{const t=h.getSSRCGroupType(e);return e.filterByName("ssrc-group:".concat(t))[0]},h.getSSRCGroupSSRCs=e=>{const t=h.getSSRCGroup(e);return t?t.value.split(" ").slice(0,h.MAX_SSRCS):[]},h.getAllowedSSRCs=(e,t)=>{const n=t.slice();return e.filterByName("ssrc-group:FID").forEach((e=>{const t=e.value.split(" ");(0,s.default)(n,t).length&&Array.prototype.push.apply(n,t)})),(0,c.default)(n)},h.filterExcessSSRCs=e=>{const t=e.split("\r\n"),n=h.getAttributesForMediaType(t,"video"),i=h.getSSRCGroupType(n),r=n.ssrcStartIndex;if(void 0===r)return e;let o;const a=e=>{let t=null;return e.match(/^a=ssrc:(\d+)/)&&(t=RegExp.$1),t};if(i){const e=h.getSSRCGroupSSRCs(n),r=["a=ssrc-group:".concat(i),...e].join(" ");t[n.find((e=>e.name.startsWith("ssrc-group:"))).lineIndex]=r,o=h.getAllowedSSRCs(n,e)}else o=[],n.ssrcStartIndex&&o.push(a(t[n.ssrcStartIndex]));return t.filter(((e,t)=>{if(t<r||t>n.ssrcEndIndex)return!0;if(t===r){if(!i){const t=a(e);return t?o.includes(t):!/^a=ssrc:(\d+)/.test(e)}return!0}const s=a(e);if(s)return o.includes(s);if(e.match(/^a=ssrc-group:FID (\d+)/)){const e=RegExp.$1;return o.includes(e)}return!e.match(/^a=ssrc-group:SIM /)})).join("\r\n")},h.enableSimulcast=function(e,t){let n,i;const r=e.split("\r\n");if(!h.getMLine(r,"video"))return u.debug("No video m-line, not enabling simulcast."),e;const o=h.getAttributesForMediaType(r,"video");if(o.filterByName("ssrc-group:SIM").length>0)return u.debug("Simulcast is already enabled in this SDP, not attempting to enable again."),h.filterExcessSSRCs(e);if(!o.msid)return u.debug("No local stream attached, not enabling simulcast."),e;const a=o.isUsingRTX(),s=[],c=[];for(i=0;i<t;++i)s.push(1e4+i),a&&c.push(2e4+i);if(n=["a=ssrc-group:SIM ".concat(s.join(" "))],a)for(i=0;i<t;++i)n.push("a=ssrc-group:FID ".concat(s[i]," ").concat(c[i]));for(i=0;i<t;++i)n.push("a=ssrc:".concat(s[i]," cname:localCname"),"a=ssrc:".concat(s[i]," msid:").concat(o.msid));if(a)for(i=0;i<t;++i)n.push("a=ssrc:".concat(c[i]," cname:localCname"),"a=ssrc:".concat(c[i]," msid:").concat(o.msid));return n.unshift(o.ssrcStartIndex,o.ssrcEndIndex-o.ssrcStartIndex+1),r.splice(...n),r.join("\r\n")},h.reprioritizeVideoCodec=function(e,t,n){const i=e.split("\r\n"),r=h.getMLineIndex(i,"video");if(-1===r)return e;const o=h.getMLinePayloadTypes(i[r],"video"),a=new RegExp("^a=rtpmap:(\\d+).* ".concat(t),"i"),s=i.map((e=>e.match(a))).filter((e=>null!==e));if(0===s.length)return e;const c=s.map((e=>e[1]));let l=o.filter((e=>-1===c.indexOf(e)));"top"===n?l.unshift(...c):"bottom"===n?l.push(...c):(u.error("Unexpected location param: ".concat(n,"; not changing ").concat(t," priority")),l=o);const d=i[r].replace(o.join(" "),l.join(" "));return i[r]=d,i.join("\r\n")},h.getSetupRole=e=>{for(var t,n=l(e.split(/\r\n|\r|\n/));!(t=n()).done;){const e=t.value.match(/^a=setup:(\w+)/);if(e)return e[1]}return""},h.setSetupRole=(e,t)=>e.split(/\r\n|\r|\n/).map((e=>e.match(/^a=setup:(\w+)/)?"a=setup:".concat(t):e)).join("\r\n"),h.changeSetupRole=(e,t,n)=>e.split(/\r\n|\r|\n/).map((e=>e.includes("a=setup:".concat(t))?"a=setup:".concat(n):e)).join("\r\n"),h.patterns={bundle:"a=group:BUNDLE",address:"c=IN IP4",rtcp:"a=rtcp:",direction:["a=inactive","a=sendonly","a=recvonly","a=sendrecv"],rsize:"a=rtcp-rsize",ssrc:"a=ssrc:",msid:"a=msid:"},h.getIndexStartingWith=(e,t,n)=>{const i=e.slice(n),r=t.map((e=>i.findIndex((t=>t.includes(e))))).filter((e=>e>-1));return r.length?n+Math.min(...r):e.length},h.getLastIndexPriorTo=(e,t,n)=>e.slice(0,n).map((e=>e.includes(t))).lastIndexOf(!0),h.includesAny=(e,t)=>{for(let n=0;n<t.length;n++)if(e.includes(t[n]))return!0;return!1},h.isVersionLine=e=>/^o=/.test(e),h.getVersionLine=e=>e.find(h.isVersionLine),h.getVersion=e=>{const t=h.getVersionLine(e);if(void 0===t)return;const n=Number(t.match(/ (\d+) IN /)[1]);return Number.isInteger(n)?n:void 0},h.updateVersion=(e,t,n)=>{const i=[...e],r=i.findIndex((e=>h.isVersionLine(e)));return i[r]=i[r].replace(" ".concat(t," ")," ".concat(n," ")),i},h.isBundleLine=e=>e.includes(h.patterns.bundle),h.getBundleLine=e=>e.find(h.isBundleLine),h.createBundleLine=e=>"".concat(h.patterns.bundle," ").concat(e.join(" ")),h.updateBundleLine=(e,t)=>{const n=[...e],i=h.createBundleLine(t),r=n.findIndex((e=>h.isBundleLine(e)));return n[r]=i,n},h.parseMLine=e=>{const t=e.match(/^(m=(?:audio|video)) (\d+) (.+)/),n=t[1];return{port:t[2],transport:t[3],mediaType:n}},h.disableTrack=e=>{const t=h.parseMLine(e),n=t.mediaType,i=t.transport;return"".concat(n," 0 ").concat(i)},h.setMediaDirection=(e,t)=>{if(!Object.values(h.mediaDirections).includes(t))return e;const n=e.slice(),i=n.findIndex((e=>h.includesAny(e,h.patterns.direction)));return-1===i||(n[i]="a=".concat(t)),n},h.disableTrackSection=e=>{const t=e.mid,n=e.sdp;let i=n.filter((e=>{const t=h.patterns,n=t.address,i=t.rtcp,r=t.rsize,o=t.ssrc,a=t.msid;return!h.includesAny(e,[n,i,r,o,a])}));return i[0]=h.disableTrack(n[0]),i=h.setMediaDirection(i,h.mediaDirections.INACTIVE),{mid:t,sdp:i}},h.isDisabledMediaSection=e=>{let t=e[0];return/^m=(?:video|audio) 0 RTP\/SAVPF 0/.test(t)},h.getDisabledSectionForMid=e=>{const t=e.includes("a");return["m=".concat(t?"audio":"video"," 0 RTP/SAVPF 0")]},h.disableTrackSections=(e,t)=>t.map((t=>{const n=h.getTrackMids(t)[0];return!n||e.includes(n)?t:h.getDisabledSectionForMid(n)})),h.getEnabledTracks=e=>h.getBundleLine(e).match(new RegExp("^".concat(h.patterns.bundle," (.+)$")))[1].split(" "),h.getDisabledTracks=(e,t)=>e.filter((e=>!t.includes(e))),h.getTrackSection=(e,t)=>{const n=e.findIndex((e=>e.includes("a=mid:".concat(t)))),i=t.includes("a")?"audio":"video",r=h.getLastIndexPriorTo(e,"m=".concat(i),n),o=h.getIndexStartingWith(e,["m=audio","m=video"],n),a=e.slice(r,o);return{mid:t,sdp:a}},h.getHeaders=e=>{const t=e.findIndex((e=>e.includes("m=audio")||e.includes("m=video")));return e.slice(0,t)},h.getSDPLines=e=>e.split("\r\n").filter((e=>e)),h.getTrackMids=e=>{const t="a=mid:";return e.filter((e=>e.match(new RegExp("^".concat(t,"\\d+"))))).map((e=>e.substring(6)))},h.getTrackSections=e=>h.getTrackMids(e).map((t=>h.getTrackSection(e,t))),h.parseMantisSDP=e=>{const t=h.changeSetupRole(e,"actpass","passive");return h.parseSDP(t)},h.isMediaSectionDisabled=e=>{const t=h.parseMLine(e[0]).port;return 0===parseInt(t,10)},h.getSectionMid=e=>h.isMediaSectionDisabled(e)?null:h.getTrackMids(e)[0],h.parseSDP=e=>{const t=h.getLinesPerSection(e),n=t[0],i=t.slice(1),r={bundle:h.getBundleLine(n),version:h.getVersion(n),tracks:h.getEnabledTracks(n),mediaSections:i,headers:n};return r.mids=i.map(h.getSectionMid),r},h.createSDP=(e,t)=>{const n=[...e];return t.forEach((e=>n.push(...e))),n.push(""),n.join("\r\n")},h.removePayloadTypeFromSection=(e,t)=>e.filter((e=>!e.includes("a=rtpmap:".concat(t," "))&&!e.includes("a=fmtp:".concat(t," "))&&!e.includes("a=rtcp-fb:".concat(t," ")))),h.getRtxPayloadType=(e,t)=>{const n=e.filter((e=>e.includes("apt=".concat(t))))[0];return null==n?void 0:n.match(/^a=fmtp:(\d+) /)[1]},h.removeRtxPayloadTypeFromSection=(e,t)=>{let n=[...e];const i=h.getRtxPayloadType(n,t);return i&&(n=h.removePayloadTypeFromSection(n,i)),n},h.trimUnusedCodecs=(e,t)=>{const n=e[0].split(" "),i=n.slice(3),r=n.slice(0,3),o=h.getCodecsFromSection(e);let a=[...e],s=[];i.forEach((e=>{const n=o.codecMap[e];if(t.includes(n)){s.push(e);const t=h.getRtxPayloadType(a,e);t&&s.push(t)}else a=h.removePayloadTypeFromSection(a,e),a=h.removeRtxPayloadTypeFromSection(a,e)}));const c=s.length?s:[0];return a[0]=[...r,...c].join(" "),a},h.removeUnusedCodecs=(e,t)=>{if(!t)return e;const n=h.parseSDP(e),i=n.headers,r=n.mediaSections,o=h.parseSDP(t),a=o.mids,s=o.mediaSections,c=r.map((e=>{const t=a.findIndex((t=>t===h.getTrackMids(e)[0]));if(t<0)return e;const n=Object.values(h.getCodecsFromSection(s[t]).codecMap);return h.trimUnusedCodecs(e,n)})),l=[...i];return c.forEach((e=>l.push(...e))),l.push(""),l.join("\r\n")},h.updateSDPWithNewOffer=(e,t)=>{const n=e.headers,i=e.version,r=e.mediaSections,o=h.getSDPLines(t),a=h.getVersion(o),s=h.getEnabledTracks(o),c={version:a,tracks:s,headers:h.updateBundleLine(h.updateVersion(n,i,a),s),mediaSections:h.disableTrackSections(s,r)};return c.mids=c.mediaSections.map(h.getSectionMid),c};var g=h;t.default=g},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(6)),o=i(n(1)),a=i(n(23)),s=i(n(30)),c=i(n(486));const l=(0,o.default)("GlobalExceptionHandler"),d=(0,a.default)(),u=function(e,t){Error.call(this),this.code=e,this.message=t};(u.prototype=Object.create(Error.prototype)).constructor=u,(0,r.default)(u),u.getTitleByCode=function(e){return c.default[+e]},u.handleJsException=e=>{let t=e.error,n=e.errorMsg,i=e.code,r=e.target,o=e.analytics;if(!r)throw new Error("handleJsException requires target");const a=()=>void 0!==i?i:t&&t.code,c=()=>void 0!==n?n:t&&t.message,h=u.getTitleByCode(a());l.error("OT.exception :: title: ".concat(h," (").concat(a(),") msg: ").concat(c()));try{const e={partnerId:r.session?r.session.apiKey:r.apiKey,sessionId:r.session?r.session.sessionId:r.sessionId};o.logError(a(),"tb.exception",h,{details:c()},e);const n=new d.ExceptionEvent(s.default.EXCEPTION,c(),h,a(),r,r,t);if(t)n.stack=t.stack;else try{throw new Error}catch(A){n.stack=A.stack}u.dispatchEvent(n)}catch(p){l.error("OT.exception :: Failed to dispatch exception - ".concat(p.toString()))}};var h=u;t.default=h},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=function(e){void 0===e&&(e={});const t=e.logging||(0,a.default)("Events"),n={ExceptionEvent:function(e,t,n,i,r,o,a){return new s.default(e,!1,{error:a,message:t,title:n,code:i,component:r,target:o})},IssueReportedEvent:function(e,t){return new s.default(e,!1,{issueId:t})},EnvLoadedEvent:function(e){return new s.default(e,!1)}};let i=!1;n.ConnectionEvent=function(e){function n(t,n,i){return e.call(this,t,!1,{connection:n,reason:i})||this}return(0,o.default)(n,e),(0,r.default)(n,[{key:"connections",get:function(){return i||(t.warn("OT.ConnectionEvent connections property is deprecated, use connection instead."),i=!0),[this.connection]}}]),n}(s.default);let l=!1;n.StreamEvent=function(e){function n(t,n,i,r){return e.call(this,t,r,{stream:n,reason:i})||this}return(0,o.default)(n,e),(0,r.default)(n,[{key:"streams",get:function(){return l||(t.warn("OT.StreamEvent streams property is deprecated, use stream instead."),l=!0),[this.stream]}}]),n}(s.default);let d=!1,u=!1,h=!1;return n.SessionConnectEvent=function(e){function n(t){return e.call(this,t,!1)||this}return(0,o.default)(n,e),(0,r.default)(n,[{key:"connections",get:function(){return d||(t.warn("OT.SessionConnectedEvent no longer includes connections. Listen for connectionCreated events instead."),d=!0),[]}},{key:"streams",get:function(){return u||(t.warn("OT.SessionConnectedEvent no longer includes streams. Listen for streamCreated events instead."),u=!0),[]}},{key:"archives",get:function(){return h||(t.warn("OT.SessionConnectedEvent no longer includes archives. Listen for archiveStarted events instead."),h=!0),[]}}]),n}(s.default),n.SessionReconnectingEvent=function(){return new s.default(c.default.SESSION_RECONNECTING,!1)},n.SessionReconnectedEvent=function(){return new s.default(c.default.SESSION_RECONNECTED)},n.SessionDisconnectEvent=function(e,t,n){return new s.default(e,n,{reason:t})},n.StreamPropertyChangedEvent=function(e,t,n,i,r){return new s.default(e,!1,{stream:t,changedProperty:n,oldValue:i,newValue:r})},n.VideoDimensionsChangedEvent=function(e,t,n){return new s.default("videoDimensionsChanged",!1,{target:e,oldValue:t,newValue:n})},n.ArchiveEvent=function(e,t){return new s.default(e,!1,{id:t.id,name:t.name,status:t.status,archive:t})},n.ArchiveUpdatedEvent=function(e,t,n,i){return new s.default("updated",!1,{target:e,changedProperty:t,oldValue:n,newValue:i})},n.SignalEvent=function(e,t,n){return new s.default(e?"signal:".concat(e):c.default.SIGNAL,!1,{data:t,from:n})},n.CaptionReceivedEvent=function(e,t,n){return new s.default("caption",!1,{caption:e,streamId:t,isFinal:n})},n.DownlinkStatsReceivedEvent=function(e,t){return new s.default("downlinkStats",!1,{subscriberId:e,data:t})},n.PublisherCaptionsEnabled=function(e){return new s.default("publisherCaptionsEnabled",!1,{captionsEnabled:e})},n.StreamUpdatedEvent=function(e,t,n,i){return new s.default("updated",!1,{target:e,changedProperty:t,oldValue:n,newValue:i})},n.DestroyedEvent=function(e,t,n){return new s.default(e,!1,{target:t,reason:n})},n.ConnectionStateChangedEvent=function(e,t){return new s.default(e,!1,{target:t})},n.VideoEnabledChangedEvent=function(e,t){return new s.default(e,!1,{reason:t.reason})},n.VideoDisableWarningEvent=function(e){return new s.default(e,!1)},n.AudioLevelUpdatedEvent=function(e){return new s.default(c.default.AUDIO_LEVEL_UPDATED,!1,{audioLevel:e})},n.MediaStoppedEvent=function(e,t){return new s.default(c.default.MEDIA_STOPPED,!0,{target:e,track:t})},n.MuteForcedEvent=function(e){return new s.default(c.default.MUTE_FORCED,!1,e)},n.VideoElementCreatedEvent=function(e){return new s.default(c.default.VIDEO_ELEMENT_CREATED,!1,{element:e})},n};var r=i(n(36)),o=i(n(29)),a=i(n(1)),s=i(n(132)),c=i(n(30))},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(224)),o={publishers:new r.default("guid"),subscribers:new r.default("widgetId"),sessions:new r.default};t.default=o},function(e,t,n){"use strict";t.__esModule=!0,t.MEDIUM=t.LOW=t.CongestionLevels=t.CRITICAL=void 0,t.CRITICAL=2,t.MEDIUM=1,t.LOW=0;const i={CRITICAL:2,MEDIUM:1,LOW:0};t.CongestionLevels=i},function(e,t,n){var i=n(17),r=n(115);e.exports=function(e){return null!=e&&r(e.length)&&!i(e)}},function(e,t,i){"use strict";var r=i(0);t.__esModule=!0,t.default=void 0;var o=r(i(4)),a=r(i(5)),s=r(i(36)),c=r(i(6)),l=r(i(225)),d=r(i(219)),u=r(i(136)),h=r(i(38)),A=r(i(555)),p=r(i(557)),g=r(i(560));const f=(0,h.default)();let m=function(){function e(e){let t=void 0===e?{}:e,n=t.staticConfig,i=void 0===n?f.onlyLocal():n,r=t.sessionInfo,o=void 0===r?new u.default:r,a=t.ajax,s=t.queue,c=t.getUserAgentClientHintData,l=void 0===c?g.default:c,d=t.userAgentData,h=void 0===d?"undefined"!==typeof navigator&&navigator.userAgentData:d;this.getTurnServerName=e=>{let t,n;return e&&"object"===typeof e?((Array.isArray(e)?e:[e]).forEach((e=>{const i=e.urls||e.url;(Array.isArray(i)?i:[i]).forEach((e=>{const i=e.indexOf(":")+1,r=e.lastIndexOf(":");e.includes("turns")?n=e.substring(i,r):t=e.substring(i,r)}))})),n||t):t},this.ajax=a,this.queue=s,this.sessionInfo=o,this.getUserAgentClientHintData=l,this.userAgentData=h,this.staticConfig=i}var t=e.prototype;return t._getCachedUserAgentData=function(){var e=(0,a.default)(o.default.mark((function e(){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.cachedUserAgentData){e.next=4;break}return e.next=3,this.getUserAgentClientHintData(this.userAgentData);case 3:this.cachedUserAgentData=e.sent;case 4:return e.abrupt("return",this.cachedUserAgentData);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.commonQoSFields=function(){const e=this._analytics.proxyUrl,t=this.sessionInfo.messagingURL;return{clientVersion:this.staticConfig.clientVersion,buildHash:this.staticConfig.buildHash,source:(void 0!==typeof window?window:n.g).location&&(void 0!==typeof window?window:n.g).location.href,logVersion:"2",apiServer:this.staticConfig.apiUrl,clientSystemTime:(new Date).getTime(),sessionId:this.sessionInfo.sessionId,mediaServerName:this.sessionInfo.mediaServerName,relayServer:this.getTurnServerName(this.sessionInfo.iceServers),p2p:this.sessionInfo.p2pEnabled,messagingServer:this.sessionInfo.messagingServer,messagingUrl:(0,A.default)(e,t),version:this.staticConfig.version,partnerId:this.sessionInfo.partnerId}},t._getCommonDataFields=function(){var e=(0,a.default)(o.default.mark((function e(){var t,n;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.default.getAsync();case 2:return t=e.sent,e.next=5,this._getCachedUserAgentData();case 5:return n=e.sent,e.abrupt("return",Object.assign({guid:t},this.commonQoSFields(),n));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.logError=function(t,n,i,r,o){void 0===o&&(o={}),this._getCommonDataFields().then((a=>{const s=[t,n,i,r,Object.assign({},a,o)];e.emit("logError",...s),this._analytics.logError(...s)}))},t.logEvent=function(t,n,i){void 0===t&&(t={}),this._getCommonDataFields().then((r=>{const o=Object.assign({},r,t);e.emit("logEvent",o),this._analytics.logEvent(o,!1,n,i)}))},t.logQOS=function(t){void 0===t&&(t={}),this._getCommonDataFields().then((n=>{const i=Object.assign({duration:0},n,t);(0,p.default)(i),e.emit("logQOS",i),this._analytics.logQOS(i)}))},(0,s.default)(e,[{key:"staticConfig",get:function(){return this._staticConfig},set:function(e){this._staticConfig=e,this._analytics=new d.default({loggingUrl:this.staticConfig.loggingUrl,ajax:this.ajax,queue:this.queue})}}]),e}();t.default=m,(0,c.default)(m),e.exports=m},function(e,t){var n,i,r=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:o}catch(e){n=o}try{i="function"===typeof clearTimeout?clearTimeout:a}catch(e){i=a}}();var c,l=[],d=!1,u=-1;function h(){d&&c&&(d=!1,c.length?l=c.concat(l):u=-1,l.length&&A())}function A(){if(!d){var e=s(h);d=!0;for(var t=l.length;t;){for(c=l,l=[];++u<t;)c&&c[u].run();u=-1,t=l.length}c=null,d=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{return i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function g(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new p(e,t)),1!==l.length||d||s(A)},p.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=g,r.addListener=g,r.once=g,r.off=g,r.removeListener=g,r.removeAllListeners=g,r.emit=g,r.prependListener=g,r.prependOnceListener=g,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(e,t){e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0,t.default={ACTIVE:"active",INACTIVE:"inactive",UNKNOWN:"unknown",PER_SESSION:"perSession",PER_STREAM:"perStream",EXCEPTION:"exception",ISSUE_REPORTED:"issueReported",SESSION_CONNECTED:"sessionConnected",SESSION_RECONNECTING:"sessionReconnecting",SESSION_RECONNECTED:"sessionReconnected",SESSION_DISCONNECTED:"sessionDisconnected",STREAM_CREATED:"streamCreated",STREAM_DESTROYED:"streamDestroyed",CONNECTION_CREATED:"connectionCreated",CONNECTION_DESTROYED:"connectionDestroyed",SIGNAL:"signal",STREAM_PROPERTY_CHANGED:"streamPropertyChanged",MICROPHONE_LEVEL_CHANGED:"microphoneLevelChanged",RESIZE:"resize",SETTINGS_BUTTON_CLICK:"settingsButtonClick",DEVICE_INACTIVE:"deviceInactive",INVALID_DEVICE_NAME:"invalidDeviceName",ACCESS_ALLOWED:"accessAllowed",ACCESS_DENIED:"accessDenied",ACCESS_DIALOG_OPENED:"accessDialogOpened",ACCESS_DIALOG_CLOSED:"accessDialogClosed",ECHO_CANCELLATION_MODE_CHANGED:"echoCancellationModeChanged",MEDIA_STOPPED:"mediaStopped",PUBLISHER_DESTROYED:"destroyed",MUTE_FORCED:"muteForced",SUBSCRIBER_DESTROYED:"destroyed",SUBSCRIBER_CONNECTED:"connected",SUBSCRIBER_DISCONNECTED:"disconnected",SUBSCRIBER_CAPTION_RECEIVED:"captionReceived",SUBSCRIBER_DOWNLINK_STATS_RECEIVED:"downlinkStatsReceived",DEVICES_DETECTED:"devicesDetected",DEVICES_SELECTED:"devicesSelected",CLOSE_BUTTON_CLICK:"closeButtonClick",MICLEVEL:"microphoneActivityLevel",MICGAINCHANGED:"microphoneGainChanged",ENV_LOADED:"envLoaded",ENV_UNLOADED:"envUnloaded",AUDIO_LEVEL_UPDATED:"audioLevelUpdated",VIDEO_ELEMENT_CREATED:"videoElementCreated"}},function(e,t,n){"use strict";var i=!0,r=!0;function o(e,t,n){var i=e.match(t);return i&&i.length>=n&&parseInt(i[n],10)}e.exports={extractVersion:o,wrapPeerConnectionEvent:function(e,t,n){if(e.RTCPeerConnection){var i=e.RTCPeerConnection.prototype,r=i.addEventListener;i.addEventListener=function(e,i){if(e!==t)return r.apply(this,arguments);var o=function(e){var t=n(e);t&&i(t)};return this._eventMap=this._eventMap||{},this._eventMap[i]=o,r.apply(this,[e,o])};var o=i.removeEventListener;i.removeEventListener=function(e,n){if(e!==t||!this._eventMap||!this._eventMap[n])return o.apply(this,arguments);var i=this._eventMap[n];return delete this._eventMap[n],o.apply(this,[e,i])},Object.defineProperty(i,"on"+t,{get:function(){return this["_on"+t]},set:function(e){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),e&&this.addEventListener(t,this["_on"+t]=e)},enumerable:!0,configurable:!0})}},disableLog:function(e){return"boolean"!==typeof e?new Error("Argument type: "+typeof e+". Please use a boolean."):(i=e,e?"adapter.js logging disabled":"adapter.js logging enabled")},disableWarnings:function(e){return"boolean"!==typeof e?new Error("Argument type: "+typeof e+". Please use a boolean."):(r=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))},log:function(){if("object"===typeof window){if(i)return;"undefined"!==typeof console&&"function"===typeof console.log&&console.log.apply(console,arguments)}},deprecated:function(e,t){r&&console.warn(e+" is deprecated, please use "+t+" instead.")},detectBrowser:function(e){var t=e&&e.navigator,n={browser:null,version:null};if("undefined"===typeof e||!e.navigator)return n.browser="Not a browser.",n;if(t.mozGetUserMedia)n.browser="firefox",n.version=o(t.userAgent,/Firefox\/(\d+)\./,1);else if(t.webkitGetUserMedia)n.browser="chrome",n.version=o(t.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(t.mediaDevices&&t.userAgent.match(/Edge\/(\d+).(\d+)$/))n.browser="edge",n.version=o(t.userAgent,/Edge\/(\d+).(\d+)$/,2);else{if(!e.RTCPeerConnection||!t.userAgent.match(/AppleWebKit\/(\d+)\./))return n.browser="Not a supported browser.",n;n.browser="safari",n.version=o(t.userAgent,/AppleWebKit\/(\d+)\./,1)}return n}}},function(e,t,n){var i=n(44),r=n(359),o=n(360),a=i?i.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?r(e):o(e)}},function(e,t,n){var i=n(182),r=n(117),o=n(26);e.exports=function(e){return o(e)?i(e):r(e)}},function(e,t,n){"use strict";var i=n(47);e.exports=function(e){if(!i(e))throw new TypeError("Cannot use null or undefined");return e}},function(e,t,n){"use strict";var i=n(56),r=n(204),o=n(128),a=n(205),s=n(206),c=e.exports=function(e,t){var n,r,c,l,d;return arguments.length<2||"string"!==typeof e?(l=t,t=e,e=null):l=arguments[2],i(e)?(n=s.call(e,"c"),r=s.call(e,"e"),c=s.call(e,"w")):(n=c=!0,r=!1),d={value:t,configurable:n,enumerable:r,writable:c},l?o(a(l),d):d};c.gs=function(e,t,n){var c,l,d,u;return"string"!==typeof e?(d=n,n=t,t=e,e=null):d=arguments[3],i(t)?r(t)?i(n)?r(n)||(d=n,n=void 0):n=void 0:(d=t,t=n=void 0):t=void 0,i(e)?(c=s.call(e,"c"),l=s.call(e,"e")):(c=!0,l=!1),u={get:t,set:n,configurable:c,enumerable:l},d?o(a(d),u):u}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}e.exports=function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}},function(e,t){e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length,r=Array(i);++n<i;)r[n]=t(e[n],n,e);return r}},function(e,t,i){"use strict";(function(e){var r=i(0);t.__esModule=!0,t.default=void 0;var o=r(i(36)),a=r(i(227)),s=r(i(507)),c=r(i(551)),l=r(i(58)),d=r(i(1)),u=r(i(96));const h=(0,d.default)("StaticConfig"),A=(0,l.default)({version:"v2.27.0",buildHash:"ae5c6ea32",minimumVersion:{firefox:52,chrome:49},debug:!1,websiteURL:"http://www.tokbox.com",configURL:"https://config.opentok.com",ipWhitelistConfigURL:"",cdnURL:"https://static.opentok.com",loggingURL:"https://hlg.tokbox.com/prod",apiURL:"https://anvil.opentok.com"}),p=(0,c.default)(["apiURL","assetURL","cdnURL","sessionInfoOverrides","loggingURL"]),g={apiUrl:"apiURL",loggingUrl:"loggingURL"},f=(0,s.default)((e=>g[e]));var m=function(t){let i=(void 0===t?{}:t).axios,r=void 0===i?a.default:i;return function(){function t(e){Object.defineProperty(this,"config",{value:Object.freeze((0,l.default)(e))})}return t.onlyLocal=function(){const e=(0,l.default)((void 0!==typeof window?window:n.g).OTProperties);return new t(Object.assign({},A,p(e)))},t.get=function(i){let o=i.partnerId,a=i.token,s=i.useIpWhitelistConfigUrl,c=i.proxyUrl;return(()=>{const t=this.onlyLocal();if(!t.configUrl)return e.resolve({});if(!0===s&&!t.ipWhitelistConfigUrl)return e.resolve({});let n=!0===s?t.ipWhitelistConfigUrl:t.configUrl;return n=(0,u.default)(n,c),r.get("".concat(n,"/project/").concat(o,"/config.json"),{headers:{"X-TB-TOKEN-AUTH":a}}).then((e=>e.data))})().catch((e=>(h.error("could not reach live config service",e),{}))).then((e=>{const i=(0,l.default)((void 0!==typeof window?window:n.g).OTProperties);return new t(Object.assign({},A,p(i),f(e)))}))},(0,o.default)(t,[{key:"configUrl",get:function(){return this.config.configURL}},{key:"ipWhitelistConfigUrl",get:function(){return this.config.ipWhitelistConfigURL}},{key:"apiUrl",get:function(){return this.config.apiURL}},{key:"loggingUrl",get:function(){return this.config.loggingURL}},{key:"apiEnabled",get:function(){return"undefined"===typeof this.config.apiEnabled||this.config.apiEnabled}},{key:"version",get:function(){return this.config.version}},{key:"clientVersion",get:function(){return"js-".concat((this.version||"unknown").replace("v",""))}},{key:"buildHash",get:function(){return this.config.buildHash}},{key:"minimumVersion",get:function(){return this.config.minimumVersion}},{key:"websiteUrl",get:function(){return this.config.websiteURL}},{key:"debug",get:function(){return"true"===this.config.debug||!0===this.config.debug}},{key:"sessionInfoOverrides",get:function(){return this.config.sessionInfoOverrides}},{key:"cdnUrl",get:function(){return this.config.cdnURL||"".concat((void 0!==typeof window?window:n.g).location.protocol,"//").concat((void 0!==typeof window?window:n.g).location.host)}},{key:"assetUrl",get:function(){return this.config.assetURL||"".concat(this.cdnUrl,"/webrtc/").concat(this.version)}}]),t}()};t.default=m}).call(this,i(2))},function(e,t,n){var i=n(533),r=n(539),o=n(89),a=n(12),s=n(542);e.exports=function(e){return"function"==typeof e?e:null==e?o:"object"==typeof e?a(e)?r(e[0],e[1]):i(e):s(e)}},function(e,t,n){var i=n(552),r=n(146)((function(e,t){return null==e?{}:i(e,t)}));e.exports=r},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=function(e,t){let n;const i=t||{};e.setDisplayMode=function(e){const t=e||"auto";n!==t&&(r.default.removeClass(this.domElement,"OT_mode-".concat(n)),r.default.addClass(this.domElement,"OT_mode-".concat(t)),n=t)},e.getDisplayMode=function(){return n},e.showAfterLoading=function(){r.default.removeClass(this.domElement,"OT_hide-forced")},e.hideWhileLoading=function(){r.default.addClass(this.domElement,"OT_hide-forced")},e.destroy=function(){return i.onDestroy&&i.onDestroy(this.domElement),this.domElement&&r.default.removeElement(this.domElement),e},e.appendTo=function(t){return this.domElement=r.default.createElement(i.nodeName||"div",i.htmlAttributes,i.htmlContent),i.onCreate&&i.onCreate(this.domElement),e.setDisplayMode(i.mode),"auto"===i.mode&&(r.default.addClass(e.domElement,"OT_mode-on-hold"),setTimeout((()=>{r.default.removeClass(e.domElement,"OT_mode-on-hold")}),2e3)),t.appendChild(this.domElement),e}};var r=i(n(7))},function(e,t,n){var i=n(78);e.exports=function(e){return i(e,4)}},function(e,t,n){var i=n(358),r=n(363);e.exports=function(e,t){var n=r(e,t);return i(n)?n:void 0}},function(e,t,n){var i=n(15).Symbol;e.exports=i},function(e,t,n){var i=n(84),r=n(63);e.exports=function(e,t,n,o){var a=!n;n||(n={});for(var s=-1,c=t.length;++s<c;){var l=t[s],d=o?o(n[l],e[l],l,n,e):void 0;void 0===d&&(d=e[l]),a?r(n,l,d):i(n,l,d)}return n}},function(e,t,n){var i=n(387),r=n(112),o=n(388),a=n(190),s=n(191),c=n(32),l=n(179),d="[object Map]",u="[object Promise]",h="[object Set]",A="[object WeakMap]",p="[object DataView]",g=l(i),f=l(r),m=l(o),E=l(a),C=l(s),I=c;(i&&I(new i(new ArrayBuffer(1)))!=p||r&&I(new r)!=d||o&&I(o.resolve())!=u||a&&I(new a)!=h||s&&I(new s)!=A)&&(I=function(e){var t=c(e),n="[object Object]"==t?e.constructor:void 0,i=n?l(n):"";if(i)switch(i){case g:return p;case f:return d;case m:return u;case E:return h;case C:return A}return t}),e.exports=I},function(e,t,n){"use strict";var i=n(408)();e.exports=function(e){return e!==i&&null!==e}},function(e,t,n){"use strict";e.exports=n(422)()?n(92).Symbol:n(425)},function(e,t,n){var i=n(71);e.exports=function(e){if("string"==typeof e||i(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(){return i.now?i.timing.navigationStart+i.now():Date.now()};const i=(void 0!==typeof window?window:n.g).performance||{}},function(e,t,n){var i=n(593);e.exports=function(e){return i(2,e)}},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(51)),o=i(n(1)),a=i(n(601)),s=i(n(38)),c=i(n(3)),l=i(n(602));const d=(0,s.default)(),u=function(e){void 0===e&&(e={});const t=e.env||c.default,n=e.hasGetUserMediaCapability||a.default,i=e.hasPeerConnectionCapability||l.default,r=e.logging||(0,o.default)("hasOpenTokSupport"),s=((e.staticConfig||d.onlyLocal()).minimumVersion||{})[t.name.toLowerCase()];return s&&s>t.version?(r.debug("Support for",t.name,"is disabled because we require",s,"but this is",t.version),!1):"Node"===t.name||n()&&i()},h=(0,r.default)((()=>u()));var A={check:u,once:h};t.default=A},function(e,t){e.exports=function(e,t){return e===t||e!==e&&t!==t}},function(e,t,n){var i=n(182),r=n(382),o=n(26);e.exports=function(e){return o(e)?i(e,!0):r(e)}},function(e,t){e.exports=function(e,t){var n=-1,i=e.length;for(t||(t=Array(i));++n<i;)t[n]=e[n];return t}},function(e,t,n){"use strict";e.exports=function(e){return void 0!==e&&null!==e}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){const t=[];return{on(n,i){for(var r=arguments.length,o=new Array(r>2?r-2:0),a=2;a<r;a++)o[a-2]=arguments[a];if(t.push({eventName:n,handler:i,args:o}),e.on)e.on(n,i);else{if(!e.addEventListener)throw new Error("Object does not support events",e);e.addEventListener(n,i,...o)}},off(t,n){if(e.off)e.off(t,n);else{if(!e.removeEventListener)throw new Error("Object does not support events",e);for(var i=arguments.length,r=new Array(i>2?i-2:0),o=2;o<i;o++)r[o-2]=arguments[o];e.removeEventListener(t,n,...r)}},once(n,i){for(var r=arguments.length,o=new Array(r>2?r-2:0),a=2;a<r;a++)o[a-2]=arguments[a];t.push({eventName:n,handler:i,args:o}),e.once(n,i)},removeAll(){t.forEach((e=>{let t=e.eventName,n=e.handler,i=e.args;this.off(t,n,...i)})),t.splice(0,t.length)}}}},function(e,t,n){var i=n(78);e.exports=function(e){return i(e,5)}},function(e,t,n){var i=n(101);e.exports=function(e,t,n){var r=null==e?void 0:i(e,t);return void 0===r?n:r}},function(e,t,n){var i=n(12),r=n(137),o=n(226),a=n(61);e.exports=function(e,t){return i(e)?e:r(e,t)?[e]:o(a(e))}},function(e,t,n){var i=n(488);e.exports=function(e){return null==e?"":i(e)}},function(e,t,n){var i=n(617)(n(283));e.exports=i},function(e,t,n){var i=n(180);e.exports=function(e,t,n){"__proto__"==t&&i?i(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},function(e,t,n){var i=n(377),r=n(18),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,c=i(function(){return arguments}())?i:function(e){return r(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=c},function(e,t,n){(function(e){var i=n(15),r=n(378),o=t&&!t.nodeType&&t,a=o&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===o?i.Buffer:void 0,c=(s?s.isBuffer:void 0)||r;e.exports=c}).call(this,n(85)(e))},function(e,t){var n=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var i=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==i||"symbol"!=i&&n.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},function(e,t,n){"use strict";e.exports=function(e){if("function"!==typeof e)throw new TypeError(e+" is not a function");return e}},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r,o=i(n(7));let a;if("Node"===(null==o.default||null==(r=o.default.env)?void 0:r.name))a="";else{var s,c;const e=null==(s=Array.prototype.slice.call(document.getElementsByTagName("script")))||null==(c=s.pop())?void 0:c.getAttribute("src");a=(e&&e.match(/[?&]apikey=([^&]+)/i)||[])[1]||""}var l={value:a};t.default=l},function(e,t,n){var i=n(32),r=n(18);e.exports=function(e){return"symbol"==typeof e||r(e)&&"[object Symbol]"==i(e)}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t,i){void 0===i&&(i=1/0);let r=null,o=!1,a=1;const s=1e3/t,c=()=>{!o||a>i||(a+=1,e(),r=setTimeout(c,s))};this.start=()=>{o||(o=!0,setTimeout(c,s))},this.stop=()=>{(void 0!==typeof window?window:n.g).clearTimeout(r),o=!1}}},function(e,t,i){"use strict";(function(e){var r=i(0);t.__esModule=!0,t.default=function(t){void 0===t&&(t={});const i=t.hasValidPeerConnection||b.default,r=t.applySdpTransform||v.default,M=t.createPeerConnection||R.default,L=t.env||f.default,P=t.sdpTransformDefaults||S.default,G=t.getStatsAdapter||F.default,Y=t.getRtcStatsReportAdapter||B.default,j=t.getSynchronizationSources||T.default,X=t.IceCandidateProcessor||N.default,K=t.logging||g.default,H=t.offerProcessor||_.default,z=t.PeerConnectionChannels||w.default,q=t.subscribeProcessor||k.default,$=D.default,ee=t.changeMediaDirection||V.default,te=ee.changeMediaDirectionToInactive,ne=ee.changeMediaDirectionToRecvOnly,ie=t.Qos||Z.default,re=t.global||(void 0!==typeof window?window:n.g),oe=t.debounce||u.default,ae=t.needsToSwapH264Profiles||W.default.once,se=t.NativeRTCIceCandidate||re.RTCIceCandidate,ce=t.NativeRTCSessionDescription||re.RTCSessionDescription,le=t.Errors||O.default,de=t.OTErrorClass||E.default,ue=t.ExceptionCodes||m.default,he=t.hasPictureInPictureBug||J.default,Ae=()=>{};return function(t){void 0===t&&(t={});let n=!1;const u=t,g=u.iceConfig,f=void 0===g?{servers:[]}:g,m=u.sendMessage,E=u.isPublisher,b=u.offerOverrides,v=u.answerOverrides,R=u.p2p,S=u.codecFlags,F=u.sourceStreamId,B=u.keyStore,T=u.sFrameClientStore,N=u.isE2ee,_=u.removeUnusedCodecs,w=u.sessionId;let k,D=t,V=D.logAnalyticsEvent,Z=void 0===V?Ae:V,W=D.remoteConnectionId,O=!1;const J=ae();let ee,pe,ge,fe,me=0,Ee=!1;const Ce=new $(Z),Ie=(0,I.default)();function Qe(e,t){if(!n&&["candidate","offer","answer","pranswer"].indexOf(e)>-1){const i="candidate"===e?t.candidate:t.sdp;n=-1!==i.indexOf("typ relay")}m(e,t)}const Ue=(0,x.default)();Z("createPeerConnection","Attempt");const ye={};ye.id=(0,A.default)();const be=K("PeerConnection:".concat(ye.id));be.debug("construct",{id:ye.id,options:t});const ve=P,Re=(0,h.default)(t,["isPublisher","logAnalyticsEvent","offerOverrides","answerOverrides","sendMessage"]);let Se,Fe,Be,Te,Ne,_e=[];const we=(()=>{let e=Re.overrideSimulcastEnabled||!1;return{get:()=>e,set(t){const n=Boolean(t)&&Re.capableSimulcastStreams>1;n!==e&&void 0===Re.overrideSimulcastEnabled&&(e=n,ye.generateOfferAndSend())}}})(),ke=(()=>{let e=!1;return{get:()=>e,set(t){const n=Boolean(t);n!==e&&(e=n,e&&(ye.iceConnectionStateIsConnected()?be.debug("iceRestart is going to wait until we disconnect or negotiationNeeded and then restart ice"):ye.generateOfferAndSend()))}}})(),De={clean(){delete this.promise,delete this.resolve,delete this.reject}};De.promise=new e(((e,t)=>{De.resolve=e,De.reject=t}));let Ve=new X,Ze="new";Object.defineProperty(ye,"signalingState",{get:()=>Se.signalingState,set:e=>(Se.signalingState=e,e)}),(0,p.default)(ye),ye.addOptions=e=>{W=e.remoteConnectionId,Z=e.logAnalyticsEvent},ye.startEncryption=function(){var e=(0,a.default)(o.default.mark((function e(t){var n;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(N){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,(0,y.default)({sessionId:w,connectionId:t});case 4:return ge=e.sent,e.next=7,T.createSender(ge);case 7:return pe=e.sent,e.next=10,B.get();case 10:return n=e.sent,e.next=13,pe.setSenderEncryptionKey(n);case 13:fe=e=>{pe.setSenderEncryptionKey(e)},B.on("keyChanged",fe),Se.getTransceivers().forEach(function(){var e=(0,a.default)(o.default.mark((function e(t){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pe.encrypt(ge,t.sender);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ye.once("iceConnected",(0,a.default)(o.default.mark((function e(){var t;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t={pcc:parseInt((0,x.default)()-Ue,10),hasRelayCandidates:n,proxyInfo:""},Se&&Se.proxyInfo&&(t.proxyInfo=Se.proxyInfo),Z("createPeerConnection","Success",t);case 4:case"end":return e.stop()}}),e)})))),T&&ye.on("iceConnected",(()=>{Se.getReceivers().forEach(function(){var e=(0,a.default)(o.default.mark((function e(t){var n;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee;case 2:return n=e.sent,e.next=5,null==n?void 0:n.decrypt(ge,t);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})),De.resolve();const We=function(){var t=(0,a.default)(o.default.mark((function t(){return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return ee=new e(function(){var e=(0,a.default)(o.default.mark((function e(t){var n,i;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.get();case 2:return n=e.sent,e.next=5,(0,y.default)({sessionId:w,connectionId:W});case 5:if(ge=e.sent,i=T.getReceiver(ge)){e.next=12;break}return e.next=10,T.createReceiver(ge);case 10:(i=e.sent).addReceiver(ge);case 12:i.setReceiverEncryptionKey(ge,n),B.on("keyChanged",(e=>{i.setReceiverEncryptionKey(ge,e)})),i.addEventListener("decryptFailed",(()=>{ye.trigger("decryptFailed")})),i.addEventListener("decryptionRestored",(()=>{ye.trigger("decryptRestored")})),t(i);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t.abrupt("return",ee);case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),Oe=e=>{if(be.debug("internalCreatePeerConnection: called"),Se)return be.debug("internalCreatePeerConnection: resolving synchronously"),void e.call(null,null,Se);if(_e.push(e),!(_e.length>1)){if(be.debug('Creating peer connection config "'.concat(JSON.stringify(Re),'".')),0===f.servers.length&&(be.error("No ice servers present"),Z("Error","noIceServers")),"relay"===f.transportPolicy){const e=e=>e&&0===e.indexOf("turn");f.servers=f.servers.map((t=>{const n=(0,l.default)(t);return Array.isArray(n.urls)||(n.urls=[n.urls]),n.urls=n.urls.filter(e),0===n.urls.length?void 0:n})).filter((e=>void 0!==e))}Re.iceTransportPolicy=f.transportPolicy,Re.iceServers=f.servers,N&&(Re.forceEncodedVideoInsertableStreams=!0,Re.forceEncodedAudioInsertableStreams=!0,Re.encodedInsertableStreams=!0),i(re.RTCPeerConnection).then((e=>{if(!e)throw be.error("createPeerConnection: Invalid RTCPeerConnection object"),new Error("Failed to create valid RTCPeerConnection object");return M({window:re,config:Re})})).then(function(){var e=(0,a.default)(o.default.mark((function e(t){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(E||!N){e.next=3;break}return e.next=3,We();case 3:Je(null,t);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(e=>Je(e)))}},Je=(e,t)=>{if(e)return Xe({reason:"Failed to create PeerConnection, exception: ".concat(e),prefix:"NewPeerConnection"}),void(_e=[]);be.debug("OT attachEventsToPeerConnection"),Se=t,Ve&&Ve.setPeerConnection(t),Fe=new z(Se),Re.channels&&Fe.addMany(Re.channels);const n=(e=>{let t=e.sendMessage,n=e.logging;const i={};return e=>{e.candidate?(i[e.candidate.sdpMid]=e.candidate.sdpMLineIndex,t("candidate",{candidate:e.candidate.candidate,sdpMid:e.candidate.sdpMid||"",sdpMLineIndex:e.candidate.sdpMLineIndex||0})):n.debug("IceCandidateForwarder: No more ICE candidates.")}})({sendMessage:Qe,logging:be}),i=e=>{var t;De.resolve(),t=e.candidate,"relay"!==f.transportPolicy||null==t||-1!==t.candidate.indexOf("typ relay")?n(e):be.debug("Ignore candidate",e.candidate.candidate)},r=function(){var e=(0,a.default)(o.default.mark((function e(t){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ge(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();let s=Se.iceConnectionState;const c=e=>{Se?(be.debug("iceconnectionstatechange",Se.iceConnectionState),"connected"===Se.iceConnectionState?("disconnected"===s&&ye.clearFailedTimeout(),ye.emit("iceConnected"),ke.set(!1)):"completed"===Se.iceConnectionState&&L.isLegacyEdge&&setTimeout((()=>qe.startCollecting(Se)),1e3)):be.debug("iceconnectionstatechange on peerConnection that no longer exists",ye);const t=e.target.iceConnectionState;ye.trigger("iceConnectionStateChange",t),Z("attachEventsToPeerConnection","iceconnectionstatechange",t),"disconnected"===t&&(ke.get()?(be.debug("Restarting ice!"),ye.generateOfferAndSend()):(0,U.default)()||(Ne=setTimeout((()=>{const e="failed";Z("attachEventsToPeerConnection","iceconnectionstatechange",e),s=e,ye.trigger("iceConnectionStateChange",e)}),1e4))),"disconnected"!==s&&"failed"===t&&Xe({reason:"The stream was unable to connect due to a network error. Make sure your connection isn't blocked by a firewall.",prefix:"ICEWorkflow"}),s=t},l=()=>{Z("peerConnection:negotiationNeeded","Event"),E&&ye.generateOfferAndSend(),ye.trigger("negotiationNeeded")};Se.addEventListener("track",r),Se.addEventListener("icecandidate",i),Se.addEventListener("signalingstatechange",Le),Se.addEventListener("negotiationneeded",l),Se.addEventListener("iceconnectionstatechange",c),Ie.add((()=>{Se&&(Se.removeEventListener("track",r),Se.removeEventListener("icecandidate",i),Se.removeEventListener("signalingstatechange",Le),Se.removeEventListener("negotiationneeded",l),Se.removeEventListener("iceconnectionstatechange",c))})),xe(null)},xe=()=>{for(;_e.length;)_e.shift().call(null)},Me=()=>{Ve&&(Ve.destroy(),Ve=null),_e=[],qe.stopCollecting(),Ie.releaseAll(),De.clean(),null!==Se&&(Se.destroy&&Se.destroy(),Se=null,ye.trigger("close")),ye.off()},Le=e=>{const t=e.target.signalingState;ye.emit("signalingStateChange",t),"stable"===t&&ye.emit("signalingStateStable"),t&&t!==Ze&&(Ze=t,be.debug("stateChange: ".concat(Ze)),"closed"===Ze)&&Me()},Pe=()=>{let e;if(Se.getRemoteStreams)e=Se.getRemoteStreams();else{if(!Se.remoteStreams)throw new Error("Invalid Peer Connection object implements no method for retrieving remote streams");e=Se.remoteStreams}return Array.prototype.slice.call(e)},Ge=e=>{var t;const n=e.track,i=e.transceiver,r=e.stream||(null==(t=e.streams)?void 0:t[0]);Z("createPeerConnection","TrackAdded"),ye.trigger("trackAdded",{stream:r,track:n,transceiver:i})},Ye=(e,t,n)=>{O=!1,Xe({reason:"PeerConnection.offerProcessor ".concat(e,": ").concat(t),prefix:n})},je=e=>{if(O)return void(k=e);O=!0,Z("peerConnection:processOffer","Event");const t=new ce({type:"offer",sdp:e.content.sdp}),n=e=>{O=!1,Ve&&Ve.process(),Qe("answer",e),L.isLegacyEdge||qe.startCollecting(Se,E),k&&(je(k),k=null)},i=e=>ye.trigger("remoteVideoSupported",e);Oe((()=>{H(Se,re.RTCPeerConnection,re.RTCSessionDescription,ce,ve,t,S,R,n,Ye,i,J,F)}))};ye.generateOfferAndSend=()=>{ye.generateOffer((e=>{be.debug("processSubscribe: sending offer"),Qe("offer",e)}))},ye.generateOfferAndAnswer=e=>{ye.generateOffer((t=>{e(t)}))},ye.generateOffer=oe((function(e){void 0===e&&(e=()=>{}),Ce.enqueueOfferAnswer((()=>(e=>{var t,n;if("closed"===(null==(t=Se)||null==(n=t.signalingState)?void 0:n.toLowerCase()))return;Z("peerConnection:processSubscribe","Event"),be.debug("processSubscribe: Sending offer to subscriber.");let i=we.get()?Re.capableSimulcastStreams:1;"P2P"===F&&!R&&(i=1),Oe((()=>{q({peerConnection:Se,NativeRTCSessionDescription:ce,sdpTransforms:ve,numSimulcastStreams:i,removeVideoOrientation:he(),offerOverrides:b,offerConstraints:{iceRestart:ke.get()},replaceBaselineProfile:J,removeUnusedCodecs:_}).then((t=>{be.debug("processSubscribe: got offer, waiting for _readyToCompleteOffer"),Be=t,De.promise.then((()=>e(Be)))}),(e=>{Xe({reason:"subscribeProcessor ".concat(e.message,": ").concat(e.reason),prefix:e.prefix})})),ke.set(!1)}))})(e)))}),100);const Xe=e=>{let t=e.reason,n=e.prefix;be.error(t,"in state",Se?{connectionState:Se.connectionState,iceConnectionState:Se.iceConnectionState,iceGatheringState:Se.iceGatheringState,signalingState:Se.signalingState}:"(none)"),ye.trigger("error",{reason:t,prefix:n})};function Ke(e){this.track=e}ye.addTrack=(t,n)=>{const i=new e(((e,t)=>{Oe((n=>{if(n)return t(n);e()}))})).then((()=>{if(Se.addTrack)return Se.addTrack(t,n);const e=Se.getLocalStreams()[0];if(void 0===e)throw new Error("PeerConnection has no existing streams, cannot addTrack");e.addTrack(t),ye.generateOfferAndSend()})).then((()=>new e((e=>{ye.once("signalingStateStable",(()=>{e()}))}))));return(0,s.default)(i,15e3,"Renegotiation timed out")},ye.setIceConfig=e=>{try{L.isFirefox&&(e.certificates=Se.getConfiguration().certificates),Se.setConfiguration(e)}catch(t){throw new C.default("A peer connection failed to set configuration with ".concat(t.message),le.FAILED_SET_CONFIGURATION)}return ke.set(!0),Se},ye.removeTrack=t=>{const n=e.resolve().then((()=>t instanceof Ke?(Se.getLocalStreams()[0].removeTrack(t.track),void ye.generateOfferAndSend()):Se.removeTrack(t))).then((()=>new e((e=>{ye.once("signalingStateStable",(()=>{e()}))}))));return(0,s.default)(n,15e3,"Renegotiation timed out")},ye.addLocalStream=t=>new e(((e,n)=>{Oe((i=>{if(i)n(i);else{try{t.getTracks&&t.getTracks().forEach((e=>Se.addTrack(e,t)))}catch(r){return void n(r)}e()}}))})),ye.getLocalStreams=()=>Se.getLocalStreams(),ye.getSenders=()=>Se.getSenders?Se.getSenders():Se.getLocalStreams()[0].getTracks().map((e=>new Ke(e))),ye.disconnect=()=>{var e;Ve&&(Ve.destroy(),Ve=null),null!=(e=Se)&&e.signalingState&&"closed"!==Se.signalingState.toLowerCase()&&(Se.close(),"function"===typeof fe&&B.off("keyChanged",fe),pe=null,ge=null,setTimeout(Me))},ye.iceRestart=()=>ke.set(!0),ye.clearFailedTimeout=()=>clearTimeout(Ne);const He=t=>{const n=t?te:ne;return new e((e=>{Ce.enqueueOfferAnswer((0,a.default)(o.default.mark((function t(){return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n(Se);case 2:Ce.setResolved(),e();case 4:case"end":return t.stop()}}),t)}))))}))};ye.changeMediaDirectionToRecvOnly=()=>He(!1),ye.changeMediaDirectionToInactive=()=>He(!0),ye.processMessage=(e,t)=>{switch(be.debug("processMessage: Received ".concat(e," from ").concat(t.fromAddress),t),be.debug(t),e){case"generateoffer":t.content&&void 0!==t.content.simulcastEnabled&&we.set(t.content.simulcastEnabled),ye.generateOfferAndSend(),i();break;case"offer":je(t),i();break;case"answer":case"pranswer":(e=>{Z("peerConnection:processAnswer","Event");const t=e=>{"function"===typeof e.includes&&e.includes("Failed to parse SessionDescription. a=extmap-allow-mixed Expects at least 2 fields.")&&(e="SessionDescription issue has been fixed in Chrome 71 and above. Please update your browser."),Xe({reason:"Error while setting RemoteDescription ".concat(e),prefix:"SetRemoteDescription"})};e.content.sdp?(Te=new ce({type:"answer",sdp:r(ve,"remote","answer",(0,c.default)({replaceBaselineProfile:J},v),e.content.sdp).local}),Se.setRemoteDescription(Te).then((()=>{be.debug("processAnswer: setRemoteDescription Success"),Ve&&Ve.process()})).catch(t),Ce.setResolved(),L.isLegacyEdge||qe.startCollecting(Se,E)):t("Weird answer message, no SDP.")})(t);break;case"candidate":var n=new se(t.content);Ve&&Ve.addIceCandidate(n).catch((e=>{be.warn("Error while adding ICE candidate: ".concat(JSON.stringify(n),": ").concat(e.toString()))}));break;default:be.debug("processMessage: Received an unexpected message of type ".concat(e," from ").concat(t.fromAddress,": ").concat(JSON.stringify(t)))}function i(){me+=1,qe.handleOfferMessageReceived(),me>1&&(Z("Renegotiation","Attempt"),Ee=!0)}return ye},ye.stopTransceivers=e=>{(e=>e.sort(((e,t)=>e.mid<t.mid?1:e.mid>t.mid?-1:0)))(Se.getTransceivers().filter((t=>e.includes(t.mid)))).forEach((e=>e.stop()))},ye.remoteStreams=()=>Se?Pe():[],ye.remoteTracks=()=>Se?Se.getReceivers?Array.prototype.slice.apply(Se.getReceivers()).map((e=>e.track)):Array.prototype.concat.apply([],Pe().map((e=>e.getTracks()))):[],ye.remoteDescription=()=>Se.remoteDescription,ye.getStats=(e,t)=>{if(Se)G(Se,e,t);else{const e=ue.PEER_CONNECTION_NOT_CONNECTED;t(new C.default(de.getTitleByCode(e),le.PEER_CONNECTION_NOT_CONNECTED,{code:e}))}},ye.getRtcStatsReport=(e,t)=>{if(Se)Y(Se,e,t);else{const e=ue.PEER_CONNECTION_NOT_CONNECTED;t(new C.default(de.getTitleByCode(e),le.PEER_CONNECTION_NOT_CONNECTED,{code:e}))}},ye.getSynchronizationSources=e=>{if(!E){if(!Se){const t=ue.PEER_CONNECTION_NOT_CONNECTED;return void e(new C.default(de.getTitleByCode(t),le.PEER_CONNECTION_NOT_CONNECTED,{code:t}))}j(Se,e)}};const ze=function e(t,n,i,r){let o;const a=Fe.get(n,i);if(!a){if(t>0)return void setTimeout(e.bind(null,t-1,n,i,r),200);o=new C.default("".concat("A channel with that label and options could not be found. Label:").concat(n,". Options: ").concat(JSON.stringify(i)))}r(o,a)};ye.getDataChannel=(e,t,n)=>{Se?ze(100,e,t,n):n(new C.default("Cannot create a DataChannel before there is a connection."))},ye.getSourceStreamId=()=>F,ye.iceConnectionStateIsConnected=()=>Se&&["connected","completed"].indexOf(Se.iceConnectionState)>-1,ye.hasTrack=e=>Se.getSenders().some((t=>t.track===e)),ye.findAndReplaceTrack=(t,n)=>e.resolve().then((()=>{const i=Se.getSenders().filter((e=>e.track===t))[0];if(!i)return e.resolve();if("function"!==typeof i.replaceTrack)throw new Error("Sender does not support replaceTrack");return i.replaceTrack(n)})),ye.hasRelayCandidates=()=>n,ye.getNegotiatedCodecs=()=>{if(!Se.localDescription||!Se.remoteDescription)return null;const e=e=>(0,d.default)(Q.default.getCodecs(Se.localDescription.sdp,e),Q.default.getCodecs(Se.remoteDescription.sdp,e));return{audio:e("audio"),video:e("video")}},ye.on("signalingStateStable",(()=>{Ee&&(Ee=!1,Z("Renegotiation","Success",ye.getNegotiatedCodecs()))})),ye.on("error",(e=>{let t=e.prefix;Ee&&-1!==["CreateOffer","SetRemoteDescription"].indexOf(t)&&(Ee=!1,Z("Renegotiation","Failure"))})),ye.on("close",(()=>{Ee&&(Ee=!1,Z("Renegotiation","Cancel"))}));const qe=new ie;return qe.on("stats",(e=>{e.dataChannels=Fe.sampleQos(),ye.trigger("qos",{parsedStats:e,simulcastEnabled:we.get()})})),ye}};var o=r(i(4)),a=r(i(5)),s=r(i(157)),c=r(i(9)),l=r(i(58)),d=r(i(133)),u=r(i(611)),h=r(i(282)),A=r(i(16)),p=r(i(6)),g=r(i(1)),f=r(i(3)),m=r(i(10)),E=r(i(22)),C=r(i(258)),I=r(i(158)),Q=r(i(21)),U=r(i(74)),y=r(i(620)),b=r(i(622)),v=r(i(159)),R=r(i(623)),S=r(i(625)),F=r(i(286)),B=r(i(289)),T=r(i(629)),N=r(i(630)),_=r(i(632)),w=r(i(634)),k=r(i(636)),D=r(i(637)),V=r(i(639)),Z=r(i(290)),W=r(i(643)),O=r(i(8)),J=r(i(644)),x=r(i(50))}).call(this,i(2))},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(3));t.default=()=>!((r.default.isChrome||r.default.isElectron)&&r.default.version>=90||r.default.isOpera&&r.default.version>=76)&&(r.default.isChrome&&r.default.version>71||r.default.isChromiumEdge&&r.default.version<90||r.default.isOpera&&r.default.version>58)},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var i={ACTIVE_VIDEO:0,ACTIVE_VIDEO_WITH_WARNING:1,SUSPENDED_VIDEO:2};t.default=i},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(40)),o=i(n(669)),a=i(n(11)),s=i(n(160));const c={};function l(e){return Number(e.framerateMean||e.googFrameRateSent||e.googFrameRateReceived||e.googFrameRateInput||e.googFrameRateOutput||0)}function d(e){return Number(e.framesEncoded||e.framesDecoded)}function u(e,t){if(l(e))return l(e);if(!d(e))return;let n=0;const i=c[e.id]?c[e.id].frames:0,r=c[e.id]?c[e.id].timestamp:t;return n=(0,s.default)({currentStatFrames:d(e),currentTimestamp:e.timestamp,prevStatFrames:i,prevTimestamp:r}),c[e.id]={frames:d(e),timestamp:e.timestamp},n}function h(e,t){if(!t)return{};const n=t.filter((t=>t.id===e.mediaTrackId));return n.length?n[0]:{}}function A(e,t){return"packetsLost"in t?e+t.packetsLost:e}const p={isVideoStat(e,t){const n=h(e,t);return"video"===e.kind&&["outbound-rtp","inbound-rtp"].includes(e.type)||"video"===e.mediaType||"googFrameWidthReceived"in e||"googFrameWidthInput"in e||"inbound-rtp"===e.type&&-1!==e.id.indexOf("Video")||"inboundrtp"===e.type&&0!==n.frameWidth},isAudioStat(e,t){const n=h(e,t);return"audio"===e.kind&&["outbound-rtp","inbound-rtp"].includes(e.type)||"audio"===e.mediaType||"audioInputLevel"in e||"audioOutputLevel"in e||"inbound-rtp"===e.type&&-1!==e.id.indexOf("Audio")||"inboundrtp"===e.type&&0===n.frameWidth},isInboundStat:e=>"bytesReceived"in e||"packetsReceived"in e,isOutboundStat:e=>"bytesSent"in e||"packetsSent"in e,isVideoTrackStat:e=>"track"===e.type&&(e.frameHeight>0||e.frameWidth>0||e.framesCorrupted>0||e.framesDecoded>0||e.framesPerSecond>0||e.framesSent>0||e.framesReceived>0),isVideoRemoteInboundRtpStat:e=>"remote-inbound-rtp"===e.type&&"video"===e.kind,isAudioRemoteInboundRtpStat:e=>"remote-inbound-rtp"===e.type&&"audio"===e.kind,isVideoInboundRtpStat:e=>"inbound-rtp"===e.type&&"video"===e.kind,parseStatCategory(e){const t={packetsLost:0,packetsReceived:0,bytesReceived:0};return"packetsReceived"in e&&(t.packetsReceived=parseInt(e.packetsReceived,10)),"packetsLost"in e&&(t.packetsLost=parseInt(e.packetsLost,10)),"bytesReceived"in e&&(t.bytesReceived=parseInt(e.bytesReceived,10)),this.isVideoStat(e)&&("framerateMean"in e?t.frameRate=Number(e.framerateMean):"googFrameRateOutput"in e?t.frameRate=Number(e.googFrameRateOutput):"googFrameRateInput"in e&&(t.frameRate=Number(e.googFrameRateInput))),t},getVideoPacketsLost(e){return e.filter((t=>this.isVideoRemoteInboundRtpStat(t,e))).reduce(A,0)},getAudioPacketsLost(e){return e.filter((t=>this.isAudioRemoteInboundRtpStat(t,e))).reduce(A,0)},normalizeTimestamp:(e,t)=>(void 0===t&&(t=Date.now()),(0,a.default)(e)&&"getTime"in e?e.getTime():Math.abs(e/(1e3*t)-1)<.05?e/1e3:e),normalizeStats(e,t,n){void 0===t&&(t=!0);const i=e.filter((t=>p.isVideoStat(t,e))).filter((e=>p.isInboundStat(e)===t)),a=e.filter((t=>this.isAudioStat(t,e))).filter((e=>this.isInboundStat(e)===t))[0],s=i[0];if(!a&&!s)throw new Error("could not find stats for either audio or video");const c=p.normalizeTimestamp(s?s.timestamp:a.timestamp),l={timestamp:c};s&&!t&&void 0===s.packetsLost&&(s.packetsLost=this.getVideoPacketsLost(e)),a&&!t&&void 0===a.packetsLost&&(a.packetsLost=this.getAudioPacketsLost(e));const d=["packetsSent","packetsLost","bytesSent"],h=t?e=>(0,r.default)(e,["packetsReceived","packetsLost","bytesReceived"]):e=>(0,r.default)(e,d);if(i&&i.length>0){const e=(e=>{const t=d.concat(["framerateMean","googFrameRateSent","googFrameRateReceived","googFrameRateInput","googFrameRateOutput","framesEncoded","framesDecoded"]),n={timestamp:c,id:s.id};return t.forEach((t=>{n[t]=e.map((e=>Number(e[t]||0))).reduce(((e,t)=>e+t),0)})),n})(i);l.video=Object.assign({frameRate:u(e,n)},(0,o.default)(h(e),Number))}return a&&(l.audio=(0,o.default)(h(a),Number)),l}};var g=p;t.default=g},function(e,t,n){"use strict";t.__esModule=!0,t.messages=t.default=t.codes=void 0;const i={1e3:"The connection successfully completed the purpose for which it was created.",1001:"The endpoint is going away, either because of a server failure or because the browser is navigating away from the page that opened the connection.",1002:"The endpoint is terminating the connection due to a protocol error. (CLOSE_PROTOCOL_ERROR)",1003:"The connection is being terminated because the endpoint has indicated that reconnections are not available. (CLOSE_UNSUPPORTED)",1005:"Indicates that no status code was provided even though one was expected. (CLOSE_NO_STATUS)",1006:"Used to indicate that a connection was closed abnormally (that is, with no close frame being sent) when a status code is expected. (CLOSE_ABNORMAL)",1007:"Indicates that an endpoint is terminating the connection because it has received data within a message that was not consistent with the type of the message (e.g., non-UTF-8 [RFC3629] data within a text message)",1008:"Indicates that an endpoint is terminating the connection because it has received a message that violates its policy.  This is a generic status code that can be returned when there is no other more suitable status code (e.g., 1003 or 1009) or if there is a need to hide specific details about the policy",1009:"Indicates that an endpoint is terminating the connection because it has received a message that is too big for it to process (CLOSE_TOO_LARGE)",1011:"Indicates that a server is terminating the connection because it encountered an unexpected condition that prevented it from fulfilling the request",4001:"Connectivity loss was detected as it was too long since the socket received the last PONG message",4010:"Timed out while waiting for the Rumor socket to connect.",4020:"Error code unavailable.",4030:"Exception was thrown during Rumor connection, possibly because of a blocked port."};t.messages=i;const r={CLOSE_NORMAL:1e3,CLOSE_GOING_AWAY:1001,CLOSE_PROTOCOL_ERROR:1002,CLOSE_UNSUPPORTED:1003,CLOSE_NO_STATUS:1005,CLOSE_ABNORMAL:1006,CLOSE_INCONSISTENT_DATA:1007,CLOSE_POLICY_VIOLATION:1008,CLOSE_TOO_LARGE:1009,CLOSE_UNEXPECTED_CONDITION:1011,CLOSE_CONNECTIVITY_LOSS:4001,CLOSE_TIMEOUT:4010,CLOSE_FALLBACK_CODE:4020,CLOSE_CONNECT_EXCEPTION:4030,ALREADY_CONNECTED_CONNECTING:null};t.codes=r;var o={messages:i,codes:r};t.default=o},function(e,t,n){var i=n(79),r=n(114),o=n(84),a=n(181),s=n(381),c=n(184),l=n(55),d=n(384),u=n(386),h=n(187),A=n(189),p=n(46),g=n(389),f=n(390),m=n(194),E=n(12),C=n(65),I=n(394),Q=n(11),U=n(396),y=n(33),b=n(54),v="[object Arguments]",R="[object Function]",S="[object Object]",F={};F[v]=F["[object Array]"]=F["[object ArrayBuffer]"]=F["[object DataView]"]=F["[object Boolean]"]=F["[object Date]"]=F["[object Float32Array]"]=F["[object Float64Array]"]=F["[object Int8Array]"]=F["[object Int16Array]"]=F["[object Int32Array]"]=F["[object Map]"]=F["[object Number]"]=F[S]=F["[object RegExp]"]=F["[object Set]"]=F["[object String]"]=F["[object Symbol]"]=F["[object Uint8Array]"]=F["[object Uint8ClampedArray]"]=F["[object Uint16Array]"]=F["[object Uint32Array]"]=!0,F["[object Error]"]=F[R]=F["[object WeakMap]"]=!1,e.exports=function e(t,n,B,T,N,_){var w,k=1&n,D=2&n,V=4&n;if(B&&(w=N?B(t,T,N,_):B(t)),void 0!==w)return w;if(!Q(t))return t;var Z=E(t);if(Z){if(w=g(t),!k)return l(t,w)}else{var W=p(t),O=W==R||"[object GeneratorFunction]"==W;if(C(t))return c(t,k);if(W==S||W==v||O&&!N){if(w=D||O?{}:m(t),!k)return D?u(t,s(w,t)):d(t,a(w,t))}else{if(!F[W])return N?t:{};w=f(t,W,k)}}_||(_=new i);var J=_.get(t);if(J)return J;_.set(t,w),U(t)?t.forEach((function(i){w.add(e(i,n,B,i,t,_))})):I(t)&&t.forEach((function(i,r){w.set(r,e(i,n,B,r,t,_))}));var x=Z?void 0:(V?D?A:h:D?b:y)(t);return r(x||t,(function(i,r){x&&(i=t[r=i]),o(w,r,e(i,n,B,r,t,_))})),w}},function(e,t,n){var i=n(80),r=n(353),o=n(354),a=n(355),s=n(356),c=n(357);function l(e){var t=this.__data__=new i(e);this.size=t.size}l.prototype.clear=r,l.prototype.delete=o,l.prototype.get=a,l.prototype.has=s,l.prototype.set=c,e.exports=l},function(e,t,n){var i=n(348),r=n(349),o=n(350),a=n(351),s=n(352);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}c.prototype.clear=i,c.prototype.delete=r,c.prototype.get=o,c.prototype.has=a,c.prototype.set=s,e.exports=c},function(e,t,n){var i=n(53);e.exports=function(e,t){for(var n=e.length;n--;)if(i(e[n][0],t))return n;return-1}},function(e,t,n){var i=n(43)(Object,"create");e.exports=i},function(e,t,n){var i=n(372);e.exports=function(e,t){var n=e.__data__;return i(t)?n["string"==typeof t?"string":"hash"]:n.map}},function(e,t,n){var i=n(63),r=n(53),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var a=e[t];o.call(e,t)&&r(a,n)&&(void 0!==n||t in e)||i(e,t,n)}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){var i=n(379),r=n(67),o=n(116),a=o&&o.isTypedArray,s=a?r(a):i;e.exports=s},function(e,t,n){var i=n(11),r=Object.create,o=function(){function e(){}return function(t){if(!i(t))return{};if(r)return r(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=o},function(e,t,n){var i=n(89),r=n(197),o=n(123);e.exports=function(e,t){return o(r(e,t,i),e+"")}},function(e,t){e.exports=function(e){return e}},function(e,t,n){"use strict";var i=Object.prototype.toString,r=i.call(function(){return arguments}());e.exports=function(e){return i.call(e)===r}},function(e,t,n){"use strict";var i=Object.prototype.toString,r=i.call("");e.exports=function(e){return"string"===typeof e||e&&"object"===typeof e&&(e instanceof String||i.call(e)===r)||!1}},function(e,t,n){"use strict";e.exports=n(423)()?globalThis:n(424)},function(e,t,n){"use strict";(function(e){t.__esModule=!0,t.default=function(t){return new e((e=>setTimeout(e,t)))}}).call(this,n(2))},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;let i="";var r={getCurrentAudioOutputDeviceId:()=>i,setCurrentAudioOutputDeviceId:e=>{i=e}};t.default=r},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=function(e,t){const n={};Object.keys(t).forEach((i=>{n[i]=o(e,t[i].get,t[i].set)})),(0,r.default)(e,n)};var r=i(n(9));const o=(e,t,n)=>t&&!n?()=>t.call(e):t&&n?i=>(void 0!==i&&n.call(e,i),t.call(e)):t=>{void 0!==t&&n.call(e,t)}},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(222));const o=e=>e.replace(/\/$/,"");var a=(e,t)=>{if(!t)return e;const n=r.default.parse(t),i=r.default.parse(e);if(!n.protocol||!i.protocol)return e;const a=n.protocol.match(/^https/),s=i.protocol.match(/^ws/i),c=o("".concat((s?"ws":"http")+(a?"s":""),"://").concat(n.host).concat(n.pathname)),l=o("".concat(i.host).concat(i.pathname).concat(i.search||""));return"".concat(c,"/").concat(l)};t.default=a},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.getProxyUrl=t.errorMessages=t.clearProxyUrl=void 0,t.setProxyUrl=function(e){const t=n(27),i=l.default,h=new t,A=a.default.sessions.length()>0,p=a.default.publishers.length()>0;let g;if(A){const e=a.default.sessions.find((e=>"connected"===e.currentState));g=e?e.sessionId:a.default.sessions.find().sessionId}else g="";const f={sessionId:g,apiKey:i.value};if(p||A){const e=(0,s.default)()(c.default.SET_PROXY_URL_TIMING_ERROR,new Error(u.SET_PROXY_URL_TIMING_ERROR),r.default.SET_PROXY_URL_TIMING_ERROR);o.default.handleJsException({error:e,target:f,analytics:h})}else if(d){const e=(0,s.default)()(c.default.PROXY_URL_ALREADY_SET_ERROR,new Error(u.PROXY_URL_ALREADY_SET_ERROR),r.default.PROXY_URL_ALREADY_SET_ERROR);o.default.handleJsException({error:e,target:f,analytics:h})}else d=e};var r=i(n(10)),o=i(n(22)),a=i(n(24)),s=i(n(13)),c=i(n(8)),l=i(n(70));let d;const u={SET_PROXY_URL_TIMING_ERROR:"The proxyUrl was set after a session or publisher was created.",PROXY_URL_ALREADY_SET_ERROR:"The proxyUrl has already been set. Setting it again will not have any effect."};t.errorMessages=u,t.getProxyUrl=()=>d,t.clearProxyUrl=()=>{d=null}},function(e,t,n){var i=n(113),r=n(480),o=n(481);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new i;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=r,a.prototype.has=o,e.exports=a},function(e,t,n){var i=n(482);e.exports=function(e,t){return!(null==e||!e.length)&&i(e,t,0)>-1}},function(e,t){e.exports=function(e,t){return e.has(t)}},function(e,t,n){var i=n(60),r=n(49);e.exports=function(e,t){for(var n=0,o=(t=i(t,e)).length;null!=e&&n<o;)e=e[r(t[n++])];return n&&n==o?e:void 0}},function(e,t,n){var i=n(87),r=n(11);e.exports=function(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=i(e.prototype),o=e.apply(n,t);return r(o)?o:n}}},function(e,t,n){var i=n(526);e.exports=function(e){var t=i(e),n=t%1;return t===t?n?t-n:t:0}},function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},function(e,t,n){var i=n(257),r=n(33);e.exports=function(e,t){return e&&i(e,t,r)}},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(195)),o=function(e){let t=(void 0===e?{}:e).NativeVideoElementWrapper;const n=void 0===t?(0,r.default)():t;return function(e){let t=void 0===e?{}:e,i=t.fallbackText,r=void 0===i?"Sorry, Web RTC is not available in your browser":i,o=t.fitMode,a=t.muted,s=t._inject,c=t.widgetType;return new n({fallbackText:r,fitMode:o,muted:a,defaultAudioVolume:50,_inject:s,widgetType:c})}};t.default=o},function(e,t,n){"use strict";function i(e){return e.map((e=>({url:e.url,urls:e.urls||[e.url],username:e.username,credential:e.credential})))}t.__esModule=!0,t.adaptIceServers=i,t.parseIceServers=function(e){let t;try{t=JSON.parse(e.data).content.iceServers}catch(n){return[]}return i(t)}},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(3));t.default=()=>"Chrome"===r.default.name&&r.default.version>=58||-1!==["Firefox","Edge","Safari","Opera"].indexOf(r.default.name)},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){let t=null,n=!1;const i=()=>{n&&(e(),t=window.requestAnimationFrame(i))};this.start=()=>{n||(n=!0,window.requestAnimationFrame(i))},this.stop=()=>{window.cancelAnimationFrame(t),n=!1}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CancellationError=t.default=void 0;var i=o(n(676)),r=o(n(313));function o(e){return e&&e.__esModule?e:{default:e}}t.default=i.default,t.CancellationError=r.default},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r,o,a=i(n(52));const s=!!window.crypto,c=!(null==(r=window.RTCRtpSender)||!r.prototype.createEncodedStreams)||!(null==(o=window.RTCRtpSender)||!o.prototype.createdEncodedVideoStreams),l=!!window.Worker,d=()=>s&&c&&l;t.default=function(e){void 0===e&&(e={});const t=e.hasOpenTokSupport||a.default.once,n=e.isE2eeSupported||d;return t()&&n()}},function(e,t,n){var i=n(43)(n(15),"Map");e.exports=i},function(e,t,n){var i=n(364),r=n(371),o=n(373),a=n(374),s=n(375);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}c.prototype.clear=i,c.prototype.delete=r,c.prototype.get=o,c.prototype.has=a,c.prototype.set=s,e.exports=c},function(e,t){e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length;++n<i&&!1!==t(e[n],n,e););return e}},function(e,t){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},function(e,t,n){(function(e){var i=n(178),r=t&&!t.nodeType&&t,o=r&&"object"==typeof e&&e&&!e.nodeType&&e,a=o&&o.exports===r&&i.process,s=function(){try{var e=o&&o.require&&o.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(t){}}();e.exports=s}).call(this,n(85)(e))},function(e,t,n){var i=n(68),r=n(380),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!i(e))return r(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},function(e,t,n){var i=n(385),r=n(185),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),i(a(e),(function(t){return o.call(e,t)})))}:r;e.exports=s},function(e,t){e.exports=function(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}},function(e,t,n){var i=n(183)(Object.getPrototypeOf,Object);e.exports=i},function(e,t,n){var i=n(192);e.exports=function(e){var t=new e.constructor(e.byteLength);return new i(t).set(new i(e)),t}},function(e,t){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},function(e,t,n){var i=n(400),r=n(198)(i);e.exports=r},function(e,t,n){var i=n(53),r=n(26),o=n(66),a=n(11);e.exports=function(e,t,n){if(!a(n))return!1;var s=typeof t;return!!("number"==s?r(n)&&o(t,n.length):"string"==s&&t in n)&&i(n[t],e)}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var i={error:{priority:1,method:"error"},warn:{priority:2,method:"warn"},info:{priority:3,method:"info"},log:{priority:4,method:"log"},debug:{priority:5,method:"debug"},spam:{priority:6,method:"log"}};t.default=i},function(e,t,n){"use strict";e.exports=n(201)()?Object.setPrototypeOf:n(202)},function(e,t,n){"use strict";var i=n(56),r={object:!0,function:!0,undefined:!0};e.exports=function(e){return!!i(e)&&hasOwnProperty.call(r,typeof e)}},function(e,t,n){"use strict";e.exports=n(414)()?Object.assign:n(415)},function(e,t,n){"use strict";let i;t.__esModule=!0,t.default=function(e){void 0===e&&(e={});const t=e.AudioContext||(void 0!==typeof window?window:n.g).AudioContext||(void 0!==typeof window?window:n.g).webkitAudioContext;return function(){if(i=i||t&&new t,null==i)throw new Error("AudioContext could not be created, hardware limit reached.");return i}}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;let i=function(){function e(e){this._analyser=null,this._timeDomainData=null,this._sourceNode=null,this._audioContext=e}var t=e.prototype;return t._initAudioAnalyser=function(e){this._analyser=this._audioContext.createAnalyser(),this._sourceNode=this._audioContext.createMediaStreamSource(e),this._sourceNode.connect(this._analyser),this._timeDomainData=new Uint8Array(this._analyser.frequencyBinCount)},t.webRTCStream=function(e){this._sourceNode&&this._sourceNode.disconnect(this._analyser),"suspended"===this._audioContext.state&&this._audioContext.resume(),this._initAudioAnalyser(e)},t.destroy=function(){this._sourceNode&&this._sourceNode.disconnect(this._analyser),this._timeDomainData=null},t.sample=function(e){if("function"===typeof e)throw new Error("sample no longer takes a callback");if(this._analyser&&this._timeDomainData){this._analyser.getByteTimeDomainData(this._timeDomainData);let e=0;for(let t=this._timeDomainData.length-1;t>=0;t-=1)e=Math.max(e,Math.abs(this._timeDomainData[t]-128));return e/128}return null},e}();t.default=i},function(e,t,n){var i=n(88),r=n(53),o=n(124),a=n(54),s=Object.prototype,c=s.hasOwnProperty,l=i((function(e,t){e=Object(e);var n=-1,i=t.length,l=i>2?t[2]:void 0;for(l&&o(t[0],t[1],l)&&(i=1);++n<i;)for(var d=t[n],u=a(d),h=-1,A=u.length;++h<A;){var p=u[h],g=e[p];(void 0===g||r(g,s[p])&&!c.call(e,p))&&(e[p]=d[p])}return e}));e.exports=l},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(9)),o=i(n(133));const a=(0,i(n(1)).default)("Event");let s=function(){function e(e,t,n){void 0===t&&(t=!0),void 0===n&&(n={}),this.type=e,this.cancelable=t,this._defaultPrevented=!1;const i=(0,o.default)(Object.keys(this),Object.keys(n));if(i.length>0)throw new Error("Cannot used reserved property names: ".concat(i.join(",")));(0,r.default)(this,n)}var t=e.prototype;return t.preventDefault=function(){this.cancelable?this._defaultPrevented=!0:a.warn("Event.preventDefault :: Trying to preventDefault on an event that isn't cancelable")},t.isDefaultPrevented=function(){return this._defaultPrevented},e}();t.default=s},function(e,t,n){var i=n(37),r=n(479),o=n(88),a=n(485),s=o((function(e){var t=i(e,a);return t.length&&t[0]===e[0]?r(t):[]}));e.exports=s},function(e,t){e.exports=function(e,t,n){for(var i=-1,r=null==e?0:e.length;++i<r;)if(n(t,e[i]))return!0;return!1}},function(e,t,n){var i=n(26),r=n(18);e.exports=function(e){return r(e)&&i(e)}},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(36)),o=i(n(58)),a=i(n(59)),s=function(){function e(e){void 0===e&&(e={}),Object.defineProperty(this,"_rawSessionInfo",{value:(0,o.default)(e)})}return(0,r.default)(e,[{key:"sessionId",get:function(){return this._rawSessionInfo.session_id}},{key:"partnerId",get:function(){return this._rawSessionInfo.partner_id}},{key:"messagingServer",get:function(){return this._rawSessionInfo.messaging_server_url}},{key:"mediaServerName",get:function(){return this._rawSessionInfo.media_server_hostname}},{key:"messagingURL",get:function(){return this._rawSessionInfo.messaging_url}},{key:"symphonyAddress",get:function(){return this._rawSessionInfo.symphony_address}},{key:"iceServers",get:function(){return this._rawSessionInfo.ice_servers}},{key:"simulcast",get:function(){return(0,a.default)(this._rawSessionInfo,"properties.simulcast")}},{key:"e2ee",get:function(){return(0,a.default)(this._rawSessionInfo,"properties.e2ee",!1)}},{key:"reconnection",get:function(){return(0,a.default)(this._rawSessionInfo,"properties.reconnection",!1)}},{key:"renegotiation",get:function(){return(0,a.default)(this._rawSessionInfo,"properties.renegotiation",!1)}},{key:"p2pEnabled",get:function(){return"enabled"===(0,a.default)(this._rawSessionInfo,"properties.p2p.preference.value")}},{key:"hybridSession",get:function(){return(0,a.default)(this._rawSessionInfo,"properties.hybridSession",!1)}},{key:"isAdaptiveEnabled",get:function(){return"adaptive"===(0,a.default)(this._rawSessionInfo,"properties.p2p.preference.value")}},{key:"priorityVideoCodec",get:function(){return(0,a.default)(this._rawSessionInfo,"properties.priorityVideoCodec","")}},{key:"h264",get:function(){return(0,a.default)(this._rawSessionInfo,"properties.h264",!0)}},{key:"vp8",get:function(){return(0,a.default)(this._rawSessionInfo,"properties.vp8",!0)}},{key:"vp9",get:function(){return(0,a.default)(this._rawSessionInfo,"properties.vp9",!0)}},{key:"singlePeerConnection",get:function(){return(0,a.default)(this._rawSessionInfo,"properties.singlePeerConnection",!1)}},{key:"clientCandidates",get:function(){const e=(0,a.default)(this._rawSessionInfo,"properties.clientCandidates");return"relayed"===e?"relay":e}}]),e}();t.default=s},function(e,t,n){var i=n(12),r=n(71),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(i(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!r(e))||a.test(e)||!o.test(e)||null!=t&&e in Object(t)}},function(e,t,n){"use strict";(function(t){var i=n(19),r=n(494),o=n(230),a={"Content-Type":"application/x-www-form-urlencoded"};function s(e,t){!i.isUndefined(e)&&i.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var c={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:function(){var e;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof t&&"[object process]"===Object.prototype.toString.call(t))&&(e=n(231)),e}(),transformRequest:[function(e,t){return r(t,"Accept"),r(t,"Content-Type"),i.isFormData(e)||i.isArrayBuffer(e)||i.isBuffer(e)||i.isStream(e)||i.isFile(e)||i.isBlob(e)?e:i.isArrayBufferView(e)?e.buffer:i.isURLSearchParams(e)?(s(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):i.isObject(e)||t&&"application/json"===t["Content-Type"]?(s(t,"application/json"),function(e,t,n){if(i.isString(e))try{return(t||JSON.parse)(e),i.trim(e)}catch(r){if("SyntaxError"!==r.name)throw r}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional,n=t&&t.silentJSONParsing,r=t&&t.forcedJSONParsing,a=!n&&"json"===this.responseType;if(a||r&&i.isString(e)&&e.length)try{return JSON.parse(e)}catch(s){if(a){if("SyntaxError"===s.name)throw o(s,this,"E_JSON_PARSE");throw s}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};i.forEach(["delete","get","head"],(function(e){c.headers[e]={}})),i.forEach(["post","put","patch"],(function(e){c.headers[e]=i.merge(a)})),e.exports=c}).call(this,n(28))},function(e,t){e.exports={}},function(e,t,n){var i=n(237),r=n(512),o=n(513),a=n(239),s=n(524),c=n(243),l=n(525),d=n(246),u=n(247),h=n(103),A=Math.max;e.exports=function(e,t,n,p,g,f,m,E){var C=2&t;if(!C&&"function"!=typeof e)throw new TypeError("Expected a function");var I=p?p.length:0;if(I||(t&=-97,p=g=void 0),m=void 0===m?m:A(h(m),0),E=void 0===E?E:h(E),I-=g?g.length:0,64&t){var Q=p,U=g;p=g=void 0}var y=C?void 0:c(e),b=[e,t,n,p,g,Q,U,f,m,E];if(y&&l(b,y),e=b[0],t=b[1],n=b[2],p=b[3],g=b[4],!(E=b[9]=void 0===b[9]?C?0:e.length:A(b[9]-I,0))&&24&t&&(t&=-25),t&&1!=t)v=8==t||16==t?o(e,t,E):32!=t&&33!=t||g.length?a.apply(void 0,b):s(e,t,n,p);else var v=r(e,t,n);return u((y?i:d)(v,b),e,t)}},function(e,t,n){var i=n(87),r=n(142);function o(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}o.prototype=i(r.prototype),o.prototype.constructor=o,e.exports=o},function(e,t){e.exports=function(){}},function(e,t){var n="__lodash_placeholder__";e.exports=function(e,t){for(var i=-1,r=e.length,o=0,a=[];++i<r;){var s=e[i];s!==t&&s!==n||(e[i]=n,a[o++]=i)}return a}},function(e,t,n){var i=n(32),r=n(120),o=n(18),a=Function.prototype,s=Object.prototype,c=a.toString,l=s.hasOwnProperty,d=c.call(Object);e.exports=function(e){if(!o(e)||"[object Object]"!=i(e))return!1;var t=r(e);if(null===t)return!0;var n=l.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==d}},function(e,t,n){var i=n(535),r=n(18);e.exports=function e(t,n,o,a,s){return t===n||(null==t||null==n||!r(t)&&!r(n)?t!==t&&n!==n:i(t,n,o,a,e,s))}},function(e,t,n){var i=n(546),r=n(197),o=n(123);e.exports=function(e){return o(r(e,void 0,i),e+"")}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(){return{ROTATED_NORMAL:0,ROTATED_LEFT:270,ROTATED_RIGHT:90,ROTATED_UPSIDE_DOWN:180}}},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=function(e){if(void 0!==e.adapter||c.default.isLegacyEdge)return e;const t=f(e);return(0,o.default)({window:t}),t};var r=i(n(29)),o=i(n(566)),a=i(n(1)),s=i(n(577)),c=i(n(3));const l=(0,a.default)("createWindowMock"),d=[{key:"location",type:"object"},{key:"setTimeout",type:"function"},{key:"requestAnimationFrame",type:"function"},{key:"URL",type:"function"},{key:"MediaStream",type:"class"},{key:"webkitMediaStream",type:"class"},{key:"RTCIceCandidate",type:"class"},{key:"mozRTCIceCandidate",type:"class"},{key:"RTCSessionDescription",type:"class"},{key:"mozRTCSessionDescription",type:"class"},{key:"RTCIceGatherer",type:"class"},{key:"RTCIceTransport",type:"class"},{key:"RTCDtlsTransport",type:"class"},{key:"RTCSctpTransport",type:"class"},{key:"RTCRtpReceiver",type:"class"},{key:"HTMLMediaElement",type:"class"},{key:"RTCPeerConnection",type:"class"},{key:"webkitRTCPeerConnection",type:"class"},{key:"mozRTCPeerConnection",type:"class"},{key:"MediaStreamTrack",type:"class"},{key:"RTCRtpSender",type:"class"},{key:"RTCTrackEvent",type:"class"},{key:"RTCTransceiver",type:"class"},{key:"RTCDtmfSender",type:"class"},{key:"RTCDTMFSender",type:"class"},{key:"MediaStreamTrackEvent",type:"class"}],u=[{key:"userAgent",type:"string"},{key:"getUserMedia",type:"function"},{key:"getDisplayMedia",type:"function"},{key:"webkitGetUserMedia",type:"function"},{key:"mozGetUserMedia",type:"function"}],h=[{key:"getUserMedia",type:"function"},{key:"getDisplayMedia",type:"function"},{key:"enumerateDevices",type:"function"},{key:"getSupportedConstraints",type:"function"},{key:"addEventListener",type:"function"},{key:"removeEventListener",type:"function"}],A=e=>{let t=function(e){function t(){for(var n,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];n=e.call(this,...r)||this;try{n.__proto__=t.prototype}catch(a){}return n}return(0,r.default)(t,e),t}(e);return Object.defineProperties(t.prototype,(e=>{const t={};return Object.getOwnPropertyNames(e).forEach((n=>{t[n]=Object.getOwnPropertyDescriptor(e,n)})),t})(e.prototype)),Object.keys(e).forEach((n=>{t[n]=e[n]})),t},p=e=>{try{const t=A(e);if(t&&t.prototype instanceof e)return t}catch(t){}return null},g=e=>(t,n,i)=>{i.forEach((i=>{let r=i.key,o=i.type,a=n[r];if(void 0!==a){switch(o){case"function":a=((e,t)=>{if("function"!==typeof t)return l.warn("Non-function passed into bindWithStaticProperties()"),t;const n=t.bind(e);return Object.keys(t).forEach((e=>{n[e]=t[e]})),n})(n,a);break;case"class":a=((e,t,n)=>{if("function"!==typeof e)return l.warn("Non-function passed into extendClass()"),e;let i=n&&p(e);return i||(i=(0,s.default)(e)),i})(a,0,e);break;case"string":case"object":break;default:throw new Error("Invalid type of window key: ".concat(o))}t[r]=a}}))},f=e=>{const t={},n=g((e=>{const t=e.RTCPeerConnection||e.webkitRTCPeerConnection||e.mozRTCPeerConnection,n=p(t);if(n)try{n.prototype.foo="bar";const e=new n({iceServers:[]}),t="bar"===e.foo;try{e.close()}catch(i){}return t}catch(i){}return!1})(e));return n(t,e,d),void 0!==e.navigator&&(t.navigator={},n(t.navigator,e.navigator,u),void 0!==e.navigator.mediaDevices&&(t.navigator.mediaDevices={},n(t.navigator.mediaDevices,e.navigator.mediaDevices,h))),t}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(){let e=null;this.transform=t=>{e=null===e||t>=e?t:.3*t+.7*e;const n=Math.log(e)/Math.LN10/1.5+1;return Math.min(Math.max(n,0),1)}}},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=function(e){const t={},n=(n,i)=>{(0,r.default)(i,{parent:this}),i.appendTo(e.parent),t[n]=i,this[n]=i};e.parent&&((0,o.default)(this),this.destroy=()=>{this.off(),this.hideWhileLoading(),a(t).forEach((e=>e.destroy()))},this.showAfterLoading=()=>{a(t).forEach((e=>e.showAfterLoading()))},this.hideWhileLoading=()=>{a(t).forEach((e=>e.hideWhileLoading()))},this.set=(e,t)=>("string"===typeof e&&t?n(e,t):Object.keys(e).forEach((t=>{n(t,e[t])})),this))};var r=i(n(9)),o=i(n(6));const a=e=>Object.keys(e).map((t=>e[t]))},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(6)),o=i(n(30)),a=i(n(578));const s=(0,i(n(23)).default)();var c=new function(){const e=this;function t(){return a.default.isDomLoaded()&&!a.default.isDomUnloaded()}function n(){e.dispatchEvent(new s.EnvLoadedEvent(o.default.ENV_UNLOADED))}(0,r.default)(e),a.default.whenLoaded.then((function(){a.default.whenUnloaded.then(n),t()&&e.dispatchEvent(new s.EnvLoadedEvent(o.default.ENV_LOADED))})),this.onLoad=function(n,i){t()?n.call(i):e.on(o.default.ENV_LOADED,n,i)},this.onUnload=function(t,n){this.isUnloaded()?t.call(n):e.on(o.default.ENV_UNLOADED,t,n)},this.isUnloaded=function(){return a.default.isDomUnloaded()}};t.default=c},function(e,t,i){"use strict";var r=i(583);function o(e,t){if(e===t)return 0;for(var n=e.length,i=t.length,r=0,o=Math.min(n,i);r<o;++r)if(e[r]!==t[r]){n=e[r],i=t[r];break}return n<i?-1:i<n?1:0}function a(e){return(void 0!==typeof window?window:n.g).Buffer&&"function"===typeof(void 0!==typeof window?window:n.g).Buffer.isBuffer?(void 0!==typeof window?window:n.g).Buffer.isBuffer(e):!(null==e||!e._isBuffer)}var s=i(584),c=Object.prototype.hasOwnProperty,l=Array.prototype.slice,d="foo"===function(){}.name;function u(e){return Object.prototype.toString.call(e)}function h(e){return!a(e)&&"function"===typeof(void 0!==typeof window?window:n.g).ArrayBuffer&&("function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer)))}var A=e.exports=C,p=/\s*function\s+([^\(\s]*)\s*/;function g(e){if(s.isFunction(e)){if(d)return e.name;var t=e.toString().match(p);return t&&t[1]}}function f(e,t){return"string"===typeof e?e.length<t?e:e.slice(0,t):e}function m(e){if(d||!s.isFunction(e))return s.inspect(e);var t=g(e);return"[Function"+(t?": "+t:"")+"]"}function E(e,t,n,i,r){throw new A.AssertionError({message:n,actual:e,expected:t,operator:i,stackStartFunction:r})}function C(e,t){e||E(e,!0,t,"==",A.ok)}function I(e,t,n,i){if(e===t)return!0;if(a(e)&&a(t))return 0===o(e,t);if(s.isDate(e)&&s.isDate(t))return e.getTime()===t.getTime();if(s.isRegExp(e)&&s.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"===typeof e||null!==t&&"object"===typeof t){if(h(e)&&h(t)&&u(e)===u(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===o(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(a(e)!==a(t))return!1;var r=(i=i||{actual:[],expected:[]}).actual.indexOf(e);return-1!==r&&r===i.expected.indexOf(t)||(i.actual.push(e),i.expected.push(t),function(e,t,n,i){if(null===e||void 0===e||null===t||void 0===t)return!1;if(s.isPrimitive(e)||s.isPrimitive(t))return e===t;if(n&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var r=Q(e),o=Q(t);if(r&&!o||!r&&o)return!1;if(r)return I(e=l.call(e),t=l.call(t),n);var a,c,d=b(e),u=b(t);if(d.length!==u.length)return!1;for(d.sort(),u.sort(),c=d.length-1;c>=0;c--)if(d[c]!==u[c])return!1;for(c=d.length-1;c>=0;c--)if(!I(e[a=d[c]],t[a],n,i))return!1;return!0}(e,t,n,i))}return n?e===t:e==t}function Q(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function U(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(n){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function y(e,t,n,i){var r;if("function"!==typeof t)throw new TypeError('"block" argument must be a function');"string"===typeof n&&(i=n,n=null),r=function(e){var t;try{e()}catch(n){t=n}return t}(t),i=(n&&n.name?" ("+n.name+").":".")+(i?" "+i:"."),e&&!r&&E(r,n,"Missing expected exception"+i);var o="string"===typeof i,a=!e&&r&&!n;if((!e&&s.isError(r)&&o&&U(r,n)||a)&&E(r,n,"Got unwanted exception"+i),e&&r&&n&&!U(r,n)||!e&&r)throw r}A.AssertionError=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=function(e){return f(m(e.actual),128)+" "+e.operator+" "+f(m(e.expected),128)}(this),this.generatedMessage=!0);var t=e.stackStartFunction||E;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var n=new Error;if(n.stack){var i=n.stack,r=g(t),o=i.indexOf("\n"+r);if(o>=0){var a=i.indexOf("\n",o+1);i=i.substring(a+1)}this.stack=i}}},s.inherits(A.AssertionError,Error),A.fail=E,A.ok=C,A.equal=function(e,t,n){e!=t&&E(e,t,n,"==",A.equal)},A.notEqual=function(e,t,n){e==t&&E(e,t,n,"!=",A.notEqual)},A.deepEqual=function(e,t,n){I(e,t,!1)||E(e,t,n,"deepEqual",A.deepEqual)},A.deepStrictEqual=function(e,t,n){I(e,t,!0)||E(e,t,n,"deepStrictEqual",A.deepStrictEqual)},A.notDeepEqual=function(e,t,n){I(e,t,!1)&&E(e,t,n,"notDeepEqual",A.notDeepEqual)},A.notDeepStrictEqual=function e(t,n,i){I(t,n,!0)&&E(t,n,i,"notDeepStrictEqual",e)},A.strictEqual=function(e,t,n){e!==t&&E(e,t,n,"===",A.strictEqual)},A.notStrictEqual=function(e,t,n){e===t&&E(e,t,n,"!==",A.notStrictEqual)},A.throws=function(e,t,n){y(!0,e,t,n)},A.doesNotThrow=function(e,t,n){y(!1,e,t,n)},A.ifError=function(e){if(e)throw e},A.strict=r((function e(t,n){t||E(t,!0,n,"==",e)}),A,{equal:A.strictEqual,deepEqual:A.deepStrictEqual,notEqual:A.notStrictEqual,notDeepEqual:A.notDeepStrictEqual}),A.strict.strict=A.strict;var b=Object.keys||function(e){var t=[];for(var n in e)c.call(e,n)&&t.push(n);return t}},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(3)),o=i(n(591)),a=i(n(274));t.default=e=>r.default.isElectron?"screen"===e||(0,a.default)(e):o.default.indexOf(e)>-1},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=function(e){this.id=e.id,this.type=e.type,this.active=(0,a.default)(e.active),this.orientation=e.orientation||s.ROTATED_NORMAL,e.frameRate&&(this.frameRate=parseFloat(e.frameRate)),e.preferredFrameRate&&(this.preferredFrameRate=parseFloat(e.preferredFrameRate)),e.preferredWidth&&(this.preferredWidth=parseInt(e.preferredWidth,10)),e.preferredHeight&&(this.preferredHeight=parseInt(e.preferredHeight,10)),this.width=parseInt(e.width,10),this.height=parseInt(e.height,10),this.source=e.source||"camera",this.fitMode=e.fitMode||"cover",(0,r.default)(this),this.update=function(e){const t={},n={};for(const i in e){if(!e.hasOwnProperty(i))continue;const r=this[i];switch(i){case"active":this.active=(0,a.default)(e[i]);break;case"disableWarning":this.disableWarning=(0,a.default)(e[i]);break;case"frameRate":this.frameRate=parseFloat(e[i],10);break;case"width":case"height":this[i]=parseInt(e[i],10),t[i]=this[i],n[i]=r;break;case"orientation":this[i]=e[i],t[i]=this[i],n[i]=r;break;case"fitMode":case"source":this[i]=e[i];break;case"sourceStreamId":break;default:return c.debug("Tried to update unknown key ".concat(i," on ").concat(this.type," channel ").concat(this.id)),!1}this.trigger("update",this,i,r,this[i])}return Object.keys(t).length&&this.trigger("update",this,"videoDimensions",n,t),!0}};var r=i(n(6)),o=i(n(1)),a=i(n(277));const s=(0,i(n(147)).default)(),c=(0,o.default)("StreamChannel")},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=function(e,t,n,i){if(!e.trigger)throw new Error("OT.StylableComponent is dependent on the eventing mixin. Ensure that this is included in the object before StylableComponent.");i=i||function(){};let r=!1;!1===n&&(t={buttonDisplayMode:"off",nameDisplayMode:"off",audioLevelDisplayMode:"off",videoDisabledDisplayMode:"off",audioBlockedDisplayMode:"off"},r=!0,i({showControls:!1}));const l=new a.default(t,(function(t,n,i){i?e.trigger("styleValueChanged",t,n,i):e.trigger("styleValueChanged",t,n)}));e.getStyle=function(e){return l.get(e)},e.setStyle=function(e,t,n){if(r)return c.warn("Calling setStyle() has no effect because theshowControls option was set to false"),this;let a;return"string"!==typeof e?a=e:(a={},a[e]=t),a.backgroundImageURI&&(a.backgroundImageURI=(0,o.default)(a.backgroundImageURI)),l.setAll(a,n),i((0,s.default)(a)),this}};var r=i(n(1)),o=i(n(599)),a=i(n(600)),s=i(n(278));const c=(0,r.default)("StylableComponent")},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(51)),o=i(n(1)),a=i(n(27)),s=i(n(52)),c=i(n(603)),l=i(n(604)),d=i(n(38)),u=i(n(70)),h=i(n(151)),A=i(n(7)),p=i(n(605)),g=i(n(606));const f=(0,d.default)(),m=(0,o.default)("systemRequirements"),E=f.onlyLocal(),C=s.default.once,I=new a.default,Q=(0,r.default)((()=>{I.logEvent({action:"checkSystemRequirements",variation:"notHasRequirements",partnerId:u.default.value,payload:{userAgent:A.default.env.userAgent}})})),U=(0,r.default)((()=>{(0,p.default)()}));let y=!1;var b={check(){m.debug("OT.checkSystemRequirements()");const e=Number(c.default&&C());return U(),e||Q(),e},upgrade(e){let t=void 0===e?{}:e,n=t.isSupportedButOld,i=void 0===n?A.default.env.name.toLowerCase()in E.minimumVersion:n,r=t.userAgent,o=void 0===r?navigator.userAgent:r;h.default.onLoad((()=>{if(y)return;const e=new l.default(g.default);let t;y=!0,e.on("close",(()=>{y=!1})),e.open(),t=o.match(/(iPad|iPhone|iPod|android|webOS)/i)?"".concat(i?"supported-":"","mobile-browser"):"".concat(i?"upgrade":"normal","-install"),e.el("#section-".concat(t)).style.display="block"}))}};t.default=b},function(e,t,n){"use strict";(function(t){var i=n(0),r=i(n(29)),o=i(n(280));const a=n(610);let s=function(e){function t(t){var n;return(n=e.call(this,t)||this).name="TimeoutError",n}return(0,r.default)(t,e),t}((0,o.default)(Error));e.exports=(e,n,i)=>new t(((t,r)=>{if("number"!==typeof n||n<0)throw new TypeError("Expected `ms` to be a positive number");const o=setTimeout((()=>{if("function"===typeof i){try{t(i())}catch(a){r(a)}return}const o="string"===typeof i?i:"Promise timed out after ".concat(n," milliseconds"),a=i instanceof Error?i:new s(o);"function"===typeof e.cancel&&e.cancel(),r(a)}),n);a(e.then(t,r),(()=>{clearTimeout(o)}))})),e.exports.TimeoutError=s}).call(this,n(2))},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var i=function(){const e=[];return{add(t){e.push(t)},remove(t){const n=e.indexOf(t);n>=0&&e.splice(n,1)},releaseAll(){const t=[];for(;e.length>0;){const n=e.pop();try{n()}catch(i){t.push(i)}}const n=t.length;if(n>0)throw new Error("Failed to complete ".concat(n," cleanup job").concat(1===n?"":"s",": ").concat(t.map((e=>"<".concat(e,">"))).join(", ")))}}};t.default=i},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;const r=(0,i(n(1)).default)("applySdpTransform");t.default=(e,t,n,i,o)=>{const a=e[t][n],s="".concat(t," ").concat(n),c="sdpTransforms (".concat("local offer"===s||"remote answer"===s?"publisher":"subscriber","): ").concat(t," ").concat(n),l="local"===t?"created":"received";r.debug("".concat(c,": ").concat(l,":\n").concat(o));const d=a(i,o);return d.local===o?r.debug("".concat(c,": not modified")):r.debug("".concat(c,": modified to:\n").concat(d.local)),d}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var i=function(e){if(void 0===e&&(e={}),!e)return 0;const t=e,n=t.currentStatFrames,i=void 0===n?0:n,r=t.prevStatFrames,o=void 0===r?0:r,a=t.currentTimestamp,s=void 0===a?0:a,c=t.prevTimestamp,l=void 0===c?0:c;if(i>=o&&s>l){const e=(i-o)/((s-l)/1e3);return Math.round(100*e)/100}return 0};t.default=i},function(e,t,i){"use strict";var r=i(0);t.__esModule=!0,t.default=void 0;var o=r(i(59)),a="function"===typeof(0,o.default)(void 0!==typeof window?window:n.g,"navigator.getDisplayMedia",(0,o.default)(void 0!==typeof window?window:n.g,"navigator.mediaDevices.getDisplayMedia"));t.default=a},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=function(){return function(e,t,n){const i=t.slice(),o=(0,r.default)(n);return function(t){let n=e,r=null;function a(e,i){t({message:e,newState:i,currentState:n,previousState:r})}function s(e){return t=e,-1===i.indexOf(t)?(a("'".concat(e,"' is not a valid state"),e),!1):(s=e,!(!o[r=n]||-1===o[r].indexOf(s))||(a("'".concat(n,"' cannot transition to '").concat(e,"'"),e),!1));var t,r,s}this.current=n,this.set=function(e){s(e)&&(r=n,this.current=e,n=e)}}}};var r=i(n(42))},function(e,t,i){"use strict";(function(e){var r=i(0);t.__esModule=!0,t.default=function(t){void 0===t&&(t={});const i=t.chromeExtensionHelper||(0,c.default)(),r=t.electronExtensionHelper||(0,l.default)(),A=t.Errors||s.default,p=t.firefoxExtensionHelper||d.default,g=t.getDisplayMediaExtensionHelper||u.default,f=t.otError||(0,a.default)(),m=t.OTHelpers||h.default,E={extensionByKind:{},extensionClasses:{},registerExtensionHelper:(e,t)=>{E.extensionClasses[e]=t,t.autoRegisters&&t.isSupportedInThisBrowser&&E.registerExtension(e)},registerExtension:function(e){if(null==E.extensionClasses[e])throw new Error("Unsupported kind passed to OT.registerScreenSharingExtension");for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];const r=E.extensionClasses[e].register(...n);E.extensionByKind[e]=r}},C=()=>{const e=(0,o.default)(Object.keys(E.extensionClasses).sort((e=>"electron"===e?-1:1)),(e=>E.extensionClasses[e].isSupportedInThisBrowser));return void 0===e?{}:{name:e,proto:E.extensionClasses[e],instance:E.extensionByKind[e]}};E.pickHelper=()=>C(),E.checkCapability=e=>{const t={supported:!1,extensionRequired:void 0,extensionRegistered:void 0,extensionInstalled:void 0,supportedSources:{}},n=C();if(void 0!==n.name){if(t.supported=!0,t.extensionRequired=n.proto.extensionRequired?n.name:void 0,t.supportedSources={screen:n.proto.sources.screen,application:n.proto.sources.application,window:n.proto.sources.window,browser:n.proto.sources.browser},!n.instance)return t.extensionRegistered=!1,t.extensionRequired&&(t.extensionInstalled=!1),void setTimeout(e.bind(null,t));t.extensionRegistered=!!t.extensionRequired||void 0,n.instance.isInstalled((n=>{t.extensionInstalled=t.extensionRequired||"Firefox"===m.env.name?n:void 0,e(t)}))}else setTimeout(e.bind(null,t))},E.registerExtensionHelper("electron",r),E.registerExtensionHelper("getDisplayMedia",g),E.registerExtensionHelper("chrome",i),E.registerExtensionHelper("firefox",p);const I=()=>{};return E.getConstraints=t=>{const i=t.onAccessDialogOpened,r=void 0===i?I:i,o=t.onAccessDialogClosed,a=void 0===o?I:o,s=t.videoSource,c=t.constraints;return new e(((e,t)=>{E.checkCapability((i=>{if(i.supported)if(!1===i.extensionRegistered)t(f(A.SCREEN_SHARING_EXTENSION_NOT_REGISTERED,new Error("Screen Sharing support in this browser requires an extension, but one has not been registered.")));else if(i.extensionRequired&&!1===i.extensionInstalled)t(f(A.SCREEN_SHARING_EXTENSION_NOT_INSTALLED,new Error("Screen Sharing support in this browser requires an extension, but the extension is not installed.")));else{const n=E.pickHelper();n.proto.getConstraintsShowsPermissionUI&&r(),n.instance.getConstraints(s,c,((i,r)=>{n.proto.getConstraintsShowsPermissionUI&&a(),i?t(i):e(r)}))}else{let e="Screen Sharing is not supported in this browser";m.env.isElectron?e="Set the webPreferences.contextIsolation option of the Electron BrowserWindow to false or use a preload script to access the desktop capturer. For more information, see https://tokbox.com/developer/guides/screen-sharing/js/.":"Chrome"===m.env.name&&m.env.version>73&&"https:"!==(void 0!==typeof window?window:n.g).location.protocol&&(e="https:// is required for screen sharing"),t(f(A.SCREEN_SHARING_NOT_SUPPORTED,new Error(e)))}}))}))},E};var o=r(i(62)),a=r(i(13)),s=r(i(8)),c=r(i(292)),l=r(i(648)),d=r(i(650)),u=r(i(299)),h=r(i(7))}).call(this,i(2))},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=function(e){void 0===e&&(e={});const t=e.Errors||a.default,n=e.ExceptionCodes||r.default,i=e.otError||(0,o.default)(),s={ICEWorkflow:t.ICE_WORKFLOW_FAILED,NewPeerConnection:t.CREATE_PEER_CONNECTION_FAILED,SetRemoteDescription:t.SET_REMOTE_DESCRIPTION_FAILED,Subscribe:{404:t.STREAM_NOT_FOUND,[n.STREAM_LIMIT_EXCEEDED]:t.STREAM_LIMIT_EXCEEDED}};return function(e,r,o,a,c){const l="".concat((o?"".concat(o,": "):"")+c," PeerConnection with connection ").concat(a," failed: ").concat(r),d=s[o]||{},u="string"===typeof d?d:d[e],h="Publisher"===c?n.UNABLE_TO_PUBLISH:n.UNABLE_TO_SUBSCRIBE;if(!u){const e=new Error(l);return e.code=h,e}const A="ICEWorkflow"===o?"Publisher"===c?n.PUBLISHER_ICE_WORKFLOW_FAILED:n.SUBSCRIBER_ICE_WORKFLOW_FAILED:u===t.STREAM_LIMIT_EXCEEDED?n.STREAM_LIMIT_EXCEEDED:h;return i(u,new Error(l),A)}};var r=i(n(10)),o=i(n(13)),a=i(n(8))},function(e,t,i){"use strict";var r=i(0);t.__esModule=!0,t.default=function(e){void 0===e&&(e={});const t=e.OTHelpers||o.default,i=(e.global||(void 0!==typeof window?window:n.g)).RTCPeerConnection;return function(e,n){"Firefox"===t.env.name&&i&&i.generateCertificate?i.generateCertificate({name:"RSASSA-PKCS1-v1_5",hash:"SHA-256",modulusLength:2048,publicExponent:new Uint8Array([1,0,1])}).catch((e=>{n(e)})).then((t=>{e.certificates=[t],n(void 0,e)})):setTimeout((()=>{n(void 0,e)}))}};var o=r(i(7))},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var i={bandwidthCriticalThreshold:7e4,bandwidthFairThreshold:0,packetLossCriticalThreshold:.15,packetLossCriticalThresholdMediumBw:.2,criticalCongestionPeriod:16e3};t.default=i},function(e,t,n){"use strict";t.__esModule=!0,t.ONE_SECOND_IN_MS=t.ONE_MINUTE_IN_MS=void 0,t.ONE_SECOND_IN_MS=1e3,t.ONE_MINUTE_IN_MS=6e4},function(e,t,n){"use strict";(function(e){t.__esModule=!0,t.default=function(t){return function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return new e(((e,n)=>{t(...i,(function(t){if(t)n(t);else{for(var i=arguments.length,r=new Array(i>1?i-1:0),o=1;o<i;o++)r[o-1]=arguments[o];1!==r.length?e(r):e(r[0])}}))}))}}}).call(this,n(2))},function(e,t,i){"use strict";var r=i(0);t.__esModule=!0,t.default=void 0;var o=r(i(4)),a=r(i(5)),s=r(i(36)),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=r?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(i,o,a):i[o]=e[o]}return i.default=e,n&&n.set(e,i),i}(i(110)),l=r(i(6)),d=r(i(1)),u=r(i(57)),h=r(i(3)),A=r(i(677)),p=r(i(678)),g=r(i(7)),f=r(i(106)),m=r(i(679)),E=r(i(680)),C=r(i(681)),I=r(i(682)),Q=r(i(683)),U=r(i(170)),y=i(315);function b(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}const v=(0,d.default)("WidgetView");(0,f.default)();var R=function(e){let t=void 0===e?{}:e,i=t.logging,r=void 0===i?v:i,d=t.OTHelpers,b=void 0===d?g.default:d,R=t.waitForVideoToBePlaying,S=void 0===R?I.default:R,F=t.VideoElementFacade,B=void 0===F?(0,f.default)():F,T=t.env,N=void 0===T?h.default:T;const _=(0,p.default)({window:void 0!==typeof window?window:n.g}),w=e=>{if(e.isCanceled())throw r.debug("bindVideo bailing due to cancellation"),new c.CancellationError("CANCEL")};let k=function(){function e(e,t){let n=void 0===t?{}:t,i=n.insertDefaultUI,o=void 0===i||i,a=n.width,s=void 0===a?264:a,c=n.height,d=void 0===c?198:c,h=n.fitMode,p=void 0===h?"cover":h,g=n.mirror,f=void 0!==g&&g,m=n.insertMode,I=n.classNames,Q=n.style,U=n.widgetType,y=n.initials;this._videoElementFacade=void 0,this._container=void 0,this._posterContainer=document.createElement("div"),this._widgetContainer=document.createElement("div"),this._loading=!0,this._audioOnly=!1,this._showPoster=void 0,this._poster=void 0,this._cancelBind=void 0,this.MAX_VIDEO_LOADED_SECS=2e3,this.MAX_VIDEO_LOADED_RETRIES=3,(0,l.default)(this),!1===/^(contain|cover)$/.test(p)&&r.warn('Invalid fit value "'.concat(p,'" passed. Only "contain" and "cover" can be used.')),this._widgetType=U,this._fitMode=p,this._insertDefaultUI=o;const v=(0,u.default)(this._widgetContainer);if(v.on("click",this.userGesture.bind(this)),v.on("touchstart",this.userGesture.bind(this),!!_&&{passive:!0}),this.once("destroy",(()=>v.removeAll())),this._widgetContainer.classList.add("OT_widget-container"),this._widgetContainer.style.width="100%",this._widgetContainer.style.height="100%",!1!==o){this._container=(0,E.default)(e,m),N.isSafari&&N.isiOS&&N.iOSVersion&&N.iOSVersion<11.2&&this._container.classList.add("OT_ForceContain"),this._container.style.width=(0,A.default)(s),this._container.style.height=(0,A.default)(d),this._container.style.overflow="hidden",(0,C.default)(this._container),f&&b.addClass(this._container,"OT_mirrored"),I&&I.trim().split(/\s+/).forEach((e=>this._container.classList.add(e))),this._container.classList.add("OT_loading"),this._container.classList.add("OT_fit-mode-".concat(p)),this._container.appendChild(this._widgetContainer);const t=b(this._container).observeSize((()=>(0,C.default)(this._container)))[0],n=b.observeNodeOrChildNodeRemoval(this._container,(e=>{this._videoElementFacade&&e.some((e=>e===this._widgetContainer||e===this._videoElementFacade.domElement()))&&this.destroyVideo()}));this.once("destroy",(()=>{r.debug("disconnecting observers"),t.disconnect(),n.disconnect()}))}this._posterContainer.classList.add("OT_video-poster"),this._widgetContainer.appendChild(this._posterContainer);const R=document.createElement("div");R.classList.add("OT_video-loading");const S=document.createElement("div");S.classList.add("OT_video-loading-spinner"),R.appendChild(S),this._widgetContainer.appendChild(R),Q&&Q.backgroundImageURI?this.setBackgroundImageURI(Q.backgroundImageURI):y&&this.setInitials(y)}var t=e.prototype;return t.addError=function(e,t,n){this._container&&(this._container.innerHTML="<p>".concat(e).concat(t?' <span class="ot-help-message">'.concat(t,"</span>"):"","</p>"),b.addClass(this._container,n||"OT_subscriber_error"),this._container.querySelector("p").offsetHeight>this._container.offsetHeight&&(this._container.querySelector("span").style.display="none"))},t.destroy=function(){this.emit("destroy"),this.destroyVideo(),this._container&&(b.removeElement(this._container),this._container=null)},t.setBackgroundImageURI=function(e){b.css(this._posterContainer,"backgroundImage","url(".concat(e,")")),b.css(this._posterContainer,"backgroundSize","contain"),b.css(this._posterContainer,"opacity","1.0")},t.setInitials=function(e){const t=(0,m.default)(e),n=(new XMLSerializer).serializeToString(t);b.css(this._posterContainer,"backgroundImage","url('data:image/svg+xml,".concat(n,"')")),b.css(this._posterContainer,"backgroundSize","auto 55%"),b.css(this._posterContainer,"opacity","1.0")},t.isAudioBlocked=function(){return Boolean(this._videoElementFacade&&this._videoElementFacade.isAudioBlocked())},t.unblockAudio=function(){return this._videoElementFacade.unblockAudio()},t.userGesture=function(){this.isAudioBlocked()&&(0,U.default)().then((()=>r.debug("Successfully unblocked audio")),(e=>r.error("Error retrying audio on user interaction:",e)))},t.setAudioBlockedUi=function(e){this._container&&(e?this._container.classList.add("OT_container-audio-blocked"):this._container.classList.remove("OT_container-audio-blocked"))},t.rebindSrcObject=function(){this._videoElementFacade&&this._videoElementFacade._rebindSrcObject()},t.pauseAndPlayVideoElement=function(){this._videoElementFacade&&this._videoElementFacade._pauseAndPlay()},t._loadVideoBuffer=function(){var e=(0,a.default)(o.default.mark((function e(t,n,i){var r,a,s;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===i&&(i={}),r=i.createElement?i:document,a=!1,(s=r.createElement("video")).srcObject=t,e.prev=5,e.next=8,s.play();case 8:return e.next=10,S(s,n);case 10:a=e.sent,e.next=15;break;case 13:e.prev=13,e.t0=e.catch(5);case 15:return s.srcObject=null,s.remove(),e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,null,[[5,13]])})));return function(t,n,i){return e.apply(this,arguments)}}(),t._emitAMREvent=function(e,t,n){this.emit("amrLogEvent",e,t,n)},t._createVideoElementFacade=function(e){let t=e._inject,n=e.audioVolume,i=e.fallbackText,o=e.muted;this._videoElementFacade=new B({defaultAudioVolume:parseFloat(n),fallbackText:i,fitMode:this._fitMode,_inject:t,muted:o,widgetType:this._widgetType});const a=(0,u.default)(this._videoElementFacade);if(this._videoFacadeEvents=a,a.on("error",(()=>{this.trigger("error")})),a.on("videoDimensionsChanged",((e,t)=>{this.trigger("videoDimensionsChanged",e,t)})),a.on("mediaStopped",(e=>{this.trigger("mediaStopped",e)})),a.on("audioBlocked",(()=>this.trigger("audioBlocked"))),a.on("audioUnblocked",(()=>this.trigger("audioUnblocked"))),this._videoElementFacade.audioChannelType("telephony"),r.debug("Appending the video facade"),this._videoElementFacade.appendTo(this._widgetContainer),"undefined"!==typeof n)try{this._videoElementFacade.setAudioVolume(n)}catch(s){r.warn("bindVideo ".concat(s))}},t._bindToStream=function(){var e=(0,a.default)(o.default.mark((function e(t,n){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._videoElementFacade.bindToStream(t);case 3:e.next=14;break;case 5:if(e.prev=5,e.t0=e.catch(0),!n.isCanceled()){e.next=12;break}throw r.debug("Refusing to destroyVideo as bindVideo was cancelled"),new c.CancellationError("CANCEL");case 12:throw this.destroyVideo(),e.t0;case 14:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t,n){return e.apply(this,arguments)}}(),t._getNewBindCancellation=function(){this._cancelBind&&(r.debug("Cancelling last bindVideo request"),this._cancelBind.cancel());const e=new c.default;return this._cancelBind=e,this.once("destroy",(()=>e.cancel())),e},t._triggerVideoElementCreated=function(){const e=e=>{this.trigger("videoElementCreated",e),this._insertDefaultUI&&b.addClass(e,"OT_video-element")};this._videoElementFacade.domElement()?e(this._videoElementFacade.domElement()):this._videoFacadeEvents.on("videoElementCreated",(t=>{e(t)}))},t._waitForVideoResolution=function(){var e=(0,a.default)(o.default.mark((function e(t){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.audioOnly()||!(t.getVideoTracks().length>0)){e.next=5;break}return r.debug("Waiting for correct resolution"),e.next=4,(0,Q.default)(this._videoElementFacade,5e3);case 4:r.debug("Resolution: ".concat(this._videoElementFacade.videoWidth(),"x").concat(this._videoElementFacade.videoHeight()));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t._tryToLoadVideoBuffer=function(){var e=(0,a.default)(o.default.mark((function e(t,n){var i,r;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._emitAMREvent("AMRLoadVideoBuffer","Attempt"),i=this.MAX_VIDEO_LOADED_RETRIES,r=!1;case 3:if(r||!i){e.next=10;break}return e.next=6,this._loadVideoBuffer(t,this.MAX_VIDEO_LOADED_SECS);case 6:r=e.sent,i--,e.next=3;break;case 10:if(r){e.next=16;break}if(this._emitAMREvent("AMRLoadVideoBuffer","Failure"),!n){e.next=15;break}throw(0,y.createAmrVideoBufferError)();case 15:return e.abrupt("return");case 16:this._emitAMREvent("AMRLoadVideoBuffer","Success"),this._videoFacadeEvents.on("amrLogEvent",((e,t,n)=>{this._emitAMREvent(e,t,n)}));case 18:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),t.bindVideo=function(){var e=(0,a.default)(o.default.mark((function e(t,n,i){var a,s,c,l,d,u,h,A;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.audioVolume,s=n.muted,c=n.fallbackText,l=n.hasVideo,d=n._inject,void 0===i&&(i=!1),r.debug("bindVideo ",{webRTCStream:t}),u=!!this._videoElementFacade,h=this._getNewBindCancellation(),u){e.next=9;break}this._createVideoElementFacade({_inject:d,audioVolume:a,fallbackText:c,muted:s}),e.next=13;break;case 9:if(!(t instanceof MediaStream)){e.next=13;break}if(!l){e.next=13;break}return e.next=13,this._tryToLoadVideoBuffer(t,i);case 13:return e.next=15,this._bindToStream(t,h);case 15:return u||this._triggerVideoElementCreated(),w(h),A=S(this._videoElementFacade,5e3),e.next=20,this._waitForVideoResolution(t);case 20:return r.debug("Waiting for video to be playing"),e.next=23,A;case 23:r.debug("Video is playing"),w(h);case 25:case"end":return e.stop()}}),e,this)})));return function(t,n,i){return e.apply(this,arguments)}}(),t.bindAudioTrackOnly=function(){this._videoElementFacade&&this._videoElementFacade.bindAudioTrackOnly()},t.destroyVideo=function(){this._videoElementFacade&&(this._videoElementFacade.destroy(),this._videoElementFacade=null)},t.video=function(){return this._videoElementFacade},t.showPoster=function(e){return void 0===e?!b.isDisplayNone(this._posterContainer):(this._showPoster=e,b[e?"show":"hide"](this._posterContainer),this.showPoster())},t.poster=function(e){return void 0===e?b.css(this._posterContainer,"backgroundImage"):(this._poster=e,b.css(this._posterContainer,"backgroundImage","url(".concat(e,")")),this.poster())},t.loading=function(e){return void 0===e?this._loading:(this._loading=Boolean(e),this._container&&this._container.classList[e?"add":"remove"]("OT_loading"),this.loading())},t.audioOnly=function(e){return void 0===e?this._audioOnly:(this._audioOnly=e,this._container&&this._container.classList[e?"add":"remove"]("OT_audio-only"),this.audioOnly())},t.domId=function(){return this._container&&this._container.getAttribute("id")},t.setSinkId=function(e){if(this._videoElementFacade)return this._videoElementFacade.setSinkId(e)},(0,s.default)(e,[{key:"domElement",get:function(){return this._container}},{key:"videoElement",get:function(){return this._videoElementFacade&&this._videoElementFacade.domElement()||void 0}},{key:"width",get:function(){return this.videoElement&&this.videoElement.offsetWidth}},{key:"height",get:function(){return this.videoElement&&this.videoElement.offsetHeight}}]),e}();return k};t.default=R},function(e,t,n){"use strict";(function(e){var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(24));t.default=()=>e.all(r.default.subscribers.where().map((e=>{if(e.isAudioBlocked())return e._.unblockAudio()})))}).call(this,n(2))},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0,t.default=e=>"P2P"===e?"RELAYED":"ROUTED"},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(4)),o=i(n(5));const a=(0,i(n(1)).default)("MediaProcessorConnector");let s=function(e){var t=this;this.setTrack=function(){var e=(0,o.default)(r.default.mark((function e(n){var i;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=null,e.prev=1,e.next=4,t.connector.setTrack(n);case 4:i=e.sent,t.originalTrack=n,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),a.error("Error setting track: ".concat(e.t0));case 11:return e.abrupt("return",i);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),this.destroy=(0,o.default)(r.default.mark((function e(){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.connector.destroy();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),a.warn("Error destroying connector: ".concat(e.t0));case 8:case"end":return e.stop()}}),e,null,[[0,5]])}))),this.stopOriginalTrack=()=>{this.originalTrack&&(this.originalTrack.stop(),this.originalTrack=null)},this.connector=e};s.isValidConnector=e=>"function"===typeof(null==e?void 0:e.setTrack)&&"function"===typeof(null==e?void 0:e.destroy);var c=s;t.default=c},function(e,t,i){"use strict";(function(e){var r=i(0);t.__esModule=!0,t.default=function(t){void 0===t&&(t={});let i=t,r=(0,c.default)({},((0,s.default)(i),i));["processPubOptions"].forEach((e=>{(0,E.default)(r[e],"".concat(e," dependency must be injected into Publisher"))}));const X=r.AnalyticsHelper||Z.default,Ue=r.createAudioFallbackCoordinator||b.default,ve=r.calculateCapableSimulcastStreams||te.default,Re=r.createChromeMixin||(0,ne.default)(),Se=r.deviceHelpers||(0,B.default)(),Fe=r.EnvironmentLoader||ie.default,Be=r.Errors||L.default,Te=r.Events||(0,re.default)(),Ne=r.ExceptionCodes||_.default,_e=r.interpretPeerConnectionError||(0,oe.default)(),we=r.IntervalRunner||N.default,ke=r.logging||(0,R.default)("Publisher"),De=r.Microphone||(0,ae.default)(),Ve=r.otError||(0,x.default)(),Ze=r.OTErrorClass||w.default,We=r.OTHelpers||se.default,Oe=r.parseIceServers||ce.parseIceServers,Je=r.PUBLISH_MAX_DELAY||le.default,xe=r.PublisherPeerConnection||(0,de.default)(),Me=r.PublishingState||(0,ue.default)(),Le=r.StreamChannel||he.default,Pe=r.systemRequirements||Ae.default,Ge=r.VideoOrientation||(0,D.default)(),Ye=r.WidgetView||ye,je=r.global||(void 0!==typeof window?window:n.g),Xe=r.createSendMethod||pe.default,Ke=r.MediaProcessor||ge.default,He=fe.default,ze=r.shouldLogMediaProcessorEvents||me.default,qe=r.processPubOptions,$e=r.KEEP_SENDING_MEDIA_AFTER_TRANSITIONED||5e3,et=r.KEEP_SENDING_MEDIA_TO_KEEP_ALIVE||3e3,tt=r.KEEP_SENDING_RTCP_DELAY||3e4;return function(t){var i=this;void 0===t&&(t={});let r=(0,v.default)({});const s=new I.default,c=(0,Qe.default)(),E=e=>s.get(e);(0,v.default)(this);const b=(0,Y.default)();let R,B,N,_,w,D,Z,x,L,te,ne,ie,re,oe=new X;Pe.check()||Pe.upgrade();let ae,se,ce,le,de,ue=!1;const he={},Ae={};let pe,ge,fe,me=!1;const ye=t._enableDownlinkStats,nt=()=>this.session||fe||{isConnected:()=>!1},it=[],rt=new Ke,ot=new Ce.default;function at(){return{connectionId:nt().isConnected()?nt().connection.connectionId:null,streamId:B,widgetType:"Publisher"}}this.once("publishComplete",(e=>{var t;e||(ue=!0,ae=null!=(t=this.session)&&t.sessionInfo.p2pEnabled?"P2P":"MANTIS")})),this.on("sourceStreamIdChanged",(e=>{ae=e,c.completeTransitionTo(ae)})),this.on("audioAcquisitionProblem",(e=>{let t=e.method;Bt("publisher:audioAcquisitionProblem","Event",{didPublishComplete:ue,method:t})}));const st=e=>{const t=Object.keys(Be).map((e=>Be[e])),n=Ve(t.indexOf(e.name)>-1?e.name:Be.MEDIA_ERR_ABORTED,e,Ne.UNABLE_TO_PUBLISH);ke.error("onStreamAvailableError ".concat(n.name,": ").concat(n.message)),D.set("Failed"),R&&(R.destroy(),R=null);const i={failureReason:"GetUserMedia",failureCode:Ne.UNABLE_TO_PUBLISH,failureMessage:"OT.Publisher failed to access camera/mic: ".concat(n.message)};Nt("Failure",{},i),Ze.handleJsException({error:n,errorMsg:i.failureReason,code:i.failureCode,target:this,analytics:oe}),this.trigger("publishComplete",n)},ct=e=>{const t=(0,u.default)(e);t.code=Ne.UNABLE_TO_PUBLISH,ke.error("OT.Publisher.onScreenSharingError ".concat(t.message)),D.set("Failed"),t.message="Screensharing: ".concat(t.message),this.trigger("publishComplete",t),Nt("Failure",{},{failureReason:"ScreenSharing",failureMessage:t.message}),R&&(R.destroy(),R=null)},lt=e=>{const t=(0,u.default)(e);let i;try{i=window.self!==window.top}catch(r){}"https:"!==(void 0!==typeof window?window:n.g).location.protocol&&(It?t.message+=" Note: https:// is required for screen sharing.":(0,J.default)()&&"localhost"!==We.env.hostName&&(t.message+=" Note: ".concat(We.env.name," requires HTTPS for camera and microphone access."))),i&&!It&&(t.message+=" Note: Check that the iframe has the allow attribute for camera and microphone"),ke.error(t.message),D.set("Failed"),t.message="OT.Publisher Access Denied: Permission Denied: ".concat(t.message),t.code=Ne.UNABLE_TO_PUBLISH,R&&(R.destroy(),R=null),Nt("Cancel",{reason:"AccessDenied"}),this.trigger("publishComplete",t),this.dispatchEvent(new G.default(V.default.ACCESS_DENIED))},dt=e=>{throw e instanceof Error||/^\[object .*Error\]$/.test(Object.prototype.toString.call(e))||(e=new Error("Unknown error has occurred. Stream is not available.")),e.name===Be.USER_MEDIA_ACCESS_DENIED||e.name===Be.NOT_SUPPORTED&&e.originalMessage.match(/Only secure origins/)?lt(e):qe.isScreenSharing?ct(e):st(e),e},ut=()=>{Bt("accessDialog","Opened"),this.dispatchEvent(new G.default(V.default.ACCESS_DIALOG_OPENED,!0))},ht=()=>{Bt("accessDialog","Closed"),this.dispatchEvent(new G.default(V.default.ACCESS_DIALOG_CLOSED,!1))},At=(0,C.default)(),pt={};let gt=!1,ft={},mt=!1,Et=qe(t,"OT.Publisher",(()=>D&&D.isDestroyed()));Et.on({accessDialogOpened:ut,accessDialogClosed:ht});const Ct=Et,It=Ct.isScreenSharing,Qt=Ct.isCustomAudioTrack,Ut=Ct.isCustomVideoTrack,yt=Ct.shouldAllowAudio,bt=Ct.properties,vt=Ct.getUserMedia;function Rt(e){e.forEach((e=>e()))}Object.defineProperty(this,"loudness",{writable:!1,value:void 0,configurable:!0});const St=(e,t,n)=>e.addEventListener?(e.addEventListener(t,n),()=>e.removeEventListener(t,n)):()=>{};(function(){const e=[];r.on("streamDestroy",(()=>Rt(e))),r.on("streamChange",(()=>{Rt(e);const t=N.getAudioTracks().map((e=>St(e,"ended",(()=>{mt=!0,this.trigger("audioAcquisitionProblem",{method:"trackEndedEvent"})}))));e.splice(0,e.length,...t)}))}).call(this),function(){const e=[];r.on("streamDestroy",(()=>Rt(e))),r.on("streamChange",(()=>{Rt(e),Ft()||N.getTracks().forEach((t=>{t.addEventListener&&(e.push(St(t,"mute",(()=>{hn()}))),e.push(St(t,"unmute",(()=>{hn()}))))}))}))}();const Ft=()=>{if(It)return!0;const e=["text","detail"].includes(bt.videoContentHint);return Ut&&e},Bt=t.logAnalyticsEvent||((e,t,n,i,r)=>{let o=(0,d.default)({action:e,variation:t,payload:n},at(),i);"Failure"===t&&(o=(0,d.default)(ft,o)),ft=(0,p.default)(o,"sessionId","connectionId","partnerId"),oe.logEvent(o,r)}),Tt=()=>{if(!ze(this.session))return void rt.disableLogging();const e=this.session.apiKey;rt.enableLogging(e)},Nt=function(e,t,n){void 0===t&&(t={}),void 0===n&&(n={}),"Non-fatal"!==n.failureReason&&("Attempt"===e&&(x=(new Date).getTime(),ge&&(ge.stop(),ke.error("_connectivityAttemptPinger should have been cleaned up")),ge=new we((()=>{Bt("Publish","Attempting",t,Object.assign({},at(),n))}),.2,6)),"Failure"===e||"Success"===e||"Cancel"===e?(ge?(ge.stop(),ge=void 0):ke.warn('Received connectivity event: "'.concat(e,'" without "Attempt"')),Bt("Publish",e,Object.assign({videoInputDevices:te,audioInputDevices:L,videoInputDeviceCount:te?te.length:void 0,audioInputDeviceCount:L?L.length:void 0,selectedVideoInputDeviceId:ne,selectedAudioInputDeviceId:ie},t),Object.assign({attemptDuration:(new Date).getTime()-x},n))):Bt("Publish",e,t,n))},_t=(e,t)=>{Bt("ICERestart",e,t)},wt=(e,t,n)=>{"Attempt"===t?(he[e]=(new Date).getTime(),Bt(e,t,n)):"Failure"!==t&&"Success"!==t||Bt(e,t,n,{attemptDuration:(new Date).getTime()-he[e]})},kt=function(e,t){void 0===t&&(t={}),wt("RoutedToRelayedTransition",e,t)},Dt=function(e,t){void 0===t&&(t={}),wt("RelayedToRoutedTransition",e,t)},Vt=(0,g.default)((()=>{Bt("GetStats","Called")})),Zt=(0,g.default)((()=>{Bt("GetRtcStatsReport","Called")})),Wt=e=>{var n;let i=e.parsedStats,r=e.simulcastEnabled,o=e.remoteConnectionId,a=e.peerId,s=e.sourceStreamId;const c={peerId:a,widgetType:"Publisher",connectionId:this.session&&this.session.isConnected()?this.session.connection.connectionId:null,streamId:B,width:R.width,height:R.height,audioTrack:N&&N.getAudioTracks().length>0,hasAudio:un(),publishAudio:bt.publishAudio,videoTrack:N&&N.getVideoTracks().length>0,hasVideo:dn(),publishVideo:bt.publishVideo,audioSource:Qt?"Custom":void 0,duration:_?Math.round(((new Date).getTime()-_.getTime())/1e3):0,remoteConnectionId:o,scalableVideo:r,sourceStreamId:(0,ee.default)(s),publisherAudioFallbackEnabled:(null==(n=bt.audioFallback)?void 0:n.publisher)||!1};let l=(It&&Ut?"Screen":It&&t.videoSource)||Ut&&"Custom"||bt.constraints.video&&"Camera"||null;(0,A.default)(l)&&(l=(0,f.default)(l)),c.videoSource=l;const u={videoWidth:this.videoWidth(),videoHeight:this.videoHeight()},h=(0,d.default)({},c,i,u);oe.logQOS(h),this.trigger("qos",h)},Ot=()=>{var e,t;let n=(null==(e=bt.videoDimensions)?void 0:e.width)||640,i=(null==(t=bt.videoDimensions)?void 0:t.height)||480;if(bt.publishVideo){var r;const e=null==(r=R)?void 0:r.video();n=(null==e?void 0:e.videoWidth())||n,i=(null==e?void 0:e.videoHeight())||i}return{width:n,height:i}},Jt=()=>{D.isDestroyed()?R&&R.destroyVideo():(ke.debug("OT.Publisher.onLoaded; resolution:","".concat(this.videoWidth(),"x").concat(this.videoHeight())),D.set("MediaBound"),(0,H.default)().catch(ke.error),R.loading(!!this.session&&!this.stream),gt=!0)},xt=e=>{const t=Ve(Be.CONNECT_FAILED,e,Ne.P2P_CONNECTION_FAILED);t.message="OT.Publisher PeerConnection Error: ".concat(t.message),Nt("Failure",{},{failureReason:"PeerConnectionError",failureCode:t.code,failureMessage:t.message}),D.set("Failed"),this.trigger("publishComplete",t),Ze.handleJsException({error:t,target:this,analytics:oe})},Mt=()=>{N&&(r.emit("streamDestroy"),je.MediaStreamTrack&&je.MediaStreamTrack.prototype.stop?N.getTracks().forEach((e=>e.stop())):N.stop())},Lt=()=>{const e=F.default.isiOS&&F.default.iOSVersion>=15&&F.default.iOSVersion<15.2,t=N.getVideoTracks()[0];e&&t&&document.addEventListener("visibilitychange",(()=>{!document.hidden&&R&&R.rebindSrcObject()}))},Pt=()=>{const e=F.default.isiOS&&F.default.iOSVersion>=13.3,t=N.getAudioTracks()[0];e&&t&&(t.onmute=()=>Kn(t),t.onunmute=()=>Hn(t))},Gt=function(){var e=(0,a.default)(o.default.mark((function e(){var t;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t={muted:!0},R){e.next=3;break}throw new Error("Cannot bind video after widget view has been destroyed");case 3:return e.abrupt("return",R.bindVideo(N,t));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Yt=function(){var e=(0,a.default)(o.default.mark((function e(t){var n;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ke.debug("OT.Publisher.onStreamAvailable"),D.set("BindingMedia"),void 0!==bt.videoContentHint&&(0,k.setVideoContentHint)(t,bt.videoContentHint),Mt(),N=t,!bt.videoFilter){e.next=14;break}return e.prev=6,e.next=9,i.applyVideoFilter(bt.videoFilter);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(6),ke.error("Error applying video filter: ".concat(e.t0));case 14:r.emit("streamChange"),Pt(),Lt(),ne=(n=(e,t)=>{let n;return e.forEach((e=>{if(e.deviceId)n=e.deviceId.toString();else if(e.label&&t){const i=(0,h.default)(t,(t=>t.label===e.label));i&&(n=i.deviceId)}})),n})(N.getVideoTracks(),te),ie=n(N.getAudioTracks(),L),w=new De(N,!bt.publishAudio),Sn(),bn(),i.accessAllowed=!0,i.dispatchEvent(new G.default(V.default.ACCESS_ALLOWED,!1));case 25:case"end":return e.stop()}}),e,null,[[6,11]])})));return function(t){return e.apply(this,arguments)}}(),jt=e=>{let t,n;ke.error("OT.Publisher.onPublishingTimeout"),mt?(t=Be.CHROME_MICROPHONE_ACQUISITION_ERROR,n="Unable to publish because your browser failed to get access to your microphone. You may need to fully quit and restart your browser to get it to work. See https://bugs.chromium.org/p/webrtc/issues/detail?id=4799 for more details."):(t=Be.TIMEOUT,n="Could not publish in a reasonable amount of time");const i={failureReason:"ICEWorkflow",failureCode:Ne.UNABLE_TO_PUBLISH,failureMessage:"OT.Publisher failed to publish in a reasonable amount of time (timeout)"};Nt("Failure",{},i),Ze.handleJsException({errorMsg:i.failureReason,code:i.failureCode,target:this,analytics:oe}),e.isConnected()&&this.streamId&&e._.streamDestroy(this.streamId),this.disconnect(),this.session=null,D.isDestroyed()||D.set("MediaBound"),this.trigger("publishComplete",Ve(t,new Error(n),Ne.UNABLE_TO_PUBLISH))},Xt=e=>{const t=Ve(Be.MEDIA_ERR_DECODE,e,Ne.UNABLE_TO_PUBLISH);t.message="OT.Publisher while playing stream: ".concat(t.message),ke.error("OT.Publisher.onVideoError:",t),Bt("stream",null,{reason:t.message});const n=D.isAttemptingToPublish();D.set("Failed"),n?this.trigger("publishComplete",t):this.trigger("error",t.message),Ze.handleJsException({error:t,target:this,analytics:oe})};this._setWebRTCStream=e=>{N=e},this._setCurrentVideoFilter=e=>{_n=e},this._getCurrentVideoFilter=()=>_n,this._getMediaProcessor=()=>rt,this._removePeerConnection=e=>{var t;if(!e)return;const n=E(e).peerConnectionId;delete pt[n],e.destroy(),null==(t=Zn)||t.onPeerConnectionDisconnected()},this._removeSubscriber=e=>{this.session.sessionInfo.isAdaptiveEnabled&&"P2P"===ae&&this._.startRelayedToRoutedTransition(),nn(e).then((e=>{e.forEach((e=>this._removePeerConnection(e)))}))};const Kt=e=>{const t=E(e),n=t.remoteSubscriberId,i=t.peerConnectionId;ke.debug("Subscriber has been disconnected from the Publisher's PeerConnection"),Bt("disconnect","PeerConnection",{subscriberConnection:i}),this._removeSubscriber(n)},Ht=function(){var e=(0,a.default)(o.default.mark((function e(t,n){var r,a,s,c,l,d,u,h,A,p;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.reason,a=n.prefix,s=i.session&&i.session.sessionInfo,!("ICEWorkflow"===a&&s&&s.reconnection&&gt)){e.next=5;break}return ke.debug("Ignoring peer connection failure due to possibility of reconnection."),e.abrupt("return");case 5:return c=E(t)||{},l=c.remoteConnectionId,d=void 0===l?"(not found)":l,u=c.peerConnectionId,h=_e(void 0,r,a,d,"Publisher"),A={hasRelayCandidates:t&&t.hasRelayCandidates()},p={failureReason:a||"PeerConnectionError",failureCode:h.code,failureMessage:h.message},D.isPublishing()?p.reason="Non-fatal":i.trigger("publishComplete",h),Nt("Failure",A,p),Ze.handleJsException({errorMsg:"OT.Publisher PeerConnection Error: ".concat(r),code:h.code,target:i,analytics:oe}),e.next=14,pt[u];case 14:e.sent.destroy(),delete pt[u];case 17:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),zt=e=>this.session.sessionInfo.isAdaptiveEnabled&&"P2P"===e.getSourceStreamId(),qt=function(){var e=(0,a.default)(o.default.mark((function e(t,n){var r,a,s,c,l;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=i.session.sessionInfo.isAdaptiveEnabled,a=n.getSourceStreamId(),Ae[a]=t,"disconnected"===t&&setTimeout((()=>{const e=i.session._.isSocketReconnecting,t=i.session._.getSocket().is("connected")&&!e();if("disconnected"===Ae[a]&&t){const e=E(n).remoteConnectionId;_t("Attempt",{remoteConnectionId:e}),n.iceRestart()}}),2e3),"connected"!==t){e.next=14;break}if(clearTimeout(pe),!r){e.next=14;break}return e.next=9,an();case 9:return s=e.sent.iceConnectionStateIsConnected(),e.next=12,sn();case 12:c=e.sent.iceConnectionStateIsConnected(),s&&c&&gn();case 14:if("failed"!==t){e.next=21;break}if(l=i.session._.isSocketReconnecting,i.session._.getSocket().is("connected")&&!l()){e.next=20;break}return e.abrupt("return");case 20:r&&a===ae&&"P2P"===a?i._.startRelayedToRoutedTransition():pe=setTimeout((()=>{i.session._.streamDestroy(i.streamId,a)}),5e3);case 21:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),$t=e=>{e.setP2PMaxBitrate(),e.startEncryption(this.session.connection.id),zt(e)&&kt("Success")},en=n=>{let i=n.peerConnectionId,r=n.send,o=n.log,a=n.logQoS,s=n.sourceStreamId;if(rn(i))return e.reject(new Error("PeerConnection already exists"));const c=ve({isChromiumEdge:We.env.isChromiumEdge,browserName:We.env.name,isScreenSharing:It,isCustomVideoTrack:Ut,sessionInfo:this.session.sessionInfo,constraints:bt.constraints,videoDimensions:Ot(),capableSimulcastScreenshare:bt.capableSimulcastScreenshare,scalableVideo:bt.scalableVideo});return pt[i]=e.all([this.session._.getIceConfig(),this.session._.getVideoCodecsCompatible(N)]).then((n=>{let i=n[0],l=n[1],d=N;if(!l){d=N.clone();const e=d.getVideoTracks()[0];e&&(e.stop(),d.removeTrack(e))}const u=new xe({iceConfig:i,sendMessage:(e,t)=>{"offer"===e&&this.trigger("connected"),r(e,t)},webRTCStream:d,channels:bt.channels,capableSimulcastStreams:c,overrideSimulcastEnabled:t._enableSimulcast,logAnalyticsEvent:o,offerOverrides:{enableDtx:bt.enableDtx,enableStereo:bt.enableStereo,audioBitrate:bt.audioBitrate,priorityVideoCodec:bt._priorityVideoCodec||this.session.sessionInfo.priorityVideoCodec,codecFlags:bt._codecFlags||this.session._.getCodecFlags()},answerOverrides:this.session.sessionInfo.p2pEnabled?void 0:{audioBitrate:bt.audioBitrate},sourceStreamId:s,isP2pEnabled:this.session.sessionInfo.p2pEnabled,sessionId:this.session.id,keyStore:this.session.keyStore,sFrameClientStore:this.session.sFrameClientStore,isE2ee:this.session._.isE2ee(),audioFallbackEnabled:bt.publisherAudioFallbackEnabled,resolution:{width:this.videoWidth(),height:this.videoHeight()}});return u.on({disconnected:()=>Kt(u),error:e=>{let t=e.reason,n=e.prefix;return Ht(u,{reason:t,prefix:n})},qos:a,iceRestartSuccess:()=>(e=>{const t=E(e).remoteConnectionId;_t("Success",{remoteConnectionId:t})})(u),iceRestartFailure:()=>(e=>{const t=E(e).remoteConnectionId;_t("Failure",{reason:"ICEWorkflow",message:"OT.Publisher PeerConnection Error: The stream was unable to connect due to a network error. Make sure your connection isn't blocked by a firewall.",remoteConnectionId:t})})(u),iceConnectionStateChange:e=>qt(e,u),audioAcquisitionProblem:()=>{mt=!0,this.trigger("audioAcquisitionProblem",{method:"getStats"})},audioFallbackStateChange:e=>Zn.onPeerConnectionStateChange(Object.assign({},e,{peerConnection:u,publishVideo:bt.publishVideo,stream:this.stream,peerId:E(u).peerId}))}),u.once("connected",(()=>$t(u))),new e(((e,t)=>{const n=e=>{t(e)};u.once("error",n),u.init(Z,(i=>{if(i)return t(i);u.off("error",n),e(u)}))}))})),rn(i)},tn=()=>e.all(Object.keys(pt).map(rn)),nn=e=>tn().then((t=>t.filter((t=>E(t).remoteSubscriberId===e)))),rn=e=>pt[e],on=e=>{const t=Object.keys(pt).find((t=>t.endsWith("~".concat(e))));return pt[t]},an=()=>on("MANTIS"),sn=()=>on("P2P");let cn=Re(this,{name:bt.name,publishAudio:bt.publishAudio,publishVideo:bt.publishVideo,audioSource:bt.audioSource,showControls:bt.showControls,shouldAllowAudio:yt,logAnalyticsEvent:Bt});const ln=()=>{this.off("publishComplete",hn),cn&&cn.reset(),b.releaseAll(),this.disconnect(),w=null,Mt(),N=null,R&&(R.destroy(),R=null),this.session&&this._.unpublishFromSession(this.session,"reset"),rt.getVideoFilter()&&Fn(),ot.destroy(),this.id=null,this.stream=null,gt=!1,this.session=null,D.isDestroyed()||D.set("NotPublishing")},dn=()=>{if(!N||0===N.getVideoTracks().length)return!1;const e=["text","detail"].includes(bt.videoContentHint),t=Ut&&e,n=We.env.isChromium&&(It||t);return N.getVideoTracks().reduce(((e,t)=>e&&(!t.muted||!!n)&&t.enabled&&"ended"!==t.readyState),bt.publishVideo)},un=()=>!(!N||0===N.getAudioTracks().length)&&N.getAudioTracks().length>0&&N.getAudioTracks().reduce(((e,t)=>e&&!t.muted&&t.enabled&&"ended"!==t.readyState),bt.publishAudio),hn=e=>{if(R&&(R.audioOnly(!dn()),R.showPoster(!dn())),cn&&cn.setAudioOnly(!dn()&&un()),this.stream){let t;me&&dn()&&(t=y.CongestionLevels.LOW,me=!1),this.stream.setChannelActiveState("audio",un(),e),this.stream.setChannelActiveState("video",dn(),e,t)}else this.off("publishComplete",hn),this.once("publishComplete",hn)},An=(t,n)=>{let i=!1;if("function"===typeof t?n=t:i="rtcStatsReport"===t,i?Zt():Vt(),!i||O.default)tn().then((e=>{if(0===e.length){const e=Ne.PEER_CONNECTION_NOT_CONNECTED;throw Ve(Be.PEER_CONNECTION_NOT_CONNECTED,new Error(Ze.getTitleByCode(e)),e)}return e})).then((e=>this.session.sessionInfo.isAdaptiveEnabled?e.filter((e=>e.getSourceStreamId()===ae)):e)).then((t=>e.all(t.map((e=>(i?(0,W.default)(e.getRtcStatsReport.bind(e)):(0,W.default)(e.getStats.bind(e)))().then((t=>({pc:e,stats:t})))))))).then((e=>{const t=_?_.getTime():Date.now(),r=e.map((e=>{let n=e.pc,r=e.stats;const o=E(n),a=o.remoteConnectionId,s=o.remoteSubscriberId;return(0,d.default)(a.match(/^symphony\./)?{}:{subscriberId:s,connectionId:a},i?{rtcStatsReport:r}:{stats:P.default.normalizeStats(r,!1,t)})}));n(null,r)})).catch(n);else{const e=Ne.GET_RTC_STATS_REPORT_NOT_SUPPORTED;n(Ve(Be.GET_RTC_STATS_REPORT_NOT_SUPPORTED,new Error(Ze.getTitleByCode(e)),e))}},pn=(e,t)=>{const n={name:bt.name||"",streamId:this.streamId,subscriberAudioFallbackEnabled:bt.subscriberAudioFallbackEnabled,channels:it,minBitrate:bt.minVideoBitrate,sourceStreamId:e,e2ee:this.session._.isE2ee(),publisherAudioFallbackEnabled:bt.publisherAudioFallbackEnabled,customProperties:{initials:bt.initials}};this.session._.streamCreate(n,t)},gn=function(){var e=(0,a.default)(o.default.mark((function e(){var t;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ce=!1,e.next=3,an();case 3:if(!(t=e.sent)){e.next=18;break}return i.trigger("sourceStreamIdChanged","P2P"),bt.publisherAudioFallbackEnabled&&t.disableCongestionLevelEstimation(),e.next=9,(0,S.default)($e);case 9:if(!ce){e.next=12;break}return ke.debug("Cancelling stop sending RTP to MANTIS."),e.abrupt("return");case 12:return ot.muteAudioInPeerConnection(N,t),e.next=15,t.changeMediaDirectionToInactive();case 15:if(!(We.env.isFirefox&&We.env.version<96)){e.next=18;break}return e.next=18,mn();case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),fn=function(){var e=(0,a.default)(o.default.mark((function e(){var t,n;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ce=!0,e.next=3,an();case 3:if(!(t=e.sent)){e.next=22;break}return ot.unmuteAudioInPeerConnection(N,t),e.next=8,t.changeMediaDirectionToRecvOnly();case 8:if(se&&clearTimeout(se),i.trigger("sourceStreamIdChanged","MANTIS"),!bt.publisherAudioFallbackEnabled){e.next=22;break}return e.t0=t,e.next=14,sn();case 14:if(e.t1=n=e.sent,null!=e.t1){e.next=19;break}e.t2=void 0,e.next=20;break;case 19:e.t2=n.getAudioFallbackState();case 20:e.t3=e.t2,e.t0.enableCongestionLevelEstimation.call(e.t0,e.t3);case 22:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),mn=function(){var e=(0,a.default)(o.default.mark((function e(){var t;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,an();case 2:(t=e.sent)&&(se=setTimeout((0,a.default)(o.default.mark((function e(){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("P2P"!==ae){e.next=9;break}return e.next=3,t.changeMediaDirectionToRecvOnly();case 3:return e.next=5,(0,S.default)(et);case 5:return e.next=7,t.changeMediaDirectionToInactive();case 7:return e.next=9,mn();case 9:case"end":return e.stop()}}),e)}))),tt));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),En=()=>{kt("Attempt");const e=e=>{const t=(0,$.default)(e);this.trigger("streamCreateForP2PComplete",t),kt("Failure",{reason:t.message})};if(!this.session)return void kt("Failure",{reason:"Not connected to the session."});const t=setTimeout((()=>{kt("Failure",{reason:"Timeout"})}),Je);this.once("streamCreateForP2PComplete",(()=>{clearTimeout(t)})),ke.debug("streamCreateWithSource: send a message to RUMOR for "+"creating the stream with the sourceStreaId P2P and stream ".concat(this.streamId)),pn("P2P",(t=>{t?e(t):this.trigger("streamCreateForP2PComplete")}))},Cn=function(){var e=(0,a.default)(o.default.mark((function e(){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("P2P"===ae){e.next=2;break}return e.abrupt("return");case 2:if(Dt("Attempt"),i.session){e.next=6;break}return Dt("Failure",{reason:"Not connected to the session."}),e.abrupt("return");case 6:if(i.streamId){e.next=9;break}return Dt("Failure",{reason:"No streamId available"}),e.abrupt("return");case 9:return e.next=11,fn();case 11:return i.session._.streamDestroy(i.streamId,"P2P"),e.t0=i,e.next=15,sn();case 15:e.t1=e.sent,e.t0._removePeerConnection.call(e.t0,e.t1),Dt("Success"),i.trigger("streamDestroyForP2PComplete");case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();this.publish=e=>(ke.debug("OT.Publisher: publish"),(D.isAttemptingToPublish()||D.isPublishing())&&ln(),D.set("GetUserMedia"),bt.style&&this.setStyle(bt.style,null,!0),bt.classNames="OT_root OT_publisher",Fe.onLoad((()=>{ke.debug("OT.Publisher: publish: environment loaded"),R=new Ye(e,Object.assign({},bt,{widgetType:"publisher"})),yt&&(0,K.default)({publisher:this,widgetView:R}),R.on("error",Xt),this.id=R.domId(),this.element=R.domElement,this.element&&cn&&cn.init(R),R.on("videoDimensionsChanged",((e,t)=>{bt.publishVideo&&(this.stream&&this.stream.setVideoDimensions(t.width,t.height),this.dispatchEvent(new Te.VideoDimensionsChangedEvent(this,e,t)))})),R.on("mediaStopped",(e=>{const t=new Te.MediaStoppedEvent(this,e);if(this.dispatchEvent(t),!t.isDefaultPrevented())if(e){const t=String(e.kind).toLowerCase();"audio"===t?bn():"video"===t?Sn():ke.warn("Track with invalid kind has ended: ".concat(e.kind))}else this.session?this._.unpublishFromSession(this.session,"mediaStopped"):this.destroy("mediaStopped")})),R.on("videoElementCreated",(e=>{const t=new Te.VideoElementCreatedEvent(e);this.dispatchEvent(t)})),vt().catch(dt).then(function(){var e=(0,a.default)(o.default.mark((function e(t){var n;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L=Et.audioDevices,te=Et.videoDevices,n=!!bt.videoFilter,(0,Ee.default)(i),n&&(Nn=(0,q.default)(t,te)),e.next=7,Yt(t);case 7:return bt.publishVideo||i._toggleVideo(bt.publishVideo,Ot()),It||Ut||n||(Nn=(0,q.default)(t,te),bt.publishVideo&&Pn(Nn)),e.abrupt("return",Gt().catch((e=>{if(!(e instanceof Q.CancellationError))throw e})).then((()=>{Jt(),D.isDestroyed()||(i.trigger("initSuccess"),i.trigger("loaded",i))}),(e=>{ke.error("OT.Publisher.publish failed to bind video: ".concat(e)),xt(e)})));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})),this),this._setScalableValues=function(){var e=(0,a.default)(o.default.mark((function e(t,n){var i,r,a;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tn().then((e=>e[0].getSenders().filter((e=>"video"===e.track.kind))));case 2:return i=e.sent,r=i[0],(a=r.getParameters()).encodings.forEach(((e,i)=>{e[t]=n[i]})),e.next=8,r.setParameters(a);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this._setScalableFramerates=function(){var e=(0,a.default)(o.default.mark((function e(t){var n;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=Un(t))||!In(n)){e.next=4;break}return e.next=4,i._setScalableValues("maxFramerate",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this._setScalableVideoLayers=function(){var e=(0,a.default)(o.default.mark((function e(t){var n;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=Un(t))||!Qn(n)){e.next=4;break}return e.next=4,i._setScalableValues("scaleResolutionDownBy",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();const In=e=>{let t=0;return e.every((e=>!(15!==e&&30!==e||e<t)&&(t=e,!0)))},Qn=e=>{let t=17;return e.every((e=>!(e<1||e>=t)&&(t=e,!0)))},Un=e=>{let t;if("string"!==typeof e)return t;const n=e.split(":");return 0===n.length||n.length>3?t:n.every((e=>!isNaN(e)))?(t=n.map((e=>parseInt(e,10))).reverse(),t):t},yn=e=>N&&N["get".concat((0,m.default)(e),"Tracks")]().length>0&&N["get".concat((0,m.default)(e),"Tracks")]().every((e=>"ended"!==e.readyState)),bn=e=>{const t=yn("audio")&&bt.publishAudio;cn&&cn.setMuted(!t),w&&w.muted(!t),de&&de.originalTrack&&(de.originalTrack.enabled=t),hn(e)};let vn;this.publishAudio=e=>{Bt("publishAudio","Attempt",{publishAudio:e}),bt.publishAudio=e;try{bn(),Bt("publishAudio","Success",{publishAudio:e})}catch(t){Bt("publishAudio","Failure",{message:t.message})}return this},this.publishCaptions=e=>{Bt("publishCaptions","Attempt",{publishCaptions:e});try{r.dispatchEvent(new Te.PublisherCaptionsEnabled(e)),this.stream.setChannelActiveState("data",e),Bt("publishCaptions","Success",{publishCaptions:e})}catch(t){Bt("publishCaptions","Failure",{message:t.message,publishCaptions:e})}};let Rn=!1;const Sn=()=>{const e=yn("video")&&bt.publishVideo;if("Chrome"===F.default.name&&F.default.version>=69&&(0,a.default)(o.default.mark((function t(){var n,i;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return vn&&vn.cancel(),vn=new Q.default,n=vn,t.next=5,tn();case 5:i=t.sent,n.isCanceled()||i.forEach((t=>{t.setVideoActiveState(e)}));case 7:case"end":return t.stop()}}),t)})))(),Ut&&rt){const t=rt.getOriginalVideoTrack();t&&(t.enabled=e)}if(Ut&&le){const t=le.originalTrack;t&&(t.enabled=e)}N&&N.getVideoTracks().forEach((t=>{t.enabled=e,t.isCreatedCanvas&&(t.enabled=!1)})),hn()},Fn=function(){var e=(0,a.default)(o.default.mark((function e(){var t;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=rt.getOriginalVideoTrack(),e.prev=1,e.next=4,rt.destroy();case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),ke.warn("Error cleaning up mediaProcessor: ".concat(e.t0));case 9:t.stop();case 10:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(){return e.apply(this,arguments)}}(),Bn=e=>!_n&&!le&&e===Ln(),Tn=(e,t)=>!(!_n&&!le)||(e?Nn!==t:void 0!==t);let Nn,_n;this._toggleVideo=(0,T.default)(function(){var e=(0,a.default)(o.default.mark((function e(t,n){var i,a,s,c,l,d,u,h;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(It||Ut||Rn)){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Gn();case 4:if(a=e.sent,s=Mn()){e.next=8;break}throw Ve(Be.NOT_SUPPORTED,new Error("Publisher._toggleVideo cannot toggleVideo when you have no video source."));case 8:if(c=null==(i=a.find((e=>e.label===s.label)))?void 0:i.deviceId,Tn(t,c)){e.next=11;break}return e.abrupt("return");case 11:if("ended"!==s.readyState){e.next=14;break}return Rn=!0,e.abrupt("return");case 14:if(t&&We.env.isAndroid&&We.env.isChrome&&s&&s.stop&&s.stop(),t){e.next=31;break}e.prev=16,l=(0,z.default)(n),e.next=23;break;case 20:return e.prev=20,e.t0=e.catch(16),e.abrupt("return");case 23:if(c&&(Nn=c),Pn(l.label),!(d=rt.getVideoFilter())){e.next=30;break}return _n=d,e.next=30,Fn();case 30:le&&(le.destroy(),le.stopOriginalTrack());case 31:if(!Nn||-1!==a.findIndex((e=>e.deviceId===Nn))){e.next=33;break}throw Ve(Be.NO_DEVICES_FOUND,new Error("Previous device no longer available - deviceId not found"));case 33:if(r.emit("streamDestroy"),!t){e.next=64;break}if(!Bn(Nn)){e.next=37;break}return e.abrupt("return");case 37:return e.prev=37,e.next=40,xn(Nn);case 40:l=e.sent,e.next=47;break;case 43:throw e.prev=43,e.t1=e.catch(37),ke.error("Error getting new track for current device(".concat(Nn,"): ").concat(e.t1)),e.t1;case 47:if(l){e.next=50;break}return ke.error("Failed to enable video. It was not possible to get a new track from the camera"),e.abrupt("return");case 50:if(!_n){e.next=59;break}return u=rt.getOriginalVideoTrack(),e.next=54,rt.setVideoFilter(_n);case 54:return e.next=56,rt.setMediaStream(N);case 56:return e.next=58,rt.setVideoTrack(l);case 58:l=e.sent;case 59:if(!le){e.next=64;break}return u=le.originalTrack,e.next=63,le.setTrack(l);case 63:l=e.sent;case 64:return e.prev=64,e.next=67,Jn(s,l);case 67:null==(h=u)||h.stop(),e.next=73;break;case 70:throw e.prev=70,e.t2=e.catch(64),e.t2;case 73:case"end":return e.stop()}}),e,null,[[16,20],[37,43],[64,70]])})));return function(t,n){return e.apply(this,arguments)}}());const wn=(0,Ie.callWithCancellation)(function(){var e=(0,a.default)(o.default.mark((function e(t,n){var i;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tn();case 2:i=e.sent,n.isCanceled()||i.forEach((e=>{t?e.enableCongestionLevelEstimation():e.disableCongestionLevelEstimation()}));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),kn=function(){var e=(0,a.default)(o.default.mark((function e(t){var n,r;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null==(n=cn)||n.videoDisabledIndicator.disableVideo(!1),null==(r=cn)||r.videoDisabledIndicator.setWarning(!1),t===U.default.SUSPENDED_VIDEO?i.trigger("videoEnabled",{reason:"quality"}):i.trigger("videoDisableWarningLifted");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Dn=()=>{var e;bt.publishVideo&&(null==(e=cn)||e.videoDisabledIndicator.setWarning(!0)),this.trigger("videoDisableWarning")},Vn=function(){var e=(0,a.default)(o.default.mark((function e(){var t;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:bt.publishVideo&&(null==(t=cn)||t.videoDisabledIndicator.disableVideo(!0)),i.trigger("videoDisabled",{reason:"quality"});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();let Zn;if(bt.publisherAudioFallbackEnabled){Zn=Ue({getAllPeerConnections:tn});const e={[U.default.ACTIVE_VIDEO]:kn,[U.default.ACTIVE_VIDEO_WITH_WARNING]:Dn,[U.default.SUSPENDED_VIDEO]:Vn};Zn.on("stateChange",(t=>{let n=t.previousState,i=t.state;try{e[i](n)}catch(r){throw ke.error("Audio fallback error: ".concat(r)),r}}))}this.publishVideo=e=>{if(bt.publishVideo===e)return this;Bt("publishVideo","Attempt",{publishVideo:e});const t=Ot();bt.publishVideo=e,bt.publisherAudioFallbackEnabled&&(wn(e),!1===e&&Zn.getState()!==U.default.ACTIVE_VIDEO&&(me=!0,(()=>{var e,t;Zn.reset(),null==(e=cn)||e.videoDisabledIndicator.disableVideo(!1),null==(t=cn)||t.videoDisabledIndicator.setWarning(!1)})()));try{this._toggleVideo(bt.publishVideo,t),Sn(),Bt("publishVideo","Success",{publishVideo:e})}catch(n){Bt("publishVideo","Failure",{message:n.message})}return this},this.setVideoContentHint=e=>(0,k.setVideoContentHint)(N,e),this.getVideoContentHint=()=>(0,k.getVideoContentHint)(N),this.destroy=function(e,t){return D.isAttemptingToPublish()&&this.session&&Nt("Cancel",{reason:"destroy"}),D.isDestroyed()||(D.set("Destroyed"),ln(),Et&&(Et.off(),Et=null),cn&&(cn.destroy(),cn=null),r&&(r.off(),r=null),!0!==t&&this.dispatchEvent(new Te.DestroyedEvent(V.default.PUBLISHER_DESTROYED,this,e)),this.off(),le&&(le.destroy(),le.stopOriginalTrack()),de&&(de.destroy(),de.stopOriginalTrack())),this},this.disconnect=()=>{Object.keys(pt).forEach((e=>{const t=rn(e);delete pt[e],t.then((e=>this._removePeerConnection(e)))})),it.length=0},this.processMessage=(e,t,n)=>{const i=(0,l.default)(n,"params.subscriber",t).replace(/^INVALID-STREAM$/,t),r=(0,l.default)(n,"content.peerId"),o=(0,l.default)(n,"content.sourceStreamId","MANTIS"),a="".concat(i,"~").concat(r,"~").concat(o);ke.debug("OT.Publisher.processMessage: Received ".concat(e," from ").concat(t," for ").concat(a)),ke.debug(n);const c=rn(a),d=()=>{const c=Xe({socket:this.session._.getSocket(),uri:n.uri,content:{peerId:r,sourceStreamId:o}});en({peerConnectionId:a,send:c,log:function(e,t,n,i,a){void 0===i&&(i={});const s=Object.assign({peerId:r,sourceStreamId:(0,ee.default)(o)},i);return Bt(e,t,n,s,a)},logQoS:e=>{o===ae&&Wt(Object.assign({},e,{peerId:r,remoteConnectionId:t,sourceStreamId:o}))},sourceStreamId:o}).then((c=>(((e,t)=>{s.set(e,t)})(c,{remoteConnectionId:t,remoteSubscriberId:i,peerId:r,sourceStreamId:o,peerConnectionId:a}),c.processMessage(e,n),null))).catch((e=>{ke.error("OT.Publisher failed to create a peerConnection",e)}))},u=this.session.sessionInfo.isAdaptiveEnabled;if("unsubscribe"===e)this._removeSubscriber(i);else if(c)c.then((t=>t.processMessage(e,n)));else{if(u&&sn())return;d()}},this.getImgData=function(){if(!gt)return ke.error("OT.Publisher.getImgData: Cannot getImgData before the Publisher is publishing."),null;const e=R&&R.video();return e?e.imgData():null};const Wn=e=>{e.getSenders().forEach((e=>"audio"===e.track.kind&&N.getAudioTracks().length?e.replaceTrack(N.getAudioTracks()[0]):"video"===e.track.kind&&N.getVideoTracks().length?e.replaceTrack(N.getVideoTracks()[0]):void 0))},On=function(t){return void 0===t&&(t=Wn),tn().then((n=>(n.map(t),e.all([]))))};{let e=0;const t=function(){var t=(0,a.default)(o.default.mark((function t(){var n,i,a;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!We.env.isLegacyEdge&&je.RTCRtpSender&&"function"===typeof je.RTCRtpSender.prototype.replaceTrack){t.next=2;break}throw Ve(Be.UNSUPPORTED_BROWSER,new Error("Publisher#cycleVideo is not supported in your browser."),Ne.UNABLE_TO_PUBLISH);case 2:if(!Ut&&!It){t.next=4;break}throw Ve(Be.NOT_SUPPORTED,new Error("Publisher#cycleVideo: The publisher is not using a camera video source"));case 4:if(Mn()){t.next=7;break}throw Ve(Be.NOT_SUPPORTED,new Error("Publisher#cycleVideo cannot cycleVideo when you have no video source."));case 7:return e+=1,t.next=10,Gn();case 10:if((n=t.sent).filter((e=>e.deviceId!==Nn)).length>0){t.next=14;break}return t.abrupt("return",Nn);case 14:for(;n[e%n.length].deviceId===Nn;)e+=1;return r.emit("streamDestroy"),i=n[e%n.length],a=i.deviceId,t.next=20,ni(a);case 20:return t.abrupt("return",Nn);case 21:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();this.cycleVideo=(0,T.default)((0,a.default)(o.default.mark((function e(){var n;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t();case 3:n=e.sent,e.next=10;break;case 6:throw e.prev=6,e.t0=e.catch(0),ke.error("Publisher#cycleVideo: could not cycle video: ".concat(e.t0)),e.t0;case 10:return e.abrupt("return",{deviceId:n});case 11:case"end":return e.stop()}}),e,null,[[0,6]])}))))}const Jn=function(){var t=(0,a.default)(o.default.mark((function t(n,s){var c,l,d;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,tn();case 2:return c=t.sent,t.next=5,e.all(c.map(function(){var e=(0,a.default)(o.default.mark((function e(t){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.findAndReplaceTrack(n,s);case 2:t.setP2PMaxBitrate();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:if(N.removeTrack(n),N.addTrack(s),n&&n.stop){try{l=s instanceof MediaStreamTrackGenerator||Object.getPrototypeOf(s).toString().includes("MediaStreamTrackGenerator")}catch(u){l=!1}l||n.stop()}"Firefox"!==We.env.name&&"Safari"!==We.env.name||(i.videoElement().srcObject=null,i.videoElement().srcObject=N),(d=R&&R.video())&&d.refreshTracks(),r.emit("streamChange"),Sn();case 13:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),xn=function(){var e=(0,a.default)(o.default.mark((function e(n){var i,r,a,s,c,l,d;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ln(),Pn(n),(a=(0,u.default)(t)).audioSource=null,a.videoSource=n,Et=qe(a,"OT.Publisher.getTrackFromDeviceId",(()=>D&&D.isDestroyed())),Et.on({accessDialogOpened:ut,accessDialogClosed:ht}),s=Et.getUserMedia,e.prev=8,e.next=11,s();case 11:c=e.sent,e.next=18;break;case 14:throw e.prev=14,e.t0=e.catch(8),ke.error(e.t0),e.t0;case 18:return l=null==(i=c)?void 0:i.getVideoTracks(),(d=l[0])||Pn(r),e.abrupt("return",d);case 21:case"end":return e.stop()}}),e,null,[[8,14]])})));return function(t){return e.apply(this,arguments)}}(),Mn=()=>N.getVideoTracks()[0],Ln=()=>re,Pn=e=>{re=e},Gn=function(){var e=(0,a.default)(o.default.mark((function e(){var t,n;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Se.shouldAskForDevices();case 2:if(t=e.sent,n=t.videoDevices,t.video&&n&&n.length){e.next=6;break}throw Ve(Be.NO_DEVICES_FOUND,new Error("No video devices available"),Ne.UNABLE_TO_PUBLISH);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Yn=function(){var t=(0,a.default)(o.default.mark((function t(n,r){var a,s,c;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i.session){t.next=2;break}return t.abrupt("return");case 2:if(!i.session.sessionInfo.isAdaptiveEnabled){t.next=16;break}return t.next=6,on(ae);case 6:return a=t.sent,t.next=9,a.findAndReplaceTrack(n,r);case 9:if("P2P"!==ae){t.next=14;break}return t.next=12,an();case 12:s=t.sent,ot.replaceTrackInMutedAudioTracks(s,n,r);case 14:t.next=21;break;case 16:return t.next=18,tn();case 18:return c=t.sent,t.next=21,e.all(c.map((e=>e.findAndReplaceTrack(n,r))));case 21:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),jn=function(){var e=(0,a.default)(o.default.mark((function e(t,n){var i,a;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==n){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Yn(t,n);case 4:n&&N.addTrack(n),t&&N.removeTrack(t),(i=R&&R.video())&&i.refreshTracks(),cn&&(n&&!t&&cn.addAudioTrack(),t&&!n&&cn.removeAudioTrack());try{a=n instanceof MediaStreamTrackGenerator||Object.getPrototypeOf(n).toString().includes("MediaStreamTrackGenerator")}catch(o){a=!1}t&&t.stop&&!a&&t.stop(),n&&(bn(),w=new De(N,!bt.publishAudio)),r.emit("streamChange"),hn();case 14:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Xn=function(){var e=(0,a.default)(o.default.mark((function e(t){var n,r;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.getSettings().deviceId,e.prev=1,e.next=4,i.setAudioSource(n);case 4:(r=N.getAudioTracks()[0])&&(r.onmute=()=>Kn(r),r.onunmute=()=>Hn(r)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),ke.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),Kn=e=>{let t=!1;bt.publishVideo&&document.hidden&&(t=!0,this.publishVideo(!1));const n=function(){var r=(0,a.default)(o.default.mark((function r(){return o.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(document.hidden){r.next=5;break}return r.next=3,Xn(e);case 3:t&&i.publishVideo(!0),document.removeEventListener("visibilitychange",n);case 5:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}();document.addEventListener("visibilitychange",n)},Hn=e=>{var t;un()&&(dn()?this.videoElement().pause():Xn(e)),null==this||null==(t=this.session)||t.trigger("gsmCallEnded")},zn=!(We.env.isLegacyEdge||!je.RTCRtpSender||"function"!==typeof je.RTCRtpSender.prototype.replaceTrack),qn=()=>Ve(Be.CANCEL,new Error("Operation did not succeed due to a new request."));let $n;const ei=function(){var e=(0,a.default)(o.default.mark((function e(n){var r,s,c,l,d,h,A,p,g,f,m;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(zn){e.next=2;break}throw Ve(Be.UNSUPPORTED_BROWSER,new Error("Publisher#setAudioSource is not supported in your browser."));case 2:if($n&&$n.cancel(),$n=new Q.default,r=$n,s=function(){var e=(0,a.default)(o.default.mark((function e(t){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.isCanceled()){e.next=3;break}throw t.getTracks((e=>e.stop())),qn();case 3:return e.abrupt("return",ei(t.getAudioTracks()[0]));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c=i.getAudioSource()){e.next=7;break}throw Ve(Be.NOT_SUPPORTED,new Error("Publisher#setAudioSource cannot add an audio source when you started without one."));case 7:if(!(n instanceof MediaStreamTrack)){e.next=26;break}if(!r.isCanceled()){e.next=10;break}throw qn();case 10:if(!de){e.next=23;break}return e.prev=11,e.next=14,de.setTrack(n);case 14:return l=e.sent,e.next=17,jn(c,l);case 17:return e.abrupt("return",e.sent);case 20:e.prev=20,e.t0=e.catch(11),ke.error("Error setting track on audioMediaProcessorConnector: ".concat(e.t0));case 23:return e.abrupt("return",jn(c,n));case 26:if("string"!==typeof n){e.next=73;break}return(d=(0,u.default)(t)).audioSource=n,d.videoSource=null,Et=qe(d,"OT.Publisher.setAudioSource",(()=>r.isCanceled()||D&&D.isDestroyed())),Et.on({accessDialogOpened:ut,accessDialogClosed:ht}),h=c.label,A=c.getConstraints&&c.getSettings().deviceId||void 0,c&&c.stop(),p=Et.getUserMedia,e.prev=36,e.t1=s,e.next=40,p();case 40:return e.t2=e.sent,e.next=43,(0,e.t1)(e.t2);case 43:return e.abrupt("return",e.sent);case 46:if(e.prev=46,e.t3=e.catch(36),!r.isCanceled()){e.next=50;break}throw qn();case 50:if((g=(0,u.default)(t)).videoSource=null,g.audioSource=A,g.audioSource||!h){e.next=60;break}return e.next=56,be();case 56:if(f=e.sent.find((e=>e.label===h)),!r.isCanceled()){e.next=59;break}throw qn();case 59:f&&(g.audioSource=f.deviceId);case 60:if(g.audioSource){e.next=63;break}throw e.t3.message+=" (could not determine previous audio device)",Ve(Be.NOT_FOUND,e.t3);case 63:return Et=qe(g,"OT.Publisher.setAudioSource",(()=>r.isCanceled()||D&&D.isDestroyed())),e.next=66,Et.getUserMedia().catch((e=>{throw e.message+=" (could not obtain previous audio device)",e}));case 66:return m=e.sent,e.next=69,s(m);case 69:throw e.t3.message+=" (reverted to previous audio device)",e.t3;case 71:e.next=74;break;case 73:throw Ve(Be.INVALID_PARAMETER,new Error("Invalid parameter passed to OT.Publisher.setAudioSource(). Expected string or MediaStreamTrack."));case 74:case"end":return e.stop()}}),e,null,[[11,20],[36,46]])})));return function(t){return e.apply(this,arguments)}}();this.setAudioSource=ei,this.getAudioSource=()=>N&&N.getAudioTracks().length>0?N.getAudioTracks()[0]:null;const ti=function(){var e=(0,a.default)(o.default.mark((function e(t){var n,i,r;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Ve(Be.INVALID_VIDEO_SOURCE,new Error("Invalid video source. Video source must be a valid video input deviceId"),1041),i=Ve(Be.SET_VIDEO_SOURCE_FAILURE,new Error("You cannot reset the video source on a publisher that does not currently use a camera source."),1040),!We.env.isLegacyEdge&&je.RTCRtpSender&&"function"===typeof je.RTCRtpSender.prototype.replaceTrack){e.next=4;break}throw Ve(Be.UNSUPPORTED_BROWSER,new Error("setVideoSource is not supported in your browser."),Ne.UNABLE_TO_PUBLISH);case 4:if("string"===typeof t){e.next=6;break}throw n;case 6:if(r=!N||0===N.getVideoTracks().length,!(Ut||It||r)){e.next=9;break}throw i;case 9:return e.next=11,be();case 11:if(e.sent.find((e=>"videoInput"===e.kind&&e.deviceId===t))){e.next=15;break}throw n;case 15:return e.next=17,ni(t);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();this.setVideoSource=ti;const ni=function(){var e=(0,a.default)(o.default.mark((function e(t){var n,r,a,s,c,l;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Nn,Nn=t,bt.publishVideo){e.next=4;break}return e.abrupt("return");case 4:if(!Bn(t)){e.next=6;break}return e.abrupt("return");case 6:if(a=Mn(),!bt.publishVideo||!We.env.isAndroid||!We.env.isChrome&&!We.env.isFirefox){e.next=14;break}if(!_n){e.next=13;break}return s=_n,e.next=12,Fn();case 12:_n=null;case 13:a&&a.stop&&a.stop();case 14:return e.prev=14,e.next=17,xn(t);case 17:c=e.sent,e.next=25;break;case 20:throw e.prev=20,e.t0=e.catch(14),Nn=r,ke.error(e.t0),e.t0;case 25:if(c){e.next=28;break}return ke.warn("Unable to aquire video track. Moving to next device."),e.abrupt("return");case 28:if(!_n){e.next=33;break}return l=rt.getOriginalVideoTrack(),e.next=32,rt.setVideoTrack(c);case 32:c=e.sent;case 33:if(!le){e.next=38;break}return l=le.originalTrack,e.next=37,le.setTrack(c);case 37:c=e.sent;case 38:return e.next=40,Jn(a,c);case 40:if(!s){e.next=43;break}return e.next=43,i.applyVideoFilter(s);case 43:null==(n=l)||n.stop(),bt.publishVideo&&(Rn=!1);case 45:case"end":return e.stop()}}),e,null,[[14,20]])})));return function(t){return e.apply(this,arguments)}}();this.getVideoSource=()=>{const e={},t=!N||0===N.getVideoTracks().length;return e.track=N&&bt.publishVideo&&N.getVideoTracks()[0]||null,e.deviceId=It||Ut||!Nn?null:Nn,e.type=Ut?"custom":It?"screen":t?null:"camera",e},this._={privateEvents:r,setIceConfig:e=>(0,a.default)(o.default.mark((function t(){return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,tn();case 2:t.sent.forEach((t=>t.setIceConfig(e)));case 4:case"end":return t.stop()}}),t)})))(),publishToSession:(t,n)=>{n&&(oe=n),fe=t,this.session=t;const i=(0,C.default)();B=i,this.streamId=i,Nt("Attempt",{dataChannels:bt.channels,properties:(0,j.default)(bt)});const r=new e(((e,t)=>{gt?e():(this.once("initSuccess",e),this.once("destroyed",(e=>{let n=e.reason,i="";n&&(i=" Reason: ".concat(n)),t(new Error("Publisher destroyed before it finished loading.".concat(i)))})))}));ke.debug("publishToSession: waiting for publishComplete, which is triggered by stream#created from rumor");const o=new e(((e,t)=>{this.once("publishComplete",(n=>{n?t(n):(this._setScalableFramerates(bt.scalableFramerates),this._setScalableVideoLayers(bt.scalableVideoLayers),this.stream&&(this.stream.setChannelActiveState("audio",un()),this.stream.setChannelActiveState("video",dn())),ke.debug("publishToSession: got publishComplete"),e())}))})),a=e=>{const t=(0,$.default)(e);throw Nt("Failure",{},{failureReason:"Publish",failureCode:t.code,failureMessage:t.message}),D.isAttemptingToPublish()&&this.trigger("publishComplete",t),Ze.handleJsException({errorMsg:e.message,code:t.code,target:this,error:e,analytics:oe}),t};ke.debug("publishToSession: waiting for loaded");const s=r.then((()=>t._.getVideoCodecsCompatible(N))).then((n=>{if(ke.debug("publishToSession: loaded"),!this.session)return;const i=setTimeout((()=>{jt(t)}),Je);this.once("publishComplete",(()=>{clearTimeout(i)})),D.set("PublishingToSession");const r=n&&R&&R.video(),o=N.getVideoTracks().length>0,s=null!==bt.videoSource&&!1!==bt.videoSource;r&&o&&s&&it.push(new Le({id:"video1",type:"video",active:bt.publishVideo,orientation:Ge.ROTATED_NORMAL,frameRate:bt.frameRate,width:this.videoWidth(),height:this.videoHeight(),e2ee:t._.isE2ee(),source:It?"screen":Ut?"custom":"camera",fitMode:bt.fitMode}));const c=N.getAudioTracks().length>0,l=null!==bt.audioSource&&!1!==bt.audioSource;return l&&c&&it.push(new Le({id:"audio1",type:"audio",active:bt.publishAudio})),l&&c&&it.push(new Le({id:"caption1",type:"data",active:bt.publishCaptions})),ye&&it.push(new Le({id:"downlinkStats1",type:"data",active:!0})),this._.streamChannels=it,ke.debug("publishToSession: creating rumor stream id"),new e(((e,t)=>{pn(null,((n,i,r)=>{n?t(a(n)):e({streamId:i,message:r})}))}))})).then((e=>{if(void 0===e)return;const t=e.streamId,n=e.message;if(ke.debug("publishToSession: rumor stream id created:",t,"(this is different from stream#created, which requires media to actually be flowing for mantis sessions)"),t!==i)throw new Error("streamId response does not match request");this.streamId=t,Z=Oe(n)})).catch((e=>{throw this.trigger("publishComplete",e),e}));return e.all([s,o])},unpublishFromSession:(e,t)=>{if(!this.session||e.id!==this.session.id){if("unpublished"===t){const t=this.session&&this.session.id||"no session";ke.warn("The publisher ".concat(At," is trying to unpublish from a session ").concat(e.id," it is not ")+"attached to (it is attached to ".concat(t,")"))}return this}if(e.isConnected()&&(this.stream||D.isAttemptingToPublish())&&e._.streamDestroy(this.streamId),b.releaseAll(),this.disconnect(),D.isAttemptingToPublish()){Nt("Cancel",{reason:"unpublish"});const e=new Error((()=>{switch(t){case"mediaStopped":return"The video element fired the ended event, indicating there is an issue with the media";case"unpublished":return"The publisher was unpublished before it could be published";case"reset":return"The publisher was reset";default:return"The publisher was destroyed due to ".concat(t)}})());this.trigger("publishComplete",Ve("mediaStopped"===t?Be.MEDIA_ENDED:Be.CANCEL,e))}return this.session=null,Bt("unpublish","Success"),this._.streamDestroyed(t),this},unpublishStreamFromSession:(e,t,n)=>B&&e.id===B?this._.unpublishFromSession(t,n):(ke.warn("The publisher ".concat(At," is trying to destroy a stream ").concat(e.id," that is not attached to it (it has ").concat(B||"no stream"," attached to it)")),this),streamDestroyed:e=>{["reset"].indexOf(e)<0&&(D.isDestroyed()||D.set("MediaBound"));const t=new Te.StreamEvent("streamDestroyed",this.stream,e,!0);this.dispatchEventOnce(t,this.streamId),t.isDefaultPrevented()||this.destroy()},archivingStatus:e=>(cn&&cn.setArchivingStatus(e),e),webRtcStream:()=>N,switchTracks:()=>(0,a.default)(o.default.mark((function e(){var t;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,vt().catch(dt);case 3:t=e.sent,e.next=10;break;case 6:throw e.prev=6,e.t0=e.catch(0),ke.error("OT.Publisher.switchTracks failed to getUserMedia: ".concat(e.t0)),e.t0;case 10:n=t,Mt(),N=n,r.emit("streamChange"),w=new De(N,!bt.publishAudio),e.prev=11,Gt(),e.next=21;break;case 15:if(e.prev=15,e.t1=e.catch(11),!(e.t1 instanceof Q.CancellationError)){e.next=19;break}return e.abrupt("return");case 19:throw ke.error("Error while binding video",e.t1),e.t1;case 21:e.prev=21,On(),e.next=29;break;case 25:throw e.prev=25,e.t2=e.catch(21),ke.error("Error replacing tracks",e.t2),e.t2;case 29:case"end":return e.stop()}var n}),e,null,[[0,6],[11,15],[21,25]])})))(),getDataChannel(e,t,n){const i=rn(Object.keys(pt)[0]);i?i.then((i=>{i.getDataChannel(e,t,n)})):n(new We.Error("Cannot create a DataChannel before there is a subscriber."))},iceRestart(e){void 0===e&&(e=!1),tn().then((t=>{t.forEach((t=>{const n=E(t).remoteConnectionId;_t("Attempt",{remoteConnectionId:n}),ke.debug("Publisher: ice restart attempt"),t.iceRestart(),e&&t.generateOffer()}))}))},getState:()=>D,demoOnlyCycleVideo:this.cycleVideo,testOnlyGetFramesEncoded:()=>(0,a.default)(o.default.mark((function e(){var t;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tn();case 2:if((t=e.sent).length){e.next=5;break}throw new Error("No established PeerConnections yet");case 5:return e.abrupt("return",t[0]._testOnlyGetFramesEncoded());case 6:case"end":return e.stop()}}),e)})))(),onStreamAvailable:Yt,startRoutedToRelayedTransition:()=>{c.startTransitionToRelayed(),En()},startRelayedToRoutedTransition:()=>{c.startTransitionToRouted(Cn)},forceMuteAudio:function(){Bt("publishAudio","Attempt",{publishAudio:!1}),bt.publishAudio=!1;try{bn("auto"),this.dispatchEvent(new Te.MuteForcedEvent),Bt("publishAudio","Success",{publishAudio:!1})}catch(e){Bt("publishAudio","Failure",{message:e.message})}}.bind(this),setCongestionLevel:function(){var e=(0,a.default)(o.default.mark((function e(t,n){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Zn){e.next=15;break}if(!n){e.next=8;break}return e.next=4,rn(n);case 4:e.t1=e.sent,e.t0=[e.t1],e.next=11;break;case 8:return e.next=10,tn();case 10:e.t0=e.sent;case 11:e.t0.forEach((e=>{e.setCongestionLevel(t)})),e.next=16;break;case 15:ke.warn("Audio Fallback is not enabled");case 16:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},this.detectDevices=function(){ke.warn("Publisher.detectDevices() is not implemented.")},this.detectMicActivity=function(){ke.warn("Publisher.detectMicActivity() is not implemented.")},this.getEchoCancellationMode=function(){return ke.warn("Publisher.getEchoCancellationMode() is not implemented."),"fullDuplex"},this.setMicrophoneGain=function(){ke.warn("Publisher.setMicrophoneGain() is not implemented.")},this.getMicrophoneGain=function(){return ke.warn("Publisher.getMicrophoneGain() is not implemented."),.5},this.setCamera=function(){ke.warn("Publisher.setCamera() is not implemented.")},this.setMicrophone=function(){ke.warn("Publisher.setMicrophone() is not implemented.")},this.guid=function(){return At},this.videoElement=function(){const e=R&&R.video();return e?e.domElement():null},this.setStream=e=>{if("PublishingToSession"!==D.current)throw new Error("assignStream called when publisher is not successfully publishing");b.releaseAll(),this.stream=e,this.stream.on("destroyed",this.disconnect,this),b.add((()=>{this.stream&&this.stream.off("destroyed",this.disconnect,this)})),D.set("Publishing"),R.loading(!gt),_=new Date,this.dispatchEvent(new Te.StreamEvent("streamCreated",e,null,!1)),Nt("Success"),this.trigger("publishComplete",null,this)},this.isWebRTC=!0,this.isLoading=function(){return R&&R.loading()},this.videoWidth=()=>Ot().width,this.videoHeight=()=>Ot().height,this.getStats=function(e){(e=>{An(e)})(((t,n)=>{t?e(t):e(null,n)}))},this.getRtcStatsReport=()=>new e(((e,t)=>{An("rtcStatsReport",((n,i)=>{n?t(n):e(i)}))})),D=new Me((e=>{ke.error("OT.Publisher State Change Failed: ",e.message),ke.debug(e)})),this.accessAllowed=!1,this.applyVideoFilter=function(){var e=(0,a.default)(o.default.mark((function e(t){var n,r,a,s,c;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=(0,M.default)(t),Bt("applyVideoFilter","Attempt",{videoFilter:n}),e.prev=2,!le){e.next=5;break}throw Ve(Be.NOT_SUPPORTED,new Error("Cannot apply video filter when videoMediaProcessorConnector is set."));case 5:if(Ke.isSupported()){e.next=8;break}throw Ve(Be.NOT_SUPPORTED,new Error("Browser does not support video filters (Insertable Streams and Worker APIs are required)"));case 8:if(rt.isValidVideoFilter(t)){e.next=10;break}throw Ve(Be.INVALID_PARAMETER,new Error("Video filter has invalid configuration"));case 10:if(N){e.next=15;break}return Bt("applyVideoFilter","Failure",{message:r="Ignoring. No mediaStream"}),ke.warn(r),e.abrupt("return");case 15:if(!It){e.next=17;break}throw Ve(Be.INVALID_PARAMETER,new Error("Video filters can not be applied to screen share"));case 17:if(Tt(),bt.publishVideo){e.next=22;break}return _n=t,Bt("applyVideoFilter","Success",{videoFilter:n}),e.abrupt("return");case 22:if(!rt.getVideoFilter()){e.next=37;break}if(!rt.canUpdateVideoFilter(t.type)){e.next=35;break}return e.prev=24,e.next=27,rt.updateVideoFilter(t);case 27:return _n=t,Bt("applyVideoFilter","Success",{videoFilter:n}),e.abrupt("return");case 32:e.prev=32,e.t0=e.catch(24),ke.warn("Error updating video filter: ".concat(e.t0));case 35:return e.next=37,i.clearVideoFilter();case 37:if(a=N.getVideoTracks(),s=a[0]){e.next=43;break}return Bt("applyVideoFilter","Failure",{message:r="Ignoring. No video"}),ke.warn(r),e.abrupt("return");case 43:return e.next=45,rt.setVideoFilter(t);case 45:return e.next=47,rt.setMediaStream(N);case 47:if(!(c=e.sent)){e.next=51;break}return e.next=51,Jn(s,c);case 51:e.next=58;break;case 53:throw e.prev=53,e.t1=e.catch(2),ke.error("Error applying video filter: ".concat(e.t1)),Bt("applyVideoFilter","Failure",{message:e.t1.message}),e.t1;case 58:_n=t,Bt("applyVideoFilter","Success",{videoFilter:n});case 60:case"end":return e.stop()}}),e,null,[[2,53],[24,32]])})));return function(t){return e.apply(this,arguments)}}(),this.getVideoFilter=()=>(Bt("getVideoFilter","Attempt"),Bt("getVideoFilter","Success"),_n||null),this.setVideoMediaProcessorConnector=function(){var e=(0,a.default)(o.default.mark((function e(t){var n,r,a,s,c,l;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Bt("setVideoMediaProcessorConnector","Attempt",{message:t?"setting the connector":"clearing the connector"}),!i.getVideoFilter()){e.next=4;break}throw Bt("setVideoMediaProcessorConnector","Failure",{message:"Tried to set video MediaProcessorConnector when video filter applied."}),Ve(Be.NOT_SUPPORTED,new Error("setVideoMediaProcessorConnector: Cannot use this method when videoFilter is set."));case 4:if(!le){e.next=14;break}return n=N.getVideoTracks(),r=n[0],e.next=8,xn(Nn);case 8:return a=e.sent,e.next=11,Jn(r,a);case 11:le.destroy(),le.stopOriginalTrack(),le=null;case 14:if(t){e.next=17;break}return Bt("setVideoMediaProcessorConnector","Success",{message:"clearing the connector"}),e.abrupt("return");case 17:if(He.isValidConnector(t)){e.next=20;break}throw Bt("setVideoMediaProcessorConnector","Failure",{message:"Invalid MediaProcessorConnector"}),Ve(Be.INVALID_PARAMETER,new Error("setVideoMediaProcessorConnector:  Tried to set invalid MediaProcessorConnector"));case 20:if(le=new He(t),s=N.getVideoTracks(),c=s[0]){e.next=28;break}return Bt("setVideoMediaProcessorConnector","Failure",{message:l="Connector not set as no video track is present."}),ke.warn("setVideoMediaProcessorConnector: ".concat(l)),le=null,e.abrupt("return");case 28:return e.prev=28,e.next=31,le.setTrack(c);case 31:return r=e.sent,e.next=34,Jn(c,r);case 34:e.next=42;break;case 36:throw e.prev=36,e.t0=e.catch(28),le=null,ke.error("setVideoMediaProcessorConnector: Error getting track from MediaProcessorConnector: ".concat(e.t0)),Bt("setVideoMediaProcessorConnector","Failure",{message:e.t0.message}),e.t0;case 42:Bt("setVideoMediaProcessorConnector","Success");case 43:case"end":return e.stop()}}),e,null,[[28,36]])})));return function(t){return e.apply(this,arguments)}}(),this.setAudioMediaProcessorConnector=function(){var e=(0,a.default)(o.default.mark((function e(t){var n,r,a,s,c;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Bt("setAudioMediaProcessorConnector","Attempt",{message:t?"setting the connector":"clearing the connector"}),!de){e.next=7;break}return n=N.getAudioTracks(),r=n[0],e.next=5,jn(r,de.originalTrack);case 5:de.destroy(),de=null;case 7:if(t){e.next=10;break}return Bt("setAudioMediaProcessorConnector","Success",{message:"clearing the connector"}),e.abrupt("return");case 10:if(He.isValidConnector(t)){e.next=13;break}throw Bt("setAudioMediaProcessorConnector","Failure",{message:"Invalid MediaProcessorConnector"}),Ve(Be.INVALID_PARAMETER,new Error("setAudioMediaProcessorConnector:  Tried to set invalid MediaProcessorConnector"));case 13:if(a=N.getAudioTracks(),s=a[0]){e.next=20;break}return Bt("setAudioMediaProcessorConnector","Failure",{message:c="Connector not set as no audio track is present."}),ke.warn("setAudioMediaProcessorConnector: ".concat(c)),de=null,e.abrupt("return");case 20:return de=new He(t),e.prev=21,e.next=24,de.setTrack(s);case 24:return r=e.sent,e.next=27,jn(i.getAudioSource(),r);case 27:e.next=35;break;case 29:throw e.prev=29,e.t0=e.catch(21),de=null,ke.error("setAudioMediaProcessorConnector: Error getting track from MediaProcessorConnector: ".concat(e.t0)),Bt("setAudioMediaProcessorConnector","Failure",{message:e.t0.message}),e.t0;case 35:Bt("setAudioMediaProcessorConnector","Success");case 36:case"end":return e.stop()}}),e,null,[[21,29]])})));return function(t){return e.apply(this,arguments)}}(),this.clearVideoFilter=(0,a.default)(o.default.mark((function e(){var t,n,i,r,a;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Bt("clearVideoFilter","Attempt"),bt.publishVideo||rt.getVideoFilter()){e.next=5;break}return _n=null,Bt("clearVideoFilter","Success"),e.abrupt("return");case 5:if(rt.getVideoFilter()||_n){e.next=10;break}return Bt("clearVideoFilter","Success",{message:t="Ignoring. No video filter applied"}),ke.debug(t),e.abrupt("return");case 10:if(Ke.isSupported()){e.next=15;break}return Bt("clearVideoFilter","Success",{message:t='Ignoring. "clearVideoFilter" not supported.'}),ke.warn(t),e.abrupt("return");case 15:if(N){e.next=20;break}return Bt("clearVideoFilter","Success",{message:t="Ignoring. No mediaStream"}),ke.warn(t),e.abrupt("return");case 20:return n=_n,_n=null,i=N.getVideoTracks(),r=i[0],e.prev=23,e.next=26,xn(Nn);case 26:a=e.sent,e.next=33;break;case 29:return e.prev=29,e.t0=e.catch(23),ke.error(e.t0),e.abrupt("return");case 33:if(a){e.next=36;break}return ke.warn("Failed to clear filter because there is no video track."),e.abrupt("return");case 36:return e.prev=36,e.next=39,Jn(r,a);case 39:return e.next=41,Fn();case 41:e.next=46;break;case 43:e.prev=43,e.t1=e.catch(36),_n=n;case 46:Bt("clearVideoFilter","Success");case 47:case"end":return e.stop()}}),e,null,[[23,29],[36,43]])})))}};var o=r(i(4)),a=r(i(5)),s=r(i(324)),c=r(i(325)),l=r(i(59)),d=r(i(9)),u=r(i(58)),h=r(i(62)),A=r(i(287)),p=r(i(40)),g=r(i(51)),f=r(i(700)),m=r(i(267)),E=r(i(152)),C=r(i(16)),I=r(i(200)),Q=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=Ue(t);if(n&&n.has(e))return n.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=r?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(i,o,a):i[o]=e[o]}return i.default=e,n&&n.set(e,i),i}(i(110)),U=r(i(75)),y=i(25),b=r(i(710)),v=r(i(6)),R=r(i(1)),S=r(i(93)),F=r(i(3)),B=r(i(20)),T=r(i(712)),N=r(i(72)),_=r(i(10)),w=r(i(22)),k=i(301),D=r(i(147)),V=r(i(30)),Z=r(i(27)),W=r(i(168)),O=r(i(319)),J=r(i(279)),x=r(i(13)),M=r(i(326)),L=r(i(8)),P=r(i(76)),G=r(i(132)),Y=r(i(158)),j=r(i(713)),X=r(i(169)),K=r(i(714)),H=r(i(170)),z=r(i(715)),q=r(i(716)),$=r(i(717)),ee=r(i(171)),te=r(i(262)),ne=r(i(293)),ie=r(i(151)),re=r(i(23)),oe=r(i(164)),ae=r(i(303)),se=r(i(7)),ce=i(107),le=r(i(276)),de=r(i(304)),ue=r(i(312)),he=r(i(154)),Ae=r(i(156)),pe=r(i(322)),ge=r(i(718)),fe=r(i(172)),me=r(i(723)),Ee=r(i(724)),Ce=r(i(726)),Ie=i(727),Qe=r(i(317));function Ue(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(Ue=function(e){return e?n:t})(e)}const ye=(0,X.default)(),be=(0,B.default)().getInputMediaDevices}).call(this,i(2))},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=function(e,t){void 0===t&&(t={});const n=t.hasE2eeCapability||r.default,i=t.hasOpenTokSupport||o;this.publish=-1!==e.indexOf("publish")?1:0,this.subscribe=-1!==e.indexOf("subscribe")?1:0,this.forceUnpublish=-1!==e.indexOf("forceunpublish")?1:0,this.forceDisconnect=-1!==e.indexOf("forcedisconnect")?1:0,this.forceMute=-1!==e.indexOf("forcemute")?1:0,this.supportsE2ee=n()?1:0,this.supportsWebRTC=i()?1:0,this.permittedTo=e=>Object.prototype.hasOwnProperty.call(this,e)&&1===this[e]};var r=i(n(111));const o=i(n(52)).default.once},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=function(e,t,n,i,o,c,h){const A=this;let p;this.id=e,this.streamId=e,this.name=t,this.creationTime=Number(n),this.initials=h||"",this.connection=i,this.channel=c,this.publisher=a.default.publishers.find({streamId:this.id}),(0,r.default)(this);const g=function(e,t,n,i){let r=t;switch(r){case"active":r="audio"===e.type?"hasAudio":"hasVideo",A[r]=i;break;case"disableWarning":if(r="audio"===e.type?"audioDisableWarning":"videoDisableWarning",A[r]=i,!A["audio"===e.type?"hasAudio":"hasVideo"])return;break;case"fitMode":r="defaultFitMode",A[r]=i;break;case"source":r="audio"===e.type?"audioType":"videoType",A[r]=i;break;case"videoDimensions":A.videoDimensions=i;break;case"orientation":case"width":case"height":return}A.dispatchEvent(new d.StreamUpdatedEvent(A,r,n,i))},f=function(){return A.publisher?A.publisher:a.default.subscribers.find((e=>e.stream&&e.stream.id===A.id&&e.session.id===o.id))},m=function(){return!A.publisher};this.getChannelsOfType=function(e){return A.channel.filter((t=>t.type===e))},this.getChannel=function(e){for(let t=0;t<A.channel.length;++t)if(A.channel[t].id===e)return A.channel[t];return null};const E=this.getChannelsOfType("audio")[0],C=this.getChannelsOfType("video")[0];this.hasAudio=null!=E&&E.active,this.hasVideo=null!=C&&C.active,this.videoType=C&&C.source,this.defaultFitMode=C&&C.fitMode,this.videoDimensions={},C&&(this.videoDimensions.width=C.width,this.videoDimensions.height=C.height,this.videoDimensions.orientation=C.orientation,C.on("update",g),this.frameRate=C.frameRate),E&&E.on("update",g),this.setChannelActiveState=function(e,t,n,i,r){const o={active:t};n&&(o.activeReason=n),void 0!==i&&(o.congestionLevel=i),r&&(o.subscriberId=r),I(e,o)},this.setVideoDimensions=function(e,t){I("video",{width:e,height:t,orientation:0})},this.setRestrictFrameRate=function(e){I("video",{restrictFrameRate:e})},this.setPreferredResolution=function(e){if(!m())return void l.warn("setPreferredResolution has no affect when called by a publisher");if(o.sessionInfo.p2pEnabled)return void l.warn("Stream.setPreferredResolution will not work in a P2P Session");if(e&&void 0===e.width&&void 0===e.height)return;const t=A.getChannelsOfType("video")[0];if(t){if(e&&e.width){if(isNaN(parseInt(e.width,10)))throw new s.default.Error("stream preferred width must be an integer","Subscriber");t.preferredWidth=parseInt(e.width,10)}else t.preferredWidth=void 0;if(e&&e.height){if(isNaN(parseInt(e.height,10)))throw new s.default.Error("stream preferred height must be an integer","Subscriber");t.preferredHeight=parseInt(e.height,10)}else t.preferredHeight=void 0;o._.subscriberChannelUpdate(A,f(),t,{preferredWidth:t.preferredWidth||0,preferredHeight:t.preferredHeight||0})}},this.getPreferredResolution=function(){const e=A.getChannelsOfType("video")[0];if(e&&(e.preferredWidth||e.preferredHeight))return{width:e.preferredWidth,height:e.preferredHeight}},this.setPreferredFrameRate=function(e){if(!m())return void l.warn("setPreferredFrameRate has no affect when called by a publisher");if(o.sessionInfo.p2pEnabled)return void l.warn("Stream.setPreferredFrameRate will not work in a P2P Session");if(e&&isNaN(parseFloat(e)))throw new s.default.Error("stream preferred frameRate must be a number","Subscriber");const t=A.getChannelsOfType("video")[0];t&&(t.preferredFrameRate=e?parseFloat(e):null,o._.subscriberChannelUpdate(A,f(),t,{preferredFrameRate:t.preferredFrameRate||0}))},this.getPreferredFrameRate=function(){const e=A.getChannelsOfType("video")[0];return e?e.preferredFrameRate:null};let I=function(e,t){let n;if(A.publisher)n=e=>o._.streamChannelUpdate(A,e,t);else{const e=f();n=n=>o._.subscriberChannelUpdate(A,e,n,t)}A.getChannelsOfType(e).forEach(n)};this.destroyed=!1,this.destroyedReason=void 0,this.destroy=function(e,t){void 0===e&&(e="clientDisconnected"),p=e,A.destroyed=!0,A.destroyedReason=p,!0!==t&&A.dispatchEvent(new d.DestroyedEvent("destroyed",A,p))},this._={},this._.updateProperty=function(e,t){if(-1===u.indexOf(e))return void l.warn('Unknown stream property "'.concat(e,'" was modified to "').concat(t,'".'));const n=A[e],i=t;switch(e){case"name":A[e]=i;break;case"archiving":var r=f();A.publisher&&r&&r._.archivingStatus(i),A[e]=i}const o=new d.StreamUpdatedEvent(A,e,n,i);A.dispatchEvent(o)},this._.update=function(e){for(const t in e)e.hasOwnProperty(t)&&A._.updateProperty(t,e[t])},this._.forceMute=function(e){e.hasOwnProperty("channels")&&e.channels.includes("audio")&&A.publisher&&A.publisher._.forceMuteAudio()},this._.updateChannel=function(e,t){const n=A.getChannel(e);n&&n.update(t)}};var r=i(n(6)),o=i(n(1)),a=i(n(24)),s=i(n(7)),c=i(n(23));const l=(0,o.default)("Stream"),d=(0,c.default)(),u=["name","archiving"]},function(e,t,n){"use strict";t.__esModule=!0,t.default=t.UNSUBSCRIBE=t.SUBSCRIBE=t.STATUS=t.PONG=t.PING=t.MESSAGE=t.DISCONNECT=t.CONNECT=void 0,t.SUBSCRIBE=0,t.UNSUBSCRIBE=1,t.MESSAGE=2,t.CONNECT=3,t.DISCONNECT=4,t.PING=7,t.PONG=8,t.STATUS=9;var i={SUBSCRIBE:0,UNSUBSCRIBE:1,MESSAGE:2,CONNECT:3,DISCONNECT:4,PING:7,PONG:8,STATUS:9};t.default=i},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(9)),o=i(n(6)),a=i(n(174)),s=i(n(23)),c=i(n(761));const l=(0,s.default)();function d(e,t,n,i,r){let s;this.id=e,this.connectionId=e,this.creationTime=t?Number(t):null,this.data=n,this.capabilities=(0,c.default)(i),this.permissions=new a.default(r),this.quality=null,(0,o.default)(this),this.destroy=(e,t)=>{s=e||"clientDisconnected",!0!==t&&this.dispatchEvent(new l.DestroyedEvent("destroyed",this,s))},this.destroyed=()=>void 0!==s,this.destroyedReason=()=>s}d.fromHash=e=>{let t=e.id,n=e.creationTime,i=e.data,o=e.capablities,a=e.permissions;return new d(t,n,i,(0,r.default)(o||{},{supportsWebRTC:!0}),a||[])};var u=d;t.default=u},function(e,t){var i="object"==typeof(void 0!==typeof window?window:n.g)&&(void 0!==typeof window?window:n.g)&&(void 0!==typeof window?window:n.g).Object===Object&&(void 0!==typeof window?window:n.g);e.exports=i},function(e,t){var n=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(t){}try{return e+""}catch(t){}}return""}},function(e,t,n){var i=n(43),r=function(){try{var e=i(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=r},function(e,t,n){var i=n(45),r=n(33);e.exports=function(e,t){return e&&i(t,r(t),e)}},function(e,t,n){var i=n(376),r=n(64),o=n(12),a=n(65),s=n(66),c=n(86),l=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),d=!n&&r(e),u=!n&&!d&&a(e),h=!n&&!d&&!u&&c(e),A=n||d||u||h,p=A?i(e.length,String):[],g=p.length;for(var f in e)!t&&!l.call(e,f)||A&&("length"==f||u&&("offset"==f||"parent"==f)||h&&("buffer"==f||"byteLength"==f||"byteOffset"==f)||s(f,g))||p.push(f);return p}},function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},function(e,t,n){(function(e){var i=n(15),r=t&&!t.nodeType&&t,o=r&&"object"==typeof e&&e&&!e.nodeType&&e,a=o&&o.exports===r?i.Buffer:void 0,s=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,i=s?s(n):new e.constructor(n);return e.copy(i),i}}).call(this,n(85)(e))},function(e,t){e.exports=function(){return[]}},function(e,t,n){var i=n(119),r=n(120),o=n(118),a=n(185),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)i(t,o(e)),e=r(e);return t}:a;e.exports=s},function(e,t,n){var i=n(188),r=n(118),o=n(33);e.exports=function(e){return i(e,o,r)}},function(e,t,n){var i=n(119),r=n(12);e.exports=function(e,t,n){var o=t(e);return r(e)?o:i(o,n(e))}},function(e,t,n){var i=n(188),r=n(186),o=n(54);e.exports=function(e){return i(e,o,r)}},function(e,t,n){var i=n(43)(n(15),"Set");e.exports=i},function(e,t,n){var i=n(43)(n(15),"WeakMap");e.exports=i},function(e,t,n){var i=n(15).Uint8Array;e.exports=i},function(e,t,n){var i=n(121);e.exports=function(e,t){var n=t?i(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},function(e,t,n){var i=n(87),r=n(120),o=n(68);e.exports=function(e){return"function"!=typeof e.constructor||o(e)?{}:i(r(e))}},function(e,t,i){"use strict";(function(e){var r=i(0);t.__esModule=!0,t.default=void 0;var o=r(i(4)),a=r(i(5)),s=r(i(6)),c=r(i(1)),l=r(i(57)),d=r(i(455)),u=r(i(456)),h=r(i(457)),A=r(i(93)),p=r(i(3)),g=r(i(211)),f=r(i(20)),m=r(i(94)),E=r(i(129)),C=r(i(130)),I=r(i(463)),Q=r(i(562)),U=r(i(7)),y=r(i(259));const b=(0,f.default)().hasAudioOutputApiSupport,v=m.default.getCurrentAudioOutputDeviceId;function R(e,t){const n=document.createElement("video");return(0,u.default)(n),n.autoplay=!0,n.playsinline=!0,n.innerHTML=e,n.setAttribute("autoplay",""),n.setAttribute("playsinline",""),!0===t&&(n.muted="true"),n}function S(){const e=R("");return e.setAttribute("style","display:none"),e}var F=function(t){void 0===t&&(t={});const i=t.audioContext||(0,E.default)(),r=t.canBeOrientatedMixin||I.default,u=t.document||(void 0!==typeof window?window:n.g).document,f=t.listenForTracksEnded||(0,Q.default)(),m=t.logging||c.default,F=t.OTHelpers||U.default,B=t.videoElementErrorMap||(0,y.default)(),T=t.WebaudioAudioLevelSampler||C.default,N=t.global||(void 0!==typeof window?window:n.g);let _=1,w=function(){function t(e,t){var n=this;let i=e._inject,c=void 0===i?{}:i,d=c.createVideoElement,u=void 0===d?R:d,h=c.createAudioOnlyVideoElement,A=void 0===h?S:h,f=e.muted,E=e.fallbackText,C=e.widgetType;this._domElement=void 0,this._domAudioOnlyVideoElement=void 0,this._blockedVolume=void 0,this._mediaStoppedListener=void 0,this._audioLevelSampler=void 0,this._playInterrupts=0,this._isVideoLoadedMetaData=!1,this._audioOnlyVideoElementWatcher=void 0,this._blinkStartTime=null,this.logging=m("NativeVideoElementWrapper:".concat(_)),_+=1,(0,s.default)(this),this._defaultAudioVolume=t,this._widgetType=C,this._emitVideoPlayAttempt=()=>{this._blinkStartTime=(new Date).getTime(),this.trigger("amrLogEvent","AMRTransitionVideo","Attempt")},this._emitVideoPlaySuccess=()=>{const e=(new Date).getTime()-this._blinkStartTime;this.trigger("amrLogEvent","AMRTransitionVideo","Success",{attemptDuration:e}),this._blinkStartTime=null},this._emitVideoPlayFailure=()=>{this.trigger("amrLogEvent","AMRTransitionVideo","Failure")};let I=!1;this._domElement=u(E,f),this.trigger("videoElementCreated",this._domElement),this._domElementEvents=(0,l.default)(this._domElement),this._domElementEvents.on("loadstart",(()=>this._onDomElementLoadStart())),this._domElementEvents.on("timeupdate",(function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return n.trigger("timeupdate",...t)})),this._domElementEvents.on("loadedmetadata",(0,a.default)(o.default.mark((function e(){var t,i,r,a,s=arguments;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n._isVideoLoadedMetaData=!0,t=s.length,i=new Array(t),r=0;r<t;r++)i[r]=s[r];if(n.trigger("loadedmetadata",...i),!n._domAudioOnlyVideoElement){e.next=10;break}if(a=n._domAudioOnlyVideoElement.srcObject,n._removeAudioOnlyVideoElement(),!a){e.next=10;break}return e.next=9,(0,g.default)();case 9:n.play();case 10:case"end":return e.stop()}}),e)})))),this._domElementEvents.on("error",(e=>{this.trigger("error",B(e.target.error))}),!1),this._domElementEvents.on("pause",(()=>{I||(this.logging.warn("Video element paused, auto-resuming. If you intended to do this, use publishVideo(false) or subscribeToVideo(false) instead."),I=!0),this.play()})),this.on("destroyed",(()=>{this._domElementEvents.removeAll(),this._domAudioOnlyVideoElementEvents&&this._domAudioOnlyVideoElementEvents.removeAll()})),r(this,(()=>this._domElement)),p.default.isSafari&&"subscriber"===this._widgetType&&(this._domAudioOnlyVideoElement=A(),this._bindAudioOnlyVideoElementEvents())}var n=t.prototype;return n._onDomElementLoadStart=function(){var e=(0,a.default)(o.default.mark((function e(){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("subscriber"!==this._widgetType||!b()){e.next=3;break}return e.next=3,this._setActiveAudioOutputDevice();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n._setActiveAudioOutputDevice=function(){var e=(0,a.default)(o.default.mark((function e(){var t;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==(t=v())&&"default"!==t){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,this.setSinkId(t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n._rebindSrcObject=function(){this._domElement&&(this._domElement.srcObject=this._domElement.srcObject)},n._pauseAndPlay=function(){this._domElement&&(this._domElement.pause(),this._domElement.play())},n._startAudioOnlyVideoElementWatcher=function(){var e=(0,a.default)(o.default.mark((function e(){var t;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=p.default.isiOS,this._audioOnlyVideoElementWatcher=setInterval((()=>{this._domAudioOnlyVideoElement&&this._domAudioOnlyVideoElement.paused&&(this._domAudioOnlyVideoElement.srcObject=this._domAudioOnlyVideoElement.srcObject,t&&this._domAudioOnlyVideoElement.play())}),100),e.next=5,(0,A.default)(1e3);case 5:clearInterval(this._audioOnlyVideoElementWatcher),this._audioOnlyVideoElementWatcher=null;case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n._removeAudioOnlyVideoElement=function(){var e=(0,a.default)(o.default.mark((function e(){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._domAudioOnlyVideoElement.srcObject=null,this._domAudioOnlyVideoElement.parentNode.removeChild(this._domAudioOnlyVideoElement),this._domAudioOnlyVideoElementEvents&&this._domAudioOnlyVideoElementEvents.removeAll(),this._domAudioOnlyVideoElement=null;case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.bindAudioTrackOnly=function(){var e=(0,a.default)(o.default.mark((function e(){var t,n,i,r,a,s,c;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this._stream.getVideoTracks(),n=this._stream.getAudioTracks(),i=t[0],r=void 0===i?{}:i,a=n[0],s=void 0===a?{}:a,e.next=6,(0,g.default)();case 6:c=!r.enabled&&s.enabled,!this._isVideoLoadedMetaData&&c&&this._domAudioOnlyVideoElement&&(this._domAudioOnlyVideoElement.srcObject=new N.MediaStream(n),this._startAudioOnlyVideoElementWatcher());case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n._bindAudioOnlyVideoElementEvents=function(){var e=this;this._domAudioOnlyVideoElementEvents=(0,l.default)(this._domAudioOnlyVideoElement),this._domAudioOnlyVideoElementEvents.on("pause",(()=>this.play())),this._domAudioOnlyVideoElementEvents.on("timeupdate",(function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.trigger("timeupdate",...n)})),this._domAudioOnlyVideoElementEvents.on("loadedmetadata",(function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.trigger("loadedmetadata",...n)}))},n.whenTimeIncrements=function(e,t){this.once("timeupdate",(()=>{e.call(t,this)}))},n.domElement=function(){return this._domElement},n.videoWidth=function(){return this._domElement?Number(this._domElement["video".concat(this.isRotated()?"Height":"Width")]):0},n.videoHeight=function(){return this._domElement?Number(this._domElement["video".concat(this.isRotated()?"Width":"Height")]):0},n.aspectRatio=function(){return this.videoWidth()/this.videoHeight()},n.imgData=function(){const e=F.createElement("canvas",{width:this.videoWidth(),height:this.videoHeight(),style:{display:"none"}});u.body.appendChild(e);let t=null;try{e.getContext("2d").drawImage(this._domElement,0,0,e.width,e.height),t=e.toDataURL("image/png")}catch(n){}return F.removeElement(e),null===t||"data:,"===t?(this.logging.warn("Cannot get image data yet"),null):t.replace("data:image/png;base64,","").trim()},n.appendTo=function(e){return e.appendChild(this._domElement),this._domAudioOnlyVideoElement&&e.appendChild(this._domAudioOnlyVideoElement),this},n.isAudioBlocked=function(){return void 0!==this._blockedVolume},n.unblockAudio=function(){var e=(0,a.default)(o.default.mark((function e(){var t;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isAudioBlocked()){e.next=3;break}return this.logging.warn("Unexpected call to unblockAudio() without blocked audio"),e.abrupt("return");case 3:return t=this._blockedVolume,this._blockedVolume=void 0,this.setAudioVolume(t),e.prev=6,e.next=9,this.play();case 9:e.next=16;break;case 11:throw e.prev=11,e.t0=e.catch(6),this._blockedVolume=t,this._domElement.muted=!0,e.t0;case 16:this.trigger("audioUnblocked");case 17:case"end":return e.stop()}}),e,this,[[6,11]])})));return function(){return e.apply(this,arguments)}}(),n.rebind=function(){var e=(0,a.default)(o.default.mark((function e(){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._domElement){e.next=2;break}throw new Error("Can't rebind because _domElement no longer exists");case 2:this._playInterrupts++,this._domElement.srcObject=this._domElement.srcObject,this._hasAudioOnlyVideoElement()&&(this._domAudioOnlyVideoElement.srcObject=this._domAudioOnlyVideoElement.srcObject);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n._createAudioLevelSampler=function(){if(this._removeAudioLevelSampler(),this._stream.getAudioTracks().length>0){try{this._audioContext=i()}catch(e){this.logging.warn("Failed to get AudioContext(), audio level visualisation will not work",e)}this._audioContext&&(this._audioLevelSampler=new T(this._audioContext),this._audioLevelSampler.webRTCStream(this._stream))}},n._removeAudioLevelSampler=function(){this._audioContext&&(delete this._audioContext,delete this._audioLevelSampler)},n._toggleVideoTracks=function(){var e=(0,a.default)(o.default.mark((function e(){var t,n;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((t=this._domElement.srcObject.getTracks().filter((e=>e.enabled))).length>1)){e.next=8;break}return(n=t.filter((e=>"video"===e.kind))).forEach((e=>{e.enabled=!1})),e.next=7,(0,g.default)();case 7:n.forEach((e=>{e.enabled=!0}));case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n._hasAudioOnlyVideoElement=function(){return this._domAudioOnlyVideoElement&&this._domAudioOnlyVideoElement.srcObject},n.play=function(){var e=(0,a.default)(o.default.mark((function e(){var t,n,i,r,a,s,c,l,d,u;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this._playInterrupts,n=this._hasAudioOnlyVideoElement()?this._domAudioOnlyVideoElement:this._domElement,!p.default.isSafari){e.next=5;break}return e.next=5,(0,g.default)();case 5:if(!p.default.isiOS||!p.default.isSafari){e.next=15;break}if("publisher"!==this._widgetType){e.next=14;break}if(i=p.default.iOSVersion>=14&&p.default.iOSVersion<=14.2,r=this._stream.getVideoTracks(),a=r[0],s=void 0===a?{}:a,c=this._stream.getAudioTracks(),l=c[0],d=void 0===l?{}:l,!i||(0,h.default)(n)||!s.enabled){e.next=12;break}return e.abrupt("return");case 12:if(!d.muted){e.next=14;break}return e.abrupt("return");case 14:this._toggleVideoTracks();case 15:return e.prev=15,this._emitVideoPlayAttempt(),e.next=19,n.play();case 19:return this._emitVideoPlaySuccess(),e.abrupt("return");case 23:if(e.prev=23,e.t0=e.catch(15),this._emitVideoPlayFailure(),u=e.t0||{},"AbortError"===u.name&&this._playInterrupts++,!(this._playInterrupts>t)){e.next=33;break}return e.next=32,this.play();case 32:return e.abrupt("return");case 33:throw e.t0;case 34:case"end":return e.stop()}}),e,this,[[15,23]])})));return function(){return e.apply(this,arguments)}}(),n._bindToStream=function(e){this._stream=e,this._domElement.srcObject=e,this._domAudioOnlyVideoElement&&this.bindAudioTrackOnly()},n.bindToStream=function(){var e=(0,a.default)(o.default.mark((function e(t){var n,i,r,s=this;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._domElement){e.next=2;break}throw new Error("Can't bind because _domElement no longer exists");case 2:return this._bindToStream(t),(0,a.default)(o.default.mark((function e(){var n;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.play();case 3:e.next=26;break;case 5:if(e.prev=5,e.t0=e.catch(0),n=!!t.getAudioTracks().length,!s._hasAudioOnlyVideoElement()||"NotAllowedError"!==e.t0.name){e.next=15;break}return s._domAudioOnlyVideoElement.muted=!0,e.next=12,s.play();case 12:s._domAudioOnlyVideoElement.muted=!1,e.next=26;break;case 15:if(!n){e.next=23;break}return s._blockedVolume=s.getAudioVolume(),s._domElement.muted=!0,e.next=20,s.play();case 20:s.trigger("audioBlocked"),e.next=26;break;case 23:return s._domElement.muted=!0,e.next=26,s.play();case 26:case"end":return e.stop()}}),e,null,[[0,5]])})))().catch((e=>{this.logging.debug(".play() failed: ",e)})),n={width:this._domElement.videoWidth,height:this._domElement.videoHeight},this.trigger("videoDimensionsChanged",Object.assign({},n),Object.assign({},n)),this._domElementEvents.on("resize",(()=>{const e=this._domElement,t=e.videoWidth,i=e.videoHeight,r=t!==n.width,o=i!==n.height;(r||o)&&(this.trigger("videoDimensionsChanged",Object.assign({},n),{width:t,height:i}),n.width=t,n.height=i)})),i=()=>{try{this._mediaStoppedListener.stop()}catch(e){return}this._domElement&&(this._domElement.onended=null),this.trigger("mediaStopped")},r=e=>{this.trigger("mediaStopped",e)},this._domElement.onended=()=>i(),this._mediaStoppedListener=f(t,i,r),this._createAudioLevelSampler(),e.abrupt("return",void 0);case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.unbindStream=function(){return this._domElement&&(this._domElement.srcObject=null),this._domAudioOnlyVideoElement&&(this._domAudioOnlyVideoElement.srcObject=null),this._removeAudioLevelSampler(),this},n.setAudioVolume=function(e){if(this.isAudioBlocked())return void(this._blockedVolume=e);const t=parseFloat(e)/100,n=[this.domElement()];this._domAudioOnlyVideoElement&&n.push(this._domAudioOnlyVideoElement),n.forEach((e=>{e&&(e.volume=t,e.muted=0===t)}))},n.getAudioVolume=function(){if(this.isAudioBlocked())return this._blockedVolume;const e=this.domElement();return e?e.muted?0:100*e.volume:this._defaultAudioVolume},n.audioChannelType=function(e){const t=this.domElement();return void 0!==e&&(t.mozAudioChannelType=e),"mozAudioChannelType"in this._domElement?t.mozAudioChannelType:"unknown"},n.getAudioInputLevel=function(){return this._audioLevelSampler.sample()},n.refreshTracks=function(){this._mediaStoppedListener&&this._mediaStoppedListener.refresh(),this._createAudioLevelSampler()},n.destroy=function(){this._mediaStoppedListener&&this._mediaStoppedListener.stop(),this.logging.debug("removing domElementEvents"),this._domElementEvents.removeAll(),this._domAudioOnlyVideoElementEvents&&this._domAudioOnlyVideoElementEvents.removeAll(),this._audioOnlyVideoElementWatcher&&clearInterval(this._audioOnlyVideoElementWatcher),this.unbindStream(),this._domElement&&(F.removeElement(this._domElement),this._domElement=null),this._domAudioOnlyVideoElement&&(F.removeElement(this._domAudioOnlyVideoElement),this._domAudioOnlyVideoElement=null),this.trigger("destroyed"),(0,d.default)("NativeVideoElementWrapper",this)},n.setSinkId=function(t){const n=[this._domElement,this._domAudioOnlyVideoElement].map((e=>{if(e)return e.setSinkId(t)}));return e.all(n)},t}();return w};t.default=F}).call(this,i(2))},function(e,t,n){var i=n(88),r=n(124);e.exports=function(e){return i((function(t,n){var i=-1,o=n.length,a=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0;for(a=e.length>3&&"function"==typeof a?(o--,a):void 0,s&&r(n[0],n[1],s)&&(a=o<3?void 0:a,o=1),t=Object(t);++i<o;){var c=n[i];c&&e(t,c,i,a)}return t}))}},function(e,t,n){var i=n(122),r=Math.max;e.exports=function(e,t,n){return t=r(void 0===t?e.length-1:t,0),function(){for(var o=arguments,a=-1,s=r(o.length-t,0),c=Array(s);++a<s;)c[a]=o[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=o[a];return l[t]=n(c),i(e,this,l)}}},function(e,t){var n=Date.now;e.exports=function(e){var t=0,i=0;return function(){var r=n(),o=16-(r-i);if(i=r,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}},function(e,t,n){var i=n(113);function r(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var i=arguments,r=t?t.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var a=e.apply(this,i);return n.cache=o.set(r,a)||o,a};return n.cache=new(r.Cache||i),n}r.Cache=i,e.exports=r},function(e,t,n){"use strict";e.exports=n(406)()?WeakMap:n(407)},function(e,t,n){"use strict";var i=Object.create,r=Object.getPrototypeOf,o={};e.exports=function(){var e=Object.setPrototypeOf;return"function"===typeof e&&r(e((arguments[0]||i)(null),o))===o}},function(e,t,n){"use strict";var i,r=n(203),o=n(34),a=Object.prototype.isPrototypeOf,s=Object.defineProperty,c={configurable:!0,enumerable:!1,writable:!0,value:void 0};i=function(e,t){if(o(e),null===t||r(t))return e;throw new TypeError("Prototype must be null or an object")},e.exports=function(e){var t,n;return e?(2===e.level?e.set?(n=e.set,t=function(e,t){return n.call(i(e,t),t),e}):t=function(e,t){return i(e,t).__proto__=t,e}:t=function e(t,n){var r;return i(t,n),(r=a.call(e.nullPolyfill,t))&&delete e.nullPolyfill.__proto__,null===n&&(n=e.nullPolyfill),t.__proto__=n,r&&s(e.nullPolyfill,"__proto__",c),t},Object.defineProperty(t,"level",{configurable:!1,enumerable:!1,writable:!1,value:e.level})):null}(function(){var e,t=Object.create(null),n={},i=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");if(i){try{(e=i.set).call(t,n)}catch(r){}if(Object.getPrototypeOf(t)===n)return{set:e,level:2}}return t.__proto__=n,Object.getPrototypeOf(t)===n?{level:2}:((t={}).__proto__=n,Object.getPrototypeOf(t)===n&&{level:1})}()),n(409)},function(e,t,n){"use strict";var i=n(47),r={function:!0,object:!0};e.exports=function(e){return i(e)&&r[typeof e]||!1}},function(e,t,n){"use strict";var i=n(412),r=/^\s*class[\s{/}]/,o=Function.prototype.toString;e.exports=function(e){return!!i(e)&&!r.test(o.call(e))}},function(e,t,n){"use strict";var i=n(47),r=Array.prototype.forEach,o=Object.create;e.exports=function(e){var t=o(null);return r.call(arguments,(function(e){i(e)&&function(e,t){var n;for(n in e)t[n]=e[n]}(Object(e),t)})),t}},function(e,t,n){"use strict";e.exports=n(419)()?String.prototype.contains:n(420)},function(e,t,n){"use strict";var i=n(90),r=n(91),o=n(421),a=n(450),s=n(451),c=n(48).iterator;e.exports=function(e){return"function"===typeof s(e)[c]?e[c]():i(e)?new o(e):r(e)?new a(e):new o(e)}},function(e,t,n){"use strict";var i=n(426);e.exports=function(e){if(!i(e))throw new TypeError(e+" is not a symbol");return e}},function(e,t,n){"use strict";var i,r=n(430),o=n(128),a=n(69),s=n(34),c=n(35),l=n(431),d=n(48),u=Object.defineProperty,h=Object.defineProperties;e.exports=i=function(e,t){if(!(this instanceof i))throw new TypeError("Constructor requires 'new'");h(this,{__list__:c("w",s(e)),__context__:c("w",t),__nextIndex__:c("w",0)}),t&&(a(t.on),t.on("_add",this._onAdd),t.on("_delete",this._onDelete),t.on("_clear",this._onClear))},delete i.prototype.constructor,h(i.prototype,o({_next:c((function(){var e;if(this.__list__)return this.__redo__&&void 0!==(e=this.__redo__.shift())?e:this.__nextIndex__<this.__list__.length?this.__nextIndex__++:void this._unBind()})),next:c((function(){return this._createResult(this._next())})),_createResult:c((function(e){return void 0===e?{done:!0,value:void 0}:{done:!1,value:this._resolve(e)}})),_resolve:c((function(e){return this.__list__[e]})),_unBind:c((function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off("_add",this._onAdd),this.__context__.off("_delete",this._onDelete),this.__context__.off("_clear",this._onClear),this.__context__=null)})),toString:c((function(){return"[object "+(this[d.toStringTag]||"Object")+"]"}))},l({_onAdd:c((function(e){e>=this.__nextIndex__||(++this.__nextIndex__,this.__redo__?(this.__redo__.forEach((function(t,n){t>=e&&(this.__redo__[n]=++t)}),this),this.__redo__.push(e)):u(this,"__redo__",c("c",[e])))})),_onDelete:c((function(e){var t;e>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&(-1!==(t=this.__redo__.indexOf(e))&&this.__redo__.splice(t,1),this.__redo__.forEach((function(t,n){t>e&&(this.__redo__[n]=--t)}),this)))})),_onClear:c((function(){this.__redo__&&r.call(this.__redo__),this.__nextIndex__=0}))}))),u(i.prototype,d.iterator,c((function(){return this})))},function(e,t,n){"use strict";var i=n(56),r=n(127),o=n(433),a=n(434),s=function(e,t){return e.replace("%v",a(t))};e.exports=function(e,t,n){if(!r(n))throw new TypeError(s(t,e));if(!i(e)){if("default"in n)return n.default;if(n.isOptional)return null}var a=o(n.errorMessage);throw i(a)||(a=t),new TypeError(s(a,e))}},function(e,t,n){"use strict";(function(e){t.__esModule=!0,t.default=function(){return new e((e=>setTimeout(e)))}}).call(this,n(2))},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){void 0===e&&(e={});const t=e.global||(void 0!==typeof window?window:n.g);return function(){if(t.navigator.mediaDevices){const e=t.navigator.mediaDevices;return e.enumerateDevices&&e.enumerateDevices.bind(e)}}}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;let i="";var r={getCurrentAudioInputDevice:()=>i,setCurrentAudioInputDevice:e=>{i=e}};t.default=r},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(215)),o=(e,t)=>new r.default(e,t);t.default=o},function(e,t,i){"use strict";var r=i(0);t.__esModule=!0,t.default=void 0;var o=r(i(17)),a=r(i(464)),s=r(i(465)),c=r(i(466)),l=r(i(468));const d={attributes:a.default,css:s.default,classNames:c.default,observers:l.default},u=/^#([\w-]*)$/,h=function(e){return Array.prototype.slice.call(e)},A=function(e,t){const i=function(e,t){let i;if("undefined"===typeof e)return[];if("string"===typeof e){i=[];const n=u.exec(e);if(t=t||document,n&&n[1]){const e=t.getElementById(n[1]);e&&i.push(e)}else i=t.querySelectorAll(e)}else e&&(e.nodeType||(void 0!==typeof window?window:n.g).XMLHttpRequest&&e instanceof(void 0!==typeof window?window:n.g).XMLHttpRequest||e===(void 0!==typeof window?window:n.g))?(i=[e],t=e):Array.isArray(e)?(i=e.slice(),t=null):i=h(i);return i}(e,t);this.context=t,this.toArray=function(){return i},this.length=i.length,this.first=i[0],this.last=i[i.length-1],this.get=function(e){return void 0===e?i:i[e]}};(A._attachToOTHelpers={}).removeElement=function(e){return new A(e).remove()},A.prototype.getAsArray=function(){let e=this.get();return(0,o.default)(e.forEach)||(e=h(e)),e},A.prototype.some=function(e,t){return this.getAsArray().some(e,t)},A.prototype.forEach=function(e,t){return this.getAsArray().forEach(e,t),this},A.prototype.map=function(e,t){return new A(this.getAsArray().map(e,t),this.context)},A.prototype.filter=function(e,t){return new A(this.getAsArray().filter(e,t),this.context)},A.prototype.find=function(e){return new A(e,this.first)},A.prototype.on=function(e,t){return this.forEach((n=>{n.addEventListener(e,t,!1)}))},A.prototype.off=function(e,t){return this.forEach((n=>{n.removeEventListener(e,t,!1)}))},A.prototype.once=function(e,t){const n=function(){this.off(e,n),t(...arguments)}.bind(this);return this.on(e,n)},A.prototype.appendTo=function(e){if(!e)throw new Error("appendTo requires a DOMElement to append to.");return this.forEach((t=>{e.appendChild(t)}))},A.prototype.append=function(){const e=this.first;return e?(Array.prototype.forEach.call(arguments,(t=>{e.appendChild(t)})),this):this},A.prototype.prepend=function(){if(0===arguments.length)return this;const e=this.first;let t;return e?(t=Array.prototype.slice.call(arguments),e.firstElementChild||e.appendChild(t.shift()),t.forEach((t=>{e.insertBefore(t,e.firstElementChild)})),this):this},A.prototype.after=function(e){if(!e)throw new Error("after requires a DOMElement to insert after");return this.forEach((t=>{t.parentElement&&(e!==t.parentNode.lastChild?t.parentElement.insertBefore(t,e):t.parentElement.appendChild(t))}))},A.prototype.before=function(e){if(!e)throw new Error("before requires a DOMElement to insert before");return this.forEach((t=>{t.parentElement&&t.parentElement.insertBefore(t,e)}))},A.prototype.remove=function(){return this.forEach((e=>{e.parentNode&&e.parentNode.removeChild(e)}))},A.prototype.empty=function(){return this.forEach((e=>{for(;e.firstChild;)e.removeChild(e.firstChild)}))},A.prototype.isDisplayNone=function(){return this.some((e=>(0===(null==e?void 0:e.offsetWidth)||0===(null==e?void 0:e.offsetHeight))&&"none"===new A(e).css("display")||!(null==e||!e.parentNode||null==e||!e.parentNode.style)&&new A(e.parentNode).isDisplayNone()))};const p=function e(t){return 0!==t.offsetWidth&&0!==t.offsetHeight||"none"!==new A(t).css("display")?t.parentNode&&t.parentNode.style?e(t.parentNode):null:t};A._attachToOTHelpers.emptyElement=function(e){return new A(e).empty()},A._attachToOTHelpers._findElementWithDisplayNone=p,d.css(A,p),d.attributes(A),d.classNames(A),d.observers(A),["on","off","isDisplayNone","show","hide","css","makeVisibleAndYield","addClass","removeClass"].forEach((e=>{A._attachToOTHelpers[e]=function(){const t=Array.prototype.slice.apply(arguments),n=t.shift(),i=new A(n);return A.prototype[e].apply(i,t)}}));var g=A;t.default=g},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=function(e,t,n){let i=void 0===n?{}:n,o=i.value,a=i.name,s=void 0===a?"".concat(t):a,c=i.getWarning,l=void 0===c?"":c,d=i.setWarning,u=void 0===d?"":d,h=i.canSet,A=void 0!==h&&h,p=i.warnOnSet,g=o,f=!1,m=!(void 0!==p&&p);const E={get:()=>(f||(f=!0,r.warn("".concat(s," is deprecated, and will be removed in the future. ").concat(l).trim())),g),set(e){A&&(g=e),m||(m=!0,A?r.warn("".concat(s," is deprecated. ").concat(u).trim()):r.warn("".concat(s," is deprecated, and will be removed in the future. ").concat(u).trim()))}};Object.defineProperty(e,t,E)};const r=(0,i(n(1)).default)("deprecation")},function(e,t,i){"use strict";var r=i(0);t.__esModule=!0,t.default=void 0;var o=r(i(9)),a=r(i(3)),s=r(i(214)),c=r(i(218));const l={};"Node"!==a.default.name&&(l.request=function(e,t,i){const r=new(void 0!==typeof window?window:n.g).XMLHttpRequest,o=t||{};if(o.method){t.overrideMimeType&&(r.overrideMimeType&&r.overrideMimeType(t.overrideMimeType),delete t.overrideMimeType),i&&((0,s.default)(r).on("load",(e=>{const t=e.target.status;t>=200&&(t<300||304===t)?i(null,e):i(e)})),(0,s.default)(r).on("error",i)),r.open(t.method,e,!0),o.headers||(o.headers={});for(const e in o.headers)Object.prototype.hasOwnProperty.call(o.headers,e)&&r.setRequestHeader(e,o.headers[e]);r.send(t.body&&function(e){if("string"===typeof e)return e;const t=[];return Object.keys(e).forEach((n=>{t.push("".concat(encodeURIComponent(n),"=").concat(encodeURIComponent(e[n])))})),t.join("&").replace(/\+/g,"%20")}(t.body))}else i(new Error("No HTTP method specified in options"))},l.get=function(e,t,n){const i=(0,o.default)(t||{},{method:"GET"});l.request(e,i,n)},l.post=function(e,t,n){const i=(0,o.default)(t||{},{method:"POST"});l.request(e,i,n)},l.getJSON=function(e,t,n){t=t||{};const i=(0,o.default)({Accept:"application/json"},t.headers||{});l.get(e,(0,o.default)(t||{},{headers:i}),(function(e,t){if(e)n(e,t&&t.target&&t.target.responseText);else{let e;try{e=JSON.parse(t.target.responseText)}catch(i){return void n(i,t&&t.target&&t.target.responseText)}n(null,e,t)}}))},(0,c.default)(l));var d=l;t.default=d},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var i=e=>{const t={};Object.keys(e).forEach((n=>{t[n]=e[n]})),e._attachToOTHelpers=t};t.default=i},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=function(e){var t=this;let n=e.loggingUrl,i=e.queue,o=void 0===i?A:i,a=e.ajax,s=void 0===a?c.default:a;this.loggingUrl=n,this.updateEndPoints=()=>{if(!this.proxyUrl){this.proxyUrl=(0,d.getProxyUrl)();const e=(0,l.default)(this.loggingUrl,this.proxyUrl);this.loggingUrl=e}this.endPoint="".concat(this.loggingUrl,"/logging/ClientEvent"),this.endPointQos="".concat(this.loggingUrl,"/logging/ClientQos")},this.updateEndPoints();const p={};this.logError=function(e,n,i,o,a){void 0===o&&(o=null),void 0===a&&(a={});const s=a.partnerId;if(((e,t,n)=>{if(!n)return!1;const i=[n,t,e].join("_");return(p[i]||0)>=100})(e,n,s))return;const c=[s,n,e].join("_"),l=o;p[c]="undefined"!==typeof p[c]?p[c]+1:1,t.logEvent((0,r.default)(a,{action:"".concat(n,".").concat(e),payload:l}),!1)},this.logEvent=function(e,n,i,r){void 0===n&&(n=!1),void 0===r&&(r=()=>{}),t.updateEndPoints();const a=Object.assign({},e,{clientInstanceId:h});if(i&&!isNaN(i)&&Math.random()>i)return void u.debug("skipping sending analytics due to throttle:",a);let c;u.debug("queueing analytics:",t.loggingUrl,a);try{c=JSON.stringify(a)}catch(l){return void r(l)}!function(e,n,i){void 0===n&&(n=()=>{}),o.add((r=>{u.debug("sending analytics:",t.loggingUrl,e),s.post(i?t.endPointQos:t.endPoint,{body:e,overrideMimeType:"text/plain",headers:{Accept:"text/plain","Content-Type":"application/json"}},(e=>{e&&u.debug("Failed to send ClientEvent, moving on to the next item."),n(e||void 0),r()}))}))}(c,r,n)},this.logQOS=e=>this.logEvent(e,!0)};var r=i(n(9)),o=i(n(16)),a=i(n(1)),s=i(n(473)),c=i(n(217)),l=i(n(96)),d=n(97);const u=(0,a.default)("analytics"),h=(0,o.default)(),A=new s.default},function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var i=new Uint8Array(16);e.exports=function(){return n(i),i}}else{var r=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0===(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}},function(e,t){for(var n=[],i=0;i<256;++i)n[i]=(i+256).toString(16).substr(1);e.exports=function(e,t){var i=t||0,r=n;return[r[e[i++]],r[e[i++]],r[e[i++]],r[e[i++]],"-",r[e[i++]],r[e[i++]],"-",r[e[i++]],r[e[i++]],"-",r[e[i++]],r[e[i++]],"-",r[e[i++]],r[e[i++]],r[e[i++]],r[e[i++]],r[e[i++]],r[e[i++]]].join("")}},function(e,t,n){"use strict";var i=n(474),r=n(475);function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=C,t.resolve=function(e,t){return C(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?C(e,!1,!0).resolveObject(t):t},t.format=function(e){return r.isString(e)&&(e=C(e)),e instanceof o?e.format():o.prototype.format.call(e)},t.Url=o;var a=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,c=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,l=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),d=["'"].concat(l),u=["%","/","?",";","#"].concat(d),h=["/","?","#"],A=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,g={javascript:!0,"javascript:":!0},f={javascript:!0,"javascript:":!0},m={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},E=n(476);function C(e,t,n){if(e&&r.isObject(e)&&e instanceof o)return e;var i=new o;return i.parse(e,t,n),i}o.prototype.parse=function(e,t,n){if(!r.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var o=e.indexOf("?"),s=-1!==o&&o<e.indexOf("#")?"?":"#",l=e.split(s);l[0]=l[0].replace(/\\/g,"/");var C=e=l.join(s);if(C=C.trim(),!n&&1===e.split("#").length){var I=c.exec(C);if(I)return this.path=C,this.href=C,this.pathname=I[1],I[2]?(this.search=I[2],this.query=t?E.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var Q=a.exec(C);if(Q){var U=(Q=Q[0]).toLowerCase();this.protocol=U,C=C.substr(Q.length)}if(n||Q||C.match(/^\/\/[^@\/]+@[^@\/]+/)){var y="//"===C.substr(0,2);!y||Q&&f[Q]||(C=C.substr(2),this.slashes=!0)}if(!f[Q]&&(y||Q&&!m[Q])){for(var b,v,R=-1,S=0;S<h.length;S++)-1!==(F=C.indexOf(h[S]))&&(-1===R||F<R)&&(R=F);for(-1!==(v=-1===R?C.lastIndexOf("@"):C.lastIndexOf("@",R))&&(b=C.slice(0,v),C=C.slice(v+1),this.auth=decodeURIComponent(b)),R=-1,S=0;S<u.length;S++){var F;-1!==(F=C.indexOf(u[S]))&&(-1===R||F<R)&&(R=F)}-1===R&&(R=C.length),this.host=C.slice(0,R),C=C.slice(R),this.parseHost(),this.hostname=this.hostname||"";var B="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!B)for(var T=this.hostname.split(/\./),N=(S=0,T.length);S<N;S++){var _=T[S];if(_&&!_.match(A)){for(var w="",k=0,D=_.length;k<D;k++)_.charCodeAt(k)>127?w+="x":w+=_[k];if(!w.match(A)){var V=T.slice(0,S),Z=T.slice(S+1),W=_.match(p);W&&(V.push(W[1]),Z.unshift(W[2])),Z.length&&(C="/"+Z.join(".")+C),this.hostname=V.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),B||(this.hostname=i.toASCII(this.hostname));var O=this.port?":"+this.port:"",J=this.hostname||"";this.host=J+O,this.href+=this.host,B&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==C[0]&&(C="/"+C))}if(!g[U])for(S=0,N=d.length;S<N;S++){var x=d[S];if(-1!==C.indexOf(x)){var M=encodeURIComponent(x);M===x&&(M=escape(x)),C=C.split(x).join(M)}}var L=C.indexOf("#");-1!==L&&(this.hash=C.substr(L),C=C.slice(0,L));var P=C.indexOf("?");if(-1!==P?(this.search=C.substr(P),this.query=C.substr(P+1),t&&(this.query=E.parse(this.query)),C=C.slice(0,P)):t&&(this.search="",this.query={}),C&&(this.pathname=C),m[U]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){O=this.pathname||"";var G=this.search||"";this.path=O+G}return this.href=this.format(),this},o.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",i=this.hash||"",o=!1,a="";this.host?o=e+this.host:this.hostname&&(o=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&r.isObject(this.query)&&Object.keys(this.query).length&&(a=E.stringify(this.query));var s=this.search||a&&"?"+a||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||m[t])&&!1!==o?(o="//"+(o||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):o||(o=""),i&&"#"!==i.charAt(0)&&(i="#"+i),s&&"?"!==s.charAt(0)&&(s="?"+s),t+o+(n=n.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(s=s.replace("#","%23"))+i},o.prototype.resolve=function(e){return this.resolveObject(C(e,!1,!0)).format()},o.prototype.resolveObject=function(e){if(r.isString(e)){var t=new o;t.parse(e,!1,!0),e=t}for(var n=new o,i=Object.keys(this),a=0;a<i.length;a++){var s=i[a];n[s]=this[s]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var c=Object.keys(e),l=0;l<c.length;l++){var d=c[l];"protocol"!==d&&(n[d]=e[d])}return m[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!m[e.protocol]){for(var u=Object.keys(e),h=0;h<u.length;h++){var A=u[h];n[A]=e[A]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||f[e.protocol])n.pathname=e.pathname;else{for(var p=(e.pathname||"").split("/");p.length&&!(e.host=p.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),n.pathname=p.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var g=n.pathname||"",E=n.search||"";n.path=g+E}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var C=n.pathname&&"/"===n.pathname.charAt(0),I=e.host||e.pathname&&"/"===e.pathname.charAt(0),Q=I||C||n.host&&e.pathname,U=Q,y=n.pathname&&n.pathname.split("/")||[],b=(p=e.pathname&&e.pathname.split("/")||[],n.protocol&&!m[n.protocol]);if(b&&(n.hostname="",n.port=null,n.host&&(""===y[0]?y[0]=n.host:y.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===p[0]?p[0]=e.host:p.unshift(e.host)),e.host=null),Q=Q&&(""===p[0]||""===y[0])),I)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,y=p;else if(p.length)y||(y=[]),y.pop(),y=y.concat(p),n.search=e.search,n.query=e.query;else if(!r.isNullOrUndefined(e.search))return b&&(n.hostname=n.host=y.shift(),(B=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=B.shift(),n.host=n.hostname=B.shift())),n.search=e.search,n.query=e.query,r.isNull(n.pathname)&&r.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n;if(!y.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var v=y.slice(-1)[0],R=(n.host||e.host||y.length>1)&&("."===v||".."===v)||""===v,S=0,F=y.length;F>=0;F--)"."===(v=y[F])?y.splice(F,1):".."===v?(y.splice(F,1),S++):S&&(y.splice(F,1),S--);if(!Q&&!U)for(;S--;S)y.unshift("..");!Q||""===y[0]||y[0]&&"/"===y[0].charAt(0)||y.unshift(""),R&&"/"!==y.join("/").substr(-1)&&y.push("");var B,T=""===y[0]||y[0]&&"/"===y[0].charAt(0);return b&&(n.hostname=n.host=T?"":y.length?y.shift():"",(B=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=B.shift(),n.host=n.hostname=B.shift())),(Q=Q||n.host&&y.length)&&!T&&y.unshift(""),y.length?n.pathname=y.join("/"):(n.pathname=null,n.path=null),r.isNull(n.pathname)&&r.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},o.prototype.parseHost=function(){var e=this.host,t=s.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},function(e,t){e.exports=function(e,t,n,i){for(var r=e.length,o=n+(i?1:-1);i?o--:++o<r;)if(t(e[o],o,e))return o;return-1}},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=function(e){let t=[],n={};const i=e||"id";(0,o.default)(this);const s=function(e,t){return(0,r.default)(e[t])?e[t]():e[t]},c=function(e){this.trigger("update",e),this.trigger("update:".concat(e.target.id),e)}.bind(this),l=function(e){this.remove(e.target,e.reason)}.bind(this);this.reset=function(){t.forEach((function(e){e.off("updated",c,this),e.off("destroyed",l,this)}),this),t=[],n={}},this.destroy=function(e){t.forEach((t=>{t&&"function"===typeof t.destroy&&t.destroy(e,!0)})),this.reset(),this.off()},this.get=function(e){return e&&void 0!==n[e]?t[n[e]]:void 0},this.has=function(e){return e&&void 0!==n[e]},this.toString=function(){return t.toString()},this.where=function(e,n){return(0,r.default)(e)?t.filter(e,n):t.filter((t=>{for(const n in e)if(e.hasOwnProperty(n)&&s(t,n)!==e[n])return!1;return!0}))},this.find=function(e,n){let i;i=(0,r.default)(e)?e:function(t){for(const n in e)if(e.hasOwnProperty(n)&&s(t,n)!==e[n])return!1;return!0},i=i.bind(n);for(let r=0;r<t.length;++r)if(!0===i(t[r]))return t[r];return null},this.forEach=function(e,n){return t.forEach(e,n),this},this.map=function(e){return t.map(e)},this.add=function(e){const r=s(e,i);return this.has(r)?(a.warn("Model ".concat(r," is already in the collection"),t),this):(n[r]=t.push(e)-1,e.on("updated",c,this),e.on("destroyed",l,this),this.trigger("add",e),this.trigger("add:".concat(r),e),this)},this.remove=function(e,r){const o=s(e,i);t.splice(n[o],1);for(let a=n[o];a<t.length;++a)n[s(t[a],i)]=a;return delete n[o],e.off("updated",c,this),e.off("destroyed",l,this),this.trigger("remove",e,r),this.trigger("remove:".concat(o),e,r),this},this._triggerAddEvents=function(){this.where.apply(this,arguments).forEach((function(e){this.trigger("add",e),this.trigger("add:".concat(s(e,i)),e)}),this)},this.length=function(){return t.length}};var r=i(n(17)),o=i(n(6));const a=(0,i(n(1)).default)("Collection")},function(e,t,i){"use strict";(function(e){var r=i(0);t.__esModule=!0,t.default=void 0;var o=r(i(17)),a=r(i(16));const s=(0,r(i(1)).default)("guidStorage"),c={};let l,d;c.override=e=>{if(function(e){return!((0,o.default)(e.get)&&(0,o.default)(e.set))}(e))throw new Error("The storageInterface argument does not seem to be valid, it must implement get and set methods");l!==e&&(l=e,d&&l.set(d,(e=>{e&&s.error("Failed to send initial Guid value (".concat(d,") to the newly assigned Guid Storage. The error was: ").concat(e))})))},c.get=e=>{!function(e){d?e(null,d):l.get(e)}(((t,n)=>{t?e(t):(n?d||(d=n):(n=(0,a.default)(),l.set(n,(t=>{t?e(t):d=n}))),e(null,d))}))},c.getAsync=()=>new e(((e,t)=>{c.get(((n,i)=>n?t(n):e(i)))})),c.override({get(e){let t;try{t=(void 0!==typeof window?window:n.g).localStorage.getItem("opentok_client_id")}catch(i){t||(t=(0,a.default)())}e(null,t)},set(e,t){try{(void 0!==typeof window?window:n.g).localStorage.setItem("opentok_client_id",e)}catch(i){}t(null)}}),c.set=e=>{d=e};var u=c;t.default=u}).call(this,i(2))},function(e,t,n){var i=n(487),r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=i((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(r,(function(e,n,i,r){t.push(i?r.replace(o,"$1"):n||e)})),t}));e.exports=a},function(e,t,n){e.exports=n(489)},function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];return e.apply(t,n)}}},function(e,t,n){"use strict";var i=n(19);function r(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var o;if(n)o=n(t);else if(i.isURLSearchParams(t))o=t.toString();else{var a=[];i.forEach(t,(function(e,t){null!==e&&"undefined"!==typeof e&&(i.isArray(e)?t+="[]":e=[e],i.forEach(e,(function(e){i.isDate(e)?e=e.toISOString():i.isObject(e)&&(e=JSON.stringify(e)),a.push(r(t)+"="+r(e))})))})),o=a.join("&")}if(o){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}},function(e,t,n){"use strict";e.exports=function(e,t,n,i,r){return e.config=t,n&&(e.code=n),e.request=i,e.response=r,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},function(e,t,n){"use strict";(function(t){var i=n(19),r=n(495),o=n(496),a=n(229),s=n(497),c=n(500),l=n(501),d=n(232);e.exports=function(e){return new t((function(t,n){var u=e.data,h=e.headers,A=e.responseType;i.isFormData(u)&&delete h["Content-Type"];var p=new XMLHttpRequest;if(e.auth){var g=e.auth.username||"",f=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";h.Authorization="Basic "+btoa(g+":"+f)}var m=s(e.baseURL,e.url);function E(){if(p){var i="getAllResponseHeaders"in p?c(p.getAllResponseHeaders()):null,o={data:A&&"text"!==A&&"json"!==A?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:i,config:e,request:p};r(t,n,o),p=null}}if(p.open(e.method.toUpperCase(),a(m,e.params,e.paramsSerializer),!0),p.timeout=e.timeout,"onloadend"in p?p.onloadend=E:p.onreadystatechange=function(){p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))&&setTimeout(E)},p.onabort=function(){p&&(n(d("Request aborted",e,"ECONNABORTED",p)),p=null)},p.onerror=function(){n(d("Network Error",e,null,p)),p=null},p.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(d(t,e,e.transitional&&e.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",p)),p=null},i.isStandardBrowserEnv()){var C=(e.withCredentials||l(m))&&e.xsrfCookieName?o.read(e.xsrfCookieName):void 0;C&&(h[e.xsrfHeaderName]=C)}"setRequestHeader"in p&&i.forEach(h,(function(e,t){"undefined"===typeof u&&"content-type"===t.toLowerCase()?delete h[t]:p.setRequestHeader(t,e)})),i.isUndefined(e.withCredentials)||(p.withCredentials=!!e.withCredentials),A&&"json"!==A&&(p.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&p.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){p&&(p.abort(),n(e),p=null)})),u||(u=null),p.send(u)}))}}).call(this,n(2))},function(e,t,n){"use strict";var i=n(230);e.exports=function(e,t,n,r,o){var a=new Error(e);return i(a,t,n,r,o)}},function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,n){"use strict";var i=n(19);e.exports=function(e,t){t=t||{};var n={},r=["url","method","data"],o=["headers","auth","proxy","params"],a=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],s=["validateStatus"];function c(e,t){return i.isPlainObject(e)&&i.isPlainObject(t)?i.merge(e,t):i.isPlainObject(t)?i.merge({},t):i.isArray(t)?t.slice():t}function l(r){i.isUndefined(t[r])?i.isUndefined(e[r])||(n[r]=c(void 0,e[r])):n[r]=c(e[r],t[r])}i.forEach(r,(function(e){i.isUndefined(t[e])||(n[e]=c(void 0,t[e]))})),i.forEach(o,l),i.forEach(a,(function(r){i.isUndefined(t[r])?i.isUndefined(e[r])||(n[r]=c(void 0,e[r])):n[r]=c(void 0,t[r])})),i.forEach(s,(function(i){i in t?n[i]=c(e[i],t[i]):i in e&&(n[i]=c(void 0,e[i]))}));var d=r.concat(o).concat(a).concat(s),u=Object.keys(e).concat(Object.keys(t)).filter((function(e){return-1===d.indexOf(e)}));return i.forEach(u,l),n}},function(e,t,n){"use strict";function i(e){this.message=e}i.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},i.prototype.__CANCEL__=!0,e.exports=i},function(e,t,n){var i=n(508),r=n(510);e.exports=function(e,t,n){return i(r,e,t,n)}},function(e,t,n){var i=n(89),r=n(238),o=r?function(e,t){return r.set(e,t),e}:i;e.exports=o},function(e,t,n){var i=n(191),r=i&&new i;e.exports=r},function(e,t,n){var i=n(240),r=n(241),o=n(514),a=n(102),s=n(242),c=n(248),l=n(523),d=n(143),u=n(15);e.exports=function e(t,n,h,A,p,g,f,m,E,C){var I=128&n,Q=1&n,U=2&n,y=24&n,b=512&n,v=U?void 0:a(t);return function R(){for(var S=arguments.length,F=Array(S),B=S;B--;)F[B]=arguments[B];if(y)var T=c(R),N=o(F,T);if(A&&(F=i(F,A,p,y)),g&&(F=r(F,g,f,y)),S-=N,y&&S<C){var _=d(F,T);return s(t,n,e,R.placeholder,h,F,_,m,E,C-S)}var w=Q?h:this,k=U?w[t]:t;return S=F.length,m?F=l(F,m):b&&S>1&&F.reverse(),I&&E<S&&(F.length=E),this&&this!==u&&this instanceof R&&(k=v||a(k)),k.apply(w,F)}}},function(e,t){var n=Math.max;e.exports=function(e,t,i,r){for(var o=-1,a=e.length,s=i.length,c=-1,l=t.length,d=n(a-s,0),u=Array(l+d),h=!r;++c<l;)u[c]=t[c];for(;++o<s;)(h||o<a)&&(u[i[o]]=e[o]);for(;d--;)u[c++]=e[o++];return u}},function(e,t){var n=Math.max;e.exports=function(e,t,i,r){for(var o=-1,a=e.length,s=-1,c=i.length,l=-1,d=t.length,u=n(a-c,0),h=Array(u+d),A=!r;++o<u;)h[o]=e[o];for(var p=o;++l<d;)h[p+l]=t[l];for(;++s<c;)(A||o<a)&&(h[p+i[s]]=e[o++]);return h}},function(e,t,n){var i=n(515),r=n(246),o=n(247);e.exports=function(e,t,n,a,s,c,l,d,u,h){var A=8&t;t|=A?32:64,4&(t&=~(A?64:32))||(t&=-4);var p=[e,t,s,A?c:void 0,A?l:void 0,A?void 0:c,A?void 0:l,d,u,h],g=n.apply(void 0,p);return i(e)&&r(g,p),g.placeholder=a,o(g,e,t)}},function(e,t,n){var i=n(238),r=n(244),o=i?function(e){return i.get(e)}:r;e.exports=o},function(e,t){e.exports=function(){}},function(e,t,n){var i=n(87),r=n(142);function o(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}o.prototype=i(r.prototype),o.prototype.constructor=o,e.exports=o},function(e,t,n){var i=n(237),r=n(198)(i);e.exports=r},function(e,t,n){var i=n(520),r=n(521),o=n(123),a=n(522);e.exports=function(e,t,n){var s=t+"";return o(e,r(s,a(i(s),n)))}},function(e,t){e.exports=function(e){return e.placeholder}},function(e,t,n){var i=n(527),r=n(11),o=n(71),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,c=/^0o[0-7]+$/i,l=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=i(e);var n=s.test(e);return n||c.test(e)?l(e.slice(2),n?2:8):a.test(e)?NaN:+e}},function(e,t,n){var i=n(98),r=n(251),o=n(100);e.exports=function(e,t,n,a,s,c){var l=1&n,d=e.length,u=t.length;if(d!=u&&!(l&&u>d))return!1;var h=c.get(e),A=c.get(t);if(h&&A)return h==t&&A==e;var p=-1,g=!0,f=2&n?new i:void 0;for(c.set(e,t),c.set(t,e);++p<d;){var m=e[p],E=t[p];if(a)var C=l?a(E,m,p,t,e,c):a(m,E,p,e,t,c);if(void 0!==C){if(C)continue;g=!1;break}if(f){if(!r(t,(function(e,t){if(!o(f,t)&&(m===e||s(m,e,n,a,c)))return f.push(t)}))){g=!1;break}}else if(m!==E&&!s(m,E,n,a,c)){g=!1;break}}return c.delete(e),c.delete(t),g}},function(e,t){e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}},function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,i){n[++t]=[i,e]})),n}},function(e,t,n){var i=n(11);e.exports=function(e){return e===e&&!i(e)}},function(e,t){e.exports=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}}},function(e,t,n){var i=n(540),r=n(541);e.exports=function(e,t){return null!=e&&r(e,t,i)}},function(e,t,n){var i=n(119),r=n(547);e.exports=function e(t,n,o,a,s){var c=-1,l=t.length;for(o||(o=r),s||(s=[]);++c<l;){var d=t[c];n>0&&o(d)?n>1?e(d,n-1,o,a,s):i(s,d):a||(s[s.length]=d)}return s}},function(e,t,n){var i=n(550)();e.exports=i},function(e,t,i){"use strict";var r=i(0);t.__esModule=!0,t.default=void 0;var o=r(i(11)),a=r(i(3));let s;const c=["description","fileName","lineNumber","message","name","number","stack"],l=function(e,t,n){switch(arguments.length){case 1:(0,o.default)(e)&&(n=e,t=void 0,e=void 0);break;case 2:(0,o.default)(t)&&(n=t,t=void 0)}if(n instanceof Error)for(let i=0,r=c.length;i<r;++i)this[c[i]]=n[c[i]];else if((0,o.default)(n))for(const i in n)n.hasOwnProperty(i)&&(this[i]=n[i]);if(!(this.fileName&&this.lineNumber&&this.columnNumber&&this.stack)){const e=s();!this.fileName&&e.fileName&&(this.fileName=e.fileName),!this.lineNumber&&e.lineNumber&&(this.lineNumber=e.lineNumber),!this.columnNumber&&e.columnNumber&&(this.columnNumber=e.columnNumber),!this.stack&&e.stack&&(this.stack=e.stack)}!this.message&&e&&(this.message=e),this.name&&"Error"!==this.name||!t||(this.name=t)};(l.prototype=Object.create(Error.prototype)).toString=function(){let e="";return this.fileName&&(e+=" ".concat(this.fileName)),this.lineNumber&&(e+=" ".concat(this.lineNumber),this.columnNumber&&(e+=":".concat(this.columnNumber))),"<".concat(this.name?"".concat(this.name," "):"").concat(this.message).concat(e,">")},l.prototype.valueOf=l.prototype.toString;const d=function(e,t){return t.slice(2).map((e=>{const t={fileName:e.getFileName(),linenumber:e.getLineNumber(),columnNumber:e.getColumnNumber()};return e.getFunctionName()&&(t.functionName=e.getFunctionName()),e.getMethodName()&&(t.methodName=e.getMethodName()),e.getThis()&&(t.self=e.getThis()),t}))};s=function(){const e={};let t,i,r;switch(a.default.name){case"Firefox":case"Safari":try{(void 0!==typeof window?window:n.g).call.js.is.explody()}catch(c){r=c}t=(r.stack||"").split("\n"),t.shift(),t.shift(),e.stack=t,i=/@(.+?):([0-9]+)(:([0-9]+))?$/.exec(t[0]),i&&(e.fileName=i[1],e.lineNumber=parseInt(i[2],10),i.length>3&&(e.columnNumber=parseInt(i[4],10)));break;case"Chrome":case"Node":case"Opera":var o=Error.prepareStackTrace;Error.prepareStackTrace=d,r=new Error,e.stack=r.stack,Error.prepareStackTrace=o;var s=e.stack[0];e.lineNumber=s.lineNumber,e.columnNumber=s.columnNumber,e.fileName=s.fileName,s.functionName&&(e.functionName=s.functionName),s.methodName&&(e.methodName=s.methodName),s.self&&(e.self=s.self);break;default:r=new Error,r.stack&&(e.stack=r.stack.split("\n"))}return r.message&&(e.message=r.message),e};var u=l;t.default=u},function(e,t,i){"use strict";var r=i(0);t.__esModule=!0,t.default=function(e){void 0===e&&(e={});const t=e.Errors||a.default,i=e.otError||(0,o.default)(),r={};return(void 0!==typeof window?window:n.g).MediaError&&(r[(void 0!==typeof window?window:n.g).MediaError.MEDIA_ERR_ABORTED]={name:t.MEDIA_ERR_ABORTED,message:"The fetching process for the media resource was aborted by the user agent at the user's request."},r[(void 0!==typeof window?window:n.g).MediaError.MEDIA_ERR_NETWORK]={name:t.MEDIA_ERR_NETWORK,message:"A network error of some description caused the user agent to stop fetching the media resource, after the resource was established to be usable."},r[(void 0!==typeof window?window:n.g).MediaError.MEDIA_ERR_DECODE]={name:t.MEDIA_ERR_DECODE,message:"An error of some description occurred while decoding the media resource, after the resource was established to be usable."},r[(void 0!==typeof window?window:n.g).MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED]={name:t.MEDIA_ERR_SRC_NOT_SUPPORTED,message:"The media resource indicated by the src attribute was not suitable."}),function(e){const t=r[e.code];return t?i(t.name,new Error("There was an unexpected problem with the Video Stream: ".concat(t.message))):new Error("An unknown error occurred".concat(e.message?": ".concat(e.message):"."))}};var o=r(i(13)),a=r(i(8))},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(50));let o=function(){function e(e,t){var n;let i=(void 0===t?{}:t).requestAnimationFrame,o=void 0===i?(n=window).requestAnimationFrame.bind(n):i;this._lastCalled=(0,r.default)(),this._audioLevel=void 0,this._running=!1,this._requestAnimationFrame=o,this._getAudioLevel=e,this._startLoop()}var t=e.prototype;return t._startLoop=function(){this._running||(this._running=!0,this._requestAnimationFrame(this._loop.bind(this)))},t._loop=function(){this._getAudioLevel(((e,t)=>{let n=null;if(!e){for(let e=0;e<t.length;e+=1){const i=t[e];let r=null;if(void 0!==i.audioOutputLevel){const e=parseFloat(i.audioOutputLevel)/32768;isNaN(e)||(r=e)}else void 0!==i.audioLevel&&(r=i.audioLevel);null!==r&&(null===n||r>n)&&(n=r)}this._audioLevel=n,this._running&&(0,r.default)()-this._lastCalled<1e4?this._requestAnimationFrame(this._loop.bind(this)):this._running=!1}}))},t.destroy=function(){this._running=!1},t.sample=function(e){if("function"===typeof e)throw new Error("sample no longer takes a callback");return this._startLoop(),this._lastCalled=(0,r.default)(),this._audioLevel},e}();t.default=o},function(e,t,n){"use strict";var i={generateIdentifier:function(){return Math.random().toString(36).substr(2,10)}};i.localCName=i.generateIdentifier(),i.splitLines=function(e){return e.trim().split("\n").map((function(e){return e.trim()}))},i.splitSections=function(e){return e.split("\nm=").map((function(e,t){return(t>0?"m="+e:e).trim()+"\r\n"}))},i.getDescription=function(e){var t=i.splitSections(e);return t&&t[0]},i.getMediaSections=function(e){var t=i.splitSections(e);return t.shift(),t},i.matchPrefix=function(e,t){return i.splitLines(e).filter((function(e){return 0===e.indexOf(t)}))},i.parseCandidate=function(e){for(var t,n={foundation:(t=0===e.indexOf("a=candidate:")?e.substring(12).split(" "):e.substring(10).split(" "))[0],component:parseInt(t[1],10),protocol:t[2].toLowerCase(),priority:parseInt(t[3],10),ip:t[4],address:t[4],port:parseInt(t[5],10),type:t[7]},i=8;i<t.length;i+=2)switch(t[i]){case"raddr":n.relatedAddress=t[i+1];break;case"rport":n.relatedPort=parseInt(t[i+1],10);break;case"tcptype":n.tcpType=t[i+1];break;case"ufrag":n.ufrag=t[i+1],n.usernameFragment=t[i+1];break;default:n[t[i]]=t[i+1]}return n},i.writeCandidate=function(e){var t=[];t.push(e.foundation),t.push(e.component),t.push(e.protocol.toUpperCase()),t.push(e.priority),t.push(e.address||e.ip),t.push(e.port);var n=e.type;return t.push("typ"),t.push(n),"host"!==n&&e.relatedAddress&&e.relatedPort&&(t.push("raddr"),t.push(e.relatedAddress),t.push("rport"),t.push(e.relatedPort)),e.tcpType&&"tcp"===e.protocol.toLowerCase()&&(t.push("tcptype"),t.push(e.tcpType)),(e.usernameFragment||e.ufrag)&&(t.push("ufrag"),t.push(e.usernameFragment||e.ufrag)),"candidate:"+t.join(" ")},i.parseIceOptions=function(e){return e.substr(14).split(" ")},i.parseRtpMap=function(e){var t=e.substr(9).split(" "),n={payloadType:parseInt(t.shift(),10)};return t=t[0].split("/"),n.name=t[0],n.clockRate=parseInt(t[1],10),n.channels=3===t.length?parseInt(t[2],10):1,n.numChannels=n.channels,n},i.writeRtpMap=function(e){var t=e.payloadType;void 0!==e.preferredPayloadType&&(t=e.preferredPayloadType);var n=e.channels||e.numChannels||1;return"a=rtpmap:"+t+" "+e.name+"/"+e.clockRate+(1!==n?"/"+n:"")+"\r\n"},i.parseExtmap=function(e){var t=e.substr(9).split(" ");return{id:parseInt(t[0],10),direction:t[0].indexOf("/")>0?t[0].split("/")[1]:"sendrecv",uri:t[1]}},i.writeExtmap=function(e){return"a=extmap:"+(e.id||e.preferredId)+(e.direction&&"sendrecv"!==e.direction?"/"+e.direction:"")+" "+e.uri+"\r\n"},i.parseFmtp=function(e){for(var t,n={},i=e.substr(e.indexOf(" ")+1).split(";"),r=0;r<i.length;r++)n[(t=i[r].trim().split("="))[0].trim()]=t[1];return n},i.writeFmtp=function(e){var t="",n=e.payloadType;if(void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.parameters&&Object.keys(e.parameters).length){var i=[];Object.keys(e.parameters).forEach((function(t){e.parameters[t]?i.push(t+"="+e.parameters[t]):i.push(t)})),t+="a=fmtp:"+n+" "+i.join(";")+"\r\n"}return t},i.parseRtcpFb=function(e){var t=e.substr(e.indexOf(" ")+1).split(" ");return{type:t.shift(),parameter:t.join(" ")}},i.writeRtcpFb=function(e){var t="",n=e.payloadType;return void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.rtcpFeedback&&e.rtcpFeedback.length&&e.rtcpFeedback.forEach((function(e){t+="a=rtcp-fb:"+n+" "+e.type+(e.parameter&&e.parameter.length?" "+e.parameter:"")+"\r\n"})),t},i.parseSsrcMedia=function(e){var t=e.indexOf(" "),n={ssrc:parseInt(e.substr(7,t-7),10)},i=e.indexOf(":",t);return i>-1?(n.attribute=e.substr(t+1,i-t-1),n.value=e.substr(i+1)):n.attribute=e.substr(t+1),n},i.parseSsrcGroup=function(e){var t=e.substr(13).split(" ");return{semantics:t.shift(),ssrcs:t.map((function(e){return parseInt(e,10)}))}},i.getMid=function(e){var t=i.matchPrefix(e,"a=mid:")[0];if(t)return t.substr(6)},i.parseFingerprint=function(e){var t=e.substr(14).split(" ");return{algorithm:t[0].toLowerCase(),value:t[1]}},i.getDtlsParameters=function(e,t){return{role:"auto",fingerprints:i.matchPrefix(e+t,"a=fingerprint:").map(i.parseFingerprint)}},i.writeDtlsParameters=function(e,t){var n="a=setup:"+t+"\r\n";return e.fingerprints.forEach((function(e){n+="a=fingerprint:"+e.algorithm+" "+e.value+"\r\n"})),n},i.parseCryptoLine=function(e){var t=e.substr(9).split(" ");return{tag:parseInt(t[0],10),cryptoSuite:t[1],keyParams:t[2],sessionParams:t.slice(3)}},i.writeCryptoLine=function(e){return"a=crypto:"+e.tag+" "+e.cryptoSuite+" "+("object"===typeof e.keyParams?i.writeCryptoKeyParams(e.keyParams):e.keyParams)+(e.sessionParams?" "+e.sessionParams.join(" "):"")+"\r\n"},i.parseCryptoKeyParams=function(e){if(0!==e.indexOf("inline:"))return null;var t=e.substr(7).split("|");return{keyMethod:"inline",keySalt:t[0],lifeTime:t[1],mkiValue:t[2]?t[2].split(":")[0]:void 0,mkiLength:t[2]?t[2].split(":")[1]:void 0}},i.writeCryptoKeyParams=function(e){return e.keyMethod+":"+e.keySalt+(e.lifeTime?"|"+e.lifeTime:"")+(e.mkiValue&&e.mkiLength?"|"+e.mkiValue+":"+e.mkiLength:"")},i.getCryptoParameters=function(e,t){return i.matchPrefix(e+t,"a=crypto:").map(i.parseCryptoLine)},i.getIceParameters=function(e,t){var n=i.matchPrefix(e+t,"a=ice-ufrag:")[0],r=i.matchPrefix(e+t,"a=ice-pwd:")[0];return n&&r?{usernameFragment:n.substr(12),password:r.substr(10)}:null},i.writeIceParameters=function(e){return"a=ice-ufrag:"+e.usernameFragment+"\r\na=ice-pwd:"+e.password+"\r\n"},i.parseRtpParameters=function(e){for(var t={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},n=i.splitLines(e)[0].split(" "),r=3;r<n.length;r++){var o=n[r],a=i.matchPrefix(e,"a=rtpmap:"+o+" ")[0];if(a){var s=i.parseRtpMap(a),c=i.matchPrefix(e,"a=fmtp:"+o+" ");switch(s.parameters=c.length?i.parseFmtp(c[0]):{},s.rtcpFeedback=i.matchPrefix(e,"a=rtcp-fb:"+o+" ").map(i.parseRtcpFb),t.codecs.push(s),s.name.toUpperCase()){case"RED":case"ULPFEC":t.fecMechanisms.push(s.name.toUpperCase())}}}return i.matchPrefix(e,"a=extmap:").forEach((function(e){t.headerExtensions.push(i.parseExtmap(e))})),t},i.writeRtpDescription=function(e,t){var n="";n+="m="+e+" ",n+=t.codecs.length>0?"9":"0",n+=" UDP/TLS/RTP/SAVPF ",n+=t.codecs.map((function(e){return void 0!==e.preferredPayloadType?e.preferredPayloadType:e.payloadType})).join(" ")+"\r\n",n+="c=IN IP4 0.0.0.0\r\n",n+="a=rtcp:9 IN IP4 0.0.0.0\r\n",t.codecs.forEach((function(e){n+=i.writeRtpMap(e),n+=i.writeFmtp(e),n+=i.writeRtcpFb(e)}));var r=0;return t.codecs.forEach((function(e){e.maxptime>r&&(r=e.maxptime)})),r>0&&(n+="a=maxptime:"+r+"\r\n"),n+="a=rtcp-mux\r\n",t.headerExtensions&&t.headerExtensions.forEach((function(e){n+=i.writeExtmap(e)})),n},i.parseRtpEncodingParameters=function(e){var t,n=[],r=i.parseRtpParameters(e),o=-1!==r.fecMechanisms.indexOf("RED"),a=-1!==r.fecMechanisms.indexOf("ULPFEC"),s=i.matchPrefix(e,"a=ssrc:").map((function(e){return i.parseSsrcMedia(e)})).filter((function(e){return"cname"===e.attribute})),c=s.length>0&&s[0].ssrc,l=i.matchPrefix(e,"a=ssrc-group:FID").map((function(e){return e.substr(17).split(" ").map((function(e){return parseInt(e,10)}))}));l.length>0&&l[0].length>1&&l[0][0]===c&&(t=l[0][1]),r.codecs.forEach((function(e){if("RTX"===e.name.toUpperCase()&&e.parameters.apt){var i={ssrc:c,codecPayloadType:parseInt(e.parameters.apt,10)};c&&t&&(i.rtx={ssrc:t}),n.push(i),o&&((i=JSON.parse(JSON.stringify(i))).fec={ssrc:c,mechanism:a?"red+ulpfec":"red"},n.push(i))}})),0===n.length&&c&&n.push({ssrc:c});var d=i.matchPrefix(e,"b=");return d.length&&(d=0===d[0].indexOf("b=TIAS:")?parseInt(d[0].substr(7),10):0===d[0].indexOf("b=AS:")?1e3*parseInt(d[0].substr(5),10)*.95-16e3:void 0,n.forEach((function(e){e.maxBitrate=d}))),n},i.parseRtcpParameters=function(e){var t={},n=i.matchPrefix(e,"a=ssrc:").map((function(e){return i.parseSsrcMedia(e)})).filter((function(e){return"cname"===e.attribute}))[0];n&&(t.cname=n.value,t.ssrc=n.ssrc);var r=i.matchPrefix(e,"a=rtcp-rsize");t.reducedSize=r.length>0,t.compound=0===r.length;var o=i.matchPrefix(e,"a=rtcp-mux");return t.mux=o.length>0,t},i.parseMsid=function(e){var t,n=i.matchPrefix(e,"a=msid:");if(1===n.length)return{stream:(t=n[0].substr(7).split(" "))[0],track:t[1]};var r=i.matchPrefix(e,"a=ssrc:").map((function(e){return i.parseSsrcMedia(e)})).filter((function(e){return"msid"===e.attribute}));return r.length>0?{stream:(t=r[0].value.split(" "))[0],track:t[1]}:void 0},i.parseSctpDescription=function(e){var t,n=i.parseMLine(e),r=i.matchPrefix(e,"a=max-message-size:");r.length>0&&(t=parseInt(r[0].substr(19),10)),isNaN(t)&&(t=65536);var o=i.matchPrefix(e,"a=sctp-port:");if(o.length>0)return{port:parseInt(o[0].substr(12),10),protocol:n.fmt,maxMessageSize:t};if(i.matchPrefix(e,"a=sctpmap:").length>0){var a=i.matchPrefix(e,"a=sctpmap:")[0].substr(10).split(" ");return{port:parseInt(a[0],10),protocol:a[1],maxMessageSize:t}}},i.writeSctpDescription=function(e,t){var n=[];return n="DTLS/SCTP"!==e.protocol?["m="+e.kind+" 9 "+e.protocol+" "+t.protocol+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctp-port:"+t.port+"\r\n"]:["m="+e.kind+" 9 "+e.protocol+" "+t.port+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctpmap:"+t.port+" "+t.protocol+" 65535\r\n"],void 0!==t.maxMessageSize&&n.push("a=max-message-size:"+t.maxMessageSize+"\r\n"),n.join("")},i.generateSessionId=function(){return Math.random().toString().substr(2,21)},i.writeSessionBoilerplate=function(e,t,n){var r=void 0!==t?t:2;return"v=0\r\no="+(n||"thisisadapterortc")+" "+(e||i.generateSessionId())+" "+r+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},i.writeMediaSection=function(e,t,n,r){var o=i.writeRtpDescription(e.kind,t);if(o+=i.writeIceParameters(e.iceGatherer.getLocalParameters()),o+=i.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),"offer"===n?"actpass":"active"),o+="a=mid:"+e.mid+"\r\n",e.direction?o+="a="+e.direction+"\r\n":e.rtpSender&&e.rtpReceiver?o+="a=sendrecv\r\n":e.rtpSender?o+="a=sendonly\r\n":e.rtpReceiver?o+="a=recvonly\r\n":o+="a=inactive\r\n",e.rtpSender){var a="msid:"+r.id+" "+e.rtpSender.track.id+"\r\n";o+="a="+a,o+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" "+a,e.sendEncodingParameters[0].rtx&&(o+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" "+a,o+="a=ssrc-group:FID "+e.sendEncodingParameters[0].ssrc+" "+e.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return o+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" cname:"+i.localCName+"\r\n",e.rtpSender&&e.sendEncodingParameters[0].rtx&&(o+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" cname:"+i.localCName+"\r\n"),o},i.getDirection=function(e,t){for(var n=i.splitLines(e),r=0;r<n.length;r++)switch(n[r]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return n[r].substr(2)}return t?i.getDirection(t):"sendrecv"},i.getKind=function(e){return i.splitLines(e)[0].split(" ")[0].substr(2)},i.isRejected=function(e){return"0"===e.split(" ",2)[1]},i.parseMLine=function(e){var t=i.splitLines(e)[0].substr(2).split(" ");return{kind:t[0],port:parseInt(t[1],10),protocol:t[2],fmt:t.slice(3).join(" ")}},i.parseOLine=function(e){var t=i.matchPrefix(e,"o=")[0].substr(2).split(" ");return{username:t[0],sessionId:t[1],sessionVersion:parseInt(t[2],10),netType:t[3],addressType:t[4],address:t[5]}},i.isValidSDP=function(e){if("string"!==typeof e||0===e.length)return!1;for(var t=i.splitLines(e),n=0;n<t.length;n++)if(t[n].length<2||"="!==t[n].charAt(1))return!1;return!0},e.exports=i},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){return-1===["Chrome","Safari","Edge","Opera"].indexOf(e.browserName)||"Edge"===e.browserName&&!e.isChromiumEdge||e.isScreenSharing&&!e.capableSimulcastScreenshare||e.sessionInfo.p2pEnabled||!e.constraints.video&&!e.isCustomVideoTrack||!1===e.scalableVideo?1:e.videoDimensions.width>640&&e.videoDimensions.height>480?3:2}},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=function(e){const t=(0,o.default)(e);return{constraints:d(t),publishAudio:t.audio.publish,publishVideo:t.video.publish,frameRate:t.frameRate,videoDimensions:t.videoDimensions,audioDeviceId:"string"===typeof t.audio.source?t.audio.source:void 0,videoDeviceId:"string"===typeof t.video.source?t.video.source:void 0}};var r=i(n(264)),o=i(n(582)),a=i(n(153));function s(e,t,n){return!(!e.publish&&t)&&("boolean"===typeof e.source?e.source:n?{mandatory:{sourceId:e.source}}:(0,a.default)(e.source)?{}:{deviceId:{exact:e.source}})}function c(e){let t=s(e.audio,e.enableRenegotiation,e.usingOptionalMandatoryStyle);if(!1===t)return!1;const n=e.usingOptionalMandatoryStyle,i=e.enableStereo,o=e.echoCancellation,a=e.noiseSuppression,c=e.autoGainControl,l=e.disableAudioProcessing,d=e=>{"object"===typeof t&&(n?((0,r.default)(t,{optional:[]}),t.optional.push(e)):(0,r.default)(t,e))};return!i&&!l&&o&&a&&c||!0!==t||(t={}),i&&d({channelCount:2}),["echoCancellation","autoGainControl","noiseSuppression"].forEach((t=>{const n=!l&&e[t];d({[t]:n})})),t}function l(e){let t=s(e.video,e.enableRenegotiation,e.usingOptionalMandatoryStyle);if(!1===t)return!1;const n=e.videoDimensions,i=e.frameRate,o=e.maxResolution,a=e.facingMode,c=e.usingOptionalMandatoryStyle;if((n||i||o||a)&&!0===t&&(t={}),n){const e=n.width,i=n.height;c?((0,r.default)(t,{optional:[]}),t.optional.push({minWidth:e},{maxWidth:e},{minHeight:i},{maxHeight:i})):(0,r.default)(t,{width:{ideal:e},height:{ideal:i}})}return i&&(c?((0,r.default)(t,{optional:[]}),t.optional.push({minFrameRate:i},{maxFrameRate:i})):(0,r.default)(t,{frameRate:{ideal:i}})),o&&(c?(0,r.default)(t,{mandatory:{maxWidth:o.width,maxHeight:o.height}}):(0,r.default)(t,{width:{max:o.width},height:{max:o.height}})),a&&(c?((0,r.default)(t,{optional:[]}),t.optional.push({facingMode:a})):(0,r.default)(t,{facingMode:{ideal:a}})),t}function d(e){return{audio:c(e),video:l(e)}}},function(e,t,n){var i=n(579),r=n(196)((function(e,t,n){i(e,t,n)}));e.exports=r},function(e,t,n){var i=n(63),r=n(53);e.exports=function(e,t,n){(void 0!==n&&!r(e[t],n)||void 0===n&&!(t in e))&&i(e,t,n)}},function(e,t){e.exports=function(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}},function(e,t,n){var i=n(61),r=n(268);e.exports=function(e){return r(i(e).toLowerCase())}},function(e,t,n){var i=n(587)("toUpperCase");e.exports=i},function(e,t){e.exports=function(e,t,n){var i=-1,r=e.length;t<0&&(t=-t>r?0:r+t),(n=n>r?r:n)<0&&(n+=r),r=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(r);++i<r;)o[i]=e[i+t];return o}},function(e,t){var n=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return n.test(e)}},function(e,t,n){var i=n(589),r=n(270),o=n(590);e.exports=function(e){return r(e)?o(e):i(e)}},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(3));const o=r.default.name,a=r.default.version;var s=r.default.isChromiumEdge||"Chrome"===o&&a>=72||"Firefox"===o&&a>=66||"Opera"===o&&a>=60||"Safari"===o;t.default=s},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(3)),o=Boolean(r.default.isChrome&&r.default.version>=74||r.default.isEdge&&r.default.version>=79);t.default=o},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(3));t.default=e=>!!r.default.isElectron&&e instanceof MediaStreamTrack&&"Screen"===e.label},function(e,t,n){var i=n(105),r=n(596)(i);e.exports=r},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0,t.default=15e3},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var i=function(e,t){return void 0===t&&(t=!1),void 0===e?t:"true"===e||!0===e};t.default=i},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=function(e){const t=(0,r.default)(e);if(t.backgroundImageURI){const e=t.backgroundImageURI.split(":")[0];t.backgroundImageURI=-1!==["http","https","data"].indexOf(e)?e:"other"}return t};var r=i(n(58))},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(3));t.default=()=>!r.default.isNode&&!r.default.isElectron&&((r.default.isChrome||r.default.isOpera||r.default.isChromiumEdge)&&r.default.version>=74||r.default.isFirefox&&r.default.version>=68||r.default.isSafari&&r.default.version>=11)},function(e,t,n){var i=n(607),r=n(281),o=n(608),a=n(609);function s(t){var n="function"===typeof Map?new Map:void 0;return e.exports=s=function(e){if(null===e||!o(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return a(e,arguments,i(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),r(t,e)},s(t)}e.exports=s},function(e,t){function n(t,i){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,i)}e.exports=n},function(e,t,n){var i=n(37),r=n(78),o=n(613),a=n(60),s=n(45),c=n(616),l=n(146),d=n(189),u=l((function(e,t){var n={};if(null==e)return n;var l=!1;t=i(t,(function(t){return t=a(t,e),l||(l=t.length>1),t})),s(e,d(e),n),l&&(n=r(n,7,c));for(var u=t.length;u--;)o(n,t[u]);return n}));e.exports=u},function(e,t,n){var i=n(223),r=n(39),o=n(103),a=Math.max;e.exports=function(e,t,n){var s=null==e?0:e.length;if(!s)return-1;var c=null==n?0:o(n);return c<0&&(c=a(s+c,0)),i(e,r(t,3),c)}},function(e,t,n){var i=n(618);e.exports=function(e){return e&&e.length?i(e):[]}},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(4)),o=i(n(5));const a=function(){var e=(0,o.default)(r.default.mark((function e(t,n){var i,o,a;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=!0,o=new TextEncoder,e.next=5,window.crypto.subtle.importKey("raw",o.encode(n),{name:"PBKDF2"},!1,["deriveBits","deriveKey"]);case 5:return a=e.sent,e.abrupt("return",window.crypto.subtle.deriveKey({name:"PBKDF2",salt:o.encode(t),iterations:1e5,hash:"SHA-256"},a,{name:"AES-CTR",length:256},i,["encrypt","decrypt"]));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();var s=a;t.default=s},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(626)),o=i(n(289));const a=(0,i(n(108)).default)();t.default=(e,t,n)=>{(0,o.default)(e,t,((e,t)=>{if(e)return void n(e);let i=[];a?"function"===typeof t.values?i=(0,r.default)(t.values()):"function"!==typeof t.forEach?i=Object.keys(t).map((e=>t[e])):t.forEach((e=>{i.push(e)})):t.result().forEach((e=>{const t={};e.names().forEach((n=>{t[n]=e.stat(n)})),t.id=e.id,t.type=e.type,t.timestamp=e.timestamp,i.push(t)})),n(null,i)}))}},function(e,t,n){var i=n(32),r=n(12),o=n(18);e.exports=function(e){return"string"==typeof e||!r(e)&&o(e)&&"[object String]"==i(e)}},function(e,t,n){var i=n(628),r=n(33);e.exports=function(e){return null==e?[]:i(e,r(e))}},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;const r=(0,i(n(108)).default)();var o=(e,t,n)=>{r?((e,t,n)=>{e.getStats(t).then((e=>n(null,e))).catch(n)})(e,t,n):((e,t)=>{e.getStats((e=>{t(null,e)}),t)})(e,n)};t.default=o},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(29)),o=n(14),a=i(n(42)),s=i(n(640)),c=i(n(642)),l=i(n(50));const d=(0,i(n(1)).default)("QoS");let u=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call(this,...i)||this)._peerConnection=void 0,t._isPublisher=void 0,t.timeoutId=void 0,t._creationTime=(0,l.default)(),t.offerMessagesReceived=0,t.prevStats={timeStamp:(0,l.default)()},t.changeCounters={videoCodec:new c.default,audioCodec:new c.default},t}(0,r.default)(t,e);var n=t.prototype;return n.startCollecting=function(e,n){if(!e||!e.getStats)return;this._isPublisher=n;const i=Boolean(this._peerConnection);if(this._peerConnection=e,i)return;const r=e=>{const n=(0,l.default)(),i={timeStamp:n,duration:Math.round((n-this._creationTime)/1e3),period:Math.round((n-this.prevStats.timeStamp)/1e3)};(0,s.default)(this._peerConnection,this.prevStats,i,this._isPublisher,((n,i)=>{n?d.error("Failed to Parse QOS Stats:",n):(this.handleParsedStats(i),clearTimeout(this.timeoutId),this.timeoutId=setTimeout((()=>r(t.INTERVAL)),e))}))};this.timeoutId=setTimeout((()=>r(t.INTERVAL-t.INITIAL_INTERVAL)),t.INITIAL_INTERVAL)},n.stopCollecting=function(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null),this._peerConnection=null},n.handleOfferMessageReceived=function(){this.offerMessagesReceived+=1},n.handleParsedStats=function(e){Object.keys(this.changeCounters).forEach((t=>{this.changeCounters[t].onValue(e[t]),e["".concat(t,"ChangeCount")]=this.changeCounters[t].changeCount})),e.offerMessagesReceived=this.offerMessagesReceived;const t=(0,a.default)(e);if(["audioSentBytes","audioSentPackets","audioSentPacketsLost","videoSentBytes","videoSentPackets","videoSentPacketsLost","audioRecvBytes","audioRecvPackets","audioRecvPacketsLost","videoRecvBytes","videoRecvPackets","videoRecvPacketsLost"].forEach((n=>{t[n]=this.prevStats&&this.prevStats[n]?e[n]-this.prevStats[n]:e[n]})),this.prevStats&&this.prevStats.videoFramesReceived){const n=e.videoFramesReceived-this.prevStats.videoFramesReceived,i=e.period;t.videoFrameRateReceived=Math.round(n/i)}this.prevStats=e,delete t.framesDecoded,delete t.framesEncoded,this.emit("stats",t)},t}(o.EventEmitter);u.INITIAL_INTERVAL=1e3,u.INTERVAL=3e4;var h=u;t.default=h},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0,t.default=e=>{switch(e>>24){case 0:return"TURN/TLS";case 1:return"TURN/TCP";case 2:return"TURN/UDP";default:return""}}},function(e,t,i){"use strict";var r=i(0);t.__esModule=!0,t.default=function(e){let t=void 0===e?{}:e,i=t.haveGetDisplayMedia,r=void 0===i?c.default:i,l=t.global,d=void 0===l?void 0!==typeof window?window:n.g:l,u=t.Errors,h=void 0===u?s.default:u,A=t.otError,p=void 0===A?(0,a.default)():A;const g=!r&&!!d.navigator.webkitGetUserMedia&&!d.navigator.userAgent.match(/android/i)&&"undefined"!==typeof d.chrome;return{isSupportedInThisBrowser:g,autoRegisters:!1,extensionRequired:!0,getConstraintsShowsPermissionUI:!0,sources:{screen:!0,application:!1,window:!0,browser:!0},register(e,t){return 2===t?this.registerVersion2(e):this.registerVersion1(e)},registerVersion1(e){if(!e)throw new Error("initChromeScreenSharingExtensionHelper: extensionID is required.");const t=g,n={};let i;const r="com.tokbox.screenSharing.".concat(e),a=function(e,t){const n={payload:t,from:"jsapi"};return n[r]=e,n},s=function(e,t){let i;const r=(0,o.default)();return n[r]=function(){clearTimeout(i),i=null,e(...arguments)},t&&(i=setTimeout((()=>{delete n[r],e(p(h.TIMEOUT,new Error("Timeout waiting for response to screensharing request.")))}),t)),r},c=function(e){if(!e)throw new Error("isAvailable: callback is required.");if(t)if(void 0!==i)setTimeout(e.bind(null,i));else{const t=s((t=>{!0!==i&&(i="extensionLoaded"===t),e(i)}),2e3),n=a("isExtensionInstalled",{requestId:t});d.postMessage(n,"*")}else setTimeout(e.bind(null,!1))};return d.addEventListener("message",(e=>{if(e.origin!==d.location.origin)return;if(null==e.data||"object"!==typeof e.data)return;if("extension"!==e.data.from)return;const t=e.data[r],o=e.data.payload;if(o&&o.requestId){const e=n[o.requestId];delete n[o.requestId],e&&e(t,o)}"extensionLoaded"===t&&(i=!0)})),{extensionAPIVersion:1,extensionID:e,isInstalled:c,getConstraints:function(e,t,n){if(!n)throw new Error("getSourceId: callback is required");c((i=>{if(!i)return n(p(h.SCREEN_SHARING_EXTENSION_NOT_INSTALLED,new Error("Extension is not installed")));const r=s(((e,i)=>{"object"===typeof e&&e.name&&e.stack?n(e):"permissionDenied"===e?n(p(h.USER_MEDIA_ACCESS_DENIED,new Error("User denied access to screensharing"))):(t.video||(t.video={}),t.video.mandatory||(t.video.mandatory={}),t.video.mandatory.chromeMediaSource="desktop",t.video.mandatory.chromeMediaSourceId=i.sourceId,n(void 0,t))}));d.postMessage(a("getSourceId",{requestId:r,source:e}),"*")}))}}},registerVersion2(e){const t=g&&"undefined"!==typeof d.chrome.runtime,n=function(n){if(!n)throw new Error("isAvailable: callback is required.");t?d.chrome.runtime.sendMessage(e,{type:"isInstalled"},null,(e=>{setTimeout(n.bind(null,!!e))})):setTimeout(n.bind(null,!1))};return{extensionAPIVersion:2,extensionID:e,isInstalled:n,getConstraints:function(t,i,r){if(!r)throw new Error("getSourceId: callback is required");n((n=>{if(!n)return r(p(h.SCREEN_SHARING_EXTENSION_NOT_INSTALLED,new Error("Extension is not installed")));d.chrome.runtime.sendMessage(e,{type:"getSourceId",source:t},null,(e=>{"permissionDenied"===e.error?r(p(h.USER_MEDIA_ACCESS_DENIED,new Error("User denied access to screensharing"))):e.error?r(new Error("UnexpectError: ".concat(e.error))):(i.video||(i.video={}),i.video.mandatory||(i.video.mandatory={}),i.video.mandatory.chromeMediaSource="desktop",i.video.mandatory.chromeMediaSourceId=e.sourceId,r(void 0,i))}))}))}}}}};var o=r(i(16)),a=r(i(13)),s=r(i(8)),c=r(i(161))},function(e,t,n){"use strict";(function(e){var i=n(0);t.__esModule=!0,t.default=function(t){void 0===t&&(t={});const n=t.Archiving||s.default,i=t.AudioLevelMeter||c.default,f=t.AudioLevelTransformer||l.default,m=t.BackingBar||d.default,E=t.Chrome||u.default,C=t.MuteButton||(0,h.default)(),I=t.NamePanel||A.default,Q=t.VideoDisabledIndicator||p.default,U=t.StylableComponent||g.default,y=t.logging||(0,r.default)("createChromeMixin");return function(t,r){let s,c,l,d=void 0===r?{}:r,u=d.name,h=d.publishAudio,A=d.publishVideo,p=d.audioSource,g=d.showControls,b=d.shouldAllowAudio,v=d.logAnalyticsEvent;const R={},S=(0,a.default)(),F=e=>{if(!1===e)return"off";const n=t.getStyle("buttonDisplayMode");return!1===n?"on":n};let B=new e(((e,r)=>{R.init=r=>{t.getStyle("showArchiveStatus")||v("showArchiveStatus","createChrome",{mode:"off"});const a={backingBar:new m({nameMode:u?t.getStyle("nameDisplayMode"):"off",muteMode:F(t.getStyle("buttonDisplayMode"))}),name:new I({name:u,mode:t.getStyle("nameDisplayMode")}),archive:new n({show:Boolean(t.getStyle("showArchiveStatus"))&&"off"!==t.getStyle("archiveStatusDisplayMode"),archiving:!1}),muteButton:new C({muted:!1===h,mode:F.call(null,t.getStyle("buttonDisplayMode"))})};s=new i({mode:t.getStyle("audioLevelDisplayMode")});const d=new f,g=new o.default((()=>{const e=h?d.transform(t.loudness):0;s.setValue(e)}));s.watchVisibilityChanged((e=>{e?g.start():g.stop()})),s.audioOnly(!A&&h),a.audioLevel=s,a.videoDisabledIndicator=new Q({mode:t.getStyle("videoDisabledDisplayMode")}),r&&r.domElement&&(l=r,c=new E({parent:l.domElement}).set(a).on({muted:()=>t.publishAudio(!1),unmuted:()=>t.publishAudio(!0)}),null!==p&&!1!==p||R.removeAudioTrack(),e())},R.reset=()=>{r(new Error("Chrome still being created")),c&&(c.destroy(),c=null)},R.destroy=()=>{R.reset(),S.releaseAll(),B=null}}));B.catch((e=>{e&&"Chrome still being created"===e.message||y.error("createChromeMixin failed to setup UI",e)})),R.setAudioOnly=e=>{s&&s.audioOnly(e)},R.setArchivingStatus=e=>{c&&c.archive.setArchiving(e)},R.setMuted=e=>{c&&c.muteButton&&c.muteButton.muted(e)},R.removeAudioTrack=()=>{c&&c.muteButton&&c.muteButton.remove()},R.addAudioTrack=()=>{c&&c.muteButton&&c.muteButton.add()},R.videoDisabledIndicator={disableVideo:function(){for(var e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return null==(e=c)?void 0:e.videoDisabledIndicator.disableVideo(...n)},setWarning:function(){for(var e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return null==(e=c)?void 0:e.videoDisabledIndicator.setWarning(...n)}},U(t,{showArchiveStatus:!0,nameDisplayMode:"auto",buttonDisplayMode:"auto",videoDisabledDisplayMode:"auto",audioLevelDisplayMode:b?"auto":"off",archiveStatusDisplayMode:"auto",backgroundImageURI:null},g,(e=>{v("SetStyle","Publisher",e,null,.1)}));const T=(e,t)=>{B.then((()=>{switch(e){case"nameDisplayMode":c.name.setDisplayMode(t),c.backingBar.setNameMode(t);break;case"showArchiveStatus":v("showArchiveStatus","styleChange",{mode:t?"on":"off"}),c.archive.setShowArchiveStatus(Boolean(t));break;case"archiveStatusDisplayMode":c.archive.setShowArchiveStatus("off"!==t);break;case"buttonDisplayMode":c.muteButton.setDisplayMode(t),c.backingBar.setMuteMode(t);break;case"audioLevelDisplayMode":c.audioLevel.setDisplayMode(t);break;case"backgroundImageURI":l.setBackgroundImageURI(t)}}))};return t.on("styleValueChanged",T),S.add((()=>t.off("styleValueChanged",T))),R}};var r=i(n(1)),o=i(n(109)),a=i(n(158)),s=i(n(645)),c=i(n(294)),l=i(n(149)),d=i(n(295)),u=i(n(150)),h=i(n(296)),A=i(n(297)),p=i(n(298)),g=i(n(155))}).call(this,n(2))},function(e,t,n){"use strict";(function(e){var i=n(0);t.__esModule=!0,t.default=function(t){const n=this,i=new r.default;let c,l,d,u,h=!0,A=!1,p="auto";const g=t.maxValue||1,f=t.minValue||0;function m(){const e=(A&&"auto"===p||"on"===p)&&h;u!==e&&(u=e,i.emit("visibilityChanged",e))}(0,o.default)(n,{audioOnly:{get:()=>A,set(e){A=e,m()}}}),n.setValue=function(e){d=e,function(){const e=(d-f)/(g-f);l.style.transform="scale(".concat(Math.sqrt(e),")")}()},n.watchVisibilityChanged=function(t){return i.on("visibilityChanged",t),e.resolve().then((()=>{t(u)})),function(){i.removeListener("visibilityChanged",t)}};const E={mode:t?t.mode:"auto",nodeName:"div",htmlAttributes:{className:"OT_audio-level-meter"},onCreate:function(){l=s.default.createElement("div",{className:"OT_audio-level-meter__value"},""),c=s.default.createElement("div",{className:"OT_audio-level-meter__audio-only-img"},"");const e=n.domElement;e.appendChild(c),e.appendChild(l),n.watchVisibilityChanged((e=>{e?s.default.removeClass(n.domElement,"OT_hide-forced"):s.default.addClass(n.domElement,"OT_hide-forced")}))},onDestroy:function(){i.removeAllListeners("visibilityChanged")}};(0,a.default)(this,E),n.setDisplayMode=function(e){p=e,m()},n.getDisplayMode=function(){return p},n.showAfterLoading=function(){h=!0,m()},n.hideWhileLoading=function(){h=!1,m()},m()};var r=i(n(14)),o=i(n(95)),a=i(n(41)),s=i(n(7))}).call(this,n(2))},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=function(e){let t=e.nameMode,n=e.muteMode;function i(){return"on"===t||"on"===n?"on":"mini"===t||"mini"===n?"mini":"mini-auto"===t||"mini-auto"===n?"mini-auto":"auto"===t||"auto"===n?"auto":"off"}(0,r.default)(this,{mode:i(),nodeName:"div",htmlContent:"",htmlAttributes:{className:"OT_bar OT_edge-bar-item"}}),this.setNameMode=function(e){t=e,this.setDisplayMode(i())},this.setMuteMode=function(e){n=e,this.setDisplayMode(i())}};var r=i(n(41))},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=function(e){void 0===e&&(e={});const t=e.OTHelpers||r.default,n=e.Widget||o.default;return function(e){let i=e.muted||!1;const r=()=>{i?t.addClass(this.domElement,"OT_active"):t.removeClass(this.domElement,"OT_active ")},o=()=>(i=!i,r(),i?this.parent.trigger("muted",this):this.parent.trigger("unmuted",this),!1);(0,a.default)(this,{muted:{get:()=>i,set(e){i=e,r()}}});const s=i?"OT_edge-bar-item OT_mute OT_active":"OT_edge-bar-item OT_mute";let c;n(this,{mode:e.mode,nodeName:"button",htmlContent:"Mute",htmlAttributes:{className:s,type:"button"},onCreate:e=>{t.on(e,"click",o)},onDestroy:e=>{t.off(e,"click",o)}}),this.remove=()=>{this.domElement&&this.domElement.parentNode&&(c=this.domElement.parentNode,this.domElement.parentNode.removeChild(this.domElement))},this.add=()=>{c&&this.domElement&&!this.domElement.parentNode&&c.appendChild(this.domElement)}}};var r=i(n(7)),o=i(n(41)),a=i(n(95))},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=function(e){let t=e.name;t&&""!==t.trim().length||(t=null,e.mode="off"),this.setName=function(e){t||this.setDisplayMode("auto"),t=o(e),this.domElement.innerHTML=t}.bind(this),t=o(t),(0,r.default)(this,{mode:e.mode,nodeName:"h1",htmlContent:t,htmlAttributes:{className:"OT_name OT_edge-bar-item"}})};var r=i(n(41));const o=e=>{const t=document.createElement("div");return t.textContent=e,t.innerHTML}},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=function(e){let t=!1,n=!1;const i=function(e){const i=["auto","on"].indexOf(this.getDisplayMode())>-1;o.default.removeClass(e,"OT_video-disabled OT_video-disabled-warning OT_active"),i&&(t?o.default.addClass(e,"OT_video-disabled"):n&&o.default.addClass(e,"OT_video-disabled-warning"),o.default.addClass(e,"OT_active"))}.bind(this);this.disableVideo=function(e){t=e,!0===e&&(n=!1),i(this.domElement)},this.setWarning=function(e){n=e,i(this.domElement)},(0,r.default)(this,{mode:e.mode||"auto",nodeName:"div",htmlAttributes:{className:"OT_video-disabled-indicator"}});const a=this.setDisplayMode.bind(this);this.setDisplayMode=function(e){a(e),i(this.domElement)}};var r=i(n(41)),o=i(n(7))},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(3)),o=i(n(161)),a={isSupportedInThisBrowser:!r.default.isLegacyEdge&&!r.default.isElectron&&o.default&&!r.default.isAndroid,autoRegisters:!0,extensionRequired:!1,getConstraintsShowsPermissionUI:!1,sources:{screen:!0,application:!1,window:"Safari"!==r.default.name,browser:"Safari"!==r.default.name},register:()=>({isInstalled(e){e(void 0)},getConstraints(e,t,n){n(void 0,{video:t.video,audio:t.audio})}})};t.default=a},function(e,t,i){"use strict";i.r(t),function(e){var i=function(t,n,i,r){return new(i||(i=e))((function(e,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(t){t.done?e(t.value):new i((function(e){e(t.value)})).then(a,s)}c((r=r.apply(t,n||[])).next())}))},r=function(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=i[2&o[0]?"return":o[0]?"throw":"next"])&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[0,r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};t.default=function(t,o,a){return void 0===a&&(a=10),function(){for(var s=[],c=0;c<arguments.length;c++)s[c]=arguments[c];return i(this,void 0,void 0,(function(){var i,c,l;return r(this,(function(d){switch(d.label){case 0:i=0,c=function(){var c,l,d;return r(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,6]),c={},[4,t.apply(void 0,s)];case 1:return[2,(c.value=r.sent(),c)];case 2:if(l=r.sent(),!1===(d=o(l,i))||null==d||i>=a)throw l;return"number"!==typeof d?[3,4]:[4,new e((function(e){return("undefined"!==typeof window||void 0!==typeof window?window:n.g).setTimeout(e,d)}))];case 3:return r.sent(),[3,5];case 4:if(!0!==d)throw new Error("onFailure must return boolean, or delay in ms");r.label=5;case 5:return[3,6];case 6:return[2]}}))},d.label=1;case 1:return(i+=1)?[5,c()]:[3,3];case 2:return"object"===typeof(l=d.sent())?[2,l.value]:[3,1];case 3:return[2]}}))}))}}}.call(this,i(2))},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.setVideoContentHint=t.isValidVideoContentHint=t.getVideoContentHint=void 0;const r=(0,i(n(1)).default)("videoContentHint"),o=["","text","motion","detail"],a=e=>o.includes(e);t.isValidVideoContentHint=a;const s=e=>{var t;return null==e||null==(t=e.getVideoTracks())?void 0:t[0]};t.setVideoContentHint=(e,t)=>{if(!a(t))return void r.warn('Invalid content hint. Valid content hints are "text", "detail", "motion", or ""');const n=s(e);n?void 0!==n.contentHint?n.contentHint=t:r.warn("contentHint not supported by this browser"):r.warn("Tried to set contentHint but no video track is present")},t.getVideoContentHint=e=>{const t=s(e);return(null==t?void 0:t.contentHint)||""}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var i=e=>e&&"object"===typeof e&&"string"===typeof e.kind&&"function"===typeof e.stop&&"boolean"===typeof e.enabled;t.default=i},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=function(){return function(e,t){let n;(0,r.default)(this,{muted:{get:()=>n,set(t){if(n===t)return;n=t;const i=e.getAudioTracks();for(let e=0,r=i.length;e<r;++e)i[e].enabled=!n}}}),void 0!==t?this.muted(!0===t):e.getAudioTracks().length?this.muted(!e.getAudioTracks()[0].enabled):this.muted(!1)}};var r=i(n(95))},function(e,t,n){"use strict";(function(e){var i=n(0);t.__esModule=!0,t.default=function(t){void 0===t&&(t={});const n=t.getStatsHelpers||m.default,i=t.OTHelpers||E.default,h=t.PeerConnection||(0,C.default)(),y=t.setCertificates||(0,I.default)(),F=t.watchAudioAcquisition||Q.default,B=t.createAudioFallbackStateMachine||l.default,T=t.createCongestionLevelEstimator||d.default,N=t.createNetworkQualityMonitor||u.default,_=t.getDelayForAmrProbe||b.default;return function(t){var l=this;let d,u,m,E,C,I=t.iceConfig,Q=t.webRTCStream,b=t.channels,w=t.sendMessage,k=t.capableSimulcastStreams,D=t.overrideSimulcastEnabled,V=t.logAnalyticsEvent,Z=t.offerOverrides,W=t.answerOverrides,O=t.sourceStreamId,J=t.isP2pEnabled,x=t.sessionId,M=t.keyStore,L=t.sFrameClientStore,P=t.isE2ee,G=t.audioFallbackEnabled,Y=!1;const j=function(){this.destroy(),Y&&(Y=!1,this.trigger("iceRestartFailure")),this.trigger("disconnected")},X=function(e){let t=e.reason,n=e.prefix;this.trigger("error",{reason:t,prefix:n})},K=function(e){Y&&d.iceConnectionStateIsConnected()&&(Y=!1,this.trigger("iceRestartSuccess")),"connected"===e&&("Chrome"===i.env.name&&(u&&u(),u=F((e=>d.getStats(null,e)),(()=>this.trigger("audioAcquisitionProblem")))),this.trigger("connected")),this.trigger("iceConnectionStateChange",e)};this._setVideoTrackEncodingActiveState=function(){var e=(0,o.default)(r.default.mark((function e(t){var n,i;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=l.getSenders().find((e=>"video"===e.track.kind)),(i=n.getParameters()).encodings.forEach((e=>{e.active=t})),e.prev=3,e.next=6,n.setParameters(i);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),S.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[3,8]])})));return function(t){return e.apply(this,arguments)}}(),(0,A.default)(this),this.setCongestionLevel=e=>{var t;null==(t=m)||t.setCongestionLevel(e,{algorithm:"manual"})},this.getAudioFallbackState=()=>{var e;return null==(e=m)?void 0:e.getState()},this.startEncryption=e=>{d&&d.startEncryption(e)},this.changeMediaDirectionToInactive=()=>{d&&d.changeMediaDirectionToInactive()},this.changeMediaDirectionToRecvOnly=()=>{d&&d.changeMediaDirectionToRecvOnly()},this.getDataChannel=function(e,t,n){d.getDataChannel(e,t,n)},this.getSourceStreamId=()=>d.getSourceStreamId(),this.destroy=function(){var e,t;null==(e=E)||e.stop(),null==(t=C)||t.stop(),u&&(u(),u=null),d&&(d.disconnect(),d=null),this.off()},this.processMessage=function(e,t){d.processMessage(e,t)},this.addTrack=function(e,t,n){return d.addTrack(e,t,n)},this.removeTrack=function(e){return d.removeTrack(e)},this.getLocalStreams=function(){return d.getLocalStreams()},this.init=function(e,t){(0,p.default)(O)&&(0,g.default)(I);const n={iceConfig:I.needRumorIceServersFallback?(0,a.default)(I,{servers:[...e,...I.servers]}):I,channels:b,capableSimulcastStreams:k,overrideSimulcastEnabled:D};y(n,((e,n)=>{if(e)return void t(e);const i=(0,a.default)({logAnalyticsEvent:V,isPublisher:!0,offerOverrides:Z,answerOverrides:W,sourceStreamId:O,p2p:J,sessionId:x,keyStore:M,sFrameClientStore:L,isE2ee:P},n);d=new h((0,a.default)({sendMessage:w},i)),d.on({close:j,error:X,qos:e=>this.trigger("qos",e),iceConnectionStateChange:K},this),d.addLocalStream(Q).then((()=>{t(void 0)})).catch(t)}))},this.setIceConfig=e=>{d.setIceConfig(e)},this.generateOffer=()=>{d.generateOfferAndSend()},this.getSenders=function(){return d.getSenders()},this.iceRestart=function(){d&&(Y=!0,d.iceRestart())},this.hasRelayCandidates=()=>d.hasRelayCandidates(),this.iceConnectionStateIsConnected=function(){return d.iceConnectionStateIsConnected()},this.findAndReplaceTrack=(e,t)=>d.findAndReplaceTrack(e,t),this._testOnlyGetFramesEncoded=()=>new e(((e,t)=>{d.getStats(null,((i,r)=>{if(i)return void t(i);const o=(0,c.default)(r,(e=>n.isVideoStat(e,r)&&n.isOutboundStat(e)));o?e((0,s.default)(o,["timestamp","framesEncoded"])):t(new Error("Could not find framesEncoded in getStats report"))}))})),this.getStats=e=>d.getStats(null,e),this.getRtcStatsReport=e=>d.getRtcStatsReport(null,e),this.setVideoActiveState=e=>{this._setVideoTrackEncodingActiveState(e)},this.setP2PMaxBitrate=(0,o.default)(r.default.mark((function e(){var t,n,i,o,a,s,c;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("P2P"===l.getSourceStreamId()){e.next=2;break}return e.abrupt("return");case 2:if(n=l.getSenders().find((e=>"video"===e.track.kind))){e.next=5;break}return e.abrupt("return");case 5:return i=(null==n||null==(t=n.track)||null==t.getSettings?void 0:t.getSettings())||{},o=i.width,a=i.height,s=(0,f.default)(o,a),(c=n.getParameters()).encodings.forEach((e=>{e.maxBitrate=s})),e.prev=9,e.next=12,n.setParameters(c);case 12:e.next=16;break;case 14:e.prev=14,e.t0=e.catch(9);case 16:case"end":return e.stop()}}),e,null,[[9,14]])})));const H=function(e){var t,n;let i=(void 0===e?{}:e).isAmrTransition,r=void 0!==i&&i;l._setVideoTrackEncodingActiveState(!1),null==(t=E)||t.stop(),null==(n=C)||n.start(r?{getDelayForProbeNumber:_}:{})};this.disableCongestionLevelEstimation=()=>{var e,t,n;G&&(null==(e=E)||e.stop(),null==(t=C)||t.stop(),null==(n=m)||n.reset())},this.enableCongestionLevelEstimation=e=>{if(G){var t,n;if(null==(t=C)||t.stop(),e){if(m.setInternalState(e),e.videoState===R)return void H({isAmrTransition:!0})}else m.setCongestionLevel(U.CongestionLevels.LOW);null==(n=E)||n.start()}};const z=()=>{m=B({logAnalyticsEvent:V}),m.on("stateChange",(e=>{let t=e.state;switch(t){case v:this._setVideoTrackEncodingActiveState(!0);break;case R:H()}this.trigger("audioFallbackStateChange",{state:t})})),E.on("congestionLevel",((e,t)=>{var n;null==(n=m)||n.setCongestionLevel(e,t)})),C.on("networkRecovered",(()=>{var e,t;null==(e=m)||e.setCongestionLevel(U.CongestionLevels.LOW),null==(t=E)||t.start()}))},q=()=>{E=T({getStats:this.getStats,logAnalyticsEvent:V}),this.on("connected",(()=>{E.start()}))};G&&((()=>{C=N({getStats:this.getStats,setVideoActive:this._setVideoTrackEncodingActiveState})})(),q(),z())}};var r=i(n(4)),o=i(n(5)),a=i(n(9)),s=i(n(40)),c=i(n(62)),l=i(n(655)),d=i(n(656)),u=i(n(663)),h=i(n(1)),A=i(n(6)),p=i(n(308)),g=i(n(309)),f=i(n(668)),m=i(n(76)),E=i(n(7)),C=i(n(73)),I=i(n(165)),Q=i(n(670)),U=n(25),y=i(n(75)),b=i(n(671));const v=y.default.ACTIVE_VIDEO,R=y.default.SUSPENDED_VIDEO,S=(0,h.default)("PublisherPeerConnection")}).call(this,n(2))},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(14)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=e[o]}return i.default=e,n&&n.set(e,i),i}(n(660));function a(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}var s=function(e,t){void 0===t&&(t={});const n=t.StatsUtils||o,i=new r.default;let a,s;const c=e=>{const t=n.parseStats(e),r=(e=>{let t;return void 0===a&&(a=e),e.audioReportTimestamp!==a.audioReportTimestamp&&(t=void 0!==e.audioFractionLost?e.audioFractionLost:n.getAudioPacketLoss(e,a),a=e),t})(t),o=(e=>{let t;return void 0===s&&(s=e),e.videoReportTimestamp!==s.videoReportTimestamp&&(t=n.getVideoPacketLoss(e,s),s=e),t})(t),c=t.bandwidth,l=t.videoResolution;i.emit("statsAvailable",{audioPacketLoss:r,videoPacketLoss:o,bandwidth:c,videoResolution:l})},l=()=>{e(((e,t)=>{e||c(t)}))};let d;return Object.assign(i,{start(){d||(d=setTimeout((()=>{l(),d=setInterval((()=>{l()}),500)}),1e3))},stop(){clearInterval(d),d=void 0,a=void 0,s=void 0}})};t.default=s},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var i=function(e){void 0===e&&(e=0);let t,n=e,i=1e4,r=0;return{setPeriod(e){i=e},getMovingAverageValue:()=>n,addValue(e){if(void 0===e||isNaN(e))return;const o=(()=>{const e=Date.now();if(!t)return t=e,1;const n=e-t,r=1-Math.exp(-n/i);return t=e,r})();n=e*o+n*(1-o),r+=1},reset(){n=e,t=void 0,r=0},getDataPointCount:()=>r}};t.default=i},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var i=n(167);const r=30*i.ONE_SECOND_IN_MS,o=2*i.ONE_MINUTE_IN_MS,a=[r,i.ONE_MINUTE_IN_MS,o];var s=e=>{var t;return null!=(t=a[e])?t:a[a.length-1]};t.default=s},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(667));t.default=e=>"P2P"===e&&(0,r.default)()},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0,t.default=e=>{e.transportPolicy="relay",e.customServers=e.customServers||[]}},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=function(e){void 0===e&&(e={});const t=e.OTHelpers||d.default,n=e.PeerConnection||(0,u.default)(),i=e.SinglePeerConnectionAdapter||(0,h.default)(),f=e.setCertificates||(0,A.default)(),m=e.Errors||p.default,E=e.ExceptionCodes||a.default,C=e.OTErrorClass||s.default,I=e.watchSubscriberAudio||g.default;return function(e){let a=e.clientCandidates,s=e.iceConfig,d=e.send,u=e.logAnalyticsEvent,h=e.p2p,A=e.codecFlags,p=e.sourceStreamId,g=e.remoteConnectionId,Q=e._singlePeerConnectionController,U=e.keyStore,y=e.sFrameClientStore,b=e.isE2ee,v=e.sessionId;const R=this;let S,F=!1,B=!1,T=null;const N=!!Q;let _=!1;const w=[],k=[],D=function(){this.destroy(),B&&this.trigger("iceRestartFailure",this),this.trigger("disconnected",this)},V=e=>{this.trigger("remoteStreamRemoved",e,this)},Z=e=>{_||(e.onremovetrack=t=>{let n=t.track;(e=>{const t="video"===e.kind?w:k,n=t.indexOf(e);n>-1&&t.splice(n,1)})(n),N&&S&&S.removeTrack(n),setTimeout((()=>{w.length||k.length||V(e)}),100)},_=!0)},W=e=>{const t=e.stream;(e=>{const t="video"===e.kind?w:k;t.includes(e)||t.push(e)})(e.track),Z(t),this.trigger("remoteTrackAdded",e,this)},O=e=>{this.trigger("remoteVideoSupported",e)},J=()=>{this.trigger("decryptFailed")},x=()=>{this.trigger("decryptRestored")},M=function(e){let t=e.reason,n=e.prefix;this.trigger("error",null,t,this,n)},L=function(e){!B||"connected"!==e&&"completed"!==e||(B=!1,this.trigger("iceRestartSuccess")),"connected"===e&&this.trigger("connected"),this.trigger("iceConnectionStateChange",e)},P=function(e){this.trigger("signalingStateChange",e)},G=function(e){this.trigger("signalingStateStable",e)},Y=(e,t)=>{"answer"!==e&&"pranswer"!==e||this.trigger("connected"),d(e,t)},j=e=>{var t;const n=k[0];null==(t=S)||t.getStats(n,e)};(0,o.default)(this),this._hasAudioTracks=()=>k.length>0,this._hasVideoTracks=()=>w.length>0,this._getVideoTracks=()=>w,this._getAudioTracks=()=>k,this._getTracks=()=>[...k,...w],this.close=function(){F||(F=!0,S&&(S.disconnect(),S=null),this.off())},this.destroy=function(){this.stopAudioStatsWatcher(),F||this.close()},this.getDataChannel=function(e,t,n){S.getDataChannel(e,t,n)},this.getSourceStreamId=()=>S.getSourceStreamId(),this.processMessage=function(e,t){S.processMessage(e,t)},this.remoteDescription=function(){return S.remoteDescription()},this.getStats=function(e){if(S)S.getStats(null,e);else{const n=E.PEER_CONNECTION_NOT_CONNECTED;e(new t.Error(C.getTitleByCode(n),m.PEER_CONNECTION_NOT_CONNECTED,{code:n}))}},this.getAudioStats=function(e){j(e)},this.getSynchronizationSources=function(e){if(S)S.getSynchronizationSources(e);else{const n=E.PEER_CONNECTION_NOT_CONNECTED;e(new t.Error(C.getTitleByCode(n),m.PEER_CONNECTION_NOT_CONNECTED,{code:n}))}},this.getRtcStatsReport=function(e){if(S)S.getRtcStatsReport(null,e);else{const n=E.PEER_CONNECTION_NOT_CONNECTED;e(new t.Error(C.getTitleByCode(n),m.PEER_CONNECTION_NOT_CONNECTED,{code:n}))}},this.setIceConfig=e=>{S.setIceConfig(e)},this.generateOffer=()=>{S.generateOfferAndSend()},this.startAudioStatsWatcher=function(e){T||(T=I(j,(e=>{this.stopAudioStatsWatcher(),this.trigger("audioLevelStuckWarning",e)}),e))},this.stopAudioStatsWatcher=function(){T&&T.stop(),T=null};const X=function(e){return function(t){const n="video"===e?w:k;S&&S.remoteTracks().forEach((i=>{i.kind===e&&i.enabled!==t&&n.includes(i)&&(i.enabled=t)}))}};this.subscribeToAudio=X("audio"),this.subscribeToVideo=X("video"),this.hasRelayCandidates=function(){return S.hasRelayCandidates()},this.iceRestart=function(){return B=!0,S.iceRestart()},this.iceConnectionStateIsConnected=function(){return S.iceConnectionStateIsConnected()},this.init=function(e){(0,c.default)(p)&&(0,l.default)(s),f({iceConfig:s},((t,o)=>{if(t)return void e(t);const s=(0,r.default)({logAnalyticsEvent:u,clientCandidates:a,codecFlags:A,sourceStreamId:p,keyStore:U,sFrameClientStore:y,isE2ee:b,sessionId:v},o),c=(0,r.default)({sendMessage:Y,p2p:h},s,{remoteConnectionId:g});S=N?new i(c,Q):new n(c),S.on({iceConnected:()=>R.emit("iceConnected"),close:D,trackAdded:W,signalingStateChange:P,signalingStateStable:G,error:M,qos:e=>this.trigger("qos",e),iceConnectionStateChange:L,remoteVideoSupported:O,decryptFailed:J,decryptRestored:x},R),!N&&S.remoteTracks().length>0?S.remoteStreams().forEach((e=>{e.getTracks().forEach((t=>W({stream:e,track:t})))})):e(void 0,R)}))}}};var r=i(n(9)),o=i(n(6)),a=i(n(10)),s=i(n(22)),c=i(n(308)),l=i(n(309)),d=i(n(7)),u=i(n(73)),h=i(n(672)),A=i(n(165)),p=i(n(8)),g=i(n(674))},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var i=(e,t)=>{e.forEach(((n,i)=>{(n.id||n)===(t.id||t)&&e.splice(i,1)}))};t.default=i},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=function(e){void 0===e&&(e={});const t=e.generateSimpleStateMachine||(0,r.default)(),n=t("NotPublishing",["NotPublishing","GetUserMedia","BindingMedia","MediaBound","PublishingToSession","Publishing","Failed","Destroyed"],{NotPublishing:["NotPublishing","GetUserMedia","Destroyed"],GetUserMedia:["BindingMedia","Failed","NotPublishing","Destroyed"],BindingMedia:["MediaBound","Failed","NotPublishing","Destroyed"],MediaBound:["NotPublishing","PublishingToSession","Failed","Destroyed"],PublishingToSession:["NotPublishing","Publishing","Failed","Destroyed","MediaBound"],Publishing:["NotPublishing","MediaBound","Failed","Destroyed"],Failed:["Destroyed"],Destroyed:[]});return n.prototype.isDestroyed=function(){return"Destroyed"===this.current},n.prototype.isAttemptingToPublish=function(){return-1!==["GetUserMedia","BindingMedia","MediaBound","PublishingToSession"].indexOf(this.current)},n.prototype.isPublishing=function(){return"Publishing"===this.current},n};var r=i(n(162))},function(e,t,n){"use strict";function i(e){this.message=e||"Operation has been canceled.",this.name="CancellationError",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i,i.prototype=Object.create(Error.prototype),i.prototype.constructor=i},function(e,t,n){var i=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return i.resolve(e).then((e=>i.resolve(t()).then((()=>e))),(e=>i.resolve(t()).then((()=>i.reject(e)))))}},function(e,t,n){"use strict";t.__esModule=!0,t.isAmrVideoBufferError=t.createAmrVideoBufferError=void 0;const i="bufferFailed: videoBuffer failed to load or timeout";t.isAmrVideoBufferError=e=>e.message===i,t.createAmrVideoBufferError=()=>new Error(i)},function(e,t,i){"use strict";(function(e){var r=i(0);t.__esModule=!0,t.default=function(t){let i=void 0===t?{}:t,r=i.AudioLevelMeter,m=void 0===r?Z.default:r,R=i.AudioLevelTransformer,B=void 0===R?W.default:R,D=i.BackingBar,x=void 0===D?O.default:D,Y=i.Chrome,j=void 0===Y?J.default:Y,z=i.env,q=void 0===z?C.default:z,$=i.Errors,me=void 0===$?pe:$,Ee=i.Events,Re=void 0===Ee?Ae:Ee,Se=i.ExceptionCodes,Fe=void 0===Se?b.default:Se,Be=i.audioLevelSampler,Te=void 0===Be?G.default:Be,Ne=i.getStatsHelpers,_e=void 0===Ne?M.default:Ne,we=i.hasAudioOutputLevelStatCapability,ke=void 0===we?L.default:we,De=i.hasRemoteStreamsWithWebAudio,Ve=void 0===De?P.default:De,Ze=i.interpretPeerConnectionError,We=void 0===Ze?ge:Ze,Oe=i.logging,Je=void 0===Oe?Ie:Oe,xe=i.MuteButton,Me=void 0===xe?fe:xe,Le=i.NamePanel,Pe=void 0===Le?X.default:Le,Ge=i.otError,Ye=void 0===Ge?Qe:Ge,je=i.OTErrorClass,Xe=void 0===je?v.default:je,Ke=i.OTHelpers,He=void 0===Ke?K.default:Ke,ze=i.StylableComponent,qe=void 0===ze?H.default:ze,$e=i.SubscriberPeerConnection,et=void 0===$e?Ce:$e,tt=i.SubscribingState,nt=void 0===tt?ee.default:tt,it=i.VideoDisabledIndicator,rt=void 0===it?te.default:it,ot=i.AudioBlockedIndicator,at=void 0===ot?ne.default:ot,st=i.VideoUnsupportedIndicator,ct=void 0===st?ie.default:st,lt=i.watchFrameRate,dt=void 0===lt?re.default:lt,ut=i.createSendMethod,ht=void 0===ut?oe.default:ut,At=i.parseIceServers,pt=void 0===At?ae.parseIceServers:At,gt=i.document,ft=void 0===gt?(void 0!==typeof window?window:n.g).document:gt,mt=i.WidgetView,Et=void 0===mt?he:mt,Ct=i.createAudioConnector,It=void 0===Ct?ce.default:Ct;const Qt=function t(i,r,C){var b,v=this;if(void 0===r&&(r={}),void 0===C&&(C=()=>{}),void 0===r.analytics)throw new Error("Subscriber requires an instance of analytics");const R=r.analytics,D=(0,c.default)(),Z=t.hasAudioOutputLevelStatCapability()||Ve(),W=this,O={},J={},M={},L={},P={},G=(0,I.default)(),Y=It(M);let X,K,H,z,$,ee,te,ne,ie,re,oe,ae,ce,he,Ae=!1,pe=i||D,ge=r.session,fe=r.stream;const Ee=r._singlePeerConnectionController,Ce=void 0!==Ee;let Ie,Qe,Se,Be,Ne,we,ke=!1,De={},Ze=null,Oe=!1,xe=!0,Le=[],Ge=(0,u.default)({},r,{showControls:!0,testNetwork:!1,fitMode:fe.defaultFitMode||"cover",insertDefaultUI:!0,initials:fe.initials});const je=ge.sessionInfo.isAdaptiveEnabled,Ke={P2P:S.default.SUBSCRIBER_DISCONNECTED,MANTIS:S.default.SUBSCRIBER_DISCONNECTED};let ze,$e;const et="Chrome"===q.name&&q.version>=58||q.isChromiumEdge||q.isOpera,tt=ge._.getSocket(),it=()=>(0,g.default)(J),ot=e=>J[e],st=()=>J[we],lt=function(){var e=(0,a.default)(o.default.mark((function e(t){var n;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J[t];case 2:null==(n=e.sent)||n.close(),delete J[t];case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ut=e=>{delete M[e]},At=()=>{it().forEach(function(){var e=(0,a.default)(o.default.mark((function e(t){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:e.sent.destroy();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object.keys(J).forEach((e=>{delete J[e]}))},gt=function(){var e=(0,a.default)(o.default.mark((function e(t){var n,i,r;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return i={error:wt,audioVolume:Qe,hasVideo:null==(n=fe)?void 0:n.hasVideo},r=je&&"P2P"===we,e.prev=4,e.next=7,X.bindVideo(t,i,r);case 7:e.next=15;break;case 9:if(e.prev=9,e.t0=e.catch(4),!(e.t0 instanceof s.CancellationError||ee.isDestroyed())){e.next=13;break}return e.abrupt("return");case 13:throw wt(e.t0),e.t0;case 15:case"end":return e.stop()}}),e,null,[[4,9]])})));return function(t){return e.apply(this,arguments)}}(),mt=function(){var e=(0,a.default)(o.default.mark((function e(t,n){var i,r,a;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=!1,"function"===typeof t?n=t:i="rtcStatsReport"===t,i?zt():Ht(),!i||F.default){e.next=7;break}return r=Fe.GET_RTC_STATS_REPORT_NOT_SUPPORTED,n(Ye(N.default.GET_RTC_STATS_REPORT_NOT_SUPPORTED,new Error(Xe.getTitleByCode(r)),r)),e.abrupt("return");case 7:if(st()){e.next=11;break}return r=Fe.PEER_CONNECTION_NOT_CONNECTED,n(Ye(me.PEER_CONNECTION_NOT_CONNECTED,new Error(Xe.getTitleByCode(r)),r)),e.abrupt("return");case 11:return e.next=13,st();case 13:a=e.sent,(i?a.getRtcStatsReport:a.getStats)(((e,t)=>{e?(e.code===Fe.PEER_CONNECTION_NOT_CONNECTED&&(e=Ye(me.PEER_CONNECTION_NOT_CONNECTED,e,Fe.PEER_CONNECTION_NOT_CONNECTED)),n(e)):n(null,t)}));case 16:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Et=e=>!(!ie||!Ie)&&("video"===e?ie.getVideoTracks().length>0&&Ie.getVideoTracks().length>0:ie.getAudioTracks().length>0&&Ie.getAudioTracks().length>0),Ct=(e,t,n,i,r)=>{let o=(0,d.default)({action:e,variation:t,payload:n,streamId:fe?fe.id:null,sessionId:ge?ge.sessionId:null,connectionId:ge&&ge.isConnected()?ge.connection.connectionId:null,partnerId:ge&&ge.sessionInfo?ge.sessionInfo.partnerId:null,subscriberId:D,widgetType:"Subscriber"},i);("Failure"===t||"iceconnectionstatechange"===t&&"closed"===n)&&(o=(0,d.default)(o,De));const a=[o];r&&a.push(r),R.logEvent(...a)},Qt=(e,t,n)=>{"Attempt"===t?(L[e]=(new Date).getTime(),Ct(e,t,n)):"Failure"!==t&&"Success"!==t||Ct(e,t,n,{attemptDuration:(new Date).getTime()-L[e]})},Ut=function(e,t){void 0===t&&(t={}),Qt("RoutedToRelayedTransition",e,t)},yt=function(e,t){void 0===t&&(t={}),Qt("RelayedToRoutedTransition",e,t)},bt=(0,y.default)({onInvalidTransition(e,t){const n="Invalid state transition: Event '".concat(e,"' not possible in state '").concat(t,"'");Je.error(n),Ct("Subscriber:InvalidStateTransition","Event",{details:n})}});{const e="Unable to subscribe to stream in a reasonable amount of time";(0,T.default)({connectivityState:bt,onWarning(){vt("Warning",{})},onTimeout:()=>{if(X&&X.addError(e),ee.isAttemptingToSubscribe()){ee.set("Failed"),this._disconnect({noStateTransition:!0});const t=Ye(N.default.TIMEOUT,new Error(e),Fe.UNABLE_TO_SUBSCRIBE);bt.fail({options:{failureReason:"Subscribe",failureMessage:e,failureCode:Fe.UNABLE_TO_SUBSCRIBE},error:t})}},warningMs:15e3,timeoutMs:3e4})}if(O.promise=new e(((e,t)=>{O.resolve=e,O.reject=t})),Ge.testNetwork&&ge.sessionInfo.p2pEnabled&&Je.warn("You cannot test your network with a relayed session. Use a routed session."),this.id=pe,this.widgetId=D,this.session=ge,this.stream=Ge.stream,fe=Ge.stream,this.streamId=fe.id,!ge)return Xe.handleJsException({errorMsg:"OT.Subscriber must be passed a session option",code:2e3,target:this,analytics:R}),null;(0,f.default)(this),W.once("subscribeComplete",(function(){try{C(...arguments)}catch(e){Je.error("Completion handler threw an exception",e)}})),ge.on("captionReceived",(e=>{e.streamId===W.streamId&&(this.dispatchEvent(e),this.trigger(S.default.SUBSCRIBER_CAPTION_RECEIVED,e))})),bt.observe({onEnterConnecting(){vt("Attempt",null,{})},onEnterConnected(){vt("Success",null,{})},onEnterDisconnected(e,t){let n=void 0===t?{}:t,i=n.options,r=void 0===i?{}:i,o=n.payload,a=void 0===o?null:o;vt((e=>{let t=e.transition,n=e.from;return"fail"===t?"connected"===n?"Disconnect":"Failure":"disconnect"===t&&"connected"===n?"Disconnect":"Cancel"})(e),a,r)}}),bt.observe({onEnterConnected:()=>{this.trigger("subscribeComplete",void 0,this)},onEnterDisconnected:function(e,t){let n=e.from,i=(void 0===t?{}:t).error;"connecting"===n&&v.trigger("subscribeComplete",i||new Error("An unknown error occurred"),v)}}),(0,U.default)({connectivityState:bt,logAttempt(){Ct("Subscribe","Attempting",null,{connectionId:ge&&ge.isConnected()?ge.connection.connectionId:null})}});const vt=function(e,t,n){void 0===t&&(t={}),"Failure"===e||"Success"===e||"Cancel"===e?Ct("Subscribe",e,t,Object.assign({},n,{attemptDuration:(new Date).getTime()-ae})):"Attempt"===e?(ae=(new Date).getTime(),Ct("Subscribe",e,Object.assign({},t,{testNetwork:Ge.testNetwork}),n)):Ct("Subscribe",e,t,n)},Rt=(e,t)=>{Ct("ICERestart",e,t)},St=e=>{var t,n;let i=e.parsedStats,r=e.remoteConnectionId,o=e.peerId,a=e.sourceStreamId;const s={widgetType:"Subscriber",width:X.width,height:X.height,audioTrack:Et("audio"),hasAudio:fe&&fe.hasAudio,subscribeToAudio:he,audioVolume:this.getAudioVolume(),videoTrack:Et("video"),connectionId:ge?ge.connection.connectionId:null,hasVideo:fe&&fe.hasVideo,subscribeToVideo:Ge.subscribeToVideo,congestionLevel:Ze,streamId:fe.id,subscriberId:D,duration:Math.round(((0,_.default)()-$)/1e3),remoteConnectionId:r,peerId:o,sourceStreamId:(0,se.default)(a),preferredResolutionHeight:null==(t=Ge.preferredResolution)?void 0:t.height,preferredResolutionWidth:null==(n=Ge.preferredResolution)?void 0:n.width,preferredFrameRate:Ge.preferredFrameRate,audioFallback:!re&&"auto"===oe,initials:fe.initials},c=(0,d.default)(s,i);R.logQOS(c),this.trigger("qos",Object.assign({},R.commonQoSFields(),c))},Ft=()=>{!ee.isSubscribing()&&X&&X.video()&&(Ae=!0,Oe||(bt.connect(),Oe=!0),Je.debug("OT.Subscriber.onLoaded"),ee.set("Subscribing"),$=(0,_.default)(),X.loading(!1),K&&K.showAfterLoading(),ke&&fe.setRestrictFrameRate(!0),z&&z.audioOnly(X.audioOnly()),this.setAudioVolume(Qe),this.trigger("loaded",this))},Bt=()=>fe&&fe.hasAudio&&he&&this.getAudioVolume()>0&&!this.isAudioBlocked(),Tt=e=>{let t=!1;if(("audioLevelStuckAt0"!==e||!(!Bt()||fe&&fe.hasVideo))&&(Ct("subscriber:onAudioWarning","Event",{reason:e}),X)){if(X.rebindSrcObject(),Ct("subscriber:rebindSrcObject","Called"),"audioLevelStuck"===e)return;t=!0}Nt(t)},Nt=function(){var e=(0,a.default)(o.default.mark((function e(t){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t&&(t=!1),!et){e.next=6;break}return e.next=4,st();case 4:e.sent.startAudioStatsWatcher(t);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_t=()=>{Je.debug("OT.Subscriber has been disconnected from the Publisher's PeerConnection"),bt.fail({options:{failureReason:"PeerConnectionError",failureCode:Fe.UNABLE_TO_PUBLISH,failureMessage:"PeerConnection disconnected"},error:Ye(me.DISCONNECTED,new Error("ClientDisconnected"))}),this._disconnect({noStateTransition:!0}),(ee.isAttemptingToSubscribe()||ee.isSubscribing())&&ee.set("Failed")},wt=e=>{const t=Ye(me.MEDIA_ERR_DECODE,e,e.code||Fe.P2P_CONNECTION_FAILED);t.message="OT.Subscriber while playing stream: ".concat(t.message),Je.error("OT.Subscriber.onVideoError"),bt.fail({options:{failureReason:"VideoElement",failureMessage:t.message,failureCode:t.code||Fe.P2P_CONNECTION_FAILED},error:t});const n=ee.isAttemptingToSubscribe();ee.set("Failed"),n||W.trigger("error",t.message),Xe.handleJsException({error:t,code:Fe.UNABLE_TO_SUBSCRIBE,target:W,analytics:R})},kt=e=>{const t=(0,k.default)(e);Xe.handleJsException({error:t,code:t.code,target:W,analytics:R}),this._disconnect({noStateTransition:!0});const n={failureReason:"Subscribe",failureMessage:"OT.Subscriber PeerConnection Error: ".concat(t.message),failureCode:Fe.P2P_CONNECTION_FAILED};Xt(t.code,t.message),bt.fail({options:n,error:Ye(t.name,new Error("Subscribe: Subscriber PeerConnection with connection (not found) "+"failed: ".concat(t.message)),t.code)}),t.name===N.default.STREAM_NOT_FOUND&&this._destroy({reason:"streamNotFound",noStateTransition:!0})},Dt=(e,t,n,i)=>{if("SetRemoteDescription"===i&&!xe&&t.match(/Unsupported video without audio for fallback/)){let e;return X&&X.addError("The stream is unable to be played.","Your browser does not support the video format."),e="Safari"===He.env.name?new Error("VP8 is not supported in this version of Safari. You might want to consider switching to an H264 project. See https://tokbox.com/safari for more information."):new Error("Video format not supported in this browser."),e.code=Fe.UNSUPPORTED_VIDEO_CODEC,void wt(e)}if("ICEWorkflow"===i&&ge.sessionInfo.reconnection&&Ae)return void Je.debug("Ignoring peer connection failure due to possibility of reconnection.");let r;r="ICEWorkflow"===i?Fe.SUBSCRIBER_ICE_WORKFLOW_FAILED:e===Fe.STREAM_LIMIT_EXCEEDED?e:Fe.P2P_CONNECTION_FAILED;const o={failureReason:i||"PeerConnectionError",failureMessage:"OT.Subscriber PeerConnection Error: ".concat(t),failureCode:r},a=We(e,t,i,"(not found)","Subscriber");if(bt.fail({options:o,error:a}),ee.isAttemptingToSubscribe()){const e={hasRelayCandidates:n&&n.hasRelayCandidates()};Ct("createPeerConnection","Failure",e,o),ee.set("Failed")}else ee.isSubscribing()&&(ee.set("Failed"),this.trigger("error",t));this._disconnect({noStateTransition:!0}),404===Number(e)&&this._destroy({noStateTransition:!0}),Xe.handleJsException({error:a,errorMsg:"OT.Subscriber PeerConnection Error: ".concat(t),code:r,target:this,analytics:R}),Xt(e)},Vt=e=>{const t=e._hasVideoTracks(),n=e._hasAudioTracks(),i=fe&&fe.hasVideo&&!t,r=fe&&fe.hasAudio&&!n;return!(i||r)},Zt=function(){var e=(0,a.default)(o.default.mark((function e(t,n){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ve((()=>Vt(n)));case 3:e.next=12;break;case 5:if(e.prev=5,e.t0=e.catch(0),"TIMEOUT"!==e.t0.message){e.next=11;break}Je.error("The expected tracks never arrived"),e.next=12;break;case 11:throw e.t0;case 12:return e.next=14,Wt(t.stream,n);case 14:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,n){return e.apply(this,arguments)}}(),Wt=function(){var t=(0,a.default)(o.default.mark((function t(i,r){var a,s,c,l,d,u,h;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Ie=i,Ce&&(Ie=new MediaStream(r._getTracks())),a=1===Object.keys(M).length,s=null==r?void 0:r.getSourceStreamId(),c=ge.sessionInfo,ie=i,s&&(M[s]=i),Je.debug("OT.Subscriber.onRemoteStreamAdded with sourceStreamId",s),ee.set("BindingRemoteStream"),!ze){t.next=16;break}if(!re){t.next=15;break}return t.next=13,Ot(s);case 13:t.next=16;break;case 15:ze.destroy();case 16:return v.subscribeToAudio(he),("auto"!==oe||Ge.subscribeToVideo)&&(oe="loading",v.subscribeToVideo(Ge.subscribeToVideo,"loading")),c.p2pEnabled||"P2P"===s||(v.setPreferredResolution(Ge.preferredResolution),v.setPreferredFrameRate(Ge.preferredFrameRate)),r&&r._getVideoTracks().forEach((e=>{(void 0!==typeof window?window:n.g).webkitMediaStream?e.enabled=!1:e.enabled=fe.hasVideo&&Ge.subscribeToVideo})),t.prev=20,t.next=23,gt(Ie);case 23:t.next=33;break;case 25:if(t.prev=25,t.t0=t.catch(20),!(0,de.isAmrVideoBufferError)(t.t0)){t.next=32;break}return Je.error("OT.Subscriber: ".concat(t.t0.message)),Ft(),G.completeTransitionTo(we),t.abrupt("return");case 32:throw t.t0;case 33:if(Nt(),!ee.isDestroyed()){t.next=37;break}return Je.error("Subscriber destroyed"),t.abrupt("return");case 37:return r&&(void 0!==typeof window?window:n.g).webkitMediaStream&&r._getVideoTracks().forEach((e=>{e.enabled=fe.hasVideo&&Ge.subscribeToVideo})),(l=X&&X.video())&&l.orientation({width:fe.videoDimensions.width,height:fe.videoDimensions.height,videoOrientation:fe.videoDimensions.orientation}),(d=K&&K.videoUnsupportedIndicator)&&d.setVideoUnsupported(!xe),u=new e(((e,t)=>{const n=X&&X.video();n&&n.domElement()?e():(X.once("videoElementCreated",e),W.once("destroyed",t))})),t.next=45,u;case 45:return t.next=47,O.promise;case 47:if(a?ee.set("Subscribing"):Ft(),te&&"webRTCStream"in te&&r._hasAudioTracks()&&te.webRTCStream(i),((h=He.env).isSafari||h.isChromiumEdge||h.isOpera||"Chrome"===h.name&&h.version>=58||h.isFirefox&&h.version>=96)&&(Be&&(Be.destroy(),Be=null),r&&(Be=dt(r.getStats.bind(r)))),!je){t.next=63;break}if(G.completeTransitionTo(we),!he||!Y.audioMediaProcessorConnector){t.next=63;break}return t.prev=54,t.next=57,Y.applyAudioConnectorOnRoutedToRelayedTransition();case 57:Ct("setAudioMediaProcessorConnector","Success",{message:"Audio connector applied on routed to relayed transition."}),t.next=63;break;case 60:t.prev=60,t.t1=t.catch(54),Ct("setAudioMediaProcessorConnector","Failure",{message:t.t1.message});case 63:case"end":return t.stop()}}),t,null,[[20,25],[54,60]])})));return function(e,n){return t.apply(this,arguments)}}(),Ot=function(){var e=(0,a.default)(o.default.mark((function e(t){var n,i;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"P2P"===t&&$e&&(n=M.MANTIS.getVideoTracks(),i=n[0],(0,ue.default)(M.MANTIS,i,$e)),e.next=3,gn();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Jt=e=>{Je.debug("OT.Subscriber.onStreamRemoved");const t=X&&X.video();t&&t.stream===e&&X.destroyVideo(),ut(we),Ie=null,this.trigger("streamRemoved",this)},xt=e=>{xe!==e&&this.dispatchEvent(new Re.VideoEnabledChangedEvent(e?"videoEnabled":"videoDisabled",{reason:e?"codecChanged":"codecNotSupported"})),xe=e},Mt=e=>{X.setAudioBlockedUi(e);const t=K&&K.audioBlockedIndicator;t&&t.setAudioBlocked(e);const n=K&&K.videoUnsupportedIndicator;n&&n.setVideoUnsupported(!e&&!xe)};this.on("audioBlocked",(()=>{Mt(!0)})),this.on("audioUnblocked",(()=>{Mt(!1)}));const Lt={new:S.default.SUBSCRIBER_DISCONNECTED,checking:S.default.SUBSCRIBER_DISCONNECTED,connected:S.default.SUBSCRIBER_CONNECTED,completed:S.default.SUBSCRIBER_CONNECTED,disconnected:S.default.SUBSCRIBER_DISCONNECTED},Pt=(e,t)=>{const n=Lt[e],i=t.getSourceStreamId(),r=Ke[i];n&&n!==r&&(Ke[i]=n,"disconnected"===e&&"P2P"!==i&&setTimeout((0,a.default)(o.default.mark((function e(){var t;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=ge._.isSocketReconnecting,"disconnected"!==Ke[i]||!tt.is("connected")||t()){e.next=4;break}return e.next=4,v._.iceRestart("peer connection disconnected");case 4:case"end":return e.stop()}}),e)}))),2e3),X&&X.loading(n!==S.default.SUBSCRIBER_CONNECTED),Je.debug("OT.Subscriber.connectionStateChanged to ".concat(e)),this.dispatchEvent(new Re.ConnectionStateChangedEvent(n,this)))},Gt=()=>{Rt("Success")},Yt=()=>{Rt("Failure",{reason:"ICEWorkflow",message:"OT.Subscriber PeerConnection Error: The stream was unable to connect due to a network error. Make sure your connection isn't blocked by a firewall."})};H={get:()=>fe.getChannelsOfType("audio").length>0?W.getStyle("buttonDisplayMode"):"off",update(){const e=H.get();K&&(K.muteButton.setDisplayMode(e),K.backingBar.setMuteMode(e))}};const jt=()=>{const e={backingBar:new x({nameMode:Ge.name?this.getStyle("nameDisplayMode"):"off",muteMode:H.get()}),name:new Pe({name:Ge.name,mode:this.getStyle("nameDisplayMode")}),muteButton:new Me({muted:0===Qe,mode:H.get()})};if(Z){const t=new B;z=new m({mode:W.getStyle("audioLevelDisplayMode")});const n=new w.default((()=>{z.setValue(t.transform(this.loudness))}));z.watchVisibilityChanged((e=>{e?n.start():n.stop()})),z.setDisplayMode(this.getStyle("audioLevelDisplayMode")),z.audioOnly(!1),e.audioLevel=z}e.videoDisabledIndicator=new rt({mode:this.getStyle("videoDisabledDisplayMode")}),e.audioBlockedIndicator=new at({mode:this.getStyle("audioBlockedDisplayMode")}),e.videoUnsupportedIndicator=new ct({mode:this.getStyle("videoUnsupportedDisplayMode")}),X&&X.domElement&&(K=new j({parent:X.domElement}).set(e).on({muted(){W.setAudioVolume(0)},unmuted(){W.setAudioVolume(Se)}},this),K.hideWhileLoading())},Xt=(e,t)=>{let n,i;X&&(e===Fe.STREAM_LIMIT_EXCEEDED?(n="The stream was unable to connect.",i="The limit for the number of media streams has been reached."):"Tried to subscribe to an encrypted stream without enabling encryption"===t?(n="Unable to subscribe to an encrypted stream without enabling encryption.",i=""):(n="The stream was unable to connect due to a network error.",i=Oe?"Ensure you have a stable connection and try again.":"Make sure you have a stable network connection and that it isn't blocked by a firewall."),X.addError(n,i))};function Kt(e){it().forEach(function(){var t=(0,a.default)(o.default.mark((function t(n){return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n;case 2:t.sent.subscribeToVideo(!e);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());const t=e||!Ie||!Ie.getVideoTracks().length;X&&(X.audioOnly(t),X.showPoster(t)),z&&z.audioOnly(t)}qe(this,{nameDisplayMode:"auto",buttonDisplayMode:"auto",audioLevelDisplayMode:"auto",videoDisabledDisplayMode:"auto",audioBlockedDisplayMode:"auto",backgroundImageURI:null,showArchiveStatus:!0,showMicButton:!0},Ge.showControls,(e=>{Ct("SetStyle","Subscriber",e,null,.1)}));const Ht=(0,p.default)((()=>{Ct("GetStats","Called")})),zt=(0,p.default)((()=>{Ct("GetRtcStatsReport","Called")})),qt=function(){var e=(0,a.default)(o.default.mark((function e(t){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ne&&(ne.destroy(),ne=void 0),e.prev=1,e.next=4,ve((()=>t._hasAudioTracks()));case 4:e.next=9;break;case 6:return e.prev=6,e.t0=e.catch(1),e.abrupt("return");case 9:te=Te(t),te?ne=(0,V.default)({subscriber:v,audioLevelSampler:te}):Object.prototype.hasOwnProperty.call(v,"loudness")||(Object.defineProperty(v,"loudness",{value:void 0,configurable:!0,writable:!1}),Je.error("No suitable audio level samplers found, audio level visualisation will not work"));case 11:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}(),$t=(e,t)=>{if(P[t]){P[t].removeAll();const n=()=>{e.off("error",n),e.off("disconnected",n)};e.on("error",n),e.on("disconnected",n)}const n=(0,E.default)(e);n.once("connected",(()=>(e=>{je&&"P2P"===e.getSourceStreamId()&&Ut("Success")})(e))),n.on("disconnected",_t),n.on("error",Dt),n.once("remoteTrackAdded",(0,a.default)(o.default.mark((function t(){var n=arguments;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,qt(e);case 2:return t.prev=2,t.next=5,Zt(...n);case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(2),Je.error(t.t0);case 10:case"end":return t.stop()}}),t,null,[[2,7]])})))),n.on("audioLevelStuckWarning",Tt),n.on("signalingStateStable",(0,a.default)(o.default.mark((function t(){return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:W.trigger("signalingStateStable"),X&&X.video()&&ie&&te&&"webRTCStream"in te&&e._hasAudioTracks()&&te.webRTCStream(ie);case 3:case"end":return t.stop()}}),t)})))),n.on("iceConnectionStateChange",(t=>Pt(t,e))),n.on("iceRestartSuccess",Gt),n.on("iceRestartFailure",Yt),n.on("remoteVideoSupported",xt),n.on("remoteStreamRemoved",Jt),n.on("decryptFailed",(()=>{this.trigger("encryptionSecretMismatch"),Ct("encryptionSecretMismatch","Event"),Je.warn("Media cannot be decrypted due to an encryption secret mismatch.")})),n.on("decryptRestored",(()=>{this.trigger("encryptionSecretMatch"),Ct("encryptionSecretMatch","Event")})),P[t]=P},en=function(){var e=(0,a.default)(o.default.mark((function e(){var t;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ut("Attempt"),e.next=3,ot("MANTIS");case 3:if(null!=(t=e.sent)&&t.iceConnectionStateIsConnected()){e.next=7;break}return Ut("Failure",{reason:"Attempted to transition to Relayed without being connected in Routed mode."}),e.abrupt("return");case 7:tt.subscriberCreate(fe.id,D,un,"P2P",ge._.isE2ee(),((e,t)=>{e&&!bt.is("disconnected")&&Ut("Failure",e),Je.debug("message received when created a subscriber with source",t)}));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),tn=function(){var e=(0,a.default)(o.default.mark((function e(){var t,n;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Ge.testNetwork&&!ye(fe,ge)&&"P2P"===we){e.next=2;break}return e.abrupt("return");case 2:if(yt("Attempt"),ie=M.MANTIS,Ie=ie,!Ce){e.next=10;break}return e.next=8,ot("MANTIS");case 8:t=e.sent,Ie=new MediaStream(t._getTracks());case 10:if(!re||!ze){e.next=13;break}return e.next=13,gn();case 13:if(!Y.audioMediaProcessorConnector||!he){e.next=23;break}return e.prev=14,e.next=17,Y.applyAudioConnectorOnRelayedToRoutedTransition();case 17:Ct("setAudioMediaProcessorConnector","Success",{message:"Audio connector applied on relayed to routed transition."}),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(14),Ct("setAudioMediaProcessorConnector","Failure",{message:e.t0.message});case 23:return e.next=25,gt(Ie);case 25:return X.loading(!1),lt("P2P"),we="MANTIS",ut("P2P"),e.next=31,st();case 31:return n=e.sent,e.next=34,qt(n);case 34:yt("Success");case 35:case"end":return e.stop()}}),e,null,[[14,20]])})));return function(){return e.apply(this,arguments)}}();this._destroy=e=>{let t=e.reason,n=void 0===t?"Unknown":t,i=e.quiet,r=e.noStateTransition,o=void 0!==r&&r;return ee.isDestroyed()||(ee.set("Destroyed"),Be&&(Be.destroy(),Be=null),De={sessionId:ge.sessionId,connectionId:ge&&ge.isConnected()?ge.connection.connectionId:null,partnerId:ge&&ge.sessionInfo?ge.sessionInfo.partnerId:null,streamId:fe&&!fe.destroyed?fe.id:null},this._disconnect({reason:n,noStateTransition:o}),K&&(K.destroy(),K=null),X&&(X.destroy(),X.off(),X=null,this.element=null),fe&&!fe.destroyed&&Ct("unsubscribe",null,{streamId:fe.id}),fe.off(ce,this),this.id=null,pe=null,this.stream=null,fe=null,this.streamId=null,this.session=null,ge=null,Ge=null,!0!==i&&(this.dispatchEvent(new Re.DestroyedEvent(S.default.SUBSCRIBER_DESTROYED,this,n)),this.off())),this},this.destroy=function(e,t){void 0===e&&(e="Unsubscribe"),Je.warn("Subscriber#destroy is deprecated and will be removed. Please use Session#unsubscribe instead"),v._destroy({reason:e,quiet:t})},this._disconnect=function(e){let t=void 0===e?{}:e,n=t.reason,i=void 0===n?"Unknown":n;if(!t.noStateTransition&&!bt.is("disconnected")){const e="Unsubscribe"===i?void 0:Ye(me.STREAM_DESTROYED,new Error("Stream was destroyed before it could be subscribed to"));bt.disconnect({payload:{reason:i},error:e})}ee.isDestroyed()||ee.isFailed()||ee.set("NotSubscribing"),X&&X.destroyVideo(),tt.is("connected")&&fe&&!fe.destroyed&&tt.subscriberDestroy(fe.id,v.widgetId),At()},this.disconnect=()=>{Je.warn("Subscriber#disconnect is deprecated and will be removed. Please use Session#unsubscribe instead"),this._disconnect({reason:"Unsubscribe"})};const nn=function(){var e=(0,a.default)(o.default.mark((function e(t){var n,i,r,a,s,c,l;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.peerId,i=t.fromConnectionId,r=t.sourceStreamId,a=be({apiKey:ge.apiKey,sessionId:ge.sessionId,streamId:fe.id,subscriberId:v.widgetId}),s=ht({socket:v.session._.getSocket(),uri:a,content:{peerId:n,sourceStreamId:r}}),c=function(e,t,i,o,a){void 0===o&&(o={});const s=Object.assign({peerId:n,sourceStreamId:(0,se.default)(r)},o);return Ct(e,t,i,s,a)},l=e=>{we===r&&St(Object.assign({},e,{peerId:n,remoteConnectionId:i,sourceStreamId:r}))},e.abrupt("return",v._setupPeerConnection({send:s,log:c,logQoS:l,sourceStreamId:r}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function rn(e){const t=X&&X.video();if(t)try{t.setAudioVolume(e)}catch(n){Je.warn("setAudioVolume: ".concat(n)),0===Qe&&(Je.info("Using subscribeToAudio to mute Audio because setAudioVolume(0) failed"),W.subscribeToAudio(!1))}K&&K.muteButton.muted(0===e)}this.processMessage=function(){var e=(0,a.default)(o.default.mark((function e(t,n,i){var r,a,s;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Je.debug("OT.Subscriber.processMessage: Received ".concat(t," message from ").concat(n)),Je.debug(i),r=(0,h.default)(i,"content.peerId"),a=(0,h.default)(i,"content.sourceStreamId"),e.next=6,ot(a);case 6:if(!(s=e.sent)){e.next=11;break}s.processMessage(t,i),e.next=16;break;case 11:if("offer"!==t){e.next=16;break}return e.next=14,nn({peerId:r,fromConnectionId:n,sourceStreamId:a});case 14:s=e.sent,Ce?s.processMessage("offer",i):v.session._.addSubscriberToPeerConnectionsQueue(s,i);case 16:case"end":return e.stop()}}),e)})));return function(t,n,i){return e.apply(this,arguments)}}(),this.disableVideo=e=>{if(e){if("auto"!==oe||!1!==Ne)return Je.info("Video was not re-enabled because it was manually disabled"),void(K&&K.videoDisabledIndicator&&K.videoDisabledIndicator.disableVideo(!1));Je.info("Video has been re-enabled")}else Je.warn("Due to high packet loss and low bandwidth, video has been disabled");this.subscribeToVideo(e,"auto"),Ct("updateQuality","video",e?{videoEnabled:!0}:{videoDisabled:!0})},this.getImgData=()=>{if(!this.isSubscribing())return Je.error("OT.Subscriber.getImgData: Cannot getImgData before the Subscriber is subscribing."),null;const e=X&&X.video();return e?e.imgData():null},this.getStats=e=>{(e=>{mt(e)})(((t,n)=>{if(t)return void e(t);const i={timestamp:0};n.forEach((e=>{if(_e.isInboundStat(e)){const t=_e.isVideoStat(e,n),r=_e.isAudioStat(e,n);(r||t)&&(i.timestamp=_e.normalizeTimestamp(e.timestamp)),t?((0,A.default)(i,{video:_e.parseStatCategory(e)}),Be&&(0,A.default)(i,{video:{frameRate:Be.getFrameRateFromStat(e)}})):r&&(0,A.default)(i,{audio:_e.parseStatCategory(e)})}})),e(null,i)}))},this.getRtcStatsReport=()=>new e(((e,t)=>{mt("rtcStatsReport",((n,i)=>{n?t(n):e(i)}))})),this.setAudioVolume=e=>{const t=function(e){return Math.max(0,Math.min(100,parseInt(e,10)))}(e);return Ct("setAudioVolume","Attempt",{audioVolume:t}),isNaN(t)?(Je.error("OT.Subscriber.setAudioVolume: value should be an integer between 0 and 100"),Ct("setAudioVolume","Failure",{message:"value should be an integer between 0 and 100"}),this):(t!==e&&Je.warn("OT.Subscriber.setAudioVolume: value should be an integer between 0 and 100"),t===Qe?(rn(Qe),Ct("setAudioVolume","Success",{audioVolume:Qe,message:"Requested volume is same as already set audioVolume"}),this):(Qe>0&&(Se=Qe),Qe=t,rn(Qe),Qe>0&&!he&&(Se=Qe,this.subscribeToAudio(!0)),Ct("setAudioVolume","Success",{audioVolume:Qe}),this))},this.getAudioVolume=()=>{const e=X&&X.video();if(e)try{return e.getAudioVolume()}catch(t){Je.warn("getAudioVolume ".concat(t))}return Qe},this.subscribeToAudio=e=>{const t=(0,Q.default)(e,!0);it().forEach(function(){var e=(0,a.default)(o.default.mark((function e(n){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:e.sent.subscribeToAudio(t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),fe&&0!==it().length&&fe.setChannelActiveState("audio",t);const n=he!==t;if(he=t,n&&this.setAudioVolume(t?Se:0),Y.audioMediaProcessorConnector)if(he)En();else try{Y.resetAudioStreamAndTrack(we),Ct("setAudioMediaProcessorConnector","Success",{message:"reset the audio track"})}catch(i){Ct("setAudioMediaProcessorConnector","Failure",{message:"Error resetting track: ".concat(i.message)})}return Ct("subscribeToAudio","Event",{subscribeToAudio:t}),this};const on={auto:"quality",publishVideo:"publishVideo",subscribeToVideo:"subscribeToVideo"};if("Safari"===q.name){const e=()=>{!ft.hidden&&Ge.subscribeToVideo&&(Je.debug("document visibility restored in Safari - resubscribing to video"),this.subscribeToVideo(!1),this.subscribeToVideo(!0))};ft.addEventListener("visibilitychange",e),this.once("destroyed",(()=>{ft.removeEventListener("visibilitychange",e)}))}if(this.subscribeToVideo=(e,t)=>{const n=(0,Q.default)(e,!0),i=!n&&"auto"===t;return t||(Ne=!n),i&&(Ze=2),Ct("subscribeToVideo","Attempt",{subscribeToVideo:n,reason:t}),Kt(!n||!fe.hasVideo||!ie),fe.hasVideo&&!Et("video")?(n&&Je.info("Subscriber is audio-only due to incompatibility, can't subscribeToVideo."),Ge.subscribeToVideo=!1,Ct("subscribeToVideo","Failure",{message:"No video tracks available"}),this):(K&&K.videoDisabledIndicator&&K.videoDisabledIndicator.disableVideo(i),it().length>0&&ge&&fe&&(n===Ge.subscribeToVideo&&t===oe||Ne&&t||fe.setChannelActiveState("video",n,t)),Ge.subscribeToVideo=n,oe=t,re=n,ze&&(re?gn():fn()),Ct("subscribeToVideo","Success",{subscribeToVideo:n,reason:t}),"loading"!==t&&this.dispatchEvent(new Re.VideoEnabledChangedEvent(n?"videoEnabled":"videoDisabled",{reason:on[t]||"subscribeToVideo"})),this)},this.setPreferredResolution=e=>{if(ee.isDestroyed()||0===it().length&&"Connecting"===!ee.current)return void Je.warn("Cannot set the max Resolution when not subscribing to a publisher");if(Ge.preferredResolution=e,ge.sessionInfo.p2pEnabled)return void Je.warn("OT.Subscriber.setPreferredResolution will not work in a P2P Session");if(!ee.isStreamAdded())return;const t=fe.getPreferredResolution();t&&e&&t.width===e.width&&t.height===e.height||!t&&!e||fe.setPreferredResolution(e)},this.setPreferredFrameRate=e=>{if(ee.isDestroyed()||0===it().length&&"Connecting"===!ee.current)return void Je.warn("Cannot set the max frameRate when not subscribing to a publisher");if(Ge.preferredFrameRate=e,ge.sessionInfo.p2pEnabled)return void Je.warn("OT.Subscriber.setPreferredFrameRate will not work in a P2P Session");const t=fe.getPreferredFrameRate();e&&t&&t===e||!t&&!e||fe.setPreferredFrameRate(e)},this.isSubscribing=()=>ee.isSubscribing(),this.isWebRTC=!0,this.isLoading=()=>X&&X.loading(),this.isAudioBlocked=()=>Boolean(X&&X.isAudioBlocked()),this.videoElement=()=>{const e=X&&X.video();return e?e.domElement():null},this.videoWidth=()=>{const e=X&&X.video();return e?e.videoWidth():void 0},this.videoHeight=()=>{const e=X&&X.video();return e?e.videoHeight():void 0},this._subscribeToSelf=(0,a.default)(o.default.mark((function e(){var t;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=ge.getPublisherForStream(fe))&&t._.webRtcStream()){e.next=5;break}bt.fail({payload:{reason:"streamNotFound"},error:Ye(me.STREAM_DESTROYED,new Error("Tried to subscribe to a local publisher, but its stream no longer exists"))}),e.next=14;break;case 5:return O.resolve(),e.prev=6,e.next=9,Wt(t._.webRtcStream());case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(6),Je.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[6,11]])}))),this._setupPeerConnection=function(){var n=(0,a.default)(o.default.mark((function n(i){var r,a,s,c;return o.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=i.send,a=i.log,s=i.logQoS,c=i.sourceStreamId,Ge.testNetwork&&v.setAudioVolume(0),0===it().length&&ee.set("Connecting"),we=c,J[c]=new e(((e,n)=>{ge._.getIceConfig().then((i=>{var o;i.needRumorIceServersFallback&&(i.servers=[...Le||[],...i.servers||[]]);const l={iceConfig:i,subscriberId:v.widgetId,send:r,logAnalyticsEvent:a,p2p:ge.sessionInfo.p2pEnabled,sourceStreamId:c,remoteConnectionId:fe.connection.id,_singlePeerConnectionController:"MANTIS"===c&&Ee,keyStore:ge.keyStore,sFrameClientStore:ge.sFrameClientStore,isE2ee:ge._.isE2ee(),sessionId:null==(o=ge)?void 0:o.sessionId};Object.prototype.hasOwnProperty.call(Ge,"codecFlags")&&(l.codecFlags=Ge.codecFlags);const d=new t.SubscriberPeerConnection(l);d.once("iceConnected",O.resolve),d.once("error",O.reject),d.on("qos",s),$t(d,c),d.init((t=>{t?n(t):e(d)}))}))})),n.abrupt("return",J[c]);case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),this.restrictFrameRate=e=>(Je.debug("OT.Subscriber.restrictFrameRate(".concat(e,")")),Ct("restrictFrameRate",e.toString(),{streamId:fe.id}),ge.sessionInfo.p2pEnabled&&Je.warn("OT.Subscriber.restrictFrameRate: Cannot restrictFrameRate on a P2P session"),"boolean"!==typeof e?Je.error("OT.Subscriber.restrictFrameRate: expected a boolean value got a ".concat(typeof e)):(ke=e,fe.setRestrictFrameRate(e)),this),this.on("styleValueChanged",((e,t)=>{if(K)switch(e){case"nameDisplayMode":K.name.setDisplayMode(t),K.backingBar.setNameMode(t);break;case"videoUnsupportedDisplayMode":K.videoUnsupportedIndicator.setDisplayMode(t);break;case"videoDisabledDisplayMode":K.videoDisabledIndicator.setDisplayMode(t);break;case"audioBlockedDisplayMode":K.audioBlockedIndicator.setDisplayMode(t);break;case"showArchiveStatus":K.archive.setShowArchiveStatus(t);break;case"buttonDisplayMode":H.update();break;case"audioLevelDisplayMode":K.audioLevel.setDisplayMode(t);break;case"bugDisplayMode":break;case"backgroundImageURI":X.setBackgroundImageURI(t)}}),this),this._={getDataChannel:(e,t,n)=>(0,a.default)(o.default.mark((function i(){return o.default.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(st()){i.next=3;break}return n(new He.Error("Cannot create a DataChannel before there is a publisher connection.")),i.abrupt("return");case 3:return i.next=5,st();case 5:i.sent.getDataChannel(e,t,n);case 6:case"end":return i.stop()}}),i)})))(),iceRestart:(e,t)=>(0,a.default)(o.default.mark((function n(){var i;return o.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return void 0===t&&(t=!1),n.next=3,ot("MANTIS");case 3:(i=n.sent)?(Rt("Attempt",{reason:e}),Je.debug("Subscriber: iceRestart attempt"),i.iceRestart(),t&&i.generateOffer()):Je.debug("Subscriber: Skipping ice restart, we have no peer connection");case 5:case"end":return n.stop()}}),n)})))(),unblockAudio:()=>X&&X.unblockAudio(),webRtcStream:()=>ie,setIceConfig:function(){var e=(0,a.default)(o.default.mark((function e(t){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:it().forEach(function(){var e=(0,a.default)(o.default.mark((function e(n){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return e.abrupt("return",e.sent.setIceConfig(t));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),privateEvents:new l.default,startRoutedToRelayedTransition(){Ge.testNetwork||ye(fe,ge)||(G.startTransitionToRelayed(),en())},startRelayedToRoutedTransition(){G.startTransitionToRouted(tn)},setSinkId(e){if(X&&X.video())return X.setSinkId(e);Je.debug("Called setAudioOutputDevice on a subscriber without a video element")},pauseAndPlayVideoElement(){X&&X.pauseAndPlayVideoElement()},get isSubscribingToVideo(){return Ge.subscribeToVideo}},this._onDownlinkStatsReceived=e=>{let t;try{t=JSON.parse(e.data)}catch(i){return void Je.error("Downlink Stats parsing failed: ".concat(i.message))}const n=new Re.DownlinkStatsReceivedEvent(this.widgetId,t);n.target=this,this.trigger(S.default.SUBSCRIBER_DOWNLINK_STATS_RECEIVED,n)},ee=new nt((e=>{Je.error("OT.Subscriber State Change Failed: ",e.message),Je.debug(e)})),Je.debug("OT.Subscriber: subscribe to ".concat(fe.id)),ee.set("Init"),!fe)return Je.error("OT.Subscriber: No stream parameter."),!1;var an;ce={updated:e=>{const t=X&&X.video();switch(e.changedProperty){case"videoDimensions":if(!t)break;t.orientation({width:e.newValue.width,height:e.newValue.height,videoOrientation:e.newValue.orientation}),this.dispatchEvent(new Re.VideoDimensionsChangedEvent(this,e.oldValue,e.newValue));break;case"videoDisableWarning":K&&K.videoDisabledIndicator.setWarning(e.newValue),this.dispatchEvent(new Re.VideoDisableWarningEvent(e.newValue?"videoDisableWarning":"videoDisableWarningLifted")),Ze=e.newValue?1:null;break;case"hasVideo":Kt(!fe.hasVideo||!Ge.subscribeToVideo),q.isSafari&&!fe.hasVideo&&X&&X.bindAudioTrackOnly(),this.dispatchEvent(new Re.VideoEnabledChangedEvent(fe.hasVideo?"videoEnabled":"videoDisabled",{reason:"publishVideo"}));break;case"hasAudio":H.update()}}},fe.on(ce,this),Ge.name=Ge.name||fe.name,Ge.classNames="OT_root OT_subscriber",Ge.style&&this.setStyle(Ge.style,null,!0),Se=Ue,Ge.subscribeToVideo=(0,Q.default)(Ge.subscribeToVideo,!0),Ne=!Ge.subscribeToVideo,Ge.subscribeToAudio=(0,Q.default)(Ge.subscribeToAudio,!0),this.subscribeToAudio(Ge.subscribeToAudio),this.setAudioVolume(void 0!==(an=Ge).audioVolume?an.audioVolume:!1===an.subscribeToAudio?0:Ue),X=new t.WidgetView(i,Object.assign({},Ge,{widgetType:"subscriber"})),X.on("error",wt),X.on("audioBlocked",(()=>this.trigger("audioBlocked"))),X.on("audioUnblocked",(()=>this.trigger("audioUnblocked"))),X.on("amrLogEvent",((e,t,n)=>{Ct(e,t,{},n)})),this.id=X.domId(),pe=X.domId(),this.element=X.domElement,X.on("videoElementCreated",(e=>{const t=new Re.VideoElementCreatedEvent(e),n=this;Ae?this.dispatchEvent(t):this.once("loaded",(()=>{n.dispatchEvent(t)}))})),this.element&&jt.call(this);const sn=fe.getChannelsOfType("audio"),cn=fe.getChannelsOfType("video"),ln=fe.getChannelsOfType("data");let dn=ln.some((e=>"caption1"===e.id&&e.active));this.subscribeToCaptions=function(){var e=(0,a.default)(o.default.mark((function e(t){var n,i;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=(0,Q.default)(t,!0),i={active:n},dn=n,Ct("subscribeToCaptions","Attempt",{subscribeToCaptions:n}),tt.subscriberChannelUpdate(fe.id,v.widgetId,"caption1",i),Ct("subscribeToCaptions","Success",{subscribeToCaptions:n});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.isSubscribedToCaptions=()=>dn;const un=sn.map((e=>({id:e.id,type:e.type,active:Ge.subscribeToAudio}))).concat(cn.map((e=>{const t={id:e.id,type:e.type,active:Ge.subscribeToVideo,restrictFrameRate:void 0!==Ge.restrictFrameRate&&Ge.restrictFrameRate};return void 0!==Ge.preferredFrameRate&&(t.preferredFrameRate=parseFloat(Ge.preferredFrameRate)),void 0!==Ge.preferredHeight&&(t.preferredHeight=parseInt(Ge.preferredHeight,10)),void 0!==Ge.preferredWidth&&(t.preferredWidth=parseInt(Ge.preferredWidth,10)),t}))).concat(ln.map((e=>({id:e.id,type:e.type,active:e.active})))),hn=null==(b=fe.getChannelsOfType("data")[0])?void 0:b.active,An=!Ge.testNetwork&&ye(fe,ge)&&!hn;(()=>{var e;const t=ge.getPublisherForStream(fe);if(null!=t&&null!=(e=t._)&&e.privateEvents&&An){let e=!1;t._.privateEvents.on("publisherCaptionsEnabled",(t=>{!e&&t.captionsEnabled&&(un.find((e=>"caption1"===e.id)).active=!0,pn(),e=!0)}))}})();const pn=()=>{bt.beginConnect(),tt.subscriberCreate(fe.id,D,un,null,ge._.isE2ee(),((e,t)=>{const n=Object.assign({status:null==t?void 0:t.status},(null==e?void 0:e.message)&&{error:null==e?void 0:e.message});Ct("subscriberCreate","Event",n),e&&!bt.is("disconnected")&&kt(e),Le=pt(t)}))};if(An)return bt.beginConnect(),this._subscribeToSelf(),this;Ce?Ee.addSubscriber(pn):pn(),this.setVideoMediaProcessorConnector=function(){var e=(0,a.default)(o.default.mark((function e(t){var n;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ct("setVideoMediaProcessorConnector","Attempt",{message:t?"setting the connector":"clearing the connector"}),mn(),t){e.next=6;break}return fn(),Ct("setVideoMediaProcessorConnector","Success",{message:"clearing the connector"}),e.abrupt("return");case 6:if(le.default.isValidConnector(t)){e.next=9;break}throw Ct("setVideoMediaProcessorConnector","Failure",{message:"Invalid MediaProcessorConnector"}),Ye(N.default.INVALID_PARAMETER,new Error("setVideoMediaProcessorConnector:  Tried to set invalid MediaProcessorConnector"));case 9:if(ze=new le.default(t),!(n=G.isTransitioning())&&re){e.next=14;break}return Ct("setVideoMediaProcessorConnector","Pending",{isTransitioning:n,isVideoEnabled:re}),e.abrupt("return");case 14:return fn(),e.prev=15,e.next=18,gn();case 18:e.next=24;break;case 20:throw e.prev=20,e.t0=e.catch(15),Ct("setVideoMediaProcessorConnector","Failure",{message:e.t0.message}),e.t0;case 24:case"end":return e.stop()}}),e,null,[[15,20]])})));return function(t){return e.apply(this,arguments)}}();const gn=function(){var e=(0,a.default)(o.default.mark((function e(){var t,n,i;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=ie.getVideoTracks(),$e=t[0],$e){e.next=7;break}throw n="Connector not set as no video is present.",Je.warn("setVideoMediaProcessorConnector: ".concat(n)),ze=null,Error("setVideoMediaProcessorConnector","Failure",{message:n});case 7:return e.prev=7,e.next=10,ze.setTrack($e);case 10:i=e.sent,(0,ue.default)(ie,$e,i),Ct("setVideoMediaProcessorConnector","Success"),e.next=20;break;case 15:throw e.prev=15,e.t0=e.catch(7),ze=null,Je.error("setVideoMediaProcessorConnector: Error getting track from MediaProcessorConnector: ".concat(e.t0)),Error("setVideoMediaProcessorConnector","Failure",{message:e.t0.message});case 20:case"end":return e.stop()}}),e,null,[[7,15]])})));return function(){return e.apply(this,arguments)}}(),fn=()=>{if($e){try{const e=ie.getVideoTracks()[0];(0,ue.default)(ie,e,$e),Ct("setVideoMediaProcessorConnector","Success",{message:"reset the video track"})}catch(e){throw Je.error("setVideoMediaProcessorConnector: Error resetting track: ".concat(e)),Error("setVideoMediaProcessorConnector","Failure",{message:e.message})}$e=null}},mn=()=>{var e;null==(e=ze)||e.destroy(),ze=null};this.setAudioMediaProcessorConnector=function(){var e=(0,a.default)(o.default.mark((function e(t){var n,i;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ct("setAudioMediaProcessorConnector","Attempt",{message:t?"setting the connector":"clearing the connector"}),null==Y||Y.clearAudioMediaProcessorConnector(we),t){e.next=6;break}return null==Y||Y.resetAudioStreamAndTrack(),Ct("setAudioMediaProcessorConnector","Success",{message:"clearing the connector"}),e.abrupt("return");case 6:if(le.default.isValidConnector(t)){e.next=11;break}throw n="Tried to set invalid MediaProcessorConnector",Je.error("setAudioMediaProcessorConnector: ".concat(n)),Ct("setAudioMediaProcessorConnector","Failure",{message:n}),Ye(N.default.INVALID_PARAMETER,new Error("setAudioVideoMediaProcessorConnector: ".concat(n)));case 11:if(Y.initializeConnector(t),!(i=G.isTransitioning())&&he){e.next=16;break}return Ct("setAudioMediaProcessorConnector","Pending",{isTransitioning:i,subscribingToAudio:he}),e.abrupt("return");case 16:Y.resetAudioStreamAndTrack(),En();case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();const En=function(){var e=(0,a.default)(o.default.mark((function e(){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,null==Y?void 0:Y.setAudioMediaProcessorConnector(we);case 3:e.next=10;break;case 5:throw e.prev=5,e.t0=e.catch(0),Je.error("setAudioMediaProcessorConnector: ".concat(e.t0.message)),Ct("setAudioMediaProcessorConnector","Failure",{message:e.t0.message}),e.t0;case 10:Ct("setAudioMediaProcessorConnector","Success");case 11:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}();return this};return Qt.hasAudioOutputLevelStatCapability=ke,Qt.WidgetView=Et,Qt.SubscriberPeerConnection=et,Qt};var o=r(i(4)),a=r(i(5)),s=i(110),c=r(i(16)),l=r(i(14)),d=r(i(9)),u=r(i(131)),h=r(i(59)),A=r(i(264)),p=r(i(51)),g=r(i(288)),f=r(i(6)),m=r(i(1)),E=r(i(57)),C=r(i(3)),I=r(i(317)),Q=r(i(277)),U=r(i(685)),y=r(i(686)),b=r(i(10)),v=r(i(22)),R=r(i(687)),S=r(i(30)),F=r(i(319)),B=r(i(13)),T=r(i(688)),N=r(i(8)),_=r(i(50)),w=r(i(109)),k=r(i(689)),D=r(i(169)),V=r(i(690)),Z=r(i(294)),W=r(i(149)),O=r(i(295)),J=r(i(150)),x=r(i(23)),M=r(i(76)),L=r(i(691)),P=r(i(320)),G=r(i(692)),Y=r(i(164)),j=r(i(296)),X=r(i(297)),K=r(i(7)),H=r(i(155)),z=r(i(148)),q=r(i(73)),$=r(i(310)),ee=r(i(321)),te=r(i(298)),ne=r(i(695)),ie=r(i(696)),re=r(i(697)),oe=r(i(322)),ae=i(107),se=r(i(171)),ce=r(i(698)),le=r(i(172)),de=i(315),ue=r(i(323));const he=(0,D.default)(),Ae=(0,x.default)(),pe=N.default,ge=(0,Y.default)(),fe=(0,j.default)(),me=(0,z.default)(void 0!==typeof window?window:n.g),Ee=(0,q.default)({global:me}),Ce=(0,$.default)({PeerConnection:Ee}),Ie=(0,m.default)("Subscriber"),Qe=(0,B.default)(),Ue=100,ye=(e,t)=>e.connection.id===t.connection.id,be=e=>["/v2/partner",e.apiKey,"session",e.sessionId,"stream",e.streamId,"subscriber",e.subscriberId].join("/"),ve=(0,R.default)()}).call(this,i(2))},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(684)),o=()=>({state:r.default.MANTIS,pendingTransitions:[],isTransitioning(){return this.state===r.default.TRANSITIONING},startTransitionToRelayed(){this.state=r.default.TRANSITIONING},completeTransitionTo(e){e===r.default.P2P&&this._transitionTo(e)},startTransitionToRouted(e){this.state===r.default.TRANSITIONING?this.pendingTransitions.push({to:r.default.MANTIS,process:e}):this._transitionTo(r.default.MANTIS,e)},_transitionTo(e,t){t&&(this.state=r.default.TRANSITIONING,t()),this.state=e,this._onTransitionCompleted()},_onTransitionCompleted(){if(this.pendingTransitions.length){const e=this.pendingTransitions.shift(),t=e.to,n=e.process;this._transitionTo(t,n)}}});t.default=o},function(e,t,n){var i;i=function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=5)}([function(e,t,n){"use strict";e.exports=function(e,t){var n,i,r;for(n=1;n<arguments.length;n++)for(r in i=arguments[n])i.hasOwnProperty(r)&&(e[r]=i[r]);return e}},function(e,t,n){"use strict";var i=n(0);e.exports={build:function(e,t){var n,r,o,a=t.plugins;for(n=0,r=a.length;n<r;n++)(o=a[n]).methods&&i(e,o.methods),o.properties&&Object.defineProperties(e,o.properties)},hook:function(e,t,n){var i,r,o,a,s=e.config.plugins,c=[e.context];for(n&&(c=c.concat(n)),i=0,r=s.length;i<r;i++)a=s[i],(o=s[i][t])&&o.apply(a,c)}}},function(e,t,n){"use strict";function i(e){if(0===e.length)return e;var t,n,i=e.split(/[_-]/);if(1===i.length&&i[0][0].toLowerCase()===i[0][0])return e;for(n=i[0].toLowerCase(),t=1;t<i.length;t++)n=n+i[t].charAt(0).toUpperCase()+i[t].substring(1).toLowerCase();return n}i.prepended=function(e,t){return e+(t=i(t))[0].toUpperCase()+t.substring(1)},e.exports=i},function(e,t,n){"use strict";var i=n(0),r=n(2);function o(e,t){e=e||{},this.options=e,this.defaults=t.defaults,this.states=[],this.transitions=[],this.map={},this.lifecycle=this.configureLifecycle(),this.init=this.configureInitTransition(e.init),this.data=this.configureData(e.data),this.methods=this.configureMethods(e.methods),this.map[this.defaults.wildcard]={},this.configureTransitions(e.transitions||[]),this.plugins=this.configurePlugins(e.plugins,t.plugin)}i(o.prototype,{addState:function(e){this.map[e]||(this.states.push(e),this.addStateLifecycleNames(e),this.map[e]={})},addStateLifecycleNames:function(e){this.lifecycle.onEnter[e]=r.prepended("onEnter",e),this.lifecycle.onLeave[e]=r.prepended("onLeave",e),this.lifecycle.on[e]=r.prepended("on",e)},addTransition:function(e){this.transitions.indexOf(e)<0&&(this.transitions.push(e),this.addTransitionLifecycleNames(e))},addTransitionLifecycleNames:function(e){this.lifecycle.onBefore[e]=r.prepended("onBefore",e),this.lifecycle.onAfter[e]=r.prepended("onAfter",e),this.lifecycle.on[e]=r.prepended("on",e)},mapTransition:function(e){var t=e.name,n=e.from,i=e.to;return this.addState(n),"function"!==typeof i&&this.addState(i),this.addTransition(t),this.map[n][t]=e,e},configureLifecycle:function(){return{onBefore:{transition:"onBeforeTransition"},onAfter:{transition:"onAfterTransition"},onEnter:{state:"onEnterState"},onLeave:{state:"onLeaveState"},on:{transition:"onTransition"}}},configureInitTransition:function(e){return"string"===typeof e?this.mapTransition(i({},this.defaults.init,{to:e,active:!0})):"object"===typeof e?this.mapTransition(i({},this.defaults.init,e,{active:!0})):(this.addState(this.defaults.init.from),this.defaults.init)},configureData:function(e){return"function"===typeof e?e:"object"===typeof e?function(){return e}:function(){return{}}},configureMethods:function(e){return e||{}},configurePlugins:function(e,t){var n,i,r;for(n=0,i=(e=e||[]).length;n<i;n++)"function"===typeof(r=e[n])&&(e[n]=r=r()),r.configure&&r.configure(this);return e},configureTransitions:function(e){var t,n,i,r,o,a=this.defaults.wildcard;for(n=0;n<e.length;n++)for(i=e[n],r=Array.isArray(i.from)?i.from:[i.from||a],o=i.to||a,t=0;t<r.length;t++)this.mapTransition({name:i.name,from:r[t],to:o})},transitionFor:function(e,t){var n=this.defaults.wildcard;return this.map[e][t]||this.map[n][t]},transitionsFor:function(e){var t=this.defaults.wildcard;return Object.keys(this.map[e]).concat(Object.keys(this.map[t]))},allStates:function(){return this.states},allTransitions:function(){return this.transitions}}),e.exports=o},function(e,t,n){var i=n(0),r=n(6),o=n(1),a=[null,[]];function s(e,t){this.context=e,this.config=t,this.state=t.init.from,this.observers=[e]}i(s.prototype,{init:function(e){if(i(this.context,this.config.data.apply(this.context,e)),o.hook(this,"init"),this.config.init.active)return this.fire(this.config.init.name,[])},is:function(e){return Array.isArray(e)?e.indexOf(this.state)>=0:this.state===e},isPending:function(){return this.pending},can:function(e){return!this.isPending()&&!!this.seek(e)},cannot:function(e){return!this.can(e)},allStates:function(){return this.config.allStates()},allTransitions:function(){return this.config.allTransitions()},transitions:function(){return this.config.transitionsFor(this.state)},seek:function(e,t){var n=this.config.defaults.wildcard,i=this.config.transitionFor(this.state,e),r=i&&i.to;return"function"===typeof r?r.apply(this.context,t):r===n?this.state:r},fire:function(e,t){return this.transit(e,this.state,this.seek(e,t),t)},transit:function(e,t,n,i){var r=this.config.lifecycle,o=this.config.options.observeUnchangedState||t!==n;return n?this.isPending()?this.context.onPendingTransition(e,t,n):(this.config.addState(n),this.beginTransit(),i.unshift({transition:e,from:t,to:n,fsm:this.context}),this.observeEvents([this.observersForEvent(r.onBefore.transition),this.observersForEvent(r.onBefore[e]),o?this.observersForEvent(r.onLeave.state):a,o?this.observersForEvent(r.onLeave[t]):a,this.observersForEvent(r.on.transition),o?["doTransit",[this]]:a,o?this.observersForEvent(r.onEnter.state):a,o?this.observersForEvent(r.onEnter[n]):a,o?this.observersForEvent(r.on[n]):a,this.observersForEvent(r.onAfter.transition),this.observersForEvent(r.onAfter[e]),this.observersForEvent(r.on[e])],i)):this.context.onInvalidTransition(e,t,n)},beginTransit:function(){this.pending=!0},endTransit:function(e){return this.pending=!1,e},failTransit:function(e){throw this.pending=!1,e},doTransit:function(e){this.state=e.to},observe:function(e){if(2===e.length){var t={};t[e[0]]=e[1],this.observers.push(t)}else this.observers.push(e[0])},observersForEvent:function(e){for(var t,n=0,i=this.observers.length,r=[];n<i;n++)(t=this.observers[n])[e]&&r.push(t);return[e,r,!0]},observeEvents:function(e,t,n,i){if(0===e.length)return this.endTransit(void 0===i||i);var r=e[0][0],a=e[0][1],s=e[0][2];if(t[0].event=r,r&&s&&r!==n&&o.hook(this,"lifecycle",t),0===a.length)return e.shift(),this.observeEvents(e,t,r,i);var c=a.shift(),l=c[r].apply(c,t);return l&&"function"===typeof l.then?l.then(this.observeEvents.bind(this,e,t,r)).catch(this.failTransit.bind(this)):!1===l?this.endTransit(!1):this.observeEvents(e,t,r,l)},onInvalidTransition:function(e,t,n){throw new r("transition is invalid in current state",e,t,n,this.state)},onPendingTransition:function(e,t,n){throw new r("transition is invalid while previous transition is still in progress",e,t,n,this.state)}}),e.exports=s},function(e,t,n){"use strict";var i=n(0),r=n(2),o=n(1),a=n(3),s=n(4),c={is:function(e){return this._fsm.is(e)},can:function(e){return this._fsm.can(e)},cannot:function(e){return this._fsm.cannot(e)},observe:function(){return this._fsm.observe(arguments)},transitions:function(){return this._fsm.transitions()},allTransitions:function(){return this._fsm.allTransitions()},allStates:function(){return this._fsm.allStates()},onInvalidTransition:function(e,t,n){return this._fsm.onInvalidTransition(e,t,n)},onPendingTransition:function(e,t,n){return this._fsm.onPendingTransition(e,t,n)}},l={state:{configurable:!1,enumerable:!0,get:function(){return this._fsm.state},set:function(e){throw Error("use transitions to change state")}}};function d(e){return u(this||{},e)}function u(e,t){return h(e,new a(t,d)),e._fsm(),e}function h(e,t){if("object"!==typeof e||Array.isArray(e))throw Error("StateMachine can only be applied to objects");o.build(e,t),Object.defineProperties(e,l),i(e,c),i(e,t.methods),t.allTransitions().forEach((function(t){e[r(t)]=function(){return this._fsm.fire(t,[].slice.call(arguments))}})),e._fsm=function(){this._fsm=new s(this,t),this._fsm.init(arguments)}}d.version="3.0.1",d.factory=function(){var e,t;"function"===typeof arguments[0]?(e=arguments[0],t=arguments[1]||{}):(e=function(){this._fsm.apply(this,arguments)},t=arguments[0]||{});var n=new a(t,d);return h(e.prototype,n),e.prototype._fsm.config=n,e},d.apply=u,d.defaults={wildcard:"*",init:{name:"init",from:"none"}},e.exports=d},function(e,t,n){"use strict";e.exports=function(e,t,n,i,r){this.message=e,this.transition=t,this.from=n,this.to=i,this.current=r}}])},e.exports=i()},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=(0,i(n(108)).default)();t.default=r},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(3));t.default=()=>["Firefox","Safari","Edge","Chrome","Opera"].indexOf(r.default.name)>-1},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;const r=(0,i(n(162)).default)()("NotSubscribing",["NotSubscribing","Init","Connecting","BindingRemoteStream","Subscribing","Failed","Destroyed"],{NotSubscribing:["NotSubscribing","Init","Destroyed"],Init:["NotSubscribing","Connecting","BindingRemoteStream","Destroyed"],Connecting:["NotSubscribing","BindingRemoteStream","Failed","Destroyed"],BindingRemoteStream:["NotSubscribing","Subscribing","Failed","Destroyed","BindingRemoteStream"],Subscribing:["NotSubscribing","Failed","Destroyed","BindingRemoteStream"],Failed:["Destroyed"],Destroyed:[]});r.prototype.isDestroyed=function(){return"Destroyed"===this.current},r.prototype.isFailed=function(){return"Failed"===this.current},r.prototype.isSubscribing=function(){return"Subscribing"===this.current},r.prototype.isAttemptingToSubscribe=function(){return-1!==["Init","Connecting","BindingRemoteStream"].indexOf(this.current)},r.prototype.isStreamAdded=function(){return"BindingRemoteStream"===this.current||this.isSubscribing()};var o=r;t.default=o},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0,t.default=e=>{let t=e.socket,n=e.uri,i=e.content;return(e,r)=>t.send({uri:n,method:e,content:Object.assign({},i,r)})}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0,t.default=(e,t,n)=>{t!==n&&(e.removeTrack(t),e.addTrack(n))}},function(e,t){e.exports=function(e){if(null==e)throw new TypeError("Cannot destructure undefined")}},function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},n.apply(this,arguments)}e.exports=n},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0,t.default=e=>{var t;const n=Object.assign({},e);return(null==e||null==(t=e.backgroundImgUrl)?void 0:t.includes("base64"))&&delete n.backgroundImgUrl,n}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var i=n(719),r=n(328),o={isSupported:()=>"undefined"!==typeof MediaStreamTrackProcessor&&"undefined"!==typeof MediaStreamTrackGenerator,setMetadata:i.setVonageMetadata,createProcessor:r.createVonageMediaProcessor};t.default=o},function(e,t,i){"use strict";i.r(t),function(e,r){i.d(t,"BackgroundTransformer",(function(){return bs})),i.d(t,"BackgroundTransformerType",(function(){return ue})),i.d(t,"BlurRadius",(function(){return de})),i.d(t,"ErrorFunction",(function(){return ie})),i.d(t,"MediapipeHelper",(function(){return Te})),i.d(t,"PipelineInfoData",(function(){return re})),i.d(t,"RenderingType",(function(){return Ae})),i.d(t,"VonageMediaProcessor",(function(){return ws})),i.d(t,"WarningType",(function(){return ne})),i.d(t,"WebglSelfieSegmentationType",(function(){return he})),i.d(t,"createVonageMediaProcessor",(function(){return xs})),i.d(t,"getSupportedBrowserFeatures",(function(){return Ie})),i.d(t,"getVonageFaceDetection",(function(){return Zs})),i.d(t,"getVonageFaceMash",(function(){return Ws})),i.d(t,"getVonageHands",(function(){return Ds})),i.d(t,"getVonageHolistic",(function(){return Vs})),i.d(t,"getVonageObjectron",(function(){return Os})),i.d(t,"getVonagePose",(function(){return Js})),i.d(t,"getVonageSelfieSegmentation",(function(){return ks})),i.d(t,"isSupported",(function(){return Ce}));var o=Object.defineProperty,a=(e,t,n)=>(((e,t,n)=>{t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n),s=Object.defineProperty,c=(e,t,n)=>(((e,t,n)=>{t in e?s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class l{}c(l,"updates",{transformer_new:"New transformer",transformer_null:"Null transformer"}),c(l,"errors",{transformer_none:"No transformers provided",transformer_start:"Cannot start transformer",transformer_transform:"Cannot transform frame",transformer_flush:"Cannot flush transformer",readable_null:"Readable is null",writable_null:"Writable is null"});const d=new WeakMap,u=new WeakMap,h=new WeakMap,A=Symbol("anyProducer"),p=e.resolve(),g=Symbol("listenerAdded"),f=Symbol("listenerRemoved");let m=!1;function E(e){if("string"!=typeof e&&"symbol"!=typeof e)throw new TypeError("eventName must be a string or a symbol")}function C(e){if("function"!=typeof e)throw new TypeError("listener must be a function")}function I(e,t){const n=u.get(e);return n.has(t)||n.set(t,new Set),n.get(t)}function Q(e,t){const n="string"==typeof t||"symbol"==typeof t?t:A,i=h.get(e);return i.has(n)||i.set(n,new Set),i.get(n)}function U(t,n){n=Array.isArray(n)?n:[n];let i=!1,r=()=>{},o=[];const a={enqueue(e){o.push(e),r()},finish(){i=!0,r()}};for(const e of n)Q(t,e).add(a);return{async next(){return o?0===o.length?i?(o=void 0,this.next()):(await new e((e=>{r=e})),this.next()):{done:!1,value:await o.shift()}:{done:!0}},async return(e){o=void 0;for(const i of n)Q(t,i).delete(a);return r(),arguments.length>0?{done:!0,value:await e}:{done:!0}},[Symbol.asyncIterator](){return this}}}function y(e){if(void 0===e)return R;if(!Array.isArray(e))throw new TypeError("`methodNames` must be an array of strings");for(const t of e)if(!R.includes(t))throw"string"!=typeof t?new TypeError("`methodNames` element must be a string"):new Error("".concat(t," is not Emittery method"));return e}const b=e=>e===g||e===f;class v{static mixin(e,t){return t=y(t),n=>{if("function"!=typeof n)throw new TypeError("`target` must be function");for(const e of t)if(void 0!==n.prototype[e])throw new Error("The property `".concat(e,"` already exists on `target`"));Object.defineProperty(n.prototype,e,{enumerable:!1,get:function(){return Object.defineProperty(this,e,{enumerable:!1,value:new v}),this[e]}});const i=t=>function(){return this[e][t](...arguments)};for(const e of t)Object.defineProperty(n.prototype,e,{enumerable:!1,value:i(e)});return n}}static get isDebugEnabled(){if("object"!=typeof r)return m;const{env:e}=r||{env:{}};return"emittery"===e.DEBUG||"*"===e.DEBUG||m}static set isDebugEnabled(e){m=e}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};d.set(this,new Set),u.set(this,new Map),h.set(this,new Map),this.debug=e.debug||{},void 0===this.debug.enabled&&(this.debug.enabled=!1),this.debug.logger||(this.debug.logger=(e,t,n,i)=>{try{i=JSON.stringify(i)}catch{i="Object with the following keys failed to stringify: ".concat(Object.keys(i).join(","))}"symbol"==typeof n&&(n=n.toString());const r=new Date,o="".concat(r.getHours(),":").concat(r.getMinutes(),":").concat(r.getSeconds(),".").concat(r.getMilliseconds());console.log("[".concat(o,"][emittery:").concat(e,"][").concat(t,"] Event Name: ").concat(n,"\n\tdata: ").concat(i))})}logIfDebugEnabled(e,t,n){(v.isDebugEnabled||this.debug.enabled)&&this.debug.logger(e,this.debug.name,t,n)}on(e,t){C(t),e=Array.isArray(e)?e:[e];for(const n of e)E(n),I(this,n).add(t),this.logIfDebugEnabled("subscribe",n,void 0),b(n)||this.emit(g,{eventName:n,listener:t});return this.off.bind(this,e,t)}off(e,t){C(t),e=Array.isArray(e)?e:[e];for(const n of e)E(n),I(this,n).delete(t),this.logIfDebugEnabled("unsubscribe",n,void 0),b(n)||this.emit(f,{eventName:n,listener:t})}once(t){return new e((e=>{const n=this.on(t,(t=>{n(),e(t)}))}))}events(e){e=Array.isArray(e)?e:[e];for(const t of e)E(t);return U(this,e)}async emit(t,n){E(t),this.logIfDebugEnabled("emit",t,n),function(t,n,i){const r=h.get(t);if(r.has(n))for(const e of r.get(n))e.enqueue(i);if(r.has(A)){const t=e.all([n,i]);for(const e of r.get(A))e.enqueue(t)}}(this,t,n);const i=I(this,t),r=d.get(this),o=[...i],a=b(t)?[]:[...r];await p,await e.all([...o.map((async e=>{if(i.has(e))return e(n)})),...a.map((async e=>{if(r.has(e))return e(t,n)}))])}async emitSerial(e,t){E(e),this.logIfDebugEnabled("emitSerial",e,t);const n=I(this,e),i=d.get(this),r=[...n],o=[...i];await p;for(const a of r)n.has(a)&&await a(t);for(const a of o)i.has(a)&&await a(e,t)}onAny(e){return C(e),this.logIfDebugEnabled("subscribeAny",void 0,void 0),d.get(this).add(e),this.emit(g,{listener:e}),this.offAny.bind(this,e)}anyEvent(){return U(this)}offAny(e){C(e),this.logIfDebugEnabled("unsubscribeAny",void 0,void 0),this.emit(f,{listener:e}),d.get(this).delete(e)}clearListeners(e){e=Array.isArray(e)?e:[e];for(const t of e)if(this.logIfDebugEnabled("clear",t,void 0),"string"==typeof t||"symbol"==typeof t){I(this,t).clear();const e=Q(this,t);for(const t of e)t.finish();e.clear()}else{d.get(this).clear();for(const e of u.get(this).values())e.clear();for(const e of h.get(this).values()){for(const t of e)t.finish();e.clear()}}}listenerCount(e){e=Array.isArray(e)?e:[e];let t=0;for(const n of e)if("string"!=typeof n){typeof n<"u"&&E(n),t+=d.get(this).size;for(const e of u.get(this).values())t+=e.size;for(const e of h.get(this).values())t+=e.size}else t+=d.get(this).size+I(this,n).size+Q(this,n).size+Q(this).size;return t}bindMethods(e,t){if("object"!=typeof e||null===e)throw new TypeError("`target` must be an object");t=y(t);for(const n of t){if(void 0!==e[n])throw new Error("The property `".concat(n,"` already exists on `target`"));Object.defineProperty(e,n,{enumerable:!1,value:this[n].bind(this)})}}}const R=Object.getOwnPropertyNames(v.prototype).filter((e=>"constructor"!==e));Object.defineProperty(v,"listenerAdded",{value:g,writable:!1,enumerable:!0,configurable:!1}),Object.defineProperty(v,"listenerRemoved",{value:f,writable:!1,enumerable:!0,configurable:!1});var S=v;function F(e){return function(e){if(function(e){return"object"==typeof e&&null!==e&&"message"in e&&"string"==typeof e.message}(e))return e;try{return new Error(JSON.stringify(e))}catch{return new Error(String(e))}}(e).message}var B=Object.defineProperty,T=(e,t,n)=>(((e,t,n)=>{t in e?B(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);let N;const _=new Uint8Array(16);function w(){if(!N&&(N=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!N))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return N(_)}const k=[];for(let t=0;t<256;++t)k.push((t+256).toString(16).slice(1));const D={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function V(e,t,n){if(D.randomUUID&&!t&&!e)return D.randomUUID();const i=(e=e||{}).random||(e.rng||w)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=i[e];return t}return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(k[e[t+0]]+k[e[t+1]]+k[e[t+2]]+k[e[t+3]]+"-"+k[e[t+4]]+k[e[t+5]]+"-"+k[e[t+6]]+k[e[t+7]]+"-"+k[e[t+8]]+k[e[t+9]]+"-"+k[e[t+10]]+k[e[t+11]]+k[e[t+12]]+k[e[t+13]]+k[e[t+14]]+k[e[t+15]]).toLowerCase()}(i)}function Z(e,t){globalThis.vonage||(globalThis.vonage={}),globalThis.vonage.workerizer||(globalThis.vonage.workerizer={});let n=globalThis.vonage.workerizer;return n[e]||(n[e]=t),n[e]}const W=Z("globals",{});var O=(e=>(e.INIT="INIT",e.FORWARD="FORWARD",e.TERMINATE="TERMINATE",e.GLOBALS_SYNC="GLOBALS_SYNC",e))(O||{});function J(e){return[ImageBitmap,ReadableStream,WritableStream].some((t=>e instanceof t))}let x=0;function M(t,n,i,r,o){const a=x++;return t.postMessage({id:a,type:n,functionName:i,args:r},r.filter((e=>J(e)))),new e((e=>{null==o||o.set(a,e)}))}function L(e,t){const{id:n,type:i}=e,r=Array.isArray(t)?t:[t];postMessage({id:n,type:i,result:t},r.filter((e=>J(e))))}const P=Z("workerized",{});function G(){return typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope}function Y(e,t){if(Array.isArray(t))t.splice(0,t.length);else if("object"==typeof t)for(const n in t)delete t[n];for(const n in e)Array.isArray(e[n])?(t[n]=[],Y(e[n],t[n])):"object"==typeof e[n]?(t[n]={},Y(e[n],t[n])):t[n]=e[n]}const j=Z("registeredWorkers",{});function X(t,n){return W[t]||(W[t]=n),[()=>W[t],async n=>{W[t]=n,await async function(){if(G())L({type:O.GLOBALS_SYNC},W);else{const t=[];for(const e in P){const{worker:n,resolvers:i}=P[e].workerContext;n&&t.push(M(n,O.GLOBALS_SYNC,"",[W],i))}await e.all(t)}}()}]}G()&&function(){const e={};onmessage=async t=>{const n=t.data;switch(n.type){case O.INIT:!function(e,t){if(!e.args)throw"Missing className while initializing worker";const[n,i]=e.args,r=j[n];if(!r)throw"unknown worker class ".concat(n);t.instance=new r(e.args.slice(1)),Y(i,W),L(e,void 0!==typeof t.instance)}(n,e);break;case O.FORWARD:!async function(e,t){const{functionName:n,args:i}=e;if(!t.instance)throw"instance not initialized";if(!n)throw"missing function name to call";if(!t.instance[n])throw"undefined function [".concat(n,"] in class ").concat(t.instance.constructor.workerId);L(e,await t.instance[n](...null!=i?i:[]))}(n,e);break;case O.TERMINATE:!async function(e,t){const{args:n}=e;if(!t.instance)throw"instance not initialized";let i;t.instance.terminate&&(i=await t.instance.terminate(...null!=n?n:[])),L(e,i)}(n,e);break;case O.GLOBALS_SYNC:!function(e){if(!e.args)throw"Missing globals while syncing";Y(e.args[0],W),L(e,{})}(n)}}}();const[K,H]=X("metadata",z);var z;function q(){return K()}class ${constructor(e){T(this,"uuid",V()),this.config=e}async send(e){var t,n,i;const{appId:r,sourceType:o}=null!=(t=q())?t:{};if(!r||!o)return"metadata missing";const a=new AbortController,s=setTimeout((()=>a.abort()),1e4);return await(null!=(i=null==(n=this.config)?void 0:n.fetch)?i:fetch)(this.getUrl(),{method:"POST",headers:this.getHeaders(),body:JSON.stringify(this.buildReport(e)),signal:a.signal}),clearTimeout(s),"success"}getUrl(){var e;let t=null!=(e=q().proxyUrl)?e:"https://";return t+=("/"===t.at(-1)?"":"/")+"hlg.tokbox.com/prod/logging/vcp_webrtc",t}getHeaders(){return{"Content-Type":"application/json"}}buildReport(e){const t=q();return{guid:this.uuid,...e,applicationId:t.appId,timestamp:Date.now(),proxyUrl:t.proxyUrl,source:t.sourceType}}}const ee="2.0.3";class te{constructor(e){c(this,"frameTransformedCount",0),c(this,"frameFromSourceCount",0),c(this,"startAt",0),c(this,"reporter"),this.config=e,this.reporter=new $(e)}async onFrameFromSource(){this.frameFromSourceCount++}get fps(){const{startAt:e,frameFromSourceCount:t}=this;return t/((Date.now()-e)/1e3)}async onFrameTransformed(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];0===this.startAt&&(this.startAt=Date.now()),this.frameTransformedCount++;const{startAt:n,frameTransformedCount:i,frameFromSourceCount:r}=this,o=Date.now(),a=(o-n)/1e3,s=i/a,c=r/a;return t||this.frameTransformedCount>=this.config.loggingIntervalFrameCount?(this.frameFromSourceCount=0,this.frameTransformedCount=0,this.startAt=o,this.reporter.config=this.config,this.reporter.send({...this.config.report,variation:"QoS",fps:c,transformedFps:s,framesTransformed:i,...e})):"success"}}var ne=(e=>(e.FPS_DROP="fps_drop",e))(ne||{}),ie=(e=>(e.start="start",e.transform="transform",e.flush="flush",e))(ie||{}),re=(e=>(e.pipeline_ended="pipeline_ended",e.pipeline_ended_with_error="pipeline_ended_with_error",e.pipeline_started="pipeline_started",e.pipeline_started_with_error="pipeline_started_with_error",e.pipeline_restarted="pipeline_restarted",e.pipeline_restarted_with_error="pipeline_restarted_with_error",e))(re||{});class oe extends S{constructor(e,t){super(),c(this,"reporter_",new $),c(this,"reporterQos_",new te({loggingIntervalFrameCount:500,report:{version:ee}})),c(this,"transformerType_"),c(this,"transformer_"),c(this,"shouldStop_"),c(this,"isFlashed_"),c(this,"mediaTransformerQosReportStartTimestamp_"),c(this,"videoHeight_"),c(this,"videoWidth_"),c(this,"trackExpectedRate_"),c(this,"index_"),c(this,"controller_"),this.index_=t,this.transformer_=e,this.shouldStop_=!1,this.isFlashed_=!1,this.mediaTransformerQosReportStartTimestamp_=0,this.videoHeight_=0,this.videoWidth_=0,this.trackExpectedRate_=-1,this.transformerType_="Custom","getTransformerType"in e&&(this.transformerType_=e.getTransformerType()),this.report({variation:"Create"})}setTrackExpectedRate(e){this.trackExpectedRate_=e}async start(e){if(this.controller_=e,this.transformer_&&"function"==typeof this.transformer_.start)try{await this.transformer_.start(e)}catch(t){this.report({message:l.errors.transformer_start,variation:"Error",error:F(t)});const e={eventMetaData:{transformerIndex:this.index_},error:t,function:"start"};this.emit("error",e)}}async transform(e,t){var n,i,r,o;if(0===this.mediaTransformerQosReportStartTimestamp_&&(this.mediaTransformerQosReportStartTimestamp_=Date.now()),e instanceof VideoFrame&&(this.videoHeight_=null!=(n=null==e?void 0:e.displayHeight)?n:0,this.videoWidth_=null!=(i=null==e?void 0:e.displayWidth)?i:0),this.reporterQos_.onFrameFromSource(),this.transformer_)if(this.shouldStop_)console.warn("[Pipeline] flush from transform"),e.close(),this.flush(t),t.terminate();else{try{await(null==(o=(r=this.transformer_).transform)?void 0:o.call(r,e,t)),this.reportQos()}catch(a){this.report({message:l.errors.transformer_transform,variation:"Error",error:F(a)});const e={eventMetaData:{transformerIndex:this.index_},error:a,function:"transform"};this.emit("error",e)}if(-1!=this.trackExpectedRate_&&.8*this.trackExpectedRate_>this.reporterQos_.fps){const e={eventMetaData:{transformerIndex:this.index_},warningType:"fps_drop",dropInfo:{requested:this.trackExpectedRate_,current:this.reporterQos_.fps}};this.emit("warn",e)}}}async flush(e){if(this.transformer_&&"function"==typeof this.transformer_.flush&&!this.isFlashed_){this.isFlashed_=!0;try{await this.transformer_.flush(e)}catch(t){this.report({message:l.errors.transformer_flush,variation:"Error",error:F(t)});const e={eventMetaData:{transformerIndex:this.index_},error:t,function:"flush"};this.emit("error",e)}}this.reportQos(!0),this.report({variation:"Delete"})}stop(){console.log("[Pipeline] Stop stream."),this.controller_&&(this.flush(this.controller_),this.controller_.terminate()),this.shouldStop_=!0}report(e){this.reporter_.send({version:ee,action:"MediaTransformer",transformerType:this.transformerType_,...e})}reportQos(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.reporterQos_.config={...this.reporterQos_.config},this.reporterQos_.onFrameTransformed({version:ee,action:"MediaTransformer",transformerType:this.transformerType_,videoWidth:this.videoWidth_,videoHeight:this.videoHeight_},e)}}class ae extends S{constructor(e){super(),c(this,"transformers_"),c(this,"trackExpectedRate_"),this.transformers_=[],this.trackExpectedRate_=-1;for(let t=0;t<e.length;t++){let n=new oe(e[t],t);n.on("error",(e=>{this.emit("error",e)})),n.on("warn",(e=>{this.emit("warn",e)})),this.transformers_.push(n)}}setTrackExpectedRate(e){this.trackExpectedRate_=e;for(let t of this.transformers_)t.setTrackExpectedRate(this.trackExpectedRate_)}async start(e,t){if(this.transformers_&&0!==this.transformers_.length){try{let n=e;for(let t of this.transformers_)e=e.pipeThrough(new TransformStream(t));e.pipeTo(t).then((async()=>{console.log("[Pipeline] Setup."),await t.abort(),await n.cancel(),this.emit("pipelineInfo","pipeline_ended")})).catch((async i=>{e.cancel().then((()=>{console.log("[Pipeline] Shutting down streams after abort.")})).catch((e=>{console.error("[Pipeline] Error from stream transform:",e)})),await t.abort(i),await n.cancel(i),this.emit("pipelineInfo","pipeline_ended_with_error")}))}catch{return this.emit("pipelineInfo","pipeline_started_with_error"),void this.destroy()}this.emit("pipelineInfo","pipeline_started"),console.log("[Pipeline] Pipeline started.")}else console.log("[Pipeline] No transformers.")}async destroy(){console.log("[Pipeline] Destroying Pipeline.");for(let e of this.transformers_)e.stop()}}class se extends S{constructor(){super(),c(this,"reporter_"),c(this,"pipeline_"),c(this,"transformers_"),c(this,"readable_"),c(this,"writable_"),c(this,"trackExpectedRate_"),this.reporter_=new $,this.trackExpectedRate_=-1,this.report({variation:"Create"})}setTrackExpectedRate(e){this.trackExpectedRate_=e,this.pipeline_&&this.pipeline_.setTrackExpectedRate(this.trackExpectedRate_)}transform(e,t){return this.readable_=e,this.writable_=t,this.transformInternal()}transformInternal(){return new e((async(e,t)=>{if(!this.transformers_||0===this.transformers_.length)return this.report({message:l.errors.transformer_none,variation:"Error"}),void t("[MediaProcessor] Need to set transformers.");if(!this.readable_)return this.report({variation:"Error",message:l.errors.readable_null}),void t("[MediaProcessor] Readable is null.");if(!this.writable_)return this.report({variation:"Error",message:l.errors.writable_null}),void t("[MediaProcessor] Writable is null.");let n=!1;this.pipeline_&&(n=!0,this.pipeline_.clearListeners(),this.pipeline_.destroy()),this.pipeline_=new ae(this.transformers_),this.pipeline_.on("warn",(e=>{this.emit("warn",e)})),this.pipeline_.on("error",(e=>{this.emit("error",e)})),this.pipeline_.on("pipelineInfo",(e=>{n&&("pipeline_started"===e?e=re.pipeline_restarted:"pipeline_started_with_error"===e&&(e=re.pipeline_restarted_with_error)),this.emit("pipelineInfo",e)})),-1!=this.trackExpectedRate_&&this.pipeline_.setTrackExpectedRate(this.trackExpectedRate_),this.pipeline_.start(this.readable_,this.writable_).then((()=>{e()})).catch((e=>{t(e)}))}))}setTransformers(t){return this.report({variation:"Update",message:l.updates.transformer_new}),this.transformers_=t,this.readable_&&this.writable_?this.transformInternal():e.resolve()}destroy(){return new e((async e=>{this.pipeline_&&this.pipeline_.destroy(),this.report({variation:"Delete"}),e()}))}report(e){this.reporter_.send({version:ee,action:"MediaProcessor",...e})}}class ce{constructor(){c(this,"processor_"),c(this,"generator_"),this.processor_=null,this.generator_=null}init(t){return new e(((e,n)=>{try{this.processor_=new MediaStreamTrackProcessor(t)}catch(i){console.log("[InsertableStreamHelper] MediaStreamTrackProcessor failed: ".concat(i)),n(i)}try{"audio"===t.kind?this.generator_=new MediaStreamTrackGenerator({kind:"audio"}):"video"===t.kind?this.generator_=new MediaStreamTrackGenerator({kind:"video"}):n("kind not supported")}catch(i){console.log("[InsertableStreamHelper] MediaStreamTrackGenerator failed: ".concat(i)),n(i)}e()}))}getReadable(){return this.processor_.readable}getWriteable(){return this.generator_.writable}getProccesorTrack(){return this.generator_}}class le{constructor(e){c(this,"insertableStreamHelper_"),c(this,"mediaProcessor_"),this.insertableStreamHelper_=new ce,this.mediaProcessor_=e}setTrack(t){return new e(((e,n)=>{this.insertableStreamHelper_.init(t).then((()=>{this.mediaProcessor_.transform(this.insertableStreamHelper_.getReadable(),this.insertableStreamHelper_.getWriteable()).then((()=>{e(this.insertableStreamHelper_.getProccesorTrack())})).catch((e=>{n(e)}))})).catch((e=>{n(e)}))}))}destroy(){return new e(((e,t)=>{this.mediaProcessor_?this.mediaProcessor_.destroy().then((()=>{e()})).catch((e=>{t(e)})):t("no processor")}))}}var de=(e=>(e.Low="Low",e.High="High",e))(de||{}),ue=(e=>(e.BackgroundBlur="BackgroundBlur",e.VirtualBackground="VirtualBackground",e.VideoBackground="VideoBackground",e.SilhouetteBlur="SilhouetteBlur",e))(ue||{}),he=(e=>(e.FAST="FAST",e.PRECISE="PRECISE",e))(he||{}),Ae=(e=>(e.CANVAS="CANVAS",e.WEBGL="WEBGL",e))(Ae||{});const pe=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11]));var ge=function(){var t=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return function(n){var i,r,o=typeof(n=n||{})<"u"?n:{};o.ready=new e((function(e,t){i=e,r=t}));var a,s={};for(a in o)o.hasOwnProperty(a)&&(s[a]=o[a]);var c,l="./this.program",d=function(e,t){throw t},u=!0,h="";typeof document<"u"&&document.currentScript&&(h=document.currentScript.src),t&&(h=t),h=0!==h.indexOf("blob:")?h.substr(0,h.replace(/[?#].*/,"").lastIndexOf("/")+1):"";var A,p=o.print||console.log.bind(console),g=o.printErr||console.warn.bind(console);for(a in s)s.hasOwnProperty(a)&&(o[a]=s[a]);s=null,o.arguments&&o.arguments,o.thisProgram&&(l=o.thisProgram),o.quit&&(d=o.quit),o.wasmBinary&&(A=o.wasmBinary);var f=o.noExitRuntime||!0;"object"!=typeof WebAssembly&&D("no native wasm support detected");var m,E,C,I,Q,U=!1,y=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function b(e,t,n){for(var i=t+n,r=t;e[r]&&!(r>=i);)++r;if(r-t>16&&e.subarray&&y)return y.decode(e.subarray(t,r));for(var o="";t<r;){var a=e[t++];if(128&a){var s=63&e[t++];if(192!=(224&a)){var c=63&e[t++];if((a=224==(240&a)?(15&a)<<12|s<<6|c:(7&a)<<18|s<<12|c<<6|63&e[t++])<65536)o+=String.fromCharCode(a);else{var l=a-65536;o+=String.fromCharCode(55296|l>>10,56320|1023&l)}}else o+=String.fromCharCode((31&a)<<6|s)}else o+=String.fromCharCode(a)}return o}function v(e,t){return e?b(I,e,t):""}function R(e,t){return e%t>0&&(e+=t-e%t),e}function S(e){E=e,o.HEAP8=C=new Int8Array(e),o.HEAP16=new Int16Array(e),o.HEAP32=Q=new Int32Array(e),o.HEAPU8=I=new Uint8Array(e),o.HEAPU16=new Uint16Array(e),o.HEAPU32=new Uint32Array(e),o.HEAPF32=new Float32Array(e),o.HEAPF64=new Float64Array(e)}o.INITIAL_MEMORY;var F,B=[],T=[],N=[],_=0,w=0,k=null;function D(e){o.onAbort&&o.onAbort(e),g(e="Aborted("+e+")"),U=!0,e+=". Build with -s ASSERTIONS=1 for more info.";var t=new WebAssembly.RuntimeError(e);throw r(t),t}o.preloadedImages={},o.preloadedAudios={};var V,Z,W,O="data:application/octet-stream;base64,";function J(e){return e.startsWith(O)}function x(e){try{if(e==V&&A)return new Uint8Array(A);if(!c)throw"both async and sync fetching of the wasm failed"}catch(t){D(t)}}function M(e){for(;e.length>0;){var t=e.shift();if("function"!=typeof t){var n=t.func;"number"==typeof n?void 0===t.arg?F.get(n)():F.get(n)(t.arg):n(void 0===t.arg?null:t.arg)}else t(o)}}function L(e){try{return m.grow(e-E.byteLength+65535>>>16),S(m.buffer),1}catch{}}J(V="tflite-simd.wasm")||(Z=V,V=o.locateFile?o.locateFile(Z,h):h+Z),W=function(){return performance.now()};var P={};function G(){if(!G.strings){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:l||"./this.program"};for(var t in P)void 0===P[t]?delete e[t]:e[t]=P[t];var n=[];for(var t in e)n.push(t+"="+e[t]);G.strings=n}return G.strings}var Y={mappings:{},buffers:[null,[],[]],printChar:function(e,t){var n=Y.buffers[e];0===t||10===t?((1===e?p:g)(b(n,0)),n.length=0):n.push(t)},varargs:void 0,get:function(){return Y.varargs+=4,Q[Y.varargs-4>>2]},getStr:function(e){return v(e)},get64:function(e,t){return e}},j={a:function(e,t,n,i){D("Assertion failed: "+v(e)+", at: "+[t?v(t):"unknown filename",n,i?v(i):"unknown function"])},e:function(e,t){D("To use dlopen, you need to use Emscripten's linking support, see https://github.com/emscripten-core/emscripten/wiki/Linking")},d:function(e,t){D("To use dlopen, you need to use Emscripten's linking support, see https://github.com/emscripten-core/emscripten/wiki/Linking")},b:function(){D("")},n:function(e,t){var n;if(0===e)n=Date.now();else{if(1!==e&&4!==e)return function(e){Q[K()>>2]=e}(28),-1;n=W()}return Q[t>>2]=n/1e3|0,Q[t+4>>2]=n%1e3*1e3*1e3|0,0},h:function(){return 2147483648},l:function(e,t,n){I.copyWithin(e,t,t+n)},m:function(e){var t=I.length,n=2147483648;if((e>>>=0)>n)return!1;for(var i=1;i<=4;i*=2){var r=t*(1+.2/i);if(r=Math.min(r,e+100663296),L(Math.min(n,R(Math.max(e,r),65536))))return!0}return!1},p:function(e){for(var t=W();W()-t<e;);},f:function(e,t){var n=0;return G().forEach((function(i,r){var o=t+n;Q[e+4*r>>2]=o,function(e,t,n){for(var i=0;i<e.length;++i)C[t++>>0]=e.charCodeAt(i);n||(C[t>>0]=0)}(i,o),n+=i.length+1})),0},g:function(e,t){var n=G();Q[e>>2]=n.length;var i=0;return n.forEach((function(e){i+=e.length+1})),Q[t>>2]=i,0},j:function(e){!function(e,t){!function(e){f||_>0||(o.onExit&&o.onExit(e),U=!0),d(e,new H(e))}(e)}(e)},i:function(e){return 0},k:function(e,t,n,i,r){},c:function(e,t,n,i){for(var r=0,o=0;o<n;o++){for(var a=Q[t+8*o>>2],s=Q[t+(8*o+4)>>2],c=0;c<s;c++)Y.printChar(e,I[a+c]);r+=s}return Q[i>>2]=r,0},o:function e(t,n){e.randomDevice||(e.randomDevice=function(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var e=new Uint8Array(1);return function(){return crypto.getRandomValues(e),e[0]}}return function(){D("randomDevice")}}());for(var i=0;i<n;i++)C[t+i>>0]=e.randomDevice();return 0}};(function(){var t={a:j};function n(e,t){var n=e.exports;o.asm=n,S((m=o.asm.q).buffer),F=o.asm.E,function(e){T.unshift(e)}(o.asm.r),function(e){if(w--,o.monitorRunDependencies&&o.monitorRunDependencies(w),0==w&&k){var t=k;k=null,t()}}()}function i(e){n(e.instance)}function a(n){return(!A&&u&&"function"==typeof fetch?fetch(V,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+V+"'";return e.arrayBuffer()})).catch((function(){return x(V)})):e.resolve().then((function(){return x(V)}))).then((function(e){return WebAssembly.instantiate(e,t)})).then((function(e){return e})).then(n,(function(e){g("failed to asynchronously prepare wasm: "+e),D(e)}))}if(w++,o.monitorRunDependencies&&o.monitorRunDependencies(w),o.instantiateWasm)try{return o.instantiateWasm(t,n)}catch(s){return g("Module.instantiateWasm callback failed with error: "+s),!1}(A||"function"!=typeof WebAssembly.instantiateStreaming||J(V)||"function"!=typeof fetch?a(i):fetch(V,{credentials:"same-origin"}).then((function(e){return WebAssembly.instantiateStreaming(e,t).then(i,(function(e){return g("wasm streaming compile failed: "+e),g("falling back to ArrayBuffer instantiation"),a(i)}))}))).catch(r)})(),o.___wasm_call_ctors=function(){return(o.___wasm_call_ctors=o.asm.r).apply(null,arguments)},o._getModelBufferMemoryOffset=function(){return(o._getModelBufferMemoryOffset=o.asm.s).apply(null,arguments)},o._getInputMemoryOffset=function(){return(o._getInputMemoryOffset=o.asm.t).apply(null,arguments)},o._getInputHeight=function(){return(o._getInputHeight=o.asm.u).apply(null,arguments)},o._getInputWidth=function(){return(o._getInputWidth=o.asm.v).apply(null,arguments)},o._getInputChannelCount=function(){return(o._getInputChannelCount=o.asm.w).apply(null,arguments)},o._getOutputMemoryOffset=function(){return(o._getOutputMemoryOffset=o.asm.x).apply(null,arguments)},o._getOutputHeight=function(){return(o._getOutputHeight=o.asm.y).apply(null,arguments)},o._getOutputWidth=function(){return(o._getOutputWidth=o.asm.z).apply(null,arguments)},o._getOutputChannelCount=function(){return(o._getOutputChannelCount=o.asm.A).apply(null,arguments)},o._loadModel=function(){return(o._loadModel=o.asm.B).apply(null,arguments)},o._runInference=function(){return(o._runInference=o.asm.C).apply(null,arguments)},o._isGPUEnabled=function(){return(o._isGPUEnabled=o.asm.D).apply(null,arguments)};var X,K=o.___errno_location=function(){return(K=o.___errno_location=o.asm.F).apply(null,arguments)};function H(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function z(e){function t(){X||(X=!0,o.calledRun=!0,!U&&(M(T),i(o),o.onRuntimeInitialized&&o.onRuntimeInitialized(),function(){if(o.postRun)for("function"==typeof o.postRun&&(o.postRun=[o.postRun]);o.postRun.length;)e=o.postRun.shift(),N.unshift(e);var e;M(N)}()))}w>0||(function(){if(o.preRun)for("function"==typeof o.preRun&&(o.preRun=[o.preRun]);o.preRun.length;)e=o.preRun.shift(),B.unshift(e);var e;M(B)}(),w>0)||(o.setStatus?(o.setStatus("Running..."),setTimeout((function(){setTimeout((function(){o.setStatus("")}),1),t()}),1)):t())}if(k=function e(){X||z(),X||(k=e)},o.run=z,o.preInit)for("function"==typeof o.preInit&&(o.preInit=[o.preInit]);o.preInit.length>0;)o.preInit.pop()();return z(),n.ready}}();class fe{constructor(){a(this,"selectedTFLite"),a(this,"isSIMDSupported",!1),a(this,"isThreadsSupported",!1),a(this,"inputWidth",0),a(this,"inputHeight",0),a(this,"inputChannelCount",0),a(this,"inputMemoryOffset",0),a(this,"outputWidth",0),a(this,"outputHeight",0),a(this,"outputChannelCount",0),a(this,"outputMemoryOffset",0)}}async function me(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"https://d3opqjmqzxf057.cloudfront.net/vonage-tensorflow-wasm/tflite-simd-wasm/1.1.3/",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"https://d3opqjmqzxf057.cloudfront.net/ml/selfie_segmentation/4.0.0/",i=new fe;return new e((function(r,o){(async function(){return ge({locateFile:function(e){return t+e}})})().then((t=>{if(null===t)throw console.error("loadTFLite null"),"loadTFLite null";(async function(t){return new e((async(e,r)=>{const o=t;if(typeof o>"u")return r("TFLite backend unavailable: wasmSimd");const a="selfie_segmentation_landscape";console.log("Loading tflite model:",a);let s=n+"".concat(a,".tflite");console.log("TFLite modelUrl: "+s);try{const e=await(await fetch(s)).arrayBuffer();console.log("Model buffer size:",e.byteLength);const t=o._getModelBufferMemoryOffset();console.log("Model buffer memory offset:",t),console.log("Loading model buffer..."),o.HEAPU8.set(new Uint8Array(e),t);const n=o._loadModel(e.byteLength);if(console.log("Load model result:",n),0!==n)return void r("Cannot load model");i.inputWidth=o._getInputWidth(),i.inputHeight=o._getInputHeight(),i.inputChannelCount=o._getInputChannelCount(),i.inputMemoryOffset=o._getInputMemoryOffset(),console.log("Input memory offset:",i.inputMemoryOffset),console.log("Input height:",i.inputHeight),console.log("Input width:",i.inputWidth),console.log("Input channels:",i.inputChannelCount),i.outputMemoryOffset=o._getOutputMemoryOffset(),i.outputWidth=o._getOutputWidth(),i.outputHeight=o._getOutputHeight(),i.outputChannelCount=o._getOutputChannelCount(),console.log("Output memory offset:",i.outputMemoryOffset),console.log("Output height:",i.outputHeight),console.log("Output width:",i.outputWidth),console.log("Output channels:",i.outputChannelCount),i.selectedTFLite=o}catch(c){return void r(c)}e()}))})(t).then((e=>{r(i)})).catch((e=>{console.error("loadTFLiteModel error"),o("loadTFLiteModel error")}))})).catch((e=>{console.error("loadTFLite error:",e),o("loadTFLite error:"+e)}))}))}class Ee{constructor(){a(this,"canvas",new OffscreenCanvas(0,0)),a(this,"context",this.canvas.getContext("2d",{willReadFrequently:!0})),a(this,"pixelCount",0),a(this,"inputOffset",0),a(this,"outputOffset",0),a(this,"infos"),a(this,"mask")}async init(e,t){await this.initWasm(e,t),this.infos&&(this.canvas.width=this.infos.inputWidth,this.canvas.height=this.infos.inputHeight,this.pixelCount=this.infos.inputWidth*this.infos.inputHeight,this.mask=new ImageData(this.infos.inputWidth,this.infos.inputHeight),this.inputOffset=this.infos.inputMemoryOffset/4,this.outputOffset=this.infos.outputMemoryOffset/4)}async initWasm(e,t){this.infos=await me(e,t)}getOutputDimensions(){var e,t,n,i;return{width:null!=(t=null==(e=this.infos)?void 0:e.outputWidth)?t:0,height:null!=(i=null==(n=this.infos)?void 0:n.outputHeight)?i:0}}async process(e){if(!this.mask||!this.infos)return;const t=this.infos.inputWidth,n=this.infos.inputHeight;this.context.drawImage(e,0,0,e.width,e.height,0,0,t,n);const i=this.context.getImageData(0,0,t,n),r=this.infos.selectedTFLite.HEAPF32;for(let o=0;o<this.pixelCount;o++){const e=this.inputOffset+3*o;r[e]=i.data[4*o]/255,r[e+1]=i.data[4*o+1]/255,r[e+2]=i.data[4*o+2]/255}this.infos.selectedTFLite._runInference();for(let o=0;o<this.pixelCount;o++){const e=this.infos.selectedTFLite.HEAPF32[this.outputOffset+o];this.mask.data[4*o]=this.mask.data[4*o+3]=255*e}return createImageBitmap(this.mask)}isGpuSupported(){var e,t,n;return null!=(n=null==(t=null==(e=this.infos)?void 0:e.selectedTFLite)?void 0:t._isGPUEnabled())&&n}}async function Ce(e,t){const{wasm:n,insertableStreams:i,simd:r,webgl:o}=await Ie(e,t);if(!n.supported)throw n.message;if(!i.supported)throw i.message;if(!r.supported)throw r.message;if(!o.supported)throw o.message}async function Ie(t,n){const i=new Ee;await i.initWasm(t,n);const r={wasm:{supported:"object"==typeof WebAssembly&&"function"==typeof WebAssembly.instantiate,message:"Your browser does not support WebAssembly features."},simd:{supported:await pe(),message:"Your browser does not support simd features."},insertableStreams:{supported:!0},gpu:{supported:i.isGpuSupported(),message:"Your browser does not support gpu features."},webgl:OffscreenCanvas?new OffscreenCanvas(0,0).getContext("webgl2")?{supported:!0}:{supported:!1,message:"Your browser does not support webgl 2"}:{supported:!1,message:"Your browser does not support offscreen canvas"},performance:Qe()};try{await new e(((e,t)=>{typeof MediaStreamTrackProcessor>"u"||typeof MediaStreamTrackGenerator>"u"?t("Your browser does not support the MediaStreamTrack API for Insertable Streams of Media."):e()}))}catch(o){r.insertableStreams.supported=!1,r.insertableStreams.message=o}return r}function Qe(){return new OffscreenCanvas(0,0).getContext("webgl2",{failIfMajorPerformanceCaveat:!0})?{supported:!0}:{supported:!1,message:"Your hardware does not perform good enough to run the library efficiently"}}const Ue={};(function(){var t;function i(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}var r="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e},o=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof(void 0!==typeof window?window:n.g)&&(void 0!==typeof window?window:n.g)];for(var t=0;t<e.length;++t){var i=e[t];if(i&&i.Math==Math)return i}throw Error("Cannot find global object")}(this);function a(e,t){if(t)e:{var n=o;e=e.split(".");for(var i=0;i<e.length-1;i++){var a=e[i];if(!(a in n))break e;n=n[a]}(t=t(i=n[e=e[e.length-1]]))!=i&&null!=t&&r(n,e,{configurable:!0,writable:!0,value:t})}}function s(e){return(e={next:e})[Symbol.iterator]=function(){return this},e}function c(e){var t=typeof Symbol<"u"&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:i(e)}}function l(e){if(!(e instanceof Array)){e=c(e);for(var t,n=[];!(t=e.next()).done;)n.push(t.value);e=n}return e}a("Symbol",(function(e){function t(e,t){this.g=e,r(this,"description",{configurable:!0,writable:!0,value:t})}if(e)return e;t.prototype.toString=function(){return this.g};var n="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",i=0;return function e(r){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new t(n+(r||"")+"_"+i++,r)}})),a("Symbol.iterator",(function(e){if(e)return e;e=Symbol("Symbol.iterator");for(var t="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),n=0;n<t.length;n++){var a=o[t[n]];"function"==typeof a&&"function"!=typeof a.prototype[e]&&r(a.prototype,e,{configurable:!0,writable:!0,value:function(){return s(i(this))}})}return e}));var d,u="function"==typeof Object.create?Object.create:function(e){function t(){}return t.prototype=e,new t};if("function"==typeof Object.setPrototypeOf)d=Object.setPrototypeOf;else{var h;e:{var A={};try{A.__proto__={a:!0},h=A.a;break e}catch{}h=!1}d=h?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+" is not extensible");return e}:null}var p=d;function g(e,t){if(e.prototype=u(t.prototype),e.prototype.constructor=e,p)p(e,t);else for(var n in t)if("prototype"!=n)if(Object.defineProperties){var i=Object.getOwnPropertyDescriptor(t,n);i&&Object.defineProperty(e,n,i)}else e[n]=t[n];e.ea=t.prototype}function f(){this.l=!1,this.i=null,this.h=void 0,this.g=1,this.s=this.m=0,this.j=null}function m(e){if(e.l)throw new TypeError("Generator is already running");e.l=!0}function E(e,t){e.j={U:t,V:!0},e.g=e.m||e.s}function C(e,t,n){return e.g=n,{value:t}}function I(e){this.g=new f,this.h=e}function Q(e,t,n,i){try{var r=t.call(e.g.i,n);if(!(r instanceof Object))throw new TypeError("Iterator result "+r+" is not an object");if(!r.done)return e.g.l=!1,r;var o=r.value}catch(a){return e.g.i=null,E(e.g,a),U(e)}return e.g.i=null,i.call(e.g,o),U(e)}function U(e){for(;e.g.g;)try{var t=e.h(e.g);if(t)return e.g.l=!1,{value:t.value,done:!1}}catch(n){e.g.h=void 0,E(e.g,n)}if(e.g.l=!1,e.g.j){if(t=e.g.j,e.g.j=null,t.V)throw t.U;return{value:t.return,done:!0}}return{value:void 0,done:!0}}function y(e){this.next=function(t){return m(e.g),e.g.i?t=Q(e,e.g.i.next,t,e.g.o):(e.g.o(t),t=U(e)),t},this.throw=function(t){return m(e.g),e.g.i?t=Q(e,e.g.i.throw,t,e.g.o):(E(e.g,t),t=U(e)),t},this.return=function(t){return function(e,t){m(e.g);var n=e.g.i;return n?Q(e,"return"in n?n.return:function(e){return{value:e,done:!0}},t,e.g.return):(e.g.return(t),U(e))}(e,t)},this[Symbol.iterator]=function(){return this}}function b(e,t){return t=new y(new I(t)),p&&e.prototype&&p(t,e.prototype),t}f.prototype.o=function(e){this.h=e},f.prototype.return=function(e){this.j={return:e},this.g=this.s};var v="function"==typeof Object.assign?Object.assign:function(e,t){for(var n=1;n<arguments.length;n++){var i=arguments[n];if(i)for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e};a("Object.assign",(function(e){return e||v})),a("Promise",(function(e){function t(e){this.h=0,this.i=void 0,this.g=[],this.o=!1;var t=this.j();try{e(t.resolve,t.reject)}catch(n){t.reject(n)}}function n(){this.g=null}function i(e){return e instanceof t?e:new t((function(t){t(e)}))}if(e)return e;n.prototype.h=function(e){if(null==this.g){this.g=[];var t=this;this.i((function(){t.l()}))}this.g.push(e)};var r=o.setTimeout;n.prototype.i=function(e){r(e,0)},n.prototype.l=function(){for(;this.g&&this.g.length;){var e=this.g;this.g=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(i){this.j(i)}}}this.g=null},n.prototype.j=function(e){this.i((function(){throw e}))},t.prototype.j=function(){function e(e){return function(i){n||(n=!0,e.call(t,i))}}var t=this,n=!1;return{resolve:e(this.C),reject:e(this.l)}},t.prototype.C=function(e){if(e===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.F(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.u(e):this.m(e)}},t.prototype.u=function(e){var t=void 0;try{t=e.then}catch(n){return void this.l(n)}"function"==typeof t?this.G(t,e):this.m(e)},t.prototype.l=function(e){this.s(2,e)},t.prototype.m=function(e){this.s(1,e)},t.prototype.s=function(e,t){if(0!=this.h)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.h);this.h=e,this.i=t,2===this.h&&this.D(),this.A()},t.prototype.D=function(){var e=this;r((function(){if(e.B()){var t=o.console;typeof t<"u"&&t.error(e.i)}}),1)},t.prototype.B=function(){if(this.o)return!1;var e=o.CustomEvent,t=o.Event,n=o.dispatchEvent;return typeof n>"u"||("function"==typeof e?e=new e("unhandledrejection",{cancelable:!0}):"function"==typeof t?e=new t("unhandledrejection",{cancelable:!0}):(e=o.document.createEvent("CustomEvent")).initCustomEvent("unhandledrejection",!1,!0,e),e.promise=this,e.reason=this.i,n(e))},t.prototype.A=function(){if(null!=this.g){for(var e=0;e<this.g.length;++e)a.h(this.g[e]);this.g=null}};var a=new n;return t.prototype.F=function(e){var t=this.j();e.J(t.resolve,t.reject)},t.prototype.G=function(e,t){var n=this.j();try{e.call(t,n.resolve,n.reject)}catch(i){n.reject(i)}},t.prototype.then=function(e,n){function i(e,t){return"function"==typeof e?function(t){try{r(e(t))}catch(n){o(n)}}:t}var r,o,a=new t((function(e,t){r=e,o=t}));return this.J(i(e,r),i(n,o)),a},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.J=function(e,t){function n(){switch(i.h){case 1:e(i.i);break;case 2:t(i.i);break;default:throw Error("Unexpected state: "+i.h)}}var i=this;null==this.g?a.h(n):this.g.push(n),this.o=!0},t.resolve=i,t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var r=c(e),o=r.next();!o.done;o=r.next())i(o.value).J(t,n)}))},t.all=function(e){var n=c(e),r=n.next();return r.done?i([]):new t((function(e,t){function o(t){return function(n){a[t]=n,0==--s&&e(a)}}var a=[],s=0;do{a.push(void 0),s++,i(r.value).J(o(a.length-1),t),r=n.next()}while(!r.done)}))},t})),a("Object.is",(function(e){return e||function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}})),a("Array.prototype.includes",(function(e){return e||function(e,t){var n=this;n instanceof String&&(n=String(n));var i=n.length;for(0>(t=t||0)&&(t=Math.max(t+i,0));t<i;t++){var r=n[t];if(r===e||Object.is(r,e))return!0}return!1}})),a("String.prototype.includes",(function(e){return e||function(e,t){if(null==this)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(e instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return-1!==this.indexOf(e,t||0)}})),a("Array.prototype.keys",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,i=!1,r={next:function(){if(!i&&n<e.length){var r=n++;return{value:t(r,e[r]),done:!1}}return i=!0,{done:!0,value:void 0}}};return r[Symbol.iterator]=function(){return r},r}(this,(function(e){return e}))}}));var R=this||self;function S(e,t){e=e.split(".");var n,i=R;e[0]in i||typeof i.execScript>"u"||i.execScript("var "+e[0]);for(;e.length&&(n=e.shift());)e.length||void 0===t?i=i[n]&&i[n]!==Object.prototype[n]?i[n]:i[n]={}:i[n]=t}function F(e,t){return t=String.fromCharCode.apply(null,t),null==e?t:e+t}var B,T,N=typeof TextDecoder<"u",_=typeof TextEncoder<"u";function w(e){if(_)e=(T||(T=new TextEncoder)).encode(e);else{var t=void 0;t=void 0!==t&&t;for(var n=0,i=new Uint8Array(3*e.length),r=0;r<e.length;r++){var o=e.charCodeAt(r);if(128>o)i[n++]=o;else{if(2048>o)i[n++]=o>>6|192;else{if(55296<=o&&57343>=o){if(56319>=o&&r<e.length){var a=e.charCodeAt(++r);if(56320<=a&&57343>=a){o=1024*(o-55296)+a-56320+65536,i[n++]=o>>18|240,i[n++]=o>>12&63|128,i[n++]=o>>6&63|128,i[n++]=63&o|128;continue}r--}if(t)throw Error("Found an unpaired surrogate");o=65533}i[n++]=o>>12|224,i[n++]=o>>6&63|128}i[n++]=63&o|128}}e=i.subarray(0,n)}return e}var k={},D=null;function V(e,t){void 0===t&&(t=0),W(),t=k[t];for(var n=Array(Math.floor(e.length/3)),i=t[64]||"",r=0,o=0;r<e.length-2;r+=3){var a=e[r],s=e[r+1],c=e[r+2],l=t[a>>2];a=t[(3&a)<<4|s>>4],s=t[(15&s)<<2|c>>6],c=t[63&c],n[o++]=l+a+s+c}switch(l=0,c=i,e.length-r){case 2:c=t[(15&(l=e[r+1]))<<2]||i;case 1:e=e[r],n[o]=t[e>>2]+t[(3&e)<<4|l>>4]+c+i}return n.join("")}function Z(e){var t=e.length,n=3*t/4;n%3?n=Math.floor(n):-1!="=.".indexOf(e[t-1])&&(n=-1!="=.".indexOf(e[t-2])?n-2:n-1);var i=new Uint8Array(n),r=0;return function(e,t){function n(t){for(;i<e.length;){var n=e.charAt(i++),r=D[n];if(null!=r)return r;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return t}W();for(var i=0;;){var r=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===r)break;t(r<<2|o>>4),64!=a&&(t(o<<4&240|a>>2),64!=s&&t(a<<6&192|s))}}(e,(function(e){i[r++]=e})),i.subarray(0,r)}function W(){if(!D){D={};for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),t=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++){var i=e.concat(t[n].split(""));k[n]=i;for(var r=0;r<i.length;r++){var o=i[r];void 0===D[o]&&(D[o]=r)}}}}var O,J="function"==typeof Uint8Array.prototype.slice;function x(e,t,n){return t===n?O||(O=new Uint8Array(0)):J?e.slice(t,n):new Uint8Array(e.subarray(t,n))}var M=0;function L(e,t){t=void 0!==(t=void 0===t?{}:t).v&&t.v,this.h=null,this.g=this.i=this.j=0,this.l=!1,this.v=t,e&&P(this,e)}function P(e,t){t=t.constructor===Uint8Array?t:t.constructor===ArrayBuffer||t.constructor===Array?new Uint8Array(t):t.constructor===String?Z(t):t instanceof Uint8Array?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):new Uint8Array(0),e.h=t,e.j=0,e.i=e.h.length,e.g=e.j}function G(e){var t=e.h,n=t[e.g],i=127&n;return 128>n?(e.g+=1,i):(i|=(127&(n=t[e.g+1]))<<7,128>n?(e.g+=2,i):(i|=(127&(n=t[e.g+2]))<<14,128>n?(e.g+=3,i):(i|=(127&(n=t[e.g+3]))<<21,128>n?(e.g+=4,i):(i|=(15&(n=t[e.g+4]))<<28,128>n?(e.g+=5,i>>>0):(e.g+=5,128<=t[e.g++]&&128<=t[e.g++]&&128<=t[e.g++]&&128<=t[e.g++]&&e.g++,i)))))}function Y(e){var t=e.h[e.g],n=e.h[e.g+1],i=e.h[e.g+2],r=e.h[e.g+3];return e.g+=4,e=2*((n=(t<<0|n<<8|i<<16|r<<24)>>>0)>>31)+1,t=n>>>23&255,n&=8388607,255==t?n?NaN:1/0*e:0==t?e*Math.pow(2,-149)*n:e*Math.pow(2,t-150)*(n+Math.pow(2,23))}L.prototype.reset=function(){this.g=this.j};var j=[];function X(){this.g=new Uint8Array(64),this.h=0}function K(e,t){for(;127<t;)e.push(127&t|128),t>>>=7;e.push(t)}function H(e){var t={},n=void 0!==t.N&&t.N;this.o={v:void 0!==t.v&&t.v},this.N=n,t=this.o,j.length?(n=j.pop(),t&&(n.v=t.v),e&&P(n,e),e=n):e=new L(e,t),this.g=e,this.m=this.g.g,this.h=this.i=this.l=-1,this.j=!1}function z(e){var t=e.g;if((t=t.g==t.i)||(t=e.j)||(t=(t=e.g).l||0>t.g||t.g>t.i),t)return!1;e.m=e.g.g;var n=7&(t=G(e.g));return 0!=n&&5!=n&&1!=n&&2!=n&&3!=n&&4!=n?(e.j=!0,!1):(e.i=t,e.l=t>>>3,e.h=n,!0)}function q(e){switch(e.h){case 0:if(0!=e.h)q(e);else{for(e=e.g;128&e.h[e.g];)e.g++;e.g++}break;case 1:1!=e.h?q(e):(e=e.g).g+=8;break;case 2:if(2!=e.h)q(e);else{var t=G(e.g);(e=e.g).g+=t}break;case 5:5!=e.h?q(e):(e=e.g).g+=4;break;case 3:for(t=e.l;;){if(!z(e)){e.j=!0;break}if(4==e.h){e.l!=t&&(e.j=!0);break}q(e)}break;default:e.j=!0}}function $(e,t,n){var i=e.g.i,r=G(e.g);return r=e.g.g+r,e.g.i=r,n(t,e),e.g.g=r,e.g.i=i,t}function ee(e){var t,n=G(e.g),i=(e=e.g).g;if(e.g+=n,e=e.h,N)(t=B)||(t=B=new TextDecoder("utf-8",{fatal:!1})),t=t.decode(e.subarray(i,i+n));else{n=i+n;for(var r,o,a,s=[],c=null;i<n;)128>(r=e[i++])?s.push(r):224>r?i>=n?s.push(65533):(o=e[i++],194>r||128!==(192&o)?(i--,s.push(65533)):s.push((31&r)<<6|63&o)):240>r?i>=n-1?s.push(65533):128!==(192&(o=e[i++]))||224===r&&160>o||237===r&&160<=o||128!==(192&(t=e[i++]))?(i--,s.push(65533)):s.push((15&r)<<12|(63&o)<<6|63&t):244>=r?i>=n-2?s.push(65533):128!==(192&(o=e[i++]))||o-144+(r<<28)>>30!==0||128!==(192&(t=e[i++]))||128!==(192&(a=e[i++]))?(i--,s.push(65533)):(r=(7&r)<<18|(63&o)<<12|(63&t)<<6|63&a,r-=65536,s.push(55296+(r>>10&1023),56320+(1023&r))):s.push(65533),8192<=s.length&&(c=F(c,s),s.length=0);t=F(c,s)}return t}function te(){this.h=[],this.i=0,this.g=new X}function ne(e,t){0!==t.length&&(e.h.push(t),e.i+=t.length)}function ie(e){var t=e.i+e.g.length();if(0===t)return new Uint8Array(0);t=new Uint8Array(t);for(var n=e.h,i=n.length,r=0,o=0;o<i;o++){var a=n[o];0!==a.length&&(t.set(a,r),r+=a.length)}return 0!==(i=(n=e.g).h)&&(t.set(n.g.subarray(0,i),r),n.h=0),e.h=[t],t}function re(e,t,n){if(null!=n){K(e.g,8*t+5),e=e.g;var i=n;0===(i=(n=0>i?1:0)?-i:i)?M=0<1/i?0:2147483648:isNaN(i)?M=2147483647:34028234663852886e22<i?M=(n<<31|2139095040)>>>0:11754943508222875e-54>i?(i=Math.round(i/Math.pow(2,-149)),M=(n<<31|i)>>>0):(t=Math.floor(Math.log(i)/Math.LN2),i*=Math.pow(2,-t),i=8388607&Math.round(8388608*i),M=(n<<31|t+127<<23|i)>>>0),n=M,e.push(n>>>0&255),e.push(n>>>8&255),e.push(n>>>16&255),e.push(n>>>24&255)}}X.prototype.push=function(e){if(!(this.h+1<this.g.length)){var t=this.g;this.g=new Uint8Array(Math.ceil(1+2*this.g.length)),this.g.set(t)}this.g[this.h++]=e},X.prototype.length=function(){return this.h},X.prototype.end=function(){var e=this.g,t=this.h;return this.h=0,x(e,0,t)},H.prototype.reset=function(){this.g.reset(),this.h=this.l=-1};var oe="function"==typeof Uint8Array;function ae(e,t,n){if(null!=e)return"object"==typeof e?oe&&e instanceof Uint8Array?n(e):se(e,t,n):t(e)}function se(e,t,n){if(Array.isArray(e)){for(var i=Array(e.length),r=0;r<e.length;r++)i[r]=ae(e[r],t,n);return Array.isArray(e)&&e.W&&ue(i),i}for(r in i={},e)i[r]=ae(e[r],t,n);return i}function ce(e){return"number"==typeof e?isFinite(e)?e:String(e):e}var le,de={W:{value:!0,configurable:!0}};function ue(e){return Array.isArray(e)&&!Object.isFrozen(e)&&Object.defineProperties(e,de),e}function he(e,t,n){var i=le;if(le=null,e||(e=i),i=this.constructor.ca,e||(e=i?[i]:[]),this.j=i?0:-1,this.i=null,this.g=e,e=(i=this.g.length)-1,i&&null!==(i=this.g[e])&&"object"==typeof i&&i.constructor===Object?(this.l=e-this.j,this.h=i):void 0!==t&&-1<t?(this.l=Math.max(t,e+1-this.j),this.h=null):this.l=Number.MAX_VALUE,n)for(t=0;t<n.length;t++)(e=n[t])<this.l?(e+=this.j,(i=this.g[e])?ue(i):this.g[e]=Ae):(pe(this),(i=this.h[e])?ue(i):this.h[e]=Ae)}var Ae=Object.freeze(ue([]));function pe(e){var t=e.l+e.j;e.g[t]||(e.h=e.g[t]={})}function ge(e,t,n){return-1===t?null:void 0!==n&&n||t>=e.l?e.h?e.h[t]:void 0:e.g[t+e.j]}function fe(e){var t=void 0!==t&&t,n=ge(e,1,t);return null==n&&(n=Ae),n===Ae&&Ee(e,1,n=ue([]),t),n}function me(e,t,n){return null==(e=null==(e=ge(e,t))?e:+e)?void 0===n?0:n:e}function Ee(e,t,n,i){void 0!==i&&i||t>=e.l?(pe(e),e.h[t]=n):e.g[t+e.j]=n}function Ce(e,t){e.i||(e.i={});var n=e.i[1];if(!n){var i=fe(e);n=[];for(var r=0;r<i.length;r++)n[r]=new t(i[r]);e.i[1]=n}return n}function Ie(e,t,n,i){var r=Ce(e,n);t=t||new n,e=fe(e),null!=i?(r.splice(i,0,t),e.splice(i,0,Qe(t))):(r.push(t),e.push(Qe(t)))}function Qe(e,t){if(e.i)for(var n in e.i){var i=e.i[n];if(Array.isArray(i))for(var r=0;r<i.length;r++)i[r]&&Qe(i[r]);else i&&Qe(i)}return e.g}function Ue(e,t){return null==(e=ge(e,t))?0:e}function ye(e,t){return null==(e=ge(e,t))?"":e}function be(e,t){if(e=e.m){ne(t,t.g.end());for(var n=0;n<e.length;n++)ne(t,e[n])}}function ve(e,t){if(4==t.h)return!1;var n=t.m;return q(t),t.N||(t=x(t.g.h,n,t.g.g),(n=e.m)?n.push(t):e.m=[t]),!0}function Re(t,n){var i=void 0;return new(i||(i=e))((function(e,r){function o(e){try{s(n.next(e))}catch(t){r(t)}}function a(e){try{s(n.throw(e))}catch(t){r(t)}}function s(t){t.done?e(t.value):new i((function(e){e(t.value)})).then(o,a)}s((n=n.apply(t,void 0)).next())}))}function Se(e){he.call(this,e)}function Fe(e,t){for(;z(t);)switch(t.i){case 8:var n=G(t.g);Ee(e,1,n);break;case 21:Ee(e,2,n=Y(t.g));break;case 26:Ee(e,3,n=ee(t));break;case 34:Ee(e,4,n=ee(t));break;default:if(!ve(e,t))return e}return e}function Be(e){he.call(this,e,-1,Te)}he.prototype.toJSON=function(){return se(Qe(this),ce,V)},he.prototype.toString=function(){return Qe(this).toString()},g(Se,he),g(Be,he),Be.prototype.addClassification=function(e,t){Ie(this,e,Se,t)};var Te=[1];function Ne(e){he.call(this,e)}function _e(e,t){for(;z(t);)switch(t.i){case 13:var n=Y(t.g);Ee(e,1,n);break;case 21:Ee(e,2,n=Y(t.g));break;case 29:Ee(e,3,n=Y(t.g));break;case 37:Ee(e,4,n=Y(t.g));break;case 45:Ee(e,5,n=Y(t.g));break;default:if(!ve(e,t))return e}return e}function we(e){he.call(this,e,-1,ke)}g(Ne,he),g(we,he);var ke=[1];function De(e){he.call(this,e)}function Ve(e,t,n){if(n=e.createShader(0===n?e.VERTEX_SHADER:e.FRAGMENT_SHADER),e.shaderSource(n,t),e.compileShader(n),!e.getShaderParameter(n,e.COMPILE_STATUS))throw Error("Could not compile WebGL shader.\n\n"+e.getShaderInfoLog(n));return n}function Ze(e){return Ce(e,Se).map((function(e){return{index:Ue(e,1),Y:me(e,2),label:null!=ge(e,3)?ye(e,3):void 0,displayName:null!=ge(e,4)?ye(e,4):void 0}}))}function We(e){return{x:me(e,1),y:me(e,2),z:me(e,3),visibility:null!=ge(e,4)?me(e,4):void 0}}function Oe(e,t){this.h=e,this.g=t,this.l=0}function Je(t,n,i){return function(e,t){var n=e.g;if(void 0===e.m){var i=Ve(n,"\n  attribute vec2 aVertex;\n  attribute vec2 aTex;\n  varying vec2 vTex;\n  void main(void) {\n    gl_Position = vec4(aVertex, 0.0, 1.0);\n    vTex = aTex;\n  }",0),r=Ve(n,"\n  precision mediump float;\n  varying vec2 vTex;\n  uniform sampler2D sampler0;\n  void main(){\n    gl_FragColor = texture2D(sampler0, vTex);\n  }",1),o=n.createProgram();if(n.attachShader(o,i),n.attachShader(o,r),n.linkProgram(o),!n.getProgramParameter(o,n.LINK_STATUS))throw Error("Could not compile WebGL program.\n\n"+n.getProgramInfoLog(o));i=e.m=o,n.useProgram(i),r=n.getUniformLocation(i,"sampler0"),e.j={I:n.getAttribLocation(i,"aVertex"),H:n.getAttribLocation(i,"aTex"),da:r},e.s=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,e.s),n.enableVertexAttribArray(e.j.I),n.vertexAttribPointer(e.j.I,2,n.FLOAT,!1,0,0),n.bufferData(n.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),n.STATIC_DRAW),n.bindBuffer(n.ARRAY_BUFFER,null),e.o=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,e.o),n.enableVertexAttribArray(e.j.H),n.vertexAttribPointer(e.j.H,2,n.FLOAT,!1,0,0),n.bufferData(n.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,0,1,1]),n.STATIC_DRAW),n.bindBuffer(n.ARRAY_BUFFER,null),n.uniform1i(r,0)}i=e.j,n.useProgram(e.m),n.canvas.width=t.width,n.canvas.height=t.height,n.viewport(0,0,t.width,t.height),n.activeTexture(n.TEXTURE0),e.h.bindTexture2d(t.glName),n.enableVertexAttribArray(i.I),n.bindBuffer(n.ARRAY_BUFFER,e.s),n.vertexAttribPointer(i.I,2,n.FLOAT,!1,0,0),n.enableVertexAttribArray(i.H),n.bindBuffer(n.ARRAY_BUFFER,e.o),n.vertexAttribPointer(i.H,2,n.FLOAT,!1,0,0),n.bindFramebuffer(n.DRAW_FRAMEBUFFER?n.DRAW_FRAMEBUFFER:n.FRAMEBUFFER,null),n.clearColor(0,0,0,0),n.clear(n.COLOR_BUFFER_BIT),n.colorMask(!0,!0,!0,!0),n.drawArrays(n.TRIANGLE_FAN,0,4),n.disableVertexAttribArray(i.I),n.disableVertexAttribArray(i.H),n.bindBuffer(n.ARRAY_BUFFER,null),e.h.bindTexture2d(0)}(t,n),"function"==typeof t.g.canvas.transferToImageBitmap?e.resolve(t.g.canvas.transferToImageBitmap()):i?e.resolve(t.g.canvas):"function"==typeof createImageBitmap?createImageBitmap(t.g.canvas):(void 0===t.i&&(t.i=document.createElement("canvas")),new e((function(e){t.i.height=t.g.canvas.height,t.i.width=t.g.canvas.width,t.i.getContext("2d",{}).drawImage(t.g.canvas,0,0,t.g.canvas.width,t.g.canvas.height),e(t.i)})))}function xe(e){this.g=e}g(De,he);var Me=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]);function Le(e,t){return t+e}function Pe(e,t){window[e]=t}function Ge(t){if(this.g=t,this.listeners={},this.j={},this.F={},this.m={},this.s={},this.G=this.o=this.R=!0,this.C=e.resolve(),this.P="",this.B={},this.locateFile=t&&t.locateFile||Le,"object"==typeof window)var n=window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/";else{if(!(typeof location<"u"))throw Error("solutions can only be loaded on a web page or in a web worker");n=location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/"}if(this.S=n,t.options)for(var i=(n=c(Object.keys(t.options))).next();!i.done;i=n.next()){i=i.value;var r=t.options[i].default;void 0!==r&&(this.j[i]="function"==typeof r?r():r)}}function Ye(t){return Re(t,(function t(){var n,i,r,o,a,s,c,d,u,h,A,p=this;return b(t,(function(t){switch(t.g){case 1:return n=p,p.R?(i=function(e,t){return void 0===e.g.files?[]:"function"==typeof e.g.files?e.g.files(t):e.g.files}(p,p.j),C(t,function(){return Re(this,(function e(){return b(e,(function(e){switch(e.g){case 1:return e.m=2,C(e,WebAssembly.instantiate(Me),4);case 4:e.g=3,e.m=0;break;case 2:return e.m=0,e.j=null,e.return(!1);case 3:return e.return(!0)}}))}))}(),2)):t.return();case 2:if(r=t.h,"object"==typeof window)return Pe("createMediapipeSolutionsWasm",{locateFile:p.locateFile}),Pe("createMediapipeSolutionsPackedAssets",{locateFile:p.locateFile}),s=i.filter((function(e){return void 0!==e.data})),c=i.filter((function(e){return void 0===e.data})),d=e.all(s.map((function(t){var i=je(n,t.url);if(void 0!==t.path){var r=t.path;i=i.then((function(t){return n.overrideFile(r,t),e.resolve(t)}))}return i}))),u=e.all(c.map((function(t){return void 0===t.simd||t.simd&&r||!t.simd&&!r?function(t){var n=document.createElement("script");return n.setAttribute("src",t),n.setAttribute("crossorigin","anonymous"),new e((function(e){n.addEventListener("load",(function(){e()}),!1),n.addEventListener("error",(function(){e()}),!1),document.body.appendChild(n)}))}(n.locateFile(t.url,n.S)):e.resolve()}))).then((function(){return Re(n,(function e(){var t,n,i=this;return b(e,(function(e){if(1==e.g)return t=window.createMediapipeSolutionsWasm,n=window.createMediapipeSolutionsPackedAssets,C(e,t(n),2);i.h=e.h,e.g=0}))}))})),h=Re(n,(function e(){var t=this;return b(e,(function(e){return t.g.graph&&t.g.graph.url?e=C(e,je(t,t.g.graph.url),0):(e.g=0,e=void 0),e}))})),C(t,e.all([u,d,h]),7);if("function"!=typeof importScripts)throw Error("solutions can only be loaded on a web page or in a web worker");return o=i.filter((function(e){return void 0===e.simd||e.simd&&r||!e.simd&&!r})).map((function(e){return n.locateFile(e.url,n.S)})),importScripts.apply(null,l(o)),C(t,createMediapipeSolutionsWasm(Module),6);case 6:p.h=t.h,p.l=new OffscreenCanvas(1,1),p.h.canvas=p.l,a=p.h.GL.createContext(p.l,{antialias:!1,alpha:!1,ba:typeof WebGL2RenderingContext<"u"?2:1}),p.h.GL.makeContextCurrent(a),t.g=4;break;case 7:if(p.l=document.createElement("canvas"),!(A=p.l.getContext("webgl2",{}))&&!(A=p.l.getContext("webgl",{})))return alert("Failed to create WebGL canvas context when passing video frame."),t.return();p.D=A,p.h.canvas=p.l,p.h.createContext(p.l,!0,!0,{});case 4:p.i=new p.h.SolutionWasm,p.R=!1,t.g=0}}))}))}function je(e,t){return Re(e,(function e(){var n,i,r=this;return b(e,(function(e){return t in r.F?e.return(r.F[t]):(n=r.locateFile(t,""),i=fetch(n).then((function(e){return e.arrayBuffer()})),r.F[t]=i,e.return(i))}))}))}function Xe(e,t,n){return Re(e,(function e(){var i,r,o,a,s,l,d,u,h,A,p,g,f,m,E=this;return b(e,(function(e){switch(e.g){case 1:if(!n)return e.return(t);for(i={},r=0,o=c(Object.keys(n)),a=o.next();!a.done;a=o.next())s=a.value,"string"!=typeof(l=n[s])&&"texture"===l.type&&void 0!==t[l.stream]&&++r;1<r&&(E.G=!1),d=c(Object.keys(n)),a=d.next();case 2:if(a.done){e.g=4;break}if(u=a.value,"string"==typeof(h=n[u]))return f=i,m=u,C(e,function(e,t,n){return Re(e,(function e(){var i,r=this;return b(e,(function(e){return"number"==typeof n||n instanceof Uint8Array||n instanceof r.h.Uint8BlobList?e.return(n):n instanceof r.h.Texture2dDataOut?((i=r.s[t])||(i=new Oe(r.h,r.D),r.s[t]=i),e.return(Je(i,n,r.G))):e.return(void 0)}))}))}(E,u,t[h]),14);if(A=t[h.stream],"detection_list"===h.type){if(A){for(var I=A.getRectList(),Q=A.getLandmarksList(),U=A.getClassificationsList(),y=[],v=0;v<I.size();++v){var R=I.get(v);e:{var S=new De;for(R=new H(R);z(R);)switch(R.i){case 13:var F=Y(R.g);Ee(S,1,F);break;case 21:Ee(S,2,F=Y(R.g));break;case 29:Ee(S,3,F=Y(R.g));break;case 37:Ee(S,4,F=Y(R.g));break;case 45:Ee(S,5,F=Y(R.g));break;case 48:for(var B=R.g,T=128,N=0,_=F=0;4>_&&128<=T;_++)N|=(127&(T=B.h[B.g++]))<<7*_;if(128<=T&&(N|=(127&(T=B.h[B.g++]))<<28,F|=(127&T)>>4),128<=T)for(_=0;5>_&&128<=T;_++)F|=(127&(T=B.h[B.g++]))<<7*_+3;128>T?(B=N>>>0,(F=2147483648&(T=F>>>0))&&(T=~T>>>0,0==(B=1+~B>>>0)&&(T=T+1>>>0)),B=4294967296*T+(B>>>0),F=F?-B:B):(B.l=!0,F=void 0),Ee(S,6,F);break;default:if(!ve(S,R))break e}}S={Z:me(S,1),$:me(S,2),height:me(S,3),width:me(S,4),rotation:me(S,5,0),X:Ue(S,6)},F=Q.get(v);e:for(R=new we,F=new H(F);z(F);)if(10===F.i)Ie(R,B=$(F,new Ne,_e),Ne,void 0);else if(!ve(R,F))break e;R=Ce(R,Ne).map(We),B=U.get(v);e:for(F=new Be,B=new H(B);z(B);)if(10===B.i)F.addClassification($(B,new Se,Fe));else if(!ve(F,B))break e;S={T:S,O:R,M:Ze(F)},y.push(S)}I=y}else I=[];i[u]=I,e.g=7;break}if("proto_list"===h.type){if(A){for(I=Array(A.size()),Q=0;Q<A.size();Q++)I[Q]=A.get(Q);A.delete()}else I=[];i[u]=I,e.g=7;break}if(void 0===A){e.g=3;break}if("float_list"===h.type){i[u]=A,e.g=7;break}if("proto"===h.type){i[u]=A,e.g=7;break}if("texture"!==h.type)throw Error("Unknown output config type: '"+h.type+"'");return(p=E.s[u])||(p=new Oe(E.h,E.D),E.s[u]=p),C(e,Je(p,A,E.G),13);case 13:g=e.h,i[u]=g;case 7:h.transform&&i[u]&&(i[u]=h.transform(i[u])),e.g=3;break;case 14:f[m]=e.h;case 3:a=d.next(),e.g=2;break;case 4:return e.return(i)}}))}))}function Ke(e,t){for(var n=t.name||"$",i=[].concat(l(t.wants)),r=new e.h.StringList,o=c(t.wants),a=o.next();!a.done;a=o.next())r.push_back(a.value);o=e.h.PacketListener.implement({onResults:function(r){for(var o={},a=0;a<t.wants.length;++a)o[i[a]]=r.get(a);var s=e.listeners[n];s&&(e.C=Xe(e,o,t.outs).then((function(n){n=s(n);for(var r=0;r<t.wants.length;++r){var a=o[i[r]];"object"==typeof a&&a.hasOwnProperty&&a.hasOwnProperty("delete")&&a.delete()}n&&(e.C=n)})))}}),e.i.attachMultiListener(r,o),r.delete()}function He(e){return 1===(void 0===e&&(e=0),e)?"selfie_segmentation_landscape.tflite":"selfie_segmentation.tflite"}function ze(e){var t=this;e=e||{},this.g=new Ge({locateFile:e.locateFile,files:function(e){return[{simd:!0,url:"selfie_segmentation_solution_simd_wasm_bin.js"},{simd:!1,url:"selfie_segmentation_solution_wasm_bin.js"},{data:!0,url:He(e.modelSelection)}]},graph:{url:"selfie_segmentation.binarypb"},listeners:[{wants:["segmentation_mask","image_transformed"],outs:{image:{type:"texture",stream:"image_transformed"},segmentationMask:{type:"texture",stream:"segmentation_mask"}}}],inputs:{image:{type:"video",stream:"input_frames_gpu"}},options:{useCpuInference:{type:0,graphOptionXref:{calculatorType:"InferenceCalculator",fieldName:"use_cpu_inference"},default:"iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";").includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document},selfieMode:{type:0,graphOptionXref:{calculatorType:"GlScalerCalculator",calculatorIndex:1,fieldName:"flip_horizontal"}},modelSelection:{type:1,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorModelSelection",fieldName:"int_value"},onChange:function(e){return Re(t,(function t(){var n,i,r,o=this;return b(t,(function(t){return 1==t.g?(n=He(e),i="third_party/mediapipe/modules/selfie_segmentation/"+n,C(t,je(o.g,n),2)):(r=t.h,o.g.overrideFile(i,r),t.return(!0))}))}))}}}})}(t=Ge.prototype).close=function(){return this.i&&this.i.delete(),e.resolve()},t.reset=function(){return Re(this,(function e(){var t=this;return b(e,(function(e){t.i&&(t.i.reset(),t.m={},t.s={}),e.g=0}))}))},t.setOptions=function(e,t){var n=this;if(t=t||this.g.options){for(var i=[],r=[],o={},a=c(Object.keys(e)),s=a.next();!s.done;o={K:o.K,L:o.L},s=a.next()){var l=s.value;l in this.j&&this.j[l]===e[l]||(this.j[l]=e[l],void 0!==(s=t[l])&&(s.onChange&&(o.K=s.onChange,o.L=e[l],i.push(function(e){return function(){return Re(n,(function t(){var n=this;return b(t,(function(t){if(1==t.g)return C(t,e.K(e.L),2);!0===t.h&&(n.o=!0),t.g=0}))}))}}(o))),s.graphOptionXref&&(l={valueNumber:1===s.type?e[l]:0,valueBoolean:0===s.type&&e[l],valueString:2===s.type?e[l]:""},s=Object.assign(Object.assign(Object.assign({},{calculatorName:"",calculatorIndex:0}),s.graphOptionXref),l),r.push(s))))}(0!==i.length||0!==r.length)&&(this.o=!0,this.A=(void 0===this.A?[]:this.A).concat(r),this.u=(void 0===this.u?[]:this.u).concat(i))}},t.initialize=function(){return Re(this,(function e(){var t=this;return b(e,(function(e){return 1==e.g?C(e,Ye(t),2):3!=e.g?C(e,function(e){return Re(e,(function e(){var t,n,i,r,o,a,s,l,d=this;return b(e,(function(e){if(1==e.g)return d.g.graph&&d.g.graph.url&&d.P===d.g.graph.url?e.return():(d.o=!0,d.g.graph&&d.g.graph.url?(d.P=d.g.graph.url,C(e,je(d,d.g.graph.url),3)):void(e.g=2));for(2!=e.g&&(t=e.h,d.i.loadGraph(t)),n=c(Object.keys(d.B)),i=n.next();!i.done;i=n.next())r=i.value,d.i.overrideFile(r,d.B[r]);if(d.B={},d.g.listeners)for(o=c(d.g.listeners),a=o.next();!a.done;a=o.next())s=a.value,Ke(d,s);l=d.j,d.j={},d.setOptions(l),e.g=0}))}))}(t),3):C(e,function(e){return Re(e,(function e(){var t,n,i,r,o,a,s=this;return b(e,(function(e){switch(e.g){case 1:if(!s.o)return e.return();if(!s.u){e.g=2;break}t=c(s.u),n=t.next();case 3:if(n.done){e.g=5;break}return C(e,(0,n.value)(),4);case 4:n=t.next(),e.g=3;break;case 5:s.u=void 0;case 2:if(s.A){for(i=new s.h.GraphOptionChangeRequestList,r=c(s.A),o=r.next();!o.done;o=r.next())a=o.value,i.push_back(a);s.i.changeOptions(i),i.delete(),s.A=void 0}s.o=!1,e.g=0}}))}))}(t),0)}))}))},t.overrideFile=function(e,t){this.i?this.i.overrideFile(e,t):this.B[e]=t},t.clearOverriddenFiles=function(){this.B={},this.i&&this.i.clearOverriddenFiles()},t.send=function(e,t){return Re(this,(function n(){var i,r,o,a,s,l,d,u,h,A=this;return b(n,(function(n){switch(n.g){case 1:return A.g.inputs?(i=1e3*(null==t?performance.now():t),C(n,A.C,2)):n.return();case 2:return C(n,A.initialize(),3);case 3:for(r=new A.h.PacketDataList,o=c(Object.keys(e)),a=o.next();!a.done;a=o.next())if(s=a.value,l=A.g.inputs[s]){e:{var p=A,g=e[s];switch(l.type){case"video":var f=p.m[l.stream];if(f||(f=new Oe(p.h,p.D),p.m[l.stream]=f),0===(p=f).l&&(p.l=p.h.createTexture()),typeof HTMLVideoElement<"u"&&g instanceof HTMLVideoElement){var m=g.videoWidth;f=g.videoHeight}else typeof HTMLImageElement<"u"&&g instanceof HTMLImageElement?(m=g.naturalWidth,f=g.naturalHeight):(m=g.width,f=g.height);f={glName:p.l,width:m,height:f},(m=p.g).canvas.width=f.width,m.canvas.height=f.height,m.activeTexture(m.TEXTURE0),p.h.bindTexture2d(p.l),m.texImage2D(m.TEXTURE_2D,0,m.RGBA,m.RGBA,m.UNSIGNED_BYTE,g),p.h.bindTexture2d(0),p=f;break e;case"detections":for((f=p.m[l.stream])||(f=new xe(p.h),p.m[l.stream]=f),(p=f).data||(p.data=new p.g.DetectionListData),p.data.reset(g.length),f=0;f<g.length;++f){m=g[f];var E=p.data,I=E.setBoundingBox,Q=f,U=m.T,y=new De;Ee(y,1,U.Z),Ee(y,2,U.$),Ee(y,3,U.height),Ee(y,4,U.width),Ee(y,5,U.rotation),Ee(y,6,U.X);var b=U=new te;re(b,1,ge(y,1)),re(b,2,ge(y,2)),re(b,3,ge(y,3)),re(b,4,ge(y,4)),re(b,5,ge(y,5));var v=ge(y,6);if(null!=v&&null!=v){K(b.g,48);var R=b.g,S=v;v=0>S;var F=(S=Math.abs(S))>>>0;for(S=Math.floor((S-F)/4294967296),S>>>=0,v&&(S=~S>>>0,4294967295<(F=1+(~F>>>0))&&(F=0,4294967295<++S&&(S=0))),v=M=F,F=S;0<F||127<v;)R.push(127&v|128),v=(v>>>7|F<<25)>>>0,F>>>=7;R.push(v)}if(be(y,b),U=ie(U),I.call(E,Q,U),m.O)for(E=0;E<m.O.length;++E)b=!!(y=m.O[E]).visibility,Q=(I=p.data).addNormalizedLandmark,U=f,y=Object.assign(Object.assign({},y),{visibility:b?y.visibility:0}),Ee(b=new Ne,1,y.x),Ee(b,2,y.y),Ee(b,3,y.z),y.visibility&&Ee(b,4,y.visibility),re(R=y=new te,1,ge(b,1)),re(R,2,ge(b,2)),re(R,3,ge(b,3)),re(R,4,ge(b,4)),re(R,5,ge(b,5)),be(b,R),y=ie(y),Q.call(I,U,y);if(m.M)for(E=0;E<m.M.length;++E){if(Q=(I=p.data).addClassification,U=f,y=m.M[E],Ee(b=new Se,2,y.Y),y.index&&Ee(b,1,y.index),y.label&&Ee(b,3,y.label),y.displayName&&Ee(b,4,y.displayName),R=y=new te,null!=(F=ge(b,1))&&null!=F)if(K(R.g,8),v=R.g,0<=F)K(v,F);else{for(S=0;9>S;S++)v.push(127&F|128),F>>=7;v.push(1)}re(R,2,ge(b,2)),null!=(v=ge(b,3))&&(v=w(v),K(R.g,26),K(R.g,v.length),ne(R,R.g.end()),ne(R,v)),null!=(v=ge(b,4))&&(v=w(v),K(R.g,34),K(R.g,v.length),ne(R,R.g.end()),ne(R,v)),be(b,R),y=ie(y),Q.call(I,U,y)}}p=p.data;break e;default:p={}}}switch(d=p,u=l.stream,l.type){case"video":r.pushTexture2d(Object.assign(Object.assign({},d),{stream:u,timestamp:i}));break;case"detections":(h=d).stream=u,h.timestamp=i,r.pushDetectionList(h);break;default:throw Error("Unknown input config type: '"+l.type+"'")}}return A.i.send(r),C(n,A.C,4);case 4:r.delete(),n.g=0}}))}))},t.onResults=function(e,t){this.listeners[t||"$"]=e},S("Solution",Ge),S("OptionType",{BOOL:0,NUMBER:1,aa:2,0:"BOOL",1:"NUMBER",2:"STRING"}),(t=ze.prototype).close=function(){return this.g.close(),e.resolve()},t.onResults=function(e){this.g.onResults(e)},t.initialize=function(){return Re(this,(function e(){var t=this;return b(e,(function(e){return C(e,t.g.initialize(),0)}))}))},t.reset=function(){this.g.reset()},t.send=function(e){return Re(this,(function t(){var n=this;return b(t,(function(t){return C(t,n.g.send(e),0)}))}))},t.setOptions=function(e){this.g.setOptions(e)},S("SelfieSegmentation",ze),S("VERSION","0.1.1632777926")}).call(Ue);const ye={};(function(){var t;function i(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}var r="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e},o=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof(void 0!==typeof window?window:n.g)&&(void 0!==typeof window?window:n.g)];for(var t=0;t<e.length;++t){var i=e[t];if(i&&i.Math==Math)return i}throw Error("Cannot find global object")}(this);function a(e,t){if(t)e:{var n=o;e=e.split(".");for(var i=0;i<e.length-1;i++){var a=e[i];if(!(a in n))break e;n=n[a]}(t=t(i=n[e=e[e.length-1]]))!=i&&null!=t&&r(n,e,{configurable:!0,writable:!0,value:t})}}function s(e){return(e={next:e})[Symbol.iterator]=function(){return this},e}function c(e){var t=typeof Symbol<"u"&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:i(e)}}function l(e){if(!(e instanceof Array)){e=c(e);for(var t,n=[];!(t=e.next()).done;)n.push(t.value);e=n}return e}a("Symbol",(function(e){function t(e,t){this.g=e,r(this,"description",{configurable:!0,writable:!0,value:t})}if(e)return e;t.prototype.toString=function(){return this.g};var n="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",i=0;return function e(r){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new t(n+(r||"")+"_"+i++,r)}})),a("Symbol.iterator",(function(e){if(e)return e;e=Symbol("Symbol.iterator");for(var t="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),n=0;n<t.length;n++){var a=o[t[n]];"function"==typeof a&&"function"!=typeof a.prototype[e]&&r(a.prototype,e,{configurable:!0,writable:!0,value:function(){return s(i(this))}})}return e}));var d,u="function"==typeof Object.create?Object.create:function(e){function t(){}return t.prototype=e,new t};if("function"==typeof Object.setPrototypeOf)d=Object.setPrototypeOf;else{var h;e:{var A={};try{A.__proto__={a:!0},h=A.a;break e}catch{}h=!1}d=h?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+" is not extensible");return e}:null}var p=d;function g(e,t){if(e.prototype=u(t.prototype),e.prototype.constructor=e,p)p(e,t);else for(var n in t)if("prototype"!=n)if(Object.defineProperties){var i=Object.getOwnPropertyDescriptor(t,n);i&&Object.defineProperty(e,n,i)}else e[n]=t[n];e.ra=t.prototype}function f(){this.l=!1,this.i=null,this.h=void 0,this.g=1,this.u=this.o=0,this.j=null}function m(e){if(e.l)throw new TypeError("Generator is already running");e.l=!0}function E(e,t){e.j={fa:t,ga:!0},e.g=e.o||e.u}function C(e,t,n){return e.g=n,{value:t}}function I(e){this.g=new f,this.h=e}function Q(e,t,n,i){try{var r=t.call(e.g.i,n);if(!(r instanceof Object))throw new TypeError("Iterator result "+r+" is not an object");if(!r.done)return e.g.l=!1,r;var o=r.value}catch(a){return e.g.i=null,E(e.g,a),U(e)}return e.g.i=null,i.call(e.g,o),U(e)}function U(e){for(;e.g.g;)try{var t=e.h(e.g);if(t)return e.g.l=!1,{value:t.value,done:!1}}catch(n){e.g.h=void 0,E(e.g,n)}if(e.g.l=!1,e.g.j){if(t=e.g.j,e.g.j=null,t.ga)throw t.fa;return{value:t.return,done:!0}}return{value:void 0,done:!0}}function y(e){this.next=function(t){return m(e.g),e.g.i?t=Q(e,e.g.i.next,t,e.g.s):(e.g.s(t),t=U(e)),t},this.throw=function(t){return m(e.g),e.g.i?t=Q(e,e.g.i.throw,t,e.g.s):(E(e.g,t),t=U(e)),t},this.return=function(t){return function(e,t){m(e.g);var n=e.g.i;return n?Q(e,"return"in n?n.return:function(e){return{value:e,done:!0}},t,e.g.return):(e.g.return(t),U(e))}(e,t)},this[Symbol.iterator]=function(){return this}}function b(t){return function(t){function n(e){return t.next(e)}function i(e){return t.throw(e)}return new e((function(r,o){!function t(a){a.done?r(a.value):e.resolve(a.value).then(n,i).then(t,o)}(t.next())}))}(new y(new I(t)))}f.prototype.s=function(e){this.h=e},f.prototype.return=function(e){this.j={return:e},this.g=this.u},a("Promise",(function(e){function t(e){this.h=0,this.i=void 0,this.g=[],this.s=!1;var t=this.j();try{e(t.resolve,t.reject)}catch(n){t.reject(n)}}function n(){this.g=null}function i(e){return e instanceof t?e:new t((function(t){t(e)}))}if(e)return e;n.prototype.h=function(e){if(null==this.g){this.g=[];var t=this;this.i((function(){t.l()}))}this.g.push(e)};var r=o.setTimeout;n.prototype.i=function(e){r(e,0)},n.prototype.l=function(){for(;this.g&&this.g.length;){var e=this.g;this.g=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(i){this.j(i)}}}this.g=null},n.prototype.j=function(e){this.i((function(){throw e}))},t.prototype.j=function(){function e(e){return function(i){n||(n=!0,e.call(t,i))}}var t=this,n=!1;return{resolve:e(this.D),reject:e(this.l)}},t.prototype.D=function(e){if(e===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.H(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.A(e):this.o(e)}},t.prototype.A=function(e){var t=void 0;try{t=e.then}catch(n){return void this.l(n)}"function"==typeof t?this.I(t,e):this.o(e)},t.prototype.l=function(e){this.u(2,e)},t.prototype.o=function(e){this.u(1,e)},t.prototype.u=function(e,t){if(0!=this.h)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.h);this.h=e,this.i=t,2===this.h&&this.G(),this.B()},t.prototype.G=function(){var e=this;r((function(){if(e.C()){var t=o.console;typeof t<"u"&&t.error(e.i)}}),1)},t.prototype.C=function(){if(this.s)return!1;var e=o.CustomEvent,t=o.Event,n=o.dispatchEvent;return typeof n>"u"||("function"==typeof e?e=new e("unhandledrejection",{cancelable:!0}):"function"==typeof t?e=new t("unhandledrejection",{cancelable:!0}):(e=o.document.createEvent("CustomEvent")).initCustomEvent("unhandledrejection",!1,!0,e),e.promise=this,e.reason=this.i,n(e))},t.prototype.B=function(){if(null!=this.g){for(var e=0;e<this.g.length;++e)a.h(this.g[e]);this.g=null}};var a=new n;return t.prototype.H=function(e){var t=this.j();e.M(t.resolve,t.reject)},t.prototype.I=function(e,t){var n=this.j();try{e.call(t,n.resolve,n.reject)}catch(i){n.reject(i)}},t.prototype.then=function(e,n){function i(e,t){return"function"==typeof e?function(t){try{r(e(t))}catch(n){o(n)}}:t}var r,o,a=new t((function(e,t){r=e,o=t}));return this.M(i(e,r),i(n,o)),a},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.M=function(e,t){function n(){switch(i.h){case 1:e(i.i);break;case 2:t(i.i);break;default:throw Error("Unexpected state: "+i.h)}}var i=this;null==this.g?a.h(n):this.g.push(n),this.s=!0},t.resolve=i,t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var r=c(e),o=r.next();!o.done;o=r.next())i(o.value).M(t,n)}))},t.all=function(e){var n=c(e),r=n.next();return r.done?i([]):new t((function(e,t){function o(t){return function(n){a[t]=n,0==--s&&e(a)}}var a=[],s=0;do{a.push(void 0),s++,i(r.value).M(o(a.length-1),t),r=n.next()}while(!r.done)}))},t}));var v="function"==typeof Object.assign?Object.assign:function(e,t){for(var n=1;n<arguments.length;n++){var i=arguments[n];if(i)for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e};a("Object.assign",(function(e){return e||v})),a("Object.is",(function(e){return e||function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}})),a("Array.prototype.includes",(function(e){return e||function(e,t){var n=this;n instanceof String&&(n=String(n));var i=n.length;for(0>(t=t||0)&&(t=Math.max(t+i,0));t<i;t++){var r=n[t];if(r===e||Object.is(r,e))return!0}return!1}})),a("String.prototype.includes",(function(e){return e||function(e,t){if(null==this)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(e instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return-1!==this.indexOf(e,t||0)}})),a("Array.prototype.keys",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,i=!1,r={next:function(){if(!i&&n<e.length){var r=n++;return{value:t(r,e[r]),done:!1}}return i=!0,{done:!0,value:void 0}}};return r[Symbol.iterator]=function(){return r},r}(this,(function(e){return e}))}}));var R=this||self;function S(e,t){e=e.split(".");var n,i=R;e[0]in i||typeof i.execScript>"u"||i.execScript("var "+e[0]);for(;e.length&&(n=e.shift());)e.length||void 0===t?i=i[n]&&i[n]!==Object.prototype[n]?i[n]:i[n]={}:i[n]=t}function F(){throw Error("Invalid UTF8")}function B(e,t){return t=String.fromCharCode.apply(null,t),null==e?t:e+t}var T,N,_=typeof TextDecoder<"u",w=typeof TextEncoder<"u",k={},D=null;function V(e){var t;void 0===t&&(t=0),W(),t=k[t];for(var n=Array(Math.floor(e.length/3)),i=t[64]||"",r=0,o=0;r<e.length-2;r+=3){var a=e[r],s=e[r+1],c=e[r+2],l=t[a>>2];a=t[(3&a)<<4|s>>4],s=t[(15&s)<<2|c>>6],c=t[63&c],n[o++]=l+a+s+c}switch(l=0,c=i,e.length-r){case 2:c=t[(15&(l=e[r+1]))<<2]||i;case 1:e=e[r],n[o]=t[e>>2]+t[(3&e)<<4|l>>4]+c+i}return n.join("")}function Z(e){var t=e.length,n=3*t/4;n%3?n=Math.floor(n):-1!="=.".indexOf(e[t-1])&&(n=-1!="=.".indexOf(e[t-2])?n-2:n-1);var i=new Uint8Array(n),r=0;return function(e,t){function n(t){for(;i<e.length;){var n=e.charAt(i++),r=D[n];if(null!=r)return r;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return t}W();for(var i=0;;){var r=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===r)break;t(r<<2|o>>4),64!=a&&(t(o<<4&240|a>>2),64!=s&&t(a<<6&192|s))}}(e,(function(e){i[r++]=e})),r!==n?i.subarray(0,r):i}function W(){if(!D){D={};for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),t=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++){var i=e.concat(t[n].split(""));k[n]=i;for(var r=0;r<i.length;r++){var o=i[r];void 0===D[o]&&(D[o]=r)}}}}var O,J="function"==typeof Uint8Array;function x(e){return J&&null!=e&&e instanceof Uint8Array}function M(e){if(this.L=e,null!==e&&0===e.length)throw Error("ByteString should be constructed with non-empty values")}var L="function"==typeof Uint8Array.prototype.slice,P=0;function G(e,t){return Error("Invalid wire type: "+e+" (at position "+t+")")}function Y(){return Error("Failed to read varint, encoding is invalid.")}function j(e,t){t=void 0!==(t=void 0===t?{}:t).v&&t.v,this.h=null,this.g=this.i=this.j=0,this.v=t,e&&X(this,e)}function X(e,t){e.h=function(e,t){if(e.constructor===Uint8Array)return e;if(e.constructor===ArrayBuffer)return new Uint8Array(e);if(e.constructor===Array)return new Uint8Array(e);if(e.constructor===String)return Z(e);if(e.constructor===M)return!t&&(t=e.L)&&t.constructor===Uint8Array?t:(t=null==(t=e.L)||x(t)?t:"string"==typeof t?Z(t):null,(e=e.L=t)?new Uint8Array(e):O||(O=new Uint8Array(0)));if(e instanceof Uint8Array)return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw Error("Type not convertible to a Uint8Array, expected a Uint8Array, an ArrayBuffer, a base64 encoded string, or Array of numbers")}(t,e.v),e.j=0,e.i=e.h.length,e.g=e.j}function K(e){if(e.g>e.i)throw Error("Tried to read past the end of the data "+e.g+" > "+e.i)}function H(e){var t=e.h,n=t[e.g],i=127&n;if(128>n)return e.g+=1,K(e),i;if(i|=(127&(n=t[e.g+1]))<<7,128>n)return e.g+=2,K(e),i;if(i|=(127&(n=t[e.g+2]))<<14,128>n)return e.g+=3,K(e),i;if(i|=(127&(n=t[e.g+3]))<<21,128>n)return e.g+=4,K(e),i;if(n=t[e.g+4],e.g+=5,i|=(15&n)<<28,128>n)return K(e),i;if(128<=t[e.g++]&&128<=t[e.g++]&&128<=t[e.g++]&&128<=t[e.g++]&&128<=t[e.g++])throw Y();return K(e),i}j.prototype.reset=function(){this.g=this.j};var z=[];function q(){this.g=[]}function $(e,t){for(;127<t;)e.g.push(127&t|128),t>>>=7;e.g.push(t)}function ee(e){var t={},n=void 0!==t.W&&t.W;this.l={v:void 0!==t.v&&t.v},this.W=n,t=this.l,z.length?(n=z.pop(),t&&(n.v=t.v),e&&X(n,e),e=n):e=new j(e,t),this.g=e,this.j=this.g.g,this.h=this.i=-1}function te(e){var t=e.g;if(t.g==t.i)return!1;e.j=e.g.g;var n=H(e.g)>>>0;if(t=n>>>3,!(0<=(n&=7)&&5>=n))throw G(n,e.j);if(1>t)throw Error("Invalid field number: "+t+" (at position "+e.j+")");return e.i=t,e.h=n,!0}function ne(e){switch(e.h){case 0:if(0!=e.h)ne(e);else e:{for(var t=(e=e.g).g,n=t+10;t<n;)if(0===(128&e.h[t++])){e.g=t,K(e);break e}throw Y()}break;case 1:(e=e.g).g+=8,K(e);break;case 2:2!=e.h?ne(e):(t=H(e.g)>>>0,(e=e.g).g+=t,K(e));break;case 5:(e=e.g).g+=4,K(e);break;case 3:for(t=e.i;;){if(!te(e))throw Error("Unmatched start-group tag: stream EOF");if(4==e.h){if(e.i!=t)throw Error("Unmatched end-group tag");break}ne(e)}break;default:throw G(e.h,e.j)}}q.prototype.length=function(){return this.g.length},q.prototype.end=function(){var e=this.g;return this.g=[],e},ee.prototype.reset=function(){this.g.reset(),this.j=this.g.g,this.h=this.i=-1};var ie=[];function re(){this.i=[],this.h=0,this.g=new q}function oe(e,t){0!==t.length&&(e.i.push(t),e.h+=t.length)}var ae="function"==typeof Symbol&&"symbol"==typeof Symbol()?Symbol(void 0):void 0;function se(e,t){Object.isFrozen(e)||(ae?e[ae]|=t:void 0!==e.N?e.N|=t:Object.defineProperties(e,{N:{value:t,configurable:!0,writable:!0,enumerable:!1}}))}function ce(e){var t;return null==(t=ae?e[ae]:e.N)?0:t}function le(e){return se(e,1),e}function de(e){return!!Array.isArray(e)&&!!(2&ce(e))}function ue(e){if(!Array.isArray(e))throw Error("cannot mark non-array as immutable");se(e,2)}function he(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)&&e.constructor===Object}var Ae=Object.freeze(le([]));function pe(e){if(de(e.m))throw Error("Cannot mutate an immutable Message")}var ge,fe=typeof Symbol<"u"&&typeof Symbol.hasInstance<"u";function me(e){return{value:e,configurable:!1,writable:!1,enumerable:!1}}function Ee(e,t,n){return-1===t?null:t>=e.i?e.g?e.g[t]:void 0:void 0!==n&&n&&e.g&&null!=(n=e.g[t])?n:e.m[t+e.h]}function Ce(e,t,n,i){i=void 0!==i&&i,pe(e),t<e.i&&!i?e.m[t+e.h]=n:(e.g||(e.g=e.m[e.i+e.h]={}))[t]=n}function Ie(e,t,n,i){n=void 0===n||n;var r=Ee(e,t,i=void 0!==i&&i);return null==r&&(r=Ae),de(e.m)?n&&(ue(r),Object.freeze(r)):(r===Ae||de(r))&&Ce(e,t,r=le(r.slice()),i),r}function Qe(e,t,n){return null==(e=null==(e=Ee(e,t))?e:+e)?void 0===n?0:n:e}function Ue(e,t,n,i){e.j||(e.j={});var r=de(e.m),o=e.j[n];if(!o){i=Ie(e,n,!0,void 0!==i&&i),o=[],r=r||de(i);for(var a=0;a<i.length;a++)o[a]=new t(i[a]),r&&ue(o[a].m);r&&(ue(o),Object.freeze(o)),e.j[n]=o}return o}function ye(e,t,n,i,r){var o=void 0!==o&&o;return pe(e),o=Ue(e,n,t,o),n=i||new n,e=Ie(e,t),null!=r?(o.splice(r,0,n),e.splice(r,0,n.m)):(o.push(n),e.push(n.m)),n}function be(e,t){return null==(e=Ee(e,t))?0:e}function ve(e,t){return null==(e=Ee(e,t))?"":e}function Re(e){var t=Be;return Fe(e,t=void 0===t?Te:t)}function Se(e,t){if(null!=e){if(Array.isArray(e))e=Fe(e,t);else if(he(e)){var n,i={};for(n in e)i[n]=Se(e[n],t);e=i}else e=t(e);return e}}function Fe(e,t){for(var n=e.slice(),i=0;i<n.length;i++)n[i]=Se(n[i],t);return Array.isArray(e)&&1&ce(e)&&le(n),n}function Be(e){return e&&"object"==typeof e&&e.toJSON?e.toJSON():(e=function(e){switch(typeof e){case"number":return isFinite(e)?e:String(e);case"object":if(e&&!Array.isArray(e)){if(x(e))return V(e);if(e instanceof M){var t=e.L;return t=null==t||"string"==typeof t?t:J&&t instanceof Uint8Array?V(t):null,(e.L=t)||""}}}return e}(e),Array.isArray(e)?Re(e):e)}function Te(e){return x(e)?new Uint8Array(e):e}function Ne(e,t,n){e||(e=ge),ge=null;var i=this.constructor.h;if(e||(e=i?[i]:[]),this.h=(i?0:-1)-(this.constructor.g||0),this.j=void 0,this.m=e,e=(i=this.m.length)-1,i&&he(i=this.m[e])?(this.i=e-this.h,this.g=i):void 0!==t&&-1<t?(this.i=Math.max(t,e+1-this.h),this.g=void 0):this.i=Number.MAX_VALUE,n)for(t=0;t<n.length;t++)if((e=n[t])<this.i)e+=this.h,(i=this.m[e])?Array.isArray(i)&&le(i):this.m[e]=Ae;else{var r=(i=this.g||(this.g=this.m[this.i+this.h]={}))[e];r?Array.isArray(r)&&le(r):i[e]=Ae}}function _e(){Ne.apply(this,arguments)}if(Ne.prototype.toJSON=function(){return Re(this.m)},Ne.prototype.toString=function(){return this.m.toString()},g(_e,Ne),fe){var we={};Object.defineProperties(_e,(we[Symbol.hasInstance]=me((function(){throw Error("Cannot perform instanceof checks for MutableMessage")})),we))}function ke(e,t,n){if(n){var i,r={};for(i in n){var o=n[i],a=o.ja;a||(r.F=o.pa||o.ha.P,o.ba?(r.U=xe(o.ba),a=function(e){return function(t,n,i){return e.F(t,n,i,e.U)}}(r)):o.da?(r.T=Me(o.X.g,o.da),a=function(e){return function(t,n,i){return e.F(t,n,i,e.T)}}(r)):a=r.F,o.ja=a),a(t,e,o.X),r={F:r.F,U:r.U,T:r.T}}}!function(e,t){if(t=t.ca){oe(e,e.g.end());for(var n=0;n<t.length;n++)oe(e,t[n])}}(t,e)}var De=Symbol();function Ve(e,t,n){return e[De]||(e[De]=function(e,i){return t(e,i,n)})}function Ze(e){var t=e[De];if(!t){var n=et(e);t=function(e,t){return tt(e,t,n)},e[De]=t}return t}function We(e){var t=function(e){var t=e.ba;return t?Ze(t):(t=e.oa)?Ve(e.X.g,t,e.da):void 0}(e),n=e.X,i=e.ha.O;return t?function(e,r){return i(e,r,n,t)}:function(e,t){return i(e,t,n)}}function Oe(e,t,n,i,r,o){var a=0;for((e=e()).length&&"number"!=typeof e[0]&&(n(t,e[0]),a++);a<e.length;){n=e[a++];for(var s=a+1;s<e.length&&"number"!=typeof e[s];)s++;var c=e[a++];switch(s-=a){case 0:i(t,n,c);break;case 1:i(t,n,c,e[a++]);break;case 2:r(t,n,c,e[a++],e[a++]);break;case 3:s=e[a++];var l=e[a++],d=e[a++];Array.isArray(d)?r(t,n,c,s,l,d):o(t,n,c,s,l,d);break;case 4:o(t,n,c,e[a++],e[a++],e[a++],e[a++]);break;default:throw Error("unexpected number of binary field arguments: "+s)}}return t}var Je=Symbol();function xe(e){var t=e[Je];if(!t){var n=Xe(e);t=function(e,t){return it(e,t,n)},e[Je]=t}return t}function Me(e,t){var n=e[Je];return n||(n=function(e,n){return ke(e,n,t)},e[Je]=n),n}var Le=Symbol();function Pe(e,t){e.push(t)}function Ge(e,t,n){e.push(t,n.P)}function Ye(e,t,n,i,r){var o=xe(r),a=n.P;e.push(t,(function(e,t,n){return a(e,t,n,i,o)}))}function je(e,t,n,i,r,o){var a=Me(i,o),s=n.P;e.push(t,(function(e,t,n){return s(e,t,n,i,a)}))}function Xe(e){return e[Le]||Oe(e,e[Le]=[],Pe,Ge,Ye,je)}var Ke=Symbol();function He(e,t){e[0]=t}function ze(e,t,n,i){var r=n.O;e[t]=i?function(e,t,n){return r(e,t,n,i)}:r}function qe(e,t,n,i,r,o){var a=n.O,s=Ze(r);e[t]=function(e,t,n){return a(e,t,n,i,s,o)}}function $e(e,t,n,i,r,o,a){var s=n.O,c=Ve(i,r,o);e[t]=function(e,t,n){return s(e,t,n,i,c,a)}}function et(e){return e[Ke]||Oe(e,e[Ke]={},He,ze,qe,$e)}function tt(e,t,n){for(;te(t)&&4!=t.h;){var i=t.i,r=n[i];if(!r){var o=n[0];o&&(o=o[i])&&(r=n[i]=We(o))}if((!r||!r(t,e,i))&&(i=e,o=(r=t).j,ne(r),!r.W)){var a=r.g.h;r=o===(r=r.g.g)?O||(O=new Uint8Array(0)):L?a.slice(o,r):new Uint8Array(a.subarray(o,r)),(o=i.ca)?o.push(r):i.ca=[r]}}return e}function nt(e,t,n){if(ie.length){var i=ie.pop();e&&(X(i.g,e),i.i=-1,i.h=-1),e=i}else e=new ee(e);try{return tt(new t,e,et(n))}finally{(t=e.g).h=null,t.j=0,t.i=0,t.g=0,t.v=!1,e.i=-1,e.h=-1,100>ie.length&&ie.push(e)}}function it(e,t,n){for(var i=n.length,r=i%2==1,o=r?1:0;o<i;o+=2)(0,n[o+1])(t,e,n[o]);ke(e,t,r?n[0]:void 0)}function rt(e,t){var n=new re;it(e,n,Xe(t)),oe(n,n.g.end()),e=new Uint8Array(n.h);for(var i=(t=n.i).length,r=0,o=0;o<i;o++){var a=t[o];e.set(a,r),r+=a.length}return n.i=[e],e}function ot(e,t){return{O:e,P:t}}var at=ot((function(e,t,n){if(5!==e.h)return!1;var i=(e=e.g).h[e.g],r=e.h[e.g+1],o=e.h[e.g+2],a=e.h[e.g+3];return e.g+=4,K(e),e=2*((r=(i<<0|r<<8|o<<16|a<<24)>>>0)>>31)+1,i=r>>>23&255,r&=8388607,Ce(t,n,255==i?r?NaN:1/0*e:0==i?e*Math.pow(2,-149)*r:e*Math.pow(2,i-150)*(r+Math.pow(2,23))),!0}),(function(e,t,n){if(null!=(t=Ee(t,n))){$(e.g,8*n+5),e=e.g;var i=t;0===(i=(n=0>i?1:0)?-i:i)?P=0<1/i?0:2147483648:isNaN(i)?P=2147483647:34028234663852886e22<i?P=(n<<31|2139095040)>>>0:11754943508222875e-54>i?(i=Math.round(i/Math.pow(2,-149)),P=(n<<31|i)>>>0):(t=Math.floor(Math.log(i)/Math.LN2),i*=Math.pow(2,-t),16777216<=(i=Math.round(8388608*i))&&++t,P=(n<<31|t+127<<23|8388607&i)>>>0),n=P,e.g.push(n>>>0&255),e.g.push(n>>>8&255),e.g.push(n>>>16&255),e.g.push(n>>>24&255)}})),st=ot((function(e,t,n){if(0!==e.h)return!1;for(var i=e.g,r=128,o=0,a=e=0;4>a&&128<=r;a++)r=i.h[i.g++],K(i),o|=(127&r)<<7*a;if(128<=r&&(r=i.h[i.g++],K(i),o|=(127&r)<<28,e|=(127&r)>>4),128<=r)for(a=0;5>a&&128<=r;a++)r=i.h[i.g++],K(i),e|=(127&r)<<7*a+3;if(!(128>r))throw Y();return i=o>>>0,(e=2147483648&(r=e>>>0))&&(r=~r>>>0,0==(i=1+~i>>>0)&&(r=r+1>>>0)),i=4294967296*r+(i>>>0),Ce(t,n,e?-i:i),!0}),(function(e,t,n){if(null!=(t=Ee(t,n))&&null!=t){$(e.g,8*n),e=e.g;var i=t;for(n=0>i,t=(i=Math.abs(i))>>>0,i=Math.floor((i-t)/4294967296),i>>>=0,n&&(i=~i>>>0,4294967295<(t=1+(~t>>>0))&&(t=0,4294967295<++i&&(i=0))),n=P=t,t=i;0<t||127<n;)e.g.push(127&n|128),n=(n>>>7|t<<25)>>>0,t>>>=7;e.g.push(n)}})),ct=ot((function(e,t,n){return 0===e.h&&(Ce(t,n,H(e.g)),!0)}),(function(e,t,n){if(null!=(t=Ee(t,n))&&null!=t)if($(e.g,8*n),e=e.g,0<=(n=t))$(e,n);else{for(t=0;9>t;t++)e.g.push(127&n|128),n>>=7;e.g.push(1)}})),lt=ot((function(e,t,n){if(2!==e.h)return!1;var i,r=H(e.g)>>>0,o=(e=e.g).g;if(e.g+=r,K(e),e=e.h,_)(i=T)||(i=T=new TextDecoder("utf-8",{fatal:!0})),i=i.decode(e.subarray(o,o+r));else{r=o+r;for(var a,s,c,l=[],d=null;o<r;)128>(a=e[o++])?l.push(a):224>a?o>=r?F():(s=e[o++],194>a||128!==(192&s)?(o--,F()):l.push((31&a)<<6|63&s)):240>a?o>=r-1?F():128!==(192&(s=e[o++]))||224===a&&160>s||237===a&&160<=s||128!==(192&(i=e[o++]))?(o--,F()):l.push((15&a)<<12|(63&s)<<6|63&i):244>=a?o>=r-2?F():128!==(192&(s=e[o++]))||s-144+(a<<28)>>30!==0||128!==(192&(i=e[o++]))||128!==(192&(c=e[o++]))?(o--,F()):(a=(7&a)<<18|(63&s)<<12|(63&i)<<6|63&c,a-=65536,l.push(55296+(a>>10&1023),56320+(1023&a))):F(),8192<=l.length&&(d=B(d,l),l.length=0);i=B(d,l)}return Ce(t,n,i),!0}),(function(e,t,n){if(null!=(t=Ee(t,n))){var i=!1;if(i=void 0!==i&&i,w){if(i&&/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/.test(t))throw Error("Found an unpaired surrogate");t=(N||(N=new TextEncoder)).encode(t)}else{for(var r=0,o=new Uint8Array(3*t.length),a=0;a<t.length;a++){var s=t.charCodeAt(a);if(128>s)o[r++]=s;else{if(2048>s)o[r++]=s>>6|192;else{if(55296<=s&&57343>=s){if(56319>=s&&a<t.length){var c=t.charCodeAt(++a);if(56320<=c&&57343>=c){s=1024*(s-55296)+c-56320+65536,o[r++]=s>>18|240,o[r++]=s>>12&63|128,o[r++]=s>>6&63|128,o[r++]=63&s|128;continue}a--}if(i)throw Error("Found an unpaired surrogate");s=65533}o[r++]=s>>12|224,o[r++]=s>>6&63|128}o[r++]=63&s|128}}t=o.subarray(0,r)}$(e.g,8*n+2),$(e.g,t.length),oe(e,e.g.end()),oe(e,t)}})),dt=ot((function(e,t,n,i,r){if(2!==e.h)return!1;t=ye(t,n,i),n=e.g.i,i=H(e.g)>>>0;var o=e.g.g+i,a=o-n;if(0>=a&&(e.g.i=o,r(t,e),a=o-e.g.g),a)throw Error("Message parsing ended unexpectedly. Expected to read "+i+" bytes, instead read "+(i-a)+" bytes, either the data ended unexpectedly or the message misreported its own length");return e.g.g=o,e.g.i=n,!0}),(function(e,t,n,i,r){if(null!=(t=Ue(t,i,n)))for(i=0;i<t.length;i++){var o=e;$(o.g,8*n+2);var a=o.g.end();oe(o,a),a.push(o.h),o=a,r(t[i],e),a=e;var s=o.pop();for(s=a.h+a.g.length()-s;127<s;)o.push(127&s|128),s>>>=7,a.h++;o.push(s),a.h++}}));function ut(){_e.apply(this,arguments)}if(g(ut,_e),fe){var ht={};Object.defineProperties(ut,(ht[Symbol.hasInstance]=me(Object[Symbol.hasInstance]),ht))}function At(e){ut.call(this,e)}function pt(){return[1,ct,2,at,3,lt,4,lt]}function gt(e){ut.call(this,e,-1,mt)}function ft(){return[1,dt,At,pt]}g(At,ut),g(gt,ut),gt.prototype.addClassification=function(e,t){return ye(this,1,At,e,t),this};var mt=[1];function Et(e){ut.call(this,e)}function Ct(){return[1,at,2,at,3,at,4,at,5,at]}function It(e){ut.call(this,e,-1,Ut)}function Qt(){return[1,dt,Et,Ct]}g(Et,ut),g(It,ut);var Ut=[1];function yt(e){ut.call(this,e)}function bt(){return[1,at,2,at,3,at,4,at,5,at,6,st]}function vt(e,t,n){if(n=e.createShader(0===n?e.VERTEX_SHADER:e.FRAGMENT_SHADER),e.shaderSource(n,t),e.compileShader(n),!e.getShaderParameter(n,e.COMPILE_STATUS))throw Error("Could not compile WebGL shader.\n\n"+e.getShaderInfoLog(n));return n}function Rt(e){return Ue(e,At,1).map((function(e){return{index:be(e,1),score:Qe(e,2),label:null!=Ee(e,3)?ve(e,3):void 0,displayName:null!=Ee(e,4)?ve(e,4):void 0}}))}function St(e){return{x:Qe(e,1),y:Qe(e,2),z:Qe(e,3),visibility:null!=Ee(e,4)?Qe(e,4):void 0}}function Ft(e){return e.map((function(e){return Ue(nt(e,It,Qt),Et,1).map(St)}))}function Bt(e,t){this.h=e,this.g=t,this.l=0}function Tt(t,n,i){return function(e,t){var n=e.g;if(void 0===e.o){var i=vt(n,"\n  attribute vec2 aVertex;\n  attribute vec2 aTex;\n  varying vec2 vTex;\n  void main(void) {\n    gl_Position = vec4(aVertex, 0.0, 1.0);\n    vTex = aTex;\n  }",0),r=vt(n,"\n  precision mediump float;\n  varying vec2 vTex;\n  uniform sampler2D sampler0;\n  void main(){\n    gl_FragColor = texture2D(sampler0, vTex);\n  }",1),o=n.createProgram();if(n.attachShader(o,i),n.attachShader(o,r),n.linkProgram(o),!n.getProgramParameter(o,n.LINK_STATUS))throw Error("Could not compile WebGL program.\n\n"+n.getProgramInfoLog(o));i=e.o=o,n.useProgram(i),r=n.getUniformLocation(i,"sampler0"),e.j={K:n.getAttribLocation(i,"aVertex"),J:n.getAttribLocation(i,"aTex"),qa:r},e.u=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,e.u),n.enableVertexAttribArray(e.j.K),n.vertexAttribPointer(e.j.K,2,n.FLOAT,!1,0,0),n.bufferData(n.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),n.STATIC_DRAW),n.bindBuffer(n.ARRAY_BUFFER,null),e.s=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,e.s),n.enableVertexAttribArray(e.j.J),n.vertexAttribPointer(e.j.J,2,n.FLOAT,!1,0,0),n.bufferData(n.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,0,1,1]),n.STATIC_DRAW),n.bindBuffer(n.ARRAY_BUFFER,null),n.uniform1i(r,0)}i=e.j,n.useProgram(e.o),n.canvas.width=t.width,n.canvas.height=t.height,n.viewport(0,0,t.width,t.height),n.activeTexture(n.TEXTURE0),e.h.bindTexture2d(t.glName),n.enableVertexAttribArray(i.K),n.bindBuffer(n.ARRAY_BUFFER,e.u),n.vertexAttribPointer(i.K,2,n.FLOAT,!1,0,0),n.enableVertexAttribArray(i.J),n.bindBuffer(n.ARRAY_BUFFER,e.s),n.vertexAttribPointer(i.J,2,n.FLOAT,!1,0,0),n.bindFramebuffer(n.DRAW_FRAMEBUFFER?n.DRAW_FRAMEBUFFER:n.FRAMEBUFFER,null),n.clearColor(0,0,0,0),n.clear(n.COLOR_BUFFER_BIT),n.colorMask(!0,!0,!0,!0),n.drawArrays(n.TRIANGLE_FAN,0,4),n.disableVertexAttribArray(i.K),n.disableVertexAttribArray(i.J),n.bindBuffer(n.ARRAY_BUFFER,null),e.h.bindTexture2d(0)}(t,n),"function"==typeof t.g.canvas.transferToImageBitmap?e.resolve(t.g.canvas.transferToImageBitmap()):i?e.resolve(t.g.canvas):"function"==typeof createImageBitmap?createImageBitmap(t.g.canvas):(void 0===t.i&&(t.i=document.createElement("canvas")),new e((function(e){t.i.height=t.g.canvas.height,t.i.width=t.g.canvas.width,t.i.getContext("2d",{}).drawImage(t.g.canvas,0,0,t.g.canvas.width,t.g.canvas.height),e(t.i)})))}function Nt(e){this.g=e}g(yt,ut);var _t=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]);function wt(e,t){return t+e}function kt(e,t){window[e]=t}function Dt(t){if(this.g=t,this.listeners={},this.j={},this.H={},this.o={},this.u={},this.I=this.s=this.$=!0,this.D=e.resolve(),this.Z="",this.C={},this.locateFile=t&&t.locateFile||wt,"object"==typeof window)var n=window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/";else{if(!(typeof location<"u"))throw Error("solutions can only be loaded on a web page or in a web worker");n=location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/"}if(this.aa=n,t.options)for(var i=(n=c(Object.keys(t.options))).next();!i.done;i=n.next()){i=i.value;var r=t.options[i].default;void 0!==r&&(this.j[i]="function"==typeof r?r():r)}}function Vt(t){var n,i,r,o,a,s,c,d,u,h,A;return b((function(p){switch(p.g){case 1:return t.$?(n=void 0===t.g.files?[]:"function"==typeof t.g.files?t.g.files(t.j):t.g.files,C(p,b((function(e){switch(e.g){case 1:return e.o=2,C(e,WebAssembly.instantiate(_t),4);case 4:e.g=3,e.o=0;break;case 2:return e.o=0,e.j=null,e.return(!1);case 3:return e.return(!0)}})),2)):p.return();case 2:if(i=p.h,"object"==typeof window)return kt("createMediapipeSolutionsWasm",{locateFile:t.locateFile}),kt("createMediapipeSolutionsPackedAssets",{locateFile:t.locateFile}),s=n.filter((function(e){return void 0!==e.data})),c=n.filter((function(e){return void 0===e.data})),d=e.all(s.map((function(n){var i=Zt(t,n.url);if(void 0!==n.path){var r=n.path;i=i.then((function(n){return t.overrideFile(r,n),e.resolve(n)}))}return i}))),u=e.all(c.map((function(n){return void 0===n.simd||n.simd&&i||!n.simd&&!i?function(t){var n=document.createElement("script");return n.setAttribute("src",t),n.setAttribute("crossorigin","anonymous"),new e((function(e){n.addEventListener("load",(function(){e()}),!1),n.addEventListener("error",(function(){e()}),!1),document.body.appendChild(n)}))}(t.locateFile(n.url,t.aa)):e.resolve()}))).then((function(){var e,n,i;return b((function(r){if(1==r.g)return e=window.createMediapipeSolutionsWasm,n=window.createMediapipeSolutionsPackedAssets,i=t,C(r,e(n),2);i.h=r.h,r.g=0}))})),h=b((function(e){return t.g.graph&&t.g.graph.url?e=C(e,Zt(t,t.g.graph.url),0):(e.g=0,e=void 0),e})),C(p,e.all([u,d,h]),7);if("function"!=typeof importScripts)throw Error("solutions can only be loaded on a web page or in a web worker");return r=n.filter((function(e){return void 0===e.simd||e.simd&&i||!e.simd&&!i})).map((function(e){return t.locateFile(e.url,t.aa)})),importScripts.apply(null,l(r)),o=t,C(p,createMediapipeSolutionsWasm(Module),6);case 6:o.h=p.h,t.l=new OffscreenCanvas(1,1),t.h.canvas=t.l,a=t.h.GL.createContext(t.l,{antialias:!1,alpha:!1,na:typeof WebGL2RenderingContext<"u"?2:1}),t.h.GL.makeContextCurrent(a),p.g=4;break;case 7:if(t.l=document.createElement("canvas"),!(A=t.l.getContext("webgl2",{}))&&!(A=t.l.getContext("webgl",{})))return alert("Failed to create WebGL canvas context when passing video frame."),p.return();t.G=A,t.h.canvas=t.l,t.h.createContext(t.l,!0,!0,{});case 4:t.i=new t.h.SolutionWasm,t.$=!1,p.g=0}}))}function Zt(e,t){var n,i;return b((function(r){return t in e.H?r.return(e.H[t]):(n=e.locateFile(t,""),i=fetch(n).then((function(e){return e.arrayBuffer()})),e.H[t]=i,r.return(i))}))}function Wt(e,t,n){var i,r,o,a,s,l,d,u,h,A,p,g,f,m;return b((function(E){switch(E.g){case 1:if(!n)return E.return(t);for(i={},r=0,o=c(Object.keys(n)),a=o.next();!a.done;a=o.next())s=a.value,"string"!=typeof(l=n[s])&&"texture"===l.type&&void 0!==t[l.stream]&&++r;1<r&&(e.I=!1),d=c(Object.keys(n)),a=d.next();case 2:if(a.done){E.g=4;break}if(u=a.value,"string"==typeof(h=n[u]))return f=i,m=u,C(E,function(e,t,n){var i;return b((function(r){return"number"==typeof n||n instanceof Uint8Array||n instanceof e.h.Uint8BlobList?r.return(n):n instanceof e.h.Texture2dDataOut?((i=e.u[t])||(i=new Bt(e.h,e.G),e.u[t]=i),r.return(Tt(i,n,e.I))):r.return(void 0)}))}(e,u,t[h]),14);if(A=t[h.stream],"detection_list"===h.type){if(A){for(var I=A.getRectList(),Q=A.getLandmarksList(),U=A.getClassificationsList(),y=[],v=0;v<I.size();++v){var R=nt(I.get(v),yt,bt);R={ea:{ka:Qe(R,1),la:Qe(R,2),height:Qe(R,3),width:Qe(R,4),rotation:Qe(R,5,0),ia:be(R,6)},Y:Ue(nt(Q.get(v),It,Qt),Et,1).map(St),V:Rt(nt(U.get(v),gt,ft))},y.push(R)}I=y}else I=[];i[u]=I,E.g=7;break}if("proto_list"===h.type){if(A){for(I=Array(A.size()),Q=0;Q<A.size();Q++)I[Q]=A.get(Q);A.delete()}else I=[];i[u]=I,E.g=7;break}if(void 0===A){E.g=3;break}if("float_list"===h.type){i[u]=A,E.g=7;break}if("proto"===h.type){i[u]=A,E.g=7;break}if("texture"!==h.type)throw Error("Unknown output config type: '"+h.type+"'");return(p=e.u[u])||(p=new Bt(e.h,e.G),e.u[u]=p),C(E,Tt(p,A,e.I),13);case 13:g=E.h,i[u]=g;case 7:h.transform&&i[u]&&(i[u]=h.transform(i[u])),E.g=3;break;case 14:f[m]=E.h;case 3:a=d.next(),E.g=2;break;case 4:return E.return(i)}}))}function Ot(e,t){for(var n=t.name||"$",i=[].concat(l(t.wants)),r=new e.h.StringList,o=c(t.wants),a=o.next();!a.done;a=o.next())r.push_back(a.value);o=e.h.PacketListener.implement({onResults:function(r){for(var o={},a=0;a<t.wants.length;++a)o[i[a]]=r.get(a);var s=e.listeners[n];s&&(e.D=Wt(e,o,t.outs).then((function(n){n=s(n);for(var r=0;r<t.wants.length;++r){var a=o[i[r]];"object"==typeof a&&a.hasOwnProperty&&a.hasOwnProperty("delete")&&a.delete()}n&&(e.D=n)})))}}),e.i.attachMultiListener(r,o),r.delete()}function Jt(e){return void 0===e&&(e=0),1===e?"hand_landmark_full.tflite":"hand_landmark_lite.tflite"}function xt(e){var t=this;e=e||{},this.g=new Dt({locateFile:e.locateFile,files:function(e){return[{url:"hands_solution_packed_assets_loader.js"},{simd:!1,url:"hands_solution_wasm_bin.js"},{simd:!0,url:"hands_solution_simd_wasm_bin.js"},{data:!0,url:Jt(e.modelComplexity)}]},graph:{url:"hands.binarypb"},inputs:{image:{type:"video",stream:"input_frames_gpu"}},listeners:[{wants:["multi_hand_landmarks","multi_hand_world_landmarks","image_transformed","multi_handedness"],outs:{image:"image_transformed",multiHandLandmarks:{type:"proto_list",stream:"multi_hand_landmarks",transform:Ft},multiHandWorldLandmarks:{type:"proto_list",stream:"multi_hand_world_landmarks",transform:Ft},multiHandedness:{type:"proto_list",stream:"multi_handedness",transform:function(e){return e.map((function(e){return Rt(nt(e,gt,ft))[0]}))}}}}],options:{useCpuInference:{type:0,graphOptionXref:{calculatorType:"InferenceCalculator",fieldName:"use_cpu_inference"},default:"object"==typeof window&&void 0!==window.navigator&&("iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";").includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document)},selfieMode:{type:0,graphOptionXref:{calculatorType:"GlScalerCalculator",calculatorIndex:1,fieldName:"flip_horizontal"}},maxNumHands:{type:1,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculator",fieldName:"int_value"}},modelComplexity:{type:1,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorModelComplexity",fieldName:"int_value"},onChange:function(e){var n,i,r;return b((function(o){return 1==o.g?(n=Jt(e),i="third_party/mediapipe/modules/hand_landmark/"+n,C(o,Zt(t.g,n),2)):(r=o.h,t.g.overrideFile(i,r),o.return(!0))}))}},minDetectionConfidence:{type:1,graphOptionXref:{calculatorType:"TensorsToDetectionsCalculator",calculatorName:"handlandmarktrackinggpu__palmdetectiongpu__TensorsToDetectionsCalculator",fieldName:"min_score_thresh"}},minTrackingConfidence:{type:1,graphOptionXref:{calculatorType:"ThresholdingCalculator",calculatorName:"handlandmarktrackinggpu__handlandmarkgpu__ThresholdingCalculator",fieldName:"threshold"}}}})}(t=Dt.prototype).close=function(){return this.i&&this.i.delete(),e.resolve()},t.reset=function(){var e=this;return b((function(t){e.i&&(e.i.reset(),e.o={},e.u={}),t.g=0}))},t.setOptions=function(e,t){var n=this;if(t=t||this.g.options){for(var i=[],r=[],o={},a=c(Object.keys(e)),s=a.next();!s.done;o={R:o.R,S:o.S},s=a.next()){var l=s.value;l in this.j&&this.j[l]===e[l]||(this.j[l]=e[l],void 0!==(s=t[l])&&(s.onChange&&(o.R=s.onChange,o.S=e[l],i.push(function(e){return function(){return b((function(t){if(1==t.g)return C(t,e.R(e.S),2);!0===t.h&&(n.s=!0),t.g=0}))}}(o))),s.graphOptionXref&&(l={valueNumber:1===s.type?e[l]:0,valueBoolean:0===s.type&&e[l],valueString:2===s.type?e[l]:""},s=Object.assign(Object.assign(Object.assign({},{calculatorName:"",calculatorIndex:0}),s.graphOptionXref),l),r.push(s))))}(0!==i.length||0!==r.length)&&(this.s=!0,this.B=(void 0===this.B?[]:this.B).concat(r),this.A=(void 0===this.A?[]:this.A).concat(i))}},t.initialize=function(){var e=this;return b((function(t){return 1==t.g?C(t,Vt(e),2):3!=t.g?C(t,function(e){var t,n,i,r,o,a,s,l;return b((function(d){if(1==d.g)return e.g.graph&&e.g.graph.url&&e.Z===e.g.graph.url?d.return():(e.s=!0,e.g.graph&&e.g.graph.url?(e.Z=e.g.graph.url,C(d,Zt(e,e.g.graph.url),3)):void(d.g=2));for(2!=d.g&&(t=d.h,e.i.loadGraph(t)),n=c(Object.keys(e.C)),i=n.next();!i.done;i=n.next())r=i.value,e.i.overrideFile(r,e.C[r]);if(e.C={},e.g.listeners)for(o=c(e.g.listeners),a=o.next();!a.done;a=o.next())s=a.value,Ot(e,s);l=e.j,e.j={},e.setOptions(l),d.g=0}))}(e),3):C(t,function(e){var t,n,i,r,o,a;return b((function(s){switch(s.g){case 1:if(!e.s)return s.return();if(!e.A){s.g=2;break}t=c(e.A),n=t.next();case 3:if(n.done){s.g=5;break}return C(s,(0,n.value)(),4);case 4:n=t.next(),s.g=3;break;case 5:e.A=void 0;case 2:if(e.B){for(i=new e.h.GraphOptionChangeRequestList,r=c(e.B),o=r.next();!o.done;o=r.next())a=o.value,i.push_back(a);e.i.changeOptions(i),i.delete(),e.B=void 0}e.s=!1,s.g=0}}))}(e),0)}))},t.overrideFile=function(e,t){this.i?this.i.overrideFile(e,t):this.C[e]=t},t.clearOverriddenFiles=function(){this.C={},this.i&&this.i.clearOverriddenFiles()},t.send=function(e,t){var n,i,r,o,a,s,l,d,u,h=this;return b((function(A){switch(A.g){case 1:return h.g.inputs?(n=1e3*(null==t?performance.now():t),C(A,h.D,2)):A.return();case 2:return C(A,h.initialize(),3);case 3:for(i=new h.h.PacketDataList,r=c(Object.keys(e)),o=r.next();!o.done;o=r.next())if(a=o.value,s=h.g.inputs[a]){e:{var p=e[a];switch(s.type){case"video":var g=h.o[s.stream];if(g||(g=new Bt(h.h,h.G),h.o[s.stream]=g),0===g.l&&(g.l=g.h.createTexture()),typeof HTMLVideoElement<"u"&&p instanceof HTMLVideoElement)var f=p.videoWidth,m=p.videoHeight;else typeof HTMLImageElement<"u"&&p instanceof HTMLImageElement?(f=p.naturalWidth,m=p.naturalHeight):(f=p.width,m=p.height);m={glName:g.l,width:f,height:m},(f=g.g).canvas.width=m.width,f.canvas.height=m.height,f.activeTexture(f.TEXTURE0),g.h.bindTexture2d(g.l),f.texImage2D(f.TEXTURE_2D,0,f.RGBA,f.RGBA,f.UNSIGNED_BYTE,p),g.h.bindTexture2d(0),g=m;break e;case"detections":for((g=h.o[s.stream])||(g=new Nt(h.h),h.o[s.stream]=g),g.data||(g.data=new g.g.DetectionListData),g.data.reset(p.length),m=0;m<p.length;++m){f=p[m];var E=g.data,I=E.setBoundingBox,Q=m,U=f.ea,y=new yt;if(Ce(y,1,U.ka),Ce(y,2,U.la),Ce(y,3,U.height),Ce(y,4,U.width),Ce(y,5,U.rotation),Ce(y,6,U.ia),U=rt(y,bt),I.call(E,Q,U),f.Y)for(E=0;E<f.Y.length;++E){var b=!!(y=f.Y[E]).visibility;Q=(I=g.data).addNormalizedLandmark,U=m,y=Object.assign(Object.assign({},y),{visibility:b?y.visibility:0}),Ce(b=new Et,1,y.x),Ce(b,2,y.y),Ce(b,3,y.z),y.visibility&&Ce(b,4,y.visibility),y=rt(b,Ct),Q.call(I,U,y)}if(f.V)for(E=0;E<f.V.length;++E)Q=(I=g.data).addClassification,U=m,y=f.V[E],Ce(b=new At,2,y.score),y.index&&Ce(b,1,y.index),y.label&&Ce(b,3,y.label),y.displayName&&Ce(b,4,y.displayName),y=rt(b,pt),Q.call(I,U,y)}g=g.data;break e;default:g={}}}switch(l=g,d=s.stream,s.type){case"video":i.pushTexture2d(Object.assign(Object.assign({},l),{stream:d,timestamp:n}));break;case"detections":(u=l).stream=d,u.timestamp=n,i.pushDetectionList(u);break;default:throw Error("Unknown input config type: '"+s.type+"'")}}return h.i.send(i),C(A,h.D,4);case 4:i.delete(),A.g=0}}))},t.onResults=function(e,t){this.listeners[t||"$"]=e},S("Solution",Dt),S("OptionType",{BOOL:0,NUMBER:1,ma:2,0:"BOOL",1:"NUMBER",2:"STRING"}),(t=xt.prototype).close=function(){return this.g.close(),e.resolve()},t.onResults=function(e){this.g.onResults(e)},t.initialize=function(){var e=this;return b((function(t){return C(t,e.g.initialize(),0)}))},t.reset=function(){this.g.reset()},t.send=function(e){var t=this;return b((function(n){return C(n,t.g.send(e),0)}))},t.setOptions=function(e){this.g.setOptions(e)},S("Hands",xt),S("HAND_CONNECTIONS",[[0,1],[1,2],[2,3],[3,4],[0,5],[5,6],[6,7],[7,8],[5,9],[9,10],[10,11],[11,12],[9,13],[13,14],[14,15],[15,16],[13,17],[0,17],[17,18],[18,19],[19,20]]),S("VERSION","0.4.1646424915")}).call(ye);var be={};(function(){var t;function i(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}var r="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e},o=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof(void 0!==typeof window?window:n.g)&&(void 0!==typeof window?window:n.g)];for(var t=0;t<e.length;++t){var i=e[t];if(i&&i.Math==Math)return i}throw Error("Cannot find global object")}(this);function a(e,t){if(t)e:{var n=o;e=e.split(".");for(var i=0;i<e.length-1;i++){var a=e[i];if(!(a in n))break e;n=n[a]}(t=t(i=n[e=e[e.length-1]]))!=i&&null!=t&&r(n,e,{configurable:!0,writable:!0,value:t})}}function s(e){return(e={next:e})[Symbol.iterator]=function(){return this},e}function c(e){var t=typeof Symbol<"u"&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:i(e)}}function l(e){if(!(e instanceof Array)){e=c(e);for(var t,n=[];!(t=e.next()).done;)n.push(t.value);e=n}return e}a("Symbol",(function(e){function t(e,t){this.g=e,r(this,"description",{configurable:!0,writable:!0,value:t})}if(e)return e;t.prototype.toString=function(){return this.g};var n="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",i=0;return function e(r){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new t(n+(r||"")+"_"+i++,r)}})),a("Symbol.iterator",(function(e){if(e)return e;e=Symbol("Symbol.iterator");for(var t="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),n=0;n<t.length;n++){var a=o[t[n]];"function"==typeof a&&"function"!=typeof a.prototype[e]&&r(a.prototype,e,{configurable:!0,writable:!0,value:function(){return s(i(this))}})}return e}));var d,u="function"==typeof Object.create?Object.create:function(e){function t(){}return t.prototype=e,new t};if("function"==typeof Object.setPrototypeOf)d=Object.setPrototypeOf;else{var h;e:{var A={};try{A.__proto__={a:!0},h=A.a;break e}catch{}h=!1}d=h?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+" is not extensible");return e}:null}var p=d;function g(e,t){if(e.prototype=u(t.prototype),e.prototype.constructor=e,p)p(e,t);else for(var n in t)if("prototype"!=n)if(Object.defineProperties){var i=Object.getOwnPropertyDescriptor(t,n);i&&Object.defineProperty(e,n,i)}else e[n]=t[n];e.da=t.prototype}function f(){this.l=!1,this.i=null,this.h=void 0,this.g=1,this.s=this.m=0,this.j=null}function m(e){if(e.l)throw new TypeError("Generator is already running");e.l=!0}function E(e,t){e.j={U:t,V:!0},e.g=e.m||e.s}function C(e,t,n){return e.g=n,{value:t}}function I(e){this.g=new f,this.h=e}function Q(e,t,n,i){try{var r=t.call(e.g.i,n);if(!(r instanceof Object))throw new TypeError("Iterator result "+r+" is not an object");if(!r.done)return e.g.l=!1,r;var o=r.value}catch(a){return e.g.i=null,E(e.g,a),U(e)}return e.g.i=null,i.call(e.g,o),U(e)}function U(e){for(;e.g.g;)try{var t=e.h(e.g);if(t)return e.g.l=!1,{value:t.value,done:!1}}catch(n){e.g.h=void 0,E(e.g,n)}if(e.g.l=!1,e.g.j){if(t=e.g.j,e.g.j=null,t.V)throw t.U;return{value:t.return,done:!0}}return{value:void 0,done:!0}}function y(e){this.next=function(t){return m(e.g),e.g.i?t=Q(e,e.g.i.next,t,e.g.o):(e.g.o(t),t=U(e)),t},this.throw=function(t){return m(e.g),e.g.i?t=Q(e,e.g.i.throw,t,e.g.o):(E(e.g,t),t=U(e)),t},this.return=function(t){return function(e,t){m(e.g);var n=e.g.i;return n?Q(e,"return"in n?n.return:function(e){return{value:e,done:!0}},t,e.g.return):(e.g.return(t),U(e))}(e,t)},this[Symbol.iterator]=function(){return this}}function b(t){return function(t){function n(e){return t.next(e)}function i(e){return t.throw(e)}return new e((function(r,o){!function t(a){a.done?r(a.value):e.resolve(a.value).then(n,i).then(t,o)}(t.next())}))}(new y(new I(t)))}f.prototype.o=function(e){this.h=e},f.prototype.return=function(e){this.j={return:e},this.g=this.s},a("Promise",(function(e){function t(e){this.h=0,this.i=void 0,this.g=[],this.o=!1;var t=this.j();try{e(t.resolve,t.reject)}catch(n){t.reject(n)}}function n(){this.g=null}function i(e){return e instanceof t?e:new t((function(t){t(e)}))}if(e)return e;n.prototype.h=function(e){if(null==this.g){this.g=[];var t=this;this.i((function(){t.l()}))}this.g.push(e)};var r=o.setTimeout;n.prototype.i=function(e){r(e,0)},n.prototype.l=function(){for(;this.g&&this.g.length;){var e=this.g;this.g=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(i){this.j(i)}}}this.g=null},n.prototype.j=function(e){this.i((function(){throw e}))},t.prototype.j=function(){function e(e){return function(i){n||(n=!0,e.call(t,i))}}var t=this,n=!1;return{resolve:e(this.C),reject:e(this.l)}},t.prototype.C=function(e){if(e===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.F(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.v(e):this.m(e)}},t.prototype.v=function(e){var t=void 0;try{t=e.then}catch(n){return void this.l(n)}"function"==typeof t?this.G(t,e):this.m(e)},t.prototype.l=function(e){this.s(2,e)},t.prototype.m=function(e){this.s(1,e)},t.prototype.s=function(e,t){if(0!=this.h)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.h);this.h=e,this.i=t,2===this.h&&this.D(),this.A()},t.prototype.D=function(){var e=this;r((function(){if(e.B()){var t=o.console;typeof t<"u"&&t.error(e.i)}}),1)},t.prototype.B=function(){if(this.o)return!1;var e=o.CustomEvent,t=o.Event,n=o.dispatchEvent;return typeof n>"u"||("function"==typeof e?e=new e("unhandledrejection",{cancelable:!0}):"function"==typeof t?e=new t("unhandledrejection",{cancelable:!0}):(e=o.document.createEvent("CustomEvent")).initCustomEvent("unhandledrejection",!1,!0,e),e.promise=this,e.reason=this.i,n(e))},t.prototype.A=function(){if(null!=this.g){for(var e=0;e<this.g.length;++e)a.h(this.g[e]);this.g=null}};var a=new n;return t.prototype.F=function(e){var t=this.j();e.J(t.resolve,t.reject)},t.prototype.G=function(e,t){var n=this.j();try{e.call(t,n.resolve,n.reject)}catch(i){n.reject(i)}},t.prototype.then=function(e,n){function i(e,t){return"function"==typeof e?function(t){try{r(e(t))}catch(n){o(n)}}:t}var r,o,a=new t((function(e,t){r=e,o=t}));return this.J(i(e,r),i(n,o)),a},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.J=function(e,t){function n(){switch(i.h){case 1:e(i.i);break;case 2:t(i.i);break;default:throw Error("Unexpected state: "+i.h)}}var i=this;null==this.g?a.h(n):this.g.push(n),this.o=!0},t.resolve=i,t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var r=c(e),o=r.next();!o.done;o=r.next())i(o.value).J(t,n)}))},t.all=function(e){var n=c(e),r=n.next();return r.done?i([]):new t((function(e,t){function o(t){return function(n){a[t]=n,0==--s&&e(a)}}var a=[],s=0;do{a.push(void 0),s++,i(r.value).J(o(a.length-1),t),r=n.next()}while(!r.done)}))},t}));var v="function"==typeof Object.assign?Object.assign:function(e,t){for(var n=1;n<arguments.length;n++){var i=arguments[n];if(i)for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e};a("Object.assign",(function(e){return e||v})),a("Object.is",(function(e){return e||function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}})),a("Array.prototype.includes",(function(e){return e||function(e,t){var n=this;n instanceof String&&(n=String(n));var i=n.length;for(0>(t=t||0)&&(t=Math.max(t+i,0));t<i;t++){var r=n[t];if(r===e||Object.is(r,e))return!0}return!1}})),a("String.prototype.includes",(function(e){return e||function(e,t){if(null==this)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(e instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return-1!==this.indexOf(e,t||0)}})),a("Array.prototype.keys",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,i=!1,r={next:function(){if(!i&&n<e.length){var r=n++;return{value:t(r,e[r]),done:!1}}return i=!0,{done:!0,value:void 0}}};return r[Symbol.iterator]=function(){return r},r}(this,(function(e){return e}))}}));var R=this||self;function S(e,t){e=e.split(".");var n,i=R;e[0]in i||typeof i.execScript>"u"||i.execScript("var "+e[0]);for(;e.length&&(n=e.shift());)e.length||void 0===t?i=i[n]&&i[n]!==Object.prototype[n]?i[n]:i[n]={}:i[n]=t}function F(e){!function(e){R.setTimeout((function(){throw e}),0)}(e)}function B(e,t){F(Error("Invalid wire type: "+e+" (at position "+t+")"))}function T(){F(Error("Failed to read varint, encoding is invalid."))}function N(e,t){return t=String.fromCharCode.apply(null,t),null==e?t:e+t}var _,w,k=typeof TextDecoder<"u",D=typeof TextEncoder<"u";function V(e){if(D)e=(w||(w=new TextEncoder)).encode(e);else{var t=void 0;t=void 0!==t&&t;for(var n=0,i=new Uint8Array(3*e.length),r=0;r<e.length;r++){var o=e.charCodeAt(r);if(128>o)i[n++]=o;else{if(2048>o)i[n++]=o>>6|192;else{if(55296<=o&&57343>=o){if(56319>=o&&r<e.length){var a=e.charCodeAt(++r);if(56320<=a&&57343>=a){o=1024*(o-55296)+a-56320+65536,i[n++]=o>>18|240,i[n++]=o>>12&63|128,i[n++]=o>>6&63|128,i[n++]=63&o|128;continue}r--}if(t)throw Error("Found an unpaired surrogate");o=65533}i[n++]=o>>12|224,i[n++]=o>>6&63|128}i[n++]=63&o|128}}e=i.subarray(0,n)}return e}var Z={},W=null;function O(e){var t;void 0===t&&(t=0),x(),t=Z[t];for(var n=Array(Math.floor(e.length/3)),i=t[64]||"",r=0,o=0;r<e.length-2;r+=3){var a=e[r],s=e[r+1],c=e[r+2],l=t[a>>2];a=t[(3&a)<<4|s>>4],s=t[(15&s)<<2|c>>6],c=t[63&c],n[o++]=l+a+s+c}switch(l=0,c=i,e.length-r){case 2:c=t[(15&(l=e[r+1]))<<2]||i;case 1:e=e[r],n[o]=t[e>>2]+t[(3&e)<<4|l>>4]+c+i}return n.join("")}function J(e){var t=e.length,n=3*t/4;n%3?n=Math.floor(n):-1!="=.".indexOf(e[t-1])&&(n=-1!="=.".indexOf(e[t-2])?n-2:n-1);var i=new Uint8Array(n),r=0;return function(e,t){function n(t){for(;i<e.length;){var n=e.charAt(i++),r=W[n];if(null!=r)return r;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return t}x();for(var i=0;;){var r=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===r)break;t(r<<2|o>>4),64!=a&&(t(o<<4&240|a>>2),64!=s&&t(a<<6&192|s))}}(e,(function(e){i[r++]=e})),i.subarray(0,r)}function x(){if(!W){W={};for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),t=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++){var i=e.concat(t[n].split(""));Z[n]=i;for(var r=0;r<i.length;r++){var o=i[r];void 0===W[o]&&(W[o]=r)}}}}var M,L="function"==typeof Uint8Array;function P(e){if(this.g=e,null!==e&&0===e.length)throw Error("ByteString should be constructed with non-empty values")}P.prototype.toJSON=function(){if(null==this.g)var e="";else e=this.g,e=this.g=null==e||"string"==typeof e?e:L&&e instanceof Uint8Array?O(e):null;return e};var G="function"==typeof Uint8Array.prototype.slice;function Y(e,t,n){return t===n?M||(M=new Uint8Array(0)):G?e.slice(t,n):new Uint8Array(e.subarray(t,n))}var j=0;function X(e,t){t=void 0!==(t=void 0===t?{}:t).u&&t.u,this.h=null,this.g=this.i=this.m=0,this.l=!1,this.u=t,e&&K(this,e)}function K(e,t){e.h=function(e){if(e.constructor===Uint8Array)return e;if(e.constructor===ArrayBuffer)return new Uint8Array(e);if(e.constructor===Array)return new Uint8Array(e);if(e.constructor===String)return J(e);if(e.constructor===P){if(null==e.g)var t=M||(M=new Uint8Array(0));else{t=Uint8Array;var n=e.g;n=null==n||L&&null!=n&&n instanceof Uint8Array?n:"string"==typeof n?J(n):null,t=new t(e=e.g=n)}return t}if(e instanceof Uint8Array)return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw Error("Type not convertible to a Uint8Array, expected a Uint8Array, an ArrayBuffer, a base64 encoded string, or Array of numbers")}(t),e.m=0,e.i=e.h.length,e.g=e.m}function H(e){for(var t=128,n=0,i=0,r=0;4>r&&128<=t;r++)n|=(127&(t=e.h[e.g++]))<<7*r;if(128<=t&&(n|=(127&(t=e.h[e.g++]))<<28,i|=(127&t)>>4),128<=t)for(r=0;5>r&&128<=t;r++)i|=(127&(t=e.h[e.g++]))<<7*r+3;if(128>t)return e=n>>>0,(i=2147483648&(t=i>>>0))&&(t=~t>>>0,0==(e=1+~e>>>0)&&(t=t+1>>>0)),e=4294967296*t+(e>>>0),i?-e:e;e.l=!0,T()}function z(e){e.g>e.i&&(e.l=!0,F(Error("Tried to read past the end of the data "+e.g+" > "+e.i)))}X.prototype.reset=function(){this.g=this.m},X.prototype.j=function(){var e=this.h,t=e[this.g],n=127&t;return 128>t?(this.g+=1,z(this),n):(n|=(127&(t=e[this.g+1]))<<7,128>t?(this.g+=2,z(this),n):(n|=(127&(t=e[this.g+2]))<<14,128>t?(this.g+=3,z(this),n):(n|=(127&(t=e[this.g+3]))<<21,128>t?(this.g+=4,z(this),n):(n|=(15&(t=e[this.g+4]))<<28,128>t?(this.g+=5,z(this),n>>>0):(this.g+=5,128<=e[this.g++]&&128<=e[this.g++]&&128<=e[this.g++]&&128<=e[this.g++]&&128<=e[this.g++]?(this.l=!0,T(),n):(z(this),n))))))},X.prototype.o=function(){var e=this.h[this.g],t=this.h[this.g+1],n=this.h[this.g+2],i=this.h[this.g+3];return this.g+=4,z(this),e=2*((n=(e<<0|t<<8|n<<16|i<<24)>>>0)>>31)+1,t=n>>>23&255,n&=8388607,255==t?n?NaN:1/0*e:0==t?e*Math.pow(2,-149)*n:e*Math.pow(2,t-150)*(n+Math.pow(2,23))};var q=[];function $(){this.g=new Uint8Array(64),this.h=0}function ee(e,t){if(!(e.h+1<e.g.length)){var n=e.g;e.g=new Uint8Array(Math.ceil(1+2*e.g.length)),e.g.set(n)}e.g[e.h++]=t}function te(e,t){for(;127<t;)ee(e,127&t|128),t>>>=7;ee(e,t)}function ne(e){var t={},n=void 0!==t.N&&t.N;this.m={u:void 0!==t.u&&t.u},this.N=n,t=this.m,q.length?(n=q.pop(),t&&(n.u=t.u),e&&K(n,e),e=n):e=new X(e,t),this.g=e,this.l=this.g.g,this.h=this.i=-1,this.j=!1}function ie(e){var t=e.g;if((t=t.g==t.i)||(t=e.j)||(t=(t=e.g).l||0>t.g||t.g>t.i),t)return!1;e.l=e.g.g;var n=e.g.j();return t=n>>>3,0<=(n&=7)&&5>=n?(e.i=t,e.h=n,!0):(e.j=!0,B(n,e.l),!1)}function re(e){switch(e.h){case 0:if(0!=e.h)re(e);else e:{for(var t=(e=e.g).g,n=0;10>n;n++){if(0===(128&e.h[t])){e.g=t+1,z(e);break e}t++}e.l=!0,T()}break;case 1:(e=e.g).g+=8,z(e);break;case 2:2!=e.h?re(e):(t=e.g.j(),(e=e.g).g+=t,z(e));break;case 5:(e=e.g).g+=4,z(e);break;case 3:for(t=e.i;;){if(!ie(e)){e.j=!0,F(Error("Unmatched start-group tag: stream EOF"));break}if(4==e.h){e.i!=t&&(e.j=!0,F(Error("Unmatched end-group tag")));break}re(e)}break;default:e.j=!0,B(e.h,e.l)}}function oe(e,t,n){e.N||(e=Y(e.g.h,n,e.g.g),(n=t.o)?n.push(e):t.o=[e])}function ae(e,t,n){var i=e.g.i,r=e.g.j(),o=e.g.g+r;if(e.g.i=o,n(t,e),0!==(n=o-e.g.g))throw Error("Message parsing ended unexpectedly. Expected to read "+r+" bytes, instead read "+(r-n)+" bytes, either the data ended unexpectedly or the message misreported its own length");return e.g.g=o,e.g.i=i,t}function se(e,t,n){var i=e.g.j();for(i=e.g.g+i;e.g.g<i;)n.push(t.call(e.g))}$.prototype.length=function(){return this.h},$.prototype.end=function(){var e=this.g,t=this.h;return this.h=0,Y(e,0,t)},ne.prototype.reset=function(){this.g.reset(),this.h=this.i=-1};var ce=[];function le(){this.h=[],this.i=0,this.g=new $}function de(e,t){0!==t.length&&(e.h.push(t),e.i+=t.length)}function ue(e,t,n){te(e.g,8*t+2),te(e.g,n.length),de(e,e.g.end()),de(e,n)}var he,Ae="function"==typeof Symbol&&"symbol"==typeof Symbol()?Symbol(void 0):void 0;function pe(e,t){Object.isFrozen(e)||(Ae?e[Ae]|=t:void 0!==e.g?e.g|=t:Object.defineProperties(e,{g:{value:t,configurable:!0,writable:!0,enumerable:!1}}))}function ge(e){return e?null==(t=Ae?e[Ae]:e.g)?0:t:0;var t}function fe(e){return Array.isArray(e)&&pe(e,1),e}function me(e){if(!Array.isArray(e))throw Error("cannot mark non-array as immutable");pe(e,2)}function Ee(e){return null!==e&&"object"==typeof e&&e.constructor===Object}function Ce(e){switch(typeof e){case"number":return isFinite(e)?e:String(e);case"object":return L&&null!=e&&e instanceof Uint8Array?O(e):e;default:return e}}function Ie(e,t){if(null!=e)return Array.isArray(e)||Ee(e)?Qe(e,t):t(e)}function Qe(e,t){if(Array.isArray(e)){for(var n=Array(e.length),i=0;i<e.length;i++)n[i]=Ie(e[i],t);return 1&ge(e)&&fe(n),n}for(i in n={},e)n[i]=Ie(e[i],t);return n}function Ue(e,t,n){var i=he;if(he=null,e||(e=i),i=this.constructor.ba,e||(e=i?[i]:[]),this.j=(i?0:-1)-(this.constructor.$||0),this.m=this.g=null,this.h=e,e=(i=this.h.length)-1,i&&Ee(i=this.h[e])?(this.l=e-this.j,this.i=i):void 0!==t&&-1<t?(this.l=Math.max(t,e+1-this.j),this.i=null):this.l=Number.MAX_VALUE,n)for(t=0;t<n.length;t++)(e=n[t])<this.l?(e+=this.j,(i=this.h[e])?fe(i):this.h[e]=be):(ve(this),(i=this.i[e])?fe(i):this.i[e]=be)}var ye,be=Object.freeze(fe([]));function ve(e){var t=e.l+e.j;e.h[t]||(e.i=e.h[t]={})}function Re(e,t,n){return-1===t?null:void 0!==n&&n||t>=e.l?e.i?e.i[t]:void 0:e.h[t+e.j]}function Se(e,t,n){n=void 0===n||n;var i=void 0!==i&&i,r=Re(e,t,i);return null==r&&(r=be),r===be?Ne(e,t,r=fe([]),i):n&&Array.isArray(r)&&2&ge(r)&&Ne(e,t,r=r.slice(),i),r}function Fe(e){var t=Se(e,3,!1);if(e.m||(e.m={}),!e.m[3]){for(var n=0;n<t.length;n++)t[n]=+t[n];e.m[3]=!0}return t}function Be(e,t,n){return null==(e=Re(e,t))?n:e}function Te(e,t,n){return null==(e=null==(e=Re(e,t))?e:+e)?void 0===n?0:n:e}function Ne(e,t,n,i){void 0!==i&&i||t>=e.l?(ve(e),e.i[t]=n):e.h[t+e.j]=n}function _e(e,t,n){if(-1===n)return null;e.g||(e.g={});var i=e.g[n];if(i)return i;var r=Re(e,n,!1);return null==r?i:(t=new t(r),e.g[n]=t)}function we(e,t,n){e.g||(e.g={});var i=e.g[n];if(!i){var r=Se(e,n,!1);i=[];for(var o=!!Array.isArray(r)&&!!(2&ge(r)),a=0;a<r.length;a++)i[a]=new t(r[a]),o&&me(i[a].h);o&&(me(i),Object.freeze(i)),e.g[n]=i}return i}function ke(e,t,n,i,r){var o=we(e,i,t);n=n||new i,e=Se(e,t),null!=r?(o.splice(r,0,n),e.splice(r,0,De(n))):(o.push(n),e.push(De(n)))}function De(e){if(e.g)for(var t in e.g){var n=e.g[t];if(Array.isArray(n))for(var i=0;i<n.length;i++)n[i]&&De(n[i]);else n&&De(n)}return e.h}function Ve(e,t){if(e=e.o){de(t,t.g.end());for(var n=0;n<e.length;n++)de(t,e[n])}}function Ze(e){var t=e[0];switch(e.length){case 2:var n=e[1];return function(e,i,r){return t(e,i,r,n)};case 3:var i=e[1],r=e[2];return function(e,n,o){return t(e,n,o,i,r)};case 4:var o=e[1],a=e[2],s=e[3];return function(e,n,i){return t(e,n,i,o,a,s)};default:throw Error("unsupported number of parameters, expected [2-4], got "+e.length)}}function We(e,t,n){for(;ie(t)&&4!=t.h;){var i=t.i,r=n[i];if(r){if(Array.isArray(r)&&(r=n[i]=Ze(r)),!r(t,e,i)){r=e;var o=(i=t).l;re(i),oe(i,r,o)}}else r=e,o=(i=t).l,re(i),oe(i,r,o)}return e}function Oe(e,t){var n=new le;if(t(e,n),0===(e=n.i+n.g.length()))n=new Uint8Array(0);else{e=new Uint8Array(e);for(var i=n.h,r=i.length,o=t=0;o<r;o++){var a=i[o];0!==a.length&&(e.set(a,t),t+=a.length)}0!==(r=(i=n.g).h)&&(e.set(i.g.subarray(0,r),t),i.h=0),n.h=[e],n=e}return n}function Je(e,t,n){if(ce.length){var i=ce.pop();e&&(K(i.g,e),i.i=-1,i.h=-1),e=i}else e=new ne(e);try{return n(new t,e)}finally{(t=e.g).h=null,t.m=0,t.i=0,t.g=0,t.l=!1,t.u=!1,e.i=-1,e.h=-1,e.j=!1,100>ce.length&&ce.push(e)}}function xe(e,t,n){if(null!=(t=Re(t,n))){te(e.g,8*n+5),e=e.g;var i=t;0===(i=(n=0>i?1:0)?-i:i)?j=0<1/i?0:2147483648:isNaN(i)?j=2147483647:34028234663852886e22<i?j=(n<<31|2139095040)>>>0:11754943508222875e-54>i?(i=Math.round(i/Math.pow(2,-149)),j=(n<<31|i)>>>0):(t=Math.floor(Math.log(i)/Math.LN2),i*=Math.pow(2,-t),16777216<=(i=Math.round(8388608*i))&&++t,j=(n<<31|t+127<<23|8388607&i)>>>0),ee(e,(n=j)>>>0&255),ee(e,n>>>8&255),ee(e,n>>>16&255),ee(e,n>>>24&255)}}function Me(e,t,n){return 5===e.h&&(Ne(t,n,e.g.o()),!0)}function Le(e,t,n){return(5===e.h||2===e.h)&&(t=Se(t,n),2==e.h?se(e,X.prototype.o,t):t.push(e.g.o()),!0)}function Pe(e,t,n){return 0===e.h&&(Ne(t,n,H(e.g)),!0)}function Ge(e,t,n){return 0===e.h&&(Ne(t,n,e.g.j()),!0)}function Ye(e,t,n){if(2!==e.h)return!1;var i,r=e.g.j(),o=(e=e.g).g;if(e.g+=r,z(e),e=e.h,k)(i=_)||(i=_=new TextDecoder("utf-8",{fatal:!1})),i=i.decode(e.subarray(o,o+r));else{r=o+r;for(var a,s,c,l=[],d=null;o<r;)128>(a=e[o++])?l.push(a):224>a?o>=r?l.push(65533):(s=e[o++],194>a||128!==(192&s)?(o--,l.push(65533)):l.push((31&a)<<6|63&s)):240>a?o>=r-1?l.push(65533):128!==(192&(s=e[o++]))||224===a&&160>s||237===a&&160<=s||128!==(192&(i=e[o++]))?(o--,l.push(65533)):l.push((15&a)<<12|(63&s)<<6|63&i):244>=a?o>=r-2?l.push(65533):128!==(192&(s=e[o++]))||s-144+(a<<28)>>30!==0||128!==(192&(i=e[o++]))||128!==(192&(c=e[o++]))?(o--,l.push(65533)):(a=(7&a)<<18|(63&s)<<12|(63&i)<<6|63&c,a-=65536,l.push(55296+(a>>10&1023),56320+(1023&a))):l.push(65533),8192<=l.length&&(d=N(d,l),l.length=0);i=N(d,l)}return Ne(t,n,i),!0}function je(e,t,n,i,r){if(2!==e.h)return!1;e=ae(e,new i,r);var o=void 0!==o&&o;return t.g||(t.g={}),i=e&&De(e),t.g[n]=e,Ne(t,n,i,o),!0}function Xe(e,t,n,i,r){return 2===e.h&&(ke(t,n,e=ae(e,new i,r),i,void 0),!0)}function Ke(e,t,n){return(0===e.h||2===e.h)&&(t=Se(t,n),2==e.h?se(e,X.prototype.j,t):t.push(e.g.j()),!0)}function He(e,t,n){return 0===e.h&&(Ne(t,n,H(e.g)),!0)}function ze(e){Ue.call(this,e,-1,tt)}function qe(e,t){return We(e,t,ye||(ye={1:Ge,2:Ge,3:Le,4:He}))}Ue.prototype.toJSON=function(){return Qe(De(this),Ce)},Ue.prototype.toString=function(){return De(this).toString()},g(ze,Ue),ze.prototype.getRows=function(){return Re(this,1)},ze.prototype.getCols=function(){return Re(this,2)},ze.prototype.getPackedDataList=function(){return Fe(this)},ze.prototype.getLayout=function(){return Be(this,4,0)};var $e,et,tt=[3];function nt(e){Ue.call(this,e)}function it(e,t){var n=Re(e,1);if(null!=n&&null!=n){te(t.g,8);var i=t.g;if(0<=n)te(i,n);else{for(var r=0;9>r;r++)ee(i,127&n|128),n>>=7;ee(i,1)}}xe(t,e,2),null!=(i=Re(e,3))&&ue(t,3,V(i)),null!=(i=Re(e,4))&&ue(t,4,V(i)),Ve(e,t)}function rt(e,t){return We(e,t,$e||($e={1:Ge,2:Me,3:Ye,4:Ye}))}function ot(e){Ue.call(this,e,-1,lt)}function at(e,t){return We(e,t,et||(et={1:[Xe,nt,rt]}))}g(nt,Ue),g(ot,Ue),ot.prototype.addClassification=function(e,t){return ke(this,1,e,nt,t),this};var st,ct,lt=[1];function dt(e){Ue.call(this,e)}function ut(e,t){xe(t,e,1),xe(t,e,2),xe(t,e,3),xe(t,e,4),xe(t,e,5),Ve(e,t)}function ht(e,t){return We(e,t,st||(st={1:Me,2:Me,3:Me,4:Me,5:Me}))}function At(e){Ue.call(this,e,-1,mt)}function pt(e,t){return We(e,t,ct||(ct={1:[Xe,dt,ht]}))}g(dt,Ue),g(At,Ue);var gt,ft,mt=[1];function Et(e){Ue.call(this,e)}function Ct(e,t){xe(t,e,1),xe(t,e,2),xe(t,e,3),xe(t,e,4),xe(t,e,5);var n=Re(e,6);if(null!=n&&null!=n){te(t.g,48);var i=t.g,r=n;n=0>r;var o=(r=Math.abs(r))>>>0;for(r=Math.floor((r-o)/4294967296),r>>>=0,n&&(r=~r>>>0,4294967295<(o=1+(~o>>>0))&&(o=0,4294967295<++r&&(r=0))),n=j=o,o=r;0<o||127<n;)ee(i,127&n|128),n=(n>>>7|o<<25)>>>0,o>>>=7;ee(i,n)}Ve(e,t)}function It(e,t){return We(e,t,gt||(gt={1:Me,2:Me,3:Me,4:Me,5:Me,6:Pe}))}function Qt(e){Ue.call(this,e,-1,bt)}function Ut(e,t){return We(e,t,ft||(ft={1:He,2:He,3:Le,4:Ke}))}g(Et,Ue),g(Qt,Ue),Qt.prototype.getVertexType=function(){return Be(this,1,0)},Qt.prototype.getPrimitiveType=function(){return Be(this,2,0)},Qt.prototype.getVertexBufferList=function(){return Fe(this)},Qt.prototype.getIndexBufferList=function(){return Se(this,4)};var yt,bt=[3,4];function vt(e){Ue.call(this,e)}function Rt(e,t){return We(e,t,yt||(yt={1:[je,Qt,Ut],2:[je,ze,qe]}))}g(vt,Ue),vt.prototype.getMesh=function(){return _e(this,Qt,1)},vt.prototype.getPoseTransformMatrix=function(){return _e(this,ze,2)};var St=[[61,146],[146,91],[91,181],[181,84],[84,17],[17,314],[314,405],[405,321],[321,375],[375,291],[61,185],[185,40],[40,39],[39,37],[37,0],[0,267],[267,269],[269,270],[270,409],[409,291],[78,95],[95,88],[88,178],[178,87],[87,14],[14,317],[317,402],[402,318],[318,324],[324,308],[78,191],[191,80],[80,81],[81,82],[82,13],[13,312],[312,311],[311,310],[310,415],[415,308]],Ft=[[263,249],[249,390],[390,373],[373,374],[374,380],[380,381],[381,382],[382,362],[263,466],[466,388],[388,387],[387,386],[386,385],[385,384],[384,398],[398,362]],Bt=[[276,283],[283,282],[282,295],[295,285],[300,293],[293,334],[334,296],[296,336]],Tt=[[33,7],[7,163],[163,144],[144,145],[145,153],[153,154],[154,155],[155,133],[33,246],[246,161],[161,160],[160,159],[159,158],[158,157],[157,173],[173,133]],Nt=[[46,53],[53,52],[52,65],[65,55],[70,63],[63,105],[105,66],[66,107]],_t=[[10,338],[338,297],[297,332],[332,284],[284,251],[251,389],[389,356],[356,454],[454,323],[323,361],[361,288],[288,397],[397,365],[365,379],[379,378],[378,400],[400,377],[377,152],[152,148],[148,176],[176,149],[149,150],[150,136],[136,172],[172,58],[58,132],[132,93],[93,234],[234,127],[127,162],[162,21],[21,54],[54,103],[103,67],[67,109],[109,10]],wt=[].concat(l(St),l(Ft),l(Bt),l(Tt),l(Nt),l(_t));function kt(e,t,n){if(n=e.createShader(0===n?e.VERTEX_SHADER:e.FRAGMENT_SHADER),e.shaderSource(n,t),e.compileShader(n),!e.getShaderParameter(n,e.COMPILE_STATUS))throw Error("Could not compile WebGL shader.\n\n"+e.getShaderInfoLog(n));return n}function Dt(e){return we(e,nt,1).map((function(e){return{index:Be(e,1,0),score:Te(e,2),label:null!=Re(e,3)?Be(e,3,""):void 0,displayName:null!=Re(e,4)?Be(e,4,""):void 0}}))}function Vt(e){return{x:Te(e,1),y:Te(e,2),z:Te(e,3),visibility:null!=Re(e,4)?Te(e,4):void 0}}function Zt(e){return we(Je(e,At,pt),dt,1).map(Vt)}function Wt(e,t){this.h=e,this.g=t,this.l=0}function Ot(t,n,i){return function(e,t){var n=e.g;if(void 0===e.m){var i=kt(n,"\n  attribute vec2 aVertex;\n  attribute vec2 aTex;\n  varying vec2 vTex;\n  void main(void) {\n    gl_Position = vec4(aVertex, 0.0, 1.0);\n    vTex = aTex;\n  }",0),r=kt(n,"\n  precision mediump float;\n  varying vec2 vTex;\n  uniform sampler2D sampler0;\n  void main(){\n    gl_FragColor = texture2D(sampler0, vTex);\n  }",1),o=n.createProgram();if(n.attachShader(o,i),n.attachShader(o,r),n.linkProgram(o),!n.getProgramParameter(o,n.LINK_STATUS))throw Error("Could not compile WebGL program.\n\n"+n.getProgramInfoLog(o));i=e.m=o,n.useProgram(i),r=n.getUniformLocation(i,"sampler0"),e.j={I:n.getAttribLocation(i,"aVertex"),H:n.getAttribLocation(i,"aTex"),ca:r},e.s=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,e.s),n.enableVertexAttribArray(e.j.I),n.vertexAttribPointer(e.j.I,2,n.FLOAT,!1,0,0),n.bufferData(n.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),n.STATIC_DRAW),n.bindBuffer(n.ARRAY_BUFFER,null),e.o=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,e.o),n.enableVertexAttribArray(e.j.H),n.vertexAttribPointer(e.j.H,2,n.FLOAT,!1,0,0),n.bufferData(n.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,0,1,1]),n.STATIC_DRAW),n.bindBuffer(n.ARRAY_BUFFER,null),n.uniform1i(r,0)}i=e.j,n.useProgram(e.m),n.canvas.width=t.width,n.canvas.height=t.height,n.viewport(0,0,t.width,t.height),n.activeTexture(n.TEXTURE0),e.h.bindTexture2d(t.glName),n.enableVertexAttribArray(i.I),n.bindBuffer(n.ARRAY_BUFFER,e.s),n.vertexAttribPointer(i.I,2,n.FLOAT,!1,0,0),n.enableVertexAttribArray(i.H),n.bindBuffer(n.ARRAY_BUFFER,e.o),n.vertexAttribPointer(i.H,2,n.FLOAT,!1,0,0),n.bindFramebuffer(n.DRAW_FRAMEBUFFER?n.DRAW_FRAMEBUFFER:n.FRAMEBUFFER,null),n.clearColor(0,0,0,0),n.clear(n.COLOR_BUFFER_BIT),n.colorMask(!0,!0,!0,!0),n.drawArrays(n.TRIANGLE_FAN,0,4),n.disableVertexAttribArray(i.I),n.disableVertexAttribArray(i.H),n.bindBuffer(n.ARRAY_BUFFER,null),e.h.bindTexture2d(0)}(t,n),"function"==typeof t.g.canvas.transferToImageBitmap?e.resolve(t.g.canvas.transferToImageBitmap()):i?e.resolve(t.g.canvas):"function"==typeof createImageBitmap?createImageBitmap(t.g.canvas):(void 0===t.i&&(t.i=document.createElement("canvas")),new e((function(e){t.i.height=t.g.canvas.height,t.i.width=t.g.canvas.width,t.i.getContext("2d",{}).drawImage(t.g.canvas,0,0,t.g.canvas.width,t.g.canvas.height),e(t.i)})))}function Jt(e){this.g=e}var xt=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]);function Mt(e,t){return t+e}function Lt(e,t){window[e]=t}function Pt(t){if(this.g=t,this.listeners={},this.j={},this.F={},this.m={},this.s={},this.G=this.o=this.R=!0,this.C=e.resolve(),this.P="",this.B={},this.locateFile=t&&t.locateFile||Mt,"object"==typeof window)var n=window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/";else{if(!(typeof location<"u"))throw Error("solutions can only be loaded on a web page or in a web worker");n=location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/"}if(this.S=n,t.options)for(var i=(n=c(Object.keys(t.options))).next();!i.done;i=n.next()){i=i.value;var r=t.options[i].default;void 0!==r&&(this.j[i]="function"==typeof r?r():r)}}function Gt(t){var n,i,r,o,a,s,c,d,u,h,A;return b((function(p){switch(p.g){case 1:return t.R?(n=void 0===t.g.files?[]:"function"==typeof t.g.files?t.g.files(t.j):t.g.files,C(p,b((function(e){switch(e.g){case 1:return e.m=2,C(e,WebAssembly.instantiate(xt),4);case 4:e.g=3,e.m=0;break;case 2:return e.m=0,e.j=null,e.return(!1);case 3:return e.return(!0)}})),2)):p.return();case 2:if(i=p.h,"object"==typeof window)return Lt("createMediapipeSolutionsWasm",{locateFile:t.locateFile}),Lt("createMediapipeSolutionsPackedAssets",{locateFile:t.locateFile}),s=n.filter((function(e){return void 0!==e.data})),c=n.filter((function(e){return void 0===e.data})),d=e.all(s.map((function(n){var i=Yt(t,n.url);if(void 0!==n.path){var r=n.path;i=i.then((function(n){return t.overrideFile(r,n),e.resolve(n)}))}return i}))),u=e.all(c.map((function(n){return void 0===n.simd||n.simd&&i||!n.simd&&!i?function(t){var n=document.createElement("script");return n.setAttribute("src",t),n.setAttribute("crossorigin","anonymous"),new e((function(e){n.addEventListener("load",(function(){e()}),!1),n.addEventListener("error",(function(){e()}),!1),document.body.appendChild(n)}))}(t.locateFile(n.url,t.S)):e.resolve()}))).then((function(){var e,n,i;return b((function(r){if(1==r.g)return e=window.createMediapipeSolutionsWasm,n=window.createMediapipeSolutionsPackedAssets,i=t,C(r,e(n),2);i.h=r.h,r.g=0}))})),h=b((function(e){return t.g.graph&&t.g.graph.url?e=C(e,Yt(t,t.g.graph.url),0):(e.g=0,e=void 0),e})),C(p,e.all([u,d,h]),7);if("function"!=typeof importScripts)throw Error("solutions can only be loaded on a web page or in a web worker");return r=n.filter((function(e){return void 0===e.simd||e.simd&&i||!e.simd&&!i})).map((function(e){return t.locateFile(e.url,t.S)})),importScripts.apply(null,l(r)),o=t,C(p,createMediapipeSolutionsWasm(Module),6);case 6:o.h=p.h,t.l=new OffscreenCanvas(1,1),t.h.canvas=t.l,a=t.h.GL.createContext(t.l,{antialias:!1,alpha:!1,aa:typeof WebGL2RenderingContext<"u"?2:1}),t.h.GL.makeContextCurrent(a),p.g=4;break;case 7:if(t.l=document.createElement("canvas"),!(A=t.l.getContext("webgl2",{}))&&!(A=t.l.getContext("webgl",{})))return alert("Failed to create WebGL canvas context when passing video frame."),p.return();t.D=A,t.h.canvas=t.l,t.h.createContext(t.l,!0,!0,{});case 4:t.i=new t.h.SolutionWasm,t.R=!1,p.g=0}}))}function Yt(e,t){var n,i;return b((function(r){return t in e.F?r.return(e.F[t]):(n=e.locateFile(t,""),i=fetch(n).then((function(e){return e.arrayBuffer()})),e.F[t]=i,r.return(i))}))}function jt(e,t,n){var i,r,o,a,s,l,d,u,h,A,p,g,f,m;return b((function(E){switch(E.g){case 1:if(!n)return E.return(t);for(i={},r=0,o=c(Object.keys(n)),a=o.next();!a.done;a=o.next())s=a.value,"string"!=typeof(l=n[s])&&"texture"===l.type&&void 0!==t[l.stream]&&++r;1<r&&(e.G=!1),d=c(Object.keys(n)),a=d.next();case 2:if(a.done){E.g=4;break}if(u=a.value,"string"==typeof(h=n[u]))return f=i,m=u,C(E,function(e,t,n){var i;return b((function(r){return"number"==typeof n||n instanceof Uint8Array||n instanceof e.h.Uint8BlobList?r.return(n):n instanceof e.h.Texture2dDataOut?((i=e.s[t])||(i=new Wt(e.h,e.D),e.s[t]=i),r.return(Ot(i,n,e.G))):r.return(void 0)}))}(e,u,t[h]),14);if(A=t[h.stream],"detection_list"===h.type){if(A){for(var I=A.getRectList(),Q=A.getLandmarksList(),U=A.getClassificationsList(),y=[],v=0;v<I.size();++v){var R=Je(I.get(v),Et,It);R={T:{X:Te(R,1),Y:Te(R,2),height:Te(R,3),width:Te(R,4),rotation:Te(R,5,0),W:Be(R,6,0)},O:Zt(Q.get(v)),M:Dt(Je(U.get(v),ot,at))},y.push(R)}I=y}else I=[];i[u]=I,E.g=7;break}if("proto_list"===h.type){if(A){for(I=Array(A.size()),Q=0;Q<A.size();Q++)I[Q]=A.get(Q);A.delete()}else I=[];i[u]=I,E.g=7;break}if(void 0===A){E.g=3;break}if("float_list"===h.type){i[u]=A,E.g=7;break}if("proto"===h.type){i[u]=A,E.g=7;break}if("texture"!==h.type)throw Error("Unknown output config type: '"+h.type+"'");return(p=e.s[u])||(p=new Wt(e.h,e.D),e.s[u]=p),C(E,Ot(p,A,e.G),13);case 13:g=E.h,i[u]=g;case 7:h.transform&&i[u]&&(i[u]=h.transform(i[u])),E.g=3;break;case 14:f[m]=E.h;case 3:a=d.next(),E.g=2;break;case 4:return E.return(i)}}))}function Xt(e,t){for(var n=t.name||"$",i=[].concat(l(t.wants)),r=new e.h.StringList,o=c(t.wants),a=o.next();!a.done;a=o.next())r.push_back(a.value);o=e.h.PacketListener.implement({onResults:function(r){for(var o={},a=0;a<t.wants.length;++a)o[i[a]]=r.get(a);var s=e.listeners[n];s&&(e.C=jt(e,o,t.outs).then((function(n){n=s(n);for(var r=0;r<t.wants.length;++r){var a=o[i[r]];"object"==typeof a&&a.hasOwnProperty&&a.hasOwnProperty("delete")&&a.delete()}n&&(e.C=n)})))}}),e.i.attachMultiListener(r,o),r.delete()}function Kt(e){return e.map(Ht)}function Ht(e){var t=(e=Je(e,vt,Rt)).getMesh();if(!t)return e;var n=new Float32Array(t.getVertexBufferList());t.getVertexBufferList=function(){return n};var i=new Uint32Array(t.getIndexBufferList());return t.getIndexBufferList=function(){return i},e}function zt(e){var t=this;e=e||{},this.g=new Pt({locateFile:e.locateFile,files:[{url:"holistic_solution_packed_assets_loader.js"},{simd:!1,url:"holistic_solution_wasm_bin.js"},{simd:!0,url:"holistic_solution_simd_wasm_bin.js"}],graph:{url:"holistic.binarypb"},inputs:{image:{type:"video",stream:"input_frames_gpu"}},listeners:[{wants:"left_hand_landmarks right_hand_landmarks face_landmarks pose_landmarks world_landmarks segmentation_mask image_transformed multi_face_geometry".split(" "),outs:{image:{type:"texture",stream:"image_transformed"},leftHandLandmarks:{type:"proto",stream:"left_hand_landmarks",transform:Zt},rightHandLandmarks:{type:"proto",stream:"right_hand_landmarks",transform:Zt},faceLandmarks:{type:"proto",stream:"face_landmarks",transform:Zt},poseLandmarks:{type:"proto",stream:"pose_landmarks",transform:Zt},ea:{type:"proto",stream:"world_landmarks",transform:Zt},segmentationMask:{type:"texture",stream:"segmentation_mask"},multiFaceGeometry:{type:"proto_list",stream:"multi_face_geometry",transform:Kt}}}],options:{useCpuInference:{type:0,graphOptionXref:{calculatorType:"InferenceCalculator",fieldName:"use_cpu_inference"},default:"iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";").includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document},enableFaceGeometry:{type:0,graphOptionXref:{calculatorName:"EnableFaceGeometryConstant",calculatorType:"ConstantSidePacketCalculator",fieldName:"bool_value"}},selfieMode:{type:0,graphOptionXref:{calculatorType:"GlScalerCalculator",calculatorIndex:1,fieldName:"flip_horizontal"}},modelComplexity:{type:1,default:1,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorModelComplexity",fieldName:"int_value"},onChange:function(e){var n,i,r,o;return b((function(a){if(1==a.g){switch(n="",e){case 1:n="pose_landmark_full.tflite";break;case 2:n="pose_landmark_heavy.tflite";break;default:n="pose_landmark_lite.tflite"}return i="third_party/mediapipe/modules/pose_landmark/"+n,r=t.g.locateFile(n,""),C(a,fetch(r),3)}return 2!=a.g?C(a,a.h.arrayBuffer(),2):(o=a.h,t.g.overrideFile(i,o),C(a,t.g.reset(),0))}))}},smoothLandmarks:{type:0,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorSmoothLandmarks",fieldName:"bool_value"}},enableSegmentation:{type:0,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorEnableSegmentation",fieldName:"bool_value"}},smoothSegmentation:{type:0,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorSmoothSegmentation",fieldName:"bool_value"}},refineFaceLandmarks:{type:0,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorRefineFaceLandmarks",fieldName:"bool_value"}},minDetectionConfidence:{type:1,graphOptionXref:{calculatorType:"TensorsToDetectionsCalculator",calculatorName:"holisticlandmarkgpu__poselandmarkgpu__posedetectiongpu__TensorsToDetectionsCalculator",fieldName:"min_score_thresh"}},minTrackingConfidence:{type:1,graphOptionXref:{calculatorType:"ThresholdingCalculator",calculatorName:"holisticlandmarkgpu__poselandmarkgpu__poselandmarkbyroigpu__tensorstoposelandmarksandsegmentation__ThresholdingCalculator",fieldName:"threshold"}},cameraNear:{type:1,graphOptionXref:{calculatorType:"FaceGeometryEnvGeneratorCalculator",fieldName:"near"}},cameraFar:{type:1,graphOptionXref:{calculatorType:"FaceGeometryEnvGeneratorCalculator",fieldName:"far"}},cameraVerticalFovDegrees:{type:1,graphOptionXref:{calculatorType:"FaceGeometryEnvGeneratorCalculator",fieldName:"vertical_fov_degrees"}}}})}(t=Pt.prototype).close=function(){return this.i&&this.i.delete(),e.resolve()},t.reset=function(){var e=this;return b((function(t){e.i&&(e.i.reset(),e.m={},e.s={}),t.g=0}))},t.setOptions=function(e,t){var n=this;if(t=t||this.g.options){for(var i=[],r=[],o={},a=c(Object.keys(e)),s=a.next();!s.done;o={K:o.K,L:o.L},s=a.next()){var l=s.value;l in this.j&&this.j[l]===e[l]||(this.j[l]=e[l],void 0!==(s=t[l])&&(s.onChange&&(o.K=s.onChange,o.L=e[l],i.push(function(e){return function(){return b((function(t){if(1==t.g)return C(t,e.K(e.L),2);!0===t.h&&(n.o=!0),t.g=0}))}}(o))),s.graphOptionXref&&(l={valueNumber:1===s.type?e[l]:0,valueBoolean:0===s.type&&e[l],valueString:2===s.type?e[l]:""},s=Object.assign(Object.assign(Object.assign({},{calculatorName:"",calculatorIndex:0}),s.graphOptionXref),l),r.push(s))))}(0!==i.length||0!==r.length)&&(this.o=!0,this.A=(void 0===this.A?[]:this.A).concat(r),this.v=(void 0===this.v?[]:this.v).concat(i))}},t.initialize=function(){var e=this;return b((function(t){return 1==t.g?C(t,Gt(e),2):3!=t.g?C(t,function(e){var t,n,i,r,o,a,s,l;return b((function(d){if(1==d.g)return e.g.graph&&e.g.graph.url&&e.P===e.g.graph.url?d.return():(e.o=!0,e.g.graph&&e.g.graph.url?(e.P=e.g.graph.url,C(d,Yt(e,e.g.graph.url),3)):void(d.g=2));for(2!=d.g&&(t=d.h,e.i.loadGraph(t)),n=c(Object.keys(e.B)),i=n.next();!i.done;i=n.next())r=i.value,e.i.overrideFile(r,e.B[r]);if(e.B={},e.g.listeners)for(o=c(e.g.listeners),a=o.next();!a.done;a=o.next())s=a.value,Xt(e,s);l=e.j,e.j={},e.setOptions(l),d.g=0}))}(e),3):C(t,function(e){var t,n,i,r,o,a;return b((function(s){switch(s.g){case 1:if(!e.o)return s.return();if(!e.v){s.g=2;break}t=c(e.v),n=t.next();case 3:if(n.done){s.g=5;break}return C(s,(0,n.value)(),4);case 4:n=t.next(),s.g=3;break;case 5:e.v=void 0;case 2:if(e.A){for(i=new e.h.GraphOptionChangeRequestList,r=c(e.A),o=r.next();!o.done;o=r.next())a=o.value,i.push_back(a);e.i.changeOptions(i),i.delete(),e.A=void 0}e.o=!1,s.g=0}}))}(e),0)}))},t.overrideFile=function(e,t){this.i?this.i.overrideFile(e,t):this.B[e]=t},t.clearOverriddenFiles=function(){this.B={},this.i&&this.i.clearOverriddenFiles()},t.send=function(e,t){var n,i,r,o,a,s,l,d,u,h=this;return b((function(A){switch(A.g){case 1:return h.g.inputs?(n=1e3*(null==t?performance.now():t),C(A,h.C,2)):A.return();case 2:return C(A,h.initialize(),3);case 3:for(i=new h.h.PacketDataList,r=c(Object.keys(e)),o=r.next();!o.done;o=r.next())if(a=o.value,s=h.g.inputs[a]){e:{var p=e[a];switch(s.type){case"video":var g=h.m[s.stream];if(g||(g=new Wt(h.h,h.D),h.m[s.stream]=g),0===g.l&&(g.l=g.h.createTexture()),typeof HTMLVideoElement<"u"&&p instanceof HTMLVideoElement)var f=p.videoWidth,m=p.videoHeight;else typeof HTMLImageElement<"u"&&p instanceof HTMLImageElement?(f=p.naturalWidth,m=p.naturalHeight):(f=p.width,m=p.height);m={glName:g.l,width:f,height:m},(f=g.g).canvas.width=m.width,f.canvas.height=m.height,f.activeTexture(f.TEXTURE0),g.h.bindTexture2d(g.l),f.texImage2D(f.TEXTURE_2D,0,f.RGBA,f.RGBA,f.UNSIGNED_BYTE,p),g.h.bindTexture2d(0),g=m;break e;case"detections":for((g=h.m[s.stream])||(g=new Jt(h.h),h.m[s.stream]=g),g.data||(g.data=new g.g.DetectionListData),g.data.reset(p.length),m=0;m<p.length;++m){f=p[m];var E=g.data,I=E.setBoundingBox,Q=m,U=f.T,y=new Et;if(Ne(y,1,U.X),Ne(y,2,U.Y),Ne(y,3,U.height),Ne(y,4,U.width),Ne(y,5,U.rotation),Ne(y,6,U.W),U=Oe(y,Ct),I.call(E,Q,U),f.O)for(E=0;E<f.O.length;++E){var b=!!(y=f.O[E]).visibility;Q=(I=g.data).addNormalizedLandmark,U=m,y=Object.assign(Object.assign({},y),{visibility:b?y.visibility:0}),Ne(b=new dt,1,y.x),Ne(b,2,y.y),Ne(b,3,y.z),y.visibility&&Ne(b,4,y.visibility),y=Oe(b,ut),Q.call(I,U,y)}if(f.M)for(E=0;E<f.M.length;++E)Q=(I=g.data).addClassification,U=m,y=f.M[E],Ne(b=new nt,2,y.score),y.index&&Ne(b,1,y.index),y.label&&Ne(b,3,y.label),y.displayName&&Ne(b,4,y.displayName),y=Oe(b,it),Q.call(I,U,y)}g=g.data;break e;default:g={}}}switch(l=g,d=s.stream,s.type){case"video":i.pushTexture2d(Object.assign(Object.assign({},l),{stream:d,timestamp:n}));break;case"detections":(u=l).stream=d,u.timestamp=n,i.pushDetectionList(u);break;default:throw Error("Unknown input config type: '"+s.type+"'")}}return h.i.send(i),C(A,h.C,4);case 4:i.delete(),A.g=0}}))},t.onResults=function(e,t){this.listeners[t||"$"]=e},S("Solution",Pt),S("OptionType",{BOOL:0,NUMBER:1,Z:2,0:"BOOL",1:"NUMBER",2:"STRING"}),(t=zt.prototype).close=function(){return this.g.close(),e.resolve()},t.onResults=function(e){this.g.onResults(e)},t.initialize=function(){var e=this;return b((function(t){return C(t,e.g.initialize(),0)}))},t.reset=function(){this.g.reset()},t.send=function(e){var t=this;return b((function(n){return C(n,t.g.send(e),0)}))},t.setOptions=function(e){this.g.setOptions(e)},S("Holistic",zt),S("FACE_GEOMETRY",{Layout:{COLUMN_MAJOR:0,ROW_MAJOR:1,0:"COLUMN_MAJOR",1:"ROW_MAJOR"},PrimitiveType:{TRIANGLE:0,0:"TRIANGLE"},VertexType:{VERTEX_PT:0,0:"VERTEX_PT"},DEFAULT_CAMERA_PARAMS:{verticalFovDegrees:63,near:1,far:1e4}}),S("FACEMESH_LIPS",St),S("FACEMESH_LEFT_EYE",Ft),S("FACEMESH_LEFT_EYEBROW",Bt),S("FACEMESH_LEFT_IRIS",[[474,475],[475,476],[476,477],[477,474]]),S("FACEMESH_RIGHT_EYE",Tt),S("FACEMESH_RIGHT_EYEBROW",Nt),S("FACEMESH_RIGHT_IRIS",[[469,470],[470,471],[471,472],[472,469]]),S("FACEMESH_FACE_OVAL",_t),S("FACEMESH_CONTOURS",wt),S("FACEMESH_TESSELATION",[[127,34],[34,139],[139,127],[11,0],[0,37],[37,11],[232,231],[231,120],[120,232],[72,37],[37,39],[39,72],[128,121],[121,47],[47,128],[232,121],[121,128],[128,232],[104,69],[69,67],[67,104],[175,171],[171,148],[148,175],[118,50],[50,101],[101,118],[73,39],[39,40],[40,73],[9,151],[151,108],[108,9],[48,115],[115,131],[131,48],[194,204],[204,211],[211,194],[74,40],[40,185],[185,74],[80,42],[42,183],[183,80],[40,92],[92,186],[186,40],[230,229],[229,118],[118,230],[202,212],[212,214],[214,202],[83,18],[18,17],[17,83],[76,61],[61,146],[146,76],[160,29],[29,30],[30,160],[56,157],[157,173],[173,56],[106,204],[204,194],[194,106],[135,214],[214,192],[192,135],[203,165],[165,98],[98,203],[21,71],[71,68],[68,21],[51,45],[45,4],[4,51],[144,24],[24,23],[23,144],[77,146],[146,91],[91,77],[205,50],[50,187],[187,205],[201,200],[200,18],[18,201],[91,106],[106,182],[182,91],[90,91],[91,181],[181,90],[85,84],[84,17],[17,85],[206,203],[203,36],[36,206],[148,171],[171,140],[140,148],[92,40],[40,39],[39,92],[193,189],[189,244],[244,193],[159,158],[158,28],[28,159],[247,246],[246,161],[161,247],[236,3],[3,196],[196,236],[54,68],[68,104],[104,54],[193,168],[168,8],[8,193],[117,228],[228,31],[31,117],[189,193],[193,55],[55,189],[98,97],[97,99],[99,98],[126,47],[47,100],[100,126],[166,79],[79,218],[218,166],[155,154],[154,26],[26,155],[209,49],[49,131],[131,209],[135,136],[136,150],[150,135],[47,126],[126,217],[217,47],[223,52],[52,53],[53,223],[45,51],[51,134],[134,45],[211,170],[170,140],[140,211],[67,69],[69,108],[108,67],[43,106],[106,91],[91,43],[230,119],[119,120],[120,230],[226,130],[130,247],[247,226],[63,53],[53,52],[52,63],[238,20],[20,242],[242,238],[46,70],[70,156],[156,46],[78,62],[62,96],[96,78],[46,53],[53,63],[63,46],[143,34],[34,227],[227,143],[123,117],[117,111],[111,123],[44,125],[125,19],[19,44],[236,134],[134,51],[51,236],[216,206],[206,205],[205,216],[154,153],[153,22],[22,154],[39,37],[37,167],[167,39],[200,201],[201,208],[208,200],[36,142],[142,100],[100,36],[57,212],[212,202],[202,57],[20,60],[60,99],[99,20],[28,158],[158,157],[157,28],[35,226],[226,113],[113,35],[160,159],[159,27],[27,160],[204,202],[202,210],[210,204],[113,225],[225,46],[46,113],[43,202],[202,204],[204,43],[62,76],[76,77],[77,62],[137,123],[123,116],[116,137],[41,38],[38,72],[72,41],[203,129],[129,142],[142,203],[64,98],[98,240],[240,64],[49,102],[102,64],[64,49],[41,73],[73,74],[74,41],[212,216],[216,207],[207,212],[42,74],[74,184],[184,42],[169,170],[170,211],[211,169],[170,149],[149,176],[176,170],[105,66],[66,69],[69,105],[122,6],[6,168],[168,122],[123,147],[147,187],[187,123],[96,77],[77,90],[90,96],[65,55],[55,107],[107,65],[89,90],[90,180],[180,89],[101,100],[100,120],[120,101],[63,105],[105,104],[104,63],[93,137],[137,227],[227,93],[15,86],[86,85],[85,15],[129,102],[102,49],[49,129],[14,87],[87,86],[86,14],[55,8],[8,9],[9,55],[100,47],[47,121],[121,100],[145,23],[23,22],[22,145],[88,89],[89,179],[179,88],[6,122],[122,196],[196,6],[88,95],[95,96],[96,88],[138,172],[172,136],[136,138],[215,58],[58,172],[172,215],[115,48],[48,219],[219,115],[42,80],[80,81],[81,42],[195,3],[3,51],[51,195],[43,146],[146,61],[61,43],[171,175],[175,199],[199,171],[81,82],[82,38],[38,81],[53,46],[46,225],[225,53],[144,163],[163,110],[110,144],[52,65],[65,66],[66,52],[229,228],[228,117],[117,229],[34,127],[127,234],[234,34],[107,108],[108,69],[69,107],[109,108],[108,151],[151,109],[48,64],[64,235],[235,48],[62,78],[78,191],[191,62],[129,209],[209,126],[126,129],[111,35],[35,143],[143,111],[117,123],[123,50],[50,117],[222,65],[65,52],[52,222],[19,125],[125,141],[141,19],[221,55],[55,65],[65,221],[3,195],[195,197],[197,3],[25,7],[7,33],[33,25],[220,237],[237,44],[44,220],[70,71],[71,139],[139,70],[122,193],[193,245],[245,122],[247,130],[130,33],[33,247],[71,21],[21,162],[162,71],[170,169],[169,150],[150,170],[188,174],[174,196],[196,188],[216,186],[186,92],[92,216],[2,97],[97,167],[167,2],[141,125],[125,241],[241,141],[164,167],[167,37],[37,164],[72,38],[38,12],[12,72],[38,82],[82,13],[13,38],[63,68],[68,71],[71,63],[226,35],[35,111],[111,226],[101,50],[50,205],[205,101],[206,92],[92,165],[165,206],[209,198],[198,217],[217,209],[165,167],[167,97],[97,165],[220,115],[115,218],[218,220],[133,112],[112,243],[243,133],[239,238],[238,241],[241,239],[214,135],[135,169],[169,214],[190,173],[173,133],[133,190],[171,208],[208,32],[32,171],[125,44],[44,237],[237,125],[86,87],[87,178],[178,86],[85,86],[86,179],[179,85],[84,85],[85,180],[180,84],[83,84],[84,181],[181,83],[201,83],[83,182],[182,201],[137,93],[93,132],[132,137],[76,62],[62,183],[183,76],[61,76],[76,184],[184,61],[57,61],[61,185],[185,57],[212,57],[57,186],[186,212],[214,207],[207,187],[187,214],[34,143],[143,156],[156,34],[79,239],[239,237],[237,79],[123,137],[137,177],[177,123],[44,1],[1,4],[4,44],[201,194],[194,32],[32,201],[64,102],[102,129],[129,64],[213,215],[215,138],[138,213],[59,166],[166,219],[219,59],[242,99],[99,97],[97,242],[2,94],[94,141],[141,2],[75,59],[59,235],[235,75],[24,110],[110,228],[228,24],[25,130],[130,226],[226,25],[23,24],[24,229],[229,23],[22,23],[23,230],[230,22],[26,22],[22,231],[231,26],[112,26],[26,232],[232,112],[189,190],[190,243],[243,189],[221,56],[56,190],[190,221],[28,56],[56,221],[221,28],[27,28],[28,222],[222,27],[29,27],[27,223],[223,29],[30,29],[29,224],[224,30],[247,30],[30,225],[225,247],[238,79],[79,20],[20,238],[166,59],[59,75],[75,166],[60,75],[75,240],[240,60],[147,177],[177,215],[215,147],[20,79],[79,166],[166,20],[187,147],[147,213],[213,187],[112,233],[233,244],[244,112],[233,128],[128,245],[245,233],[128,114],[114,188],[188,128],[114,217],[217,174],[174,114],[131,115],[115,220],[220,131],[217,198],[198,236],[236,217],[198,131],[131,134],[134,198],[177,132],[132,58],[58,177],[143,35],[35,124],[124,143],[110,163],[163,7],[7,110],[228,110],[110,25],[25,228],[356,389],[389,368],[368,356],[11,302],[302,267],[267,11],[452,350],[350,349],[349,452],[302,303],[303,269],[269,302],[357,343],[343,277],[277,357],[452,453],[453,357],[357,452],[333,332],[332,297],[297,333],[175,152],[152,377],[377,175],[347,348],[348,330],[330,347],[303,304],[304,270],[270,303],[9,336],[336,337],[337,9],[278,279],[279,360],[360,278],[418,262],[262,431],[431,418],[304,408],[408,409],[409,304],[310,415],[415,407],[407,310],[270,409],[409,410],[410,270],[450,348],[348,347],[347,450],[422,430],[430,434],[434,422],[313,314],[314,17],[17,313],[306,307],[307,375],[375,306],[387,388],[388,260],[260,387],[286,414],[414,398],[398,286],[335,406],[406,418],[418,335],[364,367],[367,416],[416,364],[423,358],[358,327],[327,423],[251,284],[284,298],[298,251],[281,5],[5,4],[4,281],[373,374],[374,253],[253,373],[307,320],[320,321],[321,307],[425,427],[427,411],[411,425],[421,313],[313,18],[18,421],[321,405],[405,406],[406,321],[320,404],[404,405],[405,320],[315,16],[16,17],[17,315],[426,425],[425,266],[266,426],[377,400],[400,369],[369,377],[322,391],[391,269],[269,322],[417,465],[465,464],[464,417],[386,257],[257,258],[258,386],[466,260],[260,388],[388,466],[456,399],[399,419],[419,456],[284,332],[332,333],[333,284],[417,285],[285,8],[8,417],[346,340],[340,261],[261,346],[413,441],[441,285],[285,413],[327,460],[460,328],[328,327],[355,371],[371,329],[329,355],[392,439],[439,438],[438,392],[382,341],[341,256],[256,382],[429,420],[420,360],[360,429],[364,394],[394,379],[379,364],[277,343],[343,437],[437,277],[443,444],[444,283],[283,443],[275,440],[440,363],[363,275],[431,262],[262,369],[369,431],[297,338],[338,337],[337,297],[273,375],[375,321],[321,273],[450,451],[451,349],[349,450],[446,342],[342,467],[467,446],[293,334],[334,282],[282,293],[458,461],[461,462],[462,458],[276,353],[353,383],[383,276],[308,324],[324,325],[325,308],[276,300],[300,293],[293,276],[372,345],[345,447],[447,372],[352,345],[345,340],[340,352],[274,1],[1,19],[19,274],[456,248],[248,281],[281,456],[436,427],[427,425],[425,436],[381,256],[256,252],[252,381],[269,391],[391,393],[393,269],[200,199],[199,428],[428,200],[266,330],[330,329],[329,266],[287,273],[273,422],[422,287],[250,462],[462,328],[328,250],[258,286],[286,384],[384,258],[265,353],[353,342],[342,265],[387,259],[259,257],[257,387],[424,431],[431,430],[430,424],[342,353],[353,276],[276,342],[273,335],[335,424],[424,273],[292,325],[325,307],[307,292],[366,447],[447,345],[345,366],[271,303],[303,302],[302,271],[423,266],[266,371],[371,423],[294,455],[455,460],[460,294],[279,278],[278,294],[294,279],[271,272],[272,304],[304,271],[432,434],[434,427],[427,432],[272,407],[407,408],[408,272],[394,430],[430,431],[431,394],[395,369],[369,400],[400,395],[334,333],[333,299],[299,334],[351,417],[417,168],[168,351],[352,280],[280,411],[411,352],[325,319],[319,320],[320,325],[295,296],[296,336],[336,295],[319,403],[403,404],[404,319],[330,348],[348,349],[349,330],[293,298],[298,333],[333,293],[323,454],[454,447],[447,323],[15,16],[16,315],[315,15],[358,429],[429,279],[279,358],[14,15],[15,316],[316,14],[285,336],[336,9],[9,285],[329,349],[349,350],[350,329],[374,380],[380,252],[252,374],[318,402],[402,403],[403,318],[6,197],[197,419],[419,6],[318,319],[319,325],[325,318],[367,364],[364,365],[365,367],[435,367],[367,397],[397,435],[344,438],[438,439],[439,344],[272,271],[271,311],[311,272],[195,5],[5,281],[281,195],[273,287],[287,291],[291,273],[396,428],[428,199],[199,396],[311,271],[271,268],[268,311],[283,444],[444,445],[445,283],[373,254],[254,339],[339,373],[282,334],[334,296],[296,282],[449,347],[347,346],[346,449],[264,447],[447,454],[454,264],[336,296],[296,299],[299,336],[338,10],[10,151],[151,338],[278,439],[439,455],[455,278],[292,407],[407,415],[415,292],[358,371],[371,355],[355,358],[340,345],[345,372],[372,340],[346,347],[347,280],[280,346],[442,443],[443,282],[282,442],[19,94],[94,370],[370,19],[441,442],[442,295],[295,441],[248,419],[419,197],[197,248],[263,255],[255,359],[359,263],[440,275],[275,274],[274,440],[300,383],[383,368],[368,300],[351,412],[412,465],[465,351],[263,467],[467,466],[466,263],[301,368],[368,389],[389,301],[395,378],[378,379],[379,395],[412,351],[351,419],[419,412],[436,426],[426,322],[322,436],[2,164],[164,393],[393,2],[370,462],[462,461],[461,370],[164,0],[0,267],[267,164],[302,11],[11,12],[12,302],[268,12],[12,13],[13,268],[293,300],[300,301],[301,293],[446,261],[261,340],[340,446],[330,266],[266,425],[425,330],[426,423],[423,391],[391,426],[429,355],[355,437],[437,429],[391,327],[327,326],[326,391],[440,457],[457,438],[438,440],[341,382],[382,362],[362,341],[459,457],[457,461],[461,459],[434,430],[430,394],[394,434],[414,463],[463,362],[362,414],[396,369],[369,262],[262,396],[354,461],[461,457],[457,354],[316,403],[403,402],[402,316],[315,404],[404,403],[403,315],[314,405],[405,404],[404,314],[313,406],[406,405],[405,313],[421,418],[418,406],[406,421],[366,401],[401,361],[361,366],[306,408],[408,407],[407,306],[291,409],[409,408],[408,291],[287,410],[410,409],[409,287],[432,436],[436,410],[410,432],[434,416],[416,411],[411,434],[264,368],[368,383],[383,264],[309,438],[438,457],[457,309],[352,376],[376,401],[401,352],[274,275],[275,4],[4,274],[421,428],[428,262],[262,421],[294,327],[327,358],[358,294],[433,416],[416,367],[367,433],[289,455],[455,439],[439,289],[462,370],[370,326],[326,462],[2,326],[326,370],[370,2],[305,460],[460,455],[455,305],[254,449],[449,448],[448,254],[255,261],[261,446],[446,255],[253,450],[450,449],[449,253],[252,451],[451,450],[450,252],[256,452],[452,451],[451,256],[341,453],[453,452],[452,341],[413,464],[464,463],[463,413],[441,413],[413,414],[414,441],[258,442],[442,441],[441,258],[257,443],[443,442],[442,257],[259,444],[444,443],[443,259],[260,445],[445,444],[444,260],[467,342],[342,445],[445,467],[459,458],[458,250],[250,459],[289,392],[392,290],[290,289],[290,328],[328,460],[460,290],[376,433],[433,435],[435,376],[250,290],[290,392],[392,250],[411,416],[416,433],[433,411],[341,463],[463,464],[464,341],[453,464],[464,465],[465,453],[357,465],[465,412],[412,357],[343,412],[412,399],[399,343],[360,363],[363,440],[440,360],[437,399],[399,456],[456,437],[420,456],[456,363],[363,420],[401,435],[435,288],[288,401],[372,383],[383,353],[353,372],[339,255],[255,249],[249,339],[448,261],[261,255],[255,448],[133,243],[243,190],[190,133],[133,155],[155,112],[112,133],[33,246],[246,247],[247,33],[33,130],[130,25],[25,33],[398,384],[384,286],[286,398],[362,398],[398,414],[414,362],[362,463],[463,341],[341,362],[263,359],[359,467],[467,263],[263,249],[249,255],[255,263],[466,467],[467,260],[260,466],[75,60],[60,166],[166,75],[238,239],[239,79],[79,238],[162,127],[127,139],[139,162],[72,11],[11,37],[37,72],[121,232],[232,120],[120,121],[73,72],[72,39],[39,73],[114,128],[128,47],[47,114],[233,232],[232,128],[128,233],[103,104],[104,67],[67,103],[152,175],[175,148],[148,152],[119,118],[118,101],[101,119],[74,73],[73,40],[40,74],[107,9],[9,108],[108,107],[49,48],[48,131],[131,49],[32,194],[194,211],[211,32],[184,74],[74,185],[185,184],[191,80],[80,183],[183,191],[185,40],[40,186],[186,185],[119,230],[230,118],[118,119],[210,202],[202,214],[214,210],[84,83],[83,17],[17,84],[77,76],[76,146],[146,77],[161,160],[160,30],[30,161],[190,56],[56,173],[173,190],[182,106],[106,194],[194,182],[138,135],[135,192],[192,138],[129,203],[203,98],[98,129],[54,21],[21,68],[68,54],[5,51],[51,4],[4,5],[145,144],[144,23],[23,145],[90,77],[77,91],[91,90],[207,205],[205,187],[187,207],[83,201],[201,18],[18,83],[181,91],[91,182],[182,181],[180,90],[90,181],[181,180],[16,85],[85,17],[17,16],[205,206],[206,36],[36,205],[176,148],[148,140],[140,176],[165,92],[92,39],[39,165],[245,193],[193,244],[244,245],[27,159],[159,28],[28,27],[30,247],[247,161],[161,30],[174,236],[236,196],[196,174],[103,54],[54,104],[104,103],[55,193],[193,8],[8,55],[111,117],[117,31],[31,111],[221,189],[189,55],[55,221],[240,98],[98,99],[99,240],[142,126],[126,100],[100,142],[219,166],[166,218],[218,219],[112,155],[155,26],[26,112],[198,209],[209,131],[131,198],[169,135],[135,150],[150,169],[114,47],[47,217],[217,114],[224,223],[223,53],[53,224],[220,45],[45,134],[134,220],[32,211],[211,140],[140,32],[109,67],[67,108],[108,109],[146,43],[43,91],[91,146],[231,230],[230,120],[120,231],[113,226],[226,247],[247,113],[105,63],[63,52],[52,105],[241,238],[238,242],[242,241],[124,46],[46,156],[156,124],[95,78],[78,96],[96,95],[70,46],[46,63],[63,70],[116,143],[143,227],[227,116],[116,123],[123,111],[111,116],[1,44],[44,19],[19,1],[3,236],[236,51],[51,3],[207,216],[216,205],[205,207],[26,154],[154,22],[22,26],[165,39],[39,167],[167,165],[199,200],[200,208],[208,199],[101,36],[36,100],[100,101],[43,57],[57,202],[202,43],[242,20],[20,99],[99,242],[56,28],[28,157],[157,56],[124,35],[35,113],[113,124],[29,160],[160,27],[27,29],[211,204],[204,210],[210,211],[124,113],[113,46],[46,124],[106,43],[43,204],[204,106],[96,62],[62,77],[77,96],[227,137],[137,116],[116,227],[73,41],[41,72],[72,73],[36,203],[203,142],[142,36],[235,64],[64,240],[240,235],[48,49],[49,64],[64,48],[42,41],[41,74],[74,42],[214,212],[212,207],[207,214],[183,42],[42,184],[184,183],[210,169],[169,211],[211,210],[140,170],[170,176],[176,140],[104,105],[105,69],[69,104],[193,122],[122,168],[168,193],[50,123],[123,187],[187,50],[89,96],[96,90],[90,89],[66,65],[65,107],[107,66],[179,89],[89,180],[180,179],[119,101],[101,120],[120,119],[68,63],[63,104],[104,68],[234,93],[93,227],[227,234],[16,15],[15,85],[85,16],[209,129],[129,49],[49,209],[15,14],[14,86],[86,15],[107,55],[55,9],[9,107],[120,100],[100,121],[121,120],[153,145],[145,22],[22,153],[178,88],[88,179],[179,178],[197,6],[6,196],[196,197],[89,88],[88,96],[96,89],[135,138],[138,136],[136,135],[138,215],[215,172],[172,138],[218,115],[115,219],[219,218],[41,42],[42,81],[81,41],[5,195],[195,51],[51,5],[57,43],[43,61],[61,57],[208,171],[171,199],[199,208],[41,81],[81,38],[38,41],[224,53],[53,225],[225,224],[24,144],[144,110],[110,24],[105,52],[52,66],[66,105],[118,229],[229,117],[117,118],[227,34],[34,234],[234,227],[66,107],[107,69],[69,66],[10,109],[109,151],[151,10],[219,48],[48,235],[235,219],[183,62],[62,191],[191,183],[142,129],[129,126],[126,142],[116,111],[111,143],[143,116],[118,117],[117,50],[50,118],[223,222],[222,52],[52,223],[94,19],[19,141],[141,94],[222,221],[221,65],[65,222],[196,3],[3,197],[197,196],[45,220],[220,44],[44,45],[156,70],[70,139],[139,156],[188,122],[122,245],[245,188],[139,71],[71,162],[162,139],[149,170],[170,150],[150,149],[122,188],[188,196],[196,122],[206,216],[216,92],[92,206],[164,2],[2,167],[167,164],[242,141],[141,241],[241,242],[0,164],[164,37],[37,0],[11,72],[72,12],[12,11],[12,38],[38,13],[13,12],[70,63],[63,71],[71,70],[31,226],[226,111],[111,31],[36,101],[101,205],[205,36],[203,206],[206,165],[165,203],[126,209],[209,217],[217,126],[98,165],[165,97],[97,98],[237,220],[220,218],[218,237],[237,239],[239,241],[241,237],[210,214],[214,169],[169,210],[140,171],[171,32],[32,140],[241,125],[125,237],[237,241],[179,86],[86,178],[178,179],[180,85],[85,179],[179,180],[181,84],[84,180],[180,181],[182,83],[83,181],[181,182],[194,201],[201,182],[182,194],[177,137],[137,132],[132,177],[184,76],[76,183],[183,184],[185,61],[61,184],[184,185],[186,57],[57,185],[185,186],[216,212],[212,186],[186,216],[192,214],[214,187],[187,192],[139,34],[34,156],[156,139],[218,79],[79,237],[237,218],[147,123],[123,177],[177,147],[45,44],[44,4],[4,45],[208,201],[201,32],[32,208],[98,64],[64,129],[129,98],[192,213],[213,138],[138,192],[235,59],[59,219],[219,235],[141,242],[242,97],[97,141],[97,2],[2,141],[141,97],[240,75],[75,235],[235,240],[229,24],[24,228],[228,229],[31,25],[25,226],[226,31],[230,23],[23,229],[229,230],[231,22],[22,230],[230,231],[232,26],[26,231],[231,232],[233,112],[112,232],[232,233],[244,189],[189,243],[243,244],[189,221],[221,190],[190,189],[222,28],[28,221],[221,222],[223,27],[27,222],[222,223],[224,29],[29,223],[223,224],[225,30],[30,224],[224,225],[113,247],[247,225],[225,113],[99,60],[60,240],[240,99],[213,147],[147,215],[215,213],[60,20],[20,166],[166,60],[192,187],[187,213],[213,192],[243,112],[112,244],[244,243],[244,233],[233,245],[245,244],[245,128],[128,188],[188,245],[188,114],[114,174],[174,188],[134,131],[131,220],[220,134],[174,217],[217,236],[236,174],[236,198],[198,134],[134,236],[215,177],[177,58],[58,215],[156,143],[143,124],[124,156],[25,110],[110,7],[7,25],[31,228],[228,25],[25,31],[264,356],[356,368],[368,264],[0,11],[11,267],[267,0],[451,452],[452,349],[349,451],[267,302],[302,269],[269,267],[350,357],[357,277],[277,350],[350,452],[452,357],[357,350],[299,333],[333,297],[297,299],[396,175],[175,377],[377,396],[280,347],[347,330],[330,280],[269,303],[303,270],[270,269],[151,9],[9,337],[337,151],[344,278],[278,360],[360,344],[424,418],[418,431],[431,424],[270,304],[304,409],[409,270],[272,310],[310,407],[407,272],[322,270],[270,410],[410,322],[449,450],[450,347],[347,449],[432,422],[422,434],[434,432],[18,313],[313,17],[17,18],[291,306],[306,375],[375,291],[259,387],[387,260],[260,259],[424,335],[335,418],[418,424],[434,364],[364,416],[416,434],[391,423],[423,327],[327,391],[301,251],[251,298],[298,301],[275,281],[281,4],[4,275],[254,373],[373,253],[253,254],[375,307],[307,321],[321,375],[280,425],[425,411],[411,280],[200,421],[421,18],[18,200],[335,321],[321,406],[406,335],[321,320],[320,405],[405,321],[314,315],[315,17],[17,314],[423,426],[426,266],[266,423],[396,377],[377,369],[369,396],[270,322],[322,269],[269,270],[413,417],[417,464],[464,413],[385,386],[386,258],[258,385],[248,456],[456,419],[419,248],[298,284],[284,333],[333,298],[168,417],[417,8],[8,168],[448,346],[346,261],[261,448],[417,413],[413,285],[285,417],[326,327],[327,328],[328,326],[277,355],[355,329],[329,277],[309,392],[392,438],[438,309],[381,382],[382,256],[256,381],[279,429],[429,360],[360,279],[365,364],[364,379],[379,365],[355,277],[277,437],[437,355],[282,443],[443,283],[283,282],[281,275],[275,363],[363,281],[395,431],[431,369],[369,395],[299,297],[297,337],[337,299],[335,273],[273,321],[321,335],[348,450],[450,349],[349,348],[359,446],[446,467],[467,359],[283,293],[293,282],[282,283],[250,458],[458,462],[462,250],[300,276],[276,383],[383,300],[292,308],[308,325],[325,292],[283,276],[276,293],[293,283],[264,372],[372,447],[447,264],[346,352],[352,340],[340,346],[354,274],[274,19],[19,354],[363,456],[456,281],[281,363],[426,436],[436,425],[425,426],[380,381],[381,252],[252,380],[267,269],[269,393],[393,267],[421,200],[200,428],[428,421],[371,266],[266,329],[329,371],[432,287],[287,422],[422,432],[290,250],[250,328],[328,290],[385,258],[258,384],[384,385],[446,265],[265,342],[342,446],[386,387],[387,257],[257,386],[422,424],[424,430],[430,422],[445,342],[342,276],[276,445],[422,273],[273,424],[424,422],[306,292],[292,307],[307,306],[352,366],[366,345],[345,352],[268,271],[271,302],[302,268],[358,423],[423,371],[371,358],[327,294],[294,460],[460,327],[331,279],[279,294],[294,331],[303,271],[271,304],[304,303],[436,432],[432,427],[427,436],[304,272],[272,408],[408,304],[395,394],[394,431],[431,395],[378,395],[395,400],[400,378],[296,334],[334,299],[299,296],[6,351],[351,168],[168,6],[376,352],[352,411],[411,376],[307,325],[325,320],[320,307],[285,295],[295,336],[336,285],[320,319],[319,404],[404,320],[329,330],[330,349],[349,329],[334,293],[293,333],[333,334],[366,323],[323,447],[447,366],[316,15],[15,315],[315,316],[331,358],[358,279],[279,331],[317,14],[14,316],[316,317],[8,285],[285,9],[9,8],[277,329],[329,350],[350,277],[253,374],[374,252],[252,253],[319,318],[318,403],[403,319],[351,6],[6,419],[419,351],[324,318],[318,325],[325,324],[397,367],[367,365],[365,397],[288,435],[435,397],[397,288],[278,344],[344,439],[439,278],[310,272],[272,311],[311,310],[248,195],[195,281],[281,248],[375,273],[273,291],[291,375],[175,396],[396,199],[199,175],[312,311],[311,268],[268,312],[276,283],[283,445],[445,276],[390,373],[373,339],[339,390],[295,282],[282,296],[296,295],[448,449],[449,346],[346,448],[356,264],[264,454],[454,356],[337,336],[336,299],[299,337],[337,338],[338,151],[151,337],[294,278],[278,455],[455,294],[308,292],[292,415],[415,308],[429,358],[358,355],[355,429],[265,340],[340,372],[372,265],[352,346],[346,280],[280,352],[295,442],[442,282],[282,295],[354,19],[19,370],[370,354],[285,441],[441,295],[295,285],[195,248],[248,197],[197,195],[457,440],[440,274],[274,457],[301,300],[300,368],[368,301],[417,351],[351,465],[465,417],[251,301],[301,389],[389,251],[394,395],[395,379],[379,394],[399,412],[412,419],[419,399],[410,436],[436,322],[322,410],[326,2],[2,393],[393,326],[354,370],[370,461],[461,354],[393,164],[164,267],[267,393],[268,302],[302,12],[12,268],[312,268],[268,13],[13,312],[298,293],[293,301],[301,298],[265,446],[446,340],[340,265],[280,330],[330,425],[425,280],[322,426],[426,391],[391,322],[420,429],[429,437],[437,420],[393,391],[391,326],[326,393],[344,440],[440,438],[438,344],[458,459],[459,461],[461,458],[364,434],[434,394],[394,364],[428,396],[396,262],[262,428],[274,354],[354,457],[457,274],[317,316],[316,402],[402,317],[316,315],[315,403],[403,316],[315,314],[314,404],[404,315],[314,313],[313,405],[405,314],[313,421],[421,406],[406,313],[323,366],[366,361],[361,323],[292,306],[306,407],[407,292],[306,291],[291,408],[408,306],[291,287],[287,409],[409,291],[287,432],[432,410],[410,287],[427,434],[434,411],[411,427],[372,264],[264,383],[383,372],[459,309],[309,457],[457,459],[366,352],[352,401],[401,366],[1,274],[274,4],[4,1],[418,421],[421,262],[262,418],[331,294],[294,358],[358,331],[435,433],[433,367],[367,435],[392,289],[289,439],[439,392],[328,462],[462,326],[326,328],[94,2],[2,370],[370,94],[289,305],[305,455],[455,289],[339,254],[254,448],[448,339],[359,255],[255,446],[446,359],[254,253],[253,449],[449,254],[253,252],[252,450],[450,253],[252,256],[256,451],[451,252],[256,341],[341,452],[452,256],[414,413],[413,463],[463,414],[286,441],[441,414],[414,286],[286,258],[258,441],[441,286],[258,257],[257,442],[442,258],[257,259],[259,443],[443,257],[259,260],[260,444],[444,259],[260,467],[467,445],[445,260],[309,459],[459,250],[250,309],[305,289],[289,290],[290,305],[305,290],[290,460],[460,305],[401,376],[376,435],[435,401],[309,250],[250,392],[392,309],[376,411],[411,433],[433,376],[453,341],[341,464],[464,453],[357,453],[453,465],[465,357],[343,357],[357,412],[412,343],[437,343],[343,399],[399,437],[344,360],[360,440],[440,344],[420,437],[437,456],[456,420],[360,420],[420,363],[363,360],[361,401],[401,288],[288,361],[265,372],[372,353],[353,265],[390,339],[339,249],[249,390],[339,448],[448,255],[255,339]]),S("HAND_CONNECTIONS",[[0,1],[1,2],[2,3],[3,4],[0,5],[5,6],[6,7],[7,8],[5,9],[9,10],[10,11],[11,12],[9,13],[13,14],[14,15],[15,16],[13,17],[0,17],[17,18],[18,19],[19,20]]),S("POSE_CONNECTIONS",[[0,1],[1,2],[2,3],[3,7],[0,4],[4,5],[5,6],[6,8],[9,10],[11,12],[11,13],[13,15],[15,17],[15,19],[15,21],[17,19],[12,14],[14,16],[16,18],[16,20],[16,22],[18,20],[11,23],[12,24],[23,24],[23,25],[24,26],[25,27],[26,28],[27,29],[28,30],[29,31],[30,32],[27,31],[28,32]]),S("POSE_LANDMARKS",{NOSE:0,LEFT_EYE_INNER:1,LEFT_EYE:2,LEFT_EYE_OUTER:3,RIGHT_EYE_INNER:4,RIGHT_EYE:5,RIGHT_EYE_OUTER:6,LEFT_EAR:7,RIGHT_EAR:8,LEFT_RIGHT:9,RIGHT_LEFT:10,LEFT_SHOULDER:11,RIGHT_SHOULDER:12,LEFT_ELBOW:13,RIGHT_ELBOW:14,LEFT_WRIST:15,RIGHT_WRIST:16,LEFT_PINKY:17,RIGHT_PINKY:18,LEFT_INDEX:19,RIGHT_INDEX:20,LEFT_THUMB:21,RIGHT_THUMB:22,LEFT_HIP:23,RIGHT_HIP:24,LEFT_KNEE:25,RIGHT_KNEE:26,LEFT_ANKLE:27,RIGHT_ANKLE:28,LEFT_HEEL:29,RIGHT_HEEL:30,LEFT_FOOT_INDEX:31,RIGHT_FOOT_INDEX:32}),S("POSE_LANDMARKS_LEFT",{LEFT_EYE_INNER:1,LEFT_EYE:2,LEFT_EYE_OUTER:3,LEFT_EAR:7,LEFT_RIGHT:9,LEFT_SHOULDER:11,LEFT_ELBOW:13,LEFT_WRIST:15,LEFT_PINKY:17,LEFT_INDEX:19,LEFT_THUMB:21,LEFT_HIP:23,LEFT_KNEE:25,LEFT_ANKLE:27,LEFT_HEEL:29,LEFT_FOOT_INDEX:31}),S("POSE_LANDMARKS_RIGHT",{RIGHT_EYE_INNER:4,RIGHT_EYE:5,RIGHT_EYE_OUTER:6,RIGHT_EAR:8,RIGHT_LEFT:10,RIGHT_SHOULDER:12,RIGHT_ELBOW:14,RIGHT_WRIST:16,RIGHT_PINKY:18,RIGHT_INDEX:20,RIGHT_THUMB:22,RIGHT_HIP:24,RIGHT_KNEE:26,RIGHT_ANKLE:28,RIGHT_HEEL:30,RIGHT_FOOT_INDEX:32}),S("POSE_LANDMARKS_NEUTRAL",{NOSE:0}),S("matrixDataToMatrix",(function(e){for(var t=e.getCols(),n=e.getRows(),i=e.getPackedDataList(),r=[],o=0;o<n;o++)r.push(Array(t));for(o=0;o<n;o++)for(var a=0;a<t;a++){var s=1===e.getLayout()?o*t+a:a*n+o;r[o][a]=i[s]}return r})),S("VERSION","0.5.1635989137")}).call(be);const ve={};(function(){var t;function i(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}var r="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e},o=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof(void 0!==typeof window?window:n.g)&&(void 0!==typeof window?window:n.g)];for(var t=0;t<e.length;++t){var i=e[t];if(i&&i.Math==Math)return i}throw Error("Cannot find global object")}(this);function a(e,t){if(t)e:{var n=o;e=e.split(".");for(var i=0;i<e.length-1;i++){var a=e[i];if(!(a in n))break e;n=n[a]}(t=t(i=n[e=e[e.length-1]]))!=i&&null!=t&&r(n,e,{configurable:!0,writable:!0,value:t})}}function s(e){return(e={next:e})[Symbol.iterator]=function(){return this},e}function c(e){var t=typeof Symbol<"u"&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:i(e)}}function l(e){if(!(e instanceof Array)){e=c(e);for(var t,n=[];!(t=e.next()).done;)n.push(t.value);e=n}return e}a("Symbol",(function(e){function t(e,t){this.g=e,r(this,"description",{configurable:!0,writable:!0,value:t})}if(e)return e;t.prototype.toString=function(){return this.g};var n="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",i=0;return function e(r){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new t(n+(r||"")+"_"+i++,r)}})),a("Symbol.iterator",(function(e){if(e)return e;e=Symbol("Symbol.iterator");for(var t="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),n=0;n<t.length;n++){var a=o[t[n]];"function"==typeof a&&"function"!=typeof a.prototype[e]&&r(a.prototype,e,{configurable:!0,writable:!0,value:function(){return s(i(this))}})}return e}));var d,u="function"==typeof Object.create?Object.create:function(e){function t(){}return t.prototype=e,new t};if("function"==typeof Object.setPrototypeOf)d=Object.setPrototypeOf;else{var h;e:{var A={};try{A.__proto__={a:!0},h=A.a;break e}catch{}h=!1}d=h?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+" is not extensible");return e}:null}var p=d;function g(e,t){if(e.prototype=u(t.prototype),e.prototype.constructor=e,p)p(e,t);else for(var n in t)if("prototype"!=n)if(Object.defineProperties){var i=Object.getOwnPropertyDescriptor(t,n);i&&Object.defineProperty(e,n,i)}else e[n]=t[n];e.na=t.prototype}function f(){this.l=!1,this.i=null,this.h=void 0,this.g=1,this.u=this.o=0,this.j=null}function m(e){if(e.l)throw new TypeError("Generator is already running");e.l=!0}function E(e,t){e.j={da:t,ea:!0},e.g=e.o||e.u}function C(e,t,n){return e.g=n,{value:t}}function I(e){this.g=new f,this.h=e}function Q(e,t,n,i){try{var r=t.call(e.g.i,n);if(!(r instanceof Object))throw new TypeError("Iterator result "+r+" is not an object");if(!r.done)return e.g.l=!1,r;var o=r.value}catch(a){return e.g.i=null,E(e.g,a),U(e)}return e.g.i=null,i.call(e.g,o),U(e)}function U(e){for(;e.g.g;)try{var t=e.h(e.g);if(t)return e.g.l=!1,{value:t.value,done:!1}}catch(n){e.g.h=void 0,E(e.g,n)}if(e.g.l=!1,e.g.j){if(t=e.g.j,e.g.j=null,t.ea)throw t.da;return{value:t.return,done:!0}}return{value:void 0,done:!0}}function y(e){this.next=function(t){return m(e.g),e.g.i?t=Q(e,e.g.i.next,t,e.g.s):(e.g.s(t),t=U(e)),t},this.throw=function(t){return m(e.g),e.g.i?t=Q(e,e.g.i.throw,t,e.g.s):(E(e.g,t),t=U(e)),t},this.return=function(t){return function(e,t){m(e.g);var n=e.g.i;return n?Q(e,"return"in n?n.return:function(e){return{value:e,done:!0}},t,e.g.return):(e.g.return(t),U(e))}(e,t)},this[Symbol.iterator]=function(){return this}}function b(t){return function(t){function n(e){return t.next(e)}function i(e){return t.throw(e)}return new e((function(r,o){!function t(a){a.done?r(a.value):e.resolve(a.value).then(n,i).then(t,o)}(t.next())}))}(new y(new I(t)))}f.prototype.s=function(e){this.h=e},f.prototype.return=function(e){this.j={return:e},this.g=this.u},a("Promise",(function(e){function t(e){this.h=0,this.i=void 0,this.g=[],this.s=!1;var t=this.j();try{e(t.resolve,t.reject)}catch(n){t.reject(n)}}function n(){this.g=null}function i(e){return e instanceof t?e:new t((function(t){t(e)}))}if(e)return e;n.prototype.h=function(e){if(null==this.g){this.g=[];var t=this;this.i((function(){t.l()}))}this.g.push(e)};var r=o.setTimeout;n.prototype.i=function(e){r(e,0)},n.prototype.l=function(){for(;this.g&&this.g.length;){var e=this.g;this.g=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(i){this.j(i)}}}this.g=null},n.prototype.j=function(e){this.i((function(){throw e}))},t.prototype.j=function(){function e(e){return function(i){n||(n=!0,e.call(t,i))}}var t=this,n=!1;return{resolve:e(this.D),reject:e(this.l)}},t.prototype.D=function(e){if(e===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.H(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.A(e):this.o(e)}},t.prototype.A=function(e){var t=void 0;try{t=e.then}catch(n){return void this.l(n)}"function"==typeof t?this.I(t,e):this.o(e)},t.prototype.l=function(e){this.u(2,e)},t.prototype.o=function(e){this.u(1,e)},t.prototype.u=function(e,t){if(0!=this.h)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.h);this.h=e,this.i=t,2===this.h&&this.G(),this.B()},t.prototype.G=function(){var e=this;r((function(){if(e.C()){var t=o.console;typeof t<"u"&&t.error(e.i)}}),1)},t.prototype.C=function(){if(this.s)return!1;var e=o.CustomEvent,t=o.Event,n=o.dispatchEvent;return typeof n>"u"||("function"==typeof e?e=new e("unhandledrejection",{cancelable:!0}):"function"==typeof t?e=new t("unhandledrejection",{cancelable:!0}):(e=o.document.createEvent("CustomEvent")).initCustomEvent("unhandledrejection",!1,!0,e),e.promise=this,e.reason=this.i,n(e))},t.prototype.B=function(){if(null!=this.g){for(var e=0;e<this.g.length;++e)a.h(this.g[e]);this.g=null}};var a=new n;return t.prototype.H=function(e){var t=this.j();e.M(t.resolve,t.reject)},t.prototype.I=function(e,t){var n=this.j();try{e.call(t,n.resolve,n.reject)}catch(i){n.reject(i)}},t.prototype.then=function(e,n){function i(e,t){return"function"==typeof e?function(t){try{r(e(t))}catch(n){o(n)}}:t}var r,o,a=new t((function(e,t){r=e,o=t}));return this.M(i(e,r),i(n,o)),a},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.M=function(e,t){function n(){switch(i.h){case 1:e(i.i);break;case 2:t(i.i);break;default:throw Error("Unexpected state: "+i.h)}}var i=this;null==this.g?a.h(n):this.g.push(n),this.s=!0},t.resolve=i,t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var r=c(e),o=r.next();!o.done;o=r.next())i(o.value).M(t,n)}))},t.all=function(e){var n=c(e),r=n.next();return r.done?i([]):new t((function(e,t){function o(t){return function(n){a[t]=n,0==--s&&e(a)}}var a=[],s=0;do{a.push(void 0),s++,i(r.value).M(o(a.length-1),t),r=n.next()}while(!r.done)}))},t}));var v="function"==typeof Object.assign?Object.assign:function(e,t){for(var n=1;n<arguments.length;n++){var i=arguments[n];if(i)for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e};a("Object.assign",(function(e){return e||v})),a("Object.is",(function(e){return e||function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}})),a("Array.prototype.includes",(function(e){return e||function(e,t){var n=this;n instanceof String&&(n=String(n));var i=n.length;for(0>(t=t||0)&&(t=Math.max(t+i,0));t<i;t++){var r=n[t];if(r===e||Object.is(r,e))return!0}return!1}})),a("String.prototype.includes",(function(e){return e||function(e,t){if(null==this)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(e instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return-1!==this.indexOf(e,t||0)}})),a("Array.prototype.keys",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,i=!1,r={next:function(){if(!i&&n<e.length){var r=n++;return{value:t(r,e[r]),done:!1}}return i=!0,{done:!0,value:void 0}}};return r[Symbol.iterator]=function(){return r},r}(this,(function(e){return e}))}}));var R=this||self;function S(e,t){e=e.split(".");var n,i=R;e[0]in i||typeof i.execScript>"u"||i.execScript("var "+e[0]);for(;e.length&&(n=e.shift());)e.length||void 0===t?i=i[n]&&i[n]!==Object.prototype[n]?i[n]:i[n]={}:i[n]=t}function F(){throw Error("Invalid UTF8")}function B(e,t){return t=String.fromCharCode.apply(null,t),null==e?t:e+t}var T,N,_=typeof TextDecoder<"u",w=typeof TextEncoder<"u",k={},D=null;function V(e){var t;void 0===t&&(t=0),W(),t=k[t];for(var n=Array(Math.floor(e.length/3)),i=t[64]||"",r=0,o=0;r<e.length-2;r+=3){var a=e[r],s=e[r+1],c=e[r+2],l=t[a>>2];a=t[(3&a)<<4|s>>4],s=t[(15&s)<<2|c>>6],c=t[63&c],n[o++]=l+a+s+c}switch(l=0,c=i,e.length-r){case 2:c=t[(15&(l=e[r+1]))<<2]||i;case 1:e=e[r],n[o]=t[e>>2]+t[(3&e)<<4|l>>4]+c+i}return n.join("")}function Z(e){var t=e.length,n=3*t/4;n%3?n=Math.floor(n):-1!="=.".indexOf(e[t-1])&&(n=-1!="=.".indexOf(e[t-2])?n-2:n-1);var i=new Uint8Array(n),r=0;return function(e,t){function n(t){for(;i<e.length;){var n=e.charAt(i++),r=D[n];if(null!=r)return r;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return t}W();for(var i=0;;){var r=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===r)break;t(r<<2|o>>4),64!=a&&(t(o<<4&240|a>>2),64!=s&&t(a<<6&192|s))}}(e,(function(e){i[r++]=e})),r!==n?i.subarray(0,r):i}function W(){if(!D){D={};for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),t=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++){var i=e.concat(t[n].split(""));k[n]=i;for(var r=0;r<i.length;r++){var o=i[r];void 0===D[o]&&(D[o]=r)}}}}var O,J="function"==typeof Uint8Array;function x(e){return J&&null!=e&&e instanceof Uint8Array}function M(e){if(this.L=e,null!==e&&0===e.length)throw Error("ByteString should be constructed with non-empty values")}var L="function"==typeof Uint8Array.prototype.slice,P=0;function G(e,t){return Error("Invalid wire type: "+e+" (at position "+t+")")}function Y(){return Error("Failed to read varint, encoding is invalid.")}function j(e,t){t=void 0!==(t=void 0===t?{}:t).v&&t.v,this.h=null,this.g=this.i=this.j=0,this.v=t,e&&X(this,e)}function X(e,t){e.h=function(e,t){if(e.constructor===Uint8Array)return e;if(e.constructor===ArrayBuffer)return new Uint8Array(e);if(e.constructor===Array)return new Uint8Array(e);if(e.constructor===String)return Z(e);if(e.constructor===M)return!t&&(t=e.L)&&t.constructor===Uint8Array?t:(t=null==(t=e.L)||x(t)?t:"string"==typeof t?Z(t):null,(e=e.L=t)?new Uint8Array(e):O||(O=new Uint8Array(0)));if(e instanceof Uint8Array)return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw Error("Type not convertible to a Uint8Array, expected a Uint8Array, an ArrayBuffer, a base64 encoded string, or Array of numbers")}(t,e.v),e.j=0,e.i=e.h.length,e.g=e.j}function K(e){if(e.g>e.i)throw Error("Tried to read past the end of the data "+e.g+" > "+e.i)}function H(e){var t=e.h,n=t[e.g],i=127&n;if(128>n)return e.g+=1,K(e),i;if(i|=(127&(n=t[e.g+1]))<<7,128>n)return e.g+=2,K(e),i;if(i|=(127&(n=t[e.g+2]))<<14,128>n)return e.g+=3,K(e),i;if(i|=(127&(n=t[e.g+3]))<<21,128>n)return e.g+=4,K(e),i;if(n=t[e.g+4],e.g+=5,i|=(15&n)<<28,128>n)return K(e),i;if(128<=t[e.g++]&&128<=t[e.g++]&&128<=t[e.g++]&&128<=t[e.g++]&&128<=t[e.g++])throw Y();return K(e),i}j.prototype.reset=function(){this.g=this.j};var z=[];function q(){this.g=[]}function $(e,t){for(;127<t;)e.g.push(127&t|128),t>>>=7;e.g.push(t)}function ee(e){var t={},n=void 0!==t.W&&t.W;this.l={v:void 0!==t.v&&t.v},this.W=n,t=this.l,z.length?(n=z.pop(),t&&(n.v=t.v),e&&X(n,e),e=n):e=new j(e,t),this.g=e,this.j=this.g.g,this.h=this.i=-1}function te(e){var t=e.g;if(t.g==t.i)return!1;e.j=e.g.g;var n=H(e.g)>>>0;if(t=n>>>3,!(0<=(n&=7)&&5>=n))throw G(n,e.j);if(1>t)throw Error("Invalid field number: "+t+" (at position "+e.j+")");return e.i=t,e.h=n,!0}function ne(e){switch(e.h){case 0:if(0!=e.h)ne(e);else e:{for(var t=(e=e.g).g,n=t+10;t<n;)if(0===(128&e.h[t++])){e.g=t,K(e);break e}throw Y()}break;case 1:(e=e.g).g+=8,K(e);break;case 2:2!=e.h?ne(e):(t=H(e.g)>>>0,(e=e.g).g+=t,K(e));break;case 5:(e=e.g).g+=4,K(e);break;case 3:for(t=e.i;;){if(!te(e))throw Error("Unmatched start-group tag: stream EOF");if(4==e.h){if(e.i!=t)throw Error("Unmatched end-group tag");break}ne(e)}break;default:throw G(e.h,e.j)}}q.prototype.length=function(){return this.g.length},q.prototype.end=function(){var e=this.g;return this.g=[],e},ee.prototype.reset=function(){this.g.reset(),this.j=this.g.g,this.h=this.i=-1};var ie=[];function re(){this.i=[],this.h=0,this.g=new q}function oe(e,t){0!==t.length&&(e.i.push(t),e.h+=t.length)}var ae="function"==typeof Symbol&&"symbol"==typeof Symbol()?Symbol(void 0):void 0;function se(e,t){Object.isFrozen(e)||(ae?e[ae]|=t:void 0!==e.N?e.N|=t:Object.defineProperties(e,{N:{value:t,configurable:!0,writable:!0,enumerable:!1}}))}function ce(e){var t;return null==(t=ae?e[ae]:e.N)?0:t}function le(e){return se(e,1),e}function de(e){return!!Array.isArray(e)&&!!(2&ce(e))}function ue(e){if(!Array.isArray(e))throw Error("cannot mark non-array as immutable");se(e,2)}function he(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)&&e.constructor===Object}var Ae=Object.freeze(le([]));function pe(e){if(de(e.m))throw Error("Cannot mutate an immutable Message")}var ge,fe=typeof Symbol<"u"&&typeof Symbol.hasInstance<"u";function me(e){return{value:e,configurable:!1,writable:!1,enumerable:!1}}function Ee(e,t,n){return-1===t?null:t>=e.i?e.g?e.g[t]:void 0:void 0!==n&&n&&e.g&&null!=(n=e.g[t])?n:e.m[t+e.h]}function Ce(e,t,n,i){i=void 0!==i&&i,pe(e),t<e.i&&!i?e.m[t+e.h]=n:(e.g||(e.g=e.m[e.i+e.h]={}))[t]=n}function Ie(e,t,n,i){n=void 0===n||n;var r=Ee(e,t,i=void 0!==i&&i);return null==r&&(r=Ae),de(e.m)?n&&(ue(r),Object.freeze(r)):(r===Ae||de(r))&&Ce(e,t,r=le(r.slice()),i),r}function Qe(e,t,n){return null==(e=null==(e=Ee(e,t))?e:+e)?void 0===n?0:n:e}function Ue(e,t,n,i){e.j||(e.j={});var r=de(e.m),o=e.j[n];if(!o){i=Ie(e,n,!0,void 0!==i&&i),o=[],r=r||de(i);for(var a=0;a<i.length;a++)o[a]=new t(i[a]),r&&ue(o[a].m);r&&(ue(o),Object.freeze(o)),e.j[n]=o}return o}function ye(e,t,n,i,r){var o=void 0!==o&&o;return pe(e),o=Ue(e,n,t,o),n=i||new n,e=Ie(e,t),null!=r?(o.splice(r,0,n),e.splice(r,0,n.m)):(o.push(n),e.push(n.m)),n}function be(e,t){return null==(e=Ee(e,t))?0:e}function ve(e,t){return null==(e=Ee(e,t))?"":e}function Re(e){var t=Be;return Fe(e,t=void 0===t?Te:t)}function Se(e,t){if(null!=e){if(Array.isArray(e))e=Fe(e,t);else if(he(e)){var n,i={};for(n in e)i[n]=Se(e[n],t);e=i}else e=t(e);return e}}function Fe(e,t){for(var n=e.slice(),i=0;i<n.length;i++)n[i]=Se(n[i],t);return Array.isArray(e)&&1&ce(e)&&le(n),n}function Be(e){return e&&"object"==typeof e&&e.toJSON?e.toJSON():(e=function(e){switch(typeof e){case"number":return isFinite(e)?e:String(e);case"object":if(e&&!Array.isArray(e)){if(x(e))return V(e);if(e instanceof M){var t=e.L;return t=null==t||"string"==typeof t?t:J&&t instanceof Uint8Array?V(t):null,(e.L=t)||""}}}return e}(e),Array.isArray(e)?Re(e):e)}function Te(e){return x(e)?new Uint8Array(e):e}function Ne(e,t,n){e||(e=ge),ge=null;var i=this.constructor.h;if(e||(e=i?[i]:[]),this.h=(i?0:-1)-(this.constructor.g||0),this.j=void 0,this.m=e,e=(i=this.m.length)-1,i&&he(i=this.m[e])?(this.i=e-this.h,this.g=i):void 0!==t&&-1<t?(this.i=Math.max(t,e+1-this.h),this.g=void 0):this.i=Number.MAX_VALUE,n)for(t=0;t<n.length;t++)if((e=n[t])<this.i)e+=this.h,(i=this.m[e])?Array.isArray(i)&&le(i):this.m[e]=Ae;else{var r=(i=this.g||(this.g=this.m[this.i+this.h]={}))[e];r?Array.isArray(r)&&le(r):i[e]=Ae}}function _e(){Ne.apply(this,arguments)}if(Ne.prototype.toJSON=function(){return Re(this.m)},Ne.prototype.toString=function(){return this.m.toString()},g(_e,Ne),fe){var we={};Object.defineProperties(_e,(we[Symbol.hasInstance]=me((function(){throw Error("Cannot perform instanceof checks for MutableMessage")})),we))}function ke(e,t,n){if(n){var i,r={};for(i in n){var o=n[i],a=o.ha;a||(r.F=o.la||o.fa.P,o.aa?(r.U=xe(o.aa),a=function(e){return function(t,n,i){return e.F(t,n,i,e.U)}}(r)):o.ca?(r.T=Me(o.X.g,o.ca),a=function(e){return function(t,n,i){return e.F(t,n,i,e.T)}}(r)):a=r.F,o.ha=a),a(t,e,o.X),r={F:r.F,U:r.U,T:r.T}}}!function(e,t){if(t=t.ba){oe(e,e.g.end());for(var n=0;n<t.length;n++)oe(e,t[n])}}(t,e)}var De=Symbol();function Ve(e,t,n){return e[De]||(e[De]=function(e,i){return t(e,i,n)})}function Ze(e){var t=e[De];if(!t){var n=et(e);t=function(e,t){return tt(e,t,n)},e[De]=t}return t}function We(e){var t=function(e){var t=e.aa;return t?Ze(t):(t=e.ka)?Ve(e.X.g,t,e.ca):void 0}(e),n=e.X,i=e.fa.O;return t?function(e,r){return i(e,r,n,t)}:function(e,t){return i(e,t,n)}}function Oe(e,t,n,i,r,o){var a=0;for((e=e()).length&&"number"!=typeof e[0]&&(n(t,e[0]),a++);a<e.length;){n=e[a++];for(var s=a+1;s<e.length&&"number"!=typeof e[s];)s++;var c=e[a++];switch(s-=a){case 0:i(t,n,c);break;case 1:i(t,n,c,e[a++]);break;case 2:r(t,n,c,e[a++],e[a++]);break;case 3:s=e[a++];var l=e[a++],d=e[a++];Array.isArray(d)?r(t,n,c,s,l,d):o(t,n,c,s,l,d);break;case 4:o(t,n,c,e[a++],e[a++],e[a++],e[a++]);break;default:throw Error("unexpected number of binary field arguments: "+s)}}return t}var Je=Symbol();function xe(e){var t=e[Je];if(!t){var n=Xe(e);t=function(e,t){return it(e,t,n)},e[Je]=t}return t}function Me(e,t){var n=e[Je];return n||(n=function(e,n){return ke(e,n,t)},e[Je]=n),n}var Le=Symbol();function Pe(e,t){e.push(t)}function Ge(e,t,n){e.push(t,n.P)}function Ye(e,t,n,i,r){var o=xe(r),a=n.P;e.push(t,(function(e,t,n){return a(e,t,n,i,o)}))}function je(e,t,n,i,r,o){var a=Me(i,o),s=n.P;e.push(t,(function(e,t,n){return s(e,t,n,i,a)}))}function Xe(e){return e[Le]||Oe(e,e[Le]=[],Pe,Ge,Ye,je)}var Ke=Symbol();function He(e,t){e[0]=t}function ze(e,t,n,i){var r=n.O;e[t]=i?function(e,t,n){return r(e,t,n,i)}:r}function qe(e,t,n,i,r,o){var a=n.O,s=Ze(r);e[t]=function(e,t,n){return a(e,t,n,i,s,o)}}function $e(e,t,n,i,r,o,a){var s=n.O,c=Ve(i,r,o);e[t]=function(e,t,n){return s(e,t,n,i,c,a)}}function et(e){return e[Ke]||Oe(e,e[Ke]={},He,ze,qe,$e)}function tt(e,t,n){for(;te(t)&&4!=t.h;){var i=t.i,r=n[i];if(!r){var o=n[0];o&&(o=o[i])&&(r=n[i]=We(o))}if((!r||!r(t,e,i))&&(i=e,o=(r=t).j,ne(r),!r.W)){var a=r.g.h;r=o===(r=r.g.g)?O||(O=new Uint8Array(0)):L?a.slice(o,r):new Uint8Array(a.subarray(o,r)),(o=i.ba)?o.push(r):i.ba=[r]}}return e}function nt(e,t,n){if(ie.length){var i=ie.pop();e&&(X(i.g,e),i.i=-1,i.h=-1),e=i}else e=new ee(e);try{return tt(new t,e,et(n))}finally{(t=e.g).h=null,t.j=0,t.i=0,t.g=0,t.v=!1,e.i=-1,e.h=-1,100>ie.length&&ie.push(e)}}function it(e,t,n){for(var i=n.length,r=i%2==1,o=r?1:0;o<i;o+=2)(0,n[o+1])(t,e,n[o]);ke(e,t,r?n[0]:void 0)}function rt(e,t){var n=new re;it(e,n,Xe(t)),oe(n,n.g.end()),e=new Uint8Array(n.h);for(var i=(t=n.i).length,r=0,o=0;o<i;o++){var a=t[o];e.set(a,r),r+=a.length}return n.i=[e],e}function ot(e,t){return{O:e,P:t}}var at=ot((function(e,t,n){if(5!==e.h)return!1;var i=(e=e.g).h[e.g],r=e.h[e.g+1],o=e.h[e.g+2],a=e.h[e.g+3];return e.g+=4,K(e),e=2*((r=(i<<0|r<<8|o<<16|a<<24)>>>0)>>31)+1,i=r>>>23&255,r&=8388607,Ce(t,n,255==i?r?NaN:1/0*e:0==i?e*Math.pow(2,-149)*r:e*Math.pow(2,i-150)*(r+Math.pow(2,23))),!0}),(function(e,t,n){if(null!=(t=Ee(t,n))){$(e.g,8*n+5),e=e.g;var i=t;0===(i=(n=0>i?1:0)?-i:i)?P=0<1/i?0:2147483648:isNaN(i)?P=2147483647:34028234663852886e22<i?P=(n<<31|2139095040)>>>0:11754943508222875e-54>i?(i=Math.round(i/Math.pow(2,-149)),P=(n<<31|i)>>>0):(t=Math.floor(Math.log(i)/Math.LN2),i*=Math.pow(2,-t),16777216<=(i=Math.round(8388608*i))&&++t,P=(n<<31|t+127<<23|8388607&i)>>>0),n=P,e.g.push(n>>>0&255),e.g.push(n>>>8&255),e.g.push(n>>>16&255),e.g.push(n>>>24&255)}})),st=ot((function(e,t,n){if(0!==e.h)return!1;for(var i=e.g,r=128,o=0,a=e=0;4>a&&128<=r;a++)r=i.h[i.g++],K(i),o|=(127&r)<<7*a;if(128<=r&&(r=i.h[i.g++],K(i),o|=(127&r)<<28,e|=(127&r)>>4),128<=r)for(a=0;5>a&&128<=r;a++)r=i.h[i.g++],K(i),e|=(127&r)<<7*a+3;if(!(128>r))throw Y();return i=o>>>0,(e=2147483648&(r=e>>>0))&&(r=~r>>>0,0==(i=1+~i>>>0)&&(r=r+1>>>0)),i=4294967296*r+(i>>>0),Ce(t,n,e?-i:i),!0}),(function(e,t,n){if(null!=(t=Ee(t,n))&&null!=t){$(e.g,8*n),e=e.g;var i=t;for(n=0>i,t=(i=Math.abs(i))>>>0,i=Math.floor((i-t)/4294967296),i>>>=0,n&&(i=~i>>>0,4294967295<(t=1+(~t>>>0))&&(t=0,4294967295<++i&&(i=0))),n=P=t,t=i;0<t||127<n;)e.g.push(127&n|128),n=(n>>>7|t<<25)>>>0,t>>>=7;e.g.push(n)}})),ct=ot((function(e,t,n){return 0===e.h&&(Ce(t,n,H(e.g)),!0)}),(function(e,t,n){if(null!=(t=Ee(t,n))&&null!=t)if($(e.g,8*n),e=e.g,0<=(n=t))$(e,n);else{for(t=0;9>t;t++)e.g.push(127&n|128),n>>=7;e.g.push(1)}})),lt=ot((function(e,t,n){if(2!==e.h)return!1;var i,r=H(e.g)>>>0,o=(e=e.g).g;if(e.g+=r,K(e),e=e.h,_)(i=T)||(i=T=new TextDecoder("utf-8",{fatal:!0})),i=i.decode(e.subarray(o,o+r));else{r=o+r;for(var a,s,c,l=[],d=null;o<r;)128>(a=e[o++])?l.push(a):224>a?o>=r?F():(s=e[o++],194>a||128!==(192&s)?(o--,F()):l.push((31&a)<<6|63&s)):240>a?o>=r-1?F():128!==(192&(s=e[o++]))||224===a&&160>s||237===a&&160<=s||128!==(192&(i=e[o++]))?(o--,F()):l.push((15&a)<<12|(63&s)<<6|63&i):244>=a?o>=r-2?F():128!==(192&(s=e[o++]))||s-144+(a<<28)>>30!==0||128!==(192&(i=e[o++]))||128!==(192&(c=e[o++]))?(o--,F()):(a=(7&a)<<18|(63&s)<<12|(63&i)<<6|63&c,a-=65536,l.push(55296+(a>>10&1023),56320+(1023&a))):F(),8192<=l.length&&(d=B(d,l),l.length=0);i=B(d,l)}return Ce(t,n,i),!0}),(function(e,t,n){if(null!=(t=Ee(t,n))){var i=!1;if(i=void 0!==i&&i,w){if(i&&/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/.test(t))throw Error("Found an unpaired surrogate");t=(N||(N=new TextEncoder)).encode(t)}else{for(var r=0,o=new Uint8Array(3*t.length),a=0;a<t.length;a++){var s=t.charCodeAt(a);if(128>s)o[r++]=s;else{if(2048>s)o[r++]=s>>6|192;else{if(55296<=s&&57343>=s){if(56319>=s&&a<t.length){var c=t.charCodeAt(++a);if(56320<=c&&57343>=c){s=1024*(s-55296)+c-56320+65536,o[r++]=s>>18|240,o[r++]=s>>12&63|128,o[r++]=s>>6&63|128,o[r++]=63&s|128;continue}a--}if(i)throw Error("Found an unpaired surrogate");s=65533}o[r++]=s>>12|224,o[r++]=s>>6&63|128}o[r++]=63&s|128}}t=o.subarray(0,r)}$(e.g,8*n+2),$(e.g,t.length),oe(e,e.g.end()),oe(e,t)}})),dt=ot((function(e,t,n,i,r){if(2!==e.h)return!1;t=ye(t,n,i),n=e.g.i,i=H(e.g)>>>0;var o=e.g.g+i,a=o-n;if(0>=a&&(e.g.i=o,r(t,e),a=o-e.g.g),a)throw Error("Message parsing ended unexpectedly. Expected to read "+i+" bytes, instead read "+(i-a)+" bytes, either the data ended unexpectedly or the message misreported its own length");return e.g.g=o,e.g.i=n,!0}),(function(e,t,n,i,r){if(null!=(t=Ue(t,i,n)))for(i=0;i<t.length;i++){var o=e;$(o.g,8*n+2);var a=o.g.end();oe(o,a),a.push(o.h),o=a,r(t[i],e),a=e;var s=o.pop();for(s=a.h+a.g.length()-s;127<s;)o.push(127&s|128),s>>>=7,a.h++;o.push(s),a.h++}}));function ut(){_e.apply(this,arguments)}if(g(ut,_e),fe){var ht={};Object.defineProperties(ut,(ht[Symbol.hasInstance]=me(Object[Symbol.hasInstance]),ht))}function At(e){ut.call(this,e)}function pt(){return[1,ct,2,at,3,lt,4,lt]}function gt(e){ut.call(this,e,-1,mt)}function ft(){return[1,dt,At,pt]}g(At,ut),g(gt,ut),gt.prototype.addClassification=function(e,t){return ye(this,1,At,e,t),this};var mt=[1];function Et(e){ut.call(this,e)}function Ct(){return[1,at,2,at,3,at,4,at,5,at]}function It(e){ut.call(this,e,-1,Ut)}function Qt(){return[1,dt,Et,Ct]}g(Et,ut),g(It,ut);var Ut=[1];function yt(e){ut.call(this,e)}function bt(){return[1,at,2,at,3,at,4,at,5,at,6,st]}g(yt,ut);var vt=[[61,146],[146,91],[91,181],[181,84],[84,17],[17,314],[314,405],[405,321],[321,375],[375,291],[61,185],[185,40],[40,39],[39,37],[37,0],[0,267],[267,269],[269,270],[270,409],[409,291],[78,95],[95,88],[88,178],[178,87],[87,14],[14,317],[317,402],[402,318],[318,324],[324,308],[78,191],[191,80],[80,81],[81,82],[82,13],[13,312],[312,311],[311,310],[310,415],[415,308]],Rt=[[263,249],[249,390],[390,373],[373,374],[374,380],[380,381],[381,382],[382,362],[263,466],[466,388],[388,387],[387,386],[386,385],[385,384],[384,398],[398,362]],St=[[276,283],[283,282],[282,295],[295,285],[300,293],[293,334],[334,296],[296,336]],Ft=[[33,7],[7,163],[163,144],[144,145],[145,153],[153,154],[154,155],[155,133],[33,246],[246,161],[161,160],[160,159],[159,158],[158,157],[157,173],[173,133]],Bt=[[46,53],[53,52],[52,65],[65,55],[70,63],[63,105],[105,66],[66,107]],Tt=[[10,338],[338,297],[297,332],[332,284],[284,251],[251,389],[389,356],[356,454],[454,323],[323,361],[361,288],[288,397],[397,365],[365,379],[379,378],[378,400],[400,377],[377,152],[152,148],[148,176],[176,149],[149,150],[150,136],[136,172],[172,58],[58,132],[132,93],[93,234],[234,127],[127,162],[162,21],[21,54],[54,103],[103,67],[67,109],[109,10]],Nt=[].concat(l(vt),l(Rt),l(St),l(Ft),l(Bt),l(Tt));function _t(e,t,n){if(n=e.createShader(0===n?e.VERTEX_SHADER:e.FRAGMENT_SHADER),e.shaderSource(n,t),e.compileShader(n),!e.getShaderParameter(n,e.COMPILE_STATUS))throw Error("Could not compile WebGL shader.\n\n"+e.getShaderInfoLog(n));return n}function wt(e){return Ue(e,At,1).map((function(e){return{index:be(e,1),ga:Qe(e,2),label:null!=Ee(e,3)?ve(e,3):void 0,displayName:null!=Ee(e,4)?ve(e,4):void 0}}))}function kt(e){return{x:Qe(e,1),y:Qe(e,2),z:Qe(e,3),visibility:null!=Ee(e,4)?Qe(e,4):void 0}}function Dt(e,t){this.h=e,this.g=t,this.l=0}function Vt(t,n,i){return function(e,t){var n=e.g;if(void 0===e.o){var i=_t(n,"\n  attribute vec2 aVertex;\n  attribute vec2 aTex;\n  varying vec2 vTex;\n  void main(void) {\n    gl_Position = vec4(aVertex, 0.0, 1.0);\n    vTex = aTex;\n  }",0),r=_t(n,"\n  precision mediump float;\n  varying vec2 vTex;\n  uniform sampler2D sampler0;\n  void main(){\n    gl_FragColor = texture2D(sampler0, vTex);\n  }",1),o=n.createProgram();if(n.attachShader(o,i),n.attachShader(o,r),n.linkProgram(o),!n.getProgramParameter(o,n.LINK_STATUS))throw Error("Could not compile WebGL program.\n\n"+n.getProgramInfoLog(o));i=e.o=o,n.useProgram(i),r=n.getUniformLocation(i,"sampler0"),e.j={K:n.getAttribLocation(i,"aVertex"),J:n.getAttribLocation(i,"aTex"),ma:r},e.u=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,e.u),n.enableVertexAttribArray(e.j.K),n.vertexAttribPointer(e.j.K,2,n.FLOAT,!1,0,0),n.bufferData(n.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),n.STATIC_DRAW),n.bindBuffer(n.ARRAY_BUFFER,null),e.s=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,e.s),n.enableVertexAttribArray(e.j.J),n.vertexAttribPointer(e.j.J,2,n.FLOAT,!1,0,0),n.bufferData(n.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,0,1,1]),n.STATIC_DRAW),n.bindBuffer(n.ARRAY_BUFFER,null),n.uniform1i(r,0)}i=e.j,n.useProgram(e.o),n.canvas.width=t.width,n.canvas.height=t.height,n.viewport(0,0,t.width,t.height),n.activeTexture(n.TEXTURE0),e.h.bindTexture2d(t.glName),n.enableVertexAttribArray(i.K),n.bindBuffer(n.ARRAY_BUFFER,e.u),n.vertexAttribPointer(i.K,2,n.FLOAT,!1,0,0),n.enableVertexAttribArray(i.J),n.bindBuffer(n.ARRAY_BUFFER,e.s),n.vertexAttribPointer(i.J,2,n.FLOAT,!1,0,0),n.bindFramebuffer(n.DRAW_FRAMEBUFFER?n.DRAW_FRAMEBUFFER:n.FRAMEBUFFER,null),n.clearColor(0,0,0,0),n.clear(n.COLOR_BUFFER_BIT),n.colorMask(!0,!0,!0,!0),n.drawArrays(n.TRIANGLE_FAN,0,4),n.disableVertexAttribArray(i.K),n.disableVertexAttribArray(i.J),n.bindBuffer(n.ARRAY_BUFFER,null),e.h.bindTexture2d(0)}(t,n),"function"==typeof t.g.canvas.transferToImageBitmap?e.resolve(t.g.canvas.transferToImageBitmap()):i?e.resolve(t.g.canvas):"function"==typeof createImageBitmap?createImageBitmap(t.g.canvas):(void 0===t.i&&(t.i=document.createElement("canvas")),new e((function(e){t.i.height=t.g.canvas.height,t.i.width=t.g.canvas.width,t.i.getContext("2d",{}).drawImage(t.g.canvas,0,0,t.g.canvas.width,t.g.canvas.height),e(t.i)})))}function Zt(e){this.g=e}var Wt=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]);function Ot(e,t){return t+e}function Jt(e,t){window[e]=t}function xt(t){if(this.g=t,this.listeners={},this.j={},this.H={},this.o={},this.u={},this.I=this.s=this.Z=!0,this.D=e.resolve(),this.Y="",this.C={},this.locateFile=t&&t.locateFile||Ot,"object"==typeof window)var n=window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/";else{if(!(typeof location<"u"))throw Error("solutions can only be loaded on a web page or in a web worker");n=location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/"}if(this.$=n,t.options)for(var i=(n=c(Object.keys(t.options))).next();!i.done;i=n.next()){i=i.value;var r=t.options[i].default;void 0!==r&&(this.j[i]="function"==typeof r?r():r)}}function Mt(t){var n,i,r,o,a,s,c,d,u,h,A;return b((function(p){switch(p.g){case 1:return t.Z?(n=void 0===t.g.files?[]:"function"==typeof t.g.files?t.g.files(t.j):t.g.files,C(p,b((function(e){switch(e.g){case 1:return e.o=2,C(e,WebAssembly.instantiate(Wt),4);case 4:e.g=3,e.o=0;break;case 2:return e.o=0,e.j=null,e.return(!1);case 3:return e.return(!0)}})),2)):p.return();case 2:if(i=p.h,"object"==typeof window)return Jt("createMediapipeSolutionsWasm",{locateFile:t.locateFile}),Jt("createMediapipeSolutionsPackedAssets",{locateFile:t.locateFile}),s=n.filter((function(e){return void 0!==e.data})),c=n.filter((function(e){return void 0===e.data})),d=e.all(s.map((function(n){var i=Lt(t,n.url);if(void 0!==n.path){var r=n.path;i=i.then((function(n){return t.overrideFile(r,n),e.resolve(n)}))}return i}))),u=e.all(c.map((function(n){return void 0===n.simd||n.simd&&i||!n.simd&&!i?function(t){var n=document.createElement("script");return n.setAttribute("src",t),n.setAttribute("crossorigin","anonymous"),new e((function(e){n.addEventListener("load",(function(){e()}),!1),n.addEventListener("error",(function(){e()}),!1),document.body.appendChild(n)}))}(t.locateFile(n.url,t.$)):e.resolve()}))).then((function(){var e,n,i;return b((function(r){if(1==r.g)return e=window.createMediapipeSolutionsWasm,n=window.createMediapipeSolutionsPackedAssets,i=t,C(r,e(n),2);i.h=r.h,r.g=0}))})),h=b((function(e){return t.g.graph&&t.g.graph.url?e=C(e,Lt(t,t.g.graph.url),0):(e.g=0,e=void 0),e})),C(p,e.all([u,d,h]),7);if("function"!=typeof importScripts)throw Error("solutions can only be loaded on a web page or in a web worker");return r=n.filter((function(e){return void 0===e.simd||e.simd&&i||!e.simd&&!i})).map((function(e){return t.locateFile(e.url,t.$)})),importScripts.apply(null,l(r)),o=t,C(p,createMediapipeSolutionsWasm(Module),6);case 6:o.h=p.h,t.l=new OffscreenCanvas(1,1),t.h.canvas=t.l,a=t.h.GL.createContext(t.l,{antialias:!1,alpha:!1,ja:typeof WebGL2RenderingContext<"u"?2:1}),t.h.GL.makeContextCurrent(a),p.g=4;break;case 7:if(t.l=document.createElement("canvas"),!(A=t.l.getContext("webgl2",{}))&&!(A=t.l.getContext("webgl",{})))return alert("Failed to create WebGL canvas context when passing video frame."),p.return();t.G=A,t.h.canvas=t.l,t.h.createContext(t.l,!0,!0,{});case 4:t.i=new t.h.SolutionWasm,t.Z=!1,p.g=0}}))}function Lt(e,t){var n,i;return b((function(r){return t in e.H?r.return(e.H[t]):(n=e.locateFile(t,""),i=fetch(n).then((function(e){return e.arrayBuffer()})),e.H[t]=i,r.return(i))}))}function Pt(e,t,n){var i,r,o,a,s,l,d,u,h,A,p,g,f,m;return b((function(E){switch(E.g){case 1:if(!n)return E.return(t);for(i={},r=0,o=c(Object.keys(n)),a=o.next();!a.done;a=o.next())s=a.value,"string"!=typeof(l=n[s])&&"texture"===l.type&&void 0!==t[l.stream]&&++r;1<r&&(e.I=!1),d=c(Object.keys(n)),a=d.next();case 2:if(a.done){E.g=4;break}if(u=a.value,"string"==typeof(h=n[u]))return f=i,m=u,C(E,function(e,t,n){var i;return b((function(r){return"number"==typeof n||n instanceof Uint8Array||n instanceof e.h.Uint8BlobList?r.return(n):n instanceof e.h.Texture2dDataOut?((i=e.u[t])||(i=new Dt(e.h,e.G),e.u[t]=i),r.return(Vt(i,n,e.I))):r.return(void 0)}))}(e,u,t[h]),14);if(A=t[h.stream],"detection_list"===h.type){if(A){for(var I=A.getRectList(),Q=A.getLandmarksList(),U=A.getClassificationsList(),y=[],v=0;v<I.size();++v){var R=nt(I.get(v),yt,bt);R={boundingBox:{xCenter:Qe(R,1),yCenter:Qe(R,2),height:Qe(R,3),width:Qe(R,4),rotation:Qe(R,5,0),rectId:be(R,6)},landmarks:Ue(nt(Q.get(v),It,Qt),Et,1).map(kt),V:wt(nt(U.get(v),gt,ft))},y.push(R)}I=y}else I=[];i[u]=I,E.g=7;break}if("proto_list"===h.type){if(A){for(I=Array(A.size()),Q=0;Q<A.size();Q++)I[Q]=A.get(Q);A.delete()}else I=[];i[u]=I,E.g=7;break}if(void 0===A){E.g=3;break}if("float_list"===h.type){i[u]=A,E.g=7;break}if("proto"===h.type){i[u]=A,E.g=7;break}if("texture"!==h.type)throw Error("Unknown output config type: '"+h.type+"'");return(p=e.u[u])||(p=new Dt(e.h,e.G),e.u[u]=p),C(E,Vt(p,A,e.I),13);case 13:g=E.h,i[u]=g;case 7:h.transform&&i[u]&&(i[u]=h.transform(i[u])),E.g=3;break;case 14:f[m]=E.h;case 3:a=d.next(),E.g=2;break;case 4:return E.return(i)}}))}function Gt(e,t){for(var n=t.name||"$",i=[].concat(l(t.wants)),r=new e.h.StringList,o=c(t.wants),a=o.next();!a.done;a=o.next())r.push_back(a.value);o=e.h.PacketListener.implement({onResults:function(r){for(var o={},a=0;a<t.wants.length;++a)o[i[a]]=r.get(a);var s=e.listeners[n];s&&(e.D=Pt(e,o,t.outs).then((function(n){n=s(n);for(var r=0;r<t.wants.length;++r){var a=o[i[r]];"object"==typeof a&&a.hasOwnProperty&&a.hasOwnProperty("delete")&&a.delete()}n&&(e.D=n)})))}}),e.i.attachMultiListener(r,o),r.delete()}function Yt(e){var t=this;e=e||{};var n={url:"face_detection_short.binarypb"},i={type:1,graphOptionXref:{calculatorType:"TensorsToDetectionsCalculator",calculatorName:"facedetectionshortrangegpu__facedetectionshortrangecommon__TensorsToDetectionsCalculator",fieldName:"min_score_thresh"}};this.g=new xt({locateFile:e.locateFile,files:[{data:!0,url:"face_detection_short.binarypb"},{data:!0,url:"face_detection_short_range.tflite"},{simd:!0,url:"face_detection_solution_simd_wasm_bin.js"},{simd:!1,url:"face_detection_solution_wasm_bin.js"}],graph:n,listeners:[{wants:["detections","image_transformed"],outs:{image:"image_transformed",detections:{type:"detection_list",stream:"detections"}}}],inputs:{image:{type:"video",stream:"input_frames_gpu"}},options:{useCpuInference:{type:0,graphOptionXref:{calculatorType:"InferenceCalculator",fieldName:"use_cpu_inference"},default:"object"==typeof window&&void 0!==window.navigator&&("iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";").includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document)},selfieMode:{type:0,graphOptionXref:{calculatorType:"GlScalerCalculator",calculatorIndex:1,fieldName:"flip_horizontal"}},model:{type:0,onChange:function(e){var r,o,a,s,l;return b((function(d){switch(d.g){case 1:r=c("short"===e?["face_detection_short_range.tflite"]:["face_detection_full_range_sparse.tflite"]),o=r.next();case 2:if(o.done){d.g=4;break}return a=o.value,s="third_party/mediapipe/modules/face_detection/"+a,C(d,Lt(t.g,a),5);case 5:l=d.h,t.g.overrideFile(s,l),o=r.next(),d.g=2;break;case 4:return n.url="short"===e?"face_detection_short.binarypb":"face_detection_full.binarypb",i.graphOptionXref.calculatorName="short"===e?"facedetectionshortrangegpu__facedetectionshortrangecommon__TensorsToDetectionsCalculator":"facedetectionfullrangegpu__facedetectionfullrangecommon__TensorsToDetectionsCalculator",d.return(!0)}}))}},minDetectionConfidence:i}})}(t=xt.prototype).close=function(){return this.i&&this.i.delete(),e.resolve()},t.reset=function(){var e=this;return b((function(t){e.i&&(e.i.reset(),e.o={},e.u={}),t.g=0}))},t.setOptions=function(e,t){var n=this;if(t=t||this.g.options){for(var i=[],r=[],o={},a=c(Object.keys(e)),s=a.next();!s.done;o={R:o.R,S:o.S},s=a.next()){var l=s.value;l in this.j&&this.j[l]===e[l]||(this.j[l]=e[l],void 0!==(s=t[l])&&(s.onChange&&(o.R=s.onChange,o.S=e[l],i.push(function(e){return function(){return b((function(t){if(1==t.g)return C(t,e.R(e.S),2);!0===t.h&&(n.s=!0),t.g=0}))}}(o))),s.graphOptionXref&&(l={valueNumber:1===s.type?e[l]:0,valueBoolean:0===s.type&&e[l],valueString:2===s.type?e[l]:""},s=Object.assign(Object.assign(Object.assign({},{calculatorName:"",calculatorIndex:0}),s.graphOptionXref),l),r.push(s))))}(0!==i.length||0!==r.length)&&(this.s=!0,this.B=(void 0===this.B?[]:this.B).concat(r),this.A=(void 0===this.A?[]:this.A).concat(i))}},t.initialize=function(){var e=this;return b((function(t){return 1==t.g?C(t,Mt(e),2):3!=t.g?C(t,function(e){var t,n,i,r,o,a,s,l;return b((function(d){if(1==d.g)return e.g.graph&&e.g.graph.url&&e.Y===e.g.graph.url?d.return():(e.s=!0,e.g.graph&&e.g.graph.url?(e.Y=e.g.graph.url,C(d,Lt(e,e.g.graph.url),3)):void(d.g=2));for(2!=d.g&&(t=d.h,e.i.loadGraph(t)),n=c(Object.keys(e.C)),i=n.next();!i.done;i=n.next())r=i.value,e.i.overrideFile(r,e.C[r]);if(e.C={},e.g.listeners)for(o=c(e.g.listeners),a=o.next();!a.done;a=o.next())s=a.value,Gt(e,s);l=e.j,e.j={},e.setOptions(l),d.g=0}))}(e),3):C(t,function(e){var t,n,i,r,o,a;return b((function(s){switch(s.g){case 1:if(!e.s)return s.return();if(!e.A){s.g=2;break}t=c(e.A),n=t.next();case 3:if(n.done){s.g=5;break}return C(s,(0,n.value)(),4);case 4:n=t.next(),s.g=3;break;case 5:e.A=void 0;case 2:if(e.B){for(i=new e.h.GraphOptionChangeRequestList,r=c(e.B),o=r.next();!o.done;o=r.next())a=o.value,i.push_back(a);e.i.changeOptions(i),i.delete(),e.B=void 0}e.s=!1,s.g=0}}))}(e),0)}))},t.overrideFile=function(e,t){this.i?this.i.overrideFile(e,t):this.C[e]=t},t.clearOverriddenFiles=function(){this.C={},this.i&&this.i.clearOverriddenFiles()},t.send=function(e,t){var n,i,r,o,a,s,l,d,u,h=this;return b((function(A){switch(A.g){case 1:return h.g.inputs?(n=1e3*(null==t?performance.now():t),C(A,h.D,2)):A.return();case 2:return C(A,h.initialize(),3);case 3:for(i=new h.h.PacketDataList,r=c(Object.keys(e)),o=r.next();!o.done;o=r.next())if(a=o.value,s=h.g.inputs[a]){e:{var p=e[a];switch(s.type){case"video":var g=h.o[s.stream];if(g||(g=new Dt(h.h,h.G),h.o[s.stream]=g),0===g.l&&(g.l=g.h.createTexture()),typeof HTMLVideoElement<"u"&&p instanceof HTMLVideoElement)var f=p.videoWidth,m=p.videoHeight;else typeof HTMLImageElement<"u"&&p instanceof HTMLImageElement?(f=p.naturalWidth,m=p.naturalHeight):(f=p.width,m=p.height);m={glName:g.l,width:f,height:m},(f=g.g).canvas.width=m.width,f.canvas.height=m.height,f.activeTexture(f.TEXTURE0),g.h.bindTexture2d(g.l),f.texImage2D(f.TEXTURE_2D,0,f.RGBA,f.RGBA,f.UNSIGNED_BYTE,p),g.h.bindTexture2d(0),g=m;break e;case"detections":for((g=h.o[s.stream])||(g=new Zt(h.h),h.o[s.stream]=g),g.data||(g.data=new g.g.DetectionListData),g.data.reset(p.length),m=0;m<p.length;++m){f=p[m];var E=g.data,I=E.setBoundingBox,Q=m,U=f.boundingBox,y=new yt;if(Ce(y,1,U.xCenter),Ce(y,2,U.yCenter),Ce(y,3,U.height),Ce(y,4,U.width),Ce(y,5,U.rotation),Ce(y,6,U.rectId),U=rt(y,bt),I.call(E,Q,U),f.landmarks)for(E=0;E<f.landmarks.length;++E){var b=!!(y=f.landmarks[E]).visibility;Q=(I=g.data).addNormalizedLandmark,U=m,y=Object.assign(Object.assign({},y),{visibility:b?y.visibility:0}),Ce(b=new Et,1,y.x),Ce(b,2,y.y),Ce(b,3,y.z),y.visibility&&Ce(b,4,y.visibility),y=rt(b,Ct),Q.call(I,U,y)}if(f.V)for(E=0;E<f.V.length;++E)Q=(I=g.data).addClassification,U=m,y=f.V[E],Ce(b=new At,2,y.ga),y.index&&Ce(b,1,y.index),y.label&&Ce(b,3,y.label),y.displayName&&Ce(b,4,y.displayName),y=rt(b,pt),Q.call(I,U,y)}g=g.data;break e;default:g={}}}switch(l=g,d=s.stream,s.type){case"video":i.pushTexture2d(Object.assign(Object.assign({},l),{stream:d,timestamp:n}));break;case"detections":(u=l).stream=d,u.timestamp=n,i.pushDetectionList(u);break;default:throw Error("Unknown input config type: '"+s.type+"'")}}return h.i.send(i),C(A,h.D,4);case 4:i.delete(),A.g=0}}))},t.onResults=function(e,t){this.listeners[t||"$"]=e},S("Solution",xt),S("OptionType",{BOOL:0,NUMBER:1,ia:2,0:"BOOL",1:"NUMBER",2:"STRING"}),(t=Yt.prototype).close=function(){return this.g.close(),e.resolve()},t.onResults=function(e){this.g.onResults(e)},t.initialize=function(){var e=this;return b((function(t){return C(t,e.g.initialize(),0)}))},t.reset=function(){this.g.reset()},t.send=function(e){var t=this;return b((function(n){return C(n,t.g.send(e),0)}))},t.setOptions=function(e){this.g.setOptions(e)},S("FaceDetection",Yt),S("FACEDETECTION_LIPS",vt),S("FACEDETECTION_LEFT_EYE",Rt),S("FACEDETECTION_LEFT_EYEBROW",St),S("FACEDETECTION_RIGHT_EYE",Ft),S("FACEDETECTION_RIGHT_EYEBROW",Bt),S("FACEDETECTION_FACE_OVAL",Tt),S("FACEDETECTION_CONTOURS",Nt),S("FACEDETECTION_TESSELATION",[[127,34],[34,139],[139,127],[11,0],[0,37],[37,11],[232,231],[231,120],[120,232],[72,37],[37,39],[39,72],[128,121],[121,47],[47,128],[232,121],[121,128],[128,232],[104,69],[69,67],[67,104],[175,171],[171,148],[148,175],[118,50],[50,101],[101,118],[73,39],[39,40],[40,73],[9,151],[151,108],[108,9],[48,115],[115,131],[131,48],[194,204],[204,211],[211,194],[74,40],[40,185],[185,74],[80,42],[42,183],[183,80],[40,92],[92,186],[186,40],[230,229],[229,118],[118,230],[202,212],[212,214],[214,202],[83,18],[18,17],[17,83],[76,61],[61,146],[146,76],[160,29],[29,30],[30,160],[56,157],[157,173],[173,56],[106,204],[204,194],[194,106],[135,214],[214,192],[192,135],[203,165],[165,98],[98,203],[21,71],[71,68],[68,21],[51,45],[45,4],[4,51],[144,24],[24,23],[23,144],[77,146],[146,91],[91,77],[205,50],[50,187],[187,205],[201,200],[200,18],[18,201],[91,106],[106,182],[182,91],[90,91],[91,181],[181,90],[85,84],[84,17],[17,85],[206,203],[203,36],[36,206],[148,171],[171,140],[140,148],[92,40],[40,39],[39,92],[193,189],[189,244],[244,193],[159,158],[158,28],[28,159],[247,246],[246,161],[161,247],[236,3],[3,196],[196,236],[54,68],[68,104],[104,54],[193,168],[168,8],[8,193],[117,228],[228,31],[31,117],[189,193],[193,55],[55,189],[98,97],[97,99],[99,98],[126,47],[47,100],[100,126],[166,79],[79,218],[218,166],[155,154],[154,26],[26,155],[209,49],[49,131],[131,209],[135,136],[136,150],[150,135],[47,126],[126,217],[217,47],[223,52],[52,53],[53,223],[45,51],[51,134],[134,45],[211,170],[170,140],[140,211],[67,69],[69,108],[108,67],[43,106],[106,91],[91,43],[230,119],[119,120],[120,230],[226,130],[130,247],[247,226],[63,53],[53,52],[52,63],[238,20],[20,242],[242,238],[46,70],[70,156],[156,46],[78,62],[62,96],[96,78],[46,53],[53,63],[63,46],[143,34],[34,227],[227,143],[123,117],[117,111],[111,123],[44,125],[125,19],[19,44],[236,134],[134,51],[51,236],[216,206],[206,205],[205,216],[154,153],[153,22],[22,154],[39,37],[37,167],[167,39],[200,201],[201,208],[208,200],[36,142],[142,100],[100,36],[57,212],[212,202],[202,57],[20,60],[60,99],[99,20],[28,158],[158,157],[157,28],[35,226],[226,113],[113,35],[160,159],[159,27],[27,160],[204,202],[202,210],[210,204],[113,225],[225,46],[46,113],[43,202],[202,204],[204,43],[62,76],[76,77],[77,62],[137,123],[123,116],[116,137],[41,38],[38,72],[72,41],[203,129],[129,142],[142,203],[64,98],[98,240],[240,64],[49,102],[102,64],[64,49],[41,73],[73,74],[74,41],[212,216],[216,207],[207,212],[42,74],[74,184],[184,42],[169,170],[170,211],[211,169],[170,149],[149,176],[176,170],[105,66],[66,69],[69,105],[122,6],[6,168],[168,122],[123,147],[147,187],[187,123],[96,77],[77,90],[90,96],[65,55],[55,107],[107,65],[89,90],[90,180],[180,89],[101,100],[100,120],[120,101],[63,105],[105,104],[104,63],[93,137],[137,227],[227,93],[15,86],[86,85],[85,15],[129,102],[102,49],[49,129],[14,87],[87,86],[86,14],[55,8],[8,9],[9,55],[100,47],[47,121],[121,100],[145,23],[23,22],[22,145],[88,89],[89,179],[179,88],[6,122],[122,196],[196,6],[88,95],[95,96],[96,88],[138,172],[172,136],[136,138],[215,58],[58,172],[172,215],[115,48],[48,219],[219,115],[42,80],[80,81],[81,42],[195,3],[3,51],[51,195],[43,146],[146,61],[61,43],[171,175],[175,199],[199,171],[81,82],[82,38],[38,81],[53,46],[46,225],[225,53],[144,163],[163,110],[110,144],[52,65],[65,66],[66,52],[229,228],[228,117],[117,229],[34,127],[127,234],[234,34],[107,108],[108,69],[69,107],[109,108],[108,151],[151,109],[48,64],[64,235],[235,48],[62,78],[78,191],[191,62],[129,209],[209,126],[126,129],[111,35],[35,143],[143,111],[117,123],[123,50],[50,117],[222,65],[65,52],[52,222],[19,125],[125,141],[141,19],[221,55],[55,65],[65,221],[3,195],[195,197],[197,3],[25,7],[7,33],[33,25],[220,237],[237,44],[44,220],[70,71],[71,139],[139,70],[122,193],[193,245],[245,122],[247,130],[130,33],[33,247],[71,21],[21,162],[162,71],[170,169],[169,150],[150,170],[188,174],[174,196],[196,188],[216,186],[186,92],[92,216],[2,97],[97,167],[167,2],[141,125],[125,241],[241,141],[164,167],[167,37],[37,164],[72,38],[38,12],[12,72],[38,82],[82,13],[13,38],[63,68],[68,71],[71,63],[226,35],[35,111],[111,226],[101,50],[50,205],[205,101],[206,92],[92,165],[165,206],[209,198],[198,217],[217,209],[165,167],[167,97],[97,165],[220,115],[115,218],[218,220],[133,112],[112,243],[243,133],[239,238],[238,241],[241,239],[214,135],[135,169],[169,214],[190,173],[173,133],[133,190],[171,208],[208,32],[32,171],[125,44],[44,237],[237,125],[86,87],[87,178],[178,86],[85,86],[86,179],[179,85],[84,85],[85,180],[180,84],[83,84],[84,181],[181,83],[201,83],[83,182],[182,201],[137,93],[93,132],[132,137],[76,62],[62,183],[183,76],[61,76],[76,184],[184,61],[57,61],[61,185],[185,57],[212,57],[57,186],[186,212],[214,207],[207,187],[187,214],[34,143],[143,156],[156,34],[79,239],[239,237],[237,79],[123,137],[137,177],[177,123],[44,1],[1,4],[4,44],[201,194],[194,32],[32,201],[64,102],[102,129],[129,64],[213,215],[215,138],[138,213],[59,166],[166,219],[219,59],[242,99],[99,97],[97,242],[2,94],[94,141],[141,2],[75,59],[59,235],[235,75],[24,110],[110,228],[228,24],[25,130],[130,226],[226,25],[23,24],[24,229],[229,23],[22,23],[23,230],[230,22],[26,22],[22,231],[231,26],[112,26],[26,232],[232,112],[189,190],[190,243],[243,189],[221,56],[56,190],[190,221],[28,56],[56,221],[221,28],[27,28],[28,222],[222,27],[29,27],[27,223],[223,29],[30,29],[29,224],[224,30],[247,30],[30,225],[225,247],[238,79],[79,20],[20,238],[166,59],[59,75],[75,166],[60,75],[75,240],[240,60],[147,177],[177,215],[215,147],[20,79],[79,166],[166,20],[187,147],[147,213],[213,187],[112,233],[233,244],[244,112],[233,128],[128,245],[245,233],[128,114],[114,188],[188,128],[114,217],[217,174],[174,114],[131,115],[115,220],[220,131],[217,198],[198,236],[236,217],[198,131],[131,134],[134,198],[177,132],[132,58],[58,177],[143,35],[35,124],[124,143],[110,163],[163,7],[7,110],[228,110],[110,25],[25,228],[356,389],[389,368],[368,356],[11,302],[302,267],[267,11],[452,350],[350,349],[349,452],[302,303],[303,269],[269,302],[357,343],[343,277],[277,357],[452,453],[453,357],[357,452],[333,332],[332,297],[297,333],[175,152],[152,377],[377,175],[347,348],[348,330],[330,347],[303,304],[304,270],[270,303],[9,336],[336,337],[337,9],[278,279],[279,360],[360,278],[418,262],[262,431],[431,418],[304,408],[408,409],[409,304],[310,415],[415,407],[407,310],[270,409],[409,410],[410,270],[450,348],[348,347],[347,450],[422,430],[430,434],[434,422],[313,314],[314,17],[17,313],[306,307],[307,375],[375,306],[387,388],[388,260],[260,387],[286,414],[414,398],[398,286],[335,406],[406,418],[418,335],[364,367],[367,416],[416,364],[423,358],[358,327],[327,423],[251,284],[284,298],[298,251],[281,5],[5,4],[4,281],[373,374],[374,253],[253,373],[307,320],[320,321],[321,307],[425,427],[427,411],[411,425],[421,313],[313,18],[18,421],[321,405],[405,406],[406,321],[320,404],[404,405],[405,320],[315,16],[16,17],[17,315],[426,425],[425,266],[266,426],[377,400],[400,369],[369,377],[322,391],[391,269],[269,322],[417,465],[465,464],[464,417],[386,257],[257,258],[258,386],[466,260],[260,388],[388,466],[456,399],[399,419],[419,456],[284,332],[332,333],[333,284],[417,285],[285,8],[8,417],[346,340],[340,261],[261,346],[413,441],[441,285],[285,413],[327,460],[460,328],[328,327],[355,371],[371,329],[329,355],[392,439],[439,438],[438,392],[382,341],[341,256],[256,382],[429,420],[420,360],[360,429],[364,394],[394,379],[379,364],[277,343],[343,437],[437,277],[443,444],[444,283],[283,443],[275,440],[440,363],[363,275],[431,262],[262,369],[369,431],[297,338],[338,337],[337,297],[273,375],[375,321],[321,273],[450,451],[451,349],[349,450],[446,342],[342,467],[467,446],[293,334],[334,282],[282,293],[458,461],[461,462],[462,458],[276,353],[353,383],[383,276],[308,324],[324,325],[325,308],[276,300],[300,293],[293,276],[372,345],[345,447],[447,372],[352,345],[345,340],[340,352],[274,1],[1,19],[19,274],[456,248],[248,281],[281,456],[436,427],[427,425],[425,436],[381,256],[256,252],[252,381],[269,391],[391,393],[393,269],[200,199],[199,428],[428,200],[266,330],[330,329],[329,266],[287,273],[273,422],[422,287],[250,462],[462,328],[328,250],[258,286],[286,384],[384,258],[265,353],[353,342],[342,265],[387,259],[259,257],[257,387],[424,431],[431,430],[430,424],[342,353],[353,276],[276,342],[273,335],[335,424],[424,273],[292,325],[325,307],[307,292],[366,447],[447,345],[345,366],[271,303],[303,302],[302,271],[423,266],[266,371],[371,423],[294,455],[455,460],[460,294],[279,278],[278,294],[294,279],[271,272],[272,304],[304,271],[432,434],[434,427],[427,432],[272,407],[407,408],[408,272],[394,430],[430,431],[431,394],[395,369],[369,400],[400,395],[334,333],[333,299],[299,334],[351,417],[417,168],[168,351],[352,280],[280,411],[411,352],[325,319],[319,320],[320,325],[295,296],[296,336],[336,295],[319,403],[403,404],[404,319],[330,348],[348,349],[349,330],[293,298],[298,333],[333,293],[323,454],[454,447],[447,323],[15,16],[16,315],[315,15],[358,429],[429,279],[279,358],[14,15],[15,316],[316,14],[285,336],[336,9],[9,285],[329,349],[349,350],[350,329],[374,380],[380,252],[252,374],[318,402],[402,403],[403,318],[6,197],[197,419],[419,6],[318,319],[319,325],[325,318],[367,364],[364,365],[365,367],[435,367],[367,397],[397,435],[344,438],[438,439],[439,344],[272,271],[271,311],[311,272],[195,5],[5,281],[281,195],[273,287],[287,291],[291,273],[396,428],[428,199],[199,396],[311,271],[271,268],[268,311],[283,444],[444,445],[445,283],[373,254],[254,339],[339,373],[282,334],[334,296],[296,282],[449,347],[347,346],[346,449],[264,447],[447,454],[454,264],[336,296],[296,299],[299,336],[338,10],[10,151],[151,338],[278,439],[439,455],[455,278],[292,407],[407,415],[415,292],[358,371],[371,355],[355,358],[340,345],[345,372],[372,340],[346,347],[347,280],[280,346],[442,443],[443,282],[282,442],[19,94],[94,370],[370,19],[441,442],[442,295],[295,441],[248,419],[419,197],[197,248],[263,255],[255,359],[359,263],[440,275],[275,274],[274,440],[300,383],[383,368],[368,300],[351,412],[412,465],[465,351],[263,467],[467,466],[466,263],[301,368],[368,389],[389,301],[395,378],[378,379],[379,395],[412,351],[351,419],[419,412],[436,426],[426,322],[322,436],[2,164],[164,393],[393,2],[370,462],[462,461],[461,370],[164,0],[0,267],[267,164],[302,11],[11,12],[12,302],[268,12],[12,13],[13,268],[293,300],[300,301],[301,293],[446,261],[261,340],[340,446],[330,266],[266,425],[425,330],[426,423],[423,391],[391,426],[429,355],[355,437],[437,429],[391,327],[327,326],[326,391],[440,457],[457,438],[438,440],[341,382],[382,362],[362,341],[459,457],[457,461],[461,459],[434,430],[430,394],[394,434],[414,463],[463,362],[362,414],[396,369],[369,262],[262,396],[354,461],[461,457],[457,354],[316,403],[403,402],[402,316],[315,404],[404,403],[403,315],[314,405],[405,404],[404,314],[313,406],[406,405],[405,313],[421,418],[418,406],[406,421],[366,401],[401,361],[361,366],[306,408],[408,407],[407,306],[291,409],[409,408],[408,291],[287,410],[410,409],[409,287],[432,436],[436,410],[410,432],[434,416],[416,411],[411,434],[264,368],[368,383],[383,264],[309,438],[438,457],[457,309],[352,376],[376,401],[401,352],[274,275],[275,4],[4,274],[421,428],[428,262],[262,421],[294,327],[327,358],[358,294],[433,416],[416,367],[367,433],[289,455],[455,439],[439,289],[462,370],[370,326],[326,462],[2,326],[326,370],[370,2],[305,460],[460,455],[455,305],[254,449],[449,448],[448,254],[255,261],[261,446],[446,255],[253,450],[450,449],[449,253],[252,451],[451,450],[450,252],[256,452],[452,451],[451,256],[341,453],[453,452],[452,341],[413,464],[464,463],[463,413],[441,413],[413,414],[414,441],[258,442],[442,441],[441,258],[257,443],[443,442],[442,257],[259,444],[444,443],[443,259],[260,445],[445,444],[444,260],[467,342],[342,445],[445,467],[459,458],[458,250],[250,459],[289,392],[392,290],[290,289],[290,328],[328,460],[460,290],[376,433],[433,435],[435,376],[250,290],[290,392],[392,250],[411,416],[416,433],[433,411],[341,463],[463,464],[464,341],[453,464],[464,465],[465,453],[357,465],[465,412],[412,357],[343,412],[412,399],[399,343],[360,363],[363,440],[440,360],[437,399],[399,456],[456,437],[420,456],[456,363],[363,420],[401,435],[435,288],[288,401],[372,383],[383,353],[353,372],[339,255],[255,249],[249,339],[448,261],[261,255],[255,448],[133,243],[243,190],[190,133],[133,155],[155,112],[112,133],[33,246],[246,247],[247,33],[33,130],[130,25],[25,33],[398,384],[384,286],[286,398],[362,398],[398,414],[414,362],[362,463],[463,341],[341,362],[263,359],[359,467],[467,263],[263,249],[249,255],[255,263],[466,467],[467,260],[260,466],[75,60],[60,166],[166,75],[238,239],[239,79],[79,238],[162,127],[127,139],[139,162],[72,11],[11,37],[37,72],[121,232],[232,120],[120,121],[73,72],[72,39],[39,73],[114,128],[128,47],[47,114],[233,232],[232,128],[128,233],[103,104],[104,67],[67,103],[152,175],[175,148],[148,152],[119,118],[118,101],[101,119],[74,73],[73,40],[40,74],[107,9],[9,108],[108,107],[49,48],[48,131],[131,49],[32,194],[194,211],[211,32],[184,74],[74,185],[185,184],[191,80],[80,183],[183,191],[185,40],[40,186],[186,185],[119,230],[230,118],[118,119],[210,202],[202,214],[214,210],[84,83],[83,17],[17,84],[77,76],[76,146],[146,77],[161,160],[160,30],[30,161],[190,56],[56,173],[173,190],[182,106],[106,194],[194,182],[138,135],[135,192],[192,138],[129,203],[203,98],[98,129],[54,21],[21,68],[68,54],[5,51],[51,4],[4,5],[145,144],[144,23],[23,145],[90,77],[77,91],[91,90],[207,205],[205,187],[187,207],[83,201],[201,18],[18,83],[181,91],[91,182],[182,181],[180,90],[90,181],[181,180],[16,85],[85,17],[17,16],[205,206],[206,36],[36,205],[176,148],[148,140],[140,176],[165,92],[92,39],[39,165],[245,193],[193,244],[244,245],[27,159],[159,28],[28,27],[30,247],[247,161],[161,30],[174,236],[236,196],[196,174],[103,54],[54,104],[104,103],[55,193],[193,8],[8,55],[111,117],[117,31],[31,111],[221,189],[189,55],[55,221],[240,98],[98,99],[99,240],[142,126],[126,100],[100,142],[219,166],[166,218],[218,219],[112,155],[155,26],[26,112],[198,209],[209,131],[131,198],[169,135],[135,150],[150,169],[114,47],[47,217],[217,114],[224,223],[223,53],[53,224],[220,45],[45,134],[134,220],[32,211],[211,140],[140,32],[109,67],[67,108],[108,109],[146,43],[43,91],[91,146],[231,230],[230,120],[120,231],[113,226],[226,247],[247,113],[105,63],[63,52],[52,105],[241,238],[238,242],[242,241],[124,46],[46,156],[156,124],[95,78],[78,96],[96,95],[70,46],[46,63],[63,70],[116,143],[143,227],[227,116],[116,123],[123,111],[111,116],[1,44],[44,19],[19,1],[3,236],[236,51],[51,3],[207,216],[216,205],[205,207],[26,154],[154,22],[22,26],[165,39],[39,167],[167,165],[199,200],[200,208],[208,199],[101,36],[36,100],[100,101],[43,57],[57,202],[202,43],[242,20],[20,99],[99,242],[56,28],[28,157],[157,56],[124,35],[35,113],[113,124],[29,160],[160,27],[27,29],[211,204],[204,210],[210,211],[124,113],[113,46],[46,124],[106,43],[43,204],[204,106],[96,62],[62,77],[77,96],[227,137],[137,116],[116,227],[73,41],[41,72],[72,73],[36,203],[203,142],[142,36],[235,64],[64,240],[240,235],[48,49],[49,64],[64,48],[42,41],[41,74],[74,42],[214,212],[212,207],[207,214],[183,42],[42,184],[184,183],[210,169],[169,211],[211,210],[140,170],[170,176],[176,140],[104,105],[105,69],[69,104],[193,122],[122,168],[168,193],[50,123],[123,187],[187,50],[89,96],[96,90],[90,89],[66,65],[65,107],[107,66],[179,89],[89,180],[180,179],[119,101],[101,120],[120,119],[68,63],[63,104],[104,68],[234,93],[93,227],[227,234],[16,15],[15,85],[85,16],[209,129],[129,49],[49,209],[15,14],[14,86],[86,15],[107,55],[55,9],[9,107],[120,100],[100,121],[121,120],[153,145],[145,22],[22,153],[178,88],[88,179],[179,178],[197,6],[6,196],[196,197],[89,88],[88,96],[96,89],[135,138],[138,136],[136,135],[138,215],[215,172],[172,138],[218,115],[115,219],[219,218],[41,42],[42,81],[81,41],[5,195],[195,51],[51,5],[57,43],[43,61],[61,57],[208,171],[171,199],[199,208],[41,81],[81,38],[38,41],[224,53],[53,225],[225,224],[24,144],[144,110],[110,24],[105,52],[52,66],[66,105],[118,229],[229,117],[117,118],[227,34],[34,234],[234,227],[66,107],[107,69],[69,66],[10,109],[109,151],[151,10],[219,48],[48,235],[235,219],[183,62],[62,191],[191,183],[142,129],[129,126],[126,142],[116,111],[111,143],[143,116],[118,117],[117,50],[50,118],[223,222],[222,52],[52,223],[94,19],[19,141],[141,94],[222,221],[221,65],[65,222],[196,3],[3,197],[197,196],[45,220],[220,44],[44,45],[156,70],[70,139],[139,156],[188,122],[122,245],[245,188],[139,71],[71,162],[162,139],[149,170],[170,150],[150,149],[122,188],[188,196],[196,122],[206,216],[216,92],[92,206],[164,2],[2,167],[167,164],[242,141],[141,241],[241,242],[0,164],[164,37],[37,0],[11,72],[72,12],[12,11],[12,38],[38,13],[13,12],[70,63],[63,71],[71,70],[31,226],[226,111],[111,31],[36,101],[101,205],[205,36],[203,206],[206,165],[165,203],[126,209],[209,217],[217,126],[98,165],[165,97],[97,98],[237,220],[220,218],[218,237],[237,239],[239,241],[241,237],[210,214],[214,169],[169,210],[140,171],[171,32],[32,140],[241,125],[125,237],[237,241],[179,86],[86,178],[178,179],[180,85],[85,179],[179,180],[181,84],[84,180],[180,181],[182,83],[83,181],[181,182],[194,201],[201,182],[182,194],[177,137],[137,132],[132,177],[184,76],[76,183],[183,184],[185,61],[61,184],[184,185],[186,57],[57,185],[185,186],[216,212],[212,186],[186,216],[192,214],[214,187],[187,192],[139,34],[34,156],[156,139],[218,79],[79,237],[237,218],[147,123],[123,177],[177,147],[45,44],[44,4],[4,45],[208,201],[201,32],[32,208],[98,64],[64,129],[129,98],[192,213],[213,138],[138,192],[235,59],[59,219],[219,235],[141,242],[242,97],[97,141],[97,2],[2,141],[141,97],[240,75],[75,235],[235,240],[229,24],[24,228],[228,229],[31,25],[25,226],[226,31],[230,23],[23,229],[229,230],[231,22],[22,230],[230,231],[232,26],[26,231],[231,232],[233,112],[112,232],[232,233],[244,189],[189,243],[243,244],[189,221],[221,190],[190,189],[222,28],[28,221],[221,222],[223,27],[27,222],[222,223],[224,29],[29,223],[223,224],[225,30],[30,224],[224,225],[113,247],[247,225],[225,113],[99,60],[60,240],[240,99],[213,147],[147,215],[215,213],[60,20],[20,166],[166,60],[192,187],[187,213],[213,192],[243,112],[112,244],[244,243],[244,233],[233,245],[245,244],[245,128],[128,188],[188,245],[188,114],[114,174],[174,188],[134,131],[131,220],[220,134],[174,217],[217,236],[236,174],[236,198],[198,134],[134,236],[215,177],[177,58],[58,215],[156,143],[143,124],[124,156],[25,110],[110,7],[7,25],[31,228],[228,25],[25,31],[264,356],[356,368],[368,264],[0,11],[11,267],[267,0],[451,452],[452,349],[349,451],[267,302],[302,269],[269,267],[350,357],[357,277],[277,350],[350,452],[452,357],[357,350],[299,333],[333,297],[297,299],[396,175],[175,377],[377,396],[280,347],[347,330],[330,280],[269,303],[303,270],[270,269],[151,9],[9,337],[337,151],[344,278],[278,360],[360,344],[424,418],[418,431],[431,424],[270,304],[304,409],[409,270],[272,310],[310,407],[407,272],[322,270],[270,410],[410,322],[449,450],[450,347],[347,449],[432,422],[422,434],[434,432],[18,313],[313,17],[17,18],[291,306],[306,375],[375,291],[259,387],[387,260],[260,259],[424,335],[335,418],[418,424],[434,364],[364,416],[416,434],[391,423],[423,327],[327,391],[301,251],[251,298],[298,301],[275,281],[281,4],[4,275],[254,373],[373,253],[253,254],[375,307],[307,321],[321,375],[280,425],[425,411],[411,280],[200,421],[421,18],[18,200],[335,321],[321,406],[406,335],[321,320],[320,405],[405,321],[314,315],[315,17],[17,314],[423,426],[426,266],[266,423],[396,377],[377,369],[369,396],[270,322],[322,269],[269,270],[413,417],[417,464],[464,413],[385,386],[386,258],[258,385],[248,456],[456,419],[419,248],[298,284],[284,333],[333,298],[168,417],[417,8],[8,168],[448,346],[346,261],[261,448],[417,413],[413,285],[285,417],[326,327],[327,328],[328,326],[277,355],[355,329],[329,277],[309,392],[392,438],[438,309],[381,382],[382,256],[256,381],[279,429],[429,360],[360,279],[365,364],[364,379],[379,365],[355,277],[277,437],[437,355],[282,443],[443,283],[283,282],[281,275],[275,363],[363,281],[395,431],[431,369],[369,395],[299,297],[297,337],[337,299],[335,273],[273,321],[321,335],[348,450],[450,349],[349,348],[359,446],[446,467],[467,359],[283,293],[293,282],[282,283],[250,458],[458,462],[462,250],[300,276],[276,383],[383,300],[292,308],[308,325],[325,292],[283,276],[276,293],[293,283],[264,372],[372,447],[447,264],[346,352],[352,340],[340,346],[354,274],[274,19],[19,354],[363,456],[456,281],[281,363],[426,436],[436,425],[425,426],[380,381],[381,252],[252,380],[267,269],[269,393],[393,267],[421,200],[200,428],[428,421],[371,266],[266,329],[329,371],[432,287],[287,422],[422,432],[290,250],[250,328],[328,290],[385,258],[258,384],[384,385],[446,265],[265,342],[342,446],[386,387],[387,257],[257,386],[422,424],[424,430],[430,422],[445,342],[342,276],[276,445],[422,273],[273,424],[424,422],[306,292],[292,307],[307,306],[352,366],[366,345],[345,352],[268,271],[271,302],[302,268],[358,423],[423,371],[371,358],[327,294],[294,460],[460,327],[331,279],[279,294],[294,331],[303,271],[271,304],[304,303],[436,432],[432,427],[427,436],[304,272],[272,408],[408,304],[395,394],[394,431],[431,395],[378,395],[395,400],[400,378],[296,334],[334,299],[299,296],[6,351],[351,168],[168,6],[376,352],[352,411],[411,376],[307,325],[325,320],[320,307],[285,295],[295,336],[336,285],[320,319],[319,404],[404,320],[329,330],[330,349],[349,329],[334,293],[293,333],[333,334],[366,323],[323,447],[447,366],[316,15],[15,315],[315,316],[331,358],[358,279],[279,331],[317,14],[14,316],[316,317],[8,285],[285,9],[9,8],[277,329],[329,350],[350,277],[253,374],[374,252],[252,253],[319,318],[318,403],[403,319],[351,6],[6,419],[419,351],[324,318],[318,325],[325,324],[397,367],[367,365],[365,397],[288,435],[435,397],[397,288],[278,344],[344,439],[439,278],[310,272],[272,311],[311,310],[248,195],[195,281],[281,248],[375,273],[273,291],[291,375],[175,396],[396,199],[199,175],[312,311],[311,268],[268,312],[276,283],[283,445],[445,276],[390,373],[373,339],[339,390],[295,282],[282,296],[296,295],[448,449],[449,346],[346,448],[356,264],[264,454],[454,356],[337,336],[336,299],[299,337],[337,338],[338,151],[151,337],[294,278],[278,455],[455,294],[308,292],[292,415],[415,308],[429,358],[358,355],[355,429],[265,340],[340,372],[372,265],[352,346],[346,280],[280,352],[295,442],[442,282],[282,295],[354,19],[19,370],[370,354],[285,441],[441,295],[295,285],[195,248],[248,197],[197,195],[457,440],[440,274],[274,457],[301,300],[300,368],[368,301],[417,351],[351,465],[465,417],[251,301],[301,389],[389,251],[394,395],[395,379],[379,394],[399,412],[412,419],[419,399],[410,436],[436,322],[322,410],[326,2],[2,393],[393,326],[354,370],[370,461],[461,354],[393,164],[164,267],[267,393],[268,302],[302,12],[12,268],[312,268],[268,13],[13,312],[298,293],[293,301],[301,298],[265,446],[446,340],[340,265],[280,330],[330,425],[425,280],[322,426],[426,391],[391,322],[420,429],[429,437],[437,420],[393,391],[391,326],[326,393],[344,440],[440,438],[438,344],[458,459],[459,461],[461,458],[364,434],[434,394],[394,364],[428,396],[396,262],[262,428],[274,354],[354,457],[457,274],[317,316],[316,402],[402,317],[316,315],[315,403],[403,316],[315,314],[314,404],[404,315],[314,313],[313,405],[405,314],[313,421],[421,406],[406,313],[323,366],[366,361],[361,323],[292,306],[306,407],[407,292],[306,291],[291,408],[408,306],[291,287],[287,409],[409,291],[287,432],[432,410],[410,287],[427,434],[434,411],[411,427],[372,264],[264,383],[383,372],[459,309],[309,457],[457,459],[366,352],[352,401],[401,366],[1,274],[274,4],[4,1],[418,421],[421,262],[262,418],[331,294],[294,358],[358,331],[435,433],[433,367],[367,435],[392,289],[289,439],[439,392],[328,462],[462,326],[326,328],[94,2],[2,370],[370,94],[289,305],[305,455],[455,289],[339,254],[254,448],[448,339],[359,255],[255,446],[446,359],[254,253],[253,449],[449,254],[253,252],[252,450],[450,253],[252,256],[256,451],[451,252],[256,341],[341,452],[452,256],[414,413],[413,463],[463,414],[286,441],[441,414],[414,286],[286,258],[258,441],[441,286],[258,257],[257,442],[442,258],[257,259],[259,443],[443,257],[259,260],[260,444],[444,259],[260,467],[467,445],[445,260],[309,459],[459,250],[250,309],[305,289],[289,290],[290,305],[305,290],[290,460],[460,305],[401,376],[376,435],[435,401],[309,250],[250,392],[392,309],[376,411],[411,433],[433,376],[453,341],[341,464],[464,453],[357,453],[453,465],[465,357],[343,357],[357,412],[412,343],[437,343],[343,399],[399,437],[344,360],[360,440],[440,344],[420,437],[437,456],[456,420],[360,420],[420,363],[363,360],[361,401],[401,288],[288,361],[265,372],[372,353],[353,265],[390,339],[339,249],[249,390],[339,448],[448,255],[255,339]]),S("VERSION","0.4.1646425229")}).call(ve);const Re={};(function(){var t;function i(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}var r="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e},o=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof(void 0!==typeof window?window:n.g)&&(void 0!==typeof window?window:n.g)];for(var t=0;t<e.length;++t){var i=e[t];if(i&&i.Math==Math)return i}throw Error("Cannot find global object")}(this);function a(e,t){if(t)e:{var n=o;e=e.split(".");for(var i=0;i<e.length-1;i++){var a=e[i];if(!(a in n))break e;n=n[a]}(t=t(i=n[e=e[e.length-1]]))!=i&&null!=t&&r(n,e,{configurable:!0,writable:!0,value:t})}}function s(e){return(e={next:e})[Symbol.iterator]=function(){return this},e}function c(e){var t=typeof Symbol<"u"&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:i(e)}}function l(e){if(!(e instanceof Array)){e=c(e);for(var t,n=[];!(t=e.next()).done;)n.push(t.value);e=n}return e}a("Symbol",(function(e){function t(e,t){this.g=e,r(this,"description",{configurable:!0,writable:!0,value:t})}if(e)return e;t.prototype.toString=function(){return this.g};var n="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",i=0;return function e(r){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new t(n+(r||"")+"_"+i++,r)}})),a("Symbol.iterator",(function(e){if(e)return e;e=Symbol("Symbol.iterator");for(var t="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),n=0;n<t.length;n++){var a=o[t[n]];"function"==typeof a&&"function"!=typeof a.prototype[e]&&r(a.prototype,e,{configurable:!0,writable:!0,value:function(){return s(i(this))}})}return e}));var d,u="function"==typeof Object.create?Object.create:function(e){function t(){}return t.prototype=e,new t};if("function"==typeof Object.setPrototypeOf)d=Object.setPrototypeOf;else{var h;e:{var A={};try{A.__proto__={a:!0},h=A.a;break e}catch{}h=!1}d=h?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+" is not extensible");return e}:null}var p=d;function g(e,t){if(e.prototype=u(t.prototype),e.prototype.constructor=e,p)p(e,t);else for(var n in t)if("prototype"!=n)if(Object.defineProperties){var i=Object.getOwnPropertyDescriptor(t,n);i&&Object.defineProperty(e,n,i)}else e[n]=t[n];e.ea=t.prototype}function f(){this.l=!1,this.i=null,this.h=void 0,this.g=1,this.s=this.m=0,this.j=null}function m(e){if(e.l)throw new TypeError("Generator is already running");e.l=!0}function E(e,t){e.j={U:t,V:!0},e.g=e.m||e.s}function C(e,t,n){return e.g=n,{value:t}}function I(e){this.g=new f,this.h=e}function Q(e,t,n,i){try{var r=t.call(e.g.i,n);if(!(r instanceof Object))throw new TypeError("Iterator result "+r+" is not an object");if(!r.done)return e.g.l=!1,r;var o=r.value}catch(a){return e.g.i=null,E(e.g,a),U(e)}return e.g.i=null,i.call(e.g,o),U(e)}function U(e){for(;e.g.g;)try{var t=e.h(e.g);if(t)return e.g.l=!1,{value:t.value,done:!1}}catch(n){e.g.h=void 0,E(e.g,n)}if(e.g.l=!1,e.g.j){if(t=e.g.j,e.g.j=null,t.V)throw t.U;return{value:t.return,done:!0}}return{value:void 0,done:!0}}function y(e){this.next=function(t){return m(e.g),e.g.i?t=Q(e,e.g.i.next,t,e.g.o):(e.g.o(t),t=U(e)),t},this.throw=function(t){return m(e.g),e.g.i?t=Q(e,e.g.i.throw,t,e.g.o):(E(e.g,t),t=U(e)),t},this.return=function(t){return function(e,t){m(e.g);var n=e.g.i;return n?Q(e,"return"in n?n.return:function(e){return{value:e,done:!0}},t,e.g.return):(e.g.return(t),U(e))}(e,t)},this[Symbol.iterator]=function(){return this}}function b(e,t){return t=new y(new I(t)),p&&e.prototype&&p(t,e.prototype),t}f.prototype.o=function(e){this.h=e},f.prototype.return=function(e){this.j={return:e},this.g=this.s};var v="function"==typeof Object.assign?Object.assign:function(e,t){for(var n=1;n<arguments.length;n++){var i=arguments[n];if(i)for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e};a("Object.assign",(function(e){return e||v})),a("Promise",(function(e){function t(e){this.h=0,this.i=void 0,this.g=[],this.o=!1;var t=this.j();try{e(t.resolve,t.reject)}catch(n){t.reject(n)}}function n(){this.g=null}function i(e){return e instanceof t?e:new t((function(t){t(e)}))}if(e)return e;n.prototype.h=function(e){if(null==this.g){this.g=[];var t=this;this.i((function(){t.l()}))}this.g.push(e)};var r=o.setTimeout;n.prototype.i=function(e){r(e,0)},n.prototype.l=function(){for(;this.g&&this.g.length;){var e=this.g;this.g=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(i){this.j(i)}}}this.g=null},n.prototype.j=function(e){this.i((function(){throw e}))},t.prototype.j=function(){function e(e){return function(i){n||(n=!0,e.call(t,i))}}var t=this,n=!1;return{resolve:e(this.C),reject:e(this.l)}},t.prototype.C=function(e){if(e===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.F(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.u(e):this.m(e)}},t.prototype.u=function(e){var t=void 0;try{t=e.then}catch(n){return void this.l(n)}"function"==typeof t?this.G(t,e):this.m(e)},t.prototype.l=function(e){this.s(2,e)},t.prototype.m=function(e){this.s(1,e)},t.prototype.s=function(e,t){if(0!=this.h)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.h);this.h=e,this.i=t,2===this.h&&this.D(),this.A()},t.prototype.D=function(){var e=this;r((function(){if(e.B()){var t=o.console;typeof t<"u"&&t.error(e.i)}}),1)},t.prototype.B=function(){if(this.o)return!1;var e=o.CustomEvent,t=o.Event,n=o.dispatchEvent;return typeof n>"u"||("function"==typeof e?e=new e("unhandledrejection",{cancelable:!0}):"function"==typeof t?e=new t("unhandledrejection",{cancelable:!0}):(e=o.document.createEvent("CustomEvent")).initCustomEvent("unhandledrejection",!1,!0,e),e.promise=this,e.reason=this.i,n(e))},t.prototype.A=function(){if(null!=this.g){for(var e=0;e<this.g.length;++e)a.h(this.g[e]);this.g=null}};var a=new n;return t.prototype.F=function(e){var t=this.j();e.J(t.resolve,t.reject)},t.prototype.G=function(e,t){var n=this.j();try{e.call(t,n.resolve,n.reject)}catch(i){n.reject(i)}},t.prototype.then=function(e,n){function i(e,t){return"function"==typeof e?function(t){try{r(e(t))}catch(n){o(n)}}:t}var r,o,a=new t((function(e,t){r=e,o=t}));return this.J(i(e,r),i(n,o)),a},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.J=function(e,t){function n(){switch(i.h){case 1:e(i.i);break;case 2:t(i.i);break;default:throw Error("Unexpected state: "+i.h)}}var i=this;null==this.g?a.h(n):this.g.push(n),this.o=!0},t.resolve=i,t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var r=c(e),o=r.next();!o.done;o=r.next())i(o.value).J(t,n)}))},t.all=function(e){var n=c(e),r=n.next();return r.done?i([]):new t((function(e,t){function o(t){return function(n){a[t]=n,0==--s&&e(a)}}var a=[],s=0;do{a.push(void 0),s++,i(r.value).J(o(a.length-1),t),r=n.next()}while(!r.done)}))},t})),a("Object.is",(function(e){return e||function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}})),a("Array.prototype.includes",(function(e){return e||function(e,t){var n=this;n instanceof String&&(n=String(n));var i=n.length;for(0>(t=t||0)&&(t=Math.max(t+i,0));t<i;t++){var r=n[t];if(r===e||Object.is(r,e))return!0}return!1}})),a("String.prototype.includes",(function(e){return e||function(e,t){if(null==this)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(e instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return-1!==this.indexOf(e,t||0)}})),a("Array.prototype.keys",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,i=!1,r={next:function(){if(!i&&n<e.length){var r=n++;return{value:t(r,e[r]),done:!1}}return i=!0,{done:!0,value:void 0}}};return r[Symbol.iterator]=function(){return r},r}(this,(function(e){return e}))}}));var R=this||self;function S(e,t){e=e.split(".");var n,i=R;e[0]in i||typeof i.execScript>"u"||i.execScript("var "+e[0]);for(;e.length&&(n=e.shift());)e.length||void 0===t?i=i[n]&&i[n]!==Object.prototype[n]?i[n]:i[n]={}:i[n]=t}function F(e,t){return t=String.fromCharCode.apply(null,t),null==e?t:e+t}var B,T,N=typeof TextDecoder<"u",_=typeof TextEncoder<"u";function w(e){if(_)e=(T||(T=new TextEncoder)).encode(e);else{var t=void 0;t=void 0!==t&&t;for(var n=0,i=new Uint8Array(3*e.length),r=0;r<e.length;r++){var o=e.charCodeAt(r);if(128>o)i[n++]=o;else{if(2048>o)i[n++]=o>>6|192;else{if(55296<=o&&57343>=o){if(56319>=o&&r<e.length){var a=e.charCodeAt(++r);if(56320<=a&&57343>=a){o=1024*(o-55296)+a-56320+65536,i[n++]=o>>18|240,i[n++]=o>>12&63|128,i[n++]=o>>6&63|128,i[n++]=63&o|128;continue}r--}if(t)throw Error("Found an unpaired surrogate");o=65533}i[n++]=o>>12|224,i[n++]=o>>6&63|128}i[n++]=63&o|128}}e=i.subarray(0,n)}return e}var k={},D=null;function V(e,t){void 0===t&&(t=0),W(),t=k[t];for(var n=Array(Math.floor(e.length/3)),i=t[64]||"",r=0,o=0;r<e.length-2;r+=3){var a=e[r],s=e[r+1],c=e[r+2],l=t[a>>2];a=t[(3&a)<<4|s>>4],s=t[(15&s)<<2|c>>6],c=t[63&c],n[o++]=l+a+s+c}switch(l=0,c=i,e.length-r){case 2:c=t[(15&(l=e[r+1]))<<2]||i;case 1:e=e[r],n[o]=t[e>>2]+t[(3&e)<<4|l>>4]+c+i}return n.join("")}function Z(e){var t=e.length,n=3*t/4;n%3?n=Math.floor(n):-1!="=.".indexOf(e[t-1])&&(n=-1!="=.".indexOf(e[t-2])?n-2:n-1);var i=new Uint8Array(n),r=0;return function(e,t){function n(t){for(;i<e.length;){var n=e.charAt(i++),r=D[n];if(null!=r)return r;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return t}W();for(var i=0;;){var r=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===r)break;t(r<<2|o>>4),64!=a&&(t(o<<4&240|a>>2),64!=s&&t(a<<6&192|s))}}(e,(function(e){i[r++]=e})),i.subarray(0,r)}function W(){if(!D){D={};for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),t=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++){var i=e.concat(t[n].split(""));k[n]=i;for(var r=0;r<i.length;r++){var o=i[r];void 0===D[o]&&(D[o]=r)}}}}var O,J="function"==typeof Uint8Array.prototype.slice;function x(e,t,n){return t===n?O||(O=new Uint8Array(0)):J?e.slice(t,n):new Uint8Array(e.subarray(t,n))}var M=0;function L(e,t){t=void 0!==(t=void 0===t?{}:t).v&&t.v,this.h=null,this.g=this.j=this.l=0,this.m=!1,this.v=t,e&&P(this,e)}function P(e,t){t=t.constructor===Uint8Array?t:t.constructor===ArrayBuffer||t.constructor===Array?new Uint8Array(t):t.constructor===String?Z(t):t instanceof Uint8Array?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):new Uint8Array(0),e.h=t,e.l=0,e.j=e.h.length,e.g=e.l}function G(e){for(var t=128,n=0,i=0,r=0;4>r&&128<=t;r++)n|=(127&(t=e.h[e.g++]))<<7*r;if(128<=t&&(n|=(127&(t=e.h[e.g++]))<<28,i|=(127&t)>>4),128<=t)for(r=0;5>r&&128<=t;r++)i|=(127&(t=e.h[e.g++]))<<7*r+3;if(128>t)return e=n>>>0,(i=2147483648&(t=i>>>0))&&(t=~t>>>0,0==(e=1+~e>>>0)&&(t=t+1>>>0)),e=4294967296*t+(e>>>0),i?-e:e;e.m=!0}L.prototype.reset=function(){this.g=this.l},L.prototype.i=function(){var e=this.h,t=e[this.g],n=127&t;return 128>t?(this.g+=1,n):(n|=(127&(t=e[this.g+1]))<<7,128>t?(this.g+=2,n):(n|=(127&(t=e[this.g+2]))<<14,128>t?(this.g+=3,n):(n|=(127&(t=e[this.g+3]))<<21,128>t?(this.g+=4,n):(n|=(15&(t=e[this.g+4]))<<28,128>t?(this.g+=5,n>>>0):(this.g+=5,128<=e[this.g++]&&128<=e[this.g++]&&128<=e[this.g++]&&128<=e[this.g++]&&this.g++,n)))))},L.prototype.o=function(){var e=this.h[this.g],t=this.h[this.g+1],n=this.h[this.g+2],i=this.h[this.g+3];return this.g+=4,e=2*((n=(e<<0|t<<8|n<<16|i<<24)>>>0)>>31)+1,t=n>>>23&255,n&=8388607,255==t?n?NaN:1/0*e:0==t?e*Math.pow(2,-149)*n:e*Math.pow(2,t-150)*(n+Math.pow(2,23))};var Y=[];function j(){this.g=new Uint8Array(64),this.h=0}function X(e,t){for(;127<t;)e.push(127&t|128),t>>>=7;e.push(t)}function K(e){var t={},n=void 0!==t.N&&t.N;this.o={v:void 0!==t.v&&t.v},this.N=n,t=this.o,Y.length?(n=Y.pop(),t&&(n.v=t.v),e&&P(n,e),e=n):e=new L(e,t),this.g=e,this.m=this.g.g,this.h=this.i=this.l=-1,this.j=!1}function H(e){var t=e.g;if((t=t.g==t.j)||(t=e.j)||(t=(t=e.g).m||0>t.g||t.g>t.j),t)return!1;e.m=e.g.g;var n=7&(t=e.g.i());return 0!=n&&5!=n&&1!=n&&2!=n&&3!=n&&4!=n?(e.j=!0,!1):(e.i=t,e.l=t>>>3,e.h=n,!0)}function z(e){switch(e.h){case 0:if(0!=e.h)z(e);else{for(e=e.g;128&e.h[e.g];)e.g++;e.g++}break;case 1:1!=e.h?z(e):(e=e.g).g+=8;break;case 2:if(2!=e.h)z(e);else{var t=e.g.i();(e=e.g).g+=t}break;case 5:5!=e.h?z(e):(e=e.g).g+=4;break;case 3:for(t=e.l;;){if(!H(e)){e.j=!0;break}if(4==e.h){e.l!=t&&(e.j=!0);break}z(e)}break;default:e.j=!0}}function q(e,t,n){var i=e.g.j,r=e.g.i(),o=e.g.g+r;if(e.g.j=o,n(t,e),0!==(n=o-e.g.g))throw Error("Message parsing ended unexpectedly. Expected to read "+r+" bytes, instead read "+(r-n)+" bytes, either the data ended unexpectedly or the message misreported its own length");return e.g.g=o,e.g.j=i,t}function $(e){return e.g.o()}function ee(e){var t,n=e.g.i(),i=(e=e.g).g;if(e.g+=n,e=e.h,N)(t=B)||(t=B=new TextDecoder("utf-8",{fatal:!1})),t=t.decode(e.subarray(i,i+n));else{n=i+n;for(var r,o,a,s=[],c=null;i<n;)128>(r=e[i++])?s.push(r):224>r?i>=n?s.push(65533):(o=e[i++],194>r||128!==(192&o)?(i--,s.push(65533)):s.push((31&r)<<6|63&o)):240>r?i>=n-1?s.push(65533):128!==(192&(o=e[i++]))||224===r&&160>o||237===r&&160<=o||128!==(192&(t=e[i++]))?(i--,s.push(65533)):s.push((15&r)<<12|(63&o)<<6|63&t):244>=r?i>=n-2?s.push(65533):128!==(192&(o=e[i++]))||o-144+(r<<28)>>30!==0||128!==(192&(t=e[i++]))||128!==(192&(a=e[i++]))?(i--,s.push(65533)):(r=(7&r)<<18|(63&o)<<12|(63&t)<<6|63&a,r-=65536,s.push(55296+(r>>10&1023),56320+(1023&r))):s.push(65533),8192<=s.length&&(c=F(c,s),s.length=0);t=F(c,s)}return t}function te(e,t,n){var i=e.g.i();for(i=e.g.g+i;e.g.g<i;)n.push(t.call(e.g))}function ne(e,t){2==e.h?te(e,L.prototype.o,t):t.push($(e))}function ie(){this.h=[],this.i=0,this.g=new j}function re(e,t){0!==t.length&&(e.h.push(t),e.i+=t.length)}function oe(e){var t=e.i+e.g.length();if(0===t)return new Uint8Array(0);t=new Uint8Array(t);for(var n=e.h,i=n.length,r=0,o=0;o<i;o++){var a=n[o];0!==a.length&&(t.set(a,r),r+=a.length)}return 0!==(i=(n=e.g).h)&&(t.set(n.g.subarray(0,i),r),n.h=0),e.h=[t],t}function ae(e,t,n){if(null!=n){X(e.g,8*t+5),e=e.g;var i=n;0===(i=(n=0>i?1:0)?-i:i)?M=0<1/i?0:2147483648:isNaN(i)?M=2147483647:34028234663852886e22<i?M=(n<<31|2139095040)>>>0:11754943508222875e-54>i?(i=Math.round(i/Math.pow(2,-149)),M=(n<<31|i)>>>0):(t=Math.floor(Math.log(i)/Math.LN2),i*=Math.pow(2,-t),16777216<=(i=Math.round(8388608*i))&&++t,M=(n<<31|t+127<<23|8388607&i)>>>0),n=M,e.push(n>>>0&255),e.push(n>>>8&255),e.push(n>>>16&255),e.push(n>>>24&255)}}j.prototype.push=function(e){if(!(this.h+1<this.g.length)){var t=this.g;this.g=new Uint8Array(Math.ceil(1+2*this.g.length)),this.g.set(t)}this.g[this.h++]=e},j.prototype.length=function(){return this.h},j.prototype.end=function(){var e=this.g,t=this.h;return this.h=0,x(e,0,t)},K.prototype.reset=function(){this.g.reset(),this.h=this.l=-1};var se="function"==typeof Uint8Array;function ce(e,t,n){if(null!=e)return"object"==typeof e?se&&e instanceof Uint8Array?n(e):le(e,t,n):t(e)}function le(e,t,n){if(Array.isArray(e)){for(var i=Array(e.length),r=0;r<e.length;r++)i[r]=ce(e[r],t,n);return Array.isArray(e)&&e.W&&Ae(i),i}for(r in i={},e)i[r]=ce(e[r],t,n);return i}function de(e){return"number"==typeof e?isFinite(e)?e:String(e):e}var ue,he={W:{value:!0,configurable:!0}};function Ae(e){return Array.isArray(e)&&!Object.isFrozen(e)&&Object.defineProperties(e,he),e}function pe(e,t,n){var i=ue;if(ue=null,e||(e=i),i=this.constructor.ca,e||(e=i?[i]:[]),this.j=i?0:-1,this.m=this.g=null,this.h=e,e=(i=this.h.length)-1,!i||null===(i=this.h[e])||"object"!=typeof i||Array.isArray(i)||se&&i instanceof Uint8Array?void 0!==t&&-1<t?(this.l=Math.max(t,e+1-this.j),this.i=null):this.l=Number.MAX_VALUE:(this.l=e-this.j,this.i=i),n)for(t=0;t<n.length;t++)(e=n[t])<this.l?(e+=this.j,(i=this.h[e])?Ae(i):this.h[e]=ge):(fe(this),(i=this.i[e])?Ae(i):this.i[e]=ge)}var ge=Object.freeze(Ae([]));function fe(e){var t=e.l+e.j;e.h[t]||(e.i=e.h[t]={})}function me(e,t,n){return-1===t?null:void 0!==n&&n||t>=e.l?e.i?e.i[t]:void 0:e.h[t+e.j]}function Ee(e,t){var n=void 0!==n&&n,i=me(e,t,n);return null==i&&(i=ge),i===ge&&Ue(e,t,i=Ae([]),n),i}function Ce(e){var t=Ee(e,3);if(e.m||(e.m={}),!e.m[3]){for(var n=0;n<t.length;n++)t[n]=+t[n];e.m[3]=!0}return t}function Ie(e,t,n){return null==(e=me(e,t))?n:e}function Qe(e,t,n){return null==(e=null==(e=me(e,t))?e:+e)?void 0===n?0:n:e}function Ue(e,t,n,i){void 0!==i&&i||t>=e.l?(fe(e),e.i[t]=n):e.h[t+e.j]=n}function ye(e,t,n){if(-1===n)return null;if(e.g||(e.g={}),!e.g[n]){var i=me(e,n,!1);i&&(e.g[n]=new t(i))}return e.g[n]}function be(e,t){e.g||(e.g={});var n=e.g[1];if(!n){var i=Ee(e,1);n=[];for(var r=0;r<i.length;r++)n[r]=new t(i[r]);e.g[1]=n}return n}function ve(e,t,n){var i=void 0!==i&&i;e.g||(e.g={});var r=n&&Se(n);e.g[t]=n,Ue(e,t,r,i)}function Re(e,t,n,i){var r=be(e,n);t=t||new n,e=Ee(e,1),null!=i?(r.splice(i,0,t),e.splice(i,0,Se(t))):(r.push(t),e.push(Se(t)))}function Se(e,t){if(e.g)for(var n in e.g){var i=e.g[n];if(Array.isArray(i))for(var r=0;r<i.length;r++)i[r]&&Se(i[r]);else i&&Se(i)}return e.h}function Fe(e,t){if(e=e.o){re(t,t.g.end());for(var n=0;n<e.length;n++)re(t,e[n])}}function Be(e,t){if(4==t.h)return!1;var n=t.m;return z(t),t.N||(t=x(t.g.h,n,t.g.g),(n=e.o)?n.push(t):e.o=[t]),!0}function Te(e){pe.call(this,e,-1,_e)}function Ne(e,t){for(;H(t);)switch(t.i){case 8:var n=t.g.i();Ue(e,1,n);break;case 16:Ue(e,2,n=t.g.i());break;case 29:case 26:ne(t,e.getPackedDataList());break;case 32:Ue(e,4,n=G(t.g));break;default:if(!Be(e,t))return e}return e}pe.prototype.toJSON=function(){return le(Se(this),de,V)},pe.prototype.toString=function(){return Se(this).toString()},g(Te,pe),Te.prototype.getRows=function(){return me(this,1)},Te.prototype.getCols=function(){return me(this,2)},Te.prototype.getPackedDataList=function(){return Ce(this)},Te.prototype.getLayout=function(){return Ie(this,4,0)};var _e=[3];function we(t,n){var i=void 0;return new(i||(i=e))((function(e,r){function o(e){try{s(n.next(e))}catch(t){r(t)}}function a(e){try{s(n.throw(e))}catch(t){r(t)}}function s(t){t.done?e(t.value):new i((function(e){e(t.value)})).then(o,a)}s((n=n.apply(t,void 0)).next())}))}function ke(e){pe.call(this,e)}function De(e,t){for(;H(t);)switch(t.i){case 8:var n=t.g.i();Ue(e,1,n);break;case 21:Ue(e,2,n=$(t));break;case 26:Ue(e,3,n=ee(t));break;case 34:Ue(e,4,n=ee(t));break;default:if(!Be(e,t))return e}return e}function Ve(e){pe.call(this,e,-1,Ze)}g(ke,pe),g(Ve,pe),Ve.prototype.addClassification=function(e,t){return Re(this,e,ke,t),this};var Ze=[1];function We(e){pe.call(this,e)}function Oe(e,t){for(;H(t);)switch(t.i){case 13:var n=$(t);Ue(e,1,n);break;case 21:Ue(e,2,n=$(t));break;case 29:Ue(e,3,n=$(t));break;case 37:Ue(e,4,n=$(t));break;case 45:Ue(e,5,n=$(t));break;default:if(!Be(e,t))return e}return e}function Je(e){pe.call(this,e,-1,Me)}function xe(e){e:{var t=new Je;for(e=new K(e);H(e);)if(10===e.i)Re(t,q(e,new We,Oe),We,void 0);else if(!Be(t,e))break e}return t}g(We,pe),g(Je,pe);var Me=[1];function Le(e){pe.call(this,e)}function Pe(e){pe.call(this,e,-1,Ye)}function Ge(e,t){for(;H(t);)switch(t.i){case 8:var n=G(t.g);Ue(e,1,n);break;case 16:Ue(e,2,n=G(t.g));break;case 29:case 26:ne(t,e.getVertexBufferList());break;case 32:case 34:n=t;var i=e.getIndexBufferList();2==n.h?te(n,L.prototype.i,i):i.push(n.g.i());break;default:if(!Be(e,t))return e}return e}g(Le,pe),g(Pe,pe),Pe.prototype.getVertexType=function(){return Ie(this,1,0)},Pe.prototype.getPrimitiveType=function(){return Ie(this,2,0)},Pe.prototype.getVertexBufferList=function(){return Ce(this)},Pe.prototype.getIndexBufferList=function(){return Ee(this,4)};var Ye=[3,4];function je(e){pe.call(this,e)}function Xe(e,t,n){if(n=e.createShader(0===n?e.VERTEX_SHADER:e.FRAGMENT_SHADER),e.shaderSource(n,t),e.compileShader(n),!e.getShaderParameter(n,e.COMPILE_STATUS))throw Error("Could not compile WebGL shader.\n\n"+e.getShaderInfoLog(n));return n}function Ke(e){return be(e,ke).map((function(e){return{index:Ie(e,1,0),Y:Qe(e,2),label:null!=me(e,3)?Ie(e,3,""):void 0,displayName:null!=me(e,4)?Ie(e,4,""):void 0}}))}function He(e){return{x:Qe(e,1),y:Qe(e,2),z:Qe(e,3),visibility:null!=me(e,4)?Qe(e,4):void 0}}function ze(e,t){this.h=e,this.g=t,this.l=0}function qe(t,n,i){return function(e,t){var n=e.g;if(void 0===e.m){var i=Xe(n,"\n  attribute vec2 aVertex;\n  attribute vec2 aTex;\n  varying vec2 vTex;\n  void main(void) {\n    gl_Position = vec4(aVertex, 0.0, 1.0);\n    vTex = aTex;\n  }",0),r=Xe(n,"\n  precision mediump float;\n  varying vec2 vTex;\n  uniform sampler2D sampler0;\n  void main(){\n    gl_FragColor = texture2D(sampler0, vTex);\n  }",1),o=n.createProgram();if(n.attachShader(o,i),n.attachShader(o,r),n.linkProgram(o),!n.getProgramParameter(o,n.LINK_STATUS))throw Error("Could not compile WebGL program.\n\n"+n.getProgramInfoLog(o));i=e.m=o,n.useProgram(i),r=n.getUniformLocation(i,"sampler0"),e.j={I:n.getAttribLocation(i,"aVertex"),H:n.getAttribLocation(i,"aTex"),da:r},e.s=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,e.s),n.enableVertexAttribArray(e.j.I),n.vertexAttribPointer(e.j.I,2,n.FLOAT,!1,0,0),n.bufferData(n.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),n.STATIC_DRAW),n.bindBuffer(n.ARRAY_BUFFER,null),e.o=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,e.o),n.enableVertexAttribArray(e.j.H),n.vertexAttribPointer(e.j.H,2,n.FLOAT,!1,0,0),n.bufferData(n.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,0,1,1]),n.STATIC_DRAW),n.bindBuffer(n.ARRAY_BUFFER,null),n.uniform1i(r,0)}i=e.j,n.useProgram(e.m),n.canvas.width=t.width,n.canvas.height=t.height,n.viewport(0,0,t.width,t.height),n.activeTexture(n.TEXTURE0),e.h.bindTexture2d(t.glName),n.enableVertexAttribArray(i.I),n.bindBuffer(n.ARRAY_BUFFER,e.s),n.vertexAttribPointer(i.I,2,n.FLOAT,!1,0,0),n.enableVertexAttribArray(i.H),n.bindBuffer(n.ARRAY_BUFFER,e.o),n.vertexAttribPointer(i.H,2,n.FLOAT,!1,0,0),n.bindFramebuffer(n.DRAW_FRAMEBUFFER?n.DRAW_FRAMEBUFFER:n.FRAMEBUFFER,null),n.clearColor(0,0,0,0),n.clear(n.COLOR_BUFFER_BIT),n.colorMask(!0,!0,!0,!0),n.drawArrays(n.TRIANGLE_FAN,0,4),n.disableVertexAttribArray(i.I),n.disableVertexAttribArray(i.H),n.bindBuffer(n.ARRAY_BUFFER,null),e.h.bindTexture2d(0)}(t,n),"function"==typeof t.g.canvas.transferToImageBitmap?e.resolve(t.g.canvas.transferToImageBitmap()):i?e.resolve(t.g.canvas):"function"==typeof createImageBitmap?createImageBitmap(t.g.canvas):(void 0===t.i&&(t.i=document.createElement("canvas")),new e((function(e){t.i.height=t.g.canvas.height,t.i.width=t.g.canvas.width,t.i.getContext("2d",{}).drawImage(t.g.canvas,0,0,t.g.canvas.width,t.g.canvas.height),e(t.i)})))}function $e(e){this.g=e}g(je,pe),je.prototype.getMesh=function(){return ye(this,Pe,1)},je.prototype.getPoseTransformMatrix=function(){return ye(this,Te,2)};var et=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]);function tt(e,t){return t+e}function nt(e,t){window[e]=t}function it(t){if(this.g=t,this.listeners={},this.j={},this.F={},this.m={},this.s={},this.G=this.o=this.R=!0,this.C=e.resolve(),this.P="",this.B={},this.locateFile=t&&t.locateFile||tt,"object"==typeof window)var n=window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/";else{if(!(typeof location<"u"))throw Error("solutions can only be loaded on a web page or in a web worker");n=location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/"}if(this.S=n,t.options)for(var i=(n=c(Object.keys(t.options))).next();!i.done;i=n.next()){i=i.value;var r=t.options[i].default;void 0!==r&&(this.j[i]="function"==typeof r?r():r)}}function rt(t){return we(t,(function t(){var n,i,r,o,a,s,c,d,u,h,A,p=this;return b(t,(function(t){switch(t.g){case 1:return n=p,p.R?(i=function(e,t){return void 0===e.g.files?[]:"function"==typeof e.g.files?e.g.files(t):e.g.files}(p,p.j),C(t,function(){return we(this,(function e(){return b(e,(function(e){switch(e.g){case 1:return e.m=2,C(e,WebAssembly.instantiate(et),4);case 4:e.g=3,e.m=0;break;case 2:return e.m=0,e.j=null,e.return(!1);case 3:return e.return(!0)}}))}))}(),2)):t.return();case 2:if(r=t.h,"object"==typeof window)return nt("createMediapipeSolutionsWasm",{locateFile:p.locateFile}),nt("createMediapipeSolutionsPackedAssets",{locateFile:p.locateFile}),s=i.filter((function(e){return void 0!==e.data})),c=i.filter((function(e){return void 0===e.data})),d=e.all(s.map((function(t){var i=ot(n,t.url);if(void 0!==t.path){var r=t.path;i=i.then((function(t){return n.overrideFile(r,t),e.resolve(t)}))}return i}))),u=e.all(c.map((function(t){return void 0===t.simd||t.simd&&r||!t.simd&&!r?function(t){var n=document.createElement("script");return n.setAttribute("src",t),n.setAttribute("crossorigin","anonymous"),new e((function(e){n.addEventListener("load",(function(){e()}),!1),n.addEventListener("error",(function(){e()}),!1),document.body.appendChild(n)}))}(n.locateFile(t.url,n.S)):e.resolve()}))).then((function(){return we(n,(function e(){var t,n,i=this;return b(e,(function(e){if(1==e.g)return t=window.createMediapipeSolutionsWasm,n=window.createMediapipeSolutionsPackedAssets,C(e,t(n),2);i.h=e.h,e.g=0}))}))})),h=we(n,(function e(){var t=this;return b(e,(function(e){return t.g.graph&&t.g.graph.url?e=C(e,ot(t,t.g.graph.url),0):(e.g=0,e=void 0),e}))})),C(t,e.all([u,d,h]),7);if("function"!=typeof importScripts)throw Error("solutions can only be loaded on a web page or in a web worker");return o=i.filter((function(e){return void 0===e.simd||e.simd&&r||!e.simd&&!r})).map((function(e){return n.locateFile(e.url,n.S)})),importScripts.apply(null,l(o)),C(t,createMediapipeSolutionsWasm(Module),6);case 6:p.h=t.h,p.l=new OffscreenCanvas(1,1),p.h.canvas=p.l,a=p.h.GL.createContext(p.l,{antialias:!1,alpha:!1,ba:typeof WebGL2RenderingContext<"u"?2:1}),p.h.GL.makeContextCurrent(a),t.g=4;break;case 7:if(p.l=document.createElement("canvas"),!(A=p.l.getContext("webgl2",{}))&&!(A=p.l.getContext("webgl",{})))return alert("Failed to create WebGL canvas context when passing video frame."),t.return();p.D=A,p.h.canvas=p.l,p.h.createContext(p.l,!0,!0,{});case 4:p.i=new p.h.SolutionWasm,p.R=!1,t.g=0}}))}))}function ot(e,t){return we(e,(function e(){var n,i,r=this;return b(e,(function(e){return t in r.F?e.return(r.F[t]):(n=r.locateFile(t,""),i=fetch(n).then((function(e){return e.arrayBuffer()})),r.F[t]=i,e.return(i))}))}))}function at(e,t,n){return we(e,(function e(){var i,r,o,a,s,l,d,u,h,A,p,g,f,m,E=this;return b(e,(function(e){switch(e.g){case 1:if(!n)return e.return(t);for(i={},r=0,o=c(Object.keys(n)),a=o.next();!a.done;a=o.next())s=a.value,"string"!=typeof(l=n[s])&&"texture"===l.type&&void 0!==t[l.stream]&&++r;1<r&&(E.G=!1),d=c(Object.keys(n)),a=d.next();case 2:if(a.done){e.g=4;break}if(u=a.value,"string"==typeof(h=n[u]))return f=i,m=u,C(e,function(e,t,n){return we(e,(function e(){var i,r=this;return b(e,(function(e){return"number"==typeof n||n instanceof Uint8Array||n instanceof r.h.Uint8BlobList?e.return(n):n instanceof r.h.Texture2dDataOut?((i=r.s[t])||(i=new ze(r.h,r.D),r.s[t]=i),e.return(qe(i,n,r.G))):e.return(void 0)}))}))}(E,u,t[h]),14);if(A=t[h.stream],"detection_list"===h.type){if(A){for(var I=A.getRectList(),Q=A.getLandmarksList(),U=A.getClassificationsList(),y=[],v=0;v<I.size();++v){var R=I.get(v);e:{var S=new Le;for(R=new K(R);H(R);)switch(R.i){case 13:var F=$(R);Ue(S,1,F);break;case 21:Ue(S,2,F=$(R));break;case 29:Ue(S,3,F=$(R));break;case 37:Ue(S,4,F=$(R));break;case 45:Ue(S,5,F=$(R));break;case 48:Ue(S,6,F=G(R.g));break;default:if(!Be(S,R))break e}}S={Z:Qe(S,1),$:Qe(S,2),height:Qe(S,3),width:Qe(S,4),rotation:Qe(S,5,0),X:Ie(S,6,0)},R=be(xe(Q.get(v)),We).map(He);var B=U.get(v);e:for(F=new Ve,B=new K(B);H(B);)if(10===B.i)F.addClassification(q(B,new ke,De));else if(!Be(F,B))break e;S={T:S,O:R,M:Ke(F)},y.push(S)}I=y}else I=[];i[u]=I,e.g=7;break}if("proto_list"===h.type){if(A){for(I=Array(A.size()),Q=0;Q<A.size();Q++)I[Q]=A.get(Q);A.delete()}else I=[];i[u]=I,e.g=7;break}if(void 0===A){e.g=3;break}if("float_list"===h.type){i[u]=A,e.g=7;break}if("proto"===h.type){i[u]=A,e.g=7;break}if("texture"!==h.type)throw Error("Unknown output config type: '"+h.type+"'");return(p=E.s[u])||(p=new ze(E.h,E.D),E.s[u]=p),C(e,qe(p,A,E.G),13);case 13:g=e.h,i[u]=g;case 7:h.transform&&i[u]&&(i[u]=h.transform(i[u])),e.g=3;break;case 14:f[m]=e.h;case 3:a=d.next(),e.g=2;break;case 4:return e.return(i)}}))}))}function st(e,t){for(var n=t.name||"$",i=[].concat(l(t.wants)),r=new e.h.StringList,o=c(t.wants),a=o.next();!a.done;a=o.next())r.push_back(a.value);o=e.h.PacketListener.implement({onResults:function(r){for(var o={},a=0;a<t.wants.length;++a)o[i[a]]=r.get(a);var s=e.listeners[n];s&&(e.C=at(e,o,t.outs).then((function(n){n=s(n);for(var r=0;r<t.wants.length;++r){var a=o[i[r]];"object"==typeof a&&a.hasOwnProperty&&a.hasOwnProperty("delete")&&a.delete()}n&&(e.C=n)})))}}),e.i.attachMultiListener(r,o),r.delete()}function ct(e){e=function(e){e:{var t=new je;for(e=new K(e);H(e);)switch(e.i){case 10:var n=q(e,new Pe,Ge);ve(t,1,n);break;case 18:ve(t,2,n=q(e,new Te,Ne));break;default:if(!Be(t,e))break e}}return t}(e);var t=e.getMesh();if(!t)return e;var n=new Float32Array(t.getVertexBufferList());t.getVertexBufferList=function(){return n};var i=new Uint32Array(t.getIndexBufferList());return t.getIndexBufferList=function(){return i},e}(t=it.prototype).close=function(){return this.i&&this.i.delete(),e.resolve()},t.reset=function(){return we(this,(function e(){var t=this;return b(e,(function(e){t.i&&(t.i.reset(),t.m={},t.s={}),e.g=0}))}))},t.setOptions=function(e,t){var n=this;if(t=t||this.g.options){for(var i=[],r=[],o={},a=c(Object.keys(e)),s=a.next();!s.done;o={K:o.K,L:o.L},s=a.next()){var l=s.value;l in this.j&&this.j[l]===e[l]||(this.j[l]=e[l],void 0!==(s=t[l])&&(s.onChange&&(o.K=s.onChange,o.L=e[l],i.push(function(e){return function(){return we(n,(function t(){var n=this;return b(t,(function(t){if(1==t.g)return C(t,e.K(e.L),2);!0===t.h&&(n.o=!0),t.g=0}))}))}}(o))),s.graphOptionXref&&(l={valueNumber:1===s.type?e[l]:0,valueBoolean:0===s.type&&e[l],valueString:2===s.type?e[l]:""},s=Object.assign(Object.assign(Object.assign({},{calculatorName:"",calculatorIndex:0}),s.graphOptionXref),l),r.push(s))))}(0!==i.length||0!==r.length)&&(this.o=!0,this.A=(void 0===this.A?[]:this.A).concat(r),this.u=(void 0===this.u?[]:this.u).concat(i))}},t.initialize=function(){return we(this,(function e(){var t=this;return b(e,(function(e){return 1==e.g?C(e,rt(t),2):3!=e.g?C(e,function(e){return we(e,(function e(){var t,n,i,r,o,a,s,l,d=this;return b(e,(function(e){if(1==e.g)return d.g.graph&&d.g.graph.url&&d.P===d.g.graph.url?e.return():(d.o=!0,d.g.graph&&d.g.graph.url?(d.P=d.g.graph.url,C(e,ot(d,d.g.graph.url),3)):void(e.g=2));for(2!=e.g&&(t=e.h,d.i.loadGraph(t)),n=c(Object.keys(d.B)),i=n.next();!i.done;i=n.next())r=i.value,d.i.overrideFile(r,d.B[r]);if(d.B={},d.g.listeners)for(o=c(d.g.listeners),a=o.next();!a.done;a=o.next())s=a.value,st(d,s);l=d.j,d.j={},d.setOptions(l),e.g=0}))}))}(t),3):C(e,function(e){return we(e,(function e(){var t,n,i,r,o,a,s=this;return b(e,(function(e){switch(e.g){case 1:if(!s.o)return e.return();if(!s.u){e.g=2;break}t=c(s.u),n=t.next();case 3:if(n.done){e.g=5;break}return C(e,(0,n.value)(),4);case 4:n=t.next(),e.g=3;break;case 5:s.u=void 0;case 2:if(s.A){for(i=new s.h.GraphOptionChangeRequestList,r=c(s.A),o=r.next();!o.done;o=r.next())a=o.value,i.push_back(a);s.i.changeOptions(i),i.delete(),s.A=void 0}s.o=!1,e.g=0}}))}))}(t),0)}))}))},t.overrideFile=function(e,t){this.i?this.i.overrideFile(e,t):this.B[e]=t},t.clearOverriddenFiles=function(){this.B={},this.i&&this.i.clearOverriddenFiles()},t.send=function(e,t){return we(this,(function n(){var i,r,o,a,s,l,d,u,h,A=this;return b(n,(function(n){switch(n.g){case 1:return A.g.inputs?(i=1e3*(null==t?performance.now():t),C(n,A.C,2)):n.return();case 2:return C(n,A.initialize(),3);case 3:for(r=new A.h.PacketDataList,o=c(Object.keys(e)),a=o.next();!a.done;a=o.next())if(s=a.value,l=A.g.inputs[s]){e:{var p=A,g=e[s];switch(l.type){case"video":var f=p.m[l.stream];if(f||(f=new ze(p.h,p.D),p.m[l.stream]=f),0===(p=f).l&&(p.l=p.h.createTexture()),typeof HTMLVideoElement<"u"&&g instanceof HTMLVideoElement){var m=g.videoWidth;f=g.videoHeight}else typeof HTMLImageElement<"u"&&g instanceof HTMLImageElement?(m=g.naturalWidth,f=g.naturalHeight):(m=g.width,f=g.height);f={glName:p.l,width:m,height:f},(m=p.g).canvas.width=f.width,m.canvas.height=f.height,m.activeTexture(m.TEXTURE0),p.h.bindTexture2d(p.l),m.texImage2D(m.TEXTURE_2D,0,m.RGBA,m.RGBA,m.UNSIGNED_BYTE,g),p.h.bindTexture2d(0),p=f;break e;case"detections":for((f=p.m[l.stream])||(f=new $e(p.h),p.m[l.stream]=f),(p=f).data||(p.data=new p.g.DetectionListData),p.data.reset(g.length),f=0;f<g.length;++f){m=g[f];var E=p.data,I=E.setBoundingBox,Q=f,U=m.T,y=new Le;Ue(y,1,U.Z),Ue(y,2,U.$),Ue(y,3,U.height),Ue(y,4,U.width),Ue(y,5,U.rotation),Ue(y,6,U.X);var b=U=new ie;ae(b,1,me(y,1)),ae(b,2,me(y,2)),ae(b,3,me(y,3)),ae(b,4,me(y,4)),ae(b,5,me(y,5));var v=me(y,6);if(null!=v&&null!=v){X(b.g,48);var R=b.g,S=v;v=0>S;var F=(S=Math.abs(S))>>>0;for(S=Math.floor((S-F)/4294967296),S>>>=0,v&&(S=~S>>>0,4294967295<(F=1+(~F>>>0))&&(F=0,4294967295<++S&&(S=0))),v=M=F,F=S;0<F||127<v;)R.push(127&v|128),v=(v>>>7|F<<25)>>>0,F>>>=7;R.push(v)}if(Fe(y,b),U=oe(U),I.call(E,Q,U),m.O)for(E=0;E<m.O.length;++E)b=!!(y=m.O[E]).visibility,Q=(I=p.data).addNormalizedLandmark,U=f,y=Object.assign(Object.assign({},y),{visibility:b?y.visibility:0}),Ue(b=new We,1,y.x),Ue(b,2,y.y),Ue(b,3,y.z),y.visibility&&Ue(b,4,y.visibility),ae(R=y=new ie,1,me(b,1)),ae(R,2,me(b,2)),ae(R,3,me(b,3)),ae(R,4,me(b,4)),ae(R,5,me(b,5)),Fe(b,R),y=oe(y),Q.call(I,U,y);if(m.M)for(E=0;E<m.M.length;++E){if(Q=(I=p.data).addClassification,U=f,y=m.M[E],Ue(b=new ke,2,y.Y),y.index&&Ue(b,1,y.index),y.label&&Ue(b,3,y.label),y.displayName&&Ue(b,4,y.displayName),R=y=new ie,null!=(F=me(b,1))&&null!=F)if(X(R.g,8),v=R.g,0<=F)X(v,F);else{for(S=0;9>S;S++)v.push(127&F|128),F>>=7;v.push(1)}ae(R,2,me(b,2)),null!=(v=me(b,3))&&(v=w(v),X(R.g,26),X(R.g,v.length),re(R,R.g.end()),re(R,v)),null!=(v=me(b,4))&&(v=w(v),X(R.g,34),X(R.g,v.length),re(R,R.g.end()),re(R,v)),Fe(b,R),y=oe(y),Q.call(I,U,y)}}p=p.data;break e;default:p={}}}switch(d=p,u=l.stream,l.type){case"video":r.pushTexture2d(Object.assign(Object.assign({},d),{stream:u,timestamp:i}));break;case"detections":(h=d).stream=u,h.timestamp=i,r.pushDetectionList(h);break;default:throw Error("Unknown input config type: '"+l.type+"'")}}return A.i.send(r),C(n,A.C,4);case 4:r.delete(),n.g=0}}))}))},t.onResults=function(e,t){this.listeners[t||"$"]=e},S("Solution",it),S("OptionType",{BOOL:0,NUMBER:1,aa:2,0:"BOOL",1:"NUMBER",2:"STRING"});var lt={files:[{url:"face_mesh_solution_packed_assets_loader.js"},{simd:!0,url:"face_mesh_solution_simd_wasm_bin.js"},{simd:!1,url:"face_mesh_solution_wasm_bin.js"}],graph:{url:"face_mesh.binarypb"},listeners:[{wants:["multi_face_geometry","image_transformed","multi_face_landmarks"],outs:{image:"image_transformed",multiFaceGeometry:{type:"proto_list",stream:"multi_face_geometry",transform:function(e){return e.map(ct)}},multiFaceLandmarks:{type:"proto_list",stream:"multi_face_landmarks",transform:function(e){return e.map((function(e){return be(xe(e),We).map(He)}))}}}}],inputs:{image:{type:"video",stream:"input_frames_gpu"}},options:{useCpuInference:{type:0,graphOptionXref:{calculatorType:"InferenceCalculator",fieldName:"use_cpu_inference"},default:"iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";").includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document},enableFaceGeometry:{type:0,graphOptionXref:{calculatorName:"EnableFaceGeometryConstant",calculatorType:"ConstantSidePacketCalculator",fieldName:"bool_value"}},selfieMode:{type:0,graphOptionXref:{calculatorType:"GlScalerCalculator",calculatorIndex:1,fieldName:"flip_horizontal"}},maxNumFaces:{type:1,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorNumFaces",fieldName:"int_value"}},refineLandmarks:{type:0,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorRefineLandmarks",fieldName:"bool_value"}},minDetectionConfidence:{type:1,graphOptionXref:{calculatorType:"TensorsToDetectionsCalculator",calculatorName:"facelandmarkfrontgpu__facedetectionshortrangegpu__facedetectionshortrangecommon__TensorsToDetectionsCalculator",fieldName:"min_score_thresh"}},minTrackingConfidence:{type:1,graphOptionXref:{calculatorType:"ThresholdingCalculator",calculatorName:"facelandmarkfrontgpu__facelandmarkgpu__ThresholdingCalculator",fieldName:"threshold"}},cameraNear:{type:1,graphOptionXref:{calculatorType:"FaceGeometryEnvGeneratorCalculator",fieldName:"near"}},cameraFar:{type:1,graphOptionXref:{calculatorType:"FaceGeometryEnvGeneratorCalculator",fieldName:"far"}},cameraVerticalFovDegrees:{type:1,graphOptionXref:{calculatorType:"FaceGeometryEnvGeneratorCalculator",fieldName:"vertical_fov_degrees"}}}},dt=[[61,146],[146,91],[91,181],[181,84],[84,17],[17,314],[314,405],[405,321],[321,375],[375,291],[61,185],[185,40],[40,39],[39,37],[37,0],[0,267],[267,269],[269,270],[270,409],[409,291],[78,95],[95,88],[88,178],[178,87],[87,14],[14,317],[317,402],[402,318],[318,324],[324,308],[78,191],[191,80],[80,81],[81,82],[82,13],[13,312],[312,311],[311,310],[310,415],[415,308]],ut=[[263,249],[249,390],[390,373],[373,374],[374,380],[380,381],[381,382],[382,362],[263,466],[466,388],[388,387],[387,386],[386,385],[385,384],[384,398],[398,362]],ht=[[276,283],[283,282],[282,295],[295,285],[300,293],[293,334],[334,296],[296,336]],At=[[33,7],[7,163],[163,144],[144,145],[145,153],[153,154],[154,155],[155,133],[33,246],[246,161],[161,160],[160,159],[159,158],[158,157],[157,173],[173,133]],pt=[[46,53],[53,52],[52,65],[65,55],[70,63],[63,105],[105,66],[66,107]],gt=[[10,338],[338,297],[297,332],[332,284],[284,251],[251,389],[389,356],[356,454],[454,323],[323,361],[361,288],[288,397],[397,365],[365,379],[379,378],[378,400],[400,377],[377,152],[152,148],[148,176],[176,149],[149,150],[150,136],[136,172],[172,58],[58,132],[132,93],[93,234],[234,127],[127,162],[162,21],[21,54],[54,103],[103,67],[67,109],[109,10]],ft=[].concat(l(dt),l(ut),l(ht),l(At),l(pt),l(gt));function mt(e){e=e||{},e=Object.assign(Object.assign({},lt),e),this.g=new it(e)}(t=mt.prototype).close=function(){return this.g.close(),e.resolve()},t.onResults=function(e){this.g.onResults(e)},t.initialize=function(){return we(this,(function e(){var t=this;return b(e,(function(e){return C(e,t.g.initialize(),0)}))}))},t.reset=function(){this.g.reset()},t.send=function(e){return we(this,(function t(){var n=this;return b(t,(function(t){return C(t,n.g.send(e),0)}))}))},t.setOptions=function(e){this.g.setOptions(e)},S("FACE_GEOMETRY",{Layout:{COLUMN_MAJOR:0,ROW_MAJOR:1,0:"COLUMN_MAJOR",1:"ROW_MAJOR"},PrimitiveType:{TRIANGLE:0,0:"TRIANGLE"},VertexType:{VERTEX_PT:0,0:"VERTEX_PT"},DEFAULT_CAMERA_PARAMS:{verticalFovDegrees:63,near:1,far:1e4}}),S("FaceMesh",mt),S("FACEMESH_LIPS",dt),S("FACEMESH_LEFT_EYE",ut),S("FACEMESH_LEFT_EYEBROW",ht),S("FACEMESH_LEFT_IRIS",[[474,475],[475,476],[476,477],[477,474]]),S("FACEMESH_RIGHT_EYE",At),S("FACEMESH_RIGHT_EYEBROW",pt),S("FACEMESH_RIGHT_IRIS",[[469,470],[470,471],[471,472],[472,469]]),S("FACEMESH_FACE_OVAL",gt),S("FACEMESH_CONTOURS",ft),S("FACEMESH_TESSELATION",[[127,34],[34,139],[139,127],[11,0],[0,37],[37,11],[232,231],[231,120],[120,232],[72,37],[37,39],[39,72],[128,121],[121,47],[47,128],[232,121],[121,128],[128,232],[104,69],[69,67],[67,104],[175,171],[171,148],[148,175],[118,50],[50,101],[101,118],[73,39],[39,40],[40,73],[9,151],[151,108],[108,9],[48,115],[115,131],[131,48],[194,204],[204,211],[211,194],[74,40],[40,185],[185,74],[80,42],[42,183],[183,80],[40,92],[92,186],[186,40],[230,229],[229,118],[118,230],[202,212],[212,214],[214,202],[83,18],[18,17],[17,83],[76,61],[61,146],[146,76],[160,29],[29,30],[30,160],[56,157],[157,173],[173,56],[106,204],[204,194],[194,106],[135,214],[214,192],[192,135],[203,165],[165,98],[98,203],[21,71],[71,68],[68,21],[51,45],[45,4],[4,51],[144,24],[24,23],[23,144],[77,146],[146,91],[91,77],[205,50],[50,187],[187,205],[201,200],[200,18],[18,201],[91,106],[106,182],[182,91],[90,91],[91,181],[181,90],[85,84],[84,17],[17,85],[206,203],[203,36],[36,206],[148,171],[171,140],[140,148],[92,40],[40,39],[39,92],[193,189],[189,244],[244,193],[159,158],[158,28],[28,159],[247,246],[246,161],[161,247],[236,3],[3,196],[196,236],[54,68],[68,104],[104,54],[193,168],[168,8],[8,193],[117,228],[228,31],[31,117],[189,193],[193,55],[55,189],[98,97],[97,99],[99,98],[126,47],[47,100],[100,126],[166,79],[79,218],[218,166],[155,154],[154,26],[26,155],[209,49],[49,131],[131,209],[135,136],[136,150],[150,135],[47,126],[126,217],[217,47],[223,52],[52,53],[53,223],[45,51],[51,134],[134,45],[211,170],[170,140],[140,211],[67,69],[69,108],[108,67],[43,106],[106,91],[91,43],[230,119],[119,120],[120,230],[226,130],[130,247],[247,226],[63,53],[53,52],[52,63],[238,20],[20,242],[242,238],[46,70],[70,156],[156,46],[78,62],[62,96],[96,78],[46,53],[53,63],[63,46],[143,34],[34,227],[227,143],[123,117],[117,111],[111,123],[44,125],[125,19],[19,44],[236,134],[134,51],[51,236],[216,206],[206,205],[205,216],[154,153],[153,22],[22,154],[39,37],[37,167],[167,39],[200,201],[201,208],[208,200],[36,142],[142,100],[100,36],[57,212],[212,202],[202,57],[20,60],[60,99],[99,20],[28,158],[158,157],[157,28],[35,226],[226,113],[113,35],[160,159],[159,27],[27,160],[204,202],[202,210],[210,204],[113,225],[225,46],[46,113],[43,202],[202,204],[204,43],[62,76],[76,77],[77,62],[137,123],[123,116],[116,137],[41,38],[38,72],[72,41],[203,129],[129,142],[142,203],[64,98],[98,240],[240,64],[49,102],[102,64],[64,49],[41,73],[73,74],[74,41],[212,216],[216,207],[207,212],[42,74],[74,184],[184,42],[169,170],[170,211],[211,169],[170,149],[149,176],[176,170],[105,66],[66,69],[69,105],[122,6],[6,168],[168,122],[123,147],[147,187],[187,123],[96,77],[77,90],[90,96],[65,55],[55,107],[107,65],[89,90],[90,180],[180,89],[101,100],[100,120],[120,101],[63,105],[105,104],[104,63],[93,137],[137,227],[227,93],[15,86],[86,85],[85,15],[129,102],[102,49],[49,129],[14,87],[87,86],[86,14],[55,8],[8,9],[9,55],[100,47],[47,121],[121,100],[145,23],[23,22],[22,145],[88,89],[89,179],[179,88],[6,122],[122,196],[196,6],[88,95],[95,96],[96,88],[138,172],[172,136],[136,138],[215,58],[58,172],[172,215],[115,48],[48,219],[219,115],[42,80],[80,81],[81,42],[195,3],[3,51],[51,195],[43,146],[146,61],[61,43],[171,175],[175,199],[199,171],[81,82],[82,38],[38,81],[53,46],[46,225],[225,53],[144,163],[163,110],[110,144],[52,65],[65,66],[66,52],[229,228],[228,117],[117,229],[34,127],[127,234],[234,34],[107,108],[108,69],[69,107],[109,108],[108,151],[151,109],[48,64],[64,235],[235,48],[62,78],[78,191],[191,62],[129,209],[209,126],[126,129],[111,35],[35,143],[143,111],[117,123],[123,50],[50,117],[222,65],[65,52],[52,222],[19,125],[125,141],[141,19],[221,55],[55,65],[65,221],[3,195],[195,197],[197,3],[25,7],[7,33],[33,25],[220,237],[237,44],[44,220],[70,71],[71,139],[139,70],[122,193],[193,245],[245,122],[247,130],[130,33],[33,247],[71,21],[21,162],[162,71],[170,169],[169,150],[150,170],[188,174],[174,196],[196,188],[216,186],[186,92],[92,216],[2,97],[97,167],[167,2],[141,125],[125,241],[241,141],[164,167],[167,37],[37,164],[72,38],[38,12],[12,72],[38,82],[82,13],[13,38],[63,68],[68,71],[71,63],[226,35],[35,111],[111,226],[101,50],[50,205],[205,101],[206,92],[92,165],[165,206],[209,198],[198,217],[217,209],[165,167],[167,97],[97,165],[220,115],[115,218],[218,220],[133,112],[112,243],[243,133],[239,238],[238,241],[241,239],[214,135],[135,169],[169,214],[190,173],[173,133],[133,190],[171,208],[208,32],[32,171],[125,44],[44,237],[237,125],[86,87],[87,178],[178,86],[85,86],[86,179],[179,85],[84,85],[85,180],[180,84],[83,84],[84,181],[181,83],[201,83],[83,182],[182,201],[137,93],[93,132],[132,137],[76,62],[62,183],[183,76],[61,76],[76,184],[184,61],[57,61],[61,185],[185,57],[212,57],[57,186],[186,212],[214,207],[207,187],[187,214],[34,143],[143,156],[156,34],[79,239],[239,237],[237,79],[123,137],[137,177],[177,123],[44,1],[1,4],[4,44],[201,194],[194,32],[32,201],[64,102],[102,129],[129,64],[213,215],[215,138],[138,213],[59,166],[166,219],[219,59],[242,99],[99,97],[97,242],[2,94],[94,141],[141,2],[75,59],[59,235],[235,75],[24,110],[110,228],[228,24],[25,130],[130,226],[226,25],[23,24],[24,229],[229,23],[22,23],[23,230],[230,22],[26,22],[22,231],[231,26],[112,26],[26,232],[232,112],[189,190],[190,243],[243,189],[221,56],[56,190],[190,221],[28,56],[56,221],[221,28],[27,28],[28,222],[222,27],[29,27],[27,223],[223,29],[30,29],[29,224],[224,30],[247,30],[30,225],[225,247],[238,79],[79,20],[20,238],[166,59],[59,75],[75,166],[60,75],[75,240],[240,60],[147,177],[177,215],[215,147],[20,79],[79,166],[166,20],[187,147],[147,213],[213,187],[112,233],[233,244],[244,112],[233,128],[128,245],[245,233],[128,114],[114,188],[188,128],[114,217],[217,174],[174,114],[131,115],[115,220],[220,131],[217,198],[198,236],[236,217],[198,131],[131,134],[134,198],[177,132],[132,58],[58,177],[143,35],[35,124],[124,143],[110,163],[163,7],[7,110],[228,110],[110,25],[25,228],[356,389],[389,368],[368,356],[11,302],[302,267],[267,11],[452,350],[350,349],[349,452],[302,303],[303,269],[269,302],[357,343],[343,277],[277,357],[452,453],[453,357],[357,452],[333,332],[332,297],[297,333],[175,152],[152,377],[377,175],[347,348],[348,330],[330,347],[303,304],[304,270],[270,303],[9,336],[336,337],[337,9],[278,279],[279,360],[360,278],[418,262],[262,431],[431,418],[304,408],[408,409],[409,304],[310,415],[415,407],[407,310],[270,409],[409,410],[410,270],[450,348],[348,347],[347,450],[422,430],[430,434],[434,422],[313,314],[314,17],[17,313],[306,307],[307,375],[375,306],[387,388],[388,260],[260,387],[286,414],[414,398],[398,286],[335,406],[406,418],[418,335],[364,367],[367,416],[416,364],[423,358],[358,327],[327,423],[251,284],[284,298],[298,251],[281,5],[5,4],[4,281],[373,374],[374,253],[253,373],[307,320],[320,321],[321,307],[425,427],[427,411],[411,425],[421,313],[313,18],[18,421],[321,405],[405,406],[406,321],[320,404],[404,405],[405,320],[315,16],[16,17],[17,315],[426,425],[425,266],[266,426],[377,400],[400,369],[369,377],[322,391],[391,269],[269,322],[417,465],[465,464],[464,417],[386,257],[257,258],[258,386],[466,260],[260,388],[388,466],[456,399],[399,419],[419,456],[284,332],[332,333],[333,284],[417,285],[285,8],[8,417],[346,340],[340,261],[261,346],[413,441],[441,285],[285,413],[327,460],[460,328],[328,327],[355,371],[371,329],[329,355],[392,439],[439,438],[438,392],[382,341],[341,256],[256,382],[429,420],[420,360],[360,429],[364,394],[394,379],[379,364],[277,343],[343,437],[437,277],[443,444],[444,283],[283,443],[275,440],[440,363],[363,275],[431,262],[262,369],[369,431],[297,338],[338,337],[337,297],[273,375],[375,321],[321,273],[450,451],[451,349],[349,450],[446,342],[342,467],[467,446],[293,334],[334,282],[282,293],[458,461],[461,462],[462,458],[276,353],[353,383],[383,276],[308,324],[324,325],[325,308],[276,300],[300,293],[293,276],[372,345],[345,447],[447,372],[352,345],[345,340],[340,352],[274,1],[1,19],[19,274],[456,248],[248,281],[281,456],[436,427],[427,425],[425,436],[381,256],[256,252],[252,381],[269,391],[391,393],[393,269],[200,199],[199,428],[428,200],[266,330],[330,329],[329,266],[287,273],[273,422],[422,287],[250,462],[462,328],[328,250],[258,286],[286,384],[384,258],[265,353],[353,342],[342,265],[387,259],[259,257],[257,387],[424,431],[431,430],[430,424],[342,353],[353,276],[276,342],[273,335],[335,424],[424,273],[292,325],[325,307],[307,292],[366,447],[447,345],[345,366],[271,303],[303,302],[302,271],[423,266],[266,371],[371,423],[294,455],[455,460],[460,294],[279,278],[278,294],[294,279],[271,272],[272,304],[304,271],[432,434],[434,427],[427,432],[272,407],[407,408],[408,272],[394,430],[430,431],[431,394],[395,369],[369,400],[400,395],[334,333],[333,299],[299,334],[351,417],[417,168],[168,351],[352,280],[280,411],[411,352],[325,319],[319,320],[320,325],[295,296],[296,336],[336,295],[319,403],[403,404],[404,319],[330,348],[348,349],[349,330],[293,298],[298,333],[333,293],[323,454],[454,447],[447,323],[15,16],[16,315],[315,15],[358,429],[429,279],[279,358],[14,15],[15,316],[316,14],[285,336],[336,9],[9,285],[329,349],[349,350],[350,329],[374,380],[380,252],[252,374],[318,402],[402,403],[403,318],[6,197],[197,419],[419,6],[318,319],[319,325],[325,318],[367,364],[364,365],[365,367],[435,367],[367,397],[397,435],[344,438],[438,439],[439,344],[272,271],[271,311],[311,272],[195,5],[5,281],[281,195],[273,287],[287,291],[291,273],[396,428],[428,199],[199,396],[311,271],[271,268],[268,311],[283,444],[444,445],[445,283],[373,254],[254,339],[339,373],[282,334],[334,296],[296,282],[449,347],[347,346],[346,449],[264,447],[447,454],[454,264],[336,296],[296,299],[299,336],[338,10],[10,151],[151,338],[278,439],[439,455],[455,278],[292,407],[407,415],[415,292],[358,371],[371,355],[355,358],[340,345],[345,372],[372,340],[346,347],[347,280],[280,346],[442,443],[443,282],[282,442],[19,94],[94,370],[370,19],[441,442],[442,295],[295,441],[248,419],[419,197],[197,248],[263,255],[255,359],[359,263],[440,275],[275,274],[274,440],[300,383],[383,368],[368,300],[351,412],[412,465],[465,351],[263,467],[467,466],[466,263],[301,368],[368,389],[389,301],[395,378],[378,379],[379,395],[412,351],[351,419],[419,412],[436,426],[426,322],[322,436],[2,164],[164,393],[393,2],[370,462],[462,461],[461,370],[164,0],[0,267],[267,164],[302,11],[11,12],[12,302],[268,12],[12,13],[13,268],[293,300],[300,301],[301,293],[446,261],[261,340],[340,446],[330,266],[266,425],[425,330],[426,423],[423,391],[391,426],[429,355],[355,437],[437,429],[391,327],[327,326],[326,391],[440,457],[457,438],[438,440],[341,382],[382,362],[362,341],[459,457],[457,461],[461,459],[434,430],[430,394],[394,434],[414,463],[463,362],[362,414],[396,369],[369,262],[262,396],[354,461],[461,457],[457,354],[316,403],[403,402],[402,316],[315,404],[404,403],[403,315],[314,405],[405,404],[404,314],[313,406],[406,405],[405,313],[421,418],[418,406],[406,421],[366,401],[401,361],[361,366],[306,408],[408,407],[407,306],[291,409],[409,408],[408,291],[287,410],[410,409],[409,287],[432,436],[436,410],[410,432],[434,416],[416,411],[411,434],[264,368],[368,383],[383,264],[309,438],[438,457],[457,309],[352,376],[376,401],[401,352],[274,275],[275,4],[4,274],[421,428],[428,262],[262,421],[294,327],[327,358],[358,294],[433,416],[416,367],[367,433],[289,455],[455,439],[439,289],[462,370],[370,326],[326,462],[2,326],[326,370],[370,2],[305,460],[460,455],[455,305],[254,449],[449,448],[448,254],[255,261],[261,446],[446,255],[253,450],[450,449],[449,253],[252,451],[451,450],[450,252],[256,452],[452,451],[451,256],[341,453],[453,452],[452,341],[413,464],[464,463],[463,413],[441,413],[413,414],[414,441],[258,442],[442,441],[441,258],[257,443],[443,442],[442,257],[259,444],[444,443],[443,259],[260,445],[445,444],[444,260],[467,342],[342,445],[445,467],[459,458],[458,250],[250,459],[289,392],[392,290],[290,289],[290,328],[328,460],[460,290],[376,433],[433,435],[435,376],[250,290],[290,392],[392,250],[411,416],[416,433],[433,411],[341,463],[463,464],[464,341],[453,464],[464,465],[465,453],[357,465],[465,412],[412,357],[343,412],[412,399],[399,343],[360,363],[363,440],[440,360],[437,399],[399,456],[456,437],[420,456],[456,363],[363,420],[401,435],[435,288],[288,401],[372,383],[383,353],[353,372],[339,255],[255,249],[249,339],[448,261],[261,255],[255,448],[133,243],[243,190],[190,133],[133,155],[155,112],[112,133],[33,246],[246,247],[247,33],[33,130],[130,25],[25,33],[398,384],[384,286],[286,398],[362,398],[398,414],[414,362],[362,463],[463,341],[341,362],[263,359],[359,467],[467,263],[263,249],[249,255],[255,263],[466,467],[467,260],[260,466],[75,60],[60,166],[166,75],[238,239],[239,79],[79,238],[162,127],[127,139],[139,162],[72,11],[11,37],[37,72],[121,232],[232,120],[120,121],[73,72],[72,39],[39,73],[114,128],[128,47],[47,114],[233,232],[232,128],[128,233],[103,104],[104,67],[67,103],[152,175],[175,148],[148,152],[119,118],[118,101],[101,119],[74,73],[73,40],[40,74],[107,9],[9,108],[108,107],[49,48],[48,131],[131,49],[32,194],[194,211],[211,32],[184,74],[74,185],[185,184],[191,80],[80,183],[183,191],[185,40],[40,186],[186,185],[119,230],[230,118],[118,119],[210,202],[202,214],[214,210],[84,83],[83,17],[17,84],[77,76],[76,146],[146,77],[161,160],[160,30],[30,161],[190,56],[56,173],[173,190],[182,106],[106,194],[194,182],[138,135],[135,192],[192,138],[129,203],[203,98],[98,129],[54,21],[21,68],[68,54],[5,51],[51,4],[4,5],[145,144],[144,23],[23,145],[90,77],[77,91],[91,90],[207,205],[205,187],[187,207],[83,201],[201,18],[18,83],[181,91],[91,182],[182,181],[180,90],[90,181],[181,180],[16,85],[85,17],[17,16],[205,206],[206,36],[36,205],[176,148],[148,140],[140,176],[165,92],[92,39],[39,165],[245,193],[193,244],[244,245],[27,159],[159,28],[28,27],[30,247],[247,161],[161,30],[174,236],[236,196],[196,174],[103,54],[54,104],[104,103],[55,193],[193,8],[8,55],[111,117],[117,31],[31,111],[221,189],[189,55],[55,221],[240,98],[98,99],[99,240],[142,126],[126,100],[100,142],[219,166],[166,218],[218,219],[112,155],[155,26],[26,112],[198,209],[209,131],[131,198],[169,135],[135,150],[150,169],[114,47],[47,217],[217,114],[224,223],[223,53],[53,224],[220,45],[45,134],[134,220],[32,211],[211,140],[140,32],[109,67],[67,108],[108,109],[146,43],[43,91],[91,146],[231,230],[230,120],[120,231],[113,226],[226,247],[247,113],[105,63],[63,52],[52,105],[241,238],[238,242],[242,241],[124,46],[46,156],[156,124],[95,78],[78,96],[96,95],[70,46],[46,63],[63,70],[116,143],[143,227],[227,116],[116,123],[123,111],[111,116],[1,44],[44,19],[19,1],[3,236],[236,51],[51,3],[207,216],[216,205],[205,207],[26,154],[154,22],[22,26],[165,39],[39,167],[167,165],[199,200],[200,208],[208,199],[101,36],[36,100],[100,101],[43,57],[57,202],[202,43],[242,20],[20,99],[99,242],[56,28],[28,157],[157,56],[124,35],[35,113],[113,124],[29,160],[160,27],[27,29],[211,204],[204,210],[210,211],[124,113],[113,46],[46,124],[106,43],[43,204],[204,106],[96,62],[62,77],[77,96],[227,137],[137,116],[116,227],[73,41],[41,72],[72,73],[36,203],[203,142],[142,36],[235,64],[64,240],[240,235],[48,49],[49,64],[64,48],[42,41],[41,74],[74,42],[214,212],[212,207],[207,214],[183,42],[42,184],[184,183],[210,169],[169,211],[211,210],[140,170],[170,176],[176,140],[104,105],[105,69],[69,104],[193,122],[122,168],[168,193],[50,123],[123,187],[187,50],[89,96],[96,90],[90,89],[66,65],[65,107],[107,66],[179,89],[89,180],[180,179],[119,101],[101,120],[120,119],[68,63],[63,104],[104,68],[234,93],[93,227],[227,234],[16,15],[15,85],[85,16],[209,129],[129,49],[49,209],[15,14],[14,86],[86,15],[107,55],[55,9],[9,107],[120,100],[100,121],[121,120],[153,145],[145,22],[22,153],[178,88],[88,179],[179,178],[197,6],[6,196],[196,197],[89,88],[88,96],[96,89],[135,138],[138,136],[136,135],[138,215],[215,172],[172,138],[218,115],[115,219],[219,218],[41,42],[42,81],[81,41],[5,195],[195,51],[51,5],[57,43],[43,61],[61,57],[208,171],[171,199],[199,208],[41,81],[81,38],[38,41],[224,53],[53,225],[225,224],[24,144],[144,110],[110,24],[105,52],[52,66],[66,105],[118,229],[229,117],[117,118],[227,34],[34,234],[234,227],[66,107],[107,69],[69,66],[10,109],[109,151],[151,10],[219,48],[48,235],[235,219],[183,62],[62,191],[191,183],[142,129],[129,126],[126,142],[116,111],[111,143],[143,116],[118,117],[117,50],[50,118],[223,222],[222,52],[52,223],[94,19],[19,141],[141,94],[222,221],[221,65],[65,222],[196,3],[3,197],[197,196],[45,220],[220,44],[44,45],[156,70],[70,139],[139,156],[188,122],[122,245],[245,188],[139,71],[71,162],[162,139],[149,170],[170,150],[150,149],[122,188],[188,196],[196,122],[206,216],[216,92],[92,206],[164,2],[2,167],[167,164],[242,141],[141,241],[241,242],[0,164],[164,37],[37,0],[11,72],[72,12],[12,11],[12,38],[38,13],[13,12],[70,63],[63,71],[71,70],[31,226],[226,111],[111,31],[36,101],[101,205],[205,36],[203,206],[206,165],[165,203],[126,209],[209,217],[217,126],[98,165],[165,97],[97,98],[237,220],[220,218],[218,237],[237,239],[239,241],[241,237],[210,214],[214,169],[169,210],[140,171],[171,32],[32,140],[241,125],[125,237],[237,241],[179,86],[86,178],[178,179],[180,85],[85,179],[179,180],[181,84],[84,180],[180,181],[182,83],[83,181],[181,182],[194,201],[201,182],[182,194],[177,137],[137,132],[132,177],[184,76],[76,183],[183,184],[185,61],[61,184],[184,185],[186,57],[57,185],[185,186],[216,212],[212,186],[186,216],[192,214],[214,187],[187,192],[139,34],[34,156],[156,139],[218,79],[79,237],[237,218],[147,123],[123,177],[177,147],[45,44],[44,4],[4,45],[208,201],[201,32],[32,208],[98,64],[64,129],[129,98],[192,213],[213,138],[138,192],[235,59],[59,219],[219,235],[141,242],[242,97],[97,141],[97,2],[2,141],[141,97],[240,75],[75,235],[235,240],[229,24],[24,228],[228,229],[31,25],[25,226],[226,31],[230,23],[23,229],[229,230],[231,22],[22,230],[230,231],[232,26],[26,231],[231,232],[233,112],[112,232],[232,233],[244,189],[189,243],[243,244],[189,221],[221,190],[190,189],[222,28],[28,221],[221,222],[223,27],[27,222],[222,223],[224,29],[29,223],[223,224],[225,30],[30,224],[224,225],[113,247],[247,225],[225,113],[99,60],[60,240],[240,99],[213,147],[147,215],[215,213],[60,20],[20,166],[166,60],[192,187],[187,213],[213,192],[243,112],[112,244],[244,243],[244,233],[233,245],[245,244],[245,128],[128,188],[188,245],[188,114],[114,174],[174,188],[134,131],[131,220],[220,134],[174,217],[217,236],[236,174],[236,198],[198,134],[134,236],[215,177],[177,58],[58,215],[156,143],[143,124],[124,156],[25,110],[110,7],[7,25],[31,228],[228,25],[25,31],[264,356],[356,368],[368,264],[0,11],[11,267],[267,0],[451,452],[452,349],[349,451],[267,302],[302,269],[269,267],[350,357],[357,277],[277,350],[350,452],[452,357],[357,350],[299,333],[333,297],[297,299],[396,175],[175,377],[377,396],[280,347],[347,330],[330,280],[269,303],[303,270],[270,269],[151,9],[9,337],[337,151],[344,278],[278,360],[360,344],[424,418],[418,431],[431,424],[270,304],[304,409],[409,270],[272,310],[310,407],[407,272],[322,270],[270,410],[410,322],[449,450],[450,347],[347,449],[432,422],[422,434],[434,432],[18,313],[313,17],[17,18],[291,306],[306,375],[375,291],[259,387],[387,260],[260,259],[424,335],[335,418],[418,424],[434,364],[364,416],[416,434],[391,423],[423,327],[327,391],[301,251],[251,298],[298,301],[275,281],[281,4],[4,275],[254,373],[373,253],[253,254],[375,307],[307,321],[321,375],[280,425],[425,411],[411,280],[200,421],[421,18],[18,200],[335,321],[321,406],[406,335],[321,320],[320,405],[405,321],[314,315],[315,17],[17,314],[423,426],[426,266],[266,423],[396,377],[377,369],[369,396],[270,322],[322,269],[269,270],[413,417],[417,464],[464,413],[385,386],[386,258],[258,385],[248,456],[456,419],[419,248],[298,284],[284,333],[333,298],[168,417],[417,8],[8,168],[448,346],[346,261],[261,448],[417,413],[413,285],[285,417],[326,327],[327,328],[328,326],[277,355],[355,329],[329,277],[309,392],[392,438],[438,309],[381,382],[382,256],[256,381],[279,429],[429,360],[360,279],[365,364],[364,379],[379,365],[355,277],[277,437],[437,355],[282,443],[443,283],[283,282],[281,275],[275,363],[363,281],[395,431],[431,369],[369,395],[299,297],[297,337],[337,299],[335,273],[273,321],[321,335],[348,450],[450,349],[349,348],[359,446],[446,467],[467,359],[283,293],[293,282],[282,283],[250,458],[458,462],[462,250],[300,276],[276,383],[383,300],[292,308],[308,325],[325,292],[283,276],[276,293],[293,283],[264,372],[372,447],[447,264],[346,352],[352,340],[340,346],[354,274],[274,19],[19,354],[363,456],[456,281],[281,363],[426,436],[436,425],[425,426],[380,381],[381,252],[252,380],[267,269],[269,393],[393,267],[421,200],[200,428],[428,421],[371,266],[266,329],[329,371],[432,287],[287,422],[422,432],[290,250],[250,328],[328,290],[385,258],[258,384],[384,385],[446,265],[265,342],[342,446],[386,387],[387,257],[257,386],[422,424],[424,430],[430,422],[445,342],[342,276],[276,445],[422,273],[273,424],[424,422],[306,292],[292,307],[307,306],[352,366],[366,345],[345,352],[268,271],[271,302],[302,268],[358,423],[423,371],[371,358],[327,294],[294,460],[460,327],[331,279],[279,294],[294,331],[303,271],[271,304],[304,303],[436,432],[432,427],[427,436],[304,272],[272,408],[408,304],[395,394],[394,431],[431,395],[378,395],[395,400],[400,378],[296,334],[334,299],[299,296],[6,351],[351,168],[168,6],[376,352],[352,411],[411,376],[307,325],[325,320],[320,307],[285,295],[295,336],[336,285],[320,319],[319,404],[404,320],[329,330],[330,349],[349,329],[334,293],[293,333],[333,334],[366,323],[323,447],[447,366],[316,15],[15,315],[315,316],[331,358],[358,279],[279,331],[317,14],[14,316],[316,317],[8,285],[285,9],[9,8],[277,329],[329,350],[350,277],[253,374],[374,252],[252,253],[319,318],[318,403],[403,319],[351,6],[6,419],[419,351],[324,318],[318,325],[325,324],[397,367],[367,365],[365,397],[288,435],[435,397],[397,288],[278,344],[344,439],[439,278],[310,272],[272,311],[311,310],[248,195],[195,281],[281,248],[375,273],[273,291],[291,375],[175,396],[396,199],[199,175],[312,311],[311,268],[268,312],[276,283],[283,445],[445,276],[390,373],[373,339],[339,390],[295,282],[282,296],[296,295],[448,449],[449,346],[346,448],[356,264],[264,454],[454,356],[337,336],[336,299],[299,337],[337,338],[338,151],[151,337],[294,278],[278,455],[455,294],[308,292],[292,415],[415,308],[429,358],[358,355],[355,429],[265,340],[340,372],[372,265],[352,346],[346,280],[280,352],[295,442],[442,282],[282,295],[354,19],[19,370],[370,354],[285,441],[441,295],[295,285],[195,248],[248,197],[197,195],[457,440],[440,274],[274,457],[301,300],[300,368],[368,301],[417,351],[351,465],[465,417],[251,301],[301,389],[389,251],[394,395],[395,379],[379,394],[399,412],[412,419],[419,399],[410,436],[436,322],[322,410],[326,2],[2,393],[393,326],[354,370],[370,461],[461,354],[393,164],[164,267],[267,393],[268,302],[302,12],[12,268],[312,268],[268,13],[13,312],[298,293],[293,301],[301,298],[265,446],[446,340],[340,265],[280,330],[330,425],[425,280],[322,426],[426,391],[391,322],[420,429],[429,437],[437,420],[393,391],[391,326],[326,393],[344,440],[440,438],[438,344],[458,459],[459,461],[461,458],[364,434],[434,394],[394,364],[428,396],[396,262],[262,428],[274,354],[354,457],[457,274],[317,316],[316,402],[402,317],[316,315],[315,403],[403,316],[315,314],[314,404],[404,315],[314,313],[313,405],[405,314],[313,421],[421,406],[406,313],[323,366],[366,361],[361,323],[292,306],[306,407],[407,292],[306,291],[291,408],[408,306],[291,287],[287,409],[409,291],[287,432],[432,410],[410,287],[427,434],[434,411],[411,427],[372,264],[264,383],[383,372],[459,309],[309,457],[457,459],[366,352],[352,401],[401,366],[1,274],[274,4],[4,1],[418,421],[421,262],[262,418],[331,294],[294,358],[358,331],[435,433],[433,367],[367,435],[392,289],[289,439],[439,392],[328,462],[462,326],[326,328],[94,2],[2,370],[370,94],[289,305],[305,455],[455,289],[339,254],[254,448],[448,339],[359,255],[255,446],[446,359],[254,253],[253,449],[449,254],[253,252],[252,450],[450,253],[252,256],[256,451],[451,252],[256,341],[341,452],[452,256],[414,413],[413,463],[463,414],[286,441],[441,414],[414,286],[286,258],[258,441],[441,286],[258,257],[257,442],[442,258],[257,259],[259,443],[443,257],[259,260],[260,444],[444,259],[260,467],[467,445],[445,260],[309,459],[459,250],[250,309],[305,289],[289,290],[290,305],[305,290],[290,460],[460,305],[401,376],[376,435],[435,401],[309,250],[250,392],[392,309],[376,411],[411,433],[433,376],[453,341],[341,464],[464,453],[357,453],[453,465],[465,357],[343,357],[357,412],[412,343],[437,343],[343,399],[399,437],[344,360],[360,440],[440,344],[420,437],[437,456],[456,420],[360,420],[420,363],[363,360],[361,401],[401,288],[288,361],[265,372],[372,353],[353,265],[390,339],[339,249],[249,390],[339,448],[448,255],[255,339]]),S("matrixDataToMatrix",(function(e){for(var t=e.getCols(),n=e.getRows(),i=e.getPackedDataList(),r=[],o=0;o<n;o++)r.push(Array(t));for(o=0;o<n;o++)for(var a=0;a<t;a++){var s=1===e.getLayout()?o*t+a:a*n+o;r[o][a]=i[s]}return r})),S("VERSION","0.4.1633559619")}).call(Re);const Se={};(function(){var t;function i(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}var r="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e},o=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof(void 0!==typeof window?window:n.g)&&(void 0!==typeof window?window:n.g)];for(var t=0;t<e.length;++t){var i=e[t];if(i&&i.Math==Math)return i}throw Error("Cannot find global object")}(this);function a(e,t){if(t)e:{var n=o;e=e.split(".");for(var i=0;i<e.length-1;i++){var a=e[i];if(!(a in n))break e;n=n[a]}(t=t(i=n[e=e[e.length-1]]))!=i&&null!=t&&r(n,e,{configurable:!0,writable:!0,value:t})}}function s(e){return(e={next:e})[Symbol.iterator]=function(){return this},e}function c(e){var t=typeof Symbol<"u"&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:i(e)}}function l(e){if(!(e instanceof Array)){e=c(e);for(var t,n=[];!(t=e.next()).done;)n.push(t.value);e=n}return e}a("Symbol",(function(e){function t(e,t){this.g=e,r(this,"description",{configurable:!0,writable:!0,value:t})}if(e)return e;t.prototype.toString=function(){return this.g};var n="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",i=0;return function e(r){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new t(n+(r||"")+"_"+i++,r)}})),a("Symbol.iterator",(function(e){if(e)return e;e=Symbol("Symbol.iterator");for(var t="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),n=0;n<t.length;n++){var a=o[t[n]];"function"==typeof a&&"function"!=typeof a.prototype[e]&&r(a.prototype,e,{configurable:!0,writable:!0,value:function(){return s(i(this))}})}return e}));var d,u="function"==typeof Object.create?Object.create:function(e){function t(){}return t.prototype=e,new t};if("function"==typeof Object.setPrototypeOf)d=Object.setPrototypeOf;else{var h;e:{var A={};try{A.__proto__={a:!0},h=A.a;break e}catch{}h=!1}d=h?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+" is not extensible");return e}:null}var p=d;function g(e,t){if(e.prototype=u(t.prototype),e.prototype.constructor=e,p)p(e,t);else for(var n in t)if("prototype"!=n)if(Object.defineProperties){var i=Object.getOwnPropertyDescriptor(t,n);i&&Object.defineProperty(e,n,i)}else e[n]=t[n];e.ka=t.prototype}function f(){this.l=!1,this.i=null,this.h=void 0,this.g=1,this.s=this.m=0,this.j=null}function m(e){if(e.l)throw new TypeError("Generator is already running");e.l=!0}function E(e,t){e.j={V:t,X:!0},e.g=e.m||e.s}function C(e,t,n){return e.g=n,{value:t}}function I(e){this.g=new f,this.h=e}function Q(e,t,n,i){try{var r=t.call(e.g.i,n);if(!(r instanceof Object))throw new TypeError("Iterator result "+r+" is not an object");if(!r.done)return e.g.l=!1,r;var o=r.value}catch(a){return e.g.i=null,E(e.g,a),U(e)}return e.g.i=null,i.call(e.g,o),U(e)}function U(e){for(;e.g.g;)try{var t=e.h(e.g);if(t)return e.g.l=!1,{value:t.value,done:!1}}catch(n){e.g.h=void 0,E(e.g,n)}if(e.g.l=!1,e.g.j){if(t=e.g.j,e.g.j=null,t.X)throw t.V;return{value:t.return,done:!0}}return{value:void 0,done:!0}}function y(e){this.next=function(t){return m(e.g),e.g.i?t=Q(e,e.g.i.next,t,e.g.o):(e.g.o(t),t=U(e)),t},this.throw=function(t){return m(e.g),e.g.i?t=Q(e,e.g.i.throw,t,e.g.o):(E(e.g,t),t=U(e)),t},this.return=function(t){return function(e,t){m(e.g);var n=e.g.i;return n?Q(e,"return"in n?n.return:function(e){return{value:e,done:!0}},t,e.g.return):(e.g.return(t),U(e))}(e,t)},this[Symbol.iterator]=function(){return this}}function b(t){return function(t){function n(e){return t.next(e)}function i(e){return t.throw(e)}return new e((function(r,o){!function t(a){a.done?r(a.value):e.resolve(a.value).then(n,i).then(t,o)}(t.next())}))}(new y(new I(t)))}f.prototype.o=function(e){this.h=e},f.prototype.return=function(e){this.j={return:e},this.g=this.s},a("Promise",(function(e){function t(e){this.h=0,this.i=void 0,this.g=[],this.o=!1;var t=this.j();try{e(t.resolve,t.reject)}catch(n){t.reject(n)}}function n(){this.g=null}function i(e){return e instanceof t?e:new t((function(t){t(e)}))}if(e)return e;n.prototype.h=function(e){if(null==this.g){this.g=[];var t=this;this.i((function(){t.l()}))}this.g.push(e)};var r=o.setTimeout;n.prototype.i=function(e){r(e,0)},n.prototype.l=function(){for(;this.g&&this.g.length;){var e=this.g;this.g=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(i){this.j(i)}}}this.g=null},n.prototype.j=function(e){this.i((function(){throw e}))},t.prototype.j=function(){function e(e){return function(i){n||(n=!0,e.call(t,i))}}var t=this,n=!1;return{resolve:e(this.D),reject:e(this.l)}},t.prototype.D=function(e){if(e===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.G(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.A(e):this.m(e)}},t.prototype.A=function(e){var t=void 0;try{t=e.then}catch(n){return void this.l(n)}"function"==typeof t?this.H(t,e):this.m(e)},t.prototype.l=function(e){this.s(2,e)},t.prototype.m=function(e){this.s(1,e)},t.prototype.s=function(e,t){if(0!=this.h)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.h);this.h=e,this.i=t,2===this.h&&this.F(),this.B()},t.prototype.F=function(){var e=this;r((function(){if(e.C()){var t=o.console;typeof t<"u"&&t.error(e.i)}}),1)},t.prototype.C=function(){if(this.o)return!1;var e=o.CustomEvent,t=o.Event,n=o.dispatchEvent;return typeof n>"u"||("function"==typeof e?e=new e("unhandledrejection",{cancelable:!0}):"function"==typeof t?e=new t("unhandledrejection",{cancelable:!0}):(e=o.document.createEvent("CustomEvent")).initCustomEvent("unhandledrejection",!1,!0,e),e.promise=this,e.reason=this.i,n(e))},t.prototype.B=function(){if(null!=this.g){for(var e=0;e<this.g.length;++e)a.h(this.g[e]);this.g=null}};var a=new n;return t.prototype.G=function(e){var t=this.j();e.K(t.resolve,t.reject)},t.prototype.H=function(e,t){var n=this.j();try{e.call(t,n.resolve,n.reject)}catch(i){n.reject(i)}},t.prototype.then=function(e,n){function i(e,t){return"function"==typeof e?function(t){try{r(e(t))}catch(n){o(n)}}:t}var r,o,a=new t((function(e,t){r=e,o=t}));return this.K(i(e,r),i(n,o)),a},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.K=function(e,t){function n(){switch(i.h){case 1:e(i.i);break;case 2:t(i.i);break;default:throw Error("Unexpected state: "+i.h)}}var i=this;null==this.g?a.h(n):this.g.push(n),this.o=!0},t.resolve=i,t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var r=c(e),o=r.next();!o.done;o=r.next())i(o.value).K(t,n)}))},t.all=function(e){var n=c(e),r=n.next();return r.done?i([]):new t((function(e,t){function o(t){return function(n){a[t]=n,0==--s&&e(a)}}var a=[],s=0;do{a.push(void 0),s++,i(r.value).K(o(a.length-1),t),r=n.next()}while(!r.done)}))},t}));var v="function"==typeof Object.assign?Object.assign:function(e,t){for(var n=1;n<arguments.length;n++){var i=arguments[n];if(i)for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e};a("Object.assign",(function(e){return e||v})),a("Object.is",(function(e){return e||function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}})),a("Array.prototype.includes",(function(e){return e||function(e,t){var n=this;n instanceof String&&(n=String(n));var i=n.length;for(0>(t=t||0)&&(t=Math.max(t+i,0));t<i;t++){var r=n[t];if(r===e||Object.is(r,e))return!0}return!1}})),a("String.prototype.includes",(function(e){return e||function(e,t){if(null==this)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(e instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return-1!==this.indexOf(e,t||0)}})),a("Array.prototype.keys",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,i=!1,r={next:function(){if(!i&&n<e.length){var r=n++;return{value:t(r,e[r]),done:!1}}return i=!0,{done:!0,value:void 0}}};return r[Symbol.iterator]=function(){return r},r}(this,(function(e){return e}))}}));var R=this||self;function S(e,t){e=e.split(".");var n,i=R;e[0]in i||typeof i.execScript>"u"||i.execScript("var "+e[0]);for(;e.length&&(n=e.shift());)e.length||void 0===t?i=i[n]&&i[n]!==Object.prototype[n]?i[n]:i[n]={}:i[n]=t}function F(e){throw e}function B(e,t){F(Error("Invalid wire type: "+e+" (at position "+t+")"))}function T(){F(Error("Failed to read varint, encoding is invalid."))}function N(e,t){return t=String.fromCharCode.apply(null,t),null==e?t:e+t}var _,w,k=typeof TextDecoder<"u",D=typeof TextEncoder<"u";function V(e){if(D)e=(w||(w=new TextEncoder)).encode(e);else{var t=void 0;t=void 0!==t&&t;for(var n=0,i=new Uint8Array(3*e.length),r=0;r<e.length;r++){var o=e.charCodeAt(r);if(128>o)i[n++]=o;else{if(2048>o)i[n++]=o>>6|192;else{if(55296<=o&&57343>=o){if(56319>=o&&r<e.length){var a=e.charCodeAt(++r);if(56320<=a&&57343>=a){o=1024*(o-55296)+a-56320+65536,i[n++]=o>>18|240,i[n++]=o>>12&63|128,i[n++]=o>>6&63|128,i[n++]=63&o|128;continue}r--}if(t)throw Error("Found an unpaired surrogate");o=65533}i[n++]=o>>12|224,i[n++]=o>>6&63|128}i[n++]=63&o|128}}e=i.subarray(0,n)}return e}var Z={},W=null;function O(e){var t;void 0===t&&(t=0),x(),t=Z[t];for(var n=Array(Math.floor(e.length/3)),i=t[64]||"",r=0,o=0;r<e.length-2;r+=3){var a=e[r],s=e[r+1],c=e[r+2],l=t[a>>2];a=t[(3&a)<<4|s>>4],s=t[(15&s)<<2|c>>6],c=t[63&c],n[o++]=l+a+s+c}switch(l=0,c=i,e.length-r){case 2:c=t[(15&(l=e[r+1]))<<2]||i;case 1:e=e[r],n[o]=t[e>>2]+t[(3&e)<<4|l>>4]+c+i}return n.join("")}function J(e){var t=e.length,n=3*t/4;n%3?n=Math.floor(n):-1!="=.".indexOf(e[t-1])&&(n=-1!="=.".indexOf(e[t-2])?n-2:n-1);var i=new Uint8Array(n),r=0;return function(e,t){function n(t){for(;i<e.length;){var n=e.charAt(i++),r=W[n];if(null!=r)return r;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return t}x();for(var i=0;;){var r=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===r)break;t(r<<2|o>>4),64!=a&&(t(o<<4&240|a>>2),64!=s&&t(a<<6&192|s))}}(e,(function(e){i[r++]=e})),i.subarray(0,r)}function x(){if(!W){W={};for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),t=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++){var i=e.concat(t[n].split(""));Z[n]=i;for(var r=0;r<i.length;r++){var o=i[r];void 0===W[o]&&(W[o]=r)}}}}var M,L="function"==typeof Uint8Array;function P(e){if(this.g=e,null!==e&&0===e.length)throw Error("ByteString should be constructed with non-empty values")}var G="function"==typeof Uint8Array.prototype.slice;function Y(e,t,n){return t===n?M||(M=new Uint8Array(0)):G?e.slice(t,n):new Uint8Array(e.subarray(t,n))}var j=0;function X(e,t){t=void 0!==(t=void 0===t?{}:t).v&&t.v,this.h=null,this.g=this.i=this.l=0,this.j=!1,this.v=t,e&&K(this,e)}function K(e,t){e.h=function(e){if(e.constructor===Uint8Array)return e;if(e.constructor===ArrayBuffer)return new Uint8Array(e);if(e.constructor===Array)return new Uint8Array(e);if(e.constructor===String)return J(e);if(e.constructor===P){if(null==e.g)var t=M||(M=new Uint8Array(0));else{t=Uint8Array;var n=e.g;n=null==n||L&&null!=n&&n instanceof Uint8Array?n:"string"==typeof n?J(n):null,t=new t(e=e.g=n)}return t}if(e instanceof Uint8Array)return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw Error("Type not convertible to a Uint8Array, expected a Uint8Array, an ArrayBuffer, a base64 encoded string, or Array of numbers")}(t),e.l=0,e.i=e.h.length,e.g=e.l}function H(e){for(var t=128,n=0,i=0,r=0;4>r&&128<=t;r++)n|=(127&(t=e.h[e.g++]))<<7*r;if(128<=t&&(n|=(127&(t=e.h[e.g++]))<<28,i|=(127&t)>>4),128<=t)for(r=0;5>r&&128<=t;r++)i|=(127&(t=e.h[e.g++]))<<7*r+3;if(128>t)return e=n>>>0,(i=2147483648&(t=i>>>0))&&(t=~t>>>0,0==(e=1+~e>>>0)&&(t=t+1>>>0)),e=4294967296*t+(e>>>0),i?-e:e;e.j=!0,T()}function z(e){e.g>e.i&&(e.j=!0,F(Error("Tried to read past the end of the data "+e.g+" > "+e.i)))}function q(e){var t=e.h,n=t[e.g],i=127&n;return 128>n?(e.g+=1,z(e),i):(i|=(127&(n=t[e.g+1]))<<7,128>n?(e.g+=2,z(e),i):(i|=(127&(n=t[e.g+2]))<<14,128>n?(e.g+=3,z(e),i):(i|=(127&(n=t[e.g+3]))<<21,128>n?(e.g+=4,z(e),i):(i|=(15&(n=t[e.g+4]))<<28,128>n?(e.g+=5,z(e),i>>>0):(e.g+=5,128<=t[e.g++]&&128<=t[e.g++]&&128<=t[e.g++]&&128<=t[e.g++]&&128<=t[e.g++]?(e.j=!0,T(),i):(z(e),i))))))}function $(e){var t=e.h[e.g],n=e.h[e.g+1],i=e.h[e.g+2],r=e.h[e.g+3];return e.g+=4,z(e),(t<<0|n<<8|i<<16|r<<24)>>>0}X.prototype.reset=function(){this.g=this.l},X.prototype.m=function(){var e=$(this),t=2*(e>>31)+1,n=e>>>23&255;return e&=8388607,255==n?e?NaN:1/0*t:0==n?t*Math.pow(2,-149)*e:t*Math.pow(2,n-150)*(e+Math.pow(2,23))};var ee=[];function te(){this.g=new Uint8Array(64),this.h=0}function ne(e,t){if(!(e.h+1<e.g.length)){var n=e.g;e.g=new Uint8Array(Math.ceil(1+2*e.g.length)),e.g.set(n)}e.g[e.h++]=t}function ie(e,t){for(;127<t;)ne(e,127&t|128),t>>>=7;ne(e,t)}function re(e){var t={},n=void 0!==t.O&&t.O;this.m={v:void 0!==t.v&&t.v},this.O=n,t=this.m,ee.length?(n=ee.pop(),t&&(n.v=t.v),e&&K(n,e),e=n):e=new X(e,t),this.g=e,this.l=this.g.g,this.h=this.i=-1,this.j=!1}function oe(e){var t=e.g;if((t=t.g==t.i)||(t=e.j)||(t=(t=e.g).j||0>t.g||t.g>t.i),t)return!1;e.l=e.g.g;var n=q(e.g);return t=n>>>3,0<=(n&=7)&&5>=n?(e.i=t,e.h=n,!0):(e.j=!0,B(n,e.l),!1)}function ae(e){switch(e.h){case 0:if(0!=e.h)ae(e);else e:{for(var t=(e=e.g).g,n=0;10>n;n++){if(0===(128&e.h[t])){e.g=t+1,z(e);break e}t++}e.j=!0,T()}break;case 1:(e=e.g).g+=8,z(e);break;case 2:2!=e.h?ae(e):(t=q(e.g),(e=e.g).g+=t,z(e));break;case 5:(e=e.g).g+=4,z(e);break;case 3:for(t=e.i;;){if(!oe(e)){e.j=!0,F(Error("Unmatched start-group tag: stream EOF"));break}if(4==e.h){e.i!=t&&(e.j=!0,F(Error("Unmatched end-group tag")));break}ae(e)}break;default:e.j=!0,B(e.h,e.l)}}function se(e,t,n){var i=e.g.i,r=q(e.g),o=e.g.g+r;if(e.g.i=o,n(t,e),0!==(n=o-e.g.g))throw Error("Message parsing ended unexpectedly. Expected to read "+r+" bytes, instead read "+(r-n)+" bytes, either the data ended unexpectedly or the message misreported its own length");return e.g.g=o,e.g.i=i,t}te.prototype.length=function(){return this.h},te.prototype.end=function(){var e=this.g,t=this.h;return this.h=0,Y(e,0,t)},re.prototype.reset=function(){this.g.reset(),this.h=this.i=-1};var ce=[];function le(){this.h=[],this.i=0,this.g=new te}function de(e,t){0!==t.length&&(e.h.push(t),e.i+=t.length)}function ue(e,t,n){ie(e.g,8*t+2),ie(e.g,n.length),de(e,e.g.end()),de(e,n)}var he,Ae="function"==typeof Symbol&&"symbol"==typeof Symbol()?Symbol(void 0):void 0;function pe(e){return Object.isFrozen(e)||(Ae?e[Ae]|=1:void 0!==e.g?e.g|=1:Object.defineProperties(e,{g:{value:1,configurable:!0,writable:!0,enumerable:!1}})),e}function ge(e){return null!==e&&"object"==typeof e&&e.constructor===Object}function fe(e,t){if(null!=e)return Array.isArray(e)||ge(e)?me(e,t):t(e)}function me(e,t){if(Array.isArray(e)){for(var n=Array(e.length),i=0;i<e.length;i++)n[i]=fe(e[i],t);var r;return(t=Array.isArray(e))&&(t=1&(null==(r=Ae?e[Ae]:e.g)?0:r)),t&&pe(n),n}for(n in r={},e)r[n]=fe(e[n],t);return r}function Ee(e){return e=function(e){switch(typeof e){case"number":return isFinite(e)?e:String(e);case"object":if(L&&null!=e&&e instanceof Uint8Array)return O(e);if(e instanceof P){if(null==e.g)e="";else{var t=e.g;t=null==t||"string"==typeof t?t:L&&t instanceof Uint8Array?O(t):null,e=e.g=t}return e}}return e}(e),Array.isArray(e)?me(e,Ee):e}function Ce(e,t,n){var i=he;if(he=null,e||(e=i),i=this.constructor.ha,e||(e=i?[i]:[]),this.i=(i?0:-1)-(this.constructor.fa||0),this.l=this.g=null,this.u=e,e=(i=this.u.length)-1,i&&ge(i=this.u[e])?(this.j=e-this.i,this.h=i):void 0!==t&&-1<t?(this.j=Math.max(t,e+1-this.i),this.h=null):this.j=Number.MAX_VALUE,n)for(t=0;t<n.length;t++)(e=n[t])<this.j?(e+=this.i,(i=this.u[e])?Array.isArray(i)&&pe(i):this.u[e]=Ie):(Qe(this),(i=this.h[e])?Array.isArray(i)&&pe(i):this.h[e]=Ie)}var Ie=Object.freeze(pe([]));function Qe(e){var t=e.j+e.i;e.u[t]||(e.h=e.u[t]={})}function Ue(e,t,n){return-1===t?null:void 0!==n&&n||t>=e.j?e.h?e.h[t]:void 0:e.u[t+e.i]}function ye(e,t,n){var i=Ue(e,t,n=void 0!==n&&n);return null==i&&(i=Ie),i===Ie&&Re(e,t,i=pe(i.slice()),n),i}function be(e,t){var n=ye(e,t);if(e.l||(e.l={}),!e.l[t]){for(var i=0;i<n.length;i++)n[i]=+n[i];e.l[t]=!0}return n}function ve(e,t,n){return null==(e=null==(e=Ue(e,t))?e:+e)?void 0===n?0:n:e}function Re(e,t,n,i){void 0!==i&&i||t>=e.j?(Qe(e),e.h[t]=n):e.u[t+e.i]=n}function Se(e,t,n,i){n!==i?Re(e,t,n):Re(e,t,void 0,!1)}function Fe(e,t,n){if(-1===n)return null;e.g||(e.g={});var i=e.g[n];if(i)return i;var r=Ue(e,n,!1);return null==r?i:(t=new t(r),e.g[n]=t)}function Be(e,t,n){e.g||(e.g={});var i=e.g[n];if(!i){var r=ye(e,n,!1);i=[];for(var o=0;o<r.length;o++)i[o]=new t(r[o]);e.g[n]=i}return i}function Te(e,t,n,i,r){var o=Be(e,i,t);n=n||new i,e=ye(e,t),null!=r?(o.splice(r,0,n),e.splice(r,0,n.u)):(o.push(n),e.push(n.u))}function Ne(e,t){return null==(e=Ue(e,t))?0:e}function _e(e,t){return null==(e=Ue(e,t))?"":e}function we(e,t){if(e=e.m){de(t,t.g.end());for(var n=0;n<e.length;n++)de(t,e[n])}}Ce.prototype.toJSON=function(){return me(this.u,Ee)},Ce.prototype.toString=function(){return this.u.toString()};var ke=Symbol();function De(e,t,n){return e[ke]||(e[ke]=function(e,i){return t(e,i,n)})}function Ve(e){var t=e[ke];if(!t){var n=e[Oe]||(e[Oe]=e());t=function(e,t){return Je(e,t,n)},e[ke]=t}return t}function Ze(e){var t=function(e){var t=e.da;if(t)return Ve(t);if(t=e.ia){var n=e.Y;return delete e.Y,De(e.W.g,t,n)}}(e),n=e.W,i=e.ea;return t?function(e,r){return i(e,r,n,t)}:function(e,t){return i(e,t,n)}}function We(e){var t=e[0];switch(e.length){case 2:var n=e[1];return function(e,i,r){return t(e,i,r,n)};case 3:var i=e[1],r=Ve(e[2]);return function(e,n,o){return t(e,n,o,i,r)};case 4:var o=e[1],a=e[3],s=Ve(e[2]);return function(e,n,i){return t(e,n,i,o,s,a)};case 5:var c=e[1],l=De(c,e[3],e[4]);return function(e,n,i){return t(e,n,i,c,l)};case 6:var d=e[1],u=e[5],h=De(d,e[3],e[4]);return function(e,n,i){return t(e,n,i,d,h,u)};default:throw Error("Unsupported number of parameters, expected [2-6], got "+e.length)}}var Oe=Symbol();function Je(e,t,n){for(;oe(t)&&4!=t.h;){var i=t.i,r=n[i];if(r)Array.isArray(r)&&(r=n[i]=We(r));else{var o=n[0];o&&(o=o[i])&&(r=n[i]=Ze(o))}r&&r(t,e,i)||(i=e,o=(r=t).l,ae(r),r.O||(r=Y(r.g.h,o,r.g.g),(o=i.m)?o.push(r):i.m=[r]))}return e}function xe(e,t){var n=new le;if(t(e,n),0===(e=n.i+n.g.length()))n=new Uint8Array(0);else{e=new Uint8Array(e);for(var i=n.h,r=i.length,o=t=0;o<r;o++){var a=i[o];0!==a.length&&(e.set(a,t),t+=a.length)}0!==(r=(i=n.g).h)&&(e.set(i.g.subarray(0,r),t),i.h=0),n.h=[e],n=e}return n}function Me(e,t,n){if(ce.length){var i=ce.pop();e&&(K(i.g,e),i.i=-1,i.h=-1),e=i}else e=new re(e);try{return Je(new t,e,n[Oe]||(n[Oe]=n()))}finally{(t=e.g).h=null,t.l=0,t.i=0,t.g=0,t.j=!1,t.v=!1,e.i=-1,e.h=-1,e.j=!1,100>ce.length&&ce.push(e)}}function Le(e,t,n){if(null!=(t=Ue(t,n))){ie(e.g,8*n+5),e=e.g;var i=t;0===(i=(n=0>i?1:0)?-i:i)?j=0<1/i?0:2147483648:isNaN(i)?j=2147483647:34028234663852886e22<i?j=(n<<31|2139095040)>>>0:11754943508222875e-54>i?(i=Math.round(i/Math.pow(2,-149)),j=(n<<31|i)>>>0):(t=Math.floor(Math.log(i)/Math.LN2),i*=Math.pow(2,-t),16777216<=(i=Math.round(8388608*i))&&++t,j=(n<<31|t+127<<23|8388607&i)>>>0),ne(e,(n=j)>>>0&255),ne(e,n>>>8&255),ne(e,n>>>16&255),ne(e,n>>>24&255)}}function Pe(e,t,n){if(1!==e.h)return!1;var i=e.g;e=$(i);var r=$(i);i=2*(r>>31)+1;var o=r>>>20&2047;return e=4294967296*(1048575&r)+e,Se(t,n,2047==o?e?NaN:1/0*i:0==o?i*Math.pow(2,-1074)*e:i*Math.pow(2,o-1075)*(e+4503599627370496),0),!0}function Ge(e,t,n){return 5===e.h&&(Re(t,n,e.g.m()),!0)}function Ye(e,t,n){if(5!==e.h&&2!==e.h)return!1;if(t=ye(t,n),2==e.h){n=X.prototype.m;var i=q(e.g);for(i=e.g.g+i;e.g.g<i;)t.push(n.call(e.g))}else t.push(e.g.m());return!0}function je(e,t,n){return 5===e.h&&(Se(t,n,e=e.g.m(),0),!0)}function Xe(e,t,n){return 0===e.h&&(Re(t,n,H(e.g)),!0)}function Ke(e,t,n){return 0===e.h&&(Re(t,n,q(e.g)),!0)}function He(e,t,n){return 0===e.h&&(Se(t,n,e=q(e.g),0),!0)}function ze(e,t,n){return 0===e.h&&(Se(t,n,e=!!q(e.g),!1),!0)}function qe(e,t,n){if(2!==e.h)return!1;var i,r=q(e.g),o=(e=e.g).g;if(e.g+=r,z(e),e=e.h,k)(i=_)||(i=_=new TextDecoder("utf-8",{fatal:!1})),i=i.decode(e.subarray(o,o+r));else{r=o+r;for(var a,s,c,l=[],d=null;o<r;)128>(a=e[o++])?l.push(a):224>a?o>=r?l.push(65533):(s=e[o++],194>a||128!==(192&s)?(o--,l.push(65533)):l.push((31&a)<<6|63&s)):240>a?o>=r-1?l.push(65533):128!==(192&(s=e[o++]))||224===a&&160>s||237===a&&160<=s||128!==(192&(i=e[o++]))?(o--,l.push(65533)):l.push((15&a)<<12|(63&s)<<6|63&i):244>=a?o>=r-2?l.push(65533):128!==(192&(s=e[o++]))||s-144+(a<<28)>>30!==0||128!==(192&(i=e[o++]))||128!==(192&(c=e[o++]))?(o--,l.push(65533)):(a=(7&a)<<18|(63&s)<<12|(63&i)<<6|63&c,a-=65536,l.push(55296+(a>>10&1023),56320+(1023&a))):l.push(65533),8192<=l.length&&(d=N(d,l),l.length=0);i=N(d,l)}return Re(t,n,i),!0}function $e(e,t,n,i,r){return 2===e.h&&(e=se(e,new i,r),t.g||(t.g={}),i=e&&e.u,t.g[n]=e,Re(t,n,i,!1),!0)}function et(e,t,n,i,r){return 2===e.h&&(Te(t,n,e=se(e,new i,r),i,void 0),!0)}function tt(e,t,n){return 0===e.h&&(Re(t,n,H(e.g)),!0)}function nt(e){Ce.call(this,e)}function it(){return{1:Ke,2:Ge,3:qe,4:qe}}function rt(e,t){var n=Ue(e,1);if(null!=n&&null!=n){ie(t.g,8);var i=t.g;if(0<=n)ie(i,n);else{for(var r=0;9>r;r++)ne(i,127&n|128),n>>=7;ne(i,1)}}Le(t,e,2),null!=(i=Ue(e,3))&&ue(t,3,V(i)),null!=(i=Ue(e,4))&&ue(t,4,V(i)),we(e,t)}function ot(e){Ce.call(this,e,-1,st)}function at(){return{1:[et,nt,it]}}g(nt,Ce),g(ot,Ce),ot.prototype.addClassification=function(e,t){return Te(this,1,e,nt,t),this};var st=[1];function ct(e){Ce.call(this,e)}function lt(){return{1:Ge,2:Ge,3:Ge,4:Ge,5:Ge}}function dt(e,t){Le(t,e,1),Le(t,e,2),Le(t,e,3),Le(t,e,4),Le(t,e,5),we(e,t)}function ut(e){Ce.call(this,e,-1,At)}function ht(){return{1:[et,ct,lt]}}g(ct,Ce),g(ut,Ce);var At=[1];function pt(e){Ce.call(this,e)}function gt(){return{1:Ge,2:Ge,3:Ge,4:Ge,5:Ge,6:Xe}}function ft(e,t){Le(t,e,1),Le(t,e,2),Le(t,e,3),Le(t,e,4),Le(t,e,5);var n=Ue(e,6);if(null!=n&&null!=n){ie(t.g,48);var i=t.g,r=n;n=0>r;var o=(r=Math.abs(r))>>>0;for(r=Math.floor((r-o)/4294967296),r>>>=0,n&&(r=~r>>>0,4294967295<(o=1+(~o>>>0))&&(o=0,4294967295<++r&&(r=0))),n=j=o,o=r;0<o||127<n;)ne(i,127&n|128),n=(n>>>7|o<<25)>>>0,o>>>=7;ne(i,n)}we(e,t)}function mt(e){Ce.call(this,e,-1,Qt)}function Et(){return{1:tt,2:tt,3:Ye,4:[$e,Ct,It],5:Ke,6:Ke,7:Ye,8:Ye,9:Ye}}function Ct(e){Ce.call(this,e)}function It(){return{1:Ge,2:Ge,3:Ge}}g(pt,Ce),g(mt,Ce),g(Ct,Ce);var Qt=[3,7,8,9];function Ut(e){Ce.call(this,e)}function yt(){return{1:je,2:je,3:je}}function bt(e){Ce.call(this,e)}function vt(){return{1:je,2:je,3:je}}function Rt(e){Ce.call(this,e)}function St(){return{1:He,2:[$e,bt,vt],3:[$e,Ut,yt],4:ze}}function Ft(e){Ce.call(this,e,-1,Tt)}function Bt(){return{1:He,2:[et,Rt,St],3:je,4:Ye,5:Ye,6:Ye}}g(Ut,Ce),g(bt,Ce),g(Rt,Ce),g(Ft,Ce);var Tt=[2,4,5,6];function Nt(e){Ce.call(this,e,-1,wt)}function _t(){return{1:He,2:[et,Ft,Bt],3:[$e,mt,Et],4:Pe,5:Ye,6:Ye}}g(Nt,Ce);var wt=[2,5,6];function kt(e,t,n){if(n=e.createShader(0===n?e.VERTEX_SHADER:e.FRAGMENT_SHADER),e.shaderSource(n,t),e.compileShader(n),!e.getShaderParameter(n,e.COMPILE_STATUS))throw Error("Could not compile WebGL shader.\n\n"+e.getShaderInfoLog(n));return n}function Dt(e){return Be(e,nt,1).map((function(e){return{index:Ne(e,1),$:ve(e,2),label:null!=Ue(e,3)?_e(e,3):void 0,displayName:null!=Ue(e,4)?_e(e,4):void 0}}))}function Vt(e){return{x:ve(e,1),y:ve(e,2),z:ve(e,3),visibility:null!=Ue(e,4)?ve(e,4):void 0}}function Zt(e,t){this.h=e,this.g=t,this.l=0}function Wt(t,n,i){return function(e,t){var n=e.g;if(void 0===e.m){var i=kt(n,"\n  attribute vec2 aVertex;\n  attribute vec2 aTex;\n  varying vec2 vTex;\n  void main(void) {\n    gl_Position = vec4(aVertex, 0.0, 1.0);\n    vTex = aTex;\n  }",0),r=kt(n,"\n  precision mediump float;\n  varying vec2 vTex;\n  uniform sampler2D sampler0;\n  void main(){\n    gl_FragColor = texture2D(sampler0, vTex);\n  }",1),o=n.createProgram();if(n.attachShader(o,i),n.attachShader(o,r),n.linkProgram(o),!n.getProgramParameter(o,n.LINK_STATUS))throw Error("Could not compile WebGL program.\n\n"+n.getProgramInfoLog(o));i=e.m=o,n.useProgram(i),r=n.getUniformLocation(i,"sampler0"),e.j={J:n.getAttribLocation(i,"aVertex"),I:n.getAttribLocation(i,"aTex"),ja:r},e.s=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,e.s),n.enableVertexAttribArray(e.j.J),n.vertexAttribPointer(e.j.J,2,n.FLOAT,!1,0,0),n.bufferData(n.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),n.STATIC_DRAW),n.bindBuffer(n.ARRAY_BUFFER,null),e.o=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,e.o),n.enableVertexAttribArray(e.j.I),n.vertexAttribPointer(e.j.I,2,n.FLOAT,!1,0,0),n.bufferData(n.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,0,1,1]),n.STATIC_DRAW),n.bindBuffer(n.ARRAY_BUFFER,null),n.uniform1i(r,0)}i=e.j,n.useProgram(e.m),n.canvas.width=t.width,n.canvas.height=t.height,n.viewport(0,0,t.width,t.height),n.activeTexture(n.TEXTURE0),e.h.bindTexture2d(t.glName),n.enableVertexAttribArray(i.J),n.bindBuffer(n.ARRAY_BUFFER,e.s),n.vertexAttribPointer(i.J,2,n.FLOAT,!1,0,0),n.enableVertexAttribArray(i.I),n.bindBuffer(n.ARRAY_BUFFER,e.o),n.vertexAttribPointer(i.I,2,n.FLOAT,!1,0,0),n.bindFramebuffer(n.DRAW_FRAMEBUFFER?n.DRAW_FRAMEBUFFER:n.FRAMEBUFFER,null),n.clearColor(0,0,0,0),n.clear(n.COLOR_BUFFER_BIT),n.colorMask(!0,!0,!0,!0),n.drawArrays(n.TRIANGLE_FAN,0,4),n.disableVertexAttribArray(i.J),n.disableVertexAttribArray(i.I),n.bindBuffer(n.ARRAY_BUFFER,null),e.h.bindTexture2d(0)}(t,n),"function"==typeof t.g.canvas.transferToImageBitmap?e.resolve(t.g.canvas.transferToImageBitmap()):i?e.resolve(t.g.canvas):"function"==typeof createImageBitmap?createImageBitmap(t.g.canvas):(void 0===t.i&&(t.i=document.createElement("canvas")),new e((function(e){t.i.height=t.g.canvas.height,t.i.width=t.g.canvas.width,t.i.getContext("2d",{}).drawImage(t.g.canvas,0,0,t.g.canvas.width,t.g.canvas.height),e(t.i)})))}function Ot(e){this.g=e}var Jt=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]);function xt(e,t){return t+e}function Mt(e,t){window[e]=t}function Lt(t){if(this.g=t,this.listeners={},this.j={},this.G={},this.m={},this.s={},this.H=this.o=this.S=!0,this.D=e.resolve(),this.R="",this.C={},this.locateFile=t&&t.locateFile||xt,"object"==typeof window)var n=window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/";else{if(!(typeof location<"u"))throw Error("solutions can only be loaded on a web page or in a web worker");n=location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/"}if(this.T=n,t.options)for(var i=(n=c(Object.keys(t.options))).next();!i.done;i=n.next()){i=i.value;var r=t.options[i].default;void 0!==r&&(this.j[i]="function"==typeof r?r():r)}}function Pt(t){var n,i,r,o,a,s,c,d,u,h,A;return b((function(p){switch(p.g){case 1:return t.S?(n=void 0===t.g.files?[]:"function"==typeof t.g.files?t.g.files(t.j):t.g.files,C(p,b((function(e){switch(e.g){case 1:return e.m=2,C(e,WebAssembly.instantiate(Jt),4);case 4:e.g=3,e.m=0;break;case 2:return e.m=0,e.j=null,e.return(!1);case 3:return e.return(!0)}})),2)):p.return();case 2:if(i=p.h,"object"==typeof window)return Mt("createMediapipeSolutionsWasm",{locateFile:t.locateFile}),Mt("createMediapipeSolutionsPackedAssets",{locateFile:t.locateFile}),s=n.filter((function(e){return void 0!==e.data})),c=n.filter((function(e){return void 0===e.data})),d=e.all(s.map((function(n){var i=Gt(t,n.url);if(void 0!==n.path){var r=n.path;i=i.then((function(n){return t.overrideFile(r,n),e.resolve(n)}))}return i}))),u=e.all(c.map((function(n){return void 0===n.simd||n.simd&&i||!n.simd&&!i?function(t){var n=document.createElement("script");return n.setAttribute("src",t),n.setAttribute("crossorigin","anonymous"),new e((function(e){n.addEventListener("load",(function(){e()}),!1),n.addEventListener("error",(function(){e()}),!1),document.body.appendChild(n)}))}(t.locateFile(n.url,t.T)):e.resolve()}))).then((function(){var e,n,i;return b((function(r){if(1==r.g)return e=window.createMediapipeSolutionsWasm,n=window.createMediapipeSolutionsPackedAssets,i=t,C(r,e(n),2);i.h=r.h,r.g=0}))})),h=b((function(e){return t.g.graph&&t.g.graph.url?e=C(e,Gt(t,t.g.graph.url),0):(e.g=0,e=void 0),e})),C(p,e.all([u,d,h]),7);if("function"!=typeof importScripts)throw Error("solutions can only be loaded on a web page or in a web worker");return r=n.filter((function(e){return void 0===e.simd||e.simd&&i||!e.simd&&!i})).map((function(e){return t.locateFile(e.url,t.T)})),importScripts.apply(null,l(r)),o=t,C(p,createMediapipeSolutionsWasm(Module),6);case 6:o.h=p.h,t.l=new OffscreenCanvas(1,1),t.h.canvas=t.l,a=t.h.GL.createContext(t.l,{antialias:!1,alpha:!1,ga:typeof WebGL2RenderingContext<"u"?2:1}),t.h.GL.makeContextCurrent(a),p.g=4;break;case 7:if(t.l=document.createElement("canvas"),!(A=t.l.getContext("webgl2",{}))&&!(A=t.l.getContext("webgl",{})))return alert("Failed to create WebGL canvas context when passing video frame."),p.return();t.F=A,t.h.canvas=t.l,t.h.createContext(t.l,!0,!0,{});case 4:t.i=new t.h.SolutionWasm,t.S=!1,p.g=0}}))}function Gt(e,t){var n,i;return b((function(r){return t in e.G?r.return(e.G[t]):(n=e.locateFile(t,""),i=fetch(n).then((function(e){return e.arrayBuffer()})),e.G[t]=i,r.return(i))}))}function Yt(e,t,n){var i,r,o,a,s,l,d,u,h,A,p,g,f,m;return b((function(E){switch(E.g){case 1:if(!n)return E.return(t);for(i={},r=0,o=c(Object.keys(n)),a=o.next();!a.done;a=o.next())s=a.value,"string"!=typeof(l=n[s])&&"texture"===l.type&&void 0!==t[l.stream]&&++r;1<r&&(e.H=!1),d=c(Object.keys(n)),a=d.next();case 2:if(a.done){E.g=4;break}if(u=a.value,"string"==typeof(h=n[u]))return f=i,m=u,C(E,function(e,t,n){var i;return b((function(r){return"number"==typeof n||n instanceof Uint8Array||n instanceof e.h.Uint8BlobList?r.return(n):n instanceof e.h.Texture2dDataOut?((i=e.s[t])||(i=new Zt(e.h,e.F),e.s[t]=i),r.return(Wt(i,n,e.H))):r.return(void 0)}))}(e,u,t[h]),14);if(A=t[h.stream],"detection_list"===h.type){if(A){for(var I=A.getRectList(),Q=A.getLandmarksList(),U=A.getClassificationsList(),y=[],v=0;v<I.size();++v){var R=Me(I.get(v),pt,gt);R={U:{aa:ve(R,1),ba:ve(R,2),height:ve(R,3),width:ve(R,4),rotation:ve(R,5,0),Z:Ne(R,6)},P:Be(Me(Q.get(v),ut,ht),ct,1).map(Vt),N:Dt(Me(U.get(v),ot,at))},y.push(R)}I=y}else I=[];i[u]=I,E.g=7;break}if("proto_list"===h.type){if(A){for(I=Array(A.size()),Q=0;Q<A.size();Q++)I[Q]=A.get(Q);A.delete()}else I=[];i[u]=I,E.g=7;break}if(void 0===A){E.g=3;break}if("float_list"===h.type){i[u]=A,E.g=7;break}if("proto"===h.type){i[u]=A,E.g=7;break}if("texture"!==h.type)throw Error("Unknown output config type: '"+h.type+"'");return(p=e.s[u])||(p=new Zt(e.h,e.F),e.s[u]=p),C(E,Wt(p,A,e.H),13);case 13:g=E.h,i[u]=g;case 7:h.transform&&i[u]&&(i[u]=h.transform(i[u])),E.g=3;break;case 14:f[m]=E.h;case 3:a=d.next(),E.g=2;break;case 4:return E.return(i)}}))}function jt(e,t){for(var n=t.name||"$",i=[].concat(l(t.wants)),r=new e.h.StringList,o=c(t.wants),a=o.next();!a.done;a=o.next())r.push_back(a.value);o=e.h.PacketListener.implement({onResults:function(r){for(var o={},a=0;a<t.wants.length;++a)o[i[a]]=r.get(a);var s=e.listeners[n];s&&(e.D=Yt(e,o,t.outs).then((function(n){n=s(n);for(var r=0;r<t.wants.length;++r){var a=o[i[r]];"object"==typeof a&&a.hasOwnProperty&&a.hasOwnProperty("delete")&&a.delete()}n&&(e.D=n)})))}}),e.i.attachMultiListener(r,o),r.delete()}function Xt(e){var t=Ne(e,1),n=Fe(e,Ut,3);return{id:t,point2d:n={x:ve(n,1),y:ve(n,2),depth:ve(n,3)},point3d:{x:ve(e=Fe(e,bt,2),1),y:ve(e,2),z:ve(e,3)}}}function Kt(e){var t=Me(e,Nt,_t);e=[],t=Be(t,Ft,2);for(var n=0;n<t.length;n++)e.push({id:Ne(t[n],1),keypoints:Be(t[n],Rt,2).map(Xt),visibility:ve(t[n],3),scale:be(t[n],6),translation:be(t[n],5),rotation:be(t[n],4)});return e}function Ht(e){switch(e){case"Camera":return"Camera";case"Chair":return"Chair";case"Cup":return"Coffee cup, Mug";default:return"Footwear"}}(t=Lt.prototype).close=function(){return this.i&&this.i.delete(),e.resolve()},t.reset=function(){var e=this;return b((function(t){e.i&&(e.i.reset(),e.m={},e.s={}),t.g=0}))},t.setOptions=function(e,t){var n=this;if(t=t||this.g.options){for(var i=[],r=[],o={},a=c(Object.keys(e)),s=a.next();!s.done;o={L:o.L,M:o.M},s=a.next()){var l=s.value;l in this.j&&this.j[l]===e[l]||(this.j[l]=e[l],void 0!==(s=t[l])&&(s.onChange&&(o.L=s.onChange,o.M=e[l],i.push(function(e){return function(){return b((function(t){if(1==t.g)return C(t,e.L(e.M),2);!0===t.h&&(n.o=!0),t.g=0}))}}(o))),s.graphOptionXref&&(l={valueNumber:1===s.type?e[l]:0,valueBoolean:0===s.type&&e[l],valueString:2===s.type?e[l]:""},s=Object.assign(Object.assign(Object.assign({},{calculatorName:"",calculatorIndex:0}),s.graphOptionXref),l),r.push(s))))}(0!==i.length||0!==r.length)&&(this.o=!0,this.B=(void 0===this.B?[]:this.B).concat(r),this.A=(void 0===this.A?[]:this.A).concat(i))}},t.initialize=function(){var e=this;return b((function(t){return 1==t.g?C(t,Pt(e),2):3!=t.g?C(t,function(e){var t,n,i,r,o,a,s,l;return b((function(d){if(1==d.g)return e.g.graph&&e.g.graph.url&&e.R===e.g.graph.url?d.return():(e.o=!0,e.g.graph&&e.g.graph.url?(e.R=e.g.graph.url,C(d,Gt(e,e.g.graph.url),3)):void(d.g=2));for(2!=d.g&&(t=d.h,e.i.loadGraph(t)),n=c(Object.keys(e.C)),i=n.next();!i.done;i=n.next())r=i.value,e.i.overrideFile(r,e.C[r]);if(e.C={},e.g.listeners)for(o=c(e.g.listeners),a=o.next();!a.done;a=o.next())s=a.value,jt(e,s);l=e.j,e.j={},e.setOptions(l),d.g=0}))}(e),3):C(t,function(e){var t,n,i,r,o,a;return b((function(s){switch(s.g){case 1:if(!e.o)return s.return();if(!e.A){s.g=2;break}t=c(e.A),n=t.next();case 3:if(n.done){s.g=5;break}return C(s,(0,n.value)(),4);case 4:n=t.next(),s.g=3;break;case 5:e.A=void 0;case 2:if(e.B){for(i=new e.h.GraphOptionChangeRequestList,r=c(e.B),o=r.next();!o.done;o=r.next())a=o.value,i.push_back(a);e.i.changeOptions(i),i.delete(),e.B=void 0}e.o=!1,s.g=0}}))}(e),0)}))},t.overrideFile=function(e,t){this.i?this.i.overrideFile(e,t):this.C[e]=t},t.clearOverriddenFiles=function(){this.C={},this.i&&this.i.clearOverriddenFiles()},t.send=function(e,t){var n,i,r,o,a,s,l,d,u,h=this;return b((function(A){switch(A.g){case 1:return h.g.inputs?(n=1e3*(null==t?performance.now():t),C(A,h.D,2)):A.return();case 2:return C(A,h.initialize(),3);case 3:for(i=new h.h.PacketDataList,r=c(Object.keys(e)),o=r.next();!o.done;o=r.next())if(a=o.value,s=h.g.inputs[a]){e:{var p=e[a];switch(s.type){case"video":var g=h.m[s.stream];if(g||(g=new Zt(h.h,h.F),h.m[s.stream]=g),0===g.l&&(g.l=g.h.createTexture()),typeof HTMLVideoElement<"u"&&p instanceof HTMLVideoElement)var f=p.videoWidth,m=p.videoHeight;else typeof HTMLImageElement<"u"&&p instanceof HTMLImageElement?(f=p.naturalWidth,m=p.naturalHeight):(f=p.width,m=p.height);m={glName:g.l,width:f,height:m},(f=g.g).canvas.width=m.width,f.canvas.height=m.height,f.activeTexture(f.TEXTURE0),g.h.bindTexture2d(g.l),f.texImage2D(f.TEXTURE_2D,0,f.RGBA,f.RGBA,f.UNSIGNED_BYTE,p),g.h.bindTexture2d(0),g=m;break e;case"detections":for((g=h.m[s.stream])||(g=new Ot(h.h),h.m[s.stream]=g),g.data||(g.data=new g.g.DetectionListData),g.data.reset(p.length),m=0;m<p.length;++m){f=p[m];var E=g.data,I=E.setBoundingBox,Q=m,U=f.U,y=new pt;if(Re(y,1,U.aa),Re(y,2,U.ba),Re(y,3,U.height),Re(y,4,U.width),Re(y,5,U.rotation),Re(y,6,U.Z),U=xe(y,ft),I.call(E,Q,U),f.P)for(E=0;E<f.P.length;++E){var b=!!(y=f.P[E]).visibility;Q=(I=g.data).addNormalizedLandmark,U=m,y=Object.assign(Object.assign({},y),{visibility:b?y.visibility:0}),Re(b=new ct,1,y.x),Re(b,2,y.y),Re(b,3,y.z),y.visibility&&Re(b,4,y.visibility),y=xe(b,dt),Q.call(I,U,y)}if(f.N)for(E=0;E<f.N.length;++E)Q=(I=g.data).addClassification,U=m,y=f.N[E],Re(b=new nt,2,y.$),y.index&&Re(b,1,y.index),y.label&&Re(b,3,y.label),y.displayName&&Re(b,4,y.displayName),y=xe(b,rt),Q.call(I,U,y)}g=g.data;break e;default:g={}}}switch(l=g,d=s.stream,s.type){case"video":i.pushTexture2d(Object.assign(Object.assign({},l),{stream:d,timestamp:n}));break;case"detections":(u=l).stream=d,u.timestamp=n,i.pushDetectionList(u);break;default:throw Error("Unknown input config type: '"+s.type+"'")}}return h.i.send(i),C(A,h.D,4);case 4:i.delete(),A.g=0}}))},t.onResults=function(e,t){this.listeners[t||"$"]=e},S("Solution",Lt),S("OptionType",{BOOL:0,NUMBER:1,ca:2,0:"BOOL",1:"NUMBER",2:"STRING"});var zt={focalX:{type:1,graphOptionXref:{calculatorType:"Lift2DFrameAnnotationTo3DCalculator",fieldName:"normalized_focal_x"}},focalY:{type:1,graphOptionXref:{calculatorType:"Lift2DFrameAnnotationTo3DCalculator",fieldName:"normalized_focal_y"}},principalX:{type:1,graphOptionXref:{calculatorType:"Lift2DFrameAnnotationTo3DCalculator",fieldName:"normalized_principal_point_x"}},principalY:{type:1,graphOptionXref:{calculatorType:"Lift2DFrameAnnotationTo3DCalculator",fieldName:"normalized_principal_point_y"}},allowedLabels:{type:2,graphOptionXref:{calculatorName:"ConstantSidePacketCalculatorAllowedLabels",calculatorType:"ConstantSidePacketCalculator",fieldName:"string_value"}}};function qt(e){var t=this;e=e||{},this.g=new Lt({locateFile:e.locateFile,files:[{url:"objectron_solution_packed_assets_loader.js"},{simd:!1,url:"objectron_solution_wasm_bin.js"},{simd:!0,url:"objectron_solution_simd_wasm_bin.js"}],graph:{url:"objectron.binarypb"},inputs:{image:{type:"video",stream:"input_frames_gpu"}},listeners:[{wants:["lifted_objects","image_transformed"],outs:{image:"image_transformed",objectDetections:{type:"proto",stream:"lifted_objects",transform:Kt}}}],options:{useCpuInference:{type:0,graphOptionXref:{calculatorType:"InferenceCalculator",fieldName:"use_cpu_inference"},default:"object"==typeof window&&void 0!==window.navigator&&("iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";").includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document)},selfieMode:{type:0,default:!1,graphOptionXref:{calculatorType:"GlScalerCalculator",calculatorIndex:1,fieldName:"flip_horizontal"}},maxNumObjects:{type:1,default:5,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorMaxNumObjects",fieldName:"int_value"}},staticImageMode:{type:0,default:!0,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"objectrongpusubgraph__ConstantSidePacketCalculator",fieldName:"bool_value"}},minDetectionConfidence:{type:1,default:.5,graphOptionXref:{calculatorType:"TensorsToDetectionsCalculator",calculatorName:"objectrongpusubgraph__objectdetectionoidv4subgraph__TensorsToDetectionsCalculator",fieldName:"min_score_thresh"}},minTrackingConfidence:{type:1,default:.99,graphOptionXref:{calculatorType:"ThresholdingCalculator",calculatorName:"objectrongpusubgraph__boxlandmarksubgraph__ThresholdingCalculator",fieldName:"threshold"}},modelName:{default:"Shoe",onChange:function(e){var n,i,r,o;return b((function(a){return 1==a.g?(n=e,t.g.setOptions({allowedLabels:Ht(n)},zt),i=function(e){switch(e){case"Camera":return"object_detection_3d_camera.tflite";case"Chair":return"object_detection_3d_chair.tflite";case"Cup":return"object_detection_3d_cup.tflite";default:return"object_detection_3d_sneakers.tflite"}}(n),r="object_detection_3d.tflite",C(a,Gt(t.g,i),2)):(o=a.h,t.g.overrideFile(r,o),a.return(!0))}))}},focalLength:{default:[1,1],onChange:function(e){var n;return b((function(i){return n=e,t.h=n,t.g.setOptions({focalX:n[0],focalY:n[1]},zt),i.return(!0)}))}},principalPoint:{default:[0,0],onChange:function(e){var n;return b((function(i){return n=e,t.i=n,t.g.setOptions({principalX:n[0],principalY:n[1]},zt),i.return(!0)}))}},imageSize:{onChange:function(e){var n,i,r,o;return b((function(a){if(void 0===t.h||void 0===t.i)return console.error('"focalLength" and "principalPoint" must be set if setting image size'),a.return();i=[(n=e)[0]/2,n[1]/2],r=[t.h[0]/i[0],t.h[1]/i[1]],o=[t.i[0]/i[0],t.i[1]/i[1]],t.setOptions({focalLength:r,principalPoint:o}),a.g=0}))}}}})}(t=qt.prototype).close=function(){return this.g.close(),e.resolve()},t.onResults=function(e){this.g.onResults(e)},t.initialize=function(){var e=this;return b((function(t){return C(t,e.g.initialize(),0)}))},t.reset=function(){this.g.reset()},t.send=function(e){var t=this;return b((function(n){return C(n,t.g.send(e),0)}))},t.setOptions=function(e){this.g.setOptions(e)},S("Objectron",qt),S("BOX_CONNECTIONS",[[1,2],[2,4],[4,3],[3,1],[5,6],[6,8],[8,7],[7,5],[1,5],[2,6],[3,7],[4,8]]),S("BOX_KEYPOINTS",{CENTER:0,BACK_BOTTOM_LEFT:1,FRONT_BOTTOM_LEFT:2,BACK_TOP_LEFT:3,FRONT_TOP_LEFT:4,BACK_BOTTOM_RIGHT:5,FRONT_BOTTOM_RIGHT:6,BACK_TOP_RIGHT:7,FRONT_TOP_RIGHT:8}),S("VERSION","0.4.1636596145")}).call(Se);const Fe={};(function(){var t;function i(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}var r="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e},o=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof(void 0!==typeof window?window:n.g)&&(void 0!==typeof window?window:n.g)];for(var t=0;t<e.length;++t){var i=e[t];if(i&&i.Math==Math)return i}throw Error("Cannot find global object")}(this);function a(e,t){if(t)e:{var n=o;e=e.split(".");for(var i=0;i<e.length-1;i++){var a=e[i];if(!(a in n))break e;n=n[a]}(t=t(i=n[e=e[e.length-1]]))!=i&&null!=t&&r(n,e,{configurable:!0,writable:!0,value:t})}}function s(e){return(e={next:e})[Symbol.iterator]=function(){return this},e}function c(e){var t=typeof Symbol<"u"&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:i(e)}}function l(e){if(!(e instanceof Array)){e=c(e);for(var t,n=[];!(t=e.next()).done;)n.push(t.value);e=n}return e}a("Symbol",(function(e){function t(e,t){this.g=e,r(this,"description",{configurable:!0,writable:!0,value:t})}if(e)return e;t.prototype.toString=function(){return this.g};var n="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",i=0;return function e(r){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new t(n+(r||"")+"_"+i++,r)}})),a("Symbol.iterator",(function(e){if(e)return e;e=Symbol("Symbol.iterator");for(var t="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),n=0;n<t.length;n++){var a=o[t[n]];"function"==typeof a&&"function"!=typeof a.prototype[e]&&r(a.prototype,e,{configurable:!0,writable:!0,value:function(){return s(i(this))}})}return e}));var d,u="function"==typeof Object.create?Object.create:function(e){function t(){}return t.prototype=e,new t};if("function"==typeof Object.setPrototypeOf)d=Object.setPrototypeOf;else{var h;e:{var A={};try{A.__proto__={a:!0},h=A.a;break e}catch{}h=!1}d=h?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+" is not extensible");return e}:null}var p=d;function g(e,t){if(e.prototype=u(t.prototype),e.prototype.constructor=e,p)p(e,t);else for(var n in t)if("prototype"!=n)if(Object.defineProperties){var i=Object.getOwnPropertyDescriptor(t,n);i&&Object.defineProperty(e,n,i)}else e[n]=t[n];e.ea=t.prototype}function f(){this.l=!1,this.i=null,this.h=void 0,this.g=1,this.s=this.m=0,this.j=null}function m(e){if(e.l)throw new TypeError("Generator is already running");e.l=!0}function E(e,t){e.j={U:t,V:!0},e.g=e.m||e.s}function C(e,t,n){return e.g=n,{value:t}}function I(e){this.g=new f,this.h=e}function Q(e,t,n,i){try{var r=t.call(e.g.i,n);if(!(r instanceof Object))throw new TypeError("Iterator result "+r+" is not an object");if(!r.done)return e.g.l=!1,r;var o=r.value}catch(a){return e.g.i=null,E(e.g,a),U(e)}return e.g.i=null,i.call(e.g,o),U(e)}function U(e){for(;e.g.g;)try{var t=e.h(e.g);if(t)return e.g.l=!1,{value:t.value,done:!1}}catch(n){e.g.h=void 0,E(e.g,n)}if(e.g.l=!1,e.g.j){if(t=e.g.j,e.g.j=null,t.V)throw t.U;return{value:t.return,done:!0}}return{value:void 0,done:!0}}function y(e){this.next=function(t){return m(e.g),e.g.i?t=Q(e,e.g.i.next,t,e.g.o):(e.g.o(t),t=U(e)),t},this.throw=function(t){return m(e.g),e.g.i?t=Q(e,e.g.i.throw,t,e.g.o):(E(e.g,t),t=U(e)),t},this.return=function(t){return function(e,t){m(e.g);var n=e.g.i;return n?Q(e,"return"in n?n.return:function(e){return{value:e,done:!0}},t,e.g.return):(e.g.return(t),U(e))}(e,t)},this[Symbol.iterator]=function(){return this}}function b(t){return function(t){function n(e){return t.next(e)}function i(e){return t.throw(e)}return new e((function(r,o){!function t(a){a.done?r(a.value):e.resolve(a.value).then(n,i).then(t,o)}(t.next())}))}(new y(new I(t)))}f.prototype.o=function(e){this.h=e},f.prototype.return=function(e){this.j={return:e},this.g=this.s},a("Promise",(function(e){function t(e){this.h=0,this.i=void 0,this.g=[],this.o=!1;var t=this.j();try{e(t.resolve,t.reject)}catch(n){t.reject(n)}}function n(){this.g=null}function i(e){return e instanceof t?e:new t((function(t){t(e)}))}if(e)return e;n.prototype.h=function(e){if(null==this.g){this.g=[];var t=this;this.i((function(){t.l()}))}this.g.push(e)};var r=o.setTimeout;n.prototype.i=function(e){r(e,0)},n.prototype.l=function(){for(;this.g&&this.g.length;){var e=this.g;this.g=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(i){this.j(i)}}}this.g=null},n.prototype.j=function(e){this.i((function(){throw e}))},t.prototype.j=function(){function e(e){return function(i){n||(n=!0,e.call(t,i))}}var t=this,n=!1;return{resolve:e(this.C),reject:e(this.l)}},t.prototype.C=function(e){if(e===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.F(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.v(e):this.m(e)}},t.prototype.v=function(e){var t=void 0;try{t=e.then}catch(n){return void this.l(n)}"function"==typeof t?this.G(t,e):this.m(e)},t.prototype.l=function(e){this.s(2,e)},t.prototype.m=function(e){this.s(1,e)},t.prototype.s=function(e,t){if(0!=this.h)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.h);this.h=e,this.i=t,2===this.h&&this.D(),this.A()},t.prototype.D=function(){var e=this;r((function(){if(e.B()){var t=o.console;typeof t<"u"&&t.error(e.i)}}),1)},t.prototype.B=function(){if(this.o)return!1;var e=o.CustomEvent,t=o.Event,n=o.dispatchEvent;return typeof n>"u"||("function"==typeof e?e=new e("unhandledrejection",{cancelable:!0}):"function"==typeof t?e=new t("unhandledrejection",{cancelable:!0}):(e=o.document.createEvent("CustomEvent")).initCustomEvent("unhandledrejection",!1,!0,e),e.promise=this,e.reason=this.i,n(e))},t.prototype.A=function(){if(null!=this.g){for(var e=0;e<this.g.length;++e)a.h(this.g[e]);this.g=null}};var a=new n;return t.prototype.F=function(e){var t=this.j();e.J(t.resolve,t.reject)},t.prototype.G=function(e,t){var n=this.j();try{e.call(t,n.resolve,n.reject)}catch(i){n.reject(i)}},t.prototype.then=function(e,n){function i(e,t){return"function"==typeof e?function(t){try{r(e(t))}catch(n){o(n)}}:t}var r,o,a=new t((function(e,t){r=e,o=t}));return this.J(i(e,r),i(n,o)),a},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.J=function(e,t){function n(){switch(i.h){case 1:e(i.i);break;case 2:t(i.i);break;default:throw Error("Unexpected state: "+i.h)}}var i=this;null==this.g?a.h(n):this.g.push(n),this.o=!0},t.resolve=i,t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var r=c(e),o=r.next();!o.done;o=r.next())i(o.value).J(t,n)}))},t.all=function(e){var n=c(e),r=n.next();return r.done?i([]):new t((function(e,t){function o(t){return function(n){a[t]=n,0==--s&&e(a)}}var a=[],s=0;do{a.push(void 0),s++,i(r.value).J(o(a.length-1),t),r=n.next()}while(!r.done)}))},t}));var v="function"==typeof Object.assign?Object.assign:function(e,t){for(var n=1;n<arguments.length;n++){var i=arguments[n];if(i)for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e};a("Object.assign",(function(e){return e||v})),a("Object.is",(function(e){return e||function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}})),a("Array.prototype.includes",(function(e){return e||function(e,t){var n=this;n instanceof String&&(n=String(n));var i=n.length;for(0>(t=t||0)&&(t=Math.max(t+i,0));t<i;t++){var r=n[t];if(r===e||Object.is(r,e))return!0}return!1}})),a("String.prototype.includes",(function(e){return e||function(e,t){if(null==this)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(e instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return-1!==this.indexOf(e,t||0)}})),a("Array.prototype.keys",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,i=!1,r={next:function(){if(!i&&n<e.length){var r=n++;return{value:t(r,e[r]),done:!1}}return i=!0,{done:!0,value:void 0}}};return r[Symbol.iterator]=function(){return r},r}(this,(function(e){return e}))}}));var R=this||self;function S(e,t){e=e.split(".");var n,i=R;e[0]in i||typeof i.execScript>"u"||i.execScript("var "+e[0]);for(;e.length&&(n=e.shift());)e.length||void 0===t?i=i[n]&&i[n]!==Object.prototype[n]?i[n]:i[n]={}:i[n]=t}function F(e){!function(e){R.setTimeout((function(){throw e}),0)}(e)}function B(e,t){F(Error("Invalid wire type: "+e+" (at position "+t+")"))}function T(){F(Error("Failed to read varint, encoding is invalid."))}function N(e,t){return t=String.fromCharCode.apply(null,t),null==e?t:e+t}var _,w,k=typeof TextDecoder<"u",D=typeof TextEncoder<"u";function V(e){if(D)e=(w||(w=new TextEncoder)).encode(e);else{var t=void 0;t=void 0!==t&&t;for(var n=0,i=new Uint8Array(3*e.length),r=0;r<e.length;r++){var o=e.charCodeAt(r);if(128>o)i[n++]=o;else{if(2048>o)i[n++]=o>>6|192;else{if(55296<=o&&57343>=o){if(56319>=o&&r<e.length){var a=e.charCodeAt(++r);if(56320<=a&&57343>=a){o=1024*(o-55296)+a-56320+65536,i[n++]=o>>18|240,i[n++]=o>>12&63|128,i[n++]=o>>6&63|128,i[n++]=63&o|128;continue}r--}if(t)throw Error("Found an unpaired surrogate");o=65533}i[n++]=o>>12|224,i[n++]=o>>6&63|128}i[n++]=63&o|128}}e=i.subarray(0,n)}return e}var Z={},W=null;function O(e){var t;void 0===t&&(t=0),x(),t=Z[t];for(var n=Array(Math.floor(e.length/3)),i=t[64]||"",r=0,o=0;r<e.length-2;r+=3){var a=e[r],s=e[r+1],c=e[r+2],l=t[a>>2];a=t[(3&a)<<4|s>>4],s=t[(15&s)<<2|c>>6],c=t[63&c],n[o++]=l+a+s+c}switch(l=0,c=i,e.length-r){case 2:c=t[(15&(l=e[r+1]))<<2]||i;case 1:e=e[r],n[o]=t[e>>2]+t[(3&e)<<4|l>>4]+c+i}return n.join("")}function J(e){var t=e.length,n=3*t/4;n%3?n=Math.floor(n):-1!="=.".indexOf(e[t-1])&&(n=-1!="=.".indexOf(e[t-2])?n-2:n-1);var i=new Uint8Array(n),r=0;return function(e,t){function n(t){for(;i<e.length;){var n=e.charAt(i++),r=W[n];if(null!=r)return r;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return t}x();for(var i=0;;){var r=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===r)break;t(r<<2|o>>4),64!=a&&(t(o<<4&240|a>>2),64!=s&&t(a<<6&192|s))}}(e,(function(e){i[r++]=e})),i.subarray(0,r)}function x(){if(!W){W={};for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),t=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++){var i=e.concat(t[n].split(""));Z[n]=i;for(var r=0;r<i.length;r++){var o=i[r];void 0===W[o]&&(W[o]=r)}}}}var M,L="function"==typeof Uint8Array;function P(e){if(this.g=e,null!==e&&0===e.length)throw Error("ByteString should be constructed with non-empty values")}P.prototype.toJSON=function(){if(null==this.g)var e="";else e=this.g,e=this.g=null==e||"string"==typeof e?e:L&&e instanceof Uint8Array?O(e):null;return e};var G="function"==typeof Uint8Array.prototype.slice;function Y(e,t,n){return t===n?M||(M=new Uint8Array(0)):G?e.slice(t,n):new Uint8Array(e.subarray(t,n))}var j=0;function X(e,t){t=void 0!==(t=void 0===t?{}:t).u&&t.u,this.h=null,this.g=this.i=this.l=0,this.j=!1,this.u=t,e&&K(this,e)}function K(e,t){e.h=function(e){if(e.constructor===Uint8Array)return e;if(e.constructor===ArrayBuffer)return new Uint8Array(e);if(e.constructor===Array)return new Uint8Array(e);if(e.constructor===String)return J(e);if(e.constructor===P){if(null==e.g)var t=M||(M=new Uint8Array(0));else{t=Uint8Array;var n=e.g;n=null==n||L&&null!=n&&n instanceof Uint8Array?n:"string"==typeof n?J(n):null,t=new t(e=e.g=n)}return t}if(e instanceof Uint8Array)return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw Error("Type not convertible to a Uint8Array, expected a Uint8Array, an ArrayBuffer, a base64 encoded string, or Array of numbers")}(t),e.l=0,e.i=e.h.length,e.g=e.l}function H(e){e.g>e.i&&(e.j=!0,F(Error("Tried to read past the end of the data "+e.g+" > "+e.i)))}function z(e){var t=e.h,n=t[e.g],i=127&n;return 128>n?(e.g+=1,H(e),i):(i|=(127&(n=t[e.g+1]))<<7,128>n?(e.g+=2,H(e),i):(i|=(127&(n=t[e.g+2]))<<14,128>n?(e.g+=3,H(e),i):(i|=(127&(n=t[e.g+3]))<<21,128>n?(e.g+=4,H(e),i):(i|=(15&(n=t[e.g+4]))<<28,128>n?(e.g+=5,H(e),i>>>0):(e.g+=5,128<=t[e.g++]&&128<=t[e.g++]&&128<=t[e.g++]&&128<=t[e.g++]&&128<=t[e.g++]?(e.j=!0,T(),i):(H(e),i))))))}X.prototype.reset=function(){this.g=this.l};var q=[];function $(){this.g=new Uint8Array(64),this.h=0}function ee(e,t){if(!(e.h+1<e.g.length)){var n=e.g;e.g=new Uint8Array(Math.ceil(1+2*e.g.length)),e.g.set(n)}e.g[e.h++]=t}function te(e,t){for(;127<t;)ee(e,127&t|128),t>>>=7;ee(e,t)}function ne(e){var t={},n=void 0!==t.N&&t.N;this.m={u:void 0!==t.u&&t.u},this.N=n,t=this.m,q.length?(n=q.pop(),t&&(n.u=t.u),e&&K(n,e),e=n):e=new X(e,t),this.g=e,this.l=this.g.g,this.h=this.i=-1,this.j=!1}function ie(e){var t=e.g;if((t=t.g==t.i)||(t=e.j)||(t=(t=e.g).j||0>t.g||t.g>t.i),t)return!1;e.l=e.g.g;var n=z(e.g);return t=n>>>3,0<=(n&=7)&&5>=n?(e.i=t,e.h=n,!0):(e.j=!0,B(n,e.l),!1)}function re(e){switch(e.h){case 0:if(0!=e.h)re(e);else e:{for(var t=(e=e.g).g,n=0;10>n;n++){if(0===(128&e.h[t])){e.g=t+1,H(e);break e}t++}e.j=!0,T()}break;case 1:(e=e.g).g+=8,H(e);break;case 2:2!=e.h?re(e):(t=z(e.g),(e=e.g).g+=t,H(e));break;case 5:(e=e.g).g+=4,H(e);break;case 3:for(t=e.i;;){if(!ie(e)){e.j=!0,F(Error("Unmatched start-group tag: stream EOF"));break}if(4==e.h){e.i!=t&&(e.j=!0,F(Error("Unmatched end-group tag")));break}re(e)}break;default:e.j=!0,B(e.h,e.l)}}function oe(e,t,n){e.N||(e=Y(e.g.h,n,e.g.g),(n=t.m)?n.push(e):t.m=[e])}$.prototype.length=function(){return this.h},$.prototype.end=function(){var e=this.g,t=this.h;return this.h=0,Y(e,0,t)},ne.prototype.reset=function(){this.g.reset(),this.h=this.i=-1};var ae=[];function se(){this.h=[],this.i=0,this.g=new $}function ce(e,t){0!==t.length&&(e.h.push(t),e.i+=t.length)}function le(e,t,n){te(e.g,8*t+2),te(e.g,n.length),ce(e,e.g.end()),ce(e,n)}var de,ue="function"==typeof Symbol&&"symbol"==typeof Symbol()?Symbol(void 0):void 0;function he(e,t){Object.isFrozen(e)||(ue?e[ue]|=t:void 0!==e.g?e.g|=t:Object.defineProperties(e,{g:{value:t,configurable:!0,writable:!0,enumerable:!1}}))}function Ae(e){return e?null==(t=ue?e[ue]:e.g)?0:t:0;var t}function pe(e){return Array.isArray(e)&&he(e,1),e}function ge(e){if(!Array.isArray(e))throw Error("cannot mark non-array as immutable");he(e,2)}function fe(e){return null!==e&&"object"==typeof e&&e.constructor===Object}function me(e){switch(typeof e){case"number":return isFinite(e)?e:String(e);case"object":return L&&null!=e&&e instanceof Uint8Array?O(e):e;default:return e}}function Ee(e,t){if(null!=e)return Array.isArray(e)||fe(e)?Ce(e,t):t(e)}function Ce(e,t){if(Array.isArray(e)){for(var n=Array(e.length),i=0;i<e.length;i++)n[i]=Ee(e[i],t);return 1&Ae(e)&&pe(n),n}for(i in n={},e)n[i]=Ee(e[i],t);return n}function Ie(e,t,n){var i=de;if(de=null,e||(e=i),i=this.constructor.ca,e||(e=i?[i]:[]),this.j=(i?0:-1)-(this.constructor.aa||0),this.i=null,this.g=e,e=(i=this.g.length)-1,i&&fe(i=this.g[e])?(this.l=e-this.j,this.h=i):void 0!==t&&-1<t?(this.l=Math.max(t,e+1-this.j),this.h=null):this.l=Number.MAX_VALUE,n)for(t=0;t<n.length;t++)(e=n[t])<this.l?(e+=this.j,(i=this.g[e])?pe(i):this.g[e]=ye):(be(this),(i=this.h[e])?pe(i):this.h[e]=ye)}var Qe,Ue,ye=Object.freeze(pe([]));function be(e){var t=e.l+e.j;e.g[t]||(e.h=e.g[t]={})}function ve(e,t,n){return-1===t?null:void 0!==n&&n||t>=e.l?e.h?e.h[t]:void 0:e.g[t+e.j]}function Re(e,t,n){n=void 0===n||n;var i=void 0!==i&&i,r=ve(e,t,i);return null==r&&(r=ye),r===ye?Fe(e,t,r=pe([]),i):n&&Array.isArray(r)&&2&Ae(r)&&Fe(e,t,r=r.slice(),i),r}function Se(e,t,n){return null==(e=null==(e=ve(e,t))?e:+e)?void 0===n?0:n:e}function Fe(e,t,n,i){void 0!==i&&i||t>=e.l?(be(e),e.h[t]=n):e.g[t+e.j]=n}function Be(e,t,n){e.i||(e.i={});var i=e.i[n];if(!i){var r=Re(e,n,!1);i=[];for(var o=!!Array.isArray(r)&&!!(2&Ae(r)),a=0;a<r.length;a++)i[a]=new t(r[a]),o&&ge(i[a].g);o&&(ge(i),Object.freeze(i)),e.i[n]=i}return i}function Te(e,t,n,i,r){var o=Be(e,i,t);n=n||new i,e=Re(e,t),null!=r?(o.splice(r,0,n),e.splice(r,0,Ne(n))):(o.push(n),e.push(Ne(n)))}function Ne(e){if(e.i)for(var t in e.i){var n=e.i[t];if(Array.isArray(n))for(var i=0;i<n.length;i++)n[i]&&Ne(n[i]);else n&&Ne(n)}return e.g}function _e(e,t){return null==(e=ve(e,t))?0:e}function we(e,t){return null==(e=ve(e,t))?"":e}function ke(e,t){if(e=e.m){ce(t,t.g.end());for(var n=0;n<e.length;n++)ce(t,e[n])}}function De(e){var t=e[0];switch(e.length){case 2:var n=e[1];return function(e,i,r){return t(e,i,r,n)};case 3:var i=e[1],r=e[2];return function(e,n,o){return t(e,n,o,i,r)};case 4:var o=e[1],a=e[2],s=e[3];return function(e,n,i){return t(e,n,i,o,a,s)};default:throw Error("unsupported number of parameters, expected [2-4], got "+e.length)}}function Ve(e,t,n){for(;ie(t)&&4!=t.h;){var i=t.i,r=n[i];if(r){if(Array.isArray(r)&&(r=n[i]=De(r)),!r(t,e,i)){r=e;var o=(i=t).l;re(i),oe(i,r,o)}}else r=e,o=(i=t).l,re(i),oe(i,r,o)}return e}function Ze(e,t){var n=new se;if(t(e,n),0===(e=n.i+n.g.length()))n=new Uint8Array(0);else{e=new Uint8Array(e);for(var i=n.h,r=i.length,o=t=0;o<r;o++){var a=i[o];0!==a.length&&(e.set(a,t),t+=a.length)}0!==(r=(i=n.g).h)&&(e.set(i.g.subarray(0,r),t),i.h=0),n.h=[e],n=e}return n}function We(e,t,n){if(ae.length){var i=ae.pop();e&&(K(i.g,e),i.i=-1,i.h=-1),e=i}else e=new ne(e);try{return n(new t,e)}finally{(t=e.g).h=null,t.l=0,t.i=0,t.g=0,t.j=!1,t.u=!1,e.i=-1,e.h=-1,e.j=!1,100>ae.length&&ae.push(e)}}function Oe(e,t,n){if(null!=(t=ve(t,n))){te(e.g,8*n+5),e=e.g;var i=t;0===(i=(n=0>i?1:0)?-i:i)?j=0<1/i?0:2147483648:isNaN(i)?j=2147483647:34028234663852886e22<i?j=(n<<31|2139095040)>>>0:11754943508222875e-54>i?(i=Math.round(i/Math.pow(2,-149)),j=(n<<31|i)>>>0):(t=Math.floor(Math.log(i)/Math.LN2),i*=Math.pow(2,-t),16777216<=(i=Math.round(8388608*i))&&++t,j=(n<<31|t+127<<23|8388607&i)>>>0),ee(e,(n=j)>>>0&255),ee(e,n>>>8&255),ee(e,n>>>16&255),ee(e,n>>>24&255)}}function Je(e,t,n){if(5!==e.h)return!1;var i=(e=e.g).h[e.g],r=e.h[e.g+1],o=e.h[e.g+2],a=e.h[e.g+3];return e.g+=4,H(e),e=2*((r=(i<<0|r<<8|o<<16|a<<24)>>>0)>>31)+1,i=r>>>23&255,r&=8388607,Fe(t,n,255==i?r?NaN:1/0*e:0==i?e*Math.pow(2,-149)*r:e*Math.pow(2,i-150)*(r+Math.pow(2,23))),!0}function xe(e,t,n){if(0!==e.h)return!1;for(var i=e.g,r=128,o=0,a=e=0;4>a&&128<=r;a++)o|=(127&(r=i.h[i.g++]))<<7*a;if(128<=r&&(o|=(127&(r=i.h[i.g++]))<<28,e|=(127&r)>>4),128<=r)for(a=0;5>a&&128<=r;a++)e|=(127&(r=i.h[i.g++]))<<7*a+3;return 128>r?(i=o>>>0,(e=2147483648&(r=e>>>0))&&(r=~r>>>0,0==(i=1+~i>>>0)&&(r=r+1>>>0)),i=4294967296*r+(i>>>0),e=e?-i:i):(i.j=!0,T(),e=void 0),Fe(t,n,e),!0}function Me(e,t,n){return 0===e.h&&(Fe(t,n,z(e.g)),!0)}function Le(e,t,n){if(2!==e.h)return!1;var i,r=z(e.g),o=(e=e.g).g;if(e.g+=r,H(e),e=e.h,k)(i=_)||(i=_=new TextDecoder("utf-8",{fatal:!1})),i=i.decode(e.subarray(o,o+r));else{r=o+r;for(var a,s,c,l=[],d=null;o<r;)128>(a=e[o++])?l.push(a):224>a?o>=r?l.push(65533):(s=e[o++],194>a||128!==(192&s)?(o--,l.push(65533)):l.push((31&a)<<6|63&s)):240>a?o>=r-1?l.push(65533):128!==(192&(s=e[o++]))||224===a&&160>s||237===a&&160<=s||128!==(192&(i=e[o++]))?(o--,l.push(65533)):l.push((15&a)<<12|(63&s)<<6|63&i):244>=a?o>=r-2?l.push(65533):128!==(192&(s=e[o++]))||s-144+(a<<28)>>30!==0||128!==(192&(i=e[o++]))||128!==(192&(c=e[o++]))?(o--,l.push(65533)):(a=(7&a)<<18|(63&s)<<12|(63&i)<<6|63&c,a-=65536,l.push(55296+(a>>10&1023),56320+(1023&a))):l.push(65533),8192<=l.length&&(d=N(d,l),l.length=0);i=N(d,l)}return Fe(t,n,i),!0}function Pe(e,t,n,i,r){if(2!==e.h)return!1;var o=new i,a=e.g.i,s=z(e.g),c=e.g.g+s;if(e.g.i=c,r(o,e),0!==(r=c-e.g.g))throw Error("Message parsing ended unexpectedly. Expected to read "+s+" bytes, instead read "+(s-r)+" bytes, either the data ended unexpectedly or the message misreported its own length");return e.g.g=c,e.g.i=a,Te(t,n,o,i,void 0),!0}function Ge(e){Ie.call(this,e)}function Ye(e,t){var n=ve(e,1);if(null!=n&&null!=n){te(t.g,8);var i=t.g;if(0<=n)te(i,n);else{for(var r=0;9>r;r++)ee(i,127&n|128),n>>=7;ee(i,1)}}Oe(t,e,2),null!=(i=ve(e,3))&&le(t,3,V(i)),null!=(i=ve(e,4))&&le(t,4,V(i)),ke(e,t)}function je(e,t){return Ve(e,t,Qe||(Qe={1:Me,2:Je,3:Le,4:Le}))}function Xe(e){Ie.call(this,e,-1,qe)}function Ke(e,t){return Ve(e,t,Ue||(Ue={1:[Pe,Ge,je]}))}Ie.prototype.toJSON=function(){return Ce(Ne(this),me)},Ie.prototype.toString=function(){return Ne(this).toString()},g(Ge,Ie),g(Xe,Ie),Xe.prototype.addClassification=function(e,t){return Te(this,1,e,Ge,t),this};var He,ze,qe=[1];function $e(e){Ie.call(this,e)}function et(e,t){Oe(t,e,1),Oe(t,e,2),Oe(t,e,3),Oe(t,e,4),Oe(t,e,5),ke(e,t)}function tt(e,t){return Ve(e,t,He||(He={1:Je,2:Je,3:Je,4:Je,5:Je}))}function nt(e){Ie.call(this,e,-1,ot)}function it(e,t){return Ve(e,t,ze||(ze={1:[Pe,$e,tt]}))}g($e,Ie),g(nt,Ie);var rt,ot=[1];function at(e){Ie.call(this,e)}function st(e,t){Oe(t,e,1),Oe(t,e,2),Oe(t,e,3),Oe(t,e,4),Oe(t,e,5);var n=ve(e,6);if(null!=n&&null!=n){te(t.g,48);var i=t.g,r=n;n=0>r;var o=(r=Math.abs(r))>>>0;for(r=Math.floor((r-o)/4294967296),r>>>=0,n&&(r=~r>>>0,4294967295<(o=1+(~o>>>0))&&(o=0,4294967295<++r&&(r=0))),n=j=o,o=r;0<o||127<n;)ee(i,127&n|128),n=(n>>>7|o<<25)>>>0,o>>>=7;ee(i,n)}ke(e,t)}function ct(e,t){return Ve(e,t,rt||(rt={1:Je,2:Je,3:Je,4:Je,5:Je,6:xe}))}function lt(e,t,n){if(n=e.createShader(0===n?e.VERTEX_SHADER:e.FRAGMENT_SHADER),e.shaderSource(n,t),e.compileShader(n),!e.getShaderParameter(n,e.COMPILE_STATUS))throw Error("Could not compile WebGL shader.\n\n"+e.getShaderInfoLog(n));return n}function dt(e){return Be(e,Ge,1).map((function(e){return{index:_e(e,1),X:Se(e,2),label:null!=ve(e,3)?we(e,3):void 0,displayName:null!=ve(e,4)?we(e,4):void 0}}))}function ut(e){return{x:Se(e,1),y:Se(e,2),z:Se(e,3),visibility:null!=ve(e,4)?Se(e,4):void 0}}function ht(e){return Be(We(e,nt,it),$e,1).map(ut)}function At(e,t){this.h=e,this.g=t,this.l=0}function pt(t,n,i){return function(e,t){var n=e.g;if(void 0===e.m){var i=lt(n,"\n  attribute vec2 aVertex;\n  attribute vec2 aTex;\n  varying vec2 vTex;\n  void main(void) {\n    gl_Position = vec4(aVertex, 0.0, 1.0);\n    vTex = aTex;\n  }",0),r=lt(n,"\n  precision mediump float;\n  varying vec2 vTex;\n  uniform sampler2D sampler0;\n  void main(){\n    gl_FragColor = texture2D(sampler0, vTex);\n  }",1),o=n.createProgram();if(n.attachShader(o,i),n.attachShader(o,r),n.linkProgram(o),!n.getProgramParameter(o,n.LINK_STATUS))throw Error("Could not compile WebGL program.\n\n"+n.getProgramInfoLog(o));i=e.m=o,n.useProgram(i),r=n.getUniformLocation(i,"sampler0"),e.j={I:n.getAttribLocation(i,"aVertex"),H:n.getAttribLocation(i,"aTex"),da:r},e.s=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,e.s),n.enableVertexAttribArray(e.j.I),n.vertexAttribPointer(e.j.I,2,n.FLOAT,!1,0,0),n.bufferData(n.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),n.STATIC_DRAW),n.bindBuffer(n.ARRAY_BUFFER,null),e.o=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,e.o),n.enableVertexAttribArray(e.j.H),n.vertexAttribPointer(e.j.H,2,n.FLOAT,!1,0,0),n.bufferData(n.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,0,1,1]),n.STATIC_DRAW),n.bindBuffer(n.ARRAY_BUFFER,null),n.uniform1i(r,0)}i=e.j,n.useProgram(e.m),n.canvas.width=t.width,n.canvas.height=t.height,n.viewport(0,0,t.width,t.height),n.activeTexture(n.TEXTURE0),e.h.bindTexture2d(t.glName),n.enableVertexAttribArray(i.I),n.bindBuffer(n.ARRAY_BUFFER,e.s),n.vertexAttribPointer(i.I,2,n.FLOAT,!1,0,0),n.enableVertexAttribArray(i.H),n.bindBuffer(n.ARRAY_BUFFER,e.o),n.vertexAttribPointer(i.H,2,n.FLOAT,!1,0,0),n.bindFramebuffer(n.DRAW_FRAMEBUFFER?n.DRAW_FRAMEBUFFER:n.FRAMEBUFFER,null),n.clearColor(0,0,0,0),n.clear(n.COLOR_BUFFER_BIT),n.colorMask(!0,!0,!0,!0),n.drawArrays(n.TRIANGLE_FAN,0,4),n.disableVertexAttribArray(i.I),n.disableVertexAttribArray(i.H),n.bindBuffer(n.ARRAY_BUFFER,null),e.h.bindTexture2d(0)}(t,n),"function"==typeof t.g.canvas.transferToImageBitmap?e.resolve(t.g.canvas.transferToImageBitmap()):i?e.resolve(t.g.canvas):"function"==typeof createImageBitmap?createImageBitmap(t.g.canvas):(void 0===t.i&&(t.i=document.createElement("canvas")),new e((function(e){t.i.height=t.g.canvas.height,t.i.width=t.g.canvas.width,t.i.getContext("2d",{}).drawImage(t.g.canvas,0,0,t.g.canvas.width,t.g.canvas.height),e(t.i)})))}function gt(e){this.g=e}g(at,Ie);var ft=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]);function mt(e,t){return t+e}function Et(e,t){window[e]=t}function Ct(t){if(this.g=t,this.listeners={},this.j={},this.F={},this.m={},this.s={},this.G=this.o=this.R=!0,this.C=e.resolve(),this.P="",this.B={},this.locateFile=t&&t.locateFile||mt,"object"==typeof window)var n=window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/";else{if(!(typeof location<"u"))throw Error("solutions can only be loaded on a web page or in a web worker");n=location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/"}if(this.S=n,t.options)for(var i=(n=c(Object.keys(t.options))).next();!i.done;i=n.next()){i=i.value;var r=t.options[i].default;void 0!==r&&(this.j[i]="function"==typeof r?r():r)}}function It(t){var n,i,r,o,a,s,c,d,u,h,A;return b((function(p){switch(p.g){case 1:return t.R?(n=void 0===t.g.files?[]:"function"==typeof t.g.files?t.g.files(t.j):t.g.files,C(p,b((function(e){switch(e.g){case 1:return e.m=2,C(e,WebAssembly.instantiate(ft),4);case 4:e.g=3,e.m=0;break;case 2:return e.m=0,e.j=null,e.return(!1);case 3:return e.return(!0)}})),2)):p.return();case 2:if(i=p.h,"object"==typeof window)return Et("createMediapipeSolutionsWasm",{locateFile:t.locateFile}),Et("createMediapipeSolutionsPackedAssets",{locateFile:t.locateFile}),s=n.filter((function(e){return void 0!==e.data})),c=n.filter((function(e){return void 0===e.data})),d=e.all(s.map((function(n){var i=Qt(t,n.url);if(void 0!==n.path){var r=n.path;i=i.then((function(n){return t.overrideFile(r,n),e.resolve(n)}))}return i}))),u=e.all(c.map((function(n){return void 0===n.simd||n.simd&&i||!n.simd&&!i?function(t){var n=document.createElement("script");return n.setAttribute("src",t),n.setAttribute("crossorigin","anonymous"),new e((function(e){n.addEventListener("load",(function(){e()}),!1),n.addEventListener("error",(function(){e()}),!1),document.body.appendChild(n)}))}(t.locateFile(n.url,t.S)):e.resolve()}))).then((function(){var e,n,i;return b((function(r){if(1==r.g)return e=window.createMediapipeSolutionsWasm,n=window.createMediapipeSolutionsPackedAssets,i=t,C(r,e(n),2);i.h=r.h,r.g=0}))})),h=b((function(e){return t.g.graph&&t.g.graph.url?e=C(e,Qt(t,t.g.graph.url),0):(e.g=0,e=void 0),e})),C(p,e.all([u,d,h]),7);if("function"!=typeof importScripts)throw Error("solutions can only be loaded on a web page or in a web worker");return r=n.filter((function(e){return void 0===e.simd||e.simd&&i||!e.simd&&!i})).map((function(e){return t.locateFile(e.url,t.S)})),importScripts.apply(null,l(r)),o=t,C(p,createMediapipeSolutionsWasm(Module),6);case 6:o.h=p.h,t.l=new OffscreenCanvas(1,1),t.h.canvas=t.l,a=t.h.GL.createContext(t.l,{antialias:!1,alpha:!1,ba:typeof WebGL2RenderingContext<"u"?2:1}),t.h.GL.makeContextCurrent(a),p.g=4;break;case 7:if(t.l=document.createElement("canvas"),!(A=t.l.getContext("webgl2",{}))&&!(A=t.l.getContext("webgl",{})))return alert("Failed to create WebGL canvas context when passing video frame."),p.return();t.D=A,t.h.canvas=t.l,t.h.createContext(t.l,!0,!0,{});case 4:t.i=new t.h.SolutionWasm,t.R=!1,p.g=0}}))}function Qt(e,t){var n,i;return b((function(r){return t in e.F?r.return(e.F[t]):(n=e.locateFile(t,""),i=fetch(n).then((function(e){return e.arrayBuffer()})),e.F[t]=i,r.return(i))}))}function Ut(e,t,n){var i,r,o,a,s,l,d,u,h,A,p,g,f,m;return b((function(E){switch(E.g){case 1:if(!n)return E.return(t);for(i={},r=0,o=c(Object.keys(n)),a=o.next();!a.done;a=o.next())s=a.value,"string"!=typeof(l=n[s])&&"texture"===l.type&&void 0!==t[l.stream]&&++r;1<r&&(e.G=!1),d=c(Object.keys(n)),a=d.next();case 2:if(a.done){E.g=4;break}if(u=a.value,"string"==typeof(h=n[u]))return f=i,m=u,C(E,function(e,t,n){var i;return b((function(r){return"number"==typeof n||n instanceof Uint8Array||n instanceof e.h.Uint8BlobList?r.return(n):n instanceof e.h.Texture2dDataOut?((i=e.s[t])||(i=new At(e.h,e.D),e.s[t]=i),r.return(pt(i,n,e.G))):r.return(void 0)}))}(e,u,t[h]),14);if(A=t[h.stream],"detection_list"===h.type){if(A){for(var I=A.getRectList(),Q=A.getLandmarksList(),U=A.getClassificationsList(),y=[],v=0;v<I.size();++v){var R=We(I.get(v),at,ct);R={T:{Y:Se(R,1),Z:Se(R,2),height:Se(R,3),width:Se(R,4),rotation:Se(R,5,0),W:_e(R,6)},O:ht(Q.get(v)),M:dt(We(U.get(v),Xe,Ke))},y.push(R)}I=y}else I=[];i[u]=I,E.g=7;break}if("proto_list"===h.type){if(A){for(I=Array(A.size()),Q=0;Q<A.size();Q++)I[Q]=A.get(Q);A.delete()}else I=[];i[u]=I,E.g=7;break}if(void 0===A){E.g=3;break}if("float_list"===h.type){i[u]=A,E.g=7;break}if("proto"===h.type){i[u]=A,E.g=7;break}if("texture"!==h.type)throw Error("Unknown output config type: '"+h.type+"'");return(p=e.s[u])||(p=new At(e.h,e.D),e.s[u]=p),C(E,pt(p,A,e.G),13);case 13:g=E.h,i[u]=g;case 7:h.transform&&i[u]&&(i[u]=h.transform(i[u])),E.g=3;break;case 14:f[m]=E.h;case 3:a=d.next(),E.g=2;break;case 4:return E.return(i)}}))}function yt(e,t){for(var n=t.name||"$",i=[].concat(l(t.wants)),r=new e.h.StringList,o=c(t.wants),a=o.next();!a.done;a=o.next())r.push_back(a.value);o=e.h.PacketListener.implement({onResults:function(r){for(var o={},a=0;a<t.wants.length;++a)o[i[a]]=r.get(a);var s=e.listeners[n];s&&(e.C=Ut(e,o,t.outs).then((function(n){n=s(n);for(var r=0;r<t.wants.length;++r){var a=o[i[r]];"object"==typeof a&&a.hasOwnProperty&&a.hasOwnProperty("delete")&&a.delete()}n&&(e.C=n)})))}}),e.i.attachMultiListener(r,o),r.delete()}function bt(e){switch(void 0===e&&(e=0),e){case 1:return"pose_landmark_full.tflite";case 2:return"pose_landmark_heavy.tflite";default:return"pose_landmark_lite.tflite"}}function vt(e){var t=this;e=e||{},this.g=new Ct({locateFile:e.locateFile,files:function(e){return[{url:"pose_solution_packed_assets_loader.js"},{simd:!1,url:"pose_solution_wasm_bin.js"},{simd:!0,url:"pose_solution_simd_wasm_bin.js"},{data:!0,url:bt(e.modelComplexity)}]},graph:{url:"pose_web.binarypb"},listeners:[{wants:["pose_landmarks","world_landmarks","segmentation_mask","image_transformed"],outs:{image:{type:"texture",stream:"image_transformed"},poseLandmarks:{type:"proto",stream:"pose_landmarks",transform:ht},poseWorldLandmarks:{type:"proto",stream:"world_landmarks",transform:ht},segmentationMask:{type:"texture",stream:"segmentation_mask"}}}],inputs:{image:{type:"video",stream:"input_frames_gpu"}},options:{useCpuInference:{type:0,graphOptionXref:{calculatorType:"InferenceCalculator",fieldName:"use_cpu_inference"},default:"iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";").includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document},selfieMode:{type:0,graphOptionXref:{calculatorType:"GlScalerCalculator",calculatorIndex:1,fieldName:"flip_horizontal"}},modelComplexity:{type:1,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorModelComplexity",fieldName:"int_value"},onChange:function(e){var n,i,r;return b((function(o){return 1==o.g?(n=bt(e),i="third_party/mediapipe/modules/pose_landmark/"+n,C(o,Qt(t.g,n),2)):(r=o.h,t.g.overrideFile(i,r),o.return(!0))}))}},smoothLandmarks:{type:0,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorSmoothLandmarks",fieldName:"bool_value"}},enableSegmentation:{type:0,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorEnableSegmentation",fieldName:"bool_value"}},smoothSegmentation:{type:0,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorSmoothSegmentation",fieldName:"bool_value"}},minDetectionConfidence:{type:1,graphOptionXref:{calculatorType:"TensorsToDetectionsCalculator",calculatorName:"poselandmarkgpu__posedetectiongpu__TensorsToDetectionsCalculator",fieldName:"min_score_thresh"}},minTrackingConfidence:{type:1,graphOptionXref:{calculatorType:"ThresholdingCalculator",calculatorName:"poselandmarkgpu__poselandmarkbyroigpu__tensorstoposelandmarksandsegmentation__ThresholdingCalculator",fieldName:"threshold"}}}})}(t=Ct.prototype).close=function(){return this.i&&this.i.delete(),e.resolve()},t.reset=function(){var e=this;return b((function(t){e.i&&(e.i.reset(),e.m={},e.s={}),t.g=0}))},t.setOptions=function(e,t){var n=this;if(t=t||this.g.options){for(var i=[],r=[],o={},a=c(Object.keys(e)),s=a.next();!s.done;o={K:o.K,L:o.L},s=a.next()){var l=s.value;l in this.j&&this.j[l]===e[l]||(this.j[l]=e[l],void 0!==(s=t[l])&&(s.onChange&&(o.K=s.onChange,o.L=e[l],i.push(function(e){return function(){return b((function(t){if(1==t.g)return C(t,e.K(e.L),2);!0===t.h&&(n.o=!0),t.g=0}))}}(o))),s.graphOptionXref&&(l={valueNumber:1===s.type?e[l]:0,valueBoolean:0===s.type&&e[l],valueString:2===s.type?e[l]:""},s=Object.assign(Object.assign(Object.assign({},{calculatorName:"",calculatorIndex:0}),s.graphOptionXref),l),r.push(s))))}(0!==i.length||0!==r.length)&&(this.o=!0,this.A=(void 0===this.A?[]:this.A).concat(r),this.v=(void 0===this.v?[]:this.v).concat(i))}},t.initialize=function(){var e=this;return b((function(t){return 1==t.g?C(t,It(e),2):3!=t.g?C(t,function(e){var t,n,i,r,o,a,s,l;return b((function(d){if(1==d.g)return e.g.graph&&e.g.graph.url&&e.P===e.g.graph.url?d.return():(e.o=!0,e.g.graph&&e.g.graph.url?(e.P=e.g.graph.url,C(d,Qt(e,e.g.graph.url),3)):void(d.g=2));for(2!=d.g&&(t=d.h,e.i.loadGraph(t)),n=c(Object.keys(e.B)),i=n.next();!i.done;i=n.next())r=i.value,e.i.overrideFile(r,e.B[r]);if(e.B={},e.g.listeners)for(o=c(e.g.listeners),a=o.next();!a.done;a=o.next())s=a.value,yt(e,s);l=e.j,e.j={},e.setOptions(l),d.g=0}))}(e),3):C(t,function(e){var t,n,i,r,o,a;return b((function(s){switch(s.g){case 1:if(!e.o)return s.return();if(!e.v){s.g=2;break}t=c(e.v),n=t.next();case 3:if(n.done){s.g=5;break}return C(s,(0,n.value)(),4);case 4:n=t.next(),s.g=3;break;case 5:e.v=void 0;case 2:if(e.A){for(i=new e.h.GraphOptionChangeRequestList,r=c(e.A),o=r.next();!o.done;o=r.next())a=o.value,i.push_back(a);e.i.changeOptions(i),i.delete(),e.A=void 0}e.o=!1,s.g=0}}))}(e),0)}))},t.overrideFile=function(e,t){this.i?this.i.overrideFile(e,t):this.B[e]=t},t.clearOverriddenFiles=function(){this.B={},this.i&&this.i.clearOverriddenFiles()},t.send=function(e,t){var n,i,r,o,a,s,l,d,u,h=this;return b((function(A){switch(A.g){case 1:return h.g.inputs?(n=1e3*(null==t?performance.now():t),C(A,h.C,2)):A.return();case 2:return C(A,h.initialize(),3);case 3:for(i=new h.h.PacketDataList,r=c(Object.keys(e)),o=r.next();!o.done;o=r.next())if(a=o.value,s=h.g.inputs[a]){e:{var p=e[a];switch(s.type){case"video":var g=h.m[s.stream];if(g||(g=new At(h.h,h.D),h.m[s.stream]=g),0===g.l&&(g.l=g.h.createTexture()),typeof HTMLVideoElement<"u"&&p instanceof HTMLVideoElement)var f=p.videoWidth,m=p.videoHeight;else typeof HTMLImageElement<"u"&&p instanceof HTMLImageElement?(f=p.naturalWidth,m=p.naturalHeight):(f=p.width,m=p.height);m={glName:g.l,width:f,height:m},(f=g.g).canvas.width=m.width,f.canvas.height=m.height,f.activeTexture(f.TEXTURE0),g.h.bindTexture2d(g.l),f.texImage2D(f.TEXTURE_2D,0,f.RGBA,f.RGBA,f.UNSIGNED_BYTE,p),g.h.bindTexture2d(0),g=m;break e;case"detections":for((g=h.m[s.stream])||(g=new gt(h.h),h.m[s.stream]=g),g.data||(g.data=new g.g.DetectionListData),g.data.reset(p.length),m=0;m<p.length;++m){f=p[m];var E=g.data,I=E.setBoundingBox,Q=m,U=f.T,y=new at;if(Fe(y,1,U.Y),Fe(y,2,U.Z),Fe(y,3,U.height),Fe(y,4,U.width),Fe(y,5,U.rotation),Fe(y,6,U.W),U=Ze(y,st),I.call(E,Q,U),f.O)for(E=0;E<f.O.length;++E){var b=!!(y=f.O[E]).visibility;Q=(I=g.data).addNormalizedLandmark,U=m,y=Object.assign(Object.assign({},y),{visibility:b?y.visibility:0}),Fe(b=new $e,1,y.x),Fe(b,2,y.y),Fe(b,3,y.z),y.visibility&&Fe(b,4,y.visibility),y=Ze(b,et),Q.call(I,U,y)}if(f.M)for(E=0;E<f.M.length;++E)Q=(I=g.data).addClassification,U=m,y=f.M[E],Fe(b=new Ge,2,y.X),y.index&&Fe(b,1,y.index),y.label&&Fe(b,3,y.label),y.displayName&&Fe(b,4,y.displayName),y=Ze(b,Ye),Q.call(I,U,y)}g=g.data;break e;default:g={}}}switch(l=g,d=s.stream,s.type){case"video":i.pushTexture2d(Object.assign(Object.assign({},l),{stream:d,timestamp:n}));break;case"detections":(u=l).stream=d,u.timestamp=n,i.pushDetectionList(u);break;default:throw Error("Unknown input config type: '"+s.type+"'")}}return h.i.send(i),C(A,h.C,4);case 4:i.delete(),A.g=0}}))},t.onResults=function(e,t){this.listeners[t||"$"]=e},S("Solution",Ct),S("OptionType",{BOOL:0,NUMBER:1,$:2,0:"BOOL",1:"NUMBER",2:"STRING"}),(t=vt.prototype).reset=function(){this.g.reset()},t.close=function(){return this.g.close(),e.resolve()},t.onResults=function(e){this.g.onResults(e)},t.initialize=function(){var e=this;return b((function(t){return C(t,e.g.initialize(),0)}))},t.send=function(e,t){var n=this;return b((function(i){return C(i,n.g.send(e,t),0)}))},t.setOptions=function(e){this.g.setOptions(e)},S("Pose",vt),S("POSE_CONNECTIONS",[[0,1],[1,2],[2,3],[3,7],[0,4],[4,5],[5,6],[6,8],[9,10],[11,12],[11,13],[13,15],[15,17],[15,19],[15,21],[17,19],[12,14],[14,16],[16,18],[16,20],[16,22],[18,20],[11,23],[12,24],[23,24],[23,25],[24,26],[25,27],[26,28],[27,29],[28,30],[29,31],[30,32],[27,31],[28,32]]),S("POSE_LANDMARKS",{NOSE:0,LEFT_EYE_INNER:1,LEFT_EYE:2,LEFT_EYE_OUTER:3,RIGHT_EYE_INNER:4,RIGHT_EYE:5,RIGHT_EYE_OUTER:6,LEFT_EAR:7,RIGHT_EAR:8,LEFT_RIGHT:9,RIGHT_LEFT:10,LEFT_SHOULDER:11,RIGHT_SHOULDER:12,LEFT_ELBOW:13,RIGHT_ELBOW:14,LEFT_WRIST:15,RIGHT_WRIST:16,LEFT_PINKY:17,RIGHT_PINKY:18,LEFT_INDEX:19,RIGHT_INDEX:20,LEFT_THUMB:21,RIGHT_THUMB:22,LEFT_HIP:23,RIGHT_HIP:24,LEFT_KNEE:25,RIGHT_KNEE:26,LEFT_ANKLE:27,RIGHT_ANKLE:28,LEFT_HEEL:29,RIGHT_HEEL:30,LEFT_FOOT_INDEX:31,RIGHT_FOOT_INDEX:32}),S("POSE_LANDMARKS_LEFT",{LEFT_EYE_INNER:1,LEFT_EYE:2,LEFT_EYE_OUTER:3,LEFT_EAR:7,LEFT_RIGHT:9,LEFT_SHOULDER:11,LEFT_ELBOW:13,LEFT_WRIST:15,LEFT_PINKY:17,LEFT_INDEX:19,LEFT_THUMB:21,LEFT_HIP:23,LEFT_KNEE:25,LEFT_ANKLE:27,LEFT_HEEL:29,LEFT_FOOT_INDEX:31}),S("POSE_LANDMARKS_RIGHT",{RIGHT_EYE_INNER:4,RIGHT_EYE:5,RIGHT_EYE_OUTER:6,RIGHT_EAR:8,RIGHT_LEFT:10,RIGHT_SHOULDER:12,RIGHT_ELBOW:14,RIGHT_WRIST:16,RIGHT_PINKY:18,RIGHT_INDEX:20,RIGHT_THUMB:22,RIGHT_HIP:24,RIGHT_KNEE:26,RIGHT_ANKLE:28,RIGHT_HEEL:30,RIGHT_FOOT_INDEX:32}),S("POSE_LANDMARKS_NEUTRAL",{NOSE:0}),S("VERSION","0.5.1635988162")}).call(Fe);const Be=class{constructor(){a(this,"mediapipeMap_",new Map)}getVersion(e){switch(e){case"face_detection":return ve.VERSION;case"face_mesh":return Re.VERSION;case"hands":return ye.VERSION;case"holistic":return be.VERSION;case"objectron":return Se.VERSION;case"selfie_segmentation":return Ue.VERSION;case"pose":return Fe.VERSION;default:return""}}initialize(t){return new e((async(e,n)=>{if(0!=t.mediaPipeModelConfigArray.length){for(let e=0;e<t.mediaPipeModelConfigArray.length;e++){const r=t.mediaPipeModelConfigArray[e];if(this.mediapipeMap_.has(r.modelType))return void n("setting same type is not supported");if("function"!=typeof r.listener)return void n("[".concat(r.modelType,"] ResultsListener must be provided"));let o;switch(r.modelType){case"face_mesh":o=new Re.FaceMesh({locateFile:(e,t)=>(r.assetsUri||Be.defaultAssetsBaseUrl+"face_mesh/"+this.getVersion("face_mesh"))+"/"+e});break;case"face_detection":o=new ve.FaceDetection({locateFile:(e,t)=>(r.assetsUri||Be.defaultAssetsBaseUrl+"face_detection/"+this.getVersion("face_detection"))+"/"+e});break;case"hands":o=new ye.Hands({locateFile:(e,t)=>(r.assetsUri||Be.defaultAssetsBaseUrl+"hands/"+this.getVersion("hands"))+"/"+e});break;case"holistic":o=new be.Holistic({locateFile:(e,t)=>(r.assetsUri||Be.defaultAssetsBaseUrl+"holistic/"+this.getVersion("holistic"))+"/"+e});break;case"objectron":o=new Se.Objectron({locateFile:(e,t)=>(r.assetsUri||Be.defaultAssetsBaseUrl+"objectron/"+this.getVersion("objectron"))+"/"+e});break;case"selfie_segmentation":o=new Ue.SelfieSegmentation({locateFile:(e,t)=>(r.assetsUri||Be.defaultAssetsBaseUrl+"selfie_segmentation/"+this.getVersion("selfie_segmentation"))+"/"+e});break;case"pose":o=new Fe.Pose({locateFile:(e,t)=>(r.assetsUri||Be.defaultAssetsBaseUrl+"pose/"+this.getVersion("pose"))+"/"+e});break;default:return void n("unknown model type")}o.onResults(r.listener),r.options&&o.setOptions(r.options);try{await o.initialize(),this.mediapipeMap_.set(r.modelType,o)}catch(i){return void n(i)}}e()}else n("no model was selected")}))}close(t){return new e(((n,i)=>{let r=[];if(t){let e=this.mediapipeMap_.get(t);if(!e)return void i("model not exit");this.mediapipeMap_.delete(t),r.push(e.close())}else{for(const[e,t]of this.mediapipeMap_.entries())r.push(t.close());this.mediapipeMap_.clear()}e.all(r).then((()=>{n()})).catch((e=>{i(e)}))}))}send(t,n){return new e(((i,r)=>{let o=[];if(n){let e=this.mediapipeMap_.get(n);if(!e)return void r("model not exit");o.push(e.send({image:t}))}else for(const[e,n]of this.mediapipeMap_.entries())o.push(n.send({image:t}));e.all(o).then((()=>{i()})).catch((e=>{r(e)}))}))}reset(e){if(e){let t=this.mediapipeMap_.get(e);t&&"function"==typeof t.reset&&t.reset()}else for(const[t,n]of this.mediapipeMap_.entries())n&&"function"==typeof n.reset&&n.reset()}};let Te=Be;a(Te,"defaultAssetsBaseUrl","https://d3opqjmqzxf057.cloudfront.net/ml/mediapipe/");const Ne=new WeakMap,_e=new WeakMap,we=new WeakMap,ke=Symbol("anyProducer"),De=e.resolve(),Ve=Symbol("listenerAdded"),Ze=Symbol("listenerRemoved");let We=!1,Oe=!1;function Je(e){if("string"!=typeof e&&"symbol"!=typeof e&&"number"!=typeof e)throw new TypeError("`eventName` must be a string, symbol, or number")}function xe(e){if("function"!=typeof e)throw new TypeError("listener must be a function")}function Me(e,t){const n=_e.get(e);if(n.has(t))return n.get(t)}function Le(e,t){const n="string"==typeof t||"symbol"==typeof t||"number"==typeof t?t:ke,i=we.get(e);if(i.has(n))return i.get(n)}function Pe(t,n){n=Array.isArray(n)?n:[n];let i=!1,r=()=>{},o=[];const a={enqueue(e){o.push(e),r()},finish(){i=!0,r()}};for(const e of n){let n=Le(t,e);n||(n=new Set,we.get(t).set(e,n)),n.add(a)}return{async next(){return o?0===o.length?i?(o=void 0,this.next()):(await new e((e=>{r=e})),this.next()):{done:!1,value:await o.shift()}:{done:!0}},async return(e){o=void 0;for(const i of n){const e=Le(t,i);e&&(e.delete(a),0===e.size&&we.get(t).delete(i))}return r(),arguments.length>0?{done:!0,value:await e}:{done:!0}},[Symbol.asyncIterator](){return this}}}function Ge(e){if(void 0===e)return Ke;if(!Array.isArray(e))throw new TypeError("`methodNames` must be an array of strings");for(const t of e)if(!Ke.includes(t))throw"string"!=typeof t?new TypeError("`methodNames` element must be a string"):new Error("".concat(t," is not Emittery method"));return e}const Ye=e=>e===Ve||e===Ze;function je(e,t,n){if(Ye(t))try{We=!0,e.emit(t,n)}finally{We=!1}}class Xe{static mixin(e,t){return t=Ge(t),n=>{if("function"!=typeof n)throw new TypeError("`target` must be function");for(const e of t)if(void 0!==n.prototype[e])throw new Error("The property `".concat(e,"` already exists on `target`"));Object.defineProperty(n.prototype,e,{enumerable:!1,get:function(){return Object.defineProperty(this,e,{enumerable:!1,value:new Xe}),this[e]}});const i=t=>function(){return this[e][t](...arguments)};for(const e of t)Object.defineProperty(n.prototype,e,{enumerable:!1,value:i(e)});return n}}static get isDebugEnabled(){var e,t;if("object"!=typeof(null==(e=globalThis.process)?void 0:e.env))return Oe;const{env:n}=null!=(t=globalThis.process)?t:{env:{}};return"emittery"===n.DEBUG||"*"===n.DEBUG||Oe}static set isDebugEnabled(e){Oe=e}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t;Ne.set(this,new Set),_e.set(this,new Map),we.set(this,new Map),we.get(this).set(ke,new Set),this.debug=null!=(t=e.debug)?t:{},void 0===this.debug.enabled&&(this.debug.enabled=!1),this.debug.logger||(this.debug.logger=(e,t,n,i)=>{try{i=JSON.stringify(i)}catch{i="Object with the following keys failed to stringify: ".concat(Object.keys(i).join(","))}("symbol"==typeof n||"number"==typeof n)&&(n=n.toString());const r=new Date,o="".concat(r.getHours(),":").concat(r.getMinutes(),":").concat(r.getSeconds(),".").concat(r.getMilliseconds());console.log("[".concat(o,"][emittery:").concat(e,"][").concat(t,"] Event Name: ").concat(n,"\n\tdata: ").concat(i))})}logIfDebugEnabled(e,t,n){(Xe.isDebugEnabled||this.debug.enabled)&&this.debug.logger(e,this.debug.name,t,n)}on(e,t){xe(t),e=Array.isArray(e)?e:[e];for(const n of e){Je(n);let e=Me(this,n);e||(e=new Set,_e.get(this).set(n,e)),e.add(t),this.logIfDebugEnabled("subscribe",n,void 0),Ye(n)||je(this,Ve,{eventName:n,listener:t})}return this.off.bind(this,e,t)}off(e,t){xe(t),e=Array.isArray(e)?e:[e];for(const n of e){Je(n);const e=Me(this,n);e&&(e.delete(t),0===e.size&&_e.get(this).delete(n)),this.logIfDebugEnabled("unsubscribe",n,void 0),Ye(n)||je(this,Ze,{eventName:n,listener:t})}}once(t){let n;const i=new e((e=>{n=this.on(t,(t=>{n(),e(t)}))}));return i.off=n,i}events(e){e=Array.isArray(e)?e:[e];for(const t of e)Je(t);return Pe(this,e)}async emit(t,n){var i;if(Je(t),Ye(t)&&!We)throw new TypeError("`eventName` cannot be meta event `listenerAdded` or `listenerRemoved`");this.logIfDebugEnabled("emit",t,n),function(t,n,i){const r=we.get(t);if(r.has(n))for(const e of r.get(n))e.enqueue(i);if(r.has(ke)){const t=e.all([n,i]);for(const e of r.get(ke))e.enqueue(t)}}(this,t,n);const r=null!=(i=Me(this,t))?i:new Set,o=Ne.get(this),a=[...r],s=Ye(t)?[]:[...o];await De,await e.all([...a.map((async e=>{if(r.has(e))return e(n)})),...s.map((async e=>{if(o.has(e))return e(t,n)}))])}async emitSerial(e,t){var n;if(Je(e),Ye(e)&&!We)throw new TypeError("`eventName` cannot be meta event `listenerAdded` or `listenerRemoved`");this.logIfDebugEnabled("emitSerial",e,t);const i=null!=(n=Me(this,e))?n:new Set,r=Ne.get(this),o=[...i],a=[...r];await De;for(const s of o)i.has(s)&&await s(t);for(const s of a)r.has(s)&&await s(e,t)}onAny(e){return xe(e),this.logIfDebugEnabled("subscribeAny",void 0,void 0),Ne.get(this).add(e),je(this,Ve,{listener:e}),this.offAny.bind(this,e)}anyEvent(){return Pe(this)}offAny(e){xe(e),this.logIfDebugEnabled("unsubscribeAny",void 0,void 0),je(this,Ze,{listener:e}),Ne.get(this).delete(e)}clearListeners(e){e=Array.isArray(e)?e:[e];for(const t of e)if(this.logIfDebugEnabled("clear",t,void 0),"string"==typeof t||"symbol"==typeof t||"number"==typeof t){const e=Me(this,t);e&&e.clear();const n=Le(this,t);if(n){for(const e of n)e.finish();n.clear()}}else{Ne.get(this).clear();for(const[e,t]of _e.get(this).entries())t.clear(),_e.get(this).delete(e);for(const[e,t]of we.get(this).entries()){for(const e of t)e.finish();t.clear(),we.get(this).delete(e)}}}listenerCount(e){var t,n,i,r,o,a;e=Array.isArray(e)?e:[e];let s=0;for(const c of e)if("string"!=typeof c){typeof c<"u"&&Je(c),s+=Ne.get(this).size;for(const e of _e.get(this).values())s+=e.size;for(const e of we.get(this).values())s+=e.size}else s+=Ne.get(this).size+(null!=(n=null==(t=Me(this,c))?void 0:t.size)?n:0)+(null!=(r=null==(i=Le(this,c))?void 0:i.size)?r:0)+(null!=(a=null==(o=Le(this))?void 0:o.size)?a:0);return s}bindMethods(e,t){if("object"!=typeof e||null===e)throw new TypeError("`target` must be an object");t=Ge(t);for(const n of t){if(void 0!==e[n])throw new Error("The property `".concat(n,"` already exists on `target`"));Object.defineProperty(e,n,{enumerable:!1,value:this[n].bind(this)})}}}const Ke=Object.getOwnPropertyNames(Xe.prototype).filter((e=>"constructor"!==e));function He(e,t){globalThis.vonage||(globalThis.vonage={}),globalThis.vonage.workerizer||(globalThis.vonage.workerizer={});let n=globalThis.vonage.workerizer;return n[e]||(n[e]=t),n[e]}Object.defineProperty(Xe,"listenerAdded",{value:Ve,writable:!1,enumerable:!0,configurable:!1}),Object.defineProperty(Xe,"listenerRemoved",{value:Ze,writable:!1,enumerable:!0,configurable:!1});const ze=He("globals",{});var qe=(e=>(e.INIT="INIT",e.FORWARD="FORWARD",e.TERMINATE="TERMINATE",e.GLOBALS_SYNC="GLOBALS_SYNC",e.EVENT="EVENT",e))(qe||{});function $e(e){return[ImageBitmap,ReadableStream,WritableStream].some((t=>e instanceof t))}let et=0;function tt(t,n,i,r,o){const a=et++;return t.postMessage({id:a,type:n,functionName:i,args:r},r.filter((e=>$e(e)))),new e((e=>{null==o||o.set(a,e)}))}function nt(e,t){const{id:n,type:i}=e,r=Array.isArray(t)?t:[t];postMessage({id:n,type:i,result:t},r.filter((e=>$e(e))))}const it=He("workerized",{});function rt(){return typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope}function ot(e,t){if(Array.isArray(t))t.splice(0,t.length);else if("object"==typeof t)for(const n in t)delete t[n];for(const n in e)Array.isArray(e[n])?(t[n]=[],ot(e[n],t[n])):"object"==typeof e[n]?(t[n]={},ot(e[n],t[n])):t[n]=e[n]}async function at(t,n,i,r){const o=new n;if(o.addEventListener("message",(async t=>{let{data:n}=t;var o,a,s,c,l,d,u;switch(n.type){case qe.GLOBALS_SYNC:n.id?(null==(a=i.get(null!=(o=n.id)?o:-1))||a(n.result),i.delete(null!=(s=n.id)?s:-1)):(ot(null!=(c=n.result)?c:{},ze),await async function(){if(rt())nt({type:qe.GLOBALS_SYNC},ze);else{const t=[];for(const e in it){const{worker:n,resolvers:i}=it[e].workerContext;n&&t.push(tt(n,qe.GLOBALS_SYNC,"",[ze],i))}await e.all(t)}}());break;case qe.EVENT:const{result:t}=n,h=t;if(null==(null==h?void 0:h.name))throw"Missing event name";r(h.name,h.data);break;default:null==(d=i.get(null!=(l=n.id)?l:-1))||d(n.result),i.delete(null!=(u=n.id)?u:-1)}})),!await tt(o,qe.INIT,"",[t.workerId,ze],i))throw"Failed to instantiate workerized class";return o}const st=new WeakMap,ct=new WeakMap,lt=new WeakMap,dt=Symbol("anyProducer"),ut=e.resolve(),ht=Symbol("listenerAdded"),At=Symbol("listenerRemoved");let pt=!1,gt=!1;function ft(e){if("string"!=typeof e&&"symbol"!=typeof e&&"number"!=typeof e)throw new TypeError("`eventName` must be a string, symbol, or number")}function mt(e){if("function"!=typeof e)throw new TypeError("listener must be a function")}function Et(e,t){const n=ct.get(e);if(n.has(t))return n.get(t)}function Ct(e,t){const n="string"==typeof t||"symbol"==typeof t||"number"==typeof t?t:dt,i=lt.get(e);if(i.has(n))return i.get(n)}function It(t,n){n=Array.isArray(n)?n:[n];let i=!1,r=()=>{},o=[];const a={enqueue(e){o.push(e),r()},finish(){i=!0,r()}};for(const e of n){let n=Ct(t,e);n||(n=new Set,lt.get(t).set(e,n)),n.add(a)}return{async next(){return o?0===o.length?i?(o=void 0,this.next()):(await new e((e=>{r=e})),this.next()):{done:!1,value:await o.shift()}:{done:!0}},async return(e){o=void 0;for(const i of n){const e=Ct(t,i);e&&(e.delete(a),0===e.size&&lt.get(t).delete(i))}return r(),arguments.length>0?{done:!0,value:await e}:{done:!0}},[Symbol.asyncIterator](){return this}}}function Qt(e){if(void 0===e)return vt;if(!Array.isArray(e))throw new TypeError("`methodNames` must be an array of strings");for(const t of e)if(!vt.includes(t))throw"string"!=typeof t?new TypeError("`methodNames` element must be a string"):new Error("".concat(t," is not Emittery method"));return e}const Ut=e=>e===ht||e===At;function yt(e,t,n){if(Ut(t))try{pt=!0,e.emit(t,n)}finally{pt=!1}}class bt{static mixin(e,t){return t=Qt(t),n=>{if("function"!=typeof n)throw new TypeError("`target` must be function");for(const e of t)if(void 0!==n.prototype[e])throw new Error("The property `".concat(e,"` already exists on `target`"));Object.defineProperty(n.prototype,e,{enumerable:!1,get:function(){return Object.defineProperty(this,e,{enumerable:!1,value:new bt}),this[e]}});const i=t=>function(){return this[e][t](...arguments)};for(const e of t)Object.defineProperty(n.prototype,e,{enumerable:!1,value:i(e)});return n}}static get isDebugEnabled(){var e,t;if("object"!=typeof(null==(e=globalThis.process)?void 0:e.env))return gt;const{env:n}=null!=(t=globalThis.process)?t:{env:{}};return"emittery"===n.DEBUG||"*"===n.DEBUG||gt}static set isDebugEnabled(e){gt=e}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t;st.set(this,new Set),ct.set(this,new Map),lt.set(this,new Map),lt.get(this).set(dt,new Set),this.debug=null!=(t=e.debug)?t:{},void 0===this.debug.enabled&&(this.debug.enabled=!1),this.debug.logger||(this.debug.logger=(e,t,n,i)=>{try{i=JSON.stringify(i)}catch{i="Object with the following keys failed to stringify: ".concat(Object.keys(i).join(","))}("symbol"==typeof n||"number"==typeof n)&&(n=n.toString());const r=new Date,o="".concat(r.getHours(),":").concat(r.getMinutes(),":").concat(r.getSeconds(),".").concat(r.getMilliseconds());console.log("[".concat(o,"][emittery:").concat(e,"][").concat(t,"] Event Name: ").concat(n,"\n\tdata: ").concat(i))})}logIfDebugEnabled(e,t,n){(bt.isDebugEnabled||this.debug.enabled)&&this.debug.logger(e,this.debug.name,t,n)}on(e,t){mt(t),e=Array.isArray(e)?e:[e];for(const n of e){ft(n);let e=Et(this,n);e||(e=new Set,ct.get(this).set(n,e)),e.add(t),this.logIfDebugEnabled("subscribe",n,void 0),Ut(n)||yt(this,ht,{eventName:n,listener:t})}return this.off.bind(this,e,t)}off(e,t){mt(t),e=Array.isArray(e)?e:[e];for(const n of e){ft(n);const e=Et(this,n);e&&(e.delete(t),0===e.size&&ct.get(this).delete(n)),this.logIfDebugEnabled("unsubscribe",n,void 0),Ut(n)||yt(this,At,{eventName:n,listener:t})}}once(t){let n;const i=new e((e=>{n=this.on(t,(t=>{n(),e(t)}))}));return i.off=n,i}events(e){e=Array.isArray(e)?e:[e];for(const t of e)ft(t);return It(this,e)}async emit(t,n){var i;if(ft(t),Ut(t)&&!pt)throw new TypeError("`eventName` cannot be meta event `listenerAdded` or `listenerRemoved`");this.logIfDebugEnabled("emit",t,n),function(t,n,i){const r=lt.get(t);if(r.has(n))for(const e of r.get(n))e.enqueue(i);if(r.has(dt)){const t=e.all([n,i]);for(const e of r.get(dt))e.enqueue(t)}}(this,t,n);const r=null!=(i=Et(this,t))?i:new Set,o=st.get(this),a=[...r],s=Ut(t)?[]:[...o];await ut,await e.all([...a.map((async e=>{if(r.has(e))return e(n)})),...s.map((async e=>{if(o.has(e))return e(t,n)}))])}async emitSerial(e,t){var n;if(ft(e),Ut(e)&&!pt)throw new TypeError("`eventName` cannot be meta event `listenerAdded` or `listenerRemoved`");this.logIfDebugEnabled("emitSerial",e,t);const i=null!=(n=Et(this,e))?n:new Set,r=st.get(this),o=[...i],a=[...r];await ut;for(const s of o)i.has(s)&&await s(t);for(const s of a)r.has(s)&&await s(e,t)}onAny(e){return mt(e),this.logIfDebugEnabled("subscribeAny",void 0,void 0),st.get(this).add(e),yt(this,ht,{listener:e}),this.offAny.bind(this,e)}anyEvent(){return It(this)}offAny(e){mt(e),this.logIfDebugEnabled("unsubscribeAny",void 0,void 0),yt(this,At,{listener:e}),st.get(this).delete(e)}clearListeners(e){e=Array.isArray(e)?e:[e];for(const t of e)if(this.logIfDebugEnabled("clear",t,void 0),"string"==typeof t||"symbol"==typeof t||"number"==typeof t){const e=Et(this,t);e&&e.clear();const n=Ct(this,t);if(n){for(const e of n)e.finish();n.clear()}}else{st.get(this).clear();for(const[e,t]of ct.get(this).entries())t.clear(),ct.get(this).delete(e);for(const[e,t]of lt.get(this).entries()){for(const e of t)e.finish();t.clear(),lt.get(this).delete(e)}}}listenerCount(e){var t,n,i,r,o,a;e=Array.isArray(e)?e:[e];let s=0;for(const c of e)if("string"!=typeof c){typeof c<"u"&&ft(c),s+=st.get(this).size;for(const e of ct.get(this).values())s+=e.size;for(const e of lt.get(this).values())s+=e.size}else s+=st.get(this).size+(null!=(n=null==(t=Et(this,c))?void 0:t.size)?n:0)+(null!=(r=null==(i=Ct(this,c))?void 0:i.size)?r:0)+(null!=(a=null==(o=Ct(this))?void 0:o.size)?a:0);return s}bindMethods(e,t){if("object"!=typeof e||null===e)throw new TypeError("`target` must be an object");t=Qt(t);for(const n of t){if(void 0!==e[n])throw new Error("The property `".concat(n,"` already exists on `target`"));Object.defineProperty(e,n,{enumerable:!1,value:this[n].bind(this)})}}}const vt=Object.getOwnPropertyNames(bt.prototype).filter((e=>"constructor"!==e));Object.defineProperty(bt,"listenerAdded",{value:ht,writable:!1,enumerable:!0,configurable:!1}),Object.defineProperty(bt,"listenerRemoved",{value:At,writable:!1,enumerable:!0,configurable:!1});let Rt=0;async function St(e,t){const n=new Map;let i;const r=await at(e,t,n,((e,t)=>{null!=i&&i.emit&&(null==i||i.emit(e,t))}));return i=await async function(e,t,n){const i=function(e){return e.prototype.onAny&&e.prototype.emit}(e)?new bt:{},r=Rt++;return Object.getOwnPropertyNames(e.prototype).forEach((e=>{i[e]=function(){for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return tt(t,qe.FORWARD,e,r,n)}})),i.terminate=async function(){for(var e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];const s=await tt(t,qe.TERMINATE,"",o,n);return delete it[r],t.terminate(),i.workerContext.worker=void 0,s},i.workerContext={id:r,worker:t,resolvers:n},it[r]=i,i}(e,r,n),i}const Ft=He("registeredWorkers",{});rt()&&function(){const e={};onmessage=async t=>{const n=t.data;switch(n.type){case qe.INIT:!function(e,t){if(!e.args)throw"Missing className while initializing worker";const[n,i]=e.args,r=Ft[n];if(!r)throw"unknown worker class ".concat(n);t.instance=new r(e.args.slice(1)),ot(i,ze),function(e){return e.onAny&&e.emit}(t.instance)&&t.instance.onAny(((e,t)=>{nt({type:qe.EVENT},{name:e,data:t})})),nt(e,void 0!==typeof t.instance)}(n,e);break;case qe.FORWARD:!async function(e,t){const{functionName:n,args:i}=e;if(!t.instance)throw"instance not initialized";if(!n)throw"missing function name to call";if(!t.instance[n])throw"undefined function [".concat(n,"] in class ").concat(t.instance.constructor.workerId);nt(e,await t.instance[n](...null!=i?i:[]))}(n,e);break;case qe.TERMINATE:!async function(e,t){const{args:n}=e;if(!t.instance)throw"instance not initialized";let i;t.instance.terminate&&(i=await t.instance.terminate(...null!=n?n:[])),nt(e,i)}(n,e);break;case qe.GLOBALS_SYNC:!function(e){if(!e.args)throw"Missing globals while syncing";ot(e.args[0],ze),nt(e,{})}(n)}}}();class Bt{static async createVideoReadable(t){return new e(((e,n)=>{const i=document.createElement("video");let r=new AbortController,o=new AbortController;i.addEventListener("canplay",(()=>{r.abort(),i.muted=!0,i.loop=!0,i.play().then((()=>{try{const t=i.captureStream(),n=new MediaStreamTrackProcessor(t.getVideoTracks()[0]);e(n.readable)}catch(t){n(t)}}))}),{once:!0,signal:o.signal}),i.addEventListener("error",(e=>{o.abort(),n("loading error:"+e)}),{once:!0,signal:r.signal}),i.crossOrigin="anonymous",i.src=t}))}static async createImageCanvas(e){const t=await(await fetch(e)).blob();return await createImageBitmap(t)}}var Tt=Object.defineProperty,Nt=(e,t,n)=>(((e,t,n)=>{t in e?Tt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);let _t;const wt=new Uint8Array(16);function kt(){if(!_t&&(_t=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!_t))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return _t(wt)}const Dt=[];for(let t=0;t<256;++t)Dt.push((t+256).toString(16).slice(1));const Vt={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function Zt(e,t,n){if(Vt.randomUUID&&!t&&!e)return Vt.randomUUID();const i=(e=e||{}).random||(e.rng||kt)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=i[e];return t}return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(Dt[e[t+0]]+Dt[e[t+1]]+Dt[e[t+2]]+Dt[e[t+3]]+"-"+Dt[e[t+4]]+Dt[e[t+5]]+"-"+Dt[e[t+6]]+Dt[e[t+7]]+"-"+Dt[e[t+8]]+Dt[e[t+9]]+"-"+Dt[e[t+10]]+Dt[e[t+11]]+Dt[e[t+12]]+Dt[e[t+13]]+Dt[e[t+14]]+Dt[e[t+15]]).toLowerCase()}(i)}function Wt(e,t){globalThis.vonage||(globalThis.vonage={}),globalThis.vonage.workerizer||(globalThis.vonage.workerizer={});let n=globalThis.vonage.workerizer;return n[e]||(n[e]=t),n[e]}const Ot=Wt("globals",{});var Jt=(e=>(e.INIT="INIT",e.FORWARD="FORWARD",e.TERMINATE="TERMINATE",e.GLOBALS_SYNC="GLOBALS_SYNC",e))(Jt||{});function xt(e){return[ImageBitmap,ReadableStream,WritableStream].some((t=>e instanceof t))}let Mt=0;function Lt(t,n,i,r,o){const a=Mt++;return t.postMessage({id:a,type:n,functionName:i,args:r},r.filter((e=>xt(e)))),new e((e=>{null==o||o.set(a,e)}))}function Pt(e,t){const{id:n,type:i}=e,r=Array.isArray(t)?t:[t];postMessage({id:n,type:i,result:t},r.filter((e=>xt(e))))}const Gt=Wt("workerized",{});function Yt(){return typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope}function jt(e,t){if(Array.isArray(t))t.splice(0,t.length);else if("object"==typeof t)for(const n in t)delete t[n];for(const n in e)Array.isArray(e[n])?(t[n]=[],jt(e[n],t[n])):"object"==typeof e[n]?(t[n]={},jt(e[n],t[n])):t[n]=e[n]}const Xt=Wt("registeredWorkers",{});function Kt(t,n){return Ot[t]||(Ot[t]=n),[()=>Ot[t],async n=>{Ot[t]=n,await async function(){if(Yt())Pt({type:Jt.GLOBALS_SYNC},Ot);else{const t=[];for(const e in Gt){const{worker:n,resolvers:i}=Gt[e].workerContext;n&&t.push(Lt(n,Jt.GLOBALS_SYNC,"",[Ot],i))}await e.all(t)}}()}]}Yt()&&function(){const e={};onmessage=async t=>{const n=t.data;switch(n.type){case Jt.INIT:!function(e,t){if(!e.args)throw"Missing className while initializing worker";const[n,i]=e.args,r=Xt[n];if(!r)throw"unknown worker class ".concat(n);t.instance=new r(e.args.slice(1)),jt(i,Ot),Pt(e,void 0!==typeof t.instance)}(n,e);break;case Jt.FORWARD:!async function(e,t){const{functionName:n,args:i}=e;if(!t.instance)throw"instance not initialized";if(!n)throw"missing function name to call";if(!t.instance[n])throw"undefined function [".concat(n,"] in class ").concat(t.instance.constructor.workerId);Pt(e,await t.instance[n](...null!=i?i:[]))}(n,e);break;case Jt.TERMINATE:!async function(e,t){const{args:n}=e;if(!t.instance)throw"instance not initialized";let i;t.instance.terminate&&(i=await t.instance.terminate(...null!=n?n:[])),Pt(e,i)}(n,e);break;case Jt.GLOBALS_SYNC:!function(e){if(!e.args)throw"Missing globals while syncing";jt(e.args[0],Ot),Pt(e,{})}(n)}}}();const[Ht,zt]=function(e,t){return Kt(e,t)}("metadata");function qt(){return Ht()}class $t{constructor(e){Nt(this,"uuid",Zt()),this.config=e}async send(e){var t,n,i;const{appId:r,sourceType:o}=null!=(t=qt())?t:{};if(!r||!o)return"metadata missing";const a=new AbortController,s=setTimeout((()=>a.abort()),1e4);return await(null!=(i=null==(n=this.config)?void 0:n.fetch)?i:fetch)(this.getUrl(),{method:"POST",headers:this.getHeaders(),body:JSON.stringify(this.buildReport(e)),signal:a.signal}),clearTimeout(s),"success"}getUrl(){var e;let t=null!=(e=qt().proxyUrl)?e:"https://";return t+=("/"===t.at(-1)?"":"/")+"hlg.tokbox.com/prod/logging/vcp_webrtc",t}getHeaders(){return{"Content-Type":"application/json"}}buildReport(e){const t=qt();return{guid:this.uuid,...e,applicationId:t.appId,timestamp:Date.now(),proxyUrl:t.proxyUrl,source:t.sourceType}}}class en{constructor(){a(this,"canvas"),a(this,"context");const e=new OffscreenCanvas(0,0),t=e.getContext("2d");if(!t)throw"Fail to retrieve webgl2 context";this.canvas=e,this.context=t}setFlickeringOptions(e){}enablePostProcessing(){}disablePostProcessing(){}async profileWebgl(e){return[]}async render(e,t){return this.canvas}resizeCanvas(e){const{width:t,height:n}=e;this.canvas.width=t,this.canvas.height=n}renderSilhouette(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"none";const{width:i,height:r}=e;this.context.save(),this.context.drawImage(t,0,0,t.width,t.height,0,0,i,r),this.context.globalCompositeOperation="source-in",this.context.filter=n,this.context.drawImage(e,0,0,i,r,0,0,this.canvas.width,this.canvas.height),this.context.restore()}}class tn extends en{constructor(e){super(),this.radius=e}async render(e,t){return super.resizeCanvas(e),this.renderSilhouette(e,t),this.context.save(),this.context.filter="blur(".concat(this.radius,"px)"),this.context.globalCompositeOperation="destination-over",this.context.drawImage(e,0,0,e.width,e.height),this.context.restore(),super.render(e,t)}}class nn extends en{constructor(e){super(),this.radius=e}async render(e,t){return super.resizeCanvas(e),this.renderSilhouette(e,t,"blur(".concat(this.radius,"px)")),this.context.save(),this.context.filter="none",this.context.globalCompositeOperation="destination-over",this.context.drawImage(e,0,0,e.width,e.height),this.context.restore(),super.render(e,t)}}class rn extends en{constructor(){super(...arguments),a(this,"backgroundImage")}setBackgroundImage(e){this.backgroundImage=e}async render(e,t){return super.resizeCanvas(e),this.renderSilhouette(e,t),this.backgroundImage&&(this.context.save(),this.context.filter="none",this.context.globalCompositeOperation="destination-over",this.context.drawImage(this.backgroundImage,0,0,this.backgroundImage.width,this.backgroundImage.height,0,0,e.width,e.height),this.context.restore()),super.render(e,t)}}const on=5120,an=5121,sn=5122,cn=5123,ln=5124,dn=5125,un=5126,hn={};{const e=hn;e[on]=Int8Array,e[an]=Uint8Array,e[sn]=Int16Array,e[cn]=Uint16Array,e[ln]=Int32Array,e[dn]=Uint32Array,e[un]=Float32Array,e[32819]=Uint16Array,e[32820]=Uint16Array,e[33635]=Uint16Array,e[5131]=Uint16Array,e[33640]=Uint32Array,e[35899]=Uint32Array,e[35902]=Uint32Array,e[36269]=Uint32Array,e[34042]=Uint32Array}function An(e){if(e instanceof Int8Array)return on;if(e instanceof Uint8Array||e instanceof Uint8ClampedArray)return an;if(e instanceof Int16Array)return sn;if(e instanceof Uint16Array)return cn;if(e instanceof Int32Array)return ln;if(e instanceof Uint32Array)return dn;if(e instanceof Float32Array)return un;throw new Error("unsupported typed array type")}function pn(e){if(e===Int8Array)return on;if(e===Uint8Array||e===Uint8ClampedArray)return an;if(e===Int16Array)return sn;if(e===Uint16Array)return cn;if(e===Int32Array)return ln;if(e===Uint32Array)return dn;if(e===Float32Array)return un;throw new Error("unsupported typed array type")}function gn(e){const t=hn[e];if(!t)throw new Error("unknown gl type");return t}const fn=typeof SharedArrayBuffer<"u"?function(e){return e&&e.buffer&&(e.buffer instanceof ArrayBuffer||e.buffer instanceof SharedArrayBuffer)}:function(e){return e&&e.buffer&&e.buffer instanceof ArrayBuffer};function mn(){console.error(...arguments)}const En=new Map;function Cn(e,t){if(!e||"object"!=typeof e)return!1;let n=En.get(t);n||(n=new WeakMap,En.set(t,n));let i=n.get(e);if(void 0===i){const r=Object.prototype.toString.call(e);i=r.substring(8,r.length-1)===t,n.set(e,i)}return i}function In(e,t){return typeof WebGLTexture<"u"&&Cn(t,"WebGLTexture")}const Qn=35044,Un=34962,yn=34660,bn=5120,vn=5121,Rn=5122,Sn=5123,Fn=5124,Bn=5125,Tn=5126,Nn={attribPrefix:""};function _n(e,t,n,i){if(function(e,t){return typeof WebGLBuffer<"u"&&Cn(t,"WebGLBuffer")}(0,t))return t;n=n||Un;const r=e.createBuffer();return function(e,t,n,i,r){e.bindBuffer(t,n),e.bufferData(t,i,r||Qn)}(e,n,r,t,i),r}function wn(e){return"indices"===e}const kn=/coord|texture/i,Dn=/color|colour/i;function Vn(e,t,n){return e.numComponents||e.size||function(e,t){let n;if(n=kn.test(e)?2:Dn.test(e)?4:3,t%n>0)throw new Error("Can not guess numComponents for attribute '".concat(e,"'. Tried ").concat(n," but ").concat(t," values is not evenly divisible by ").concat(n,". You should specify it."));return n}(t,n||function(e){return e.length?e:e.data}(e).length)}function Zn(e,t){if(fn(e))return e;if(fn(e.data))return e.data;Array.isArray(e)&&(e={data:e});let n=e.type?On(e.type):void 0;return n||(n=wn(t)?Uint16Array:Float32Array),new n(e.data)}function Wn(e){return"number"==typeof e?e:e?pn(e):Tn}function On(e){return"number"==typeof e?gn(e):e||Float32Array}function Jn(e,t){return{buffer:t.buffer,numValues:24,type:Wn(t.type),arrayType:On(t.type)}}function xn(e,t){const n=t.data||t,i=On(t.type),r=n*i.BYTES_PER_ELEMENT,o=e.createBuffer();return e.bindBuffer(Un,o),e.bufferData(Un,r,t.drawType||Qn),{buffer:o,numValues:n,type:pn(i),arrayType:i}}function Mn(e,t,n){const i=Zn(t,n);return{arrayType:i.constructor,buffer:_n(e,i,void 0,t.drawType),type:An(i),numValues:0}}function Ln(e,t){const n={};return Object.keys(t).forEach((function(i){if(!wn(i)){const r=t[i],o=r.attrib||r.name||r.attribName||Nn.attribPrefix+i;if(r.value){if(!Array.isArray(r.value)&&!fn(r.value))throw new Error("array.value is not array or typedarray");n[o]={value:r.value}}else{let t;t=r.buffer&&r.buffer instanceof WebGLBuffer?Jn:"number"==typeof r||"number"==typeof r.data?xn:Mn;const{buffer:a,type:s,numValues:c,arrayType:l}=t(e,r,i),d=void 0!==r.normalize?r.normalize:function(e){return e===Int8Array||e===Uint8Array}(l),u=Vn(r,i,c);n[o]={buffer:a,numComponents:u,type:s,normalize:d,stride:r.stride||0,offset:r.offset||0,divisor:void 0===r.divisor?void 0:r.divisor,drawType:r.drawType}}}})),e.bindBuffer(Un,null),n}const Pn=["position","positions","a_position"];function Gn(e,t){let n,i;for(i=0;i<Pn.length&&(n=Pn[i],!(n in t)&&(n=Nn.attribPrefix+n,!(n in t)));++i);i===Pn.length&&(n=Object.keys(t)[0]);const r=t[n];if(!r.buffer)return 1;e.bindBuffer(Un,r.buffer);const o=e.getBufferParameter(Un,yn);e.bindBuffer(Un,null);const a=function(e,t){return t===bn||t===vn?1:t===Rn||t===Sn?2:t===Fn||t===Bn||t===Tn?4:0}(0,r.type),s=o/a,c=r.numComponents||r.size,l=s/c;if(l%1!==0)throw new Error("numComponents ".concat(c," not correct for length ").concat(length));return l}function Yn(e){return!!e.texStorage2D}const jn=function(){const e={},t={};return function(n,i){return function(n){const i=n.constructor.name;if(!e[i]){for(const e in n)if("number"==typeof n[e]){const i=t[n[e]];t[n[e]]=i?"".concat(i," | ").concat(e):e}e[i]=!0}}(n),t[i]||("number"==typeof i?"0x".concat(i.toString(16)):i)}}(),Xn={textureColor:new Uint8Array([128,192,255,255]),textureOptions:{},crossOrigin:void 0},Kn=fn,Hn=function(){let e;return function(){return e=e||(typeof document<"u"&&document.createElement?document.createElement("canvas").getContext("2d"):null),e}}(),zn=6406,qn=6407,$n=6408,ei=6409,ti=6410,ni=6402,ii=34041,ri=33071,oi=9728,ai=9729,si=3553,ci=34067,li=32879,di=35866,ui=34069,hi=34070,Ai=34071,pi=34072,gi=34073,fi=34074,mi=10241,Ei=10240,Ci=10242,Ii=10243,Qi=32882,Ui=33082,yi=33083,bi=33084,vi=33085,Ri=34892,Si=34893,Fi=3317,Bi=3314,Ti=32878,Ni=3316,_i=3315,wi=32877,ki=37443,Di=37441,Vi=37440,Zi=33321,Wi=36756,Oi=33325,Ji=33326,xi=33330,Mi=33329,Li=33338,Pi=33337,Gi=33340,Yi=33339,ji=33323,Xi=36757,Ki=33327,Hi=33328,zi=33336,qi=33335,$i=33332,er=33331,tr=33334,nr=33333,ir=32849,rr=35905,or=36194,ar=36758,sr=35898,cr=35901,lr=34843,dr=34837,ur=36221,hr=36239,Ar=36215,pr=36233,gr=36209,fr=36227,mr=32856,Er=35907,Cr=36759,Ir=32855,Qr=32854,Ur=32857,yr=34842,br=34836,vr=36220,Rr=36238,Sr=36975,Fr=36214,Br=36232,Tr=36226,Nr=36208,_r=33189,wr=33190,kr=36012,Dr=36013,Vr=35056,Zr=5120,Wr=5121,Or=5122,Jr=5123,xr=5124,Mr=5125,Lr=5126,Pr=32819,Gr=32820,Yr=33635,jr=5131,Xr=36193,Kr=33640,Hr=35899,zr=35902,qr=36269,$r=34042,eo=33319,to=33320,no=6403,io=36244,ro=36248,oo=36249;let ao;function so(e){if(!ao){const e={};e[zn]={textureFormat:zn,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1,2,2,4],type:[Wr,jr,Xr,Lr]},e[ei]={textureFormat:ei,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1,2,2,4],type:[Wr,jr,Xr,Lr]},e[ti]={textureFormat:ti,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[2,4,4,8],type:[Wr,jr,Xr,Lr]},e[qn]={textureFormat:qn,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3,6,6,12,2],type:[Wr,jr,Xr,Lr,Yr]},e[$n]={textureFormat:$n,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,8,8,16,2,2],type:[Wr,jr,Xr,Lr,Pr,Gr]},e[ni]={textureFormat:ni,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2,4],type:[Mr,Jr]},e[Zi]={textureFormat:no,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1],type:[Wr]},e[Wi]={textureFormat:no,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[1],type:[Zr]},e[Oi]={textureFormat:no,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[4,2],type:[Lr,jr]},e[Ji]={textureFormat:no,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[4],type:[Lr]},e[xi]={textureFormat:io,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[1],type:[Wr]},e[Mi]={textureFormat:io,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[1],type:[Zr]},e[$i]={textureFormat:io,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[Jr]},e[er]={textureFormat:io,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[Or]},e[tr]={textureFormat:io,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Mr]},e[nr]={textureFormat:io,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[xr]},e[ji]={textureFormat:eo,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[2],type:[Wr]},e[Xi]={textureFormat:eo,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[2],type:[Zr]},e[Ki]={textureFormat:eo,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[8,4],type:[Lr,jr]},e[Hi]={textureFormat:eo,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[8],type:[Lr]},e[zi]={textureFormat:to,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[Wr]},e[qi]={textureFormat:to,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[Zr]},e[Li]={textureFormat:to,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Jr]},e[Pi]={textureFormat:to,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Or]},e[Gi]={textureFormat:to,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[Mr]},e[Yi]={textureFormat:to,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[xr]},e[ir]={textureFormat:qn,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3],type:[Wr]},e[rr]={textureFormat:qn,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[3],type:[Wr]},e[or]={textureFormat:qn,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3,2],type:[Wr,Yr]},e[ar]={textureFormat:qn,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[3],type:[Zr]},e[sr]={textureFormat:qn,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6,4],type:[Lr,jr,Hr]},e[cr]={textureFormat:qn,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6,4],type:[Lr,jr,zr]},e[lr]={textureFormat:qn,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6],type:[Lr,jr]},e[dr]={textureFormat:qn,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[Lr]},e[ur]={textureFormat:ro,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[3],type:[Wr]},e[hr]={textureFormat:ro,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[3],type:[Zr]},e[Ar]={textureFormat:ro,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[6],type:[Jr]},e[pr]={textureFormat:ro,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[6],type:[Or]},e[gr]={textureFormat:ro,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[Mr]},e[fr]={textureFormat:ro,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[xr]},e[mr]={textureFormat:$n,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[Wr]},e[Er]={textureFormat:$n,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[Wr]},e[Cr]={textureFormat:$n,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[4],type:[Zr]},e[Ir]={textureFormat:$n,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,2,4],type:[Wr,Gr,Kr]},e[Qr]={textureFormat:$n,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,2],type:[Wr,Pr]},e[Ur]={textureFormat:$n,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[Kr]},e[yr]={textureFormat:$n,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[16,8],type:[Lr,jr]},e[br]={textureFormat:$n,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[16],type:[Lr]},e[vr]={textureFormat:oo,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Wr]},e[Rr]={textureFormat:oo,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Zr]},e[Sr]={textureFormat:oo,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Kr]},e[Fr]={textureFormat:oo,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[Jr]},e[Br]={textureFormat:oo,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[Or]},e[Tr]={textureFormat:oo,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[16],type:[xr]},e[Nr]={textureFormat:oo,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[16],type:[Mr]},e[_r]={textureFormat:ni,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2,4],type:[Jr,Mr]},e[wr]={textureFormat:ni,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Mr]},e[kr]={textureFormat:ni,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Lr]},e[Vr]={textureFormat:ii,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[$r]},e[Dr]={textureFormat:ii,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[qr]},Object.keys(e).forEach((function(t){const n=e[t];n.bytesPerElementMap={},n.bytesPerElement.forEach((function(e,t){const i=n.type[t];n.bytesPerElementMap[i]=e}))})),ao=e}return ao[e]}function co(e){const t=so(e);if(!t)throw"unknown internal format";return{format:t.textureFormat,type:t.type[0]}}function lo(e){return 0===(e&e-1)}function uo(e,t,n,i,r){if(r%1!==0)throw"can't guess dimensions";if(n||i){if(i){if(!n&&(n=r/i)%1)throw"can't guess dimensions"}else if((i=r/n)%1)throw"can't guess dimensions"}else{const e=Math.sqrt(r/(t===ci?6:1));e%1===0?(n=e,i=e):(n=r,i=1)}return{width:n,height:i}}function ho(e,t){void 0!==t.colorspaceConversion&&e.pixelStorei(ki,t.colorspaceConversion),void 0!==t.premultiplyAlpha&&e.pixelStorei(Di,t.premultiplyAlpha),void 0!==t.flipY&&e.pixelStorei(Vi,t.flipY)}function Ao(e){e.pixelStorei(Fi,4),Yn(e)&&(e.pixelStorei(Bi,0),e.pixelStorei(Ti,0),e.pixelStorei(Ni,0),e.pixelStorei(_i,0),e.pixelStorei(wi,0))}function po(e,t,n,i){i.minMag&&(n.call(e,t,mi,i.minMag),n.call(e,t,Ei,i.minMag)),i.min&&n.call(e,t,mi,i.min),i.mag&&n.call(e,t,Ei,i.mag),i.wrap&&(n.call(e,t,Ci,i.wrap),n.call(e,t,Ii,i.wrap),(t===li||function(e,t){return typeof WebGLSampler<"u"&&Cn(t,"WebGLSampler")}(0,t))&&n.call(e,t,Qi,i.wrap)),i.wrapR&&n.call(e,t,Qi,i.wrapR),i.wrapS&&n.call(e,t,Ci,i.wrapS),i.wrapT&&n.call(e,t,Ii,i.wrapT),void 0!==i.minLod&&n.call(e,t,Ui,i.minLod),void 0!==i.maxLod&&n.call(e,t,yi,i.maxLod),void 0!==i.baseLevel&&n.call(e,t,bi,i.baseLevel),void 0!==i.maxLevel&&n.call(e,t,vi,i.maxLevel),void 0!==i.compareFunc&&n.call(e,t,Si,i.compareFunc),void 0!==i.compareMode&&n.call(e,t,Ri,i.compareMode)}function go(e,t,n){const i=n.target||si;e.bindTexture(i,t),po(e,i,e.texParameteri,n)}function fo(e,t,n,i,r,o){n=n||Xn.textureOptions,o=o||$n;const a=n.target||si;if(i=i||n.width,r=r||n.height,e.bindTexture(a,t),function(e,t,n,i){if(!Yn(e))return lo(t)&&lo(n);const r=so(i);if(!r)throw"unknown internal format";return r.colorRenderable&&r.textureFilterable}(e,i,r,o))e.generateMipmap(a);else{const t=function(e){const t=so(e);if(!t)throw"unknown internal format";return t.textureFilterable}(o)?ai:oi;e.texParameteri(a,mi,t),e.texParameteri(a,Ei,t),e.texParameteri(a,Ci,ri),e.texParameteri(a,Ii,ri)}}function mo(e){return!0===e.auto||void 0===e.auto&&void 0===e.level}function Eo(e,t){return(t=t||{}).cubeFaceOrder||[ui,hi,Ai,pi,gi,fi]}function Co(e,t){const n=Eo(0,t).map((function(e,t){return{face:e,ndx:t}}));return n.sort((function(e,t){return e.face-t.face})),n}function Io(e,t,n,i){const r=(i=i||Xn.textureOptions).target||si,o=i.level||0;let a=n.width,s=n.height;const c=i.internalFormat||i.format||$n,l=co(c),d=i.format||l.format,u=i.type||l.type;if(ho(e,i),e.bindTexture(r,t),r===ci){const l=n.width,h=n.height;let A,p;if(l/6===h)A=h,p=[0,0,1,0,2,0,3,0,4,0,5,0];else if(h/6===l)A=l,p=[0,0,0,1,0,2,0,3,0,4,0,5];else if(l/3===h/2)A=l/3,p=[0,0,1,0,2,0,0,1,1,1,2,1];else{if(l/2!==h/3)throw"can't figure out cube map from element: "+(n.src?n.src:n.nodeName);A=l/2,p=[0,0,1,0,0,1,1,1,0,2,1,2]}const g=Hn();g?(g.canvas.width=A,g.canvas.height=A,a=A,s=A,Co(0,i).forEach((function(t){const i=p[2*t.ndx+0]*A,r=p[2*t.ndx+1]*A;g.drawImage(n,i,r,A,A,0,0,A,A),e.texImage2D(t.face,o,c,d,u,g.canvas)})),g.canvas.width=1,g.canvas.height=1):typeof createImageBitmap<"u"&&(a=A,s=A,Co(0,i).forEach((function(l){const h=p[2*l.ndx+0]*A,g=p[2*l.ndx+1]*A;e.texImage2D(l.face,o,c,A,A,0,d,u,null),createImageBitmap(n,h,g,A,A,{premultiplyAlpha:"none",colorSpaceConversion:"none"}).then((function(n){ho(e,i),e.bindTexture(r,t),e.texImage2D(l.face,o,c,d,u,n),mo(i)&&fo(e,t,i,a,s,c)}))})))}else if(r===li||r===di){const t=Math.min(n.width,n.height),i=Math.max(n.width,n.height),a=i/t;if(a%1!==0)throw"can not compute 3D dimensions of element";const s=n.width===i?1:0,l=n.height===i?1:0;e.pixelStorei(Fi,1),e.pixelStorei(Bi,n.width),e.pixelStorei(Ti,0),e.pixelStorei(wi,0),e.texImage3D(r,o,c,t,t,t,0,d,u,null);for(let c=0;c<a;++c){const i=c*t*s,a=c*t*l;e.pixelStorei(Ni,i),e.pixelStorei(_i,a),e.texSubImage3D(r,o,0,0,c,t,t,1,d,u,n)}Ao(e)}else e.texImage2D(r,o,c,d,u,n);mo(i)&&fo(e,t,i,a,s,c),go(e,t,i)}function Qo(){}function Uo(e,t){return void 0!==t||function(e){if(typeof document<"u"){const t=document.createElement("a");return t.href=e,t.hostname===location.hostname&&t.port===location.port&&t.protocol===location.protocol}{const t=new URL(location.href).origin;return new URL(e,location.href).origin===t}}(e)?t:"anonymous"}function yo(e){return typeof ImageBitmap<"u"&&e instanceof ImageBitmap||typeof ImageData<"u"&&e instanceof ImageData||typeof HTMLElement<"u"&&e instanceof HTMLElement}function bo(e,t,n){return yo(e)?(setTimeout((function(){n(null,e)})),e):function(e,t,n){let i;if(n=n||Qo,t=void 0!==t?t:Xn.crossOrigin,t=Uo(e,t),typeof Image<"u"){i=new Image,void 0!==t&&(i.crossOrigin=t);const r=function(){i.removeEventListener("error",o),i.removeEventListener("load",a),i=null},o=function(){const t="couldn't load image: "+e;mn(t),n(t,i),r()},a=function(){n(null,i),r()};return i.addEventListener("error",o),i.addEventListener("load",a),i.src=e,i}if(typeof ImageBitmap<"u"){let r,o;const a=function(){n(r,o)},s={};t&&(s.mode="cors"),fetch(e,s).then((function(e){if(!e.ok)throw e;return e.blob()})).then((function(e){return createImageBitmap(e,{premultiplyAlpha:"none",colorSpaceConversion:"none"})})).then((function(e){o=e,setTimeout(a)})).catch((function(e){r=e,setTimeout(a)})),i=null}return i}(e,t,n)}function vo(e,t,n){const i=(n=n||Xn.textureOptions).target||si;if(e.bindTexture(i,t),!1===n.color)return;const r=function(e){return e=e||Xn.textureColor,Kn(e)?e:new Uint8Array([255*e[0],255*e[1],255*e[2],255*e[3]])}(n.color);if(i===ci)for(let o=0;o<6;++o)e.texImage2D(ui+o,0,$n,1,1,0,$n,Wr,r);else i===li||i===di?e.texImage3D(i,0,$n,1,1,1,0,$n,Wr,r):e.texImage2D(i,0,$n,1,1,0,$n,Wr,r)}function Ro(e,t,n,i){i=i||Qo;const r=n.src;if(6!==r.length)throw"there must be 6 urls for a cubemap";const o=n.level||0,a=n.internalFormat||n.format||$n,s=co(a),c=n.format||s.format,l=n.type||Wr,d=n.target||si;if(d!==ci)throw"target must be TEXTURE_CUBE_MAP";vo(e,t,n),n=Object.assign({},n);let u=6;const h=[],A=Eo(0,n);let p;p=r.map((function(r,s){return bo(r,n.crossOrigin,function(r){return function(s,A){--u,s?h.push(s):A.width!==A.height?h.push("cubemap face img is not a square: "+A.src):(ho(e,n),e.bindTexture(d,t),5===u?Eo().forEach((function(t){e.texImage2D(t,o,a,c,l,A)})):e.texImage2D(r,o,a,c,l,A),mo(n)&&e.generateMipmap(d)),0===u&&i(h.length?h:void 0,t,p)}}(A[s]))}))}function So(e,t,n,i){i=i||Qo;const r=n.src,o=n.internalFormat||n.format||$n,a=co(o),s=n.format||a.format,c=n.type||Wr,l=n.target||di;if(l!==li&&l!==di)throw"target must be TEXTURE_3D or TEXTURE_2D_ARRAY";vo(e,t,n),n=Object.assign({},n);let d=r.length;const u=[];let h;const A=n.level||0;let p=n.width,g=n.height;const f=r.length;let m=!0;h=r.map((function(r,a){return bo(r,n.crossOrigin,function(r){return function(a,E){if(--d,a)u.push(a);else{if(ho(e,n),e.bindTexture(l,t),m){m=!1,p=n.width||E.width,g=n.height||E.height,e.texImage3D(l,A,o,p,g,f,0,s,c,null);for(let t=0;t<f;++t)e.texSubImage3D(l,A,0,0,t,p,g,1,s,c,E)}else{let t,n=E;(E.width!==p||E.height!==g)&&(t=Hn(),n=t.canvas,t.canvas.width=p,t.canvas.height=g,t.drawImage(E,0,0,p,g)),e.texSubImage3D(l,A,0,0,r,p,g,1,s,c,n),t&&n===t.canvas&&(t.canvas.width=0,t.canvas.height=0)}mo(n)&&e.generateMipmap(l)}0===d&&i(u.length?u:void 0,t,h)}}(a))}))}function Fo(e,t,n,i){const r=(i=i||Xn.textureOptions).target||si;e.bindTexture(r,t);let o=i.width,a=i.height,s=i.depth;const c=i.level||0,l=i.internalFormat||i.format||$n,d=co(l),u=i.format||d.format,h=i.type||function(e,t,n){return Kn(t)?An(t):n||Wr}(0,n,d.type);if(Kn(n))n instanceof Uint8ClampedArray&&(n=new Uint8Array(n.buffer));else{const e=gn(h);n=new e(n)}const A=function(e,t){const n=so(e);if(!n)throw"unknown internal format";const i=n.bytesPerElementMap[t];if(void 0===i)throw"unknown internal format";return i}(l,h),p=n.byteLength/A;if(p%1)throw"length wrong size for format: "+jn(e,u);let g;if(r===li||r===di)if(o||a||s)!o||a&&s?!a||o&&s?(g=uo(0,r,o,a,p/s),o=g.width,a=g.height):(g=uo(0,r,o,s,p/a),o=g.width,s=g.height):(g=uo(0,r,a,s,p/o),a=g.width,s=g.height);else{const e=Math.cbrt(p);if(e%1!==0)throw"can't guess cube size of array of numElements: "+p;o=e,a=e,s=e}else g=uo(0,r,o,a,p),o=g.width,a=g.height;if(Ao(e),e.pixelStorei(Fi,i.unpackAlignment||1),ho(e,i),r===ci){const t=p/6*(A/n.BYTES_PER_ELEMENT);Co(0,i).forEach((i=>{const r=t*i.ndx,s=n.subarray(r,r+t);e.texImage2D(i.face,c,l,o,a,0,u,h,s)}))}else r===li||r===di?e.texImage3D(r,c,l,o,a,s,0,u,h,n):e.texImage2D(r,c,l,o,a,0,u,h,n);return{width:o,height:a,depth:s,type:h}}function Bo(e,t,n){n=n||Qo,t=t||Xn.textureOptions;const i=e.createTexture(),r=t.target||si;let o=t.width||1,a=t.height||1;const s=t.internalFormat||$n;e.bindTexture(r,i),r===ci&&(e.texParameteri(r,Ci,ri),e.texParameteri(r,Ii,ri));let c=t.src;if(c)if("function"==typeof c&&(c=c(e,t)),"string"==typeof c)!function(e,t,n,i){i=i||Qo,n=n||Xn.textureOptions,vo(e,t,n),bo((n=Object.assign({},n)).src,n.crossOrigin,(function(r,o){r?i(r,t,o):(Io(e,t,o,n),i(null,t,o))}))}(e,i,t,n);else if(Kn(c)||Array.isArray(c)&&("number"==typeof c[0]||Array.isArray(c[0])||Kn(c[0]))){const n=Fo(e,i,c,t);o=n.width,a=n.height}else Array.isArray(c)&&("string"==typeof c[0]||yo(c[0]))?r===ci?Ro(e,i,t,n):So(e,i,t,n):(Io(e,i,c,t),o=c.width,a=c.height);else!function(e,t,n){const i=n.target||si;e.bindTexture(i,t);const r=n.level||0,o=n.internalFormat||n.format||$n,a=co(o),s=n.format||a.format,c=n.type||a.type;if(ho(e,n),i===ci)for(let l=0;l<6;++l)e.texImage2D(ui+l,r,o,n.width,n.height,0,s,c,null);else i===li||i===di?e.texImage3D(i,r,o,n.width,n.height,n.depth,0,s,c,null):e.texImage2D(i,r,o,n.width,n.height,0,s,c,null)}(e,i,t);return mo(t)&&fo(e,i,t,o,a,s),go(e,i,t),i}const To=mn;function No(e){return typeof document<"u"&&document.getElementById?document.getElementById(e):null}const _o=33984,wo=34962,ko=35713,Do=35714,Vo=35632,Zo=35633,Wo=35981,Oo=35718,Jo=35721,xo=35971,Mo=35382,Lo=35396,Po=35398,Go=35392,Yo=35395,jo=5126,Xo=5124,Ko=5125,Ho=3553,zo=34067,qo=32879,$o=35866,ea={};function ta(e,t){return ea[t].bindPoint}function na(e,t){return function(n){e.uniform1i(t,n)}}function ia(e,t){return function(n){e.uniform1iv(t,n)}}function ra(e,t){return function(n){e.uniform2iv(t,n)}}function oa(e,t){return function(n){e.uniform3iv(t,n)}}function aa(e,t){return function(n){e.uniform4iv(t,n)}}function sa(e,t,n,i){const r=ta(0,t);return Yn(e)?function(t){let o,a;!t||In(0,t)?(o=t,a=null):(o=t.texture,a=t.sampler),e.uniform1i(i,n),e.activeTexture(_o+n),e.bindTexture(r,o),e.bindSampler(n,a)}:function(t){e.uniform1i(i,n),e.activeTexture(_o+n),e.bindTexture(r,t)}}function ca(e,t,n,i,r){const o=ta(0,t),a=new Int32Array(r);for(let s=0;s<r;++s)a[s]=n+s;return Yn(e)?function(t){e.uniform1iv(i,a),t.forEach((function(t,i){let r,s;e.activeTexture(_o+a[i]),!t||In(0,t)?(r=t,s=null):(r=t.texture,s=t.sampler),e.bindSampler(n,s),e.bindTexture(o,r)}))}:function(t){e.uniform1iv(i,a),t.forEach((function(t,n){e.activeTexture(_o+a[n]),e.bindTexture(o,t)}))}}function la(e,t){return function(n){if(n.value)switch(e.disableVertexAttribArray(t),n.value.length){case 4:e.vertexAttrib4fv(t,n.value);break;case 3:e.vertexAttrib3fv(t,n.value);break;case 2:e.vertexAttrib2fv(t,n.value);break;case 1:e.vertexAttrib1fv(t,n.value);break;default:throw new Error("the length of a float constant value must be between 1 and 4!")}else e.bindBuffer(wo,n.buffer),e.enableVertexAttribArray(t),e.vertexAttribPointer(t,n.numComponents||n.size,n.type||jo,n.normalize||!1,n.stride||0,n.offset||0),e.vertexAttribDivisor&&e.vertexAttribDivisor(t,n.divisor||0)}}function da(e,t){return function(n){if(n.value){if(e.disableVertexAttribArray(t),4!==n.value.length)throw new Error("The length of an integer constant value must be 4!");e.vertexAttrib4iv(t,n.value)}else e.bindBuffer(wo,n.buffer),e.enableVertexAttribArray(t),e.vertexAttribIPointer(t,n.numComponents||n.size,n.type||Xo,n.stride||0,n.offset||0),e.vertexAttribDivisor&&e.vertexAttribDivisor(t,n.divisor||0)}}function ua(e,t){return function(n){if(n.value){if(e.disableVertexAttribArray(t),4!==n.value.length)throw new Error("The length of an unsigned integer constant value must be 4!");e.vertexAttrib4uiv(t,n.value)}else e.bindBuffer(wo,n.buffer),e.enableVertexAttribArray(t),e.vertexAttribIPointer(t,n.numComponents||n.size,n.type||Ko,n.stride||0,n.offset||0),e.vertexAttribDivisor&&e.vertexAttribDivisor(t,n.divisor||0)}}function ha(e,t,n){const i=n.size,r=n.count;return function(n){e.bindBuffer(wo,n.buffer);const o=n.size||n.numComponents||i,a=o/r,s=n.type||jo,c=ea[s].size*o,l=n.normalize||!1,d=n.offset||0,u=c/r;for(let i=0;i<r;++i)e.enableVertexAttribArray(t+i),e.vertexAttribPointer(t+i,a,s,l,c,d+u*i),e.vertexAttribDivisor&&e.vertexAttribDivisor(t+i,n.divisor||0)}}ea[jo]={Type:Float32Array,size:4,setter:function(e,t){return function(n){e.uniform1f(t,n)}},arraySetter:function(e,t){return function(n){e.uniform1fv(t,n)}}},ea[35664]={Type:Float32Array,size:8,setter:function(e,t){return function(n){e.uniform2fv(t,n)}},cols:2},ea[35665]={Type:Float32Array,size:12,setter:function(e,t){return function(n){e.uniform3fv(t,n)}},cols:3},ea[35666]={Type:Float32Array,size:16,setter:function(e,t){return function(n){e.uniform4fv(t,n)}},cols:4},ea[Xo]={Type:Int32Array,size:4,setter:na,arraySetter:ia},ea[35667]={Type:Int32Array,size:8,setter:ra,cols:2},ea[35668]={Type:Int32Array,size:12,setter:oa,cols:3},ea[35669]={Type:Int32Array,size:16,setter:aa,cols:4},ea[Ko]={Type:Uint32Array,size:4,setter:function(e,t){return function(n){e.uniform1ui(t,n)}},arraySetter:function(e,t){return function(n){e.uniform1uiv(t,n)}}},ea[36294]={Type:Uint32Array,size:8,setter:function(e,t){return function(n){e.uniform2uiv(t,n)}},cols:2},ea[36295]={Type:Uint32Array,size:12,setter:function(e,t){return function(n){e.uniform3uiv(t,n)}},cols:3},ea[36296]={Type:Uint32Array,size:16,setter:function(e,t){return function(n){e.uniform4uiv(t,n)}},cols:4},ea[35670]={Type:Uint32Array,size:4,setter:na,arraySetter:ia},ea[35671]={Type:Uint32Array,size:8,setter:ra,cols:2},ea[35672]={Type:Uint32Array,size:12,setter:oa,cols:3},ea[35673]={Type:Uint32Array,size:16,setter:aa,cols:4},ea[35674]={Type:Float32Array,size:32,setter:function(e,t){return function(n){e.uniformMatrix2fv(t,!1,n)}},rows:2,cols:2},ea[35675]={Type:Float32Array,size:48,setter:function(e,t){return function(n){e.uniformMatrix3fv(t,!1,n)}},rows:3,cols:3},ea[35676]={Type:Float32Array,size:64,setter:function(e,t){return function(n){e.uniformMatrix4fv(t,!1,n)}},rows:4,cols:4},ea[35685]={Type:Float32Array,size:32,setter:function(e,t){return function(n){e.uniformMatrix2x3fv(t,!1,n)}},rows:2,cols:3},ea[35686]={Type:Float32Array,size:32,setter:function(e,t){return function(n){e.uniformMatrix2x4fv(t,!1,n)}},rows:2,cols:4},ea[35687]={Type:Float32Array,size:48,setter:function(e,t){return function(n){e.uniformMatrix3x2fv(t,!1,n)}},rows:3,cols:2},ea[35688]={Type:Float32Array,size:48,setter:function(e,t){return function(n){e.uniformMatrix3x4fv(t,!1,n)}},rows:3,cols:4},ea[35689]={Type:Float32Array,size:64,setter:function(e,t){return function(n){e.uniformMatrix4x2fv(t,!1,n)}},rows:4,cols:2},ea[35690]={Type:Float32Array,size:64,setter:function(e,t){return function(n){e.uniformMatrix4x3fv(t,!1,n)}},rows:4,cols:3},ea[35678]={Type:null,size:0,setter:sa,arraySetter:ca,bindPoint:Ho},ea[35680]={Type:null,size:0,setter:sa,arraySetter:ca,bindPoint:zo},ea[35679]={Type:null,size:0,setter:sa,arraySetter:ca,bindPoint:qo},ea[35682]={Type:null,size:0,setter:sa,arraySetter:ca,bindPoint:Ho},ea[36289]={Type:null,size:0,setter:sa,arraySetter:ca,bindPoint:$o},ea[36292]={Type:null,size:0,setter:sa,arraySetter:ca,bindPoint:$o},ea[36293]={Type:null,size:0,setter:sa,arraySetter:ca,bindPoint:zo},ea[36298]={Type:null,size:0,setter:sa,arraySetter:ca,bindPoint:Ho},ea[36299]={Type:null,size:0,setter:sa,arraySetter:ca,bindPoint:qo},ea[36300]={Type:null,size:0,setter:sa,arraySetter:ca,bindPoint:zo},ea[36303]={Type:null,size:0,setter:sa,arraySetter:ca,bindPoint:$o},ea[36306]={Type:null,size:0,setter:sa,arraySetter:ca,bindPoint:Ho},ea[36307]={Type:null,size:0,setter:sa,arraySetter:ca,bindPoint:qo},ea[36308]={Type:null,size:0,setter:sa,arraySetter:ca,bindPoint:zo},ea[36311]={Type:null,size:0,setter:sa,arraySetter:ca,bindPoint:$o};const Aa={};Aa[jo]={size:4,setter:la},Aa[35664]={size:8,setter:la},Aa[35665]={size:12,setter:la},Aa[35666]={size:16,setter:la},Aa[Xo]={size:4,setter:da},Aa[35667]={size:8,setter:da},Aa[35668]={size:12,setter:da},Aa[35669]={size:16,setter:da},Aa[Ko]={size:4,setter:ua},Aa[36294]={size:8,setter:ua},Aa[36295]={size:12,setter:ua},Aa[36296]={size:16,setter:ua},Aa[35670]={size:4,setter:da},Aa[35671]={size:8,setter:da},Aa[35672]={size:12,setter:da},Aa[35673]={size:16,setter:da},Aa[35674]={size:4,setter:ha,count:2},Aa[35675]={size:9,setter:ha,count:3},Aa[35676]={size:16,setter:ha,count:4};const pa=/ERROR:\s*\d+:(\d+)/gi,ga=/^[ \t]*\n/;function fa(e){let t=0;return ga.test(e)&&(t=1,e=e.replace(ga,"")),{lineOffset:t,shaderSource:e}}function ma(e,t,n,i){if(i=i||To,!e.getShaderParameter(n,ko)){const r=e.getShaderInfoLog(n),{lineOffset:o,shaderSource:a}=fa(e.getShaderSource(n)),s="".concat(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const i=[...t.matchAll(pa)],r=new Map(i.map(((e,n)=>{const r=parseInt(e[1]),o=i[n+1],a=o?o.index:t.length;return[r-1,t.substring(e.index,a)]})));return e.split("\n").map(((e,t)=>{const i=r.get(t);return"".concat(t+1+n,": ").concat(e).concat(i?"\n\n^^^ ".concat(i):"")})).join("\n")}(a,r,o),"\nError compiling ").concat(jn(e,t),": ").concat(r);return i(s),s}return""}function Ea(e,t,n){let i,r,o;if("function"==typeof t&&(n=t,t=void 0),"function"==typeof e)n=e,e=void 0;else if(e&&!Array.isArray(e)){const t=e;n=t.errorCallback,e=t.attribLocations,i=t.transformFeedbackVaryings,r=t.transformFeedbackMode,o=t.callback}const a=n||To,s=[],c={errorCallback(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];s.push(e),a(e,...n)},transformFeedbackVaryings:i,transformFeedbackMode:r,callback:o,errors:s};{let n={};Array.isArray(e)?e.forEach((function(e,i){n[e]=t?t[i]:i})):n=e||{},c.attribLocations=n}return c}const Ca=["VERTEX_SHADER","FRAGMENT_SHADER"];function Ia(e,t){return t.indexOf("frag")>=0?Vo:t.indexOf("vert")>=0?Zo:void 0}const Qa=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new e((e=>setTimeout(e,t)))};function Ua(e,t,n,i,r){const o=Ea(n,i,r),a=new Set(t),s=function(e,t,n){const i=e.createProgram(),{attribLocations:r,transformFeedbackVaryings:o,transformFeedbackMode:a}=Ea(n);for(let s=0;s<t.length;++s){let n=t[s];if("string"==typeof n){const t=No(n),r=t?t.text:n;let o=e[Ca[s]];t&&t.type&&(o=Ia(0,t.type)||o),n=e.createShader(o),e.shaderSource(n,fa(r).shaderSource),e.compileShader(n),e.attachShader(i,n)}}Object.entries(r).forEach((t=>{let[n,r]=t;return e.bindAttribLocation(i,r,n)}));{let t=o;t&&(t.attribs&&(t=t.attribs),Array.isArray(t)||(t=Object.keys(t)),e.transformFeedbackVaryings(i,t,a||Wo))}return e.linkProgram(i),i}(e,t,o);function c(e,t){const n=function(e,t,n){if(n=n||To,!e.getProgramParameter(t,Do)){const i=e.getProgramInfoLog(t);n("Error in program linking: ".concat(i));const r=e.getAttachedShaders(t).map((t=>ma(e,e.getShaderParameter(t,e.SHADER_TYPE),t,n)));return"".concat(i,"\n").concat(r.filter((e=>e)).join("\n"))}}(e,t,o.errorCallback);return n&&function(e,t,n){const i=e.getAttachedShaders(t);for(const r of i)n.has(r)&&e.deleteShader(r);e.deleteProgram(t)}(e,t,a),n}if(!o.callback)return c(e,s)?void 0:s;(async function(e,t){const n=e.getExtension("KHR_parallel_shader_compile"),i=n?(e,t)=>e.getProgramParameter(t,n.COMPLETION_STATUS_KHR):()=>!0;let r=0;do{await Qa(r),r=1e3/60}while(!i(e,t))})(e,s).then((()=>{const t=c(e,s);o.callback(t,t?void 0:s)}))}function ya(e){const t=e.name;return t.startsWith("gl_")||t.startsWith("webgl_")}const ba=/(\.|\[|]|\w+)/g,va=e=>e>="0"&&e<="9";function Ra(e,t,n,i){const r=e.split(ba).filter((e=>""!==e));let o=0,a="";for(;;){const e=r[o++];a+=e;const s=va(e[0]),c=s?parseInt(e):e;if(s&&(a+=r[o++]),o===r.length){n[c]=t;break}{const e=r[o++],t="["===e,s=n[c]||(t?[]:{});n[c]=s,n=s,i[a]=i[a]||function(e){return function(t){Sa(e,t)}}(s),a+=e}}}function Sa(e,t){for(const n in t){const i=e[n];"function"==typeof i?i(t[n]):Sa(e[n],t[n])}}function Fa(e){const t=e.uniformSetters||e,n=arguments.length<=1?0:arguments.length-1;for(let i=0;i<n;++i){const e=i+1<1||arguments.length<=i+1?void 0:arguments[i+1];if(Array.isArray(e)){const n=e.length;for(let i=0;i<n;++i)Fa(t,e[i])}else for(const n in e){const i=t[n];i&&i(e[n])}}}function Ba(e,t){const n=function(e,t){let n=0;function i(t,i,r){const o=i.name.endsWith("[0]"),a=i.type,s=ea[a];if(!s)throw new Error("unknown type: 0x".concat(a.toString(16)));let c;if(s.bindPoint){const t=n;n+=i.size,c=o?s.arraySetter(e,a,t,r,i.size):s.setter(e,a,t,r,i.size)}else c=s.arraySetter&&o?s.arraySetter(e,r):s.setter(e,r);return c.location=r,c}const r={},o={},a=e.getProgramParameter(t,Oo);for(let s=0;s<a;++s){const n=e.getActiveUniform(t,s);if(ya(n))continue;let a=n.name;a.endsWith("[0]")&&(a=a.substr(0,a.length-3));const c=e.getUniformLocation(t,n.name);if(c){const e=i(0,n,c);r[a]=e,Ra(a,e,o,r)}}return r}(e,t),i=function(e,t){const n={},i=e.getProgramParameter(t,Jo);for(let r=0;r<i;++r){const i=e.getActiveAttrib(t,r);if(ya(i))continue;const o=e.getAttribLocation(t,i.name),a=Aa[i.type],s=a.setter(e,o,a);s.location=o,n[i.name]=s}return n}(e,t),r={program:t,uniformSetters:n,attribSetters:i};return Yn(e)&&(r.uniformBlockSpec=function(e,t){const n=e.getProgramParameter(t,Oo),i=[],r=[];for(let s=0;s<n;++s){r.push(s),i.push({});const n=e.getActiveUniform(t,s);i[s].name=n.name}[["UNIFORM_TYPE","type"],["UNIFORM_SIZE","size"],["UNIFORM_BLOCK_INDEX","blockNdx"],["UNIFORM_OFFSET","offset"]].forEach((function(n){const o=n[0],a=n[1];e.getActiveUniforms(t,r,e[o]).forEach((function(e,t){i[t][a]=e}))}));const o={},a=e.getProgramParameter(t,Mo);for(let s=0;s<a;++s){const n=e.getActiveUniformBlockName(t,s),i={index:e.getUniformBlockIndex(t,n),usedByVertexShader:e.getActiveUniformBlockParameter(t,s,Lo),usedByFragmentShader:e.getActiveUniformBlockParameter(t,s,Po),size:e.getActiveUniformBlockParameter(t,s,Go),uniformIndices:e.getActiveUniformBlockParameter(t,s,Yo)};i.used=i.usedByVertexShader||i.usedByFragmentShader,o[n]=i}return{blockSpecs:o,uniformData:i}}(e,t),r.transformFeedbackInfo=function(e,t){const n={},i=e.getProgramParameter(t,xo);for(let r=0;r<i;++r){const i=e.getTransformFeedbackVarying(t,r);n[i.name]={index:r,type:i.type,size:i.size}}return n}(e,t)),r}const Ta=/\s|{|}|;/;function Na(e,t,n,i,r){const o=Ea(n,i,r),a=[];if(t=t.map((function(e){if(!Ta.test(e)){const t=No(e);if(t)e=t.text;else{const t="no element with id: ".concat(e);o.errorCallback(t),a.push(t)}}return e})),a.length)return function(e,t){return e.errorCallback(t),e.callback&&setTimeout((()=>{e.callback("".concat(t,"\n").concat(e.errors.join("\n")))})),null}(o,"");const s=o.callback;s&&(o.callback=(t,n)=>{s(t,t?void 0:Ba(e,n))});const c=function(e,t,n,i,r){return Ua(e,t,n,i,r)}(e,t,o);return c?Ba(e,c):null}const _a=36161,wa=34041,ka=36064,Da=36096,Va=33306,Za=33071,Wa=9729,Oa=[{format:6408,type:5121,min:Wa,wrap:Za},{format:wa}],Ja={};Ja[wa]=Va,Ja[6401]=36128,Ja[36168]=36128,Ja[6402]=Da,Ja[33189]=Da,Ja[33190]=Da,Ja[36012]=Da,Ja[35056]=Va,Ja[36013]=Va;const xa={32854:!0,32855:!0,36194:!0,34041:!0,33189:!0,6401:!0,36168:!0},Ma=32;function La(e,t,n,i){const r=36160,o=e.createFramebuffer();e.bindFramebuffer(r,o),n=n||e.drawingBufferWidth,i=i||e.drawingBufferHeight;const a=[],s={framebuffer:o,attachments:[],width:n,height:i};return(t=t||Oa).forEach((function(t,o){let c=t.attachment;const l=t.samples,d=t.format;let u=t.attachmentPoint||function(e,t){return Ja[e]||Ja[t]}(d,t.internalFormat);if(u||(u=ka+o),function(e){return e>=ka&&e<ka+Ma}(u)&&a.push(u),!c)if(void 0!==l||function(e){return xa[e]}(d))c=e.createRenderbuffer(),e.bindRenderbuffer(_a,c),l>1?e.renderbufferStorageMultisample(_a,l,d,n,i):e.renderbufferStorage(_a,d,n,i);else{const r=Object.assign({},t);r.width=n,r.height=i,void 0===r.auto&&(r.auto=!1,r.min=r.min||r.minMag||Wa,r.mag=r.mag||r.minMag||Wa,r.wrapS=r.wrapS||r.wrap||Za,r.wrapT=r.wrapT||r.wrap||Za),c=Bo(e,r)}if(function(e,t){return typeof WebGLRenderbuffer<"u"&&Cn(t,"WebGLRenderbuffer")}(0,c))e.framebufferRenderbuffer(r,u,_a,c);else{if(!In(0,c))throw new Error("unknown attachment type");void 0!==t.layer?e.framebufferTextureLayer(r,u,c,t.level||0,t.layer):e.framebufferTexture2D(r,u,t.target||3553,c,t.level||0)}s.attachments.push(c)})),e.drawBuffers&&e.drawBuffers(a),s}function Pa(e,t){return()=>t instanceof WebGLTexture?t:Bo(e,{src:t,wrap:e.CLAMP_TO_EDGE})}class Ga{constructor(e){a(this,"id","_"),a(this,"context"),a(this,"output"),a(this,"fbi"),a(this,"options"),a(this,"programInfo"),a(this,"bufferInfo"),a(this,"profiler"),a(this,"lastRun");const{context:t,width:n,height:i}=e;this.context=t,this.options=e;const r=this.buildDefines();this.programInfo=Na(this.context,[r+this.getVertexShader(),r+this.getFragmentShader()]),this.bufferInfo=function(e,t,n){const i=Ln(e,t),r=Object.assign({},n||{});r.attribs=Object.assign({},n?n.attribs:{},i);const o=t.indices;if(o){const t=Zn(o,"indices");r.indices=_n(e,t,34963),r.numElements=t.length,r.elementType=An(t)}else r.numElements||(r.numElements=Gn(e,r.attribs));return r}(this.context,this.getBuffers()),this.fbi=La(this.context,[{format:this.context.RGBA,type:this.context.UNSIGNED_BYTE,min:this.context.LINEAR,wrap:this.context.CLAMP_TO_EDGE}],n,i),this.output=this.fbi.attachments[0]}resizeOutput(e,t){this.fbi=La(this.context,[{format:this.context.RGBA,type:this.context.UNSIGNED_BYTE,min:this.context.LINEAR,wrap:this.context.CLAMP_TO_EDGE}],e,t),this.options.width=e,this.options.height=t,this.output=this.fbi.attachments[0]}getDefines(){return{}}getBuffers(){return{position:{numComponents:2,data:[-1,-1,-1,1,1,-1,1,1,-1,1,1,-1]},texture_coord:{numComponents:2,data:[0,0,0,1,1,0,1,1,0,1,1,0]}}}buildDefines(){let e="";const t=this.getDefines();for(let n in t)e+="#define ".concat(n," ").concat(t[n].toFixed(1),"\n");return e}run(e){var t,n,i,r,o,a;null==(t=this.profiler)||t.pushContext("[".concat(this.id,"] PROG : ").concat(this.constructor.name)),null==(n=this.profiler)||n.pushContext("[".concat(this.id,"] UNIFORMS"));for(const l in e)"function"==typeof e[l]&&(null==(i=this.profiler)||i.pushContext("[".concat(this.id,"] UNI : ").concat(l)),e[l]=e[l](),null==(r=this.profiler)||r.popContext("[".concat(this.id,"] UNI : ").concat(l)));null==(o=this.profiler)||o.popContext("[".concat(this.id,"] UNIFORMS"));const s=Date.now();let c=0;this.lastRun&&(c=(s-this.lastRun)/1e3),this.lastRun=s,this.context.viewport(0,0,this.context.canvas.width,this.context.canvas.height),this.context.useProgram(this.programInfo.program),function(e,t,n){n.vertexArrayObject?e.bindVertexArray(n.vertexArrayObject):(function(e,t){for(const n in t){const i=e[n];i&&i(t[n])}}(t.attribSetters||t,n.attribs),n.indices&&e.bindBuffer(34963,n.indices))}(this.context,this.programInfo,this.bufferInfo),Fa(this.programInfo,{delta:c,canvas:[this.context.canvas.width,this.context.canvas.height],...e}),function(e,t,n){n=n||36160,t?(e.bindFramebuffer(n,t.framebuffer),e.viewport(0,0,t.width,t.height)):(e.bindFramebuffer(n,null),e.viewport(0,0,e.drawingBufferWidth,e.drawingBufferHeight))}(this.context,this.options.disableFramebuffer?null:this.fbi),function(e,t,n,i,r,o){n=void 0===n?4:n;const a=t.indices,s=t.elementType,c=void 0===i?t.numElements:i;r=void 0===r?0:r,s||a?void 0!==o?e.drawElementsInstanced(n,c,void 0===s?5123:t.elementType,r,o):e.drawElements(n,c,void 0===s?5123:t.elementType,r):void 0!==o?e.drawArraysInstanced(n,r,c,o):e.drawArrays(n,r,c)}(this.context,this.bufferInfo),null==(a=this.profiler)||a.popContext("[".concat(this.id,"] PROG : ").concat(this.constructor.name))}setProfiler(e){this.profiler=e}}class Ya extends Ga{getFragmentShader(){return"precision mediump float;\n\nvarying vec2 _texture_coord;\n\nuniform sampler2D background;\nuniform sampler2D foreground;\nuniform sampler2D threshold;\n\nvoid main() {\n  vec4 backgroundColor = texture2D(background, _texture_coord);\n  vec4 foregroundColor = texture2D(foreground, _texture_coord);\n  vec4 tresholdColor = texture2D(threshold, _texture_coord);\n  gl_FragColor = foregroundColor * tresholdColor.a +\n                 backgroundColor * (1. - tresholdColor.a);\n}\n"}getVertexShader(){return"varying vec2 _texture_coord;\n\nattribute vec2 position;\nattribute vec2 texture_coord;\n\nvoid main() {\n  gl_Position = vec4(position, 0., 1.);\n  _texture_coord = texture_coord;\n  _texture_coord.y = 1. - texture_coord.y;\n}\n"}}class ja{constructor(){a(this,"steps",[]),a(this,"profiler")}addStep(e){this.steps.push(e)}async run(){for(const e of this.steps)e.program.run(e.getUniforms())}resizeOutput(e,t){var n,i;null==(n=this.profiler)||n.pushContext("PIP [".concat(this.constructor.name,"]"));for(const r of this.steps)r.preventResize||r.program.resizeOutput(e,t);null==(i=this.profiler)||i.popContext("PIP [".concat(this.constructor.name,"]"))}setProfiler(e){this.profiler=e;for(const t of this.steps)t.program.setProfiler(e)}setId(e){for(const t of this.steps)t.program.id=e}}class Xa extends ja{constructor(){super(...arguments),a(this,"preciseMaskEnabled",!1)}}class Ka extends Xa{constructor(e){super(),a(this,"inputImage"),a(this,"inputBackgroundImage"),a(this,"inputMask"),a(this,"preciseMaskEnabled",!0),this.context=e;const t={context:e,height:e.canvas.height,width:e.canvas.width},n=new Ya({...t,disableFramebuffer:!0});this.addStep({program:n,getUniforms:()=>({background:Pa(e,this.inputBackgroundImage),foreground:Pa(e,this.inputImage),threshold:Pa(e,this.inputMask)})})}setData(e,t){this.inputImage=e,this.inputMask=t}}class Ha extends Ga{getFragmentShader(){return"precision mediump float;\n\nvarying vec2 _texture_coord;\nuniform sampler2D texture;\n\nvoid main() { gl_FragColor = texture2D(texture, _texture_coord); }\n"}getVertexShader(){return"varying vec2 _texture_coord;\n\nattribute vec2 position;\nattribute vec2 texture_coord;\nuniform bool invert_y;\n\nvoid main() {\n  gl_Position = vec4(position, 0., 1.);\n  _texture_coord = texture_coord;\n  if (invert_y) {\n    _texture_coord.y = 1. - texture_coord.y;\n  }\n}\n"}}class za extends ja{constructor(e,t,n){super(),a(this,"inputImage"),this.context=e;const i={context:e,height:n,width:t};this.addStep({program:new Ha({...i,disableFramebuffer:!0}),getUniforms:()=>({texture:Pa(e,this.inputImage),invert_y:!0})})}setData(e){this.inputImage=e}}async function qa(t){return new e((e=>{setTimeout((()=>{e()}),t)}))}var $a=(e=>(e[e.LINEAR=0]="LINEAR",e[e.GAUSSIAN=1]="GAUSSIAN",e))($a||{});class es extends Ga{getDefines(){var e;return{RADIUS:null!=(e=this.options.radius)?e:1}}getFragmentShader(){return"precision mediump float;\n\nvarying vec2 _texture_coord;\n\nuniform vec2 canvas;\nuniform sampler2D texture;\n\nvec4 loop();\n\nvoid main() { gl_FragColor = loop(); }\n"+this.createLoopFunction()}getVertexShader(){return"varying vec2 _texture_coord;\n\nattribute vec2 position;\nattribute vec2 texture_coord;\n\nvoid main() {\n  gl_Position = vec4(position, 0., 1.);\n  _texture_coord = texture_coord;\n}\n"}createLoopFunction(){var e;let t=null!=(e=this.options.radius)?e:1;return"\n\n        vec4 loop() { \n            vec4 result = vec4(0,0,0,0);\n            float factorSum = 0.;\n\n            vec2 normalizedRadius = vec2(-".concat(t,".) / canvas;\n            vec2 normalizedIncrement = vec2(1.) / canvas;\n            vec2 diff = normalizedRadius;\n\n            for(int y=-").concat(t,"; y<").concat(t+1,"; ++y) {\n                for(int x=-").concat(t,"; x<").concat(t+1,"; ++x) {\n                    float factor = 1.;\n                    result += factor * texture2D(texture, _texture_coord + diff);\n                    factorSum += factor;\n                    diff.x += normalizedIncrement.x;\n                }\n                diff.y += normalizedIncrement.y;\n                diff.x = normalizedRadius.x;\n            }\n            return result / factorSum;\n        }")}getFactor(e,t){return this.options.type,this.getLinearFactor(e,t)}getLinearFactor(e,t){return 1}getGaussianFactor(e,t){var n;const i=1/(2*Math.PI*Math.max(null!=(n=this.options.radius)?n:1,1)**2),r=i*-(e**2+t**2);return i*Math.E**r}}class ts extends Ga{constructor(e){super(e),a(this,"fbi2"),this.fbi2=La(e.context,[{format:e.context.RGBA,type:e.context.UNSIGNED_BYTE,min:e.context.LINEAR,mag:e.context.LINEAR,wrap:e.context.CLAMP_TO_EDGE}],e.width,e.height)}run(e){const t=this.fbi;this.fbi=this.fbi2,this.fbi2=t,this.output=this.fbi.attachments[0],super.run({...e,previous_rendering:this.fbi2.attachments[0]})}resizeOutput(e,t){super.resizeOutput(e,t),this.fbi2=La(this.context,[{format:this.context.RGBA,type:this.context.UNSIGNED_BYTE,min:this.context.LINEAR,wrap:this.context.CLAMP_TO_EDGE}],e,t)}}class ns extends ts{getFragmentShader(){return"precision mediump float;\n\nvarying vec2 _texture_coord;\n\n// uniform float treshold;\nuniform sampler2D image_now;\nuniform sampler2D image_before;\nuniform sampler2D mask_now;\nuniform sampler2D mask_before;\nuniform sampler2D previous_rendering;\nuniform vec2 canvas;\n\nuniform float delta;\n\nfloat current_factor = 0.69;\nfloat previous_factor = 0.74;\nfloat threshold_activation = 0.54;\n\nfloat map(float value, float min1, float max1, float min2, float max2) {\n  return min2 + (value - min1) * (max2 - min2) / (max1 - min1);\n}\n\nfloat getThreshold() {\n  vec4 color = vec4(0.);\n  for (float y = -6.; y < 7.; y += 1.) {\n    for (float x = -6.; x < 7.; x += 1.) {\n      vec4 image_now_color =\n          texture2D(image_now, _texture_coord + vec2(x, y) / canvas);\n      vec4 image_before_color =\n          texture2D(image_before, _texture_coord + vec2(x, y) / canvas);\n      color += abs(image_before_color - image_now_color);\n    }\n  }\n  return (color.x + color.y + color.z) / (3. * 9.);\n}\n\nvoid main() {\n  float treshold_input = .4;\n  float treshold_previous_rendering = .98;\n\n  vec4 mask_now_color = texture2D(mask_now, _texture_coord);\n  vec4 mask_before_color = texture2D(mask_before, _texture_coord);\n  vec4 previous_rendering_color = texture2D(previous_rendering, _texture_coord);\n\n  vec3 mask_diff = abs(mask_before_color.xyz - mask_now_color.xyz);\n  float flickering = mask_diff.x;\n  float threshold = getThreshold();\n  if (threshold < threshold_activation) {\n    gl_FragColor = vec4(flickering, 0., 0., 1.) * current_factor +\n                   previous_rendering_color * previous_factor;\n    gl_FragColor *= (1. - threshold);\n  }\n}\n"}getVertexShader(){return"varying vec2 _texture_coord;\n\nattribute vec2 position;\nattribute vec2 texture_coord;\n\nvoid main() {\n  gl_Position = vec4(position, 0., 1.);\n  _texture_coord = texture_coord;\n}\n"}}class is extends Ga{getFragmentShader(){return"#version 300 es\n// https://github.com/Volcomix/virtual-background/blob/main/src/pipelines/webgl2/jointBilateralFilterStage.ts\n\nprecision highp float;\nuniform sampler2D input_frame;\nuniform sampler2D segmentation_mask;\nuniform sampler2D threshold;\nuniform vec2 texel_size;\nuniform float step;\nuniform float radius;\nuniform float offset;\nuniform float sigma_texel;\nuniform float sigma_color;\n\nin vec2 _texture_coord;\nout vec4 outColor;\n\nfloat gaussian(float x, float sigma) {\n  float coeff = -0.5 / (sigma * sigma * 4.0 + 1.0e-6);\n  return exp((x * x) * coeff);\n}\n\nvoid main() {\n  vec2 centerCoord = _texture_coord;\n  vec3 centerColor = texture(input_frame, centerCoord).rgb;\n  float newVal = 0.0;\n  float spaceWeight = 0.0;\n  float colorWeight = 0.0;\n  float totalWeight = 0.0;\n  // Subsample kernel space.\n  for (float i = -radius + offset; i <= radius; i += step) {\n    for (float j = -radius + offset; j <= radius; j += step) {\n      vec2 shift = vec2(j, i) * texel_size;\n      vec2 coord = vec2(centerCoord + shift);\n      vec3 frameColor = texture(input_frame, coord).rgb;\n      float threshold = texture(threshold, coord).a;\n      float outVal = texture(segmentation_mask, coord).a;\n\n      spaceWeight = gaussian(distance(centerCoord, coord), sigma_texel);\n      colorWeight = gaussian(distance(centerColor, frameColor), sigma_color);\n      totalWeight += spaceWeight * colorWeight;\n      newVal += spaceWeight * colorWeight * outVal * threshold;\n    }\n  }\n  newVal /= totalWeight;\n  outColor = vec4(vec3(0.), newVal);\n}"}getVertexShader(){return"#version 300 es\nin vec2 position;\nin vec2 texture_coord;\nout vec2 _texture_coord;\nvoid main() {\n  gl_Position = vec4(position, 0.0, 1.0);\n  _texture_coord = texture_coord;\n}"}}class rs extends Ga{getFragmentShader(){return"precision mediump float;\n\nvarying vec2 _texture_coord;\n\nuniform vec2 canvas;\nuniform sampler2D texture;\n\nvoid main() {\n  int count = 0;\n  for (float y = -1.; y < 2.; y += 1.) {\n    for (float x = -1.; x < 2.; x += 1.) {\n      vec2 coord = _texture_coord + vec2(y, x) / canvas;\n      vec4 color = texture2D(texture, coord);\n      if (color.r > .1) {\n        count++;\n      }\n    }\n  }\n  if (count > 5) {\n    gl_FragColor = texture2D(texture, _texture_coord);\n  }\n}\n"}getVertexShader(){return"varying vec2 _texture_coord;\n\nattribute vec2 position;\nattribute vec2 texture_coord;\n\nvoid main() {\n  gl_Position = vec4(position, 0., 1.);\n  _texture_coord = texture_coord;\n}\n"}}class os extends ts{getFragmentShader(){return"precision mediump float;\n\nvarying vec2 _texture_coord;\n\nuniform vec2 canvas;\nuniform sampler2D texture;\n\nvoid main() {\n  vec4 color = texture2D(texture, _texture_coord);\n  for (float y = -2.; y < 3.; y += 1.) {\n    for (float x = -2.; x < 3.; x += 1.) {\n      vec2 coord = _texture_coord;\n      coord += vec2(y, x) / canvas;\n      color += texture2D(texture, coord) * (1. / 4.);\n    }\n  }\n\n  gl_FragColor = color;\n}\n"}getVertexShader(){return"varying vec2 _texture_coord;\n\nattribute vec2 position;\nattribute vec2 texture_coord;\n\nvoid main() {\n  gl_Position = vec4(position, 0., 1.);\n  _texture_coord = texture_coord;\n}\n"}}class as extends ts{getFragmentShader(){return"precision mediump float;\n\nvarying vec2 _texture_coord;\n\nuniform sampler2D threshold;\nuniform sampler2D inputs;\n\nvoid main() {\n  vec4 inputs_color = texture2D(inputs, _texture_coord);\n  vec4 threshold_color = texture2D(threshold, _texture_coord);\n  if (threshold_color.r < .1 && inputs_color.r > .5) {\n    gl_FragColor = inputs_color;\n  }\n}\n"}getVertexShader(){return"varying vec2 _texture_coord;\n\nattribute vec2 position;\nattribute vec2 texture_coord;\n\nvoid main() {\n  gl_Position = vec4(position, 0., 1.);\n  _texture_coord = texture_coord;\n}\n"}}class ss extends ja{constructor(e,t,n){super(),a(this,"inputImage"),a(this,"inputMask"),a(this,"previousInputImage"),a(this,"previousInputMask"),a(this,"output"),a(this,"options",{currentThresholdMinimum:0,currentThresholdMaximum:1,previousThresholdMinimum:0,previousThresholdMaximum:1,thresholdMinimum:0,thresholdMaximum:1,thresholdFactor:1}),a(this,"jointBilateral"),this.context=e;const i={context:e,height:n,width:t},r=new ns(i),o=new es({...i,radius:1,type:$a.GAUSSIAN}),s=new as(i),c=new os(i),l=new rs(i);this.jointBilateral=new is(i),this.addStep({program:r,getUniforms:()=>({image_now:Pa(e,this.inputImage),image_before:Pa(e,this.previousInputImage),mask_now:Pa(e,this.inputMask),mask_before:Pa(e,this.previousInputMask),current_threshold_minimum:this.options.currentThresholdMinimum,current_threshold_maximum:this.options.currentThresholdMaximum,previous_threshold_minimum:this.options.previousThresholdMinimum,previous_threshold_maximum:this.options.previousThresholdMaximum,threshold_minimum:this.options.thresholdMinimum,threshold_maximum:this.options.thresholdMaximum,threshold_factor:this.options.thresholdFactor})}),this.addStep({program:s,getUniforms:()=>({inputs:Pa(e,this.inputMask),threshold:Pa(e,r.output)})}),this.addStep({program:l,getUniforms:()=>({texture:Pa(e,s.output)})}),this.addStep({program:c,getUniforms:()=>({texture:Pa(e,l.output)})}),this.addStep({program:o,getUniforms:()=>({texture:Pa(e,c.output)})}),this.addStep({program:this.jointBilateral,getUniforms:()=>{var t,n,i,r,a,s,c,l;const d=null!=(n=null==(t=this.inputImage)?void 0:t.width)?n:1,u=null!=(r=null==(i=this.inputImage)?void 0:i.height)?r:1,h=null!=(s=null==(a=this.inputMask)?void 0:a.width)?s:1,A=null!=(l=null==(c=this.inputMask)?void 0:c.height)?l:1,p=Math.max(d/h,u/A),g=Math.max(1,.66*Math.sqrt(p)),f=1/d,m=1/u;return{input_frame:Pa(e,this.inputImage),segmentation_mask:Pa(e,this.inputMask),threshold:Pa(e,o.output),texel_size:[f,m],step:g,radius:p,offset:g>1?.5*g:0,sigma_texel:Math.max(f,m)*p,sigma_color:.1}}}),this.output=this.jointBilateral.output}setData(e,t){this.previousInputImage=this.inputImage?this.inputImage:e,this.previousInputMask=this.inputMask?this.inputMask:t,this.inputImage=e,this.inputMask=t}setOptions(e){this.options=e}resizeOutput(e,t){super.resizeOutput(e,t),this.output=this.jointBilateral.output}}var cs=(e=>(e.PUSH="PUSH",e.POP="POP",e))(cs||{});class ls{constructor(e){a(this,"context"),a(this,"extension"),a(this,"queries",[]),a(this,"activeQuery"),this.context=e,this.extension=e.getExtension("EXT_disjoint_timer_query_webgl2")}start(){}stop(){this.activeQuery&&this.context.endQuery(this.extension.TIME_ELAPSED_EXT)}pushContext(e){this.createQuery("PUSH",e)}popContext(e){this.createQuery("POP",e)}createQuery(e,t){this.activeQuery&&this.context.endQuery(this.extension.TIME_ELAPSED_EXT),this.activeQuery=this.context.createQuery(),this.context.beginQuery(this.extension.TIME_ELAPSED_EXT,this.activeQuery),this.queries.push({name:t,action:e,query:this.activeQuery})}async getResolvedQueries(){const t=(await e.all([...this.queries].map((e=>this.resolveQuery(e))))).filter((e=>e));for(let e=1;e<t.length;++e)t[e].timestamp+=t[e-1].duration+t[e-1].timestamp;return t}async resolveQuery(e){if(await this.awaitQueryAvailable(e)){if(!this.context.getParameter(this.extension.GPU_DISJOINT_EXT))return{...e,duration:this.context.getQueryParameter(e.query,this.context.QUERY_RESULT),timestamp:0};console.log("Disjointed query",e)}else console.log("Unawaitable query",e)}async awaitQueryAvailable(e){for(let t=0;t<10;++t){if(this.context.getQueryParameter(e.query,this.context.QUERY_RESULT_AVAILABLE))return e;await qa(200)}}}class ds{constructor(){a(this,"canvas"),a(this,"context"),a(this,"pipeline"),a(this,"previousImageWidth",0),a(this,"previousImageHeight",0),a(this,"previousMaskWidth",2),a(this,"previousMaskHeight",2),a(this,"profiler"),a(this,"postProcessingEnabled",!0),a(this,"improveMask");const e=new OffscreenCanvas(0,0),t=e.getContext("webgl2");if(!t)throw"Fail to retrieve webgl2 context";this.canvas=e,this.context=t,this.improveMask=new ss(this.context,2,2)}setFlickeringOptions(e){this.improveMask.setOptions(e)}enablePostProcessing(){this.postProcessingEnabled=!0}disablePostProcessing(){this.postProcessingEnabled=!1}async profileWebgl(e){const t=new ls(this.context);return this.profiler=t,t.start(),await qa(e),this.profiler=void 0,t.stop(),t.getResolvedQueries()}async render(e,t){var n,i;if(!this.pipeline)throw"missing pipeline";(this.previousImageHeight!==e.height||this.previousImageWidth!==e.width)&&this.resizeOutput(e.width,e.height),(this.previousMaskHeight!==t.height||this.previousMaskWidth!==t.width)&&(this.improveMask.resizeOutput(t.width,t.height),this.previousMaskWidth=t.width,this.previousMaskHeight=t.height);const r="renderer";null==(n=this.profiler)||n.pushContext(r),this.improveMask.setProfiler(this.profiler),this.pipeline.setProfiler(this.profiler);let o=t;return this.postProcessingEnabled&&(this.improveMask.setData(e,t),this.improveMask.run(),o=this.improveMask.output),this.pipeline.setData(e,o),await this.pipeline.run(),null==(i=this.profiler)||i.popContext(r),this.canvas}resizeOutput(e,t){var n;this.canvas.width=e,this.canvas.height=t,null==(n=this.pipeline)||n.resizeOutput(e,t),this.previousImageWidth=e,this.previousImageHeight=t}}class us extends ds{constructor(){super(),a(this,"pipeline"),a(this,"backgroundImage"),a(this,"backgroundImageResizerCanvas"),a(this,"backgroundImageResizerContext"),a(this,"backgroundImageResizer"),this.pipeline=new Ka(this.context);const e=new OffscreenCanvas(0,0),t=e.getContext("webgl2");if(!t)throw"Fail to retrieve webgl context";this.backgroundImageResizerCanvas=e,this.backgroundImageResizerContext=t,this.backgroundImageResizer=new za(this.backgroundImageResizerContext,0,0)}setBackgroundImage(e){this.backgroundImage=e,this.updateBackgroundImage()}updateBackgroundImage(){const{width:e,height:t}=this.canvas;this.backgroundImageResizer.resizeOutput(e,t),this.backgroundImageResizer.setData(this.backgroundImage),this.backgroundImageResizer.run(),this.pipeline.inputBackgroundImage=this.backgroundImageResizerCanvas}resizeOutput(e,t){super.resizeOutput(e,t),this.backgroundImageResizerCanvas.width=e,this.backgroundImageResizerCanvas.height=t,this.backgroundImageResizer.resizeOutput(e,t),this.updateBackgroundImage()}}class hs extends us{constructor(){super(...arguments),a(this,"frameReader")}setBackgroundVideo(e){this.frameReader=e}async render(e,t){return await this.readNextVideoFrame(),super.render(e,t)}async readNextVideoFrame(){var e;const t=await(null==(e=this.frameReader)?void 0:e.read());if(null!=t&&t.value){const e=await createImageBitmap(t.value);this.setBackgroundImage(e),t.value.close()}}}class As{blurBackground(e){return new tn(e)}blurSilhouette(e){return new nn(e)}imageBackground(){return new rn}videoBackground(){return new hs}}class ps extends Ga{getDefines(){var e;return{RADIUS:null!=(e=this.options.radius)?e:1}}getFragmentShader(){return"precision mediump float;\n\nvarying vec2 _texture_coord;\n\nuniform vec2 canvas;\nuniform sampler2D texture;\nuniform sampler2D mask;\n\nvec4 loop();\n\nvoid main() { gl_FragColor = loop(); }\n"+this.createLoopFunction()}getVertexShader(){return"varying vec2 _texture_coord;\n\nattribute vec2 position;\nattribute vec2 texture_coord;\n\nvoid main() {\n  gl_Position = vec4(position, 0., 1.);\n  _texture_coord = texture_coord;\n}\n"}createLoopFunction(){var e;let t=null!=(e=this.options.radius)?e:1;return"\n\n        vec4 loop() { \n            vec4 result = vec4(0,0,0,0);\n            float factorSum = 0.;\n\n            vec2 normalizedRadius = vec2(-".concat(t,".) / canvas;\n            vec2 normalizedIncrement = vec2(1.) / canvas;\n            vec2 diff = normalizedRadius;\n            float maxLength = length(normalizedRadius);\n\n            for(int y=-").concat(t,"; y<").concat(t+1,"; ++y) {\n                for(int x=-").concat(t,"; x<").concat(t+1,"; ++x) {\n                    float factor = (1.- texture2D(mask, _texture_coord + diff).a) * (maxLength - length(diff)) / maxLength;\n                    result += factor * texture2D(texture, _texture_coord + diff);\n                    factorSum += factor;\n                    diff.x += normalizedIncrement.x;\n                }\n                diff.y += normalizedIncrement.y;\n                diff.x = normalizedRadius.x;\n            }\n            return result / factorSum;\n        }")}}class gs extends Xa{constructor(e,t){super(),a(this,"inputImage"),a(this,"inputMask"),a(this,"blur"),this.context=e,this.radius=t;const n={context:e,height:e.canvas.height,width:e.canvas.width};this.blur=new ps({...n,radius:t,...this.getBlurTextureSize(e.canvas.width,e.canvas.height)});const i=new Ya({...n,disableFramebuffer:!0});this.addStep({program:this.blur,preventResize:!0,getUniforms:()=>({texture:Pa(e,this.inputImage),mask:Pa(e,this.inputMask)})}),this.addStep({program:i,getUniforms:()=>({background:Pa(e,this.blur.output),foreground:Pa(e,this.inputImage),threshold:Pa(e,this.inputMask)})})}getBlurTextureSize(e,t){const n=this.radius>10?8:2;return{width:Math.max(2,e/n),height:Math.max(2,t/n)}}setData(e,t){this.inputImage=e,this.inputMask=t}resizeOutput(e,t){super.resizeOutput(e,t);const n=this.getBlurTextureSize(e,t);this.blur.resizeOutput(n.width,n.height)}}class fs extends ds{constructor(e){super(),a(this,"pipeline"),this.pipeline=new gs(this.context,e),this.disablePostProcessing()}}class ms extends Xa{constructor(e,t){super(),a(this,"inputImage"),a(this,"inputMask"),this.context=e;const n={context:e,height:e.canvas.height,width:e.canvas.width},i=new es({...n,radius:t,type:$a.GAUSSIAN}),r=new Ya({...n,disableFramebuffer:!0});this.addStep({program:i,getUniforms:()=>({texture:Pa(e,this.inputImage)})}),this.addStep({program:r,getUniforms:()=>({background:Pa(e,this.inputImage),foreground:Pa(e,i.output),threshold:Pa(e,this.inputMask)})})}setData(e,t){this.inputImage=e,this.inputMask=t}}class Es extends ds{constructor(e){super(),a(this,"pipeline"),this.pipeline=new ms(this.context,e),this.disablePostProcessing()}}class Cs extends Ka{constructor(){super(...arguments),a(this,"frameReader"),a(this,"preciseMaskEnabled",!0)}set reader(e){this.frameReader=e}async run(){this.frameReader&&(await this.readNextVideoFrame(),await super.run())}async readNextVideoFrame(){var e;const t=await(null==(e=this.frameReader)?void 0:e.read());null!=t&&t.value&&(this.inputBackgroundImage=await createImageBitmap(t.value),t.value.close())}}class Is extends ds{constructor(){super(),a(this,"pipeline"),this.pipeline=new Cs(this.context)}setBackgroundVideo(e){this.pipeline.reader=e}}class Qs{blurBackground(e){return new fs(e)}blurSilhouette(e){return new Es(e)}imageBackground(){return new us}videoBackground(){return new Is}}class Us{constructor(e){switch(a(this,"factory"),e){case Ae.CANVAS:this.factory=new As;break;case Ae.WEBGL:this.factory=new Qs;break;default:const e=Qe();this.factory=e.supported?new Qs:new As}}blurBackground(e){return this.getFactory().blurBackground(e)}blurSilhouette(e){return this.getFactory().blurSilhouette(e)}imageBackground(){return this.getFactory().imageBackground()}videoBackground(){return this.getFactory().videoBackground()}getFactory(){if(!this.factory)throw"Factory is not initialized";return this.factory}}class ys{constructor(){a(this,"renderer"),a(this,"backgroundVideo"),a(this,"backgroundImage")}setBackgroundOptions(e){var t,n;const i=new Us(null==(t=e.renderingOptions)?void 0:t.type);switch(e.transformerType){case"BackgroundBlur":this.renderer=i.blurBackground(this.getBlurSize(e.radius));break;case"SilhouetteBlur":this.renderer=i.blurSilhouette(this.getBlurSize(e.radius));break;case"VideoBackground":const t=i.videoBackground();this.backgroundVideo&&t.setBackgroundVideo(this.backgroundVideo),this.renderer=t;break;case"VirtualBackground":const n=i.imageBackground();this.backgroundImage&&n.setBackgroundImage(this.backgroundImage),this.renderer=n;break;default:throw"Unknown rendering type [".concat(e.transformerType,"]")}(null==(n=e.renderingOptions)?void 0:n.type)===Ae.WEBGL&&(e.renderingOptions.selfieSegmentationType===he.PRECISE?this.renderer.enablePostProcessing():e.renderingOptions.selfieSegmentationType===he.FAST&&this.renderer.disablePostProcessing())}setFlickeringOptions(e){var t;null==(t=this.renderer)||t.setFlickeringOptions(e)}setVideoBGReadable(e){this.backgroundVideo=e.getReader();const t=this.renderer;null!=t&&t.setBackgroundVideo&&t.setBackgroundVideo(this.backgroundVideo)}async setVirtualBGImage(e){const t=this.renderer;null!=t&&t.setBackgroundImage&&t.setBackgroundImage(e),this.backgroundImage=e}async process(e,t){if(this.renderer)return this.renderer.render(e,t)}async resizeForeground(e,t){}getBlurSize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de.Low;switch(e){case de.Low:return 5;case de.High:return 12}return e}async profile(e){var t,n;return null!=(n=null==(t=this.renderer)?void 0:t.profileWebgl(e))?n:[]}}class bs{constructor(){a(this,"selfieSegmentation",new Ee),a(this,"backgroundFilter"),a(this,"reporter",new $t),a(this,"isEnabled",!0),a(this,"backgroundOptions")}async init(e,t){await this.selfieSegmentation.init(t.wasmAssetUriPath,t.tfliteAssetUriPath),this.backgroundFilter=new ys,this.report({variation:"Create"})}async transform(e,t){var n,i;if(!this.isEnabled)return t.enqueue(e);let r;const o=null!=(n=e.timestamp)?n:0,a=await createImageBitmap(e),s=await this.selfieSegmentation.process(a);s&&(r=await(null==(i=this.backgroundFilter)?void 0:i.process(a,s))),r?(e.close(),t.enqueue(new VideoFrame(r,{timestamp:o,alpha:"discard"}))):t.enqueue(e)}async setBackgroundOptions(e){var t;this.backgroundOptions=e,await(null==(t=this.backgroundFilter)?void 0:t.setBackgroundOptions(e)),this.report({variation:"Update"})}async setVideoBGReadable(e){var t;await(null==(t=this.backgroundFilter)?void 0:t.setVideoBGReadable(e))}async setVirtualBGImage(e){var t;await(null==(t=this.backgroundFilter)?void 0:t.setVirtualBGImage(e))}setFlickeringOptions(e){var t;null==(t=this.backgroundFilter)||t.setFlickeringOptions(e),this.report({variation:"Update"})}async profile(e){var t,n;return null!=(n=null==(t=this.backgroundFilter)?void 0:t.profile(e))?n:[]}getTransformerType(){var e,t;return null!=(t=null==(e=this.backgroundOptions)?void 0:e.transformerType)?t:"Undefined"}enable(){this.isEnabled=!0}disable(){this.isEnabled=!1}report(e){var t;this.reporter.send({version:"5.1.2",action:"MlTransformers",transformerType:null==(t=this.backgroundOptions)?void 0:t.transformerType,config:JSON.stringify(this.backgroundOptions),...e})}}const vs=class{constructor(){a(this,"backgroundTransformer",new bs),a(this,"mediaProcessor",new se),a(this,"rate",30),a(this,"resolveOnMediaProcessor"),a(this,"eventsQueue",[])}async init(e,t){await this.backgroundTransformer.init(e,t),await this.mediaProcessor.setTransformers([this.backgroundTransformer]),this.mediaProcessor.setTrackExpectedRate(this.rate),this.mediaProcessor.onAny(((e,t)=>{this.resolveOnMediaProcessor?(this.resolveOnMediaProcessor({name:e,data:t}),this.resolveOnMediaProcessor=void 0):this.eventsQueue.push({name:e,data:t})}))}enable(){this.backgroundTransformer.enable()}disable(){this.backgroundTransformer.disable()}async onMediaProcessorEvent(){return await new e((e=>{this.eventsQueue.length>0?e(this.eventsQueue.shift()):this.resolveOnMediaProcessor=e}))}async setTrackExpectedRate(e){this.rate=e,this.mediaProcessor.setTrackExpectedRate(e)}async transform(e,t){this.mediaProcessor.transform(e,t)}async setBackgroundOptions(e){var t;await(null==(t=this.backgroundTransformer)?void 0:t.setBackgroundOptions(e))}setVideoBGReadable(e){this.backgroundTransformer.setVideoBGReadable(e)}async setVirtualBGImage(e){await this.backgroundTransformer.setVirtualBGImage(e)}async terminate(){await this.mediaProcessor.destroy()}setFlickeringOptions(e){this.backgroundTransformer.setFlickeringOptions(e)}setVonageMetadata(e){!function(e){H(e)}(e)}async profile(e){return JSON.stringify(await this.backgroundTransformer.profile(e))}};let Rs=vs;!function(e,t){t.workerId=e,rt()&&(Ft[t.workerId]=t)}("ProcessorWorker",vs);const Ss="dmFyICRsPU9iamVjdC5kZWZpbmVQcm9wZXJ0eTt2YXIgV2w9KEosUSxWKT0+USBpbiBKPyRsKEosUSx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6Vn0pOkpbUV09Vjt2YXIgbD0oSixRLFYpPT4oV2woSix0eXBlb2YgUSE9InN5bWJvbCI/USsiIjpRLFYpLFYpOyhmdW5jdGlvbigpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBKKHIsZSl7Z2xvYmFsVGhpcy52b25hZ2V8fChnbG9iYWxUaGlzLnZvbmFnZT17fSksZ2xvYmFsVGhpcy52b25hZ2Uud29ya2VyaXplcnx8KGdsb2JhbFRoaXMudm9uYWdlLndvcmtlcml6ZXI9e30pO2xldCB0PWdsb2JhbFRoaXMudm9uYWdlLndvcmtlcml6ZXI7cmV0dXJuIHRbcl18fCh0W3JdPWUpLHRbcl19Y29uc3QgUT1KKCJnbG9iYWxzIix7fSk7dmFyIFY9KHI9PihyLklOSVQ9IklOSVQiLHIuRk9SV0FSRD0iRk9SV0FSRCIsci5URVJNSU5BVEU9IlRFUk1JTkFURSIsci5HTE9CQUxTX1NZTkM9IkdMT0JBTFNfU1lOQyIsci5FVkVOVD0iRVZFTlQiLHIpKShWfHx7fSk7ZnVuY3Rpb24gJG8ocil7cmV0dXJuW0ltYWdlQml0bWFwLFJlYWRhYmxlU3RyZWFtLFdyaXRhYmxlU3RyZWFtXS5zb21lKHQ9PnIgaW5zdGFuY2VvZiB0KX1mdW5jdGlvbiBVZShyLGUpe2NvbnN0e2lkOnQsdHlwZTpufT1yLG89QXJyYXkuaXNBcnJheShlKT9lOltlXTtwb3N0TWVzc2FnZSh7aWQ6dCx0eXBlOm4scmVzdWx0OmV9LG8uZmlsdGVyKGk9PiRvKGkpKSl9Sigid29ya2VyaXplZCIse30pO2Z1bmN0aW9uIFlyKCl7cmV0dXJuIHR5cGVvZiBXb3JrZXJHbG9iYWxTY29wZTwidSImJnNlbGYgaW5zdGFuY2VvZiBXb3JrZXJHbG9iYWxTY29wZX1mdW5jdGlvbiBldChyLGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpZS5zcGxpY2UoMCxlLmxlbmd0aCk7ZWxzZSBpZih0eXBlb2YgZT09Im9iamVjdCIpZm9yKGNvbnN0IHQgaW4gZSlkZWxldGUgZVt0XTtmb3IoY29uc3QgdCBpbiByKUFycmF5LmlzQXJyYXkoclt0XSk/KGVbdF09W10sZXQoclt0XSxlW3RdKSk6dHlwZW9mIHJbdF09PSJvYmplY3QiPyhlW3RdPXt9LGV0KHJbdF0sZVt0XSkpOmVbdF09clt0XX1jb25zdCB0ZT1uZXcgV2Vha01hcCxoZT1uZXcgV2Vha01hcCxaPW5ldyBXZWFrTWFwLHR0PVN5bWJvbCgiYW55UHJvZHVjZXIiKSxYcj1Qcm9taXNlLnJlc29sdmUoKSxydD1TeW1ib2woImxpc3RlbmVyQWRkZWQiKSxudD1TeW1ib2woImxpc3RlbmVyUmVtb3ZlZCIpO2xldCBvdD0hMSxIdD0hMTtmdW5jdGlvbiBBZShyKXtpZih0eXBlb2YgciE9InN0cmluZyImJnR5cGVvZiByIT0ic3ltYm9sIiYmdHlwZW9mIHIhPSJudW1iZXIiKXRocm93IG5ldyBUeXBlRXJyb3IoImBldmVudE5hbWVgIG11c3QgYmUgYSBzdHJpbmcsIHN5bWJvbCwgb3IgbnVtYmVyIil9ZnVuY3Rpb24gaXQocil7aWYodHlwZW9mIHIhPSJmdW5jdGlvbiIpdGhyb3cgbmV3IFR5cGVFcnJvcigibGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uIil9ZnVuY3Rpb24gSWUocixlKXtjb25zdCB0PWhlLmdldChyKTtpZighIXQuaGFzKGUpKXJldHVybiB0LmdldChlKX1mdW5jdGlvbiBOZShyLGUpe2NvbnN0IHQ9dHlwZW9mIGU9PSJzdHJpbmcifHx0eXBlb2YgZT09InN5bWJvbCJ8fHR5cGVvZiBlPT0ibnVtYmVyIj9lOnR0LG49Wi5nZXQocik7aWYoISFuLmhhcyh0KSlyZXR1cm4gbi5nZXQodCl9ZnVuY3Rpb24gV28ocixlLHQpe2NvbnN0IG49Wi5nZXQocik7aWYobi5oYXMoZSkpZm9yKGNvbnN0IG8gb2Ygbi5nZXQoZSkpby5lbnF1ZXVlKHQpO2lmKG4uaGFzKHR0KSl7Y29uc3Qgbz1Qcm9taXNlLmFsbChbZSx0XSk7Zm9yKGNvbnN0IGkgb2Ygbi5nZXQodHQpKWkuZW5xdWV1ZShvKX19ZnVuY3Rpb24gUXIocixlKXtlPUFycmF5LmlzQXJyYXkoZSk/ZTpbZV07bGV0IHQ9ITEsbj0oKT0+e30sbz1bXTtjb25zdCBpPXtlbnF1ZXVlKHMpe28ucHVzaChzKSxuKCl9LGZpbmlzaCgpe3Q9ITAsbigpfX07Zm9yKGNvbnN0IHMgb2YgZSl7bGV0IGE9TmUocixzKTthfHwoYT1uZXcgU2V0LFouZ2V0KHIpLnNldChzLGEpKSxhLmFkZChpKX1yZXR1cm57YXN5bmMgbmV4dCgpe3JldHVybiBvP28ubGVuZ3RoPT09MD90PyhvPXZvaWQgMCx0aGlzLm5leHQoKSk6KGF3YWl0IG5ldyBQcm9taXNlKHM9PntuPXN9KSx0aGlzLm5leHQoKSk6e2RvbmU6ITEsdmFsdWU6YXdhaXQgby5zaGlmdCgpfTp7ZG9uZTohMH19LGFzeW5jIHJldHVybihzKXtvPXZvaWQgMDtmb3IoY29uc3QgYSBvZiBlKXtjb25zdCB1PU5lKHIsYSk7dSYmKHUuZGVsZXRlKGkpLHUuc2l6ZT09PTAmJlouZ2V0KHIpLmRlbGV0ZShhKSl9cmV0dXJuIG4oKSxhcmd1bWVudHMubGVuZ3RoPjA/e2RvbmU6ITAsdmFsdWU6YXdhaXQgc306e2RvbmU6ITB9fSxbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKCl7cmV0dXJuIHRoaXN9fX1mdW5jdGlvbiBxcihyKXtpZihyPT09dm9pZCAwKXJldHVybiBLcjtpZighQXJyYXkuaXNBcnJheShyKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJgbWV0aG9kTmFtZXNgIG11c3QgYmUgYW4gYXJyYXkgb2Ygc3RyaW5ncyIpO2Zvcihjb25zdCBlIG9mIHIpaWYoIUtyLmluY2x1ZGVzKGUpKXRocm93IHR5cGVvZiBlIT0ic3RyaW5nIj9uZXcgVHlwZUVycm9yKCJgbWV0aG9kTmFtZXNgIGVsZW1lbnQgbXVzdCBiZSBhIHN0cmluZyIpOm5ldyBFcnJvcihgJHtlfSBpcyBub3QgRW1pdHRlcnkgbWV0aG9kYCk7cmV0dXJuIHJ9Y29uc3QgU2U9cj0+cj09PXJ0fHxyPT09bnQ7ZnVuY3Rpb24gc3QocixlLHQpe2lmKFNlKGUpKXRyeXtvdD0hMCxyLmVtaXQoZSx0KX1maW5hbGx5e290PSExfX1jbGFzcyBSZXtzdGF0aWMgbWl4aW4oZSx0KXtyZXR1cm4gdD1xcih0KSxuPT57aWYodHlwZW9mIG4hPSJmdW5jdGlvbiIpdGhyb3cgbmV3IFR5cGVFcnJvcigiYHRhcmdldGAgbXVzdCBiZSBmdW5jdGlvbiIpO2Zvcihjb25zdCBzIG9mIHQpaWYobi5wcm90b3R5cGVbc10hPT12b2lkIDApdGhyb3cgbmV3IEVycm9yKGBUaGUgcHJvcGVydHkgXGAke3N9XGAgYWxyZWFkeSBleGlzdHMgb24gXGB0YXJnZXRcYGApO2Z1bmN0aW9uIG8oKXtyZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsZSx7ZW51bWVyYWJsZTohMSx2YWx1ZTpuZXcgUmV9KSx0aGlzW2VdfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLnByb3RvdHlwZSxlLHtlbnVtZXJhYmxlOiExLGdldDpvfSk7Y29uc3QgaT1zPT5mdW5jdGlvbiguLi5hKXtyZXR1cm4gdGhpc1tlXVtzXSguLi5hKX07Zm9yKGNvbnN0IHMgb2YgdClPYmplY3QuZGVmaW5lUHJvcGVydHkobi5wcm90b3R5cGUscyx7ZW51bWVyYWJsZTohMSx2YWx1ZTppKHMpfSk7cmV0dXJuIG59fXN0YXRpYyBnZXQgaXNEZWJ1Z0VuYWJsZWQoKXt2YXIgZSx0O2lmKHR5cGVvZigoZT1nbG9iYWxUaGlzLnByb2Nlc3MpPT1udWxsP3ZvaWQgMDplLmVudikhPSJvYmplY3QiKXJldHVybiBIdDtjb25zdHtlbnY6bn09KHQ9Z2xvYmFsVGhpcy5wcm9jZXNzKSE9bnVsbD90OntlbnY6e319O3JldHVybiBuLkRFQlVHPT09ImVtaXR0ZXJ5Inx8bi5ERUJVRz09PSIqInx8SHR9c3RhdGljIHNldCBpc0RlYnVnRW5hYmxlZChlKXtIdD1lfWNvbnN0cnVjdG9yKGU9e30pe3ZhciB0O3RlLnNldCh0aGlzLG5ldyBTZXQpLGhlLnNldCh0aGlzLG5ldyBNYXApLFouc2V0KHRoaXMsbmV3IE1hcCksWi5nZXQodGhpcykuc2V0KHR0LG5ldyBTZXQpLHRoaXMuZGVidWc9KHQ9ZS5kZWJ1ZykhPW51bGw/dDp7fSx0aGlzLmRlYnVnLmVuYWJsZWQ9PT12b2lkIDAmJih0aGlzLmRlYnVnLmVuYWJsZWQ9ITEpLHRoaXMuZGVidWcubG9nZ2VyfHwodGhpcy5kZWJ1Zy5sb2dnZXI9KG4sbyxpLHMpPT57dHJ5e3M9SlNPTi5zdHJpbmdpZnkocyl9Y2F0Y2h7cz1gT2JqZWN0IHdpdGggdGhlIGZvbGxvd2luZyBrZXlzIGZhaWxlZCB0byBzdHJpbmdpZnk6ICR7T2JqZWN0LmtleXMocykuam9pbigiLCIpfWB9KHR5cGVvZiBpPT0ic3ltYm9sInx8dHlwZW9mIGk9PSJudW1iZXIiKSYmKGk9aS50b1N0cmluZygpKTtjb25zdCBhPW5ldyBEYXRlLHU9YCR7YS5nZXRIb3VycygpfToke2EuZ2V0TWludXRlcygpfToke2EuZ2V0U2Vjb25kcygpfS4ke2EuZ2V0TWlsbGlzZWNvbmRzKCl9YDtjb25zb2xlLmxvZyhgWyR7dX1dW2VtaXR0ZXJ5OiR7bn1dWyR7b31dIEV2ZW50IE5hbWU6ICR7aX0KCWRhdGE6ICR7c31gKX0pfWxvZ0lmRGVidWdFbmFibGVkKGUsdCxuKXsoUmUuaXNEZWJ1Z0VuYWJsZWR8fHRoaXMuZGVidWcuZW5hYmxlZCkmJnRoaXMuZGVidWcubG9nZ2VyKGUsdGhpcy5kZWJ1Zy5uYW1lLHQsbil9b24oZSx0KXtpdCh0KSxlPUFycmF5LmlzQXJyYXkoZSk/ZTpbZV07Zm9yKGNvbnN0IG4gb2YgZSl7QWUobik7bGV0IG89SWUodGhpcyxuKTtvfHwobz1uZXcgU2V0LGhlLmdldCh0aGlzKS5zZXQobixvKSksby5hZGQodCksdGhpcy5sb2dJZkRlYnVnRW5hYmxlZCgic3Vic2NyaWJlIixuLHZvaWQgMCksU2Uobil8fHN0KHRoaXMscnQse2V2ZW50TmFtZTpuLGxpc3RlbmVyOnR9KX1yZXR1cm4gdGhpcy5vZmYuYmluZCh0aGlzLGUsdCl9b2ZmKGUsdCl7aXQodCksZT1BcnJheS5pc0FycmF5KGUpP2U6W2VdO2Zvcihjb25zdCBuIG9mIGUpe0FlKG4pO2NvbnN0IG89SWUodGhpcyxuKTtvJiYoby5kZWxldGUodCksby5zaXplPT09MCYmaGUuZ2V0KHRoaXMpLmRlbGV0ZShuKSksdGhpcy5sb2dJZkRlYnVnRW5hYmxlZCgidW5zdWJzY3JpYmUiLG4sdm9pZCAwKSxTZShuKXx8c3QodGhpcyxudCx7ZXZlbnROYW1lOm4sbGlzdGVuZXI6dH0pfX1vbmNlKGUpe2xldCB0O2NvbnN0IG49bmV3IFByb21pc2Uobz0+e3Q9dGhpcy5vbihlLGk9Pnt0KCksbyhpKX0pfSk7cmV0dXJuIG4ub2ZmPXQsbn1ldmVudHMoZSl7ZT1BcnJheS5pc0FycmF5KGUpP2U6W2VdO2Zvcihjb25zdCB0IG9mIGUpQWUodCk7cmV0dXJuIFFyKHRoaXMsZSl9YXN5bmMgZW1pdChlLHQpe3ZhciBuO2lmKEFlKGUpLFNlKGUpJiYhb3QpdGhyb3cgbmV3IFR5cGVFcnJvcigiYGV2ZW50TmFtZWAgY2Fubm90IGJlIG1ldGEgZXZlbnQgYGxpc3RlbmVyQWRkZWRgIG9yIGBsaXN0ZW5lclJlbW92ZWRgIik7dGhpcy5sb2dJZkRlYnVnRW5hYmxlZCgiZW1pdCIsZSx0KSxXbyh0aGlzLGUsdCk7Y29uc3Qgbz0obj1JZSh0aGlzLGUpKSE9bnVsbD9uOm5ldyBTZXQsaT10ZS5nZXQodGhpcykscz1bLi4ub10sYT1TZShlKT9bXTpbLi4uaV07YXdhaXQgWHIsYXdhaXQgUHJvbWlzZS5hbGwoWy4uLnMubWFwKGFzeW5jIHU9PntpZihvLmhhcyh1KSlyZXR1cm4gdSh0KX0pLC4uLmEubWFwKGFzeW5jIHU9PntpZihpLmhhcyh1KSlyZXR1cm4gdShlLHQpfSldKX1hc3luYyBlbWl0U2VyaWFsKGUsdCl7dmFyIG47aWYoQWUoZSksU2UoZSkmJiFvdCl0aHJvdyBuZXcgVHlwZUVycm9yKCJgZXZlbnROYW1lYCBjYW5ub3QgYmUgbWV0YSBldmVudCBgbGlzdGVuZXJBZGRlZGAgb3IgYGxpc3RlbmVyUmVtb3ZlZGAiKTt0aGlzLmxvZ0lmRGVidWdFbmFibGVkKCJlbWl0U2VyaWFsIixlLHQpO2NvbnN0IG89KG49SWUodGhpcyxlKSkhPW51bGw/bjpuZXcgU2V0LGk9dGUuZ2V0KHRoaXMpLHM9Wy4uLm9dLGE9Wy4uLmldO2F3YWl0IFhyO2Zvcihjb25zdCB1IG9mIHMpby5oYXModSkmJmF3YWl0IHUodCk7Zm9yKGNvbnN0IHUgb2YgYSlpLmhhcyh1KSYmYXdhaXQgdShlLHQpfW9uQW55KGUpe3JldHVybiBpdChlKSx0aGlzLmxvZ0lmRGVidWdFbmFibGVkKCJzdWJzY3JpYmVBbnkiLHZvaWQgMCx2b2lkIDApLHRlLmdldCh0aGlzKS5hZGQoZSksc3QodGhpcyxydCx7bGlzdGVuZXI6ZX0pLHRoaXMub2ZmQW55LmJpbmQodGhpcyxlKX1hbnlFdmVudCgpe3JldHVybiBRcih0aGlzKX1vZmZBbnkoZSl7aXQoZSksdGhpcy5sb2dJZkRlYnVnRW5hYmxlZCgidW5zdWJzY3JpYmVBbnkiLHZvaWQgMCx2b2lkIDApLHN0KHRoaXMsbnQse2xpc3RlbmVyOmV9KSx0ZS5nZXQodGhpcykuZGVsZXRlKGUpfWNsZWFyTGlzdGVuZXJzKGUpe2U9QXJyYXkuaXNBcnJheShlKT9lOltlXTtmb3IoY29uc3QgdCBvZiBlKWlmKHRoaXMubG9nSWZEZWJ1Z0VuYWJsZWQoImNsZWFyIix0LHZvaWQgMCksdHlwZW9mIHQ9PSJzdHJpbmcifHx0eXBlb2YgdD09InN5bWJvbCJ8fHR5cGVvZiB0PT0ibnVtYmVyIil7Y29uc3Qgbj1JZSh0aGlzLHQpO24mJm4uY2xlYXIoKTtjb25zdCBvPU5lKHRoaXMsdCk7aWYobyl7Zm9yKGNvbnN0IGkgb2YgbylpLmZpbmlzaCgpO28uY2xlYXIoKX19ZWxzZXt0ZS5nZXQodGhpcykuY2xlYXIoKTtmb3IoY29uc3RbbixvXW9mIGhlLmdldCh0aGlzKS5lbnRyaWVzKCkpby5jbGVhcigpLGhlLmdldCh0aGlzKS5kZWxldGUobik7Zm9yKGNvbnN0W24sb11vZiBaLmdldCh0aGlzKS5lbnRyaWVzKCkpe2Zvcihjb25zdCBpIG9mIG8paS5maW5pc2goKTtvLmNsZWFyKCksWi5nZXQodGhpcykuZGVsZXRlKG4pfX19bGlzdGVuZXJDb3VudChlKXt2YXIgdCxuLG8saSxzLGE7ZT1BcnJheS5pc0FycmF5KGUpP2U6W2VdO2xldCB1PTA7Zm9yKGNvbnN0IGYgb2YgZSl7aWYodHlwZW9mIGY9PSJzdHJpbmciKXt1Kz10ZS5nZXQodGhpcykuc2l6ZSsoKG49KHQ9SWUodGhpcyxmKSk9PW51bGw/dm9pZCAwOnQuc2l6ZSkhPW51bGw/bjowKSsoKGk9KG89TmUodGhpcyxmKSk9PW51bGw/dm9pZCAwOm8uc2l6ZSkhPW51bGw/aTowKSsoKGE9KHM9TmUodGhpcykpPT1udWxsP3ZvaWQgMDpzLnNpemUpIT1udWxsP2E6MCk7Y29udGludWV9dHlwZW9mIGY8InUiJiZBZShmKSx1Kz10ZS5nZXQodGhpcykuc2l6ZTtmb3IoY29uc3QgZCBvZiBoZS5nZXQodGhpcykudmFsdWVzKCkpdSs9ZC5zaXplO2Zvcihjb25zdCBkIG9mIFouZ2V0KHRoaXMpLnZhbHVlcygpKXUrPWQuc2l6ZX1yZXR1cm4gdX1iaW5kTWV0aG9kcyhlLHQpe2lmKHR5cGVvZiBlIT0ib2JqZWN0Inx8ZT09PW51bGwpdGhyb3cgbmV3IFR5cGVFcnJvcigiYHRhcmdldGAgbXVzdCBiZSBhbiBvYmplY3QiKTt0PXFyKHQpO2Zvcihjb25zdCBuIG9mIHQpe2lmKGVbbl0hPT12b2lkIDApdGhyb3cgbmV3IEVycm9yKGBUaGUgcHJvcGVydHkgXGAke259XGAgYWxyZWFkeSBleGlzdHMgb24gXGB0YXJnZXRcYGApO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG4se2VudW1lcmFibGU6ITEsdmFsdWU6dGhpc1tuXS5iaW5kKHRoaXMpfSl9fX1jb25zdCBLcj1PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhSZS5wcm90b3R5cGUpLmZpbHRlcihyPT5yIT09ImNvbnN0cnVjdG9yIik7T2JqZWN0LmRlZmluZVByb3BlcnR5KFJlLCJsaXN0ZW5lckFkZGVkIix7dmFsdWU6cnQsd3JpdGFibGU6ITEsZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITF9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoUmUsImxpc3RlbmVyUmVtb3ZlZCIse3ZhbHVlOm50LHdyaXRhYmxlOiExLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiExfSk7ZnVuY3Rpb24gVm8ocil7cmV0dXJuIHIub25BbnkmJnIuZW1pdH1hc3luYyBmdW5jdGlvbiBIbyhyLGUpe2NvbnN0e2Z1bmN0aW9uTmFtZTp0LGFyZ3M6bn09cjtpZighZS5pbnN0YW5jZSl0aHJvdyJpbnN0YW5jZSBub3QgaW5pdGlhbGl6ZWQiO2lmKCF0KXRocm93Im1pc3NpbmcgZnVuY3Rpb24gbmFtZSB0byBjYWxsIjtpZighZS5pbnN0YW5jZVt0XSl0aHJvd2B1bmRlZmluZWQgZnVuY3Rpb24gWyR7dH1dIGluIGNsYXNzICR7ZS5pbnN0YW5jZS5jb25zdHJ1Y3Rvci53b3JrZXJJZH1gO1VlKHIsYXdhaXQgZS5pbnN0YW5jZVt0XSguLi5uIT1udWxsP246W10pKX1jb25zdCBKcj1KKCJyZWdpc3RlcmVkV29ya2VycyIse30pO2Z1bmN0aW9uIGpvKHIsZSl7ZS53b3JrZXJJZD1yLFlyKCkmJihKcltlLndvcmtlcklkXT1lKX1mdW5jdGlvbiBZbyhyLGUpe2lmKCFyLmFyZ3MpdGhyb3ciTWlzc2luZyBjbGFzc05hbWUgd2hpbGUgaW5pdGlhbGl6aW5nIHdvcmtlciI7Y29uc3RbdCxuXT1yLmFyZ3Msbz1Kclt0XTtpZihvKWUuaW5zdGFuY2U9bmV3IG8oci5hcmdzLnNsaWNlKDEpKTtlbHNlIHRocm93YHVua25vd24gd29ya2VyIGNsYXNzICR7dH1gO2V0KG4sUSksVm8oZS5pbnN0YW5jZSkmJmUuaW5zdGFuY2Uub25BbnkoKGkscyk9PntVZSh7dHlwZTpWLkVWRU5UfSx7bmFtZTppLGRhdGE6c30pfSksVWUocix0eXBlb2YgZS5pbnN0YW5jZSE9PXZvaWQgMCl9YXN5bmMgZnVuY3Rpb24gWG8ocixlKXtjb25zdHthcmdzOnR9PXI7aWYoIWUuaW5zdGFuY2UpdGhyb3ciaW5zdGFuY2Ugbm90IGluaXRpYWxpemVkIjtsZXQgbjtlLmluc3RhbmNlLnRlcm1pbmF0ZSYmKG49YXdhaXQgZS5pbnN0YW5jZS50ZXJtaW5hdGUoLi4udCE9bnVsbD90OltdKSksVWUocixuKX1mdW5jdGlvbiBRbyhyKXtpZighci5hcmdzKXRocm93Ik1pc3NpbmcgZ2xvYmFscyB3aGlsZSBzeW5jaW5nIjtldChyLmFyZ3NbMF0sUSksVWUocix7fSl9ZnVuY3Rpb24gcW8oKXtjb25zdCByPXt9O29ubWVzc2FnZT1hc3luYyBlPT57Y29uc3QgdD1lLmRhdGE7c3dpdGNoKHQudHlwZSl7Y2FzZSBWLklOSVQ6WW8odCxyKTticmVhaztjYXNlIFYuRk9SV0FSRDpIbyh0LHIpO2JyZWFrO2Nhc2UgVi5URVJNSU5BVEU6WG8odCxyKTticmVhaztjYXNlIFYuR0xPQkFMU19TWU5DOlFvKHQpO2JyZWFrfX19WXIoKSYmcW8oKTt2YXIgS289T2JqZWN0LmRlZmluZVByb3BlcnR5LEpvPShyLGUsdCk9PmUgaW4gcj9LbyhyLGUse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOnR9KTpyW2VdPXQsdz0ocixlLHQpPT4oSm8ocix0eXBlb2YgZSE9InN5bWJvbCI/ZSsiIjplLHQpLHQpO2NsYXNzIGVle313KGVlLCJ1cGRhdGVzIix7dHJhbnNmb3JtZXJfbmV3OiJOZXcgdHJhbnNmb3JtZXIiLHRyYW5zZm9ybWVyX251bGw6Ik51bGwgdHJhbnNmb3JtZXIifSksdyhlZSwiZXJyb3JzIix7dHJhbnNmb3JtZXJfbm9uZToiTm8gdHJhbnNmb3JtZXJzIHByb3ZpZGVkIix0cmFuc2Zvcm1lcl9zdGFydDoiQ2Fubm90IHN0YXJ0IHRyYW5zZm9ybWVyIix0cmFuc2Zvcm1lcl90cmFuc2Zvcm06IkNhbm5vdCB0cmFuc2Zvcm0gZnJhbWUiLHRyYW5zZm9ybWVyX2ZsdXNoOiJDYW5ub3QgZmx1c2ggdHJhbnNmb3JtZXIiLHJlYWRhYmxlX251bGw6IlJlYWRhYmxlIGlzIG51bGwiLHdyaXRhYmxlX251bGw6IldyaXRhYmxlIGlzIG51bGwifSk7Y29uc3QgcmU9bmV3IFdlYWtNYXAsYXQ9bmV3IFdlYWtNYXAsTGU9bmV3IFdlYWtNYXAsanQ9U3ltYm9sKCJhbnlQcm9kdWNlciIpLFpyPVByb21pc2UucmVzb2x2ZSgpLHV0PVN5bWJvbCgibGlzdGVuZXJBZGRlZCIpLGN0PVN5bWJvbCgibGlzdGVuZXJSZW1vdmVkIik7bGV0IFl0PSExO2Z1bmN0aW9uIEZlKHIpe2lmKHR5cGVvZiByIT0ic3RyaW5nIiYmdHlwZW9mIHIhPSJzeW1ib2wiKXRocm93IG5ldyBUeXBlRXJyb3IoImV2ZW50TmFtZSBtdXN0IGJlIGEgc3RyaW5nIG9yIGEgc3ltYm9sIil9ZnVuY3Rpb24gZnQocil7aWYodHlwZW9mIHIhPSJmdW5jdGlvbiIpdGhyb3cgbmV3IFR5cGVFcnJvcigibGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uIil9ZnVuY3Rpb24gUGUocixlKXtjb25zdCB0PWF0LmdldChyKTtyZXR1cm4gdC5oYXMoZSl8fHQuc2V0KGUsbmV3IFNldCksdC5nZXQoZSl9ZnVuY3Rpb24gemUocixlKXtjb25zdCB0PXR5cGVvZiBlPT0ic3RyaW5nInx8dHlwZW9mIGU9PSJzeW1ib2wiP2U6anQsbj1MZS5nZXQocik7cmV0dXJuIG4uaGFzKHQpfHxuLnNldCh0LG5ldyBTZXQpLG4uZ2V0KHQpfWZ1bmN0aW9uIFpvKHIsZSx0KXtjb25zdCBuPUxlLmdldChyKTtpZihuLmhhcyhlKSlmb3IoY29uc3QgbyBvZiBuLmdldChlKSlvLmVucXVldWUodCk7aWYobi5oYXMoanQpKXtjb25zdCBvPVByb21pc2UuYWxsKFtlLHRdKTtmb3IoY29uc3QgaSBvZiBuLmdldChqdCkpaS5lbnF1ZXVlKG8pfX1mdW5jdGlvbiBlbihyLGUpe2U9QXJyYXkuaXNBcnJheShlKT9lOltlXTtsZXQgdD0hMSxuPSgpPT57fSxvPVtdO2NvbnN0IGk9e2VucXVldWUocyl7by5wdXNoKHMpLG4oKX0sZmluaXNoKCl7dD0hMCxuKCl9fTtmb3IoY29uc3QgcyBvZiBlKXplKHIscykuYWRkKGkpO3JldHVybnthc3luYyBuZXh0KCl7cmV0dXJuIG8/by5sZW5ndGg9PT0wP3Q/KG89dm9pZCAwLHRoaXMubmV4dCgpKTooYXdhaXQgbmV3IFByb21pc2Uocz0+e249c30pLHRoaXMubmV4dCgpKTp7ZG9uZTohMSx2YWx1ZTphd2FpdCBvLnNoaWZ0KCl9Ontkb25lOiEwfX0sYXN5bmMgcmV0dXJuKHMpe289dm9pZCAwO2Zvcihjb25zdCBhIG9mIGUpemUocixhKS5kZWxldGUoaSk7cmV0dXJuIG4oKSxhcmd1bWVudHMubGVuZ3RoPjA/e2RvbmU6ITAsdmFsdWU6YXdhaXQgc306e2RvbmU6ITB9fSxbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKCl7cmV0dXJuIHRoaXN9fX1mdW5jdGlvbiB0bihyKXtpZihyPT09dm9pZCAwKXJldHVybiBybjtpZighQXJyYXkuaXNBcnJheShyKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJgbWV0aG9kTmFtZXNgIG11c3QgYmUgYW4gYXJyYXkgb2Ygc3RyaW5ncyIpO2Zvcihjb25zdCBlIG9mIHIpaWYoIXJuLmluY2x1ZGVzKGUpKXRocm93IHR5cGVvZiBlIT0ic3RyaW5nIj9uZXcgVHlwZUVycm9yKCJgbWV0aG9kTmFtZXNgIGVsZW1lbnQgbXVzdCBiZSBhIHN0cmluZyIpOm5ldyBFcnJvcihgJHtlfSBpcyBub3QgRW1pdHRlcnkgbWV0aG9kYCk7cmV0dXJuIHJ9Y29uc3QgWHQ9cj0+cj09PXV0fHxyPT09Y3Q7Y2xhc3MgbWV7c3RhdGljIG1peGluKGUsdCl7cmV0dXJuIHQ9dG4odCksbj0+e2lmKHR5cGVvZiBuIT0iZnVuY3Rpb24iKXRocm93IG5ldyBUeXBlRXJyb3IoImB0YXJnZXRgIG11c3QgYmUgZnVuY3Rpb24iKTtmb3IoY29uc3QgcyBvZiB0KWlmKG4ucHJvdG90eXBlW3NdIT09dm9pZCAwKXRocm93IG5ldyBFcnJvcihgVGhlIHByb3BlcnR5IFxgJHtzfVxgIGFscmVhZHkgZXhpc3RzIG9uIFxgdGFyZ2V0XGBgKTtmdW5jdGlvbiBvKCl7cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLGUse2VudW1lcmFibGU6ITEsdmFsdWU6bmV3IG1lfSksdGhpc1tlXX1PYmplY3QuZGVmaW5lUHJvcGVydHkobi5wcm90b3R5cGUsZSx7ZW51bWVyYWJsZTohMSxnZXQ6b30pO2NvbnN0IGk9cz0+ZnVuY3Rpb24oLi4uYSl7cmV0dXJuIHRoaXNbZV1bc10oLi4uYSl9O2Zvcihjb25zdCBzIG9mIHQpT2JqZWN0LmRlZmluZVByb3BlcnR5KG4ucHJvdG90eXBlLHMse2VudW1lcmFibGU6ITEsdmFsdWU6aShzKX0pO3JldHVybiBufX1zdGF0aWMgZ2V0IGlzRGVidWdFbmFibGVkKCl7aWYodHlwZW9mIHByb2Nlc3MhPSJvYmplY3QiKXJldHVybiBZdDtjb25zdHtlbnY6ZX09cHJvY2Vzc3x8e2Vudjp7fX07cmV0dXJuIGUuREVCVUc9PT0iZW1pdHRlcnkifHxlLkRFQlVHPT09IioifHxZdH1zdGF0aWMgc2V0IGlzRGVidWdFbmFibGVkKGUpe1l0PWV9Y29uc3RydWN0b3IoZT17fSl7cmUuc2V0KHRoaXMsbmV3IFNldCksYXQuc2V0KHRoaXMsbmV3IE1hcCksTGUuc2V0KHRoaXMsbmV3IE1hcCksdGhpcy5kZWJ1Zz1lLmRlYnVnfHx7fSx0aGlzLmRlYnVnLmVuYWJsZWQ9PT12b2lkIDAmJih0aGlzLmRlYnVnLmVuYWJsZWQ9ITEpLHRoaXMuZGVidWcubG9nZ2VyfHwodGhpcy5kZWJ1Zy5sb2dnZXI9KHQsbixvLGkpPT57dHJ5e2k9SlNPTi5zdHJpbmdpZnkoaSl9Y2F0Y2h7aT1gT2JqZWN0IHdpdGggdGhlIGZvbGxvd2luZyBrZXlzIGZhaWxlZCB0byBzdHJpbmdpZnk6ICR7T2JqZWN0LmtleXMoaSkuam9pbigiLCIpfWB9dHlwZW9mIG89PSJzeW1ib2wiJiYobz1vLnRvU3RyaW5nKCkpO2NvbnN0IHM9bmV3IERhdGUsYT1gJHtzLmdldEhvdXJzKCl9OiR7cy5nZXRNaW51dGVzKCl9OiR7cy5nZXRTZWNvbmRzKCl9LiR7cy5nZXRNaWxsaXNlY29uZHMoKX1gO2NvbnNvbGUubG9nKGBbJHthfV1bZW1pdHRlcnk6JHt0fV1bJHtufV0gRXZlbnQgTmFtZTogJHtvfQoJZGF0YTogJHtpfWApfSl9bG9nSWZEZWJ1Z0VuYWJsZWQoZSx0LG4peyhtZS5pc0RlYnVnRW5hYmxlZHx8dGhpcy5kZWJ1Zy5lbmFibGVkKSYmdGhpcy5kZWJ1Zy5sb2dnZXIoZSx0aGlzLmRlYnVnLm5hbWUsdCxuKX1vbihlLHQpe2Z0KHQpLGU9QXJyYXkuaXNBcnJheShlKT9lOltlXTtmb3IoY29uc3QgbiBvZiBlKUZlKG4pLFBlKHRoaXMsbikuYWRkKHQpLHRoaXMubG9nSWZEZWJ1Z0VuYWJsZWQoInN1YnNjcmliZSIsbix2b2lkIDApLFh0KG4pfHx0aGlzLmVtaXQodXQse2V2ZW50TmFtZTpuLGxpc3RlbmVyOnR9KTtyZXR1cm4gdGhpcy5vZmYuYmluZCh0aGlzLGUsdCl9b2ZmKGUsdCl7ZnQodCksZT1BcnJheS5pc0FycmF5KGUpP2U6W2VdO2Zvcihjb25zdCBuIG9mIGUpRmUobiksUGUodGhpcyxuKS5kZWxldGUodCksdGhpcy5sb2dJZkRlYnVnRW5hYmxlZCgidW5zdWJzY3JpYmUiLG4sdm9pZCAwKSxYdChuKXx8dGhpcy5lbWl0KGN0LHtldmVudE5hbWU6bixsaXN0ZW5lcjp0fSl9b25jZShlKXtyZXR1cm4gbmV3IFByb21pc2UodD0+e2NvbnN0IG49dGhpcy5vbihlLG89PntuKCksdChvKX0pfSl9ZXZlbnRzKGUpe2U9QXJyYXkuaXNBcnJheShlKT9lOltlXTtmb3IoY29uc3QgdCBvZiBlKUZlKHQpO3JldHVybiBlbih0aGlzLGUpfWFzeW5jIGVtaXQoZSx0KXtGZShlKSx0aGlzLmxvZ0lmRGVidWdFbmFibGVkKCJlbWl0IixlLHQpLFpvKHRoaXMsZSx0KTtjb25zdCBuPVBlKHRoaXMsZSksbz1yZS5nZXQodGhpcyksaT1bLi4ubl0scz1YdChlKT9bXTpbLi4ub107YXdhaXQgWnIsYXdhaXQgUHJvbWlzZS5hbGwoWy4uLmkubWFwKGFzeW5jIGE9PntpZihuLmhhcyhhKSlyZXR1cm4gYSh0KX0pLC4uLnMubWFwKGFzeW5jIGE9PntpZihvLmhhcyhhKSlyZXR1cm4gYShlLHQpfSldKX1hc3luYyBlbWl0U2VyaWFsKGUsdCl7RmUoZSksdGhpcy5sb2dJZkRlYnVnRW5hYmxlZCgiZW1pdFNlcmlhbCIsZSx0KTtjb25zdCBuPVBlKHRoaXMsZSksbz1yZS5nZXQodGhpcyksaT1bLi4ubl0scz1bLi4ub107YXdhaXQgWnI7Zm9yKGNvbnN0IGEgb2YgaSluLmhhcyhhKSYmYXdhaXQgYSh0KTtmb3IoY29uc3QgYSBvZiBzKW8uaGFzKGEpJiZhd2FpdCBhKGUsdCl9b25BbnkoZSl7cmV0dXJuIGZ0KGUpLHRoaXMubG9nSWZEZWJ1Z0VuYWJsZWQoInN1YnNjcmliZUFueSIsdm9pZCAwLHZvaWQgMCkscmUuZ2V0KHRoaXMpLmFkZChlKSx0aGlzLmVtaXQodXQse2xpc3RlbmVyOmV9KSx0aGlzLm9mZkFueS5iaW5kKHRoaXMsZSl9YW55RXZlbnQoKXtyZXR1cm4gZW4odGhpcyl9b2ZmQW55KGUpe2Z0KGUpLHRoaXMubG9nSWZEZWJ1Z0VuYWJsZWQoInVuc3Vic2NyaWJlQW55Iix2b2lkIDAsdm9pZCAwKSx0aGlzLmVtaXQoY3Qse2xpc3RlbmVyOmV9KSxyZS5nZXQodGhpcykuZGVsZXRlKGUpfWNsZWFyTGlzdGVuZXJzKGUpe2U9QXJyYXkuaXNBcnJheShlKT9lOltlXTtmb3IoY29uc3QgdCBvZiBlKWlmKHRoaXMubG9nSWZEZWJ1Z0VuYWJsZWQoImNsZWFyIix0LHZvaWQgMCksdHlwZW9mIHQ9PSJzdHJpbmcifHx0eXBlb2YgdD09InN5bWJvbCIpe1BlKHRoaXMsdCkuY2xlYXIoKTtjb25zdCBuPXplKHRoaXMsdCk7Zm9yKGNvbnN0IG8gb2YgbilvLmZpbmlzaCgpO24uY2xlYXIoKX1lbHNle3JlLmdldCh0aGlzKS5jbGVhcigpO2Zvcihjb25zdCBuIG9mIGF0LmdldCh0aGlzKS52YWx1ZXMoKSluLmNsZWFyKCk7Zm9yKGNvbnN0IG4gb2YgTGUuZ2V0KHRoaXMpLnZhbHVlcygpKXtmb3IoY29uc3QgbyBvZiBuKW8uZmluaXNoKCk7bi5jbGVhcigpfX19bGlzdGVuZXJDb3VudChlKXtlPUFycmF5LmlzQXJyYXkoZSk/ZTpbZV07bGV0IHQ9MDtmb3IoY29uc3QgbiBvZiBlKXtpZih0eXBlb2Ygbj09InN0cmluZyIpe3QrPXJlLmdldCh0aGlzKS5zaXplK1BlKHRoaXMsbikuc2l6ZSt6ZSh0aGlzLG4pLnNpemUremUodGhpcykuc2l6ZTtjb250aW51ZX10eXBlb2YgbjwidSImJkZlKG4pLHQrPXJlLmdldCh0aGlzKS5zaXplO2Zvcihjb25zdCBvIG9mIGF0LmdldCh0aGlzKS52YWx1ZXMoKSl0Kz1vLnNpemU7Zm9yKGNvbnN0IG8gb2YgTGUuZ2V0KHRoaXMpLnZhbHVlcygpKXQrPW8uc2l6ZX1yZXR1cm4gdH1iaW5kTWV0aG9kcyhlLHQpe2lmKHR5cGVvZiBlIT0ib2JqZWN0Inx8ZT09PW51bGwpdGhyb3cgbmV3IFR5cGVFcnJvcigiYHRhcmdldGAgbXVzdCBiZSBhbiBvYmplY3QiKTt0PXRuKHQpO2Zvcihjb25zdCBuIG9mIHQpe2lmKGVbbl0hPT12b2lkIDApdGhyb3cgbmV3IEVycm9yKGBUaGUgcHJvcGVydHkgXGAke259XGAgYWxyZWFkeSBleGlzdHMgb24gXGB0YXJnZXRcYGApO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG4se2VudW1lcmFibGU6ITEsdmFsdWU6dGhpc1tuXS5iaW5kKHRoaXMpfSl9fX1jb25zdCBybj1PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhtZS5wcm90b3R5cGUpLmZpbHRlcihyPT5yIT09ImNvbnN0cnVjdG9yIik7T2JqZWN0LmRlZmluZVByb3BlcnR5KG1lLCJsaXN0ZW5lckFkZGVkIix7dmFsdWU6dXQsd3JpdGFibGU6ITEsZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITF9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkobWUsImxpc3RlbmVyUmVtb3ZlZCIse3ZhbHVlOmN0LHdyaXRhYmxlOiExLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiExfSk7dmFyIFF0PW1lO2Z1bmN0aW9uIGVpKHIpe3JldHVybiB0eXBlb2Ygcj09Im9iamVjdCImJnIhPT1udWxsJiYibWVzc2FnZSJpbiByJiZ0eXBlb2Ygci5tZXNzYWdlPT0ic3RyaW5nIn1mdW5jdGlvbiB0aShyKXtpZihlaShyKSlyZXR1cm4gcjt0cnl7cmV0dXJuIG5ldyBFcnJvcihKU09OLnN0cmluZ2lmeShyKSl9Y2F0Y2h7cmV0dXJuIG5ldyBFcnJvcihTdHJpbmcocikpfX1mdW5jdGlvbiBxdChyKXtyZXR1cm4gdGkocikubWVzc2FnZX12YXIgcmk9T2JqZWN0LmRlZmluZVByb3BlcnR5LG5pPShyLGUsdCk9PmUgaW4gcj9yaShyLGUse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOnR9KTpyW2VdPXQsb2k9KHIsZSx0KT0+KG5pKHIsdHlwZW9mIGUhPSJzeW1ib2wiP2UrIiI6ZSx0KSx0KTtjb25zdCBpaT0iaGxnLnRva2JveC5jb20vcHJvZC9sb2dnaW5nL3ZjcF93ZWJydGMiLHNpPSJodHRwczovLyIsYWk9MWU0O2xldCBsdDtjb25zdCB1aT1uZXcgVWludDhBcnJheSgxNik7ZnVuY3Rpb24gY2koKXtpZighbHQmJihsdD10eXBlb2YgY3J5cHRvPCJ1IiYmY3J5cHRvLmdldFJhbmRvbVZhbHVlcyYmY3J5cHRvLmdldFJhbmRvbVZhbHVlcy5iaW5kKGNyeXB0byksIWx0KSl0aHJvdyBuZXcgRXJyb3IoImNyeXB0by5nZXRSYW5kb21WYWx1ZXMoKSBub3Qgc3VwcG9ydGVkLiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3V1aWRqcy91dWlkI2dldHJhbmRvbXZhbHVlcy1ub3Qtc3VwcG9ydGVkIik7cmV0dXJuIGx0KHVpKX1jb25zdCBDPVtdO2ZvcihsZXQgcj0wO3I8MjU2OysrcilDLnB1c2goKHIrMjU2KS50b1N0cmluZygxNikuc2xpY2UoMSkpO2Z1bmN0aW9uIGZpKHIsZT0wKXtyZXR1cm4oQ1tyW2UrMF1dK0NbcltlKzFdXStDW3JbZSsyXV0rQ1tyW2UrM11dKyItIitDW3JbZSs0XV0rQ1tyW2UrNV1dKyItIitDW3JbZSs2XV0rQ1tyW2UrN11dKyItIitDW3JbZSs4XV0rQ1tyW2UrOV1dKyItIitDW3JbZSsxMF1dK0NbcltlKzExXV0rQ1tyW2UrMTJdXStDW3JbZSsxM11dK0NbcltlKzE0XV0rQ1tyW2UrMTVdXSkudG9Mb3dlckNhc2UoKX1jb25zdCBsaT10eXBlb2YgY3J5cHRvPCJ1IiYmY3J5cHRvLnJhbmRvbVVVSUQmJmNyeXB0by5yYW5kb21VVUlELmJpbmQoY3J5cHRvKSxubj17cmFuZG9tVVVJRDpsaX07ZnVuY3Rpb24gZGkocixlLHQpe2lmKG5uLnJhbmRvbVVVSUQmJiFlJiYhcilyZXR1cm4gbm4ucmFuZG9tVVVJRCgpO3I9cnx8e307Y29uc3Qgbj1yLnJhbmRvbXx8KHIucm5nfHxjaSkoKTtpZihuWzZdPW5bNl0mMTV8NjQsbls4XT1uWzhdJjYzfDEyOCxlKXt0PXR8fDA7Zm9yKGxldCBvPTA7bzwxNjsrK28pZVt0K29dPW5bb107cmV0dXJuIGV9cmV0dXJuIGZpKG4pfWZ1bmN0aW9uIEt0KHIsZSl7Z2xvYmFsVGhpcy52b25hZ2V8fChnbG9iYWxUaGlzLnZvbmFnZT17fSksZ2xvYmFsVGhpcy52b25hZ2Uud29ya2VyaXplcnx8KGdsb2JhbFRoaXMudm9uYWdlLndvcmtlcml6ZXI9e30pO2xldCB0PWdsb2JhbFRoaXMudm9uYWdlLndvcmtlcml6ZXI7cmV0dXJuIHRbcl18fCh0W3JdPWUpLHRbcl19Y29uc3QgbmU9S3QoImdsb2JhbHMiLHt9KTt2YXIgcGU9KHI9PihyLklOSVQ9IklOSVQiLHIuRk9SV0FSRD0iRk9SV0FSRCIsci5URVJNSU5BVEU9IlRFUk1JTkFURSIsci5HTE9CQUxTX1NZTkM9IkdMT0JBTFNfU1lOQyIscikpKHBlfHx7fSk7ZnVuY3Rpb24gb24ocil7cmV0dXJuW0ltYWdlQml0bWFwLFJlYWRhYmxlU3RyZWFtLFdyaXRhYmxlU3RyZWFtXS5zb21lKGU9PnIgaW5zdGFuY2VvZiBlKX1sZXQgaGk9MDtmdW5jdGlvbiBtaShyLGUsdCxuLG8pe2NvbnN0IGk9aGkrKztyZXR1cm4gci5wb3N0TWVzc2FnZSh7aWQ6aSx0eXBlOmUsZnVuY3Rpb25OYW1lOnQsYXJnczpufSxuLmZpbHRlcihzPT5vbihzKSkpLG5ldyBQcm9taXNlKHM9PntvPT1udWxsfHxvLnNldChpLHMpfSl9ZnVuY3Rpb24gR2UocixlKXtjb25zdHtpZDp0LHR5cGU6bn09cixvPUFycmF5LmlzQXJyYXkoZSk/ZTpbZV07cG9zdE1lc3NhZ2Uoe2lkOnQsdHlwZTpuLHJlc3VsdDplfSxvLmZpbHRlcihpPT5vbihpKSkpfWNvbnN0IHNuPUt0KCJ3b3JrZXJpemVkIix7fSk7ZnVuY3Rpb24gYW4oKXtyZXR1cm4gdHlwZW9mIFdvcmtlckdsb2JhbFNjb3BlPCJ1IiYmc2VsZiBpbnN0YW5jZW9mIFdvcmtlckdsb2JhbFNjb3BlfWFzeW5jIGZ1bmN0aW9uIHBpKCl7aWYoYW4oKSlHZSh7dHlwZTpwZS5HTE9CQUxTX1NZTkN9LG5lKTtlbHNle2NvbnN0IHI9W107Zm9yKGNvbnN0IGUgaW4gc24pe2NvbnN0e3dvcmtlcjp0LHJlc29sdmVyczpufT1zbltlXS53b3JrZXJDb250ZXh0O3QmJnIucHVzaChtaSh0LHBlLkdMT0JBTFNfU1lOQywiIixbbmVdLG4pKX1hd2FpdCBQcm9taXNlLmFsbChyKX19ZnVuY3Rpb24gZHQocixlKXtpZihBcnJheS5pc0FycmF5KGUpKWUuc3BsaWNlKDAsZS5sZW5ndGgpO2Vsc2UgaWYodHlwZW9mIGU9PSJvYmplY3QiKWZvcihjb25zdCB0IGluIGUpZGVsZXRlIGVbdF07Zm9yKGNvbnN0IHQgaW4gcilBcnJheS5pc0FycmF5KHJbdF0pPyhlW3RdPVtdLGR0KHJbdF0sZVt0XSkpOnR5cGVvZiByW3RdPT0ib2JqZWN0Ij8oZVt0XT17fSxkdChyW3RdLGVbdF0pKTplW3RdPXJbdF19YXN5bmMgZnVuY3Rpb24gZ2kocixlKXtjb25zdHtmdW5jdGlvbk5hbWU6dCxhcmdzOm59PXI7aWYoIWUuaW5zdGFuY2UpdGhyb3ciaW5zdGFuY2Ugbm90IGluaXRpYWxpemVkIjtpZighdCl0aHJvdyJtaXNzaW5nIGZ1bmN0aW9uIG5hbWUgdG8gY2FsbCI7aWYoIWUuaW5zdGFuY2VbdF0pdGhyb3dgdW5kZWZpbmVkIGZ1bmN0aW9uIFske3R9XSBpbiBjbGFzcyAke2UuaW5zdGFuY2UuY29uc3RydWN0b3Iud29ya2VySWR9YDtHZShyLGF3YWl0IGUuaW5zdGFuY2VbdF0oLi4ubiE9bnVsbD9uOltdKSl9Y29uc3QgeWk9S3QoInJlZ2lzdGVyZWRXb3JrZXJzIix7fSk7ZnVuY3Rpb24gYmkocixlKXtpZighci5hcmdzKXRocm93Ik1pc3NpbmcgY2xhc3NOYW1lIHdoaWxlIGluaXRpYWxpemluZyB3b3JrZXIiO2NvbnN0W3Qsbl09ci5hcmdzLG89eWlbdF07aWYobyllLmluc3RhbmNlPW5ldyBvKHIuYXJncy5zbGljZSgxKSk7ZWxzZSB0aHJvd2B1bmtub3duIHdvcmtlciBjbGFzcyAke3R9YDtkdChuLG5lKSxHZShyLHR5cGVvZiBlLmluc3RhbmNlIT09dm9pZCAwKX1hc3luYyBmdW5jdGlvbiB4aShyLGUpe2NvbnN0e2FyZ3M6dH09cjtpZighZS5pbnN0YW5jZSl0aHJvdyJpbnN0YW5jZSBub3QgaW5pdGlhbGl6ZWQiO2xldCBuO2UuaW5zdGFuY2UudGVybWluYXRlJiYobj1hd2FpdCBlLmluc3RhbmNlLnRlcm1pbmF0ZSguLi50IT1udWxsP3Q6W10pKSxHZShyLG4pfWZ1bmN0aW9uIF9pKHIpe2lmKCFyLmFyZ3MpdGhyb3ciTWlzc2luZyBnbG9iYWxzIHdoaWxlIHN5bmNpbmciO2R0KHIuYXJnc1swXSxuZSksR2Uocix7fSl9ZnVuY3Rpb24gdmkoKXtjb25zdCByPXt9O29ubWVzc2FnZT1hc3luYyBlPT57Y29uc3QgdD1lLmRhdGE7c3dpdGNoKHQudHlwZSl7Y2FzZSBwZS5JTklUOmJpKHQscik7YnJlYWs7Y2FzZSBwZS5GT1JXQVJEOmdpKHQscik7YnJlYWs7Y2FzZSBwZS5URVJNSU5BVEU6eGkodCxyKTticmVhaztjYXNlIHBlLkdMT0JBTFNfU1lOQzpfaSh0KTticmVha319fWFuKCkmJnZpKCk7ZnVuY3Rpb24gRWkocixlKXtyZXR1cm4gbmVbcl18fChuZVtyXT1lKSxbKCk9Pm5lW3JdLGFzeW5jIHQ9PntuZVtyXT10LGF3YWl0IHBpKCl9XX1mdW5jdGlvbiBUaShyLGUpe3JldHVybiBFaShyLGUpfWNvbnN0W3dpLEFpXT1UaSgibWV0YWRhdGEiKTtmdW5jdGlvbiBJaShyKXtBaShyKX1mdW5jdGlvbiBKdCgpe3JldHVybiB3aSgpfWNsYXNzIFp0e2NvbnN0cnVjdG9yKGUpe29pKHRoaXMsInV1aWQiLGRpKCkpLHRoaXMuY29uZmlnPWV9YXN5bmMgc2VuZChlKXt2YXIgdCxuLG87Y29uc3R7YXBwSWQ6aSxzb3VyY2VUeXBlOnN9PSh0PUp0KCkpIT1udWxsP3Q6e307aWYoIWl8fCFzKXJldHVybiJtZXRhZGF0YSBtaXNzaW5nIjtjb25zdCBhPW5ldyBBYm9ydENvbnRyb2xsZXIsdT1zZXRUaW1lb3V0KCgpPT5hLmFib3J0KCksYWkpO3JldHVybiBhd2FpdCgobz0obj10aGlzLmNvbmZpZyk9PW51bGw/dm9pZCAwOm4uZmV0Y2gpIT1udWxsP286ZmV0Y2gpKHRoaXMuZ2V0VXJsKCkse21ldGhvZDoiUE9TVCIsaGVhZGVyczp0aGlzLmdldEhlYWRlcnMoKSxib2R5OkpTT04uc3RyaW5naWZ5KHRoaXMuYnVpbGRSZXBvcnQoZSkpLHNpZ25hbDphLnNpZ25hbH0pLGNsZWFyVGltZW91dCh1KSwic3VjY2VzcyJ9Z2V0VXJsKCl7dmFyIGU7bGV0IHQ9KGU9SnQoKS5wcm94eVVybCkhPW51bGw/ZTpzaTtyZXR1cm4gdCs9KHQuYXQoLTEpPT09Ii8iPyIiOiIvIikraWksdH1nZXRIZWFkZXJzKCl7cmV0dXJueyJDb250ZW50LVR5cGUiOiJhcHBsaWNhdGlvbi9qc29uIn19YnVpbGRSZXBvcnQoZSl7Y29uc3QgdD1KdCgpO3JldHVybntndWlkOnRoaXMudXVpZCwuLi5lLGFwcGxpY2F0aW9uSWQ6dC5hcHBJZCx0aW1lc3RhbXA6RGF0ZS5ub3coKSxwcm94eVVybDp0LnByb3h5VXJsLHNvdXJjZTp0LnNvdXJjZVR5cGV9fX1jb25zdCBodD0iMi4wLjMiO2NsYXNzIFNpe2NvbnN0cnVjdG9yKGUpe3codGhpcywiZnJhbWVUcmFuc2Zvcm1lZENvdW50IiwwKSx3KHRoaXMsImZyYW1lRnJvbVNvdXJjZUNvdW50IiwwKSx3KHRoaXMsInN0YXJ0QXQiLDApLHcodGhpcywicmVwb3J0ZXIiKSx0aGlzLmNvbmZpZz1lLHRoaXMucmVwb3J0ZXI9bmV3IFp0KGUpfWFzeW5jIG9uRnJhbWVGcm9tU291cmNlKCl7dGhpcy5mcmFtZUZyb21Tb3VyY2VDb3VudCsrfWdldCBmcHMoKXtjb25zdHtzdGFydEF0OmUsZnJhbWVGcm9tU291cmNlQ291bnQ6dH09dGhpcyxuPShEYXRlLm5vdygpLWUpLzFlMztyZXR1cm4gdC9ufWFzeW5jIG9uRnJhbWVUcmFuc2Zvcm1lZChlPXt9LHQ9ITEpe3RoaXMuc3RhcnRBdD09PTAmJih0aGlzLnN0YXJ0QXQ9RGF0ZS5ub3coKSksdGhpcy5mcmFtZVRyYW5zZm9ybWVkQ291bnQrKztjb25zdHtzdGFydEF0Om4sZnJhbWVUcmFuc2Zvcm1lZENvdW50Om8sZnJhbWVGcm9tU291cmNlQ291bnQ6aX09dGhpcyxzPURhdGUubm93KCksYT0ocy1uKS8xZTMsdT1vL2EsZj1pL2E7cmV0dXJuIHR8fHRoaXMuZnJhbWVUcmFuc2Zvcm1lZENvdW50Pj10aGlzLmNvbmZpZy5sb2dnaW5nSW50ZXJ2YWxGcmFtZUNvdW50Pyh0aGlzLmZyYW1lRnJvbVNvdXJjZUNvdW50PTAsdGhpcy5mcmFtZVRyYW5zZm9ybWVkQ291bnQ9MCx0aGlzLnN0YXJ0QXQ9cyx0aGlzLnJlcG9ydGVyLmNvbmZpZz10aGlzLmNvbmZpZyx0aGlzLnJlcG9ydGVyLnNlbmQoey4uLnRoaXMuY29uZmlnLnJlcG9ydCx2YXJpYXRpb246IlFvUyIsZnBzOmYsdHJhbnNmb3JtZWRGcHM6dSxmcmFtZXNUcmFuc2Zvcm1lZDpvLC4uLmV9KSk6InN1Y2Nlc3MifX12YXIgZXI9KHI9PihyLnBpcGVsaW5lX2VuZGVkPSJwaXBlbGluZV9lbmRlZCIsci5waXBlbGluZV9lbmRlZF93aXRoX2Vycm9yPSJwaXBlbGluZV9lbmRlZF93aXRoX2Vycm9yIixyLnBpcGVsaW5lX3N0YXJ0ZWQ9InBpcGVsaW5lX3N0YXJ0ZWQiLHIucGlwZWxpbmVfc3RhcnRlZF93aXRoX2Vycm9yPSJwaXBlbGluZV9zdGFydGVkX3dpdGhfZXJyb3IiLHIucGlwZWxpbmVfcmVzdGFydGVkPSJwaXBlbGluZV9yZXN0YXJ0ZWQiLHIucGlwZWxpbmVfcmVzdGFydGVkX3dpdGhfZXJyb3I9InBpcGVsaW5lX3Jlc3RhcnRlZF93aXRoX2Vycm9yIixyKSkoZXJ8fHt9KTtjb25zdCBSaT01MDAsRmk9Ljg7Y2xhc3MgUGkgZXh0ZW5kcyBRdHtjb25zdHJ1Y3RvcihlLHQpe3N1cGVyKCksdyh0aGlzLCJyZXBvcnRlcl8iLG5ldyBadCksdyh0aGlzLCJyZXBvcnRlclFvc18iLG5ldyBTaSh7bG9nZ2luZ0ludGVydmFsRnJhbWVDb3VudDpSaSxyZXBvcnQ6e3ZlcnNpb246aHR9fSkpLHcodGhpcywidHJhbnNmb3JtZXJUeXBlXyIpLHcodGhpcywidHJhbnNmb3JtZXJfIiksdyh0aGlzLCJzaG91bGRTdG9wXyIpLHcodGhpcywiaXNGbGFzaGVkXyIpLHcodGhpcywibWVkaWFUcmFuc2Zvcm1lclFvc1JlcG9ydFN0YXJ0VGltZXN0YW1wXyIpLHcodGhpcywidmlkZW9IZWlnaHRfIiksdyh0aGlzLCJ2aWRlb1dpZHRoXyIpLHcodGhpcywidHJhY2tFeHBlY3RlZFJhdGVfIiksdyh0aGlzLCJpbmRleF8iKSx3KHRoaXMsImNvbnRyb2xsZXJfIiksdGhpcy5pbmRleF89dCx0aGlzLnRyYW5zZm9ybWVyXz1lLHRoaXMuc2hvdWxkU3RvcF89ITEsdGhpcy5pc0ZsYXNoZWRfPSExLHRoaXMubWVkaWFUcmFuc2Zvcm1lclFvc1JlcG9ydFN0YXJ0VGltZXN0YW1wXz0wLHRoaXMudmlkZW9IZWlnaHRfPTAsdGhpcy52aWRlb1dpZHRoXz0wLHRoaXMudHJhY2tFeHBlY3RlZFJhdGVfPS0xLHRoaXMudHJhbnNmb3JtZXJUeXBlXz0iQ3VzdG9tIiwiZ2V0VHJhbnNmb3JtZXJUeXBlImluIGUmJih0aGlzLnRyYW5zZm9ybWVyVHlwZV89ZS5nZXRUcmFuc2Zvcm1lclR5cGUoKSksdGhpcy5yZXBvcnQoe3ZhcmlhdGlvbjoiQ3JlYXRlIn0pfXNldFRyYWNrRXhwZWN0ZWRSYXRlKGUpe3RoaXMudHJhY2tFeHBlY3RlZFJhdGVfPWV9YXN5bmMgc3RhcnQoZSl7aWYodGhpcy5jb250cm9sbGVyXz1lLHRoaXMudHJhbnNmb3JtZXJfJiZ0eXBlb2YgdGhpcy50cmFuc2Zvcm1lcl8uc3RhcnQ9PSJmdW5jdGlvbiIpdHJ5e2F3YWl0IHRoaXMudHJhbnNmb3JtZXJfLnN0YXJ0KGUpfWNhdGNoKHQpe3RoaXMucmVwb3J0KHttZXNzYWdlOmVlLmVycm9ycy50cmFuc2Zvcm1lcl9zdGFydCx2YXJpYXRpb246IkVycm9yIixlcnJvcjpxdCh0KX0pO2NvbnN0IG49e2V2ZW50TWV0YURhdGE6e3RyYW5zZm9ybWVySW5kZXg6dGhpcy5pbmRleF99LGVycm9yOnQsZnVuY3Rpb246InN0YXJ0In07dGhpcy5lbWl0KCJlcnJvciIsbil9fWFzeW5jIHRyYW5zZm9ybShlLHQpe3ZhciBuLG8saSxzO2lmKHRoaXMubWVkaWFUcmFuc2Zvcm1lclFvc1JlcG9ydFN0YXJ0VGltZXN0YW1wXz09PTAmJih0aGlzLm1lZGlhVHJhbnNmb3JtZXJRb3NSZXBvcnRTdGFydFRpbWVzdGFtcF89RGF0ZS5ub3coKSksZSBpbnN0YW5jZW9mIFZpZGVvRnJhbWUmJih0aGlzLnZpZGVvSGVpZ2h0Xz0obj1lPT1udWxsP3ZvaWQgMDplLmRpc3BsYXlIZWlnaHQpIT1udWxsP246MCx0aGlzLnZpZGVvV2lkdGhfPShvPWU9PW51bGw/dm9pZCAwOmUuZGlzcGxheVdpZHRoKSE9bnVsbD9vOjApLHRoaXMucmVwb3J0ZXJRb3NfLm9uRnJhbWVGcm9tU291cmNlKCksdGhpcy50cmFuc2Zvcm1lcl8paWYodGhpcy5zaG91bGRTdG9wXyljb25zb2xlLndhcm4oIltQaXBlbGluZV0gZmx1c2ggZnJvbSB0cmFuc2Zvcm0iKSxlLmNsb3NlKCksdGhpcy5mbHVzaCh0KSx0LnRlcm1pbmF0ZSgpO2Vsc2V7dHJ5e2F3YWl0KChzPShpPXRoaXMudHJhbnNmb3JtZXJfKS50cmFuc2Zvcm0pPT1udWxsP3ZvaWQgMDpzLmNhbGwoaSxlLHQpKSx0aGlzLnJlcG9ydFFvcygpfWNhdGNoKGEpe3RoaXMucmVwb3J0KHttZXNzYWdlOmVlLmVycm9ycy50cmFuc2Zvcm1lcl90cmFuc2Zvcm0sdmFyaWF0aW9uOiJFcnJvciIsZXJyb3I6cXQoYSl9KTtjb25zdCB1PXtldmVudE1ldGFEYXRhOnt0cmFuc2Zvcm1lckluZGV4OnRoaXMuaW5kZXhffSxlcnJvcjphLGZ1bmN0aW9uOiJ0cmFuc2Zvcm0ifTt0aGlzLmVtaXQoImVycm9yIix1KX1pZih0aGlzLnRyYWNrRXhwZWN0ZWRSYXRlXyE9LTEmJnRoaXMudHJhY2tFeHBlY3RlZFJhdGVfKkZpPnRoaXMucmVwb3J0ZXJRb3NfLmZwcyl7Y29uc3QgYT17ZXZlbnRNZXRhRGF0YTp7dHJhbnNmb3JtZXJJbmRleDp0aGlzLmluZGV4X30sd2FybmluZ1R5cGU6ImZwc19kcm9wIixkcm9wSW5mbzp7cmVxdWVzdGVkOnRoaXMudHJhY2tFeHBlY3RlZFJhdGVfLGN1cnJlbnQ6dGhpcy5yZXBvcnRlclFvc18uZnBzfX07dGhpcy5lbWl0KCJ3YXJuIixhKX19fWFzeW5jIGZsdXNoKGUpe2lmKHRoaXMudHJhbnNmb3JtZXJfJiZ0eXBlb2YgdGhpcy50cmFuc2Zvcm1lcl8uZmx1c2g9PSJmdW5jdGlvbiImJiF0aGlzLmlzRmxhc2hlZF8pe3RoaXMuaXNGbGFzaGVkXz0hMDt0cnl7YXdhaXQgdGhpcy50cmFuc2Zvcm1lcl8uZmx1c2goZSl9Y2F0Y2godCl7dGhpcy5yZXBvcnQoe21lc3NhZ2U6ZWUuZXJyb3JzLnRyYW5zZm9ybWVyX2ZsdXNoLHZhcmlhdGlvbjoiRXJyb3IiLGVycm9yOnF0KHQpfSk7Y29uc3Qgbj17ZXZlbnRNZXRhRGF0YTp7dHJhbnNmb3JtZXJJbmRleDp0aGlzLmluZGV4X30sZXJyb3I6dCxmdW5jdGlvbjoiZmx1c2gifTt0aGlzLmVtaXQoImVycm9yIixuKX19dGhpcy5yZXBvcnRRb3MoITApLHRoaXMucmVwb3J0KHt2YXJpYXRpb246IkRlbGV0ZSJ9KX1zdG9wKCl7Y29uc29sZS5sb2coIltQaXBlbGluZV0gU3RvcCBzdHJlYW0uIiksdGhpcy5jb250cm9sbGVyXyYmKHRoaXMuZmx1c2godGhpcy5jb250cm9sbGVyXyksdGhpcy5jb250cm9sbGVyXy50ZXJtaW5hdGUoKSksdGhpcy5zaG91bGRTdG9wXz0hMH1yZXBvcnQoZSl7dGhpcy5yZXBvcnRlcl8uc2VuZCh7dmVyc2lvbjpodCxhY3Rpb246Ik1lZGlhVHJhbnNmb3JtZXIiLHRyYW5zZm9ybWVyVHlwZTp0aGlzLnRyYW5zZm9ybWVyVHlwZV8sLi4uZX0pfXJlcG9ydFFvcyhlPSExKXt0aGlzLnJlcG9ydGVyUW9zXy5jb25maWc9ey4uLnRoaXMucmVwb3J0ZXJRb3NfLmNvbmZpZ30sdGhpcy5yZXBvcnRlclFvc18ub25GcmFtZVRyYW5zZm9ybWVkKHt2ZXJzaW9uOmh0LGFjdGlvbjoiTWVkaWFUcmFuc2Zvcm1lciIsdHJhbnNmb3JtZXJUeXBlOnRoaXMudHJhbnNmb3JtZXJUeXBlXyx2aWRlb1dpZHRoOnRoaXMudmlkZW9XaWR0aF8sdmlkZW9IZWlnaHQ6dGhpcy52aWRlb0hlaWdodF99LGUpfX1jbGFzcyBraSBleHRlbmRzIFF0e2NvbnN0cnVjdG9yKGUpe3N1cGVyKCksdyh0aGlzLCJ0cmFuc2Zvcm1lcnNfIiksdyh0aGlzLCJ0cmFja0V4cGVjdGVkUmF0ZV8iKSx0aGlzLnRyYW5zZm9ybWVyc189W10sdGhpcy50cmFja0V4cGVjdGVkUmF0ZV89LTE7Zm9yKGxldCB0PTA7dDxlLmxlbmd0aDt0Kyspe2xldCBuPW5ldyBQaShlW3RdLHQpO24ub24oImVycm9yIixvPT57dGhpcy5lbWl0KCJlcnJvciIsbyl9KSxuLm9uKCJ3YXJuIixvPT57dGhpcy5lbWl0KCJ3YXJuIixvKX0pLHRoaXMudHJhbnNmb3JtZXJzXy5wdXNoKG4pfX1zZXRUcmFja0V4cGVjdGVkUmF0ZShlKXt0aGlzLnRyYWNrRXhwZWN0ZWRSYXRlXz1lO2ZvcihsZXQgdCBvZiB0aGlzLnRyYW5zZm9ybWVyc18pdC5zZXRUcmFja0V4cGVjdGVkUmF0ZSh0aGlzLnRyYWNrRXhwZWN0ZWRSYXRlXyl9YXN5bmMgc3RhcnQoZSx0KXtpZighdGhpcy50cmFuc2Zvcm1lcnNffHx0aGlzLnRyYW5zZm9ybWVyc18ubGVuZ3RoPT09MCl7Y29uc29sZS5sb2coIltQaXBlbGluZV0gTm8gdHJhbnNmb3JtZXJzLiIpO3JldHVybn10cnl7bGV0IG49ZTtmb3IobGV0IG8gb2YgdGhpcy50cmFuc2Zvcm1lcnNfKWU9ZS5waXBlVGhyb3VnaChuZXcgVHJhbnNmb3JtU3RyZWFtKG8pKTtlLnBpcGVUbyh0KS50aGVuKGFzeW5jKCk9Pntjb25zb2xlLmxvZygiW1BpcGVsaW5lXSBTZXR1cC4iKSxhd2FpdCB0LmFib3J0KCksYXdhaXQgbi5jYW5jZWwoKSx0aGlzLmVtaXQoInBpcGVsaW5lSW5mbyIsInBpcGVsaW5lX2VuZGVkIil9KS5jYXRjaChhc3luYyBvPT57ZS5jYW5jZWwoKS50aGVuKCgpPT57Y29uc29sZS5sb2coIltQaXBlbGluZV0gU2h1dHRpbmcgZG93biBzdHJlYW1zIGFmdGVyIGFib3J0LiIpfSkuY2F0Y2goaT0+e2NvbnNvbGUuZXJyb3IoIltQaXBlbGluZV0gRXJyb3IgZnJvbSBzdHJlYW0gdHJhbnNmb3JtOiIsaSl9KSxhd2FpdCB0LmFib3J0KG8pLGF3YWl0IG4uY2FuY2VsKG8pLHRoaXMuZW1pdCgicGlwZWxpbmVJbmZvIiwicGlwZWxpbmVfZW5kZWRfd2l0aF9lcnJvciIpfSl9Y2F0Y2h7dGhpcy5lbWl0KCJwaXBlbGluZUluZm8iLCJwaXBlbGluZV9zdGFydGVkX3dpdGhfZXJyb3IiKSx0aGlzLmRlc3Ryb3koKTtyZXR1cm59dGhpcy5lbWl0KCJwaXBlbGluZUluZm8iLCJwaXBlbGluZV9zdGFydGVkIiksY29uc29sZS5sb2coIltQaXBlbGluZV0gUGlwZWxpbmUgc3RhcnRlZC4iKX1hc3luYyBkZXN0cm95KCl7Y29uc29sZS5sb2coIltQaXBlbGluZV0gRGVzdHJveWluZyBQaXBlbGluZS4iKTtmb3IobGV0IGUgb2YgdGhpcy50cmFuc2Zvcm1lcnNfKWUuc3RvcCgpfX1jbGFzcyBEaSBleHRlbmRzIFF0e2NvbnN0cnVjdG9yKCl7c3VwZXIoKSx3KHRoaXMsInJlcG9ydGVyXyIpLHcodGhpcywicGlwZWxpbmVfIiksdyh0aGlzLCJ0cmFuc2Zvcm1lcnNfIiksdyh0aGlzLCJyZWFkYWJsZV8iKSx3KHRoaXMsIndyaXRhYmxlXyIpLHcodGhpcywidHJhY2tFeHBlY3RlZFJhdGVfIiksdGhpcy5yZXBvcnRlcl89bmV3IFp0LHRoaXMudHJhY2tFeHBlY3RlZFJhdGVfPS0xLHRoaXMucmVwb3J0KHt2YXJpYXRpb246IkNyZWF0ZSJ9KX1zZXRUcmFja0V4cGVjdGVkUmF0ZShlKXt0aGlzLnRyYWNrRXhwZWN0ZWRSYXRlXz1lLHRoaXMucGlwZWxpbmVfJiZ0aGlzLnBpcGVsaW5lXy5zZXRUcmFja0V4cGVjdGVkUmF0ZSh0aGlzLnRyYWNrRXhwZWN0ZWRSYXRlXyl9dHJhbnNmb3JtKGUsdCl7cmV0dXJuIHRoaXMucmVhZGFibGVfPWUsdGhpcy53cml0YWJsZV89dCx0aGlzLnRyYW5zZm9ybUludGVybmFsKCl9dHJhbnNmb3JtSW50ZXJuYWwoKXtyZXR1cm4gbmV3IFByb21pc2UoYXN5bmMoZSx0KT0+e2lmKCF0aGlzLnRyYW5zZm9ybWVyc198fHRoaXMudHJhbnNmb3JtZXJzXy5sZW5ndGg9PT0wKXt0aGlzLnJlcG9ydCh7bWVzc2FnZTplZS5lcnJvcnMudHJhbnNmb3JtZXJfbm9uZSx2YXJpYXRpb246IkVycm9yIn0pLHQoIltNZWRpYVByb2Nlc3Nvcl0gTmVlZCB0byBzZXQgdHJhbnNmb3JtZXJzLiIpO3JldHVybn1pZighdGhpcy5yZWFkYWJsZV8pe3RoaXMucmVwb3J0KHt2YXJpYXRpb246IkVycm9yIixtZXNzYWdlOmVlLmVycm9ycy5yZWFkYWJsZV9udWxsfSksdCgiW01lZGlhUHJvY2Vzc29yXSBSZWFkYWJsZSBpcyBudWxsLiIpO3JldHVybn1pZighdGhpcy53cml0YWJsZV8pe3RoaXMucmVwb3J0KHt2YXJpYXRpb246IkVycm9yIixtZXNzYWdlOmVlLmVycm9ycy53cml0YWJsZV9udWxsfSksdCgiW01lZGlhUHJvY2Vzc29yXSBXcml0YWJsZSBpcyBudWxsLiIpO3JldHVybn1sZXQgbj0hMTt0aGlzLnBpcGVsaW5lXyYmKG49ITAsdGhpcy5waXBlbGluZV8uY2xlYXJMaXN0ZW5lcnMoKSx0aGlzLnBpcGVsaW5lXy5kZXN0cm95KCkpLHRoaXMucGlwZWxpbmVfPW5ldyBraSh0aGlzLnRyYW5zZm9ybWVyc18pLHRoaXMucGlwZWxpbmVfLm9uKCJ3YXJuIixvPT57dGhpcy5lbWl0KCJ3YXJuIixvKX0pLHRoaXMucGlwZWxpbmVfLm9uKCJlcnJvciIsbz0+e3RoaXMuZW1pdCgiZXJyb3IiLG8pfSksdGhpcy5waXBlbGluZV8ub24oInBpcGVsaW5lSW5mbyIsbz0+e24mJihvPT09InBpcGVsaW5lX3N0YXJ0ZWQiP289ZXIucGlwZWxpbmVfcmVzdGFydGVkOm89PT0icGlwZWxpbmVfc3RhcnRlZF93aXRoX2Vycm9yIiYmKG89ZXIucGlwZWxpbmVfcmVzdGFydGVkX3dpdGhfZXJyb3IpKSx0aGlzLmVtaXQoInBpcGVsaW5lSW5mbyIsbyl9KSx0aGlzLnRyYWNrRXhwZWN0ZWRSYXRlXyE9LTEmJnRoaXMucGlwZWxpbmVfLnNldFRyYWNrRXhwZWN0ZWRSYXRlKHRoaXMudHJhY2tFeHBlY3RlZFJhdGVfKSx0aGlzLnBpcGVsaW5lXy5zdGFydCh0aGlzLnJlYWRhYmxlXyx0aGlzLndyaXRhYmxlXykudGhlbigoKT0+e2UoKX0pLmNhdGNoKG89Pnt0KG8pfSl9KX1zZXRUcmFuc2Zvcm1lcnMoZSl7cmV0dXJuIHRoaXMucmVwb3J0KHt2YXJpYXRpb246IlVwZGF0ZSIsbWVzc2FnZTplZS51cGRhdGVzLnRyYW5zZm9ybWVyX25ld30pLHRoaXMudHJhbnNmb3JtZXJzXz1lLHRoaXMucmVhZGFibGVfJiZ0aGlzLndyaXRhYmxlXz90aGlzLnRyYW5zZm9ybUludGVybmFsKCk6UHJvbWlzZS5yZXNvbHZlKCl9ZGVzdHJveSgpe3JldHVybiBuZXcgUHJvbWlzZShhc3luYyBlPT57dGhpcy5waXBlbGluZV8mJnRoaXMucGlwZWxpbmVfLmRlc3Ryb3koKSx0aGlzLnJlcG9ydCh7dmFyaWF0aW9uOiJEZWxldGUifSksZSgpfSl9cmVwb3J0KGUpe3RoaXMucmVwb3J0ZXJfLnNlbmQoe3ZlcnNpb246aHQsYWN0aW9uOiJNZWRpYVByb2Nlc3NvciIsLi4uZX0pfX12YXIgQ2k9T2JqZWN0LmRlZmluZVByb3BlcnR5LEJpPShyLGUsdCk9PmUgaW4gcj9DaShyLGUse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOnR9KTpyW2VdPXQsTWk9KHIsZSx0KT0+KEJpKHIsdHlwZW9mIGUhPSJzeW1ib2wiP2UrIiI6ZSx0KSx0KTtjb25zdCBPaT0iaGxnLnRva2JveC5jb20vcHJvZC9sb2dnaW5nL3ZjcF93ZWJydGMiLFVpPSJodHRwczovLyIsTmk9MWU0O2xldCBtdDtjb25zdCBMaT1uZXcgVWludDhBcnJheSgxNik7ZnVuY3Rpb24gemkoKXtpZighbXQmJihtdD10eXBlb2YgY3J5cHRvPCJ1IiYmY3J5cHRvLmdldFJhbmRvbVZhbHVlcyYmY3J5cHRvLmdldFJhbmRvbVZhbHVlcy5iaW5kKGNyeXB0byksIW10KSl0aHJvdyBuZXcgRXJyb3IoImNyeXB0by5nZXRSYW5kb21WYWx1ZXMoKSBub3Qgc3VwcG9ydGVkLiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3V1aWRqcy91dWlkI2dldHJhbmRvbXZhbHVlcy1ub3Qtc3VwcG9ydGVkIik7cmV0dXJuIG10KExpKX1jb25zdCBCPVtdO2ZvcihsZXQgcj0wO3I8MjU2OysrcilCLnB1c2goKHIrMjU2KS50b1N0cmluZygxNikuc2xpY2UoMSkpO2Z1bmN0aW9uIEdpKHIsZT0wKXtyZXR1cm4oQltyW2UrMF1dK0JbcltlKzFdXStCW3JbZSsyXV0rQltyW2UrM11dKyItIitCW3JbZSs0XV0rQltyW2UrNV1dKyItIitCW3JbZSs2XV0rQltyW2UrN11dKyItIitCW3JbZSs4XV0rQltyW2UrOV1dKyItIitCW3JbZSsxMF1dK0JbcltlKzExXV0rQltyW2UrMTJdXStCW3JbZSsxM11dK0JbcltlKzE0XV0rQltyW2UrMTVdXSkudG9Mb3dlckNhc2UoKX1jb25zdCAkaT10eXBlb2YgY3J5cHRvPCJ1IiYmY3J5cHRvLnJhbmRvbVVVSUQmJmNyeXB0by5yYW5kb21VVUlELmJpbmQoY3J5cHRvKSx1bj17cmFuZG9tVVVJRDokaX07ZnVuY3Rpb24gV2kocixlLHQpe2lmKHVuLnJhbmRvbVVVSUQmJiFlJiYhcilyZXR1cm4gdW4ucmFuZG9tVVVJRCgpO3I9cnx8e307Y29uc3Qgbj1yLnJhbmRvbXx8KHIucm5nfHx6aSkoKTtpZihuWzZdPW5bNl0mMTV8NjQsbls4XT1uWzhdJjYzfDEyOCxlKXt0PXR8fDA7Zm9yKGxldCBvPTA7bzwxNjsrK28pZVt0K29dPW5bb107cmV0dXJuIGV9cmV0dXJuIEdpKG4pfWZ1bmN0aW9uIHRyKHIsZSl7Z2xvYmFsVGhpcy52b25hZ2V8fChnbG9iYWxUaGlzLnZvbmFnZT17fSksZ2xvYmFsVGhpcy52b25hZ2Uud29ya2VyaXplcnx8KGdsb2JhbFRoaXMudm9uYWdlLndvcmtlcml6ZXI9e30pO2xldCB0PWdsb2JhbFRoaXMudm9uYWdlLndvcmtlcml6ZXI7cmV0dXJuIHRbcl18fCh0W3JdPWUpLHRbcl19Y29uc3Qgb2U9dHIoImdsb2JhbHMiLHt9KTt2YXIgZ2U9KHI9PihyLklOSVQ9IklOSVQiLHIuRk9SV0FSRD0iRk9SV0FSRCIsci5URVJNSU5BVEU9IlRFUk1JTkFURSIsci5HTE9CQUxTX1NZTkM9IkdMT0JBTFNfU1lOQyIscikpKGdlfHx7fSk7ZnVuY3Rpb24gY24ocil7cmV0dXJuW0ltYWdlQml0bWFwLFJlYWRhYmxlU3RyZWFtLFdyaXRhYmxlU3RyZWFtXS5zb21lKGU9PnIgaW5zdGFuY2VvZiBlKX1sZXQgVmk9MDtmdW5jdGlvbiBIaShyLGUsdCxuLG8pe2NvbnN0IGk9VmkrKztyZXR1cm4gci5wb3N0TWVzc2FnZSh7aWQ6aSx0eXBlOmUsZnVuY3Rpb25OYW1lOnQsYXJnczpufSxuLmZpbHRlcihzPT5jbihzKSkpLG5ldyBQcm9taXNlKHM9PntvPT1udWxsfHxvLnNldChpLHMpfSl9ZnVuY3Rpb24gJGUocixlKXtjb25zdHtpZDp0LHR5cGU6bn09cixvPUFycmF5LmlzQXJyYXkoZSk/ZTpbZV07cG9zdE1lc3NhZ2Uoe2lkOnQsdHlwZTpuLHJlc3VsdDplfSxvLmZpbHRlcihpPT5jbihpKSkpfWNvbnN0IGZuPXRyKCJ3b3JrZXJpemVkIix7fSk7ZnVuY3Rpb24gbG4oKXtyZXR1cm4gdHlwZW9mIFdvcmtlckdsb2JhbFNjb3BlPCJ1IiYmc2VsZiBpbnN0YW5jZW9mIFdvcmtlckdsb2JhbFNjb3BlfWFzeW5jIGZ1bmN0aW9uIGppKCl7aWYobG4oKSkkZSh7dHlwZTpnZS5HTE9CQUxTX1NZTkN9LG9lKTtlbHNle2NvbnN0IHI9W107Zm9yKGNvbnN0IGUgaW4gZm4pe2NvbnN0e3dvcmtlcjp0LHJlc29sdmVyczpufT1mbltlXS53b3JrZXJDb250ZXh0O3QmJnIucHVzaChIaSh0LGdlLkdMT0JBTFNfU1lOQywiIixbb2VdLG4pKX1hd2FpdCBQcm9taXNlLmFsbChyKX19ZnVuY3Rpb24gcHQocixlKXtpZihBcnJheS5pc0FycmF5KGUpKWUuc3BsaWNlKDAsZS5sZW5ndGgpO2Vsc2UgaWYodHlwZW9mIGU9PSJvYmplY3QiKWZvcihjb25zdCB0IGluIGUpZGVsZXRlIGVbdF07Zm9yKGNvbnN0IHQgaW4gcilBcnJheS5pc0FycmF5KHJbdF0pPyhlW3RdPVtdLHB0KHJbdF0sZVt0XSkpOnR5cGVvZiByW3RdPT0ib2JqZWN0Ij8oZVt0XT17fSxwdChyW3RdLGVbdF0pKTplW3RdPXJbdF19YXN5bmMgZnVuY3Rpb24gWWkocixlKXtjb25zdHtmdW5jdGlvbk5hbWU6dCxhcmdzOm59PXI7aWYoIWUuaW5zdGFuY2UpdGhyb3ciaW5zdGFuY2Ugbm90IGluaXRpYWxpemVkIjtpZighdCl0aHJvdyJtaXNzaW5nIGZ1bmN0aW9uIG5hbWUgdG8gY2FsbCI7aWYoIWUuaW5zdGFuY2VbdF0pdGhyb3dgdW5kZWZpbmVkIGZ1bmN0aW9uIFske3R9XSBpbiBjbGFzcyAke2UuaW5zdGFuY2UuY29uc3RydWN0b3Iud29ya2VySWR9YDskZShyLGF3YWl0IGUuaW5zdGFuY2VbdF0oLi4ubiE9bnVsbD9uOltdKSl9Y29uc3QgWGk9dHIoInJlZ2lzdGVyZWRXb3JrZXJzIix7fSk7ZnVuY3Rpb24gUWkocixlKXtpZighci5hcmdzKXRocm93Ik1pc3NpbmcgY2xhc3NOYW1lIHdoaWxlIGluaXRpYWxpemluZyB3b3JrZXIiO2NvbnN0W3Qsbl09ci5hcmdzLG89WGlbdF07aWYobyllLmluc3RhbmNlPW5ldyBvKHIuYXJncy5zbGljZSgxKSk7ZWxzZSB0aHJvd2B1bmtub3duIHdvcmtlciBjbGFzcyAke3R9YDtwdChuLG9lKSwkZShyLHR5cGVvZiBlLmluc3RhbmNlIT09dm9pZCAwKX1hc3luYyBmdW5jdGlvbiBxaShyLGUpe2NvbnN0e2FyZ3M6dH09cjtpZighZS5pbnN0YW5jZSl0aHJvdyJpbnN0YW5jZSBub3QgaW5pdGlhbGl6ZWQiO2xldCBuO2UuaW5zdGFuY2UudGVybWluYXRlJiYobj1hd2FpdCBlLmluc3RhbmNlLnRlcm1pbmF0ZSguLi50IT1udWxsP3Q6W10pKSwkZShyLG4pfWZ1bmN0aW9uIEtpKHIpe2lmKCFyLmFyZ3MpdGhyb3ciTWlzc2luZyBnbG9iYWxzIHdoaWxlIHN5bmNpbmciO3B0KHIuYXJnc1swXSxvZSksJGUocix7fSl9ZnVuY3Rpb24gSmkoKXtjb25zdCByPXt9O29ubWVzc2FnZT1hc3luYyBlPT57Y29uc3QgdD1lLmRhdGE7c3dpdGNoKHQudHlwZSl7Y2FzZSBnZS5JTklUOlFpKHQscik7YnJlYWs7Y2FzZSBnZS5GT1JXQVJEOllpKHQscik7YnJlYWs7Y2FzZSBnZS5URVJNSU5BVEU6cWkodCxyKTticmVhaztjYXNlIGdlLkdMT0JBTFNfU1lOQzpLaSh0KTticmVha319fWxuKCkmJkppKCk7ZnVuY3Rpb24gWmkocixlKXtyZXR1cm4gb2Vbcl18fChvZVtyXT1lKSxbKCk9Pm9lW3JdLGFzeW5jIHQ9PntvZVtyXT10LGF3YWl0IGppKCl9XX1mdW5jdGlvbiBlcyhyLGUpe3JldHVybiBaaShyLGUpfWNvbnN0W3RzLFZsXT1lcygibWV0YWRhdGEiKTtmdW5jdGlvbiBycigpe3JldHVybiB0cygpfWNsYXNzIHJze2NvbnN0cnVjdG9yKGUpe01pKHRoaXMsInV1aWQiLFdpKCkpLHRoaXMuY29uZmlnPWV9YXN5bmMgc2VuZChlKXt2YXIgdCxuLG87Y29uc3R7YXBwSWQ6aSxzb3VyY2VUeXBlOnN9PSh0PXJyKCkpIT1udWxsP3Q6e307aWYoIWl8fCFzKXJldHVybiJtZXRhZGF0YSBtaXNzaW5nIjtjb25zdCBhPW5ldyBBYm9ydENvbnRyb2xsZXIsdT1zZXRUaW1lb3V0KCgpPT5hLmFib3J0KCksTmkpO3JldHVybiBhd2FpdCgobz0obj10aGlzLmNvbmZpZyk9PW51bGw/dm9pZCAwOm4uZmV0Y2gpIT1udWxsP286ZmV0Y2gpKHRoaXMuZ2V0VXJsKCkse21ldGhvZDoiUE9TVCIsaGVhZGVyczp0aGlzLmdldEhlYWRlcnMoKSxib2R5OkpTT04uc3RyaW5naWZ5KHRoaXMuYnVpbGRSZXBvcnQoZSkpLHNpZ25hbDphLnNpZ25hbH0pLGNsZWFyVGltZW91dCh1KSwic3VjY2VzcyJ9Z2V0VXJsKCl7dmFyIGU7bGV0IHQ9KGU9cnIoKS5wcm94eVVybCkhPW51bGw/ZTpVaTtyZXR1cm4gdCs9KHQuYXQoLTEpPT09Ii8iPyIiOiIvIikrT2ksdH1nZXRIZWFkZXJzKCl7cmV0dXJueyJDb250ZW50LVR5cGUiOiJhcHBsaWNhdGlvbi9qc29uIn19YnVpbGRSZXBvcnQoZSl7Y29uc3QgdD1ycigpO3JldHVybntndWlkOnRoaXMudXVpZCwuLi5lLGFwcGxpY2F0aW9uSWQ6dC5hcHBJZCx0aW1lc3RhbXA6RGF0ZS5ub3coKSxwcm94eVVybDp0LnByb3h5VXJsLHNvdXJjZTp0LnNvdXJjZVR5cGV9fX1jb25zdCBucz0iNS4xLjIiO3ZhciBndD0ocj0+KHIuTG93PSJMb3ciLHIuSGlnaD0iSGlnaCIscikpKGd0fHx7fSksbnI9KHI9PihyLkZBU1Q9IkZBU1QiLHIuUFJFQ0lTRT0iUFJFQ0lTRSIscikpKG5yfHx7fSkseXQ9KHI9PihyLkNBTlZBUz0iQ0FOVkFTIixyLldFQkdMPSJXRUJHTCIscikpKHl0fHx7fSksb3M9ZnVuY3Rpb24oKXt2YXIgcj10eXBlb2YgZG9jdW1lbnQ8InUiJiZkb2N1bWVudC5jdXJyZW50U2NyaXB0P2RvY3VtZW50LmN1cnJlbnRTY3JpcHQuc3JjOnZvaWQgMDtyZXR1cm4gZnVuY3Rpb24oZSl7ZT1lfHx7fTt2YXIgdD10eXBlb2YgZTwidSI/ZTp7fSxuLG87dC5yZWFkeT1uZXcgUHJvbWlzZShmdW5jdGlvbihjLG0pe249YyxvPW19KTt2YXIgaT17fSxzO2ZvcihzIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShzKSYmKGlbc109dFtzXSk7dmFyIGE9Ii4vdGhpcy5wcm9ncmFtIix1PWZ1bmN0aW9uKGMsbSl7dGhyb3cgbX0sZj0hMCxkPSIiO2Z1bmN0aW9uIHAoYyl7cmV0dXJuIHQubG9jYXRlRmlsZT90LmxvY2F0ZUZpbGUoYyxkKTpkK2N9dmFyIGc7dHlwZW9mIGRvY3VtZW50PCJ1IiYmZG9jdW1lbnQuY3VycmVudFNjcmlwdCYmKGQ9ZG9jdW1lbnQuY3VycmVudFNjcmlwdC5zcmMpLHImJihkPXIpLGQuaW5kZXhPZigiYmxvYjoiKSE9PTA/ZD1kLnN1YnN0cigwLGQucmVwbGFjZSgvWz8jXS4qLywiIikubGFzdEluZGV4T2YoIi8iKSsxKTpkPSIiO3ZhciBiPXQucHJpbnR8fGNvbnNvbGUubG9nLmJpbmQoY29uc29sZSksaD10LnByaW50RXJyfHxjb25zb2xlLndhcm4uYmluZChjb25zb2xlKTtmb3IocyBpbiBpKWkuaGFzT3duUHJvcGVydHkocykmJih0W3NdPWlbc10pO2k9bnVsbCx0LmFyZ3VtZW50cyYmdC5hcmd1bWVudHMsdC50aGlzUHJvZ3JhbSYmKGE9dC50aGlzUHJvZ3JhbSksdC5xdWl0JiYodT10LnF1aXQpO3ZhciB4O3Qud2FzbUJpbmFyeSYmKHg9dC53YXNtQmluYXJ5KTt2YXIgRT10Lm5vRXhpdFJ1bnRpbWV8fCEwO3R5cGVvZiBXZWJBc3NlbWJseSE9Im9iamVjdCImJmRlKCJubyBuYXRpdmUgd2FzbSBzdXBwb3J0IGRldGVjdGVkIik7dmFyIHYsRj0hMSxrPXR5cGVvZiBUZXh0RGVjb2RlcjwidSI/bmV3IFRleHREZWNvZGVyKCJ1dGY4Iik6dm9pZCAwO2Z1bmN0aW9uIEcoYyxtLHkpe2Zvcih2YXIgVD1tK3ksRD1tO2NbRF0mJiEoRD49VCk7KSsrRDtpZihELW0+MTYmJmMuc3ViYXJyYXkmJmspcmV0dXJuIGsuZGVjb2RlKGMuc3ViYXJyYXkobSxEKSk7Zm9yKHZhciBNPSIiO208RDspe3ZhciBBPWNbbSsrXTtpZighKEEmMTI4KSl7TSs9U3RyaW5nLmZyb21DaGFyQ29kZShBKTtjb250aW51ZX12YXIgVT1jW20rK10mNjM7aWYoKEEmMjI0KT09MTkyKXtNKz1TdHJpbmcuZnJvbUNoYXJDb2RlKChBJjMxKTw8NnxVKTtjb250aW51ZX12YXIgSz1jW20rK10mNjM7aWYoKEEmMjQwKT09MjI0P0E9KEEmMTUpPDwxMnxVPDw2fEs6QT0oQSY3KTw8MTh8VTw8MTJ8Szw8NnxjW20rK10mNjMsQTw2NTUzNilNKz1TdHJpbmcuZnJvbUNoYXJDb2RlKEEpO2Vsc2V7dmFyIEdvPUEtNjU1MzY7TSs9U3RyaW5nLmZyb21DaGFyQ29kZSg1NTI5NnxHbz4+MTAsNTYzMjB8R28mMTAyMyl9fXJldHVybiBNfWZ1bmN0aW9uIHooYyxtKXtyZXR1cm4gYz9HKGxlLGMsbSk6IiJ9ZnVuY3Rpb24gSChjLG0seSl7Zm9yKHZhciBUPTA7VDxjLmxlbmd0aDsrK1QpVGVbbSsrPj4wXT1jLmNoYXJDb2RlQXQoVCk7eXx8KFRlW20+PjBdPTApfWZ1bmN0aW9uICQoYyxtKXtyZXR1cm4gYyVtPjAmJihjKz1tLWMlbSksY312YXIgS2UsVGUsbGUsVztmdW5jdGlvbiBCbyhjKXtLZT1jLHQuSEVBUDg9VGU9bmV3IEludDhBcnJheShjKSx0LkhFQVAxNj1uZXcgSW50MTZBcnJheShjKSx0LkhFQVAzMj1XPW5ldyBJbnQzMkFycmF5KGMpLHQuSEVBUFU4PWxlPW5ldyBVaW50OEFycmF5KGMpLHQuSEVBUFUxNj1uZXcgVWludDE2QXJyYXkoYyksdC5IRUFQVTMyPW5ldyBVaW50MzJBcnJheShjKSx0LkhFQVBGMzI9bmV3IEZsb2F0MzJBcnJheShjKSx0LkhFQVBGNjQ9bmV3IEZsb2F0NjRBcnJheShjKX10LklOSVRJQUxfTUVNT1JZO3ZhciBXcixNbz1bXSxPbz1bXSxVbz1bXSxpbD0wO2Z1bmN0aW9uIHNsKCl7cmV0dXJuIEV8fGlsPjB9ZnVuY3Rpb24gYWwoKXtpZih0LnByZVJ1bilmb3IodHlwZW9mIHQucHJlUnVuPT0iZnVuY3Rpb24iJiYodC5wcmVSdW49W3QucHJlUnVuXSk7dC5wcmVSdW4ubGVuZ3RoOylmbCh0LnByZVJ1bi5zaGlmdCgpKTtWcihNbyl9ZnVuY3Rpb24gdWwoKXtWcihPbyl9ZnVuY3Rpb24gY2woKXtpZih0LnBvc3RSdW4pZm9yKHR5cGVvZiB0LnBvc3RSdW49PSJmdW5jdGlvbiImJih0LnBvc3RSdW49W3QucG9zdFJ1bl0pO3QucG9zdFJ1bi5sZW5ndGg7KWRsKHQucG9zdFJ1bi5zaGlmdCgpKTtWcihVbyl9ZnVuY3Rpb24gZmwoYyl7TW8udW5zaGlmdChjKX1mdW5jdGlvbiBsbChjKXtPby51bnNoaWZ0KGMpfWZ1bmN0aW9uIGRsKGMpe1VvLnVuc2hpZnQoYyl9dmFyIHdlPTAsSmU9bnVsbDtmdW5jdGlvbiBobChjKXt3ZSsrLHQubW9uaXRvclJ1bkRlcGVuZGVuY2llcyYmdC5tb25pdG9yUnVuRGVwZW5kZW5jaWVzKHdlKX1mdW5jdGlvbiBtbChjKXtpZih3ZS0tLHQubW9uaXRvclJ1bkRlcGVuZGVuY2llcyYmdC5tb25pdG9yUnVuRGVwZW5kZW5jaWVzKHdlKSx3ZT09MCYmSmUpe3ZhciBtPUplO0plPW51bGwsbSgpfX10LnByZWxvYWRlZEltYWdlcz17fSx0LnByZWxvYWRlZEF1ZGlvcz17fTtmdW5jdGlvbiBkZShjKXt0Lm9uQWJvcnQmJnQub25BYm9ydChjKSxjPSJBYm9ydGVkKCIrYysiKSIsaChjKSxGPSEwLGMrPSIuIEJ1aWxkIHdpdGggLXMgQVNTRVJUSU9OUz0xIGZvciBtb3JlIGluZm8uIjt2YXIgbT1uZXcgV2ViQXNzZW1ibHkuUnVudGltZUVycm9yKGMpO3Rocm93IG8obSksbX12YXIgcGw9ImRhdGE6YXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtO2Jhc2U2NCwiO2Z1bmN0aW9uIE5vKGMpe3JldHVybiBjLnN0YXJ0c1dpdGgocGwpfXZhciBYO1g9InRmbGl0ZS1zaW1kLndhc20iLE5vKFgpfHwoWD1wKFgpKTtmdW5jdGlvbiBMbyhjKXt0cnl7aWYoYz09WCYmeClyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoeCk7aWYoIWcpdGhyb3ciYm90aCBhc3luYyBhbmQgc3luYyBmZXRjaGluZyBvZiB0aGUgd2FzbSBmYWlsZWQifWNhdGNoKG0pe2RlKG0pfX1mdW5jdGlvbiBnbCgpe3JldHVybiF4JiZmJiZ0eXBlb2YgZmV0Y2g9PSJmdW5jdGlvbiI/ZmV0Y2goWCx7Y3JlZGVudGlhbHM6InNhbWUtb3JpZ2luIn0pLnRoZW4oZnVuY3Rpb24oYyl7aWYoIWMub2spdGhyb3ciZmFpbGVkIHRvIGxvYWQgd2FzbSBiaW5hcnkgZmlsZSBhdCAnIitYKyInIjtyZXR1cm4gYy5hcnJheUJ1ZmZlcigpfSkuY2F0Y2goZnVuY3Rpb24oKXtyZXR1cm4gTG8oWCl9KTpQcm9taXNlLnJlc29sdmUoKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIExvKFgpfSl9ZnVuY3Rpb24geWwoKXt2YXIgYz17YTpObH07ZnVuY3Rpb24gbShBLFUpe3ZhciBLPUEuZXhwb3J0czt0LmFzbT1LLHY9dC5hc20ucSxCbyh2LmJ1ZmZlciksV3I9dC5hc20uRSxsbCh0LmFzbS5yKSxtbCgpfWhsKCk7ZnVuY3Rpb24geShBKXttKEEuaW5zdGFuY2UpfWZ1bmN0aW9uIFQoQSl7cmV0dXJuIGdsKCkudGhlbihmdW5jdGlvbihVKXtyZXR1cm4gV2ViQXNzZW1ibHkuaW5zdGFudGlhdGUoVSxjKX0pLnRoZW4oZnVuY3Rpb24oVSl7cmV0dXJuIFV9KS50aGVuKEEsZnVuY3Rpb24oVSl7aCgiZmFpbGVkIHRvIGFzeW5jaHJvbm91c2x5IHByZXBhcmUgd2FzbTogIitVKSxkZShVKX0pfWZ1bmN0aW9uIEQoKXtyZXR1cm4heCYmdHlwZW9mIFdlYkFzc2VtYmx5Lmluc3RhbnRpYXRlU3RyZWFtaW5nPT0iZnVuY3Rpb24iJiYhTm8oWCkmJnR5cGVvZiBmZXRjaD09ImZ1bmN0aW9uIj9mZXRjaChYLHtjcmVkZW50aWFsczoic2FtZS1vcmlnaW4ifSkudGhlbihmdW5jdGlvbihBKXt2YXIgVT1XZWJBc3NlbWJseS5pbnN0YW50aWF0ZVN0cmVhbWluZyhBLGMpO3JldHVybiBVLnRoZW4oeSxmdW5jdGlvbihLKXtyZXR1cm4gaCgid2FzbSBzdHJlYW1pbmcgY29tcGlsZSBmYWlsZWQ6ICIrSyksaCgiZmFsbGluZyBiYWNrIHRvIEFycmF5QnVmZmVyIGluc3RhbnRpYXRpb24iKSxUKHkpfSl9KTpUKHkpfWlmKHQuaW5zdGFudGlhdGVXYXNtKXRyeXt2YXIgTT10Lmluc3RhbnRpYXRlV2FzbShjLG0pO3JldHVybiBNfWNhdGNoKEEpe3JldHVybiBoKCJNb2R1bGUuaW5zdGFudGlhdGVXYXNtIGNhbGxiYWNrIGZhaWxlZCB3aXRoIGVycm9yOiAiK0EpLCExfXJldHVybiBEKCkuY2F0Y2gobykse319ZnVuY3Rpb24gVnIoYyl7Zm9yKDtjLmxlbmd0aD4wOyl7dmFyIG09Yy5zaGlmdCgpO2lmKHR5cGVvZiBtPT0iZnVuY3Rpb24iKXttKHQpO2NvbnRpbnVlfXZhciB5PW0uZnVuYzt0eXBlb2YgeT09Im51bWJlciI/bS5hcmc9PT12b2lkIDA/V3IuZ2V0KHkpKCk6V3IuZ2V0KHkpKG0uYXJnKTp5KG0uYXJnPT09dm9pZCAwP251bGw6bS5hcmcpfX1mdW5jdGlvbiBibChjLG0seSxUKXtkZSgiQXNzZXJ0aW9uIGZhaWxlZDogIit6KGMpKyIsIGF0OiAiK1ttP3oobSk6InVua25vd24gZmlsZW5hbWUiLHksVD96KFQpOiJ1bmtub3duIGZ1bmN0aW9uIl0pfWZ1bmN0aW9uIHhsKGMsbSl7ZGUoIlRvIHVzZSBkbG9wZW4sIHlvdSBuZWVkIHRvIHVzZSBFbXNjcmlwdGVuJ3MgbGlua2luZyBzdXBwb3J0LCBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2Vtc2NyaXB0ZW4tY29yZS9lbXNjcmlwdGVuL3dpa2kvTGlua2luZyIpfWZ1bmN0aW9uIF9sKGMsbSl7ZGUoIlRvIHVzZSBkbG9wZW4sIHlvdSBuZWVkIHRvIHVzZSBFbXNjcmlwdGVuJ3MgbGlua2luZyBzdXBwb3J0LCBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2Vtc2NyaXB0ZW4tY29yZS9lbXNjcmlwdGVuL3dpa2kvTGlua2luZyIpfWZ1bmN0aW9uIHZsKCl7ZGUoIiIpfXZhciBHdDtHdD1mdW5jdGlvbigpe3JldHVybiBwZXJmb3JtYW5jZS5ub3coKX07dmFyIEVsPSEwO2Z1bmN0aW9uIFRsKGMpe3JldHVybiBXW3pvKCk+PjJdPWMsY31mdW5jdGlvbiB3bChjLG0pe3ZhciB5O2lmKGM9PT0wKXk9RGF0ZS5ub3coKTtlbHNlIGlmKChjPT09MXx8Yz09PTQpJiZFbCl5PUd0KCk7ZWxzZSByZXR1cm4gVGwoMjgpLC0xO3JldHVybiBXW20+PjJdPXkvMWUzfDAsV1ttKzQ+PjJdPXklMWUzKjFlMyoxZTN8MCwwfWZ1bmN0aW9uIEFsKCl7cmV0dXJuIDIxNDc0ODM2NDh9ZnVuY3Rpb24gSWwoYyxtLHkpe2xlLmNvcHlXaXRoaW4oYyxtLG0reSl9ZnVuY3Rpb24gU2woYyl7dHJ5e3JldHVybiB2Lmdyb3coYy1LZS5ieXRlTGVuZ3RoKzY1NTM1Pj4+MTYpLEJvKHYuYnVmZmVyKSwxfWNhdGNoe319ZnVuY3Rpb24gUmwoYyl7dmFyIG09bGUubGVuZ3RoO2M9Yz4+PjA7dmFyIHk9MjE0NzQ4MzY0ODtpZihjPnkpcmV0dXJuITE7Zm9yKHZhciBUPTE7VDw9NDtUKj0yKXt2YXIgRD1tKigxKy4yL1QpO0Q9TWF0aC5taW4oRCxjKzEwMDY2MzI5Nik7dmFyIE09TWF0aC5taW4oeSwkKE1hdGgubWF4KGMsRCksNjU1MzYpKSxBPVNsKE0pO2lmKEEpcmV0dXJuITB9cmV0dXJuITF9ZnVuY3Rpb24gRmwoYyl7Zm9yKHZhciBtPUd0KCk7R3QoKS1tPGM7KTt9dmFyIEhyPXt9O2Z1bmN0aW9uIFBsKCl7cmV0dXJuIGF8fCIuL3RoaXMucHJvZ3JhbSJ9ZnVuY3Rpb24gWmUoKXtpZighWmUuc3RyaW5ncyl7dmFyIGM9KHR5cGVvZiBuYXZpZ2F0b3I9PSJvYmplY3QiJiZuYXZpZ2F0b3IubGFuZ3VhZ2VzJiZuYXZpZ2F0b3IubGFuZ3VhZ2VzWzBdfHwiQyIpLnJlcGxhY2UoIi0iLCJfIikrIi5VVEYtOCIsbT17VVNFUjoid2ViX3VzZXIiLExPR05BTUU6IndlYl91c2VyIixQQVRIOiIvIixQV0Q6Ii8iLEhPTUU6Ii9ob21lL3dlYl91c2VyIixMQU5HOmMsXzpQbCgpfTtmb3IodmFyIHkgaW4gSHIpSHJbeV09PT12b2lkIDA/ZGVsZXRlIG1beV06bVt5XT1Iclt5XTt2YXIgVD1bXTtmb3IodmFyIHkgaW4gbSlULnB1c2goeSsiPSIrbVt5XSk7WmUuc3RyaW5ncz1UfXJldHVybiBaZS5zdHJpbmdzfXZhciAkdD17bWFwcGluZ3M6e30sYnVmZmVyczpbbnVsbCxbXSxbXV0scHJpbnRDaGFyOmZ1bmN0aW9uKGMsbSl7dmFyIHk9JHQuYnVmZmVyc1tjXTttPT09MHx8bT09PTEwPygoYz09PTE/YjpoKShHKHksMCkpLHkubGVuZ3RoPTApOnkucHVzaChtKX0sdmFyYXJnczp2b2lkIDAsZ2V0OmZ1bmN0aW9uKCl7JHQudmFyYXJncys9NDt2YXIgYz1XWyR0LnZhcmFyZ3MtND4+Ml07cmV0dXJuIGN9LGdldFN0cjpmdW5jdGlvbihjKXt2YXIgbT16KGMpO3JldHVybiBtfSxnZXQ2NDpmdW5jdGlvbihjLG0pe3JldHVybiBjfX07ZnVuY3Rpb24ga2woYyxtKXt2YXIgeT0wO3JldHVybiBaZSgpLmZvckVhY2goZnVuY3Rpb24oVCxEKXt2YXIgTT1tK3k7V1tjK0QqND4+Ml09TSxIKFQsTSkseSs9VC5sZW5ndGgrMX0pLDB9ZnVuY3Rpb24gRGwoYyxtKXt2YXIgeT1aZSgpO1dbYz4+Ml09eS5sZW5ndGg7dmFyIFQ9MDtyZXR1cm4geS5mb3JFYWNoKGZ1bmN0aW9uKEQpe1QrPUQubGVuZ3RoKzF9KSxXW20+PjJdPVQsMH1mdW5jdGlvbiBDbChjKXt6bChjKX1mdW5jdGlvbiBCbChjKXtyZXR1cm4gMH1mdW5jdGlvbiBNbChjLG0seSxULEQpe31mdW5jdGlvbiBPbChjLG0seSxUKXtmb3IodmFyIEQ9MCxNPTA7TTx5O00rKyl7Zm9yKHZhciBBPVdbbStNKjg+PjJdLFU9V1ttKyhNKjgrNCk+PjJdLEs9MDtLPFU7SysrKSR0LnByaW50Q2hhcihjLGxlW0ErS10pO0QrPVV9cmV0dXJuIFdbVD4+Ml09RCwwfWZ1bmN0aW9uIFVsKCl7aWYodHlwZW9mIGNyeXB0bz09Im9iamVjdCImJnR5cGVvZiBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzPT0iZnVuY3Rpb24iKXt2YXIgYz1uZXcgVWludDhBcnJheSgxKTtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhjKSxjWzBdfX1lbHNlIHJldHVybiBmdW5jdGlvbigpe2RlKCJyYW5kb21EZXZpY2UiKX19ZnVuY3Rpb24gV3QoYyxtKXtXdC5yYW5kb21EZXZpY2V8fChXdC5yYW5kb21EZXZpY2U9VWwoKSk7Zm9yKHZhciB5PTA7eTxtO3krKylUZVtjK3k+PjBdPVd0LnJhbmRvbURldmljZSgpO3JldHVybiAwfXZhciBObD17YTpibCxlOnhsLGQ6X2wsYjp2bCxuOndsLGg6QWwsbDpJbCxtOlJsLHA6RmwsZjprbCxnOkRsLGo6Q2wsaTpCbCxrOk1sLGM6T2wsbzpXdH07eWwoKSx0Ll9fX3dhc21fY2FsbF9jdG9ycz1mdW5jdGlvbigpe3JldHVybih0Ll9fX3dhc21fY2FsbF9jdG9ycz10LmFzbS5yKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LHQuX2dldE1vZGVsQnVmZmVyTWVtb3J5T2Zmc2V0PWZ1bmN0aW9uKCl7cmV0dXJuKHQuX2dldE1vZGVsQnVmZmVyTWVtb3J5T2Zmc2V0PXQuYXNtLnMpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sdC5fZ2V0SW5wdXRNZW1vcnlPZmZzZXQ9ZnVuY3Rpb24oKXtyZXR1cm4odC5fZ2V0SW5wdXRNZW1vcnlPZmZzZXQ9dC5hc20udCkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSx0Ll9nZXRJbnB1dEhlaWdodD1mdW5jdGlvbigpe3JldHVybih0Ll9nZXRJbnB1dEhlaWdodD10LmFzbS51KS5hcHBseShudWxsLGFyZ3VtZW50cyl9LHQuX2dldElucHV0V2lkdGg9ZnVuY3Rpb24oKXtyZXR1cm4odC5fZ2V0SW5wdXRXaWR0aD10LmFzbS52KS5hcHBseShudWxsLGFyZ3VtZW50cyl9LHQuX2dldElucHV0Q2hhbm5lbENvdW50PWZ1bmN0aW9uKCl7cmV0dXJuKHQuX2dldElucHV0Q2hhbm5lbENvdW50PXQuYXNtLncpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sdC5fZ2V0T3V0cHV0TWVtb3J5T2Zmc2V0PWZ1bmN0aW9uKCl7cmV0dXJuKHQuX2dldE91dHB1dE1lbW9yeU9mZnNldD10LmFzbS54KS5hcHBseShudWxsLGFyZ3VtZW50cyl9LHQuX2dldE91dHB1dEhlaWdodD1mdW5jdGlvbigpe3JldHVybih0Ll9nZXRPdXRwdXRIZWlnaHQ9dC5hc20ueSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSx0Ll9nZXRPdXRwdXRXaWR0aD1mdW5jdGlvbigpe3JldHVybih0Ll9nZXRPdXRwdXRXaWR0aD10LmFzbS56KS5hcHBseShudWxsLGFyZ3VtZW50cyl9LHQuX2dldE91dHB1dENoYW5uZWxDb3VudD1mdW5jdGlvbigpe3JldHVybih0Ll9nZXRPdXRwdXRDaGFubmVsQ291bnQ9dC5hc20uQSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSx0Ll9sb2FkTW9kZWw9ZnVuY3Rpb24oKXtyZXR1cm4odC5fbG9hZE1vZGVsPXQuYXNtLkIpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sdC5fcnVuSW5mZXJlbmNlPWZ1bmN0aW9uKCl7cmV0dXJuKHQuX3J1bkluZmVyZW5jZT10LmFzbS5DKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LHQuX2lzR1BVRW5hYmxlZD1mdW5jdGlvbigpe3JldHVybih0Ll9pc0dQVUVuYWJsZWQ9dC5hc20uRCkuYXBwbHkobnVsbCxhcmd1bWVudHMpfTt2YXIgem89dC5fX19lcnJub19sb2NhdGlvbj1mdW5jdGlvbigpe3JldHVybih6bz10Ll9fX2Vycm5vX2xvY2F0aW9uPXQuYXNtLkYpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sVnQ7ZnVuY3Rpb24gTGwoYyl7dGhpcy5uYW1lPSJFeGl0U3RhdHVzIix0aGlzLm1lc3NhZ2U9IlByb2dyYW0gdGVybWluYXRlZCB3aXRoIGV4aXQoIitjKyIpIix0aGlzLnN0YXR1cz1jfUplPWZ1bmN0aW9uIGMoKXtWdHx8anIoKSxWdHx8KEplPWMpfTtmdW5jdGlvbiBqcihjKXtpZih3ZT4wfHwoYWwoKSx3ZT4wKSlyZXR1cm47ZnVuY3Rpb24gbSgpe1Z0fHwoVnQ9ITAsdC5jYWxsZWRSdW49ITAsIUYmJih1bCgpLG4odCksdC5vblJ1bnRpbWVJbml0aWFsaXplZCYmdC5vblJ1bnRpbWVJbml0aWFsaXplZCgpLGNsKCkpKX10LnNldFN0YXR1cz8odC5zZXRTdGF0dXMoIlJ1bm5pbmcuLi4iKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7c2V0VGltZW91dChmdW5jdGlvbigpe3Quc2V0U3RhdHVzKCIiKX0sMSksbSgpfSwxKSk6bSgpfXQucnVuPWpyO2Z1bmN0aW9uIHpsKGMsbSl7R2woYyl9ZnVuY3Rpb24gR2woYyl7c2woKXx8KHQub25FeGl0JiZ0Lm9uRXhpdChjKSxGPSEwKSx1KGMsbmV3IExsKGMpKX1pZih0LnByZUluaXQpZm9yKHR5cGVvZiB0LnByZUluaXQ9PSJmdW5jdGlvbiImJih0LnByZUluaXQ9W3QucHJlSW5pdF0pO3QucHJlSW5pdC5sZW5ndGg+MDspdC5wcmVJbml0LnBvcCgpKCk7cmV0dXJuIGpyKCksZS5yZWFkeX19KCk7Y2xhc3MgaXN7Y29uc3RydWN0b3IoKXtsKHRoaXMsInNlbGVjdGVkVEZMaXRlIik7bCh0aGlzLCJpc1NJTURTdXBwb3J0ZWQiLCExKTtsKHRoaXMsImlzVGhyZWFkc1N1cHBvcnRlZCIsITEpO2wodGhpcywiaW5wdXRXaWR0aCIsMCk7bCh0aGlzLCJpbnB1dEhlaWdodCIsMCk7bCh0aGlzLCJpbnB1dENoYW5uZWxDb3VudCIsMCk7bCh0aGlzLCJpbnB1dE1lbW9yeU9mZnNldCIsMCk7bCh0aGlzLCJvdXRwdXRXaWR0aCIsMCk7bCh0aGlzLCJvdXRwdXRIZWlnaHQiLDApO2wodGhpcywib3V0cHV0Q2hhbm5lbENvdW50IiwwKTtsKHRoaXMsIm91dHB1dE1lbW9yeU9mZnNldCIsMCl9fWNvbnN0IHNzPSJodHRwczovL2Qzb3Bxam1xenhmMDU3LmNsb3VkZnJvbnQubmV0L3ZvbmFnZS10ZW5zb3JmbG93LXdhc20vdGZsaXRlLXNpbWQtd2FzbS8xLjEuMy8iLGFzPSJodHRwczovL2Qzb3Bxam1xenhmMDU3LmNsb3VkZnJvbnQubmV0L21sL3NlbGZpZV9zZWdtZW50YXRpb24vNC4wLjAvIjthc3luYyBmdW5jdGlvbiB1cyhyPXNzLGU9YXMpe2xldCB0PW5ldyBpczt2YXIgbj1uZXcgUHJvbWlzZShmdW5jdGlvbihvLGkpe2FzeW5jIGZ1bmN0aW9uIHMoKXtyZXR1cm4gb3Moe2xvY2F0ZUZpbGU6ZnVuY3Rpb24oZil7cmV0dXJuIHIrZn19KX1hc3luYyBmdW5jdGlvbiBhKHUpe3JldHVybiBuZXcgUHJvbWlzZShhc3luYyhmLGQpPT57Y29uc3QgcD11O2lmKHR5cGVvZiBwPiJ1IilyZXR1cm4gZCgiVEZMaXRlIGJhY2tlbmQgdW5hdmFpbGFibGU6IHdhc21TaW1kIik7Y29uc3QgZz0ic2VsZmllX3NlZ21lbnRhdGlvbl9sYW5kc2NhcGUiO2NvbnNvbGUubG9nKCJMb2FkaW5nIHRmbGl0ZSBtb2RlbDoiLGcpO2xldCBiPWUrYCR7Z30udGZsaXRlYDtjb25zb2xlLmxvZygiVEZMaXRlIG1vZGVsVXJsOiAiK2IpO3RyeXtjb25zdCB4PWF3YWl0KGF3YWl0IGZldGNoKGIpKS5hcnJheUJ1ZmZlcigpO2NvbnNvbGUubG9nKCJNb2RlbCBidWZmZXIgc2l6ZToiLHguYnl0ZUxlbmd0aCk7Y29uc3QgRT1wLl9nZXRNb2RlbEJ1ZmZlck1lbW9yeU9mZnNldCgpO2NvbnNvbGUubG9nKCJNb2RlbCBidWZmZXIgbWVtb3J5IG9mZnNldDoiLEUpLGNvbnNvbGUubG9nKCJMb2FkaW5nIG1vZGVsIGJ1ZmZlci4uLiIpLHAuSEVBUFU4LnNldChuZXcgVWludDhBcnJheSh4KSxFKTtjb25zdCB2PXAuX2xvYWRNb2RlbCh4LmJ5dGVMZW5ndGgpO2lmKGNvbnNvbGUubG9nKCJMb2FkIG1vZGVsIHJlc3VsdDoiLHYpLHYhPT0wKXtkKCJDYW5ub3QgbG9hZCBtb2RlbCIpO3JldHVybn10LmlucHV0V2lkdGg9cC5fZ2V0SW5wdXRXaWR0aCgpLHQuaW5wdXRIZWlnaHQ9cC5fZ2V0SW5wdXRIZWlnaHQoKSx0LmlucHV0Q2hhbm5lbENvdW50PXAuX2dldElucHV0Q2hhbm5lbENvdW50KCksdC5pbnB1dE1lbW9yeU9mZnNldD1wLl9nZXRJbnB1dE1lbW9yeU9mZnNldCgpLGNvbnNvbGUubG9nKCJJbnB1dCBtZW1vcnkgb2Zmc2V0OiIsdC5pbnB1dE1lbW9yeU9mZnNldCksY29uc29sZS5sb2coIklucHV0IGhlaWdodDoiLHQuaW5wdXRIZWlnaHQpLGNvbnNvbGUubG9nKCJJbnB1dCB3aWR0aDoiLHQuaW5wdXRXaWR0aCksY29uc29sZS5sb2coIklucHV0IGNoYW5uZWxzOiIsdC5pbnB1dENoYW5uZWxDb3VudCksdC5vdXRwdXRNZW1vcnlPZmZzZXQ9cC5fZ2V0T3V0cHV0TWVtb3J5T2Zmc2V0KCksdC5vdXRwdXRXaWR0aD1wLl9nZXRPdXRwdXRXaWR0aCgpLHQub3V0cHV0SGVpZ2h0PXAuX2dldE91dHB1dEhlaWdodCgpLHQub3V0cHV0Q2hhbm5lbENvdW50PXAuX2dldE91dHB1dENoYW5uZWxDb3VudCgpLGNvbnNvbGUubG9nKCJPdXRwdXQgbWVtb3J5IG9mZnNldDoiLHQub3V0cHV0TWVtb3J5T2Zmc2V0KSxjb25zb2xlLmxvZygiT3V0cHV0IGhlaWdodDoiLHQub3V0cHV0SGVpZ2h0KSxjb25zb2xlLmxvZygiT3V0cHV0IHdpZHRoOiIsdC5vdXRwdXRXaWR0aCksY29uc29sZS5sb2coIk91dHB1dCBjaGFubmVsczoiLHQub3V0cHV0Q2hhbm5lbENvdW50KSx0LnNlbGVjdGVkVEZMaXRlPXB9Y2F0Y2goaCl7ZChoKTtyZXR1cm59ZigpfSl9cygpLnRoZW4odT0+e2lmKHU9PT1udWxsKXRocm93IGNvbnNvbGUuZXJyb3IoImxvYWRURkxpdGUgbnVsbCIpLCJsb2FkVEZMaXRlIG51bGwiO2EodSkudGhlbihmPT57byh0KX0pLmNhdGNoKGY9Pntjb25zb2xlLmVycm9yKCJsb2FkVEZMaXRlTW9kZWwgZXJyb3IiKSxpKCJsb2FkVEZMaXRlTW9kZWwgZXJyb3IiKX0pfSkuY2F0Y2godT0+e2NvbnNvbGUuZXJyb3IoImxvYWRURkxpdGUgZXJyb3I6Iix1KSxpKCJsb2FkVEZMaXRlIGVycm9yOiIrdSl9KX0pO3JldHVybiBufWNsYXNzIGNze2NvbnN0cnVjdG9yKCl7bCh0aGlzLCJjYW52YXMiLG5ldyBPZmZzY3JlZW5DYW52YXMoMCwwKSk7bCh0aGlzLCJjb250ZXh0Iix0aGlzLmNhbnZhcy5nZXRDb250ZXh0KCIyZCIse3dpbGxSZWFkRnJlcXVlbnRseTohMH0pKTtsKHRoaXMsInBpeGVsQ291bnQiLDApO2wodGhpcywiaW5wdXRPZmZzZXQiLDApO2wodGhpcywib3V0cHV0T2Zmc2V0IiwwKTtsKHRoaXMsImluZm9zIik7bCh0aGlzLCJtYXNrIil9YXN5bmMgaW5pdChlLHQpe2F3YWl0IHRoaXMuaW5pdFdhc20oZSx0KSx0aGlzLmluZm9zJiYodGhpcy5jYW52YXMud2lkdGg9dGhpcy5pbmZvcy5pbnB1dFdpZHRoLHRoaXMuY2FudmFzLmhlaWdodD10aGlzLmluZm9zLmlucHV0SGVpZ2h0LHRoaXMucGl4ZWxDb3VudD10aGlzLmluZm9zLmlucHV0V2lkdGgqdGhpcy5pbmZvcy5pbnB1dEhlaWdodCx0aGlzLm1hc2s9bmV3IEltYWdlRGF0YSh0aGlzLmluZm9zLmlucHV0V2lkdGgsdGhpcy5pbmZvcy5pbnB1dEhlaWdodCksdGhpcy5pbnB1dE9mZnNldD10aGlzLmluZm9zLmlucHV0TWVtb3J5T2Zmc2V0LzQsdGhpcy5vdXRwdXRPZmZzZXQ9dGhpcy5pbmZvcy5vdXRwdXRNZW1vcnlPZmZzZXQvNCl9YXN5bmMgaW5pdFdhc20oZSx0KXt0aGlzLmluZm9zPWF3YWl0IHVzKGUsdCl9Z2V0T3V0cHV0RGltZW5zaW9ucygpe3ZhciBlLHQsbixvO3JldHVybnt3aWR0aDoodD0oZT10aGlzLmluZm9zKT09bnVsbD92b2lkIDA6ZS5vdXRwdXRXaWR0aCkhPW51bGw/dDowLGhlaWdodDoobz0obj10aGlzLmluZm9zKT09bnVsbD92b2lkIDA6bi5vdXRwdXRIZWlnaHQpIT1udWxsP286MH19YXN5bmMgcHJvY2VzcyhlKXtpZighdGhpcy5tYXNrfHwhdGhpcy5pbmZvcylyZXR1cm47Y29uc3QgdD10aGlzLmluZm9zLmlucHV0V2lkdGgsbj10aGlzLmluZm9zLmlucHV0SGVpZ2h0O3RoaXMuY29udGV4dC5kcmF3SW1hZ2UoZSwwLDAsZS53aWR0aCxlLmhlaWdodCwwLDAsdCxuKTtjb25zdCBvPXRoaXMuY29udGV4dC5nZXRJbWFnZURhdGEoMCwwLHQsbiksaT10aGlzLmluZm9zLnNlbGVjdGVkVEZMaXRlLkhFQVBGMzI7Zm9yKGxldCBzPTA7czx0aGlzLnBpeGVsQ291bnQ7cysrKXtjb25zdCBhPXRoaXMuaW5wdXRPZmZzZXQrcyozO2lbYV09by5kYXRhW3MqNF0vMjU1LGlbYSsxXT1vLmRhdGFbcyo0KzFdLzI1NSxpW2ErMl09by5kYXRhW3MqNCsyXS8yNTV9dGhpcy5pbmZvcy5zZWxlY3RlZFRGTGl0ZS5fcnVuSW5mZXJlbmNlKCk7Zm9yKGxldCBzPTA7czx0aGlzLnBpeGVsQ291bnQ7cysrKXtjb25zdCBhPXRoaXMuaW5mb3Muc2VsZWN0ZWRURkxpdGUuSEVBUEYzMlt0aGlzLm91dHB1dE9mZnNldCtzXTt0aGlzLm1hc2suZGF0YVtzKjRdPXRoaXMubWFzay5kYXRhW3MqNCszXT0yNTUqYX1yZXR1cm4gY3JlYXRlSW1hZ2VCaXRtYXAodGhpcy5tYXNrKX1pc0dwdVN1cHBvcnRlZCgpe3ZhciBlLHQsbjtyZXR1cm4obj0odD0oZT10aGlzLmluZm9zKT09bnVsbD92b2lkIDA6ZS5zZWxlY3RlZFRGTGl0ZSk9PW51bGw/dm9pZCAwOnQuX2lzR1BVRW5hYmxlZCgpKSE9bnVsbD9uOiExfX1mdW5jdGlvbiBmcygpe3JldHVybiBuZXcgT2Zmc2NyZWVuQ2FudmFzKDAsMCkuZ2V0Q29udGV4dCgid2ViZ2wyIix7ZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdDohMH0pP3tzdXBwb3J0ZWQ6ITB9OntzdXBwb3J0ZWQ6ITEsbWVzc2FnZToiWW91ciBoYXJkd2FyZSBkb2VzIG5vdCBwZXJmb3JtIGdvb2QgZW5vdWdoIHRvIHJ1biB0aGUgbGlicmFyeSBlZmZpY2llbnRseSJ9fWNsYXNzIG9ye2NvbnN0cnVjdG9yKCl7bCh0aGlzLCJjYW52YXMiKTtsKHRoaXMsImNvbnRleHQiKTtjb25zdCBlPW5ldyBPZmZzY3JlZW5DYW52YXMoMCwwKSx0PWUuZ2V0Q29udGV4dCgiMmQiKTtpZighdCl0aHJvdyJGYWlsIHRvIHJldHJpZXZlIHdlYmdsMiBjb250ZXh0Ijt0aGlzLmNhbnZhcz1lLHRoaXMuY29udGV4dD10fXNldEZsaWNrZXJpbmdPcHRpb25zKGUpe31lbmFibGVQb3N0UHJvY2Vzc2luZygpe31kaXNhYmxlUG9zdFByb2Nlc3NpbmcoKXt9YXN5bmMgcHJvZmlsZVdlYmdsKGUpe3JldHVybltdfWFzeW5jIHJlbmRlcihlLHQpe3JldHVybiB0aGlzLmNhbnZhc31yZXNpemVDYW52YXMoZSl7Y29uc3R7d2lkdGg6dCxoZWlnaHQ6bn09ZTt0aGlzLmNhbnZhcy53aWR0aD10LHRoaXMuY2FudmFzLmhlaWdodD1ufXJlbmRlclNpbGhvdWV0dGUoZSx0LG49Im5vbmUiKXtjb25zdHt3aWR0aDpvLGhlaWdodDppfT1lO3RoaXMuY29udGV4dC5zYXZlKCksdGhpcy5jb250ZXh0LmRyYXdJbWFnZSh0LDAsMCx0LndpZHRoLHQuaGVpZ2h0LDAsMCxvLGkpLHRoaXMuY29udGV4dC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb249InNvdXJjZS1pbiIsdGhpcy5jb250ZXh0LmZpbHRlcj1uLHRoaXMuY29udGV4dC5kcmF3SW1hZ2UoZSwwLDAsbyxpLDAsMCx0aGlzLmNhbnZhcy53aWR0aCx0aGlzLmNhbnZhcy5oZWlnaHQpLHRoaXMuY29udGV4dC5yZXN0b3JlKCl9fWNsYXNzIGxzIGV4dGVuZHMgb3J7Y29uc3RydWN0b3IoZSl7c3VwZXIoKSx0aGlzLnJhZGl1cz1lfWFzeW5jIHJlbmRlcihlLHQpe3JldHVybiBzdXBlci5yZXNpemVDYW52YXMoZSksdGhpcy5yZW5kZXJTaWxob3VldHRlKGUsdCksdGhpcy5jb250ZXh0LnNhdmUoKSx0aGlzLmNvbnRleHQuZmlsdGVyPWBibHVyKCR7dGhpcy5yYWRpdXN9cHgpYCx0aGlzLmNvbnRleHQuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uPSJkZXN0aW5hdGlvbi1vdmVyIix0aGlzLmNvbnRleHQuZHJhd0ltYWdlKGUsMCwwLGUud2lkdGgsZS5oZWlnaHQpLHRoaXMuY29udGV4dC5yZXN0b3JlKCksc3VwZXIucmVuZGVyKGUsdCl9fWNsYXNzIGRzIGV4dGVuZHMgb3J7Y29uc3RydWN0b3IoZSl7c3VwZXIoKSx0aGlzLnJhZGl1cz1lfWFzeW5jIHJlbmRlcihlLHQpe3JldHVybiBzdXBlci5yZXNpemVDYW52YXMoZSksdGhpcy5yZW5kZXJTaWxob3VldHRlKGUsdCxgYmx1cigke3RoaXMucmFkaXVzfXB4KWApLHRoaXMuY29udGV4dC5zYXZlKCksdGhpcy5jb250ZXh0LmZpbHRlcj0ibm9uZSIsdGhpcy5jb250ZXh0Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbj0iZGVzdGluYXRpb24tb3ZlciIsdGhpcy5jb250ZXh0LmRyYXdJbWFnZShlLDAsMCxlLndpZHRoLGUuaGVpZ2h0KSx0aGlzLmNvbnRleHQucmVzdG9yZSgpLHN1cGVyLnJlbmRlcihlLHQpfX1jbGFzcyBocyBleHRlbmRzIG9ye2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKTtsKHRoaXMsImJhY2tncm91bmRJbWFnZSIpfXNldEJhY2tncm91bmRJbWFnZSh0KXt0aGlzLmJhY2tncm91bmRJbWFnZT10fWFzeW5jIHJlbmRlcih0LG4pe3JldHVybiBzdXBlci5yZXNpemVDYW52YXModCksdGhpcy5yZW5kZXJTaWxob3VldHRlKHQsbiksdGhpcy5iYWNrZ3JvdW5kSW1hZ2UmJih0aGlzLmNvbnRleHQuc2F2ZSgpLHRoaXMuY29udGV4dC5maWx0ZXI9Im5vbmUiLHRoaXMuY29udGV4dC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb249ImRlc3RpbmF0aW9uLW92ZXIiLHRoaXMuY29udGV4dC5kcmF3SW1hZ2UodGhpcy5iYWNrZ3JvdW5kSW1hZ2UsMCwwLHRoaXMuYmFja2dyb3VuZEltYWdlLndpZHRoLHRoaXMuYmFja2dyb3VuZEltYWdlLmhlaWdodCwwLDAsdC53aWR0aCx0LmhlaWdodCksdGhpcy5jb250ZXh0LnJlc3RvcmUoKSksc3VwZXIucmVuZGVyKHQsbil9fS8qIEBsaWNlbnNlIHR3Z2wuanMgNS41LjEgQ29weXJpZ2h0IChjKSAyMDE1LCBHcmVnZyBUYXZhcmVzIEFsbCBSaWdodHMgUmVzZXJ2ZWQuCkF2YWlsYWJsZSB2aWEgdGhlIE1JVCBsaWNlbnNlLgpzZWU6IGh0dHA6Ly9naXRodWIuY29tL2dyZWdnbWFuL3R3Z2wuanMgZm9yIGRldGFpbHMgKi9jb25zdCBpcj01MTIwLFdlPTUxMjEsc3I9NTEyMixhcj01MTIzLHVyPTUxMjQsY3I9NTEyNSxmcj01MTI2LG1zPTMyODE5LHBzPTMyODIwLGdzPTMzNjM1LHlzPTUxMzEsYnM9MzM2NDAseHM9MzU4OTksX3M9MzU5MDIsdnM9MzYyNjksRXM9MzQwNDIsZG49e307e2NvbnN0IHI9ZG47cltpcl09SW50OEFycmF5LHJbV2VdPVVpbnQ4QXJyYXkscltzcl09SW50MTZBcnJheSxyW2FyXT1VaW50MTZBcnJheSxyW3VyXT1JbnQzMkFycmF5LHJbY3JdPVVpbnQzMkFycmF5LHJbZnJdPUZsb2F0MzJBcnJheSxyW21zXT1VaW50MTZBcnJheSxyW3BzXT1VaW50MTZBcnJheSxyW2dzXT1VaW50MTZBcnJheSxyW3lzXT1VaW50MTZBcnJheSxyW2JzXT1VaW50MzJBcnJheSxyW3hzXT1VaW50MzJBcnJheSxyW19zXT1VaW50MzJBcnJheSxyW3ZzXT1VaW50MzJBcnJheSxyW0VzXT1VaW50MzJBcnJheX1mdW5jdGlvbiBscihyKXtpZihyIGluc3RhbmNlb2YgSW50OEFycmF5KXJldHVybiBpcjtpZihyIGluc3RhbmNlb2YgVWludDhBcnJheXx8ciBpbnN0YW5jZW9mIFVpbnQ4Q2xhbXBlZEFycmF5KXJldHVybiBXZTtpZihyIGluc3RhbmNlb2YgSW50MTZBcnJheSlyZXR1cm4gc3I7aWYociBpbnN0YW5jZW9mIFVpbnQxNkFycmF5KXJldHVybiBhcjtpZihyIGluc3RhbmNlb2YgSW50MzJBcnJheSlyZXR1cm4gdXI7aWYociBpbnN0YW5jZW9mIFVpbnQzMkFycmF5KXJldHVybiBjcjtpZihyIGluc3RhbmNlb2YgRmxvYXQzMkFycmF5KXJldHVybiBmcjt0aHJvdyBuZXcgRXJyb3IoInVuc3VwcG9ydGVkIHR5cGVkIGFycmF5IHR5cGUiKX1mdW5jdGlvbiBobihyKXtpZihyPT09SW50OEFycmF5KXJldHVybiBpcjtpZihyPT09VWludDhBcnJheXx8cj09PVVpbnQ4Q2xhbXBlZEFycmF5KXJldHVybiBXZTtpZihyPT09SW50MTZBcnJheSlyZXR1cm4gc3I7aWYocj09PVVpbnQxNkFycmF5KXJldHVybiBhcjtpZihyPT09SW50MzJBcnJheSlyZXR1cm4gdXI7aWYocj09PVVpbnQzMkFycmF5KXJldHVybiBjcjtpZihyPT09RmxvYXQzMkFycmF5KXJldHVybiBmcjt0aHJvdyBuZXcgRXJyb3IoInVuc3VwcG9ydGVkIHR5cGVkIGFycmF5IHR5cGUiKX1mdW5jdGlvbiBtbihyKXtjb25zdCBlPWRuW3JdO2lmKCFlKXRocm93IG5ldyBFcnJvcigidW5rbm93biBnbCB0eXBlIik7cmV0dXJuIGV9Y29uc3QgYnQ9dHlwZW9mIFNoYXJlZEFycmF5QnVmZmVyPCJ1Ij9mdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5idWZmZXImJihlLmJ1ZmZlciBpbnN0YW5jZW9mIEFycmF5QnVmZmVyfHxlLmJ1ZmZlciBpbnN0YW5jZW9mIFNoYXJlZEFycmF5QnVmZmVyKX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuYnVmZmVyJiZlLmJ1ZmZlciBpbnN0YW5jZW9mIEFycmF5QnVmZmVyfTtmdW5jdGlvbiBwbiguLi5yKXtjb25zb2xlLmVycm9yKC4uLnIpfWNvbnN0IGduPW5ldyBNYXA7ZnVuY3Rpb24geHQocixlKXtpZighcnx8dHlwZW9mIHIhPSJvYmplY3QiKXJldHVybiExO2xldCB0PWduLmdldChlKTt0fHwodD1uZXcgV2Vha01hcCxnbi5zZXQoZSx0KSk7bGV0IG49dC5nZXQocik7aWYobj09PXZvaWQgMCl7Y29uc3Qgbz1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwocik7bj1vLnN1YnN0cmluZyg4LG8ubGVuZ3RoLTEpPT09ZSx0LnNldChyLG4pfXJldHVybiBufWZ1bmN0aW9uIFRzKHIsZSl7cmV0dXJuIHR5cGVvZiBXZWJHTEJ1ZmZlcjwidSImJnh0KGUsIldlYkdMQnVmZmVyIil9ZnVuY3Rpb24gd3MocixlKXtyZXR1cm4gdHlwZW9mIFdlYkdMUmVuZGVyYnVmZmVyPCJ1IiYmeHQoZSwiV2ViR0xSZW5kZXJidWZmZXIiKX1mdW5jdGlvbiBkcihyLGUpe3JldHVybiB0eXBlb2YgV2ViR0xUZXh0dXJlPCJ1IiYmeHQoZSwiV2ViR0xUZXh0dXJlIil9ZnVuY3Rpb24gQXMocixlKXtyZXR1cm4gdHlwZW9mIFdlYkdMU2FtcGxlcjwidSImJnh0KGUsIldlYkdMU2FtcGxlciIpfWNvbnN0IHluPTM1MDQ0LHllPTM0OTYyLElzPTM0OTYzLFNzPTM0NjYwLFJzPTUxMjAsRnM9NTEyMSxQcz01MTIyLGtzPTUxMjMsRHM9NTEyNCxDcz01MTI1LGJuPTUxMjYseG49e2F0dHJpYlByZWZpeDoiIn07ZnVuY3Rpb24gQnMocixlLHQsbixvKXtyLmJpbmRCdWZmZXIoZSx0KSxyLmJ1ZmZlckRhdGEoZSxuLG98fHluKX1mdW5jdGlvbiBfbihyLGUsdCxuKXtpZihUcyhyLGUpKXJldHVybiBlO3Q9dHx8eWU7Y29uc3Qgbz1yLmNyZWF0ZUJ1ZmZlcigpO3JldHVybiBCcyhyLHQsbyxlLG4pLG99ZnVuY3Rpb24gdm4ocil7cmV0dXJuIHI9PT0iaW5kaWNlcyJ9ZnVuY3Rpb24gTXMocil7cmV0dXJuIHI9PT1JbnQ4QXJyYXl8fHI9PT1VaW50OEFycmF5fWZ1bmN0aW9uIE9zKHIpe3JldHVybiByLmxlbmd0aD9yOnIuZGF0YX1jb25zdCBVcz0vY29vcmR8dGV4dHVyZS9pLE5zPS9jb2xvcnxjb2xvdXIvaTtmdW5jdGlvbiBMcyhyLGUpe2xldCB0O2lmKFVzLnRlc3Qocik/dD0yOk5zLnRlc3Qocik/dD00OnQ9MyxlJXQ+MCl0aHJvdyBuZXcgRXJyb3IoYENhbiBub3QgZ3Vlc3MgbnVtQ29tcG9uZW50cyBmb3IgYXR0cmlidXRlICcke3J9Jy4gVHJpZWQgJHt0fSBidXQgJHtlfSB2YWx1ZXMgaXMgbm90IGV2ZW5seSBkaXZpc2libGUgYnkgJHt0fS4gWW91IHNob3VsZCBzcGVjaWZ5IGl0LmApO3JldHVybiB0fWZ1bmN0aW9uIHpzKHIsZSx0KXtyZXR1cm4gci5udW1Db21wb25lbnRzfHxyLnNpemV8fExzKGUsdHx8T3MocikubGVuZ3RoKX1mdW5jdGlvbiBFbihyLGUpe2lmKGJ0KHIpKXJldHVybiByO2lmKGJ0KHIuZGF0YSkpcmV0dXJuIHIuZGF0YTtBcnJheS5pc0FycmF5KHIpJiYocj17ZGF0YTpyfSk7bGV0IHQ9ci50eXBlP2hyKHIudHlwZSk6dm9pZCAwO3JldHVybiB0fHwodm4oZSk/dD1VaW50MTZBcnJheTp0PUZsb2F0MzJBcnJheSksbmV3IHQoci5kYXRhKX1mdW5jdGlvbiBHcyhyKXtyZXR1cm4gdHlwZW9mIHI9PSJudW1iZXIiP3I6cj9obihyKTpibn1mdW5jdGlvbiBocihyKXtyZXR1cm4gdHlwZW9mIHI9PSJudW1iZXIiP21uKHIpOnJ8fEZsb2F0MzJBcnJheX1mdW5jdGlvbiAkcyhyLGUpe3JldHVybntidWZmZXI6ZS5idWZmZXIsbnVtVmFsdWVzOjIqMyo0LHR5cGU6R3MoZS50eXBlKSxhcnJheVR5cGU6aHIoZS50eXBlKX19ZnVuY3Rpb24gV3MocixlKXtjb25zdCB0PWUuZGF0YXx8ZSxuPWhyKGUudHlwZSksbz10Km4uQllURVNfUEVSX0VMRU1FTlQsaT1yLmNyZWF0ZUJ1ZmZlcigpO3JldHVybiByLmJpbmRCdWZmZXIoeWUsaSksci5idWZmZXJEYXRhKHllLG8sZS5kcmF3VHlwZXx8eW4pLHtidWZmZXI6aSxudW1WYWx1ZXM6dCx0eXBlOmhuKG4pLGFycmF5VHlwZTpufX1mdW5jdGlvbiBWcyhyLGUsdCl7Y29uc3Qgbj1FbihlLHQpO3JldHVybnthcnJheVR5cGU6bi5jb25zdHJ1Y3RvcixidWZmZXI6X24ocixuLHZvaWQgMCxlLmRyYXdUeXBlKSx0eXBlOmxyKG4pLG51bVZhbHVlczowfX1mdW5jdGlvbiBIcyhyLGUpe2NvbnN0IHQ9e307cmV0dXJuIE9iamVjdC5rZXlzKGUpLmZvckVhY2goZnVuY3Rpb24obil7aWYoIXZuKG4pKXtjb25zdCBvPWVbbl0saT1vLmF0dHJpYnx8by5uYW1lfHxvLmF0dHJpYk5hbWV8fHhuLmF0dHJpYlByZWZpeCtuO2lmKG8udmFsdWUpe2lmKCFBcnJheS5pc0FycmF5KG8udmFsdWUpJiYhYnQoby52YWx1ZSkpdGhyb3cgbmV3IEVycm9yKCJhcnJheS52YWx1ZSBpcyBub3QgYXJyYXkgb3IgdHlwZWRhcnJheSIpO3RbaV09e3ZhbHVlOm8udmFsdWV9fWVsc2V7bGV0IHM7by5idWZmZXImJm8uYnVmZmVyIGluc3RhbmNlb2YgV2ViR0xCdWZmZXI/cz0kczp0eXBlb2Ygbz09Im51bWJlciJ8fHR5cGVvZiBvLmRhdGE9PSJudW1iZXIiP3M9V3M6cz1Wcztjb25zdHtidWZmZXI6YSx0eXBlOnUsbnVtVmFsdWVzOmYsYXJyYXlUeXBlOmR9PXMocixvLG4pLHA9by5ub3JtYWxpemUhPT12b2lkIDA/by5ub3JtYWxpemU6TXMoZCksZz16cyhvLG4sZik7dFtpXT17YnVmZmVyOmEsbnVtQ29tcG9uZW50czpnLHR5cGU6dSxub3JtYWxpemU6cCxzdHJpZGU6by5zdHJpZGV8fDAsb2Zmc2V0Om8ub2Zmc2V0fHwwLGRpdmlzb3I6by5kaXZpc29yPT09dm9pZCAwP3ZvaWQgMDpvLmRpdmlzb3IsZHJhd1R5cGU6by5kcmF3VHlwZX19fX0pLHIuYmluZEJ1ZmZlcih5ZSxudWxsKSx0fWZ1bmN0aW9uIGpzKHIsZSl7cmV0dXJuIGU9PT1Sc3x8ZT09PUZzPzE6ZT09PVBzfHxlPT09a3M/MjplPT09RHN8fGU9PT1Dc3x8ZT09PWJuPzQ6MH1jb25zdCBtcj1bInBvc2l0aW9uIiwicG9zaXRpb25zIiwiYV9wb3NpdGlvbiJdO2Z1bmN0aW9uIFlzKHIsZSl7bGV0IHQsbjtmb3Iobj0wO248bXIubGVuZ3RoJiYodD1tcltuXSwhKHQgaW4gZXx8KHQ9eG4uYXR0cmliUHJlZml4K3QsdCBpbiBlKSkpOysrbik7bj09PW1yLmxlbmd0aCYmKHQ9T2JqZWN0LmtleXMoZSlbMF0pO2NvbnN0IG89ZVt0XTtpZighby5idWZmZXIpcmV0dXJuIDE7ci5iaW5kQnVmZmVyKHllLG8uYnVmZmVyKTtjb25zdCBpPXIuZ2V0QnVmZmVyUGFyYW1ldGVyKHllLFNzKTtyLmJpbmRCdWZmZXIoeWUsbnVsbCk7Y29uc3Qgcz1qcyhyLG8udHlwZSksYT1pL3MsdT1vLm51bUNvbXBvbmVudHN8fG8uc2l6ZSxmPWEvdTtpZihmJTEhPT0wKXRocm93IG5ldyBFcnJvcihgbnVtQ29tcG9uZW50cyAke3V9IG5vdCBjb3JyZWN0IGZvciBsZW5ndGggJHtsZW5ndGh9YCk7cmV0dXJuIGZ9ZnVuY3Rpb24gWHMocixlLHQpe2NvbnN0IG49SHMocixlKSxvPU9iamVjdC5hc3NpZ24oe30sdHx8e30pO28uYXR0cmlicz1PYmplY3QuYXNzaWduKHt9LHQ/dC5hdHRyaWJzOnt9LG4pO2NvbnN0IGk9ZS5pbmRpY2VzO2lmKGkpe2NvbnN0IHM9RW4oaSwiaW5kaWNlcyIpO28uaW5kaWNlcz1fbihyLHMsSXMpLG8ubnVtRWxlbWVudHM9cy5sZW5ndGgsby5lbGVtZW50VHlwZT1scihzKX1lbHNlIG8ubnVtRWxlbWVudHN8fChvLm51bUVsZW1lbnRzPVlzKHIsby5hdHRyaWJzKSk7cmV0dXJuIG99ZnVuY3Rpb24gVmUocil7cmV0dXJuISFyLnRleFN0b3JhZ2UyRH1jb25zdCBUbj1mdW5jdGlvbigpe2NvbnN0IHI9e30sZT17fTtmdW5jdGlvbiB0KG4pe2NvbnN0IG89bi5jb25zdHJ1Y3Rvci5uYW1lO2lmKCFyW29dKXtmb3IoY29uc3QgaSBpbiBuKWlmKHR5cGVvZiBuW2ldPT0ibnVtYmVyIil7Y29uc3Qgcz1lW25baV1dO2VbbltpXV09cz9gJHtzfSB8ICR7aX1gOml9cltvXT0hMH19cmV0dXJuIGZ1bmN0aW9uKG8saSl7cmV0dXJuIHQobyksZVtpXXx8KHR5cGVvZiBpPT0ibnVtYmVyIj9gMHgke2kudG9TdHJpbmcoMTYpfWA6aSl9fSgpLGllPXt0ZXh0dXJlQ29sb3I6bmV3IFVpbnQ4QXJyYXkoWzEyOCwxOTIsMjU1LDI1NV0pLHRleHR1cmVPcHRpb25zOnt9LGNyb3NzT3JpZ2luOnZvaWQgMH0sSGU9YnQsd249ZnVuY3Rpb24oKXtsZXQgcjtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gcj1yfHwodHlwZW9mIGRvY3VtZW50PCJ1IiYmZG9jdW1lbnQuY3JlYXRlRWxlbWVudD9kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKS5nZXRDb250ZXh0KCIyZCIpOm51bGwpLHJ9fSgpLEFuPTY0MDYscT02NDA3LFI9NjQwOCxJbj02NDA5LFNuPTY0MTAsamU9NjQwMixSbj0zNDA0MSxfdD0zMzA3MSxRcz05NzI4LHFzPTk3Mjksc2U9MzU1MyxhZT0zNDA2NyxiZT0zMjg3OSx4ZT0zNTg2Nixwcj0zNDA2OSxLcz0zNDA3MCxKcz0zNDA3MSxacz0zNDA3MixlYT0zNDA3Myx0YT0zNDA3NCxncj0xMDI0MSx5cj0xMDI0MCx2dD0xMDI0MixFdD0xMDI0MyxGbj0zMjg4MixyYT0zMzA4MixuYT0zMzA4MyxvYT0zMzA4NCxpYT0zMzA4NSxzYT0zNDg5MixhYT0zNDg5Myxicj0zMzE3LFBuPTMzMTQsa249MzI4NzgsRG49MzMxNixDbj0zMzE1LEJuPTMyODc3LHVhPTM3NDQzLGNhPTM3NDQxLGZhPTM3NDQwLGxhPTMzMzIxLGRhPTM2NzU2LGhhPTMzMzI1LG1hPTMzMzI2LHBhPTMzMzMwLGdhPTMzMzI5LHlhPTMzMzM4LGJhPTMzMzM3LHhhPTMzMzQwLF9hPTMzMzM5LHZhPTMzMzIzLEVhPTM2NzU3LFRhPTMzMzI3LHdhPTMzMzI4LEFhPTMzMzM2LElhPTMzMzM1LFNhPTMzMzMyLFJhPTMzMzMxLEZhPTMzMzM0LFBhPTMzMzMzLGthPTMyODQ5LERhPTM1OTA1LENhPTM2MTk0LEJhPTM2NzU4LE1hPTM1ODk4LE9hPTM1OTAxLFVhPTM0ODQzLE5hPTM0ODM3LExhPTM2MjIxLHphPTM2MjM5LEdhPTM2MjE1LCRhPTM2MjMzLFdhPTM2MjA5LFZhPTM2MjI3LEhhPTMyODU2LGphPTM1OTA3LFlhPTM2NzU5LFhhPTMyODU1LFFhPTMyODU0LHFhPTMyODU3LEthPTM0ODQyLEphPTM0ODM2LFphPTM2MjIwLGV1PTM2MjM4LHR1PTM2OTc1LHJ1PTM2MjE0LG51PTM2MjMyLG91PTM2MjI2LGl1PTM2MjA4LHN1PTMzMTg5LGF1PTMzMTkwLHV1PTM2MDEyLGN1PTM2MDEzLGZ1PTM1MDU2LHVlPTUxMjAsUz01MTIxLFR0PTUxMjIsa2U9NTEyMyx3dD01MTI0LF9lPTUxMjUsTz01MTI2LE1uPTMyODE5LE9uPTMyODIwLFVuPTMzNjM1LGo9NTEzMSxZZT0zNjE5Myx4cj0zMzY0MCxsdT0zNTg5OSxkdT0zNTkwMixodT0zNjI2OSxtdT0zNDA0MixBdD0zMzMxOSxEZT0zMzMyMCxJdD02NDAzLENlPTM2MjQ0LEJlPTM2MjQ4LHZlPTM2MjQ5O2xldCBfcjtmdW5jdGlvbiBTdChyKXtpZighX3Ipe2NvbnN0IGU9e307ZVtBbl09e3RleHR1cmVGb3JtYXQ6QW4sY29sb3JSZW5kZXJhYmxlOiEwLHRleHR1cmVGaWx0ZXJhYmxlOiEwLGJ5dGVzUGVyRWxlbWVudDpbMSwyLDIsNF0sdHlwZTpbUyxqLFllLE9dfSxlW0luXT17dGV4dHVyZUZvcm1hdDpJbixjb2xvclJlbmRlcmFibGU6ITAsdGV4dHVyZUZpbHRlcmFibGU6ITAsYnl0ZXNQZXJFbGVtZW50OlsxLDIsMiw0XSx0eXBlOltTLGosWWUsT119LGVbU25dPXt0ZXh0dXJlRm9ybWF0OlNuLGNvbG9yUmVuZGVyYWJsZTohMCx0ZXh0dXJlRmlsdGVyYWJsZTohMCxieXRlc1BlckVsZW1lbnQ6WzIsNCw0LDhdLHR5cGU6W1MsaixZZSxPXX0sZVtxXT17dGV4dHVyZUZvcm1hdDpxLGNvbG9yUmVuZGVyYWJsZTohMCx0ZXh0dXJlRmlsdGVyYWJsZTohMCxieXRlc1BlckVsZW1lbnQ6WzMsNiw2LDEyLDJdLHR5cGU6W1MsaixZZSxPLFVuXX0sZVtSXT17dGV4dHVyZUZvcm1hdDpSLGNvbG9yUmVuZGVyYWJsZTohMCx0ZXh0dXJlRmlsdGVyYWJsZTohMCxieXRlc1BlckVsZW1lbnQ6WzQsOCw4LDE2LDIsMl0sdHlwZTpbUyxqLFllLE8sTW4sT25dfSxlW2plXT17dGV4dHVyZUZvcm1hdDpqZSxjb2xvclJlbmRlcmFibGU6ITAsdGV4dHVyZUZpbHRlcmFibGU6ITEsYnl0ZXNQZXJFbGVtZW50OlsyLDRdLHR5cGU6W19lLGtlXX0sZVtsYV09e3RleHR1cmVGb3JtYXQ6SXQsY29sb3JSZW5kZXJhYmxlOiEwLHRleHR1cmVGaWx0ZXJhYmxlOiEwLGJ5dGVzUGVyRWxlbWVudDpbMV0sdHlwZTpbU119LGVbZGFdPXt0ZXh0dXJlRm9ybWF0Okl0LGNvbG9yUmVuZGVyYWJsZTohMSx0ZXh0dXJlRmlsdGVyYWJsZTohMCxieXRlc1BlckVsZW1lbnQ6WzFdLHR5cGU6W3VlXX0sZVtoYV09e3RleHR1cmVGb3JtYXQ6SXQsY29sb3JSZW5kZXJhYmxlOiExLHRleHR1cmVGaWx0ZXJhYmxlOiEwLGJ5dGVzUGVyRWxlbWVudDpbNCwyXSx0eXBlOltPLGpdfSxlW21hXT17dGV4dHVyZUZvcm1hdDpJdCxjb2xvclJlbmRlcmFibGU6ITEsdGV4dHVyZUZpbHRlcmFibGU6ITEsYnl0ZXNQZXJFbGVtZW50Ols0XSx0eXBlOltPXX0sZVtwYV09e3RleHR1cmVGb3JtYXQ6Q2UsY29sb3JSZW5kZXJhYmxlOiEwLHRleHR1cmVGaWx0ZXJhYmxlOiExLGJ5dGVzUGVyRWxlbWVudDpbMV0sdHlwZTpbU119LGVbZ2FdPXt0ZXh0dXJlRm9ybWF0OkNlLGNvbG9yUmVuZGVyYWJsZTohMCx0ZXh0dXJlRmlsdGVyYWJsZTohMSxieXRlc1BlckVsZW1lbnQ6WzFdLHR5cGU6W3VlXX0sZVtTYV09e3RleHR1cmVGb3JtYXQ6Q2UsY29sb3JSZW5kZXJhYmxlOiEwLHRleHR1cmVGaWx0ZXJhYmxlOiExLGJ5dGVzUGVyRWxlbWVudDpbMl0sdHlwZTpba2VdfSxlW1JhXT17dGV4dHVyZUZvcm1hdDpDZSxjb2xvclJlbmRlcmFibGU6ITAsdGV4dHVyZUZpbHRlcmFibGU6ITEsYnl0ZXNQZXJFbGVtZW50OlsyXSx0eXBlOltUdF19LGVbRmFdPXt0ZXh0dXJlRm9ybWF0OkNlLGNvbG9yUmVuZGVyYWJsZTohMCx0ZXh0dXJlRmlsdGVyYWJsZTohMSxieXRlc1BlckVsZW1lbnQ6WzRdLHR5cGU6W19lXX0sZVtQYV09e3RleHR1cmVGb3JtYXQ6Q2UsY29sb3JSZW5kZXJhYmxlOiEwLHRleHR1cmVGaWx0ZXJhYmxlOiExLGJ5dGVzUGVyRWxlbWVudDpbNF0sdHlwZTpbd3RdfSxlW3ZhXT17dGV4dHVyZUZvcm1hdDpBdCxjb2xvclJlbmRlcmFibGU6ITAsdGV4dHVyZUZpbHRlcmFibGU6ITAsYnl0ZXNQZXJFbGVtZW50OlsyXSx0eXBlOltTXX0sZVtFYV09e3RleHR1cmVGb3JtYXQ6QXQsY29sb3JSZW5kZXJhYmxlOiExLHRleHR1cmVGaWx0ZXJhYmxlOiEwLGJ5dGVzUGVyRWxlbWVudDpbMl0sdHlwZTpbdWVdfSxlW1RhXT17dGV4dHVyZUZvcm1hdDpBdCxjb2xvclJlbmRlcmFibGU6ITEsdGV4dHVyZUZpbHRlcmFibGU6ITAsYnl0ZXNQZXJFbGVtZW50Ols4LDRdLHR5cGU6W08sal19LGVbd2FdPXt0ZXh0dXJlRm9ybWF0OkF0LGNvbG9yUmVuZGVyYWJsZTohMSx0ZXh0dXJlRmlsdGVyYWJsZTohMSxieXRlc1BlckVsZW1lbnQ6WzhdLHR5cGU6W09dfSxlW0FhXT17dGV4dHVyZUZvcm1hdDpEZSxjb2xvclJlbmRlcmFibGU6ITAsdGV4dHVyZUZpbHRlcmFibGU6ITEsYnl0ZXNQZXJFbGVtZW50OlsyXSx0eXBlOltTXX0sZVtJYV09e3RleHR1cmVGb3JtYXQ6RGUsY29sb3JSZW5kZXJhYmxlOiEwLHRleHR1cmVGaWx0ZXJhYmxlOiExLGJ5dGVzUGVyRWxlbWVudDpbMl0sdHlwZTpbdWVdfSxlW3lhXT17dGV4dHVyZUZvcm1hdDpEZSxjb2xvclJlbmRlcmFibGU6ITAsdGV4dHVyZUZpbHRlcmFibGU6ITEsYnl0ZXNQZXJFbGVtZW50Ols0XSx0eXBlOltrZV19LGVbYmFdPXt0ZXh0dXJlRm9ybWF0OkRlLGNvbG9yUmVuZGVyYWJsZTohMCx0ZXh0dXJlRmlsdGVyYWJsZTohMSxieXRlc1BlckVsZW1lbnQ6WzRdLHR5cGU6W1R0XX0sZVt4YV09e3RleHR1cmVGb3JtYXQ6RGUsY29sb3JSZW5kZXJhYmxlOiEwLHRleHR1cmVGaWx0ZXJhYmxlOiExLGJ5dGVzUGVyRWxlbWVudDpbOF0sdHlwZTpbX2VdfSxlW19hXT17dGV4dHVyZUZvcm1hdDpEZSxjb2xvclJlbmRlcmFibGU6ITAsdGV4dHVyZUZpbHRlcmFibGU6ITEsYnl0ZXNQZXJFbGVtZW50Ols4XSx0eXBlOlt3dF19LGVba2FdPXt0ZXh0dXJlRm9ybWF0OnEsY29sb3JSZW5kZXJhYmxlOiEwLHRleHR1cmVGaWx0ZXJhYmxlOiEwLGJ5dGVzUGVyRWxlbWVudDpbM10sdHlwZTpbU119LGVbRGFdPXt0ZXh0dXJlRm9ybWF0OnEsY29sb3JSZW5kZXJhYmxlOiExLHRleHR1cmVGaWx0ZXJhYmxlOiEwLGJ5dGVzUGVyRWxlbWVudDpbM10sdHlwZTpbU119LGVbQ2FdPXt0ZXh0dXJlRm9ybWF0OnEsY29sb3JSZW5kZXJhYmxlOiEwLHRleHR1cmVGaWx0ZXJhYmxlOiEwLGJ5dGVzUGVyRWxlbWVudDpbMywyXSx0eXBlOltTLFVuXX0sZVtCYV09e3RleHR1cmVGb3JtYXQ6cSxjb2xvclJlbmRlcmFibGU6ITEsdGV4dHVyZUZpbHRlcmFibGU6ITAsYnl0ZXNQZXJFbGVtZW50OlszXSx0eXBlOlt1ZV19LGVbTWFdPXt0ZXh0dXJlRm9ybWF0OnEsY29sb3JSZW5kZXJhYmxlOiExLHRleHR1cmVGaWx0ZXJhYmxlOiEwLGJ5dGVzUGVyRWxlbWVudDpbMTIsNiw0XSx0eXBlOltPLGosbHVdfSxlW09hXT17dGV4dHVyZUZvcm1hdDpxLGNvbG9yUmVuZGVyYWJsZTohMSx0ZXh0dXJlRmlsdGVyYWJsZTohMCxieXRlc1BlckVsZW1lbnQ6WzEyLDYsNF0sdHlwZTpbTyxqLGR1XX0sZVtVYV09e3RleHR1cmVGb3JtYXQ6cSxjb2xvclJlbmRlcmFibGU6ITEsdGV4dHVyZUZpbHRlcmFibGU6ITAsYnl0ZXNQZXJFbGVtZW50OlsxMiw2XSx0eXBlOltPLGpdfSxlW05hXT17dGV4dHVyZUZvcm1hdDpxLGNvbG9yUmVuZGVyYWJsZTohMSx0ZXh0dXJlRmlsdGVyYWJsZTohMSxieXRlc1BlckVsZW1lbnQ6WzEyXSx0eXBlOltPXX0sZVtMYV09e3RleHR1cmVGb3JtYXQ6QmUsY29sb3JSZW5kZXJhYmxlOiExLHRleHR1cmVGaWx0ZXJhYmxlOiExLGJ5dGVzUGVyRWxlbWVudDpbM10sdHlwZTpbU119LGVbemFdPXt0ZXh0dXJlRm9ybWF0OkJlLGNvbG9yUmVuZGVyYWJsZTohMSx0ZXh0dXJlRmlsdGVyYWJsZTohMSxieXRlc1BlckVsZW1lbnQ6WzNdLHR5cGU6W3VlXX0sZVtHYV09e3RleHR1cmVGb3JtYXQ6QmUsY29sb3JSZW5kZXJhYmxlOiExLHRleHR1cmVGaWx0ZXJhYmxlOiExLGJ5dGVzUGVyRWxlbWVudDpbNl0sdHlwZTpba2VdfSxlWyRhXT17dGV4dHVyZUZvcm1hdDpCZSxjb2xvclJlbmRlcmFibGU6ITEsdGV4dHVyZUZpbHRlcmFibGU6ITEsYnl0ZXNQZXJFbGVtZW50Ols2XSx0eXBlOltUdF19LGVbV2FdPXt0ZXh0dXJlRm9ybWF0OkJlLGNvbG9yUmVuZGVyYWJsZTohMSx0ZXh0dXJlRmlsdGVyYWJsZTohMSxieXRlc1BlckVsZW1lbnQ6WzEyXSx0eXBlOltfZV19LGVbVmFdPXt0ZXh0dXJlRm9ybWF0OkJlLGNvbG9yUmVuZGVyYWJsZTohMSx0ZXh0dXJlRmlsdGVyYWJsZTohMSxieXRlc1BlckVsZW1lbnQ6WzEyXSx0eXBlOlt3dF19LGVbSGFdPXt0ZXh0dXJlRm9ybWF0OlIsY29sb3JSZW5kZXJhYmxlOiEwLHRleHR1cmVGaWx0ZXJhYmxlOiEwLGJ5dGVzUGVyRWxlbWVudDpbNF0sdHlwZTpbU119LGVbamFdPXt0ZXh0dXJlRm9ybWF0OlIsY29sb3JSZW5kZXJhYmxlOiEwLHRleHR1cmVGaWx0ZXJhYmxlOiEwLGJ5dGVzUGVyRWxlbWVudDpbNF0sdHlwZTpbU119LGVbWWFdPXt0ZXh0dXJlRm9ybWF0OlIsY29sb3JSZW5kZXJhYmxlOiExLHRleHR1cmVGaWx0ZXJhYmxlOiEwLGJ5dGVzUGVyRWxlbWVudDpbNF0sdHlwZTpbdWVdfSxlW1hhXT17dGV4dHVyZUZvcm1hdDpSLGNvbG9yUmVuZGVyYWJsZTohMCx0ZXh0dXJlRmlsdGVyYWJsZTohMCxieXRlc1BlckVsZW1lbnQ6WzQsMiw0XSx0eXBlOltTLE9uLHhyXX0sZVtRYV09e3RleHR1cmVGb3JtYXQ6Uixjb2xvclJlbmRlcmFibGU6ITAsdGV4dHVyZUZpbHRlcmFibGU6ITAsYnl0ZXNQZXJFbGVtZW50Ols0LDJdLHR5cGU6W1MsTW5dfSxlW3FhXT17dGV4dHVyZUZvcm1hdDpSLGNvbG9yUmVuZGVyYWJsZTohMCx0ZXh0dXJlRmlsdGVyYWJsZTohMCxieXRlc1BlckVsZW1lbnQ6WzRdLHR5cGU6W3hyXX0sZVtLYV09e3RleHR1cmVGb3JtYXQ6Uixjb2xvclJlbmRlcmFibGU6ITEsdGV4dHVyZUZpbHRlcmFibGU6ITAsYnl0ZXNQZXJFbGVtZW50OlsxNiw4XSx0eXBlOltPLGpdfSxlW0phXT17dGV4dHVyZUZvcm1hdDpSLGNvbG9yUmVuZGVyYWJsZTohMSx0ZXh0dXJlRmlsdGVyYWJsZTohMSxieXRlc1BlckVsZW1lbnQ6WzE2XSx0eXBlOltPXX0sZVtaYV09e3RleHR1cmVGb3JtYXQ6dmUsY29sb3JSZW5kZXJhYmxlOiEwLHRleHR1cmVGaWx0ZXJhYmxlOiExLGJ5dGVzUGVyRWxlbWVudDpbNF0sdHlwZTpbU119LGVbZXVdPXt0ZXh0dXJlRm9ybWF0OnZlLGNvbG9yUmVuZGVyYWJsZTohMCx0ZXh0dXJlRmlsdGVyYWJsZTohMSxieXRlc1BlckVsZW1lbnQ6WzRdLHR5cGU6W3VlXX0sZVt0dV09e3RleHR1cmVGb3JtYXQ6dmUsY29sb3JSZW5kZXJhYmxlOiEwLHRleHR1cmVGaWx0ZXJhYmxlOiExLGJ5dGVzUGVyRWxlbWVudDpbNF0sdHlwZTpbeHJdfSxlW3J1XT17dGV4dHVyZUZvcm1hdDp2ZSxjb2xvclJlbmRlcmFibGU6ITAsdGV4dHVyZUZpbHRlcmFibGU6ITEsYnl0ZXNQZXJFbGVtZW50Ols4XSx0eXBlOltrZV19LGVbbnVdPXt0ZXh0dXJlRm9ybWF0OnZlLGNvbG9yUmVuZGVyYWJsZTohMCx0ZXh0dXJlRmlsdGVyYWJsZTohMSxieXRlc1BlckVsZW1lbnQ6WzhdLHR5cGU6W1R0XX0sZVtvdV09e3RleHR1cmVGb3JtYXQ6dmUsY29sb3JSZW5kZXJhYmxlOiEwLHRleHR1cmVGaWx0ZXJhYmxlOiExLGJ5dGVzUGVyRWxlbWVudDpbMTZdLHR5cGU6W3d0XX0sZVtpdV09e3RleHR1cmVGb3JtYXQ6dmUsY29sb3JSZW5kZXJhYmxlOiEwLHRleHR1cmVGaWx0ZXJhYmxlOiExLGJ5dGVzUGVyRWxlbWVudDpbMTZdLHR5cGU6W19lXX0sZVtzdV09e3RleHR1cmVGb3JtYXQ6amUsY29sb3JSZW5kZXJhYmxlOiEwLHRleHR1cmVGaWx0ZXJhYmxlOiExLGJ5dGVzUGVyRWxlbWVudDpbMiw0XSx0eXBlOltrZSxfZV19LGVbYXVdPXt0ZXh0dXJlRm9ybWF0OmplLGNvbG9yUmVuZGVyYWJsZTohMCx0ZXh0dXJlRmlsdGVyYWJsZTohMSxieXRlc1BlckVsZW1lbnQ6WzRdLHR5cGU6W19lXX0sZVt1dV09e3RleHR1cmVGb3JtYXQ6amUsY29sb3JSZW5kZXJhYmxlOiEwLHRleHR1cmVGaWx0ZXJhYmxlOiExLGJ5dGVzUGVyRWxlbWVudDpbNF0sdHlwZTpbT119LGVbZnVdPXt0ZXh0dXJlRm9ybWF0OlJuLGNvbG9yUmVuZGVyYWJsZTohMCx0ZXh0dXJlRmlsdGVyYWJsZTohMSxieXRlc1BlckVsZW1lbnQ6WzRdLHR5cGU6W211XX0sZVtjdV09e3RleHR1cmVGb3JtYXQ6Um4sY29sb3JSZW5kZXJhYmxlOiEwLHRleHR1cmVGaWx0ZXJhYmxlOiExLGJ5dGVzUGVyRWxlbWVudDpbNF0sdHlwZTpbaHVdfSxPYmplY3Qua2V5cyhlKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe2NvbnN0IG49ZVt0XTtuLmJ5dGVzUGVyRWxlbWVudE1hcD17fSxuLmJ5dGVzUGVyRWxlbWVudC5mb3JFYWNoKGZ1bmN0aW9uKG8saSl7Y29uc3Qgcz1uLnR5cGVbaV07bi5ieXRlc1BlckVsZW1lbnRNYXBbc109b30pfSksX3I9ZX1yZXR1cm4gX3Jbcl19ZnVuY3Rpb24gcHUocixlKXtjb25zdCB0PVN0KHIpO2lmKCF0KXRocm93InVua25vd24gaW50ZXJuYWwgZm9ybWF0Ijtjb25zdCBuPXQuYnl0ZXNQZXJFbGVtZW50TWFwW2VdO2lmKG49PT12b2lkIDApdGhyb3cidW5rbm93biBpbnRlcm5hbCBmb3JtYXQiO3JldHVybiBufWZ1bmN0aW9uIFhlKHIpe2NvbnN0IGU9U3Qocik7aWYoIWUpdGhyb3cidW5rbm93biBpbnRlcm5hbCBmb3JtYXQiO3JldHVybntmb3JtYXQ6ZS50ZXh0dXJlRm9ybWF0LHR5cGU6ZS50eXBlWzBdfX1mdW5jdGlvbiBObihyKXtyZXR1cm4ociZyLTEpPT09MH1mdW5jdGlvbiBndShyLGUsdCxuKXtpZighVmUocikpcmV0dXJuIE5uKGUpJiZObih0KTtjb25zdCBvPVN0KG4pO2lmKCFvKXRocm93InVua25vd24gaW50ZXJuYWwgZm9ybWF0IjtyZXR1cm4gby5jb2xvclJlbmRlcmFibGUmJm8udGV4dHVyZUZpbHRlcmFibGV9ZnVuY3Rpb24geXUocil7Y29uc3QgZT1TdChyKTtpZighZSl0aHJvdyJ1bmtub3duIGludGVybmFsIGZvcm1hdCI7cmV0dXJuIGUudGV4dHVyZUZpbHRlcmFibGV9ZnVuY3Rpb24gYnUocixlLHQpe3JldHVybiBIZShlKT9scihlKTp0fHxTfWZ1bmN0aW9uIFJ0KHIsZSx0LG4sbyl7aWYobyUxIT09MCl0aHJvdyJjYW4ndCBndWVzcyBkaW1lbnNpb25zIjtpZighdCYmIW4pe2NvbnN0IGk9TWF0aC5zcXJ0KG8vKGU9PT1hZT82OjEpKTtpJTE9PT0wPyh0PWksbj1pKToodD1vLG49MSl9ZWxzZSBpZihuKXtpZighdCYmKHQ9by9uLHQlMSkpdGhyb3ciY2FuJ3QgZ3Vlc3MgZGltZW5zaW9ucyJ9ZWxzZSBpZihuPW8vdCxuJTEpdGhyb3ciY2FuJ3QgZ3Vlc3MgZGltZW5zaW9ucyI7cmV0dXJue3dpZHRoOnQsaGVpZ2h0Om59fWZ1bmN0aW9uIE1lKHIsZSl7ZS5jb2xvcnNwYWNlQ29udmVyc2lvbiE9PXZvaWQgMCYmci5waXhlbFN0b3JlaSh1YSxlLmNvbG9yc3BhY2VDb252ZXJzaW9uKSxlLnByZW11bHRpcGx5QWxwaGEhPT12b2lkIDAmJnIucGl4ZWxTdG9yZWkoY2EsZS5wcmVtdWx0aXBseUFscGhhKSxlLmZsaXBZIT09dm9pZCAwJiZyLnBpeGVsU3RvcmVpKGZhLGUuZmxpcFkpfWZ1bmN0aW9uIExuKHIpe3IucGl4ZWxTdG9yZWkoYnIsNCksVmUocikmJihyLnBpeGVsU3RvcmVpKFBuLDApLHIucGl4ZWxTdG9yZWkoa24sMCksci5waXhlbFN0b3JlaShEbiwwKSxyLnBpeGVsU3RvcmVpKENuLDApLHIucGl4ZWxTdG9yZWkoQm4sMCkpfWZ1bmN0aW9uIHh1KHIsZSx0LG4pe24ubWluTWFnJiYodC5jYWxsKHIsZSxncixuLm1pbk1hZyksdC5jYWxsKHIsZSx5cixuLm1pbk1hZykpLG4ubWluJiZ0LmNhbGwocixlLGdyLG4ubWluKSxuLm1hZyYmdC5jYWxsKHIsZSx5cixuLm1hZyksbi53cmFwJiYodC5jYWxsKHIsZSx2dCxuLndyYXApLHQuY2FsbChyLGUsRXQsbi53cmFwKSwoZT09PWJlfHxBcyhyLGUpKSYmdC5jYWxsKHIsZSxGbixuLndyYXApKSxuLndyYXBSJiZ0LmNhbGwocixlLEZuLG4ud3JhcFIpLG4ud3JhcFMmJnQuY2FsbChyLGUsdnQsbi53cmFwUyksbi53cmFwVCYmdC5jYWxsKHIsZSxFdCxuLndyYXBUKSxuLm1pbkxvZCE9PXZvaWQgMCYmdC5jYWxsKHIsZSxyYSxuLm1pbkxvZCksbi5tYXhMb2QhPT12b2lkIDAmJnQuY2FsbChyLGUsbmEsbi5tYXhMb2QpLG4uYmFzZUxldmVsIT09dm9pZCAwJiZ0LmNhbGwocixlLG9hLG4uYmFzZUxldmVsKSxuLm1heExldmVsIT09dm9pZCAwJiZ0LmNhbGwocixlLGlhLG4ubWF4TGV2ZWwpLG4uY29tcGFyZUZ1bmMhPT12b2lkIDAmJnQuY2FsbChyLGUsYWEsbi5jb21wYXJlRnVuYyksbi5jb21wYXJlTW9kZSE9PXZvaWQgMCYmdC5jYWxsKHIsZSxzYSxuLmNvbXBhcmVNb2RlKX1mdW5jdGlvbiB6bihyLGUsdCl7Y29uc3Qgbj10LnRhcmdldHx8c2U7ci5iaW5kVGV4dHVyZShuLGUpLHh1KHIsbixyLnRleFBhcmFtZXRlcmksdCl9ZnVuY3Rpb24gX3Uocil7cmV0dXJuIHI9cnx8aWUudGV4dHVyZUNvbG9yLEhlKHIpP3I6bmV3IFVpbnQ4QXJyYXkoW3JbMF0qMjU1LHJbMV0qMjU1LHJbMl0qMjU1LHJbM10qMjU1XSl9ZnVuY3Rpb24gdnIocixlLHQsbixvLGkpe3Q9dHx8aWUudGV4dHVyZU9wdGlvbnMsaT1pfHxSO2NvbnN0IHM9dC50YXJnZXR8fHNlO2lmKG49bnx8dC53aWR0aCxvPW98fHQuaGVpZ2h0LHIuYmluZFRleHR1cmUocyxlKSxndShyLG4sbyxpKSlyLmdlbmVyYXRlTWlwbWFwKHMpO2Vsc2V7Y29uc3QgYT15dShpKT9xczpRcztyLnRleFBhcmFtZXRlcmkocyxncixhKSxyLnRleFBhcmFtZXRlcmkocyx5cixhKSxyLnRleFBhcmFtZXRlcmkocyx2dCxfdCksci50ZXhQYXJhbWV0ZXJpKHMsRXQsX3QpfX1mdW5jdGlvbiBRZShyKXtyZXR1cm4gci5hdXRvPT09ITB8fHIuYXV0bz09PXZvaWQgMCYmci5sZXZlbD09PXZvaWQgMH1mdW5jdGlvbiBFcihyLGUpe3JldHVybiBlPWV8fHt9LGUuY3ViZUZhY2VPcmRlcnx8W3ByLEtzLEpzLFpzLGVhLHRhXX1mdW5jdGlvbiBUcihyLGUpe2NvbnN0IG49RXIocixlKS5tYXAoZnVuY3Rpb24obyxpKXtyZXR1cm57ZmFjZTpvLG5keDppfX0pO3JldHVybiBuLnNvcnQoZnVuY3Rpb24obyxpKXtyZXR1cm4gby5mYWNlLWkuZmFjZX0pLG59ZnVuY3Rpb24gR24ocixlLHQsbil7bj1ufHxpZS50ZXh0dXJlT3B0aW9ucztjb25zdCBvPW4udGFyZ2V0fHxzZSxpPW4ubGV2ZWx8fDA7bGV0IHM9dC53aWR0aCxhPXQuaGVpZ2h0O2NvbnN0IHU9bi5pbnRlcm5hbEZvcm1hdHx8bi5mb3JtYXR8fFIsZj1YZSh1KSxkPW4uZm9ybWF0fHxmLmZvcm1hdCxwPW4udHlwZXx8Zi50eXBlO2lmKE1lKHIsbiksci5iaW5kVGV4dHVyZShvLGUpLG89PT1hZSl7Y29uc3QgZz10LndpZHRoLGI9dC5oZWlnaHQ7bGV0IGgseDtpZihnLzY9PT1iKWg9Yix4PVswLDAsMSwwLDIsMCwzLDAsNCwwLDUsMF07ZWxzZSBpZihiLzY9PT1nKWg9Zyx4PVswLDAsMCwxLDAsMiwwLDMsMCw0LDAsNV07ZWxzZSBpZihnLzM9PT1iLzIpaD1nLzMseD1bMCwwLDEsMCwyLDAsMCwxLDEsMSwyLDFdO2Vsc2UgaWYoZy8yPT09Yi8zKWg9Zy8yLHg9WzAsMCwxLDAsMCwxLDEsMSwwLDIsMSwyXTtlbHNlIHRocm93ImNhbid0IGZpZ3VyZSBvdXQgY3ViZSBtYXAgZnJvbSBlbGVtZW50OiAiKyh0LnNyYz90LnNyYzp0Lm5vZGVOYW1lKTtjb25zdCBFPXduKCk7RT8oRS5jYW52YXMud2lkdGg9aCxFLmNhbnZhcy5oZWlnaHQ9aCxzPWgsYT1oLFRyKHIsbikuZm9yRWFjaChmdW5jdGlvbih2KXtjb25zdCBGPXhbdi5uZHgqMiswXSpoLGs9eFt2Lm5keCoyKzFdKmg7RS5kcmF3SW1hZ2UodCxGLGssaCxoLDAsMCxoLGgpLHIudGV4SW1hZ2UyRCh2LmZhY2UsaSx1LGQscCxFLmNhbnZhcyl9KSxFLmNhbnZhcy53aWR0aD0xLEUuY2FudmFzLmhlaWdodD0xKTp0eXBlb2YgY3JlYXRlSW1hZ2VCaXRtYXA8InUiJiYocz1oLGE9aCxUcihyLG4pLmZvckVhY2goZnVuY3Rpb24odil7Y29uc3QgRj14W3YubmR4KjIrMF0qaCxrPXhbdi5uZHgqMisxXSpoO3IudGV4SW1hZ2UyRCh2LmZhY2UsaSx1LGgsaCwwLGQscCxudWxsKSxjcmVhdGVJbWFnZUJpdG1hcCh0LEYsayxoLGgse3ByZW11bHRpcGx5QWxwaGE6Im5vbmUiLGNvbG9yU3BhY2VDb252ZXJzaW9uOiJub25lIn0pLnRoZW4oZnVuY3Rpb24oRyl7TWUocixuKSxyLmJpbmRUZXh0dXJlKG8sZSksci50ZXhJbWFnZTJEKHYuZmFjZSxpLHUsZCxwLEcpLFFlKG4pJiZ2cihyLGUsbixzLGEsdSl9KX0pKX1lbHNlIGlmKG89PT1iZXx8bz09PXhlKXtjb25zdCBnPU1hdGgubWluKHQud2lkdGgsdC5oZWlnaHQpLGI9TWF0aC5tYXgodC53aWR0aCx0LmhlaWdodCksaD1iL2c7aWYoaCUxIT09MCl0aHJvdyJjYW4gbm90IGNvbXB1dGUgM0QgZGltZW5zaW9ucyBvZiBlbGVtZW50Ijtjb25zdCB4PXQud2lkdGg9PT1iPzE6MCxFPXQuaGVpZ2h0PT09Yj8xOjA7ci5waXhlbFN0b3JlaShiciwxKSxyLnBpeGVsU3RvcmVpKFBuLHQud2lkdGgpLHIucGl4ZWxTdG9yZWkoa24sMCksci5waXhlbFN0b3JlaShCbiwwKSxyLnRleEltYWdlM0QobyxpLHUsZyxnLGcsMCxkLHAsbnVsbCk7Zm9yKGxldCB2PTA7djxoOysrdil7Y29uc3QgRj12KmcqeCxrPXYqZypFO3IucGl4ZWxTdG9yZWkoRG4sRiksci5waXhlbFN0b3JlaShDbixrKSxyLnRleFN1YkltYWdlM0QobyxpLDAsMCx2LGcsZywxLGQscCx0KX1MbihyKX1lbHNlIHIudGV4SW1hZ2UyRChvLGksdSxkLHAsdCk7UWUobikmJnZyKHIsZSxuLHMsYSx1KSx6bihyLGUsbil9ZnVuY3Rpb24gcWUoKXt9ZnVuY3Rpb24gdnUocil7aWYodHlwZW9mIGRvY3VtZW50PCJ1Iil7Y29uc3QgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIik7cmV0dXJuIGUuaHJlZj1yLGUuaG9zdG5hbWU9PT1sb2NhdGlvbi5ob3N0bmFtZSYmZS5wb3J0PT09bG9jYXRpb24ucG9ydCYmZS5wcm90b2NvbD09PWxvY2F0aW9uLnByb3RvY29sfWVsc2V7Y29uc3QgZT1uZXcgVVJMKGxvY2F0aW9uLmhyZWYpLm9yaWdpbjtyZXR1cm4gbmV3IFVSTChyLGxvY2F0aW9uLmhyZWYpLm9yaWdpbj09PWV9fWZ1bmN0aW9uIEV1KHIsZSl7cmV0dXJuIGU9PT12b2lkIDAmJiF2dShyKT8iYW5vbnltb3VzIjplfWZ1bmN0aW9uIFR1KHIsZSx0KXt0PXR8fHFlO2xldCBuO2lmKGU9ZSE9PXZvaWQgMD9lOmllLmNyb3NzT3JpZ2luLGU9RXUocixlKSx0eXBlb2YgSW1hZ2U8InUiKXtuPW5ldyBJbWFnZSxlIT09dm9pZCAwJiYobi5jcm9zc09yaWdpbj1lKTtjb25zdCBvPWZ1bmN0aW9uKCl7bi5yZW1vdmVFdmVudExpc3RlbmVyKCJlcnJvciIsaSksbi5yZW1vdmVFdmVudExpc3RlbmVyKCJsb2FkIixzKSxuPW51bGx9LGk9ZnVuY3Rpb24oKXtjb25zdCB1PSJjb3VsZG4ndCBsb2FkIGltYWdlOiAiK3I7cG4odSksdCh1LG4pLG8oKX0scz1mdW5jdGlvbigpe3QobnVsbCxuKSxvKCl9O3JldHVybiBuLmFkZEV2ZW50TGlzdGVuZXIoImVycm9yIixpKSxuLmFkZEV2ZW50TGlzdGVuZXIoImxvYWQiLHMpLG4uc3JjPXIsbn1lbHNlIGlmKHR5cGVvZiBJbWFnZUJpdG1hcDwidSIpe2xldCBvLGk7Y29uc3Qgcz1mdW5jdGlvbigpe3QobyxpKX0sYT17fTtlJiYoYS5tb2RlPSJjb3JzIiksZmV0Y2gocixhKS50aGVuKGZ1bmN0aW9uKHUpe2lmKCF1Lm9rKXRocm93IHU7cmV0dXJuIHUuYmxvYigpfSkudGhlbihmdW5jdGlvbih1KXtyZXR1cm4gY3JlYXRlSW1hZ2VCaXRtYXAodSx7cHJlbXVsdGlwbHlBbHBoYToibm9uZSIsY29sb3JTcGFjZUNvbnZlcnNpb246Im5vbmUifSl9KS50aGVuKGZ1bmN0aW9uKHUpe2k9dSxzZXRUaW1lb3V0KHMpfSkuY2F0Y2goZnVuY3Rpb24odSl7bz11LHNldFRpbWVvdXQocyl9KSxuPW51bGx9cmV0dXJuIG59ZnVuY3Rpb24gJG4ocil7cmV0dXJuIHR5cGVvZiBJbWFnZUJpdG1hcDwidSImJnIgaW5zdGFuY2VvZiBJbWFnZUJpdG1hcHx8dHlwZW9mIEltYWdlRGF0YTwidSImJnIgaW5zdGFuY2VvZiBJbWFnZURhdGF8fHR5cGVvZiBIVE1MRWxlbWVudDwidSImJnIgaW5zdGFuY2VvZiBIVE1MRWxlbWVudH1mdW5jdGlvbiB3cihyLGUsdCl7cmV0dXJuICRuKHIpPyhzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dChudWxsLHIpfSkscik6VHUocixlLHQpfWZ1bmN0aW9uIEFyKHIsZSx0KXt0PXR8fGllLnRleHR1cmVPcHRpb25zO2NvbnN0IG49dC50YXJnZXR8fHNlO2lmKHIuYmluZFRleHR1cmUobixlKSx0LmNvbG9yPT09ITEpcmV0dXJuO2NvbnN0IG89X3UodC5jb2xvcik7aWYobj09PWFlKWZvcihsZXQgaT0wO2k8NjsrK2kpci50ZXhJbWFnZTJEKHByK2ksMCxSLDEsMSwwLFIsUyxvKTtlbHNlIG49PT1iZXx8bj09PXhlP3IudGV4SW1hZ2UzRChuLDAsUiwxLDEsMSwwLFIsUyxvKTpyLnRleEltYWdlMkQobiwwLFIsMSwxLDAsUixTLG8pfWZ1bmN0aW9uIHd1KHIsZSx0LG4pe3JldHVybiBuPW58fHFlLHQ9dHx8aWUudGV4dHVyZU9wdGlvbnMsQXIocixlLHQpLHQ9T2JqZWN0LmFzc2lnbih7fSx0KSx3cih0LnNyYyx0LmNyb3NzT3JpZ2luLGZ1bmN0aW9uKGkscyl7aT9uKGksZSxzKTooR24ocixlLHMsdCksbihudWxsLGUscykpfSl9ZnVuY3Rpb24gQXUocixlLHQsbil7bj1ufHxxZTtjb25zdCBvPXQuc3JjO2lmKG8ubGVuZ3RoIT09Nil0aHJvdyJ0aGVyZSBtdXN0IGJlIDYgdXJscyBmb3IgYSBjdWJlbWFwIjtjb25zdCBpPXQubGV2ZWx8fDAscz10LmludGVybmFsRm9ybWF0fHx0LmZvcm1hdHx8UixhPVhlKHMpLHU9dC5mb3JtYXR8fGEuZm9ybWF0LGY9dC50eXBlfHxTLGQ9dC50YXJnZXR8fHNlO2lmKGQhPT1hZSl0aHJvdyJ0YXJnZXQgbXVzdCBiZSBURVhUVVJFX0NVQkVfTUFQIjtBcihyLGUsdCksdD1PYmplY3QuYXNzaWduKHt9LHQpO2xldCBwPTY7Y29uc3QgZz1bXSxiPUVyKHIsdCk7bGV0IGg7ZnVuY3Rpb24geChFKXtyZXR1cm4gZnVuY3Rpb24odixGKXstLXAsdj9nLnB1c2godik6Ri53aWR0aCE9PUYuaGVpZ2h0P2cucHVzaCgiY3ViZW1hcCBmYWNlIGltZyBpcyBub3QgYSBzcXVhcmU6ICIrRi5zcmMpOihNZShyLHQpLHIuYmluZFRleHR1cmUoZCxlKSxwPT09NT9FcigpLmZvckVhY2goZnVuY3Rpb24oayl7ci50ZXhJbWFnZTJEKGssaSxzLHUsZixGKX0pOnIudGV4SW1hZ2UyRChFLGkscyx1LGYsRiksUWUodCkmJnIuZ2VuZXJhdGVNaXBtYXAoZCkpLHA9PT0wJiZuKGcubGVuZ3RoP2c6dm9pZCAwLGUsaCl9fWg9by5tYXAoZnVuY3Rpb24oRSx2KXtyZXR1cm4gd3IoRSx0LmNyb3NzT3JpZ2luLHgoYlt2XSkpfSl9ZnVuY3Rpb24gSXUocixlLHQsbil7bj1ufHxxZTtjb25zdCBvPXQuc3JjLGk9dC5pbnRlcm5hbEZvcm1hdHx8dC5mb3JtYXR8fFIscz1YZShpKSxhPXQuZm9ybWF0fHxzLmZvcm1hdCx1PXQudHlwZXx8UyxmPXQudGFyZ2V0fHx4ZTtpZihmIT09YmUmJmYhPT14ZSl0aHJvdyJ0YXJnZXQgbXVzdCBiZSBURVhUVVJFXzNEIG9yIFRFWFRVUkVfMkRfQVJSQVkiO0FyKHIsZSx0KSx0PU9iamVjdC5hc3NpZ24oe30sdCk7bGV0IGQ9by5sZW5ndGg7Y29uc3QgcD1bXTtsZXQgZztjb25zdCBiPXQubGV2ZWx8fDA7bGV0IGg9dC53aWR0aCx4PXQuaGVpZ2h0O2NvbnN0IEU9by5sZW5ndGg7bGV0IHY9ITA7ZnVuY3Rpb24gRihrKXtyZXR1cm4gZnVuY3Rpb24oRyx6KXtpZigtLWQsRylwLnB1c2goRyk7ZWxzZXtpZihNZShyLHQpLHIuYmluZFRleHR1cmUoZixlKSx2KXt2PSExLGg9dC53aWR0aHx8ei53aWR0aCx4PXQuaGVpZ2h0fHx6LmhlaWdodCxyLnRleEltYWdlM0QoZixiLGksaCx4LEUsMCxhLHUsbnVsbCk7Zm9yKGxldCBIPTA7SDxFOysrSClyLnRleFN1YkltYWdlM0QoZixiLDAsMCxILGgseCwxLGEsdSx6KX1lbHNle2xldCBIPXosJDsoei53aWR0aCE9PWh8fHouaGVpZ2h0IT09eCkmJigkPXduKCksSD0kLmNhbnZhcywkLmNhbnZhcy53aWR0aD1oLCQuY2FudmFzLmhlaWdodD14LCQuZHJhd0ltYWdlKHosMCwwLGgseCkpLHIudGV4U3ViSW1hZ2UzRChmLGIsMCwwLGssaCx4LDEsYSx1LEgpLCQmJkg9PT0kLmNhbnZhcyYmKCQuY2FudmFzLndpZHRoPTAsJC5jYW52YXMuaGVpZ2h0PTApfVFlKHQpJiZyLmdlbmVyYXRlTWlwbWFwKGYpfWQ9PT0wJiZuKHAubGVuZ3RoP3A6dm9pZCAwLGUsZyl9fWc9by5tYXAoZnVuY3Rpb24oayxHKXtyZXR1cm4gd3Ioayx0LmNyb3NzT3JpZ2luLEYoRykpfSl9ZnVuY3Rpb24gU3UocixlLHQsbil7bj1ufHxpZS50ZXh0dXJlT3B0aW9ucztjb25zdCBvPW4udGFyZ2V0fHxzZTtyLmJpbmRUZXh0dXJlKG8sZSk7bGV0IGk9bi53aWR0aCxzPW4uaGVpZ2h0LGE9bi5kZXB0aDtjb25zdCB1PW4ubGV2ZWx8fDAsZj1uLmludGVybmFsRm9ybWF0fHxuLmZvcm1hdHx8UixkPVhlKGYpLHA9bi5mb3JtYXR8fGQuZm9ybWF0LGc9bi50eXBlfHxidShyLHQsZC50eXBlKTtpZihIZSh0KSl0IGluc3RhbmNlb2YgVWludDhDbGFtcGVkQXJyYXkmJih0PW5ldyBVaW50OEFycmF5KHQuYnVmZmVyKSk7ZWxzZXtjb25zdCBFPW1uKGcpO3Q9bmV3IEUodCl9Y29uc3QgYj1wdShmLGcpLGg9dC5ieXRlTGVuZ3RoL2I7aWYoaCUxKXRocm93Imxlbmd0aCB3cm9uZyBzaXplIGZvciBmb3JtYXQ6ICIrVG4ocixwKTtsZXQgeDtpZihvPT09YmV8fG89PT14ZSlpZighaSYmIXMmJiFhKXtjb25zdCBFPU1hdGguY2JydChoKTtpZihFJTEhPT0wKXRocm93ImNhbid0IGd1ZXNzIGN1YmUgc2l6ZSBvZiBhcnJheSBvZiBudW1FbGVtZW50czogIitoO2k9RSxzPUUsYT1FfWVsc2UgaSYmKCFzfHwhYSk/KHg9UnQocixvLHMsYSxoL2kpLHM9eC53aWR0aCxhPXguaGVpZ2h0KTpzJiYoIWl8fCFhKT8oeD1SdChyLG8saSxhLGgvcyksaT14LndpZHRoLGE9eC5oZWlnaHQpOih4PVJ0KHIsbyxpLHMsaC9hKSxpPXgud2lkdGgscz14LmhlaWdodCk7ZWxzZSB4PVJ0KHIsbyxpLHMsaCksaT14LndpZHRoLHM9eC5oZWlnaHQ7aWYoTG4ociksci5waXhlbFN0b3JlaShicixuLnVucGFja0FsaWdubWVudHx8MSksTWUocixuKSxvPT09YWUpe2NvbnN0IEU9Yi90LkJZVEVTX1BFUl9FTEVNRU5ULHY9aC82KkU7VHIocixuKS5mb3JFYWNoKEY9Pntjb25zdCBrPXYqRi5uZHgsRz10LnN1YmFycmF5KGssayt2KTtyLnRleEltYWdlMkQoRi5mYWNlLHUsZixpLHMsMCxwLGcsRyl9KX1lbHNlIG89PT1iZXx8bz09PXhlP3IudGV4SW1hZ2UzRChvLHUsZixpLHMsYSwwLHAsZyx0KTpyLnRleEltYWdlMkQobyx1LGYsaSxzLDAscCxnLHQpO3JldHVybnt3aWR0aDppLGhlaWdodDpzLGRlcHRoOmEsdHlwZTpnfX1mdW5jdGlvbiBSdShyLGUsdCl7Y29uc3Qgbj10LnRhcmdldHx8c2U7ci5iaW5kVGV4dHVyZShuLGUpO2NvbnN0IG89dC5sZXZlbHx8MCxpPXQuaW50ZXJuYWxGb3JtYXR8fHQuZm9ybWF0fHxSLHM9WGUoaSksYT10LmZvcm1hdHx8cy5mb3JtYXQsdT10LnR5cGV8fHMudHlwZTtpZihNZShyLHQpLG49PT1hZSlmb3IobGV0IGY9MDtmPDY7KytmKXIudGV4SW1hZ2UyRChwcitmLG8saSx0LndpZHRoLHQuaGVpZ2h0LDAsYSx1LG51bGwpO2Vsc2Ugbj09PWJlfHxuPT09eGU/ci50ZXhJbWFnZTNEKG4sbyxpLHQud2lkdGgsdC5oZWlnaHQsdC5kZXB0aCwwLGEsdSxudWxsKTpyLnRleEltYWdlMkQobixvLGksdC53aWR0aCx0LmhlaWdodCwwLGEsdSxudWxsKX1mdW5jdGlvbiBXbihyLGUsdCl7dD10fHxxZSxlPWV8fGllLnRleHR1cmVPcHRpb25zO2NvbnN0IG49ci5jcmVhdGVUZXh0dXJlKCksbz1lLnRhcmdldHx8c2U7bGV0IGk9ZS53aWR0aHx8MSxzPWUuaGVpZ2h0fHwxO2NvbnN0IGE9ZS5pbnRlcm5hbEZvcm1hdHx8UjtyLmJpbmRUZXh0dXJlKG8sbiksbz09PWFlJiYoci50ZXhQYXJhbWV0ZXJpKG8sdnQsX3QpLHIudGV4UGFyYW1ldGVyaShvLEV0LF90KSk7bGV0IHU9ZS5zcmM7aWYodSlpZih0eXBlb2YgdT09ImZ1bmN0aW9uIiYmKHU9dShyLGUpKSx0eXBlb2YgdT09InN0cmluZyIpd3UocixuLGUsdCk7ZWxzZSBpZihIZSh1KXx8QXJyYXkuaXNBcnJheSh1KSYmKHR5cGVvZiB1WzBdPT0ibnVtYmVyInx8QXJyYXkuaXNBcnJheSh1WzBdKXx8SGUodVswXSkpKXtjb25zdCBmPVN1KHIsbix1LGUpO2k9Zi53aWR0aCxzPWYuaGVpZ2h0fWVsc2UgQXJyYXkuaXNBcnJheSh1KSYmKHR5cGVvZiB1WzBdPT0ic3RyaW5nInx8JG4odVswXSkpP289PT1hZT9BdShyLG4sZSx0KTpJdShyLG4sZSx0KTooR24ocixuLHUsZSksaT11LndpZHRoLHM9dS5oZWlnaHQpO2Vsc2UgUnUocixuLGUpO3JldHVybiBRZShlKSYmdnIocixuLGUsaSxzLGEpLHpuKHIsbixlKSxufWNvbnN0IElyPXBuO2Z1bmN0aW9uIFZuKHIpe3JldHVybiB0eXBlb2YgZG9jdW1lbnQ8InUiJiZkb2N1bWVudC5nZXRFbGVtZW50QnlJZD9kb2N1bWVudC5nZXRFbGVtZW50QnlJZChyKTpudWxsfWNvbnN0IEZ0PTMzOTg0LFB0PTM0OTYyLEZ1PTM0OTYzLFB1PTM1NzEzLGt1PTM1NzE0LER1PTM1NjMyLEN1PTM1NjMzLEJ1PTM1OTgxLEhuPTM1NzE4LE11PTM1NzIxLE91PTM1OTcxLFV1PTM1MzgyLE51PTM1Mzk2LEx1PTM1Mzk4LHp1PTM1MzkyLEd1PTM1Mzk1LGt0PTUxMjYsam49MzU2NjQsWW49MzU2NjUsWG49MzU2NjYsU3I9NTEyNCxRbj0zNTY2Nyxxbj0zNTY2OCxLbj0zNTY2OSxKbj0zNTY3MCxabj0zNTY3MSxlbz0zNTY3Mix0bz0zNTY3Myxybz0zNTY3NCxubz0zNTY3NSxvbz0zNTY3NiwkdT0zNTY3OCxXdT0zNTY4MCxWdT0zNTY3OSxIdT0zNTY4MixqdT0zNTY4NSxZdT0zNTY4NixYdT0zNTY4NyxRdT0zNTY4OCxxdT0zNTY4OSxLdT0zNTY5MCxKdT0zNjI4OSxadT0zNjI5MixlYz0zNjI5MyxScj01MTI1LGlvPTM2Mjk0LHNvPTM2Mjk1LGFvPTM2Mjk2LHRjPTM2Mjk4LHJjPTM2Mjk5LG5jPTM2MzAwLG9jPTM2MzAzLGljPTM2MzA2LHNjPTM2MzA3LGFjPTM2MzA4LHVjPTM2MzExLER0PTM1NTMsQ3Q9MzQwNjcsRnI9MzI4NzksQnQ9MzU4NjYsXz17fTtmdW5jdGlvbiB1byhyLGUpe3JldHVybiBfW2VdLmJpbmRQb2ludH1mdW5jdGlvbiBjYyhyLGUpe3JldHVybiBmdW5jdGlvbih0KXtyLnVuaWZvcm0xZihlLHQpfX1mdW5jdGlvbiBmYyhyLGUpe3JldHVybiBmdW5jdGlvbih0KXtyLnVuaWZvcm0xZnYoZSx0KX19ZnVuY3Rpb24gbGMocixlKXtyZXR1cm4gZnVuY3Rpb24odCl7ci51bmlmb3JtMmZ2KGUsdCl9fWZ1bmN0aW9uIGRjKHIsZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3IudW5pZm9ybTNmdihlLHQpfX1mdW5jdGlvbiBoYyhyLGUpe3JldHVybiBmdW5jdGlvbih0KXtyLnVuaWZvcm00ZnYoZSx0KX19ZnVuY3Rpb24gY28ocixlKXtyZXR1cm4gZnVuY3Rpb24odCl7ci51bmlmb3JtMWkoZSx0KX19ZnVuY3Rpb24gZm8ocixlKXtyZXR1cm4gZnVuY3Rpb24odCl7ci51bmlmb3JtMWl2KGUsdCl9fWZ1bmN0aW9uIGxvKHIsZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3IudW5pZm9ybTJpdihlLHQpfX1mdW5jdGlvbiBobyhyLGUpe3JldHVybiBmdW5jdGlvbih0KXtyLnVuaWZvcm0zaXYoZSx0KX19ZnVuY3Rpb24gbW8ocixlKXtyZXR1cm4gZnVuY3Rpb24odCl7ci51bmlmb3JtNGl2KGUsdCl9fWZ1bmN0aW9uIG1jKHIsZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3IudW5pZm9ybTF1aShlLHQpfX1mdW5jdGlvbiBwYyhyLGUpe3JldHVybiBmdW5jdGlvbih0KXtyLnVuaWZvcm0xdWl2KGUsdCl9fWZ1bmN0aW9uIGdjKHIsZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3IudW5pZm9ybTJ1aXYoZSx0KX19ZnVuY3Rpb24geWMocixlKXtyZXR1cm4gZnVuY3Rpb24odCl7ci51bmlmb3JtM3VpdihlLHQpfX1mdW5jdGlvbiBiYyhyLGUpe3JldHVybiBmdW5jdGlvbih0KXtyLnVuaWZvcm00dWl2KGUsdCl9fWZ1bmN0aW9uIHhjKHIsZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3IudW5pZm9ybU1hdHJpeDJmdihlLCExLHQpfX1mdW5jdGlvbiBfYyhyLGUpe3JldHVybiBmdW5jdGlvbih0KXtyLnVuaWZvcm1NYXRyaXgzZnYoZSwhMSx0KX19ZnVuY3Rpb24gdmMocixlKXtyZXR1cm4gZnVuY3Rpb24odCl7ci51bmlmb3JtTWF0cml4NGZ2KGUsITEsdCl9fWZ1bmN0aW9uIEVjKHIsZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3IudW5pZm9ybU1hdHJpeDJ4M2Z2KGUsITEsdCl9fWZ1bmN0aW9uIFRjKHIsZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3IudW5pZm9ybU1hdHJpeDN4MmZ2KGUsITEsdCl9fWZ1bmN0aW9uIHdjKHIsZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3IudW5pZm9ybU1hdHJpeDJ4NGZ2KGUsITEsdCl9fWZ1bmN0aW9uIEFjKHIsZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3IudW5pZm9ybU1hdHJpeDR4MmZ2KGUsITEsdCl9fWZ1bmN0aW9uIEljKHIsZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3IudW5pZm9ybU1hdHJpeDN4NGZ2KGUsITEsdCl9fWZ1bmN0aW9uIFNjKHIsZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3IudW5pZm9ybU1hdHJpeDR4M2Z2KGUsITEsdCl9fWZ1bmN0aW9uIE4ocixlLHQsbil7Y29uc3Qgbz11byhyLGUpO3JldHVybiBWZShyKT9mdW5jdGlvbihpKXtsZXQgcyxhOyFpfHxkcihyLGkpPyhzPWksYT1udWxsKToocz1pLnRleHR1cmUsYT1pLnNhbXBsZXIpLHIudW5pZm9ybTFpKG4sdCksci5hY3RpdmVUZXh0dXJlKEZ0K3QpLHIuYmluZFRleHR1cmUobyxzKSxyLmJpbmRTYW1wbGVyKHQsYSl9OmZ1bmN0aW9uKGkpe3IudW5pZm9ybTFpKG4sdCksci5hY3RpdmVUZXh0dXJlKEZ0K3QpLHIuYmluZFRleHR1cmUobyxpKX19ZnVuY3Rpb24gTChyLGUsdCxuLG8pe2NvbnN0IGk9dW8ocixlKSxzPW5ldyBJbnQzMkFycmF5KG8pO2ZvcihsZXQgYT0wO2E8bzsrK2Epc1thXT10K2E7cmV0dXJuIFZlKHIpP2Z1bmN0aW9uKGEpe3IudW5pZm9ybTFpdihuLHMpLGEuZm9yRWFjaChmdW5jdGlvbih1LGYpe3IuYWN0aXZlVGV4dHVyZShGdCtzW2ZdKTtsZXQgZCxwOyF1fHxkcihyLHUpPyhkPXUscD1udWxsKTooZD11LnRleHR1cmUscD11LnNhbXBsZXIpLHIuYmluZFNhbXBsZXIodCxwKSxyLmJpbmRUZXh0dXJlKGksZCl9KX06ZnVuY3Rpb24oYSl7ci51bmlmb3JtMWl2KG4scyksYS5mb3JFYWNoKGZ1bmN0aW9uKHUsZil7ci5hY3RpdmVUZXh0dXJlKEZ0K3NbZl0pLHIuYmluZFRleHR1cmUoaSx1KX0pfX1fW2t0XT17VHlwZTpGbG9hdDMyQXJyYXksc2l6ZTo0LHNldHRlcjpjYyxhcnJheVNldHRlcjpmY30sX1tqbl09e1R5cGU6RmxvYXQzMkFycmF5LHNpemU6OCxzZXR0ZXI6bGMsY29sczoyfSxfW1luXT17VHlwZTpGbG9hdDMyQXJyYXksc2l6ZToxMixzZXR0ZXI6ZGMsY29sczozfSxfW1huXT17VHlwZTpGbG9hdDMyQXJyYXksc2l6ZToxNixzZXR0ZXI6aGMsY29sczo0fSxfW1NyXT17VHlwZTpJbnQzMkFycmF5LHNpemU6NCxzZXR0ZXI6Y28sYXJyYXlTZXR0ZXI6Zm99LF9bUW5dPXtUeXBlOkludDMyQXJyYXksc2l6ZTo4LHNldHRlcjpsbyxjb2xzOjJ9LF9bcW5dPXtUeXBlOkludDMyQXJyYXksc2l6ZToxMixzZXR0ZXI6aG8sY29sczozfSxfW0tuXT17VHlwZTpJbnQzMkFycmF5LHNpemU6MTYsc2V0dGVyOm1vLGNvbHM6NH0sX1tScl09e1R5cGU6VWludDMyQXJyYXksc2l6ZTo0LHNldHRlcjptYyxhcnJheVNldHRlcjpwY30sX1tpb109e1R5cGU6VWludDMyQXJyYXksc2l6ZTo4LHNldHRlcjpnYyxjb2xzOjJ9LF9bc29dPXtUeXBlOlVpbnQzMkFycmF5LHNpemU6MTIsc2V0dGVyOnljLGNvbHM6M30sX1thb109e1R5cGU6VWludDMyQXJyYXksc2l6ZToxNixzZXR0ZXI6YmMsY29sczo0fSxfW0puXT17VHlwZTpVaW50MzJBcnJheSxzaXplOjQsc2V0dGVyOmNvLGFycmF5U2V0dGVyOmZvfSxfW1puXT17VHlwZTpVaW50MzJBcnJheSxzaXplOjgsc2V0dGVyOmxvLGNvbHM6Mn0sX1tlb109e1R5cGU6VWludDMyQXJyYXksc2l6ZToxMixzZXR0ZXI6aG8sY29sczozfSxfW3RvXT17VHlwZTpVaW50MzJBcnJheSxzaXplOjE2LHNldHRlcjptbyxjb2xzOjR9LF9bcm9dPXtUeXBlOkZsb2F0MzJBcnJheSxzaXplOjMyLHNldHRlcjp4Yyxyb3dzOjIsY29sczoyfSxfW25vXT17VHlwZTpGbG9hdDMyQXJyYXksc2l6ZTo0OCxzZXR0ZXI6X2Mscm93czozLGNvbHM6M30sX1tvb109e1R5cGU6RmxvYXQzMkFycmF5LHNpemU6NjQsc2V0dGVyOnZjLHJvd3M6NCxjb2xzOjR9LF9banVdPXtUeXBlOkZsb2F0MzJBcnJheSxzaXplOjMyLHNldHRlcjpFYyxyb3dzOjIsY29sczozfSxfW1l1XT17VHlwZTpGbG9hdDMyQXJyYXksc2l6ZTozMixzZXR0ZXI6d2Mscm93czoyLGNvbHM6NH0sX1tYdV09e1R5cGU6RmxvYXQzMkFycmF5LHNpemU6NDgsc2V0dGVyOlRjLHJvd3M6Myxjb2xzOjJ9LF9bUXVdPXtUeXBlOkZsb2F0MzJBcnJheSxzaXplOjQ4LHNldHRlcjpJYyxyb3dzOjMsY29sczo0fSxfW3F1XT17VHlwZTpGbG9hdDMyQXJyYXksc2l6ZTo2NCxzZXR0ZXI6QWMscm93czo0LGNvbHM6Mn0sX1tLdV09e1R5cGU6RmxvYXQzMkFycmF5LHNpemU6NjQsc2V0dGVyOlNjLHJvd3M6NCxjb2xzOjN9LF9bJHVdPXtUeXBlOm51bGwsc2l6ZTowLHNldHRlcjpOLGFycmF5U2V0dGVyOkwsYmluZFBvaW50OkR0fSxfW1d1XT17VHlwZTpudWxsLHNpemU6MCxzZXR0ZXI6TixhcnJheVNldHRlcjpMLGJpbmRQb2ludDpDdH0sX1tWdV09e1R5cGU6bnVsbCxzaXplOjAsc2V0dGVyOk4sYXJyYXlTZXR0ZXI6TCxiaW5kUG9pbnQ6RnJ9LF9bSHVdPXtUeXBlOm51bGwsc2l6ZTowLHNldHRlcjpOLGFycmF5U2V0dGVyOkwsYmluZFBvaW50OkR0fSxfW0p1XT17VHlwZTpudWxsLHNpemU6MCxzZXR0ZXI6TixhcnJheVNldHRlcjpMLGJpbmRQb2ludDpCdH0sX1tadV09e1R5cGU6bnVsbCxzaXplOjAsc2V0dGVyOk4sYXJyYXlTZXR0ZXI6TCxiaW5kUG9pbnQ6QnR9LF9bZWNdPXtUeXBlOm51bGwsc2l6ZTowLHNldHRlcjpOLGFycmF5U2V0dGVyOkwsYmluZFBvaW50OkN0fSxfW3RjXT17VHlwZTpudWxsLHNpemU6MCxzZXR0ZXI6TixhcnJheVNldHRlcjpMLGJpbmRQb2ludDpEdH0sX1tyY109e1R5cGU6bnVsbCxzaXplOjAsc2V0dGVyOk4sYXJyYXlTZXR0ZXI6TCxiaW5kUG9pbnQ6RnJ9LF9bbmNdPXtUeXBlOm51bGwsc2l6ZTowLHNldHRlcjpOLGFycmF5U2V0dGVyOkwsYmluZFBvaW50OkN0fSxfW29jXT17VHlwZTpudWxsLHNpemU6MCxzZXR0ZXI6TixhcnJheVNldHRlcjpMLGJpbmRQb2ludDpCdH0sX1tpY109e1R5cGU6bnVsbCxzaXplOjAsc2V0dGVyOk4sYXJyYXlTZXR0ZXI6TCxiaW5kUG9pbnQ6RHR9LF9bc2NdPXtUeXBlOm51bGwsc2l6ZTowLHNldHRlcjpOLGFycmF5U2V0dGVyOkwsYmluZFBvaW50OkZyfSxfW2FjXT17VHlwZTpudWxsLHNpemU6MCxzZXR0ZXI6TixhcnJheVNldHRlcjpMLGJpbmRQb2ludDpDdH0sX1t1Y109e1R5cGU6bnVsbCxzaXplOjAsc2V0dGVyOk4sYXJyYXlTZXR0ZXI6TCxiaW5kUG9pbnQ6QnR9O2Z1bmN0aW9uIE10KHIsZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKHQudmFsdWUpc3dpdGNoKHIuZGlzYWJsZVZlcnRleEF0dHJpYkFycmF5KGUpLHQudmFsdWUubGVuZ3RoKXtjYXNlIDQ6ci52ZXJ0ZXhBdHRyaWI0ZnYoZSx0LnZhbHVlKTticmVhaztjYXNlIDM6ci52ZXJ0ZXhBdHRyaWIzZnYoZSx0LnZhbHVlKTticmVhaztjYXNlIDI6ci52ZXJ0ZXhBdHRyaWIyZnYoZSx0LnZhbHVlKTticmVhaztjYXNlIDE6ci52ZXJ0ZXhBdHRyaWIxZnYoZSx0LnZhbHVlKTticmVhaztkZWZhdWx0OnRocm93IG5ldyBFcnJvcigidGhlIGxlbmd0aCBvZiBhIGZsb2F0IGNvbnN0YW50IHZhbHVlIG11c3QgYmUgYmV0d2VlbiAxIGFuZCA0ISIpfWVsc2Ugci5iaW5kQnVmZmVyKFB0LHQuYnVmZmVyKSxyLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KGUpLHIudmVydGV4QXR0cmliUG9pbnRlcihlLHQubnVtQ29tcG9uZW50c3x8dC5zaXplLHQudHlwZXx8a3QsdC5ub3JtYWxpemV8fCExLHQuc3RyaWRlfHwwLHQub2Zmc2V0fHwwKSxyLnZlcnRleEF0dHJpYkRpdmlzb3ImJnIudmVydGV4QXR0cmliRGl2aXNvcihlLHQuZGl2aXNvcnx8MCl9fWZ1bmN0aW9uIGNlKHIsZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKHQudmFsdWUpaWYoci5kaXNhYmxlVmVydGV4QXR0cmliQXJyYXkoZSksdC52YWx1ZS5sZW5ndGg9PT00KXIudmVydGV4QXR0cmliNGl2KGUsdC52YWx1ZSk7ZWxzZSB0aHJvdyBuZXcgRXJyb3IoIlRoZSBsZW5ndGggb2YgYW4gaW50ZWdlciBjb25zdGFudCB2YWx1ZSBtdXN0IGJlIDQhIik7ZWxzZSByLmJpbmRCdWZmZXIoUHQsdC5idWZmZXIpLHIuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoZSksci52ZXJ0ZXhBdHRyaWJJUG9pbnRlcihlLHQubnVtQ29tcG9uZW50c3x8dC5zaXplLHQudHlwZXx8U3IsdC5zdHJpZGV8fDAsdC5vZmZzZXR8fDApLHIudmVydGV4QXR0cmliRGl2aXNvciYmci52ZXJ0ZXhBdHRyaWJEaXZpc29yKGUsdC5kaXZpc29yfHwwKX19ZnVuY3Rpb24gT3QocixlKXtyZXR1cm4gZnVuY3Rpb24odCl7aWYodC52YWx1ZSlpZihyLmRpc2FibGVWZXJ0ZXhBdHRyaWJBcnJheShlKSx0LnZhbHVlLmxlbmd0aD09PTQpci52ZXJ0ZXhBdHRyaWI0dWl2KGUsdC52YWx1ZSk7ZWxzZSB0aHJvdyBuZXcgRXJyb3IoIlRoZSBsZW5ndGggb2YgYW4gdW5zaWduZWQgaW50ZWdlciBjb25zdGFudCB2YWx1ZSBtdXN0IGJlIDQhIik7ZWxzZSByLmJpbmRCdWZmZXIoUHQsdC5idWZmZXIpLHIuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoZSksci52ZXJ0ZXhBdHRyaWJJUG9pbnRlcihlLHQubnVtQ29tcG9uZW50c3x8dC5zaXplLHQudHlwZXx8UnIsdC5zdHJpZGV8fDAsdC5vZmZzZXR8fDApLHIudmVydGV4QXR0cmliRGl2aXNvciYmci52ZXJ0ZXhBdHRyaWJEaXZpc29yKGUsdC5kaXZpc29yfHwwKX19ZnVuY3Rpb24gUHIocixlLHQpe2NvbnN0IG49dC5zaXplLG89dC5jb3VudDtyZXR1cm4gZnVuY3Rpb24oaSl7ci5iaW5kQnVmZmVyKFB0LGkuYnVmZmVyKTtjb25zdCBzPWkuc2l6ZXx8aS5udW1Db21wb25lbnRzfHxuLGE9cy9vLHU9aS50eXBlfHxrdCxkPV9bdV0uc2l6ZSpzLHA9aS5ub3JtYWxpemV8fCExLGc9aS5vZmZzZXR8fDAsYj1kL287Zm9yKGxldCBoPTA7aDxvOysraClyLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KGUraCksci52ZXJ0ZXhBdHRyaWJQb2ludGVyKGUraCxhLHUscCxkLGcrYipoKSxyLnZlcnRleEF0dHJpYkRpdmlzb3ImJnIudmVydGV4QXR0cmliRGl2aXNvcihlK2gsaS5kaXZpc29yfHwwKX19Y29uc3QgUD17fTtQW2t0XT17c2l6ZTo0LHNldHRlcjpNdH0sUFtqbl09e3NpemU6OCxzZXR0ZXI6TXR9LFBbWW5dPXtzaXplOjEyLHNldHRlcjpNdH0sUFtYbl09e3NpemU6MTYsc2V0dGVyOk10fSxQW1NyXT17c2l6ZTo0LHNldHRlcjpjZX0sUFtRbl09e3NpemU6OCxzZXR0ZXI6Y2V9LFBbcW5dPXtzaXplOjEyLHNldHRlcjpjZX0sUFtLbl09e3NpemU6MTYsc2V0dGVyOmNlfSxQW1JyXT17c2l6ZTo0LHNldHRlcjpPdH0sUFtpb109e3NpemU6OCxzZXR0ZXI6T3R9LFBbc29dPXtzaXplOjEyLHNldHRlcjpPdH0sUFthb109e3NpemU6MTYsc2V0dGVyOk90fSxQW0puXT17c2l6ZTo0LHNldHRlcjpjZX0sUFtabl09e3NpemU6OCxzZXR0ZXI6Y2V9LFBbZW9dPXtzaXplOjEyLHNldHRlcjpjZX0sUFt0b109e3NpemU6MTYsc2V0dGVyOmNlfSxQW3JvXT17c2l6ZTo0LHNldHRlcjpQcixjb3VudDoyfSxQW25vXT17c2l6ZTo5LHNldHRlcjpQcixjb3VudDozfSxQW29vXT17c2l6ZToxNixzZXR0ZXI6UHIsY291bnQ6NH07Y29uc3QgUmM9L0VSUk9SOlxzKlxkKzooXGQrKS9naTtmdW5jdGlvbiBGYyhyLGU9IiIsdD0wKXtjb25zdCBuPVsuLi5lLm1hdGNoQWxsKFJjKV0sbz1uZXcgTWFwKG4ubWFwKChpLHMpPT57Y29uc3QgYT1wYXJzZUludChpWzFdKSx1PW5bcysxXSxmPXU/dS5pbmRleDplLmxlbmd0aCxkPWUuc3Vic3RyaW5nKGkuaW5kZXgsZik7cmV0dXJuW2EtMSxkXX0pKTtyZXR1cm4gci5zcGxpdChgCmApLm1hcCgoaSxzKT0+e2NvbnN0IGE9by5nZXQocyk7cmV0dXJuYCR7cysxK3R9OiAke2l9JHthP2AKCl5eXiAke2F9YDoiIn1gfSkuam9pbihgCmApfWNvbnN0IHBvPS9eWyBcdF0qXG4vO2Z1bmN0aW9uIGdvKHIpe2xldCBlPTA7cmV0dXJuIHBvLnRlc3QocikmJihlPTEscj1yLnJlcGxhY2UocG8sIiIpKSx7bGluZU9mZnNldDplLHNoYWRlclNvdXJjZTpyfX1mdW5jdGlvbiBQYyhyLGUpe3JldHVybiByLmVycm9yQ2FsbGJhY2soZSksci5jYWxsYmFjayYmc2V0VGltZW91dCgoKT0+e3IuY2FsbGJhY2soYCR7ZX0KJHtyLmVycm9ycy5qb2luKGAKYCl9YCl9KSxudWxsfWZ1bmN0aW9uIGtjKHIsZSx0LG4pe2lmKG49bnx8SXIsIXIuZ2V0U2hhZGVyUGFyYW1ldGVyKHQsUHUpKXtjb25zdCBpPXIuZ2V0U2hhZGVySW5mb0xvZyh0KSx7bGluZU9mZnNldDpzLHNoYWRlclNvdXJjZTphfT1nbyhyLmdldFNoYWRlclNvdXJjZSh0KSksdT1gJHtGYyhhLGkscyl9CkVycm9yIGNvbXBpbGluZyAke1RuKHIsZSl9OiAke2l9YDtyZXR1cm4gbih1KSx1fXJldHVybiIifWZ1bmN0aW9uIGtyKHIsZSx0KXtsZXQgbixvLGk7aWYodHlwZW9mIGU9PSJmdW5jdGlvbiImJih0PWUsZT12b2lkIDApLHR5cGVvZiByPT0iZnVuY3Rpb24iKXQ9cixyPXZvaWQgMDtlbHNlIGlmKHImJiFBcnJheS5pc0FycmF5KHIpKXtjb25zdCBmPXI7dD1mLmVycm9yQ2FsbGJhY2sscj1mLmF0dHJpYkxvY2F0aW9ucyxuPWYudHJhbnNmb3JtRmVlZGJhY2tWYXJ5aW5ncyxvPWYudHJhbnNmb3JtRmVlZGJhY2tNb2RlLGk9Zi5jYWxsYmFja31jb25zdCBzPXR8fElyLGE9W10sdT17ZXJyb3JDYWxsYmFjayhmLC4uLmQpe2EucHVzaChmKSxzKGYsLi4uZCl9LHRyYW5zZm9ybUZlZWRiYWNrVmFyeWluZ3M6bix0cmFuc2Zvcm1GZWVkYmFja01vZGU6byxjYWxsYmFjazppLGVycm9yczphfTt7bGV0IGY9e307QXJyYXkuaXNBcnJheShyKT9yLmZvckVhY2goZnVuY3Rpb24oZCxwKXtmW2RdPWU/ZVtwXTpwfSk6Zj1yfHx7fSx1LmF0dHJpYkxvY2F0aW9ucz1mfXJldHVybiB1fWNvbnN0IERjPVsiVkVSVEVYX1NIQURFUiIsIkZSQUdNRU5UX1NIQURFUiJdO2Z1bmN0aW9uIENjKHIsZSl7aWYoZS5pbmRleE9mKCJmcmFnIik+PTApcmV0dXJuIER1O2lmKGUuaW5kZXhPZigidmVydCIpPj0wKXJldHVybiBDdX1mdW5jdGlvbiBCYyhyLGUsdCl7Y29uc3Qgbj1yLmdldEF0dGFjaGVkU2hhZGVycyhlKTtmb3IoY29uc3QgbyBvZiBuKXQuaGFzKG8pJiZyLmRlbGV0ZVNoYWRlcihvKTtyLmRlbGV0ZVByb2dyYW0oZSl9Y29uc3QgTWM9KHI9MCk9Pm5ldyBQcm9taXNlKGU9PnNldFRpbWVvdXQoZSxyKSk7ZnVuY3Rpb24gT2MocixlLHQpe2NvbnN0IG49ci5jcmVhdGVQcm9ncmFtKCkse2F0dHJpYkxvY2F0aW9uczpvLHRyYW5zZm9ybUZlZWRiYWNrVmFyeWluZ3M6aSx0cmFuc2Zvcm1GZWVkYmFja01vZGU6c309a3IodCk7Zm9yKGxldCBhPTA7YTxlLmxlbmd0aDsrK2Epe2xldCB1PWVbYV07aWYodHlwZW9mIHU9PSJzdHJpbmciKXtjb25zdCBmPVZuKHUpLGQ9Zj9mLnRleHQ6dTtsZXQgcD1yW0RjW2FdXTtmJiZmLnR5cGUmJihwPUNjKHIsZi50eXBlKXx8cCksdT1yLmNyZWF0ZVNoYWRlcihwKSxyLnNoYWRlclNvdXJjZSh1LGdvKGQpLnNoYWRlclNvdXJjZSksci5jb21waWxlU2hhZGVyKHUpLHIuYXR0YWNoU2hhZGVyKG4sdSl9fU9iamVjdC5lbnRyaWVzKG8pLmZvckVhY2goKFthLHVdKT0+ci5iaW5kQXR0cmliTG9jYXRpb24obix1LGEpKTt7bGV0IGE9aTthJiYoYS5hdHRyaWJzJiYoYT1hLmF0dHJpYnMpLEFycmF5LmlzQXJyYXkoYSl8fChhPU9iamVjdC5rZXlzKGEpKSxyLnRyYW5zZm9ybUZlZWRiYWNrVmFyeWluZ3MobixhLHN8fEJ1KSl9cmV0dXJuIHIubGlua1Byb2dyYW0obiksbn1mdW5jdGlvbiBVYyhyLGUsdCxuLG8pe2NvbnN0IGk9a3IodCxuLG8pLHM9bmV3IFNldChlKSxhPU9jKHIsZSxpKTtmdW5jdGlvbiB1KGYsZCl7Y29uc3QgcD1MYyhmLGQsaS5lcnJvckNhbGxiYWNrKTtyZXR1cm4gcCYmQmMoZixkLHMpLHB9aWYoaS5jYWxsYmFjayl7TmMocixhKS50aGVuKCgpPT57Y29uc3QgZj11KHIsYSk7aS5jYWxsYmFjayhmLGY/dm9pZCAwOmEpfSk7cmV0dXJufXJldHVybiB1KHIsYSk/dm9pZCAwOmF9YXN5bmMgZnVuY3Rpb24gTmMocixlKXtjb25zdCB0PXIuZ2V0RXh0ZW5zaW9uKCJLSFJfcGFyYWxsZWxfc2hhZGVyX2NvbXBpbGUiKSxuPXQ/KGkscyk9PmkuZ2V0UHJvZ3JhbVBhcmFtZXRlcihzLHQuQ09NUExFVElPTl9TVEFUVVNfS0hSKTooKT0+ITA7bGV0IG89MDtkbyBhd2FpdCBNYyhvKSxvPTFlMy82MDt3aGlsZSghbihyLGUpKX1mdW5jdGlvbiBMYyhyLGUsdCl7aWYodD10fHxJciwhci5nZXRQcm9ncmFtUGFyYW1ldGVyKGUsa3UpKXtjb25zdCBvPXIuZ2V0UHJvZ3JhbUluZm9Mb2coZSk7dChgRXJyb3IgaW4gcHJvZ3JhbSBsaW5raW5nOiAke299YCk7Y29uc3Qgcz1yLmdldEF0dGFjaGVkU2hhZGVycyhlKS5tYXAoYT0+a2MocixyLmdldFNoYWRlclBhcmFtZXRlcihhLHIuU0hBREVSX1RZUEUpLGEsdCkpO3JldHVybmAke299CiR7cy5maWx0ZXIoYT0+YSkuam9pbihgCmApfWB9fWZ1bmN0aW9uIHpjKHIsZSx0LG4sbyl7cmV0dXJuIFVjKHIsZSx0LG4sbyl9ZnVuY3Rpb24geW8ocil7Y29uc3QgZT1yLm5hbWU7cmV0dXJuIGUuc3RhcnRzV2l0aCgiZ2xfIil8fGUuc3RhcnRzV2l0aCgid2ViZ2xfIil9Y29uc3QgR2M9LyhcLnxcW3xdfFx3KykvZywkYz1yPT5yPj0iMCImJnI8PSI5IjtmdW5jdGlvbiBXYyhyLGUsdCxuKXtjb25zdCBvPXIuc3BsaXQoR2MpLmZpbHRlcihhPT5hIT09IiIpO2xldCBpPTAscz0iIjtmb3IoOzspe2NvbnN0IGE9b1tpKytdO3MrPWE7Y29uc3QgdT0kYyhhWzBdKSxmPXU/cGFyc2VJbnQoYSk6YTtpZih1JiYocys9b1tpKytdKSxpPT09by5sZW5ndGgpe3RbZl09ZTticmVha31lbHNle2NvbnN0IHA9b1tpKytdLGc9cD09PSJbIixiPXRbZl18fChnP1tdOnt9KTt0W2ZdPWIsdD1iLG5bc109bltzXXx8ZnVuY3Rpb24oaCl7cmV0dXJuIGZ1bmN0aW9uKHgpe2JvKGgseCl9fShiKSxzKz1wfX19ZnVuY3Rpb24gVmMocixlKXtsZXQgdD0wO2Z1bmN0aW9uIG4oYSx1LGYpe2NvbnN0IGQ9dS5uYW1lLmVuZHNXaXRoKCJbMF0iKSxwPXUudHlwZSxnPV9bcF07aWYoIWcpdGhyb3cgbmV3IEVycm9yKGB1bmtub3duIHR5cGU6IDB4JHtwLnRvU3RyaW5nKDE2KX1gKTtsZXQgYjtpZihnLmJpbmRQb2ludCl7Y29uc3QgaD10O3QrPXUuc2l6ZSxkP2I9Zy5hcnJheVNldHRlcihyLHAsaCxmLHUuc2l6ZSk6Yj1nLnNldHRlcihyLHAsaCxmLHUuc2l6ZSl9ZWxzZSBnLmFycmF5U2V0dGVyJiZkP2I9Zy5hcnJheVNldHRlcihyLGYpOmI9Zy5zZXR0ZXIocixmKTtyZXR1cm4gYi5sb2NhdGlvbj1mLGJ9Y29uc3Qgbz17fSxpPXt9LHM9ci5nZXRQcm9ncmFtUGFyYW1ldGVyKGUsSG4pO2ZvcihsZXQgYT0wO2E8czsrK2Epe2NvbnN0IHU9ci5nZXRBY3RpdmVVbmlmb3JtKGUsYSk7aWYoeW8odSkpY29udGludWU7bGV0IGY9dS5uYW1lO2YuZW5kc1dpdGgoIlswXSIpJiYoZj1mLnN1YnN0cigwLGYubGVuZ3RoLTMpKTtjb25zdCBkPXIuZ2V0VW5pZm9ybUxvY2F0aW9uKGUsdS5uYW1lKTtpZihkKXtjb25zdCBwPW4oZSx1LGQpO29bZl09cCxXYyhmLHAsaSxvKX19cmV0dXJuIG99ZnVuY3Rpb24gSGMocixlKXtjb25zdCB0PXt9LG49ci5nZXRQcm9ncmFtUGFyYW1ldGVyKGUsT3UpO2ZvcihsZXQgbz0wO288bjsrK28pe2NvbnN0IGk9ci5nZXRUcmFuc2Zvcm1GZWVkYmFja1ZhcnlpbmcoZSxvKTt0W2kubmFtZV09e2luZGV4Om8sdHlwZTppLnR5cGUsc2l6ZTppLnNpemV9fXJldHVybiB0fWZ1bmN0aW9uIGpjKHIsZSl7Y29uc3QgdD1yLmdldFByb2dyYW1QYXJhbWV0ZXIoZSxIbiksbj1bXSxvPVtdO2ZvcihsZXQgYT0wO2E8dDsrK2Epe28ucHVzaChhKSxuLnB1c2goe30pO2NvbnN0IHU9ci5nZXRBY3RpdmVVbmlmb3JtKGUsYSk7blthXS5uYW1lPXUubmFtZX1bWyJVTklGT1JNX1RZUEUiLCJ0eXBlIl0sWyJVTklGT1JNX1NJWkUiLCJzaXplIl0sWyJVTklGT1JNX0JMT0NLX0lOREVYIiwiYmxvY2tOZHgiXSxbIlVOSUZPUk1fT0ZGU0VUIiwib2Zmc2V0Il1dLmZvckVhY2goZnVuY3Rpb24oYSl7Y29uc3QgdT1hWzBdLGY9YVsxXTtyLmdldEFjdGl2ZVVuaWZvcm1zKGUsbyxyW3VdKS5mb3JFYWNoKGZ1bmN0aW9uKGQscCl7bltwXVtmXT1kfSl9KTtjb25zdCBpPXt9LHM9ci5nZXRQcm9ncmFtUGFyYW1ldGVyKGUsVXUpO2ZvcihsZXQgYT0wO2E8czsrK2Epe2NvbnN0IHU9ci5nZXRBY3RpdmVVbmlmb3JtQmxvY2tOYW1lKGUsYSksZj17aW5kZXg6ci5nZXRVbmlmb3JtQmxvY2tJbmRleChlLHUpLHVzZWRCeVZlcnRleFNoYWRlcjpyLmdldEFjdGl2ZVVuaWZvcm1CbG9ja1BhcmFtZXRlcihlLGEsTnUpLHVzZWRCeUZyYWdtZW50U2hhZGVyOnIuZ2V0QWN0aXZlVW5pZm9ybUJsb2NrUGFyYW1ldGVyKGUsYSxMdSksc2l6ZTpyLmdldEFjdGl2ZVVuaWZvcm1CbG9ja1BhcmFtZXRlcihlLGEsenUpLHVuaWZvcm1JbmRpY2VzOnIuZ2V0QWN0aXZlVW5pZm9ybUJsb2NrUGFyYW1ldGVyKGUsYSxHdSl9O2YudXNlZD1mLnVzZWRCeVZlcnRleFNoYWRlcnx8Zi51c2VkQnlGcmFnbWVudFNoYWRlcixpW3VdPWZ9cmV0dXJue2Jsb2NrU3BlY3M6aSx1bmlmb3JtRGF0YTpufX1mdW5jdGlvbiBibyhyLGUpe2Zvcihjb25zdCB0IGluIGUpe2NvbnN0IG49clt0XTt0eXBlb2Ygbj09ImZ1bmN0aW9uIj9uKGVbdF0pOmJvKHJbdF0sZVt0XSl9fWZ1bmN0aW9uIHhvKHIsLi4uZSl7Y29uc3QgdD1yLnVuaWZvcm1TZXR0ZXJzfHxyLG49ZS5sZW5ndGg7Zm9yKGxldCBvPTA7bzxuOysrbyl7Y29uc3QgaT1lW29dO2lmKEFycmF5LmlzQXJyYXkoaSkpe2NvbnN0IHM9aS5sZW5ndGg7Zm9yKGxldCBhPTA7YTxzOysrYSl4byh0LGlbYV0pfWVsc2UgZm9yKGNvbnN0IHMgaW4gaSl7Y29uc3QgYT10W3NdO2EmJmEoaVtzXSl9fX1mdW5jdGlvbiBZYyhyLGUpe2NvbnN0IHQ9e30sbj1yLmdldFByb2dyYW1QYXJhbWV0ZXIoZSxNdSk7Zm9yKGxldCBvPTA7bzxuOysrbyl7Y29uc3QgaT1yLmdldEFjdGl2ZUF0dHJpYihlLG8pO2lmKHlvKGkpKWNvbnRpbnVlO2NvbnN0IHM9ci5nZXRBdHRyaWJMb2NhdGlvbihlLGkubmFtZSksYT1QW2kudHlwZV0sdT1hLnNldHRlcihyLHMsYSk7dS5sb2NhdGlvbj1zLHRbaS5uYW1lXT11fXJldHVybiB0fWZ1bmN0aW9uIFhjKHIsZSl7Zm9yKGNvbnN0IHQgaW4gZSl7Y29uc3Qgbj1yW3RdO24mJm4oZVt0XSl9fWZ1bmN0aW9uIFFjKHIsZSx0KXt0LnZlcnRleEFycmF5T2JqZWN0P3IuYmluZFZlcnRleEFycmF5KHQudmVydGV4QXJyYXlPYmplY3QpOihYYyhlLmF0dHJpYlNldHRlcnN8fGUsdC5hdHRyaWJzKSx0LmluZGljZXMmJnIuYmluZEJ1ZmZlcihGdSx0LmluZGljZXMpKX1mdW5jdGlvbiBfbyhyLGUpe2NvbnN0IHQ9VmMocixlKSxuPVljKHIsZSksbz17cHJvZ3JhbTplLHVuaWZvcm1TZXR0ZXJzOnQsYXR0cmliU2V0dGVyczpufTtyZXR1cm4gVmUocikmJihvLnVuaWZvcm1CbG9ja1NwZWM9amMocixlKSxvLnRyYW5zZm9ybUZlZWRiYWNrSW5mbz1IYyhyLGUpKSxvfWNvbnN0IHFjPS9cc3x7fH18Oy87ZnVuY3Rpb24gS2MocixlLHQsbixvKXtjb25zdCBpPWtyKHQsbixvKSxzPVtdO2lmKGU9ZS5tYXAoZnVuY3Rpb24oZil7aWYoIXFjLnRlc3QoZikpe2NvbnN0IGQ9Vm4oZik7aWYoZClmPWQudGV4dDtlbHNle2NvbnN0IHA9YG5vIGVsZW1lbnQgd2l0aCBpZDogJHtmfWA7aS5lcnJvckNhbGxiYWNrKHApLHMucHVzaChwKX19cmV0dXJuIGZ9KSxzLmxlbmd0aClyZXR1cm4gUGMoaSwiIik7Y29uc3QgYT1pLmNhbGxiYWNrO2EmJihpLmNhbGxiYWNrPShmLGQpPT57YShmLGY/dm9pZCAwOl9vKHIsZCkpfSk7Y29uc3QgdT16YyhyLGUsaSk7cmV0dXJuIHU/X28ocix1KTpudWxsfWNvbnN0IEpjPTQsdm89NTEyMztmdW5jdGlvbiBaYyhyLGUsdCxuLG8saSl7dD10PT09dm9pZCAwP0pjOnQ7Y29uc3Qgcz1lLmluZGljZXMsYT1lLmVsZW1lbnRUeXBlLHU9bj09PXZvaWQgMD9lLm51bUVsZW1lbnRzOm47bz1vPT09dm9pZCAwPzA6byxhfHxzP2khPT12b2lkIDA/ci5kcmF3RWxlbWVudHNJbnN0YW5jZWQodCx1LGE9PT12b2lkIDA/dm86ZS5lbGVtZW50VHlwZSxvLGkpOnIuZHJhd0VsZW1lbnRzKHQsdSxhPT09dm9pZCAwP3ZvOmUuZWxlbWVudFR5cGUsbyk6aSE9PXZvaWQgMD9yLmRyYXdBcnJheXNJbnN0YW5jZWQodCxvLHUsaSk6ci5kcmF3QXJyYXlzKHQsbyx1KX1jb25zdCBFbz0zNjE2MCxVdD0zNjE2MSxlZj0zNTUzLHRmPTUxMjEscmY9NjQwMixuZj02NDA4LG9mPTMzMTkwLHNmPTM2MDEyLGFmPTM1MDU2LHVmPTM2MDEzLGNmPTMyODU0LGZmPTMyODU1LGxmPTM2MTk0LFRvPTMzMTg5LHdvPTY0MDEsQW89MzYxNjgsRHI9MzQwNDEsQ3I9MzYwNjQsTnQ9MzYwOTYsSW89MzYxMjgsQnI9MzMzMDYsTXI9MzMwNzEsT3I9OTcyOSxkZj1be2Zvcm1hdDpuZix0eXBlOnRmLG1pbjpPcix3cmFwOk1yfSx7Zm9ybWF0OkRyfV0sWT17fTtZW0RyXT1CcixZW3dvXT1JbyxZW0FvXT1JbyxZW3JmXT1OdCxZW1RvXT1OdCxZW29mXT1OdCxZW3NmXT1OdCxZW2FmXT1CcixZW3VmXT1CcjtmdW5jdGlvbiBoZihyLGUpe3JldHVybiBZW3JdfHxZW2VdfWNvbnN0IGZlPXt9O2ZlW2NmXT0hMCxmZVtmZl09ITAsZmVbbGZdPSEwLGZlW0RyXT0hMCxmZVtUb109ITAsZmVbd29dPSEwLGZlW0FvXT0hMDtmdW5jdGlvbiBtZihyKXtyZXR1cm4gZmVbcl19Y29uc3QgcGY9MzI7ZnVuY3Rpb24gZ2Yocil7cmV0dXJuIHI+PUNyJiZyPENyK3BmfWZ1bmN0aW9uIEx0KHIsZSx0LG4pe2NvbnN0IG89RW8saT1yLmNyZWF0ZUZyYW1lYnVmZmVyKCk7ci5iaW5kRnJhbWVidWZmZXIobyxpKSx0PXR8fHIuZHJhd2luZ0J1ZmZlcldpZHRoLG49bnx8ci5kcmF3aW5nQnVmZmVySGVpZ2h0LGU9ZXx8ZGY7Y29uc3Qgcz1bXSxhPXtmcmFtZWJ1ZmZlcjppLGF0dGFjaG1lbnRzOltdLHdpZHRoOnQsaGVpZ2h0Om59O3JldHVybiBlLmZvckVhY2goZnVuY3Rpb24odSxmKXtsZXQgZD11LmF0dGFjaG1lbnQ7Y29uc3QgcD11LnNhbXBsZXMsZz11LmZvcm1hdDtsZXQgYj11LmF0dGFjaG1lbnRQb2ludHx8aGYoZyx1LmludGVybmFsRm9ybWF0KTtpZihifHwoYj1DcitmKSxnZihiKSYmcy5wdXNoKGIpLCFkKWlmKHAhPT12b2lkIDB8fG1mKGcpKWQ9ci5jcmVhdGVSZW5kZXJidWZmZXIoKSxyLmJpbmRSZW5kZXJidWZmZXIoVXQsZCkscD4xP3IucmVuZGVyYnVmZmVyU3RvcmFnZU11bHRpc2FtcGxlKFV0LHAsZyx0LG4pOnIucmVuZGVyYnVmZmVyU3RvcmFnZShVdCxnLHQsbik7ZWxzZXtjb25zdCBoPU9iamVjdC5hc3NpZ24oe30sdSk7aC53aWR0aD10LGguaGVpZ2h0PW4saC5hdXRvPT09dm9pZCAwJiYoaC5hdXRvPSExLGgubWluPWgubWlufHxoLm1pbk1hZ3x8T3IsaC5tYWc9aC5tYWd8fGgubWluTWFnfHxPcixoLndyYXBTPWgud3JhcFN8fGgud3JhcHx8TXIsaC53cmFwVD1oLndyYXBUfHxoLndyYXB8fE1yKSxkPVduKHIsaCl9aWYod3MocixkKSlyLmZyYW1lYnVmZmVyUmVuZGVyYnVmZmVyKG8sYixVdCxkKTtlbHNlIGlmKGRyKHIsZCkpdS5sYXllciE9PXZvaWQgMD9yLmZyYW1lYnVmZmVyVGV4dHVyZUxheWVyKG8sYixkLHUubGV2ZWx8fDAsdS5sYXllcik6ci5mcmFtZWJ1ZmZlclRleHR1cmUyRChvLGIsdS50YXJnZXR8fGVmLGQsdS5sZXZlbHx8MCk7ZWxzZSB0aHJvdyBuZXcgRXJyb3IoInVua25vd24gYXR0YWNobWVudCB0eXBlIik7YS5hdHRhY2htZW50cy5wdXNoKGQpfSksci5kcmF3QnVmZmVycyYmci5kcmF3QnVmZmVycyhzKSxhfWZ1bmN0aW9uIHlmKHIsZSx0KXt0PXR8fEVvLGU/KHIuYmluZEZyYW1lYnVmZmVyKHQsZS5mcmFtZWJ1ZmZlciksci52aWV3cG9ydCgwLDAsZS53aWR0aCxlLmhlaWdodCkpOihyLmJpbmRGcmFtZWJ1ZmZlcih0LG51bGwpLHIudmlld3BvcnQoMCwwLHIuZHJhd2luZ0J1ZmZlcldpZHRoLHIuZHJhd2luZ0J1ZmZlckhlaWdodCkpfWZ1bmN0aW9uIEkocixlKXtyZXR1cm4oKT0+ZSBpbnN0YW5jZW9mIFdlYkdMVGV4dHVyZT9lOlduKHIse3NyYzplLHdyYXA6ci5DTEFNUF9UT19FREdFfSl9Y29uc3QgT2U9MjtjbGFzcyBFZXtjb25zdHJ1Y3RvcihlKXtsKHRoaXMsImlkIiwiXyIpO2wodGhpcywiY29udGV4dCIpO2wodGhpcywib3V0cHV0Iik7bCh0aGlzLCJmYmkiKTtsKHRoaXMsIm9wdGlvbnMiKTtsKHRoaXMsInByb2dyYW1JbmZvIik7bCh0aGlzLCJidWZmZXJJbmZvIik7bCh0aGlzLCJwcm9maWxlciIpO2wodGhpcywibGFzdFJ1biIpO2NvbnN0e2NvbnRleHQ6dCx3aWR0aDpuLGhlaWdodDpvfT1lO3RoaXMuY29udGV4dD10LHRoaXMub3B0aW9ucz1lO2NvbnN0IGk9dGhpcy5idWlsZERlZmluZXMoKTt0aGlzLnByb2dyYW1JbmZvPUtjKHRoaXMuY29udGV4dCxbaSt0aGlzLmdldFZlcnRleFNoYWRlcigpLGkrdGhpcy5nZXRGcmFnbWVudFNoYWRlcigpXSksdGhpcy5idWZmZXJJbmZvPVhzKHRoaXMuY29udGV4dCx0aGlzLmdldEJ1ZmZlcnMoKSksdGhpcy5mYmk9THQodGhpcy5jb250ZXh0LFt7Zm9ybWF0OnRoaXMuY29udGV4dC5SR0JBLHR5cGU6dGhpcy5jb250ZXh0LlVOU0lHTkVEX0JZVEUsbWluOnRoaXMuY29udGV4dC5MSU5FQVIsd3JhcDp0aGlzLmNvbnRleHQuQ0xBTVBfVE9fRURHRX1dLG4sbyksdGhpcy5vdXRwdXQ9dGhpcy5mYmkuYXR0YWNobWVudHNbMF19cmVzaXplT3V0cHV0KGUsdCl7dGhpcy5mYmk9THQodGhpcy5jb250ZXh0LFt7Zm9ybWF0OnRoaXMuY29udGV4dC5SR0JBLHR5cGU6dGhpcy5jb250ZXh0LlVOU0lHTkVEX0JZVEUsbWluOnRoaXMuY29udGV4dC5MSU5FQVIsd3JhcDp0aGlzLmNvbnRleHQuQ0xBTVBfVE9fRURHRX1dLGUsdCksdGhpcy5vcHRpb25zLndpZHRoPWUsdGhpcy5vcHRpb25zLmhlaWdodD10LHRoaXMub3V0cHV0PXRoaXMuZmJpLmF0dGFjaG1lbnRzWzBdfWdldERlZmluZXMoKXtyZXR1cm57fX1nZXRCdWZmZXJzKCl7cmV0dXJue3Bvc2l0aW9uOntudW1Db21wb25lbnRzOjIsZGF0YTpbLTEsLTEsLTEsMSwxLC0xLDEsMSwtMSwxLDEsLTFdfSx0ZXh0dXJlX2Nvb3JkOntudW1Db21wb25lbnRzOjIsZGF0YTpbMCwwLDAsMSwxLDAsMSwxLDAsMSwxLDBdfX19YnVpbGREZWZpbmVzKCl7bGV0IGU9IiI7Y29uc3QgdD10aGlzLmdldERlZmluZXMoKTtmb3IobGV0IG4gaW4gdCllKz1gI2RlZmluZSAke259ICR7dFtuXS50b0ZpeGVkKDEpfQpgO3JldHVybiBlfXJ1bihlKXt2YXIgbyxpLHMsYSx1LGY7KG89dGhpcy5wcm9maWxlcik9PW51bGx8fG8ucHVzaENvbnRleHQoYFske3RoaXMuaWR9XSBQUk9HIDogJHt0aGlzLmNvbnN0cnVjdG9yLm5hbWV9YCksKGk9dGhpcy5wcm9maWxlcik9PW51bGx8fGkucHVzaENvbnRleHQoYFske3RoaXMuaWR9XSBVTklGT1JNU2ApO2Zvcihjb25zdCBkIGluIGUpdHlwZW9mIGVbZF09PSJmdW5jdGlvbiImJigocz10aGlzLnByb2ZpbGVyKT09bnVsbHx8cy5wdXNoQ29udGV4dChgWyR7dGhpcy5pZH1dIFVOSSA6ICR7ZH1gKSxlW2RdPWVbZF0oKSwoYT10aGlzLnByb2ZpbGVyKT09bnVsbHx8YS5wb3BDb250ZXh0KGBbJHt0aGlzLmlkfV0gVU5JIDogJHtkfWApKTsodT10aGlzLnByb2ZpbGVyKT09bnVsbHx8dS5wb3BDb250ZXh0KGBbJHt0aGlzLmlkfV0gVU5JRk9STVNgKTtjb25zdCB0PURhdGUubm93KCk7bGV0IG49MDt0aGlzLmxhc3RSdW4mJihuPSh0LXRoaXMubGFzdFJ1bikvMWUzKSx0aGlzLmxhc3RSdW49dCx0aGlzLmNvbnRleHQudmlld3BvcnQoMCwwLHRoaXMuY29udGV4dC5jYW52YXMud2lkdGgsdGhpcy5jb250ZXh0LmNhbnZhcy5oZWlnaHQpLHRoaXMuY29udGV4dC51c2VQcm9ncmFtKHRoaXMucHJvZ3JhbUluZm8ucHJvZ3JhbSksUWModGhpcy5jb250ZXh0LHRoaXMucHJvZ3JhbUluZm8sdGhpcy5idWZmZXJJbmZvKSx4byh0aGlzLnByb2dyYW1JbmZvLHtkZWx0YTpuLGNhbnZhczpbdGhpcy5jb250ZXh0LmNhbnZhcy53aWR0aCx0aGlzLmNvbnRleHQuY2FudmFzLmhlaWdodF0sLi4uZX0pLHlmKHRoaXMuY29udGV4dCx0aGlzLm9wdGlvbnMuZGlzYWJsZUZyYW1lYnVmZmVyP251bGw6dGhpcy5mYmkpLFpjKHRoaXMuY29udGV4dCx0aGlzLmJ1ZmZlckluZm8pLChmPXRoaXMucHJvZmlsZXIpPT1udWxsfHxmLnBvcENvbnRleHQoYFske3RoaXMuaWR9XSBQUk9HIDogJHt0aGlzLmNvbnN0cnVjdG9yLm5hbWV9YCl9c2V0UHJvZmlsZXIoZSl7dGhpcy5wcm9maWxlcj1lfX12YXIgYmY9YHByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwoKdmFyeWluZyB2ZWMyIF90ZXh0dXJlX2Nvb3JkOwoKdW5pZm9ybSBzYW1wbGVyMkQgYmFja2dyb3VuZDsKdW5pZm9ybSBzYW1wbGVyMkQgZm9yZWdyb3VuZDsKdW5pZm9ybSBzYW1wbGVyMkQgdGhyZXNob2xkOwoKdm9pZCBtYWluKCkgewogIHZlYzQgYmFja2dyb3VuZENvbG9yID0gdGV4dHVyZTJEKGJhY2tncm91bmQsIF90ZXh0dXJlX2Nvb3JkKTsKICB2ZWM0IGZvcmVncm91bmRDb2xvciA9IHRleHR1cmUyRChmb3JlZ3JvdW5kLCBfdGV4dHVyZV9jb29yZCk7CiAgdmVjNCB0cmVzaG9sZENvbG9yID0gdGV4dHVyZTJEKHRocmVzaG9sZCwgX3RleHR1cmVfY29vcmQpOwogIGdsX0ZyYWdDb2xvciA9IGZvcmVncm91bmRDb2xvciAqIHRyZXNob2xkQ29sb3IuYSArCiAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yICogKDEuIC0gdHJlc2hvbGRDb2xvci5hKTsKfQpgLHhmPWB2YXJ5aW5nIHZlYzIgX3RleHR1cmVfY29vcmQ7CgphdHRyaWJ1dGUgdmVjMiBwb3NpdGlvbjsKYXR0cmlidXRlIHZlYzIgdGV4dHVyZV9jb29yZDsKCnZvaWQgbWFpbigpIHsKICBnbF9Qb3NpdGlvbiA9IHZlYzQocG9zaXRpb24sIDAuLCAxLik7CiAgX3RleHR1cmVfY29vcmQgPSB0ZXh0dXJlX2Nvb3JkOwogIF90ZXh0dXJlX2Nvb3JkLnkgPSAxLiAtIHRleHR1cmVfY29vcmQueTsKfQpgO2NsYXNzIFVyIGV4dGVuZHMgRWV7Z2V0RnJhZ21lbnRTaGFkZXIoKXtyZXR1cm4gYmZ9Z2V0VmVydGV4U2hhZGVyKCl7cmV0dXJuIHhmfX1jbGFzcyBOcntjb25zdHJ1Y3Rvcigpe2wodGhpcywic3RlcHMiLFtdKTtsKHRoaXMsInByb2ZpbGVyIil9YWRkU3RlcChlKXt0aGlzLnN0ZXBzLnB1c2goZSl9YXN5bmMgcnVuKCl7Zm9yKGNvbnN0IGUgb2YgdGhpcy5zdGVwcyllLnByb2dyYW0ucnVuKGUuZ2V0VW5pZm9ybXMoKSl9cmVzaXplT3V0cHV0KGUsdCl7dmFyIG4sbzsobj10aGlzLnByb2ZpbGVyKT09bnVsbHx8bi5wdXNoQ29udGV4dChgUElQIFske3RoaXMuY29uc3RydWN0b3IubmFtZX1dYCk7Zm9yKGNvbnN0IGkgb2YgdGhpcy5zdGVwcylpLnByZXZlbnRSZXNpemV8fGkucHJvZ3JhbS5yZXNpemVPdXRwdXQoZSx0KTsobz10aGlzLnByb2ZpbGVyKT09bnVsbHx8by5wb3BDb250ZXh0KGBQSVAgWyR7dGhpcy5jb25zdHJ1Y3Rvci5uYW1lfV1gKX1zZXRQcm9maWxlcihlKXt0aGlzLnByb2ZpbGVyPWU7Zm9yKGNvbnN0IHQgb2YgdGhpcy5zdGVwcyl0LnByb2dyYW0uc2V0UHJvZmlsZXIoZSl9c2V0SWQoZSl7Zm9yKGNvbnN0IHQgb2YgdGhpcy5zdGVwcyl0LnByb2dyYW0uaWQ9ZX19Y2xhc3MgTHIgZXh0ZW5kcyBOcntjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyk7bCh0aGlzLCJwcmVjaXNlTWFza0VuYWJsZWQiLCExKX19Y2xhc3MgU28gZXh0ZW5kcyBMcntjb25zdHJ1Y3Rvcih0KXtzdXBlcigpO2wodGhpcywiaW5wdXRJbWFnZSIpO2wodGhpcywiaW5wdXRCYWNrZ3JvdW5kSW1hZ2UiKTtsKHRoaXMsImlucHV0TWFzayIpO2wodGhpcywicHJlY2lzZU1hc2tFbmFibGVkIiwhMCk7dGhpcy5jb250ZXh0PXQ7Y29uc3Qgbj17Y29udGV4dDp0LGhlaWdodDp0LmNhbnZhcy5oZWlnaHQsd2lkdGg6dC5jYW52YXMud2lkdGh9LG89bmV3IFVyKHsuLi5uLGRpc2FibGVGcmFtZWJ1ZmZlcjohMH0pO3RoaXMuYWRkU3RlcCh7cHJvZ3JhbTpvLGdldFVuaWZvcm1zOigpPT4oe2JhY2tncm91bmQ6SSh0LHRoaXMuaW5wdXRCYWNrZ3JvdW5kSW1hZ2UpLGZvcmVncm91bmQ6SSh0LHRoaXMuaW5wdXRJbWFnZSksdGhyZXNob2xkOkkodCx0aGlzLmlucHV0TWFzayl9KX0pfXNldERhdGEodCxuKXt0aGlzLmlucHV0SW1hZ2U9dCx0aGlzLmlucHV0TWFzaz1ufX12YXIgX2Y9YHByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwoKdmFyeWluZyB2ZWMyIF90ZXh0dXJlX2Nvb3JkOwp1bmlmb3JtIHNhbXBsZXIyRCB0ZXh0dXJlOwoKdm9pZCBtYWluKCkgeyBnbF9GcmFnQ29sb3IgPSB0ZXh0dXJlMkQodGV4dHVyZSwgX3RleHR1cmVfY29vcmQpOyB9CmAsdmY9YHZhcnlpbmcgdmVjMiBfdGV4dHVyZV9jb29yZDsKCmF0dHJpYnV0ZSB2ZWMyIHBvc2l0aW9uOwphdHRyaWJ1dGUgdmVjMiB0ZXh0dXJlX2Nvb3JkOwp1bmlmb3JtIGJvb2wgaW52ZXJ0X3k7Cgp2b2lkIG1haW4oKSB7CiAgZ2xfUG9zaXRpb24gPSB2ZWM0KHBvc2l0aW9uLCAwLiwgMS4pOwogIF90ZXh0dXJlX2Nvb3JkID0gdGV4dHVyZV9jb29yZDsKICBpZiAoaW52ZXJ0X3kpIHsKICAgIF90ZXh0dXJlX2Nvb3JkLnkgPSAxLiAtIHRleHR1cmVfY29vcmQueTsKICB9Cn0KYDtjbGFzcyBFZiBleHRlbmRzIEVle2dldEZyYWdtZW50U2hhZGVyKCl7cmV0dXJuIF9mfWdldFZlcnRleFNoYWRlcigpe3JldHVybiB2Zn19Y2xhc3MgVGYgZXh0ZW5kcyBOcntjb25zdHJ1Y3Rvcih0LG4sbyl7c3VwZXIoKTtsKHRoaXMsImlucHV0SW1hZ2UiKTt0aGlzLmNvbnRleHQ9dDtjb25zdCBpPXtjb250ZXh0OnQsaGVpZ2h0Om8sd2lkdGg6bn07dGhpcy5hZGRTdGVwKHtwcm9ncmFtOm5ldyBFZih7Li4uaSxkaXNhYmxlRnJhbWVidWZmZXI6ITB9KSxnZXRVbmlmb3JtczooKT0+KHt0ZXh0dXJlOkkodCx0aGlzLmlucHV0SW1hZ2UpLGludmVydF95OiEwfSl9KX1zZXREYXRhKHQpe3RoaXMuaW5wdXRJbWFnZT10fX1hc3luYyBmdW5jdGlvbiBSbyhyKXtyZXR1cm4gbmV3IFByb21pc2UoZT0+e3NldFRpbWVvdXQoKCk9PntlKCl9LHIpfSl9dmFyIHdmPWBwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDsKCnZhcnlpbmcgdmVjMiBfdGV4dHVyZV9jb29yZDsKCnVuaWZvcm0gdmVjMiBjYW52YXM7CnVuaWZvcm0gc2FtcGxlcjJEIHRleHR1cmU7Cgp2ZWM0IGxvb3AoKTsKCnZvaWQgbWFpbigpIHsgZ2xfRnJhZ0NvbG9yID0gbG9vcCgpOyB9CmAsQWY9YHZhcnlpbmcgdmVjMiBfdGV4dHVyZV9jb29yZDsKCmF0dHJpYnV0ZSB2ZWMyIHBvc2l0aW9uOwphdHRyaWJ1dGUgdmVjMiB0ZXh0dXJlX2Nvb3JkOwoKdm9pZCBtYWluKCkgewogIGdsX1Bvc2l0aW9uID0gdmVjNChwb3NpdGlvbiwgMC4sIDEuKTsKICBfdGV4dHVyZV9jb29yZCA9IHRleHR1cmVfY29vcmQ7Cn0KYCx6cj0ocj0+KHJbci5MSU5FQVI9MF09IkxJTkVBUiIscltyLkdBVVNTSUFOPTFdPSJHQVVTU0lBTiIscikpKHpyfHx7fSk7Y2xhc3MgRm8gZXh0ZW5kcyBFZXtnZXREZWZpbmVzKCl7dmFyIGU7cmV0dXJue1JBRElVUzooZT10aGlzLm9wdGlvbnMucmFkaXVzKSE9bnVsbD9lOjF9fWdldEZyYWdtZW50U2hhZGVyKCl7cmV0dXJuIHdmK3RoaXMuY3JlYXRlTG9vcEZ1bmN0aW9uKCl9Z2V0VmVydGV4U2hhZGVyKCl7cmV0dXJuIEFmfWNyZWF0ZUxvb3BGdW5jdGlvbigpe3ZhciB0O2xldCBlPSh0PXRoaXMub3B0aW9ucy5yYWRpdXMpIT1udWxsP3Q6MTtyZXR1cm5gCgogICAgICAgIHZlYzQgbG9vcCgpIHsgCiAgICAgICAgICAgIHZlYzQgcmVzdWx0ID0gdmVjNCgwLDAsMCwwKTsKICAgICAgICAgICAgZmxvYXQgZmFjdG9yU3VtID0gMC47CgogICAgICAgICAgICB2ZWMyIG5vcm1hbGl6ZWRSYWRpdXMgPSB2ZWMyKC0ke2V9LikgLyBjYW52YXM7CiAgICAgICAgICAgIHZlYzIgbm9ybWFsaXplZEluY3JlbWVudCA9IHZlYzIoMS4pIC8gY2FudmFzOwogICAgICAgICAgICB2ZWMyIGRpZmYgPSBub3JtYWxpemVkUmFkaXVzOwoKICAgICAgICAgICAgZm9yKGludCB5PS0ke2V9OyB5PCR7ZSsxfTsgKyt5KSB7CiAgICAgICAgICAgICAgICBmb3IoaW50IHg9LSR7ZX07IHg8JHtlKzF9OyArK3gpIHsKICAgICAgICAgICAgICAgICAgICBmbG9hdCBmYWN0b3IgPSAxLjsKICAgICAgICAgICAgICAgICAgICByZXN1bHQgKz0gZmFjdG9yICogdGV4dHVyZTJEKHRleHR1cmUsIF90ZXh0dXJlX2Nvb3JkICsgZGlmZik7CiAgICAgICAgICAgICAgICAgICAgZmFjdG9yU3VtICs9IGZhY3RvcjsKICAgICAgICAgICAgICAgICAgICBkaWZmLnggKz0gbm9ybWFsaXplZEluY3JlbWVudC54OwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZGlmZi55ICs9IG5vcm1hbGl6ZWRJbmNyZW1lbnQueTsKICAgICAgICAgICAgICAgIGRpZmYueCA9IG5vcm1hbGl6ZWRSYWRpdXMueDsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gcmVzdWx0IC8gZmFjdG9yU3VtOwogICAgICAgIH1gfWdldEZhY3RvcihlLHQpe3N3aXRjaCh0aGlzLm9wdGlvbnMudHlwZSl7Y2FzZSAxOnJldHVybiB0aGlzLmdldExpbmVhckZhY3RvcihlLHQpO2Nhc2UgMDpkZWZhdWx0OnJldHVybiB0aGlzLmdldExpbmVhckZhY3RvcihlLHQpfX1nZXRMaW5lYXJGYWN0b3IoZSx0KXtyZXR1cm4gMX1nZXRHYXVzc2lhbkZhY3RvcihlLHQpe3ZhciB1O2NvbnN0IG49TWF0aC5QSSoyLG89TWF0aC5tYXgoKHU9dGhpcy5vcHRpb25zLnJhZGl1cykhPW51bGw/dToxLDEpLGk9MS8obipvKioyKSxzPS0oZSoqMit0KioyKSxhPWkqcztyZXR1cm4gaSpNYXRoLkUqKmF9fWNsYXNzIEdyIGV4dGVuZHMgRWV7Y29uc3RydWN0b3IodCl7c3VwZXIodCk7bCh0aGlzLCJmYmkyIik7dGhpcy5mYmkyPUx0KHQuY29udGV4dCxbe2Zvcm1hdDp0LmNvbnRleHQuUkdCQSx0eXBlOnQuY29udGV4dC5VTlNJR05FRF9CWVRFLG1pbjp0LmNvbnRleHQuTElORUFSLG1hZzp0LmNvbnRleHQuTElORUFSLHdyYXA6dC5jb250ZXh0LkNMQU1QX1RPX0VER0V9XSx0LndpZHRoLHQuaGVpZ2h0KX1ydW4odCl7Y29uc3Qgbj10aGlzLmZiaTt0aGlzLmZiaT10aGlzLmZiaTIsdGhpcy5mYmkyPW4sdGhpcy5vdXRwdXQ9dGhpcy5mYmkuYXR0YWNobWVudHNbMF0sc3VwZXIucnVuKHsuLi50LHByZXZpb3VzX3JlbmRlcmluZzp0aGlzLmZiaTIuYXR0YWNobWVudHNbMF19KX1yZXNpemVPdXRwdXQodCxuKXtzdXBlci5yZXNpemVPdXRwdXQodCxuKSx0aGlzLmZiaTI9THQodGhpcy5jb250ZXh0LFt7Zm9ybWF0OnRoaXMuY29udGV4dC5SR0JBLHR5cGU6dGhpcy5jb250ZXh0LlVOU0lHTkVEX0JZVEUsbWluOnRoaXMuY29udGV4dC5MSU5FQVIsd3JhcDp0aGlzLmNvbnRleHQuQ0xBTVBfVE9fRURHRX1dLHQsbil9fXZhciBJZj1gcHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7Cgp2YXJ5aW5nIHZlYzIgX3RleHR1cmVfY29vcmQ7CgovLyB1bmlmb3JtIGZsb2F0IHRyZXNob2xkOwp1bmlmb3JtIHNhbXBsZXIyRCBpbWFnZV9ub3c7CnVuaWZvcm0gc2FtcGxlcjJEIGltYWdlX2JlZm9yZTsKdW5pZm9ybSBzYW1wbGVyMkQgbWFza19ub3c7CnVuaWZvcm0gc2FtcGxlcjJEIG1hc2tfYmVmb3JlOwp1bmlmb3JtIHNhbXBsZXIyRCBwcmV2aW91c19yZW5kZXJpbmc7CnVuaWZvcm0gdmVjMiBjYW52YXM7Cgp1bmlmb3JtIGZsb2F0IGRlbHRhOwoKZmxvYXQgY3VycmVudF9mYWN0b3IgPSAwLjY5OwpmbG9hdCBwcmV2aW91c19mYWN0b3IgPSAwLjc0OwpmbG9hdCB0aHJlc2hvbGRfYWN0aXZhdGlvbiA9IDAuNTQ7CgpmbG9hdCBtYXAoZmxvYXQgdmFsdWUsIGZsb2F0IG1pbjEsIGZsb2F0IG1heDEsIGZsb2F0IG1pbjIsIGZsb2F0IG1heDIpIHsKICByZXR1cm4gbWluMiArICh2YWx1ZSAtIG1pbjEpICogKG1heDIgLSBtaW4yKSAvIChtYXgxIC0gbWluMSk7Cn0KCmZsb2F0IGdldFRocmVzaG9sZCgpIHsKICB2ZWM0IGNvbG9yID0gdmVjNCgwLik7CiAgZm9yIChmbG9hdCB5ID0gLTYuOyB5IDwgNy47IHkgKz0gMS4pIHsKICAgIGZvciAoZmxvYXQgeCA9IC02LjsgeCA8IDcuOyB4ICs9IDEuKSB7CiAgICAgIHZlYzQgaW1hZ2Vfbm93X2NvbG9yID0KICAgICAgICAgIHRleHR1cmUyRChpbWFnZV9ub3csIF90ZXh0dXJlX2Nvb3JkICsgdmVjMih4LCB5KSAvIGNhbnZhcyk7CiAgICAgIHZlYzQgaW1hZ2VfYmVmb3JlX2NvbG9yID0KICAgICAgICAgIHRleHR1cmUyRChpbWFnZV9iZWZvcmUsIF90ZXh0dXJlX2Nvb3JkICsgdmVjMih4LCB5KSAvIGNhbnZhcyk7CiAgICAgIGNvbG9yICs9IGFicyhpbWFnZV9iZWZvcmVfY29sb3IgLSBpbWFnZV9ub3dfY29sb3IpOwogICAgfQogIH0KICByZXR1cm4gKGNvbG9yLnggKyBjb2xvci55ICsgY29sb3IueikgLyAoMy4gKiA5Lik7Cn0KCnZvaWQgbWFpbigpIHsKICBmbG9hdCB0cmVzaG9sZF9pbnB1dCA9IC40OwogIGZsb2F0IHRyZXNob2xkX3ByZXZpb3VzX3JlbmRlcmluZyA9IC45ODsKCiAgdmVjNCBtYXNrX25vd19jb2xvciA9IHRleHR1cmUyRChtYXNrX25vdywgX3RleHR1cmVfY29vcmQpOwogIHZlYzQgbWFza19iZWZvcmVfY29sb3IgPSB0ZXh0dXJlMkQobWFza19iZWZvcmUsIF90ZXh0dXJlX2Nvb3JkKTsKICB2ZWM0IHByZXZpb3VzX3JlbmRlcmluZ19jb2xvciA9IHRleHR1cmUyRChwcmV2aW91c19yZW5kZXJpbmcsIF90ZXh0dXJlX2Nvb3JkKTsKCiAgdmVjMyBtYXNrX2RpZmYgPSBhYnMobWFza19iZWZvcmVfY29sb3IueHl6IC0gbWFza19ub3dfY29sb3IueHl6KTsKICBmbG9hdCBmbGlja2VyaW5nID0gbWFza19kaWZmLng7CiAgZmxvYXQgdGhyZXNob2xkID0gZ2V0VGhyZXNob2xkKCk7CiAgaWYgKHRocmVzaG9sZCA8IHRocmVzaG9sZF9hY3RpdmF0aW9uKSB7CiAgICBnbF9GcmFnQ29sb3IgPSB2ZWM0KGZsaWNrZXJpbmcsIDAuLCAwLiwgMS4pICogY3VycmVudF9mYWN0b3IgKwogICAgICAgICAgICAgICAgICAgcHJldmlvdXNfcmVuZGVyaW5nX2NvbG9yICogcHJldmlvdXNfZmFjdG9yOwogICAgZ2xfRnJhZ0NvbG9yICo9ICgxLiAtIHRocmVzaG9sZCk7CiAgfQp9CmAsU2Y9YHZhcnlpbmcgdmVjMiBfdGV4dHVyZV9jb29yZDsKCmF0dHJpYnV0ZSB2ZWMyIHBvc2l0aW9uOwphdHRyaWJ1dGUgdmVjMiB0ZXh0dXJlX2Nvb3JkOwoKdm9pZCBtYWluKCkgewogIGdsX1Bvc2l0aW9uID0gdmVjNChwb3NpdGlvbiwgMC4sIDEuKTsKICBfdGV4dHVyZV9jb29yZCA9IHRleHR1cmVfY29vcmQ7Cn0KYDtjbGFzcyBSZiBleHRlbmRzIEdye2dldEZyYWdtZW50U2hhZGVyKCl7cmV0dXJuIElmfWdldFZlcnRleFNoYWRlcigpe3JldHVybiBTZn19dmFyIEZmPWAjdmVyc2lvbiAzMDAgZXMKLy8gaHR0cHM6Ly9naXRodWIuY29tL1ZvbGNvbWl4L3ZpcnR1YWwtYmFja2dyb3VuZC9ibG9iL21haW4vc3JjL3BpcGVsaW5lcy93ZWJnbDIvam9pbnRCaWxhdGVyYWxGaWx0ZXJTdGFnZS50cwoKcHJlY2lzaW9uIGhpZ2hwIGZsb2F0Owp1bmlmb3JtIHNhbXBsZXIyRCBpbnB1dF9mcmFtZTsKdW5pZm9ybSBzYW1wbGVyMkQgc2VnbWVudGF0aW9uX21hc2s7CnVuaWZvcm0gc2FtcGxlcjJEIHRocmVzaG9sZDsKdW5pZm9ybSB2ZWMyIHRleGVsX3NpemU7CnVuaWZvcm0gZmxvYXQgc3RlcDsKdW5pZm9ybSBmbG9hdCByYWRpdXM7CnVuaWZvcm0gZmxvYXQgb2Zmc2V0Owp1bmlmb3JtIGZsb2F0IHNpZ21hX3RleGVsOwp1bmlmb3JtIGZsb2F0IHNpZ21hX2NvbG9yOwoKaW4gdmVjMiBfdGV4dHVyZV9jb29yZDsKb3V0IHZlYzQgb3V0Q29sb3I7CgpmbG9hdCBnYXVzc2lhbihmbG9hdCB4LCBmbG9hdCBzaWdtYSkgewogIGZsb2F0IGNvZWZmID0gLTAuNSAvIChzaWdtYSAqIHNpZ21hICogNC4wICsgMS4wZS02KTsKICByZXR1cm4gZXhwKCh4ICogeCkgKiBjb2VmZik7Cn0KCnZvaWQgbWFpbigpIHsKICB2ZWMyIGNlbnRlckNvb3JkID0gX3RleHR1cmVfY29vcmQ7CiAgdmVjMyBjZW50ZXJDb2xvciA9IHRleHR1cmUoaW5wdXRfZnJhbWUsIGNlbnRlckNvb3JkKS5yZ2I7CiAgZmxvYXQgbmV3VmFsID0gMC4wOwogIGZsb2F0IHNwYWNlV2VpZ2h0ID0gMC4wOwogIGZsb2F0IGNvbG9yV2VpZ2h0ID0gMC4wOwogIGZsb2F0IHRvdGFsV2VpZ2h0ID0gMC4wOwogIC8vIFN1YnNhbXBsZSBrZXJuZWwgc3BhY2UuCiAgZm9yIChmbG9hdCBpID0gLXJhZGl1cyArIG9mZnNldDsgaSA8PSByYWRpdXM7IGkgKz0gc3RlcCkgewogICAgZm9yIChmbG9hdCBqID0gLXJhZGl1cyArIG9mZnNldDsgaiA8PSByYWRpdXM7IGogKz0gc3RlcCkgewogICAgICB2ZWMyIHNoaWZ0ID0gdmVjMihqLCBpKSAqIHRleGVsX3NpemU7CiAgICAgIHZlYzIgY29vcmQgPSB2ZWMyKGNlbnRlckNvb3JkICsgc2hpZnQpOwogICAgICB2ZWMzIGZyYW1lQ29sb3IgPSB0ZXh0dXJlKGlucHV0X2ZyYW1lLCBjb29yZCkucmdiOwogICAgICBmbG9hdCB0aHJlc2hvbGQgPSB0ZXh0dXJlKHRocmVzaG9sZCwgY29vcmQpLmE7CiAgICAgIGZsb2F0IG91dFZhbCA9IHRleHR1cmUoc2VnbWVudGF0aW9uX21hc2ssIGNvb3JkKS5hOwoKICAgICAgc3BhY2VXZWlnaHQgPSBnYXVzc2lhbihkaXN0YW5jZShjZW50ZXJDb29yZCwgY29vcmQpLCBzaWdtYV90ZXhlbCk7CiAgICAgIGNvbG9yV2VpZ2h0ID0gZ2F1c3NpYW4oZGlzdGFuY2UoY2VudGVyQ29sb3IsIGZyYW1lQ29sb3IpLCBzaWdtYV9jb2xvcik7CiAgICAgIHRvdGFsV2VpZ2h0ICs9IHNwYWNlV2VpZ2h0ICogY29sb3JXZWlnaHQ7CiAgICAgIG5ld1ZhbCArPSBzcGFjZVdlaWdodCAqIGNvbG9yV2VpZ2h0ICogb3V0VmFsICogdGhyZXNob2xkOwogICAgfQogIH0KICBuZXdWYWwgLz0gdG90YWxXZWlnaHQ7CiAgb3V0Q29sb3IgPSB2ZWM0KHZlYzMoMC4pLCBuZXdWYWwpOwp9YCxQZj1gI3ZlcnNpb24gMzAwIGVzCmluIHZlYzIgcG9zaXRpb247CmluIHZlYzIgdGV4dHVyZV9jb29yZDsKb3V0IHZlYzIgX3RleHR1cmVfY29vcmQ7CnZvaWQgbWFpbigpIHsKICBnbF9Qb3NpdGlvbiA9IHZlYzQocG9zaXRpb24sIDAuMCwgMS4wKTsKICBfdGV4dHVyZV9jb29yZCA9IHRleHR1cmVfY29vcmQ7Cn1gO2NsYXNzIGtmIGV4dGVuZHMgRWV7Z2V0RnJhZ21lbnRTaGFkZXIoKXtyZXR1cm4gRmZ9Z2V0VmVydGV4U2hhZGVyKCl7cmV0dXJuIFBmfX12YXIgRGY9YHByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwoKdmFyeWluZyB2ZWMyIF90ZXh0dXJlX2Nvb3JkOwoKdW5pZm9ybSB2ZWMyIGNhbnZhczsKdW5pZm9ybSBzYW1wbGVyMkQgdGV4dHVyZTsKCnZvaWQgbWFpbigpIHsKICBpbnQgY291bnQgPSAwOwogIGZvciAoZmxvYXQgeSA9IC0xLjsgeSA8IDIuOyB5ICs9IDEuKSB7CiAgICBmb3IgKGZsb2F0IHggPSAtMS47IHggPCAyLjsgeCArPSAxLikgewogICAgICB2ZWMyIGNvb3JkID0gX3RleHR1cmVfY29vcmQgKyB2ZWMyKHksIHgpIC8gY2FudmFzOwogICAgICB2ZWM0IGNvbG9yID0gdGV4dHVyZTJEKHRleHR1cmUsIGNvb3JkKTsKICAgICAgaWYgKGNvbG9yLnIgPiAuMSkgewogICAgICAgIGNvdW50Kys7CiAgICAgIH0KICAgIH0KICB9CiAgaWYgKGNvdW50ID4gNSkgewogICAgZ2xfRnJhZ0NvbG9yID0gdGV4dHVyZTJEKHRleHR1cmUsIF90ZXh0dXJlX2Nvb3JkKTsKICB9Cn0KYCxDZj1gdmFyeWluZyB2ZWMyIF90ZXh0dXJlX2Nvb3JkOwoKYXR0cmlidXRlIHZlYzIgcG9zaXRpb247CmF0dHJpYnV0ZSB2ZWMyIHRleHR1cmVfY29vcmQ7Cgp2b2lkIG1haW4oKSB7CiAgZ2xfUG9zaXRpb24gPSB2ZWM0KHBvc2l0aW9uLCAwLiwgMS4pOwogIF90ZXh0dXJlX2Nvb3JkID0gdGV4dHVyZV9jb29yZDsKfQpgO2NsYXNzIEJmIGV4dGVuZHMgRWV7Z2V0RnJhZ21lbnRTaGFkZXIoKXtyZXR1cm4gRGZ9Z2V0VmVydGV4U2hhZGVyKCl7cmV0dXJuIENmfX12YXIgTWY9YHByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwoKdmFyeWluZyB2ZWMyIF90ZXh0dXJlX2Nvb3JkOwoKdW5pZm9ybSB2ZWMyIGNhbnZhczsKdW5pZm9ybSBzYW1wbGVyMkQgdGV4dHVyZTsKCnZvaWQgbWFpbigpIHsKICB2ZWM0IGNvbG9yID0gdGV4dHVyZTJEKHRleHR1cmUsIF90ZXh0dXJlX2Nvb3JkKTsKICBmb3IgKGZsb2F0IHkgPSAtMi47IHkgPCAzLjsgeSArPSAxLikgewogICAgZm9yIChmbG9hdCB4ID0gLTIuOyB4IDwgMy47IHggKz0gMS4pIHsKICAgICAgdmVjMiBjb29yZCA9IF90ZXh0dXJlX2Nvb3JkOwogICAgICBjb29yZCArPSB2ZWMyKHksIHgpIC8gY2FudmFzOwogICAgICBjb2xvciArPSB0ZXh0dXJlMkQodGV4dHVyZSwgY29vcmQpICogKDEuIC8gNC4pOwogICAgfQogIH0KCiAgZ2xfRnJhZ0NvbG9yID0gY29sb3I7Cn0KYCxPZj1gdmFyeWluZyB2ZWMyIF90ZXh0dXJlX2Nvb3JkOwoKYXR0cmlidXRlIHZlYzIgcG9zaXRpb247CmF0dHJpYnV0ZSB2ZWMyIHRleHR1cmVfY29vcmQ7Cgp2b2lkIG1haW4oKSB7CiAgZ2xfUG9zaXRpb24gPSB2ZWM0KHBvc2l0aW9uLCAwLiwgMS4pOwogIF90ZXh0dXJlX2Nvb3JkID0gdGV4dHVyZV9jb29yZDsKfQpgO2NsYXNzIFVmIGV4dGVuZHMgR3J7Z2V0RnJhZ21lbnRTaGFkZXIoKXtyZXR1cm4gTWZ9Z2V0VmVydGV4U2hhZGVyKCl7cmV0dXJuIE9mfX12YXIgTmY9YHByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwoKdmFyeWluZyB2ZWMyIF90ZXh0dXJlX2Nvb3JkOwoKdW5pZm9ybSBzYW1wbGVyMkQgdGhyZXNob2xkOwp1bmlmb3JtIHNhbXBsZXIyRCBpbnB1dHM7Cgp2b2lkIG1haW4oKSB7CiAgdmVjNCBpbnB1dHNfY29sb3IgPSB0ZXh0dXJlMkQoaW5wdXRzLCBfdGV4dHVyZV9jb29yZCk7CiAgdmVjNCB0aHJlc2hvbGRfY29sb3IgPSB0ZXh0dXJlMkQodGhyZXNob2xkLCBfdGV4dHVyZV9jb29yZCk7CiAgaWYgKHRocmVzaG9sZF9jb2xvci5yIDwgLjEgJiYgaW5wdXRzX2NvbG9yLnIgPiAuNSkgewogICAgZ2xfRnJhZ0NvbG9yID0gaW5wdXRzX2NvbG9yOwogIH0KfQpgLExmPWB2YXJ5aW5nIHZlYzIgX3RleHR1cmVfY29vcmQ7CgphdHRyaWJ1dGUgdmVjMiBwb3NpdGlvbjsKYXR0cmlidXRlIHZlYzIgdGV4dHVyZV9jb29yZDsKCnZvaWQgbWFpbigpIHsKICBnbF9Qb3NpdGlvbiA9IHZlYzQocG9zaXRpb24sIDAuLCAxLik7CiAgX3RleHR1cmVfY29vcmQgPSB0ZXh0dXJlX2Nvb3JkOwp9CmA7Y2xhc3MgemYgZXh0ZW5kcyBHcntnZXRGcmFnbWVudFNoYWRlcigpe3JldHVybiBOZn1nZXRWZXJ0ZXhTaGFkZXIoKXtyZXR1cm4gTGZ9fWNsYXNzIEdmIGV4dGVuZHMgTnJ7Y29uc3RydWN0b3IodCxuLG8pe3N1cGVyKCk7bCh0aGlzLCJpbnB1dEltYWdlIik7bCh0aGlzLCJpbnB1dE1hc2siKTtsKHRoaXMsInByZXZpb3VzSW5wdXRJbWFnZSIpO2wodGhpcywicHJldmlvdXNJbnB1dE1hc2siKTtsKHRoaXMsIm91dHB1dCIpO2wodGhpcywib3B0aW9ucyIse2N1cnJlbnRUaHJlc2hvbGRNaW5pbXVtOjAsY3VycmVudFRocmVzaG9sZE1heGltdW06MSxwcmV2aW91c1RocmVzaG9sZE1pbmltdW06MCxwcmV2aW91c1RocmVzaG9sZE1heGltdW06MSx0aHJlc2hvbGRNaW5pbXVtOjAsdGhyZXNob2xkTWF4aW11bToxLHRocmVzaG9sZEZhY3RvcjoxfSk7bCh0aGlzLCJqb2ludEJpbGF0ZXJhbCIpO3RoaXMuY29udGV4dD10O2NvbnN0IGk9e2NvbnRleHQ6dCxoZWlnaHQ6byx3aWR0aDpufSxzPW5ldyBSZihpKSxhPW5ldyBGbyh7Li4uaSxyYWRpdXM6MSx0eXBlOnpyLkdBVVNTSUFOfSksdT1uZXcgemYoaSksZj1uZXcgVWYoaSksZD1uZXcgQmYoaSk7dGhpcy5qb2ludEJpbGF0ZXJhbD1uZXcga2YoaSksdGhpcy5hZGRTdGVwKHtwcm9ncmFtOnMsZ2V0VW5pZm9ybXM6KCk9Pih7aW1hZ2Vfbm93OkkodCx0aGlzLmlucHV0SW1hZ2UpLGltYWdlX2JlZm9yZTpJKHQsdGhpcy5wcmV2aW91c0lucHV0SW1hZ2UpLG1hc2tfbm93OkkodCx0aGlzLmlucHV0TWFzayksbWFza19iZWZvcmU6SSh0LHRoaXMucHJldmlvdXNJbnB1dE1hc2spLGN1cnJlbnRfdGhyZXNob2xkX21pbmltdW06dGhpcy5vcHRpb25zLmN1cnJlbnRUaHJlc2hvbGRNaW5pbXVtLGN1cnJlbnRfdGhyZXNob2xkX21heGltdW06dGhpcy5vcHRpb25zLmN1cnJlbnRUaHJlc2hvbGRNYXhpbXVtLHByZXZpb3VzX3RocmVzaG9sZF9taW5pbXVtOnRoaXMub3B0aW9ucy5wcmV2aW91c1RocmVzaG9sZE1pbmltdW0scHJldmlvdXNfdGhyZXNob2xkX21heGltdW06dGhpcy5vcHRpb25zLnByZXZpb3VzVGhyZXNob2xkTWF4aW11bSx0aHJlc2hvbGRfbWluaW11bTp0aGlzLm9wdGlvbnMudGhyZXNob2xkTWluaW11bSx0aHJlc2hvbGRfbWF4aW11bTp0aGlzLm9wdGlvbnMudGhyZXNob2xkTWF4aW11bSx0aHJlc2hvbGRfZmFjdG9yOnRoaXMub3B0aW9ucy50aHJlc2hvbGRGYWN0b3J9KX0pLHRoaXMuYWRkU3RlcCh7cHJvZ3JhbTp1LGdldFVuaWZvcm1zOigpPT4oe2lucHV0czpJKHQsdGhpcy5pbnB1dE1hc2spLHRocmVzaG9sZDpJKHQscy5vdXRwdXQpfSl9KSx0aGlzLmFkZFN0ZXAoe3Byb2dyYW06ZCxnZXRVbmlmb3JtczooKT0+KHt0ZXh0dXJlOkkodCx1Lm91dHB1dCl9KX0pLHRoaXMuYWRkU3RlcCh7cHJvZ3JhbTpmLGdldFVuaWZvcm1zOigpPT4oe3RleHR1cmU6SSh0LGQub3V0cHV0KX0pfSksdGhpcy5hZGRTdGVwKHtwcm9ncmFtOmEsZ2V0VW5pZm9ybXM6KCk9Pih7dGV4dHVyZTpJKHQsZi5vdXRwdXQpfSl9KSx0aGlzLmFkZFN0ZXAoe3Byb2dyYW06dGhpcy5qb2ludEJpbGF0ZXJhbCxnZXRVbmlmb3JtczooKT0+e3ZhciBHLHosSCwkLEtlLFRlLGxlLFc7Y29uc3QgZz0oej0oRz10aGlzLmlucHV0SW1hZ2UpPT1udWxsP3ZvaWQgMDpHLndpZHRoKSE9bnVsbD96OjEsYj0oJD0oSD10aGlzLmlucHV0SW1hZ2UpPT1udWxsP3ZvaWQgMDpILmhlaWdodCkhPW51bGw/JDoxLGg9KFRlPShLZT10aGlzLmlucHV0TWFzayk9PW51bGw/dm9pZCAwOktlLndpZHRoKSE9bnVsbD9UZToxLHg9KFc9KGxlPXRoaXMuaW5wdXRNYXNrKT09bnVsbD92b2lkIDA6bGUuaGVpZ2h0KSE9bnVsbD9XOjEsRT1NYXRoLm1heChnL2gsYi94KSx2PU1hdGgubWF4KDEsTWF0aC5zcXJ0KEUpKi42NiksRj0xL2csaz0xL2I7cmV0dXJue2lucHV0X2ZyYW1lOkkodCx0aGlzLmlucHV0SW1hZ2UpLHNlZ21lbnRhdGlvbl9tYXNrOkkodCx0aGlzLmlucHV0TWFzayksdGhyZXNob2xkOkkodCxhLm91dHB1dCksdGV4ZWxfc2l6ZTpbRixrXSxzdGVwOnYscmFkaXVzOkUsb2Zmc2V0OnY+MT92Ki41OjAsc2lnbWFfdGV4ZWw6TWF0aC5tYXgoRixrKSpFLHNpZ21hX2NvbG9yOi4xfX19KSx0aGlzLm91dHB1dD10aGlzLmpvaW50QmlsYXRlcmFsLm91dHB1dH1zZXREYXRhKHQsbil7dGhpcy5wcmV2aW91c0lucHV0SW1hZ2U9dGhpcy5pbnB1dEltYWdlP3RoaXMuaW5wdXRJbWFnZTp0LHRoaXMucHJldmlvdXNJbnB1dE1hc2s9dGhpcy5pbnB1dE1hc2s/dGhpcy5pbnB1dE1hc2s6bix0aGlzLmlucHV0SW1hZ2U9dCx0aGlzLmlucHV0TWFzaz1ufXNldE9wdGlvbnModCl7dGhpcy5vcHRpb25zPXR9cmVzaXplT3V0cHV0KHQsbil7c3VwZXIucmVzaXplT3V0cHV0KHQsbiksdGhpcy5vdXRwdXQ9dGhpcy5qb2ludEJpbGF0ZXJhbC5vdXRwdXR9fWNsYXNzICRme2NvbnN0cnVjdG9yKGUpe2wodGhpcywiY29udGV4dCIpO2wodGhpcywiZXh0ZW5zaW9uIik7bCh0aGlzLCJxdWVyaWVzIixbXSk7bCh0aGlzLCJhY3RpdmVRdWVyeSIpO3RoaXMuY29udGV4dD1lLHRoaXMuZXh0ZW5zaW9uPWUuZ2V0RXh0ZW5zaW9uKCJFWFRfZGlzam9pbnRfdGltZXJfcXVlcnlfd2ViZ2wyIil9c3RhcnQoKXt9c3RvcCgpe3RoaXMuYWN0aXZlUXVlcnkmJnRoaXMuY29udGV4dC5lbmRRdWVyeSh0aGlzLmV4dGVuc2lvbi5USU1FX0VMQVBTRURfRVhUKX1wdXNoQ29udGV4dChlKXt0aGlzLmNyZWF0ZVF1ZXJ5KCJQVVNIIixlKX1wb3BDb250ZXh0KGUpe3RoaXMuY3JlYXRlUXVlcnkoIlBPUCIsZSl9Y3JlYXRlUXVlcnkoZSx0KXt0aGlzLmFjdGl2ZVF1ZXJ5JiZ0aGlzLmNvbnRleHQuZW5kUXVlcnkodGhpcy5leHRlbnNpb24uVElNRV9FTEFQU0VEX0VYVCksdGhpcy5hY3RpdmVRdWVyeT10aGlzLmNvbnRleHQuY3JlYXRlUXVlcnkoKSx0aGlzLmNvbnRleHQuYmVnaW5RdWVyeSh0aGlzLmV4dGVuc2lvbi5USU1FX0VMQVBTRURfRVhULHRoaXMuYWN0aXZlUXVlcnkpLHRoaXMucXVlcmllcy5wdXNoKHtuYW1lOnQsYWN0aW9uOmUscXVlcnk6dGhpcy5hY3RpdmVRdWVyeX0pfWFzeW5jIGdldFJlc29sdmVkUXVlcmllcygpe2NvbnN0IGU9KGF3YWl0IFByb21pc2UuYWxsKFsuLi50aGlzLnF1ZXJpZXNdLm1hcCh0PT50aGlzLnJlc29sdmVRdWVyeSh0KSkpKS5maWx0ZXIodD0+dCk7Zm9yKGxldCB0PTE7dDxlLmxlbmd0aDsrK3QpZVt0XS50aW1lc3RhbXArPWVbdC0xXS5kdXJhdGlvbitlW3QtMV0udGltZXN0YW1wO3JldHVybiBlfWFzeW5jIHJlc29sdmVRdWVyeShlKXtpZighYXdhaXQgdGhpcy5hd2FpdFF1ZXJ5QXZhaWxhYmxlKGUpKXtjb25zb2xlLmxvZygiVW5hd2FpdGFibGUgcXVlcnkiLGUpO3JldHVybn1pZih0aGlzLmNvbnRleHQuZ2V0UGFyYW1ldGVyKHRoaXMuZXh0ZW5zaW9uLkdQVV9ESVNKT0lOVF9FWFQpKXtjb25zb2xlLmxvZygiRGlzam9pbnRlZCBxdWVyeSIsZSk7cmV0dXJufXJldHVybnsuLi5lLGR1cmF0aW9uOnRoaXMuY29udGV4dC5nZXRRdWVyeVBhcmFtZXRlcihlLnF1ZXJ5LHRoaXMuY29udGV4dC5RVUVSWV9SRVNVTFQpLHRpbWVzdGFtcDowfX1hc3luYyBhd2FpdFF1ZXJ5QXZhaWxhYmxlKGUpe2ZvcihsZXQgdD0wO3Q8MTA7Kyt0KXtpZih0aGlzLmNvbnRleHQuZ2V0UXVlcnlQYXJhbWV0ZXIoZS5xdWVyeSx0aGlzLmNvbnRleHQuUVVFUllfUkVTVUxUX0FWQUlMQUJMRSkpcmV0dXJuIGU7YXdhaXQgUm8oMjAwKX19fWNsYXNzIHp0e2NvbnN0cnVjdG9yKCl7bCh0aGlzLCJjYW52YXMiKTtsKHRoaXMsImNvbnRleHQiKTtsKHRoaXMsInBpcGVsaW5lIik7bCh0aGlzLCJwcmV2aW91c0ltYWdlV2lkdGgiLDApO2wodGhpcywicHJldmlvdXNJbWFnZUhlaWdodCIsMCk7bCh0aGlzLCJwcmV2aW91c01hc2tXaWR0aCIsT2UpO2wodGhpcywicHJldmlvdXNNYXNrSGVpZ2h0IixPZSk7bCh0aGlzLCJwcm9maWxlciIpO2wodGhpcywicG9zdFByb2Nlc3NpbmdFbmFibGVkIiwhMCk7bCh0aGlzLCJpbXByb3ZlTWFzayIpO2NvbnN0IGU9bmV3IE9mZnNjcmVlbkNhbnZhcygwLDApLHQ9ZS5nZXRDb250ZXh0KCJ3ZWJnbDIiKTtpZighdCl0aHJvdyJGYWlsIHRvIHJldHJpZXZlIHdlYmdsMiBjb250ZXh0Ijt0aGlzLmNhbnZhcz1lLHRoaXMuY29udGV4dD10LHRoaXMuaW1wcm92ZU1hc2s9bmV3IEdmKHRoaXMuY29udGV4dCxPZSxPZSl9c2V0RmxpY2tlcmluZ09wdGlvbnMoZSl7dGhpcy5pbXByb3ZlTWFzay5zZXRPcHRpb25zKGUpfWVuYWJsZVBvc3RQcm9jZXNzaW5nKCl7dGhpcy5wb3N0UHJvY2Vzc2luZ0VuYWJsZWQ9ITB9ZGlzYWJsZVBvc3RQcm9jZXNzaW5nKCl7dGhpcy5wb3N0UHJvY2Vzc2luZ0VuYWJsZWQ9ITF9YXN5bmMgcHJvZmlsZVdlYmdsKGUpe2NvbnN0IHQ9bmV3ICRmKHRoaXMuY29udGV4dCk7cmV0dXJuIHRoaXMucHJvZmlsZXI9dCx0LnN0YXJ0KCksYXdhaXQgUm8oZSksdGhpcy5wcm9maWxlcj12b2lkIDAsdC5zdG9wKCksdC5nZXRSZXNvbHZlZFF1ZXJpZXMoKX1hc3luYyByZW5kZXIoZSx0KXt2YXIgaSxzO2lmKCF0aGlzLnBpcGVsaW5lKXRocm93Im1pc3NpbmcgcGlwZWxpbmUiOyh0aGlzLnByZXZpb3VzSW1hZ2VIZWlnaHQhPT1lLmhlaWdodHx8dGhpcy5wcmV2aW91c0ltYWdlV2lkdGghPT1lLndpZHRoKSYmdGhpcy5yZXNpemVPdXRwdXQoZS53aWR0aCxlLmhlaWdodCksKHRoaXMucHJldmlvdXNNYXNrSGVpZ2h0IT09dC5oZWlnaHR8fHRoaXMucHJldmlvdXNNYXNrV2lkdGghPT10LndpZHRoKSYmKHRoaXMuaW1wcm92ZU1hc2sucmVzaXplT3V0cHV0KHQud2lkdGgsdC5oZWlnaHQpLHRoaXMucHJldmlvdXNNYXNrV2lkdGg9dC53aWR0aCx0aGlzLnByZXZpb3VzTWFza0hlaWdodD10LmhlaWdodCk7Y29uc3Qgbj0icmVuZGVyZXIiOyhpPXRoaXMucHJvZmlsZXIpPT1udWxsfHxpLnB1c2hDb250ZXh0KG4pLHRoaXMuaW1wcm92ZU1hc2suc2V0UHJvZmlsZXIodGhpcy5wcm9maWxlciksdGhpcy5waXBlbGluZS5zZXRQcm9maWxlcih0aGlzLnByb2ZpbGVyKTtsZXQgbz10O3JldHVybiB0aGlzLnBvc3RQcm9jZXNzaW5nRW5hYmxlZCYmKHRoaXMuaW1wcm92ZU1hc2suc2V0RGF0YShlLHQpLHRoaXMuaW1wcm92ZU1hc2sucnVuKCksbz10aGlzLmltcHJvdmVNYXNrLm91dHB1dCksdGhpcy5waXBlbGluZS5zZXREYXRhKGUsbyksYXdhaXQgdGhpcy5waXBlbGluZS5ydW4oKSwocz10aGlzLnByb2ZpbGVyKT09bnVsbHx8cy5wb3BDb250ZXh0KG4pLHRoaXMuY2FudmFzfXJlc2l6ZU91dHB1dChlLHQpe3ZhciBuO3RoaXMuY2FudmFzLndpZHRoPWUsdGhpcy5jYW52YXMuaGVpZ2h0PXQsKG49dGhpcy5waXBlbGluZSk9PW51bGx8fG4ucmVzaXplT3V0cHV0KGUsdCksdGhpcy5wcmV2aW91c0ltYWdlV2lkdGg9ZSx0aGlzLnByZXZpb3VzSW1hZ2VIZWlnaHQ9dH19Y2xhc3MgUG8gZXh0ZW5kcyB6dHtjb25zdHJ1Y3Rvcigpe3N1cGVyKCk7bCh0aGlzLCJwaXBlbGluZSIpO2wodGhpcywiYmFja2dyb3VuZEltYWdlIik7bCh0aGlzLCJiYWNrZ3JvdW5kSW1hZ2VSZXNpemVyQ2FudmFzIik7bCh0aGlzLCJiYWNrZ3JvdW5kSW1hZ2VSZXNpemVyQ29udGV4dCIpO2wodGhpcywiYmFja2dyb3VuZEltYWdlUmVzaXplciIpO3RoaXMucGlwZWxpbmU9bmV3IFNvKHRoaXMuY29udGV4dCk7Y29uc3QgdD1uZXcgT2Zmc2NyZWVuQ2FudmFzKDAsMCksbj10LmdldENvbnRleHQoIndlYmdsMiIpO2lmKCFuKXRocm93IkZhaWwgdG8gcmV0cmlldmUgd2ViZ2wgY29udGV4dCI7dGhpcy5iYWNrZ3JvdW5kSW1hZ2VSZXNpemVyQ2FudmFzPXQsdGhpcy5iYWNrZ3JvdW5kSW1hZ2VSZXNpemVyQ29udGV4dD1uLHRoaXMuYmFja2dyb3VuZEltYWdlUmVzaXplcj1uZXcgVGYodGhpcy5iYWNrZ3JvdW5kSW1hZ2VSZXNpemVyQ29udGV4dCwwLDApfXNldEJhY2tncm91bmRJbWFnZSh0KXt0aGlzLmJhY2tncm91bmRJbWFnZT10LHRoaXMudXBkYXRlQmFja2dyb3VuZEltYWdlKCl9dXBkYXRlQmFja2dyb3VuZEltYWdlKCl7Y29uc3R7d2lkdGg6dCxoZWlnaHQ6bn09dGhpcy5jYW52YXM7dGhpcy5iYWNrZ3JvdW5kSW1hZ2VSZXNpemVyLnJlc2l6ZU91dHB1dCh0LG4pLHRoaXMuYmFja2dyb3VuZEltYWdlUmVzaXplci5zZXREYXRhKHRoaXMuYmFja2dyb3VuZEltYWdlKSx0aGlzLmJhY2tncm91bmRJbWFnZVJlc2l6ZXIucnVuKCksdGhpcy5waXBlbGluZS5pbnB1dEJhY2tncm91bmRJbWFnZT10aGlzLmJhY2tncm91bmRJbWFnZVJlc2l6ZXJDYW52YXN9cmVzaXplT3V0cHV0KHQsbil7c3VwZXIucmVzaXplT3V0cHV0KHQsbiksdGhpcy5iYWNrZ3JvdW5kSW1hZ2VSZXNpemVyQ2FudmFzLndpZHRoPXQsdGhpcy5iYWNrZ3JvdW5kSW1hZ2VSZXNpemVyQ2FudmFzLmhlaWdodD1uLHRoaXMuYmFja2dyb3VuZEltYWdlUmVzaXplci5yZXNpemVPdXRwdXQodCxuKSx0aGlzLnVwZGF0ZUJhY2tncm91bmRJbWFnZSgpfX1jbGFzcyBXZiBleHRlbmRzIFBve2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKTtsKHRoaXMsImZyYW1lUmVhZGVyIil9c2V0QmFja2dyb3VuZFZpZGVvKHQpe3RoaXMuZnJhbWVSZWFkZXI9dH1hc3luYyByZW5kZXIodCxuKXtyZXR1cm4gYXdhaXQgdGhpcy5yZWFkTmV4dFZpZGVvRnJhbWUoKSxzdXBlci5yZW5kZXIodCxuKX1hc3luYyByZWFkTmV4dFZpZGVvRnJhbWUoKXt2YXIgbjtjb25zdCB0PWF3YWl0KChuPXRoaXMuZnJhbWVSZWFkZXIpPT1udWxsP3ZvaWQgMDpuLnJlYWQoKSk7aWYodCE9bnVsbCYmdC52YWx1ZSl7Y29uc3Qgbz1hd2FpdCBjcmVhdGVJbWFnZUJpdG1hcCh0LnZhbHVlKTt0aGlzLnNldEJhY2tncm91bmRJbWFnZShvKSx0LnZhbHVlLmNsb3NlKCl9fX1jbGFzcyBrb3tibHVyQmFja2dyb3VuZChlKXtyZXR1cm4gbmV3IGxzKGUpfWJsdXJTaWxob3VldHRlKGUpe3JldHVybiBuZXcgZHMoZSl9aW1hZ2VCYWNrZ3JvdW5kKCl7cmV0dXJuIG5ldyBoc312aWRlb0JhY2tncm91bmQoKXtyZXR1cm4gbmV3IFdmfX12YXIgVmY9YHByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwoKdmFyeWluZyB2ZWMyIF90ZXh0dXJlX2Nvb3JkOwoKdW5pZm9ybSB2ZWMyIGNhbnZhczsKdW5pZm9ybSBzYW1wbGVyMkQgdGV4dHVyZTsKdW5pZm9ybSBzYW1wbGVyMkQgbWFzazsKCnZlYzQgbG9vcCgpOwoKdm9pZCBtYWluKCkgeyBnbF9GcmFnQ29sb3IgPSBsb29wKCk7IH0KYCxIZj1gdmFyeWluZyB2ZWMyIF90ZXh0dXJlX2Nvb3JkOwoKYXR0cmlidXRlIHZlYzIgcG9zaXRpb247CmF0dHJpYnV0ZSB2ZWMyIHRleHR1cmVfY29vcmQ7Cgp2b2lkIG1haW4oKSB7CiAgZ2xfUG9zaXRpb24gPSB2ZWM0KHBvc2l0aW9uLCAwLiwgMS4pOwogIF90ZXh0dXJlX2Nvb3JkID0gdGV4dHVyZV9jb29yZDsKfQpgO2NsYXNzIGpmIGV4dGVuZHMgRWV7Z2V0RGVmaW5lcygpe3ZhciBlO3JldHVybntSQURJVVM6KGU9dGhpcy5vcHRpb25zLnJhZGl1cykhPW51bGw/ZToxfX1nZXRGcmFnbWVudFNoYWRlcigpe3JldHVybiBWZit0aGlzLmNyZWF0ZUxvb3BGdW5jdGlvbigpfWdldFZlcnRleFNoYWRlcigpe3JldHVybiBIZn1jcmVhdGVMb29wRnVuY3Rpb24oKXt2YXIgdDtsZXQgZT0odD10aGlzLm9wdGlvbnMucmFkaXVzKSE9bnVsbD90OjE7cmV0dXJuYAoKICAgICAgICB2ZWM0IGxvb3AoKSB7IAogICAgICAgICAgICB2ZWM0IHJlc3VsdCA9IHZlYzQoMCwwLDAsMCk7CiAgICAgICAgICAgIGZsb2F0IGZhY3RvclN1bSA9IDAuOwoKICAgICAgICAgICAgdmVjMiBub3JtYWxpemVkUmFkaXVzID0gdmVjMigtJHtlfS4pIC8gY2FudmFzOwogICAgICAgICAgICB2ZWMyIG5vcm1hbGl6ZWRJbmNyZW1lbnQgPSB2ZWMyKDEuKSAvIGNhbnZhczsKICAgICAgICAgICAgdmVjMiBkaWZmID0gbm9ybWFsaXplZFJhZGl1czsKICAgICAgICAgICAgZmxvYXQgbWF4TGVuZ3RoID0gbGVuZ3RoKG5vcm1hbGl6ZWRSYWRpdXMpOwoKICAgICAgICAgICAgZm9yKGludCB5PS0ke2V9OyB5PCR7ZSsxfTsgKyt5KSB7CiAgICAgICAgICAgICAgICBmb3IoaW50IHg9LSR7ZX07IHg8JHtlKzF9OyArK3gpIHsKICAgICAgICAgICAgICAgICAgICBmbG9hdCBmYWN0b3IgPSAoMS4tIHRleHR1cmUyRChtYXNrLCBfdGV4dHVyZV9jb29yZCArIGRpZmYpLmEpICogKG1heExlbmd0aCAtIGxlbmd0aChkaWZmKSkgLyBtYXhMZW5ndGg7CiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9IGZhY3RvciAqIHRleHR1cmUyRCh0ZXh0dXJlLCBfdGV4dHVyZV9jb29yZCArIGRpZmYpOwogICAgICAgICAgICAgICAgICAgIGZhY3RvclN1bSArPSBmYWN0b3I7CiAgICAgICAgICAgICAgICAgICAgZGlmZi54ICs9IG5vcm1hbGl6ZWRJbmNyZW1lbnQueDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGRpZmYueSArPSBub3JtYWxpemVkSW5jcmVtZW50Lnk7CiAgICAgICAgICAgICAgICBkaWZmLnggPSBub3JtYWxpemVkUmFkaXVzLng7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIHJlc3VsdCAvIGZhY3RvclN1bTsKICAgICAgICB9YH19Y29uc3QgWWY9MTAsWGY9MixRZj04O2NsYXNzIHFmIGV4dGVuZHMgTHJ7Y29uc3RydWN0b3IodCxuKXtzdXBlcigpO2wodGhpcywiaW5wdXRJbWFnZSIpO2wodGhpcywiaW5wdXRNYXNrIik7bCh0aGlzLCJibHVyIik7dGhpcy5jb250ZXh0PXQsdGhpcy5yYWRpdXM9bjtjb25zdCBvPXtjb250ZXh0OnQsaGVpZ2h0OnQuY2FudmFzLmhlaWdodCx3aWR0aDp0LmNhbnZhcy53aWR0aH07dGhpcy5ibHVyPW5ldyBqZih7Li4ubyxyYWRpdXM6biwuLi50aGlzLmdldEJsdXJUZXh0dXJlU2l6ZSh0LmNhbnZhcy53aWR0aCx0LmNhbnZhcy5oZWlnaHQpfSk7Y29uc3QgaT1uZXcgVXIoey4uLm8sZGlzYWJsZUZyYW1lYnVmZmVyOiEwfSk7dGhpcy5hZGRTdGVwKHtwcm9ncmFtOnRoaXMuYmx1cixwcmV2ZW50UmVzaXplOiEwLGdldFVuaWZvcm1zOigpPT4oe3RleHR1cmU6SSh0LHRoaXMuaW5wdXRJbWFnZSksbWFzazpJKHQsdGhpcy5pbnB1dE1hc2spfSl9KSx0aGlzLmFkZFN0ZXAoe3Byb2dyYW06aSxnZXRVbmlmb3JtczooKT0+KHtiYWNrZ3JvdW5kOkkodCx0aGlzLmJsdXIub3V0cHV0KSxmb3JlZ3JvdW5kOkkodCx0aGlzLmlucHV0SW1hZ2UpLHRocmVzaG9sZDpJKHQsdGhpcy5pbnB1dE1hc2spfSl9KX1nZXRCbHVyVGV4dHVyZVNpemUodCxuKXtjb25zdCBvPXRoaXMucmFkaXVzPllmP1FmOlhmO3JldHVybnt3aWR0aDpNYXRoLm1heChPZSx0L28pLGhlaWdodDpNYXRoLm1heChPZSxuL28pfX1zZXREYXRhKHQsbil7dGhpcy5pbnB1dEltYWdlPXQsdGhpcy5pbnB1dE1hc2s9bn1yZXNpemVPdXRwdXQodCxuKXtzdXBlci5yZXNpemVPdXRwdXQodCxuKTtjb25zdCBvPXRoaXMuZ2V0Qmx1clRleHR1cmVTaXplKHQsbik7dGhpcy5ibHVyLnJlc2l6ZU91dHB1dChvLndpZHRoLG8uaGVpZ2h0KX19Y2xhc3MgS2YgZXh0ZW5kcyB6dHtjb25zdHJ1Y3Rvcih0KXtzdXBlcigpO2wodGhpcywicGlwZWxpbmUiKTt0aGlzLnBpcGVsaW5lPW5ldyBxZih0aGlzLmNvbnRleHQsdCksdGhpcy5kaXNhYmxlUG9zdFByb2Nlc3NpbmcoKX19Y2xhc3MgSmYgZXh0ZW5kcyBMcntjb25zdHJ1Y3Rvcih0LG4pe3N1cGVyKCk7bCh0aGlzLCJpbnB1dEltYWdlIik7bCh0aGlzLCJpbnB1dE1hc2siKTt0aGlzLmNvbnRleHQ9dDtjb25zdCBvPXtjb250ZXh0OnQsaGVpZ2h0OnQuY2FudmFzLmhlaWdodCx3aWR0aDp0LmNhbnZhcy53aWR0aH0saT1uZXcgRm8oey4uLm8scmFkaXVzOm4sdHlwZTp6ci5HQVVTU0lBTn0pLHM9bmV3IFVyKHsuLi5vLGRpc2FibGVGcmFtZWJ1ZmZlcjohMH0pO3RoaXMuYWRkU3RlcCh7cHJvZ3JhbTppLGdldFVuaWZvcm1zOigpPT4oe3RleHR1cmU6SSh0LHRoaXMuaW5wdXRJbWFnZSl9KX0pLHRoaXMuYWRkU3RlcCh7cHJvZ3JhbTpzLGdldFVuaWZvcm1zOigpPT4oe2JhY2tncm91bmQ6SSh0LHRoaXMuaW5wdXRJbWFnZSksZm9yZWdyb3VuZDpJKHQsaS5vdXRwdXQpLHRocmVzaG9sZDpJKHQsdGhpcy5pbnB1dE1hc2spfSl9KX1zZXREYXRhKHQsbil7dGhpcy5pbnB1dEltYWdlPXQsdGhpcy5pbnB1dE1hc2s9bn19Y2xhc3MgWmYgZXh0ZW5kcyB6dHtjb25zdHJ1Y3Rvcih0KXtzdXBlcigpO2wodGhpcywicGlwZWxpbmUiKTt0aGlzLnBpcGVsaW5lPW5ldyBKZih0aGlzLmNvbnRleHQsdCksdGhpcy5kaXNhYmxlUG9zdFByb2Nlc3NpbmcoKX19Y2xhc3MgZWwgZXh0ZW5kcyBTb3tjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyk7bCh0aGlzLCJmcmFtZVJlYWRlciIpO2wodGhpcywicHJlY2lzZU1hc2tFbmFibGVkIiwhMCl9c2V0IHJlYWRlcih0KXt0aGlzLmZyYW1lUmVhZGVyPXR9YXN5bmMgcnVuKCl7dGhpcy5mcmFtZVJlYWRlciYmKGF3YWl0IHRoaXMucmVhZE5leHRWaWRlb0ZyYW1lKCksYXdhaXQgc3VwZXIucnVuKCkpfWFzeW5jIHJlYWROZXh0VmlkZW9GcmFtZSgpe3ZhciBuO2NvbnN0IHQ9YXdhaXQoKG49dGhpcy5mcmFtZVJlYWRlcik9PW51bGw/dm9pZCAwOm4ucmVhZCgpKTt0IT1udWxsJiZ0LnZhbHVlJiYodGhpcy5pbnB1dEJhY2tncm91bmRJbWFnZT1hd2FpdCBjcmVhdGVJbWFnZUJpdG1hcCh0LnZhbHVlKSx0LnZhbHVlLmNsb3NlKCkpfX1jbGFzcyB0bCBleHRlbmRzIHp0e2NvbnN0cnVjdG9yKCl7c3VwZXIoKTtsKHRoaXMsInBpcGVsaW5lIik7dGhpcy5waXBlbGluZT1uZXcgZWwodGhpcy5jb250ZXh0KX1zZXRCYWNrZ3JvdW5kVmlkZW8odCl7dGhpcy5waXBlbGluZS5yZWFkZXI9dH19Y2xhc3MgRG97Ymx1ckJhY2tncm91bmQoZSl7cmV0dXJuIG5ldyBLZihlKX1ibHVyU2lsaG91ZXR0ZShlKXtyZXR1cm4gbmV3IFpmKGUpfWltYWdlQmFja2dyb3VuZCgpe3JldHVybiBuZXcgUG99dmlkZW9CYWNrZ3JvdW5kKCl7cmV0dXJuIG5ldyB0bH19Y2xhc3Mgcmx7Y29uc3RydWN0b3IoZSl7bCh0aGlzLCJmYWN0b3J5Iik7c3dpdGNoKGUpe2Nhc2UgeXQuQ0FOVkFTOnRoaXMuZmFjdG9yeT1uZXcga287YnJlYWs7Y2FzZSB5dC5XRUJHTDp0aGlzLmZhY3Rvcnk9bmV3IERvO2JyZWFrO2RlZmF1bHQ6Y29uc3QgdD1mcygpO3RoaXMuZmFjdG9yeT10LnN1cHBvcnRlZD9uZXcgRG86bmV3IGtvfX1ibHVyQmFja2dyb3VuZChlKXtyZXR1cm4gdGhpcy5nZXRGYWN0b3J5KCkuYmx1ckJhY2tncm91bmQoZSl9Ymx1clNpbGhvdWV0dGUoZSl7cmV0dXJuIHRoaXMuZ2V0RmFjdG9yeSgpLmJsdXJTaWxob3VldHRlKGUpfWltYWdlQmFja2dyb3VuZCgpe3JldHVybiB0aGlzLmdldEZhY3RvcnkoKS5pbWFnZUJhY2tncm91bmQoKX12aWRlb0JhY2tncm91bmQoKXtyZXR1cm4gdGhpcy5nZXRGYWN0b3J5KCkudmlkZW9CYWNrZ3JvdW5kKCl9Z2V0RmFjdG9yeSgpe2lmKCF0aGlzLmZhY3RvcnkpdGhyb3ciRmFjdG9yeSBpcyBub3QgaW5pdGlhbGl6ZWQiO3JldHVybiB0aGlzLmZhY3Rvcnl9fWNsYXNzIG5se2NvbnN0cnVjdG9yKCl7bCh0aGlzLCJyZW5kZXJlciIpO2wodGhpcywiYmFja2dyb3VuZFZpZGVvIik7bCh0aGlzLCJiYWNrZ3JvdW5kSW1hZ2UiKX1zZXRCYWNrZ3JvdW5kT3B0aW9ucyhlKXt2YXIgbixvO2NvbnN0IHQ9bmV3IHJsKChuPWUucmVuZGVyaW5nT3B0aW9ucyk9PW51bGw/dm9pZCAwOm4udHlwZSk7c3dpdGNoKGUudHJhbnNmb3JtZXJUeXBlKXtjYXNlIkJhY2tncm91bmRCbHVyIjp0aGlzLnJlbmRlcmVyPXQuYmx1ckJhY2tncm91bmQodGhpcy5nZXRCbHVyU2l6ZShlLnJhZGl1cykpO2JyZWFrO2Nhc2UiU2lsaG91ZXR0ZUJsdXIiOnRoaXMucmVuZGVyZXI9dC5ibHVyU2lsaG91ZXR0ZSh0aGlzLmdldEJsdXJTaXplKGUucmFkaXVzKSk7YnJlYWs7Y2FzZSJWaWRlb0JhY2tncm91bmQiOmNvbnN0IGk9dC52aWRlb0JhY2tncm91bmQoKTt0aGlzLmJhY2tncm91bmRWaWRlbyYmaS5zZXRCYWNrZ3JvdW5kVmlkZW8odGhpcy5iYWNrZ3JvdW5kVmlkZW8pLHRoaXMucmVuZGVyZXI9aTticmVhaztjYXNlIlZpcnR1YWxCYWNrZ3JvdW5kIjpjb25zdCBzPXQuaW1hZ2VCYWNrZ3JvdW5kKCk7dGhpcy5iYWNrZ3JvdW5kSW1hZ2UmJnMuc2V0QmFja2dyb3VuZEltYWdlKHRoaXMuYmFja2dyb3VuZEltYWdlKSx0aGlzLnJlbmRlcmVyPXM7YnJlYWs7ZGVmYXVsdDp0aHJvd2BVbmtub3duIHJlbmRlcmluZyB0eXBlIFske2UudHJhbnNmb3JtZXJUeXBlfV1gfSgobz1lLnJlbmRlcmluZ09wdGlvbnMpPT1udWxsP3ZvaWQgMDpvLnR5cGUpPT09eXQuV0VCR0wmJihlLnJlbmRlcmluZ09wdGlvbnMuc2VsZmllU2VnbWVudGF0aW9uVHlwZT09PW5yLlBSRUNJU0U/dGhpcy5yZW5kZXJlci5lbmFibGVQb3N0UHJvY2Vzc2luZygpOmUucmVuZGVyaW5nT3B0aW9ucy5zZWxmaWVTZWdtZW50YXRpb25UeXBlPT09bnIuRkFTVCYmdGhpcy5yZW5kZXJlci5kaXNhYmxlUG9zdFByb2Nlc3NpbmcoKSl9c2V0RmxpY2tlcmluZ09wdGlvbnMoZSl7dmFyIHQ7KHQ9dGhpcy5yZW5kZXJlcik9PW51bGx8fHQuc2V0RmxpY2tlcmluZ09wdGlvbnMoZSl9c2V0VmlkZW9CR1JlYWRhYmxlKGUpe3RoaXMuYmFja2dyb3VuZFZpZGVvPWUuZ2V0UmVhZGVyKCk7Y29uc3QgdD10aGlzLnJlbmRlcmVyO3QhPW51bGwmJnQuc2V0QmFja2dyb3VuZFZpZGVvJiZ0LnNldEJhY2tncm91bmRWaWRlbyh0aGlzLmJhY2tncm91bmRWaWRlbyl9YXN5bmMgc2V0VmlydHVhbEJHSW1hZ2UoZSl7Y29uc3QgdD10aGlzLnJlbmRlcmVyO3QhPW51bGwmJnQuc2V0QmFja2dyb3VuZEltYWdlJiZ0LnNldEJhY2tncm91bmRJbWFnZShlKSx0aGlzLmJhY2tncm91bmRJbWFnZT1lfWFzeW5jIHByb2Nlc3MoZSx0KXtpZih0aGlzLnJlbmRlcmVyKXJldHVybiB0aGlzLnJlbmRlcmVyLnJlbmRlcihlLHQpfWFzeW5jIHJlc2l6ZUZvcmVncm91bmQoZSx0KXt9Z2V0Qmx1clNpemUoZT1ndC5Mb3cpe3N3aXRjaChlKXtjYXNlIGd0LkxvdzpyZXR1cm4gNTtjYXNlIGd0LkhpZ2g6cmV0dXJuIDEyfXJldHVybiBlfWFzeW5jIHByb2ZpbGUoZSl7dmFyIHQsbjtyZXR1cm4obj0odD10aGlzLnJlbmRlcmVyKT09bnVsbD92b2lkIDA6dC5wcm9maWxlV2ViZ2woZSkpIT1udWxsP246W119fWNsYXNzIG9se2NvbnN0cnVjdG9yKCl7bCh0aGlzLCJzZWxmaWVTZWdtZW50YXRpb24iLG5ldyBjcyk7bCh0aGlzLCJiYWNrZ3JvdW5kRmlsdGVyIik7bCh0aGlzLCJyZXBvcnRlciIsbmV3IHJzKTtsKHRoaXMsImlzRW5hYmxlZCIsITApO2wodGhpcywiYmFja2dyb3VuZE9wdGlvbnMiKX1hc3luYyBpbml0KGUsdCl7YXdhaXQgdGhpcy5zZWxmaWVTZWdtZW50YXRpb24uaW5pdCh0Lndhc21Bc3NldFVyaVBhdGgsdC50ZmxpdGVBc3NldFVyaVBhdGgpLHRoaXMuYmFja2dyb3VuZEZpbHRlcj1uZXcgbmwsdGhpcy5yZXBvcnQoe3ZhcmlhdGlvbjoiQ3JlYXRlIn0pfWFzeW5jIHRyYW5zZm9ybShlLHQpe3ZhciBhLHU7aWYoIXRoaXMuaXNFbmFibGVkKXJldHVybiB0LmVucXVldWUoZSk7bGV0IG47Y29uc3Qgbz0oYT1lLnRpbWVzdGFtcCkhPW51bGw/YTowLGk9YXdhaXQgY3JlYXRlSW1hZ2VCaXRtYXAoZSkscz1hd2FpdCB0aGlzLnNlbGZpZVNlZ21lbnRhdGlvbi5wcm9jZXNzKGkpO3MmJihuPWF3YWl0KCh1PXRoaXMuYmFja2dyb3VuZEZpbHRlcik9PW51bGw/dm9pZCAwOnUucHJvY2VzcyhpLHMpKSksbj8oZS5jbG9zZSgpLHQuZW5xdWV1ZShuZXcgVmlkZW9GcmFtZShuLHt0aW1lc3RhbXA6byxhbHBoYToiZGlzY2FyZCJ9KSkpOnQuZW5xdWV1ZShlKX1hc3luYyBzZXRCYWNrZ3JvdW5kT3B0aW9ucyhlKXt2YXIgdDt0aGlzLmJhY2tncm91bmRPcHRpb25zPWUsYXdhaXQoKHQ9dGhpcy5iYWNrZ3JvdW5kRmlsdGVyKT09bnVsbD92b2lkIDA6dC5zZXRCYWNrZ3JvdW5kT3B0aW9ucyhlKSksdGhpcy5yZXBvcnQoe3ZhcmlhdGlvbjoiVXBkYXRlIn0pfWFzeW5jIHNldFZpZGVvQkdSZWFkYWJsZShlKXt2YXIgdDthd2FpdCgodD10aGlzLmJhY2tncm91bmRGaWx0ZXIpPT1udWxsP3ZvaWQgMDp0LnNldFZpZGVvQkdSZWFkYWJsZShlKSl9YXN5bmMgc2V0VmlydHVhbEJHSW1hZ2UoZSl7dmFyIHQ7YXdhaXQoKHQ9dGhpcy5iYWNrZ3JvdW5kRmlsdGVyKT09bnVsbD92b2lkIDA6dC5zZXRWaXJ0dWFsQkdJbWFnZShlKSl9c2V0RmxpY2tlcmluZ09wdGlvbnMoZSl7dmFyIHQ7KHQ9dGhpcy5iYWNrZ3JvdW5kRmlsdGVyKT09bnVsbHx8dC5zZXRGbGlja2VyaW5nT3B0aW9ucyhlKSx0aGlzLnJlcG9ydCh7dmFyaWF0aW9uOiJVcGRhdGUifSl9YXN5bmMgcHJvZmlsZShlKXt2YXIgdCxuO3JldHVybihuPSh0PXRoaXMuYmFja2dyb3VuZEZpbHRlcik9PW51bGw/dm9pZCAwOnQucHJvZmlsZShlKSkhPW51bGw/bjpbXX1nZXRUcmFuc2Zvcm1lclR5cGUoKXt2YXIgZSx0O3JldHVybih0PShlPXRoaXMuYmFja2dyb3VuZE9wdGlvbnMpPT1udWxsP3ZvaWQgMDplLnRyYW5zZm9ybWVyVHlwZSkhPW51bGw/dDoiVW5kZWZpbmVkIn1lbmFibGUoKXt0aGlzLmlzRW5hYmxlZD0hMH1kaXNhYmxlKCl7dGhpcy5pc0VuYWJsZWQ9ITF9cmVwb3J0KGUpe3ZhciB0O3RoaXMucmVwb3J0ZXIuc2VuZCh7dmVyc2lvbjpucyxhY3Rpb246Ik1sVHJhbnNmb3JtZXJzIix0cmFuc2Zvcm1lclR5cGU6KHQ9dGhpcy5iYWNrZ3JvdW5kT3B0aW9ucyk9PW51bGw/dm9pZCAwOnQudHJhbnNmb3JtZXJUeXBlLGNvbmZpZzpKU09OLnN0cmluZ2lmeSh0aGlzLmJhY2tncm91bmRPcHRpb25zKSwuLi5lfSl9fWNvbnN0ICRyPWNsYXNze2NvbnN0cnVjdG9yKCl7bCh0aGlzLCJiYWNrZ3JvdW5kVHJhbnNmb3JtZXIiLG5ldyBvbCk7bCh0aGlzLCJtZWRpYVByb2Nlc3NvciIsbmV3IERpKTtsKHRoaXMsInJhdGUiLDMwKTtsKHRoaXMsInJlc29sdmVPbk1lZGlhUHJvY2Vzc29yIik7bCh0aGlzLCJldmVudHNRdWV1ZSIsW10pfWFzeW5jIGluaXQoZSx0KXthd2FpdCB0aGlzLmJhY2tncm91bmRUcmFuc2Zvcm1lci5pbml0KGUsdCksYXdhaXQgdGhpcy5tZWRpYVByb2Nlc3Nvci5zZXRUcmFuc2Zvcm1lcnMoW3RoaXMuYmFja2dyb3VuZFRyYW5zZm9ybWVyXSksdGhpcy5tZWRpYVByb2Nlc3Nvci5zZXRUcmFja0V4cGVjdGVkUmF0ZSh0aGlzLnJhdGUpLHRoaXMubWVkaWFQcm9jZXNzb3Iub25BbnkoKG4sbyk9Pnt0aGlzLnJlc29sdmVPbk1lZGlhUHJvY2Vzc29yPyh0aGlzLnJlc29sdmVPbk1lZGlhUHJvY2Vzc29yKHtuYW1lOm4sZGF0YTpvfSksdGhpcy5yZXNvbHZlT25NZWRpYVByb2Nlc3Nvcj12b2lkIDApOnRoaXMuZXZlbnRzUXVldWUucHVzaCh7bmFtZTpuLGRhdGE6b30pfSl9ZW5hYmxlKCl7dGhpcy5iYWNrZ3JvdW5kVHJhbnNmb3JtZXIuZW5hYmxlKCl9ZGlzYWJsZSgpe3RoaXMuYmFja2dyb3VuZFRyYW5zZm9ybWVyLmRpc2FibGUoKX1hc3luYyBvbk1lZGlhUHJvY2Vzc29yRXZlbnQoKXtyZXR1cm4gYXdhaXQgbmV3IFByb21pc2UoZT0+e3RoaXMuZXZlbnRzUXVldWUubGVuZ3RoPjA/ZSh0aGlzLmV2ZW50c1F1ZXVlLnNoaWZ0KCkpOnRoaXMucmVzb2x2ZU9uTWVkaWFQcm9jZXNzb3I9ZX0pfWFzeW5jIHNldFRyYWNrRXhwZWN0ZWRSYXRlKGUpe3RoaXMucmF0ZT1lLHRoaXMubWVkaWFQcm9jZXNzb3Iuc2V0VHJhY2tFeHBlY3RlZFJhdGUoZSl9YXN5bmMgdHJhbnNmb3JtKGUsdCl7dGhpcy5tZWRpYVByb2Nlc3Nvci50cmFuc2Zvcm0oZSx0KX1hc3luYyBzZXRCYWNrZ3JvdW5kT3B0aW9ucyhlKXt2YXIgdDthd2FpdCgodD10aGlzLmJhY2tncm91bmRUcmFuc2Zvcm1lcik9PW51bGw/dm9pZCAwOnQuc2V0QmFja2dyb3VuZE9wdGlvbnMoZSkpfXNldFZpZGVvQkdSZWFkYWJsZShlKXt0aGlzLmJhY2tncm91bmRUcmFuc2Zvcm1lci5zZXRWaWRlb0JHUmVhZGFibGUoZSl9YXN5bmMgc2V0VmlydHVhbEJHSW1hZ2UoZSl7YXdhaXQgdGhpcy5iYWNrZ3JvdW5kVHJhbnNmb3JtZXIuc2V0VmlydHVhbEJHSW1hZ2UoZSl9YXN5bmMgdGVybWluYXRlKCl7YXdhaXQgdGhpcy5tZWRpYVByb2Nlc3Nvci5kZXN0cm95KCl9c2V0RmxpY2tlcmluZ09wdGlvbnMoZSl7dGhpcy5iYWNrZ3JvdW5kVHJhbnNmb3JtZXIuc2V0RmxpY2tlcmluZ09wdGlvbnMoZSl9c2V0Vm9uYWdlTWV0YWRhdGEoZSl7SWkoZSl9YXN5bmMgcHJvZmlsZShlKXtyZXR1cm4gSlNPTi5zdHJpbmdpZnkoYXdhaXQgdGhpcy5iYWNrZ3JvdW5kVHJhbnNmb3JtZXIucHJvZmlsZShlKSl9fTtsZXQgQ289JHI7KCgpPT57am8oIlByb2Nlc3NvcldvcmtlciIsJHIpfSkoKX0pKCk7Cg==",Fs=typeof window<"u"&&window.Blob&&new Blob([atob(Ss)],{type:"text/javascript;charset=utf-8"});function Bs(){const e=Fs&&(window.URL||window.webkitURL).createObjectURL(Fs);try{return e?new Worker(e):new Worker("data:application/javascript;base64,"+Ss)}finally{e&&(window.URL||window.webkitURL).revokeObjectURL(e)}}const Ts=class extends Xe{constructor(e){super(),a(this,"rate",30),a(this,"worker"),a(this,"config"),a(this,"backgroundOptions"),a(this,"isEnabled",!0),this.config=e}async setTrackExpectedRate(e){var t;await this.startWorker(),await(null==(t=this.worker)?void 0:t.setTrackExpectedRate(e))}async setBackgroundOptions(e){this.backgroundOptions=e,await this.updateBackgroundOptions(e)}async transform(e,t){var n;await this.startWorker(),await(null==(n=this.worker)?void 0:n.transform(e,t))}async destroy(){var e;await(null==(e=this.worker)?void 0:e.terminate()),this.worker=void 0}async setFlickeringOptions(e){var t;await this.startWorker(),await(null==(t=this.worker)?void 0:t.setFlickeringOptions(e))}async profile(e){var t;const n=await(null==(t=this.worker)?void 0:t.profile(e));return JSON.parse(null!=n?n:"[]")}async enable(){var e;this.isEnabled=!0,await(null==(e=this.worker)?void 0:e.enable())}async disable(){var e;this.isEnabled=!1,await(null==(e=this.worker)?void 0:e.disable())}async listenWorker(){for(var e,t;null!=(e=this.worker)&&e.workerContext.worker;){const{name:e,data:n}=await(null==(t=this.worker)?void 0:t.onMediaProcessorEvent());switch(e){case"error":case"warn":this.emit(e,n);break;case"pipelineInfo":switch(this.emit(e,n),n){case"pipeline_ended":case"pipeline_ended_with_error":return void await this.destroy()}}}}async startWorker(){!this.config||this.worker||(this.worker=await St(Rs,Bs),this.isEnabled||await this.worker.disable(),await this.worker.init("worker_".concat(Ts.initCount++),this.config),this.backgroundOptions&&await this.updateBackgroundOptions(this.backgroundOptions),await this.worker.setVonageMetadata(q()),await this.setBackgroundOptions(this.config),this.listenWorker())}async updateBackgroundOptions(e){var t,n,i;await this.startWorker();const{transformerType:r}=e;switch(r){case"VideoBackground":await(null==(t=this.worker)?void 0:t.setVideoBGReadable(await Bt.createVideoReadable(e.backgroundAssetUri)));break;case"VirtualBackground":await(null==(n=this.worker)?void 0:n.setVirtualBGImage(await Bt.createImageCanvas(e.backgroundAssetUri)))}await(null==(i=this.worker)?void 0:i.setBackgroundOptions(e))}};let Ns=Ts;a(Ns,"initCount",0);class _s{constructor(e){this.queries=e}async downloadSpeedscope(){this.download(await this.convertToSpeedscope())}download(e){const t=document.createElement("a");t.href=URL.createObjectURL(new Blob([e],{type:"application/json"})),t.download="profile-".concat(+new Date,".speedscope.json"),document.body.appendChild(t),t.click(),document.body.removeChild(t)}convertToSpeedscope(){const e=[],t={},n=[];let i=0;for(const o of this.queries){const r=[];for(const n of o)void 0===t[n.name]&&(t[n.name]=e.length,e.push({name:n.name})),r.push({type:n.action==cs.PUSH?"O":"C",frame:t[n.name],at:n.timestamp}),i=Math.max(i,n.timestamp+n.duration);n.push({events:r,type:"evented",name:"GPU Profile",unit:"nanoseconds",startValue:0,endValue:i})}const r={$schema:"https://www.speedscope.app/file-format-schema.json",shared:{frames:e},profiles:n};return JSON.stringify(r,null,2)}}class ws extends Xe{constructor(e){super(),a(this,"worker"),a(this,"connector"),this.worker=new Ns(e),this.connector=new le(this.worker),this.worker.onAny(((e,t)=>this.emit(e,t)))}async setBackgroundOptions(e){await this.worker.setBackgroundOptions(e)}async enable(){await this.worker.enable()}async disable(){await this.worker.disable()}setTrackExpectedRate(e){this.worker.setTrackExpectedRate(e)}getConnector(){return this.connector}async profile(e){return this.worker.profile(e)}static async profile(t){const n=await e.all(this.instances.map((e=>e.profile(t))));return new _s(n)}static async create(e){const t=new this(e);return this.instances.push(t),t}}function ks(){return Ue}function Ds(){return ye}function Vs(){return be}function Zs(){return ve}function Ws(){return Re}function Os(){return Se}function Js(){return Fe}async function xs(e){return await ws.create(e)}a(ws,"instances",[])}.call(this,i(2),i(28))},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(96));const o=(0,i(n(38)).default)().onlyLocal();var a={getConfig:function(e){void 0===e&&(e={});const t=e,n=t.staticConfig,i=((e,t)=>{let n=e.apiUrl.includes("anvil.opentok.com")?"https://static.opentok.com":"https://www.dev.tokbox.com";return t&&(n=t.includes("euproxy.opentok.com")?"https://static-eu.opentok.com":(0,r.default)(n,t)),"".concat(n,"/ml-transformers/v4.0.0")})(void 0===n?o:n,t.proxyUrl);return{mediapipeBaseAssetsUri:"".concat(i),wasmAssetUriPath:"".concat(i,"/"),tfliteAssetUriPath:"".concat(i,"/")}}};t.default=a},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=function(e){void 0===e&&(e={});const t=e.Errors||u.default,n=e.ExceptionCodes||s.default,i=e.logging||(0,a.default)("publisherInit"),f=e.otError||(0,d.default)(),m=e.OTHelpers||h.default,E=e.Publisher||(0,g.default)(),C=e.sessionObjects||l.default;return function(e,a,s){let l;i.debug("OT.initPublisher(".concat(e,")")),"string"!==typeof e||document.getElementById(e)||(e=a,a=s,s=arguments[3]),"function"===typeof e?(s=e,a=void 0,e=void 0):(0,o.default)(e)&&!m.isElementNode(e)&&(s=a,a=e,e=void 0),"function"===typeof a&&(s=a,a=void 0),a&&((0,o.default)(a)?!1===a.insertDefaultUI&&e?l="You cannot specify a target element if insertDefaultUI is false":(0,c.default)(a.audioSource)&&(0,c.default)(a.videoSource)&&(l="You cannot specify both audioSource and videoSource as null or false"):(l="properties argument to Publisher constructor, if provided, should be an object",a=void 0)),(0,A.default)(a),(0,p.default)(a);const d=new E(a||{});C.publishers.add(d);const u=function(){s&&(0,r.default)(s)&&(s(...arguments),s=void 0)};void 0!==l&&(i.error(l),u(f(t.INVALID_PARAMETER,new Error(l),n.INVALID_PARAMETER)));const h=function(e){d.off("publishComplete",g),u(e)};let g=function(e){d.off("initSuccess",h),e&&u(e)};return d.once("initSuccess",h),d.once("publishComplete",g),d.publish(e),d}};var r=i(n(17)),o=i(n(11)),a=i(n(1)),s=i(n(10)),c=i(n(728)),l=i(n(24)),d=i(n(13)),u=i(n(8)),h=i(n(7)),A=i(n(729)),p=i(n(730)),g=i(n(173))},function(e,t,i){"use strict";(function(e){var r=i(0);t.__esModule=!0,t.default=function(t){void 0===t&&(t={});const i=t.adaptIceServers||k.adaptIceServers,r=t.AnalyticsHelper||Q.default,q=t.APIKEY||D.default,ne=t.Capabilities||V.default,ie=t.convertRumorError||Z.default,re=t.Errors||T.default,oe=t.Events||(0,W.default)(),ae=t.Stream||O.default,se=t.ExceptionCodes||m.default,ce=t.hasIceRestartsCapability||R.default,le=t.hasE2eeCapability||v.default,de=t.logging||(0,p.default)("Session"),ue=t.otError||(0,F.default)(),he=t.OTErrorClass||E.default,Ae=t.OTHelpers||J.default,pe=t.StaticConfig||te,ge=t.staticConfig||pe.onlyLocal(),fe=t.Publisher||(0,x.default)(),me=t.RaptorSocket||(0,M.default)(),Ee=t.SessionDispatcher||L.default,Ce=t.sessionObjects||S.default,Ie=t.sessionTag||P.default,Qe=t.socketCloseCodes||ee.default,Ue=t.Subscriber||(0,G.default)(),ye=t.systemRequirements||Y.default,be=t.uuid||h.default,ve=(0,b.default)({otError:ue}),Re=t.global||(void 0!==typeof window?window:n.g),Se=t.getSessionInfo||(0,j.default)(),Fe=t.KeyStore||K.default,Be=t.SFrameClientStore||(0,H.default)(),Te=t.SinglePeerConnectionController||$.default,Ne=t.initPublisher||(0,z.default)({Publisher:fe});return function(t,n,h){var p=this;let m=void 0===h?{}:h,E=m.iceConfig,Q=m.connectionEventsSuppressed,b=m.ipWhitelist,v=void 0!==b&&b,R=m.encryptionSecret,S=m._enableSinglePeerConnection,F=m._prioritizeVP9,T=void 0!==F&&F;const k=(0,_.getProxyUrl)(),D=new r,V=e=>"string"===typeof e?this.streams.get(e)||{id:e}:e;let Z,W,O,J,x,M,L,P;(0,A.default)(this),this._tag=Ie,ye.check()||ye.upgrade(),null==n&&(n=t,t=null),ve(E),this.id=n,this.sessionId=n,this.keyStore=new Fe,this.sFrameClientStore=new Be;let G=!1,Y=t;const j=this;let K=n,H=be(),z=de,$=!1;const ee=[];let te,_e,we,ke,De=null,Ve=!1,Ze=!1,We=R;const Oe=Ae.statable(this,["disconnected","connecting","connected","disconnecting"],"disconnected");let Je;this.connection=null,this.connections=new Ae.Collection,this.streams=new Ae.Collection,this.archives=new Ae.Collection;const xe=function(e){Oe("disconnected"),e.code||(e.code=se.CONNECT_FAILED),z.error("".concat(e.name||"Unknown Error",": ").concat(e.message)),he.handleJsException({error:e,target:this,analytics:D}),this.trigger("sessionConnectFailed",e)},Me=function(e){G=!1;const t=e.reason;this.logEvent("Connect","Disconnected",{reason:e.reason});const n=new oe.SessionDisconnectEvent("sessionDisconnected",t.replace("networkTimedout","networkDisconnected"));this.isConnected()&&this.disconnect(),_e(),te.call(this,t),setTimeout((()=>{this.dispatchEvent(n),we.call(this,n.reason),n.isDefaultPrevented()||ke.call(this,n.reason)}))},Le=function(e){Q||e.id.match(/^symphony\./)||this.dispatchEvent(new oe.ConnectionEvent(I.default.CONNECTION_CREATED,e))},Pe=function(e,t){e.id.match(/^symphony\./)||Z&&e.id===Z.id()||this.dispatchEvent(new oe.ConnectionEvent(I.default.CONNECTION_DESTROYED,e,t))},Ge=function(e){!e||!e.connection||this.connection&&e.connection.id===this.connection.id||this.dispatchEvent(new oe.StreamEvent(I.default.STREAM_CREATED,e,null,!1))},Ye=function(e){const t=e.target,n=e.changedProperty;let i=e.newValue;"videoDisableWarning"!==n&&"audioDisableWarning"!==n&&("videoDimensions"===n&&(i={width:i.width,height:i.height}),this.dispatchEvent(new oe.StreamPropertyChangedEvent(I.default.STREAM_PROPERTY_CHANGED,t,n,e.oldValue,i)))},je=function(e,t){void 0===t&&(t="clientDisconnected");const n=new oe.StreamEvent("streamDestroyed",e,t,!0);e.connection.id===this.connection.id?Ce.publishers.where({streamId:e.id}).forEach((function(n){n._.unpublishStreamFromSession(e,this,t)}),this):this.dispatchEvent(n),(()=>{Ce.subscribers.where({streamId:e.id}).filter((e=>e.session.id===this.id&&e.stream)).forEach((e=>{e._disconnect({reason:t}),n.isDefaultPrevented()||e._destroy({reason:t,noStateTransition:!0})}))})()},Xe=function(e){this.dispatchEvent(new oe.ArchiveEvent("archiveStarted",e))},Ke=function(e){this.dispatchEvent(new oe.ArchiveEvent("archiveDestroyed",e))},He=function(e){const t=e.target,n=e.changedProperty,i=e.newValue;"status"===n&&"stopped"===i?this.dispatchEvent(new oe.ArchiveEvent("archiveStopped",t)):this.dispatchEvent(new oe.ArchiveEvent("archiveUpdated",t))},ze=()=>Ce.subscribers.forEach((e=>e._.pauseAndPlayVideoElement())),qe=function(){j.token=null,O=null,Oe("disconnected"),Z=null,W&&(W.stop(),W=null),j.connection=null,j.capabilities=new ne([],{hasE2eeCapability:le}),j.connections.destroy(),j.streams.destroy(),j.archives.destroy()};_e=function(){H=be(),qe()},te=function(e){Ce.publishers.where({session:this}).forEach((t=>{t.disconnect(e)})),Ce.subscribers.where({session:this}).forEach((e=>{e._disconnect()}))},we=function(e){Ce.publishers.where({session:this}).forEach((t=>{t._.streamDestroyed(e)}))},ke=function(e){Ce.subscribers.where({session:this}).forEach((t=>{t._destroy({reason:e})}))};const $e=function(){z.debug("OT.Session: connecting to Raptor");const e=(0,C.default)(this.sessionInfo.messagingURL,k),t=["forceMute"];this.sessionInfo.isAdaptiveEnabled&&t.push("amr"),Ze&&t.push("spc"),Z=new me({connectionId:H,sessionId:n,messagingSocketUrl:e,symphonyUrl:this.sessionInfo.symphonyAddress,dispatcher:Ee(this,{connectionEventsSuppressed:Q}),analytics:D,requestedCapabilities:t}),Z.connect(O,this.sessionInfo,{connectionEventsSuppressed:Q},((e,t)=>{if(e){const t={};let n;if("ConnectToSession"===e.reason||"GetSessionState"===e.reason){const n=ie(e);(0,c.default)(t,{originalMessage:e.message,originalCode:e.code}),e.code=n.code,e.message=n.message}(e.code||e.message||e.reason)&&(n={failureCode:e.code,failureMessage:e.message,failureReason:e.reason,socketId:Z.socketId}),Z=null,this.logConnectivityEvent("Failure",t,n);const i=function(e,t){let n;switch(e){case"WebSocketConnection":if(n=(0,l.default)(Qe.codes,(e=>e===t)),n)return re["SOCKET_".concat(n)];break;case"ConnectToSession":case"GetSessionState":switch(t){case se.CONNECT_FAILED:return re.CONNECT_FAILED;case se.UNEXPECTED_SERVER_RESPONSE:return re.UNEXPECTED_SERVER_RESPONSE;case se.CONNECTION_LIMIT_EXCEEDED:return re.CONNECTION_LIMIT_EXCEEDED}}}(e.reason,e.code);return i&&(e=ue(i,new Error(e.message),e.code)),void xe.call(this,e)}z.debug("OT.Session: Received session state from Raptor",t),this.connection=this.connections.get(Z.id()),this.connection&&(this.capabilities=this.connection.permissions),Oe("connected"),this.logConnectivityEvent("Success",{connectionId:this.connection.id}),this.connection.on("destroyed",Me,this),this.dispatchEvent(new oe.SessionConnectEvent(I.default.SESSION_CONNECTED)),this.connections.on({add:Le,remove:Pe},this),this.streams.on({add:Ge,remove:je,update:Ye},this),this.archives.on({add:Xe,remove:Ke,update:He},this),this.connections._triggerAddEvents(),this.streams._triggerAddEvents(),this.archives._triggerAddEvents(),Ae.env.isiOS&&Ae.env.iOSVersion>=13.3&&this.on("gsmCallEnded",ze)}))},et=e=>this.capabilities.permittedTo(e),tt=(e,t)=>{de.error("".concat(e.name,": ").concat(e.message)),"function"===typeof t&&t(e),he.handleJsException({error:e,target:this,analytics:D})},nt=e=>{const t=ue(e.code,new Error(e.message),e.exceptionCode);return tt(t),t},it=()=>this.isNot("connected")?nt(N.default.NOT_CONNECTED):et("forceMute")?null:nt(N.default.PERMISSION_DENIED),rt=e=>"404"===e.code?nt(N.default.NOT_FOUND):"403"===e.code?nt(N.default.PERMISSION_DENIED):nt(N.default.UNEXPECTED_SERVER_RESPONSE);this.reportIssue=e=>{let t=e.id;return(0,U.default)(D.logEvent.bind(D))({action:"ReportIssue",variation:"Event",connectionId:H,payload:{reportIssueId:t}},null)},this.logEvent=function(e,t,n,i){let r={action:e,variation:t,payload:n,sessionId:K,messagingServer:x,p2p:J,partnerId:Y,connectionId:H};i&&(r=(0,c.default)(i,r)),D.logEvent(r)},this.logConfigurationFileEvent=function(e,t,n){if(void 0===t&&(t=null),void 0===n&&(n={}),"Attempt"===e)L=(new Date).getTime();else if("Failure"===e||"Success"===e){const e=(new Date).getTime()-L;(0,c.default)(n,{attemptDuration:e})}k&&(n.proxyUrl=k),this.logEvent("ConfigurationFile",e,t,Object.assign({},n))},this.logConnectivityEvent=function(e,t,n){if(void 0===t&&(t=null),void 0===n&&(n={}),k&&(n.proxyUrl=k),"Attempt"===e&&(W&&(W.stop(),de.error("_connectivityAttemptPinger should have been cleaned up")),M=(new Date).getTime(),W=new g.default((()=>{this.logEvent("Connect","Attempting",t,Object.assign({},n))}),.2,6),W.start()),"Failure"===e||"Success"===e||"Cancel"===e){const i=i=>{W&&(W.stop(),W=void 0),this.logEvent("Connect",e,t,Object.assign({},n,{attemptDuration:(new Date).getTime()-M,iceConfig:i,ipWhitelist:v}))};"Success"===e?this._.getIceConfig().then((e=>{const t={includeServers:E&&E.includeServers||"all",transportPolicy:e.transportPolicy};t.servers=e.servers?e.servers.map((e=>({url:e.urls}))):[],i(t)})):i()}else this.logEvent("Connect",e,t,n)},this.connect=function(){let i;for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];o.length>1&&("string"===typeof o[0]||"number"===typeof o[0])&&"string"===typeof o[1]?(null==t&&(Y=o[0].toString()),i=o[1]):i=o[0];const s=o[o.length-1];if(p.is("connecting","connected"))return z.warn("OT.Session: Cannot connect, the session is already ".concat(p.currentState)),p;p.is("disconnecting")&&(z.warn("OT.Session: trying to connect while the session is not done disconnecting."),H=be()),D.sessionInfo=new X.default,qe(),Oe("connecting");const c=H;function l(){const e=H!==c;return e&&de.debug("Connection was interrupted"),e}if(p.token=!(0,d.default)(i)&&i,O=!(0,d.default)(i)&&i,s&&(0,d.default)(s)){let e;const t=function(){e();for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];s(void 0,...n)},n=function(){e(),s(...arguments)};e=()=>{p.off("sessionConnected",t),p.off("sessionConnectFailed",n)},p.once("sessionConnected",t),p.once("sessionConnectFailed",n)}if(null==Y||(0,d.default)(Y))return setTimeout(xe.bind(p,ue(re.AUTHENTICATION_ERROR,new Error("API Key is undefined. You must pass an API Key to initSession."),se.AUTHENTICATION_ERROR))),p;if(!K||(0,u.default)(K)||Array.isArray(K)){let e;return K?(e="SessionID is not a string. You must use string as the session ID passed into OT.initSession().",K=K.toString()):e="SessionID is undefined. You must pass a sessionID to initSession.",setTimeout(xe.bind(p,ue(re.INVALID_SESSION_ID,new Error(e),se.INVALID_SESSION_ID))),p.logConnectivityEvent("Attempt"),p.logConnectivityEvent("Failure",null,{failureReason:"ConnectToSession",failureCode:se.INVALID_SESSION_ID,failureMessage:e}),p}if(p.apiKey=Y.toString(),Y=Y.toString(),We){if(!le())return setTimeout(xe.bind(p,ue(re.UNSUPPORTED_BROWSER,new Error("E2E Encryption is not supported in your browser.")))),p;try{(0,w.default)(We),p.keyStore.set(n,We),Ve=!0}catch(g){return setTimeout(xe.bind(p,ue(re.INVALID_ENCRYPTION_SECRET,new Error("Invalid encryptionSecret: ".concat(g.message))))),p}}0===q.value.length&&(q.value=Y);const h=Boolean(pe.onlyLocal().configUrl),A=!0===v&&Boolean(pe.onlyLocal().ipWhitelistConfigUrl);return h||A?p.logConfigurationFileEvent("Attempt"):p.logConfigurationFileEvent("Event",{message:"No configUrl, using local config only"}),(h||A?pe.get({partnerId:Y,token:i,useIpWhitelistConfigUrl:A,proxyUrl:k}):e.resolve(pe.onlyLocal())).then((e=>((h||A)&&p.logConfigurationFileEvent("Success"),e)),(e=>((h||A)&&p.logConfigurationFileEvent("Failure",{failureMessage:e.message,failureStack:e.stack}),pe.onlyLocal()))).then((e=>{if(p.staticConfig=e,D.staticConfig=e,!1===e.apiEnabled)throw ue(re.API_KEY_DISABLED,new Error("The API KEY has been disabled. Access to the service is currently being restricted. Please contact support."));if(l())return;p.logConnectivityEvent("Attempt"),k?p.logEvent("SessionInfo","Attempt",null,{proxyUrl:k}):p.logEvent("SessionInfo","Attempt");const t=e=>{e.code=(0,f.default)(e.code),p.logConnectivityEvent("Failure",null,{failureReason:"GetSessionInfo",failureCode:e.code||"No code",failureMessage:e.message,failureName:e.name}),e.name&&(e=ue(e.name,new Error("".concat(e.message).concat(e.code?" (".concat(e.code,")"):"")),e.code)),xe.call(p,e)},i=(0,C.default)(e.apiUrl,k);return Se({anvilUrl:i,sessionId:n,token:O,connectionId:H,clientVersion:e.clientVersion}).then((n=>{if(l())return;if(n.partnerId&&n.partnerId!==Y){const e="Authentication Error: The API key does not match the token or session.";return void t(ue(re.AUTHENTICATION_ERROR,new Error(e),se.AUTHENTICATION_ERROR))}Ze=(0,B.default)(n,S),Ze&&(Je=new Te(p)),D.sessionInfo=n;const i={features:{reconnection:n.reconnection,renegotiation:ce()&&n.renegotiation,simulcast:void 0!==n.simulcast&&n.simulcast&&"Chrome"===Ae.env.name}};if(k&&(i.proxyUrl=k),p.is("connecting")){p.sessionInfo=n,p._.setIceServers(p.sessionInfo.iceServers),J=n.p2pEnabled,x=n.messagingServer,p.logEvent("SessionInfo","Success",null,i,{messagingServer:n.messagingServer});const t=e.sessionInfoOverrides||{};T&&(t.priorityVideoCodec="vp9"),null!=t&&"object"===typeof t&&Object.keys(t).forEach((e=>{Object.defineProperty(p.sessionInfo,e,{value:t[e]})})),$e.call(p)}}),t)})).catch((e=>{xe.call(p,e)})),p},this.disconnect=function(){Je&&(Je.destroy(),Je=null),Z&&Z.isNot("disconnected")?Z.isNot("disconnecting")&&(Z.isNot("connecting")||this.logConnectivityEvent("Cancel"),Oe("disconnecting"),Z.disconnect(),this.off("gsmCallEnded",ze)):_e()},this.destroy=function(){this.streams.destroy(),this.connections.destroy(),this.archives.destroy(),this.disconnect()},this.publish=function(e,t,n){if("function"===typeof e&&(n=e,e=void 0),"function"===typeof t&&(n=t,t=void 0),n=n||function(){},this.isNot("connected"))return D.logError(1010,"OT.exception","We need to be connected before you can publish",null,{action:"Publish",variation:"Failure",failureReason:"unconnected",failureCode:se.NOT_CONNECTED,failureMessage:"We need to be connected before you can publish",sessionId:K,streamId:e&&e.stream?e.stream.id:null,p2p:this.sessionInfo?this.sessionInfo.p2pEnabled:void 0,messagingServer:this.sessionInfo?this.sessionInfo.messagingServer:null,partnerId:Y}),tt(ue(re.NOT_CONNECTED,new Error("We need to be connected before you can publish"),se.NOT_CONNECTED),n),null;if(!et("publish")){const e="This token does not allow publishing. The role must be at least `publisher` to enable this functionality",t={failureReason:"Permission",failureCode:se.UNABLE_TO_PUBLISH,failureMessage:e};return this.logEvent("Publish","Failure",null,t),tt(ue(re.PERMISSION_DENIED,new Error(e),se.UNABLE_TO_PUBLISH),n),null}if(!e||"string"===typeof e||Ae.isElementNode(e))e=Ne(e,t);else{if(!(e instanceof fe))return void tt(ue(re.INVALID_PARAMETER,new Error("Session.publish :: First parameter passed in is neither a string nor an instance of the Publisher"),se.UNABLE_TO_PUBLISH),n);"session"in e&&e.session&&"sessionId"in e.session&&(e.session.sessionId===this.sessionId?z.warn("Cannot publish ".concat(e.guid()," again to ").concat(this.sessionId,". Please call session.unpublish(publisher) first.")):z.warn("Cannot publish ".concat(e.guid()," publisher already attached to ").concat(e.session.sessionId,". Please call session.unpublish(publisher) first.")))}return $&&e._.forceMuteAudio(),e._.publishToSession(this,D).catch((e=>{throw e.message="Session.publish :: ".concat(e.message),z.error(e.code,e.message),e})).then((()=>e)).then((function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return n(null,...t)}),(e=>n(e))),e},this.unpublish=function(e){e?e._.unpublishFromSession(this,"unpublished"):z.error("OT.Session.unpublish: publisher parameter missing.")},this.setIceConfig=function(){var t=(0,a.default)(o.default.mark((function t(n){var i,r;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(ve(n),D.logEvent({action:"setIceConfig",variation:"Attempt",payload:{newIceConfig:n}}),E=Object.assign({},n),"all"!==n.includeServers){t.next=8;break}return t.next=6,j._.getOtIceServerInfo();case 6:i=t.sent,n.customServers=n.customServers.concat(i.servers);case 8:return r={iceServers:(o=n).customServers,iceTransportPolicy:o.transportPolicy},t.prev=10,t.next=13,e.all(Ce.publishers.map((e=>e._.setIceConfig(r))).concat(Ce.subscribers.map((e=>e._.setIceConfig(r)))));case 13:t.next=19;break;case 15:throw t.prev=15,t.t0=t.catch(10),D.logEvent({action:"setIceConfig",variation:"Failure",payload:{newIceConfig:n}}),t.t0;case 19:D.logEvent({action:"setIceConfig",variation:"Success",payload:{newIceConfig:n}});case 20:case"end":return t.stop()}var o}),t,null,[[10,15]])})));return function(e){return t.apply(this,arguments)}}(),this.subscribe=function(e,t,n,i){if("function"===typeof t&&(i=t,t=void 0,n=void 0),"function"===typeof n&&(i=n,n=void 0),i=i||function(){},!this.connection||!this.connection.connectionId)return void tt(ue(re.NOT_CONNECTED,new Error("Session.subscribe :: Connection required to subscribe"),se.UNABLE_TO_SUBSCRIBE),i);if(!e)return void tt(ue(re.INVALID_PARAMETER,new Error("Session.subscribe :: stream cannot be null"),se.UNABLE_TO_SUBSCRIBE),i);if(!Object.prototype.hasOwnProperty.call(e,"streamId"))return void tt(ue(re.INVALID_PARAMETER,new Error("Session.subscribe :: invalid stream object"),se.UNABLE_TO_SUBSCRIBE),i);if(n&&!1===n.insertDefaultUI&&t)return void tt(ue(re.INVALID_PARAMETER,new Error("You cannot specify a target element if insertDefaultUI is false"),se.INVALID_PARAMETER),i);t&&!1===t.insertDefaultUI&&(n=t,t=void 0);const r=new Ue(t,(0,c.default)(n||{},{stream:e,session:this,analytics:D,_singlePeerConnectionController:Je}),(e=>{e?tt(e,i):i(null,r)}));return Ce.subscribers.add(r),r},this.unsubscribe=function(e){if(!e){const e="OT.Session.unsubscribe: subscriber cannot be null";throw z.error(e),new Error(e)}return e.stream?(z.debug("OT.Session.unsubscribe: subscriber ".concat(e.id)),e._destroy({reason:"Unsubscribe"}),!0):(z.warn("OT.Session.unsubscribe:: tried to unsubscribe a subscriber that had no stream"),!1)},this.getSubscribersForStream=function(e){return Ce.subscribers.where({streamId:e.id})},this.getPublisherForStream=function(e){let t,n;if("string"===typeof e)t=e;else{if("object"!==typeof e||!e||!Object.hasOwnProperty.call(e,"id"))throw n="Session.getPublisherForStream :: Invalid stream type",z.error(n),new Error(n);t=e.id}return Ce.publishers.where({streamId:t})[0]},this._={getProxyUrl:()=>k,isE2ee:()=>j.sessionInfo.e2ee&&Ve&&!!j.capabilities.supportsE2ee,isSocketReconnecting:()=>G,getSocket:()=>Z,reconnecting:function(){G=!0,this.dispatchEvent(new oe.SessionReconnectingEvent)}.bind(this),reconnected:function(){G=!1,this.dispatchEvent(new oe.SessionReconnectedEvent),this.sessionInfo.reconnection&&(Ce.publishers.where({session:this}).forEach((e=>{e._.iceRestart()})),this.sessionInfo.p2pEnabled||Ce.subscribers.where({session:this}).forEach((e=>{e._.iceRestart("socket reconnected")})))}.bind(this),dispatchSignal:function(e,t,n){const i=new oe.SignalEvent(t,n,e);i.target=this,this.trigger(I.default.SIGNAL,i),t&&this.dispatchEvent(i)}.bind(this),dispatchCaption:function(e,t){let n,i,r;try{const e=JSON.parse(t.data);n=e.caption.text,i=e.streamId,r=e.isFinal}catch(a){return void z.error("Caption parsing failed: ".concat(a.message))}const o=new oe.CaptionReceivedEvent(n,i,r);o.target=this,this.trigger(I.default.SUBSCRIBER_CAPTION_RECEIVED,o),this.dispatchEvent(o)}.bind(this),subscriberChannelUpdate:(e,t,n,i)=>Z?Z.subscriberChannelUpdate(e.id,t.widgetId,n.id,i):(z.warn("You are disconnected, cannot update subscriber properties ",i),null),streamCreate(e,t){let n=void 0===e?{}:e,i=n.name,r=n.streamId,o=n.subscriberAudioFallbackEnabled,a=n.channels,s=n.minBitrate,c=n.sourceStreamId,l=n.e2ee,d=n.publisherAudioFallbackEnabled,u=n.customProperties;Z?Z.streamCreate({name:i,streamId:r,subscriberAudioFallbackEnabled:o,channels:a,minBitrate:s,maxBitrate:void 0,sourceStreamId:c,e2ee:l,publisherAudioFallbackEnabled:d,customProperties:u},t):z.warn("You are disconnected, cannot create stream ",r)},streamDestroy(e,t){Z?Z.streamDestroy(e,t):z.warn("You are disconnected, cannot destroy stream ",e)},streamChannelUpdate(e,t,n){Z?Z.streamChannelUpdate(e.id,t.id,n):z.warn("You are disconnected, cannot update stream properties ",n)},setSocket(e){Z=e},setLogging(e){z=e},setState:Oe,setIceServers(e){e&&(P={iceServers:i(e),timestamp:Date.now()})},getOtIceServerInfo(){if(864e5-(P?Date.now()-P.timestamp:1/0)>3e5)return e.resolve({transportPolicy:j&&j.sessionInfo&&j.sessionInfo.clientCandidates,servers:P&&P.iceServers});if(!O)return e.resolve({transportPolicy:j&&j.sessionInfo&&j.sessionInfo.clientCandidates,servers:[],needRumorIceServersFallback:!0});const t=ge.clientVersion;return Se({anvilUrl:(this.staticConfig||ge).apiUrl,sessionId:n,token:O,connectionId:H,clientVersion:t}).then((e=>(j._.setIceServers(e.iceServers),P?{transportPolicy:j&&j.sessionInfo&&j.sessionInfo.clientCandidates,servers:P&&P.iceServers}:{transportPolicy:j.sessionInfo.clientCandidates,servers:[],needRumorIceServersFallback:!0})))},getCodecFlags:()=>({h264:j.sessionInfo.h264,vp9:j.sessionInfo.vp9,vp8:j.sessionInfo.vp8}),getVideoCodecsCompatible:e=>(0,y.default)({RTCPeerConnection:Re.RTCPeerConnection,env:Ae.env,stream:e,codecFlags:j._.getCodecFlags()}),getIceConfig:()=>{if(!E)return j._.getOtIceServerInfo();const t=E&&"relay"===E.transportPolicy?"relay":j.sessionInfo.clientCandidates;return("custom"===E.includeServers?e.resolve({servers:[]}):j._.getOtIceServerInfo()).then((e=>(0,c.default)(e,{transportPolicy:t,servers:[...e.servers,...E.customServers]})))},forceMute:function(e){this.dispatchEvent(new oe.MuteForcedEvent(e))}.bind(this),enableMuteOnEntry:()=>{$=!0},addSubscriberToPeerConnectionsQueue:(e,t)=>{ee.push({pc:e,message:t}),De||(De=setInterval((()=>{const e=ee.shift();e?e.pc.processMessage("offer",e.message):(clearInterval(De),De=null)}),100))},disableMuteOnEntry:()=>{$=!1},privateEvents:new s.default},this.signal=function(e,t){let n=e,i=t||function(){};if((0,d.default)(n)&&(i=n,n=null),this.isNot("connected")){const e="Unable to send signal - you are not connected to the session.";tt(ue(re.NOT_CONNECTED,new Error(e),500),i)}else Z.signal(n,(function(e){if(e){const t=function(e){switch(e){case 400:case 413:return re.INVALID_PARAMETER;case 429:return re.RATE_LIMIT_EXCEEDED;case 404:return re.NOT_FOUND;case 500:return re.NOT_CONNECTED;case 403:return re.PERMISSION_DENIED;case 2001:return re.UNEXPECTED_SERVER_RESPONSE;default:return}}(e.code);return t&&(e=ue(t,new Error(e.message),e.code)),void i(e)}for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];i(e,...n)}),this.logEvent),e&&e.data&&"string"!==typeof e.data&&z.warn("Signaling of anything other than Strings is deprecated. Please update the data property to be a string.")},this.forceDisconnect=function(e,t){if(this.isNot("connected")){const e="Cannot call forceDisconnect(). You are not connected to the session.";return void tt(ue(re.NOT_CONNECTED,new Error(e),se.NOT_CONNECTED),t)}const n="string"===typeof e?e:e.id,i="Invalid Parameter. Check that you have passed valid parameter values into the method call.";n?et("forceDisconnect")?Z.forceDisconnect(n,(function(e){if(e)tt(ue(re.INVALID_PARAMETER,new Error(i),se.INVALID_PARAMETER),t);else if(t&&(0,d.default)(t)){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];t(e,...r)}})):tt(ue(re.PERMISSION_DENIED,new Error("This token does not allow forceDisconnect. The role must be at least `moderator` to enable this functionality"),se.UNABLE_TO_FORCE_DISCONNECT),t):tt(ue(re.INVALID_PARAMETER,new Error(i),se.INVALID_PARAMETER),t)},this.forceUnpublish=function(e,t){void 0===t&&(t=()=>{});const n=e=>tt(ue(e.name,new Error(e.msg),e.code),t),i={msg:"Invalid Parameter. Check that you have passed valid parameter values into the method call.",code:se.INVALID_PARAMETER,name:re.INVALID_PARAMETER},r={msg:"Cannot call forceUnpublish(). You are not connected to the session.",code:se.NOT_CONNECTED,name:re.NOT_CONNECTED},o={msg:"This token does not allow forceUnpublish. The role must be at least `moderator` to enable this functionality",code:se.UNABLE_TO_FORCE_UNPUBLISH,name:re.PERMISSION_DENIED},a={msg:"The stream does not exist.",name:re.NOT_FOUND},s={msg:"An unexpected error occurred.",name:re.UNEXPECTED_SERVER_RESPONSE,code:se.UNEXPECTED_SERVER_RESPONSE};if(!e)return void n(i);if(p.isNot("connected"))return void n(r);const c=V(e);et("forceUnpublish")?Z.forceUnpublish(c.id,(e=>{e?"404"===e.code?n(a):"403"===e.code?n(o):n(s):t(null)})):n(o)},this.forceMuteStream=t=>new e(((e,n)=>{const i=it();i?n(i):t&&t.id?Z.forceMuteStream(t.id,(t=>{t?n(rt(t)):e()})):n(nt(N.default.INVALID_PARAMETER))})),this.forceMuteAll=t=>new e(((e,n)=>{const i=it();if(i)return void n(i);if(Array.isArray(t)&&!t.every((e=>e instanceof ae))||t&&!Array.isArray(t))return void n(nt(N.default.INVALID_PARAMETER));const r=(t||[]).map((e=>e.id));Z.forceMuteAll(r,!0,(t=>{t?n(rt(t)):e()}))})),this.disableForceMute=()=>new e(((e,t)=>{const n=it();n?t(n):Z.forceMuteAll([],!1,(n=>{n?t(rt(n)):e()}))})),this.setEncryptionSecret=function(){var e=(0,a.default)(o.default.mark((function e(t){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(We){e.next=3;break}return de.error("Encryption secret must first be set in initSession."),e.abrupt("return");case 3:e.prev=3,(0,w.default)(t),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(3),ue(re.INVALID_ENCRYPTION_SECRET,new Error("setEncryptionSecret: ".concat(e.t0.message)));case 10:return e.prev=10,e.next=13,p.keyStore.set(n,t);case 13:We=t,e.next=19;break;case 16:e.prev=16,e.t1=e.catch(10),z.error("Error in setEncryptionSecret}: ".concat(e.t1.message));case 19:case"end":return e.stop()}}),e,null,[[3,7],[10,16]])})));return function(t){return e.apply(this,arguments)}}(),this.isConnected=()=>this.is("connected"),this.capabilities=new ne([],{hasE2eeCapability:le})}};var o=r(i(4)),a=r(i(5)),s=r(i(14)),c=r(i(9)),l=r(i(731)),d=r(i(17)),u=r(i(11)),h=r(i(16)),A=r(i(6)),p=r(i(1)),g=r(i(72)),f=r(i(733)),m=r(i(10)),E=r(i(22)),C=r(i(96)),I=r(i(30)),Q=r(i(27)),U=r(i(168)),y=r(i(734)),b=r(i(735)),v=r(i(111)),R=r(i(332)),S=r(i(24)),F=r(i(13)),B=r(i(736)),T=r(i(8)),N=r(i(738)),_=i(97),w=r(i(739)),k=i(107),D=r(i(70)),V=r(i(174)),Z=r(i(333)),W=r(i(23)),O=r(i(175)),J=r(i(7)),x=r(i(173)),M=r(i(740)),L=r(i(341)),P=r(i(340)),G=r(i(316)),Y=r(i(156)),j=r(i(764)),X=r(i(136)),K=r(i(767)),H=r(i(768)),z=r(i(330)),q=r(i(38)),$=r(i(777)),ee=r(i(77));const te=(0,q.default)()}).call(this,i(2))},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(3));const o=i(n(52)).default.once;t.default=()=>o()&&(r.default.isChromiumEdge||["Chrome","Safari","Firefox","Opera"].includes(r.default.name))},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=function(e){let t,n;if(e.reason===s.CONNECT&&e.code===r.default.CONNECT_FAILED)t=e.code,n=o.default.getTitleByCode(e.code);else if(e.code&&a.indexOf(Number(e.code))>-1)switch(t=r.default.CONNECT_FAILED,e.reason){case s.CONNECT:e.code===r.default.CONNECTION_LIMIT_EXCEEDED?(t=e.code,n="Cannot connect -- the limit for concurrent connections to the session has been reached"):n="Received error response to connection create message.";break;case s.SESSION_STATE:n="Received error response to session read";break;default:n=""}else t=r.default.UNEXPECTED_SERVER_RESPONSE,n="Unexpected server response. Try this operation again later.";return{code:t,message:n}};var r=i(n(10)),o=i(n(22));const a=[400,403,409,r.default.CONNECTION_LIMIT_EXCEEDED],s={CONNECT:"ConnectToSession",SESSION_STATE:"GetSessionState"}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){return JSON.stringify(e)}},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0,t.default=e=>{let t=e.logger,n=e.obj;e.eventNames.forEach((e=>{n.on(e,(function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return t.spam("emitted",e,i)}))}))}},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(17)),o=i(n(6)),a=i(n(1)),s=i(n(22)),c=i(n(176)),l=i(n(756));const d=(0,a.default)("Dispatcher"),u=function(){(0,o.default)(this),this.callbacks={}};u.prototype.registerCallback=function(e,t){this.callbacks[e]=t},u.prototype.triggerCallback=function(e){if(!e)return;const t=this.callbacks[e];if(t&&(0,r.default)(t)){const e=Array.prototype.slice.call(arguments);e.shift(),t(...e)}delete this.callbacks[e]},u.prototype.onClose=function(e){this.emit("close",e)},u.prototype.onReconnected=function(){this.emit("reconnected")},u.prototype.onReconnecting=function(){this.emit("reconnecting")},u.prototype.dispatch=function(e){var t,n;if(e.type===c.default.STATUS){var i;let t;if(d.debug(e),e.isError){let n;if("string"===typeof e.data)try{const t=JSON.parse(e.data);t&&"object"===typeof t&&(n=t.reason)}catch(o){d.warn("Failed to parse rumorMessage.data",o)}t=new s.default(e.status,n)}const n=e.data?JSON.parse(e.data):"";return null!=n&&null!=(i=n.mute)&&i.active&&this.dispatchMuteOnEntry(),void this.triggerCallback(e.transactionId,t,e)}const r=(0,l.default)(e);switch(d.debug("".concat(r.signature,":"),r),r.resource){case"session":this.dispatchSession(r);break;case"connection":if(null!=r&&null!=(t=r.content)&&null!=(n=t.userAgent)&&n.includes("auriga"))return;this.dispatchConnection(r);break;case"stream":this.dispatchStream(r);break;case"stream_channel":this.dispatchStreamChannel(r);break;case"subscriber":this.dispatchSubscriber(r);break;case"subscriber_channel":this.dispatchSubscriberChannel(r);break;case"signal":this.dispatchSignal(r);break;case"data":"caption1"===r.params.channel?this.dispatchCaption(r):"downlinkStats1"===r.params.channel&&this.dispatchDownlinkStats(r);break;case"archive":this.dispatchArchive(r);break;case"source":this.dispatchSource(r);break;default:d.debug("Type ".concat(r.resource," is not currently implemented"))}},u.prototype.dispatchSession=function(e){switch(e.method){case"read":this.emit("session#read",e.content,e.transactionId);break;case"update":this.emit("session#update",e.content);break;default:d.debug("".concat(e.signature," is not currently implemented"))}},u.prototype.dispatchMuteOnEntry=function(){this.emit("session#muted")},u.prototype.dispatchConnection=function(e){switch(e.method){case"created":this.emit("connection#created",e.content);break;case"deleted":this.emit("connection#deleted",e.params.connection,e.reason);break;default:d.debug("".concat(e.signature," is not currently implemented"))}},u.prototype.dispatchStream=function(e){switch(e.method){case"created":this.emit("stream#created",e.content,e.transactionId);break;case"deleted":this.emit("stream#deleted",e.params.stream,e.reason,e.content);break;case"updated":this.emit("stream#updated",e.params.stream,e.content);break;case"update":this.emit("stream#update",e.params.stream,e.content);break;case"generateoffer":case"answer":case"pranswer":case"offer":case"candidate":this.dispatchJsep(e.method,e);break;default:d.debug("".concat(e.signature," is not currently implemented"))}},u.prototype.dispatchStreamChannel=function(e){"updated"===e.method?this.emit("streamChannel#updated",e.params.stream,e.params.channel,e.content):d.debug("".concat(e.signature," is not currently implemented"))},u.prototype.dispatchJsep=function(e,t){this.emit("jsep#".concat(e),t.params.stream,t.fromAddress,t)},u.prototype.dispatchSubscriberChannel=function(e){switch(e.method){case"updated":this.emit("subscriberChannel#updated",e.params.stream,e.params.channel,e.content);break;case"update":this.emit("subscriberChannel#update",e.params.subscriber,e.params.stream,e.content);break;default:d.debug("".concat(e.signature," is not currently implemented"))}},u.prototype.dispatchSubscriber=function(e){switch(e.method){case"created":this.emit("subscriber#created",e.params.stream,e.fromAddress,e.content.id);break;case"deleted":this.dispatchJsep("unsubscribe",e),this.emit("subscriber#deleted",e.params.stream,e.fromAddress);break;case"generateoffer":case"answer":case"pranswer":case"offer":case"candidate":this.dispatchJsep(e.method,e);break;default:d.debug("".concat(e.signature," is not currently implemented"))}},u.prototype.dispatchSignal=function(e){"signal"===e.method?this.emit("signal",e.fromAddress,e.content):d.debug("".concat(e.signature," is not currently implemented"))},u.prototype.dispatchCaption=function(e){this.emit("caption",e.fromAddress,e.content)},u.prototype.dispatchDownlinkStats=function(e){this.emit("downlinkStatsReceived",e.params.subscriber,e.content)},u.prototype.dispatchArchive=function(e){switch(e.method){case"created":this.emit("archive#created",e.content);break;case"updated":this.emit("archive#updated",e.params.archive,e.content)}},u.prototype.dispatchSource=function(e){switch(e.method){case"create":this.emit("source#create",e.params.source,e.params.stream,e.reason);break;case"delete":this.emit("source#delete",e.params.source,e.params.stream,e.reason);break;default:d.debug("".concat(e.signature," is not currently implemented"))}};var h=u;t.default=h},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(16)),o=i(n(758)),a=i(n(759)),s=i(n(7)),c=i(n(760)),l=i(n(334));const d=(0,i(n(38)).default)().onlyLocal(),u={connections:{}};u.connections.create=function(e){const t=e.apiKey,n=e.sessionId,i=e.connectionId,r=e.connectionEventsSuppressed,o=e.capabilities;return(0,l.default)({method:"create",uri:"/v2/partner/".concat(t,"/session/").concat(n,"/connection/").concat(i),content:{userAgent:s.default.env.userAgent,clientVersion:d.clientVersion,capabilities:o||[],connectionEventsSuppressed:r}})},u.connections.destroy=function(e){const t=e.apiKey,n=e.sessionId,i=e.connectionId;return(0,l.default)({method:"delete",uri:"/v2/partner/".concat(t,"/session/").concat(n,"/connection/").concat(i),content:{}})},u.sessions={},u.sessions.get=function(e,t){return(0,l.default)({method:"read",uri:"/v2/partner/".concat(e,"/session/").concat(t),content:{}})},u.streams={},u.streams.get=function(e,t,n){return(0,l.default)({method:"read",uri:"/v2/partner/".concat(e,"/session/").concat(t,"/stream/").concat(n),content:{}})},u.streams.channelFromOTChannel=function(e){const t={id:e.id,type:e.type,active:e.active};return"video"===e.type&&(t.width=e.width,t.height=e.height,t.orientation=e.orientation,t.frameRate=e.frameRate,"default"!==e.source&&(t.source=e.source),t.fitMode=e.fitMode),t},u.streams.create=function(e){void 0===e&&(e={});const t=e,n=t.apiKey,i=t.sessionId,r=t.streamId,o=t.name,a=t.audioFallbackEnabled,s=t.publisherAudioFallbackEnabled,c=t.subscriberAudioFallbackEnabled,d=t.channels,h=t.minBitrate,A=t.maxBitrate,p=t.sourceStreamId,g=t.e2ee,f=t.customProperties,m={id:r,name:o,audioFallbackEnabled:a,publisherAudioFallbackEnabled:s,subscriberAudioFallbackEnabled:c,channel:d.map((e=>u.streams.channelFromOTChannel(e))),e2ee:g,customProperties:f};return h&&(m.minBitrate=Math.round(h)),A&&(m.maxBitrate=Math.round(A)),p&&(m.sourceStreamId=p),"boolean"===typeof g&&(m.e2ee=g),(0,l.default)({method:"create",uri:"/v2/partner/".concat(n,"/session/").concat(i,"/stream/").concat(r),content:m})},u.streams.destroy=function(e,t,n,i){const r={};return i&&(r.sourceStreamId=i),(0,l.default)({method:"delete",uri:"/v2/partner/".concat(e,"/session/").concat(t,"/stream/").concat(n),content:r})},u.streamChannels={},u.streamChannels.update=function(e,t,n,i,r){return(0,l.default)({method:"update",uri:"/v2/partner/".concat(e,"/session/").concat(t,"/stream/").concat(n,"/channel/").concat(i),content:r})},u.subscribers={},u.subscribers.create=function(e){void 0===e&&(e={});const t=e,n=t.apiKey,i=t.sessionId,r=t.streamId,s=t.subscriberId,d=t.connectionId,u=t.channelsToSubscribeTo,h=t.sourceStreamId,A=t.e2ee,p={id:s,connection:d,keyManagementMethod:o.default,bundleSupport:(0,c.default)(),rtcpMuxSupport:(0,a.default)(),e2ee:A};return u&&(p.channel=u),h&&(p.sourceStreamId=h),(0,l.default)({method:"create",uri:"/v2/partner/".concat(n,"/session/").concat(i,"/stream/").concat(r,"/subscriber/").concat(s),content:p})},u.subscribers.destroy=function(e,t,n,i){return(0,l.default)({method:"delete",uri:"/v2/partner/".concat(e,"/session/").concat(t,"/stream/").concat(n,"/subscriber/").concat(i),content:{}})},u.subscribers.update=function(e,t,n,i,r){return(0,l.default)({method:"update",uri:"/v2/partner/".concat(e,"/session/").concat(t,"/stream/").concat(n,"/subscriber/").concat(i),content:r})},u.subscriberChannels={},u.subscriberChannels.update=function(e,t,n,i,r,o){return(0,l.default)({method:"update",uri:"/v2/partner/".concat(e,"/session/").concat(t,"/stream/").concat(n,"/subscriber/").concat(i,"/channel/").concat(r),content:o})},u.signals={},u.signals.create=function(e,t,n,i,o){const a={};return void 0!==i&&(a.type=i),void 0!==o&&(a.data=o),(0,l.default)({method:"signal",uri:"/v2/partner/".concat(e,"/session/").concat(t).concat(void 0!==n?"/connection/".concat(n):"","/signal/").concat((0,r.default)()),content:a})},u.forceMute={},u.forceMute.update=e=>{const t=e.apiKey,n=e.sessionId,i=e.streamId,r=e.active,o=e.excludedStreamIds,a={reason:"mute",channels:["audio"],active:r,locked:!1};return o&&(a.exclusion=o),(0,l.default)({method:"update",uri:"/v2/partner/".concat(t,"/session/").concat(n).concat(i?"/stream/".concat(i):""),content:a})};var h=u;t.default=h},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=function(e,t,n){var i;this.toRaptorMessage=function(){let t=this.to;return t&&"string"!==typeof t&&(t=t.id),s.default.signals.create(o.default.value,e,t,this.type,this.data)},this.toHash=function(){return n},this.error=null,this.retryAfterReconnect=!0,n&&(n.hasOwnProperty("data")&&(this.data=(0,r.default)(n.data),this.error=function(e){let t=null;if(null===e||void 0===e)t={code:400,reason:"The signal data was null or undefined. Either set it to a String value or omit it"};else try{JSON.stringify(e).length>l&&(t={code:413,reason:"The data field was too long, the maximum size of it is ".concat(l," characters")})}catch(n){t={code:400,reason:"The data field was not valid JSON"}}return t}(this.data)),n.hasOwnProperty("to")&&(this.to=n.to,this.error||(this.error=(i=this.to)?i instanceof a.default||i._tag===c.default?null:{code:400,reason:"The To field was invalid"}:{code:400,reason:"The signal to field was invalid. Either set it to a OT.Connection, OT.Session, or omit it entirely"})),n.hasOwnProperty("type")&&(this.error||(this.error=function(e){let t=null;return null===e||void 0===e?t={code:400,reason:"The signal type was null or undefined. Either set it to a String value or omit it"}:e.length>d?t={code:413,reason:"The signal type was too long, the maximum length of it is ".concat(d," characters")}:function(e){return!/^[a-zA-Z0-9\-\._~]+$/.exec(e)}(e)&&(t={code:400,reason:"The signal type was invalid, it can only contain letters, numbers, '-', '_', and '~'."}),t}(n.type)),this.type=n.type),n.hasOwnProperty("retryAfterReconnect")&&(this.error||(this.error=function(e){let t=null;return!0!==e&&!1!==e&&(t={code:400,reason:"The signal retryAfterReconnect was not true or false. Either set it to a Boolean value or omit it"}),t}(n.retryAfterReconnect)),this.retryAfterReconnect=n.retryAfterReconnect)),this.valid=null===this.error};var r=i(n(42)),o=i(n(70)),a=i(n(177)),s=i(n(338)),c=i(n(340));const l=8192,d=128},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0,t.default={}},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=function(e,t){let n=(void 0===t?{}:t).connectionEventsSuppressed;const i=new h.default;let a=!1;const c=new C(i);i.on("reconnecting",(()=>{e._.reconnecting()})),i.on("reconnected",(()=>{e._.reconnected()})),i.on("close",(t=>{const n=e.connection;n&&(n.destroyedReason()?f.debug("".concat("Socket was closed but the connection had already been destroyed. Reason: ").concat(n.destroyedReason())):n.destroy(t))}));const u=function(t,n){return e.connections.has(t.id)?e.connections.get(t.id):(t=d.default.fromHash(t),(n||e.connection&&t.id!==e.connection.id)&&(e.connections.add(t),c.triggerConnectionCreated(t)),Object.keys(I).forEach((i=>{const r=I[i];if(r&&t.id===r.connection.id){m(r,e),delete I[r.id];const i={debug:n?"connection came in session#read":"connection came in connection#created",streamId:r.id,connectionId:t.id};e.logEvent("streamCreated","warning",i)}})),t)};i.on("session#read",((t,n)=>{let r;const o={streams:[],connections:[],archives:[]};t.connection.forEach((e=>{r=u(e,!0),o.connections.push(r)})),t.stream.forEach((t=>{o.streams.push(m(t,e))})),(t.archive||t.archives).forEach((t=>{o.archives.push(E(t,e))})),i.triggerCallback(n,null,o),a=!0,c.triggerSessionConnected(e.connections)})),i.on("session#update",(t=>{if("mute"!==t.reason)return void f.debug("session#update that handle this reason is not currently implemented");const n=!0===t.active;e._.forceMute({active:n}),n?e._.enableMuteOnEntry():e._.disableMuteOnEntry()})),i.on("session#muted",(()=>{e._.enableMuteOnEntry(),e._.forceMute({active:!0})})),i.on("connection#created",(e=>{u(e)})),i.on("connection#deleted",((t,n)=>{(t=e.connections.get(t))?t.destroy(n):f.warn("A connection was deleted that we do not know about")})),i.on("stream#created",((t,r)=>{const o=t.id,a=t.sourceStreamId,c=t.connection;let l;if(n){if(null==c||null==c.id)return void e.logEvent("SessionDispatcher:stream#created","Event",{connection:c,info:"Stream did not contain a connection object. Event ignored"});u(c)}const d=t.connectionId||c.id;if(e.connections.has(d))l=m(t,e);else{I[o]=t;const n={debug:"eventOrderError -- streamCreated event before connectionCreated",streamId:o,sourceStreamId:(0,g.default)(a)};e.logEvent("streamCreated","warning",n)}l?(l.publisher&&l.publisher.setStream(l),i.triggerCallback(r,null,l)):e.sessionInfo.isAdaptiveEnabled&&"P2P"===a&&s.default.subscribers.where({streamId:o}).forEach((e=>{e._.startRoutedToRelayedTransition()}))})),i.on("stream#deleted",((t,n,i)=>{const r=e.streams.get(t),o=i.sourceStreamId,a=s.default.subscribers,c=e.sessionInfo.isAdaptiveEnabled&&"P2P"===o;(r||c)&&(c?a.where({streamId:t}).forEach((e=>{e._.startRelayedToRoutedTransition()})):r.destroy(n))})),i.on("stream#updated",((t,n)=>{const i=e.streams.get(t);i?i._.update(n):f.error("A stream does not exist with the id of ".concat(t,", for stream#updated message!"))})),i.on("stream#update",((t,n)=>{const i=e.streams.get(t),r=n.reason,o=n.active;i?"mute"===r?o&&i._.forceMute(n):f.debug("stream#update that handle this reason is not currently implemented"):f.error("A stream does not exist with the id of ".concat(t,", for stream#updated message!"))})),i.on("streamChannel#updated",((t,n,i)=>{let r;e.sessionInfo.isAdaptiveEnabled&&"P2P"===i.sourceStreamId||(t&&(r=e.streams.get(t))?r._.updateChannel(n,i):f.error("Unable to determine streamId, or the stream does not exist, for streamChannel message!"))}));const A=(t,n,i,a)=>{let c,u;const h={streamId:n},A=s.default.subscribers,p=s.default.publishers;switch(c=a.params.subscriber?{widgetId:a.params.subscriber}:h,t){case"offer":u=[].concat(A.where(c),p.where(h)).slice(0,1);break;case"answer":case"pranswer":u=[].concat(p.where(h),A.where(c)).slice(0,1);break;case"generateoffer":case"unsubscribe":u=p.where(h);break;case"candidate":u=[].concat(A.where(c),p.where(h));break;default:return void f.debug("jsep#".concat(t," is not currently implemented"))}if(0===u.length)return;let g=e.connections.get(i);!g&&i.match(/^symphony\./)&&(g=d.default.fromHash({id:i,creationTime:Math.floor((0,l.default)())}),e.connections.add(g)),u.forEach(function(){var e=(0,o.default)(r.default.mark((function e(n){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.processMessage(t,i,a);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),f.error("Error occurred during processMessage",e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}())};return i.on("jsep#offer",A.bind(null,"offer")),i.on("jsep#answer",A.bind(null,"answer")),i.on("jsep#pranswer",A.bind(null,"pranswer")),i.on("jsep#generateoffer",A.bind(null,"generateoffer")),i.on("jsep#unsubscribe",A.bind(null,"unsubscribe")),i.on("jsep#candidate",A.bind(null,"candidate")),i.on("subscriberChannel#updated",((t,n,i)=>{t&&e.streams.has(t)?e.streams.get(t)._.updateChannel(n,i):f.error("Unable to determine streamId, or the stream does not exist, for subscriberChannel#updated message!")})),i.on("subscriberChannel#update",((t,n,i)=>{n&&e.streams.has(n)?s.default.subscribers.has(t)?s.default.subscribers.get(t).disableVideo(i.active):f.error("Unable to determine subscriberId, or the subscriber does not exist, for subscriberChannel#update message!"):f.error("Unable to determine streamId, or the stream does not exist, for subscriberChannel#update message!")})),i.on("signal",((t,i)=>{if(n){let n=i.connection||i.fromConnection;null!=n&&null!=n.id||(n=function(e){return{id:e,creationTime:(new Date).getTime(),data:{},capablities:{},permissions:[]}}(t),e.logEvent("SessionDispatcher:Signal","Event",{fromAddress:t,connection:i.connection,fromConnection:i.fromConnection,info:"Signal did not contain a connection object. One has been constructed",constructedConnection:n})),u(n)}const r=i.type,o=i.data,s=e.connections.get(t);e.connection&&t===e.connection.connectionId?a?e._.dispatchSignal(s,r,o):c.enqueue("sessionConnected","signal",t,r,o):e.connections.get(t)?e._.dispatchSignal(s,r,o):""===t?e._.dispatchSignal(null,r,o):c.enqueue("connectionCreated".concat(t),"signal",t,r,o)})),i.on("caption",((t,n)=>{e._.dispatchCaption(t,n)})),i.on("downlinkStatsReceived",((e,t)=>{s.default.subscribers.get(e)._onDownlinkStatsReceived(t)})),i.on("archive#created",(t=>{E(t,e)})),i.on("archive#updated",((t,n)=>{const i=e.archives.get(t);i?i._.update(n):f.error("An archive does not exist with the id of ".concat(t,", for archive#updated message!"))})),i.on("source#create",((t,n,i)=>{const r=(0,g.default)(t);e.logEvent("SessionDispatcher:source#create","Event",{sourceStreamId:r,streamId:n,reason:i}),f.debug("Received a request from RUMOR to start a transition to "+"".concat(t," for the stream ID ").concat(n," with the reason: ").concat(i)),s.default.publishers.where({streamId:n}).forEach((e=>{e._.startRoutedToRelayedTransition()}))})),i.on("source#delete",((t,n,i)=>{e.logEvent("SessionDispatcher:source#delete","Event",{sourceStreamId:(0,g.default)(t),streamId:n,reason:i}),f.debug("Received a request from RUMOR to start a transition from P2P "+"to MANTIS for the stream ID ".concat(n," with the reason: ").concat(i)),s.default.publishers.where({streamId:n}).forEach((e=>{e._.startRelayedToRoutedTransition()}))})),i};var r=i(n(4)),o=i(n(5)),a=i(n(1)),s=i(n(24)),c=i(n(342)),l=i(n(50)),d=i(n(177)),u=i(n(763)),h=i(n(337)),A=i(n(175)),p=i(n(154)),g=i(n(171));const f=(0,a.default)("SessionDispatcher");function m(e,t){if(t.streams.has(e.id))return;const n=function(e,t){const n=e.channel.map((e=>new p.default(e))),i=e.connectionId?e.connectionId:e.connection.id;return new A.default(e.id,e.name,e.creationTime,t.connections.get(i),t,n,e.customProperties&&e.customProperties.initials)}(e,t);return t.streams.add(n),n}function E(e,t){if(t.archives.has(e.id))return;const n=function(e){return new c.default(e.id,e.name,e.status)}(e);return t.archives.add(n),n}const C=function(e){const t={};this.enqueue=function(){const n=arguments[0],i=Array.prototype.slice.call(arguments,1);t[n]||(t[n]=new u.default(e)),t[n].enqueue.apply(t[n],i)},this.triggerConnectionCreated=function(e){t["connectionCreated".concat(e.id)]&&t["connectionCreated".concat(e.id)].triggerAll()},this.triggerSessionConnected=function(e){t.sessionConnected&&t.sessionConnected.triggerAll(),e.forEach((function(e){this.triggerConnectionCreated(e)}),this)}},I={}},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=function(e,t,n){this.id=e,this.name=t,this.status=n,this._={},(0,r.default)(this),this._.update=e=>{Object.keys(e).forEach((t=>{const n=this[t];this[t]=e[t];const i=new o.ArchiveUpdatedEvent(this,t,n,this[t]);this.dispatchEvent(i)}))},this.destroy=()=>{}};var r=i(n(6));const o=(0,i(n(23)).default)()},function(e,t,n){(function(e){function n(e,t){for(var n=0,i=e.length-1;i>=0;i--){var r=e[i];"."===r?e.splice(i,1):".."===r?(e.splice(i,1),n++):n&&(e.splice(i,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function i(e,t){if(e.filter)return e.filter(t);for(var n=[],i=0;i<e.length;i++)t(e[i],i,e)&&n.push(e[i]);return n}t.resolve=function(){for(var t="",r=!1,o=arguments.length-1;o>=-1&&!r;o--){var a=o>=0?arguments[o]:e.cwd();if("string"!==typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(t=a+"/"+t,r="/"===a.charAt(0))}return(r?"/":"")+(t=n(i(t.split("/"),(function(e){return!!e})),!r).join("/"))||"."},t.normalize=function(e){var o=t.isAbsolute(e),a="/"===r(e,-1);return(e=n(i(e.split("/"),(function(e){return!!e})),!o).join("/"))||o||(e="."),e&&a&&(e+="/"),(o?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(i(e,(function(e,t){if("string"!==typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},t.relative=function(e,n){function i(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var r=i(e.split("/")),o=i(n.split("/")),a=Math.min(r.length,o.length),s=a,c=0;c<a;c++)if(r[c]!==o[c]){s=c;break}var l=[];for(c=s;c<r.length;c++)l.push("..");return(l=l.concat(o.slice(s))).join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!==typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,i=-1,r=!0,o=e.length-1;o>=1;--o)if(47===(t=e.charCodeAt(o))){if(!r){i=o;break}}else r=!1;return-1===i?n?"/":".":n&&1===i?"/":e.slice(0,i)},t.basename=function(e,t){var n=function(e){"string"!==typeof e&&(e+="");var t,n=0,i=-1,r=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!r){n=t+1;break}}else-1===i&&(r=!1,i=t+1);return-1===i?"":e.slice(n,i)}(e);return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){"string"!==typeof e&&(e+="");for(var t=-1,n=0,i=-1,r=!0,o=0,a=e.length-1;a>=0;--a){var s=e.charCodeAt(a);if(47!==s)-1===i&&(r=!1,i=a+1),46===s?-1===t?t=a:1!==o&&(o=1):-1!==t&&(o=-1);else if(!r){n=a+1;break}}return-1===t||-1===i||0===o||1===o&&t===i-1&&t===n+1?"":e.slice(t,i)};var r=function(e,t,n){return e.substr(t,n)}}).call(this,n(28))},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;const r=(0,i(n(20)).default)().getAudioOutputMediaDevices;t.default=()=>r()},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;const r=(0,i(n(20)).default)().getActiveAudioOutputDevice;t.default=()=>r()},function(e,t,n){"use strict";(function(e){var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(4)),o=i(n(5)),a=i(n(94)),s=i(n(20)),c=i(n(211)),l=i(n(27)),d=i(n(24)),u=i(n(345));const h=a.default.setCurrentAudioOutputDeviceId,A=(0,s.default)(),p=A.getDefaultAudioOutputDeviceId,g=A.getAudioOutputMediaDevices,f=new l.default,m=(e,t)=>{f.logEvent({action:"updateSubscribersSinkId",variation:e,payload:t})},E=t=>{const n=d.default.subscribers.map((e=>e._.setSinkId(t)));return e.all(n)},C=function(){var e=(0,o.default)(r.default.mark((function e(t){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.default)();case 2:return e.prev=2,m("Attempt",{deviceId:t}),e.next=6,E(t);case 6:m("Success",{deviceId:t}),e.next=13;break;case 9:throw e.prev=9,e.t0=e.catch(2),m("Failure",{deviceId:t,error:null==e.t0?void 0:e.t0.message}),e.t0;case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=(0,o.default)(r.default.mark((function e(){var t,n;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g();case 2:return t=e.sent,n=p(t),e.prev=4,e.next=7,C(n);case 7:h(n),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(4);case 12:case"end":return e.stop()}}),e,null,[[4,10]])})));return function(){return e.apply(this,arguments)}}(),Q=function(){var e=(0,o.default)(r.default.mark((function e(){var t;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.default)();case 2:return t=e.sent,e.prev=3,e.next=6,C(t.deviceId);case 6:e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(3),e.next=12,I();case 12:case"end":return e.stop()}}),e,null,[[3,8]])})));return function(){return e.apply(this,arguments)}}();var U=function(){var e=(0,o.default)(r.default.mark((function e(t){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m("Attempt",{deviceId:t}),e.next=4,E(t);case 4:m("Success",{deviceId:t}),h(t),e.next=14;break;case 8:return e.prev=8,e.t0=e.catch(0),m("Failure",{deviceId:t,error:null==e.t0?void 0:e.t0.message}),e.next=13,Q();case 13:throw e.t0;case 14:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();t.default=U}).call(this,n(2))},function(e,t,i){"use strict";var r=i(0),o=r(i(42)),a=r(i(195)),s=r(i(6)),c=r(i(1)),l=r(i(125)),d=r(i(20)),u=r(i(129)),h=r(i(260)),A=r(i(130)),p=r(i(72)),g=r(i(10)),f=r(i(22)),m=r(i(212)),E=r(i(106)),C=r(i(147)),I=r(i(30)),Q=r(i(132)),U=r(i(38)),y=r(i(27)),b=r(i(216)),v=r(i(563)),R=r(i(564)),S=r(i(565)),F=r(i(24)),B=r(i(13)),T=r(i(8)),N=r(i(148)),_=r(i(7)),w=r(i(70)),k=r(i(149)),D=r(i(262)),V=r(i(150)),Z=r(i(151)),W=r(i(263)),O=r(i(225)),J=r(i(592)),x=i(107),M=r(i(276)),L=r(i(154)),P=r(i(155)),G=r(i(156)),Y=r(i(73)),j=r(i(292)),X=r(i(293)),K=r(i(23)),H=r(i(162)),z=r(i(646)),q=r(i(163)),$=r(i(651)),ee=r(i(654)),te=r(i(164)),ne=r(i(303)),ie=r(i(259)),re=r(i(165)),oe=r(i(304)),ae=r(i(310)),se=r(i(312)),ce=r(i(675)),le=r(i(169)),de=r(i(316)),ue=r(i(173)),he=r(i(330)),Ae=r(i(331)),pe=r(i(785)),ge=r(i(786)),fe=r(i(789)),me=r(i(790)),Ee=r(i(342)),Ce=r(i(174)),Ie=r(i(177)),Qe=r(i(791)),Ue=r(i(344)),ye=r(i(345)),be=r(i(792)),ve=r(i(290)),Re=r(i(341)),Se=r(i(339)),Fe=r(i(175)),Be=r(i(321)),Te=r(i(76)),Ne=r(i(286)),_e=i(97),we=r(i(170)),ke=r(i(793));i(795);const De=(0,U.default)(),Ve=(0,c.default)("OT"),Ze=De.onlyLocal(),We={};We.noConflict=(0,S.default)(),(void 0!==typeof window?window:n.g).OT=We,e.exports=We,(()=>{let e=We;Object.defineProperty(void 0!==typeof window?window:n.g,"TB",{get:()=>(e===We&&console.warn("window.TB is deprecated, and will be removed in the future. Please access via window.OT"),e),set:t=>{e=t},configurable:!0})})();const Oe=(0,N.default)(void 0!==typeof window?window:n.g),Je=(0,Y.default)({global:Oe}),xe=(0,B.default)({}),Me=(0,u.default)(),Le=(0,j.default)({otError:xe}),Pe=(0,X.default)(),Ge=(0,m.default)({global:Oe}),Ye=(0,d.default)({getNativeEnumerateDevices:Ge}),je=(0,K.default)(),Xe=(0,H.default)(),Ke=(0,z.default)({otError:xe,global:Oe}),He=(0,q.default)({chromeExtensionHelper:Le,otError:xe}),ze=(0,$.default)({deviceHelpers:Ye,generateConstraintInfo:W.default,getUserMediaHelper:Ke,global:Oe,OTHelpers:_.default,screenSharing:He}),qe=(0,ee.default)({otError:xe,processPubOptions:ze}),$e=(0,te.default)({otError:xe}),et=(0,ne.default)(),tt=(0,ie.default)({otError:xe}),nt=(0,a.default)({global:Oe,videoElementErrorMap:tt}),it=(0,re.default)({global:Oe}),rt=(0,oe.default)({PeerConnection:Je,setCertificates:it}),ot=(0,ae.default)({PeerConnection:Je,setCertificates:it}),at=(0,se.default)(),st=(0,ce.default)({otError:xe}),ct=(0,E.default)({NativeVideoElementWrapper:nt}),lt=(0,C.default)(),dt=(0,le.default)({VideoElementFacade:ct}),ut=(0,de.default)({interpretPeerConnectionError:$e,otError:xe,SubscriberPeerConnection:ot,WidgetView:dt}),ht=(0,ue.default)({APIKEY:w.default,createChromeMixin:Pe,deviceHelpers:Ye,EnvironmentLoader:Z.default,Errors:T.default,Events:je,ExceptionCodes:g.default,calculateCapableSimulcastStreams:D.default,global:Oe,interpretPeerConnectionError:$e,IntervalRunner:p.default,Microphone:et,otError:xe,OTErrorClass:f.default,OTHelpers:_.default,parseIceServers:x.parseIceServers,processPubOptions:ze,PUBLISH_MAX_DELAY:M.default,PublisherPeerConnection:rt,PublishingState:at,StreamChannel:L.default,systemRequirements:G.default,VideoOrientation:lt,WidgetView:dt}),At=(0,he.default)({otError:xe,Publisher:ht}),pt=(0,Ae.default)({global:Oe,initPublisher:At,otError:xe,Publisher:ht,Subscriber:ut}),gt=(0,pe.default)({Session:pt});(0,s.default)(We),(0,b.default)(We,"$",{name:"OT.$",getMessage:"Please use an external library like jQuery to select elements from the page.",value:_.default}),We.APIKEY=w.default.value,We.AnalyserAudioLevelSampler=A.default,We.Archive=Ee.default,We.ArchiveEvent=je.ArchiveEvent,We.ArchiveUpdatedEvent=je.ArchiveUpdatedEvent,We.AudioLevelTransformer=k.default,We.AudioLevelUpdatedEvent=je.AudioLevelUpdatedEvent,We.Capabilities=Ce.default,We.Chrome=V.default,We.Connection=Ie.default,We.ConnectionCapabilities=We.Connection.Capabilities,We.ConnectionEvent=je.ConnectionEvent,Object.keys(l.default).forEach((e=>{We[e.toUpperCase()]=l.default[e].priority})),We.NONE=0,We.debug=Ve.debug,We.error=Ve.error,We.info=Ve.info,We.log=Ve.log,We.warn=Ve.warn,We.DestroyedEvent=je.DestroyedEvent,We.EnvLoadedEvent=je.EnvLoadedEvent,We.Error=f.default,We.Error.on(I.default.EXCEPTION,(e=>{if(e.target===We.Error){const t=(0,o.default)(e);t.target=We,We.dispatchEvent(t)}else We.dispatchEvent(e)})),We.Event=Q.default,We.ExceptionCodes=g.default,We.ExceptionEvent=je.ExceptionEvent,We.getDevices=Qe.default,We.getAudioOutputDevices=Ue.default,We.getActiveAudioOutputDevice=ye.default,We.setAudioOutputDevice=(0,be.default)(),We.GetAudioLevelSampler=h.default,We.HAS_REQUIREMENTS=1,We.IntervalRunner=p.default,We.IssueReportedEvent=je.IssueReportedEvent,We.MediaStoppedEvent=je.MediaStoppedEvent,We.Microphone=et,We.NOT_HAS_REQUIREMENTS=0,We.PeerConnection=Je,We.PeerConnection.QOS=ve.default,We.Publisher=ht,We.PublisherPeerConnection=rt,We.PublishingState=at,We.MuteForcedEvent=je.MuteForcedEvent,We.Session=pt,We.SessionConnectEvent=je.SessionConnectEvent,We.SessionDisconnectEvent=je.SessionDisconnectEvent,We.SessionDispatcher=Re.default,We.Signal=Se.default,We.SignalEvent=je.SignalEvent,We.Stream=Fe.default,We.StreamChannel=L.default,We.StreamEvent=je.StreamEvent,We.StreamPropertyChangedEvent=je.StreamPropertyChangedEvent,We.StreamUpdatedEvent=je.StreamUpdatedEvent,We.StylableComponent=P.default,We.Subscriber=ut,We.SubscriberPeerConnection=ot,We.SubscribingState=Be.default,We.VideoDimensionsChangedEvent=je.VideoDimensionsChangedEvent,We.VideoDisableWarningEvent=je.VideoDisableWarningEvent,We.VideoElement=ct,We.VideoEnabledChangedEvent=je.VideoEnabledChangedEvent,We.VideoOrientation=lt,We.WidgetView=dt,We.getSupportedCodecs=ge.default,We.hasMediaProcessorSupport=fe.default,We.hasEndToEndEncryptionSupport=me.default,We._={AnalyticsHelper:y.default,getClientGuid:O.default.get,StaticConfig:De},Object.defineProperty(We,"version",{value:Ze.version});const ft={};(0,b.default)(ft,"version",{value:Ze.version,name:"OT.properties.version",getWarning:"Please use OT.version instead",warnOnSet:!0,setWarning:"Mutating version has no effect"}),v.default.forEach((e=>{let t,n;if(Array.isArray(e)){const i=e[0],r=e[1];n=i,t=Ze[r]||r}else t=Ze[e],n=e;const i=(r=n,R.default.includes(r));var r;(0,b.default)(ft,n,{value:t,name:"OT.properties.".concat(n),warnOnSet:!0,canSet:i,setWarning:"Mutating ".concat(n,i?" can cause side effects":" has no effect")})})),We.properties=ft,We.audioContext=Me,We.checkScreenSharingCapability=He.checkCapability,We.checkSystemRequirements=G.default.check,We.components={},We.generateSimpleStateMachine=Xe,We.getErrorTitleByCode=f.default.getTitleByCode,We.getLogs=Ve.getLogs,We.getStatsAdpater=Ne.default,We.getStatsHelpers=Te.default,We.getUserMedia=qe,We.handleJsException=f.default.handleJsException,We.initPublisher=At,We.setProxyUrl=_e.setProxyUrl,We.initSession=function(e,t,n){return null==t&&(t=e,e=null),0===w.default.value.length&&e&&(w.default.value=e,We.APIKEY=e),gt(e,t,n)};const mt=(e,t)=>()=>(console.warn("".concat(e," is deprecated and will be removed in a future version of OpenTok")),t);Object.defineProperties(We,{isUnloaded:{get:mt("OT.isUnloaded",Z.default.isUnloaded)},onLoad:{get:mt("OT.onLoad",Z.default.onLoad)},onUnload:{get:mt("OT.onUnload",Z.default.onUnload)},overrideGuidStorage:{get:mt("OT.overrideGuidStorage",O.default.override)}}),We.pickScreenSharingHelper=He.pickHelper,We.publishers=F.default.publishers,We.registerScreenSharingExtension=He.registerExtension,We.registerScreenSharingExtensionHelper=He.registerExtensionHelper,We.reportIssue=st,We.sessions=F.default.sessions,We.setLogLevel=J.default,We.shouldLog=Ve.shouldLog,We.subscribers=F.default.subscribers,We.unblockAudio=we.default,We.upgradeSystemRequirements=G.default.upgrade,Z.default.onUnload((()=>{F.default.publishers.destroy(),F.default.subscribers.destroy(),F.default.sessions.destroy("unloaded")})),(0,ke.default)()},function(e,t){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,n){var i=n(81),r=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=i(t,e);return!(n<0)&&(n==t.length-1?t.pop():r.call(t,n,1),--this.size,!0)}},function(e,t,n){var i=n(81);e.exports=function(e){var t=this.__data__,n=i(t,e);return n<0?void 0:t[n][1]}},function(e,t,n){var i=n(81);e.exports=function(e){return i(this.__data__,e)>-1}},function(e,t,n){var i=n(81);e.exports=function(e,t){var n=this.__data__,r=i(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}},function(e,t,n){var i=n(80);e.exports=function(){this.__data__=new i,this.size=0}},function(e,t){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},function(e,t){e.exports=function(e){return this.__data__.get(e)}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t,n){var i=n(80),r=n(112),o=n(113);e.exports=function(e,t){var n=this.__data__;if(n instanceof i){var a=n.__data__;if(!r||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(a)}return n.set(e,t),this.size=n.size,this}},function(e,t,n){var i=n(17),r=n(361),o=n(11),a=n(179),s=/^\[object .+?Constructor\]$/,c=Function.prototype,l=Object.prototype,d=c.toString,u=l.hasOwnProperty,h=RegExp("^"+d.call(u).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||r(e))&&(i(e)?h:s).test(a(e))}},function(e,t,n){var i=n(44),r=Object.prototype,o=r.hasOwnProperty,a=r.toString,s=i?i.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var i=!0}catch(c){}var r=a.call(e);return i&&(t?e[s]=n:delete e[s]),r}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t,n){var i=n(362),r=function(){var e=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!r&&r in e}},function(e,t,n){var i=n(15)["__core-js_shared__"];e.exports=i},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t,n){var i=n(365),r=n(80),o=n(112);e.exports=function(){this.size=0,this.__data__={hash:new i,map:new(o||r),string:new i}}},function(e,t,n){var i=n(366),r=n(367),o=n(368),a=n(369),s=n(370);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}c.prototype.clear=i,c.prototype.delete=r,c.prototype.get=o,c.prototype.has=a,c.prototype.set=s,e.exports=c},function(e,t,n){var i=n(82);e.exports=function(){this.__data__=i?i(null):{},this.size=0}},function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},function(e,t,n){var i=n(82),r=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(i){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return r.call(t,e)?t[e]:void 0}},function(e,t,n){var i=n(82),r=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return i?void 0!==t[e]:r.call(t,e)}},function(e,t,n){var i=n(82);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=i&&void 0===t?"__lodash_hash_undefined__":t,this}},function(e,t,n){var i=n(83);e.exports=function(e){var t=i(this,e).delete(e);return this.size-=t?1:0,t}},function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},function(e,t,n){var i=n(83);e.exports=function(e){return i(this,e).get(e)}},function(e,t,n){var i=n(83);e.exports=function(e){return i(this,e).has(e)}},function(e,t,n){var i=n(83);e.exports=function(e,t){var n=i(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}},function(e,t){e.exports=function(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}},function(e,t,n){var i=n(32),r=n(18);e.exports=function(e){return r(e)&&"[object Arguments]"==i(e)}},function(e,t){e.exports=function(){return!1}},function(e,t,n){var i=n(32),r=n(115),o=n(18),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&r(e.length)&&!!a[i(e)]}},function(e,t,n){var i=n(183)(Object.keys,Object);e.exports=i},function(e,t,n){var i=n(45),r=n(54);e.exports=function(e,t){return e&&i(t,r(t),e)}},function(e,t,n){var i=n(11),r=n(68),o=n(383),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!i(e))return o(e);var t=r(e),n=[];for(var s in e)("constructor"!=s||!t&&a.call(e,s))&&n.push(s);return n}},function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},function(e,t,n){var i=n(45),r=n(118);e.exports=function(e,t){return i(e,r(e),t)}},function(e,t){e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length,r=0,o=[];++n<i;){var a=e[n];t(a,n,e)&&(o[r++]=a)}return o}},function(e,t,n){var i=n(45),r=n(186);e.exports=function(e,t){return i(e,r(e),t)}},function(e,t,n){var i=n(43)(n(15),"DataView");e.exports=i},function(e,t,n){var i=n(43)(n(15),"Promise");e.exports=i},function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e){var t=e.length,i=new e.constructor(t);return t&&"string"==typeof e[0]&&n.call(e,"index")&&(i.index=e.index,i.input=e.input),i}},function(e,t,n){var i=n(121),r=n(391),o=n(392),a=n(393),s=n(193);e.exports=function(e,t,n){var c=e.constructor;switch(t){case"[object ArrayBuffer]":return i(e);case"[object Boolean]":case"[object Date]":return new c(+e);case"[object DataView]":return r(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(e,n);case"[object Map]":case"[object Set]":return new c;case"[object Number]":case"[object String]":return new c(e);case"[object RegExp]":return o(e);case"[object Symbol]":return a(e)}}},function(e,t,n){var i=n(121);e.exports=function(e,t){var n=t?i(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},function(e,t){var n=/\w*$/;e.exports=function(e){var t=new e.constructor(e.source,n.exec(e));return t.lastIndex=e.lastIndex,t}},function(e,t,n){var i=n(44),r=i?i.prototype:void 0,o=r?r.valueOf:void 0;e.exports=function(e){return o?Object(o.call(e)):{}}},function(e,t,n){var i=n(395),r=n(67),o=n(116),a=o&&o.isMap,s=a?r(a):i;e.exports=s},function(e,t,n){var i=n(46),r=n(18);e.exports=function(e){return r(e)&&"[object Map]"==i(e)}},function(e,t,n){var i=n(397),r=n(67),o=n(116),a=o&&o.isSet,s=a?r(a):i;e.exports=s},function(e,t,n){var i=n(46),r=n(18);e.exports=function(e){return r(e)&&"[object Set]"==i(e)}},function(e,t,n){var i=function(){return this||"object"===typeof self&&self}()||Function("return this")(),r=i.regeneratorRuntime&&Object.getOwnPropertyNames(i).indexOf("regeneratorRuntime")>=0,o=r&&i.regeneratorRuntime;if(i.regeneratorRuntime=void 0,e.exports=n(399),r)i.regeneratorRuntime=o;else try{delete i.regeneratorRuntime}catch(a){i.regeneratorRuntime=void 0}},function(e,t,n){(function(t){!function(n){"use strict";var i,r=Object.prototype,o=r.hasOwnProperty,a="function"===typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag",d="object"===typeof e,u=n.regeneratorRuntime;if(u)d&&(e.exports=u);else{(u=n.regeneratorRuntime=d?e.exports:{}).wrap=Q;var h="suspendedStart",A="suspendedYield",p="executing",g="completed",f={},m={};m[s]=function(){return this};var E=Object.getPrototypeOf,C=E&&E(E(_([])));C&&C!==r&&o.call(C,s)&&(m=C);var I=v.prototype=y.prototype=Object.create(m);b.prototype=I.constructor=v,v.constructor=b,v[l]=b.displayName="GeneratorFunction",u.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},u.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,l in e||(e[l]="GeneratorFunction")),e.prototype=Object.create(I),e},u.awrap=function(e){return{__await:e}},R(S.prototype),S.prototype[c]=function(){return this},u.AsyncIterator=S,u.async=function(e,t,n,i){var r=new S(Q(e,t,n,i));return u.isGeneratorFunction(t)?r:r.next().then((function(e){return e.done?e.value:r.next()}))},R(I),I[l]="Generator",I[s]=function(){return this},I.toString=function(){return"[object Generator]"},u.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var i=t.pop();if(i in e)return n.value=i,n.done=!1,n}return n.done=!0,n}},u.values=_,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=i,this.done=!1,this.delegate=null,this.method="next",this.arg=i,this.tryEntries.forEach(T),!e)for(var t in this)"t"===t.charAt(0)&&o.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=i)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return s.type="throw",s.arg=e,t.next=n,r&&(t.method="next",t.arg=i),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r],s=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=o.call(a,"catchLoc"),l=o.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&o.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var a=r?r.completion:{};return a.type=e,a.arg=t,r?(this.method="next",this.next=r.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;T(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:_(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=i),f}}}function Q(e,t,n,i){var r=t&&t.prototype instanceof y?t:y,o=Object.create(r.prototype),a=new N(i||[]);return o._invoke=function(e,t,n){var i=h;return function(r,o){if(i===p)throw new Error("Generator is already running");if(i===g){if("throw"===r)throw o;return w()}for(n.method=r,n.arg=o;;){var a=n.delegate;if(a){var s=F(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===h)throw i=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=p;var c=U(e,t,n);if("normal"===c.type){if(i=n.done?g:A,c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=g,n.method="throw",n.arg=c.arg)}}}(e,n,a),o}function U(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(i){return{type:"throw",arg:i}}}function y(){}function b(){}function v(){}function R(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function S(e){function n(i,r,a,s){var c=U(e[i],e,r);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"===typeof d&&o.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(d).then((function(e){l.value=e,a(l)}),(function(e){return n("throw",e,a,s)}))}s(c.arg)}var i;this._invoke=function(e,r){function o(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(o,o):o()}}function F(e,t){var n=e.iterator[t.method];if(n===i){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=i,F(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=U(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=i),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function B(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(B,this),this.reset(!0)}function _(e){if(e){var t=e[s];if(t)return t.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(o.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=i,t.done=!0,t};return r.next=r}}return{next:w}}function w(){return{value:i,done:!0}}}(function(){return this||"object"===typeof self&&self}()||Function("return this")())}).call(this,n(2))},function(e,t,n){var i=n(401),r=n(180),o=n(89),a=r?function(e,t){return r(e,"toString",{configurable:!0,enumerable:!1,value:i(t),writable:!0})}:o;e.exports=a},function(e,t){e.exports=function(e){return function(){return e}}},function(e,t,n){(function(i){t.log=function(){return"object"===typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(t){var n=this.useColors;if(t[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+t[0]+(n?"%c ":" ")+"+"+e.exports.humanize(this.diff),n){var i="color: "+this.color;t.splice(1,0,i,"color: inherit");var r=0,o=0;t[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(r++,"%c"===e&&(o=r))})),t.splice(o,0,i)}},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.setItem("debug",e)}catch(n){}},t.load=function(){var e;try{e=t.storage.getItem("debug")}catch(n){}return!e&&"undefined"!==typeof i&&"env"in i&&(e=i.env.DEBUG),e},t.useColors=function(){var e=function(e){var n="debug_"+e.toLowerCase();try{return t.storage.getItem(n)}catch(r){return"undefined"!==typeof i&&"env"in i?i.env[n.toUpperCase()]:void 0}}("colors");return!/^(no|off|false|disabled)$/i.test(e)&&(!("undefined"===typeof window||!window.process||"renderer"!==window.process.type)||("undefined"===typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&Boolean("undefined"!==typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!==typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)))},t.storage=function(){try{return localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.exports=n(403)(t),e.exports.formatters.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}}).call(this,n(28))},function(e,t,n){e.exports=function(e){function t(e){var t,n=0;for(t in e)n=(n<<5)-n+e.charCodeAt(t),n|=0;return i.colors[Math.abs(n)%i.colors.length]}function i(e){var n;function o(){if(o.enabled){var e=o,t=+new Date,r=t-(n||t);e.diff=r,e.prev=n,e.curr=t,n=t;for(var a=new Array(arguments.length),s=0;s<a.length;s++)a[s]=arguments[s];a[0]=i.coerce(a[0]),"string"!==typeof a[0]&&a.unshift("%O");var c=0;a[0]=a[0].replace(/%([a-zA-Z%])/g,(function(t,n){if("%%"===t)return t;c++;var r=i.formatters[n];if("function"===typeof r){var o=a[c];t=r.call(e,o),a.splice(c,1),c--}return t})),i.formatArgs.call(e,a),(e.log||i.log).apply(e,a)}}return o.namespace=e,o.enabled=i.enabled(e),o.useColors=i.useColors(),o.color=t(e),o.destroy=r,"function"===typeof i.init&&i.init(o),i.instances.push(o),o}function r(){var e=i.instances.indexOf(this);return-1!==e&&(i.instances.splice(e,1),!0)}return i.debug=i.default=i,i.coerce=function(e){return e instanceof Error?e.stack||e.message:e},i.disable=function(){i.enable("")},i.enable=function(e){var t;i.save(e),i.names=[],i.skips=[];var n=("string"===typeof e?e:"").split(/[\s,]+/),r=n.length;for(t=0;t<r;t++)n[t]&&("-"===(e=n[t].replace(/\*/g,".*?"))[0]?i.skips.push(new RegExp("^"+e.substr(1)+"$")):i.names.push(new RegExp("^"+e+"$")));for(t=0;t<i.instances.length;t++){var o=i.instances[t];o.enabled=i.enabled(o.namespace)}},i.enabled=function(e){if("*"===e[e.length-1])return!0;var t,n;for(t=0,n=i.skips.length;t<n;t++)if(i.skips[t].test(e))return!1;for(t=0,n=i.names.length;t<n;t++)if(i.names[t].test(e))return!0;return!1},i.humanize=n(404),Object.keys(e).forEach((function(t){i[t]=e[t]})),i.instances=[],i.names=[],i.skips=[],i.formatters={},i.selectColor=t,i.enable(i.load()),i}},function(e,t){var n=1e3,i=60*n,r=60*i,o=24*r,a=7*o,s=365.25*o;function c(e,t,n,i){var r=t>=1.5*n;return Math.round(e/n)+" "+i+(r?"s":"")}e.exports=function(e,t){t=t||{};var l=typeof e;if("string"===l&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var c=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return c*s;case"weeks":case"week":case"w":return c*a;case"days":case"day":case"d":return c*o;case"hours":case"hour":case"hrs":case"hr":case"h":return c*r;case"minutes":case"minute":case"mins":case"min":case"m":return c*i;case"seconds":case"second":case"secs":case"sec":case"s":return c*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return c;default:return}}}}(e);if("number"===l&&isFinite(e))return t.long?function(e){var t=Math.abs(e);return t>=o?c(e,t,o,"day"):t>=r?c(e,t,r,"hour"):t>=i?c(e,t,i,"minute"):t>=n?c(e,t,n,"second"):e+" ms"}(e):function(e){var t=Math.abs(e);return t>=o?Math.round(e/o)+"d":t>=r?Math.round(e/r)+"h":t>=i?Math.round(e/i)+"m":t>=n?Math.round(e/n)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(200));const o=new r.default;var a=function(e,t){if(void 0===t)return e;o.has(t)||o.set(t,new r.default);const n=o.get(t);return n.has(e)||n.set(e,e.bind(t)),n.get(e)};t.default=a},function(e,t,n){"use strict";e.exports=function(){var e,t;if("function"!==typeof WeakMap)return!1;try{e=new WeakMap([[t={},"one"],[{},"two"],[{},"three"]])}catch(n){return!1}return"[object WeakMap]"===String(e)&&"function"===typeof e.set&&e.set({},1)===e&&"function"===typeof e.delete&&"function"===typeof e.has&&"one"===e.get(t)}},function(e,t,n){"use strict";var i,r=n(47),o=n(126),a=n(410),s=n(34),c=n(411),l=n(35),d=n(207),u=n(453),h=n(48).toStringTag,A=n(454),p=Array.isArray,g=Object.defineProperty,f=Object.prototype.hasOwnProperty,m=Object.getPrototypeOf;e.exports=i=function(){var e,t=arguments[0];if(!(this instanceof i))throw new TypeError("Constructor requires 'new'");return e=A&&o&&WeakMap!==i?o(new WeakMap,m(this)):this,r(t)&&(p(t)||(t=d(t))),g(e,"__weakMapData__",l("c","$weakMap$"+c())),t?(u(t,(function(t){s(t),e.set(t[0],t[1])})),e):e},A&&(o&&o(i,WeakMap),i.prototype=Object.create(WeakMap.prototype,{constructor:l(i)})),Object.defineProperties(i.prototype,{delete:l((function(e){return!!f.call(a(e),this.__weakMapData__)&&(delete e[this.__weakMapData__],!0)})),get:l((function(e){if(f.call(a(e),this.__weakMapData__))return e[this.__weakMapData__]})),has:l((function(e){return f.call(a(e),this.__weakMapData__)})),set:l((function(e,t){return g(a(e),this.__weakMapData__,l("c",t)),this})),toString:l((function(){return"[object WeakMap]"}))}),g(i.prototype,h,l("c","WeakMap"))},function(e,t,n){"use strict";e.exports=function(){}},function(e,t,n){"use strict";var i,r=Object.create;n(201)()||(i=n(202)),e.exports=function(){var e,t,n;return i?1!==i.level?r:(e={},t={},n={configurable:!1,enumerable:!1,writable:!0,value:void 0},Object.getOwnPropertyNames(Object.prototype).forEach((function(e){t[e]="__proto__"!==e?n:{configurable:!0,enumerable:!1,writable:!0,value:void 0}})),Object.defineProperties(e,t),Object.defineProperty(i,"nullPolyfill",{configurable:!1,enumerable:!1,writable:!1,value:e}),function(t,n){return r(null===t?e:t,n)}):r}()},function(e,t,n){"use strict";var i=n(203);e.exports=function(e){if(!i(e))throw new TypeError(e+" is not an Object");return e}},function(e,t,n){"use strict";var i=Object.create(null),r=Math.random;e.exports=function(){var e;do{e=r().toString(36).slice(2)}while(i[e]);return e}},function(e,t,n){"use strict";var i=n(413);e.exports=function(e){if("function"!==typeof e)return!1;if(!hasOwnProperty.call(e,"length"))return!1;try{if("number"!==typeof e.length)return!1;if("function"!==typeof e.call)return!1;if("function"!==typeof e.apply)return!1}catch(t){return!1}return!i(e)}},function(e,t,n){"use strict";var i=n(127);e.exports=function(e){if(!i(e))return!1;try{return!!e.constructor&&e.constructor.prototype===e}catch(t){return!1}}},function(e,t,n){"use strict";e.exports=function(){var e,t=Object.assign;return"function"===typeof t&&(t(e={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")}},function(e,t,n){"use strict";var i=n(416),r=n(34),o=Math.max;e.exports=function(e,t){var n,a,s,c=o(arguments.length,2);for(e=Object(r(e)),s=function(i){try{e[i]=t[i]}catch(r){n||(n=r)}},a=1;a<c;++a)i(t=arguments[a]).forEach(s);if(void 0!==n)throw n;return e}},function(e,t,n){"use strict";e.exports=n(417)()?Object.keys:n(418)},function(e,t,n){"use strict";e.exports=function(){try{return Object.keys("primitive"),!0}catch(e){return!1}}},function(e,t,n){"use strict";var i=n(47),r=Object.keys;e.exports=function(e){return r(i(e)?Object(e):e)}},function(e,t,n){"use strict";var i="razdwatrzy";e.exports=function(){return"function"===typeof i.contains&&!0===i.contains("dwa")&&!1===i.contains("foo")}},function(e,t,n){"use strict";var i=String.prototype.indexOf;e.exports=function(e){return i.call(this,e,arguments[1])>-1}},function(e,t,n){"use strict";var i,r=n(126),o=n(206),a=n(35),s=n(48),c=n(209),l=Object.defineProperty;i=e.exports=function(e,t){if(!(this instanceof i))throw new TypeError("Constructor requires 'new'");c.call(this,e),t=t?o.call(t,"key+value")?"key+value":o.call(t,"key")?"key":"value":"value",l(this,"__kind__",a("",t))},r&&r(i,c),delete i.prototype.constructor,i.prototype=Object.create(c.prototype,{_resolve:a((function(e){return"value"===this.__kind__?this.__list__[e]:"key+value"===this.__kind__?[e,this.__list__[e]]:e}))}),l(i.prototype,s.toStringTag,a("c","Array Iterator"))},function(e,t,n){"use strict";var i=n(92),r={object:!0,symbol:!0};e.exports=function(){var e,t=i.Symbol;if("function"!==typeof t)return!1;e=t("test symbol");try{String(e)}catch(n){return!1}return!!r[typeof t.iterator]&&!!r[typeof t.toPrimitive]&&!!r[typeof t.toStringTag]}},function(e,t,n){"use strict";e.exports=function(){return"object"===typeof globalThis&&!!globalThis&&globalThis.Array===Array}},function(e,t){var n=function(){if("object"===typeof self&&self)return self;if("object"===typeof window&&window)return window;throw new Error("Unable to resolve global `this`")};e.exports=function(){if(this)return this;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch(e){return n()}try{return __global__||n()}finally{delete Object.prototype.__global__}}()},function(e,t,n){"use strict";var i,r,o,a=n(35),s=n(208),c=n(92).Symbol,l=n(427),d=n(428),u=n(429),h=Object.create,A=Object.defineProperties,p=Object.defineProperty;if("function"===typeof c)try{String(c()),o=!0}catch(g){}else c=null;r=function(e){if(this instanceof r)throw new TypeError("Symbol is not a constructor");return i(e)},e.exports=i=function e(t){var n;if(this instanceof e)throw new TypeError("Symbol is not a constructor");return o?c(t):(n=h(r.prototype),t=void 0===t?"":String(t),A(n,{__description__:a("",t),__name__:a("",l(t))}))},d(i),u(i),A(r.prototype,{constructor:a(i),toString:a("",(function(){return this.__name__}))}),A(i.prototype,{toString:a((function(){return"Symbol ("+s(this).__description__+")"})),valueOf:a((function(){return s(this)}))}),p(i.prototype,i.toPrimitive,a("",(function(){var e=s(this);return"symbol"===typeof e?e:e.toString()}))),p(i.prototype,i.toStringTag,a("c","Symbol")),p(r.prototype,i.toStringTag,a("c",i.prototype[i.toStringTag])),p(r.prototype,i.toPrimitive,a("c",i.prototype[i.toPrimitive]))},function(e,t,n){"use strict";e.exports=function(e){return!!e&&("symbol"===typeof e||!!e.constructor&&"Symbol"===e.constructor.name&&"Symbol"===e[e.constructor.toStringTag])}},function(e,t,n){"use strict";var i=n(35),r=Object.create,o=Object.defineProperty,a=Object.prototype,s=r(null);e.exports=function(e){for(var t,n,r=0;s[e+(r||"")];)++r;return s[e+=r||""]=!0,o(a,t="@@"+e,i.gs(null,(function(e){n||(n=!0,o(this,t,i(e)),n=!1)}))),t}},function(e,t,n){"use strict";var i=n(35),r=n(92).Symbol;e.exports=function(e){return Object.defineProperties(e,{hasInstance:i("",r&&r.hasInstance||e("hasInstance")),isConcatSpreadable:i("",r&&r.isConcatSpreadable||e("isConcatSpreadable")),iterator:i("",r&&r.iterator||e("iterator")),match:i("",r&&r.match||e("match")),replace:i("",r&&r.replace||e("replace")),search:i("",r&&r.search||e("search")),species:i("",r&&r.species||e("species")),split:i("",r&&r.split||e("split")),toPrimitive:i("",r&&r.toPrimitive||e("toPrimitive")),toStringTag:i("",r&&r.toStringTag||e("toStringTag")),unscopables:i("",r&&r.unscopables||e("unscopables"))})}},function(e,t,n){"use strict";var i=n(35),r=n(208),o=Object.create(null);e.exports=function(e){return Object.defineProperties(e,{for:i((function(t){return o[t]?o[t]:o[t]=e(String(t))})),keyFor:i((function(e){var t;for(t in r(e),o)if(o[t]===e)return t}))})}},function(e,t,n){"use strict";var i=n(34);e.exports=function(){return i(this).length=0,this}},function(e,t,n){"use strict";var i,r=n(56),o=n(432),a=n(436),s=n(437),c=n(205),l=n(447),d=Function.prototype.bind,u=Object.defineProperty,h=Object.prototype.hasOwnProperty;i=function(e,t,n){var i,r=o(t)&&a(t.value);return delete(i=s(t)).writable,delete i.value,i.get=function(){return!n.overwriteDefinition&&h.call(this,e)?r:(t.value=d.call(r,n.resolveContext?n.resolveContext(this):this),u(this,e,t),this[e])},i},e.exports=function(e){var t=c(arguments[1]);return r(t.resolveContext)&&a(t.resolveContext),l(e,(function(e,n){return i(n,e,t)}))}},function(e,t,n){"use strict";var i=n(210),r=n(56);e.exports=function(e){return r(e)?e:i(e,"Cannot use %v",arguments[1])}},function(e,t,n){"use strict";var i=n(56),r=n(127),o=Object.prototype.toString;e.exports=function(e){if(!i(e))return null;if(r(e)){var t=e.toString;if("function"!==typeof t)return null;if(t===o)return null}try{return""+e}catch(n){return null}}},function(e,t,n){"use strict";var i=n(435),r=/[\n\r\u2028\u2029]/g;e.exports=function(e){var t=i(e);return null===t?"<Non-coercible to string value>":(t.length>100&&(t=t.slice(0,99)+"\u2026"),t=t.replace(r,(function(e){switch(e){case"\n":return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw new Error("Unexpected character")}})))}},function(e,t,n){"use strict";e.exports=function(e){try{return e.toString()}catch(t){try{return String(e)}catch(n){return null}}}},function(e,t,n){"use strict";var i=n(210),r=n(204);e.exports=function(e){return r(e)?e:i(e,"%v is not a plain function",arguments[1])}},function(e,t,n){"use strict";var i=n(438),r=n(128),o=n(34);e.exports=function(e){var t=Object(o(e)),n=arguments[1],a=Object(arguments[2]);if(t!==e&&!n)return t;var s={};return n?i(n,(function(t){(a.ensure||t in e)&&(s[t]=e[t])})):r(s,e),s}},function(e,t,n){"use strict";e.exports=n(439)()?Array.from:n(440)},function(e,t,n){"use strict";e.exports=function(){var e,t,n=Array.from;return"function"===typeof n&&(t=n(e=["raz","dwa"]),Boolean(t&&t!==e&&"dwa"===t[1]))}},function(e,t,n){"use strict";var i=n(48).iterator,r=n(90),o=n(441),a=n(442),s=n(69),c=n(34),l=n(47),d=n(91),u=Array.isArray,h=Function.prototype.call,A={configurable:!0,enumerable:!0,writable:!0,value:null},p=Object.defineProperty;e.exports=function(e){var t,n,g,f,m,E,C,I,Q,U,y=arguments[1],b=arguments[2];if(e=Object(c(e)),l(y)&&s(y),this&&this!==Array&&o(this))t=this;else{if(!y){if(r(e))return 1!==(m=e.length)?Array.apply(null,e):((f=new Array(1))[0]=e[0],f);if(u(e)){for(f=new Array(m=e.length),n=0;n<m;++n)f[n]=e[n];return f}}f=[]}if(!u(e))if(void 0!==(Q=e[i])){for(C=s(Q).call(e),t&&(f=new t),I=C.next(),n=0;!I.done;)U=y?h.call(y,b,I.value,n):I.value,t?(A.value=U,p(f,n,A)):f[n]=U,I=C.next(),++n;m=n}else if(d(e)){for(m=e.length,t&&(f=new t),n=0,g=0;n<m;++n)U=e[n],n+1<m&&(E=U.charCodeAt(0))>=55296&&E<=56319&&(U+=e[++n]),U=y?h.call(y,b,U,g):U,t?(A.value=U,p(f,g,A)):f[g]=U,++g;m=g}if(void 0===m)for(m=a(e.length),t&&(f=new t(m)),n=0;n<m;++n)U=y?h.call(y,b,e[n],n):e[n],t?(A.value=U,p(f,n,A)):f[n]=U;return t&&(A.value=null,f.length=m),f}},function(e,t,n){"use strict";var i=Object.prototype.toString,r=RegExp.prototype.test.bind(/^[object [A-Za-z0-9]*Function]$/);e.exports=function(e){return"function"===typeof e&&r(i.call(e))}},function(e,t,n){"use strict";var i=n(443),r=Math.max;e.exports=function(e){return r(0,i(e))}},function(e,t,n){"use strict";var i=n(444),r=Math.abs,o=Math.floor;e.exports=function(e){return isNaN(e)?0:0!==(e=Number(e))&&isFinite(e)?i(e)*o(r(e)):e}},function(e,t,n){"use strict";e.exports=n(445)()?Math.sign:n(446)},function(e,t,n){"use strict";e.exports=function(){var e=Math.sign;return"function"===typeof e&&1===e(10)&&-1===e(-20)}},function(e,t,n){"use strict";e.exports=function(e){return e=Number(e),isNaN(e)||0===e?e:e>0?1:-1}},function(e,t,n){"use strict";var i=n(69),r=n(448),o=Function.prototype.call;e.exports=function(e,t){var n={},a=arguments[2];return i(t),r(e,(function(e,i,r,s){n[i]=o.call(t,a,e,i,r,s)})),n}},function(e,t,n){"use strict";e.exports=n(449)("forEach")},function(e,t,n){"use strict";var i=n(69),r=n(34),o=Function.prototype.bind,a=Function.prototype.call,s=Object.keys,c=Object.prototype.propertyIsEnumerable;e.exports=function(e,t){return function(n,l){var d,u=arguments[2],h=arguments[3];return n=Object(r(n)),i(l),d=s(n),h&&d.sort("function"===typeof h?o.call(h,n):void 0),"function"!==typeof e&&(e=d[e]),a.call(e,d,(function(e,i){return c.call(n,e)?a.call(l,u,n[e],e,n,i):t}))}}},function(e,t,n){"use strict";var i,r=n(126),o=n(35),a=n(48),s=n(209),c=Object.defineProperty;i=e.exports=function(e){if(!(this instanceof i))throw new TypeError("Constructor requires 'new'");e=String(e),s.call(this,e),c(this,"__length__",o("",e.length))},r&&r(i,s),delete i.prototype.constructor,i.prototype=Object.create(s.prototype,{_next:o((function(){if(this.__list__)return this.__nextIndex__<this.__length__?this.__nextIndex__++:void this._unBind()})),_resolve:o((function(e){var t,n=this.__list__[e];return this.__nextIndex__===this.__length__?n:(t=n.charCodeAt(0))>=55296&&t<=56319?n+this.__list__[this.__nextIndex__++]:n}))}),c(i.prototype,a.toStringTag,o("c","String Iterator"))},function(e,t,n){"use strict";var i=n(452);e.exports=function(e){if(!i(e))throw new TypeError(e+" is not iterable");return e}},function(e,t,n){"use strict";var i=n(90),r=n(47),o=n(91),a=n(48).iterator,s=Array.isArray;e.exports=function(e){return!!r(e)&&(!!s(e)||!!o(e)||!!i(e)||"function"===typeof e[a])}},function(e,t,n){"use strict";var i=n(90),r=n(69),o=n(91),a=n(207),s=Array.isArray,c=Function.prototype.call,l=Array.prototype.some;e.exports=function(e,t){var n,d,u,h,A,p,g,f,m=arguments[2];if(s(e)||i(e)?n="array":o(e)?n="string":e=a(e),r(t),u=function(){h=!0},"array"!==n)if("string"!==n)for(d=e.next();!d.done;){if(c.call(t,m,d.value,u),h)return;d=e.next()}else for(p=e.length,A=0;A<p&&(g=e[A],A+1<p&&(f=g.charCodeAt(0))>=55296&&f<=56319&&(g+=e[++A]),c.call(t,m,g,u),!h);++A);else l.call(e,(function(e){return c.call(t,m,e,u),h}))}},function(e,t,n){"use strict";e.exports="function"===typeof WeakMap&&"[object WeakMap]"===Object.prototype.toString.call(new WeakMap)},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){const n=(t,n)=>()=>{throw new Error("Cannot ".concat(t," ").concat(n,", ").concat(e," is destroyed"))};Object.keys(t).forEach((e=>{"function"===typeof t[e]?t[e]=n("call",e):Object.defineProperty(t,e,{get:n("get",e),set:n("set",e)})}))}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var i=e=>{if("srcObject"in e)return;const t=window&&window.URL;"srcObject"in window.HTMLMediaElement.prototype||Object.defineProperty(e,"srcObject",{get(){return this._srcObject},set(e){const n=this;if(this._srcObject=e,this.src&&t.revokeObjectURL(this.src),e)return this.src=t.createObjectURL(e),e.addEventListener("addtrack",(()=>{n.src&&t.revokeObjectURL(n.src),n.src=t.createObjectURL(e)})),e.addEventListener("removetrack",(()=>{n.src&&t.revokeObjectURL(n.src),n.src=t.createObjectURL(e)})),this._srcObject;this.src=""}})};t.default=i},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0,t.default=e=>{return!(!(t=e)||"function"!==typeof t.getBoundingClientRect)&&(e=>{const t=e.getBoundingClientRect(),n=window.innerHeight||document.documentElement.clientHeight,i=window.innerWidth||document.documentElement.clientWidth,r=t.top<=n&&t.top+t.height>=0,o=t.left<=i&&t.left+t.width>=0;return r&&o})(e)&&(e=>{const t=e=>!(!e.style||"hidden"!==e.style.visibility)||!!e.parentNode&&t(e.parentNode);return null!==e.offsetParent&&!t(e)})(e);var t}},function(e,t,i){"use strict";(function(e){var r=i(0);t.__esModule=!0,t.default=void 0;var o=i(459),a=r(i(460)),s=r(i(461));const c=e=>{var t,i;return(null==(i=e=e||(null==(t=void 0!==typeof window?window:n.g)?void 0:t.navigator))?void 0:i.userAgent.toLowerCase().indexOf("electron"))>=0},l=()=>{var e,t,i;return"string"===typeof(null==(e=void 0!==typeof window?window:n.g)||null==(t=e.process)||null==(i=t.versions)?void 0:i.node)&&!c()};let d;var u={parse:t=>(d={version:-1,name:"unknown"},l()?(d.name="Node",d.isNode=!0,d.version=parseInt(e.versions.node,10),d.userAgent="".concat(d.name," ").concat(d.version)):(e=>{if(e=e||(void 0!==typeof window?window:n.g).navigator,d.userAgent=e.userAgent.toLowerCase(),d.name="unknown",d.userAgent.indexOf("opera")>-1||d.userAgent.indexOf("opr/")>-1)d.name="Opera",d.isOpera=!0,null!==/opr\/([0-9]{1,}[.0-9]{0,})/.exec(d.userAgent)&&(d.version=parseFloat(RegExp.$1));else if(d.userAgent.indexOf("firefox")>-1)d.name="Firefox",d.isFirefox=!0,null!==/firefox\/([0-9]{1,}[.0-9]{0,})/.exec(d.userAgent)&&(d.version=parseFloat(RegExp.$1));else if(d.userAgent.match(/edge?\/(\d+)(?:\.\d+)+$/)){d.name="Edge",d.isEdge=!0;const e=RegExp.$1;d.version=parseInt(e,10)}else d.userAgent.indexOf("chrome")>-1?(d.name="Chrome",d.isElectron=c(e),d.isElectron?d.electronVersion=(0,s.default)(e.userAgent):d.isChrome=!0,null!==/chrome\/([0-9]{1,}[.0-9]{0,})/.exec(d.userAgent)&&(d.version=parseFloat(RegExp.$1))):e.vendor&&e.vendor.toLowerCase().indexOf("apple")>-1?(d.name="Safari",d.isSafari=!0,d.isiPhone=(0,o.isiPhone)(e.userAgent),d.isiPad=(0,o.isiPad)(e.userAgent),d.isiOS=(0,o.isiOS)(e.userAgent),d.isiOS&&(d.iOSVersion=(0,a.default)(e.userAgent)),(null!==/version\/([0-9]{1,}[.0-9]{0,})/.exec(d.userAgent)||null!==/fxios\/([0-9]{1,}[.0-9]{0,})/.exec(d.userAgent)||null!==/crios\/([0-9]{1,}[.0-9]{0,})/.exec(d.userAgent))&&(d.version=parseFloat(RegExp.$1))):d.userAgent.indexOf("applewebkit")>-1&&-1===d.userAgent.indexOf("version")&&(d.isIosWebView=!0);d.isChromiumEdge="Edge"===d.name&&d.version>=79,d.isLegacyEdge="Edge"===d.name&&d.version<79,d.isLegacyElectron=d.isElectron&&d.electronVersion<16,d.isLegacyChrome=d.isChrome&&d.version<87,d.isLegacyFirefox=d.isFirefox&&d.version<=98,d.isChromium=!!(d.isChrome||d.isChromiumEdge||d.isElectron||d.isOpera),d.isAndroid=d.userAgent.indexOf("android")>-1,d.userAgent=e.userAgent,d.protocol=location.protocol,d.hostName=location.hostName,(-1===d.version||"unknown"===d.name||d.isiOS&&!d.iOSVersion)&&(d.error=!0)})(t),d),isNode:l};t.default=u}).call(this,i(28))},function(e,t,n){"use strict";t.__esModule=!0,t.isiPhone=t.isiPad=t.isiOS=void 0;const i=e=>/iPhone/.test(e);t.isiPhone=i;const r=e=>/iPad/.test(e)||(e=>{try{return e.includes("Mac")&&"ontouchend"in document}catch(t){return!1}})(e);t.isiPad=r,t.isiOS=e=>i(e)||r(e)},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){const t=e.match(/OS (\d+_\d+).* like Mac/);if(null!==t&&t[1])return parseFloat(t[1].replace("_","."))}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;const i=/(Electron)\/([0-9]{1,}[.0-9]{0,})/;var r=e=>{const t=e.match(i);return t&&parseFloat(t[2])};t.default=r},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0,t.default=function(e){void 0===e&&(e={});const t=e.global||(void 0!==typeof window?window:n.g);return()=>t.navigator&&t.navigator.mediaDevices}},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=function(e,t,n){let i=n;(0,r.default)(e,{isRotated:{get(){return this.orientation()&&(270===this.orientation().videoOrientation||90===this.orientation().videoOrientation)}},orientation:{get:()=>i,set(n){i=n;const r=a[n.videoOrientation]||a.ROTATED_NORMAL;switch(o.default.env.name){case"Chrome":case"Safari":t().style.webkitTransform=r;break;default:t().style.transform=r}e.trigger("orientationChanged",i)}},audioChannelType:{get(){return"mozAudioChannelType"in this.domElement?this.domElement.mozAudioChannelType:"unknown"},set(e){"mozAudioChannelType"in this.domElement&&(this.domElement.mozAudioChannelType=e)}}})};var r=i(n(95)),o=i(n(7));const a={0:"rotate(0deg)",270:"rotate(90deg)",90:"rotate(-90deg)",180:"rotate(180deg)"}},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(11));const o={for:"htmlFor",class:"className"};var a=e=>{e.prototype.attr=function(e,t){if((0,r.default)(e)){let t;Object.keys(e).forEach((n=>{t=o[n]||n,this.first.setAttribute(t,e[n])}))}else{if(void 0===t)return this.first.getAttribute(o[e]||e);this.first.setAttribute(o[e]||e,t)}return this},e.prototype.removeAttr=function(e){const t=o[e]||e;return this.forEach((e=>{e.removeAttribute(t)})),this},e.prototype.html=function(e){return void 0!==e&&(this.first.innerHTML=e),this.first.innerHTML},e.prototype.center=function(t,n){let i;return this.forEach((r=>{i=new e(r),t=t||parseInt(i.width(),10),n=n||parseInt(i.height(),10);const o="".concat(-.5*t,"px"),a="".concat(-.5*n,"px");i.css("margin","".concat(a," 0 0 ").concat(o)).addClass("OT_centered")})),this},e._attachToOTHelpers.centerElement=function(t,n,i){return new e(t).center(n,i)};const t=function(t){return t.offsetWidth>0?"".concat(t.offsetWidth,"px"):new e(t).css("width")},n=function(t){return t.offsetHeight>0?"".concat(t.offsetHeight,"px"):new e(t).css("height")};e.prototype.width=function(e){return e?(this.css("width",e),this):this.isDisplayNone()?this.makeVisibleAndYield((e=>t(e)))[0]:t(this.get(0))},e._attachToOTHelpers.width=function(t,n){const i=new e(t).width(n);return n?e._attachToOTHelpers:i},e.prototype.height=function(e){return e?(this.css("height",e),this):this.isDisplayNone()?this.makeVisibleAndYield((e=>n(e)))[0]:n(this.get(0))},e._attachToOTHelpers.height=function(t,n){const i=new e(t).height(n);return n?e._attachToOTHelpers:i}};t.default=a},function(e,t,i){"use strict";var r=i(0);t.__esModule=!0,t.default=void 0;var o=r(i(3));const a=(void 0!==typeof window?window:n.g).getComputedStyle,s={Firefox:"moz",Opera:"O",Chrome:"Webkit",Safari:"Webkit"};var c=(e,t)=>{const n={},i={},r=function(e,t){if(t in e.style)return t;const n=s[o.default.name]+t[0].toUpperCase()+t.slice(1);return n in e.style?n:t};e.prototype.show=function(){return this.forEach((t=>{const r=t.style.display;""!==r&&"none"!==r||(t.style.display=n[t]||"",delete n[t]),function(e){return"none"===a(e).getPropertyValue("display")}(t)&&(n[t]="none",t.style.display=function(t){if(i[t.ownerDocument]&&i[t.ownerDocument][t.nodeName])return i[t.ownerDocument][t.nodeName];i[t.ownerDocument]||(i[t.ownerDocument]={});let n,r=t.ownerDocument.createElement(t.nodeName);return t.ownerDocument.body.appendChild(r),n=new e(r).css("display"),i[t.ownerDocument][t.nodeName]=n,new e(r).remove(),r=null,n}(t))}))},e.prototype.hide=function(){return this.forEach((e=>{"none"!==e.style.display&&(n[e]=e.style.display,e.style.display="none")}))},e.prototype.css=function(e,t){if(0!==this.length)return"string"!==typeof e?this.forEach((t=>{!function(e,t){const n=e.style;for(const i in t)t.hasOwnProperty(i)&&(n[r(e,i)]=t[i])}(t,e)})):void 0!==t?this.forEach((n=>{!function(e,t,n){e.style[r(e,t)]=n}(n,e,t)})):function(e,t){const n=r(e,t);let i=a(e).getPropertyValue(n);return""===i&&(i=e.style[n]),i}(this.first,e)},e.prototype.makeVisibleAndYield=function(n){const i={display:"block",visibility:"hidden"},r=[];return this.forEach((o=>{const a=t(o);a?r.push(function(t,n,i){const r=new e(t),o={};let a,s;for(a in n)n.hasOwnProperty(a)&&(o[a]=t.style[a],r.css(a,n[a]));for(a in s=i(t),n)n.hasOwnProperty(a)&&r.css(a,o[a]||"");return s}(a,i,n)):r.push(void 0)})),r}};t.default=c},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(467));function o(e,t){return!!t&&((0,r.default)()?e.classList.contains(t):e.className.indexOf(t)>-1)}var a=e=>{e.prototype.addClass=function(e){if(e){const t=e.trim().split(/\s+/);this.forEach((e=>{!function(e,t){if(!t||0===t.length)return;if(1!==e.nodeType)return;const n=t.length;let i=0;if((0,r.default)())for(;i<n;++i)e.classList.add(t[i]);else if(e.className||1!==t.length){let r=" ".concat(e.className," ");for(;i<n;++i)~r.indexOf(" ".concat(t[i]," "))||(r+="".concat(t[i]," "));e.className=r.trim()}else e.className=t.join(" ")}(e,t)}))}return this},e.prototype.removeClass=function(e){if(e){const t=e.trim().split(/\s+/);this.forEach((e=>{!function(e,t){if(!t||0===t.length)return;if(1!==e.nodeType)return;const n=t.length;let i=0;if((0,r.default)()){for(;i<n;++i)e.classList.remove(t[i]);return}let o=" ".concat(e.className," ").replace(/[\s+]/," ");for(;i<n;++i)o=o.replace(" ".concat(t[i]," ")," ");e.className=o.trim()}(e,t)}))}return this},e.prototype.toggleClass=function(e){if(e){const t=e.trim().split(/\s+/);this.forEach((e=>{!function(e,t){if(!t||0===t.length)return;if(1!==e.nodeType)return;const n=t.length;let i=0;if((0,r.default)()){for(;i<n;++i)e.classList.toggle(t[i]);return}let a=" ".concat(e.className," ").replace(/[\s+]/," ");for(;i<n;++i)o(e,t[i])?a=a.replace(" ".concat(t[i]," ")," "):a+="".concat(t[i]," ");e.className=a.trim()}(e,t)}))}return this},e.prototype.hasClass=function(e){return this.some((t=>o(t,e)))}};t.default=a},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0,t.default=()=>"undefined"!==typeof document&&"classList"in document.createElement("a")},function(e,t,i){"use strict";var r=i(0);t.__esModule=!0,t.default=void 0;var o=r(i(469)),a=e=>{let t=0,i=0;e.prototype.observeStyleChanges=function(t,i){const r=[];return this.forEach((a=>{r.push(function(t,i,r){const a={},s=function(n){switch(n){case"width":return new e(t).width();case"height":return new e(t).height();default:return new e(t).css(n)}};i.forEach((e=>{a[e]=s(e)}));const c=new(void 0!==typeof window?window:n.g).MutationObserver((n=>{const c={};n.forEach((n=>{if("style"!==n.attributeName)return;const r=new e(t).isDisplayNone();i.forEach((e=>{if(r&&("width"===e||"height"===e))return;const t=s(e);t!==a[e]&&(c[e]=[a[e],t],a[e]=t)}))})),(0,o.default)(c)||setTimeout((()=>{r.call(null,c)}))}));return c.observe(t,{attributes:!0,attributeFilter:["style"],childList:!1,characterData:!1,subtree:!1}),c}(a,t,i))})),r},e.prototype.observeNodeOrChildNodeRemoval=function(t){const r=[];return this.forEach((o=>{r.push(function(t,r){const o=new(void 0!==typeof window?window:n.g).MutationObserver((t=>{let n=[];t.forEach((e=>{e.removedNodes.length&&(n=n.concat(Array.prototype.slice.call(e.removedNodes)))})),n.length&&setTimeout((()=>{r(new e(n))}))}));o.observe(t,{attributes:!1,childList:!0,characterData:!1,subtree:!0}),i++;const a=o.disconnect;return o.disconnect=function(){a.apply(o,arguments),i--},o}(o,t))})),r},e.prototype.observeSize=function(e){const n=[];return this.forEach((i=>{n.push(function(e,n){let i={width:0,height:0};const r=setInterval((()=>{const t=e.getBoundingClientRect();i.width===t.width&&i.height===t.height||(n(t,i),i={width:t.width,height:t.height})}),200);return t++,{disconnect(){clearInterval(r),t--}}}(i,e))})),n},e._attachToOTHelpers.observeStyleChanges=function(t,n,i){return new e(t).observeStyleChanges(n,i)[0]},e._attachToOTHelpers.observeNodeOrChildNodeRemoval=function(t,n){return new e(t).observeNodeOrChildNodeRemoval(n)[0]},e.__testOnly||(e.__testOnly={}),e.__testOnly.sizeObserverCount=function(){return t},e.__testOnly.nodeRemovalObserverCount=function(){return i}};t.default=a},function(e,t,n){var i=n(117),r=n(46),o=n(64),a=n(12),s=n(26),c=n(65),l=n(68),d=n(86),u=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(s(e)&&(a(e)||"string"==typeof e||"function"==typeof e.splice||c(e)||d(e)||o(e)))return!e.length;var t=r(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(l(e))return!i(e).length;for(var n in e)if(u.call(e,n))return!1;return!0}},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=function(e,t,n,i,o){let a,s=n;return e.currentState=n,e.is=function(){return-1!==Array.prototype.indexOf.call(arguments,s)},e.isNot=function(){return-1===Array.prototype.indexOf.call(arguments,s)},function(n){if(s!==n){if(-1===t.indexOf(n))return void(o&&(0,r.default)(o)&&o("invalidState",n));e.previousState=s,a=s,e.currentState=n,s=n,i&&(0,r.default)(i)&&i(n,a)}}};var r=i(n(17))},function(e,t,n){var i,r,o=n(220),a=n(221),s=0,c=0;e.exports=function(e,t,n){var l=t&&n||0,d=t||[],u=(e=e||{}).node||i,h=void 0!==e.clockseq?e.clockseq:r;if(null==u||null==h){var A=o();null==u&&(u=i=[1|A[0],A[1],A[2],A[3],A[4],A[5]]),null==h&&(h=r=16383&(A[6]<<8|A[7]))}var p=void 0!==e.msecs?e.msecs:(new Date).getTime(),g=void 0!==e.nsecs?e.nsecs:c+1,f=p-s+(g-c)/1e4;if(f<0&&void 0===e.clockseq&&(h=h+1&16383),(f<0||p>s)&&void 0===e.nsecs&&(g=0),g>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=p,c=g,r=h;var m=(1e4*(268435455&(p+=122192928e5))+g)%4294967296;d[l++]=m>>>24&255,d[l++]=m>>>16&255,d[l++]=m>>>8&255,d[l++]=255&m;var E=p/4294967296*1e4&268435455;d[l++]=E>>>8&255,d[l++]=255&E,d[l++]=E>>>24&15|16,d[l++]=E>>>16&255,d[l++]=h>>>8|128,d[l++]=255&h;for(var C=0;C<6;++C)d[l+C]=u[C];return t||a(d)}},function(e,t,n){var i=n(220),r=n(221);e.exports=function(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||i)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[o+s]=a[s];return t||r(a)}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var i=function(){function e(e){let t=(void 0===e?{}:e).waitTime,n=void 0===t?50:t;this.queue=[],this.running=!1,this.waitTime=n}var t=e.prototype;return t.add=function(e){this.queue.push(e),this.run()},t.run=function(){if(this.running)return;this.running=!0;const e=()=>{0!==this.queue.length?this.queue.shift()((()=>{setTimeout(e,this.waitTime)})):this.running=!1};e()},e}();t.default=i},function(e,t,i){(function(e){var r;!function(o){t&&t.nodeType,e&&e.nodeType;var a="object"==typeof(void 0!==typeof window?window:n.g)&&(void 0!==typeof window?window:n.g);a.global!==a&&a.window!==a&&a.self;var s,c=2147483647,l=36,d=1,u=26,h=38,A=700,p=72,g=128,f="-",m=/^xn--/,E=/[^\x20-\x7E]/,C=/[\x2E\u3002\uFF0E\uFF61]/g,I={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Q=l-d,U=Math.floor,y=String.fromCharCode;function b(e){throw new RangeError(I[e])}function v(e,t){for(var n=e.length,i=[];n--;)i[n]=t(e[n]);return i}function R(e,t){var n=e.split("@"),i="";return n.length>1&&(i=n[0]+"@",e=n[1]),i+v((e=e.replace(C,".")).split("."),t).join(".")}function S(e){for(var t,n,i=[],r=0,o=e.length;r<o;)(t=e.charCodeAt(r++))>=55296&&t<=56319&&r<o?56320==(64512&(n=e.charCodeAt(r++)))?i.push(((1023&t)<<10)+(1023&n)+65536):(i.push(t),r--):i.push(t);return i}function F(e){return v(e,(function(e){var t="";return e>65535&&(t+=y((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=y(e)})).join("")}function B(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function T(e,t,n){var i=0;for(e=n?U(e/A):e>>1,e+=U(e/t);e>Q*u>>1;i+=l)e=U(e/Q);return U(i+(Q+1)*e/(e+h))}function N(e){var t,n,i,r,o,a,s,h,A,m,E,C=[],I=e.length,Q=0,y=g,v=p;for((n=e.lastIndexOf(f))<0&&(n=0),i=0;i<n;++i)e.charCodeAt(i)>=128&&b("not-basic"),C.push(e.charCodeAt(i));for(r=n>0?n+1:0;r<I;){for(o=Q,a=1,s=l;r>=I&&b("invalid-input"),((h=(E=e.charCodeAt(r++))-48<10?E-22:E-65<26?E-65:E-97<26?E-97:l)>=l||h>U((c-Q)/a))&&b("overflow"),Q+=h*a,!(h<(A=s<=v?d:s>=v+u?u:s-v));s+=l)a>U(c/(m=l-A))&&b("overflow"),a*=m;v=T(Q-o,t=C.length+1,0==o),U(Q/t)>c-y&&b("overflow"),y+=U(Q/t),Q%=t,C.splice(Q++,0,y)}return F(C)}function _(e){var t,n,i,r,o,a,s,h,A,m,E,C,I,Q,v,R=[];for(C=(e=S(e)).length,t=g,n=0,o=p,a=0;a<C;++a)(E=e[a])<128&&R.push(y(E));for(i=r=R.length,r&&R.push(f);i<C;){for(s=c,a=0;a<C;++a)(E=e[a])>=t&&E<s&&(s=E);for(s-t>U((c-n)/(I=i+1))&&b("overflow"),n+=(s-t)*I,t=s,a=0;a<C;++a)if((E=e[a])<t&&++n>c&&b("overflow"),E==t){for(h=n,A=l;!(h<(m=A<=o?d:A>=o+u?u:A-o));A+=l)v=h-m,Q=l-m,R.push(y(B(m+v%Q,0))),h=U(v/Q);R.push(y(B(h,0))),o=T(n,I,i==r),n=0,++i}++n,++t}return R.join("")}s={version:"1.4.1",ucs2:{decode:S,encode:F},decode:N,encode:_,toASCII:function(e){return R(e,(function(e){return E.test(e)?"xn--"+_(e):e}))},toUnicode:function(e){return R(e,(function(e){return m.test(e)?N(e.slice(4).toLowerCase()):e}))}},void 0===(r=function(){return s}.call(t,i,t,e))||(e.exports=r)}()}).call(this,i(85)(e))},function(e,t,n){"use strict";e.exports={isString:function(e){return"string"===typeof e},isObject:function(e){return"object"===typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},function(e,t,n){"use strict";t.decode=t.parse=n(477),t.encode=t.stringify=n(478)},function(e,t,n){"use strict";function i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,n,o){t=t||"&",n=n||"=";var a={};if("string"!==typeof e||0===e.length)return a;var s=/\+/g;e=e.split(t);var c=1e3;o&&"number"===typeof o.maxKeys&&(c=o.maxKeys);var l=e.length;c>0&&l>c&&(l=c);for(var d=0;d<l;++d){var u,h,A,p,g=e[d].replace(s,"%20"),f=g.indexOf(n);f>=0?(u=g.substr(0,f),h=g.substr(f+1)):(u=g,h=""),A=decodeURIComponent(u),p=decodeURIComponent(h),i(a,A)?r(a[A])?a[A].push(p):a[A]=[a[A],p]:a[A]=p}return a};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,n){"use strict";var i=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,n,s){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"===typeof e?o(a(e),(function(a){var s=encodeURIComponent(i(a))+n;return r(e[a])?o(e[a],(function(e){return s+encodeURIComponent(i(e))})).join(t):s+encodeURIComponent(i(e[a]))})).join(t):s?encodeURIComponent(i(s))+n+encodeURIComponent(i(e)):""};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function o(e,t){if(e.map)return e.map(t);for(var n=[],i=0;i<e.length;i++)n.push(t(e[i],i));return n}var a=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},function(e,t,n){var i=n(98),r=n(99),o=n(134),a=n(37),s=n(67),c=n(100),l=Math.min;e.exports=function(e,t,n){for(var d=n?o:r,u=e[0].length,h=e.length,A=h,p=Array(h),g=1/0,f=[];A--;){var m=e[A];A&&t&&(m=a(m,s(t))),g=l(m.length,g),p[A]=!n&&(t||u>=120&&m.length>=120)?new i(A&&m):void 0}m=e[0];var E=-1,C=p[0];e:for(;++E<u&&f.length<g;){var I=m[E],Q=t?t(I):I;if(I=n||0!==I?I:0,!(C?c(C,Q):d(f,Q,n))){for(A=h;--A;){var U=p[A];if(!(U?c(U,Q):d(e[A],Q,n)))continue e}C&&C.push(Q),f.push(I)}}return f}},function(e,t){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t,n){var i=n(223),r=n(483),o=n(484);e.exports=function(e,t,n){return t===t?o(e,t,n):i(e,r,n)}},function(e,t){e.exports=function(e){return e!==e}},function(e,t){e.exports=function(e,t,n){for(var i=n-1,r=e.length;++i<r;)if(e[i]===t)return i;return-1}},function(e,t,n){var i=n(135);e.exports=function(e){return i(e)?e:[]}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0,t.default={1004:"Authentication error",1005:"Invalid Session ID",1006:"Connect Failed",1007:"Connect Rejected",1008:"Connect Time-out",1009:"Security Error",1010:"Not Connected",1011:"Invalid Parameter",1012:"Peer-to-peer Stream Play Failed",1013:"Connection Failed",1014:"API Response Failure",1015:"PeerConnection not connected, cannot call this method",1021:"Request Timeout",1026:"Terms of Service Violation: Export Compliance",1027:"Connection Limit Exceeded",1040:"Set Video Source Failure",1041:"Invalid Video Source",1500:"Unable to Publish",1501:"Unable to Subscribe",1502:"Unsupported Video Codec",1503:"No TURN server found",1520:"Unable to Force Disconnect",1530:"Unable to Force Unpublish",1540:"Unable to Force Mute",1553:"Publisher ICEWorkflow failed",1554:"Subscriber ICEWorkflow failed",1600:"createOffer, createAnswer, setLocalDescription, setRemoteDescription",1605:"Stream Limit Exceeded",2e3:"Internal Error",2001:"Unexpected Server Response",2021:"Proxy URL Timing Error",2022:"Proxy URL Already Set Error",2031:"getRtcStatsReport is not supported in this browser",4e3:"WebSocket Connection Failed",4001:"WebSocket Network Disconnected",5001:"Unable to access media engine"}},function(e,t,n){var i=n(199);e.exports=function(e){var t=i(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},function(e,t,n){var i=n(44),r=n(37),o=n(12),a=n(71),s=i?i.prototype:void 0,c=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return r(t,e)+"";if(a(t))return c?c.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},function(e,t,n){"use strict";(function(t){var i=n(19),r=n(228),o=n(490),a=n(234);function s(e){var t=new o(e),n=r(o.prototype.request,t);return i.extend(n,o.prototype,t),i.extend(n,t),n}var c=s(n(138));c.Axios=o,c.create=function(e){return s(a(c.defaults,e))},c.Cancel=n(235),c.CancelToken=n(504),c.isCancel=n(233),c.all=function(e){return t.all(e)},c.spread=n(505),c.isAxiosError=n(506),e.exports=c,e.exports.default=c}).call(this,n(2))},function(e,t,n){"use strict";(function(t){var i=n(19),r=n(229),o=n(491),a=n(492),s=n(234),c=n(502),l=c.validators;function d(e){this.defaults=e,this.interceptors={request:new o,response:new o}}d.prototype.request=function(e){"string"===typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=s(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var n=e.transitional;void 0!==n&&c.assertOptions(n,{silentJSONParsing:l.transitional(l.boolean,"1.0.0"),forcedJSONParsing:l.transitional(l.boolean,"1.0.0"),clarifyTimeoutError:l.transitional(l.boolean,"1.0.0")},!1);var i=[],r=!0;this.interceptors.request.forEach((function(t){"function"===typeof t.runWhen&&!1===t.runWhen(e)||(r=r&&t.synchronous,i.unshift(t.fulfilled,t.rejected))}));var o,d=[];if(this.interceptors.response.forEach((function(e){d.push(e.fulfilled,e.rejected)})),!r){var u=[a,void 0];for(Array.prototype.unshift.apply(u,i),u=u.concat(d),o=t.resolve(e);u.length;)o=o.then(u.shift(),u.shift());return o}for(var h=e;i.length;){var A=i.shift(),p=i.shift();try{h=A(h)}catch(g){p(g);break}}try{o=a(h)}catch(g){return t.reject(g)}for(;d.length;)o=o.then(d.shift(),d.shift());return o},d.prototype.getUri=function(e){return e=s(this.defaults,e),r(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},i.forEach(["delete","get","head","options"],(function(e){d.prototype[e]=function(t,n){return this.request(s(n||{},{method:e,url:t,data:(n||{}).data}))}})),i.forEach(["post","put","patch"],(function(e){d.prototype[e]=function(t,n,i){return this.request(s(i||{},{method:e,url:t,data:n}))}})),e.exports=d}).call(this,n(2))},function(e,t,n){"use strict";var i=n(19);function r(){this.handlers=[]}r.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},r.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},r.prototype.forEach=function(e){i.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=r},function(e,t,n){"use strict";(function(t){var i=n(19),r=n(493),o=n(233),a=n(138);function s(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return s(e),e.headers=e.headers||{},e.data=r.call(e,e.data,e.headers,e.transformRequest),e.headers=i.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),i.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||a.adapter)(e).then((function(t){return s(e),t.data=r.call(e,t.data,t.headers,e.transformResponse),t}),(function(n){return o(n)||(s(e),n&&n.response&&(n.response.data=r.call(e,n.response.data,n.response.headers,e.transformResponse))),t.reject(n)}))}}).call(this,n(2))},function(e,t,n){"use strict";var i=n(19),r=n(138);e.exports=function(e,t,n){var o=this||r;return i.forEach(n,(function(n){e=n.call(o,e,t)})),e}},function(e,t,n){"use strict";var i=n(19);e.exports=function(e,t){i.forEach(e,(function(n,i){i!==t&&i.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[i])}))}},function(e,t,n){"use strict";var i=n(232);e.exports=function(e,t,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(i("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},function(e,t,n){"use strict";var i=n(19);e.exports=i.isStandardBrowserEnv()?{write:function(e,t,n,r,o,a){var s=[];s.push(e+"="+encodeURIComponent(t)),i.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),i.isString(r)&&s.push("path="+r),i.isString(o)&&s.push("domain="+o),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,n){"use strict";var i=n(498),r=n(499);e.exports=function(e,t){return e&&!i(t)?r(e,t):t}},function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,n){"use strict";var i=n(19),r=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,o,a={};return e?(i.forEach(e.split("\n"),(function(e){if(o=e.indexOf(":"),t=i.trim(e.substr(0,o)).toLowerCase(),n=i.trim(e.substr(o+1)),t){if(a[t]&&r.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([n]):a[t]?a[t]+", "+n:n}})),a):a}},function(e,t,n){"use strict";var i=n(19);e.exports=i.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){var i=e;return t&&(n.setAttribute("href",i),i=n.href),n.setAttribute("href",i),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){var n=i.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},function(e,t,n){"use strict";var i=n(503),r={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){r[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var o={},a=i.version.split(".");function s(e,t){for(var n=t?t.split("."):a,i=e.split("."),r=0;r<3;r++){if(n[r]>i[r])return!0;if(n[r]<i[r])return!1}return!1}r.transitional=function(e,t,n){var r=t&&s(t);function a(e,t){return"[Axios v"+i.version+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,i,s){if(!1===e)throw new Error(a(i," has been removed in "+t));return r&&!o[i]&&(o[i]=!0,console.warn(a(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,s)}},e.exports={isOlderVersion:s,assertOptions:function(e,t,n){if("object"!==typeof e)throw new TypeError("options must be an object");for(var i=Object.keys(e),r=i.length;r-- >0;){var o=i[r],a=t[o];if(a){var s=e[o],c=void 0===s||a(s,o,e);if(!0!==c)throw new TypeError("option "+o+" must be "+c)}else if(!0!==n)throw Error("Unknown option "+o)}},validators:r}},function(e){e.exports=JSON.parse('{"name":"axios","version":"0.21.4","description":"Promise based HTTP client for the browser and node.js","main":"index.js","scripts":{"test":"grunt test","start":"node ./sandbox/server.js","build":"NODE_ENV=production grunt build","preversion":"npm test","version":"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json","postversion":"git push && git push --tags","examples":"node ./examples/server.js","coveralls":"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js","fix":"eslint --fix lib/**/*.js"},"repository":{"type":"git","url":"https://github.com/axios/axios.git"},"keywords":["xhr","http","ajax","promise","node"],"author":"Matt Zabriskie","license":"MIT","bugs":{"url":"https://github.com/axios/axios/issues"},"homepage":"https://axios-http.com","devDependencies":{"coveralls":"^3.0.0","es6-promise":"^4.2.4","grunt":"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1","karma":"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2","minimist":"^1.2.0","mocha":"^8.2.1","sinon":"^4.5.0","terser-webpack-plugin":"^4.2.3","typescript":"^4.0.5","url-search-params":"^0.10.0","webpack":"^4.44.2","webpack-dev-server":"^3.11.0"},"browser":{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},"jsdelivr":"dist/axios.min.js","unpkg":"dist/axios.min.js","typings":"./index.d.ts","dependencies":{"follow-redirects":"^1.14.0"},"bundlesize":[{"path":"./dist/axios.min.js","threshold":"5kB"}]}')},function(e,t,n){"use strict";(function(t){var i=n(235);function r(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var n;this.promise=new t((function(e){n=e}));var r=this;e((function(e){r.reason||(r.reason=new i(e),n(r.reason))}))}r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.source=function(){var e;return{token:new r((function(t){e=t})),cancel:e}},e.exports=r}).call(this,n(2))},function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,n){"use strict";e.exports=function(e){return"object"===typeof e&&!0===e.isAxiosError}},function(e,t,n){var i=n(236)("mapKeys",n(549));i.placeholder=n(139),e.exports=i},function(e,t,n){var i=n(509),r=n(139),o=Array.prototype.push;function a(e,t){return 2==t?function(t,n){return e(t,n)}:function(t){return e(t)}}function s(e){for(var t=e?e.length:0,n=Array(t);t--;)n[t]=e[t];return n}function c(e,t){return function(){var n=arguments.length;if(n){for(var i=Array(n);n--;)i[n]=arguments[n];var r=i[0]=t.apply(void 0,i);return e.apply(void 0,i),r}}}e.exports=function e(t,n,l,d){var u="function"==typeof n,h=n===Object(n);if(h&&(d=l,l=n,n=void 0),null==l)throw new TypeError;d||(d={});var A={cap:!("cap"in d)||d.cap,curry:!("curry"in d)||d.curry,fixed:!("fixed"in d)||d.fixed,immutable:!("immutable"in d)||d.immutable,rearg:!("rearg"in d)||d.rearg},p=u?l:r,g="curry"in d&&d.curry,f="fixed"in d&&d.fixed,m="rearg"in d&&d.rearg,E=u?l.runInContext():void 0,C=u?l:{ary:t.ary,assign:t.assign,clone:t.clone,curry:t.curry,forEach:t.forEach,isArray:t.isArray,isError:t.isError,isFunction:t.isFunction,isWeakMap:t.isWeakMap,iteratee:t.iteratee,keys:t.keys,rearg:t.rearg,toInteger:t.toInteger,toPath:t.toPath},I=C.ary,Q=C.assign,U=C.clone,y=C.curry,b=C.forEach,v=C.isArray,R=C.isError,S=C.isFunction,F=C.isWeakMap,B=C.keys,T=C.rearg,N=C.toInteger,_=C.toPath,w=B(i.aryMethod),k={castArray:function(e){return function(){var t=arguments[0];return v(t)?e(s(t)):e.apply(void 0,arguments)}},iteratee:function(e){return function(){var t=arguments[1],n=e(arguments[0],t),i=n.length;return A.cap&&"number"==typeof t?(t=t>2?t-2:1,i&&i<=t?n:a(n,t)):n}},mixin:function(e){return function(t){var n=this;if(!S(n))return e(n,Object(t));var i=[];return b(B(t),(function(e){S(t[e])&&i.push([e,n.prototype[e]])})),e(n,Object(t)),b(i,(function(e){var t=e[1];S(t)?n.prototype[e[0]]=t:delete n.prototype[e[0]]})),n}},nthArg:function(e){return function(t){var n=t<0?1:N(t)+1;return y(e(t),n)}},rearg:function(e){return function(t,n){var i=n?n.length:0;return y(e(t,n),i)}},runInContext:function(n){return function(i){return e(t,n(i),d)}}};function D(e,t){if(A.cap){var n=i.iterateeRearg[e];if(n)return function(e,t){return J(e,(function(e){var n=t.length;return function(e,t){return 2==t?function(t,n){return e.apply(void 0,arguments)}:function(t){return e.apply(void 0,arguments)}}(T(a(e,n),t),n)}))}(t,n);var r=!u&&i.iterateeAry[e];if(r)return function(e,t){return J(e,(function(e){return"function"==typeof e?a(e,t):e}))}(t,r)}return t}function V(e,t,n){if(A.fixed&&(f||!i.skipFixed[e])){var r=i.methodSpread[e],a=r&&r.start;return void 0===a?I(t,n):function(e,t){return function(){for(var n=arguments.length,i=n-1,r=Array(n);n--;)r[n]=arguments[n];var a=r[t],s=r.slice(0,t);return a&&o.apply(s,a),t!=i&&o.apply(s,r.slice(t+1)),e.apply(this,s)}}(t,a)}return t}function Z(e,t,n){return A.rearg&&n>1&&(m||!i.skipRearg[e])?T(t,i.methodRearg[e]||i.aryRearg[n]):t}function W(e,t){for(var n=-1,i=(t=_(t)).length,r=i-1,o=U(Object(e)),a=o;null!=a&&++n<i;){var s=t[n],c=a[s];null==c||S(c)||R(c)||F(c)||(a[s]=U(n==r?c:Object(c))),a=a[s]}return o}function O(t,n){var r=i.aliasToReal[t]||t,o=i.remap[r]||r,a=d;return function(t){var i=u?E:C,s=u?E[o]:n,c=Q(Q({},a),t);return e(i,r,s,c)}}function J(e,t){return function(){var n=arguments.length;if(!n)return e();for(var i=Array(n);n--;)i[n]=arguments[n];var r=A.rearg?0:n-1;return i[r]=t(i[r]),e.apply(void 0,i)}}function x(e,t,n){var r,o=i.aliasToReal[e]||e,a=t,l=k[o];return l?a=l(t):A.immutable&&(i.mutate.array[o]?a=c(t,s):i.mutate.object[o]?a=c(t,function(e){return function(t){return e({},t)}}(t)):i.mutate.set[o]&&(a=c(t,W))),b(w,(function(e){return b(i.aryMethod[e],(function(t){if(o==t){var n=i.methodSpread[o],s=n&&n.afterRearg;return r=s?V(o,Z(o,a,e),e):Z(o,V(o,a,e),e),r=function(e,t,n){return g||A.curry&&n>1?y(t,n):t}(0,r=D(o,r),e),!1}})),!r})),r||(r=a),r==t&&(r=g?y(r,1):function(){return t.apply(this,arguments)}),r.convert=O(o,t),r.placeholder=t.placeholder=n,r}if(!h)return x(n,l,p);var M=l,L=[];return b(w,(function(e){b(i.aryMethod[e],(function(e){var t=M[i.remap[e]||e];t&&L.push([e,x(e,t,M)])}))})),b(B(M),(function(e){var t=M[e];if("function"==typeof t){for(var n=L.length;n--;)if(L[n][0]==e)return;t.convert=O(e,t),L.push([e,t])}})),b(L,(function(e){M[e[0]]=e[1]})),M.convert=function(e){return M.runInContext.convert(e)(void 0)},M.placeholder=M,b(B(M),(function(e){b(i.realToAlias[e]||[],(function(t){M[t]=M[e]}))})),M}},function(e,t){t.aliasToReal={each:"forEach",eachRight:"forEachRight",entries:"toPairs",entriesIn:"toPairsIn",extend:"assignIn",extendAll:"assignInAll",extendAllWith:"assignInAllWith",extendWith:"assignInWith",first:"head",conforms:"conformsTo",matches:"isMatch",property:"get",__:"placeholder",F:"stubFalse",T:"stubTrue",all:"every",allPass:"overEvery",always:"constant",any:"some",anyPass:"overSome",apply:"spread",assoc:"set",assocPath:"set",complement:"negate",compose:"flowRight",contains:"includes",dissoc:"unset",dissocPath:"unset",dropLast:"dropRight",dropLastWhile:"dropRightWhile",equals:"isEqual",identical:"eq",indexBy:"keyBy",init:"initial",invertObj:"invert",juxt:"over",omitAll:"omit",nAry:"ary",path:"get",pathEq:"matchesProperty",pathOr:"getOr",paths:"at",pickAll:"pick",pipe:"flow",pluck:"map",prop:"get",propEq:"matchesProperty",propOr:"getOr",props:"at",symmetricDifference:"xor",symmetricDifferenceBy:"xorBy",symmetricDifferenceWith:"xorWith",takeLast:"takeRight",takeLastWhile:"takeRightWhile",unapply:"rest",unnest:"flatten",useWith:"overArgs",where:"conformsTo",whereEq:"isMatch",zipObj:"zipObject"},t.aryMethod={1:["assignAll","assignInAll","attempt","castArray","ceil","create","curry","curryRight","defaultsAll","defaultsDeepAll","floor","flow","flowRight","fromPairs","invert","iteratee","memoize","method","mergeAll","methodOf","mixin","nthArg","over","overEvery","overSome","rest","reverse","round","runInContext","spread","template","trim","trimEnd","trimStart","uniqueId","words","zipAll"],2:["add","after","ary","assign","assignAllWith","assignIn","assignInAllWith","at","before","bind","bindAll","bindKey","chunk","cloneDeepWith","cloneWith","concat","conformsTo","countBy","curryN","curryRightN","debounce","defaults","defaultsDeep","defaultTo","delay","difference","divide","drop","dropRight","dropRightWhile","dropWhile","endsWith","eq","every","filter","find","findIndex","findKey","findLast","findLastIndex","findLastKey","flatMap","flatMapDeep","flattenDepth","forEach","forEachRight","forIn","forInRight","forOwn","forOwnRight","get","groupBy","gt","gte","has","hasIn","includes","indexOf","intersection","invertBy","invoke","invokeMap","isEqual","isMatch","join","keyBy","lastIndexOf","lt","lte","map","mapKeys","mapValues","matchesProperty","maxBy","meanBy","merge","mergeAllWith","minBy","multiply","nth","omit","omitBy","overArgs","pad","padEnd","padStart","parseInt","partial","partialRight","partition","pick","pickBy","propertyOf","pull","pullAll","pullAt","random","range","rangeRight","rearg","reject","remove","repeat","restFrom","result","sampleSize","some","sortBy","sortedIndex","sortedIndexOf","sortedLastIndex","sortedLastIndexOf","sortedUniqBy","split","spreadFrom","startsWith","subtract","sumBy","take","takeRight","takeRightWhile","takeWhile","tap","throttle","thru","times","trimChars","trimCharsEnd","trimCharsStart","truncate","union","uniqBy","uniqWith","unset","unzipWith","without","wrap","xor","zip","zipObject","zipObjectDeep"],3:["assignInWith","assignWith","clamp","differenceBy","differenceWith","findFrom","findIndexFrom","findLastFrom","findLastIndexFrom","getOr","includesFrom","indexOfFrom","inRange","intersectionBy","intersectionWith","invokeArgs","invokeArgsMap","isEqualWith","isMatchWith","flatMapDepth","lastIndexOfFrom","mergeWith","orderBy","padChars","padCharsEnd","padCharsStart","pullAllBy","pullAllWith","rangeStep","rangeStepRight","reduce","reduceRight","replace","set","slice","sortedIndexBy","sortedLastIndexBy","transform","unionBy","unionWith","update","xorBy","xorWith","zipWith"],4:["fill","setWith","updateWith"]},t.aryRearg={2:[1,0],3:[2,0,1],4:[3,2,0,1]},t.iterateeAry={dropRightWhile:1,dropWhile:1,every:1,filter:1,find:1,findFrom:1,findIndex:1,findIndexFrom:1,findKey:1,findLast:1,findLastFrom:1,findLastIndex:1,findLastIndexFrom:1,findLastKey:1,flatMap:1,flatMapDeep:1,flatMapDepth:1,forEach:1,forEachRight:1,forIn:1,forInRight:1,forOwn:1,forOwnRight:1,map:1,mapKeys:1,mapValues:1,partition:1,reduce:2,reduceRight:2,reject:1,remove:1,some:1,takeRightWhile:1,takeWhile:1,times:1,transform:2},t.iterateeRearg={mapKeys:[1],reduceRight:[1,0]},t.methodRearg={assignInAllWith:[1,0],assignInWith:[1,2,0],assignAllWith:[1,0],assignWith:[1,2,0],differenceBy:[1,2,0],differenceWith:[1,2,0],getOr:[2,1,0],intersectionBy:[1,2,0],intersectionWith:[1,2,0],isEqualWith:[1,2,0],isMatchWith:[2,1,0],mergeAllWith:[1,0],mergeWith:[1,2,0],padChars:[2,1,0],padCharsEnd:[2,1,0],padCharsStart:[2,1,0],pullAllBy:[2,1,0],pullAllWith:[2,1,0],rangeStep:[1,2,0],rangeStepRight:[1,2,0],setWith:[3,1,2,0],sortedIndexBy:[2,1,0],sortedLastIndexBy:[2,1,0],unionBy:[1,2,0],unionWith:[1,2,0],updateWith:[3,1,2,0],xorBy:[1,2,0],xorWith:[1,2,0],zipWith:[1,2,0]},t.methodSpread={assignAll:{start:0},assignAllWith:{start:0},assignInAll:{start:0},assignInAllWith:{start:0},defaultsAll:{start:0},defaultsDeepAll:{start:0},invokeArgs:{start:2},invokeArgsMap:{start:2},mergeAll:{start:0},mergeAllWith:{start:0},partial:{start:1},partialRight:{start:1},without:{start:1},zipAll:{start:0}},t.mutate={array:{fill:!0,pull:!0,pullAll:!0,pullAllBy:!0,pullAllWith:!0,pullAt:!0,remove:!0,reverse:!0},object:{assign:!0,assignAll:!0,assignAllWith:!0,assignIn:!0,assignInAll:!0,assignInAllWith:!0,assignInWith:!0,assignWith:!0,defaults:!0,defaultsAll:!0,defaultsDeep:!0,defaultsDeepAll:!0,merge:!0,mergeAll:!0,mergeAllWith:!0,mergeWith:!0},set:{set:!0,setWith:!0,unset:!0,update:!0,updateWith:!0}},t.realToAlias=function(){var e=Object.prototype.hasOwnProperty,n=t.aliasToReal,i={};for(var r in n){var o=n[r];e.call(i,o)?i[o].push(r):i[o]=[r]}return i}(),t.remap={assignAll:"assign",assignAllWith:"assignWith",assignInAll:"assignIn",assignInAllWith:"assignInWith",curryN:"curry",curryRightN:"curryRight",defaultsAll:"defaults",defaultsDeepAll:"defaultsDeep",findFrom:"find",findIndexFrom:"findIndex",findLastFrom:"findLast",findLastIndexFrom:"findLastIndex",getOr:"get",includesFrom:"includes",indexOfFrom:"indexOf",invokeArgs:"invoke",invokeArgsMap:"invokeMap",lastIndexOfFrom:"lastIndexOf",mergeAll:"merge",mergeAllWith:"mergeWith",padChars:"pad",padCharsEnd:"padEnd",padCharsStart:"padStart",propertyOf:"get",rangeStep:"range",rangeStepRight:"rangeRight",restFrom:"rest",spreadFrom:"spread",trimChars:"trim",trimCharsEnd:"trimEnd",trimCharsStart:"trimStart",zipAll:"zip"},t.skipFixed={castArray:!0,flow:!0,flowRight:!0,iteratee:!0,mixin:!0,rearg:!0,runInContext:!0},t.skipRearg={add:!0,assign:!0,assignIn:!0,bind:!0,bindKey:!0,concat:!0,difference:!0,divide:!0,eq:!0,gt:!0,gte:!0,isEqual:!0,lt:!0,lte:!0,matchesProperty:!0,merge:!0,multiply:!0,overArgs:!0,partial:!0,partialRight:!0,propertyOf:!0,random:!0,range:!0,rangeRight:!0,subtract:!0,zip:!0,zipObject:!0,zipObjectDeep:!0}},function(e,t,n){e.exports={ary:n(511),assign:n(181),clone:n(42),curry:n(529),forEach:n(114),isArray:n(12),isError:n(530),isFunction:n(17),isWeakMap:n(531),iteratee:n(532),keys:n(117),rearg:n(545),toInteger:n(103),toPath:n(548)}},function(e,t,n){var i=n(140);e.exports=function(e,t,n){return t=n?void 0:t,t=e&&null==t?e.length:t,i(e,128,void 0,void 0,void 0,void 0,t)}},function(e,t,n){var i=n(102),r=n(15);e.exports=function(e,t,n){var o=1&t,a=i(e);return function t(){return(this&&this!==r&&this instanceof t?a:e).apply(o?n:this,arguments)}}},function(e,t,n){var i=n(122),r=n(102),o=n(239),a=n(242),s=n(248),c=n(143),l=n(15);e.exports=function(e,t,n){var d=r(e);return function r(){for(var u=arguments.length,h=Array(u),A=u,p=s(r);A--;)h[A]=arguments[A];var g=u<3&&h[0]!==p&&h[u-1]!==p?[]:c(h,p);return(u-=g.length)<n?a(e,t,o,r.placeholder,void 0,h,g,void 0,void 0,n-u):i(this&&this!==l&&this instanceof r?d:e,this,h)}}},function(e,t){e.exports=function(e,t){for(var n=e.length,i=0;n--;)e[n]===t&&++i;return i}},function(e,t,n){var i=n(141),r=n(243),o=n(516),a=n(518);e.exports=function(e){var t=o(e),n=a[t];if("function"!=typeof n||!(t in i.prototype))return!1;if(e===n)return!0;var s=r(n);return!!s&&e===s[0]}},function(e,t,n){var i=n(517),r=Object.prototype.hasOwnProperty;e.exports=function(e){for(var t=e.name+"",n=i[t],o=r.call(i,t)?n.length:0;o--;){var a=n[o],s=a.func;if(null==s||s==e)return a.name}return t}},function(e,t){e.exports={}},function(e,t,n){var i=n(141),r=n(245),o=n(142),a=n(12),s=n(18),c=n(519),l=Object.prototype.hasOwnProperty;function d(e){if(s(e)&&!a(e)&&!(e instanceof i)){if(e instanceof r)return e;if(l.call(e,"__wrapped__"))return c(e)}return new r(e)}d.prototype=o.prototype,d.prototype.constructor=d,e.exports=d},function(e,t,n){var i=n(141),r=n(245),o=n(55);e.exports=function(e){if(e instanceof i)return e.clone();var t=new r(e.__wrapped__,e.__chain__);return t.__actions__=o(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}},function(e,t){var n=/\{\n\/\* \[wrapped with (.+)\] \*/,i=/,? & /;e.exports=function(e){var t=e.match(n);return t?t[1].split(i):[]}},function(e,t){var n=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;e.exports=function(e,t){var i=t.length;if(!i)return e;var r=i-1;return t[r]=(i>1?"& ":"")+t[r],t=t.join(i>2?", ":" "),e.replace(n,"{\n/* [wrapped with "+t+"] */\n")}},function(e,t,n){var i=n(114),r=n(99),o=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];e.exports=function(e,t){return i(o,(function(n){var i="_."+n[0];t&n[1]&&!r(e,i)&&e.push(i)})),e.sort()}},function(e,t,n){var i=n(55),r=n(66),o=Math.min;e.exports=function(e,t){for(var n=e.length,a=o(t.length,n),s=i(e);a--;){var c=t[a];e[a]=r(c,n)?s[c]:void 0}return e}},function(e,t,n){var i=n(122),r=n(102),o=n(15);e.exports=function(e,t,n,a){var s=1&t,c=r(e);return function t(){for(var r=-1,l=arguments.length,d=-1,u=a.length,h=Array(u+l),A=this&&this!==o&&this instanceof t?c:e;++d<u;)h[d]=a[d];for(;l--;)h[d++]=arguments[++r];return i(A,s?n:this,h)}}},function(e,t,n){var i=n(240),r=n(241),o=n(143),a="__lodash_placeholder__",s=128,c=Math.min;e.exports=function(e,t){var n=e[1],l=t[1],d=n|l,u=d<131,h=l==s&&8==n||l==s&&256==n&&e[7].length<=t[8]||384==l&&t[7].length<=t[8]&&8==n;if(!u&&!h)return e;1&l&&(e[2]=t[2],d|=1&n?0:4);var A=t[3];if(A){var p=e[3];e[3]=p?i(p,A,t[4]):A,e[4]=p?o(e[3],a):t[4]}return(A=t[5])&&(p=e[5],e[5]=p?r(p,A,t[6]):A,e[6]=p?o(e[5],a):t[6]),(A=t[7])&&(e[7]=A),l&s&&(e[8]=null==e[8]?t[8]:c(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=d,e}},function(e,t,n){var i=n(249),r=1/0;e.exports=function(e){return e?(e=i(e))===r||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}},function(e,t,n){var i=n(528),r=/^\s+/;e.exports=function(e){return e?e.slice(0,i(e)+1).replace(r,""):e}},function(e,t){var n=/\s/;e.exports=function(e){for(var t=e.length;t--&&n.test(e.charAt(t)););return t}},function(e,t,n){var i=n(140);function r(e,t,n){var o=i(e,8,void 0,void 0,void 0,void 0,void 0,t=n?void 0:t);return o.placeholder=r.placeholder,o}r.placeholder={},e.exports=r},function(e,t,n){var i=n(32),r=n(18),o=n(144);e.exports=function(e){if(!r(e))return!1;var t=i(e);return"[object Error]"==t||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!o(e)}},function(e,t,n){var i=n(46),r=n(18);e.exports=function(e){return r(e)&&"[object WeakMap]"==i(e)}},function(e,t,n){var i=n(78),r=n(39);e.exports=function(e){return r("function"==typeof e?e:i(e,1))}},function(e,t,n){var i=n(534),r=n(538),o=n(254);e.exports=function(e){var t=r(e);return 1==t.length&&t[0][2]?o(t[0][0],t[0][1]):function(n){return n===e||i(n,e,t)}}},function(e,t,n){var i=n(79),r=n(145);e.exports=function(e,t,n,o){var a=n.length,s=a,c=!o;if(null==e)return!s;for(e=Object(e);a--;){var l=n[a];if(c&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<s;){var d=(l=n[a])[0],u=e[d],h=l[1];if(c&&l[2]){if(void 0===u&&!(d in e))return!1}else{var A=new i;if(o)var p=o(u,h,d,e,t,A);if(!(void 0===p?r(h,u,3,o,A):p))return!1}}return!0}},function(e,t,n){var i=n(79),r=n(250),o=n(536),a=n(537),s=n(46),c=n(12),l=n(65),d=n(86),u="[object Arguments]",h="[object Array]",A="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,g,f,m){var E=c(e),C=c(t),I=E?h:s(e),Q=C?h:s(t),U=(I=I==u?A:I)==A,y=(Q=Q==u?A:Q)==A,b=I==Q;if(b&&l(e)){if(!l(t))return!1;E=!0,U=!1}if(b&&!U)return m||(m=new i),E||d(e)?r(e,t,n,g,f,m):o(e,t,I,n,g,f,m);if(!(1&n)){var v=U&&p.call(e,"__wrapped__"),R=y&&p.call(t,"__wrapped__");if(v||R){var S=v?e.value():e,F=R?t.value():t;return m||(m=new i),f(S,F,n,g,m)}}return!!b&&(m||(m=new i),a(e,t,n,g,f,m))}},function(e,t,n){var i=n(44),r=n(192),o=n(53),a=n(250),s=n(252),c=n(104),l=i?i.prototype:void 0,d=l?l.valueOf:void 0;e.exports=function(e,t,n,i,l,u,h){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!u(new r(e),new r(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var A=s;case"[object Set]":var p=1&i;if(A||(A=c),e.size!=t.size&&!p)return!1;var g=h.get(e);if(g)return g==t;i|=2,h.set(e,t);var f=a(A(e),A(t),i,l,u,h);return h.delete(e),f;case"[object Symbol]":if(d)return d.call(e)==d.call(t)}return!1}},function(e,t,n){var i=n(187),r=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,o,a,s){var c=1&n,l=i(e),d=l.length;if(d!=i(t).length&&!c)return!1;for(var u=d;u--;){var h=l[u];if(!(c?h in t:r.call(t,h)))return!1}var A=s.get(e),p=s.get(t);if(A&&p)return A==t&&p==e;var g=!0;s.set(e,t),s.set(t,e);for(var f=c;++u<d;){var m=e[h=l[u]],E=t[h];if(o)var C=c?o(E,m,h,t,e,s):o(m,E,h,e,t,s);if(!(void 0===C?m===E||a(m,E,n,o,s):C)){g=!1;break}f||(f="constructor"==h)}if(g&&!f){var I=e.constructor,Q=t.constructor;I==Q||!("constructor"in e)||!("constructor"in t)||"function"==typeof I&&I instanceof I&&"function"==typeof Q&&Q instanceof Q||(g=!1)}return s.delete(e),s.delete(t),g}},function(e,t,n){var i=n(253),r=n(33);e.exports=function(e){for(var t=r(e),n=t.length;n--;){var o=t[n],a=e[o];t[n]=[o,a,i(a)]}return t}},function(e,t,n){var i=n(145),r=n(59),o=n(255),a=n(137),s=n(253),c=n(254),l=n(49);e.exports=function(e,t){return a(e)&&s(t)?c(l(e),t):function(n){var a=r(n,e);return void 0===a&&a===t?o(n,e):i(t,a,3)}}},function(e,t){e.exports=function(e,t){return null!=e&&t in Object(e)}},function(e,t,n){var i=n(60),r=n(64),o=n(12),a=n(66),s=n(115),c=n(49);e.exports=function(e,t,n){for(var l=-1,d=(t=i(t,e)).length,u=!1;++l<d;){var h=c(t[l]);if(!(u=null!=e&&n(e,h)))break;e=e[h]}return u||++l!=d?u:!!(d=null==e?0:e.length)&&s(d)&&a(h,d)&&(o(e)||r(e))}},function(e,t,n){var i=n(543),r=n(544),o=n(137),a=n(49);e.exports=function(e){return o(e)?i(a(e)):r(e)}},function(e,t){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},function(e,t,n){var i=n(101);e.exports=function(e){return function(t){return i(t,e)}}},function(e,t,n){var i=n(140),r=n(146),o=r((function(e,t){return i(e,256,void 0,void 0,void 0,t)}));e.exports=o},function(e,t,n){var i=n(256);e.exports=function(e){return null!=e&&e.length?i(e,1):[]}},function(e,t,n){var i=n(44),r=n(64),o=n(12),a=i?i.isConcatSpreadable:void 0;e.exports=function(e){return o(e)||r(e)||!!(a&&e&&e[a])}},function(e,t,n){var i=n(37),r=n(55),o=n(12),a=n(71),s=n(226),c=n(49),l=n(61);e.exports=function(e){return o(e)?i(e,c):a(e)?[e]:r(s(l(e)))}},function(e,t,n){var i=n(63),r=n(105),o=n(39);e.exports=function(e,t){var n={};return t=o(t,3),r(e,(function(e,r,o){i(n,t(e,r,o),e)})),n}},function(e,t){e.exports=function(e){return function(t,n,i){for(var r=-1,o=Object(t),a=i(t),s=a.length;s--;){var c=a[e?s:++r];if(!1===n(o[c],c,o))break}return t}}},function(e,t,n){var i=n(236)("pick",n(40));i.placeholder=n(139),e.exports=i},function(e,t,n){var i=n(553),r=n(255);e.exports=function(e,t){return i(e,t,(function(t,n){return r(e,n)}))}},function(e,t,n){var i=n(101),r=n(554),o=n(60);e.exports=function(e,t,n){for(var a=-1,s=t.length,c={};++a<s;){var l=t[a],d=i(e,l);n(d,l)&&r(c,o(l,e),d)}return c}},function(e,t,n){var i=n(84),r=n(60),o=n(66),a=n(11),s=n(49);e.exports=function(e,t,n,c){if(!a(e))return e;for(var l=-1,d=(t=r(t,e)).length,u=d-1,h=e;null!=h&&++l<d;){var A=s(t[l]),p=n;if("__proto__"===A||"constructor"===A||"prototype"===A)return e;if(l!=u){var g=h[A];void 0===(p=c?c(g,A,h):void 0)&&(p=a(g)?g:o(t[l+1])?[]:{})}i(h,A,p),h=h[A]}return e}},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(556));t.default=(e,t)=>{if("string"===typeof e&&"string"===typeof t){const n=(0,r.default)(e),i=t.match(/(\w+:\/\/)(.*)/),o=i[1],a=i[2];return"".concat(o).concat(n,"/").concat(a)}return t}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var i=e=>e.replace(/\/+$/,"").replace(/^.*:\/+/,"");t.default=i},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=function(e){void 0===e&&(e={});const t=e.isSessionProxied||o.default,n=e.sessionId;t(n)&&r.default.forEach((t=>{t in e&&(e[t]="")}))};var r=i(n(558)),o=i(n(559))},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0,t.default=["audioLocalAddress","audioRemoteAddress","videoLocalAddress","videoRemoteAddress"]},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;const r=i(n(24)).default.sessions;t.default=e=>{const t=r.get(e);return!!t&&!!t._.getProxyUrl()}},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(4)),o=i(n(5));const a={architecture:"event_ua_arch",bitness:"event_ua_bitness",model:"event_ua_model",platformVersion:"event_ua_platform_version"},s=function(){var e=(0,o.default)(r.default.mark((function e(t){var n,i;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n={},null==t||!t.getHighEntropyValues){e.next=6;break}return e.next=4,t.getHighEntropyValues(Object.keys(a));case 4:(i=e.sent)&&Object.entries(a).forEach((e=>{let t=e[0],r=e[1];void 0!==i[t]&&(n[r]=i[t])}));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var c=s;t.default=c},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;const r={isElementNode:function(e){return e&&"object"===typeof e&&1===e.nodeType},createElement:function(e,t,n,i){const r=(i||document).createElement(e);t=t||{},Object.keys(t).forEach((e=>{if("object"===typeof t[e]){r[e]||(r[e]={});const n=t[e];Object.keys(n).forEach((t=>{r[e][t]=n[t]}))}else"className"===e?r.className=t[e]:r.setAttribute(e,t[e])}));const o=function(e){"string"===typeof e?r.innerHTML+=e:r.appendChild(e)};return Array.isArray(n)?n.forEach(o):n&&o(n),r}};(0,i(n(218)).default)(r);var o=r;t.default=o},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(){return function(e,t,n){const i=[];function r(r){setTimeout((()=>{if(i.length)if(function(e){return e.getTracks().every((e=>"ended"===e.readyState))}(e))a(),"function"===typeof t&&t();else{const e=r.target;o(e),"function"===typeof n&&n(e)}}),100)}function o(e){e.onended===r&&(e.onended=null);const t=i.indexOf(e);t>=0&&i.splice(t,1)}function a(){i.slice().forEach(o)}function s(){e.getTracks().forEach((e=>{i.push(e),e.onended=r}))}return s(),{stop:a,refresh:()=>{a(),s()}}}}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var i=["buildHash","minimumVersion","debug",["websiteURL","websiteUrl"],["cdnURL","cdnUrl"],["loggingURL","loggingUrl"],["apiURL","apiUrl"],["supportSSL",!0],["cdnURLSSL","cdnUrl"],["loggingURLSSL","loggingUrl"],["apiURLSSL","apiUrl"],["assetURL","assetUrl"]];t.default=i},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var i=["apiUrl","apiURL","apiURLSSL"];t.default=i},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(){const e=(void 0!==typeof window?window:n.g).OT,t=(void 0!==typeof window?window:n.g).TB;return()=>{const i=(void 0!==typeof window?window:n.g).OT;return(void 0!==typeof window?window:n.g).OT=e,(void 0!==typeof window?window:n.g).TB=t,i}}},function(e,t,n){"use strict";var i=n(31);e.exports=function(e,t){var r=e&&e.window,o={shimChrome:!0,shimFirefox:!0,shimEdge:!0,shimSafari:!0};for(var a in t)hasOwnProperty.call(t,a)&&(o[a]=t[a]);var s=i.log,c=i.detectBrowser(r),l=n(567)||null,d=n(569)||null,u=n(573)||null,h=n(575)||null,A=n(576)||null,p={browserDetails:c,commonShim:A,extractVersion:i.extractVersion,disableLog:i.disableLog,disableWarnings:i.disableWarnings};switch(c.browser){case"chrome":if(!l||!l.shimPeerConnection||!o.shimChrome)return s("Chrome shim is not included in this adapter release."),p;s("adapter.js shimming chrome."),p.browserShim=l,A.shimCreateObjectURL(r),l.shimGetUserMedia(r),l.shimMediaStream(r),l.shimSourceObject(r),l.shimPeerConnection(r),l.shimOnTrack(r),l.shimAddTrackRemoveTrack(r),l.shimGetSendersWithDtmf(r),l.shimSenderReceiverGetStats(r),l.fixNegotiationNeeded(r),A.shimRTCIceCandidate(r),A.shimMaxMessageSize(r),A.shimSendThrowTypeError(r);break;case"firefox":if(!u||!u.shimPeerConnection||!o.shimFirefox)return s("Firefox shim is not included in this adapter release."),p;s("adapter.js shimming firefox."),p.browserShim=u,A.shimCreateObjectURL(r),u.shimGetUserMedia(r),u.shimSourceObject(r),u.shimPeerConnection(r),u.shimOnTrack(r),u.shimRemoveStream(r),u.shimSenderGetStats(r),u.shimReceiverGetStats(r),u.shimRTCDataChannel(r),A.shimRTCIceCandidate(r),A.shimMaxMessageSize(r),A.shimSendThrowTypeError(r);break;case"edge":if(!d||!d.shimPeerConnection||!o.shimEdge)return s("MS edge shim is not included in this adapter release."),p;s("adapter.js shimming edge."),p.browserShim=d,A.shimCreateObjectURL(r),d.shimGetUserMedia(r),d.shimPeerConnection(r),d.shimReplaceTrack(r),d.shimGetDisplayMedia(r),A.shimMaxMessageSize(r),A.shimSendThrowTypeError(r);break;case"safari":if(!h||!o.shimSafari)return s("Safari shim is not included in this adapter release."),p;s("adapter.js shimming safari."),p.browserShim=h,A.shimCreateObjectURL(r),h.shimRTCIceServerUrls(r),h.shimCreateOfferLegacy(r),h.shimCallbacksAPI(r),h.shimLocalStreamsAPI(r),h.shimRemoteStreamsAPI(r),h.shimTrackEventTransceiver(r),h.shimGetUserMedia(r),A.shimRTCIceCandidate(r),A.shimMaxMessageSize(r),A.shimSendThrowTypeError(r);break;default:s("Unsupported browser!")}return p}},function(e,t,n){"use strict";(function(t){var i=n(31),r=i.log;function o(e,t,n){t&&!n.has(t.id)&&(n.set(t.id,t),Object.keys(t).forEach((function(i){i.endsWith("Id")?o(e,e.get(t[i]),n):i.endsWith("Ids")&&t[i].forEach((function(t){o(e,e.get(t),n)}))})))}function a(e,t,n){var i=n?"outbound-rtp":"inbound-rtp",r=new Map;if(null===t)return r;var a=[];return e.forEach((function(e){"track"===e.type&&e.trackIdentifier===t.id&&a.push(e)})),a.forEach((function(t){e.forEach((function(n){n.type===i&&n.trackId===t.id&&o(e,n,r)}))})),r}e.exports={shimGetUserMedia:n(568),shimMediaStream:function(e){e.MediaStream=e.MediaStream||e.webkitMediaStream},shimOnTrack:function(e){if("object"===typeof e&&e.RTCPeerConnection&&!("ontrack"in e.RTCPeerConnection.prototype)){Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(e){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=e)},enumerable:!0,configurable:!0});var t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){var n=this;return n._ontrackpoly||(n._ontrackpoly=function(t){t.stream.addEventListener("addtrack",(function(i){var r;r=e.RTCPeerConnection.prototype.getReceivers?n.getReceivers().find((function(e){return e.track&&e.track.id===i.track.id})):{track:i.track};var o=new Event("track");o.track=i.track,o.receiver=r,o.transceiver={receiver:r},o.streams=[t.stream],n.dispatchEvent(o)})),t.stream.getTracks().forEach((function(i){var r;r=e.RTCPeerConnection.prototype.getReceivers?n.getReceivers().find((function(e){return e.track&&e.track.id===i.id})):{track:i};var o=new Event("track");o.track=i,o.receiver=r,o.transceiver={receiver:r},o.streams=[t.stream],n.dispatchEvent(o)}))},n.addEventListener("addstream",n._ontrackpoly)),t.apply(n,arguments)}}else i.wrapPeerConnectionEvent(e,"track",(function(e){return e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e}))},shimGetSendersWithDtmf:function(e){if("object"===typeof e&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){var t=function(e,t){return{track:t,get dtmf(){return void 0===this._dtmf&&("audio"===t.kind?this._dtmf=e.createDTMFSender(t):this._dtmf=null),this._dtmf},_pc:e}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};var n=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,i){var r=this,o=n.apply(r,arguments);return o||(o=t(r,e),r._senders.push(o)),o};var i=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){var t=this;i.apply(t,arguments);var n=t._senders.indexOf(e);-1!==n&&t._senders.splice(n,1)}}var r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){var n=this;n._senders=n._senders||[],r.apply(n,[e]),e.getTracks().forEach((function(e){n._senders.push(t(n,e))}))};var o=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;t._senders=t._senders||[],o.apply(t,[e]),e.getTracks().forEach((function(e){var n=t._senders.find((function(t){return t.track===e}));n&&t._senders.splice(t._senders.indexOf(n),1)}))}}else if("object"===typeof e&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){var a=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){var e=this,t=a.apply(e,[]);return t.forEach((function(t){t._pc=e})),t},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get:function(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}},shimSenderReceiverGetStats:function(e){if("object"===typeof e&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver){if(!("getStats"in e.RTCRtpSender.prototype)){var n=e.RTCPeerConnection.prototype.getSenders;n&&(e.RTCPeerConnection.prototype.getSenders=function(){var e=this,t=n.apply(e,[]);return t.forEach((function(t){t._pc=e})),t});var r=e.RTCPeerConnection.prototype.addTrack;r&&(e.RTCPeerConnection.prototype.addTrack=function(){var e=r.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){var e=this;return this._pc.getStats().then((function(t){return a(t,e.track,!0)}))}}if(!("getStats"in e.RTCRtpReceiver.prototype)){var o=e.RTCPeerConnection.prototype.getReceivers;o&&(e.RTCPeerConnection.prototype.getReceivers=function(){var e=this,t=o.apply(e,[]);return t.forEach((function(t){t._pc=e})),t}),i.wrapPeerConnectionEvent(e,"track",(function(e){return e.receiver._pc=e.srcElement,e})),e.RTCRtpReceiver.prototype.getStats=function(){var e=this;return this._pc.getStats().then((function(t){return a(t,e.track,!1)}))}}if("getStats"in e.RTCRtpSender.prototype&&"getStats"in e.RTCRtpReceiver.prototype){var s=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){var n=this;if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){var i,r,o,a=arguments[0];return n.getSenders().forEach((function(e){e.track===a&&(i?o=!0:i=e)})),n.getReceivers().forEach((function(e){return e.track===a&&(r?o=!0:r=e),e.track===a})),o||i&&r?t.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):i?i.getStats():r?r.getStats():t.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return s.apply(n,arguments)}}}},shimSourceObject:function(e){var t=e&&e.URL;"object"===typeof e&&e.HTMLMediaElement&&!("srcObject"in e.HTMLMediaElement.prototype)&&Object.defineProperty(e.HTMLMediaElement.prototype,"srcObject",{get:function(){return this._srcObject},set:function(e){var n=this;this._srcObject=e,this.src&&t.revokeObjectURL(this.src),e?(this.src=t.createObjectURL(e),e.addEventListener("addtrack",(function(){n.src&&t.revokeObjectURL(n.src),n.src=t.createObjectURL(e)})),e.addEventListener("removetrack",(function(){n.src&&t.revokeObjectURL(n.src),n.src=t.createObjectURL(e)}))):this.src=""}})},shimAddTrackRemoveTrackWithNative:function(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){var e=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map((function(t){return e._shimmedLocalStreams[t][0]}))};var t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,n){if(!n)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};var i=t.apply(this,arguments);return this._shimmedLocalStreams[n.id]?-1===this._shimmedLocalStreams[n.id].indexOf(i)&&this._shimmedLocalStreams[n.id].push(i):this._shimmedLocalStreams[n.id]=[n,i],i};var n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){var t=this;this._shimmedLocalStreams=this._shimmedLocalStreams||{},e.getTracks().forEach((function(e){if(t.getSenders().find((function(t){return t.track===e})))throw new DOMException("Track already exists.","InvalidAccessError")}));var i=t.getSenders();n.apply(this,arguments);var r=t.getSenders().filter((function(e){return-1===i.indexOf(e)}));this._shimmedLocalStreams[e.id]=[e].concat(r)};var i=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[e.id],i.apply(this,arguments)};var r=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){var t=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},e&&Object.keys(this._shimmedLocalStreams).forEach((function(n){var i=t._shimmedLocalStreams[n].indexOf(e);-1!==i&&t._shimmedLocalStreams[n].splice(i,1),1===t._shimmedLocalStreams[n].length&&delete t._shimmedLocalStreams[n]})),r.apply(this,arguments)}},shimAddTrackRemoveTrack:function(e){if(e.RTCPeerConnection){var n=i.detectBrowser(e);if(e.RTCPeerConnection.prototype.addTrack&&n.version>=65)return this.shimAddTrackRemoveTrackWithNative(e);var r=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){var e=this,t=r.apply(this);return e._reverseStreams=e._reverseStreams||{},t.map((function(t){return e._reverseStreams[t.id]}))};var o=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(t){var n=this;if(n._streams=n._streams||{},n._reverseStreams=n._reverseStreams||{},t.getTracks().forEach((function(e){if(n.getSenders().find((function(t){return t.track===e})))throw new DOMException("Track already exists.","InvalidAccessError")})),!n._reverseStreams[t.id]){var i=new e.MediaStream(t.getTracks());n._streams[t.id]=i,n._reverseStreams[i.id]=t,t=i}o.apply(n,[t])};var a=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;t._streams=t._streams||{},t._reverseStreams=t._reverseStreams||{},a.apply(t,[t._streams[e.id]||e]),delete t._reverseStreams[t._streams[e.id]?t._streams[e.id].id:e.id],delete t._streams[e.id]},e.RTCPeerConnection.prototype.addTrack=function(n,i){var r=this;if("closed"===r.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");var o=[].slice.call(arguments,1);if(1!==o.length||!o[0].getTracks().find((function(e){return e===n})))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(r.getSenders().find((function(e){return e.track===n})))throw new DOMException("Track already exists.","InvalidAccessError");r._streams=r._streams||{},r._reverseStreams=r._reverseStreams||{};var a=r._streams[i.id];if(a)a.addTrack(n),t.resolve().then((function(){r.dispatchEvent(new Event("negotiationneeded"))}));else{var s=new e.MediaStream([n]);r._streams[i.id]=s,r._reverseStreams[s.id]=i,r.addStream(s)}return r.getSenders().find((function(e){return e.track===n}))},["createOffer","createAnswer"].forEach((function(t){var n=e.RTCPeerConnection.prototype[t];e.RTCPeerConnection.prototype[t]=function(){var e=this,t=arguments;return arguments.length&&"function"===typeof arguments[0]?n.apply(e,[function(n){var i=l(e,n);t[0].apply(null,[i])},function(e){t[1]&&t[1].apply(null,e)},arguments[2]]):n.apply(e,arguments).then((function(t){return l(e,t)}))}}));var s=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){var e=this;return arguments.length&&arguments[0].type?(arguments[0]=function(e,t){var n=t.sdp;return Object.keys(e._reverseStreams||[]).forEach((function(t){var i=e._reverseStreams[t],r=e._streams[i.id];n=n.replace(new RegExp(i.id,"g"),r.id)})),new RTCSessionDescription({type:t.type,sdp:n})}(e,arguments[0]),s.apply(e,arguments)):s.apply(e,arguments)};var c=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get:function(){var e=c.get.apply(this);return""===e.type?e:l(this,e)}}),e.RTCPeerConnection.prototype.removeTrack=function(e){var t,n=this;if("closed"===n.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!e._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(e._pc!==n)throw new DOMException("Sender was not created by this connection.","InvalidAccessError");n._streams=n._streams||{},Object.keys(n._streams).forEach((function(i){n._streams[i].getTracks().find((function(t){return e.track===t}))&&(t=n._streams[i])})),t&&(1===t.getTracks().length?n.removeStream(n._reverseStreams[t.id]):t.removeTrack(e.track),n.dispatchEvent(new Event("negotiationneeded")))}}function l(e,t){var n=t.sdp;return Object.keys(e._reverseStreams||[]).forEach((function(t){var i=e._reverseStreams[t],r=e._streams[i.id];n=n.replace(new RegExp(r.id,"g"),i.id)})),new RTCSessionDescription({type:t.type,sdp:n})}},shimPeerConnection:function(e){var n=i.detectBrowser(e);if(!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=function(t,n){return r("PeerConnection"),t&&t.iceTransportPolicy&&(t.iceTransports=t.iceTransportPolicy),new e.webkitRTCPeerConnection(t,n)},e.RTCPeerConnection.prototype=e.webkitRTCPeerConnection.prototype,e.webkitRTCPeerConnection.generateCertificate&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:function(){return e.webkitRTCPeerConnection.generateCertificate}})),e.RTCPeerConnection){var o=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(e,n,i){var r=this,a=arguments;if(arguments.length>0&&"function"===typeof e)return o.apply(this,arguments);if(0===o.length&&(0===arguments.length||"function"!==typeof arguments[0]))return o.apply(this,[]);var s=function(e){var t={};return e.result().forEach((function(e){var n={id:e.id,timestamp:e.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[e.type]||e.type};e.names().forEach((function(t){n[t]=e.stat(t)})),t[n.id]=n})),t},c=function(e){return new Map(Object.keys(e).map((function(t){return[t,e[t]]})))};return arguments.length>=2?o.apply(this,[function(e){a[1](c(s(e)))},arguments[0]]):new t((function(e,t){o.apply(r,[function(t){e(c(s(t)))},t])})).then(n,i)},n.version<51&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(n){var i=e.RTCPeerConnection.prototype[n];e.RTCPeerConnection.prototype[n]=function(){var e=arguments,n=this,r=new t((function(t,r){i.apply(n,[e[0],t,r])}));return e.length<2?r:r.then((function(){e[1].apply(null,[])}),(function(t){e.length>=3&&e[2].apply(null,[t])}))}})),n.version<52&&["createOffer","createAnswer"].forEach((function(n){var i=e.RTCPeerConnection.prototype[n];e.RTCPeerConnection.prototype[n]=function(){var e=this;if(arguments.length<1||1===arguments.length&&"object"===typeof arguments[0]){var n=1===arguments.length?arguments[0]:void 0;return new t((function(t,r){i.apply(e,[t,r,n])}))}return i.apply(this,arguments)}})),["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(t){var n=e.RTCPeerConnection.prototype[t];e.RTCPeerConnection.prototype[t]=function(){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}}));var a=e.RTCPeerConnection.prototype.addIceCandidate;e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?a.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),t.resolve())}}},fixNegotiationNeeded:function(e){i.wrapPeerConnectionEvent(e,"negotiationneeded",(function(e){if("stable"===e.target.signalingState)return e}))},shimGetDisplayMedia:function(e,t){e.navigator&&e.navigator.mediaDevices&&!("getDisplayMedia"in e.navigator.mediaDevices)&&("function"===typeof t?(e.navigator.mediaDevices.getDisplayMedia=function(n){return t(n).then((function(t){var i=n.video&&n.video.width,r=n.video&&n.video.height,o=n.video&&n.video.frameRate;return n.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:t,maxFrameRate:o||3}},i&&(n.video.mandatory.maxWidth=i),r&&(n.video.mandatory.maxHeight=r),e.navigator.mediaDevices.getUserMedia(n)}))},e.navigator.getDisplayMedia=function(t){return i.deprecated("navigator.getDisplayMedia","navigator.mediaDevices.getDisplayMedia"),e.navigator.mediaDevices.getDisplayMedia(t)}):console.error("shimGetDisplayMedia: getSourceId argument is not a function"))}}}).call(this,n(2))},function(e,t,n){"use strict";(function(t){var i=n(31),r=i.log;e.exports=function(e){var n=i.detectBrowser(e),o=e&&e.navigator,a=function(e){if("object"!==typeof e||e.mandatory||e.optional)return e;var t={};return Object.keys(e).forEach((function(n){if("require"!==n&&"advanced"!==n&&"mediaSource"!==n){var i="object"===typeof e[n]?e[n]:{ideal:e[n]};void 0!==i.exact&&"number"===typeof i.exact&&(i.min=i.max=i.exact);var r=function(e,t){return e?e+t.charAt(0).toUpperCase()+t.slice(1):"deviceId"===t?"sourceId":t};if(void 0!==i.ideal){t.optional=t.optional||[];var o={};"number"===typeof i.ideal?(o[r("min",n)]=i.ideal,t.optional.push(o),(o={})[r("max",n)]=i.ideal,t.optional.push(o)):(o[r("",n)]=i.ideal,t.optional.push(o))}void 0!==i.exact&&"number"!==typeof i.exact?(t.mandatory=t.mandatory||{},t.mandatory[r("",n)]=i.exact):["min","max"].forEach((function(e){void 0!==i[e]&&(t.mandatory=t.mandatory||{},t.mandatory[r(e,n)]=i[e])}))}})),e.advanced&&(t.optional=(t.optional||[]).concat(e.advanced)),t},s=function(e,t){if(n.version>=61)return t(e);if((e=JSON.parse(JSON.stringify(e)))&&"object"===typeof e.audio){var i=function(e,t,n){t in e&&!(n in e)&&(e[n]=e[t],delete e[t])};i((e=JSON.parse(JSON.stringify(e))).audio,"autoGainControl","googAutoGainControl"),i(e.audio,"noiseSuppression","googNoiseSuppression"),e.audio=a(e.audio)}if(e&&"object"===typeof e.video){var s=e.video.facingMode;s=s&&("object"===typeof s?s:{ideal:s});var c,l=n.version<66;if(s&&("user"===s.exact||"environment"===s.exact||"user"===s.ideal||"environment"===s.ideal)&&(!o.mediaDevices.getSupportedConstraints||!o.mediaDevices.getSupportedConstraints().facingMode||l)&&(delete e.video.facingMode,"environment"===s.exact||"environment"===s.ideal?c=["back","rear"]:"user"!==s.exact&&"user"!==s.ideal||(c=["front"]),c))return o.mediaDevices.enumerateDevices().then((function(n){var i=(n=n.filter((function(e){return"videoinput"===e.kind}))).find((function(e){return c.some((function(t){return-1!==e.label.toLowerCase().indexOf(t)}))}));return!i&&n.length&&-1!==c.indexOf("back")&&(i=n[n.length-1]),i&&(e.video.deviceId=s.exact?{exact:i.deviceId}:{ideal:i.deviceId}),e.video=a(e.video),r("chrome: "+JSON.stringify(e)),t(e)}));e.video=a(e.video)}return r("chrome: "+JSON.stringify(e)),t(e)},c=function(e){return n.version>=64?e:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[e.name]||e.name,message:e.message,constraint:e.constraint||e.constraintName,toString:function(){return this.name+(this.message&&": ")+this.message}}};o.getUserMedia=function(e,t,n){s(e,(function(e){o.webkitGetUserMedia(e,t,(function(e){n&&n(c(e))}))}))};var l=function(e){return new t((function(t,n){o.getUserMedia(e,t,n)}))};if(o.mediaDevices||(o.mediaDevices={getUserMedia:l,enumerateDevices:function(){return new t((function(t){var n={audio:"audioinput",video:"videoinput"};return e.MediaStreamTrack.getSources((function(e){t(e.map((function(e){return{label:e.label,kind:n[e.kind],deviceId:e.id,groupId:""}})))}))}))},getSupportedConstraints:function(){return{deviceId:!0,echoCancellation:!0,facingMode:!0,frameRate:!0,height:!0,width:!0}}}),o.mediaDevices.getUserMedia){var d=o.mediaDevices.getUserMedia.bind(o.mediaDevices);o.mediaDevices.getUserMedia=function(e){return s(e,(function(e){return d(e).then((function(t){if(e.audio&&!t.getAudioTracks().length||e.video&&!t.getVideoTracks().length)throw t.getTracks().forEach((function(e){e.stop()})),new DOMException("","NotFoundError");return t}),(function(e){return t.reject(c(e))}))}))}}else o.mediaDevices.getUserMedia=function(e){return l(e)};"undefined"===typeof o.mediaDevices.addEventListener&&(o.mediaDevices.addEventListener=function(){r("Dummy mediaDevices.addEventListener called.")}),"undefined"===typeof o.mediaDevices.removeEventListener&&(o.mediaDevices.removeEventListener=function(){r("Dummy mediaDevices.removeEventListener called.")})}}).call(this,n(2))},function(e,t,n){"use strict";var i=n(31),r=n(570),o=n(571);e.exports={shimGetUserMedia:n(572),shimPeerConnection:function(e){var t=i.detectBrowser(e);if(e.RTCIceGatherer&&(e.RTCIceCandidate||(e.RTCIceCandidate=function(e){return e}),e.RTCSessionDescription||(e.RTCSessionDescription=function(e){return e}),t.version<15025)){var n=Object.getOwnPropertyDescriptor(e.MediaStreamTrack.prototype,"enabled");Object.defineProperty(e.MediaStreamTrack.prototype,"enabled",{set:function(e){n.set.call(this,e);var t=new Event("enabled");t.enabled=e,this.dispatchEvent(t)}})}e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)&&Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get:function(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=new e.RTCDtmfSender(this):"video"===this.track.kind&&(this._dtmf=null)),this._dtmf}}),e.RTCDtmfSender&&!e.RTCDTMFSender&&(e.RTCDTMFSender=e.RTCDtmfSender);var a=o(e,t.version);e.RTCPeerConnection=function(e){return e&&e.iceServers&&(e.iceServers=r(e.iceServers)),new a(e)},e.RTCPeerConnection.prototype=a.prototype},shimReplaceTrack:function(e){e.RTCRtpSender&&!("replaceTrack"in e.RTCRtpSender.prototype)&&(e.RTCRtpSender.prototype.replaceTrack=e.RTCRtpSender.prototype.setTrack)},shimGetDisplayMedia:function(e,t){if("getDisplayMedia"in e.navigator&&e.navigator.mediaDevices&&!("getDisplayMedia"in e.navigator.mediaDevices)){var n=e.navigator.getDisplayMedia;e.navigator.mediaDevices.getDisplayMedia=function(t){return n.call(e.navigator,t)},e.navigator.getDisplayMedia=function(t){return i.deprecated("navigator.getDisplayMedia","navigator.mediaDevices.getDisplayMedia"),n.call(e.navigator,t)}}}}},function(e,t,n){"use strict";var i=n(31);e.exports=function(e,t){var n=!1;return(e=JSON.parse(JSON.stringify(e))).filter((function(e){if(e&&(e.urls||e.url)){var r=e.urls||e.url;e.url&&!e.urls&&i.deprecated("RTCIceServer.url","RTCIceServer.urls");var o="string"===typeof r;return o&&(r=[r]),r=r.filter((function(e){return 0!==e.indexOf("turn:")||-1===e.indexOf("transport=udp")||-1!==e.indexOf("turn:[")||n?0===e.indexOf("stun:")&&t>=14393&&-1===e.indexOf("?transport=udp"):(n=!0,!0)})),delete e.url,e.urls=o?r[0]:r,!!r.length}}))}},function(e,t,n){"use strict";(function(t){var i=n(261);function r(e,t,n,r,o){var a=i.writeRtpDescription(e.kind,t);if(a+=i.writeIceParameters(e.iceGatherer.getLocalParameters()),a+=i.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),"offer"===n?"actpass":o||"active"),a+="a=mid:"+e.mid+"\r\n",e.rtpSender&&e.rtpReceiver?a+="a=sendrecv\r\n":e.rtpSender?a+="a=sendonly\r\n":e.rtpReceiver?a+="a=recvonly\r\n":a+="a=inactive\r\n",e.rtpSender){var s=e.rtpSender._initialTrackId||e.rtpSender.track.id;e.rtpSender._initialTrackId=s;var c="msid:"+(r?r.id:"-")+" "+s+"\r\n";a+="a="+c,a+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" "+c,e.sendEncodingParameters[0].rtx&&(a+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" "+c,a+="a=ssrc-group:FID "+e.sendEncodingParameters[0].ssrc+" "+e.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return a+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" cname:"+i.localCName+"\r\n",e.rtpSender&&e.sendEncodingParameters[0].rtx&&(a+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" cname:"+i.localCName+"\r\n"),a}function o(e,t){var n={codecs:[],headerExtensions:[],fecMechanisms:[]},i=function(e,t){e=parseInt(e,10);for(var n=0;n<t.length;n++)if(t[n].payloadType===e||t[n].preferredPayloadType===e)return t[n]},r=function(e,t,n,r){var o=i(e.parameters.apt,n),a=i(t.parameters.apt,r);return o&&a&&o.name.toLowerCase()===a.name.toLowerCase()};return e.codecs.forEach((function(i){for(var o=0;o<t.codecs.length;o++){var a=t.codecs[o];if(i.name.toLowerCase()===a.name.toLowerCase()&&i.clockRate===a.clockRate){if("rtx"===i.name.toLowerCase()&&i.parameters&&a.parameters.apt&&!r(i,a,e.codecs,t.codecs))continue;(a=JSON.parse(JSON.stringify(a))).numChannels=Math.min(i.numChannels,a.numChannels),n.codecs.push(a),a.rtcpFeedback=a.rtcpFeedback.filter((function(e){for(var t=0;t<i.rtcpFeedback.length;t++)if(i.rtcpFeedback[t].type===e.type&&i.rtcpFeedback[t].parameter===e.parameter)return!0;return!1}));break}}})),e.headerExtensions.forEach((function(e){for(var i=0;i<t.headerExtensions.length;i++){var r=t.headerExtensions[i];if(e.uri===r.uri){n.headerExtensions.push(r);break}}})),n}function a(e,t,n){return-1!=={offer:{setLocalDescription:["stable","have-local-offer"],setRemoteDescription:["stable","have-remote-offer"]},answer:{setLocalDescription:["have-remote-offer","have-local-pranswer"],setRemoteDescription:["have-local-offer","have-remote-pranswer"]}}[t][e].indexOf(n)}function s(e,t){var n=e.getRemoteCandidates().find((function(e){return t.foundation===e.foundation&&t.ip===e.ip&&t.port===e.port&&t.priority===e.priority&&t.protocol===e.protocol&&t.type===e.type}));return n||e.addRemoteCandidate(t),!n}function c(e,t){var n=new Error(t);return n.name=e,n.code={NotSupportedError:9,InvalidStateError:11,InvalidAccessError:15,TypeError:void 0,OperationError:void 0}[e],n}e.exports=function(e,n){function l(t,n){n.addTrack(t),n.dispatchEvent(new e.MediaStreamTrackEvent("addtrack",{track:t}))}function d(t,n,i,r){var o=new Event("track");o.track=n,o.receiver=i,o.transceiver={receiver:i},o.streams=r,e.setTimeout((function(){t._dispatchEvent("track",o)}))}var u=function(t){var r=this,o=document.createDocumentFragment();if(["addEventListener","removeEventListener","dispatchEvent"].forEach((function(e){r[e]=o[e].bind(o)})),this.canTrickleIceCandidates=null,this.needNegotiation=!1,this.localStreams=[],this.remoteStreams=[],this._localDescription=null,this._remoteDescription=null,this.signalingState="stable",this.iceConnectionState="new",this.connectionState="new",this.iceGatheringState="new",t=JSON.parse(JSON.stringify(t||{})),this.usingBundle="max-bundle"===t.bundlePolicy,"negotiate"===t.rtcpMuxPolicy)throw c("NotSupportedError","rtcpMuxPolicy 'negotiate' is not supported");switch(t.rtcpMuxPolicy||(t.rtcpMuxPolicy="require"),t.iceTransportPolicy){case"all":case"relay":break;default:t.iceTransportPolicy="all"}switch(t.bundlePolicy){case"balanced":case"max-compat":case"max-bundle":break;default:t.bundlePolicy="balanced"}if(t.iceServers=function(e,t){var n=!1;return(e=JSON.parse(JSON.stringify(e))).filter((function(e){if(e&&(e.urls||e.url)){var i=e.urls||e.url;e.url&&!e.urls&&console.warn("RTCIceServer.url is deprecated! Use urls instead.");var r="string"===typeof i;return r&&(i=[i]),i=i.filter((function(e){return 0!==e.indexOf("turn:")||-1===e.indexOf("transport=udp")||-1!==e.indexOf("turn:[")||n?0===e.indexOf("stun:")&&t>=14393&&-1===e.indexOf("?transport=udp"):(n=!0,!0)})),delete e.url,e.urls=r?i[0]:i,!!i.length}}))}(t.iceServers||[],n),this._iceGatherers=[],t.iceCandidatePoolSize)for(var a=t.iceCandidatePoolSize;a>0;a--)this._iceGatherers.push(new e.RTCIceGatherer({iceServers:t.iceServers,gatherPolicy:t.iceTransportPolicy}));else t.iceCandidatePoolSize=0;this._config=t,this.transceivers=[],this._sdpSessionId=i.generateSessionId(),this._sdpSessionVersion=0,this._dtlsRole=void 0,this._isClosed=!1};Object.defineProperty(u.prototype,"localDescription",{configurable:!0,get:function(){return this._localDescription}}),Object.defineProperty(u.prototype,"remoteDescription",{configurable:!0,get:function(){return this._remoteDescription}}),u.prototype.onicecandidate=null,u.prototype.onaddstream=null,u.prototype.ontrack=null,u.prototype.onremovestream=null,u.prototype.onsignalingstatechange=null,u.prototype.oniceconnectionstatechange=null,u.prototype.onconnectionstatechange=null,u.prototype.onicegatheringstatechange=null,u.prototype.onnegotiationneeded=null,u.prototype.ondatachannel=null,u.prototype._dispatchEvent=function(e,t){this._isClosed||(this.dispatchEvent(t),"function"===typeof this["on"+e]&&this["on"+e](t))},u.prototype._emitGatheringStateChange=function(){var e=new Event("icegatheringstatechange");this._dispatchEvent("icegatheringstatechange",e)},u.prototype.getConfiguration=function(){return this._config},u.prototype.getLocalStreams=function(){return this.localStreams},u.prototype.getRemoteStreams=function(){return this.remoteStreams},u.prototype._createTransceiver=function(e,t){var n=this.transceivers.length>0,i={track:null,iceGatherer:null,iceTransport:null,dtlsTransport:null,localCapabilities:null,remoteCapabilities:null,rtpSender:null,rtpReceiver:null,kind:e,mid:null,sendEncodingParameters:null,recvEncodingParameters:null,stream:null,associatedRemoteMediaStreams:[],wantReceive:!0};if(this.usingBundle&&n)i.iceTransport=this.transceivers[0].iceTransport,i.dtlsTransport=this.transceivers[0].dtlsTransport;else{var r=this._createIceAndDtlsTransports();i.iceTransport=r.iceTransport,i.dtlsTransport=r.dtlsTransport}return t||this.transceivers.push(i),i},u.prototype.addTrack=function(t,n){if(this._isClosed)throw c("InvalidStateError","Attempted to call addTrack on a closed peerconnection.");var i;if(this.transceivers.find((function(e){return e.track===t})))throw c("InvalidAccessError","Track already exists.");for(var r=0;r<this.transceivers.length;r++)this.transceivers[r].track||this.transceivers[r].kind!==t.kind||(i=this.transceivers[r]);return i||(i=this._createTransceiver(t.kind)),this._maybeFireNegotiationNeeded(),-1===this.localStreams.indexOf(n)&&this.localStreams.push(n),i.track=t,i.stream=n,i.rtpSender=new e.RTCRtpSender(t,i.dtlsTransport),i.rtpSender},u.prototype.addStream=function(e){var t=this;if(n>=15025)e.getTracks().forEach((function(n){t.addTrack(n,e)}));else{var i=e.clone();e.getTracks().forEach((function(e,t){var n=i.getTracks()[t];e.addEventListener("enabled",(function(e){n.enabled=e.enabled}))})),i.getTracks().forEach((function(e){t.addTrack(e,i)}))}},u.prototype.removeTrack=function(t){if(this._isClosed)throw c("InvalidStateError","Attempted to call removeTrack on a closed peerconnection.");if(!(t instanceof e.RTCRtpSender))throw new TypeError("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.");var n=this.transceivers.find((function(e){return e.rtpSender===t}));if(!n)throw c("InvalidAccessError","Sender was not created by this connection.");var i=n.stream;n.rtpSender.stop(),n.rtpSender=null,n.track=null,n.stream=null,-1===this.transceivers.map((function(e){return e.stream})).indexOf(i)&&this.localStreams.indexOf(i)>-1&&this.localStreams.splice(this.localStreams.indexOf(i),1),this._maybeFireNegotiationNeeded()},u.prototype.removeStream=function(e){var t=this;e.getTracks().forEach((function(e){var n=t.getSenders().find((function(t){return t.track===e}));n&&t.removeTrack(n)}))},u.prototype.getSenders=function(){return this.transceivers.filter((function(e){return!!e.rtpSender})).map((function(e){return e.rtpSender}))},u.prototype.getReceivers=function(){return this.transceivers.filter((function(e){return!!e.rtpReceiver})).map((function(e){return e.rtpReceiver}))},u.prototype._createIceGatherer=function(t,n){var i=this;if(n&&t>0)return this.transceivers[0].iceGatherer;if(this._iceGatherers.length)return this._iceGatherers.shift();var r=new e.RTCIceGatherer({iceServers:this._config.iceServers,gatherPolicy:this._config.iceTransportPolicy});return Object.defineProperty(r,"state",{value:"new",writable:!0}),this.transceivers[t].bufferedCandidateEvents=[],this.transceivers[t].bufferCandidates=function(e){var n=!e.candidate||0===Object.keys(e.candidate).length;r.state=n?"completed":"gathering",null!==i.transceivers[t].bufferedCandidateEvents&&i.transceivers[t].bufferedCandidateEvents.push(e)},r.addEventListener("localcandidate",this.transceivers[t].bufferCandidates),r},u.prototype._gather=function(t,n){var r=this,o=this.transceivers[n].iceGatherer;if(!o.onlocalcandidate){var a=this.transceivers[n].bufferedCandidateEvents;this.transceivers[n].bufferedCandidateEvents=null,o.removeEventListener("localcandidate",this.transceivers[n].bufferCandidates),o.onlocalcandidate=function(e){if(!(r.usingBundle&&n>0)){var a=new Event("icecandidate");a.candidate={sdpMid:t,sdpMLineIndex:n};var s=e.candidate,c=!s||0===Object.keys(s).length;if(c)"new"!==o.state&&"gathering"!==o.state||(o.state="completed");else{"new"===o.state&&(o.state="gathering"),s.component=1,s.ufrag=o.getLocalParameters().usernameFragment;var l=i.writeCandidate(s);a.candidate=Object.assign(a.candidate,i.parseCandidate(l)),a.candidate.candidate=l,a.candidate.toJSON=function(){return{candidate:a.candidate.candidate,sdpMid:a.candidate.sdpMid,sdpMLineIndex:a.candidate.sdpMLineIndex,usernameFragment:a.candidate.usernameFragment}}}var d=i.getMediaSections(r._localDescription.sdp);d[a.candidate.sdpMLineIndex]+=c?"a=end-of-candidates\r\n":"a="+a.candidate.candidate+"\r\n",r._localDescription.sdp=i.getDescription(r._localDescription.sdp)+d.join("");var u=r.transceivers.every((function(e){return e.iceGatherer&&"completed"===e.iceGatherer.state}));"gathering"!==r.iceGatheringState&&(r.iceGatheringState="gathering",r._emitGatheringStateChange()),c||r._dispatchEvent("icecandidate",a),u&&(r._dispatchEvent("icecandidate",new Event("icecandidate")),r.iceGatheringState="complete",r._emitGatheringStateChange())}},e.setTimeout((function(){a.forEach((function(e){o.onlocalcandidate(e)}))}),0)}},u.prototype._createIceAndDtlsTransports=function(){var t=this,n=new e.RTCIceTransport(null);n.onicestatechange=function(){t._updateIceConnectionState(),t._updateConnectionState()};var i=new e.RTCDtlsTransport(n);return i.ondtlsstatechange=function(){t._updateConnectionState()},i.onerror=function(){Object.defineProperty(i,"state",{value:"failed",writable:!0}),t._updateConnectionState()},{iceTransport:n,dtlsTransport:i}},u.prototype._disposeIceAndDtlsTransports=function(e){var t=this.transceivers[e].iceGatherer;t&&(delete t.onlocalcandidate,delete this.transceivers[e].iceGatherer);var n=this.transceivers[e].iceTransport;n&&(delete n.onicestatechange,delete this.transceivers[e].iceTransport);var i=this.transceivers[e].dtlsTransport;i&&(delete i.ondtlsstatechange,delete i.onerror,delete this.transceivers[e].dtlsTransport)},u.prototype._transceive=function(e,t,r){var a=o(e.localCapabilities,e.remoteCapabilities);t&&e.rtpSender&&(a.encodings=e.sendEncodingParameters,a.rtcp={cname:i.localCName,compound:e.rtcpParameters.compound},e.recvEncodingParameters.length&&(a.rtcp.ssrc=e.recvEncodingParameters[0].ssrc),e.rtpSender.send(a)),r&&e.rtpReceiver&&a.codecs.length>0&&("video"===e.kind&&e.recvEncodingParameters&&n<15019&&e.recvEncodingParameters.forEach((function(e){delete e.rtx})),e.recvEncodingParameters.length?a.encodings=e.recvEncodingParameters:a.encodings=[{}],a.rtcp={compound:e.rtcpParameters.compound},e.rtcpParameters.cname&&(a.rtcp.cname=e.rtcpParameters.cname),e.sendEncodingParameters.length&&(a.rtcp.ssrc=e.sendEncodingParameters[0].ssrc),e.rtpReceiver.receive(a))},u.prototype.setLocalDescription=function(e){var n,r,s=this;if(-1===["offer","answer"].indexOf(e.type))return t.reject(c("TypeError",'Unsupported type "'+e.type+'"'));if(!a("setLocalDescription",e.type,s.signalingState)||s._isClosed)return t.reject(c("InvalidStateError","Can not set local "+e.type+" in state "+s.signalingState));if("offer"===e.type)n=i.splitSections(e.sdp),r=n.shift(),n.forEach((function(e,t){var n=i.parseRtpParameters(e);s.transceivers[t].localCapabilities=n})),s.transceivers.forEach((function(e,t){s._gather(e.mid,t)}));else if("answer"===e.type){n=i.splitSections(s._remoteDescription.sdp),r=n.shift();var l=i.matchPrefix(r,"a=ice-lite").length>0;n.forEach((function(e,t){var n=s.transceivers[t],a=n.iceGatherer,c=n.iceTransport,d=n.dtlsTransport,u=n.localCapabilities,h=n.remoteCapabilities;if((!i.isRejected(e)||0!==i.matchPrefix(e,"a=bundle-only").length)&&!n.rejected){var A=i.getIceParameters(e,r),p=i.getDtlsParameters(e,r);l&&(p.role="server"),s.usingBundle&&0!==t||(s._gather(n.mid,t),"new"===c.state&&c.start(a,A,l?"controlling":"controlled"),"new"===d.state&&d.start(p));var g=o(u,h);s._transceive(n,g.codecs.length>0,!1)}}))}return s._localDescription={type:e.type,sdp:e.sdp},"offer"===e.type?s._updateSignalingState("have-local-offer"):s._updateSignalingState("stable"),t.resolve()},u.prototype.setRemoteDescription=function(r){var u=this;if(-1===["offer","answer"].indexOf(r.type))return t.reject(c("TypeError",'Unsupported type "'+r.type+'"'));if(!a("setRemoteDescription",r.type,u.signalingState)||u._isClosed)return t.reject(c("InvalidStateError","Can not set remote "+r.type+" in state "+u.signalingState));var h={};u.remoteStreams.forEach((function(e){h[e.id]=e}));var A=[],p=i.splitSections(r.sdp),g=p.shift(),f=i.matchPrefix(g,"a=ice-lite").length>0,m=i.matchPrefix(g,"a=group:BUNDLE ").length>0;u.usingBundle=m;var E=i.matchPrefix(g,"a=ice-options:")[0];return u.canTrickleIceCandidates=!!E&&E.substr(14).split(" ").indexOf("trickle")>=0,p.forEach((function(t,a){var c=i.splitLines(t),d=i.getKind(t),p=i.isRejected(t)&&0===i.matchPrefix(t,"a=bundle-only").length,E=c[0].substr(2).split(" ")[2],C=i.getDirection(t,g),I=i.parseMsid(t),Q=i.getMid(t)||i.generateIdentifier();if(p||"application"===d&&("DTLS/SCTP"===E||"UDP/DTLS/SCTP"===E))u.transceivers[a]={mid:Q,kind:d,protocol:E,rejected:!0};else{var U,y,b,v,R,S,F,B,T;!p&&u.transceivers[a]&&u.transceivers[a].rejected&&(u.transceivers[a]=u._createTransceiver(d,!0));var N,_,w=i.parseRtpParameters(t);p||(N=i.getIceParameters(t,g),(_=i.getDtlsParameters(t,g)).role="client"),F=i.parseRtpEncodingParameters(t);var k=i.parseRtcpParameters(t),D=i.matchPrefix(t,"a=end-of-candidates",g).length>0,V=i.matchPrefix(t,"a=candidate:").map((function(e){return i.parseCandidate(e)})).filter((function(e){return 1===e.component}));if(("offer"===r.type||"answer"===r.type)&&!p&&m&&a>0&&u.transceivers[a]&&(u._disposeIceAndDtlsTransports(a),u.transceivers[a].iceGatherer=u.transceivers[0].iceGatherer,u.transceivers[a].iceTransport=u.transceivers[0].iceTransport,u.transceivers[a].dtlsTransport=u.transceivers[0].dtlsTransport,u.transceivers[a].rtpSender&&u.transceivers[a].rtpSender.setTransport(u.transceivers[0].dtlsTransport),u.transceivers[a].rtpReceiver&&u.transceivers[a].rtpReceiver.setTransport(u.transceivers[0].dtlsTransport)),"offer"!==r.type||p)"answer"!==r.type||p||(y=(U=u.transceivers[a]).iceGatherer,b=U.iceTransport,v=U.dtlsTransport,R=U.rtpReceiver,S=U.sendEncodingParameters,B=U.localCapabilities,u.transceivers[a].recvEncodingParameters=F,u.transceivers[a].remoteCapabilities=w,u.transceivers[a].rtcpParameters=k,V.length&&"new"===b.state&&(!f&&!D||m&&0!==a?V.forEach((function(e){s(U.iceTransport,e)})):b.setRemoteCandidates(V)),m&&0!==a||("new"===b.state&&b.start(y,N,"controlling"),"new"===v.state&&v.start(_)),!o(U.localCapabilities,U.remoteCapabilities).codecs.filter((function(e){return"rtx"===e.name.toLowerCase()})).length&&U.sendEncodingParameters[0].rtx&&delete U.sendEncodingParameters[0].rtx,u._transceive(U,"sendrecv"===C||"recvonly"===C,"sendrecv"===C||"sendonly"===C),!R||"sendrecv"!==C&&"sendonly"!==C?delete U.rtpReceiver:(T=R.track,I?(h[I.stream]||(h[I.stream]=new e.MediaStream),l(T,h[I.stream]),A.push([T,R,h[I.stream]])):(h.default||(h.default=new e.MediaStream),l(T,h.default),A.push([T,R,h.default]))));else{(U=u.transceivers[a]||u._createTransceiver(d)).mid=Q,U.iceGatherer||(U.iceGatherer=u._createIceGatherer(a,m)),V.length&&"new"===U.iceTransport.state&&(!D||m&&0!==a?V.forEach((function(e){s(U.iceTransport,e)})):U.iceTransport.setRemoteCandidates(V)),B=e.RTCRtpReceiver.getCapabilities(d),n<15019&&(B.codecs=B.codecs.filter((function(e){return"rtx"!==e.name}))),S=U.sendEncodingParameters||[{ssrc:1001*(2*a+2)}];var Z,W=!1;"sendrecv"===C||"sendonly"===C?(W=!U.rtpReceiver,R=U.rtpReceiver||new e.RTCRtpReceiver(U.dtlsTransport,d),W&&(T=R.track,I&&"-"===I.stream||(I?(h[I.stream]||(h[I.stream]=new e.MediaStream,Object.defineProperty(h[I.stream],"id",{get:function(){return I.stream}})),Object.defineProperty(T,"id",{get:function(){return I.track}}),Z=h[I.stream]):(h.default||(h.default=new e.MediaStream),Z=h.default)),Z&&(l(T,Z),U.associatedRemoteMediaStreams.push(Z)),A.push([T,R,Z]))):U.rtpReceiver&&U.rtpReceiver.track&&(U.associatedRemoteMediaStreams.forEach((function(t){var n=t.getTracks().find((function(e){return e.id===U.rtpReceiver.track.id}));n&&function(t,n){n.removeTrack(t),n.dispatchEvent(new e.MediaStreamTrackEvent("removetrack",{track:t}))}(n,t)})),U.associatedRemoteMediaStreams=[]),U.localCapabilities=B,U.remoteCapabilities=w,U.rtpReceiver=R,U.rtcpParameters=k,U.sendEncodingParameters=S,U.recvEncodingParameters=F,u._transceive(u.transceivers[a],!1,W)}}})),void 0===u._dtlsRole&&(u._dtlsRole="offer"===r.type?"active":"passive"),u._remoteDescription={type:r.type,sdp:r.sdp},"offer"===r.type?u._updateSignalingState("have-remote-offer"):u._updateSignalingState("stable"),Object.keys(h).forEach((function(t){var n=h[t];if(n.getTracks().length){if(-1===u.remoteStreams.indexOf(n)){u.remoteStreams.push(n);var i=new Event("addstream");i.stream=n,e.setTimeout((function(){u._dispatchEvent("addstream",i)}))}A.forEach((function(e){var t=e[0],i=e[1];n.id===e[2].id&&d(u,t,i,[n])}))}})),A.forEach((function(e){e[2]||d(u,e[0],e[1],[])})),e.setTimeout((function(){u&&u.transceivers&&u.transceivers.forEach((function(e){e.iceTransport&&"new"===e.iceTransport.state&&e.iceTransport.getRemoteCandidates().length>0&&(console.warn("Timeout for addRemoteCandidate. Consider sending an end-of-candidates notification"),e.iceTransport.addRemoteCandidate({}))}))}),4e3),t.resolve()},u.prototype.close=function(){this.transceivers.forEach((function(e){e.iceTransport&&e.iceTransport.stop(),e.dtlsTransport&&e.dtlsTransport.stop(),e.rtpSender&&e.rtpSender.stop(),e.rtpReceiver&&e.rtpReceiver.stop()})),this._isClosed=!0,this._updateSignalingState("closed")},u.prototype._updateSignalingState=function(e){this.signalingState=e;var t=new Event("signalingstatechange");this._dispatchEvent("signalingstatechange",t)},u.prototype._maybeFireNegotiationNeeded=function(){var t=this;"stable"===this.signalingState&&!0!==this.needNegotiation&&(this.needNegotiation=!0,e.setTimeout((function(){if(t.needNegotiation){t.needNegotiation=!1;var e=new Event("negotiationneeded");t._dispatchEvent("negotiationneeded",e)}}),0))},u.prototype._updateIceConnectionState=function(){var e,t={new:0,closed:0,checking:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach((function(e){e.iceTransport&&!e.rejected&&t[e.iceTransport.state]++})),e="new",t.failed>0?e="failed":t.checking>0?e="checking":t.disconnected>0?e="disconnected":t.new>0?e="new":t.connected>0?e="connected":t.completed>0&&(e="completed"),e!==this.iceConnectionState){this.iceConnectionState=e;var n=new Event("iceconnectionstatechange");this._dispatchEvent("iceconnectionstatechange",n)}},u.prototype._updateConnectionState=function(){var e,t={new:0,closed:0,connecting:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach((function(e){e.iceTransport&&e.dtlsTransport&&!e.rejected&&(t[e.iceTransport.state]++,t[e.dtlsTransport.state]++)})),t.connected+=t.completed,e="new",t.failed>0?e="failed":t.connecting>0?e="connecting":t.disconnected>0?e="disconnected":t.new>0?e="new":t.connected>0&&(e="connected"),e!==this.connectionState){this.connectionState=e;var n=new Event("connectionstatechange");this._dispatchEvent("connectionstatechange",n)}},u.prototype.createOffer=function(){var o=this;if(o._isClosed)return t.reject(c("InvalidStateError","Can not call createOffer after close"));var a=o.transceivers.filter((function(e){return"audio"===e.kind})).length,s=o.transceivers.filter((function(e){return"video"===e.kind})).length,l=arguments[0];if(l){if(l.mandatory||l.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");void 0!==l.offerToReceiveAudio&&(a=!0===l.offerToReceiveAudio?1:!1===l.offerToReceiveAudio?0:l.offerToReceiveAudio),void 0!==l.offerToReceiveVideo&&(s=!0===l.offerToReceiveVideo?1:!1===l.offerToReceiveVideo?0:l.offerToReceiveVideo)}for(o.transceivers.forEach((function(e){"audio"===e.kind?--a<0&&(e.wantReceive=!1):"video"===e.kind&&--s<0&&(e.wantReceive=!1)}));a>0||s>0;)a>0&&(o._createTransceiver("audio"),a--),s>0&&(o._createTransceiver("video"),s--);var d=i.writeSessionBoilerplate(o._sdpSessionId,o._sdpSessionVersion++);o.transceivers.forEach((function(t,r){var a=t.track,s=t.kind,c=t.mid||i.generateIdentifier();t.mid=c,t.iceGatherer||(t.iceGatherer=o._createIceGatherer(r,o.usingBundle));var l=e.RTCRtpSender.getCapabilities(s);n<15019&&(l.codecs=l.codecs.filter((function(e){return"rtx"!==e.name}))),l.codecs.forEach((function(e){"H264"===e.name&&void 0===e.parameters["level-asymmetry-allowed"]&&(e.parameters["level-asymmetry-allowed"]="1"),t.remoteCapabilities&&t.remoteCapabilities.codecs&&t.remoteCapabilities.codecs.forEach((function(t){e.name.toLowerCase()===t.name.toLowerCase()&&e.clockRate===t.clockRate&&(e.preferredPayloadType=t.payloadType)}))})),l.headerExtensions.forEach((function(e){(t.remoteCapabilities&&t.remoteCapabilities.headerExtensions||[]).forEach((function(t){e.uri===t.uri&&(e.id=t.id)}))}));var d=t.sendEncodingParameters||[{ssrc:1001*(2*r+1)}];a&&n>=15019&&"video"===s&&!d[0].rtx&&(d[0].rtx={ssrc:d[0].ssrc+1}),t.wantReceive&&(t.rtpReceiver=new e.RTCRtpReceiver(t.dtlsTransport,s)),t.localCapabilities=l,t.sendEncodingParameters=d})),"max-compat"!==o._config.bundlePolicy&&(d+="a=group:BUNDLE "+o.transceivers.map((function(e){return e.mid})).join(" ")+"\r\n"),d+="a=ice-options:trickle\r\n",o.transceivers.forEach((function(e,t){d+=r(e,e.localCapabilities,"offer",e.stream,o._dtlsRole),d+="a=rtcp-rsize\r\n",!e.iceGatherer||"new"===o.iceGatheringState||0!==t&&o.usingBundle||(e.iceGatherer.getLocalCandidates().forEach((function(e){e.component=1,d+="a="+i.writeCandidate(e)+"\r\n"})),"completed"===e.iceGatherer.state&&(d+="a=end-of-candidates\r\n"))}));var u=new e.RTCSessionDescription({type:"offer",sdp:d});return t.resolve(u)},u.prototype.createAnswer=function(){var a=this;if(a._isClosed)return t.reject(c("InvalidStateError","Can not call createAnswer after close"));if("have-remote-offer"!==a.signalingState&&"have-local-pranswer"!==a.signalingState)return t.reject(c("InvalidStateError","Can not call createAnswer in signalingState "+a.signalingState));var s=i.writeSessionBoilerplate(a._sdpSessionId,a._sdpSessionVersion++);a.usingBundle&&(s+="a=group:BUNDLE "+a.transceivers.map((function(e){return e.mid})).join(" ")+"\r\n"),s+="a=ice-options:trickle\r\n";var l=i.getMediaSections(a._remoteDescription.sdp).length;a.transceivers.forEach((function(e,t){if(!(t+1>l)){if(e.rejected)return"application"===e.kind?"DTLS/SCTP"===e.protocol?s+="m=application 0 DTLS/SCTP 5000\r\n":s+="m=application 0 "+e.protocol+" webrtc-datachannel\r\n":"audio"===e.kind?s+="m=audio 0 UDP/TLS/RTP/SAVPF 0\r\na=rtpmap:0 PCMU/8000\r\n":"video"===e.kind&&(s+="m=video 0 UDP/TLS/RTP/SAVPF 120\r\na=rtpmap:120 VP8/90000\r\n"),void(s+="c=IN IP4 0.0.0.0\r\na=inactive\r\na=mid:"+e.mid+"\r\n");var i;e.stream&&("audio"===e.kind?i=e.stream.getAudioTracks()[0]:"video"===e.kind&&(i=e.stream.getVideoTracks()[0]),i&&n>=15019&&"video"===e.kind&&!e.sendEncodingParameters[0].rtx&&(e.sendEncodingParameters[0].rtx={ssrc:e.sendEncodingParameters[0].ssrc+1}));var c=o(e.localCapabilities,e.remoteCapabilities);!c.codecs.filter((function(e){return"rtx"===e.name.toLowerCase()})).length&&e.sendEncodingParameters[0].rtx&&delete e.sendEncodingParameters[0].rtx,s+=r(e,c,"answer",e.stream,a._dtlsRole),e.rtcpParameters&&e.rtcpParameters.reducedSize&&(s+="a=rtcp-rsize\r\n")}}));var d=new e.RTCSessionDescription({type:"answer",sdp:s});return t.resolve(d)},u.prototype.addIceCandidate=function(e){var n,r=this;return e&&void 0===e.sdpMLineIndex&&!e.sdpMid?t.reject(new TypeError("sdpMLineIndex or sdpMid required")):new t((function(t,o){if(!r._remoteDescription)return o(c("InvalidStateError","Can not add ICE candidate without a remote description"));if(e&&""!==e.candidate){var a=e.sdpMLineIndex;if(e.sdpMid)for(var l=0;l<r.transceivers.length;l++)if(r.transceivers[l].mid===e.sdpMid){a=l;break}var d=r.transceivers[a];if(!d)return o(c("OperationError","Can not add ICE candidate"));if(d.rejected)return t();var u=Object.keys(e.candidate).length>0?i.parseCandidate(e.candidate):{};if("tcp"===u.protocol&&(0===u.port||9===u.port))return t();if(u.component&&1!==u.component)return t();if((0===a||a>0&&d.iceTransport!==r.transceivers[0].iceTransport)&&!s(d.iceTransport,u))return o(c("OperationError","Can not add ICE candidate"));var h=e.candidate.trim();0===h.indexOf("a=")&&(h=h.substr(2)),(n=i.getMediaSections(r._remoteDescription.sdp))[a]+="a="+(u.type?h:"end-of-candidates")+"\r\n",r._remoteDescription.sdp=i.getDescription(r._remoteDescription.sdp)+n.join("")}else for(var A=0;A<r.transceivers.length&&(r.transceivers[A].rejected||(r.transceivers[A].iceTransport.addRemoteCandidate({}),(n=i.getMediaSections(r._remoteDescription.sdp))[A]+="a=end-of-candidates\r\n",r._remoteDescription.sdp=i.getDescription(r._remoteDescription.sdp)+n.join(""),!r.usingBundle));A++);t()}))},u.prototype.getStats=function(n){if(n&&n instanceof e.MediaStreamTrack){var i=null;if(this.transceivers.forEach((function(e){e.rtpSender&&e.rtpSender.track===n?i=e.rtpSender:e.rtpReceiver&&e.rtpReceiver.track===n&&(i=e.rtpReceiver)})),!i)throw c("InvalidAccessError","Invalid selector.");return i.getStats()}var r=[];return this.transceivers.forEach((function(e){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach((function(t){e[t]&&r.push(e[t].getStats())}))})),t.all(r).then((function(e){var t=new Map;return e.forEach((function(e){e.forEach((function(e){t.set(e.id,e)}))})),t}))},["RTCRtpSender","RTCRtpReceiver","RTCIceGatherer","RTCIceTransport","RTCDtlsTransport"].forEach((function(t){var n=e[t];if(n&&n.prototype&&n.prototype.getStats){var i=n.prototype.getStats;n.prototype.getStats=function(){return i.apply(this).then((function(e){var t=new Map;return Object.keys(e).forEach((function(n){var i;e[n].type={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[(i=e[n]).type]||i.type,t.set(n,e[n])})),t}))}}}));var h=["createOffer","createAnswer"];return h.forEach((function(e){var t=u.prototype[e];u.prototype[e]=function(){var e=arguments;return"function"===typeof e[0]||"function"===typeof e[1]?t.apply(this,[arguments[2]]).then((function(t){"function"===typeof e[0]&&e[0].apply(null,[t])}),(function(t){"function"===typeof e[1]&&e[1].apply(null,[t])})):t.apply(this,arguments)}})),(h=["setLocalDescription","setRemoteDescription","addIceCandidate"]).forEach((function(e){var t=u.prototype[e];u.prototype[e]=function(){var e=arguments;return"function"===typeof e[1]||"function"===typeof e[2]?t.apply(this,arguments).then((function(){"function"===typeof e[1]&&e[1].apply(null)}),(function(t){"function"===typeof e[2]&&e[2].apply(null,[t])})):t.apply(this,arguments)}})),["getStats"].forEach((function(e){var t=u.prototype[e];u.prototype[e]=function(){var e=arguments;return"function"===typeof e[1]?t.apply(this,arguments).then((function(){"function"===typeof e[1]&&e[1].apply(null)})):t.apply(this,arguments)}})),u}}).call(this,n(2))},function(e,t,n){"use strict";(function(t){e.exports=function(e){var n=e&&e.navigator,i=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(e){return i(e).catch((function(e){return t.reject(function(e){return{name:{PermissionDeniedError:"NotAllowedError"}[e.name]||e.name,message:e.message,constraint:e.constraint,toString:function(){return this.name}}}(e))}))}}}).call(this,n(2))},function(e,t,n){"use strict";(function(t){var i=n(31);e.exports={shimGetUserMedia:n(574),shimOnTrack:function(e){"object"===typeof e&&e.RTCPeerConnection&&!("ontrack"in e.RTCPeerConnection.prototype)&&Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(e){this._ontrack&&(this.removeEventListener("track",this._ontrack),this.removeEventListener("addstream",this._ontrackpoly)),this.addEventListener("track",this._ontrack=e),this.addEventListener("addstream",this._ontrackpoly=function(e){e.stream.getTracks().forEach(function(t){var n=new Event("track");n.track=t,n.receiver={track:t},n.transceiver={receiver:n.receiver},n.streams=[e.stream],this.dispatchEvent(n)}.bind(this))}.bind(this))},enumerable:!0,configurable:!0}),"object"===typeof e&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})},shimSourceObject:function(e){"object"===typeof e&&e.HTMLMediaElement&&!("srcObject"in e.HTMLMediaElement.prototype)&&Object.defineProperty(e.HTMLMediaElement.prototype,"srcObject",{get:function(){return this.mozSrcObject},set:function(e){this.mozSrcObject=e}})},shimPeerConnection:function(e){var n=i.detectBrowser(e);if("object"===typeof e&&(e.RTCPeerConnection||e.mozRTCPeerConnection)){e.RTCPeerConnection||(e.RTCPeerConnection=function(t,i){if(n.version<38&&t&&t.iceServers){for(var r=[],o=0;o<t.iceServers.length;o++){var a=t.iceServers[o];if(a.hasOwnProperty("urls"))for(var s=0;s<a.urls.length;s++){var c={url:a.urls[s]};0===a.urls[s].indexOf("turn")&&(c.username=a.username,c.credential=a.credential),r.push(c)}else r.push(t.iceServers[o])}t.iceServers=r}return new e.mozRTCPeerConnection(t,i)},e.RTCPeerConnection.prototype=e.mozRTCPeerConnection.prototype,e.mozRTCPeerConnection.generateCertificate&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:function(){return e.mozRTCPeerConnection.generateCertificate}}),e.RTCSessionDescription=e.mozRTCSessionDescription,e.RTCIceCandidate=e.mozRTCIceCandidate),["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(t){var n=e.RTCPeerConnection.prototype[t];e.RTCPeerConnection.prototype[t]=function(){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}}));var r=e.RTCPeerConnection.prototype.addIceCandidate;e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?r.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),t.resolve())};var o={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},a=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(e,t,i){return a.apply(this,[e||null]).then((function(e){if(n.version<48&&(e=function(e){var t=new Map;return Object.keys(e).forEach((function(n){t.set(n,e[n]),t[n]=e[n]})),t}(e)),n.version<53&&!t)try{e.forEach((function(e){e.type=o[e.type]||e.type}))}catch(i){if("TypeError"!==i.name)throw i;e.forEach((function(t,n){e.set(n,Object.assign({},t,{type:o[t.type]||t.type}))}))}return e})).then(t,i)}}},shimSenderGetStats:function(e){if("object"===typeof e&&e.RTCPeerConnection&&e.RTCRtpSender&&(!e.RTCRtpSender||!("getStats"in e.RTCRtpSender.prototype))){var n=e.RTCPeerConnection.prototype.getSenders;n&&(e.RTCPeerConnection.prototype.getSenders=function(){var e=this,t=n.apply(e,[]);return t.forEach((function(t){t._pc=e})),t});var i=e.RTCPeerConnection.prototype.addTrack;i&&(e.RTCPeerConnection.prototype.addTrack=function(){var e=i.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):t.resolve(new Map)}}},shimReceiverGetStats:function(e){if("object"===typeof e&&e.RTCPeerConnection&&e.RTCRtpSender&&(!e.RTCRtpSender||!("getStats"in e.RTCRtpReceiver.prototype))){var t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){var e=this,n=t.apply(e,[]);return n.forEach((function(t){t._pc=e})),n}),i.wrapPeerConnectionEvent(e,"track",(function(e){return e.receiver._pc=e.srcElement,e})),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}},shimRemoveStream:function(e){e.RTCPeerConnection&&!("removeStream"in e.RTCPeerConnection.prototype)&&(e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;i.deprecated("removeStream","removeTrack"),this.getSenders().forEach((function(n){n.track&&-1!==e.getTracks().indexOf(n.track)&&t.removeTrack(n)}))})},shimRTCDataChannel:function(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)},shimGetDisplayMedia:function(e,n){e.navigator&&e.navigator.mediaDevices&&!("getDisplayMedia"in e.navigator.mediaDevices)&&(e.navigator.mediaDevices.getDisplayMedia=function(i){if(!i||!i.video){var r=new DOMException("getDisplayMedia without video constraints is undefined");return r.name="NotFoundError",r.code=8,t.reject(r)}return!0===i.video?i.video={mediaSource:n}:i.video.mediaSource=n,e.navigator.mediaDevices.getUserMedia(i)},e.navigator.getDisplayMedia=function(t){return i.deprecated("navigator.getDisplayMedia","navigator.mediaDevices.getDisplayMedia"),e.navigator.mediaDevices.getDisplayMedia(t)})}}}).call(this,n(2))},function(e,t,n){"use strict";(function(t){var i=n(31),r=i.log;e.exports=function(e){var n=i.detectBrowser(e),o=e&&e.navigator,a=e&&e.MediaStreamTrack,s=function(e){return{name:{InternalError:"NotReadableError",NotSupportedError:"TypeError",PermissionDeniedError:"NotAllowedError",SecurityError:"NotAllowedError"}[e.name]||e.name,message:{"The operation is insecure.":"The request is not allowed by the user agent or the platform in the current context."}[e.message]||e.message,constraint:e.constraint,toString:function(){return this.name+(this.message&&": ")+this.message}}},c=function(e,t,i){var a=function(e){if("object"!==typeof e||e.require)return e;var t=[];return Object.keys(e).forEach((function(n){if("require"!==n&&"advanced"!==n&&"mediaSource"!==n){var i=e[n]="object"===typeof e[n]?e[n]:{ideal:e[n]};if(void 0===i.min&&void 0===i.max&&void 0===i.exact||t.push(n),void 0!==i.exact&&("number"===typeof i.exact?i.min=i.max=i.exact:e[n]=i.exact,delete i.exact),void 0!==i.ideal){e.advanced=e.advanced||[];var r={};"number"===typeof i.ideal?r[n]={min:i.ideal,max:i.ideal}:r[n]=i.ideal,e.advanced.push(r),delete i.ideal,Object.keys(i).length||delete e[n]}}})),t.length&&(e.require=t),e};return e=JSON.parse(JSON.stringify(e)),n.version<38&&(r("spec: "+JSON.stringify(e)),e.audio&&(e.audio=a(e.audio)),e.video&&(e.video=a(e.video)),r("ff37: "+JSON.stringify(e))),o.mozGetUserMedia(e,t,(function(e){i(s(e))}))};if(o.mediaDevices||(o.mediaDevices={getUserMedia:function(e){return new t((function(t,n){c(e,t,n)}))},addEventListener:function(){},removeEventListener:function(){}}),o.mediaDevices.enumerateDevices=o.mediaDevices.enumerateDevices||function(){return new t((function(e){e([{kind:"audioinput",deviceId:"default",label:"",groupId:""},{kind:"videoinput",deviceId:"default",label:"",groupId:""}])}))},n.version<41){var l=o.mediaDevices.enumerateDevices.bind(o.mediaDevices);o.mediaDevices.enumerateDevices=function(){return l().then(void 0,(function(e){if("NotFoundError"===e.name)return[];throw e}))}}if(n.version<49){var d=o.mediaDevices.getUserMedia.bind(o.mediaDevices);o.mediaDevices.getUserMedia=function(e){return d(e).then((function(t){if(e.audio&&!t.getAudioTracks().length||e.video&&!t.getVideoTracks().length)throw t.getTracks().forEach((function(e){e.stop()})),new DOMException("The object can not be found here.","NotFoundError");return t}),(function(e){return t.reject(s(e))}))}}if(!(n.version>55&&"autoGainControl"in o.mediaDevices.getSupportedConstraints())){var u=function(e,t,n){t in e&&!(n in e)&&(e[n]=e[t],delete e[t])},h=o.mediaDevices.getUserMedia.bind(o.mediaDevices);if(o.mediaDevices.getUserMedia=function(e){return"object"===typeof e&&"object"===typeof e.audio&&(e=JSON.parse(JSON.stringify(e)),u(e.audio,"autoGainControl","mozAutoGainControl"),u(e.audio,"noiseSuppression","mozNoiseSuppression")),h(e)},a&&a.prototype.getSettings){var A=a.prototype.getSettings;a.prototype.getSettings=function(){var e=A.apply(this,arguments);return u(e,"mozAutoGainControl","autoGainControl"),u(e,"mozNoiseSuppression","noiseSuppression"),e}}if(a&&a.prototype.applyConstraints){var p=a.prototype.applyConstraints;a.prototype.applyConstraints=function(e){return"audio"===this.kind&&"object"===typeof e&&(e=JSON.parse(JSON.stringify(e)),u(e,"autoGainControl","mozAutoGainControl"),u(e,"noiseSuppression","mozNoiseSuppression")),p.apply(this,[e])}}}o.getUserMedia=function(e,t,r){if(n.version<44)return c(e,t,r);i.deprecated("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),o.mediaDevices.getUserMedia(e).then(t,r)}}}).call(this,n(2))},function(e,t,n){"use strict";(function(t){var i=n(31);e.exports={shimLocalStreamsAPI:function(e){if("object"===typeof e&&e.RTCPeerConnection){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),"getStreamById"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getStreamById=function(e){var t=null;return this._localStreams&&this._localStreams.forEach((function(n){n.id===e&&(t=n)})),this._remoteStreams&&this._remoteStreams.forEach((function(n){n.id===e&&(t=n)})),t}),!("addStream"in e.RTCPeerConnection.prototype)){var t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(e){this._localStreams||(this._localStreams=[]),-1===this._localStreams.indexOf(e)&&this._localStreams.push(e);var n=this;e.getTracks().forEach((function(i){t.call(n,i,e)}))},e.RTCPeerConnection.prototype.addTrack=function(e,n){return n&&(this._localStreams?-1===this._localStreams.indexOf(n)&&this._localStreams.push(n):this._localStreams=[n]),t.call(this,e,n)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){this._localStreams||(this._localStreams=[]);var t=this._localStreams.indexOf(e);if(-1!==t){this._localStreams.splice(t,1);var n=this,i=e.getTracks();this.getSenders().forEach((function(e){-1!==i.indexOf(e.track)&&n.removeTrack(e)}))}})}},shimRemoteStreamsAPI:function(e){if("object"===typeof e&&e.RTCPeerConnection&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get:function(){return this._onaddstream},set:function(e){this._onaddstream&&this.removeEventListener("addstream",this._onaddstream),this.addEventListener("addstream",this._onaddstream=e)}});var t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){var e=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(t){t.streams.forEach((function(t){if(e._remoteStreams||(e._remoteStreams=[]),!(e._remoteStreams.indexOf(t)>=0)){e._remoteStreams.push(t);var n=new Event("addstream");n.stream=t,e.dispatchEvent(n)}}))}),t.apply(e,arguments)}}},shimCallbacksAPI:function(e){if("object"===typeof e&&e.RTCPeerConnection){var n=e.RTCPeerConnection.prototype,i=n.createOffer,r=n.createAnswer,o=n.setLocalDescription,a=n.setRemoteDescription,s=n.addIceCandidate;n.createOffer=function(e,n){var r=arguments.length>=2?arguments[2]:arguments[0],o=i.apply(this,[r]);return n?(o.then(e,n),t.resolve()):o},n.createAnswer=function(e,n){var i=arguments.length>=2?arguments[2]:arguments[0],o=r.apply(this,[i]);return n?(o.then(e,n),t.resolve()):o};var c=function(e,n,i){var r=o.apply(this,[e]);return i?(r.then(n,i),t.resolve()):r};n.setLocalDescription=c,c=function(e,n,i){var r=a.apply(this,[e]);return i?(r.then(n,i),t.resolve()):r},n.setRemoteDescription=c,c=function(e,n,i){var r=s.apply(this,[e]);return i?(r.then(n,i),t.resolve()):r},n.addIceCandidate=c}},shimGetUserMedia:function(e){var t=e&&e.navigator;t.getUserMedia||(t.webkitGetUserMedia?t.getUserMedia=t.webkitGetUserMedia.bind(t):t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=function(e,n,i){t.mediaDevices.getUserMedia(e).then(n,i)}.bind(t)))},shimRTCIceServerUrls:function(e){var t=e.RTCPeerConnection;e.RTCPeerConnection=function(e,n){if(e&&e.iceServers){for(var r=[],o=0;o<e.iceServers.length;o++){var a=e.iceServers[o];!a.hasOwnProperty("urls")&&a.hasOwnProperty("url")?(i.deprecated("RTCIceServer.url","RTCIceServer.urls"),(a=JSON.parse(JSON.stringify(a))).urls=a.url,delete a.url,r.push(a)):r.push(e.iceServers[o])}e.iceServers=r}return new t(e,n)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in e.RTCPeerConnection&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:function(){return t.generateCertificate}})},shimTrackEventTransceiver:function(e){"object"===typeof e&&e.RTCPeerConnection&&"receiver"in e.RTCTrackEvent.prototype&&!e.RTCTransceiver&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})},shimCreateOfferLegacy:function(e){var t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(e){var n=this;if(e){"undefined"!==typeof e.offerToReceiveAudio&&(e.offerToReceiveAudio=!!e.offerToReceiveAudio);var i=n.getTransceivers().find((function(e){return e.sender.track&&"audio"===e.sender.track.kind}));!1===e.offerToReceiveAudio&&i?"sendrecv"===i.direction?i.setDirection?i.setDirection("sendonly"):i.direction="sendonly":"recvonly"===i.direction&&(i.setDirection?i.setDirection("inactive"):i.direction="inactive"):!0!==e.offerToReceiveAudio||i||n.addTransceiver("audio"),"undefined"!==typeof e.offerToReceiveVideo&&(e.offerToReceiveVideo=!!e.offerToReceiveVideo);var r=n.getTransceivers().find((function(e){return e.sender.track&&"video"===e.sender.track.kind}));!1===e.offerToReceiveVideo&&r?"sendrecv"===r.direction?r.setDirection("sendonly"):"recvonly"===r.direction&&r.setDirection("inactive"):!0!==e.offerToReceiveVideo||r||n.addTransceiver("video")}return t.apply(n,arguments)}}}}).call(this,n(2))},function(e,t,n){"use strict";var i=n(261),r=n(31);e.exports={shimRTCIceCandidate:function(e){if(!(!e.RTCIceCandidate||e.RTCIceCandidate&&"foundation"in e.RTCIceCandidate.prototype)){var t=e.RTCIceCandidate;e.RTCIceCandidate=function(e){if("object"===typeof e&&e.candidate&&0===e.candidate.indexOf("a=")&&((e=JSON.parse(JSON.stringify(e))).candidate=e.candidate.substr(2)),e.candidate&&e.candidate.length){var n=new t(e),r=i.parseCandidate(e.candidate),o=Object.assign(n,r);return o.toJSON=function(){return{candidate:o.candidate,sdpMid:o.sdpMid,sdpMLineIndex:o.sdpMLineIndex,usernameFragment:o.usernameFragment}},o}return new t(e)},e.RTCIceCandidate.prototype=t.prototype,r.wrapPeerConnectionEvent(e,"icecandidate",(function(t){return t.candidate&&Object.defineProperty(t,"candidate",{value:new e.RTCIceCandidate(t.candidate),writable:"false"}),t}))}},shimCreateObjectURL:function(e){var t=e&&e.URL;if("object"===typeof e&&e.HTMLMediaElement&&"srcObject"in e.HTMLMediaElement.prototype&&t.createObjectURL&&t.revokeObjectURL){var n=t.createObjectURL.bind(t),i=t.revokeObjectURL.bind(t),o=new Map,a=0;t.createObjectURL=function(e){if("getTracks"in e){var t="polyblob:"+ ++a;return o.set(t,e),r.deprecated("URL.createObjectURL(stream)","elem.srcObject = stream"),t}return n(e)},t.revokeObjectURL=function(e){i(e),o.delete(e)};var s=Object.getOwnPropertyDescriptor(e.HTMLMediaElement.prototype,"src");Object.defineProperty(e.HTMLMediaElement.prototype,"src",{get:function(){return s.get.apply(this)},set:function(e){return this.srcObject=o.get(e)||null,s.set.apply(this,[e])}});var c=e.HTMLMediaElement.prototype.setAttribute;e.HTMLMediaElement.prototype.setAttribute=function(){return 2===arguments.length&&"src"===(""+arguments[0]).toLowerCase()&&(this.srcObject=o.get(arguments[1])||null),c.apply(this,arguments)}}},shimMaxMessageSize:function(e){if(!e.RTCSctpTransport&&e.RTCPeerConnection){var t=r.detectBrowser(e);"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get:function(){return"undefined"===typeof this._sctp?null:this._sctp}});var n=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){var e=this;if(e._sctp=null,function(e){var t=i.splitSections(e.sdp);return t.shift(),t.some((function(e){var t=i.parseMLine(e);return t&&"application"===t.kind&&-1!==t.protocol.indexOf("SCTP")}))}(arguments[0])){var r,o=function(e){var t=e.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(null===t||t.length<2)return-1;var n=parseInt(t[1],10);return n!==n?-1:n}(arguments[0]),a=function(e){var n=65536;return"firefox"===t.browser&&(n=t.version<57?-1===e?16384:2147483637:t.version<60?57===t.version?65535:65536:2147483637),n}(o),s=function(e,n){var r=65536;"firefox"===t.browser&&57===t.version&&(r=65535);var o=i.matchPrefix(e.sdp,"a=max-message-size:");return o.length>0?r=parseInt(o[0].substr(19),10):"firefox"===t.browser&&-1!==n&&(r=2147483637),r}(arguments[0],o);r=0===a&&0===s?Number.POSITIVE_INFINITY:0===a||0===s?Math.max(a,s):Math.min(a,s);var c={};Object.defineProperty(c,"maxMessageSize",{get:function(){return r}}),e._sctp=c}return n.apply(e,arguments)}}},shimSendThrowTypeError:function(e){if(e.RTCPeerConnection&&"createDataChannel"in e.RTCPeerConnection.prototype){var t=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){var e=t.apply(this,arguments);return n(e,this),e},r.wrapPeerConnectionEvent(e,"datachannel",(function(e){return n(e.channel,e.target),e}))}function n(e,t){var n=e.send;e.send=function(){var i=arguments[0],r=i.length||i.size||i.byteLength;if("open"===e.readyState&&t.sctp&&r>t.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+t.sctp.maxMessageSize+" bytes)");return n.apply(e,arguments)}}}}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){function t(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];const o=new e(...i);return Object.setPrototypeOf(o,t.prototype),o}return t.prototype=Object.create(e.prototype),Object.defineProperties(t.prototype,i(e.prototype)),Object.keys(e).forEach((n=>{t[n]=e[n]})),t};const i=e=>{const t={};return Object.getOwnPropertyNames(e).forEach((n=>{t[n]=Object.getOwnPropertyDescriptor(e,n)})),t}},function(e,t,n){"use strict";(function(e){var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(6));function o(){return"undefined"===typeof document||"complete"===document.readyState||"interactive"===document.readyState&&document.body}let a=!1;const s={isDomLoaded:o,isDomUnloaded:()=>a,whenUnloaded:new e((e=>{if("undefined"!==typeof window){const t=()=>{a=!0,s.emit("unload"),e()};window.addEventListener("unload",t)}})),whenLoaded:new e((e=>{if(o())return void e();const t=()=>{document.removeEventListener("DOMContentLoaded",t),document.removeEventListener("load",t),s.emit("load"),e()};document.addEventListener("DOMContentLoaded",t),document.addEventListener("load",t)}))};(0,r.default)(s);var c=s;t.default=c}).call(this,n(2))},function(e,t,n){var i=n(79),r=n(265),o=n(257),a=n(580),s=n(11),c=n(54),l=n(266);e.exports=function e(t,n,d,u,h){t!==n&&o(n,(function(o,c){if(h||(h=new i),s(o))a(t,n,c,d,e,u,h);else{var A=u?u(l(t,c),o,c+"",t,n,h):void 0;void 0===A&&(A=o),r(t,c,A)}}),c)}},function(e,t,n){var i=n(265),r=n(184),o=n(193),a=n(55),s=n(194),c=n(64),l=n(12),d=n(135),u=n(65),h=n(17),A=n(11),p=n(144),g=n(86),f=n(266),m=n(581);e.exports=function(e,t,n,E,C,I,Q){var U=f(e,n),y=f(t,n),b=Q.get(y);if(b)i(e,n,b);else{var v=I?I(U,y,n+"",e,t,Q):void 0,R=void 0===v;if(R){var S=l(y),F=!S&&u(y),B=!S&&!F&&g(y);v=y,S||F||B?l(U)?v=U:d(U)?v=a(U):F?(R=!1,v=r(y,!0)):B?(R=!1,v=o(y,!0)):v=[]:p(y)||c(y)?(v=U,c(U)?v=m(U):A(U)&&!h(U)||(v=s(y))):R=!1}R&&(Q.set(y,v),C(v,y,E,I,Q),Q.delete(y)),i(e,n,v)}}},function(e,t,n){var i=n(45),r=n(54);e.exports=function(e){return i(e,r(e))}},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=function(e){const t=h(e),n=e.env||{},i=e.isScreenSharing,o=e.isCustomAudioTrack,a=e.isCustomVideoTrack;return i&&!s.default&&(0,r.default)(e.usingOptionalMandatoryStyle,"Screensharing only uses optional-mandatory constraints right now"),["echoCancellation","autoGainControl","noiseSuppression"].forEach((t=>{!1!==e[t]&&Object.assign(e,{[t]:!0})})),{isScreenSharing:i,isCustomAudioTrack:o,isCustomVideoTrack:a,audio:p("audio",e),video:p("video",e),usingOptionalMandatoryStyle:e.usingOptionalMandatoryStyle,enableRenegotiation:e.enableRenegotiation,enableStereo:e.enableStereo,noiseSuppression:e.noiseSuppression,autoGainControl:e.autoGainControl,echoCancellation:e.echoCancellation,disableAudioProcessing:e.disableAudioProcessing,videoDimensions:A("resolution",e.resolution,(e=>d[e]),'"'.concat(Object.keys(d).join('", "'),'"'),t),frameRate:g(n,A("frameRate",e.frameRate,(e=>-1!==u.indexOf(e)?e:void 0),u.join(","),t)),maxResolution:function(){if(void 0===e.maxResolution)return i?{width:1920,height:1920}:void 0;const n={width:e.maxResolution.width,height:e.maxResolution.height};return Object.keys(n).forEach((e=>{const i=n[e];("number"!==typeof i||i>1920)&&(t.warn("Invalid maxResolution passed to the Publisher. maxResolution.".concat(e," must be less than or equal to 1920")),n[e]=1920)})),n}(),facingMode:m(e.facingMode,e)}};var r=i(n(152)),o=i(n(267)),a=i(n(1)),s=i(n(272)),c=i(n(273));const l=(0,a.default)("normalizeConstraintInput"),d={"320x240":{width:320,height:240},"320x180":{width:320,height:180},"640x480":{width:640,height:480},"640x360":{width:640,height:360},"1280x720":{width:1280,height:720},"1280x960":{width:1280,height:960},"1920x1080":{width:1920,height:1080}},u=[1,7,15,30];function h(e){return e._inject&&e._inject.logging||l}function A(e,t,n,i,r){if(void 0===t)return;const o=n(t);return o||r.warn("Invalid ".concat(e," passed to the Publisher. Got: ").concat(t,", expecting one of ").concat(i)),o}function p(e,t){const n=h(t),i=(()=>{const n=t["publish".concat((0,o.default)(e))];return void 0===n||Boolean(n)})();let r=(()=>{const i=t["".concat(e,"Source")];return void 0===i||null!==i&&!1!==i&&("object"===typeof i?!t["isCustom".concat((0,o.default)(e),"Track")]&&("string"!==typeof i.deviceId?(n.warn("Invalid ".concat(e,"Source passed to Publisher. Expected either a device ID or ")+"device."),!0):i.deviceId):"string"!==typeof i?(n.warn("Ignoring invalid ".concat(e,"Source parameter")),!0):i)})();return"audio"===e&&t.isScreenSharing&&!c.default&&!1!==r&&(t.audioSource&&h(t).warn("Invalid audioSource passed to Publisher - when using screen sharing no audioSource may be used"),r=!1),{source:r,publish:i}}function g(e,t){return"Chrome"===e.name&&-1!==e.userAgent.indexOf("Mac OS X")&&1===t?2:t}const f=["user","environment","left","right"],m=(e,t)=>{if(void 0===e||f.indexOf(e)>=0)return e;h(t).warn("Invalid facingMode passed to Publisher. Expected one of: ".concat(f.join(", ")))}},function(e,t,n){"use strict";var i=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach((function(e){i[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(r){return!1}}()?Object.assign:function(e,t){for(var n,a,s=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),c=1;c<arguments.length;c++){for(var l in n=Object(arguments[c]))r.call(n,l)&&(s[l]=n[l]);if(i){a=i(n);for(var d=0;d<a.length;d++)o.call(n,a[d])&&(s[a[d]]=n[a[d]])}}return s}},function(e,t,n){(function(e,i){var r=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),n={},i=0;i<t.length;i++)n[t[i]]=Object.getOwnPropertyDescriptor(e,t[i]);return n},o=/%[sdj%]/g;t.format=function(e){if(!E(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(c(arguments[n]));return t.join(" ")}n=1;for(var i=arguments,r=i.length,a=String(e).replace(o,(function(e){if("%%"===e)return"%";if(n>=r)return e;switch(e){case"%s":return String(i[n++]);case"%d":return Number(i[n++]);case"%j":try{return JSON.stringify(i[n++])}catch(t){return"[Circular]"}default:return e}})),s=i[n];n<r;s=i[++n])f(s)||!Q(s)?a+=" "+s:a+=" "+c(s);return a},t.deprecate=function(n,i){if("undefined"!==typeof e&&!0===e.noDeprecation)return n;if("undefined"===typeof e)return function(){return t.deprecate(n,i).apply(this,arguments)};var r=!1;return function(){if(!r){if(e.throwDeprecation)throw new Error(i);e.traceDeprecation?console.trace(i):console.error(i),r=!0}return n.apply(this,arguments)}};var a,s={};function c(e,n){var i={seen:[],stylize:d};return arguments.length>=3&&(i.depth=arguments[2]),arguments.length>=4&&(i.colors=arguments[3]),g(n)?i.showHidden=n:n&&t._extend(i,n),C(i.showHidden)&&(i.showHidden=!1),C(i.depth)&&(i.depth=2),C(i.colors)&&(i.colors=!1),C(i.customInspect)&&(i.customInspect=!0),i.colors&&(i.stylize=l),u(i,e,i.depth)}function l(e,t){var n=c.styles[t];return n?"\x1b["+c.colors[n][0]+"m"+e+"\x1b["+c.colors[n][1]+"m":e}function d(e,t){return e}function u(e,n,i){if(e.customInspect&&n&&b(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var r=n.inspect(i,e);return E(r)||(r=u(e,r,i)),r}var o=function(e,t){if(C(t))return e.stylize("undefined","undefined");if(E(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return m(t)?e.stylize(""+t,"number"):g(t)?e.stylize(""+t,"boolean"):f(t)?e.stylize("null","null"):void 0}(e,n);if(o)return o;var a=Object.keys(n),s=function(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(n)),y(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return h(n);if(0===a.length){if(b(n)){var c=n.name?": "+n.name:"";return e.stylize("[Function"+c+"]","special")}if(I(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(U(n))return e.stylize(Date.prototype.toString.call(n),"date");if(y(n))return h(n)}var l,d="",Q=!1,v=["{","}"];return p(n)&&(Q=!0,v=["[","]"]),b(n)&&(d=" [Function"+(n.name?": "+n.name:"")+"]"),I(n)&&(d=" "+RegExp.prototype.toString.call(n)),U(n)&&(d=" "+Date.prototype.toUTCString.call(n)),y(n)&&(d=" "+h(n)),0!==a.length||Q&&0!=n.length?i<0?I(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),l=Q?function(e,t,n,i,r){for(var o=[],a=0,s=t.length;a<s;++a)F(t,String(a))?o.push(A(e,t,n,i,String(a),!0)):o.push("");return r.forEach((function(r){r.match(/^\d+$/)||o.push(A(e,t,n,i,r,!0))})),o}(e,n,i,s,a):a.map((function(t){return A(e,n,i,s,t,Q)})),e.seen.pop(),function(e,t,n){var i=e.reduce((function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0);return i>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}(l,d,v)):v[0]+d+v[1]}function h(e){return"["+Error.prototype.toString.call(e)+"]"}function A(e,t,n,i,r,o){var a,s,c;if((c=Object.getOwnPropertyDescriptor(t,r)||{value:t[r]}).get?s=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(s=e.stylize("[Setter]","special")),F(i,r)||(a="["+r+"]"),s||(e.seen.indexOf(c.value)<0?(s=f(n)?u(e,c.value,null):u(e,c.value,n-1)).indexOf("\n")>-1&&(s=o?s.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+s.split("\n").map((function(e){return"   "+e})).join("\n")):s=e.stylize("[Circular]","special")),C(a)){if(o&&r.match(/^\d+$/))return s;(a=JSON.stringify(""+r)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function p(e){return Array.isArray(e)}function g(e){return"boolean"===typeof e}function f(e){return null===e}function m(e){return"number"===typeof e}function E(e){return"string"===typeof e}function C(e){return void 0===e}function I(e){return Q(e)&&"[object RegExp]"===v(e)}function Q(e){return"object"===typeof e&&null!==e}function U(e){return Q(e)&&"[object Date]"===v(e)}function y(e){return Q(e)&&("[object Error]"===v(e)||e instanceof Error)}function b(e){return"function"===typeof e}function v(e){return Object.prototype.toString.call(e)}function R(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(n){if(C(a)&&(a=e.env.NODE_DEBUG||""),n=n.toUpperCase(),!s[n])if(new RegExp("\\b"+n+"\\b","i").test(a)){var i=e.pid;s[n]=function(){var e=t.format.apply(t,arguments);console.error("%s %d: %s",n,i,e)}}else s[n]=function(){};return s[n]},t.inspect=c,c.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},c.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=p,t.isBoolean=g,t.isNull=f,t.isNullOrUndefined=function(e){return null==e},t.isNumber=m,t.isString=E,t.isSymbol=function(e){return"symbol"===typeof e},t.isUndefined=C,t.isRegExp=I,t.isObject=Q,t.isDate=U,t.isError=y,t.isFunction=b,t.isPrimitive=function(e){return null===e||"boolean"===typeof e||"number"===typeof e||"string"===typeof e||"symbol"===typeof e||"undefined"===typeof e},t.isBuffer=n(585);var S=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function F(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",function(){var e=new Date,t=[R(e.getHours()),R(e.getMinutes()),R(e.getSeconds())].join(":");return[e.getDate(),S[e.getMonth()],t].join(" ")}(),t.format.apply(t,arguments))},t.inherits=n(586),t._extend=function(e,t){if(!t||!Q(t))return e;for(var n=Object.keys(t),i=n.length;i--;)e[n[i]]=t[n[i]];return e};var B="undefined"!==typeof Symbol?Symbol("util.promisify.custom"):void 0;function T(e,t){if(!e){var n=new Error("Promise was rejected with a falsy value");n.reason=e,e=n}return t(e)}t.promisify=function(e){if("function"!==typeof e)throw new TypeError('The "original" argument must be of type Function');if(B&&e[B]){var t;if("function"!==typeof(t=e[B]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,B,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,n,r=new i((function(e,i){t=e,n=i})),o=[],a=0;a<arguments.length;a++)o.push(arguments[a]);o.push((function(e,i){e?n(e):t(i)}));try{e.apply(this,o)}catch(s){n(s)}return r}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),B&&Object.defineProperty(t,B,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,r(e))},t.promisify.custom=B,t.callbackify=function(t){if("function"!==typeof t)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],i=0;i<arguments.length;i++)n.push(arguments[i]);var r=n.pop();if("function"!==typeof r)throw new TypeError("The last argument must be of type Function");var o=this,a=function(){return r.apply(o,arguments)};t.apply(this,n).then((function(t){e.nextTick(a,null,t)}),(function(t){e.nextTick(T,t,a)}))}return Object.setPrototypeOf(n,Object.getPrototypeOf(t)),Object.defineProperties(n,r(t)),n}}).call(this,n(28),n(2))},function(e,t){e.exports=function(e){return e&&"object"===typeof e&&"function"===typeof e.copy&&"function"===typeof e.fill&&"function"===typeof e.readUInt8}},function(e,t){"function"===typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){var i=n(588),r=n(270),o=n(271),a=n(61);e.exports=function(e){return function(t){t=a(t);var n=r(t)?o(t):void 0,s=n?n[0]:t.charAt(0),c=n?i(n,1).join(""):t.slice(1);return s[e]()+c}}},function(e,t,n){var i=n(269);e.exports=function(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:i(e,t,n)}},function(e,t){e.exports=function(e){return e.split("")}},function(e,t){var n="\\ud800-\\udfff",i="["+n+"]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",o="\\ud83c[\\udffb-\\udfff]",a="[^"+n+"]",s="(?:\\ud83c[\\udde6-\\uddff]){2}",c="[\\ud800-\\udbff][\\udc00-\\udfff]",l="(?:"+r+"|"+o+")?",d="[\\ufe0e\\ufe0f]?",u=d+l+"(?:\\u200d(?:"+[a,s,c].join("|")+")"+d+l+")*",h="(?:"+[a+r+"?",r,s,c,i].join("|")+")",A=RegExp(o+"(?="+o+")|"+h+u,"g");e.exports=function(e){return e.match(A)||[]}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0,t.default=["screen","window","tab","browser","application"]},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(51)),o=i(n(594)),a=i(n(597)),s=i(n(1)),c=i(n(125));const l=(0,i(n(38)).default)(),d="/opentok/webrtc/docs/js/release-notes.html",u=l.onlyLocal(),h=(0,s.default)("setLogLevel"),A=(0,r.default)((()=>{h.info("%c".concat("\n \u2588\u2588\u2588\u2588\u2588\u2588\u2557 \u2588\u2588\u2588\u2588\u2588\u2588\u2557 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2557\u2588\u2588\u2588\u2557   \u2588\u2588\u2557\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2557 \u2588\u2588\u2588\u2588\u2588\u2588\u2557 \u2588\u2588\u2557  \u2588\u2588\u2557\n\u2588\u2588\u2554\u2550\u2550\u2550\u2588\u2588\u2557\u2588\u2588\u2554\u2550\u2550\u2588\u2588\u2557\u2588\u2588\u2554\u2550\u2550\u2550\u2550\u255d\u2588\u2588\u2588\u2588\u2557  \u2588\u2588\u2551\u255a\u2550\u2550\u2588\u2588\u2554\u2550\u2550\u255d\u2588\u2588\u2554\u2550\u2550\u2550\u2588\u2588\u2557\u2588\u2588\u2551 \u2588\u2588\u2554\u255d\n\u2588\u2588\u2551   \u2588\u2588\u2551\u2588\u2588\u2588\u2588\u2588\u2588\u2554\u255d\u2588\u2588\u2588\u2588\u2588\u2557  \u2588\u2588\u2554\u2588\u2588\u2557 \u2588\u2588\u2551   \u2588\u2588\u2551   \u2588\u2588\u2551   \u2588\u2588\u2551\u2588\u2588\u2588\u2588\u2588\u2554\u255d\n\u2588\u2588\u2551   \u2588\u2588\u2551\u2588\u2588\u2554\u2550\u2550\u2550\u255d \u2588\u2588\u2554\u2550\u2550\u255d  \u2588\u2588\u2551\u255a\u2588\u2588\u2557\u2588\u2588\u2551   \u2588\u2588\u2551   \u2588\u2588\u2551   \u2588\u2588\u2551\u2588\u2588\u2554\u2550\u2588\u2588\u2557\n\u255a\u2588\u2588\u2588\u2588\u2588\u2588\u2554\u255d\u2588\u2588\u2551     \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2557\u2588\u2588\u2551 \u255a\u2588\u2588\u2588\u2588\u2551   \u2588\u2588\u2551   \u255a\u2588\u2588\u2588\u2588\u2588\u2588\u2554\u255d\u2588\u2588\u2551  \u2588\u2588\u2557\n \u255a\u2550\u2550\u2550\u2550\u2550\u255d \u255a\u2550\u255d     \u255a\u2550\u2550\u2550\u2550\u2550\u2550\u255d\u255a\u2550\u255d  \u255a\u2550\u2550\u2550\u255d   \u255a\u2550\u255d    \u255a\u2550\u2550\u2550\u2550\u2550\u255d \u255a\u2550\u255d  \u255a\u2550\u255d"),'font-family: "Fire Code", Courier, "Courier New", Consolas, "DejaVu Sans Mono"'),h.info("OpenTok JS SDK ".concat(u.version)),h.info("Release notes: ".concat(u.websiteUrl).concat(d)),h.info("Known issues: ".concat(u.websiteUrl).concat(d,"l#knownIssues"))}));function p(e){if(void 0===e||!(0,o.default)(c.default,{priority:e})&&0!==e){const t=(0,a.default)(c.default,((e,t)=>"OT.".concat(t.toUpperCase()," = ").concat(e.priority))).join(", ");h.error("level must be one of: OT.NONE = 0, ".concat(t)),h.warn("Using OT.WARN instead"),e=c.default.warn.priority}return s.default.setLogLevel(e),e>=c.default.debug.priority&&A(),h.info("OpenTok JS SDK now uses the debug library. More info at ".concat("https://www.npmjs.com/package/debug#browser-support")),h.info("Changed log level to: ".concat(e)),e}p(u.debug?c.default.debug.priority:c.default.warn.priority);var g=p;t.default=g},function(e,t,n){var i=n(103);e.exports=function(e,t){var n;if("function"!=typeof t)throw new TypeError("Expected a function");return e=i(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=void 0),n}}},function(e,t,n){var i=n(251),r=n(39),o=n(595),a=n(12),s=n(124);e.exports=function(e,t,n){var c=a(e)?i:o;return n&&s(e,t,n)&&(t=void 0),c(e,r(t,3))}},function(e,t,n){var i=n(275);e.exports=function(e,t){var n;return i(e,(function(e,i,r){return!(n=t(e,i,r))})),!!n}},function(e,t,n){var i=n(26);e.exports=function(e,t){return function(n,r){if(null==n)return n;if(!i(n))return e(n,r);for(var o=n.length,a=t?o:-1,s=Object(n);(t?a--:++a<o)&&!1!==r(s[a],a,s););return n}}},function(e,t,n){var i=n(37),r=n(39),o=n(598),a=n(12);e.exports=function(e,t){return(a(e)?i:o)(e,r(t,3))}},function(e,t,n){var i=n(275),r=n(26);e.exports=function(e,t){var n=-1,o=r(e)?Array(e.length):[];return i(e,(function(e,i,r){o[++n]=t(e,i,r)})),o}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){return"http:"!==e.substr(0,5)&&"https:"!==e.substr(0,6)&&"data:image/png;base64,"!==e.substr(0,22)?"data:image/png;base64,".concat(e):e}},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=function(e,t){const n=this,i={},a={buttonDisplayMode:["auto","mini","mini-auto","off","on"],nameDisplayMode:["auto","off","on"],audioLevelDisplayMode:["auto","off","on"],showSettingsButton:[!0,!1],showSpeakerButton:null,showMicButton:[!0,!1],backgroundImageURI:null,showControlBar:[!0,!1],showArchiveStatus:[!0,!1],archiveStatusDisplayMode:["auto","off","on"],videoDisabledDisplayMode:["auto","off","on"],audioBlockedDisplayMode:["auto","off","on"]};n.getAll=function(){return(0,r.default)(i)},n.get=function(e){return e?i[e]:n.getAll()},n.setAll=function(e,t){return Object.keys(e).forEach((i=>{n.set(i,e[i],t)})),n},n.set=function(e,r,s){let c;o.debug("setStyle: ".concat(e.toString()));const l=function(e){switch(e){case"true":return!0;case"false":return!1;default:return e}}(r);return function(e,t){const n=a[e];return void 0!==n&&(null===n||-1!==n.indexOf(t))}(e,l)?(c=i[e],l!==c&&(i[e]=l,s||t(e,r,c)),n):(o.warn("Style.set::Invalid style property passed ".concat(e," : ").concat(l)),n)},e&&n.setAll(e,!0)};var r=i(n(58));const o=(0,i(n(1)).default)("Style")},function(e,t,i){"use strict";var r=i(0);t.__esModule=!0,t.default=void 0;var o=r(i(3)),a=r(i(279));t.default=()=>Boolean("Node"!==o.default.name&&!o.default.isIosWebView&&(!!(0,a.default)()||(void 0!==typeof window?window:n.g).navigator.mediaDevices&&(void 0!==typeof window?window:n.g).navigator.mediaDevices.getUserMedia||(void 0!==typeof window?window:n.g).navigator.webkitGetUserMedia||(void 0!==typeof window?window:n.g).navigator.mozGetUserMedia))},function(e,t,i){"use strict";var r=i(0);t.__esModule=!0,t.default=void 0;var o=r(i(3)),a=()=>"Node"!==o.default.name&&(!("function"!==typeof(void 0!==typeof window?window:n.g).webkitRTCPeerConnection||!(void 0!==typeof window?window:n.g).webkitRTCPeerConnection.prototype.addTrack)||"function"===typeof(void 0!==typeof window?window:n.g).RTCPeerConnection||"function"===typeof(void 0!==typeof window?window:n.g).mozRTCPeerConnection&&o.default.version>20);t.default=a},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var i=void 0!==(void 0!==typeof window?window:n.g).WebSocket;t.default=i},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(29));let o=function(e){function t(t,n){var i;let r=(void 0===n?{}:n).destroyOnClose,o=void 0===r||r;(i=e.call(this)||this).modalDiv=document.createElement("div"),i.modalDiv.classList.add("OT_ModalDialog"),i.modalDiv.innerHTML=t;const a=i.modalDiv.querySelectorAll("[role=OT_close]");return[].forEach.call(a,(e=>e.addEventListener("click",(e=>{e.preventDefault(),i.close()})))),i.close(),document.body.appendChild(i.modalDiv),o&&i.on("closed",(()=>i.destroy())),i}(0,r.default)(t,e);var n=t.prototype;return n.open=function(){this.modalDiv.style.display="block",this.emit("opened")},n.close=function(){this.modalDiv.style.display="none",this.emit("closed")},n.destroy=function(){this.modalDiv.innerHTML="",this.modalDiv.parentNode.removeChild(this.modalDiv),this.emit("destroyed")},n.el=function(e){return this.modalDiv.querySelector(e)},t}(i(n(14)).default);t.default=o},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(3)),o=i(n(27));t.default=function(e){void 0===e&&(e={});const t=e.env||r.default,n=e.analytics||new o.default;n.logEvent({action:"UserAgentParsing",variation:"Attempt",payload:{userAgent:t.userAgent}}),n.logEvent({action:"UserAgentParsing",variation:t.error?"Failure":"Success",payload:{userAgent:t.userAgent}})}},function(e,t){e.exports='<div id="tb_alert"><div id="section-normal-install" class="OT_alert"><div class="OT_alert-exclamation">!</div><button class="OT_alert-close-button" role="OT_close">&#x00D7;</button><div class="OT_alert-header" data-text="Incompatible Browser">Incompatible Browser</div><div class="OT_alert-body">The video component of this application requires <a target="_blank" href="https://www.google.com/chrome/">Google Chrome</a>, <a target="_blank" href="http://www.mozilla.org/firefox">Firefox</a>, <a target="_blank" href="https://www.microsoft.com/en-us/edge">Edge</a>, or <a target="_blank" href="https://www.apple.com/safari/">Safari</a>.</div></div><div id="section-upgrade-install" class="OT_alert"><div class="OT_alert-exclamation">!</div><button class="OT_alert-close-button" role="OT_close">&#x00D7;</button><div class="OT_alert-header" data-text="Incompatible Browser">Incompatible Browser</div><div class="OT_alert-body">The video component of this application requires a newer version of <a target="_blank" href="https://www.google.com/chrome/">Google Chrome</a>, <a target="_blank" href="http://www.mozilla.org/firefox">Firefox</a>, <a target="_blank" href="https://www.microsoft.com/en-us/edge">Edge</a>, or <a target="_blank" href="https://www.apple.com/safari/">Safari</a>.</div><div class="continue-text"><a href="#" role="OT_close">Continue at my own risk.</a></div></div><div id="section-supported-mobile-browser" class="OT_alert"><div class="OT_alert-exclamation">!</div><button class="OT_alert-close-button" role="OT_close">&#x00D7;</button><div class="OT_alert-header" data-text="Incompatible Browser">Incompatible Browser</div><div class="OT_alert-body">The video component of this application requires a newer version of <a target="_blank" href="https://www.google.com.au/chrome/browser/mobile/">Google Chrome</a>.</div><div class="continue-text"><a href="#" role="OT_close">Continue at my own risk.</a></div></div><div id="section-mobile-browser" class="OT_alert"><div class="OT_alert-exclamation">!</div><button class="OT_alert-close-button" role="OT_close">&#x00D7;</button><div class="OT_alert-header" data-text="Incompatible Browser">Incompatible Browser</div><div class="OT_alert-body">The video component of this application is not supported on your mobile device\'s browser at this time.</div></div></div>'},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},function(e,t){e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}},function(e,t,n){var i=n(281);function r(t,n,o){return function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()?e.exports=r=Reflect.construct:e.exports=r=function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&i(o,n.prototype),o},r.apply(null,arguments)}e.exports=r},function(e,t,n){"use strict";(function(t){e.exports=(e,n)=>(n=n||(()=>{}),e.then((e=>new t((e=>{e(n())})).then((()=>e))),(e=>new t((e=>{e(n())})).then((()=>{throw e})))))}).call(this,n(2))},function(e,t,n){var i=n(11),r=n(612),o=n(249),a=Math.max,s=Math.min;e.exports=function(e,t,n){var c,l,d,u,h,A,p=0,g=!1,f=!1,m=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function E(t){var n=c,i=l;return c=l=void 0,p=t,u=e.apply(i,n)}function C(e){var n=e-A;return void 0===A||n>=t||n<0||f&&e-p>=d}function I(){var e=r();if(C(e))return Q(e);h=setTimeout(I,function(e){var n=t-(e-A);return f?s(n,d-(e-p)):n}(e))}function Q(e){return h=void 0,m&&c?E(e):(c=l=void 0,u)}function U(){var e=r(),n=C(e);if(c=arguments,l=this,A=e,n){if(void 0===h)return function(e){return p=e,h=setTimeout(I,t),g?E(e):u}(A);if(f)return clearTimeout(h),h=setTimeout(I,t),E(A)}return void 0===h&&(h=setTimeout(I,t)),u}return t=o(t)||0,i(n)&&(g=!!n.leading,d=(f="maxWait"in n)?a(o(n.maxWait)||0,t):d,m="trailing"in n?!!n.trailing:m),U.cancel=function(){void 0!==h&&clearTimeout(h),p=0,c=A=l=h=void 0},U.flush=function(){return void 0===h?u:Q(r())},U}},function(e,t,n){var i=n(15);e.exports=function(){return i.Date.now()}},function(e,t,n){var i=n(60),r=n(614),o=n(615),a=n(49);e.exports=function(e,t){return t=i(t,e),null==(e=o(e,t))||delete e[a(r(t))]}},function(e,t){e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},function(e,t,n){var i=n(101),r=n(269);e.exports=function(e,t){return t.length<2?e:i(e,r(t,0,-1))}},function(e,t,n){var i=n(144);e.exports=function(e){return i(e)?void 0:e}},function(e,t,n){var i=n(39),r=n(26),o=n(33);e.exports=function(e){return function(t,n,a){var s=Object(t);if(!r(t)){var c=i(n,3);t=o(t),n=function(e){return c(s[e],e,s)}}var l=e(t,n,a);return l>-1?s[c?t[l]:l]:void 0}}},function(e,t,n){var i=n(98),r=n(99),o=n(134),a=n(100),s=n(619),c=n(104);e.exports=function(e,t,n){var l=-1,d=r,u=e.length,h=!0,A=[],p=A;if(n)h=!1,d=o;else if(u>=200){var g=t?null:s(e);if(g)return c(g);h=!1,d=a,p=new i}else p=t?[]:A;e:for(;++l<u;){var f=e[l],m=t?t(f):f;if(f=n||0!==f?f:0,h&&m===m){for(var E=p.length;E--;)if(p[E]===m)continue e;t&&p.push(m),A.push(f)}else d(p,m,n)||(p!==A&&p.push(m),A.push(f))}return A}},function(e,t,n){var i=n(190),r=n(244),o=n(104),a=i&&1/o(new i([,-0]))[1]==1/0?function(e){return new i(e)}:r;e.exports=a},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(4)),o=i(n(5)),a=i(n(285)),s=i(n(621));const c=function(){var e=(0,o.default)(r.default.mark((function e(t,n){var i,o,c,l;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,a.default)(t,n);case 2:return i=e.sent,e.next=5,window.crypto.subtle.exportKey("raw",i);case 5:return o=e.sent,(c=[...new Uint8Array(o)]).splice(6),l=(0,s.default)(c),e.abrupt("return",parseInt(l,16));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();var l=function(){var e=(0,o.default)(r.default.mark((function e(t){var n,i;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.sessionId,i=t.connectionId,e.abrupt("return",c(n,i));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.default=l},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0,t.default=e=>{if(!Array.isArray(e))return null;const t=e.map((e=>e.toString(16).padStart(2,"0"))).join("");return"0x".concat(t)}},function(e,t,n){"use strict";(function(e){var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(4)),o=i(n(5));const a=(0,i(n(1)).default)("hasValidPeerConnection");function s(t){return new e((e=>{t.addEventListener("signalingstatechange",(()=>e(!0))),t.createOffer({offerToReceiveAudio:1}).then((e=>t.setLocalDescription(e))).then((()=>setTimeout((()=>{e(!1)}),1e3)))}))}function c(){return(c=(0,o.default)(r.default.mark((function e(t){var n;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,n=new t({iceServers:[]}),e.next=8;break;case 4:return e.prev=4,e.t0=e.catch(0),a.error("Error occurred creating PeerConnection",e.t0),e.abrupt("return",!1);case 8:return e.prev=8,e.next=11,s(n);case 11:e.next=18;break;case 13:e.prev=13,e.t1=e.catch(8),a.error("Error occurred checking the validity of the PeerConnection",e.t1);try{n.close()}catch(i){}return e.abrupt("return",!1);case 18:e.prev=18,n.close(),e.next=26;break;case 22:return e.prev=22,e.t2=e.catch(18),a.error("Error occurred closing PeerConnection",e.t2),e.abrupt("return",!1);case 26:return e.abrupt("return",!0);case 27:case"end":return e.stop()}}),e,null,[[0,4],[8,13],[18,22]])})))).apply(this,arguments)}var l=function(e){return c.apply(this,arguments)};t.default=l}).call(this,n(2))},function(e,t,n){"use strict";(function(e){var i=n(0);t.__esModule=!0,t.default=function(t){let n=t.window,i=t.config,o=t.constraints;l.debug("called");const d=(0,r.default)(i);d.iceServers=(0,s.default)(a.default,d.iceServers),(0,c.default)()&&(d.sdpSemantics="plan-b");const u=new n.RTCPeerConnection(d,o);return e.resolve(u)};var r=i(n(42)),o=i(n(1)),a=i(n(3)),s=i(n(624)),c=i(n(74));const l=(0,o.default)("createPeerConnection")}).call(this,n(2))},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=function(e,t){let n=e.name;e.isEdge&&(n=e.isLegacyEdge?"Edge":"ChromiumEdge");const i=a[n];return i?i(t):t};var r=i(n(9)),o=i(n(282));const a={Edge(e){let t=!1;return e.map((e=>{if(!e)return;const n=e.urls||e.url&&[e.url];if(!n)return;const i=n.filter((e=>0!==e.indexOf("turn:")||-1===e.indexOf("transport=udp")||-1!==e.indexOf("turn:[")||t?0===e.indexOf("stun:"):(t=!0,!0)));return 0!==i.length?(0,r.default)((0,o.default)(e,["url","urls"]),{urls:i}):void 0})).filter((e=>void 0!==e))},Safari:e=>e.map((e=>{if(void 0!==e.urls&&void 0===e.url)return e;const t=e.urls||e.url&&[e.url];return(0,r.default)((0,o.default)(e,["url","urls"]),{urls:t})}))}},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(21)),o=i(n(3));const a={baseline:"42001f",constBaseline:"42e01f"},s=e=>{let t=e.sdp,n=e.from,i=e.to;return t.replace(new RegExp("^(a=fmtp:\\d+ .*profile-level-id=)".concat(n),"gmi"),"$1".concat(i))};var c={local:{offer:function(e,t){let n=void 0===e?{}:e,i=n.numSimulcastStreams,c=n.audioBitrate,l=n.priorityVideoCodec,d=void 0===l?"":l,u=n.codecFlags,h=void 0===u?{}:u,A=n.enableStereo,p=void 0!==A&&A,g=n.enableDtx,f=void 0!==g&&g,m=n.replaceBaselineProfile,E=void 0!==m&&m,C=n.removeVideoOrientation,I=void 0!==C&&C,Q=r.default.filterExcessSSRCs(t);i>1&&(Q=r.default.enableSimulcast(Q,i)),c>0&&(Q=r.default.setAudioBitrate(Q,c)),I&&(Q=r.default.removeVideoOrientation(Q)),Q=r.default.modifyReceiveStereo(Q,!1),Q=r.default.modifySendStereo(Q,Boolean(p)),Q=r.default.modifyDtx(Q,Boolean(f)),o.default.isLegacyEdge||Object.keys(h).filter((e=>!1===h[e])).forEach((e=>{Q=r.default.removeVideoCodec(Q,e)})),"vp9"!==d||o.default.isLegacyEdge?d&&!o.default.isLegacyEdge?Q=r.default.reprioritizeVideoCodec(Q,d,"top"):"h264"!==d&&(Q=r.default.reprioritizeVideoCodec(Q,"h264","bottom")):(Q=r.default.reprioritizeVideoCodec(Q,"vp8","top"),Q=r.default.reprioritizeVideoCodec(Q,"vp9","top"));let U=Q;return E&&(U=s({sdp:U,from:a.baseline,to:a.constBaseline})),{local:Q,remote:U}},answer:function(e,t){let n=void 0===e?{}:e,i=n.audioBitrate,o=n.codecFlags,c=n.enableStereo,l=void 0!==c&&c,d=n.enableDtx,u=void 0!==d&&d,h=n.replaceBaselineProfile,A=void 0!==h&&h,p=n.sourceStreamId,g=t;i>0&&(g=r.default.setAudioBitrate(g,i)),g=r.default.modifyReceiveStereo(g,Boolean(l)),g=r.default.modifySendStereo(g,!1),g=r.default.modifyDtx(g,Boolean(u)),"MANTIS"===p&&"passive"===r.default.getSetupRole(g)&&(g=r.default.setSetupRole(g,"active")),o&&Object.keys(o).filter((e=>!1===o[e])).forEach((e=>{g=r.default.removeVideoCodec(g,e)}));let f=g;return A&&(f=s({sdp:f,from:a.baseline,to:a.constBaseline})),{local:g,remote:f}}},remote:{offer:(e,t)=>{let n=e.replaceBaselineProfile,i=void 0!==n&&n,r=t;if(-1===r.indexOf("a=rtcp-fb")){const e="a=rtcp-fb:* ccm fir\r\na=rtcp-fb:* nack ";r=r.replace(/^m=video(.*)$/gim,"m=video$1\r\n".concat(e))}return i&&(r=s({sdp:r,from:a.constBaseline,to:a.baseline})),{local:r}},answer:function(e,t){let n=void 0===e?{}:e,i=n.audioBitrate,o=n.replaceBaselineProfile,c=void 0!==o&&o,l=t;return i>0&&(l=r.default.setAudioBitrate(l,i)),c&&(l=s({sdp:l,from:a.constBaseline,to:a.baseline})),{local:l}}}};t.default=c},function(e,t,n){var i=n(44),r=n(55),o=n(46),a=n(26),s=n(287),c=n(627),l=n(252),d=n(104),u=n(271),h=n(288),A=i?i.iterator:void 0;e.exports=function(e){if(!e)return[];if(a(e))return s(e)?u(e):r(e);if(A&&e[A])return c(e[A]());var t=o(e);return("[object Map]"==t?l:"[object Set]"==t?d:h)(e)}},function(e,t){e.exports=function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}},function(e,t,n){var i=n(37);e.exports=function(e,t){return i(t,(function(t){return e[t]}))}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0,t.default=(e,t)=>{let n=[],i=null;if("function"===typeof e.getReceivers){const t=e.getReceivers().find((e=>"audio"===e.track.kind));t&&(n=t.getSynchronizationSources())}else i=new Error("peerConnection does not support getReceivers function");t&&t(i,n)}},function(e,t,n){"use strict";(function(e){var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(631));const o=function(e){this.pending=[],this._processBinding=this.maybeProcessPending.bind(this),e&&this.setPeerConnection(e)};o.prototype.setPeerConnection=function(e){if(this.pc)throw new Error("Peer connection already set");this.pc=e,this._forwardIceCandidate=(0,r.default)(this.pc,"addIceCandidate"),this.pc.addEventListener("signalingstatechange",this._processBinding),this.maybeProcessPending()},o.prototype.canAddCandidates=function(){return!!(this.pc&&"closed"!==this.pc.iceConnectionState&&this.pc.remoteDescription&&this.pc.remoteDescription.type&&this.pc.localDescription&&this.pc.localDescription.type)},o.prototype.addIceCandidate=function(t){if(this.canAddCandidates())return this._forwardIceCandidate(t);const n=this.pending;return new e(((e,i)=>{n.push({iceCandidate:t,resolve:e,reject:i})}))},o.prototype.maybeProcessPending=function(){this.canAddCandidates()&&this.process()},o.prototype.process=function(){for(;this.pending.length;){const e=this.pending.shift();this._forwardIceCandidate(e.iceCandidate).then(e.resolve).catch(e.reject)}},o.prototype.destroy=function(){this.pc&&this.pc.removeEventListener("signalingstatechange",this._processBinding),this._processBinding=null,this.pc=null};var a=o;t.default=a}).call(this,n(2))},function(e,t,n){"use strict";(function(e){t.__esModule=!0,t.default=function(t,n){const i=t[n];return function(n){return new e(((e,r)=>{const o=i.apply(t,[n,e,r]);o&&"function"===typeof o.then&&e(o)}))}}}).call(this,n(2))},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=function(e,t,n,i,r,d,u,h,A,p,g,f,m){const E=(e,t)=>n=>{l.error(e),l.error(n),p&&p(e,n,t)},C=t=>{const n=s.default.hasSendStereo(d.sdp),o=s.default.hasSendDtx(d.sdp),c=s.default.getAudioBitrate(d.sdp),l=(0,a.default)(r,"local","answer",{enableStereo:n,enableDtx:o,audioBitrate:c,replaceBaselineProfile:f,codecFlags:u,sourceStreamId:m},t.sdp),h=new i({type:t.type,sdp:l.local}),p={type:t.type,sdp:l.remote};return e.setLocalDescription(h).then((()=>A(p))).catch(E("Error while setting LocalDescription","SetLocalDescription"))},I=new i({type:d.type,sdp:(0,a.default)(r,"remote","offer",{replaceBaselineProfile:f},d.sdp).local}),Q=E("Error while setting RemoteDescription","SetRemoteDescription");return(0,c.default)(I,h,o.default,t,n).then((()=>(g(!0),I))).catch((e=>{if(g(!1),!s.default.hasMediaType(I.sdp,"audio"))throw new Error("Unsupported video without audio for fallback");l.debug("Couldn't set remote description",I,e,", trying without video");const t=new i({type:d.type,sdp:s.default.disableMediaType(I.sdp,"video")});return l.debug("offer without video",t.sdp),t})).then((t=>e.setRemoteDescription(t))).then((()=>e.createAnswer().then(C).catch(E("Error while setting createAnswer","CreateAnswer")))).catch(Q)};var r=i(n(1)),o=i(n(3)),a=i(n(159)),s=i(n(21)),c=i(n(633));const l=(0,r.default)("offerProcessor")},function(e,t,n){"use strict";(function(e){var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(74)),o=(t,n,i,o,a)=>{if(!o)return e.resolve(!0);const s={iceServers:[]};(0,r.default)()&&(s.sdpSemantics="plan-b");const c=new o(s),l=()=>{try{c.close()}catch(e){}};return c.setRemoteDescription(new a(t)).then((()=>{l()})).catch((e=>{throw l(),e}))};t.default=o}).call(this,n(2))},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=function(e){let t=[];const n={};let i={sentMessages:0,recvMessages:0};const a=function(e){const n=new o.default(e);return t.push(n),n.on("close",(()=>{!function(e){t.filter((t=>e!==t))}(n)})),n};return n.add=function(t,n){return a(e.createDataChannel(t,n))},n.addMany=function(e){for(const t in e)e.hasOwnProperty(t)&&n.add(t,e[t])},n.get=function(e,n){return(0,r.default)(t,(t=>t.equals(e,n)))},n.getOrAdd=function(e,t){let i=n.get(e,t);return i||(i=n.add(e,t)),i},n.getQosData=function(){const e={sentMessages:0,recvMessages:0};return t.forEach((t=>{e.sentMessages+=t.getQosData().sentMessages,e.recvMessages+=t.getQosData().recvMessages})),e},n.sampleQos=function(){const e=n.getQosData(),t={sentMessages:e.sentMessages-i.sentMessages,recvMessages:e.recvMessages-i.recvMessages};return i=e,t},n.destroy=function(){t.forEach((e=>{e.close()})),t=[]},e.addEventListener("datachannel",(e=>{a(e.channel)})),n};var r=i(n(62)),o=i(n(635))},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=function(e){const t={},n=[],i={sentMessages:0,recvMessages:0},s=function(e){return n.push(e),t},c=function(n){return e.send(n),i.sentMessages++,t},l=function(){let e;for(;e=n.shift();)t.send(e)};return(0,r.default)(t,!0),t.label=e.label,t.id=e.id,t.reliable=e.reliable,t.negotiated=e.negotiated,t.ordered=e.ordered,t.protocol=e.protocol,t._channel=e,t.close=function(){e.close()},t.equals=function(e,n){if(t.label!==e)return!1;for(const i in n)if(n.hasOwnProperty(i)&&t[i]!==n[i])return!1;return!0},t.getQosData=function(){return i},t.send=s,e.addEventListener("open",(function(){t.send=c,l()}),!1),e.addEventListener("close",(function(e){t.send=s,t.trigger("close",e)}),!1),e.addEventListener("error",(function(e){o.error(e)}),!1),e.addEventListener("message",(function(e){const n=new a(e);i.recvMessages++,t.trigger("message",n)}),!1),t};var r=i(n(6));const o=(0,i(n(1)).default)("DataChannel"),a=function(e){this.data=e.data,this.source=e.source,this.lastEventId=e.lastEventId,this.origin=e.origin,this.timeStamp=e.timeStamp,this.type=e.type,this.ports=e.ports,this.path=e.path}},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=function(e){let t=e.peerConnection,n=e.NativeRTCSessionDescription,i=e.sdpTransforms,o=e.numSimulcastStreams,l=e.offerOverrides,d=e.offerConstraints,u=e.replaceBaselineProfile,h=e.removeVideoOrientation,A=e.removeUnusedCodecs;const p=(e,t)=>n=>{c.error(e,n);const i=new Error(e);throw i.reason=n,i.prefix=t,i};return c.debug("subscribeProcessor: creating offer"),t.createOffer(d).then((e=>{c.debug("subscribeProcessor: offer created",e);let d=e.sdp;var g;A&&(d=s.default.removeUnusedCodecs(d,null==(g=t.currentLocalDescription)?void 0:g.sdp));const f=(0,a.default)(i,"local","offer",(0,r.default)({numSimulcastStreams:o,replaceBaselineProfile:u,removeVideoOrientation:h},l),d),m=new n({type:e.type,sdp:f.local}),E=new n({type:e.type,sdp:f.remote});return c.debug("subscribeProcessor: setting local description"),t.setLocalDescription(m).then((()=>E),p("Error while setting LocalDescription","SetLocalDescription"))}),p("Error while creating Offer","CreateOffer")).then((e=>({sdp:e.sdp,type:e.type})))};var r=i(n(9)),o=i(n(1)),a=i(n(159)),s=i(n(21));const c=(0,o.default)("subscribeProcessor")},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(638)),o=function(){function e(e){this.state=r.default.RESOLVED,this.offerAnswerQueue=[],this.logAnalyticsEvent=e}var t=e.prototype;return t.setPending=function(){this.state=r.default.PENDING},t.setResolved=function(){this.state=r.default.RESOLVED;const e=this.offerAnswerQueue.shift();e&&(this.logAnalyticsEvent("dequeueOfferAnswer","Event"),this.setPending(),e())},t.isPending=function(){return this.state===r.default.PENDING},t.enqueueOfferAnswer=function(e){this.isPending()?(this.offerAnswerQueue.push(e),this.logAnalyticsEvent("enqueueOfferAnswer","Event")):(this.setPending(),e())},e}();t.default=o},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0,t.default={PENDING:"pending",RESOLVED:"resolved"}},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(4)),o=i(n(5)),a=i(n(21));const s=a.default.mediaDirections,c=s.RECVONLY,l=s.INACTIVE,d=function(){var e=(0,o.default)(r.default.mark((function e(t,n){var i,o,s;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,t.createOffer();case 4:return i=e.sent,e.next=7,t.setLocalDescription(i);case 7:o=t.remoteDescription.sdp,s=a.default.changeMediaDirection(o,n),t.setRemoteDescription({type:t.remoteDescription.type,sdp:s});case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();var u={changeMediaDirectionToInactive:e=>d(e,l),changeMediaDirectionToRecvOnly:e=>d(e,c)};t.default=u},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=function(e,t,n,i,r){return p?Q(e,t,n,i,r):I(e,0,n,0,r)},t.parseStatsNewAPI=Q,t.parseStatsOldAPI=I;var r=i(n(1)),o=i(n(3)),a=i(n(7)),s=i(n(21)),c=i(n(291)),l=i(n(641)),d=i(n(108)),u=i(n(160));function h(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"===typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?A(e,t):void 0}}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}const p=(0,d.default)(),g=(0,r.default)("QoS"),f=["audioCodec","audioSentBytes","audioSentPackets","audioSentPacketsLost","audioRtt","videoCodec","videoHeight","videoHeightInput","videoSentBytes","videoFrameRateSent","videoSentPackets","videoRtt","videoSentPacketsLost","videoWidthInput","videoWidth","srtpCipher"],m=["audioCodec","audioRecvBytes","audioRecvPackets","audioRecvPacketsLost","videoCodec","videoHeight","videoRecvBytes","videoRecvPackets","videoRecvPacketsLost","videoFrameRateReceived","videoWidth","srtpCipher"],E=(e,t)=>g.debug("Raw stats for peer conn ".concat(e.id,":"),t),C=e=>{const t=e.portNumber||e.port,n=e.ipAddress||e.address||e.ip;return"".concat(n,":").concat(t)};function I(e,t,n,i,r){const o=e=>(Number(e.stat("googFrameRateSent"))>0?(n.videoSentBytes=Number(e.stat("bytesSent")),n.videoSentPackets=Number(e.stat("packetsSent")),n.videoSentPacketsLost=Number(e.stat("packetsLost")),n.videoRtt=Number(e.stat("googRtt"))/1e3,n.videoFrameRate=Number(e.stat("googFrameRateInput")),n.videoWidth=Number(e.stat("googFrameWidthSent")),n.videoHeight=Number(e.stat("googFrameHeightSent")),n.videoFrameRateSent=Number(e.stat("googFrameRateSent")),n.videoWidthInput=Number(e.stat("googFrameWidthInput")),n.videoHeightInput=Number(e.stat("googFrameHeightInput")),n.videoCodec=e.stat("googCodecName"),n.videoBandwidthLimitedResolution="true"===e.stat("googBandwidthLimitedResolution"),n.cpuLimitedResolution="true"===e.stat("googCpuLimitedResolution")):Number(e.stat("googFrameRateReceived"))>0&&(n.videoRecvBytes=Number(e.stat("bytesReceived")),n.videoRecvPackets=Number(e.stat("packetsReceived")),n.videoRecvPacketsLost=Number(e.stat("packetsLost")),n.videoFrameRate=Number(e.stat("googFrameRateOutput")),n.videoFrameRateReceived=Number(e.stat("googFrameRateReceived")),n.videoFrameRateDecoded=Number(e.stat("googFrameRateDecoded")),n.videoWidth=Number(e.stat("googFrameWidthReceived")),n.videoHeight=Number(e.stat("googFrameHeightReceived")),n.videoCodec=e.stat("googCodecName")),null),a=e=>{Number(e.stat("audioInputLevel"))>0?(n.audioSentPackets=Number(e.stat("packetsSent")),n.audioSentPacketsLost=Number(e.stat("packetsLost")),n.audioSentBytes=Number(e.stat("bytesSent")),n.audioCodec=e.stat("googCodecName"),n.audioRtt=Number(e.stat("googRtt"))/1e3):Number(e.stat("audioOutputLevel"))>0&&(n.audioRecvPackets=Number(e.stat("packetsReceived")),n.audioRecvPacketsLost=Number(e.stat("packetsLost")),n.audioRecvBytes=Number(e.stat("bytesReceived")),n.audioCodec=e.stat("googCodecName"))};e.getStats((t=>{if(t.result){const i=t.result();E(e,i);const r=(e,t)=>i.filter((n=>n.id===t.stat(e)))[0],s=e=>r("localCandidateId",e),l=e=>r("remoteCandidateId",e);for(let e=0;e<i.length;e++){const t=i[e];t.stat&&("true"===t.stat("googActiveConnection")&&(t.stat("googChannelId").indexOf("audio")>-1?(n.audioLocalAddress=t.stat("googLocalAddress"),n.audioRemoteAddress=t.stat("googRemoteAddress"),n.audioLocalCandidateType=t.stat("googLocalCandidateType"),n.audioRemoteCandidateType=t.stat("googRemoteCandidateType"),n.audioTransportType=t.stat("googTransportType"),n.audioLocalRelayProtocol=(0,c.default)(s(t).stat("priority")),n.audioRemoteRelayProtocol=(0,c.default)(l(t).stat("priority"))):t.stat("googChannelId").indexOf("video")>-1&&(n.videoLocalAddress=t.stat("googLocalAddress"),n.videoRemoteAddress=t.stat("googRemoteAddress"),n.videoLocalCandidateType=t.stat("googLocalCandidateType"),n.videoRemoteCandidateType=t.stat("googRemoteCandidateType"),n.videoTransportType=t.stat("googTransportType"),n.videoLocalRelayProtocol=(0,c.default)(s(t).stat("priority")),n.videoRemoteRelayProtocol=(0,c.default)(l(t).stat("priority")))),Number(t.stat("googAvailableSendBandwidth"))>0&&(n.videoSentEstimatedBandwidth=Number(t.stat("googAvailableSendBandwidth"))),Number(t.stat("googAvailableReceiveBandwidth"))>0&&(n.videoRecvEstimatedBandwidth=Number(t.stat("googAvailableReceiveBandwidth"))),a(t),o(t))}"videoCodec"in n&&!n.videoLocalAddress&&["LocalAddress","RemoteAddress","LocalCandidateType","RemoteCandidateType","TransportType","LocalRelayProtocol","RemoteRelayProtocol"].forEach((e=>{n["video".concat(e)]=n["audio".concat(e)]}))}r(null,n)}))}function Q(e,t,n,i,r){const c=e=>{const t={packetsSent:"videoSentPackets",packetsLost:"videoSentPacketsLost",bytesSent:"videoSentBytes",framesPerSecond:"videoFrameRate",framesSent:"videoFrameRateSent",framesReceived:"videoFramesReceived",frameWidth:"videoWidth",frameHeight:"videoHeight"},i=["videoSentPackets","videoSentBytes"];for(const r in t)if(r in e){const o=t[r];i.includes(o)&&Number.isSafeInteger(n[o])?n[o]+=e[r]:n[o]=e[r]}},d=(r,l)=>{if("outboundrtp"===l?(r.hasOwnProperty("qualityLimitationReason")&&(n.videoBandwidthLimitedResolution="bandwidth"===r.qualityLimitationReason,n.cpuLimitedResolution="cpu"===r.qualityLimitationReason),c(r)):"inboundrtp"===l&&(n.videoRecvPackets=r.packetsReceived,n.videoRecvPacketsLost=r.packetsLost,n.videoRecvBytes=r.bytesReceived,n.videoWidth=r.frameWidth,n.videoHeight=r.frameHeight,n.videoFramesReceived=r.framesReceived),(o.default.isFirefox&&["outboundrtp","inboundrtp"].includes(l)||!i&&"inboundrtp"===l)&&(n.videoFrameRate=(()=>{if(!("videoSentBytes"in n?n.videoSentBytes>0:n.videoRecvBytes>0))return 0;let e=0;if(o.default.isFirefox&&o.default.version<96)e=Number(r.framerateMean);else{const i="outboundrtp"===l?"framesEncoded":"framesDecoded";n[i]=r[i],e=(0,u.default)({currentStatFrames:r[i],currentTimestamp:r.timestamp,prevStatFrames:t[i],prevTimestamp:t.timeStamp||Date.now()})}return e})()),void 0===n.videoCodec&&-1!==["Safari"].indexOf(a.default.env.name)&&void 0!==r.codecId){const t=("answer"===e.remoteDescription.type?e.remoteDescription:e.localDescription).sdp,i=r.codecId.lastIndexOf("_"),o=s.default.getCodecsAndCodecMap(t,"video");-1!==i&&void 0!==o&&(n.videoCodec=o.codecMap[r.codecId.substring(i+1)])}};e.getStats(null).then((t=>{let o,u,A,p,g,I,Q,U;const y=[],b=r=>{const h=r.type.toLowerCase().replace(/[^a-z]/g,""),f=r.id.toLowerCase();if(/(in|out)boundrtp$/.test(h)){const t=/rtp/.test(f),i=t&&/audio/.test(f),o=t&&/video/.test(f),c=i||"audio"===r.kind,l=o||"video"===r.kind;if(c?((t,i)=>{if("outboundrtp"===i?(n.audioSentPackets=t.packetsSent,n.audioSentPacketsLost=t.packetsLost,n.audioSentBytes=t.bytesSent):"inboundrtp"===i&&(n.audioRecvPackets=t.packetsReceived,n.audioRecvPacketsLost=t.packetsLost,n.audioRecvBytes=t.bytesReceived),void 0===n.audioCodec&&-1!==["Safari"].indexOf(a.default.env.name)&&void 0!==t.codecId){const i=("answer"===e.remoteDescription.type?e.remoteDescription:e.localDescription).sdp,r=t.codecId.lastIndexOf("_"),o=s.default.getCodecsAndCodecMap(i,"audio");-1!==r&&void 0!==o&&(n.audioCodec=o.codecMap[t.codecId.substring(r+1)])}})(r,h):l&&d(r,h),r.hasOwnProperty("roundTripTime")){const e=r.mediaType||r.kind;"video"===e?y.push(r.roundTripTime):"audio"===e&&(n.audioRtt=r.roundTripTime)}if("remoteinboundrtp"===h&&r.hasOwnProperty("packetsLost")){const e=r.kind,t="".concat(e,"SentPacketsLost");n[t]||(n[t]=0),n[t]+=r.packetsLost}}else if("transport"===h){const e=r.selectedCandidatePairId,i=r.srtpCipher;n.srtpCipher=i,e&&(p=(0,l.default)(e,t))}else if("localcandidate"===h)o=r.candidateType,A=C(r),I=r.protocol||r.transport;else if("remotecandidate"===h)u=r.candidateType,g=C(r);else if("track"===h&&0!==f.indexOf("video"))Q=r.frameWidth,U=r.frameHeight,c(r);else if("mediasource"===h)r.hasOwnProperty("framesPerSecond")&&(n.videoFrameRate=r.framesPerSecond),r.hasOwnProperty("width")&&(n.videoWidthInput=r.width),r.hasOwnProperty("height")&&(n.videoHeightInput=r.height);else if("candidatepair"===h&&r.hasOwnProperty("availableOutgoingBitrate")){const e="video".concat(i?"Sent":"Recv","EstimatedBandwidth");n[e]=parseInt(r.availableOutgoingBitrate,10)}};if("function"===typeof t[Symbol.iterator]){E(e,Array.from(t));for(var v,R=h(t);!(v=R()).done;){const e=v.value;b(Array.isArray(e)?e[1]:e)}}else{E(e,t);for(const e in t)t.hasOwnProperty(e)&&b(t[e])}if(e.currentRemoteDescription&&(n.useDtx=s.default.hasSendDtx(e.currentRemoteDescription.sdp)),i&&(n.videoRtt=(()=>{if(0===y.length)return null;const e=y.filter((e=>e>0)),t=e.reduce(((e,t)=>e+t),0);return e.length?t/e.length:0})()),(n.audioRecvBytes||n.audioSentBytes)&&(n.audioLocalCandidateType=o,n.audioLocalAddress=A,n.audioRemoteCandidateType=u,n.audioRemoteAddress=g,n.audioTransportType=I,n.audioLocalRelayProtocol=p,void 0===n.audioCodec)){const t=("answer"===e.remoteDescription.type?e.remoteDescription:e.localDescription).sdp,i=s.default.getCodecs(t,"audio");n.audioCodec=i[0]}if((n.videoRecvBytes||n.videoSentBytes)&&(n.videoLocalCandidateType=o,n.videoLocalAddress=A,n.videoRemoteCandidateType=u,n.videoRemoteAddress=g,n.videoTransportType=I,n.videoLocalRelayProtocol=p,void 0===n.videoCodec)){const t=("answer"===e.remoteDescription.type?e.remoteDescription:e.localDescription).sdp,i=s.default.getCodecs(t,"video");n.videoCodec=i[0]}!function(e,t){const n=t?f:m;n.forEach((t=>{e.hasOwnProperty(t)||(e[t]=null)}))}(n,i),n.videoWidth=n.videoWidth||Q,n.videoHeight=n.videoHeight||U,r(null,n)})).catch((function(e){r(e)}))}},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(291));t.default=(e,t)=>{let n="";if(!e||!t)return n;const i=t.get(e);if(i){const e=i.localCandidateId;if(e){const i=t.get(e);if(i){const e=i.relayProtocol,t=i.priority;if(e){const t=e.toUpperCase();n="TURN/".concat(t)}else n=(0,r.default)(t)}}}return n}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;let i=function(){function e(){this.value=null,this.changeCount=0}return e.prototype.onValue=function(e){e&&e!==this.value&&(this.value&&(this.changeCount+=1),this.value=e)},e}();t.default=i},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(51)),o=i(n(3));const a=function(e){void 0===e&&(e={});const t=e.env||o.default;return"Chrome"===t.name&&t.userAgent.toLowerCase().indexOf("android")>-1&&t.version<65};var s={once:(0,r.default)((()=>a())),check:a};t.default=s},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(3));t.default=function(e){void 0===e&&(e={});const t=e.env,n=void 0===t?r.default:t;return!!(n.isiOS&&n.iOSVersion>10)}},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=function(e){let t,n,i,a,s;const c=this;let l=e.archiving;const d=e.archivingStarted||"Archiving on",u=e.archivingEnded||"Archiving off";let h=!0;const A=function(e){a.nodeValue=e,t.setAttribute("title",e)},p=function(){s&&(clearTimeout(s),s=null),l?o.default.addClass(n,"OT_active"):o.default.removeClass(n,"OT_active"),o.default.removeClass(c.domElement,"OT_archiving-".concat(l?"off":"on")),o.default.addClass(c.domElement,"OT_archiving-".concat(l?"on":"off")),e.show&&l?(A(d),o.default.addClass(i,"OT_mode-on"),o.default.removeClass(i,"OT_mode-auto"),c.setDisplayMode("on"),s=setTimeout((()=>{o.default.addClass(i,"OT_mode-auto"),o.default.removeClass(i,"OT_mode-on")}),5e3)):e.show&&!h?(o.default.addClass(i,"OT_mode-on"),o.default.removeClass(i,"OT_mode-auto"),c.setDisplayMode("on"),A(u),s=setTimeout((()=>{c.setDisplayMode("off")}),5e3)):c.setDisplayMode("off")};(0,r.default)(this,{mode:l&&e.show?"on":"off",nodeName:"h1",htmlAttributes:{className:"OT_archiving OT_edge-bar-item OT_edge-bottom"},onCreate(){t=o.default.createElement("div",{className:"OT_archiving-light-box"},""),n=o.default.createElement("div",{className:"OT_archiving-light"},""),t.appendChild(n),i=o.default.createElement("div",{className:"OT_archiving-status OT_mode-on OT_edge-bar-item OT_edge-bottom"},""),a=document.createTextNode(""),i.appendChild(a),c.domElement.appendChild(t),c.domElement.appendChild(i),p()}}),this.setShowArchiveStatus=function(t){e.show=t,c.domElement&&p.call(c)},this.setArchiving=function(e){l=e,h=!1,c.domElement&&p.call(c)}};var r=i(n(41)),o=i(n(7))},function(e,t,i){"use strict";(function(e){var r=i(0);t.__esModule=!0,t.default=function(t){void 0===t&&(t={});const i=t.env||A.default,r=t.Errors||p.default,E=t.otError||(0,g.default)(),C=t.logging||(0,c.default)("getUserMedia"),I=t.screenSharing||(0,f.default)(),Q=t.getDisplayMediaExtensionHelper||m.default,U=t.customGetUserMedia,y=t.global||(void 0!==typeof window?window:n.g),b=t.analytics||new h.default,v=y.navigator,R=y.location,S=function(){const t=(()=>{return U||(v.mediaDevices?(e=v.mediaDevices).getUserMedia.bind(e):void 0);var e})();return t?t(...arguments):e.reject(new Error("Cannot find getUserMedia"))},F=function(){const t=(()=>{return U||(v.mediaDevices&&v.getDisplayMedia?v.getDisplayMedia.bind(v):v.mediaDevices&&v.mediaDevices.getDisplayMedia?(e=v.mediaDevices).getDisplayMedia.bind(e):void 0);var e})();return t?t(...arguments):e.reject(new Error("Cannot find getDisplayMedia"))},B=(()=>{const e={name:r.USER_MEDIA_ACCESS_DENIED,message:"End-user denied permission to hardware devices"},t={name:r.NOT_SUPPORTED,message:"A constraint specified is not supported by the browser."},n={name:r.CONSTRAINTS_NOT_SATISFIED,message:"It's not possible to satisfy one or more constraints passed into the getUserMedia function"},i={name:r.NO_DEVICES_FOUND,message:"No voice or video input devices are available on this machine."},a={name:r.HARDWARE_UNAVAILABLE,message:"The selected voice or video devices are unavailable. Verify that the chosen devices are not in use by another application."},s={name:r.UNABLE_TO_CAPTURE_SCREEN,message:"Unable to capture screen. Unknown error occurred"},c={AbortError:{name:r.UNABLE_TO_CAPTURE_MEDIA,message:"Unable to capture media. Unknown error occurred"},NotAllowedError:e,NotFoundError:i,NotReadableError:a,OverconstrainedError:n,SecurityError:(0,o.default)({},e,{message:"End-user denied permission to hardware devices or user media support may be disabled on this page"}),TypeError:n,PermissionDeniedError:e,PermissionDismissedError:e,NotSupportedError:t,ConstraintNotSatisfiedError:n,MandatoryUnsatisfiedError:n,OverConstrainedError:n,DevicesNotFoundError:i,NoDevicesFoundError:i,HardwareUnavailableError:a,SourceUnavailableError:a,TrackStartError:a,ScreenCaptureError:s,TabCaptureError:s};return(0,u.default)({objectToTrack:c,keys:["PermissionDeniedError","PermissionDismissedError","NotSupportedError","ConstraintNotSatisfiedError","MandatoryUnsatisfiedError","OverConstrainedError","DevicesNotFoundError","NoDevicesFoundError","HardwareUnavailableError","SourceUnavailableError","TrackStartError","ScreenCaptureError","TabCaptureError"],onUsage(e){b.logEvent({action:"DeprecatedPropertyUsage:getUserMedia:errorMap",variation:"Event",payload:{key:e}})}}),c})(),T=(e,t)=>{let n=e;"AbortError"===n&&"string"===typeof t&&t.match(/(screen|tab).?capture/i)&&(n="ScreenCaptureError");const i=B[n];let r;return r=i?E(i.name,new Error("".concat(i.message," (getUserMedia error: ").concat(e,")"))):new Error("Unknown error while getting user media: ".concat(e)),r.originalMessage=t,r.originalName=e,r};return function(t,n){if(void 0===n&&(n=!1),C.debug("getUserMedia wrapper called with",t),function(e){if(!e||!(0,a.default)(e))return!0;for(const t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}(t))return C.error("Couldn't get UserMedia: All constraints were false"),(0,s.default)(e.reject(E(r.NO_VALID_CONSTRAINTS,new Error("Video and Audio was disabled, you need to enable at least one"))));const o=n&&Q.isSupportedInThisBrowser?F:S,c=(0,s.default)(o(t).catch((t=>{const n=(e=>{if((0,a.default)(e)&&e.name){let t=e.name,n=e.message;if("Cannot find getUserMedia"!==n&&"Cannot find getDisplayMedia"!==n||(t="Chrome"===i.name&&i.version>73&&"https:"!==y.location.protocol?"NotAllowedError":"NotSupportedError"),"Safari"===i.name&&"Error"===t){const n=Object.prototype.toString.call(e).match(/^\[object (\w+Error)\]$/);n&&(t=n[1])}const r=T(t,n);return r.constraintName=e.constraint||e.constraintName,r instanceof l.default||b.logEvent({action:"UnexpectedError:getUserMedia:parseErrorEvent",variation:"Event",payload:{name:r.name,message:r.message,originalMessage:r.originalMessage}}),r}if("string"===typeof e){const t=T(e);return b.logEvent({action:"CheckUnreachable:getUserMedia:parseErrorEvent",variation:"Event",payload:{info:"error is string",error:e}}),t}return b.logEvent({action:"CheckUnreachable:getUserMedia:parseErrorEvent",variation:"Event",payload:{info:"error was not string or object with name property",error:e}}),new Error("Unknown error type while getting media")})(t);if(n.name===r.UNABLE_TO_CAPTURE_SCREEN)return new e(((e,t)=>{I.checkCapability((e=>{if("chrome"===e.extensionRequired){if(e.extensionRegistered&&!e.extensionInstalled){const e=E(r.SCREEN_SHARING_EXTENSION_NOT_INSTALLED,n);e.message="Screen sharing extension not installed see https://tokbox.com/developer/guides/screen-sharing/js/#chrome-extension",t(e)}else if(!e.extensionRegistered){const e=E(r.SCREEN_SHARING_EXTENSION_NOT_REGISTERED,n);e.message="Screen sharing extension not registered see https://tokbox.com/developer/guides/screen-sharing/js/#chrome-extension",t(e)}}else t(n)}))}));throw n})).then((e=>(C.debug("got stream:",{stream:e,tracks:e.getTracks(),trackLabels:e.getTracks().map((e=>e.label))}),e)))),u=-1!==R.protocol.indexOf("https")?500:100;let h=!0;const A=()=>{h=!1};return c.then(A,A),(0,d.default)(u).then((()=>{if(!h)return;const e=()=>{c.emit("accessDialogClosed")};c.emit("accessDialogOpened"),c.then(e,e)})),c}};var o=r(i(9)),a=r(i(11)),s=r(i(6)),c=r(i(1)),l=r(i(22)),d=r(i(93)),u=r(i(647)),h=r(i(27)),A=r(i(3)),p=r(i(8)),g=r(i(13)),f=r(i(163)),m=r(i(299))}).call(this,i(2))},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0,t.default=function(e){let t=void 0===e?{}:e,n=t.objectToTrack,i=t.keys,r=t.onUsage;if(!Array.isArray(i)&&void 0!==i)throw new Error("keys must be an array, or undefined");if("function"!==typeof r)throw new Error("onUsage must be a function");if(null==n)throw new Error("Expected objectToTrack to be a trackable object");Object.keys(n).forEach((e=>{if(void 0!==i&&-1===i.indexOf(e))return;let t=n[e];Object.defineProperty(n,e,{get:()=>(r(e),t),set(n){t=n,r(e,t)},enumerable:!0})}))}},function(e,t,i){"use strict";var r=i(0);t.__esModule=!0,t.default=function(e){void 0===e&&(e={});try{const t=()=>{let e=void 0!==typeof window?window:n.g;for(;"function"!==typeof e.require&&e.parent&&e.parent!==e;)e=e.parent;return e},i=()=>{const e=t();return(e.require?e.require("electron"):e.electron).desktopCapturer};d=e.desktopCapturer||(o.default.isElectron?i():null),l=e.isElectronScreenSharingSource||l}catch(t){}return{isSupportedInThisBrowser:null!==d,autoRegisters:!0,extensionRequired:!1,getConstraintsShowsPermissionUI:!1,sources:{screen:!0,application:!0,window:!0,browser:!0},register:()=>({isInstalled:e=>e(!0),getConstraints(e,t,n){l(e)?n(void 0,{audio:!0,video:!1}):A(e,n)}})}};var o=r(i(3)),a=r(i(649)),s=r(i(274));const c=a.default.isCallbackBasedAPI;let l=s.default,d=null;const u=(e,t)=>{d.getSources(e,t)},h=(e,t)=>{d.getSources(e).then((e=>{t(void 0,e)}),t)},A=(e,t)=>{(c?u:h)({types:[e]},((n,i)=>{if(n)return void t(n);const r=i[0];if(!r)return void t(new Error("Could not find Electron source for screensharing"));const o={audio:!1,video:{mandatory:{chromeMediaSource:e,chromeMediaSourceId:r.id}}};t(void 0,o)}))}},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;const r=i(n(3)).default.version<78;var o={isCallbackBasedAPI:r,isPromiseBasedAPI:!r};t.default=o},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(3)),o=i(n(161)),a={isSupportedInThisBrowser:!!r.default.isFirefox&&!o.default,autoRegisters:!0,extensionRequired:!1,extensionInstalled:!1,getConstraintsShowsPermissionUI:!1,sources:{screen:!0,application:!1,window:!0,browser:!1},register:()=>({isInstalled(e){e("object"===typeof OTScreenSharing)},getConstraints(e,t,n){t.video={mediaSource:e},t.browserWindow&&(t.video.browserWindow=t.browserWindow,delete t.browserWindow),"undefined"!==typeof t.scrollWithPage&&(t.video.scrollWithPage=t.scrollWithPage,delete t.scrollWithPage),n(void 0,t)}})};t.default=a},function(e,t,i){"use strict";var r=i(0);t.__esModule=!0,t.default=function(e){void 0===e&&(e={}),["deviceHelpers","getUserMediaHelper"].forEach((t=>{(0,s.default)(e[t],"".concat(t," dependency must be injected into processPubOptions"))}));const t=e.generateConstraintInfo||U.default,i=e.global||(void 0!==typeof window?window:n.g),r=e.logging||(0,A.default)("processPubOptions"),E=e.navigator||i.navigator,S=e.screenSharing||(0,y.default)(),F=e.env||p.default,B=(0,b.default)({navigator:E||{}}),T=e,N=T.deviceHelpers,_=T.getUserMediaHelper;return(e,n,s)=>{var A,p,E;const U=(0,f.default)(e,n,r),y=(0,I.default)(U.videoSource),b=(0,m.default)(U.audioSource),T=(0,m.default)(U.videoSource),w=!b&&null!==U.audioSource,k=!T&&null!==U.videoSource,D=w||k,V=e=>"boolean"===typeof e,Z=!y||b||Q.default,W=(0,d.default)(U,{mirror:!y&&!T,publishAudio:!0,publishVideo:!0,showControls:!0,fitMode:y?"contain":"cover",insertDefaultUI:!0,enableRenegotiation:!1,enableStereo:!1,enableDtx:!1,disableAudioProcessing:!1,echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0}),O=U.audioFallback,J=void 0===O?{}:O,x=U.audioFallbackEnabled;if(W.publisherAudioFallbackEnabled=null!=(A=J.publisher)&&A,W.subscriberAudioFallbackEnabled=null!=(p=null!=(E=J.subscriber)?E:x)?p:!y,void 0===W.videoContentHint||(0,g.isValidVideoContentHint)(W.videoContentHint)||(r.warn("".concat(n,': Invalid content hint. Valid content hints are "text", "detail", "motion", or ""')),W.videoContentHint=""),W.name&&(W.name=String(W.name)),V(W.enableDtx)||(W.enableDtx=!1),V(W.enableStereo)||(W.enableStereo=!1),W.initials&&("string"!==typeof W.initials&&(W.initials=""),W.initials.length>2&&(W.initials="",r.warn("Publisher initials cleared. Only one or two characters allowed for publisher initials.")),W.initials=W.initials.toUpperCase()),W.constraints)r.warn("".concat(n,": You have passed your own constraints not using ours"));else{const e=t(Object.assign({isScreenSharing:y,isCustomAudioTrack:b,isCustomVideoTrack:T},(0,u.default)(W,["audioSource","publishAudio","videoSource","publishVideo","resolution","maxResolution","frameRate","facingMode","enableRenegotiation","enableStereo","disableAudioProcessing","echoCancellation","noiseSuppression","autoGainControl"]),{env:F,usingOptionalMandatoryStyle:B(y)}));(0,l.default)(W,e)}const M={isScreenSharing:y,isCustomAudioTrack:b,isCustomVideoTrack:T,shouldAllowAudio:Z,properties:W};return(0,h.default)(M),M.getUserMedia=(0,a.default)(o.default.mark((function e(){var t,l,d,u,h,A,p,g,f;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return M.emit("accessDialogOpened",...t)},l=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return M.emit("accessDialogClosed",...t)},D){e.next=7;break}return d=new i.MediaStream,b&&d.addTrack(U.audioSource),T&&d.addTrack(U.videoSource),e.abrupt("return",d);case 7:if(!y){e.next=15;break}return e.next=10,S.getConstraints({onAccessDialogOpened:t,onAccessDialogClosed:l,videoSource:U.videoSource,constraints:W.constraints});case 10:if(W.constraints=e.sent,!s()){e.next=13;break}throw v(C.default.CANCEL,new Error(R));case 13:e.next=25;break;case 15:return e.next=17,N.shouldAskForDevices();case 17:if(u=e.sent,!s()){e.next=20;break}throw v(C.default.CANCEL,new Error(R));case 20:r.debug("".concat(n,": shouldAskForDevices:"),u),u.video||(r.warn("".concat(n,": Setting video constraint to false, there are no video sources")),W.constraints.video=!1),u.audio||(r.warn("".concat(n,": Setting audio constraint to false, there are no audio sources")),W.constraints.audio=!1),M.videoDevices=u.videoDevices,M.audioDevices=u.audioDevices;case 25:if(h=W.constraints,r.debug("".concat(n,": onConstraintsFound"),h),!s()){e.next=29;break}throw v(C.default.CANCEL,new Error(R));case 29:return A="Failed to acquire functional stream, this might be caused by the following iOS bug: https://bugs.webkit.org/show_bug.cgi?id=188088",p="Failed to acquire functional stream, this might be caused by the following iOS bug: https://bugs.webkit.org/show_bug.cgi?id=204106",g=e=>"NotReadableError"===e.originalName&&"Failed starting capture of a video track"===e.originalMessage,f=function(){var e=(0,a.default)(o.default.mark((function e(){var i,a,s;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(i=_(h,y)).on("accessDialogOpened",t),i.on("accessDialogClosed",l),e.prev=3,e.next=6,i;case 6:if(a=e.sent,!(F.isiOS&&W.publishVideo&&a.getVideoTracks().length&&"ended"===a.getVideoTracks()[0].readyState)){e.next=11;break}throw a.getTracks().forEach((e=>e.stop())),new Error(A);case 11:return e.abrupt("return",a);case 14:if(e.prev=14,e.t0=e.catch(3),!F.isiOS){e.next=34;break}if(!(g(e.t0)&&F.iOSVersion>=13&&F.iOSVersion<13.4)){e.next=32;break}return e.prev=18,s=_({audio:!0,video:!1},!1),e.next=22,s;case 22:e.sent.getTracks().forEach((e=>e.stop())),e.next=29;break;case 26:e.prev=26,e.t1=e.catch(18),r.debug("".concat(n,": error disposing audio track"),e.t1);case 29:throw new Error(p);case 32:if(e.t0.name!==C.default.HARDWARE_UNAVAILABLE){e.next=34;break}throw new Error(A);case 34:throw e.t0;case 35:return e.prev=35,setTimeout((()=>{i.off("accessDialogOpened",t),i.off("accessDialogClosed",l)})),e.finish(35);case 38:case"end":return e.stop()}}),e,null,[[3,14,35,38],[18,26]])})));return function(){return e.apply(this,arguments)}}(),e.next=35,(0,c.default)(f,((e,t)=>!(![A,p].includes(e.message)||1!==t||s())&&1e3))();case 35:if(d=e.sent,!s()){e.next=39;break}throw d.getTracks().forEach((e=>{e.stop()})),v(C.default.CANCEL,new Error(R));case 39:return b&&d.addTrack(U.audioSource),T&&d.addTrack(U.videoSource),e.abrupt("return",d);case 42:case"end":return e.stop()}}),e)}))),M}};var o=r(i(4)),a=r(i(5)),s=r(i(152)),c=r(i(300)),l=r(i(9)),d=r(i(131)),u=r(i(40)),h=r(i(6)),A=r(i(1)),p=r(i(3)),g=i(301),f=r(i(652)),m=r(i(302)),E=r(i(13)),C=r(i(8)),I=r(i(153)),Q=r(i(273)),U=r(i(263)),y=r(i(163)),b=r(i(653));const v=(0,E.default)(),R="getUserMedia request was aborted"},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(42)),o=i(n(3)),a=i(n(302)),s=(e,t,n)=>{const i=e&&"object"===typeof e?(0,r.default)(e):{};if(!1===i.audioSource&&(i.audioSource=null),!1===i.videoSource&&(i.videoSource=null),void 0===i.minVideoBitrate||"number"===typeof i.minVideoBitrate&&i.minVideoBitrate>0||(n.warn("".concat(t,": Invalid minVideoBitrate in publisher properties. minVideoBitrate must ")+"be a positive number"),delete i.minVideoBitrate),void 0===i.audioBitrate||i.audioBitrate>=6e3&&i.audioBitrate<=51e4||(n.warn("".concat(t,": Invalid audioBitrate in publisher properties. audioBitrate must ")+"be a number between ".concat(6e3," and ").concat(51e4," bits per second")),delete i.audioBitrate),"Firefox"===o.default.name&&o.default.version<49){const e="Firefox 48 and below";(0,a.default)(i.audioSource)&&(i.audioSource=null,n.warn("".concat(t,": Cannot use custom tracks with ").concat(e,". Setting audioSource to null"))),(0,a.default)(i.videoSource)&&(i.videoSource=null,n.warn("".concat(t,": Cannot use custom tracks with ").concat(e,". Setting videoSource to null")))}return i};t.default=s},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=function(e){let t=(void 0===e?{}:e).navigator,n=void 0===t?window.navigator:t;return function(e){return e&&!o.default||!(n.mediaDevices&&n.mediaDevices.getUserMedia)||"Chrome"===a&&s<61}};var r=i(n(3)),o=i(n(272));const a=r.default.name,s=r.default.version},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=function(e){void 0===e&&(e={}),["processPubOptions"].forEach((t=>{if(!e[t])throw new Error("".concat(t," dependency must be injected into OT.getUserMedia"))}));const t=e.logging||(0,r.default)("getUserMedia"),n=e.processPubOptions;return function(e){return void 0===e&&(e={}),n(e,"OT.getUserMedia",(()=>!1)).getUserMedia().catch((e=>{throw t.error("OT.getUserMedia failed to getUserMedia: ".concat(e)),e}))}};var r=i(n(1))},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(14)),o=i(n(1)),a=i(n(75)),s=n(25);const c=(0,o.default)("AudioFallbackState");var l=function(e){void 0===e&&(e={});const t=e.logAnalyticsEvent,n=new r.default;let i=s.CongestionLevels.LOW,o=a.default.ACTIVE_VIDEO;const l=e=>{o=e,n.emit("stateChange",{state:e})},d={[s.CongestionLevels.LOW]:()=>{i=s.CongestionLevels.LOW,l(a.default.ACTIVE_VIDEO)},[s.CongestionLevels.MEDIUM]:()=>{i===s.CongestionLevels.LOW&&l(a.default.ACTIVE_VIDEO_WITH_WARNING),i=s.CongestionLevels.MEDIUM},[s.CongestionLevels.CRITICAL]:()=>{i=s.CongestionLevels.CRITICAL,l(a.default.SUSPENDED_VIDEO)}};return Object.assign(n,{setCongestionLevel(e,n){if(i===e)return;const r=d[e];r?(r(n),function(e,n){var i,r;void 0===n&&(n={}),t("congestionLevelChanged","Event",n.payload,{congestionLevel:e,algorithm:n.algorithm,audioPL:n.audioPacketLoss,videoPL:n.videoPacketLoss,videoSentEstimatedBandwidth:parseInt(n.bandwidth,10),videoHeight:null==(i=n.resolution)?void 0:i.height,videoWidth:null==(r=n.resolution)?void 0:r.width})}(e,n)):c.warn("Invalid congestion level: ".concat(e))},getState:()=>({videoState:o,congestionLevel:i}),setInternalState(e){o=e.videoState,i=e.congestionLevel},reset(){i=s.CongestionLevels.LOW,o=a.default.ACTIVE_VIDEO}})};t.default=l},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(657)),o=i(n(14)),a=i(n(658)),s=i(n(659)),c=i(n(305)),l=i(n(306)),d=i(n(661)),u=n(25),h=i(n(662)),A=function(e){void 0===e&&(e={});const t=new o.default,n=e,i=n.getStats,A=n.createMovingAverageTracker,p=void 0===A?l.default:A,g=n.createTimeBasedCongestionLevel,f=void 0===g?a.default:g,m=n.createBasicCongestionLevel,E=void 0===m?s.default:m,C=n.createCongestionLevelStats,I=void 0===C?c.default:C,Q=n.getFairQualityBandwidthForResolution,U=void 0===Q?d.default:Q,y=f(),b=E(),v=p(),R=p(),S=p();let F;const B=(0,h.default)(),T=e=>{let t=e.timeLevel,n=e.basicLevel;return n===t?"basic,timeBased":n>t?"basic":"timeBased"},N=()=>{const e=0===v.getDataPointCount()?u.LOW:y.getLevel({audioPacketLoss:v.getMovingAverageValue()}),n=0===S.getDataPointCount()||0===v.getDataPointCount()?u.LOW:b.getLevel({bandwidth:S.getMovingAverageValue(),audioPacketLoss:v.getMovingAverageValue(),bandwidthFairThreshold:U(F)}),i=Math.max(e,n);t.emit("congestionLevel",i,(e=>{let t=e.congestionLevel,n=e.timeLevel,i=e.basicLevel;if(t!==u.LOW)return{resolution:F,algorithm:T({timeLevel:n,basicLevel:i}),videoPacketLoss:R.getMovingAverageValue(),audioPacketLoss:v.getMovingAverageValue(),bandwidth:S.getMovingAverageValue(),payload:B.getCsvString()}})({congestionLevel:i,timeLevel:e,basicLevel:n}))},_=e=>{let t=e.audioPacketLoss,n=e.videoPacketLoss,i=e.bandwidth,o=e.videoResolution;F&&!(0,r.default)(F,o)&&(v.reset(),R.reset(),S.reset()),F=o,S.addValue(i),R.addValue(n),v.addValue(t),(e=>{let t=e.audioPacketLoss,n=e.videoPacketLoss,i=e.bandwidth;B.addData({timestamp:Date.now(),rawAudioPL:t.toFixed(3),rawVideoPL:n.toFixed(3),rawBW:parseInt(i,10),videoWidth:F.width,videoHeight:F.height,avgAudioPL:v.getMovingAverageValue().toFixed(3),avgVideoPL:R.getMovingAverageValue().toFixed(3),avgBW:parseInt(S.getMovingAverageValue(),10)})})({audioPacketLoss:t,videoPacketLoss:n,bandwidth:i}),N()},w=I(i);return w.on("statsAvailable",(e=>{_(e)})),Object.assign(t,{start(){w.start()},stop(){w.stop(),B.reset()}})};t.default=A},function(e,t,n){var i=n(145);e.exports=function(e,t){return i(e,t)}},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(166)),o=n(25),a=function(e){void 0===e&&(e={});const t=Object.assign({},r.default,e);let n,i=!1;return{getLevel(e){if(e.audioPacketLoss<t.packetLossCriticalThreshold)return i=!1,o.LOW;const r=Date.now();return i||(n=r,i=!0),r>n+t.criticalCongestionPeriod?o.CRITICAL:r>n+t.criticalCongestionPeriod/2?o.MEDIUM:o.LOW}}};t.default=a},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(166)),o=n(25),a=function(e){void 0===e&&(e={});const t=Object.assign({},r.default,e);return{getLevel(e){let n,i=e.bandwidth,r=e.audioPacketLoss,a=e.bandwidthFairThreshold;if(i<=0)return n=r>t.packetLossCriticalThresholdMediumBw?o.CRITICAL:o.LOW,n;if(n=i>=a?o.LOW:i>=t.bandwidthCriticalThreshold?i>=(t.bandwidthCriticalThreshold+a)/2?r>2*t.packetLossCriticalThresholdMediumBw?o.CRITICAL:o.MEDIUM:r>t.packetLossCriticalThresholdMediumBw?o.CRITICAL:o.MEDIUM:r>t.packetLossCriticalThreshold?o.CRITICAL:o.MEDIUM,void 0===n)throw new Error("undefined congestion level");return n}}};t.default=a},function(e,t,n){"use strict";t.__esModule=!0,t.parseStats=t.getVideoResolution=t.getVideoPacketStats=t.getVideoPacketLoss=t.getSelectedCandidatePairId=t.getBandwidth=t.getAudioPacketStats=t.getAudioPacketLoss=void 0;const i=(e,t)=>{const n=e.filter((e=>{let n=e.type,i=e.kind;return"outbound-rtp"===n&&i===t})),i=e.filter((e=>{let n=e.type,i=e.kind;return"remote-inbound-rtp"===n&&i===t})),r=i[0].timestamp,o=i[0].fractionLost,a=n.reduce(((e,t)=>e+t.packetsSent),0),s=i.reduce(((e,t)=>e+t.packetsLost),0);return{["".concat(t,"ReportTimestamp")]:r,["".concat(t,"PacketsSent")]:a,["".concat(t,"PacketsLost")]:s,["".concat(t,"FractionLost")]:o}},r=e=>e.filter((e=>{let t=e.type,n=e.kind;return"outbound-rtp"===t&&"video"===n})).filter((e=>void 0!==e.frameHeight&&void 0!==e.frameWidth)).reduce(((e,t)=>({width:Math.max(e.width,t.frameWidth),height:Math.max(e.height,t.frameHeight)})),{width:0,height:0});t.getVideoResolution=r;const o=e=>i(e,"audio");t.getAudioPacketStats=o;const a=e=>i(e,"video");t.getVideoPacketStats=a;const s=e=>{const t=e.find((e=>"transport"===e.type));return null==t?void 0:t.selectedCandidatePairId};t.getSelectedCandidatePairId=s;const c=e=>{const t=((e,t)=>{if(t){const n=e.find((e=>{let n=e.id,i=e.type;return n===t&&"candidate-pair"===i}));return null==n?void 0:n.availableOutgoingBitrate}})(e,s(e));if(void 0!==t)return t;const n=e.find((e=>{let t=e.type,n=e.availableOutgoingBitrate;return"candidate-pair"===t&&void 0!==n}));return null==n?void 0:n.availableOutgoingBitrate};t.getBandwidth=c,t.parseStats=e=>{const t=o(e),n=t.audioPacketsSent,i=t.audioPacketsLost,s=t.audioReportTimestamp,l=t.audioFractionLost,d=a(e),u=d.videoPacketsSent,h=d.videoPacketsLost,A=d.videoReportTimestamp;return{bandwidth:c(e),audioFractionLost:l,audioReportTimestamp:s,audioPacketsSent:n,audioPacketsLost:i,videoReportTimestamp:A,videoPacketsSent:u,videoPacketsLost:h,videoResolution:r(e)}};const l=(e,t,n)=>{const i=t["".concat(e,"PacketsSent")]-n["".concat(e,"PacketsSent")],r=t["".concat(e,"PacketsLost")]-n["".concat(e,"PacketsLost")];return o=r,0===(a=i)?0:o/a;var o,a};t.getAudioPacketLoss=(e,t)=>l("audio",e,t),t.getVideoPacketLoss=(e,t)=>l("video",e,t)},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;const i=[{width:"320",height:"180",fairQualityBitrate:12e4},{width:"320",height:"240",fairQualityBitrate:12e4},{width:"352",height:"288",fairQualityBitrate:125e3},{width:"480",height:"270",fairQualityBitrate:125e3},{width:"640",height:"360",fairQualityBitrate:15e4},{width:"640",height:"480",fairQualityBitrate:15e4},{width:"960",height:"540",fairQualityBitrate:15e4},{width:"1280",height:"720",fairQualityBitrate:4e5},{width:"1920",height:"1080",fairQualityBitrate:5e5}].sort(((e,t)=>e.fairQualityBitrate-t.fairQualityBitrate)),r=25e4,o=i.reduce(((e,t)=>{let n=t.fairQualityBitrate;return Math.max(e,n)}),r);var a=e=>{var t;let n=e.width,a=e.height;return n&&a?(null==(t=i.find((e=>{let t=e.height,i=e.width;return a*n<=t*i})))?void 0:t.fairQualityBitrate)||o:r};t.default=a},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(40));const o=["timestamp","rawAudioPL","rawVideoPL","rawBW","videoWidth","videoHeight","avgAudioPL","avgVideoPL","avgBW"];var a=function(e){void 0===e&&(e=10);let t=[];return{addData(n){t.push((0,r.default)(n,o)),t.length>e&&t.shift()},reset(){t=[]},getCsvString(){const e=t.map((e=>o.map((t=>e[t])).join(",")));return[o.join(","),...e].join("\r\n")}}};t.default=a},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(14)),o=i(n(664)),a=n(25),s=i(n(307)),c=function(e){void 0===e&&(e={});const t=new r.default,n=e,i=n.getStats,c=n.setVideoActive,l=n.createNetworkProbe,d=void 0===l?o.default:l;let u,h;const A=()=>{var e,t;null==(e=u)||e.removeAllListeners(),clearTimeout(h),null==(t=u)||t.stop(),u=void 0};return Object.assign(t,{start:function(e){let n=(void 0===e?{}:e).getDelayForProbeNumber,r=void 0===n?s.default:n;u&&A(),u=d({getStats:i});let o=0;const l=()=>{const e=r(o);o++,h=setTimeout((()=>{c(!0),u.start()}),e)};u.on("probeResult",(e=>{e===a.LOW?t.emit("networkRecovered"):(c(!1),l())})),l()},stop:A})};t.default=c},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(14)),o=i(n(665)),a=n(25),s=i(n(1)),c=n(167);const l=(0,s.default)("networkProbe"),d=10*c.ONE_SECOND_IN_MS;var u=function(e){void 0===e&&(e={});const t=new r.default,n=e,i=n.getStats,s=n.createRecoveryCongestionLevelCalculator;let c;const u=(void 0===s?o.default:s)({getStats:i}),h=e=>{u.stop(),l.info("Network probe result ".concat(e)),t.emit("probeResult",e)};return u.on("congestionLevel",(e=>{const t=Date.now()-c;e===a.CRITICAL?h(a.CRITICAL):t>d&&(e===a.LOW?h(a.LOW):h(a.CRITICAL))})),Object.assign(t,{start(){c=Date.now(),l.info("Start network probe"),u.start()},stop(){l.info("Stop network probe"),u.stop()}})};t.default=u},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(14)),o=i(n(666)),a=i(n(305)),s=i(n(306)),c=n(25),l=function(e){void 0===e&&(e={});const t=new r.default,n=e,i=n.getStats,l=n.createMovingAverageTracker,d=void 0===l?s.default:l,u=n.createBandwidthCongestionLevel,h=void 0===u?o.default:u,A=n.createCongestionLevelStats,p=void 0===A?a.default:A,g=h(),f=d(),m=d(),E=p(i),C=()=>{E.stop(),f.reset(),m.reset()};return E.on("statsAvailable",(e=>{let n=e.audioPacketLoss,i=e.videoPacketLoss;f.addValue(n),m.addValue(i);const r=0===m.getDataPointCount()||0===f.getDataPointCount()?c.LOW:g.getLevel({audioPacketLoss:f.getMovingAverageValue(),videoPacketLoss:m.getMovingAverageValue()});t.emit("congestionLevel",r)})),Object.assign(t,{start(){E.start()},stop(){C()}})};t.default=l},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(166)),o=n(25),a=function(e){void 0===e&&(e={});const t=Object.assign({},r.default,e).packetLossCriticalThreshold,n=.5*t,i=.8*t,a=.5*i;return{getLevel(e){let r=e.audioPacketLoss,s=e.videoPacketLoss;return r>i||s>t?o.CRITICAL:r>a||s>n?o.MEDIUM:o.LOW}}};t.default=a},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(3));const o=e=>e>=15&&e<15.4;t.default=e=>!!(e=e||r.default).isiPad||(e.isiPhone?o(e.iOSVersion):!!e.isSafari&&o(e.version))},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;const i=[{width:320,height:180,maxBitrate:3e5},{width:320,height:240,maxBitrate:4e5},{width:352,height:288,maxBitrate:5e5},{width:480,height:270,maxBitrate:55e4},{width:640,height:360,maxBitrate:8e5},{width:640,height:480,maxBitrate:8e5},{width:960,height:540,maxBitrate:11e5},{width:1280,height:720,maxBitrate:25e5},{width:1920,height:1080,maxBitrate:45e5}].sort(((e,t)=>e.maxBitrate-t.maxBitrate)),r=45e5;var o=(e,t)=>{var n;return e&&t&&(null==(n=i.find((n=>{let i=n.height,r=n.width;return t*e<=i*r})))?void 0:n.maxBitrate)||r};t.default=o},function(e,t,n){var i=n(63),r=n(105),o=n(39);e.exports=function(e,t){var n={};return t=o(t,3),r(e,(function(e,r,o){i(n,r,t(e,r,o))})),n}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){const n=setTimeout((()=>{e(((e,n)=>{if(!e)for(let i=0;i<n.length;i+=1){const e=n[i];-1===e.id.indexOf("_send")||"ssrc"!==e.type||"audio"!==e.kind&&"audio"!==e.mediaType||0!==parseInt(e.bytesSent,10)||t()}}))}),3e3);return function(){clearTimeout(n)}}},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=n(167),o=i(n(307)),a=e=>0===e?5*r.ONE_SECOND_IN_MS:(0,o.default)(e-1);t.default=a},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=function(){return function(e,t){const n={},i=[];let c=!1,l=!1;this._id=(0,r.default)();const d=()=>{this.trigger("iceConnected"),c=!0};(0,o.default)(this);const u=t.getPeerConnection(e,this);u.on({iceConnected:d,close:()=>this.trigger("close"),signalingStateChange:e=>this.trigger("signalingStateChange",e),signalingStateStable:e=>this.trigger("signalingStateStable",e),error:e=>{let t=e.reason,n=e.prefix;return this.trigger("error",t,n)},qos:e=>{e.parsedStats.isSinglePeerConnection=!0,this.trigger("qos",e)},iceConnectionStateChange:e=>this.trigger("iceConnectionStateChange",e),remoteVideoSupported:e=>this.trigger("remoteVideoSupported",e),negotiationNeeded:()=>{l&&(l=!1,t.removeFromSinglePeerConnection(this._id))}},this),this._onTrackAdded=e=>{const r=e.track,o=e.transceiver;n[r.id]=o.mid,t.addSubscriberMid(o.mid,this._id),i.push(r),u.iceConnectionStateIsConnected()&&!c&&d(),this.trigger("trackAdded",e)},this.disconnect=()=>{l=!0,t.removeSubscriber(this._id,Object.values(n))},this.removeTrack=e=>{n[e.id]&&t.removeSubscriber(this._id,[n[e.id]]),(0,a.default)(i,e),t.removeTrack(e,this._id)},this.remoteTracks=()=>i,this.generateOfferAndSend=()=>u.generateOfferAndSend(),this.getDataChannel=(e,t,n)=>{u.getDataChannel(e,t,n)},this.getSourceStreamId=()=>u.getSourceStreamId(),this.processMessage=(e,n)=>{if("offer"===e||"answer"===e){const i=t.processRemoteSdp(e,n);n.content.sdp=i}u.processMessage(e,n),"answer"===e&&t.subscriberComplete()},this.remoteDescription=()=>u.remoteDescription(),this.getStats=(e,t)=>{e?u.getStats(e,t):(0,s.collectGetStatsHelper)(u,i,t)},this.getSynchronizationSources=e=>{u.getSynchronizationSources(e)},this.getRtcStatsReport=(e,t)=>{e?u.getRtcStatsReport(e,t):(0,s.collectRtcStatsReportHelper)(u,i,t)},this.remoteStreams=()=>u.remoteStreams(),this.hasRelayCandidates=()=>u.hasRelayCandidates(),this.iceRestart=()=>u.iceRestart(),this.iceConnectionStateIsConnected=()=>u.iceConnectionStateIsConnected()}};var r=i(n(16)),o=i(n(6)),a=i(n(311)),s=n(673)},function(e,t,n){"use strict";(function(e){var i=n(0);t.__esModule=!0,t.collectStatsHelper=t.collectRtcStatsReportHelper=t.collectGetStatsHelper=void 0;var r=i(n(4)),o=i(n(5)),a=i(n(168));const s=function(){var t=(0,o.default)(r.default.mark((function t(n,i){var o,s,c,l,d,u,h;return r.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===n&&(n={}),s=(o=n).tracks,c=o.getStats,l=o.merge,d=(0,a.default)(c),t.prev=3,t.next=6,e.all(s.map((e=>d(e))));case 6:h=t.sent,u=h.reduce(l),t.next=14;break;case 10:return t.prev=10,t.t0=t.catch(3),i(t.t0),t.abrupt("return");case 14:i(null,u);case 15:case"end":return t.stop()}}),t,null,[[3,10]])})));return function(e,n){return t.apply(this,arguments)}}();t.collectStatsHelper=s,t.collectGetStatsHelper=(e,t,n)=>{s({tracks:t,getStats:(t,n)=>e.getStats(t,n),merge:function(e,t){return void 0===e&&(e=[]),[...e,...t]}},n)},t.collectRtcStatsReportHelper=(e,t,n)=>{s({tracks:t,getStats:(t,n)=>e.getRtcStatsReport(t,n),merge:function(e,t){return void 0===e&&(e={}),Object.assign({},e,t)}},n)}}).call(this,n(2))},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t,n){void 0===n&&(n=!1);let r=null,o=0,a=null,s=n;const c=e=>"inbound-rtp"===e.type&&"audio"===(e.kind||e.mediaType),l=e=>e.id===a&&"track"===e.type&&"audio"===(e.kind||e.mediaType),d=setInterval((()=>{e(((e,n)=>{if(e)return;const i=n.find(c)||{};a=i.trackId;const u=n.find(l);if(u){const e=u.audioLevel,n=u.totalSamplesReceived;if(void 0===e)return;((e,t)=>e===r&&t===o)(e,n)?(clearInterval(d),t("audioLevelStuck")):((e,t)=>!s&&0===e&&0===r&&t>o)(e,n)&&(clearInterval(d),t("audioLevelStuckAt0")),r=e,o=n}}))}),500);return n||setTimeout((()=>{s=!0}),i),{stop:()=>{clearInterval(d)}}};const i=3e3},function(e,t,n){"use strict";(function(e){var i=n(0);t.__esModule=!0,t.default=function(t){void 0===t&&(t={});const n=t.analytics||d,i=t.errors||l.default,a=t.ExceptionCodes||o.default,u=t.otError||(0,c.default)(),h=t.sessionObjects||s.default,A=t.uuid||r.default;return function(t){void 0===t&&(t=()=>{});const r=A();function o(e){e?t(u(i.REPORT_ISSUE_FAILED,new Error("Error calling OT.reportIssue(). Check the client's network connection."),a.REPORT_ISSUE_ERROR)):t(null,r)}0===h.sessions.length()?n.logEvent({action:"ReportIssue",variation:"Event",payload:{reportIssueId:r}},null,o):e.all(h.sessions.map((e=>e.reportIssue({id:r})))).then((()=>o()),(e=>o(e)))}};var r=i(n(16)),o=i(n(10)),a=i(n(27)),s=i(n(24)),c=i(n(13)),l=i(n(8));const d=new a.default}).call(this,n(2))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(313),a=(i=o)&&i.__esModule?i:{default:i},s=function(){},c=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.internalIsCanceled=!1,this.listeners=[]}return r(e,[{key:"isCanceled",value:function(){return this.internalIsCanceled}},{key:"cancel",value:function(){this.internalIsCanceled||(this.internalIsCanceled=!0,this.listeners.forEach((function(e){return e()})),this.listeners=null)}},{key:"throwIfCanceled",value:function(){if(this.internalIsCanceled)throw new a.default("Operation has been canceled.")}},{key:"onCancel",value:function(e){var t=this;return this.internalIsCanceled?s:(this.listeners.push(e),function(){if(t.listeners){var n=t.listeners.indexOf(e);-1!==n&&t.listeners.splice(n,1)}})}},{key:"fork",value:function(){if(this.internalIsCanceled)return e.CANCELED;var t=new e;return this.onCancel((function(){return t.cancel()})),t}}]),e}();t.default=c,c.CANCELED=new c,c.CANCELED.internalIsCanceled=!0},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){return void 0===t&&(t="px"),String(parseFloat(e,10))===String(e).trim()?"".concat(String(e).trim()).concat(t):e}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0,t.default=e=>{let t=e.window,n=!1;try{const e=Object.defineProperty({},"passive",{get(){n=!0}});t.addEventListener("testPassive",null,e),t.removeEventListener("testPassive",null,e)}catch(i){}return n}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0,t.default=e=>{const t=document.createElementNS("http://www.w3.org/2000/svg","svg");t.setAttribute("viewBox","0 0 300 300"),t.setAttribute("style","width: 50%; dominant-baseline: middle; text-anchor: middle;");const n=(()=>{const e=document.createElementNS("http://www.w3.org/2000/svg","circle");return e.setAttribute("cx","50%"),e.setAttribute("cy","50%"),e.setAttribute("r","50%"),e.setAttribute("fill","%23000000"),e})(),i=(e=>{const t=document.createElementNS("http://www.w3.org/2000/svg","text");t.setAttribute("x","50%"),t.setAttribute("y","50%"),t.setAttribute("dy","5%"),t.setAttribute("line-height","133%"),t.setAttribute("font-size","108"),t.setAttribute("font-weight","500"),t.setAttribute("font-style","normal"),t.setAttribute("fill","%23FFFFFF"),t.setAttribute("font-family","spezia,sans-serif"),t.setAttribute("dominant-baseline","middle"),t.setAttribute("text-anchor","middle");const n=document.createTextNode(e);return t.appendChild(n),t})(e);return t.appendChild(n),t.appendChild(i),t}},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=function(e,t){let n,i;if(e&&e.nodeName?(n=e,n.getAttribute("id")&&0!==n.getAttribute("id").length||n.setAttribute("id","OT_".concat((0,r.default)())),i=n.getAttribute("id")):e&&(n=document.getElementById(e),n&&(i=e)),i||(i="OT_".concat((0,r.default)().replace(/-/g,"_"))),!n)return n=document.createElement("div"),n.id=i,n.setAttribute("id",i),n.style.backgroundColor="#000000",document.body.appendChild(n),n;const o=document.createElement("div");switch(o.id="OT_".concat((0,r.default)()),t){case"append":return n.appendChild(o),o;case"before":return n.parentNode.insertBefore(o,n),o;case"after":return n.parentNode.insertBefore(o,n.nextSibling),o;default:for(;n.firstChild;)n.removeChild(n.firstChild);return n}};var r=i(n(16))},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=function(e){const t=e.clientWidth,n=e.clientHeight;e.classList.remove("OT_micro"),e.classList.remove("OT_mini"),(t<s||n<c)&&(e.classList.add("OT_micro"),r.debug("OT_micro class added",{clientWidth:t,clientHeight:n,microWidth:s,microHeight:c})),(t<o||n<a)&&(e.classList.add("OT_mini"),r.debug("OT_mini class added",{clientWidth:t,clientHeight:n,miniWidth:o,miniHeight:a}))};const r=(0,i(n(1)).default)("WidgetView:fixMini"),o=128,a=128,s=64,c=64},function(e,t,n){"use strict";(function(e){var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(314)),o=i(n(157)),a=i(n(57));(0,i(n(106)).default)();var s=function(t,n){void 0===n&&(n=5e3);const i=(0,a.default)(t),s=new e((e=>{i.on("timeupdate",e),i.on("loadedmetadata",e)}));return(0,r.default)((0,o.default)(s,n,(()=>!1)),(()=>i.removeAll()))};t.default=s}).call(this,n(2))},function(e,t,n){"use strict";(function(e){var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(314)),o=i(n(157)),a=i(n(57));(0,i(n(106)).default)();var s=function(t,n){const i=(0,a.default)(t),s=new e((e=>{const n=()=>{(t.videoWidth()>2||t.videoHeight()>2)&&e(!0)};i.on("videoDimensionsChanged",n),n()}));return(0,r.default)((0,o.default)(s,n,(()=>!1)),(()=>i.removeAll()))};t.default=s}).call(this,n(2))},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0,t.default={MANTIS:"MANTIS",P2P:"P2P",TRANSITIONING:"TRANSITIONING"}},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(72)),o=e=>{let t=e.connectivityState,n=e.logAttempt;const i=new r.default(n,.2,6);t.observe({onEnterConnecting(){i.start()},onEnterDisconnected(){i.stop()},onEnterConnected(){i.stop()}})};t.default=o},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(318)),o=e=>{let t=e.onInvalidTransition;return new r.default({init:"disconnected",transitions:[{name:"beginConnect",from:"disconnected",to:"connecting"},{name:"connect",from:"connecting",to:"connected"},{name:"fail",from:["connecting","connected"],to:"disconnected"},{name:"cancel",from:["connecting","connected"],to:"disconnected"},{name:"disconnect",from:["connecting","connected"],to:"disconnected"}],methods:{onInvalidTransition:t}})};t.default=o},function(e,t,n){"use strict";(function(e){var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(4)),o=i(n(5)),a=i(n(72));t.default=function(t){let n=(void 0===t?{}:t).asynchronous;return void 0!==n&&n?function(t,n){let i=void 0===n?{}:n,s=i.frequency,c=void 0===s?10:s,l=i.timeout,d=void 0===l?2e3:l;return new e(((e,n)=>{let i;const s=new a.default((0,o.default)(r.default.mark((function n(){var a,c;return r.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c=function(){return(c=(0,o.default)(r.default.mark((function e(){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t();case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",!1);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)},a=function(){return c.apply(this,arguments)},n.next=4,a();case 4:n.sent&&(clearTimeout(i),s.stop(),e());case 6:case"end":return n.stop()}}),n)}))),c);i=setTimeout((()=>{s.stop(),n(new Error("TIMEOUT"))}),d),s.start()}))}:function(t,n){let i=void 0===n?{}:n,r=i.frequency,o=void 0===r?60:r,s=i.timeout,c=void 0===s?2e3:s;return new e(((e,n)=>{let i;const r=new a.default((()=>{(function(){try{return t()}catch(e){return!1}})()&&(clearTimeout(i),r.stop(),e())}),o);i=setTimeout((()=>{r.stop(),n(new Error("TIMEOUT"))}),c),r.start()}))}}}).call(this,n(2))},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0,t.default=e=>{let t=e.connectivityState,n=e.onWarning,i=e.onTimeout,r=e.warningMs,o=e.timeoutMs;const a=[],s=()=>{a.forEach((e=>clearTimeout(e)))};t.observe({onEnterConnecting(){a.push(setTimeout(n,r),setTimeout(i,o))},onEnterConnected:s,onEnterDisconnected:s})}},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(10)),o=i(n(13)),a=i(n(8));const s=(0,o.default)();t.default=e=>"404"===String(e.code)?s(a.default.STREAM_NOT_FOUND,new Error("stream not found"),r.default.UNABLE_TO_SUBSCRIBE):"409"===String(e.code)&&"streamLimitExceeded"===e.message?s(a.default.STREAM_LIMIT_EXCEEDED,new Error("The limit for concurrent streams in the session has been reached"),r.default.STREAM_LIMIT_EXCEEDED):"405"===String(e.code)&&"IncompatibleEncryptionSettings"===e.message?s(a.default.UNABLE_TO_SUBSCRIBE,new Error("Tried to subscribe to an encrypted stream without enabling encryption"),r.default.UNABLE_TO_SUBSCRIBE):"500"===String(e.code)&&"Not connected."===e.message?s(a.default.UNABLE_TO_SUBSCRIBE,new Error("Tried to subscribe to a stream while disconnected."),r.default.UNABLE_TO_SUBSCRIBE):s(a.default.UNABLE_TO_SUBSCRIBE,new Error("subscriberCreate failed with unexpected code ".concat(e.code,": ").concat(e.message)),r.default.UNEXPECTED_SERVER_RESPONSE)},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(30)),o=i(n(50)),a=i(n(109));const s=(0,i(n(23)).default)();t.default=e=>{let t=e.subscriber,n=e.audioLevelSampler,i=0,c=0;const l=new a.default((()=>{const e=t.listenerCount(r.default.AUDIO_LEVEL_UPDATED);(0,o.default)()-c>1e4&&0===e?l.stop():(i=n.sample(),e>0&&t.dispatchEvent(new s.AudioLevelUpdatedEvent(i)))}));return Object.defineProperty(t,"loudness",{get:()=>(l.start(),c=(0,o.default)(),i),set(){throw new TypeError("Cannot set readonly property loudness")},configurable:!0}),t.listenerCount(r.default.AUDIO_LEVEL_UPDATED)&&l.start(),t.on("audioLevelUpdated:added",(()=>{l.start()})),t.once(r.default.SUBSCRIBER_DESTROYED,(()=>{l.stop()})),{destroy(){n.destroy(),l.stop()}}}},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(3)),o=()=>["Chrome","Opera","Safari"].indexOf(r.default.name)>-1;t.default=o},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(1)),o=i(n(260)),a=i(n(130)),s=i(n(693)),c=i(n(320)),l=i(n(129)),d=i(n(694));const u=(0,l.default)(),h=(0,r.default)("Subscriber");var A=function(e,t){void 0===t&&(t={});const n=t.hasGetSynchronizationSupport;if(e){if((0,c.default)()){let e;try{e=t.audioContext||u()}catch(i){h.warn("Failed to get AudioContext()",i)}if((0,d.default)(e))return new a.default(e)}return(0,s.default)({hasGetSynchronizationSupport:n})?new o.default(e.getSynchronizationSources):void 0}};t.default=A},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(3));const o=()=>window.RTCRtpReceiver&&"getSynchronizationSources"in window.RTCRtpReceiver.prototype;var a=function(e){void 0===e&&(e={});const t=e.hasGetSynchronizationSupport||o;return"boolean"===typeof e.isEnabled&&e.isEnabled&&t()&&!r.default.isFirefox};t.default=a},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0,t.default=e=>(void 0!==typeof window?window:n.g).AudioContext&&e instanceof(void 0!==typeof window?window:n.g).AudioContext||(void 0!==typeof window?window:n.g).webkitAudioContext&&e instanceof(void 0!==typeof window?window:n.g).webkitAudioContext},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=function(e){let t=!1;const n=e=>{const n=["auto","on"].indexOf(this.getDisplayMode())>-1;o.default.removeClass(e,["OT_audio-blocked","OT_active"].join(" ")),n&&(t&&o.default.addClass(e,"OT_audio-blocked"),o.default.addClass(e,"OT_active"))};this.setAudioBlocked=e=>{t=e,n(this.domElement)},(0,r.default)(this,{mode:e.mode||"auto",nodeName:"div",htmlAttributes:{className:"OT_audio-blocked-indicator"}});const i=this.setDisplayMode.bind(this);this.setDisplayMode=e=>{i(e),n(this.domElement)}};var r=i(n(41)),o=i(n(7))},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=function(e){let t=!1;const n=e=>{const n=["auto","on"].indexOf(this.getDisplayMode())>-1;o.default.removeClass(e,["OT_active"].join(" ")),n&&t&&o.default.addClass(e,"OT_active")};this.setVideoUnsupported=e=>{t=e,n(this.domElement)},(0,r.default)(this,{mode:e.mode||"auto",nodeName:"div",htmlAttributes:{className:"OT_video-unsupported"},htmlContent:'<div class="OT_video-unsupported-bar"></div><div class="OT_video-unsupported-img"></div><span class="OT_video-unsupported-text">Video format not supported</span>'});const i=this.setDisplayMode.bind(this);this.setDisplayMode=e=>{i(e),n(this.domElement)}};var r=i(n(41)),o=i(n(7))},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(9)),o=i(n(62)),a=i(n(40)),s=i(n(76)),c=i(n(160)),l=function(e,t){let n;void 0===t&&(t=5e3);let i=!1;const l={},d=()=>{i||e(((e,c)=>{if(!i){if(!e){const e=function(e){return void 0===e&&(e=[]),(0,o.default)(e,(e=>s.default.isVideoInboundRtpStat(e)))}(c);e?(0,r.default)(l,(0,a.default)(e,["timestamp","framesDecoded"])):l.timestamp||(0,r.default)(l,{timestamp:Date.now(),framesDecoded:0})}n=setTimeout(d,t)}}))};return d(),{getFrameRateFromStat:e=>(0,c.default)({currentStatFrames:e.framesDecoded,currentTimestamp:e.timestamp,prevStatFrames:l.framesDecoded,prevTimestamp:l.timestamp}),destroy(){i=!0,n&&(clearTimeout(n),n=null)}}};t.default=l},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(4)),o=i(n(5)),a=i(n(172)),s=i(n(1)),c=i(n(323)),l=i(n(699));const d=(0,s.default)("Subscriber"),u="MANTIS";var h=function(e,t){void 0===t&&(t={});const n=t.updateTrackOnStream||c.default,i=t.createAudioTrackHolder||l.default,s=e;let h,A,p;const g=()=>{var e;null==(e=h)||e.destroy(),h=null,p&&(p.srcObject=null,p=null),A=null},f=function(){var e=(0,o.default)(r.default.mark((function e(t){var o,a,c,l,u,f;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=null==(o=s[t])?void 0:o.getAudioTracks(),c=a[0]){e.next=7;break}throw l="Connector not set as no audio track is present.",u=new Error(l),d.error("setAudioMediaProcessorConnector: ".concat(l)),h=null,u;case 7:return e.prev=7,p=i(c),e.next=11,h.setTrack(c);case 11:f=e.sent,A=c,n(s[t],c,f),e.next=20;break;case 16:throw e.prev=16,e.t0=e.catch(7),g(),e.t0;case 20:case"end":return e.stop()}}),e,null,[[7,16]])})));return function(t){return e.apply(this,arguments)}}(),m=e=>{try{const t=s[e].getAudioTracks()[0];n(s[e],t,A)}catch(t){throw Error("setAudioMediaProcessorConnector: Error resetting track: ".concat(t.message))}};return{get audioMediaProcessorConnector(){return h},initializeConnector(e){h=new a.default(e)},setAudioMediaProcessorConnector:e=>(0,o.default)(r.default.mark((function t(){return r.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f(e);case 2:case"end":return t.stop()}}),t)})))(),applyAudioConnectorOnRoutedToRelayedTransition(){var e=this;return(0,o.default)(r.default.mark((function t(){return r.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.resetAudioStreamAndTrack(u),h){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,f("P2P");case 5:case"end":return t.stop()}}),t)})))()},applyAudioConnectorOnRelayedToRoutedTransition:()=>(0,o.default)(r.default.mark((function e(){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,f(u);case 4:case"end":return e.stop()}}),e)})))(),clearAudioMediaProcessorConnector(e){A&&(m(e),g())},resetAudioStreamAndTrack(e){A&&(m(e),A=null)}}};t.default=h},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0,t.default=function(e,t){void 0===t&&(t={});const i=t.document||document,r=t.MediaStream||(void 0!==typeof window?window:n.g).MediaStream,o=i.createElement("video"),a=new r([e]);return o.srcObject=a,o}},function(e,t,n){var i=n(701),r=n(268),o=i((function(e,t,n){return e+(n?" ":"")+r(t)}));e.exports=o},function(e,t,n){var i=n(702),r=n(703),o=n(706),a=RegExp("['\u2019]","g");e.exports=function(e){return function(t){return i(o(r(t).replace(a,"")),e,"")}}},function(e,t){e.exports=function(e,t,n,i){var r=-1,o=null==e?0:e.length;for(i&&o&&(n=e[++r]);++r<o;)n=t(n,e[r],r,e);return n}},function(e,t,n){var i=n(704),r=n(61),o=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,a=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");e.exports=function(e){return(e=r(e))&&e.replace(o,i).replace(a,"")}},function(e,t,n){var i=n(705)({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"});e.exports=i},function(e,t){e.exports=function(e){return function(t){return null==e?void 0:e[t]}}},function(e,t,n){var i=n(707),r=n(708),o=n(61),a=n(709);e.exports=function(e,t,n){return e=o(e),void 0===(t=n?void 0:t)?r(e)?a(e):i(e):e.match(t)||[]}},function(e,t){var n=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;e.exports=function(e){return e.match(n)||[]}},function(e,t){var n=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;e.exports=function(e){return n.test(e)}},function(e,t){var n="\\ud800-\\udfff",i="\\u2700-\\u27bf",r="a-z\\xdf-\\xf6\\xf8-\\xff",o="A-Z\\xc0-\\xd6\\xd8-\\xde",a="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",s="["+a+"]",c="\\d+",l="["+i+"]",d="["+r+"]",u="[^"+n+a+c+i+r+o+"]",h="(?:\\ud83c[\\udde6-\\uddff]){2}",A="[\\ud800-\\udbff][\\udc00-\\udfff]",p="["+o+"]",g="(?:"+d+"|"+u+")",f="(?:"+p+"|"+u+")",m="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",E="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",C="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",I="[\\ufe0e\\ufe0f]?",Q=I+C+"(?:\\u200d(?:"+["[^"+n+"]",h,A].join("|")+")"+I+C+")*",U="(?:"+[l,h,A].join("|")+")"+Q,y=RegExp([p+"?"+d+"+"+m+"(?="+[s,p,"$"].join("|")+")",f+"+"+E+"(?="+[s,p+g,"$"].join("|")+")",p+"?"+g+"+"+m,p+"+"+E,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",c,U].join("|"),"g");e.exports=function(e){return e.match(y)||[]}},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(4)),o=i(n(5)),a=i(n(14)),s=i(n(711)),c=i(n(75)),l=n(25);const d=c.default.ACTIVE_VIDEO,u=c.default.ACTIVE_VIDEO_WITH_WARNING,h=c.default.SUSPENDED_VIDEO;var A=e=>{let t=e.getAllPeerConnections;const n=new a.default,i=(0,s.default)();i.on("stateChange",(function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return n.emit("stateChange",...t)}));const c=function(){var e=(0,o.default)(r.default.mark((function e(){var n,o;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:n=e.sent,o=n.reduce(((e,t)=>{var n;return Math.max(e,null==(n=t.getAudioFallbackState())?void 0:n.videoState)}),d),i.setState(o);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object.assign(n,{onPeerConnectionStateChange:e=>{let t=e.state,n=e.peerConnection,i=e.publishVideo,r=e.stream,o=e.peerId;if(i){const e="MANTIS"===n.getSourceStreamId()?void 0:o;switch(t){case d:r.setChannelActiveState("video",!0,"auto",l.LOW,e);break;case u:r.setChannelActiveState("video",!0,"auto",l.MEDIUM,e);break;case h:r.setChannelActiveState("video",!1,"auto",l.CRITICAL,e)}}c()},onPeerConnectionDisconnected:()=>{c()},reset:()=>i.reset(),getState:()=>i.getState()})};t.default=A},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(14)),o=i(n(75)),a=()=>{const e=new r.default;let t=o.default.ACTIVE_VIDEO;return Object.assign(e,{getState:()=>t,setState(n){if(!Object.values(o.default).includes(n))throw new Error("Invalid video state: ",n);if(n===t)return;const i=t;t=n,e.emit("stateChange",{state:t,previousState:i})},reset(){t=o.default.ACTIVE_VIDEO}})};t.default=a},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=function(e){let t=!1;return function(){var n=(0,o.default)(r.default.mark((function n(){var i,o,a,s=arguments;return r.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t){n.next=2;break}throw new Error("The previous call to this function has not yet completed.");case 2:for(t=!0,n.prev=3,i=s.length,o=new Array(i),a=0;a<i;a++)o[a]=s[a];return n.next=7,e.call(this,...o);case 7:return n.abrupt("return",n.sent);case 8:return n.prev=8,t=!1,n.finish(8);case 11:case"end":return n.stop()}}),n,this,[[3,,8,11]])})));return function(){return n.apply(this,arguments)}}()};var r=i(n(4)),o=i(n(5))},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(40)),o=i(n(326)),a=i(n(278));t.default=e=>{const t=(0,r.default)(e,["audioDeviceId","audioFallback","audioFallbackEnabled","audioSource","channels","classNames","constraints","disableAudioProcessing","echoCancellation","noiseSuppression","autoGainControl","enableRenegotiation","enableStereo","facingMode","fitMode","frameRate","height","insertDefaultUI","insertMode","audioBitrate","maxResolution","minVideoBitrate","mirror","name","publishAudio","publishVideo","publishCaptions","resolution","scalableScreenshare","scalableVideo","showControls","style","videoContentHint","videoDeviceId","videoDimensions","videoFilter","videoSource","width"]);return t.style&&(t.style=(0,a.default)(t.style)),t.videoFilter&&(t.videoFilter=(0,o.default)(t.videoFilter)),t}},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(30)),o=i(n(50)),a=i(n(109));const s=(0,i(n(23)).default)();t.default=e=>{let t=e.publisher,n=e.widgetView,i=0,c=0;const l=new a.default((()=>{const e=t.listenerCount(r.default.AUDIO_LEVEL_UPDATED);if((0,o.default)()-c>1e4&&0===e)return void l.stop();const a=n&&n.video();if(a){const n=a.getAudioInputLevel();i=n,e>0&&t.dispatchEvent(new s.AudioLevelUpdatedEvent(n))}}));Object.defineProperty(t,"loudness",{get:()=>(l.start(),c=(0,o.default)(),i),set(){throw new TypeError("Cannot set readonly property loudness")}}),t.listenerCount(r.default.AUDIO_LEVEL_UPDATED)&&l.start(),t.on("audioLevelUpdated:added",(()=>{l.start()})),t.once(r.default.PUBLISHER_DESTROYED,(()=>{l.stop()}))}},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=function(e){const t=document.createElement("canvas");if(!t.captureStream)throw a(o.default.NOT_SUPPORTED,new Error("Your browser does not support HTMLCanvasElement.captureStream()"));t.width=e.width,t.height=e.height,t.getContext("2d").fillRect(0,0,1,1);const n=t.captureStream().getVideoTracks()[0];return n.isCreatedCanvas=!0,n.enabled=!1,n};var r=i(n(13)),o=i(n(8));const a=(0,r.default)()},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0,t.default=(e,t)=>{if(!e)return null;const n=e.getVideoTracks()[0];return n?((e,t)=>(e=>e.getSettings&&e.getSettings().deviceId)(e)||(e=>{let t;return e.getConstraints&&e.getConstraints().deviceId&&(t=e.getConstraints().deviceId.exact),t})(e)||((e,t)=>{let n;if(t&&t.length){const i=t.find((t=>t.label===e.label));i&&(n=i.deviceId)}return n})(e,t))(n,t):null}},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(10)),o=i(n(8));const a=(0,i(n(13)).default)();t.default=e=>{const t=String(e.code);return"405"===t&&"IncompatibleEncryptionSettings"===e.message?a(o.default.STREAM_CREATE_FAILED,new Error("IncompatibleEncryptionSettings: Tried to publish a stream to an encrypted session without enabling encryption"),r.default.UNABLE_TO_PUBLISH):["403","404","409"].includes(t)?a(o.default.STREAM_CREATE_FAILED,new Error("Failed to create stream in server model: ".concat(e.message)),r.default.UNABLE_TO_PUBLISH):a(o.default.UNEXPECTED_SERVER_RESPONSE,new Error("Unexpected server response: ".concat(e.message)),r.default.UNEXPECTED_SERVER_RESPONSE)}},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(4)),o=i(n(5)),a=i(n(1)),s=i(n(3)),c=i(n(327)),l=i(n(720)),d=n(97);const u=(0,a.default)("MediaProcessor");function h(e){var t=this;void 0===e&&(e={});const n=e,i=n.ML,a=void 0===i?c.default:i,s=n.MediaTransform,h=void 0===s?l.default:s,A=n.getProxyUrl,p=void 0===A?d.getProxyUrl:A;let g,f,m,E;this.isValidVideoFilter=e=>{const t=e.type;return h.isSupported(t)&&h.isValidConfig(e)},this.canUpdateVideoFilter=e=>["backgroundBlur","backgroundReplacement"].includes(e),this.updateVideoFilter=function(){var e=(0,o.default)(r.default.mark((function e(n){var i,o,a;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n.type,t.canUpdateVideoFilter(i)){e.next=4;break}return u.warn('Ignoring: filter "'.concat(i,"\" doesn't support real-time updates")),e.abrupt("return");case 4:return o=h.getConfigurator(i),a=o.getConfig(Object.assign({proxyUrl:p()},n)),e.next=8,f.setBackgroundOptions(a);case 8:m=n;case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.setVideoFilter=function(){var e=(0,o.default)(r.default.mark((function e(n){var i,o,s;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n.type,o=h.getConfigurator(i)){e.next=5;break}return u.warn('Ignoring: filter "'.concat(i,"\" isn't supported")),e.abrupt("return");case 5:if(s=o.getConfig(Object.assign({proxyUrl:p()},n))){e.next=9;break}return u.warn("Ignoring: couldn't configure filter ".concat(i)),e.abrupt("return");case 9:if(!t.getVideoFilter()){e.next=20;break}return e.prev=11,e.next=14,t.destroy();case 14:e.next=20;break;case 16:return e.prev=16,e.t0=e.catch(11),u.warn("Ignoring, couldn't remove previous filter: ".concat(e.t0)),e.abrupt("return");case 20:return e.next=22,a.createProcessor(s);case 22:return f=e.sent,e.next=25,f.getConnector();case 25:g=e.sent,m=n;case 27:case"end":return e.stop()}}),e,null,[[11,16]])})));return function(t){return e.apply(this,arguments)}}(),this.getVideoFilter=()=>m,this.getOriginalVideoTrack=()=>E,this.setMediaStream=function(){var e=(0,o.default)(r.default.mark((function e(t){var n,i,o;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.getVideoTracks(),i=n[0]){e.next=4;break}return u.warn("Ignoring. No video track found"),e.abrupt("return",null);case 4:return o=null,e.prev=5,e.next=8,g.setTrack(i);case 8:o=e.sent,E=i,e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),u.error("Error setting media stream: ".concat(e.t0));case 15:return e.abrupt("return",o);case 16:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t){return e.apply(this,arguments)}}(),this.setVideoTrack=function(){var e=(0,o.default)(r.default.mark((function e(t){var n;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,g.setTrack(t);case 4:n=e.sent,E=t,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),u.error("Error setting video track: ".concat(e.t0));case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),this._setConnector=e=>{g=e},this.destroy=(0,o.default)(r.default.mark((function e(){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.destroy();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),u.warn("Error destroying connector: ".concat(e.t0));case 8:g=null,m=null,E=null;case 11:case"end":return e.stop()}}),e,null,[[0,5]])}))),this.enableLogging=e=>{if(!e)return void u.warn("Error enabling logging: invalid API key");const t={appId:e,sourceType:"video"},n=p();n&&(t.proxyUrl=n),a.setMetadata(t)},this.disableLogging=()=>{a.setMetadata()}}h.isSupported=function(e){void 0===e&&(e={});const t=e,n=t.env,i=void 0===n?s.default:n,r=t.ML,o=void 0===r?c.default:r;return!!i.isChromium&&o.isSupported()};var A=h;t.default=A},function(e,t,n){"use strict";n.r(t),function(e,i){n.d(t,"ErrorFunction",(function(){return ie})),n.d(t,"MediaProcessor",(function(){return se})),n.d(t,"MediaProcessorConnector",(function(){return le})),n.d(t,"PipelineInfoData",(function(){return re})),n.d(t,"VonageSourceType",(function(){return B})),n.d(t,"WarningType",(function(){return ne})),n.d(t,"getVonageMetadata",(function(){return q})),n.d(t,"isSupported",(function(){return a})),n.d(t,"setVonageMetadata",(function(){return z}));var r=Object.defineProperty,o=(e,t,n)=>(((e,t,n)=>{t in e?r(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);function a(){return new e(((e,t)=>{typeof MediaStreamTrackProcessor>"u"||typeof MediaStreamTrackGenerator>"u"?t("Your browser does not support the MediaStreamTrack API for Insertable Streams of Media."):e()}))}class s{}o(s,"updates",{transformer_new:"New transformer",transformer_null:"Null transformer"}),o(s,"errors",{transformer_none:"No transformers provided",transformer_start:"Cannot start transformer",transformer_transform:"Cannot transform frame",transformer_flush:"Cannot flush transformer",readable_null:"Readable is null",writable_null:"Writable is null"});const c=new WeakMap,l=new WeakMap,d=new WeakMap,u=Symbol("anyProducer"),h=e.resolve(),A=Symbol("listenerAdded"),p=Symbol("listenerRemoved");let g=!1;function f(e){if("string"!=typeof e&&"symbol"!=typeof e)throw new TypeError("eventName must be a string or a symbol")}function m(e){if("function"!=typeof e)throw new TypeError("listener must be a function")}function E(e,t){const n=l.get(e);return n.has(t)||n.set(t,new Set),n.get(t)}function C(e,t){const n="string"==typeof t||"symbol"==typeof t?t:u,i=d.get(e);return i.has(n)||i.set(n,new Set),i.get(n)}function I(t,n){n=Array.isArray(n)?n:[n];let i=!1,r=()=>{},o=[];const a={enqueue(e){o.push(e),r()},finish(){i=!0,r()}};for(const e of n)C(t,e).add(a);return{async next(){return o?0===o.length?i?(o=void 0,this.next()):(await new e((e=>{r=e})),this.next()):{done:!1,value:await o.shift()}:{done:!0}},async return(e){o=void 0;for(const i of n)C(t,i).delete(a);return r(),arguments.length>0?{done:!0,value:await e}:{done:!0}},[Symbol.asyncIterator](){return this}}}function Q(e){if(void 0===e)return b;if(!Array.isArray(e))throw new TypeError("`methodNames` must be an array of strings");for(const t of e)if(!b.includes(t))throw"string"!=typeof t?new TypeError("`methodNames` element must be a string"):new Error("".concat(t," is not Emittery method"));return e}const U=e=>e===A||e===p;class y{static mixin(e,t){return t=Q(t),n=>{if("function"!=typeof n)throw new TypeError("`target` must be function");for(const e of t)if(void 0!==n.prototype[e])throw new Error("The property `".concat(e,"` already exists on `target`"));Object.defineProperty(n.prototype,e,{enumerable:!1,get:function(){return Object.defineProperty(this,e,{enumerable:!1,value:new y}),this[e]}});const i=t=>function(){return this[e][t](...arguments)};for(const e of t)Object.defineProperty(n.prototype,e,{enumerable:!1,value:i(e)});return n}}static get isDebugEnabled(){if("object"!=typeof i)return g;const{env:e}=i||{env:{}};return"emittery"===e.DEBUG||"*"===e.DEBUG||g}static set isDebugEnabled(e){g=e}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};c.set(this,new Set),l.set(this,new Map),d.set(this,new Map),this.debug=e.debug||{},void 0===this.debug.enabled&&(this.debug.enabled=!1),this.debug.logger||(this.debug.logger=(e,t,n,i)=>{try{i=JSON.stringify(i)}catch{i="Object with the following keys failed to stringify: ".concat(Object.keys(i).join(","))}"symbol"==typeof n&&(n=n.toString());const r=new Date,o="".concat(r.getHours(),":").concat(r.getMinutes(),":").concat(r.getSeconds(),".").concat(r.getMilliseconds());console.log("[".concat(o,"][emittery:").concat(e,"][").concat(t,"] Event Name: ").concat(n,"\n\tdata: ").concat(i))})}logIfDebugEnabled(e,t,n){(y.isDebugEnabled||this.debug.enabled)&&this.debug.logger(e,this.debug.name,t,n)}on(e,t){m(t),e=Array.isArray(e)?e:[e];for(const n of e)f(n),E(this,n).add(t),this.logIfDebugEnabled("subscribe",n,void 0),U(n)||this.emit(A,{eventName:n,listener:t});return this.off.bind(this,e,t)}off(e,t){m(t),e=Array.isArray(e)?e:[e];for(const n of e)f(n),E(this,n).delete(t),this.logIfDebugEnabled("unsubscribe",n,void 0),U(n)||this.emit(p,{eventName:n,listener:t})}once(t){return new e((e=>{const n=this.on(t,(t=>{n(),e(t)}))}))}events(e){e=Array.isArray(e)?e:[e];for(const t of e)f(t);return I(this,e)}async emit(t,n){f(t),this.logIfDebugEnabled("emit",t,n),function(t,n,i){const r=d.get(t);if(r.has(n))for(const e of r.get(n))e.enqueue(i);if(r.has(u)){const t=e.all([n,i]);for(const e of r.get(u))e.enqueue(t)}}(this,t,n);const i=E(this,t),r=c.get(this),o=[...i],a=U(t)?[]:[...r];await h,await e.all([...o.map((async e=>{if(i.has(e))return e(n)})),...a.map((async e=>{if(r.has(e))return e(t,n)}))])}async emitSerial(e,t){f(e),this.logIfDebugEnabled("emitSerial",e,t);const n=E(this,e),i=c.get(this),r=[...n],o=[...i];await h;for(const a of r)n.has(a)&&await a(t);for(const a of o)i.has(a)&&await a(e,t)}onAny(e){return m(e),this.logIfDebugEnabled("subscribeAny",void 0,void 0),c.get(this).add(e),this.emit(A,{listener:e}),this.offAny.bind(this,e)}anyEvent(){return I(this)}offAny(e){m(e),this.logIfDebugEnabled("unsubscribeAny",void 0,void 0),this.emit(p,{listener:e}),c.get(this).delete(e)}clearListeners(e){e=Array.isArray(e)?e:[e];for(const t of e)if(this.logIfDebugEnabled("clear",t,void 0),"string"==typeof t||"symbol"==typeof t){E(this,t).clear();const e=C(this,t);for(const t of e)t.finish();e.clear()}else{c.get(this).clear();for(const e of l.get(this).values())e.clear();for(const e of d.get(this).values()){for(const t of e)t.finish();e.clear()}}}listenerCount(e){e=Array.isArray(e)?e:[e];let t=0;for(const n of e)if("string"!=typeof n){typeof n<"u"&&f(n),t+=c.get(this).size;for(const e of l.get(this).values())t+=e.size;for(const e of d.get(this).values())t+=e.size}else t+=c.get(this).size+E(this,n).size+C(this,n).size+C(this).size;return t}bindMethods(e,t){if("object"!=typeof e||null===e)throw new TypeError("`target` must be an object");t=Q(t);for(const n of t){if(void 0!==e[n])throw new Error("The property `".concat(n,"` already exists on `target`"));Object.defineProperty(e,n,{enumerable:!1,value:this[n].bind(this)})}}}const b=Object.getOwnPropertyNames(y.prototype).filter((e=>"constructor"!==e));Object.defineProperty(y,"listenerAdded",{value:A,writable:!1,enumerable:!0,configurable:!1}),Object.defineProperty(y,"listenerRemoved",{value:p,writable:!1,enumerable:!0,configurable:!1});var v=y;function R(e){return function(e){if(function(e){return"object"==typeof e&&null!==e&&"message"in e&&"string"==typeof e.message}(e))return e;try{return new Error(JSON.stringify(e))}catch{return new Error(String(e))}}(e).message}var S=Object.defineProperty,F=(e,t,n)=>(((e,t,n)=>{t in e?S(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n),B=(e=>(e.automation="automation",e.test="test",e.vbc="vbc",e.video="video",e.voice="voice",e))(B||{});let T;const N=new Uint8Array(16);function _(){if(!T&&(T=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!T))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return T(N)}const w=[];for(let t=0;t<256;++t)w.push((t+256).toString(16).slice(1));const k={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function D(e,t,n){if(k.randomUUID&&!t&&!e)return k.randomUUID();const i=(e=e||{}).random||(e.rng||_)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=i[e];return t}return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(w[e[t+0]]+w[e[t+1]]+w[e[t+2]]+w[e[t+3]]+"-"+w[e[t+4]]+w[e[t+5]]+"-"+w[e[t+6]]+w[e[t+7]]+"-"+w[e[t+8]]+w[e[t+9]]+"-"+w[e[t+10]]+w[e[t+11]]+w[e[t+12]]+w[e[t+13]]+w[e[t+14]]+w[e[t+15]]).toLowerCase()}(i)}function V(e,t){globalThis.vonage||(globalThis.vonage={}),globalThis.vonage.workerizer||(globalThis.vonage.workerizer={});let n=globalThis.vonage.workerizer;return n[e]||(n[e]=t),n[e]}const Z=V("globals",{});var W=(e=>(e.INIT="INIT",e.FORWARD="FORWARD",e.TERMINATE="TERMINATE",e.GLOBALS_SYNC="GLOBALS_SYNC",e))(W||{});function O(e){return[ImageBitmap,ReadableStream,WritableStream].some((t=>e instanceof t))}let J=0;function x(t,n,i,r,o){const a=J++;return t.postMessage({id:a,type:n,functionName:i,args:r},r.filter((e=>O(e)))),new e((e=>{null==o||o.set(a,e)}))}function M(e,t){const{id:n,type:i}=e,r=Array.isArray(t)?t:[t];postMessage({id:n,type:i,result:t},r.filter((e=>O(e))))}const L=V("workerized",{});function P(){return typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope}function G(e,t){if(Array.isArray(t))t.splice(0,t.length);else if("object"==typeof t)for(const n in t)delete t[n];for(const n in e)Array.isArray(e[n])?(t[n]=[],G(e[n],t[n])):"object"==typeof e[n]?(t[n]={},G(e[n],t[n])):t[n]=e[n]}const Y=V("registeredWorkers",{});function j(t,n){return Z[t]||(Z[t]=n),[()=>Z[t],async n=>{Z[t]=n,await async function(){if(P())M({type:W.GLOBALS_SYNC},Z);else{const t=[];for(const e in L){const{worker:n,resolvers:i}=L[e].workerContext;n&&t.push(x(n,W.GLOBALS_SYNC,"",[Z],i))}await e.all(t)}}()}]}P()&&function(){const e={};onmessage=async t=>{const n=t.data;switch(n.type){case W.INIT:!function(e,t){if(!e.args)throw"Missing className while initializing worker";const[n,i]=e.args,r=Y[n];if(!r)throw"unknown worker class ".concat(n);t.instance=new r(e.args.slice(1)),G(i,Z),M(e,void 0!==typeof t.instance)}(n,e);break;case W.FORWARD:!async function(e,t){const{functionName:n,args:i}=e;if(!t.instance)throw"instance not initialized";if(!n)throw"missing function name to call";if(!t.instance[n])throw"undefined function [".concat(n,"] in class ").concat(t.instance.constructor.workerId);M(e,await t.instance[n](...null!=i?i:[]))}(n,e);break;case W.TERMINATE:!async function(e,t){const{args:n}=e;if(!t.instance)throw"instance not initialized";let i;t.instance.terminate&&(i=await t.instance.terminate(...null!=n?n:[])),M(e,i)}(n,e);break;case W.GLOBALS_SYNC:!function(e){if(!e.args)throw"Missing globals while syncing";G(e.args[0],Z),M(e,{})}(n)}}}();const[X,K]=j("metadata",H);var H;function z(e){K(e)}function q(){return X()}class ${constructor(e){F(this,"uuid",D()),this.config=e}async send(e){var t,n,i;const{appId:r,sourceType:o}=null!=(t=q())?t:{};if(!r||!o)return"metadata missing";const a=new AbortController,s=setTimeout((()=>a.abort()),1e4);return await(null!=(i=null==(n=this.config)?void 0:n.fetch)?i:fetch)(this.getUrl(),{method:"POST",headers:this.getHeaders(),body:JSON.stringify(this.buildReport(e)),signal:a.signal}),clearTimeout(s),"success"}getUrl(){var e;let t=null!=(e=q().proxyUrl)?e:"https://";return t+=("/"===t.at(-1)?"":"/")+"hlg.tokbox.com/prod/logging/vcp_webrtc",t}getHeaders(){return{"Content-Type":"application/json"}}buildReport(e){const t=q();return{guid:this.uuid,...e,applicationId:t.appId,timestamp:Date.now(),proxyUrl:t.proxyUrl,source:t.sourceType}}}const ee="2.0.3";class te{constructor(e){o(this,"frameTransformedCount",0),o(this,"frameFromSourceCount",0),o(this,"startAt",0),o(this,"reporter"),this.config=e,this.reporter=new $(e)}async onFrameFromSource(){this.frameFromSourceCount++}get fps(){const{startAt:e,frameFromSourceCount:t}=this;return t/((Date.now()-e)/1e3)}async onFrameTransformed(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];0===this.startAt&&(this.startAt=Date.now()),this.frameTransformedCount++;const{startAt:n,frameTransformedCount:i,frameFromSourceCount:r}=this,o=Date.now(),a=(o-n)/1e3,s=i/a,c=r/a;return t||this.frameTransformedCount>=this.config.loggingIntervalFrameCount?(this.frameFromSourceCount=0,this.frameTransformedCount=0,this.startAt=o,this.reporter.config=this.config,this.reporter.send({...this.config.report,variation:"QoS",fps:c,transformedFps:s,framesTransformed:i,...e})):"success"}}var ne=(e=>(e.FPS_DROP="fps_drop",e))(ne||{}),ie=(e=>(e.start="start",e.transform="transform",e.flush="flush",e))(ie||{}),re=(e=>(e.pipeline_ended="pipeline_ended",e.pipeline_ended_with_error="pipeline_ended_with_error",e.pipeline_started="pipeline_started",e.pipeline_started_with_error="pipeline_started_with_error",e.pipeline_restarted="pipeline_restarted",e.pipeline_restarted_with_error="pipeline_restarted_with_error",e))(re||{});class oe extends v{constructor(e,t){super(),o(this,"reporter_",new $),o(this,"reporterQos_",new te({loggingIntervalFrameCount:500,report:{version:ee}})),o(this,"transformerType_"),o(this,"transformer_"),o(this,"shouldStop_"),o(this,"isFlashed_"),o(this,"mediaTransformerQosReportStartTimestamp_"),o(this,"videoHeight_"),o(this,"videoWidth_"),o(this,"trackExpectedRate_"),o(this,"index_"),o(this,"controller_"),this.index_=t,this.transformer_=e,this.shouldStop_=!1,this.isFlashed_=!1,this.mediaTransformerQosReportStartTimestamp_=0,this.videoHeight_=0,this.videoWidth_=0,this.trackExpectedRate_=-1,this.transformerType_="Custom","getTransformerType"in e&&(this.transformerType_=e.getTransformerType()),this.report({variation:"Create"})}setTrackExpectedRate(e){this.trackExpectedRate_=e}async start(e){if(this.controller_=e,this.transformer_&&"function"==typeof this.transformer_.start)try{await this.transformer_.start(e)}catch(t){this.report({message:s.errors.transformer_start,variation:"Error",error:R(t)});const e={eventMetaData:{transformerIndex:this.index_},error:t,function:"start"};this.emit("error",e)}}async transform(e,t){var n,i,r,o;if(0===this.mediaTransformerQosReportStartTimestamp_&&(this.mediaTransformerQosReportStartTimestamp_=Date.now()),e instanceof VideoFrame&&(this.videoHeight_=null!=(n=null==e?void 0:e.displayHeight)?n:0,this.videoWidth_=null!=(i=null==e?void 0:e.displayWidth)?i:0),this.reporterQos_.onFrameFromSource(),this.transformer_)if(this.shouldStop_)console.warn("[Pipeline] flush from transform"),e.close(),this.flush(t),t.terminate();else{try{await(null==(o=(r=this.transformer_).transform)?void 0:o.call(r,e,t)),this.reportQos()}catch(a){this.report({message:s.errors.transformer_transform,variation:"Error",error:R(a)});const e={eventMetaData:{transformerIndex:this.index_},error:a,function:"transform"};this.emit("error",e)}if(-1!=this.trackExpectedRate_&&.8*this.trackExpectedRate_>this.reporterQos_.fps){const e={eventMetaData:{transformerIndex:this.index_},warningType:"fps_drop",dropInfo:{requested:this.trackExpectedRate_,current:this.reporterQos_.fps}};this.emit("warn",e)}}}async flush(e){if(this.transformer_&&"function"==typeof this.transformer_.flush&&!this.isFlashed_){this.isFlashed_=!0;try{await this.transformer_.flush(e)}catch(t){this.report({message:s.errors.transformer_flush,variation:"Error",error:R(t)});const e={eventMetaData:{transformerIndex:this.index_},error:t,function:"flush"};this.emit("error",e)}}this.reportQos(!0),this.report({variation:"Delete"})}stop(){console.log("[Pipeline] Stop stream."),this.controller_&&(this.flush(this.controller_),this.controller_.terminate()),this.shouldStop_=!0}report(e){this.reporter_.send({version:ee,action:"MediaTransformer",transformerType:this.transformerType_,...e})}reportQos(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.reporterQos_.config={...this.reporterQos_.config},this.reporterQos_.onFrameTransformed({version:ee,action:"MediaTransformer",transformerType:this.transformerType_,videoWidth:this.videoWidth_,videoHeight:this.videoHeight_},e)}}class ae extends v{constructor(e){super(),o(this,"transformers_"),o(this,"trackExpectedRate_"),this.transformers_=[],this.trackExpectedRate_=-1;for(let t=0;t<e.length;t++){let n=new oe(e[t],t);n.on("error",(e=>{this.emit("error",e)})),n.on("warn",(e=>{this.emit("warn",e)})),this.transformers_.push(n)}}setTrackExpectedRate(e){this.trackExpectedRate_=e;for(let t of this.transformers_)t.setTrackExpectedRate(this.trackExpectedRate_)}async start(e,t){if(this.transformers_&&0!==this.transformers_.length){try{let n=e;for(let t of this.transformers_)e=e.pipeThrough(new TransformStream(t));e.pipeTo(t).then((async()=>{console.log("[Pipeline] Setup."),await t.abort(),await n.cancel(),this.emit("pipelineInfo","pipeline_ended")})).catch((async i=>{e.cancel().then((()=>{console.log("[Pipeline] Shutting down streams after abort.")})).catch((e=>{console.error("[Pipeline] Error from stream transform:",e)})),await t.abort(i),await n.cancel(i),this.emit("pipelineInfo","pipeline_ended_with_error")}))}catch{return this.emit("pipelineInfo","pipeline_started_with_error"),void this.destroy()}this.emit("pipelineInfo","pipeline_started"),console.log("[Pipeline] Pipeline started.")}else console.log("[Pipeline] No transformers.")}async destroy(){console.log("[Pipeline] Destroying Pipeline.");for(let e of this.transformers_)e.stop()}}class se extends v{constructor(){super(),o(this,"reporter_"),o(this,"pipeline_"),o(this,"transformers_"),o(this,"readable_"),o(this,"writable_"),o(this,"trackExpectedRate_"),this.reporter_=new $,this.trackExpectedRate_=-1,this.report({variation:"Create"})}setTrackExpectedRate(e){this.trackExpectedRate_=e,this.pipeline_&&this.pipeline_.setTrackExpectedRate(this.trackExpectedRate_)}transform(e,t){return this.readable_=e,this.writable_=t,this.transformInternal()}transformInternal(){return new e((async(e,t)=>{if(!this.transformers_||0===this.transformers_.length)return this.report({message:s.errors.transformer_none,variation:"Error"}),void t("[MediaProcessor] Need to set transformers.");if(!this.readable_)return this.report({variation:"Error",message:s.errors.readable_null}),void t("[MediaProcessor] Readable is null.");if(!this.writable_)return this.report({variation:"Error",message:s.errors.writable_null}),void t("[MediaProcessor] Writable is null.");let n=!1;this.pipeline_&&(n=!0,this.pipeline_.clearListeners(),this.pipeline_.destroy()),this.pipeline_=new ae(this.transformers_),this.pipeline_.on("warn",(e=>{this.emit("warn",e)})),this.pipeline_.on("error",(e=>{this.emit("error",e)})),this.pipeline_.on("pipelineInfo",(e=>{n&&("pipeline_started"===e?e=re.pipeline_restarted:"pipeline_started_with_error"===e&&(e=re.pipeline_restarted_with_error)),this.emit("pipelineInfo",e)})),-1!=this.trackExpectedRate_&&this.pipeline_.setTrackExpectedRate(this.trackExpectedRate_),this.pipeline_.start(this.readable_,this.writable_).then((()=>{e()})).catch((e=>{t(e)}))}))}setTransformers(t){return this.report({variation:"Update",message:s.updates.transformer_new}),this.transformers_=t,this.readable_&&this.writable_?this.transformInternal():e.resolve()}destroy(){return new e((async e=>{this.pipeline_&&this.pipeline_.destroy(),this.report({variation:"Delete"}),e()}))}report(e){this.reporter_.send({version:ee,action:"MediaProcessor",...e})}}class ce{constructor(){o(this,"processor_"),o(this,"generator_"),this.processor_=null,this.generator_=null}init(t){return new e(((e,n)=>{try{this.processor_=new MediaStreamTrackProcessor(t)}catch(i){console.log("[InsertableStreamHelper] MediaStreamTrackProcessor failed: ".concat(i)),n(i)}try{"audio"===t.kind?this.generator_=new MediaStreamTrackGenerator({kind:"audio"}):"video"===t.kind?this.generator_=new MediaStreamTrackGenerator({kind:"video"}):n("kind not supported")}catch(i){console.log("[InsertableStreamHelper] MediaStreamTrackGenerator failed: ".concat(i)),n(i)}e()}))}getReadable(){return this.processor_.readable}getWriteable(){return this.generator_.writable}getProccesorTrack(){return this.generator_}}class le{constructor(e){o(this,"insertableStreamHelper_"),o(this,"mediaProcessor_"),this.insertableStreamHelper_=new ce,this.mediaProcessor_=e}setTrack(t){return new e(((e,n)=>{this.insertableStreamHelper_.init(t).then((()=>{this.mediaProcessor_.transform(this.insertableStreamHelper_.getReadable(),this.insertableStreamHelper_.getWriteable()).then((()=>{e(this.insertableStreamHelper_.getProccesorTrack())})).catch((e=>{n(e)}))})).catch((e=>{n(e)}))}))}destroy(){return new e(((e,t)=>{this.mediaProcessor_?this.mediaProcessor_.destroy().then((()=>{e()})).catch((e=>{t(e)})):t("no processor")}))}}}.call(this,n(2),n(28))},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(721));const o={backgroundBlur:i(n(722)).default,backgroundReplacement:r.default},a=e=>!!o[e],s=e=>a(e)?o[e]:null;var c={isSupported:a,getConfigurator:s,isValidConfig:e=>{const t=e.type;return!!a(t)&&s(t).isValidConfig(e)}};t.default=c},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(329));const o=e=>/^data:image\/(?:png|jpeg|bmp|gif);base64/.test(e)||/\.(?:png|jpe?g|bmp|gif)$/i.test(e);var a={isValidConfig:e=>{if("backgroundReplacement"!==(null==e?void 0:e.type))return!1;const t=e.backgroundImgUrl;return o(t)},getConfig:function(e){void 0===e&&(e={});const t=(e=>Object.assign({},r.default.getConfig(e),{transformerType:"VirtualBackground"}))(e),n=e.backgroundImgUrl;return o(n)&&(t.backgroundAssetUri=n),t}};t.default=a},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=n(328),o=i(n(329));const a=r.BlurRadius.High,s=e=>"low"===e||"high"===e;var c={isValidConfig:e=>{if("backgroundBlur"!==(null==e?void 0:e.type))return!1;const t=e.blurStrength;return!t||s(t)},getConfig:function(e){void 0===e&&(e={});const t=(e=>Object.assign({},o.default.getConfig(e),{transformerType:"BackgroundBlur",radius:a}))(e),n=e.blurStrength;return s(n)&&(t.radius=(e=>"low"===e?r.BlurRadius.Low:r.BlurRadius.High)(n)),t}};t.default=c},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0,t.default=e=>!!e&&!!e.apiKey},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=function(e){const t=l();let n=!1;t.addEventListener("devicechange",(0,o.default)(r.default.mark((function t(){var i;return r.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=2;break}return t.abrupt("return");case 2:return n=!0,t.next=5,c();case 5:i=t.sent,n=!1,e.setAudioSource(i);case 8:case"end":return t.stop()}}),t)}))))};var r=i(n(4)),o=i(n(5)),a=i(n(725)),s=i(n(20));const c=(0,a.default)(),l=(0,s.default)().getNativeMediaDevices},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(4)),o=i(n(5)),a=i(n(20)),s=i(n(213));t.default=function(e){void 0===e&&(e={});const t=e.deviceHelpers||(0,a.default)(),n=t.getAudioInputMediaDevices,i=t.getDefaultAudioInputDevice,c=t.hasDevice,l=e.currentAudioOutputDevice||s.default,d=l.getCurrentAudioInputDevice,u=l.setCurrentAudioInputDevice,h=function(){var e=(0,o.default)(r.default.mark((function e(){var t,o,a,s;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n();case 2:if(0!==(t=e.sent).length){e.next=6;break}return u(""),e.abrupt("return");case 6:if(o=d(),a=c(t,o.deviceId),s=i(t),!a||o.label!==s.label){e.next=11;break}return e.abrupt("return");case 11:return u(s),e.abrupt("return",s.deviceId);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return h}},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(4)),o=i(n(5));t.default=function(){var e=this;this.replaceTrackInMutedAudioTracks=function(){var t=(0,o.default)(r.default.mark((function t(n,i,o){var a,s;return r.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.mutedMantisAudioTracksInAMR[o.id]||null==n||!n.hasTrack(e.mutedMantisAudioTracksInAMR[o.id])){t.next=2;break}return t.abrupt("return");case 2:return(a=o.clone()).enabled=!1,s=e.mutedMantisAudioTracksInAMR[i.id],t.prev=5,t.next=8,n.findAndReplaceTrack(s,a);case 8:t.next=13;break;case 10:return t.prev=10,t.t0=t.catch(5),t.abrupt("return");case 13:e.mutedMantisAudioTracksInAMR[o.id]=a,delete e.mutedMantisAudioTracksInAMR[i.id];case 15:case"end":return t.stop()}}),t,null,[[5,10]])})));return function(e,n,i){return t.apply(this,arguments)}}(),this.unmuteAudioInPeerConnection=function(){var t=(0,o.default)(r.default.mark((function t(n,i){return r.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.getAudioTracks().forEach(function(){var t=(0,o.default)(r.default.mark((function t(n){return r.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.findAndReplaceTrack(e.mutedMantisAudioTracksInAMR[n.id],n);case 3:t.next=8;break;case 5:return t.prev=5,t.t0=t.catch(0),t.abrupt("return");case 8:delete e.mutedMantisAudioTracksInAMR[n.id];case 9:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(e){return t.apply(this,arguments)}}()),e.amrAudioMuted=!1;case 2:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),this.muteAudioInPeerConnection=function(){var t=(0,o.default)(r.default.mark((function t(n,i){return r.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.amrAudioMuted){t.next=2;break}return t.abrupt("return");case 2:e.amrAudioMuted=!0,n.getAudioTracks().forEach(function(){var t=(0,o.default)(r.default.mark((function t(n){var o;return r.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(o=n.clone()).enabled=!1,t.prev=2,t.next=5,i.findAndReplaceTrack(n,o);case 5:t.next=10;break;case 7:return t.prev=7,t.t0=t.catch(2),t.abrupt("return");case 10:e.mutedMantisAudioTracksInAMR[n.id]=o;case 11:case"end":return t.stop()}}),t,null,[[2,7]])})));return function(e){return t.apply(this,arguments)}}());case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),this.destroy=()=>{Object.entries(this.mutedMantisAudioTracksInAMR).forEach((e=>{let t=e[0],n=e[1];null==n||n.stop(),delete this.mutedMantisAudioTracksInAMR[t]})),this.amrAudioMuted=!1},this.mutedMantisAudioTracksInAMR={},this.amrAudioMuted=!1}},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.createCancellationFactory=t.callWithCancellation=void 0;var r=i(n(110));const o=()=>{let e=new r.default;return()=>(e.cancel(),e=new r.default,e)};t.createCancellationFactory=o,t.callWithCancellation=e=>{const t=o();return function(){const n=t();for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return e(...r,n)}}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var i=e=>null===e||!1===e;t.default=i},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0,t.default=e=>{var t;e&&null!=(t=e.videoSource)&&t.canvas&&(!e||!("videoContentHint"in e))&&(e.videoContentHint="detail")}},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(153));t.default=e=>{var t;e||(e={});const n=!!(0,r.default)(null==(t=e)?void 0:t.videoSource);e.capableSimulcastScreenshare=n&&(e=>!(null==e||!e.scalableScreenshare))(e)}},function(e,t,n){var i=n(732),r=n(105),o=n(39);e.exports=function(e,t){return i(e,o(t,3),r)}},function(e,t){e.exports=function(e,t,n){var i;return n(e,(function(e,n,r){if(t(e,n,r))return i=n,!1})),i}},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=function(e){switch(e){case r.default.AUTHENTICATION_ERROR:case r.default.INVALID_SESSION_ID:case r.default.TERMS_OF_SERVICE_FAILURE:case r.default.UNEXPECTED_SERVER_RESPONSE:return e;case r.default.ANVIL_EMPTY_RESPONSE_BODY:case r.default.ANVIL_CONNECT_FAILED:return r.default.CONNECT_FAILED;case r.default.ANVIL_BADLY_FORMED_RESPONSE:case r.default.ANVIL_INVALID_HTTP_STATUS:case r.default.ANVIL_XDOMAIN_OR_PARSING_ERROR:case r.default.ANVIL_UNKNOWN_HTTP_ERROR:case r.default.ANVIL_UNEXPECTED_ERROR_CODE:default:return r.default.UNEXPECTED_SERVER_RESPONSE}};var r=i(n(10))},function(e,t,n){"use strict";(function(e){var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(21)),o=i(n(74));t.default=t=>{let n,i,a=t.RTCPeerConnection,s=t.env,c=t.stream,l=t.codecFlags;if(s.isLegacyEdge)return!0;const d=()=>{try{n.close()}catch(e){}try{i.close()}catch(e){}n=null,i=null};try{const e={iceServers:[]};(0,o.default)()&&(e.sdpSemantics="plan-b"),n=new a(e),i=new a(e),c.getTracks().forEach((e=>n.addTrack(e,c)))}catch(u){return d(),e.resolve(!1)}return n.createOffer().then((e=>{const t={type:e.type,sdp:e.sdp};return Object.keys(l).forEach((e=>{l[e]||(t.sdp=r.default.removeVideoCodec(t.sdp,e))})),i.setRemoteDescription(t)})).then((()=>!0)).catch((()=>!1)).then((e=>(d(),e)))}}).call(this,n(2))},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;const r=i(n(8)).default.INVALID_PARAMETER;var o=e=>{let t=e.otError;return e=>{if(!e)return;const n=(e,n)=>{if(!e)throw t(r,new Error("iceConfig invalid: ".concat(n)))};"includeServers"in e&&n(-1!==["all","custom"].indexOf(e.includeServers),".includeServers must be all or custom"),"transportPolicy"in e&&n(-1!==["all","relay"].indexOf(e.transportPolicy),".transportPolicy must be all or relay"),n(Array.isArray(e.customServers),".customServers must be an array"),e.customServers.forEach((e=>{n(e.urls||!("url"in e),"ice servers need .urls, not .url"),n("string"===typeof e.urls||Array.isArray(e.urls),"ice server .urls must be a string or an array"),n(!e.username||"string"===typeof e.username,"ice server .username must be a string if present"),n(!e.credential||"string"===typeof e.credential,"ice server .credential must be a string if present")}))}};t.default=o},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(737));t.default=(e,t)=>{const n=e||{},i=n.p2pEnabled,o=n.singlePeerConnection;if(i)return!1;let a=!!o;return"boolean"===typeof t&&(a=t),a&&(0,r.default)()}},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(3));t.default=()=>r.default.isChromium||r.default.isFirefox||r.default.isSafari},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(10)),o=i(n(8)),a={NOT_CONNECTED:{code:o.default.NOT_CONNECTED,message:"Cannot use forceMute functionality. You are not connected to the session.",exceptionCode:r.default.NOT_CONNECTED},PERMISSION_DENIED:{code:o.default.PERMISSION_DENIED,message:"This token does not allow forceMute usage. The role must be at least `moderator` to enable this functionality",exceptionCode:r.default.UNABLE_TO_FORCE_MUTE},INVALID_PARAMETER:{code:o.default.INVALID_PARAMETER,message:"Invalid Parameter. Check that you have passed valid parameter values into the method call.",exceptionCode:r.default.INVALID_PARAMETER},NOT_FOUND:{code:o.default.NOT_FOUND,message:"The stream does not exist."},UNEXPECTED_SERVER_RESPONSE:{code:o.default.UNEXPECTED_SERVER_RESPONSE,message:"An unexpected error occurred.",exceptionCode:r.default.UNEXPECTED_SERVER_RESPONSE}};t.default=a},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var i=e=>{if("string"!==typeof e)throw new Error("secret must be a string");if(e.length<8)throw new Error("secret must have at least 8 characters");if(e.length>256)throw new Error("secret must not exceed 256 characters")};t.default=i},function(e,t,n){"use strict";(function(e){var i=n(0);t.__esModule=!0,t.default=function(t){void 0===t&&(t={});const n=t.convertRumorError||g.default,i=t.Dispatcher||f.default,Q=t.ExceptionCodes||u.default,U=t.hasIceRestartsCapability||A.default,y=t.hasRenegotiationCapability||p.default,b=t.hasE2eeCapability||h.default,v=t.logging||(0,d.default)("RaptorSocket"),R=t.Message||m.default,S=t.OTHelpers||E.default,F=t.RumorSocket||(0,l.default)(),B=t.Signal||C.default,T=t.SignalError||I.default,N=function t(l){var d=this;let u,h,A,p,g,f,m,E,C=l.connectionId,I=l.sessionId,U=l.messagingSocketUrl,y=l.symphonyUrl,b=l.dispatcher,N=l.analytics,_=l.requestedCapabilities,w=void 0===_?[]:_;const k=b||new i,D=S.statable(this,["disconnected","connecting","connected","error","disconnecting"],"disconnected"),V=function(e){e.action&&e.variation||v.debug("Expected action and variation"),N.logEvent((0,o.default)({sessionId:h,partnerId:u,p2p:f,messagingServer:m,connectionId:C},e))},Z=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const i=t[0];D(i?"error":"connected"),g(...t)},W=e=>{let t="clientDisconnected";!this.is("disconnecting")&&E&&(t="networkDisconnected"),e&&4001===e.code&&(t="networkTimedout"),D("disconnected"),k.onClose(t)},O=e=>{E=!0,v.error(e)},J=()=>{k.onReconnecting()},x=()=>{V({action:"Reconnect",variation:"Success",retries:this._rumor.reconnectRetriesCount(),messageQueueSize:this._rumor.messageQueueSize(),socketId:this.socketId}),k.onReconnected()},M=()=>{V({action:"Reconnect",variation:"Attempt",retries:this._rumor.reconnectRetriesCount(),messageQueueSize:this._rumor.messageQueueSize(),socketId:this.socketId})},L=e=>{"connectionLimitExceeded"===e.message&&(e.code=Q.CONNECTION_LIMIT_EXCEEDED),e.reason="ConnectToSession";const t=n(e);V({action:"Reconnect",variation:"Failure",failureReason:e.reason,failureCode:t.code,failureMessage:t.message,messageQueueSize:this._rumor.messageQueueSize(),socketId:this.socketId})};Object.defineProperty(this,"socketId",{get(){return this._rumor.socketID}}),this.connect=function(n,i,r,o){if(!this.is("disconnected","error"))return void v.warn("Cannot connect the Raptor Socket as it is currently connected. You should disconnect first.");D("connecting"),u=i.partnerId,h=i.sessionId,f=i.p2pEnabled,m=i.messagingServer,A=n,g=o,p={apiKey:u,sessionId:h};const a="/v2/partner/".concat(u,"/session/").concat(h);this._rumor=new t.RumorSocket({messagingURL:U,notifyDisconnectAddress:y,connectionId:C,sessionId:I,enableReconnection:i.reconnection}),this._rumor.on("close",W),this._rumor.on("error",O),this._rumor.on("reconnecting",J),this._rumor.on("reconnectAttempt",M),this._rumor.on("reconnectFailure",L),this._rumor.on("reconnected",x),this._rumor.on("message",k.dispatch.bind(k));const c=e=>{Z({reason:"WebSocketConnection",code:e.code,message:e.message})};this._rumor.once("error",c),this._rumor.once("open",(()=>{this._rumor.removeListener("error",c),v.debug("connected. Subscribing to ".concat(a," on ").concat(U)),this._rumor.subscribe([a]);const n=w;(t.hasIceRestartsCapability()||t.hasRenegotiationCapability())&&i.renegotiation&&n.push("renegotiation"),t.hasE2eeCapability()&&i.e2ee&&n.push("e2ee");const o=R.connections.create({apiKey:u,sessionId:h,connectionId:this._rumor.id,connectionEventsSuppressed:r.connectionEventsSuppressed,capabilities:n}),l=new e((e=>{const t=n=>{n.id===this._rumor.id&&(e(n),b.off("connection#created",t))};b.on("connection#created",t)}));this.publish(o,{"X-TB-TOKEN-AUTH":A},!0,((e,t)=>{if(e)return"connectionLimitExceeded"===e.message&&(e.code=Q.CONNECTION_LIMIT_EXCEEDED),void Z({reason:"ConnectToSession",code:e.code,message:e.message,socketId:this.socketId});const n=t&&t.data?JSON.parse(t.data):null;n&&(n.connection&&0!==n.connection.length||(n.connection=[],Array.isArray(n.stream)&&n.stream.forEach((e=>{let t=e.connection;return n.connection.push(t)}))));const i=(e,t)=>{e?Z({reason:"GetSessionState",code:e.code,message:e.message,socketId:this.socketId}):Z(void 0,t)};l.then((e=>{n.connection.some((t=>t.id===e.id))||n.connection.unshift(e);const t=(0,s.default)();k.registerCallback(t,i),k.emit("session#read",n,t)}))}))}))},this.disconnect=function(){this.is("disconnected")||(D("disconnecting"),this._rumor.disconnect())},this.publish=function(e,t,n,i){i=i||function(){};const r=(0,a.default)(i),c=(0,s.default)();if(v.debug("Publish (ID:".concat(c,") ").concat(e)),this._rumor.readyState!==F.OPEN||this._rumor.reconnecting&&!n){const e=new Error("Not connected.");return e.code=500,r(e),void v.error("cannot publish until the socket is connected.")}return k.registerCallback(c,r),this._rumor.publish([y],e,(0,o.default)({},t,{"Content-Type":"application/x-raptor+v2","TRANSACTION-ID":c,"X-TB-FROM-ADDRESS":this._rumor.id}),n,(function(e){e&&r(...arguments)})),c},this.send=function(e,t,n,i){void 0===n&&(n=!0),void 0===i&&(i=()=>{}),d.publish((0,c.default)(e),t,n,i)},this.streamCreate=function(e,t){void 0===e&&(e={}),void 0===t&&(t=()=>{});const n=e,i=n.name,r=n.streamId,o=n.subscriberAudioFallbackEnabled,a=n.channels,s=n.minBitrate,c=n.maxBitrate,l=n.sourceStreamId,d=n.e2ee,A=n.publisherAudioFallbackEnabled,p=n.customProperties,g={apiKey:u,sessionId:h,streamId:r,name:i,audioFallbackEnabled:o,subscriberAudioFallbackEnabled:o,channels:a,minBitrate:s,maxBitrate:c,sourceStreamId:l,e2ee:d,publisherAudioFallbackEnabled:A,customProperties:p},f=R.streams.create(g);this.publish(f,{},!0,((e,n)=>{t(e,r,n)}))},this.streamDestroy=function(e,t){this.publish(R.streams.destroy(u,h,e,t),{},!0)},this.streamChannelUpdate=function(e,t,n){this.publish(R.streamChannels.update(u,h,e,t,n),{},!0)},this.subscriberCreate=function(e,t,n,i,r,o){const a={apiKey:u,sessionId:h,streamId:e,subscriberId:t,connectionId:this._rumor.id,channelsToSubscribeTo:n,sourceStreamId:i,e2ee:r};this.publish(R.subscribers.create(a),{},!0,o)},this.subscriberDestroy=function(e,t){this.publish(R.subscribers.destroy(u,h,e,t),{},!0)},this.subscriberUpdate=function(e,t,n){this.publish(R.subscribers.update(u,h,e,t,n),{},!0)},this.subscriberChannelUpdate=function(e,t,n,i){this.publish(R.subscriberChannels.update(u,h,e,t,n,i),{},!0)},this.forceDisconnect=function(e,t){this.publish(R.connections.destroy({apiKey:u,sessionId:h,connectionId:e}),{},!0,t)},this.forceUnpublish=function(e,t){this.publish(R.streams.destroy(u,h,e),{},!0,t)},this.forceMuteStream=function(e,t){const n={streamId:e,active:!0};this.publish(R.forceMute.update(Object.assign({},p,n)),{},!0,t)},this.forceMuteAll=function(e,t,n){const i={excludedStreamIds:e,active:t};this.publish(R.forceMute.update(Object.assign({},p,i)),{},!0,n)},this.signal=function(e,t,n){const i=new B(h,this._rumor.id,e||{});i.valid?this.publish(i.toRaptorMessage(),{},i.retryAfterReconnect,(e=>{let o,a,s;const c=[400,403,404,413,500];if(e){const t=parseInt(e.code,10);c.includes(t)?(a=t,s=e.message):(a=Q.UNEXPECTED_SERVER_RESPONSE,s="Unexpected server response. Try this operation again later."),o=new T(a,s)}else{const e=i.data?typeof i.data:null;n("signal","send",{type:e})}t&&(0,r.default)(t)&&t(o,i.toHash())})):t&&(0,r.default)(t)&&t(new T(i.error.code,i.error.reason),i.toHash())},this.id=function(){return this._rumor&&this._rumor.id}};return N.hasIceRestartsCapability=U,N.hasRenegotiationCapability=y,N.hasE2eeCapability=b,N.RumorSocket=F,N};var r=i(n(17)),o=i(n(9)),a=i(n(51)),s=i(n(16)),c=i(n(334)),l=i(n(741)),d=i(n(1)),u=i(n(10)),h=i(n(111)),A=i(n(332)),p=i(n(755)),g=i(n(333)),f=i(n(337)),m=i(n(338)),E=i(n(7)),C=i(n(339)),I=i(n(762))}).call(this,n(2))},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=function(e){let t=(void 0===e?{}:e).WebSocket,n=void 0===t?l.default:t;const i=(0,o.default)(),u=(0,s.default)({AnalyticsHelper:d.default,EventEmitter:r.default,WebSocket:n,logging:a.default,allocateId:i});return(0,c.default)({EventEmitter:r.default,ReconnectableSocket:u,logging:a.default,allocateId:i})};var r=i(n(14)),o=i(n(742)),a=i(n(1)),s=i(n(743)),c=i(n(748)),l=i(n(753)),d=i(n(27))},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(){let e=0;return()=>(e+=1,e)}},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(4)),o=i(n(5)),a=i(n(36)),s=i(n(335)),c=i(n(29)),l=i(n(336)),d=n(77),u=i(n(744)),h=i(n(57)),A=i(n(745)),p=i(n(747));const g=e=>function(){e(...arguments)},f=e=>1e3===e||e>=3e3&&e<=4999,m=d.codes.CLOSE_TIMEOUT;t.default=e=>{var t;let n=e.AnalyticsHelper,i=e.EventEmitter,d=e.WebSocket,E=e.logging,C=e.allocateId,I=e.BUFFER_DRAIN_INTERVAL,Q=void 0===I?100:I,U=e.BUFFER_DRAIN_MAX_RETRIES,y=void 0===U?10:U;return t=function(e){function t(i){var a;(a=e.call(this)||this)._url=void 0,a._id=C(),a._logger=E("ReconnectableSocket:".concat(a._id)),a._webSocket=void 0,a._connectTimer=void 0,a._pingTimer=void 0,a._pingWarningTimer=void 0,a._disconnectTimer=void 0,a._queuedMessages=[],a._draining=!1,a._analytics=new n,a._logAnalyticsEvent=e=>{let t=e.action,n=e.variation,i=e.payload;a._analytics.logEvent({action:t,variation:n,payload:i,sessionId:a.sessionId,connectionId:a.connectionId})};const c=i.url,d=i.connectionId,h=i.sessionId,p=i.connectTimeout,f=void 0===p?15e3:p,m=i.pingThreshold,I=void 0===m?3e3:m,Q=i.pingWarningDelay,U=void 0===Q?100:Q,y=i.disconnectThreshold,b=void 0===y?5900:y,v=i.reconnectMaxDuration,R=void 0===v?6e4:v;if(!c)throw new Error("Must provide url");a.connectionId=d,a.sessionId=h,a.readyStateMachine=(0,A.default)({reconnectMaxDuration:R,CLOSED:t.CLOSED,CLOSING:t.CLOSING}),a._url=c,(0,l.default)({logger:a._logger,obj:(0,s.default)(a),eventNames:["error","open","message","needsPing","reconnecting","reconnectAttempt","reconnectFailure","reconnected","close"]}),a.readyStateMachine.observe("onEnterOpen",(e=>{let t=e.from;a._resetPingTimers(),a._resetDisconnectTimer(),a._connectTimer.clear(),"reconnecting"===t?(a._queuedMessages.forEach((e=>a.send(e,!0))),a._queuedMessages=[],a.emit("reconnected"),a._logAnalyticsEvent({action:"WebSocket:reconnect",variation:"Success"})):(a.emit("open"),a._logAnalyticsEvent({action:"WebSocket:open"}))})),a.readyStateMachine.observe("onEnterClosed",((e,t)=>{let n=e.from,i=e.code,r=e.reason;a.emit("close",t),"reconnecting"===n&&a._logAnalyticsEvent({action:"WebSocket:reconnect",variation:"Failure",payload:{code:i,reason:r}})})),a.readyStateMachine.observe("onEnterClosing",g(function(){var e=(0,o.default)(r.default.mark((function e(t,n){var i,o,s;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.from,o=n.code,s=n.reason,a._clearTimers(),e.next=5,a._clearSocket({drain:"open"===i,code:o,reason:s});case 5:"reconnecting"===i&&(a.emit("reconnectFailure",{code:o,reason:s}),a._logAnalyticsEvent({action:"WebSocket:reconnect",variation:"Failure"})),setTimeout((()=>{a.readyStateMachine.closed({code:o,reason:s})}));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())),a.readyStateMachine.observe("onEnterReconnecting",(()=>{a.emit("reconnecting"),a._logAnalyticsEvent({action:"WebSocket:reconnect",variation:"Attempt"})})),a.readyStateMachine.observe("onDisconnect",g(function(){var e=(0,o.default)(r.default.mark((function e(t,n){var i,o,s,c;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.from,o=t.to,s=n.code,c=n.reason,"reconnecting"!==o){e.next=12;break}if(!a._draining){e.next=5;break}return e.abrupt("return");case 5:return a._clearTimers(),a.emit("reconnectAttempt"),e.next=9,a._clearSocket({drain:"open"===i,code:s,reason:c});case 9:a._createSocket(),e.next=13;break;case 12:a._logAnalyticsEvent({action:"WebSocket:disconnect",payload:{code:s,reason:c}});case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));const S=(e,t)=>new u.default({name:e,duration:t,logger:a._logger});return a._connectTimer=S("connect",f),a._pingTimer=S("ping",I),a._pingWarningTimer=S("pingWarning",U),a._disconnectTimer=S("disconnect",b),a._createSocket(),a}(0,c.default)(t,e);var i=t.prototype;return i._createSocket=function(){const e=new d(this.url);e.binaryType="arraybuffer";const n=(0,h.default)(e);n.on("open",(()=>{this.readyStateMachine.open()})),n.on("close",(e=>{let t=e.code,n=e.reason;this.readyStateMachine.disconnect({code:t,reason:n})})),n.on("error",(e=>{this.emit("error",e)})),n.on("message",(e=>{this.readyState!==t.CLOSING&&this._resetDisconnectTimer(),this.emit("message",e)})),this._webSocket=e,this._webSocketEvents=n,this._connectTimer.reset((()=>{const e={code:m,reason:"Timeout while opening connection"},t=new Error(e.reason);t.code=m,this.emit("error",t),this.readyStateMachine.disconnect(e)}))},i._clearSocket=function(){var e=(0,o.default)(r.default.mark((function e(n){var i,o,a,s,c;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=(i=void 0===n?{}:n).drain,a=void 0!==o&&o,s=i.code,c=i.reason,this._draining=!0,this._webSocketEvents&&this._webSocketEvents.removeAll(),this._webSocket.readyState===t.CLOSED){e.next=9;break}if(!a){e.next=7;break}return e.next=7,(0,p.default)(this._webSocket,{BUFFER_DRAIN_INTERVAL:Q,BUFFER_DRAIN_MAX_RETRIES:y});case 7:this._logAnalyticsEvent({action:"WebSocket:close",payload:{code:s,reason:c},variation:"Attempt"});try{!f(s)||void 0===s&&void 0===c?this._webSocket.close():this._webSocket.close(s,c),this._logAnalyticsEvent({action:"WebSocket:close",payload:{code:s,reason:c},variation:"Success"})}catch(r){E.error("Could not close websocket",r),this._logAnalyticsEvent({action:"WebSocket:close",payload:{err:r},variation:"Failure"})}case 9:this._draining=!1;case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),i.send=function(e,n){void 0===n&&(n=!0),this.readyState===t.OPEN&&this._resetPingTimers();const i=()=>{try{return this._webSocket.send(e),"sent"}catch(t){if(this._webSocket.readyState===d.OPEN)return this._logger.debug("webSocket.send threw exception even though it was open:",t),"dropped";throw t}};if("reconnecting"===this.readyStateMachine.state){if(this._webSocket.readyState===d.OPEN)try{i()}catch(r){}return n?(this._queuedMessages.push(e),"queued"):(this._logger.debug("Dropping message during reconnection since retryAfterReconnect is false:",e),"dropped")}return i()},i.close=function(e,n){if(this.readyState===t.CLOSING)throw new Error("Can not call close on a closing ReconnectableSocket");if(this.readyState===t.CLOSED)throw new Error("Can not call close on an already closed ReconnectableSocket");this.readyStateMachine.close({code:e,reason:n})},i._resetPingTimers=function(){this._pingWarningTimer.clear(),this._pingTimer.reset((()=>{this._pingWarningTimer.reset((()=>{this._logger.warn("Did not send message after needsPing event. Other side may disconnect.")})),this.emit("needsPing")}))},i._resetDisconnectTimer=function(){this._disconnectTimer.reset((()=>this.readyStateMachine.disconnect({code:m,reason:"No activity"})))},i._clearTimers=function(){[this._disconnectTimer,this._connectTimer,this._pingTimer,this._pingWarningTimer].forEach((e=>e.clear()))},(0,a.default)(t,[{key:"url",get:function(){return"function"===typeof this._url?this._url():this._url}},{key:"reconnecting",get:function(){return"reconnecting"===this.readyStateMachine.state}},{key:"binaryType",get:function(){return this._webSocket.binaryType}},{key:"bufferedAmount",get:function(){return this._webSocket.bufferedAmount}},{key:"protocol",get:function(){return this._webSocket.protocol}},{key:"extensions",get:function(){return this._webSocket.extensions}},{key:"readyState",get:function(){return{reconnecting:t.OPEN,open:t.OPEN,closing:t.CLOSING,closed:t.CLOSED,connecting:t.CONNECTING}[this.readyStateMachine.state]}}]),t}(i),t.CONNECTING=d.CONNECTING,t.OPEN=d.OPEN,t.CLOSING=d.CLOSING,t.CLOSED=d.CLOSED,t}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;let i=function(){function e(e){let t=e.name,n=e.logger,i=e.duration;this.name=void 0,this.logger=void 0,this.duration=void 0,this.currId=void 0,this.name=t,this.logger=n,this.duration=i}var t=e.prototype;return t.reset=function(e){this.clear();const t=setTimeout((()=>{void 0!==this.currId&&(this.logger.spam("".concat(this.name," timer with id ").concat(this.currId," expired, entering callback")),this.currId=void 0,e())}),this.duration);this.currId=t,this.logger.spam("Started ".concat(this.name," timer with id ").concat(this.currId,", expires in ")+"".concat(this.duration,"ms"))},t.clear=function(){void 0!==this.currId&&(clearTimeout(this.currId),this.logger.spam("Cleared ".concat(this.name," timer with id ").concat(this.currId)),this.currId=void 0)},t.isRunning=function(){return void 0!==this.currId},e}();t.default=i},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(318)),o=i(n(746)),a=n(77);const s=(0,i(n(1)).default)("ReconnectableSocketStateMachine"),c=a.codes.CLOSE_UNSUPPORTED,l=a.codes.CLOSE_UNEXPECTED_CONDITION;t.default=e=>{let t,n=e.reconnectMaxDuration,i=e.CLOSED,a=e.CLOSING;return new r.default({init:"connecting",methods:{onInvalidTransition(e,t,n){s.error("Invalid state transition",{transition:e,from:t,to:n})}},transitions:[{name:"open",from:["connecting","reconnecting"],to:"open"},{name:"close",from:["connecting","reconnecting","open"],to:"closing"},{name:"closed",from:"closing",to:"closed"},{name:"disconnect",from:["reconnecting","open","connecting"],to:function(e){let r=e.code;return"open"!==this.state&&t||(t=(0,o.default)(n)),n>0&&!t()&&-1===[c,l].indexOf(r)&&-1===[i,a].indexOf(this.readyState)?"reconnecting":"closing"}}]})}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0,t.default=e=>{let t=!1;return setTimeout((()=>{t=!0}),e),()=>t}},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(4)),o=i(n(5)),a=i(n(93)),s=function(){var e=(0,o.default)(r.default.mark((function e(t,n){var i,o,s,c,l,d;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=(i=void 0===n?{}:n).BUFFER_DRAIN_INTERVAL,s=void 0===o?100:o,c=i.BUFFER_DRAIN_MAX_RETRIES,l=void 0===c?10:c,d=0;case 2:if(!(d<l)){e.next=10;break}if(0!==t.bufferedAmount){e.next=5;break}return e.abrupt("break",10);case 5:return e.next=7,(0,a.default)(s);case 7:d+=1,e.next=2;break;case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();t.default=s},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(36)),o=i(n(335)),a=i(n(29)),s=i(n(16)),c=i(n(336)),l=i(n(749)),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=A(t);if(n&&n.has(e))return n.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=r?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(i,o,a):i[o]=e[o]}return i.default=e,n&&n.set(e,i),i}(n(176)),u=i(n(752)),h=n(77);function A(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(A=function(e){return e?n:t})(e)}t.default=e=>{var t;let n=e.EventEmitter,i=e.ReconnectableSocket,A=e.logging,p=e.allocateId;return(t=function(e){function t(t){var n;let r=t.messagingURL,a=t.notifyDisconnectAddress,d=t.connectionId,g=t.sessionId,f=t.enableReconnection,m=t.pingThreshold,E=void 0===m?2e3:m,C=t.disconnectThreshold,I=void 0===C?(f?3:25)*E-100:C,Q=t.reconnectMaxDuration,U=void 0===Q?f?6e4:0:Q;(n=e.call(this)||this).url=void 0,n.id=void 0,n._opened=!1,n._socket=void 0,n._reconnectAttempts=0,n._socketID=(0,s.default)(),n._receivedTransactionIDs=[],n._notifyDisconnectAddress=void 0,n._enableReconnection=void 0,n._pendingMessages=[],n._logger=A("RumorSocket:".concat(p())),(0,c.default)({logger:n._logger,obj:(0,o.default)(n),eventNames:["open","message","error","reconnecting","reconnectAttempt","reconnectFailure","reconnected","close"]}),n.url=r,n.id=d,n._notifyDisconnectAddress=a,n._enableReconnection=f,n.on("error",(e=>{n._logger.error(e.message)}));try{n._socket=new i({url:()=>n._enableReconnection?[n.url,n.url.indexOf("?")>=0?"&":"?","socketId=".concat(n._socketID),n._socket&&n._socket.reconnecting?"&reconnect=true":"","&attempt=".concat((0,s.default)())].join(""):n.url,pingThreshold:E,disconnectThreshold:I,reconnectMaxDuration:U,connectionId:d,sessionId:g})}catch(b){n._logger.error(b),n.emit("error",new u.default(h.codes.CLOSE_CONNECT_EXCEPTION))}const y=()=>{n._opened=!0,n._socket.send(l.default.Connect(n.id,a).serialize()),n.emit("open",n.id)};return n._socket.once("open",y),n._socket.on("message",(e=>n._receiveMessage(e))),n._socket.once("close",(e=>{n._logger.debug("ReconnectableSocket closed (code: ".concat(e.code,")")),n._clearPendingMessages(),-1===[h.codes.CLOSE_NORMAL,h.codes.CLOSE_GOING_AWAY,h.codes.CLOSE_TIMEOUT].indexOf(e.code)&&n.emit("error",new u.default(e.code)),n.emit("close",e)})),n._socket.on("error",(e=>{let t=e.code;return n.emit("error",new u.default(t))})),n._socket.on("needsPing",(()=>{n._socket.send(l.default.Ping().serialize())})),n._socket.on("reconnecting",(()=>{n._opened&&(n._clearPendingMessagesWhichShouldntRetry(),n.emit("reconnecting"),n._reconnectAttempts=0)})),n._socket.on("reconnectAttempt",(()=>{n._opened&&(n._reconnectAttempts+=1,n._socket.send(l.default.Disconnect("1").serialize(),!1),n.emit("reconnectAttempt"))})),n._socket.on("reconnected",(()=>{n._opened?(n._pendingMessages.forEach((e=>{n._socket.send(e.rumorMessage.serialize())})),n.emit("reconnected")):y()})),n._socket.on("reconnectFailure",(()=>{n._opened&&(n._logger.debug("Reconnecting failed as connectivity was not restored within "+"".concat(U,"ms")),n.emit("reconnectFailure",new u.default))})),n}(0,a.default)(t,e);var n=t.prototype;return n._clearPendingMessagesWhichShouldntRetry=function(){const e=this._pendingMessages.filter((e=>!e.retryAfterReconnect));this._pendingMessages=this._pendingMessages.filter((e=>e.retryAfterReconnect)),e.forEach((e=>{const t=new Error("Not connected.");t.code=500,e.completion(t)}))},n._clearPendingMessages=function(){this._pendingMessages.forEach((e=>{const t=new Error("Not connected.");t.code=500,e.completion(t)})),this._pendingMessages=[]},n._sendAck=function(e){this._socket.send(l.default.Status([e.fromAddress],{"TRANSACTION-ID":e.headers["TRANSACTION-ID"],"X-TB-FROM-ADDRESS":this.id}).serialize())},n._receiveMessage=function(e){const t=l.default.deserialize(e.data);if(t.type!==d.PONG){if(this._logger.debug("Received:",t),t.transactionId&&(this._pendingMessages=this._pendingMessages.filter((e=>(e.rumorMessage.transactionId===t.transactionId&&(this._logger.debug("Marking",t.transactionId," as received"),e.completion(void 0,t)),e.rumorMessage.transactionId!==t.transactionId)))),t.transactionId&&t.type!==d.STATUS){if(this._sendAck(t),this._receivedTransactionIDs.indexOf(t.transactionId)>=0)return;this._receivedTransactionIDs.push(t.transactionId)}this.emit("message",t)}},n.publish=function(e,t,n,i,r){void 0===r&&(r=()=>{});const o=l.default.Publish(e,t,n);if("dropped"===this._socket.send(o.serialize(),!1)&&!i){const e=new Error("Not connected.");return e.code=500,void r(e)}this._pendingMessages.push({rumorMessage:o,retryAfterReconnect:i,completion:r})},n.subscribe=function(e){this._socket.send(l.default.Subscribe(e).serialize())},n.unsubscribe=function(e){this._socket.send(l.default.Unsubscribe(e).serialize())},n.disconnect=function(){if(this.readyState===t.OPEN&&this._socket.send(l.default.Disconnect().serialize()),this._socket.readyState!==i.CLOSED&&this._socket.readyState!==i.CLOSING){const e=h.codes.CLOSE_NORMAL;this._socket.close(e,h.messages[e])}},n.status=function(e,t){this._socket.send(l.default.Status(e,{"TRANSACTION-ID":t,"X-TB-FROM-ADDRESS":this.id}).serialize())},n.reconnectRetriesCount=function(){return this._reconnectAttempts},n.messageQueueSize=function(){return this._pendingMessages.length},(0,r.default)(t,[{key:"readyState",get:function(){return this._socket?this._socket.readyState:i.CONNECTING}},{key:"reconnecting",get:function(){return this._opened&&this._socket&&this._socket.reconnecting}},{key:"socketID",get:function(){return this._socketID}}]),t}(n)).CONNECTING=i.CONNECTING,t.OPEN=i.OPEN,t.CLOSING=i.CLOSING,t.CLOSED=i.CLOSED,t}},function(e,t,i){"use strict";var r=i(0);t.__esModule=!0,t.default=void 0;var o=r(i(16)),a=i(750),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=r?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(i,o,a):i[o]=e[o]}return i.default=e,n&&n.set(e,i),i}(i(176));function c(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}let l=function(){function e(e,t,n,i){this.type=void 0,this.toAddress=void 0,this.headers=void 0,this.data=void 0,this.type=e,this.toAddress=t,this.headers=n,this.data=i,this.fromAddress=this.headers["X-TB-FROM-ADDRESS"],this.transactionId=this.headers["TRANSACTION-ID"],this.status=this.headers.STATUS,this.isError=this.status&&"2"!==this.status[0]}return e.prototype.serialize=function(){let e,t,n,i,r=8,o=7;const s=[],c=[],l=[];for(o++,n=0;n<this.toAddress.length;n++)s.push((new a.TextEncoder).encode(this.toAddress[n])),o+=2,o+=s[n].length;o++,n=0;for(const h in this.headers)this.headers.hasOwnProperty(h)&&(c.push((new a.TextEncoder).encode(h)),l.push((new a.TextEncoder).encode(this.headers[h])),o+=4,o+=c[n].length,o+=l[n].length,n++);t=new a.TextEncoder("utf-8").encode(this.data),o+=t.length;const d=new ArrayBuffer(o),u=new Uint8Array(d,0,o);for(o-=4,u[0]=(4278190080&o)>>>24,u[1]=(16711680&o)>>>16,u[2]=(65280&o)>>>8,u[3]=(255&o)>>>0,u[4]=0,u[5]=0,u[6]=this.type,u[7]=this.toAddress.length,n=0;n<s.length;n++)for(e=s[n],u[r++]=e.length>>8&255,u[r++]=e.length>>0&255,i=0;i<e.length;i++)u[r++]=e[i];for(u[r++]=c.length,n=0;n<c.length;n++){for(e=c[n],u[r++]=e.length>>8&255,u[r++]=e.length>>0&255,i=0;i<e.length;i++)u[r++]=e[i];for(e=l[n],u[r++]=e.length>>8&255,u[r++]=e.length>>0&255,i=0;i<e.length;i++)u[r++]=e[i]}for(n=0;n<t.length;n++)u[r++]=t[n];return d},e.deserialize=function(t){let i,r,o,s,c,l,d,u;(void 0!==typeof window?window:n.g).Buffer&&(void 0!==typeof window?window:n.g).Buffer.isBuffer(t)&&(t=(e=>{const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let i=0;i<e.length;++i)n[i]=e[i];return t})(t));let h=8;const A=new Uint8Array(t);i=A[6];const p=[];for(u=0;u<A[7];u++)d=A[h++]<<8,d+=A[h++],r=new Uint8Array(t,h,d),p[u]=new a.TextDecoder("utf-8").decode(r),h+=d;for(o=A[h++],s={},u=0;u<o;u++)d=A[h++]<<8,d+=A[h++],r=new Uint8Array(t,h,d),c=new a.TextDecoder("utf-8").decode(r),h+=d,d=A[h++]<<8,d+=A[h++],r=new Uint8Array(t,h,d),l=new a.TextDecoder("utf-8").decode(r),s[c]=l,h+=d;const g=new Uint8Array(t,h);return new e(i,p,s,new a.TextDecoder("utf-8").decode(g))},e.Connect=function(t,n){const i={uniqueId:t,"TRANSACTION-ID":(0,o.default)(),notifyDisconnectAddress:n};return new e(s.CONNECT,[],i,"")},e.Disconnect=function(t){return new e(s.DISCONNECT,[],{reconnect:t},"")},e.Subscribe=function(t){return new e(s.SUBSCRIBE,t,{},"")},e.Unsubscribe=function(t){return new e(s.UNSUBSCRIBE,t,{},"")},e.Publish=function(t,n,i){return new e(s.MESSAGE,t,i||{},n||"")},e.Status=function(t,n){return new e(s.STATUS,t,n||{},"")},e.Ping=function(){return new e(s.PING,[],{},"")},e}();t.default=l},function(e,t,i){"use strict";t.__esModule=!0,t.TextEncoder=t.TextDecoder=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=r?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}return i.default=e,n&&n.set(e,i),i}(i(751));function o(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}const a=(void 0!==typeof window?window:n.g).TextEncoder||r.TextEncoder;t.TextEncoder=a;const s=(void 0!==typeof window?window:n.g).TextDecoder||r.TextDecoder;t.TextDecoder=s},function(e,t,n){"use strict";function i(e,t,n){return t<=e&&e<=n}function r(e){if(void 0===e)return{};if(e===Object(e))return e;throw TypeError("Could not convert argument to dictionary")}function o(e){this.tokens=[].slice.call(e)}n.r(t),n.d(t,"TextEncoder",(function(){return d})),n.d(t,"TextDecoder",(function(){return l})),o.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():-1},prepend:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.unshift(t.pop());else this.tokens.unshift(e)},push:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.push(t.shift());else this.tokens.push(e)}};var a=-1;function s(e,t){if(e)throw TypeError("Decoder error");return t||65533}var c="utf-8";function l(e,t){if(!(this instanceof l))return new l(e,t);if((e=void 0!==e?String(e).toLowerCase():c)!==c)throw new Error("Encoding not supported. Only utf-8 is supported");t=r(t),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=Boolean(t.fatal),this._ignoreBOM=Boolean(t.ignoreBOM),Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}function d(e,t){if(!(this instanceof d))return new d(e,t);if((e=void 0!==e?String(e).toLowerCase():c)!==c)throw new Error("Encoding not supported. Only utf-8 is supported");t=r(t),this._streaming=!1,this._encoder=null,this._options={fatal:Boolean(t.fatal)},Object.defineProperty(this,"encoding",{value:"utf-8"})}function u(e){var t=e.fatal,n=0,r=0,o=0,c=128,l=191;this.handler=function(e,d){if(-1===d&&0!==o)return o=0,s(t);if(-1===d)return a;if(0===o){if(i(d,0,127))return d;if(i(d,194,223))o=1,n=d-192;else if(i(d,224,239))224===d&&(c=160),237===d&&(l=159),o=2,n=d-224;else{if(!i(d,240,244))return s(t);240===d&&(c=144),244===d&&(l=143),o=3,n=d-240}return n<<=6*o,null}if(!i(d,c,l))return n=o=r=0,c=128,l=191,e.prepend(d),s(t);if(c=128,l=191,n+=d-128<<6*(o-(r+=1)),r!==o)return null;var u=n;return n=o=r=0,u}}function h(e){e.fatal,this.handler=function(e,t){if(-1===t)return a;if(i(t,0,127))return t;var n,r;i(t,128,2047)?(n=1,r=192):i(t,2048,65535)?(n=2,r=224):i(t,65536,1114111)&&(n=3,r=240);for(var o=[(t>>6*n)+r];n>0;){var s=t>>6*(n-1);o.push(128|63&s),n-=1}return o}}l.prototype={decode:function(e,t){var n;n="object"===typeof e&&e instanceof ArrayBuffer?new Uint8Array(e):"object"===typeof e&&"buffer"in e&&e.buffer instanceof ArrayBuffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(0),t=r(t),this._streaming||(this._decoder=new u({fatal:this._fatal}),this._BOMseen=!1),this._streaming=Boolean(t.stream);for(var i,s=new o(n),c=[];!s.endOfStream()&&(i=this._decoder.handler(s,s.read()))!==a;)null!==i&&(Array.isArray(i)?c.push.apply(c,i):c.push(i));if(!this._streaming){do{if((i=this._decoder.handler(s,s.read()))===a)break;null!==i&&(Array.isArray(i)?c.push.apply(c,i):c.push(i))}while(!s.endOfStream());this._decoder=null}return c.length&&(-1===["utf-8"].indexOf(this.encoding)||this._ignoreBOM||this._BOMseen||(65279===c[0]?(this._BOMseen=!0,c.shift()):this._BOMseen=!0)),function(e){for(var t="",n=0;n<e.length;++n){var i=e[n];i<=65535?t+=String.fromCharCode(i):(i-=65536,t+=String.fromCharCode(55296+(i>>10),56320+(1023&i)))}return t}(c)}},d.prototype={encode:function(e,t){e=e?String(e):"",t=r(t),this._streaming||(this._encoder=new h(this._options)),this._streaming=Boolean(t.stream);for(var n,i=[],s=new o(function(e){for(var t=String(e),n=t.length,i=0,r=[];i<n;){var o=t.charCodeAt(i);if(o<55296||o>57343)r.push(o);else if(56320<=o&&o<=57343)r.push(65533);else if(55296<=o&&o<=56319)if(i===n-1)r.push(65533);else{var a=e.charCodeAt(i+1);if(56320<=a&&a<=57343){var s=1023&o,c=1023&a;r.push(65536+(s<<10)+c),i+=1}else r.push(65533)}i+=1}return r}(e));!s.endOfStream()&&(n=this._encoder.handler(s,s.read()))!==a;)Array.isArray(n)?i.push.apply(i,n):i.push(n);if(!this._streaming){for(;(n=this._encoder.handler(s,s.read()))!==a;)Array.isArray(n)?i.push.apply(i,n):i.push(n);this._encoder=null}return new Uint8Array(i)}}},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=e[o]}return i.default=e,n&&n.set(e,i),i}(n(77)),o=i(n(8));function a(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}t.default=function(e){if(this.code=void 0,this.message=void 0,this.name=void 0,this.code=r.codes.CLOSE_FALLBACK_CODE,Object.values(r.codes).includes(e))switch(this.code=e,this.code){case r.codes.CLOSE_GOING_AWAY:case r.codes.CLOSE_PROTOCOL_ERROR:case r.codes.CLOSE_UNSUPPORTED:case r.codes.CLOSE_NO_STATUS:case r.codes.CLOSE_ABNORMAL:case r.codes.CLOSE_INCONSISTENT_DATA:case r.codes.CLOSE_POLICY_VIOLATION:case r.codes.CLOSE_TOO_LARGE:case r.codes.CLOSE_UNEXPECTED_CONDITION:case r.codes.CLOSE_CONNECTIVITY_LOSS:case r.codes.CLOSE_CONNECT_EXCEPTION:case r.codes.CLOSE_TIMEOUT:return this.name=o.default.DISCONNECTED,void(this.message="Action failed due to session disconnection.")}this.message=r.messages[this.code]||"No message available from code."}},function(e,t,i){"use strict";var r=i(0);t.__esModule=!0,t.default=void 0;var o=r(i(754)),a=(void 0!==typeof window?window:n.g).WebSocket?(void 0!==typeof window?window:n.g).WebSocket:o.default;t.default=a},function(e,t,n){"use strict";e.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(52));const o=i(n(3)).default.name,a=r.default.once;t.default=()=>a()&&["Chrome","Firefox","Safari"].indexOf(o)>-1},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=function(e){const t=(0,r.default)(e.data);return t.transactionId=e.transactionId,t.fromAddress=e.headers["X-TB-FROM-ADDRESS"],t};var r=i(n(757))},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){if(0===e.length)return{};const t=JSON.parse(e),n=t.uri.substr(1).split("/");n.shift(),""===n[n.length-1]&&n.pop(),t.params={};for(let i=0,r=n.length;i<r-1;i+=2)t.params[n[i]]=n[i+1];return n.length%2===0?"channel"===n[n.length-2]&&n.length>6?t.resource="".concat(n[n.length-4],"_").concat(n[n.length-2]):t.resource=n[n.length-2]:"channel"===n[n.length-1]&&n.length>5?t.resource="".concat(n[n.length-3],"_").concat(n[n.length-1]):t.resource=n[n.length-1],t.signature="".concat(t.resource,"#").concat(t.method),t}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0,t.default="DTLS_SRTP"},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;const r=i(n(52)).default.once;t.default=()=>r()},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(3));const o=i(n(52)).default.once;t.default=()=>o()&&("Chrome"===r.default.name||"Firefox"===r.default.name||"Node"===r.default.name||"Safari"===r.default.name||"Edge"===r.default.name)},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){let t=e.supportsWebRTC;return{supportsWebRTC:"true"===t||!0===t}}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){this.code=e,this.message=t,this.reason=t}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var i=function(e){const t=[];this.enqueue=function(){t.push(Array.prototype.slice.call(arguments))},this.triggerAll=function(){let n;for(;n=t.shift();)e.trigger(...n)}};t.default=i},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(222)),o=i(n(227)),a=i(n(300)),s=i(n(59)),c=i(n(9)),l=i(n(10)),d=i(n(136)),u=i(n(765)),h=i(n(766));const A={EMPTY_RESPONSE:"Response body was empty, probably due to connectivity loss",BADLY_FORMED:"Unknown error: JSON response was badly formed",NO_ERROR:"No error message",UNEXPECTED_SERVER_RESPONSE:e=>"Unexpected server response (".concat(e,"). Try this operation again later.")},p=[0,600,1200];var g=function(e){let t=void 0===e?{}:e,n=t.axios,i=void 0===n?o.default:n,g=t.retryDelays,f=void 0===g?p:g;return(0,a.default)((function(e){let t=e.anvilUrl,n=e.sessionId,o=e.token,a=e.clientVersion,p=e.connectionId;const g=r.default.parse(t,!0),f=r.default.format({protocol:g.protocol,auth:g.auth,host:g.host,pathname:r.default.resolve((g.pathname||"").replace(/\/?$/,"/"),"session/".concat(n)),query:Object.assign({},g.query,{extended:!0})});return i.get(f,{validateStatus:e=>e>=200&&e<300,headers:{"X-OPENTOK-AUTH":o,"X-TB-VERSION":1,"X-TB-CLIENT-VERSION":a,"X-TB-CONNECTIONID":p,Accept:"application/json"}}).catch((e=>{if(e.response){const t=new Error(A.UNEXPECTED_SERVER_RESPONSE("".concat(e.response.statusCode).concat(e.response.status?" ".concat(e.response.status):"")));throw t.code=l.default.ANVIL_INVALID_HTTP_STATUS,t.name=(0,u.default)(t.code),t}if(e.request){const e=new Error(A.CONNECT_FAILED);throw e.code=l.default.ANVIL_CONNECT_FAILED,e.name=(0,u.default)(e.code),e}{const t=l.default.ANVIL_UNKNOWN_HTTP_ERROR,n=(0,u.default)(e.code);throw(0,c.default)(e,{code:t,name:n}),e}})).then((e=>{let t=e.data;if("string"===typeof t){if(t.length>0)try{JSON.parse(t)}catch(i){throw i.message=A.UNEXPECTED_SERVER_RESPONSE(i.toString()),i.code=l.default.ANVIL_XDOMAIN_OR_PARSING_ERROR,i.name=(0,u.default)(i.code),i}const e=new Error(0===t.length?A.EMPTY_RESPONSE:A.BADLY_FORMED);throw e.code=0===t.length?l.default.ANVIL_EMPTY_RESPONSE_BODY:l.default.ANVIL_BADLY_FORMED_RESPONSE,e.name=(0,u.default)(e.code),e}if(null===t||0===t.length){const e=new Error(A.EMPTY_RESPONSE);throw e.code=l.default.ANVIL_EMPTY_RESPONSE_BODY,e.name=(0,u.default)(e.code),e}const n=t.filter((e=>null!=e.error))[0];if(n){const e=(0,h.default)((0,s.default)(n,"error.code","500"));"Invalid token format"===(0,s.default)(n,"error.errorMessage.message")&&(n.error.errorMessage.message+=" Token: ".concat(o));const t=new Error((0,s.default)(n,"error.errorMessage.message",void 0===e?"Unknown error: ".concat(n.error.code):A.NO_ERROR));throw t.code=e||l.default.ANVIL_UNEXPECTED_ERROR_CODE,t.name=(0,u.default)(t.code),t}return new d.default(t[0])}))}),((e,t)=>e.code&&e.code>=3e3&&e.code<=3007&&f[t]))};t.default=g},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(10)),o=i(n(8));const a={[r.default.ANVIL_BADLY_FORMED_RESPONSE]:o.default.BADLY_FORMED_RESPONSE,[r.default.ANVIL_INVALID_HTTP_STATUS]:o.default.INVALID_HTTP_STATUS,[r.default.ANVIL_XDOMAIN_OR_PARSING_ERROR]:o.default.XDOMAIN_OR_PARSING_ERROR,[r.default.ANVIL_UNKNOWN_HTTP_ERROR]:o.default.UNKNOWN_HTTP_ERROR,[r.default.ANVIL_UNEXPECTED_ERROR_CODE]:o.default.UNEXPECTED_ERROR_CODE,[r.default.ANVIL_EMPTY_RESPONSE_BODY]:o.default.EMPTY_RESPONSE_BODY,[r.default.ANVIL_CONNECT_FAILED]:o.default.CONNECT_FAILED,[r.default.AUTHENTICATION_ERROR]:o.default.AUTHENTICATION_ERROR,[r.default.INVALID_SESSION_ID]:o.default.INVALID_SESSION_ID,[r.default.TERMS_OF_SERVICE_FAILURE]:o.default.TERMS_OF_SERVICE_FAILURE,[r.default.UNEXPECTED_SERVER_RESPONSE]:o.default.UNEXPECTED_SERVER_RESPONSE};var s=function(e){return a[e]};t.default=s},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(10));const o={400:r.default.INVALID_SESSION_ID,403:r.default.AUTHENTICATION_ERROR,404:r.default.INVALID_SESSION_ID,409:r.default.TERMS_OF_SERVICE_FAILURE,500:r.default.UNEXPECTED_SERVER_RESPONSE};var a=function(e){return o[e]};t.default=a},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(4)),o=i(n(5)),a=i(n(29)),s=i(n(14)),c=i(n(285));let l=function(e){function t(t){var n;return void 0===t&&(t={}),(n=e.call(this)||this)._generateKey=t.generateKey||c.default,n}(0,a.default)(t,e);var n=t.prototype;return n.set=function(){var e=(0,o.default)(r.default.mark((function e(t,n){var i;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.keyPromise=this._generateKey(t,n),e.next=3,this.keyPromise;case 3:i=e.sent,this.emit("keyChanged",i);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),n.get=function(){var e=(0,o.default)(r.default.mark((function e(){var t;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.keyPromise;case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.clear=function(){this.keyPromise=void 0},t}(s.default);var d=l;t.default=d},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=function(e){void 0===e&&(e={});let t,n=e,i=(0,s.default)({},((0,a.default)(n),n));const l=function(){var e=(0,o.default)(r.default.mark((function e(n){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.create(n));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return function(){var e=this;this._clientStore={},t=i.sframe||c.default,this._initClientStore=e=>{this._clientStore=e},this.createSender=function(){var t=(0,o.default)(r.default.mark((function t(n){var i;return r.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===n&&(n=0),!e.getSender(n)){t.next=3;break}return t.abrupt("return",e.getSender(n));case 3:return e._clientStore[n]||(e._clientStore[n]={}),t.prev=4,t.next=7,l(n);case 7:e._clientStore[n].sender=t.sent,t.next=13;break;case 10:t.prev=10,t.t0=t.catch(4),null==(i=e._clientStore[n])||delete i.sender;case 13:return t.abrupt("return",e.getSender(n));case 14:case"end":return t.stop()}}),t,null,[[4,10]])})));return function(e){return t.apply(this,arguments)}}(),this.createReceiver=function(){var t=(0,o.default)(r.default.mark((function t(n){var i;return r.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.getReceiver(n)){t.next=2;break}return t.abrupt("return",e.getReceiver(n));case 2:return e._clientStore[n]||(e._clientStore[n]={}),t.prev=3,t.next=6,l(n);case 6:e._clientStore[n].receiver=t.sent,t.next=12;break;case 9:t.prev=9,t.t0=t.catch(3),null==(i=e._clientStore[n])||delete i.receiver;case 12:return t.abrupt("return",e.getReceiver(n));case 13:case"end":return t.stop()}}),t,null,[[3,9]])})));return function(e){return t.apply(this,arguments)}}(),this.getSender=e=>{var t;return null==(t=this._clientStore[e])?void 0:t.sender},this.getReceiver=e=>{var t;return null==(t=this._clientStore[e])?void 0:t.receiver},this.deleteReceiver=e=>{var t;null==(t=this._clientStore[e])||delete t.receiver},this.deleteSender=e=>{var t;null==(t=this._clientStore[e])||delete t.sender}}};var r=i(n(4)),o=i(n(5)),a=i(n(324)),s=i(n(325)),c=i(n(769))},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(4)),o=i(n(5)),a=n(770),s=i(n(776));const c=function(){var e=(0,o.default)(r.default.mark((function e(t){var n,i;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.setEnableOnSuccess(!0);case 2:n=()=>{t.removeEventListener("error",n),t.addEventListener("success",i),t.dispatchEvent(new Event("decryptFailed"))},i=()=>{t.removeEventListener("success",i),t.addEventListener("error",n),t.dispatchEvent(new Event("decryptionRestored"))},t.addEventListener("error",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=(0,o.default)(r.default.mark((function e(t,n){var i,l,d;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n={}),i=n.SFrameClient||a.Client,l=n.normalizeKey||s.default,e.next=5,i.create(t);case 5:return(d=e.sent)._setReceiverEncryptionKey=d.setReceiverEncryptionKey,d.setReceiverEncryptionKey=function(){var e=(0,o.default)(r.default.mark((function e(t,n){var i;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(n);case 2:return i=e.sent,e.abrupt("return",d._setReceiverEncryptionKey(t,i));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),d._setSenderEncryptionKey=d.setSenderEncryptionKey,d.setSenderEncryptionKey=function(){var e=(0,o.default)(r.default.mark((function e(t){var n;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(t);case 2:return n=e.sent,e.abrupt("return",d._setSenderEncryptionKey(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c(d),e.abrupt("return",d);case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();var d={create:l};t.default=d},function(e,t,n){(function(e,i,r,o){var a=n(0);t.__esModule=!0,t.VideoCodec=t.Codec=t.Client=t.AudioCodec=void 0;var s=a(n(4)),c=a(n(280)),l=a(n(29)),d=a(n(36)),u=a(n(5)),h=function(e){function t(){var t=this||self;return delete e.prototype.__magic__,t}return"object"===typeof globalThis?globalThis:this?t():(e.defineProperty(e.prototype,"__magic__",{configurable:!0,get:t}),__magic__)}(Object);function A(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"===typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var g=(e=>(e[e.VP8=0]="VP8",e[e.H264=1]="H264",e[e.OPUS=2]="OPUS",e))(g||{});t.Codec=g;var f=(e=>(e[e.VP8=0]="VP8",e[e.H264=1]="H264",e))(f||{});t.VideoCodec=f;var m=(e=>(e[e.OPUS=2]="OPUS",e))(m||{});function E(e,t){h.vonage||(h.vonage={}),h.vonage.workerizer||(h.vonage.workerizer={});let n=h.vonage.workerizer;return n[e]||(n[e]=t),n[e]}t.AudioCodec=m;const C=E("globals",{});var I=(e=>(e.INIT="INIT",e.FORWARD="FORWARD",e.TERMINATE="TERMINATE",e.GLOBALS_SYNC="GLOBALS_SYNC",e.EVENT="EVENT",e))(I||{});function Q(e){return[ImageBitmap,ReadableStream,WritableStream].some((t=>e instanceof t))}let U=0;function y(t,n,i,r,o){const a=U++;return t.postMessage({id:a,type:n,functionName:i,args:r},r.filter((e=>Q(e)))),new e((e=>{null==o||o.set(a,e)}))}function b(e,t){const n=e.id,i=e.type,r=Array.isArray(t)?t:[t];postMessage({id:n,type:i,result:t},r.filter((e=>Q(e))))}const v=E("workerized",{});function R(){return"undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope}function S(){return F.apply(this,arguments)}function F(){return(F=(0,u.default)(s.default.mark((function t(){var n,i,r,o,a;return s.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!R()){t.next=4;break}b({type:I.GLOBALS_SYNC},C),t.next=8;break;case 4:for(i in n=[],v)r=v[i].workerContext,o=r.worker,a=r.resolvers,o&&n.push(y(o,I.GLOBALS_SYNC,"",[C],a));return t.next=8,e.all(n);case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function B(e,t){if(Array.isArray(t))t.splice(0,t.length);else if("object"===typeof t)for(const n in t)delete t[n];for(const n in e)Array.isArray(e[n])?(t[n]=[],B(e[n],t[n])):"object"===typeof e[n]?(t[n]={},B(e[n],t[n])):t[n]=e[n]}function T(e,t,n,i){return N.apply(this,arguments)}function N(){return N=(0,u.default)(s.default.mark((function e(t,n,i,r){var o;return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(o=new n).addEventListener("message",function(){var e=(0,u.default)(s.default.mark((function e(t){var n,o,a,c,l,d,u,h,A,p;return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.data,e.t0=n.type,e.next=e.t0===I.GLOBALS_SYNC?4:e.t0===I.EVENT?13:19;break;case 4:if(!n.id){e.next=9;break}null==(a=i.get(null!=(o=n.id)?o:-1))||a(n.result),i.delete(null!=(c=n.id)?c:-1),e.next=12;break;case 9:return B(null!=(l=n.result)?l:{},C),e.next=12,S();case 12:return e.abrupt("break",21);case 13:if(A=n.result,void 0!=(null==(p=A)?void 0:p.name)){e.next=17;break}throw"Missing event name";case 17:return r(p.name,p.data),e.abrupt("break",21);case 19:null==(u=i.get(null!=(d=n.id)?d:-1))||u(n.result),i.delete(null!=(h=n.id)?h:-1);case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=4,y(o,I.INIT,"",[t.workerId,C],i);case 4:if(e.sent){e.next=7;break}throw"Failed to instantiate workerized class";case 7:return e.abrupt("return",o);case 8:case"end":return e.stop()}}),e)}))),N.apply(this,arguments)}const _=new WeakMap,w=new WeakMap,k=new WeakMap,D=Symbol("anyProducer"),V=e.resolve(),Z=Symbol("listenerAdded"),W=Symbol("listenerRemoved");let O=!1,J=!1;function x(e){if("string"!==typeof e&&"symbol"!==typeof e&&"number"!==typeof e)throw new TypeError("`eventName` must be a string, symbol, or number")}function M(e){if("function"!==typeof e)throw new TypeError("listener must be a function")}function L(e,t){const n=w.get(e);if(n.has(t))return n.get(t)}function P(e,t){const n="string"===typeof t||"symbol"===typeof t||"number"===typeof t?t:D,i=k.get(e);if(i.has(n))return i.get(n)}function G(t,n,i){const r=k.get(t);if(r.has(n))for(var o,a=A(r.get(n));!(o=a()).done;)o.value.enqueue(i);if(r.has(D)){const t=e.all([n,i]);for(var s,c=A(r.get(D));!(s=c()).done;)s.value.enqueue(t)}}function Y(t,n){n=Array.isArray(n)?n:[n];let i=!1,r=()=>{},o=[];const a={enqueue(e){o.push(e),r()},finish(){i=!0,r()}};for(var c,l=A(n);!(c=l()).done;){const e=c.value;let n=P(t,e);n||(n=new Set,k.get(t).set(e,n)),n.add(a)}return{next(){var t=this;return(0,u.default)(s.default.mark((function n(){return s.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o){n.next=2;break}return n.abrupt("return",{done:!0});case 2:if(0!==o.length){n.next=9;break}if(!i){n.next=6;break}return o=void 0,n.abrupt("return",t.next());case 6:return n.next=8,new e((e=>{r=e}));case 8:return n.abrupt("return",t.next());case 9:return n.next=11,o.shift();case 11:return n.t0=n.sent,n.abrupt("return",{done:!1,value:n.t0});case 13:case"end":return n.stop()}}),n)})))()},return(e){var i=arguments;return(0,u.default)(s.default.mark((function c(){var l,d,u,h;return s.default.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:for(o=void 0,l=A(n);!(d=l()).done;)u=d.value,(h=P(t,u))&&(h.delete(a),0===h.size&&k.get(t).delete(u));if(r(),!(i.length>0)){s.next=10;break}return s.next=6,e;case 6:s.t1=s.sent,s.t0={done:!0,value:s.t1},s.next=11;break;case 10:s.t0={done:!0};case 11:return s.abrupt("return",s.t0);case 12:case"end":return s.stop()}}),c)})))()},[Symbol.asyncIterator](){return this}}}function j(e){if(void 0===e)return z;if(!Array.isArray(e))throw new TypeError("`methodNames` must be an array of strings");for(var t,n=A(e);!(t=n()).done;){const e=t.value;if(!z.includes(e)){if("string"!==typeof e)throw new TypeError("`methodNames` element must be a string");throw new Error("".concat(e," is not Emittery method"))}}return e}const X=e=>e===Z||e===W;function K(e,t,n){if(X(t))try{O=!0,e.emit(t,n)}finally{O=!1}}let H=function(){function t(e){var t;void 0===e&&(e={}),_.set(this,new Set),w.set(this,new Map),k.set(this,new Map),k.get(this).set(D,new Set),this.debug=null!=(t=e.debug)?t:{},void 0===this.debug.enabled&&(this.debug.enabled=!1),this.debug.logger||(this.debug.logger=(e,t,n,i)=>{try{i=JSON.stringify(i)}catch(a){i="Object with the following keys failed to stringify: ".concat(Object.keys(i).join(","))}"symbol"!==typeof n&&"number"!==typeof n||(n=n.toString());const r=new Date,o="".concat(r.getHours(),":").concat(r.getMinutes(),":").concat(r.getSeconds(),".").concat(r.getMilliseconds());console.log("[".concat(o,"][emittery:").concat(e,"][").concat(t,"] Event Name: ").concat(n,"\n\tdata: ").concat(i))})}t.mixin=function(e,n){return n=j(n),i=>{if("function"!==typeof i)throw new TypeError("`target` must be function");for(var r,o=A(n);!(r=o()).done;){const e=r.value;if(void 0!==i.prototype[e])throw new Error("The property `".concat(e,"` already exists on `target`"))}Object.defineProperty(i.prototype,e,{enumerable:!1,get:function(){return Object.defineProperty(this,e,{enumerable:!1,value:new t}),this[e]}});const a=t=>function(){return this[e][t](...arguments)};for(var s,c=A(n);!(s=c()).done;){const e=s.value;Object.defineProperty(i.prototype,e,{enumerable:!1,value:a(e)})}return i}};var n=t.prototype;return n.logIfDebugEnabled=function(e,n,i){(t.isDebugEnabled||this.debug.enabled)&&this.debug.logger(e,this.debug.name,n,i)},n.on=function(e,t){M(t);for(var n,i=A(e=Array.isArray(e)?e:[e]);!(n=i()).done;){const e=n.value;x(e);let i=L(this,e);i||(i=new Set,w.get(this).set(e,i)),i.add(t),this.logIfDebugEnabled("subscribe",e,void 0),X(e)||K(this,Z,{eventName:e,listener:t})}return this.off.bind(this,e,t)},n.off=function(e,t){M(t);for(var n,i=A(e=Array.isArray(e)?e:[e]);!(n=i()).done;){const e=n.value;x(e);const i=L(this,e);i&&(i.delete(t),0===i.size)&&w.get(this).delete(e),this.logIfDebugEnabled("unsubscribe",e,void 0),X(e)||K(this,W,{eventName:e,listener:t})}},n.once=function(t){let n;const i=new e((e=>{n=this.on(t,(t=>{n(),e(t)}))}));return i.off=n,i},n.events=function(e){for(var t,n=A(e=Array.isArray(e)?e:[e]);!(t=n()).done;)x(t.value);return Y(this,e)},n.emit=function(){var t=(0,u.default)(s.default.mark((function t(n,i){var r,o,a,c,l;return s.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(x(n),!X(n)||O){t.next=3;break}throw new TypeError("`eventName` cannot be meta event `listenerAdded` or `listenerRemoved`");case 3:return this.logIfDebugEnabled("emit",n,i),G(this,n,i),o=null!=(r=L(this,n))?r:new Set,a=_.get(this),c=[...o],l=X(n)?[]:[...a],t.next=11,V;case 11:return t.next=13,e.all([...c.map(function(){var e=(0,u.default)(s.default.mark((function e(t){return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o.has(t)){e.next=2;break}return e.abrupt("return",t(i));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),...l.map(function(){var e=(0,u.default)(s.default.mark((function e(t){return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.has(t)){e.next=2;break}return e.abrupt("return",t(n,i));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())]);case 13:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}(),n.emitSerial=function(){var e=(0,u.default)(s.default.mark((function e(t,n){var i,r,o,a,c,l,d,u,h,A;return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x(t),!X(t)||O){e.next=3;break}throw new TypeError("`eventName` cannot be meta event `listenerAdded` or `listenerRemoved`");case 3:return this.logIfDebugEnabled("emitSerial",t,n),r=null!=(i=L(this,t))?i:new Set,o=_.get(this),a=[...r],c=[...o],e.next=10,V;case 10:l=0,d=a;case 11:if(!(l<d.length)){e.next=19;break}if(u=d[l],!r.has(u)){e.next=16;break}return e.next=16,u(n);case 16:l++,e.next=11;break;case 19:h=0,A=c;case 20:if(!(h<A.length)){e.next=28;break}if(u=A[h],!o.has(u)){e.next=25;break}return e.next=25,u(t,n);case 25:h++,e.next=20;break;case 28:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),n.onAny=function(e){return M(e),this.logIfDebugEnabled("subscribeAny",void 0,void 0),_.get(this).add(e),K(this,Z,{listener:e}),this.offAny.bind(this,e)},n.anyEvent=function(){return Y(this)},n.offAny=function(e){M(e),this.logIfDebugEnabled("unsubscribeAny",void 0,void 0),K(this,W,{listener:e}),_.get(this).delete(e)},n.clearListeners=function(e){for(var t,n=A(e=Array.isArray(e)?e:[e]);!(t=n()).done;){const e=t.value;if(this.logIfDebugEnabled("clear",e,void 0),"string"===typeof e||"symbol"===typeof e||"number"===typeof e){const t=L(this,e);t&&t.clear();const n=P(this,e);if(n){for(var i,r=A(n);!(i=r()).done;)i.value.finish();n.clear()}}else{_.get(this).clear();for(var o,a=A(w.get(this).entries());!(o=a()).done;){const e=o.value,t=e[0];e[1].clear(),w.get(this).delete(t)}for(var s,c=A(k.get(this).entries());!(s=c()).done;){const e=s.value,t=e[0],n=e[1];for(var l,d=A(n);!(l=d()).done;)l.value.finish();n.clear(),k.get(this).delete(t)}}}},n.listenerCount=function(e){var t,n,i,r,o,a;let s=0;for(var c,l=A(e=Array.isArray(e)?e:[e]);!(c=l()).done;){const e=c.value;if("string"!==typeof e){"undefined"!==typeof e&&x(e),s+=_.get(this).size;for(var d,u=A(w.get(this).values());!(d=u()).done;)s+=d.value.size;for(var h,p=A(k.get(this).values());!(h=p()).done;)s+=h.value.size}else s+=_.get(this).size+(null!=(n=null==(t=L(this,e))?void 0:t.size)?n:0)+(null!=(r=null==(i=P(this,e))?void 0:i.size)?r:0)+(null!=(a=null==(o=P(this))?void 0:o.size)?a:0)}return s},n.bindMethods=function(e,t){if("object"!==typeof e||null===e)throw new TypeError("`target` must be an object");for(var n,i=A(t=j(t));!(n=i()).done;){const t=n.value;if(void 0!==e[t])throw new Error("The property `".concat(t,"` already exists on `target`"));Object.defineProperty(e,t,{enumerable:!1,value:this[t].bind(this)})}},(0,d.default)(t,null,[{key:"isDebugEnabled",get:function(){var e,t;if("object"!==typeof(null==(e=h.process)?void 0:e.env))return J;const n=(null!=(t=h.process)?t:{env:{}}).env;return"emittery"===n.DEBUG||"*"===n.DEBUG||J},set:function(e){J=e}}]),t}();const z=Object.getOwnPropertyNames(H.prototype).filter((e=>"constructor"!==e));Object.defineProperty(H,"listenerAdded",{value:Z,writable:!1,enumerable:!0,configurable:!1}),Object.defineProperty(H,"listenerRemoved",{value:W,writable:!1,enumerable:!0,configurable:!1});let q=0;function $(e,t,n){return ee.apply(this,arguments)}function ee(){return ee=(0,u.default)(s.default.mark((function e(t,n,i){var r,o,a;return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(c=t).prototype.onAny&&c.prototype.emit,o=r?new H:{},a=q++,Object.getOwnPropertyNames(t.prototype).forEach((e=>{o[e]=function(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return y(n,I.FORWARD,e,r,i)}})),o.terminate=(0,u.default)(s.default.mark((function e(){var t,r,c,l,d=arguments;return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=d.length,r=new Array(t),c=0;c<t;c++)r[c]=d[c];return e.next=3,y(n,I.TERMINATE,"",r,i);case 3:return l=e.sent,delete v[a],n.terminate(),o.workerContext.worker=void 0,e.abrupt("return",l);case 8:case"end":return e.stop()}}),e)}))),o.workerContext={id:a,worker:n,resolvers:i},v[a]=o,e.abrupt("return",o);case 8:case"end":return e.stop()}var c}),e)}))),ee.apply(this,arguments)}function te(e,t){return ne.apply(this,arguments)}function ne(){return(ne=(0,u.default)(s.default.mark((function e(t,n){var i,r,o;return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=new Map,e.next=3,T(t,n,i,((e,t)=>{(null==r?void 0:r.emit)&&(null==r||r.emit(e,t))}));case 3:return o=e.sent,e.next=6,$(t,o,i);case 6:return r=e.sent,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ie(e,t){return re.apply(this,arguments)}function re(){return(re=(0,u.default)(s.default.mark((function e(t,n){var i,r;return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.functionName,r=t.args,n.instance){e.next=3;break}throw"instance not initialized";case 3:if(i){e.next=5;break}throw"missing function name to call";case 5:if(n.instance[i]){e.next=7;break}throw"undefined function [".concat(i,"] in class ").concat(n.instance.constructor.workerId);case 7:return e.t0=b,e.t1=t,e.next=11,n.instance[i](...null!=r?r:[]);case 11:e.t2=e.sent,(0,e.t0)(e.t1,e.t2);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}const oe=E("registeredWorkers",{});function ae(e,t){if(!e.args)throw"Missing className while initializing worker";const n=e.args,i=n[0],r=n[1],o=oe[i];if(!o)throw"unknown worker class ".concat(i);var a;t.instance=new o(e.args.slice(1)),B(r,C),(a=t.instance).onAny&&a.emit&&t.instance.onAny(((e,t)=>{b({type:I.EVENT},{name:e,data:t})})),b(e,void 0!==typeof t.instance)}function se(e,t){return ce.apply(this,arguments)}function ce(){return(ce=(0,u.default)(s.default.mark((function e(t,n){var i,r;return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.args,n.instance){e.next=3;break}throw"instance not initialized";case 3:if(!n.instance.terminate){e.next=7;break}return e.next=6,n.instance.terminate(...null!=i?i:[]);case 6:r=e.sent;case 7:b(t,r);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function le(e){if(!e.args)throw"Missing globals while syncing";B(e.args[0],C),b(e,{})}R()&&function(){const e={};onmessage=function(){var t=(0,u.default)(s.default.mark((function t(n){var i;return s.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=n.data,t.t0=i.type,t.next=t.t0===I.INIT?4:t.t0===I.FORWARD?6:t.t0===I.TERMINATE?8:t.t0===I.GLOBALS_SYNC?10:12;break;case 4:return ae(i,e),t.abrupt("break",12);case 6:return ie(i,e),t.abrupt("break",12);case 8:return se(i,e),t.abrupt("break",12);case 10:return le(i),t.abrupt("break",12);case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}();var de=(()=>{var t=function(e){const t=n.p;let i="";return(!t||t.indexOf("://")<0)&&(i+=window.location.protocol+"//"+window.location.host),i+=t||"/",i+e}("node_modules/@vonage/js-sframe/dist/js-sframe.es.js");return function(a){var s,c;(a="undefined"!=typeof(a=a||{})?a:{}).ready=new e((function(e,t){s=e,c=t}));var l,d,u,h,A,p=Object.assign({},a),g=(e,t)=>{throw t},f="object"==typeof window,m="function"==typeof importScripts,E="object"==typeof i&&"object"==typeof i.versions&&"string"==typeof i.versions.node,C="";E?(C=m?n(343).dirname(C)+"/":r+"/",h=n(775),A=n(343),l=(e,t)=>{var n=Ft(e);return n?t?n:n.toString():(e=A.normalize(e),h.readFileSync(e,t?void 0:"utf8"))},u=e=>{var t=l(e,!0);return t.buffer||(t=new Uint8Array(t)),t},d=(e,t,n)=>{var i=Ft(e);i&&t(i),e=A.normalize(e),h.readFile(e,(function(e,i){e?n(e):t(i.buffer)}))},i.argv.length>1&&i.argv[1].replace(/\\/g,"/"),i.argv.slice(2),i.on("uncaughtException",(function(e){if(!(e instanceof ee))throw e})),i.on("unhandledRejection",(function(e){throw e})),g=(e,t)=>{if(P())throw i.exitCode=e,t;var n;(n=t)instanceof ee||Q("exiting due to exception: "+n),i.exit(e)},a.inspect=function(){return"[Emscripten Module object]"}):(f||m)&&(m?C=self.location.href:"undefined"!=typeof document&&document.currentScript&&(C=document.currentScript.src),t&&(C=t),C=0!==C.indexOf("blob:")?C.substr(0,C.replace(/[?#].*/,"").lastIndexOf("/")+1):"",l=e=>{try{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText}catch(i){var n=Ft(e);if(n)return function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n];i>255&&(i&=255),t.push(String.fromCharCode(i))}return t.join("")}(n);throw i}},m&&(u=e=>{try{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}catch(i){var n=Ft(e);if(n)return n;throw i}}),d=(e,t,n)=>{var i=new XMLHttpRequest;i.open("GET",e,!0),i.responseType="arraybuffer",i.onload=()=>{if(200==i.status||0==i.status&&i.response)t(i.response);else{var r=Ft(e);r?t(r.buffer):n()}},i.onerror=n,i.send(null)}),a.print||console.log.bind(console);var I,Q=a.printErr||console.warn.bind(console);Object.assign(a,p),p=null,a.arguments&&a.arguments,a.thisProgram&&a.thisProgram,a.quit&&(g=a.quit),a.wasmBinary&&(I=a.wasmBinary);var U,y=a.noExitRuntime||!0;"object"!=typeof WebAssembly&&j("no native wasm support detected");var b,v,R,S,F,B,T,N,_,w,k,D,V,Z=!1,W="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function O(e,t){return e?function(e,t,n){for(var i=t+n,r=t;e[r]&&!(r>=i);)++r;if(r-t>16&&e.buffer&&W)return W.decode(e.subarray(t,r));for(var o="";t<r;){var a=e[t++];if(128&a){var s=63&e[t++];if(192!=(224&a)){var c=63&e[t++];if((a=224==(240&a)?(15&a)<<12|s<<6|c:(7&a)<<18|s<<12|c<<6|63&e[t++])<65536)o+=String.fromCharCode(a);else{var l=a-65536;o+=String.fromCharCode(55296|l>>10,56320|1023&l)}}else o+=String.fromCharCode((31&a)<<6|s)}else o+=String.fromCharCode(a)}return o}(S,e,t):""}a.INITIAL_MEMORY;var J=[],x=[],M=[],L=[];function P(){return y}var G=0,Y=null;function j(e){a.onAbort&&a.onAbort(e),Q(e="Aborted("+e+")"),Z=!0,b=1,e+=". Build with -sASSERTIONS for more info.";var t=new WebAssembly.RuntimeError(e);throw c(t),t}var X,K,H="data:application/octet-stream;base64,";function z(e){return e.startsWith(H)}function q(e){return e.startsWith("file://")}function $(e){try{if(e==X&&I)return new Uint8Array(I);var t=Ft(e);if(t)return t;if(u)return u(e);throw"both async and sync fetching of the wasm failed"}catch(n){j(n)}}function ee(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function te(e){for(;e.length>0;)e.shift()(a)}function ne(e){if(null===e)return"null";var t=typeof e;return"object"===t||"array"===t||"function"===t?e.toString():""+e}z(X="data:application/octet-stream;base64,AGFzbQEAAAABlwIiYAF/AX9gAX8AYAJ/fwBgA39/fwBgAn9/AX9gA39/fwF/YAR/f39/AX9gBH9/f38AYAV/f39/fwBgAABgBn9/f39/fwBgAn9+AX9gCH9/f39/f39/AGAMf39/f39/f39/f39/AGAHf39/f39/fwF/YAABf2AJf39+f39/f39/AGACf34AYAN/f34Bf2AFf39/fn4AYA1/f39/f39/f39/f39/AGABfwF+YAJ/fwF+YAR/f35+AGAFf39/f38Bf2ADfn9/AX9gC39/f39/f39/f39/AX9gAXwBfGABfgF+YAZ/f39/f38Bf2ACf34BfmAFf35+f38Bf2AKf39/f39/f39/fwF/YA1/f39/f39/f39/f39/AX8CfxUBYQFhAAcBYQFiAAMBYQFjAAgBYQFkAAkBYQFlAAwBYQFmAAMBYQFnAAcBYQFoAAMBYQFpAAQBYQFqAAIBYQFrAAMBYQFsABMBYQFtAAEBYQFuAAEBYQFvAAoBYQFwAAABYQFxAAMBYQFyAAIBYQFzAAgBYQF0AAIBYQF1ABQD7wLtAgQAAAAAAQUHAAMABQMBBAAEAAEBBAEEAAIBAAABAAEABQIBAQkFAAYVAAACBAADAgADAAAABAECAgIAAwAAAwMAAAAFAQIDAwEAAgADAQIEAQgCAAACBQAFEQUOAQEBAwEBBAICAwMABQQCAAAABQUABQADAgEKBwMCFgIXBgQABQUPGAIDBQMDAwMZAAEAAAEEAAIDAAACAgACAQICAgkABwACABoEAwEAAgMDAgQHBQEBAAUAAhsJAQECAgYBAwIcAQUBDg4PBAQdAQEPAAoBAQwMAAEBAwEBAwERDAgAAAEBAwQDAQQEAAAEAAUAHgECBwQCAAIDAgIBAgECBAQEBAQAHwEBAgECAQADAgIAAQADAQEBAgELAA0EDQEFAxIEAQASAQoKCggIBQgFBwcHBQkAAQkFBAIDAQYGAwcCCQkICggDAwEgIQYCAQEBAgMBEAEQAwECCwEBAQAAAAAACwAAAAAAAQECAAAJBAUBcAF9fQUGAQGAAoACBgkBfwFBoPTAAgsHJQgBdgIAAXcAtAEBeAC7AQF5AQABegAiAUEAOwFCAMgCAUMAxwIJ8gEBAEEBC3yBA7gCtwKwAq0CqwL+AvYC7QLsAuoC5QLkAsACuQK2ArUCtAKzAlayAv8CsQKvAq4ChwGsAvsCgAP6AvkC+AL3AvUC9ALzAvIC8QK3AfUBsAE5/QL8AqYCsAGgAvAC7wK7Ae4ClgKTAqcBpAGqAbAB6wLpAugC5wL1AeYC4wLiAuEC4AL0Ad8CugLeAt0C3AJ61wJ62wLZAtQC0wLWAtEC0ALVAs8CzgLNAtICeuQB5AF62gLYAswCywLKAskCzQHIAccBxwHIAUvGAcYBxQFLxQFLxgK7Ar4CxQJLvAK/AsQCS70CwQLDAkvCAgqwwwftAi8BAX8jAEEQayICIAA2AgwgAiABNgIIIAIoAgwiACACKAIIIgF2IABBACABa3RyCykBAX8jAEEQayIBJAAgASAANgIMIAEoAgwQFygCACEAIAFBEGokACAACzMBAX8jAEEQayIBJAAgASAANgIMIwBBEGsiACABKAIMNgIMIAAoAgwhACABQRBqJAAgAAspAQF/IwBBEGsiASQAIAEgADYCDCABKAIMQQhqEBchACABQRBqJAAgAAs2AQF/IwBBEGsiASQAIAEgADYCDCMAQRBrIgAgASgCDCgCADYCDCAAKAIMIQAgAUEQaiQAIAALIgEBfyMAQRBrIgEkACABIAA2AgwgASgCDBAxIAFBEGokAAuABAEDfyACQYAETwRAIAAgASACEBAgAA8LIAAgAmohAwJAIAAgAXNBA3FFBEACQCAAQQNxRQRAIAAhAgwBCyACRQRAIAAhAgwBCyAAIQIDQCACIAEtAAA6AAAgAUEBaiEBIAJBAWoiAkEDcUUNASACIANJDQALCwJAIANBfHEiBEHAAEkNACACIARBQGoiBUsNAANAIAIgASgCADYCACACIAEoAgQ2AgQgAiABKAIINgIIIAIgASgCDDYCDCACIAEoAhA2AhAgAiABKAIUNgIUIAIgASgCGDYCGCACIAEoAhw2AhwgAiABKAIgNgIgIAIgASgCJDYCJCACIAEoAig2AiggAiABKAIsNgIsIAIgASgCMDYCMCACIAEoAjQ2AjQgAiABKAI4NgI4IAIgASgCPDYCPCABQUBrIQEgAkFAayICIAVNDQALCyACIARPDQEDQCACIAEoAgA2AgAgAUEEaiEBIAJBBGoiAiAESQ0ACwwBCyADQQRJBEAgACECDAELIAAgA0EEayIESwRAIAAhAgwBCyAAIQIDQCACIAEtAAA6AAAgAiABLQABOgABIAIgAS0AAjoAAiACIAEtAAM6AAMgAUEEaiEBIAJBBGoiAiAETQ0ACwsgAiADSQRAA0AgAiABLQAAOgAAIAFBAWohASACQQFqIgIgA0cNAAsLIAAL8QYBAn8jAEEgayIEJAAgBCAANgIcIARBADYCGCAEIAE2AhQgBCACNgIQIAQgAzYCDEEAIQIjAEEQayIBJAAjAEEQayIAJAAgAEEANgIIQcjqAEHhABBnAkBBzOoAKAIARQRAIABBADYCDAwBCwJAQdDqACgCACIDQf8ASw0AIANBoOsAai0AAEUNACADQQJ0QaDsAGooAgAhAgsgACACNgIEIAAoAgRFBEAgAEEANgIMDAELIAAgACgCBCAAKAIIQQJ0aigCADYCDAsgACgCDCECIABBEGokACABIAI2AggCQCABKAIIRQRAIAFBjAIQOzYCCCABKAIIRQRAIAFBADYCDAwCCyABKAIIQQBBjAIQISABKAIIIQIjAEEgayIAJAAgAEEANgIYIAAgAjYCFCAAQckANgIQQcjqAEHhABBnAkBBzOoAKAIARQRAIAAoAhQgACgCEBEBACAAQQA2AhwMAQtBACECAkBB0OoAKAIAIgNB/wBLDQAgA0Gg6wBqLQAARQ0AIANBAnRBoOwAaigCACECCyAAIAI2AgwgACgCDEUEQCAAQRQQOzYCDCAAKAIMRQRAIAAoAhQgACgCEBEBACAAQQA2AhwMAgsgACgCDEEAQRQQISAAKAIMIQVBHCECAkBB0OoAKAIAIgNB/wBLDQAgA0Gg6wBqLQAARQ0AIANBAnRBoOwAaiAFNgIAQQAhAgsgAgRAIAAoAgwQIiAAKAIUIAAoAhARAQAgAEEANgIcDAILCyAAKAIYQQJ0QfDqAGogACgCEDYCACAAKAIMIAAoAhhBAnRqIAAoAhQ2AgAgAEEBNgIcCyAAKAIcIQIgAEEgaiQAIAJFBEAgAUEANgIMDAILCyABIAEoAgg2AgwLIAEoAgwhACABQRBqJAAgBCAANgIIIAQoAggEQAJAIAQoAhxBAkcNACAEKAIUDQAgBEGQ6wAoAgA2AhQLIAQoAggiACAAKAKAAkEBakEPcTYCgAIgBCgCCCgCgAIgBCgCCCgChAJGBEAgBCgCCCIAIAAoAoQCQQFqQQ9xNgKEAgsgBCAEKAIIIgAgACgCgAJBBHRqNgIEIAQoAgQQ8AEgBCgCBCAEKAIQNgIAIAQoAgQgBCgCDDsBDCAEKAIEIAQoAhRB/x9xIAQoAhxB/wFxQRh0cjYCCAsgBEEgaiQACykBAX8jAEEQayIBJAAgASAANgIMIAEoAgxBDGoQFyEAIAFBEGokACAAC2IBAX8jAEEQayIDJAAgAyAANgIIIAMgATYCBCADIAI2AgACQCADKAIARQRAIAMgAygCCDYCDAwBCyADKAIIIgAgAygCBCADKAIAEBsaIAMgADYCDAsgAygCDBogA0EQaiQAC34BAX8jAEEQayIBJAAgASAANgIEAkAgASgCBEEASQRAIAFBCGoQqAIMAQsgAUEAOgADIAFBCGoiABAqIAAgASgCBBAvEGMgABAWQQAgASgCBBBGIAFBAToAAyABLQADQQFxRQRAIAFBCGoQGgsLIAEoAgghACABQRBqJAAgAAt0AQF/IAJFBEAgACgCBCABKAIERg8LIAAgAUYEQEEBDwsgASgCBCICLQAAIQECQCAAKAIEIgMtAAAiAEUNACAAIAFHDQADQCACLQABIQEgAy0AASIARQ0BIAJBAWohAiADQQFqIQMgACABRg0ACwsgACABRgthAQF/IwBBEGsiAyQAIAMgADYCCCADIAE2AgQgAyACNgIAAkAgAygCAEUEQCADIAMoAgg2AgwMAQsgAygCCCIAIAMoAgQgAygCABBGIAMgADYCDAsgAygCDBogA0EQaiQAC8oMAQd/AkAgAEUNACAAQQhrIgIgAEEEaygCACIBQXhxIgBqIQUCQCABQQFxDQAgAUEDcUUNASACIAIoAgAiAWsiAkGw8AAoAgBJDQEgACABaiEAQbTwACgCACACRwRAIAFB/wFNBEAgAigCCCIEIAFBA3YiAUEDdEHI8ABqRhogBCACKAIMIgNGBEBBoPAAQaDwACgCAEF+IAF3cTYCAAwDCyAEIAM2AgwgAyAENgIIDAILIAIoAhghBgJAIAIgAigCDCIBRwRAIAIoAggiAyABNgIMIAEgAzYCCAwBCwJAIAJBFGoiBCgCACIDDQAgAkEQaiIEKAIAIgMNAEEAIQEMAQsDQCAEIQcgAyIBQRRqIgQoAgAiAw0AIAFBEGohBCABKAIQIgMNAAsgB0EANgIACyAGRQ0BAkAgAigCHCIEQQJ0QdDyAGoiAygCACACRgRAIAMgATYCACABDQFBpPAAQaTwACgCAEF+IAR3cTYCAAwDCyAGQRBBFCAGKAIQIAJGG2ogATYCACABRQ0CCyABIAY2AhggAigCECIDBEAgASADNgIQIAMgATYCGAsgAigCFCIDRQ0BIAEgAzYCFCADIAE2AhgMAQsgBSgCBCIBQQNxQQNHDQBBqPAAIAA2AgAgBSABQX5xNgIEIAIgAEEBcjYCBCAAIAJqIAA2AgAPCyACIAVPDQAgBSgCBCIBQQFxRQ0AAkAgAUECcUUEQEG48AAoAgAgBUYEQEG48AAgAjYCAEGs8ABBrPAAKAIAIABqIgA2AgAgAiAAQQFyNgIEIAJBtPAAKAIARw0DQajwAEEANgIAQbTwAEEANgIADwtBtPAAKAIAIAVGBEBBtPAAIAI2AgBBqPAAQajwACgCACAAaiIANgIAIAIgAEEBcjYCBCAAIAJqIAA2AgAPCyABQXhxIABqIQACQCABQf8BTQRAIAUoAggiBCABQQN2IgFBA3RByPAAakYaIAQgBSgCDCIDRgRAQaDwAEGg8AAoAgBBfiABd3E2AgAMAgsgBCADNgIMIAMgBDYCCAwBCyAFKAIYIQYCQCAFIAUoAgwiAUcEQCAFKAIIIgNBsPAAKAIASRogAyABNgIMIAEgAzYCCAwBCwJAIAVBFGoiBCgCACIDDQAgBUEQaiIEKAIAIgMNAEEAIQEMAQsDQCAEIQcgAyIBQRRqIgQoAgAiAw0AIAFBEGohBCABKAIQIgMNAAsgB0EANgIACyAGRQ0AAkAgBSgCHCIEQQJ0QdDyAGoiAygCACAFRgRAIAMgATYCACABDQFBpPAAQaTwACgCAEF+IAR3cTYCAAwCCyAGQRBBFCAGKAIQIAVGG2ogATYCACABRQ0BCyABIAY2AhggBSgCECIDBEAgASADNgIQIAMgATYCGAsgBSgCFCIDRQ0AIAEgAzYCFCADIAE2AhgLIAIgAEEBcjYCBCAAIAJqIAA2AgAgAkG08AAoAgBHDQFBqPAAIAA2AgAPCyAFIAFBfnE2AgQgAiAAQQFyNgIEIAAgAmogADYCAAsgAEH/AU0EQCAAQXhxQcjwAGohAQJ/QaDwACgCACIDQQEgAEEDdnQiAHFFBEBBoPAAIAAgA3I2AgAgAQwBCyABKAIICyEAIAEgAjYCCCAAIAI2AgwgAiABNgIMIAIgADYCCA8LQR8hBCAAQf///wdNBEAgAEEIdiIBIAFBgP4/akEQdkEIcSIEdCIBIAFBgOAfakEQdkEEcSIDdCIBIAFBgIAPakEQdkECcSIBdEEPdiADIARyIAFyayIBQQF0IAAgAUEVanZBAXFyQRxqIQQLIAIgBDYCHCACQgA3AhAgBEECdEHQ8gBqIQcCQAJAAkBBpPAAKAIAIgNBASAEdCIBcUUEQEGk8AAgASADcjYCACAHIAI2AgAgAiAHNgIYDAELIABBGSAEQQF2a0EAIARBH0cbdCEEIAcoAgAhAQNAIAEiAygCBEF4cSAARg0CIARBHXYhASAEQQF0IQQgAyABQQRxaiIHQRBqKAIAIgENAAsgByACNgIQIAIgAzYCGAsgAiACNgIMIAIgAjYCCAwBCyADKAIIIgAgAjYCDCADIAI2AgggAkEANgIYIAIgAzYCDCACIAA2AggLQcDwAEHA8AAoAgBBAWsiAEF/IAAbNgIACws5AQF/IwBBEGsiAiQAIAIgADYCDCACIAE2AgggAigCDBAXKAIAIAIoAghBAnRqIQAgAkEQaiQAIAALNQEBfyMAQRBrIgEkACABIAA2AgwgAUEIaiABKAIMQQQQHiABKAIIEOkBIQAgAUEQaiQAIAALXgEBfyMAQRBrIgIgADYCDCACIAE2AggCfyACKAIIIgAgAEEBa3FFBEAgAigCDCACKAIIQQFrcQwBCwJ/IAIoAgwgAigCCEkEQCACKAIMDAELIAIoAgwgAigCCHALCwsmAQF/IwBBEGsiASQAIAEgADYCDCABKAIMEBchACABQRBqJAAgAAtPAQF/IwBBEGsiASQAIAEgADYCCCABIAEoAggiADYCDCAAEJsCIAAoAgAEQCAAEJoCIAAQGCAAKAIAIAAQPhCpAQsgASgCDBogAUEQaiQAC60BAQF/IwBBEGsiASQAIAEgADYCDAJAIAEoAgxFDQBBvOoAKAIABEAgASgCDEG86gAoAgARAQAMAQsgASABKAIMQQhrNgIIIwBBEGsiACABKAIINgIMIABBCDYCCCABIAEoAggoAgA2AgQgASgCCCABKAIEQQhqEI4BQcTqACgCAARAIAEoAgggASgCBEEIakEAQcTqACgCABEDAAwBCyABKAIIECILIAFBEGokAAv9BwELfyMAQTBrIggkACAIIAA2AiwgCCABNgIoIAgoAiwhBSAIKAIoIQYjAEEQayIAJAAgACAGNgIEIAAoAgQhAiMAQTBrIgEkACABIABBCGo2AiwgASACNgIoIAEoAiwhAyABKAIoIQQjAEEwayICJAAgAiADNgIMIAIgBDYCCCACKAIIIQQjAEEQayIDIAIoAgw2AgwgAyAENgIIIAMoAgwgAygCCDYCACACQTBqJAAgAUEwaiQAIAAoAgghASAAQRBqJAAgCCABNgIYIwBBQGoiACQAIAAgBTYCPCAAIAY2AjggAEGAKzYCNCAAIAhBGGo2AjAgACAIQRBqNgIsIAAgACgCPCILIABBKGogACgCOBCGATYCJCAAIAAoAiQoAgA2AiAgAEEAOgAfIAAoAiQoAgBFBEAgACgCNCECIAAoAjAhAyAAKAIsIQYjAEEgayIBJAAgASALNgIcIAEgAjYCGCABIAM2AhQgASAGNgIQIAEgASgCHBBgNgIMIAFBADoACyABKAIMELUBIQIgASABKAIMQQAQVCAAQRBqIgYgAiABEFMgASgCDCEDIAYQFkEQahAsIQUgASgCGCEEIAEoAhQhByABKAIQIQojAEEgayICJAAgAiADNgIcIAIgBTYCGCACIAQ2AhQgAiAHNgIQIAIgCjYCDCACKAIcIQUgAigCGCEEIAIoAhQhByACKAIQIQogAigCDCEJIwBBMGsiAyQAIAMgBTYCLCADIAQ2AiggAyAHNgIkIAMgCjYCICADIAk2AhwgAygCKCEEIAMgAygCICgCADYCECADKAIQIQcjAEEwayIFJAAgBSAHNgIgIAUgBDYCFCAFKAIUIQcjAEEwayIEJAAgBCAHNgIUIAQgBUEgajYCECAEIAVBGGo2AgwgBCgCFCIKIQwgBCgCECEJIwBBEGsiByQAIAcgCTYCDCMAQRBrIgkgBygCDDYCDCAJKAIMKAIAIQkgB0EQaiQAIAwgCSgCADYCACAKQQRqQQBB1AAQRiAEQTBqJAAgBUEwaiQAIANBMGokACACQSBqJAAgBhA/QQE6AAQgAUEBOgALIAEtAAtBAXFFBEAgBhBiCyABQSBqJAAgCyAAKAIoIAAoAiQgBhAWELYBIAAgBhBCNgIgIABBAToAHyAGEGILIAAoAiAhAiMAQRBrIgEgAEEIaiIDNgIMIAEgAjYCCCABKAIMIAEoAgg2AgAgCEEgaiIBIAMgAEEfahBhIABBQGskACMAQRBrIgAkACAAIAE2AgwjAEEQayIBIAAoAgw2AgwjAEEQayICIAEoAgwoAgBBEGo2AgwgAigCDCEBIABBEGokACABECZBBGohACAIQTBqJAAgAAsqAQF/IwBBEGsiASQAIAEgADYCDCABKAIMIAFBCGogARDBASABQRBqJAALugIBA38jAEFAaiICJAAgACgCACIDQQRrKAIAIQQgA0EIaygCACEDIAJCADcDICACQgA3AyggAkIANwMwIAJCADcANyACQgA3AxggAkEANgIUIAJBgOIANgIQIAIgADYCDCACIAE2AgggACADaiEAQQAhAwJAIAQgAUEAECAEQCACQQE2AjggBCACQQhqIAAgAEEBQQAgBCgCACgCFBEKACAAQQAgAigCIEEBRhshAwwBCyAEIAJBCGogAEEBQQAgBCgCACgCGBEIAAJAAkAgAigCLA4CAAECCyACKAIcQQAgAigCKEEBRhtBACACKAIkQQFGG0EAIAIoAjBBAUYbIQMMAQsgAigCIEEBRwRAIAIoAjANASACKAIkQQFHDQEgAigCKEEBRw0BCyACKAIYIQMLIAJBQGskACADCyYBAX8jAEEQayIBJAAgASAANgIMIAEoAgwQJiEAIAFBEGokACAAC0EBAX8jAEEQayICIAA2AgwgAiABNgIIIAIgAigCDCgCADYCBCACKAIMIAIoAggoAgA2AgAgAigCCCACKAIENgIAC04BAX8jAEEQayIBJAAgASAANgIMIAEoAgwiAEEANgIAIABBADYCBCABQQA2AgggAEEIaiABQQhqIAEQwAEjAEEQayAANgIMIAFBEGokAAszAQF/IABBASAAGyEAAkADQCAAEDsiAQ0BQZD0ACgCACIBBEAgAREJAAwBCwsQAwALIAELKQEBfyMAQRBrIgEkACABIAA2AgwgASgCDEEQahAXIQAgAUEQaiQAIAALUAEBfyMAQRBrIgEkACABIAA2AgwgAUEANgIIIAEgASgCDCIAEBcoAgA2AgQgABAXQQA2AgAgASgCBARAIAAQFyABKAIEELgBCyABQRBqJAALWgECfyMAQRBrIgIkACACIAA2AgwgAigCDEEMaiEBIwBBEGsiACQAIAAgATYCDCMAQRBrIgEgACgCDEEEajYCDCABKAIMKAIAIQEgAEEQaiQAIAJBEGokACABCzIBAX8jAEEQayIBJAAgASAANgIMIAEoAgwEQCABKAIMEOEBIAEoAgwQKAsgAUEQaiQACygBAX8jAEEQayIBJAAgASAANgIMIAEoAgwQPxAWIQAgAUEQaiQAIAAL8AQBAn8jAEEQayIDJAAgAyAANgIMIAMgATYCCCADIAI2AgQgAygCDCEBIAMoAgghAiADKAIEIQQjAEEwayIAJAAgAEHYADYCLCAAIAE2AiggACABQShqNgIkIABBwAA2AiAgACABQegAajYCHCAAIAFBJGo2AhggACABQSBqNgIUIAAgAjYCECAAIAQ2AgwCQCAAKAIMRQ0AIAAgACgCFCgCACAAKAIMQQN0ajYCCCAAKAIIIAAoAhQoAgBJBEAgACgCGCIBIAEoAgBBAWo2AgALIAAoAhgiASABKAIAIAAoAgxBHXZqNgIAIAAoAhQgACgCCDYCACAAIAAoAhwoAgA2AgQgACgCBARAAkACQCAAKAIMIAAoAiBJBEAgACgCICAAKAIMIAAoAgRqSw0BCyAAKAIEIgEgACgCJGogACgCECAAKAIgIAFrEB4gACgCKCAAKAIkQQEgACgCLBEDACAAIAAoAiAgACgCBGs2AgQgACAAKAIEIAAoAhBqNgIQIAAgACgCDCAAKAIEazYCDCAAKAIcQQA2AgAgACgCJEEAIAAoAiAQIQwBCyAAKAIkIAAoAgRqIAAoAhAgACgCDBAeIAAoAhwiASAAKAIMIAEoAgBqNgIADAILCyAAIAAoAgwgACgCIG42AgQgACgCBARAIAAoAiggACgCECAAKAIEIAAoAiwRAwAgACAAKAIgIAAoAgRsNgIEIAAgACgCBCAAKAIQajYCECAAIAAoAgwgACgCBGs2AgwLIAAoAgxFDQAgACgCHCAAKAIMNgIAIAAoAiQgACgCECAAKAIMEB4LIABBMGokACADQRBqJABBAQvEBAENfyMAQRBrIgYkACAGIAA2AgwgBiABNgIIIAYoAgwhASAGKAIIIQIjAEEQayIAJAAgACABNgIEIAAgAjYCACAAKAIEIgchASMAQRBrIggkACAIIAE2AgwgCCgCDCIBKAIABEAjAEEQayIDJAAgAyABNgIMIwBBEGsiAiADKAIMIgk2AgwgAyACKAIMIgIoAgQgAigCAGtBA3U2AgggCRCaAiADKAIIIQIjAEEQayIFJAAgBSAJNgIMIAUgAjYCCCAFKAIMIgIQGSEKIAIQGSACED5BA3RqIQsgAhAZIAUoAghBA3RqIQwgAhAZIQ4jAEEQayIEIAI2AgwgDiAEKAIMIgQoAgQgBCgCAGtBeHFqIQ0jAEEgayIEIAI2AhwgBCAKNgIYIAQgCzYCFCAEIAw2AhAgBCANNgIMIAVBEGokACMAQRBrIAk2AgwgA0EQaiQAIAEQGCABKAIAIAEQPhCpASABEBhBADYCACABQQA2AgQgAUEANgIACyAIQRBqJAAgACgCACECIwBBEGsiASQAIAEgBzYCDCABIAI2AgggASgCDCEDIAEoAgghBSMAQRBrIgIkACACIAM2AgQgAiAFNgIAIAIoAgQhAyACKAIAEBgaIAMQGBogAkEQaiQAIAFBEGokACAHIAAoAgAoAgA2AgAgByAAKAIAKAIENgIEIAAoAgAQGCgCACEBIAcQGCABNgIAIAAoAgAQGEEANgIAIAAoAgBBADYCBCAAKAIAQQA2AgAgAEEQaiQAIAZBEGokAAspAQF/IwBBEGsiASQAIAEgADYCDCABQQA2AgggASgCDBAxIAFBEGokAAvdAQEEfyMAQRBrIgIkACACIAA2AgggAiACKAIIIgA2AgwgACgCBARAIAAoAgQhACMAQRBrIgQkACAEIAA2AgwgBCgCDCEAIwBBEGsiASQAIAEgADYCCAJAIAEoAggiA0EEahC5AUF/RgRAIAMgAygCACgCCBEBACABQQE6AA8MAQsgAUEAOgAPCyABLQAPQQFxIQMgAUEQaiQAIANBAXEEQAJAIABBCGoiASgCAARAIAEQuQFBf0cNAQsgACAAKAIAKAIQEQEACwsgBEEQaiQACyACKAIMGiACQRBqJAALBQAQAwALQQEBfyMAQRBrIgMkACADIAA2AgwgAyABNgIIIAMgAjYCBCADKAIMIQBBnCcgAygCCCADKAIEEAUgA0EQaiQAIAAL9y0BC38jAEEQayILJAACQAJAAkACQAJAAkACQAJAAkACQAJAIABB9AFNBEBBoPAAKAIAIgVBECAAQQtqQXhxIABBC0kbIgZBA3YiAHYiAUEDcQRAAkAgAUF/c0EBcSAAaiICQQN0IgFByPAAaiIAIAFB0PAAaigCACIBKAIIIgNGBEBBoPAAIAVBfiACd3E2AgAMAQsgAyAANgIMIAAgAzYCCAsgAUEIaiEAIAEgAkEDdCICQQNyNgIEIAEgAmoiASABKAIEQQFyNgIEDAwLIAZBqPAAKAIAIgdNDQEgAQRAAkBBAiAAdCICQQAgAmtyIAEgAHRxIgBBAWsgAEF/c3EiACAAQQx2QRBxIgB2IgFBBXZBCHEiAiAAciABIAJ2IgBBAnZBBHEiAXIgACABdiIAQQF2QQJxIgFyIAAgAXYiAEEBdkEBcSIBciAAIAF2aiIBQQN0IgBByPAAaiICIABB0PAAaigCACIAKAIIIgNGBEBBoPAAIAVBfiABd3EiBTYCAAwBCyADIAI2AgwgAiADNgIICyAAIAZBA3I2AgQgACAGaiIIIAFBA3QiASAGayIDQQFyNgIEIAAgAWogAzYCACAHBEAgB0F4cUHI8ABqIQFBtPAAKAIAIQICfyAFQQEgB0EDdnQiBHFFBEBBoPAAIAQgBXI2AgAgAQwBCyABKAIICyEEIAEgAjYCCCAEIAI2AgwgAiABNgIMIAIgBDYCCAsgAEEIaiEAQbTwACAINgIAQajwACADNgIADAwLQaTwACgCACIKRQ0BIApBAWsgCkF/c3EiACAAQQx2QRBxIgB2IgFBBXZBCHEiAiAAciABIAJ2IgBBAnZBBHEiAXIgACABdiIAQQF2QQJxIgFyIAAgAXYiAEEBdkEBcSIBciAAIAF2akECdEHQ8gBqKAIAIgIoAgRBeHEgBmshBCACIQEDQAJAIAEoAhAiAEUEQCABKAIUIgBFDQELIAAoAgRBeHEgBmsiASAEIAEgBEkiARshBCAAIAIgARshAiAAIQEMAQsLIAIoAhghCSACIAIoAgwiA0cEQCACKAIIIgBBsPAAKAIASRogACADNgIMIAMgADYCCAwLCyACQRRqIgEoAgAiAEUEQCACKAIQIgBFDQMgAkEQaiEBCwNAIAEhCCAAIgNBFGoiASgCACIADQAgA0EQaiEBIAMoAhAiAA0ACyAIQQA2AgAMCgtBfyEGIABBv39LDQAgAEELaiIAQXhxIQZBpPAAKAIAIghFDQBBACAGayEEAkACQAJAAn9BACAGQYACSQ0AGkEfIAZB////B0sNABogAEEIdiIAIABBgP4/akEQdkEIcSIAdCIBIAFBgOAfakEQdkEEcSIBdCICIAJBgIAPakEQdkECcSICdEEPdiAAIAFyIAJyayIAQQF0IAYgAEEVanZBAXFyQRxqCyIHQQJ0QdDyAGooAgAiAUUEQEEAIQAMAQtBACEAIAZBGSAHQQF2a0EAIAdBH0cbdCECA0ACQCABKAIEQXhxIAZrIgUgBE8NACABIQMgBSIEDQBBACEEIAEhAAwDCyAAIAEoAhQiBSAFIAEgAkEddkEEcWooAhAiAUYbIAAgBRshACACQQF0IQIgAQ0ACwsgACADckUEQEEAIQNBAiAHdCIAQQAgAGtyIAhxIgBFDQMgAEEBayAAQX9zcSIAIABBDHZBEHEiAHYiAUEFdkEIcSICIAByIAEgAnYiAEECdkEEcSIBciAAIAF2IgBBAXZBAnEiAXIgACABdiIAQQF2QQFxIgFyIAAgAXZqQQJ0QdDyAGooAgAhAAsgAEUNAQsDQCAAKAIEQXhxIAZrIgIgBEkhASACIAQgARshBCAAIAMgARshAyAAKAIQIgEEfyABBSAAKAIUCyIADQALCyADRQ0AIARBqPAAKAIAIAZrTw0AIAMoAhghByADIAMoAgwiAkcEQCADKAIIIgBBsPAAKAIASRogACACNgIMIAIgADYCCAwJCyADQRRqIgEoAgAiAEUEQCADKAIQIgBFDQMgA0EQaiEBCwNAIAEhBSAAIgJBFGoiASgCACIADQAgAkEQaiEBIAIoAhAiAA0ACyAFQQA2AgAMCAsgBkGo8AAoAgAiAU0EQEG08AAoAgAhAAJAIAEgBmsiAkEQTwRAQajwACACNgIAQbTwACAAIAZqIgM2AgAgAyACQQFyNgIEIAAgAWogAjYCACAAIAZBA3I2AgQMAQtBtPAAQQA2AgBBqPAAQQA2AgAgACABQQNyNgIEIAAgAWoiASABKAIEQQFyNgIECyAAQQhqIQAMCgsgBkGs8AAoAgAiAkkEQEGs8AAgAiAGayIBNgIAQbjwAEG48AAoAgAiACAGaiICNgIAIAIgAUEBcjYCBCAAIAZBA3I2AgQgAEEIaiEADAoLQQAhACAGQS9qIgQCf0H48wAoAgAEQEGA9AAoAgAMAQtBhPQAQn83AgBB/PMAQoCggICAgAQ3AgBB+PMAIAtBDGpBcHFB2KrVqgVzNgIAQYz0AEEANgIAQdzzAEEANgIAQYAgCyIBaiIFQQAgAWsiCHEiASAGTQ0JQdjzACgCACIDBEBB0PMAKAIAIgcgAWoiCSAHTQ0KIAMgCUkNCgtB3PMALQAAQQRxDQQCQAJAQbjwACgCACIDBEBB4PMAIQADQCADIAAoAgAiB08EQCAHIAAoAgRqIANLDQMLIAAoAggiAA0ACwtBABBFIgJBf0YNBSABIQVB/PMAKAIAIgBBAWsiAyACcQRAIAEgAmsgAiADakEAIABrcWohBQsgBSAGTQ0FIAVB/v///wdLDQVB2PMAKAIAIgAEQEHQ8wAoAgAiAyAFaiIIIANNDQYgACAISQ0GCyAFEEUiACACRw0BDAcLIAUgAmsgCHEiBUH+////B0sNBCAFEEUiAiAAKAIAIAAoAgRqRg0DIAIhAAsCQCAAQX9GDQAgBkEwaiAFTQ0AQYD0ACgCACICIAQgBWtqQQAgAmtxIgJB/v///wdLBEAgACECDAcLIAIQRUF/RwRAIAIgBWohBSAAIQIMBwtBACAFaxBFGgwECyAAIgJBf0cNBQwDC0EAIQMMBwtBACECDAULIAJBf0cNAgtB3PMAQdzzACgCAEEEcjYCAAsgAUH+////B0sNASABEEUhAkEAEEUhACACQX9GDQEgAEF/Rg0BIAAgAk0NASAAIAJrIgUgBkEoak0NAQtB0PMAQdDzACgCACAFaiIANgIAQdTzACgCACAASQRAQdTzACAANgIACwJAAkACQEG48AAoAgAiBARAQeDzACEAA0AgAiAAKAIAIgEgACgCBCIDakYNAiAAKAIIIgANAAsMAgtBsPAAKAIAIgBBACAAIAJNG0UEQEGw8AAgAjYCAAtBACEAQeTzACAFNgIAQeDzACACNgIAQcDwAEF/NgIAQcTwAEH48wAoAgA2AgBB7PMAQQA2AgADQCAAQQN0IgFB0PAAaiABQcjwAGoiAzYCACABQdTwAGogAzYCACAAQQFqIgBBIEcNAAtBrPAAIAVBKGsiAEF4IAJrQQdxQQAgAkEIakEHcRsiAWsiAzYCAEG48AAgASACaiIBNgIAIAEgA0EBcjYCBCAAIAJqQSg2AgRBvPAAQYj0ACgCADYCAAwCCyAALQAMQQhxDQAgASAESw0AIAIgBE0NACAAIAMgBWo2AgRBuPAAIARBeCAEa0EHcUEAIARBCGpBB3EbIgBqIgE2AgBBrPAAQazwACgCACAFaiICIABrIgA2AgAgASAAQQFyNgIEIAIgBGpBKDYCBEG88ABBiPQAKAIANgIADAELQbDwACgCACACSwRAQbDwACACNgIACyACIAVqIQFB4PMAIQACQAJAAkACQAJAAkADQCABIAAoAgBHBEAgACgCCCIADQEMAgsLIAAtAAxBCHFFDQELQeDzACEAA0AgBCAAKAIAIgFPBEAgASAAKAIEaiIDIARLDQMLIAAoAgghAAwACwALIAAgAjYCACAAIAAoAgQgBWo2AgQgAkF4IAJrQQdxQQAgAkEIakEHcRtqIgcgBkEDcjYCBCABQXggAWtBB3FBACABQQhqQQdxG2oiBSAGIAdqIgZrIQAgBCAFRgRAQbjwACAGNgIAQazwAEGs8AAoAgAgAGoiADYCACAGIABBAXI2AgQMAwtBtPAAKAIAIAVGBEBBtPAAIAY2AgBBqPAAQajwACgCACAAaiIANgIAIAYgAEEBcjYCBCAAIAZqIAA2AgAMAwsgBSgCBCIEQQNxQQFGBEAgBEF4cSEJAkAgBEH/AU0EQCAFKAIIIgEgBEEDdiIDQQN0QcjwAGpGGiABIAUoAgwiAkYEQEGg8ABBoPAAKAIAQX4gA3dxNgIADAILIAEgAjYCDCACIAE2AggMAQsgBSgCGCEIAkAgBSAFKAIMIgJHBEAgBSgCCCIBIAI2AgwgAiABNgIIDAELAkAgBUEUaiIEKAIAIgENACAFQRBqIgQoAgAiAQ0AQQAhAgwBCwNAIAQhAyABIgJBFGoiBCgCACIBDQAgAkEQaiEEIAIoAhAiAQ0ACyADQQA2AgALIAhFDQACQCAFKAIcIgFBAnRB0PIAaiIDKAIAIAVGBEAgAyACNgIAIAINAUGk8ABBpPAAKAIAQX4gAXdxNgIADAILIAhBEEEUIAgoAhAgBUYbaiACNgIAIAJFDQELIAIgCDYCGCAFKAIQIgEEQCACIAE2AhAgASACNgIYCyAFKAIUIgFFDQAgAiABNgIUIAEgAjYCGAsgBSAJaiIFKAIEIQQgACAJaiEACyAFIARBfnE2AgQgBiAAQQFyNgIEIAAgBmogADYCACAAQf8BTQRAIABBeHFByPAAaiEBAn9BoPAAKAIAIgJBASAAQQN2dCIAcUUEQEGg8AAgACACcjYCACABDAELIAEoAggLIQAgASAGNgIIIAAgBjYCDCAGIAE2AgwgBiAANgIIDAMLQR8hBCAAQf///wdNBEAgAEEIdiIBIAFBgP4/akEQdkEIcSIBdCICIAJBgOAfakEQdkEEcSICdCIDIANBgIAPakEQdkECcSIDdEEPdiABIAJyIANyayIBQQF0IAAgAUEVanZBAXFyQRxqIQQLIAYgBDYCHCAGQgA3AhAgBEECdEHQ8gBqIQECQEGk8AAoAgAiAkEBIAR0IgNxRQRAQaTwACACIANyNgIAIAEgBjYCAAwBCyAAQRkgBEEBdmtBACAEQR9HG3QhBCABKAIAIQIDQCACIgEoAgRBeHEgAEYNAyAEQR12IQIgBEEBdCEEIAEgAkEEcWoiAygCECICDQALIAMgBjYCEAsgBiABNgIYIAYgBjYCDCAGIAY2AggMAgtBrPAAIAVBKGsiAEF4IAJrQQdxQQAgAkEIakEHcRsiAWsiCDYCAEG48AAgASACaiIBNgIAIAEgCEEBcjYCBCAAIAJqQSg2AgRBvPAAQYj0ACgCADYCACAEIANBJyADa0EHcUEAIANBJ2tBB3EbakEvayIAIAAgBEEQakkbIgFBGzYCBCABQejzACkCADcCECABQeDzACkCADcCCEHo8wAgAUEIajYCAEHk8wAgBTYCAEHg8wAgAjYCAEHs8wBBADYCACABQRhqIQADQCAAQQc2AgQgAEEIaiECIABBBGohACACIANJDQALIAEgBEYNAyABIAEoAgRBfnE2AgQgBCABIARrIgJBAXI2AgQgASACNgIAIAJB/wFNBEAgAkF4cUHI8ABqIQACf0Gg8AAoAgAiAUEBIAJBA3Z0IgJxRQRAQaDwACABIAJyNgIAIAAMAQsgACgCCAshASAAIAQ2AgggASAENgIMIAQgADYCDCAEIAE2AggMBAtBHyEAIAJB////B00EQCACQQh2IgAgAEGA/j9qQRB2QQhxIgB0IgEgAUGA4B9qQRB2QQRxIgF0IgMgA0GAgA9qQRB2QQJxIgN0QQ92IAAgAXIgA3JrIgBBAXQgAiAAQRVqdkEBcXJBHGohAAsgBCAANgIcIARCADcCECAAQQJ0QdDyAGohAQJAQaTwACgCACIDQQEgAHQiBXFFBEBBpPAAIAMgBXI2AgAgASAENgIADAELIAJBGSAAQQF2a0EAIABBH0cbdCEAIAEoAgAhAwNAIAMiASgCBEF4cSACRg0EIABBHXYhAyAAQQF0IQAgASADQQRxaiIFKAIQIgMNAAsgBSAENgIQCyAEIAE2AhggBCAENgIMIAQgBDYCCAwDCyABKAIIIgAgBjYCDCABIAY2AgggBkEANgIYIAYgATYCDCAGIAA2AggLIAdBCGohAAwFCyABKAIIIgAgBDYCDCABIAQ2AgggBEEANgIYIAQgATYCDCAEIAA2AggLQazwACgCACIAIAZNDQBBrPAAIAAgBmsiATYCAEG48ABBuPAAKAIAIgAgBmoiAjYCACACIAFBAXI2AgQgACAGQQNyNgIEIABBCGohAAwDC0GQ6wBBMDYCAEEAIQAMAgsCQCAHRQ0AAkAgAygCHCIAQQJ0QdDyAGoiASgCACADRgRAIAEgAjYCACACDQFBpPAAIAhBfiAAd3EiCDYCAAwCCyAHQRBBFCAHKAIQIANGG2ogAjYCACACRQ0BCyACIAc2AhggAygCECIABEAgAiAANgIQIAAgAjYCGAsgAygCFCIARQ0AIAIgADYCFCAAIAI2AhgLAkAgBEEPTQRAIAMgBCAGaiIAQQNyNgIEIAAgA2oiACAAKAIEQQFyNgIEDAELIAMgBkEDcjYCBCADIAZqIgIgBEEBcjYCBCACIARqIAQ2AgAgBEH/AU0EQCAEQXhxQcjwAGohAAJ/QaDwACgCACIBQQEgBEEDdnQiBHFFBEBBoPAAIAEgBHI2AgAgAAwBCyAAKAIICyEBIAAgAjYCCCABIAI2AgwgAiAANgIMIAIgATYCCAwBC0EfIQAgBEH///8HTQRAIARBCHYiACAAQYD+P2pBEHZBCHEiAHQiASABQYDgH2pBEHZBBHEiAXQiBSAFQYCAD2pBEHZBAnEiBXRBD3YgACABciAFcmsiAEEBdCAEIABBFWp2QQFxckEcaiEACyACIAA2AhwgAkIANwIQIABBAnRB0PIAaiEBAkACQCAIQQEgAHQiBXFFBEBBpPAAIAUgCHI2AgAgASACNgIADAELIARBGSAAQQF2a0EAIABBH0cbdCEAIAEoAgAhBgNAIAYiASgCBEF4cSAERg0CIABBHXYhBSAAQQF0IQAgASAFQQRxaiIFKAIQIgYNAAsgBSACNgIQCyACIAE2AhggAiACNgIMIAIgAjYCCAwBCyABKAIIIgAgAjYCDCABIAI2AgggAkEANgIYIAIgATYCDCACIAA2AggLIANBCGohAAwBCwJAIAlFDQACQCACKAIcIgBBAnRB0PIAaiIBKAIAIAJGBEAgASADNgIAIAMNAUGk8AAgCkF+IAB3cTYCAAwCCyAJQRBBFCAJKAIQIAJGG2ogAzYCACADRQ0BCyADIAk2AhggAigCECIABEAgAyAANgIQIAAgAzYCGAsgAigCFCIARQ0AIAMgADYCFCAAIAM2AhgLAkAgBEEPTQRAIAIgBCAGaiIAQQNyNgIEIAAgAmoiACAAKAIEQQFyNgIEDAELIAIgBkEDcjYCBCACIAZqIgMgBEEBcjYCBCADIARqIAQ2AgAgBwRAIAdBeHFByPAAaiEAQbTwACgCACEBAn9BASAHQQN2dCIGIAVxRQRAQaDwACAFIAZyNgIAIAAMAQsgACgCCAshBSAAIAE2AgggBSABNgIMIAEgADYCDCABIAU2AggLQbTwACADNgIAQajwACAENgIACyACQQhqIQALIAtBEGokACAAC0UBAX8jAEEQayIEIAA6AA8gBCABOgAOIAQgAjoADSAEIAM6AAwgBC0ADyAELQAOQQh0ciAELQANQRB0ciAELQAMQRh0cgs0AgF/AX4jAEEQayIBJAAgASAANgIMIAEgASgCDEEIEB4gASkDABDWASECIAFBEGokACACCzQBAX8jAEEQayIBJAAgASAANgIMIAEoAgwiABAYKAIAIAAoAgBrQQN1IQAgAUEQaiQAIAALJgEBfyMAQRBrIgEkACABIAA2AgwgASgCDBBSIQAgAUEQaiQAIAALPwEBfyMAQRBrIgIkACACIAA2AgwgAiABNgIIIAIoAgwiACACKAIIEEIQYyACKAIIECYaIAAQFxogAkEQaiQAC/4FAQp/IwBBEGsiBCQAIAQgADYCCCAEIAE2AgQjAEEQayIAIAQoAgQ2AgwCQCAAKAIMQQhLBEAgBCAEKAIENgIAIAQoAgghASAEKAIAIQAjAEEQayIGJAAgBiABNgIMIAYgADYCCEEEIAYoAggiACAAQQRNGyEFIAYoAgwiAEEBIAAbIQEDQAJAIwBBEGsiByQAIAdBADYCDAJAAn8gBUEIRgRAIAEQOwwBCyAFQQRJDQEgBUEDcQ0BIAVBAnYiACAAQQFrcQ0BQUAgBWsgAUkNAQJ/QRAhAwJAQRBBECAFIAVBEE0bIgAgAEEQTRsiAiACQQFrcUUEQCACIQAMAQsDQCADIgBBAXQhAyAAIAJJDQALCyABQUAgAGtPBEBBkOsAQTA2AgBBAAwBC0EAQRAgAUELakF4cSABQQtJGyIIIABqQQxqEDsiAkUNABogAkEIayEDAkAgAEEBayACcUUEQCADIQAMAQsgAkEEayILKAIAIgpBeHEgACACakEBa0EAIABrcUEIayICIABBACACIANrQQ9NG2oiACADayIJayECIApBA3FFBEAgAygCACEDIAAgAjYCBCAAIAMgCWo2AgAMAQsgACACIAAoAgRBAXFyQQJyNgIEIAAgAmoiAiACKAIEQQFyNgIEIAsgCSALKAIAQQFxckECcjYCACADIAlqIgIgAigCBEEBcjYCBCADIAkQywELAkAgACgCBCICQQNxRQ0AIAJBeHEiAyAIQRBqTQ0AIAAgCCACQQFxckECcjYCBCAAIAhqIgogAyAIayICQQNyNgIEIAAgA2oiAyADKAIEQQFyNgIEIAogAhDLAQsgAEEIagsLIgBFDQAgByAANgIMCyAHKAIMIQMgB0EQaiQAIAMNAEGQ9AAoAgAiAEUNACAAEQkADAELCyAGQRBqJAAgBCADNgIMDAELIAQoAgghACMAQRBrIgEkACABIAA2AgwgASgCDBAvIQAgAUEQaiQAIAQgADYCDAsgBCgCDCEAIARBEGokACAACz4BAX8jAEEQayIBJAAgASAANgIMIAEgASgCDCIAEBcoAgA2AgggABAXQQA2AgAgASgCCCEAIAFBEGokACAAC4ECAQJ/IwBBEGsiAyQAIAMgADYCDCADIAE2AgggAyACNgIEIwBBEGsiACADKAIENgIMAkAgACgCDEEISwRAIAMgAygCBDYCACADKAIMIQEgAygCCCECIAMoAgAhBCMAQRBrIgAkACAAIAE2AgwgACACNgIIIAAgBDYCBCAAKAIMIQIgACgCBCEEIwBBEGsiASQAIAEgAjYCDCABIAQ2AgggASgCCBoMAQsgAygCDCEBIAMoAgghAiMAQRBrIgAkACAAIAE2AgwgACACNgIIIAAoAgwhAiMAQRBrIgEkACABIAI2AgwLIAEoAgwQIiABQRBqJAAgAEEQaiQAIANBEGokAAs/AQF/IwBBEGsiAiQAIAIgADYCDCACIAE2AgggAigCCCEAIwBBEGsiASACKAIMNgIMIAEgADYCCCACQRBqJAALUgECf0Gs6QAoAgAiASAAQQdqQXhxIgJqIQACQCACQQAgACABTRsNACAAPwBBEHRLBEAgABAPRQ0BC0Gs6QAgADYCACABDwtBkOsAQTA2AgBBfwvwAgICfwF+AkAgAkUNACAAIAE6AAAgACACaiIDQQFrIAE6AAAgAkEDSQ0AIAAgAToAAiAAIAE6AAEgA0EDayABOgAAIANBAmsgAToAACACQQdJDQAgACABOgADIANBBGsgAToAACACQQlJDQAgAEEAIABrQQNxIgRqIgMgAUH/AXFBgYKECGwiADYCACADIAIgBGtBfHEiAmoiAUEEayAANgIAIAJBCUkNACADIAA2AgggAyAANgIEIAFBCGsgADYCACABQQxrIAA2AgAgAkEZSQ0AIAMgADYCGCADIAA2AhQgAyAANgIQIAMgADYCDCABQRBrIAA2AgAgAUEUayAANgIAIAFBGGsgADYCACABQRxrIAA2AgAgAiADQQRxQRhyIgFrIgJBIEkNACAArUKBgICAEH4hBSABIANqIQEDQCABIAU3AxggASAFNwMQIAEgBTcDCCABIAU3AwAgAUEgaiEBIAJBIGsiAkEfSw0ACwsLMQEBfyMAQRBrIgEkACABIAA2AgwgASgCDCIAEBgoAgAgACgCAGshACABQRBqJAAgAAs8AQJ/IwBBEGsiASQAIAEgADYCDCABKAIMQQRqEBchACMAQRBrIgIgADYCDCACKAIMIQAgAUEQaiQAIAALRAEBfyMAQRBrIgEkACABIAA2AggCQCABKAIIKAI8RQRAIAEQ3AE2AgwMAQsgAUEANgIMCyABKAIMIQAgAUEQaiQAIAALoAEBA38jAEEQayICJAAgAiAANgIMIAIgATYCCCACKAIMIQEgAigCCCEDIwBBEGsiACQAIAAgATYCBCAAIAM2AgACfyAAKAIEIQMgACgCACEEIwBBEGsiASAAQQhqNgIMIAEgAzYCCCABIAQ2AgQgASgCCCgCACABKAIEKAIASQRAIAAoAgAMAQsgACgCBAshASAAQRBqJAAgAkEQaiQAIAELBgAgABAiCz0BAX8jAEEQayICJAAgAiAANgIMIAIgATYCCCACIAIoAggQ6QE2AgggAigCDCACQQhqQQQQHiACQRBqJAALmwEBAn8jAEEQayICJAAgAiAANgIMIAIgATYCCCACQQA2AgQDQCACKAIEQQhJBEAgAigCBEECdCIAIAIoAgxqKAIAIQEgACACKAIIaigCACEDIwBBEGsiACABNgIMIAAgAzYCCCAAKAIMIAAoAghzIQAgAigCDCACKAIEQQJ0aiAANgIAIAIgAigCBEEBajYCBAwBCwsgAkEQaiQAC9gCAQF/IwBBIGsiAiQAIAIgADYCHCACIAE2AhggAigCHCIAIAIoAhgiASkAADcAACAAIAEpAAg3AAggAiACKAIcKAIAEGw2AhQgAiACKAIcKAIEEGw2AhAgAiACKAIcKAIIEGw2AgwgAiACKAIcKAIMEGw2AgggAigCFEH/AXEgAigCEEH/AXEgAigCDEH/AXEgAigCCEH/AXEQPCEAIAIoAhwgADYCACACKAIUQQh2Qf8BcSACKAIQQQh2Qf8BcSACKAIMQQh2Qf8BcSACKAIIQQh2Qf8BcRA8IQAgAigCHCAANgIEIAIoAhRBEHZB/wFxIAIoAhBBEHZB/wFxIAIoAgxBEHZB/wFxIAIoAghBEHZB/wFxEDwhACACKAIcIAA2AgggAigCFEEYdiACKAIQQRh2IAIoAgxBGHYgAigCCEEYdhA8IQAgAigCHCAANgIMIAJBIGokAAs0AQF/IwBBEGsiASQAIAEgADYCDCABKAIMIgAQGCgCACAAKAIAa0EMbSEAIAFBEGokACAAC5gOARB/IwBBEGsiByQAIAcgADYCDCAHIAE2AgggByACNgIEAkAgBygCDCIKKAIEIAoQGCgCAEkEQCAHKAIIIQEgBygCBCECIwBBIGsiACQAIAAgCjYCHCAAIAE2AhggACACNgIUIAAoAhwiAyECIwBBEGsiASAAQQhqIgQ2AgwgASACNgIIIAFBATYCBCABKAIMIgIgASgCCDYCACACIAEoAggoAgQ2AgQgAiABKAIIKAIEIAEoAgRBA3RqNgIIIAMQGCENIwBBEGsiASAAKAIMNgIMIA0gASgCDCAAKAIYIAAoAhQQhwIgACAAKAIMQQhqNgIMIwBBEGsiASAENgIMIAEoAgwiASgCACABKAIENgIEIABBIGokAAwBCyAHKAIIIQAgBygCBCECIwBBMGsiASQAIAEgCjYCLCABIAA2AiggASACNgIkIAEgASgCLCIFEBg2AiAjAEEQayIAIAU2AgwgACgCDCIAKAIEIAAoAgBrQQN1QQFqIQIjAEEgayIAJAAgACAFNgIYIAAgAjYCFCAAKAIYIQMjAEEQayICJAAgAiADNgIMIAIoAgwQGCEIIwBBEGsiBCQAIAQgCDYCDCMAQRBrIAQoAgw2AgwgBEEQaiQAIAJB/////wE2AgggAkH/////BzYCBCACQQhqIAJBBGoQZCgCACEEIAJBEGokACAAIAQ2AhAgACgCFCAAKAIQSwRAIAMQZQALIAFBCGohCCAAIAMQPjYCDAJAIAAoAgwgACgCEEEBdk8EQCAAIAAoAhA2AhwMAQsgACAAKAIMQQF0NgIIIAAgAEEIaiAAQRRqEEooAgA2AhwLIAAoAhwhAiAAQSBqJAAjACIAQRBrIgMgBTYCDCADKAIMIgMoAgQgAygCAGtBA3UhAyABKAIgIQQgAEEgayIAJAAgACAINgIYIAAgAjYCFCAAIAM2AhAgACAENgIMIAAgACgCGCICNgIcIABBADYCCCACQQxqIABBCGogACgCDBCIASACAn8gACgCFARAIAIQMiEDIAAoAhQhBiMAQRBrIgQkACAEIAM2AgwgBCAGNgIIIAQoAgwhBiAEKAIIIQkjAEEQayIDJAAgAyAGNgIMIAMgCTYCCCADKAIIIQ4gAygCDCEJIwBBEGsiBiQAIAYgCTYCDCMAQRBrIAYoAgw2AgwgBkEQaiQAIA5B/////wFLBEAQOQALIAMoAghBA3RBBBBBIQYgA0EQaiQAIAYhAyAEQRBqJAAgAwwBC0EACzYCACACIAIoAgAgACgCEEEDdGoiAzYCCCACIAM2AgQgAigCACAAKAIUQQN0aiEDIAIQHSADNgIAIAAoAhwaIABBIGokACABKAIgIQ8jAEEQayIAIAEoAhA2AgwgDyAAKAIMIAEoAiggASgCJBCHAiABIAEoAhBBCGo2AhAjAEEQayICJAAgAiAFNgIMIAIgCDYCCCACKAIMIgMQmwIgAxAYIQQgAygCACEFIAMoAgQhBiACKAIIQQRqIQkjAEEgayIAJAAgACAENgIcIAAgBTYCGCAAIAY2AhQgACAJNgIQIAAgACgCFCAAKAIYa0EDdTYCDCAAKAIQIgQgBCgCAEEAIAAoAgxrQQN0ajYCACAAKAIMQQBKBEAgACgCECgCACAAKAIYIAAoAgxBA3QQGxoLIABBIGokACADIAIoAghBBGoQLSADQQRqIAIoAghBCGoQLSADEBggAigCCBAdEC0gAigCCCACKAIIKAIENgIAIwBBEGsiACADNgIMIAAoAgwiBCgCBCAEKAIAa0EDdSEEIAAkACAAIAM2AgwgACAENgIIIAAoAgwiBBAZIQYgBBAZIAQQPkEDdGohCSAEEBkgBBA+QQN0aiELIAQQGSAAKAIIQQN0aiEMIwBBIGsiBSAENgIcIAUgBjYCGCAFIAk2AhQgBSALNgIQIAUgDDYCDCAAQRBqJAAjAEEQayADNgIMIAJBEGokACMAQRBrIgAkACAAIAg2AgggACAAKAIIIgI2AgwjAEEQayIIJAAgCCACNgIMIAgoAgwiAyEEIAMoAgQhBSMAQRBrIgMkACADIAQ2AgwgAyAFNgIIIAMoAgwhBSADKAIIIQYjAEEQayIEJAAgBCAFNgIEIAQgBjYCACAEKAIEIQUDQCAEKAIAIAUoAghHBEAgBRAyIQYgBSAFKAIIQQhrIgk2AgggBiEQIwBBEGsiBiAJNgIMIBAgBigCDBBEDAELCyAEQRBqJAAgA0EQaiQAIAhBEGokACACKAIABEAgAhAyIRIgAigCACERIwBBEGsiAyQAIAMgAjYCDCADKAIMIgIQHSgCACACKAIAa0EDdSECIANBEGokACASIBEgAhCpAQsgACgCDBogAEEQaiQAIAFBMGokAAsjAEEQayIAIAo2AgwgACgCDCgCBBogB0EQaiQAC3YBA38jAEEQayICJAAgAiAANgIMIAIoAgwhASMAQRBrIgAkACAAIAE2AgwgACgCDCgCABAXQQhqIQEjAEEQayIDIAE2AgwgAygCDCEBIABBEGokACABECYhACMAQRBrIgEgADYCDCABKAIMIQAgAkEQaiQAIAALNgEBfyMAQRBrIgEkACABIAA2AgwjAEEQayIAIAEoAgxBBGo2AgwgACgCDCEAIAFBEGokACAAC7sBAQJ/IwBBEGsiAyQAIAMgADYCDCADIAE2AgggAyACNgIEIAMoAgwhASADKAIEIQIjAEEQayIAJAAgACABNgIMIAAgA0EIajYCCCAAIAI2AgQgACgCCCECIwBBEGsiASAAKAIMIgQ2AgwgASACNgIIIAEoAgwgASgCCCgCADYCACAAKAIEIQIjAEEQayIBIARBBGo2AgwgASACNgIIIAEoAgwgASgCCCkCADcCACAAQRBqJAAgA0EQaiQACzoBAX8jAEEQayIDIAA2AgwgAyABNgIIIAMgAjoAByADKAIMIgAgAygCCDYCACAAIAMtAAdBAXE6AAQLTgEDfyMAQRBrIgEkACABIAA2AgxBCBAvIQAgASgCDCICKAIAIQMgACACKAIENgIEIAAgAzYCACABIAA2AgggASgCCCEAIAFBEGokACAACzQBAn8jAEEQayIBJAAgASAANgIMIwBBEGsiACABKAIMIgI2AgwgACgCDBogAUEQaiQAIAILlgIBAX8jAEEgayIBJAAgASAANgIYAkACQEG46gAoAgAEQEG86gAoAgBFBEBB0RhBrRNB6QFBzRAQAAALQcDqACgCAEUEQEGxGEGtE0HqAUHNEBAAAAsgASABKAIYQbjqACgCABEAADYCFAJAIAEoAhQNACABKAIYRQ0ADAILIAEgASgCFDYCHAwCCyABKAIYIgBBCGogAEkEQCABQaA2LQAAOgATDAELIAEgASgCGEEIahA7NgIMIAEoAgxFDQAgASgCDCABKAIYNgIAIwBBEGsiACABKAIMNgIMIABBCDYCCCABIAEoAgxBCGo2AhwMAQtBDkHBAEGtE0GKAhAcIAFBADYCHAsgASgCHCEAIAFBIGokACAAC0cBAX8jAEEQayIDJAAgAyAANgIMIAMgATYCCCADIAI2AgQgAygCDCIAIAMoAgggAygCBCAAKAIAKAIQEQMAIANBEGokAEEBC18BAX8jAEEQayIBJAAgASAANgIMIAEoAgwiACAAQQRqEGogASgCDEEIaiABKAIMQQxqEGogASgCDEEQaiABKAIMQRRqEGogASgCDEEYaiABKAIMQRxqEGogAUEQaiQAC2cBAX8jAEEwayICJAAgAiAANgIsIAIgATYCKCACQgA3AyAgAkIANwMYIAJCADcDECACQgA3AwggAkEIaiIAIAIoAihBABCaASAAEFkgABB2IAAQWSAAIAIoAixBABDsASACQTBqJAALtQQBAX8jAEHQAGsiAyQAIAMgADYCTCADIAE2AkggAyACNgJEIAMgAygCRCIAKQIYNwM4IAMgACkCEDcDMCADIAApAgg3AyggAyAAKQIANwMgIANBIGoQWSADKAJIQQJLBEBB8BhB3BBB7wNB5QwQAAALIANBADYCHANAIAMoAhwgAygCSEkEQCADQSBqIAMgAygCHBDsASADKAJMIAMoAhxBBHRqIQEjAEEwayIAJAAgACABNgIsIAAgAzYCKCAAIAAoAigoAgA2AiQgACAAKAIoKAIENgIgIAAgACgCKCgCCDYCHCAAIAAoAigoAgw2AhggACAAKAIkQf8BcSAAKAIgQf8BcSAAKAIcQf8BcSAAKAIYQf8BcRA8NgIUIAAgACgCJEEIdkH/AXEgACgCIEEIdkH/AXEgACgCHEEIdkH/AXEgACgCGEEIdkH/AXEQPDYCECAAIAAoAiRBEHZB/wFxIAAoAiBBEHZB/wFxIAAoAhxBEHZB/wFxIAAoAhhBEHZB/wFxEDw2AgwgACAAKAIkQRh2IAAoAiBBGHYgACgCHEEYdiAAKAIYQRh2EDw2AgggACAAKAIUEGk2AhQgACAAKAIQEGk2AhAgACAAKAIMEGk2AgwgACAAKAIIEGk2AgggACgCLCAAKAIUNgAAIAAoAiwgACgCEDYABCAAKAIsIAAoAgw2AAggACgCLCAAKAIINgAMIABBMGokACADIAMoAhxBAWo2AhwMAQsLIANB0ABqJAALtAEBAX8jAEEgayIDJAAgAyAANgIcIAMgATYCGCADIAI2AhQgAygCHCIAQgA3AgAgAEIANwIYIABCADcCECAAQgA3AgggAygCFEECSwRAQfAYQdwQQd4DQdMMEAAACyADQQA2AhADQCADKAIQIAMoAhRPRQRAIAMgAygCGCADKAIQQQR0ahBOIAMoAhwgAyADKAIQEJoBIAMgAygCEEEBajYCEAwBCwsgAygCHBBZIANBIGokAAuuAQEDfyMAQRBrIgIkACACIAA2AgwgAigCDCEAIwBBEGsiAyQAIAMgADYCDCADKAIMIQEjAEEQayIAJAAgACABNgIMIABBADYCCCAAQQA2AgQgACgCDCEBIABBADYCAANAIAAoAgAgASgCBEkEQCAAIAAoAgBBAWo2AgAMAQsLIAEoAgAQKCABIAAoAgg2AgAgASAAKAIENgIEIABBEGokACADQRBqJAAgAkEQaiQACzQBAX8jAEEQayIBJAAgASAANgIMIAEoAgwiABAYKAIAIAAoAgBrQQJ1IQAgAUEQaiQAIAALkgEBA38jAEEQayICJAAgAiAANgIMIAIgATYCCCACKAIMIQEjAEEQayIAJAAgACABNgIMIAAgAkEIajYCCCAAIAI2AgQgACgCCCEDIwBBEGsiASAAKAIMIgQ2AgwgASADNgIIIAEoAgwgASgCCCgCADYCACMAQRBrIgEgBDYCBCABKAIEGiAAQRBqJAAgAkEQaiQACykBAX8jAEEQayIBJAAgASAANgIMIAEoAgxBBGoQFyEAIAFBEGokACAAC0ABAX8jAEEQayIDIAA2AgwgAyABNgIIIAMgAjYCBCADKAIMIgAgAygCCCgCADYCACAAIAMoAgQtAABBAXE6AAQL3wEBBn8jAEEQayIDJAAgAyAANgIMIAMoAgwhASMAQRBrIgAkACAAIAE2AgwgAEEANgIIIAAgACgCDCIBEBcoAgA2AgQgACgCCCECIAEQFyACNgIAIAAoAgQEQCABEFIhAiAAKAIEIQQjAEEQayIBJAAgASACNgIMIAEgBDYCCCABKAIMIgItAARBAXEEQCACKAIAIQQgASgCCEEQahAsIQUjAEEQayIGIAQ2AgwgBiAFNgIICyABKAIIBEAgAigCACABKAIIELIBCyABQRBqJAALIABBEGokACADQRBqJAALVwEBfyMAQRBrIgIkACACIAA2AgwgAiABNgIIIAIgAigCDCIAEBcoAgA2AgQgAigCCCEBIAAQFyABNgIAIAIoAgQEQCAAEBcgAigCBBC4AQsgAkEQaiQAC6ABAQN/IwBBEGsiAiQAIAIgADYCDCACIAE2AgggAigCDCEBIAIoAgghAyMAQRBrIgAkACAAIAE2AgQgACADNgIAAn8gACgCACEDIAAoAgQhBCMAQRBrIgEgAEEIajYCDCABIAM2AgggASAENgIEIAEoAggoAgAgASgCBCgCAEkEQCAAKAIADAELIAAoAgQLIQEgAEEQaiQAIAJBEGokACABCygBAX8jAEEQayIBJAAgASAANgIMIwBBEGsiACQAIABBogs2AgwQAwALSQECfyAAKAIEIgVBCHUhBiAAKAIAIgAgASAFQQFxBH8gBiACKAIAaigCAAUgBgsgAmogA0ECIAVBAnEbIAQgACgCACgCGBEIAAtNAQF/IwBBEGsiAiQAIAIgADYCDCACIAE2AgggAigCCCEAIAIoAgwiASgCAEHft96aAUcEQCAAEQkAIAFB37femgE2AgALIAJBEGokAAuSAgEFfyMAQSBrIgEkACABIAA2AhggASABKAIYNgIUIwBBEGsiACABKAIUNgIMIAAgACgCDCgCADYCCCABIAAoAgg2AhADQCABKAIQRQRAEAMACwJAIAEoAhBBf0YEQCABQQA2AhwMAQsgASABKAIQQQFrNgIMIAEoAgwhAiMAQSBrIgAgASgCFDYCHCAAIAFBEGo2AhggACACNgIUIAAoAhwhAyAAKAIYIQQgACAAKAIUNgIQIAMoAgAiBSAEKAIARiECIAMgACgCECAFIAIbNgIAIAJFBEAgBCAFNgIACyAAIAI6AA8gAC0AD0EBcQRAIAEgASgCDEU2AhwMAQsMAQsLIAEoAhwhACABQSBqJAAgAAtJAQF/IwBBEGsiASQAIAEgADYCDCABIAEoAgxB8OEDQQwQazYCDCABIAEoAgxBzIGwBkEGEGs2AgwgASgCDCEAIAFBEGokACAAC4UBAQF/IwBBIGsiAiAANgIcIAIgATYCGCACQdWq1aoFNgIUIAJBATYCECACIAIoAhQ2AgwgAiACKAIMIAIoAhgoAgAgAigCHCgCACACKAIQdnNxNgIIIAIoAhwiACAAKAIAIAIoAgggAigCEHRzNgIAIAIoAhgiACACKAIIIAAoAgBzNgIAC08BAX8jAEEQayIDIAA2AgwgAyABNgIIIAMgAjYCBCADIAMoAgggAygCDCIAIAAgAygCBHZzcTYCACADKAIAIgAgAygCDHMgACADKAIEdHMLSQEBfyMAQRBrIgEkACABIAA2AgwgASABKAIMQcyBsAZBBhBrNgIMIAEgASgCDEHw4QNBDBBrNgIMIAEoAgwhACABQRBqJAAgAAtBAQF/IwBBEGsiAyQAIAMgADYCDCADIAE2AgggAyACNgIEIAMoAgwhAEH8JiADKAIIIAMoAgQQBSADQRBqJAAgAAs6AQF/IwBBEGsiAiQAIAIgADYCDCACIAE3AwAgAiACKQMAENYBNwMAIAIoAgwgAkEIEB4gAkEQaiQAC0EBAX8jAEEQayIDJAAgAyAANgIMIAMgATYCCCADIAI2AgQgAygCDEEEaiADKAIIIAMoAgQQWCEAIANBEGokACAAC7AEAQF/IwBBwAFrIgckACAHIAA2ArgBIAcgATYCtAEgByACNgKwASAHIAM2AqwBIAcgBDYCqAEgByAFNgKkASAHIAY2AqABIwBBEGsiACAHKAKwATYCDCAHIAAoAgwoAgQ2ApwBIAdBADYCSCAHQQA2AkAgByAHKAKcASIAIAcoArQBakEBayAAbjYCTAJAAkAgBygCtAEgBygCtAEgBygCnAFqTQRAIAcoAkxB/wFNDQELQR9B5ABBpxRByQAQHCAHQQA2ArwBDAELIAdBCGoiABDZAQJAIAAgBygCrAEgBygCqAEgBygCsAEQkgFFDQAgB0EANgJEA0AgBygCRCAHKAJMSQRAIAcgBygCREEBajoABwJAIAcoAkRFDQAgB0EIakEAQQBBABCSAQRAIAdBCGogB0HQAGogBygCnAEQbw0BCwwDCyAHQQhqIAcoAqQBIAcoAqABEG9FDQIgB0EIaiAHQQdqQQEQb0UNAiAHQQhqIAdB0ABqQQAQ2AFFDQIgByAHKAKcATYCACAHKAIAIAcoArQBIAcoAkhrSwRAIAcgBygCtAEgBygCSGs2AgALIAcoArgBIAcoAkhqIAdB0ABqIAcoAgAQHiAHIAcoAgAgBygCSGo2AkggByAHKAJEQQFqNgJEDAELCyAHQQE2AkALIAdBCGoQ1wEgBygCQEEBRwRAQR9BHEGnFEHtABAcCyAHIAcoAkA2ArwBCyAHKAK8ASEAIAdBwAFqJAAgAAtzAQF/IwBBEGsiASQAIAEgADYCDCABKAIMKAIEECgCQCABKAIMKAIIRQ0AIAEoAgwoAgwNAEGyF0GUEUHjAEHUCxAAAAsgASgCDCgCDARAIAEoAgwiACgCCCAAKAIMKAIAEQEACyABKAIMEHIgAUEQaiQACyYBAX8jAEEQayIBJAAgASAANgIMIAEoAgxBAEEQECEgAUEQaiQACyUBAX8jAEEQayIBJAAgASAANgIMIAEoAgxBABCQASABQRBqJAALswEBAX8jAEEgayIDJAAgAyAANgIcIAMgATYCGCADIAI2AhQgA0EANgIQA0AgAygCEEEQSQRAIAMgAygCGCADKAIQaigAADYCDCADIAMoAhQgAygCEGooAAA2AgggAygCCCEBIwBBEGsiACADKAIMNgIMIAAgATYCCCADIAAoAgwgACgCCHM2AgwgAygCHCADKAIQaiADKAIMNgAAIAMgAygCEEEEajYCEAwBCwsgA0EgaiQAC3ABA38jAEEQayIBJAAgASAANgIIIAEgASgCCCIANgIMIAAQ4AEgACgCAARAIwBBEGsiAiQAIAIgADYCDCACKAIMIgMgAygCABDQASACQRBqJAAgABAYIAAoAgAgABBHENQBCyABKAIMGiABQRBqJAAL2ygBA38jAEHwA2siASQAIAEgADYC7AMgASABKALsAygCHDYC6AMgASABKALsAygCGDYC5AMgASABKALsAygCFDYC4AMgASABKALsAygCEDYC3AMgASABKALsAygCDDYC2AMgASABKALsAygCCDYC1AMgASABKALsAygCBDYC0AMgASABKALsAygCADYCzAMgASgC1AMhAiMAQRBrIgAgASgC3AM2AgwgACACNgIIIAEgACgCDCAAKAIIczYCyAMgASgC0AMhAiAAIAEoAugDNgIMIAAgAjYCCCABIAAoAgwgACgCCHM2AsQDIAEoAtwDIQIgACABKALoAzYCDCAAIAI2AgggASAAKAIMIAAoAghzNgLAAyABKALUAyECIAAgASgC6AM2AgwgACACNgIIIAEgACgCDCAAKAIIczYCvAMgASgC4AMhAiAAIAEoAuQDNgIMIAAgAjYCCCABIAAoAgwgACgCCHM2ArgDIAEoAswDIQIgACABKAK4AzYCDCAAIAI2AgggASAAKAIMIAAoAghzNgK0AyABKALcAyECIAAgASgCtAM2AgwgACACNgIIIAEgACgCDCAAKAIIczYCsAMgASgCyAMhAiAAIAEoAsQDNgIMIAAgAjYCCCABIAAoAgwgACgCCHM2AqwDIAEoAugDIQIgACABKAK0AzYCDCAAIAI2AgggASAAKAIMIAAoAghzNgKoAyABKALQAyECIAAgASgCtAM2AgwgACACNgIIIAEgACgCDCAAKAIIczYCpAMgASgCvAMhAiAAIAEoAqQDNgIMIAAgAjYCCCABIAAoAgwgACgCCHM2AqADIAEoAqwDIQIgACABKALYAzYCDCAAIAI2AgggASAAKAIMIAAoAghzNgKcAyABKALUAyECIAAgASgCnAM2AgwgACACNgIIIAEgACgCDCAAKAIIczYCmAMgASgC5AMhAiAAIAEoApwDNgIMIAAgAjYCCCABIAAoAgwgACgCCHM2ApQDIAEoAswDIQIgACABKAKYAzYCDCAAIAI2AgggASAAKAIMIAAoAghzNgKQAyABKAK4AyECIAAgASgCmAM2AgwgACACNgIIIAEgACgCDCAAKAIIczYCjAMgASgCwAMhAiAAIAEoApQDNgIMIAAgAjYCCCABIAAoAgwgACgCCHM2AogDIAEoAogDIQIgACABKALMAzYCDCAAIAI2AgggASAAKAIMIAAoAghzNgKEAyABKAKIAyECIAAgASgCjAM2AgwgACACNgIIIAEgACgCDCAAKAIIczYCgAMgASgCvAMhAiAAIAEoAowDNgIMIAAgAjYCCCABIAAoAgwgACgCCHM2AvwCIAEoAogDIQIgACABKAK4AzYCDCAAIAI2AgggASAAKAIMIAAoAghzNgL4AiABKAL4AiECIAAgASgCxAM2AgwgACACNgIIIAEgACgCDCAAKAIIczYC9AIgASgC+AIhAiAAIAEoAugDNgIMIAAgAjYCCCABIAAoAgwgACgCCHM2AvACIAEoApgDIQIgACABKAKsAzYCDCAAIAI2AgggASAAKAIMIAAoAghxNgLsAiABKAKQAyECIAAgASgCoAM2AgwgACACNgIIIAEgACgCDCAAKAIIcTYC6AIgASgC7AIhAiAAIAEoAugCNgIMIAAgAjYCCCABIAAoAgwgACgCCHM2AuQCIAEoAswDIQIgACABKAKwAzYCDCAAIAI2AgggASAAKAIMIAAoAghxNgLgAiABKALsAiECIAAgASgC4AI2AgwgACACNgIIIAEgACgCDCAAKAIIczYC3AIgASgC+AIhAiAAIAEoAsQDNgIMIAAgAjYCCCABIAAoAgwgACgCCHE2AtgCIAEoArQDIQIgACABKAKkAzYCDCAAIAI2AgggASAAKAIMIAAoAghxNgLUAiABKALYAiECIAAgASgC1AI2AgwgACACNgIIIAEgACgCDCAAKAIIczYC0AIgASgChAMhAiAAIAEoAqgDNgIMIAAgAjYCCCABIAAoAgwgACgCCHE2AswCIAEoAtgCIQIgACABKALMAjYCDCAAIAI2AgggASAAKAIMIAAoAghzNgLIAiABKAKIAyECIAAgASgCwAM2AgwgACACNgIIIAEgACgCDCAAKAIIcTYCxAIgASgCgAMhAiAAIAEoAsgDNgIMIAAgAjYCCCABIAAoAgwgACgCCHE2AsACIAEoAsQCIQIgACABKALAAjYCDCAAIAI2AgggASAAKAIMIAAoAghzNgK8AiABKAKMAyECIAAgASgCvAM2AgwgACACNgIIIAEgACgCDCAAKAIIcTYCuAIgASgCxAIhAiAAIAEoArgCNgIMIAAgAjYCCCABIAAoAgwgACgCCHM2ArQCIAEoArwCIQIgACABKALkAjYCDCAAIAI2AgggASAAKAIMIAAoAghzNgKwAiABKAK0AiECIAAgASgC3AI2AgwgACACNgIIIAEgACgCDCAAKAIIczYCrAIgASgCvAIhAiAAIAEoAtACNgIMIAAgAjYCCCABIAAoAgwgACgCCHM2AqgCIAEoArQCIQIgACABKALIAjYCDCAAIAI2AgggASAAKAIMIAAoAghzNgKkAiABKAKUAyECIAAgASgCsAI2AgwgACACNgIIIAEgACgCDCAAKAIIczYCoAIgASgC/AIhAiAAIAEoAqwCNgIMIAAgAjYCCCABIAAoAgwgACgCCHM2ApwCIAEoAvQCIQIgACABKAKoAjYCDCAAIAI2AgggASAAKAIMIAAoAghzNgKYAiABKALwAiECIAAgASgCpAI2AgwgACACNgIIIAEgACgCDCAAKAIIczYClAIgASgCnAIhAiAAIAEoAqACNgIMIAAgAjYCCCABIAAoAgwgACgCCHM2ApACIAEoApgCIQIgACABKAKgAjYCDCAAIAI2AgggASAAKAIMIAAoAghxNgKMAiABKAKMAiECIAAgASgClAI2AgwgACACNgIIIAEgACgCDCAAKAIIczYCiAIgASgCiAIhAiAAIAEoApACNgIMIAAgAjYCCCABIAAoAgwgACgCCHE2AoQCIAEoApwCIQIgACABKAKEAjYCDCAAIAI2AgggASAAKAIMIAAoAghzNgKAAiABKAKUAiECIAAgASgCmAI2AgwgACACNgIIIAEgACgCDCAAKAIIczYC/AEgASgCjAIhAiAAIAEoApwCNgIMIAAgAjYCCCABIAAoAgwgACgCCHM2AvgBIAEoAvwBIQIgACABKAL4ATYCDCAAIAI2AgggASAAKAIMIAAoAghxNgL0ASABKAKUAiECIAAgASgC9AE2AgwgACACNgIIIAEgACgCDCAAKAIIczYC8AEgASgC8AEhAiAAIAEoApgCNgIMIAAgAjYCCCABIAAoAgwgACgCCHM2AuwBIAEoAvABIQIgACABKAKIAjYCDCAAIAI2AgggASAAKAIMIAAoAghzNgLoASABKALoASECIAAgASgClAI2AgwgACACNgIIIAEgACgCDCAAKAIIcTYC5AEgASgC7AEhAiAAIAEoAuQBNgIMIAAgAjYCCCABIAAoAgwgACgCCHM2AuABIAEoAuQBIQIgACABKAKIAjYCDCAAIAI2AgggASAAKAIMIAAoAghzNgLcASABKALcASECIAAgASgCgAI2AgwgACACNgIIIAEgACgCDCAAKAIIcTYC2AEgASgC2AEhAiAAIAEoApACNgIMIAAgAjYCCCABIAAoAgwgACgCCHM2AtQBIAEoAuABIQIgACABKALUATYCDCAAIAI2AgggASAAKAIMIAAoAghzNgLQASABKALwASECIAAgASgCgAI2AgwgACACNgIIIAEgACgCDCAAKAIIczYCzAEgASgC1AEhAiAAIAEoAoACNgIMIAAgAjYCCCABIAAoAgwgACgCCHM2AsgBIAEoAuABIQIgACABKALwATYCDCAAIAI2AgggASAAKAIMIAAoAghzNgLEASABKALQASECIAAgASgCzAE2AgwgACACNgIIIAEgACgCDCAAKAIIczYCwAEgASgCmAMhAiAAIAEoAsQBNgIMIAAgAjYCCCABIAAoAgwgACgCCHE2ArwBIAEoApADIQIgACABKALgATYCDCAAIAI2AgggASAAKAIMIAAoAghxNgK4ASABKALMAyECIAAgASgC8AE2AgwgACACNgIIIAEgACgCDCAAKAIIcTYCtAEgASgC+AIhAiAAIAEoAsgBNgIMIAAgAjYCCCABIAAoAgwgACgCCHE2ArABIAEoArQDIQIgACABKALUATYCDCAAIAI2AgggASAAKAIMIAAoAghxNgKsASABKAKEAyECIAAgASgCgAI2AgwgACACNgIIIAEgACgCDCAAKAIIcTYCqAEgASgCiAMhAiAAIAEoAswBNgIMIAAgAjYCCCABIAAoAgwgACgCCHE2AqQBIAEoAoADIQIgACABKALAATYCDCAAIAI2AgggASAAKAIMIAAoAghxNgKgASABKAKMAyECIAAgASgC0AE2AgwgACACNgIIIAEgACgCDCAAKAIIcTYCnAEgASgCrAMhAiAAIAEoAsQBNgIMIAAgAjYCCCABIAAoAgwgACgCCHE2ApgBIAEoAqADIQIgACABKALgATYCDCAAIAI2AgggASAAKAIMIAAoAghxNgKUASABKAKwAyECIAAgASgC8AE2AgwgACACNgIIIAEgACgCDCAAKAIIcTYCkAEgASgCxAMhAiAAIAEoAsgBNgIMIAAgAjYCCCABIAAoAgwgACgCCHE2AowBIAEoAqQDIQIgACABKALUATYCDCAAIAI2AgggASAAKAIMIAAoAghxNgKIASABKAKoAyECIAAgASgCgAI2AgwgACACNgIIIAEgACgCDCAAKAIIcTYChAEgASgCwAMhAiAAIAEoAswBNgIMIAAgAjYCCCABIAAoAgwgACgCCHE2AoABIAEoAsgDIQIgACABKALAATYCDCAAIAI2AgggASAAKAIMIAAoAghxNgJ8IAEoArwDIQIgACABKALQATYCDCAAIAI2AgggASAAKAIMIAAoAghxNgJ4IAEoAnwhAiAAIAEoAoABNgIMIAAgAjYCCCABIAAoAgwgACgCCHM2AnQgASgCkAEhAiAAIAEoApQBNgIMIAAgAjYCCCABIAAoAgwgACgCCHM2AnAgASgCiAEhAiAAIAEoAqgBNgIMIAAgAjYCCCABIAAoAgwgACgCCHM2AmwgASgClAEhAiAAIAEoApgBNgIMIAAgAjYCCCABIAAoAgwgACgCCHM2AmggASgCjAEhAiAAIAEoArQBNgIMIAAgAjYCCCABIAAoAgwgACgCCHM2AmQgASgCqAEhAiAAIAEoArQBNgIMIAAgAjYCCCABIAAoAgwgACgCCHM2AmAgASgCnAEhAiAAIAEoAqABNgIMIAAgAjYCCCABIAAoAgwgACgCCHM2AlwgASgCsAEhAiAAIAEoArwBNgIMIAAgAjYCCCABIAAoAgwgACgCCHM2AlggASgCoAEhAiAAIAEoAqQBNgIMIAAgAjYCCCABIAAoAgwgACgCCHM2AlQgASgCeCECIAAgASgCfDYCDCAAIAI2AgggASAAKAIMIAAoAghzNgJQIAEoAmwhAiAAIAEoAowBNgIMIAAgAjYCCCABIAAoAgwgACgCCHM2AkwgASgCWCECIAAgASgCZDYCDCAAIAI2AgggASAAKAIMIAAoAghzNgJIIAEoAnQhAiAAIAEoAqwBNgIMIAAgAjYCCCABIAAoAgwgACgCCHM2AkQgASgCVCECIAAgASgCsAE2AgwgACACNgIIIAEgACgCDCAAKAIIczYCQCABKAJIIQIgACABKAJ0NgIMIAAgAjYCCCABIAAoAgwgACgCCHM2AjwgASgCSCECIAAgASgChAE2AgwgACACNgIIIAEgACgCDCAAKAIIczYCOCABKAJEIQIgACABKAJcNgIMIAAgAjYCCCABIAAoAgwgACgCCHM2AjQgASgCRCECIAAgASgCaDYCDCAAIAI2AgggASAAKAIMIAAoAghzNgIwIAEoAkAhAiAAIAEoAqwBNgIMIAAgAjYCCCABIAAoAgwgACgCCHM2AiwgASgCNCECIAAgASgCODYCDCAAIAI2AgggASAAKAIMIAAoAghzNgIoIAEoAjAhAiAAIAEoArgBNgIMIAAgAjYCCCABIAAoAgwgACgCCHM2AiQgASgCMCECIAAgASgCQDYCDCAAIAI2AgggASAAKAIMIAAoAghzNgIgIAEoAkwhAiAAIAEoAjQ2AgwgACgCDEF/cyEDIAAgAjYCDCAAIAM2AgggASAAKAIMIAAoAghzNgIcIAEoAmwhAiAAIAEoAjw2AgwgACgCDEF/cyEDIAAgAjYCDCAAIAM2AgggASAAKAIMIAAoAghzNgIYIAEoAighAiAAIAEoAiw2AgwgACACNgIIIAEgACgCDCAAKAIIczYCFCABKAIkIQIgACABKAJYNgIMIAAgAjYCCCABIAAoAgwgACgCCHM2AhAgASgCJCECIAAgASgCYDYCDCAAIAI2AgggASAAKAIMIAAoAghzNgIMIAEoAighAiAAIAEoAnA2AgwgACACNgIIIAEgACgCDCAAKAIIczYCCCABKAIsIQIgACABKAIQNgIMIAAoAgxBf3MhAyAAIAI2AgwgACADNgIIIAEgACgCDCAAKAIIczYCBCABKAJQIQIgACABKAIUNgIMIAAoAgxBf3MhAyAAIAI2AgwgACADNgIIIAEgACgCDCAAKAIIczYCACABKALsAyABKAIYNgIAIAEoAuwDIAEoAhw2AgQgASgC7AMgASgCCDYCCCABKALsAyABKAIMNgIMIAEoAuwDIAEoAhA2AhAgASgC7AMgASgCADYCFCABKALsAyABKAIENgIYIAEoAuwDIAEoAiA2AhwgAUHwA2okAAsyAQF/IwBBEGsiAiAAOgAPIAIgATYCCCACIAItAA8gAigCCEEBdHVBA3E6AA8gAi0ADwu8AgEEfyMAQRBrIgIkACACIAA2AgwgAiABNgIIIAIoAgwhBCACKAIIIQEjAEEgayIAJAAgACACNgIMIAAgATYCCCMAQRBrIgEgACgCDDYCDCAAIAEoAgw2AgQgACgCCCEBIAAgAEEEajYCHCAAIAE2AhggACgCHCEDIwBBEGsiASAAKAIYNgIMIABBEGoiBSABKAIMKQIANwIAIwBBEGsiASQAIAEgAzYCDCABIAU2AgggASABKAIIKAIENgIEIAEoAgRBf0sEQEG9FkG+DUHuAUHkDxAAAAsgASgCDCgCACABKAIIKAIANgIAIAEoAgwoAgAgASgCBDYCBCABKAIMIgMgAygCAEEIajYCACABQRBqJAAjAEEQayAAKAIcNgIMIABBIGokACAEQewoIAIQFxAINgIAIAJBEGokAAu9AQEBfyMAQSBrIgIkACACIAA2AhwgAiABNgIYIAJBADYCFANAIAIoAhQgAigCGCgC8AFLRQRAIAJBADYCEANAIAIoAhBBAk9FBEAgAiACKAIYIAIoAhRBBHRqIgApAgA3AgAgAiAAKQIINwIIIAIoAhwgAigCFEEFdGogAiACKAIQEJoBIAIgAigCEEEBajYCEAwBCwsgAigCHCACKAIUQQV0ahBZIAIgAigCFEEBajYCFAwBCwsgAkEgaiQACyUBAX8jAEEQayIDJAAgAyAANgIMIAMgATYCCCADIAI2AgQQAwALMQEBfyMAQRBrIgMkACADIAE2AgwgAyACNgIIIAAgAygCDCADKAIIELwBIANBEGokAAt/AQN/IwBBEGsiAiQAIAIgADYCDCACKAIMIQEjAEEQayIAJAAgACABNgIMIAAgACgCDCgCADYCCCMAQRBrIgEgAEEIajYCDCABKAIMIgEgASgCAEEMazYCACMAQRBrIgMgATYCDCADKAIMKAIAIQEgAEEQaiQAIAJBEGokACABC28BAn8jAEEQayIDJAAgAyAANgIMIAMgATYCCCADIAI2AgQgAygCDCEBIAMoAggQJiECIAMoAgQhBCMAQRBrIgAgATYCDCAAIAI2AgggACAENgIEIAAoAggpAwAgACgCBCkDAFEhACADQRBqJAAgAAv+AwICfwF+IwBBEGsiAyQAIAMgADYCDCADIAE2AgggAygCDCEAIAMoAggpAwAhBCMAQSBrIgEkACABIAA2AhwgASAENwMQIAEgASkDEDcDCCMAQSBrIgAkACAAIAE2AhwgACABQQhqNgIYIABBCDYCFCAAQZXTx94FNgIQIABBGDYCDCAAIAAoAhQ2AgggACAAKAIYNgIEA0AgACgCFEEETwRAIwBBEGsiAiAAKAIENgIMIAIgAigCDCgAADYCCCAAIAIoAgg2AgAgACAAKAIAQZXTx94FbDYCACAAIAAoAgAgACgCAEEYdnM2AgAgACAAKAIAQZXTx94FbDYCACAAIAAoAghBldPH3gVsNgIIIAAgACgCACAAKAIIczYCCCAAIAAoAgRBBGo2AgQgACAAKAIUQQRrNgIUDAELCwJAAkACQAJAIAAoAhRBAWsOAwIBAAMLIAAgACgCCCAAKAIELQACQRB0czYCCAsgACAAKAIIIAAoAgQtAAFBCHRzNgIICyAAIAAoAgQtAAAgACgCCHM2AgggACAAKAIIQZXTx94FbDYCCAsgACAAKAIIIgJBDXYgAnM2AgggACAAKAIIQZXTx94FbDYCCCAAIAAoAgggACgCCEEPdnM2AgggACgCCCECIABBIGokACACIQAgAUEgaiQAIANBEGokACAAC3QBA38jAEEQayICJAAgAiAANgIMIAIgATYCCCACQQE2AgQgAigCDCEBIAIoAgghAyACKAIEIQQjAEEQayIAJAAgACABNgIMIAAgAzYCCCAAIAQ2AgQgACgCCCAAKAIEQRhsQQgQQyAAQRBqJAAgAkEQaiQAC0cBAX8jAEEQayIBJAAgASAANgIEIwBBEGsiACABQQhqNgIMIABBADYCCCAAKAIMIAAoAgg2AgAgASgCCCEAIAFBEGokACAACyoBAX8jAEEQayIBJAAgASAANgIMIAEoAgxBDGoQqwEhACABQRBqJAAgAAs5AQF/IwBBEGsiASQAIAEgADYCDCMAQRBrIgAgASgCDDYCDCAAKAIMKAIAQRBqIQAgAUEQaiQAIAALbwECfyMAQRBrIgMkACADIAA2AgwgAyABNgIIIAMgAjYCBCADKAIMIQEgAygCCBAmIQIgAygCBCEEIwBBEGsiACABNgIMIAAgAjYCCCAAIAQ2AgQgACgCCCgCACAAKAIEKAIASCEAIANBEGokACAAC28BAn8jAEEQayIDJAAgAyAANgIMIAMgATYCCCADIAI2AgQgAygCDCEBIAMoAgghAiADKAIEECYhBCMAQRBrIgAgATYCDCAAIAI2AgggACAENgIEIAAoAggoAgAgACgCBCgCAEghACADQRBqJAAgAAspAQF/IwBBEGsiASQAIAEgADYCDCABKAIMEEgoAgAhACABQRBqJAAgAAvpAgEBfyMAQSBrIgMkACADIAA2AhggAyABNgIUIAMgAjYCECADIAMoAhgiABCFATYCDCMAQRBrIgEkACABIAA2AgwgASgCDBBIIQIgAUEQaiQAIAMgAjYCCAJAIAMoAgwEQANAIAAQGCADKAIQIAMoAgxBEGoQhAFBAXEEQCADKAIMKAIABEAgAyADKAIMNgIIIAMgAygCDCgCADYCDAwCCyADKAIUIAMoAgw2AgAgAyADKAIUKAIANgIcDAMLAkAgABAYIAMoAgxBEGogAygCEBCDAUEBcQRAIAMoAgwoAgQEQCADIAMoAgxBBGo2AgggAyADKAIMKAIENgIMDAILIAMoAhQgAygCDDYCACADIAMoAgxBBGo2AhwMBAsgAygCFCADKAIMNgIAIAMgAygCCDYCHAwDCwwACwALIAAQSCEAIAMoAhQgADYCACADIAMoAhQoAgA2AhwLIAMoAhwhACADQSBqJAAgAAvAAQECfyMAQRBrIgIkACACIAA2AgggAiACKAIIIgA2AgwgAEE0ahAWBEAgAEE0aiIBEDEgARA3CyAAQSxqEBYEQCAAQSxqIgEQMSABEDcLIABBJGoQFgRAIABBJGoiARAxIAEQNwsgAEEcahAWBEAgAEEcaiIBEDEgARA3CyAAQRRqEBYEQCAAQRRqIgEQMSABEDcLIABBDGoQFgRAIABBDGoiARAxIAEQNwsgABCmAhogAigCDCEAIAJBEGokACAAC3wBAX8jAEEQayIDJAAgAyAANgIMIAMgATYCCCADIAI2AgQgAygCCCEBIwBBEGsiACADKAIMIgI2AgwgACABNgIIIAAoAgxBADYCACADKAIEIQEjAEEQayIAIAJBBGo2AgwgACABNgIIIAAoAgwgACgCCDYCACADQRBqJAAL2xEBEH8jAEEQayIIJAAgCCAANgIMIAggATYCCCMAQRBrIgAgCCgCDCICNgIMIAggACgCDCIAKAIEIAAoAgBrNgIEAkAgCCgCBCAIKAIISQRAIAgoAgggCCgCBGshACMAQSBrIgEkACABIAI2AhwgASAANgIYAkAgASgCHCIEEBgoAgAgBCgCBGsgASgCGE8EQCABKAIYIQIjAEEgayIAJAAgACAENgIcIAAgAjYCGCAAKAIcIQQgACgCGCEDIwBBEGsiAiAAQQhqNgIMIAIgBDYCCCACIAM2AgQgAigCDCIDIAIoAgg2AgAgAyACKAIIKAIENgIEIAMgAigCCCgCBCACKAIEajYCCCAAIAAoAhA2AgQgACAAKAIMNgIAA0AgACgCACAAKAIERwRAIAQQGCELIwBBEGsiAiAAKAIANgIMIAsgAigCDBC/ASAAIAAoAgBBAWoiAjYCACAAIAI2AgwMAQsLIwBBEGsiAiAAQQhqNgIMIAIoAgwiAigCACACKAIENgIEIABBIGokAAwBCyABIAQQGDYCFCMAIgBBEGsiAiAENgIMIAEoAhggAigCDCICKAIEIAIoAgBraiECIABBIGsiACQAIAAgBDYCGCAAIAI2AhQgACgCGCEDIwBBEGsiAiQAIAIgAzYCDCACKAIMEBghBiMAQRBrIgUkACAFIAY2AgwjAEEQayAFKAIMNgIMIAVBEGokACACQX82AgggAkH/////BzYCBCACQQhqIAJBBGoQZCgCACEFIAJBEGokACAAIAU2AhAgACgCFCAAKAIQSwRAIAMQZQALIAAgAxBHNgIMAkAgACgCDCAAKAIQQQF2TwRAIAAgACgCEDYCHAwBCyAAIAAoAgxBAXQ2AgggACAAQQhqIABBFGoQSigCADYCHAsgACgCHCECIABBIGokACMAIgBBEGsiAyAENgIMIAMoAgwiAygCBCADKAIAayEDIAEoAhQhBSAAQSBrIgAkACAAIAE2AhggACACNgIUIAAgAzYCECAAIAU2AgwgACAAKAIYIgI2AhwgAEEANgIIIAJBDGogAEEIaiAAKAIMEIgBIAICfyAAKAIUBEAgAhAyIQMgACgCFCEGIwBBEGsiBSQAIAUgAzYCDCAFIAY2AgggBSgCDCEGIAUoAgghByMAQRBrIgMkACADIAY2AgwgAyAHNgIIIAMoAgghDCADKAIMIQcjAEEQayIGJAAgBiAHNgIMIwBBEGsgBigCDDYCDCAGQRBqJAAgDEF/SwRAEDkACyADKAIIQQEQQSEGIANBEGokACAGIQMgBUEQaiQAIAMMAQtBAAs2AgAgAiACKAIAIAAoAhBqIgM2AgggAiADNgIEIAIoAgAgACgCFGohAyACEB0gAzYCACAAKAIcGiAAQSBqJAAgASgCGCECIwBBIGsiACQAIAAgATYCHCAAIAI2AhggACgCHCIFQQhqIQMgACgCGCEGIwBBEGsiAiAAQQhqNgIMIAIgAzYCCCACIAY2AgQgAigCDCIDIAIoAggoAgA2AgAgAyACKAIIKAIAIAIoAgRqNgIEIAMgAigCCDYCCANAIAAoAgggACgCDEcEQCAFEDIhDSMAQRBrIgIgACgCCDYCDCANIAIoAgwQvwEgACAAKAIIQQFqNgIIDAELCyMAQRBrIgIgAEEIajYCDCACKAIMIgIoAgggAigCADYCACAAQSBqJAAjAEEQayICJAAgAiAENgIMIAIgATYCCCACKAIMIgQQ4AEgBBAYIQMgBCgCACEFIAQoAgQhBiACKAIIQQRqIQcjAEEgayIAJAAgACADNgIcIAAgBTYCGCAAIAY2AhQgACAHNgIQIAAgACgCFCAAKAIYazYCDCAAKAIQIgMgAygCACAAKAIMazYCACAAKAIMQQBKBEAgACgCECgCACAAKAIYIAAoAgwQGxoLIABBIGokACAEIAIoAghBBGoQLSAEQQRqIAIoAghBCGoQLSAEEBggAigCCBAdEC0gAigCCCACKAIIKAIENgIAIwBBEGsiACAENgIMIAAoAgwiAygCBCADKAIAayEDIAAkACAAIAQ2AgwgACADNgIIIAAoAgwiAxAZIQYgAxAZIAMQR2ohByADEBkgAxBHaiEJIAMQGSAAKAIIaiEKIwBBIGsiBSADNgIcIAUgBjYCGCAFIAc2AhQgBSAJNgIQIAUgCjYCDCAAQRBqJAAjAEEQayAENgIMIAJBEGokACMAQRBrIgAkACAAIAE2AgggACAAKAIIIgI2AgwjAEEQayIGJAAgBiACNgIMIAYoAgwiBCEDIAQoAgQhBSMAQRBrIgQkACAEIAM2AgwgBCAFNgIIIAQoAgwhBSAEKAIIIQcjAEEQayIDJAAgAyAFNgIEIAMgBzYCACADKAIEIQUDQCADKAIAIAUoAghHBEAgBRAyIQcgBSAFKAIIQQFrIgk2AgggByEOIwBBEGsiByAJNgIMIA4gBygCDBBEDAELCyADQRBqJAAgBEEQaiQAIAZBEGokACACKAIABEAgAhAyIREgAigCACEPIwBBEGsiBCQAIAQgAjYCDCAEKAIMIgIQHSgCACACKAIAayECIARBEGokACARIA8gAhDUAQsgACgCDBogAEEQaiQACyABQSBqJAAMAQsgCCgCBCAIKAIISwRAIAIoAgAgCCgCCGohASMAQRBrIgAkACAAIAI2AgwgACABNgIIIAAoAgghAiMAQRBrIgQgACgCDCIBNgIMIAQgAjYCCCMAQRBrIgIgATYCDCAAIAIoAgwiAigCBCACKAIAazYCBCABIAAoAggQ0AEgACgCBCEEIwBBEGsiAiQAIAIgATYCDCACIAQ2AgggAigCDCIBEBkhAyABEBkgARBHaiEFIAEQGSACKAIIaiEGIAEQGSEQIwBBEGsiBCABNgIMIBAgBCgCDCIEKAIEIAQoAgBraiEHIwBBIGsiBCABNgIcIAQgAzYCGCAEIAU2AhQgBCAGNgIQIAQgBzYCDCACQRBqJAAgAEEQaiQACwsgCEEQaiQACyMBAX8jAEEQayIBJAAgASAANgIEIAEoAgQQVhogAUEQaiQAC0sBAn8gACgCBCIGQQh1IQcgACgCACIAIAEgAiAGQQFxBH8gByADKAIAaigCAAUgBwsgA2ogBEECIAZBAnEbIAUgACgCACgCFBEKAAuaAQAgAEEBOgA1AkAgACgCBCACRw0AIABBAToANAJAIAAoAhAiAkUEQCAAQQE2AiQgACADNgIYIAAgATYCECADQQFHDQIgACgCMEEBRg0BDAILIAEgAkYEQCAAKAIYIgJBAkYEQCAAIAM2AhggAyECCyAAKAIwQQFHDQIgAkEBRg0BDAILIAAgACgCJEEBajYCJAsgAEEBOgA2CwtdAQF/IAAoAhAiA0UEQCAAQQE2AiQgACACNgIYIAAgATYCEA8LAkAgASADRgRAIAAoAhhBAkcNASAAIAI2AhgPCyAAQQE6ADYgAEECNgIYIAAgACgCJEEBajYCJAsLNgEBfyMAQRBrIgIkACACIAA2AgwgAiABNgIIIAIoAgxBACACKAIIECEgAigCDBogAkEQaiQAC7UDAQF/IwBB0ABrIgIgADYCTCACIAE2AkggAiACKAJMQZGixIgBcTYCRCACIAIoAkxBosSIkQJxNgJAIAIgAigCTEHEiJGiBHE2AjwgAiACKAJMQYiRosR4cTYCOCACIAIoAkhBkaLEiAFxNgI0IAIgAigCSEGixIiRAnE2AjAgAiACKAJIQcSIkaIEcTYCLCACIAIoAkhBiJGixHhxNgIoIAIgAjUCOCACNQIwfiACNQI8IAI1Aix+IAI1AkQgAjUCNH4gAjUCQCACNQIofoWFhTcDICACIAI1AjggAjUCLH4gAjUCPCACNQIofiACNQJEIAI1AjB+IAI1AkAgAjUCNH6FhYU3AxggAiACNQI4IAI1Aih+IAI1AjwgAjUCNH4gAjUCRCACNQIsfiACNQJAIAI1AjB+hYWFNwMQIAIgAjUCOCACNQI0fiACNQI8IAI1AjB+IAI1AkQgAjUCKH4gAjUCQCACNQIsfoWFhTcDCCACKQMIQoiRosSIkaLEiH+DIAIpAxBCxIiRosSIkaLEAIMgAikDIEKRosSIkaLEiBGDIAIpAxhCosSIkaLEiJEig4SEhAuNAQECfyMAQRBrIgIkACACIAA2AgwgAiABNgIIIAIgAigCDCIAEBcoAgA2AgQgAigCCCEBIAAQFyABNgIAIAIoAgQEQCAAEBchASACKAIEIQMjAEEQayIAJAAgACABNgIMIAAgAzYCCCAAKAIIIgEEQCABIAEoAgAoAgQRAQALIABBEGokAAsgAkEQaiQAC+YBAQF/IwBBQGoiBCQAIAQgADYCPCAEIAE2AjggBCACNwMwIAQgAzcDKCAEIAQpAzBC/////w+DPgIkIAQgBCkDMEIgiD4CICAEIAQpAyhC/////w+DPgIcIAQgBCkDKEIgiD4CGCAEIAQoAiQgBCgCHBCPATcDECAEIAQoAiAgBCgCGBCPATcDCCAEIAQoAiQgBCgCIHMgBCgCHCAEKAIYcxCPASAEKQMQhSAEKQMIhTcDACAEKAI8IAQpAxAgBCkDAEIghoU3AwAgBCgCOCAEKQMIIAQpAwBCIIiFNwMAIARBQGskAAvEBQEBfyMAQbACayIEJAAgBCAANgKsAiAEIAE2AqgCIAQgAjYCpAIgBCADNgKgAiAEQQA2ApwCIARBADYCmAIgBCgCoAJFBEAgBCAEKAKsAigCADYCoAILAkACQCAEKAKgAiAEKAKsAigCAEYEQCAEKAKoAkUNAQsjAEEQayIAIAQoAqACNgIMIAQgACgCDCgCGDYCCCAEKAIIQYABSwRAQc0jQZYVQZkBQfUIEAAACyMAQRBrIgAgBCgCoAI2AgwgACgCDCgCBCAEKAIISwRAQfkOQZYVQZoBQfUIEAAACwJAIAQoAgggBCgCpAJJBEAgBCgCrAJBBGogBCgCoAIgBCgCnAIQlgFFDQMgBCgCrAJBBGogBCgCqAIgBCgCpAIQWEUNAyAEKAKsAkEEaiAEQRBqIARBDGoQlQENAQwDCyAEKAKkAkGAAUsEQEGwI0GWFUGjAUH1CBAAAAsgBEEQaiAEKAKoAiAEKAKkAhAeIAQgBCgCpAI2AgwLIAQoAgwiACAEQRBqakEAIAQoAgggAGsQISAEQQA2AgQDQCAEKAIEIAQoAghJBEAgBCgCBCIAIARBkAFqaiAEQRBqIABqLQAAQTZzOgAAIAQgBCgCBEEBajYCBAwBCwsgBCgCrAJBFGogBCgCoAIgBCgCnAIQlgFFDQEgBCgCrAJBFGogBEGQAWogBCgCCBBYRQ0BIARBADYCAANAIAQoAgAgBCgCCEkEQCAEKAIAIgAgBEGQAWpqIARBEGogAGotAABB3ABzOgAAIAQgBCgCAEEBajYCAAwBCwsgBCgCrAJBJGogBCgCoAIgBCgCnAIQlgFFDQEgBCgCrAJBJGogBEGQAWogBCgCCBBYRQ0BIAQoAqwCIAQoAqACNgIACyAEIAQoAqwCIgBBBGogAEEUahDdATYCmAILIAQoApgCIQAgBEGwAmokACAAC5AFAQR/IwBBEGsiAyQAIAMgADYCDCADIAE2AgggAygCDCEAIAMoAggiAigCbCEEIwBBIGsiASQAIAEgADYCGCABIAQ2AhQgASACNgIQIAEoAhAiAigCJCEEIAIoAiAhBSMAQTBrIgAkACAAQdgANgIsIAAgAjYCKCAAIAJBKGo2AiQgAEHAADYCICAAIAJB6ABqNgIcIAAgBDYCGCAAIAU2AhQgAEEBNgIQIAAgACgCHCgCADYCDCAAKAIMIAAoAiBPBEBBlw9B+QxBpQFBwQwQAAALIAAoAiQgACgCDGpBgAE6AAAgACAAKAIMQQFqNgIMIAAoAgwgACgCIEEIa0sEQCAAKAIMIgIgACgCJGpBACAAKAIgIAJrECEgAEEANgIMIAAoAiggACgCJEEBIAAoAiwRAwALIAAoAgwiAiAAKAIkakEAIAAoAiBBCGsgAmsQIQJAIAAoAhAEQCAAKAIkIAAoAiBqQQhrIAAoAhgQTCAAKAIkIAAoAiBqQQRrIAAoAhQQTAwBCyAAKAIkIAAoAiBqQQhrIAAoAhQQmQEgACgCJCAAKAIgakEEayAAKAIYEJkBCyAAKAIoIAAoAiRBASAAKAIsEQMAIAAoAhxBADYCACAAKAIkQQAgACgCIBAhIABBMGokAAJAIAEoAhRBIEsEQCABQQA2AhwMAQsgASgCFEEDcQRAQewgQfMVQZQBQY0MEAAACyABIAEoAhRBAnY2AgwgAUEANgIIA0AgASgCCCABKAIMSQRAIAEoAhggASgCECABKAIIQQJ0aigCABBMIAEgASgCGEEEajYCGCABIAEoAghBAWo2AggMAQsLIAFBATYCHAsgASgCHCEAIAFBIGokACADQRBqJAAgAAujAQEBfyMAQRBrIgEkACABIAA2AgwgASgCDEEAQfAAECEgASgCDEHnzKfQBjYCACABKAIMQYXdntt7NgIEIAEoAgxB8ua74wM2AgggASgCDEG66r+qejYCDCABKAIMQf+kuYgFNgIQIAEoAgxBjNGV2Hk2AhQgASgCDEGrs4/8ATYCGCABKAIMQZmag98FNgIcIAEoAgxBIDYCbCABQRBqJABBAQuTAQEBfyMAQRBrIgMkACADIAA2AgwgAyABNgIIIAMgAjYCBCADKAIMKAIAKAIEQcAASwRAQaoZQZQRQekBQYIJEAAACyADKAIMIgAgAygCCCAAKAIAKAIUEQIAIAMoAgQEQCADKAIEIAMoAgwoAgAoAgQ2AgALIAMoAgwiACgCBCAAKAIAKAIcEI4BIANBEGokAEEBC+YBAQF/IwBBIGsiAyQAIAMgADYCGCADIAE2AhQgAyACNgIQAkAgAygCGCgCACADKAIURwRAIAMoAhQoAhxFBEBB1SFBlBFBzQFB0QgQAAALIAMgAygCFCgCHBBXNgIMIAMoAgxFBEAgA0EANgIcDAILIAMoAhgoAgQQKCADKAIYIAMoAgw2AgQgAygCGCADKAIUNgIACwJAIAMoAhgoAghFDQAgAygCGCgCDA0AQbIXQZQRQdgBQdEIEAAACyADKAIYIgAgACgCACgCDBEBACADQQE2AhwLIAMoAhwhACADQSBqJAAgAAsPAEHk6QBB0QAQZ0Ho6QALvAcBAX8jAEEwayIFJAAgBSAANgIoIAUgATYCJCAFIAI2AiAgBSADNgIcIAUgBDYCGAJAIAUoAigoAoQBBEBBHkHCAEH0EkGEAhAcIAVBADYCLAwBCyAFKAIoQQE2AoQBIAUgBSgCKCgCACgCBDYCFAJAIAUoAhRBAUwNACAFKAIYQf////8HIAUoAhRrTA0AQR5BxQBB9BJBkAIQHCAFQQA2AiwMAQsgBSgCKCgCACgCFEGACHEEQCAFIAUoAigiACAFKAIkIAUoAhwgBSgCGCAAKAIAKAIgEQYANgIQIAUoAhBBAEgEQCAFQQA2AiwMAgsgBSgCICAFKAIQNgIAIAUoAihBADYChAEgBUEBNgIsDAELIAUoAhhBAEwEQCAFKAIgQQA2AgAgBSgCGEUEQCAFKAIoQQA2AoQBIAVBATYCLAwCCyAFQQA2AiwMAQsCQCAFKAIoKAJYDQAgBSgCKCAFKAIYEN4BDQAgBSgCKCIAIAUoAiQgBSgCHCAFKAIYIAAoAgAoAiARBgAEQCAFKAIgIAUoAhg2AgAgBSgCKEEANgKEASAFQQE2AiwMAgsgBSgCIEEANgIAIAVBADYCLAwBCyAFIAUoAigoAlg2AgwgBSgCFEEgSgRAQe0jQfQSQbQCQcAPEAAACwJAIAUoAgwEQCAFKAIYIAUoAhQgBSgCDGtIBEAgBSgCDCAFKAIoQThqaiAFKAIcIAUoAhgQHiAFKAIoIgAgBSgCGCAAKAJYajYCWCAFKAIgQQA2AgAgBSgCKEEANgKEASAFQQE2AiwMAwsgBSAFKAIUIAUoAgxrNgIIIAUoAgwgBSgCKEE4amogBSgCHCAFKAIIEB4gBSgCKCAFKAIkIAUoAihBOGogBSgCFCAFKAIoKAIAKAIgEQYARQRAIAVBADYCLAwDCyAFIAUoAhggBSgCCGs2AhggBSAFKAIIIAUoAhxqNgIcIAUgBSgCFCAFKAIkajYCJCAFKAIgIAUoAhQ2AgAMAQsgBSgCIEEANgIACyAFIAUoAiggBSgCGBDeATYCDCAFIAUoAhggBSgCDGs2AhggBSgCGEEASgRAIAUoAigiACAFKAIkIAUoAhwgBSgCGCAAKAIAKAIgEQYARQRAIAVBADYCLAwCCyAFKAIgIgAgBSgCGCAAKAIAajYCAAsgBSgCDARAIAUoAihBOGogBSgCHCAFKAIYaiAFKAIMEB4LIAUoAiggBSgCDDYCWCAFKAIoQQA2AoQBIAVBATYCLAsgBSgCLCEAIAVBMGokACAACzABAX8jAEEQayICJAAgAiAANgIMIAIgATYCCCACKAIMIAJBCGpBBBAeIAJBEGokAAuwAQEBfyMAQRBrIgMkACADIAA2AgwgAyABNgIIIAMgAjYCBCADKAIEQQJPBEBBkhlB3BBB7wFBtAoQAAALIAMoAgwgAygCBEECdGogAygCCCgCADYCACADKAIMIAMoAgRBAmpBAnRqIAMoAggoAgQ2AgAgAygCDCADKAIEQQRqQQJ0aiADKAIIKAIINgIAIAMoAgwgAygCBEEGakECdGogAygCCCgCDDYCACADQRBqJAALpicBCH8jAEEQayIFJAAgBSAANgIIIAUgATYCBCAFIAI2AgACQAJAAkACQCAFKAIEIgBBgAFHBEAgAEHAAUYNASAAQYACRg0CDAMLIAUoAgAhASAFKAIIIQIjAEHQAGsiACQAIAAgATYCTCAAIAI2AkggACgCTEEKNgLwASAAQTBqIAAoAkgQTiAAKAJMIgEgACkCMDcCACABIAApAjg3AgggAEEBNgIsA0AgACgCLEEKTQRAIABBEGogAEEwahBaIAAgACgCLEEBay0AjDQ6AA8gAEEANgIIA0AgACgCCEEESQRAIABBMGoiAiAAKAIIIgFBAnRqKAIAIQMgAC0ADyABEHchBiMAQRBrIgQiASADNgIMIAEgBjYCCCABKAIMIAEoAghzIQEgACgCCEECdCACaiABNgIAIAAoAghBAnQgAmooAgAhAiAEIgEhByABIABBEGogACgCCEECdGooAgA2AgwgByABKAIMIgNBAnZBv/78+QNxIANBBnRBwIGDhnxxcjYCDCABQQw2AgggASgCDCABKAIIQQF0diEDIAEgAjYCDCABIAM2AgggASgCDCABKAIIcyEBIABBMGogACgCCEECdGogATYCACAAIABBMGogACgCCEECdGooAgA2AgQgAEEwaiAAKAIIQQJ0aigCACECIAQiASAAKAIENgIMIAFBBDYCCCABKAIMIAEoAghBAXR0IQMgASACNgIMIAEgAzYCCCABKAIMIAEoAghzIQEgAEEwaiAAKAIIQQJ0aiABNgIAIABBMGogACgCCEECdGooAgAhAiAEIgEgACgCBDYCDCABQQg2AgggASgCDCABKAIIQQF0dCEDIAEgAjYCDCABIAM2AgggASgCDCABKAIIcyEBIABBMGogACgCCEECdGogATYCACAAQTBqIAAoAghBAnRqKAIAIQIgBCIBIAAoAgQ2AgwgAUEMNgIIIAEoAgwgASgCCEEBdHQhAyABIAI2AgwgASADNgIIIAEoAgwgASgCCHMhASAAQTBqIAAoAghBAnRqIAE2AgAgACAAKAIIQQFqNgIIDAELCyAAKAJMIAAoAixBBHRqIgEgACkCMDcCACABIAApAjg3AgggACAAKAIsQQFqNgIsDAELCyAAQdAAaiQAIAVBADYCDAwDCyAFKAIAIQEgBSgCCCECIwBBkAFrIgAkACAAIAE2AowBIAAgAjYCiAEgACgCjAFBDDYC8AEgACAAQfAAajYCXCAAIABB4ABqNgJYIAAoAlwgACgCiAEQTiAAKAKMASIBIAAoAlwiAikCADcCACABIAIpAgg3AgggAEIANwNIIABCADcDQCAAQUBrIgEgACgCiAEpABA3AAAgACgCWCABEE4gAEEANgI8A0AgACgCPEEESQRAIABBIGogACgCWBBaIAAgACgCPEEBdC0AjDQ6AB8gAEEANgIYA0AgACgCGEEESQRAIAAoAhgiAUECdCICIAAoAlhqKAIAIQMgAiAAKAJcaigCACECIAAtAB8gARB3IQYjAEEQayIEIgEgAjYCDCABIAY2AgggASgCDCABKAIIcyECIAQiASACNgIMIAFBCDYCCCABKAIMIAEoAghBAXR0IQIgASADNgIMIAEgAjYCCCABKAIMIAEoAghyIQEgACgCWCAAKAIYQQJ0aiABNgIAIAAoAlggACgCGEECdGooAgAhAyAEIgEhCCABIABBIGogACgCGEECdGooAgA2AgwgASABKAIMIgZBAnZBv/78+QNxIAZBBnRBwIGDhnxxcjYCDCABQQQ2AgggCCABKAIMIAEoAghBAXR0NgIMIAFBgID8BzYCCCABKAIMIAEoAghxIQIgASADNgIMIAEgAjYCCCABKAIMIAEoAghzIQEgACgCWCAAKAIYQQJ0aiABNgIAIAAoAlggACgCGEECdGooAgAhAyAEIgEhCSABIAAoAlggACgCGEECdGooAgA2AgwgAUEENgIIIAkgASgCDCABKAIIQQF0dDYCDCABQYCAgHg2AgggASgCDCABKAIIcSECIAEgAzYCDCABIAI2AgggASgCDCABKAIIcyEBIAAoAlggACgCGEECdGogATYCACAEIgEgACgCXCAAKAIYQQJ0aigCADYCDCABQQg2AgggASgCDCABKAIIQQF0diEBIAAoAlwgACgCGEECdGogATYCACAAKAJcIAAoAhhBAnRqKAIAIQIgBCIBIAAoAlggACgCGEECdGooAgA2AgwgAUEINgIIIAEoAgwgASgCCEEBdHQhAyABIAI2AgwgASADNgIIIAEoAgwgASgCCHIhASAAKAJcIAAoAhhBAnRqIAE2AgAgACgCXCAAKAIYQQJ0aigCACECIAQiASAAKAJYIAAoAhhBAnRqKAIANgIMIAFBDDYCCCABKAIMIAEoAghBAXR2IQMgASACNgIMIAEgAzYCCCABKAIMIAEoAghzIQEgACgCXCAAKAIYQQJ0aiABNgIAIAAgACgCXCAAKAIYQQJ0aigCADYCFCAAKAJcIAAoAhhBAnRqKAIAIQIgBCIBIAAoAhQ2AgwgAUEENgIIIAEoAgwgASgCCEEBdHQhAyABIAI2AgwgASADNgIIIAEoAgwgASgCCHMhASAAKAJcIAAoAhhBAnRqIAE2AgAgACgCXCAAKAIYQQJ0aigCACECIAQiASAAKAIUNgIMIAFBCDYCCCABKAIMIAEoAghBAXR0IQMgASACNgIMIAEgAzYCCCABKAIMIAEoAghzIQEgACgCXCAAKAIYQQJ0aiABNgIAIAAoAlwgACgCGEECdGooAgAhAiAEIgEgACgCFDYCDCABQQw2AgggASgCDCABKAIIQQF0dCEDIAEgAjYCDCABIAM2AgggASgCDCABKAIIcyEBIAAoAlwgACgCGEECdGogATYCACAAIAAoAhhBAWo2AhgMAQsLIAAoAowBIAAoAjxBA2xBAWpBBHRqIgEgACgCWCICKQIANwIAIAEgAikCCDcCCCAAKAKMASAAKAI8QQNsQQJqQQR0aiIBIAAoAlwiAikCADcCACABIAIpAgg3AgggAEEgaiAAKAJcEFogACAAKAI8QQF0QQFqLQCMNDoAHyAAQQA2AhADQCAAKAIQQQRJBEAjAEEQayIEIgEgACgCWCAAKAIQQQJ0aigCADYCDCABQQg2AgggASgCDCABKAIIQQF0diEBIAAoAlggACgCEEECdGogATYCACAAKAJYIAAoAhBBAnRqKAIAIQIgBCIBIAAoAlwgACgCEEECdGooAgA2AgwgAUEINgIIIAEoAgwgASgCCEEBdHQhAyABIAI2AgwgASADNgIIIAEoAgwgASgCCHIhASAAKAJYIAAoAhBBAnRqIAE2AgAgACgCWCAAKAIQQQJ0aigCACECIAAtAB8gACgCEBB3IQMjAEEQayIBIAI2AgwgASADNgIIIAEoAgwgASgCCHMhASAAKAJYIAAoAhBBAnRqIAE2AgAgACgCWCAAKAIQQQJ0aigCACECIwBBEGsiAyAAQSBqIAAoAhBBAnRqKAIANgIMIwBBEGsiASADKAIMIgNBAnZBv/78+QNxIANBBnRBwIGDhnxxcjYCDCABQQw2AgggASgCDCABKAIIQQF0diEDIwBBEGsiASACNgIMIAEgAzYCCCABKAIMIAEoAghzIQEgACgCWCAAKAIQQQJ0aiABNgIAIAAgACgCWCAAKAIQQQJ0aigCADYCDCAAKAJYIAAoAhBBAnRqKAIAIQIjAEEQayIBIAAoAgw2AgwgAUEENgIIIAEoAgwgASgCCEEBdHQhAyMAQRBrIgEgAjYCDCABIAM2AgggASgCDCABKAIIcyEBIAAoAlggACgCEEECdGogATYCACAAKAJYIAAoAhBBAnRqKAIAIQIjAEEQayIBIAAoAgw2AgwgAUEINgIIIAEoAgwgASgCCEEBdHQhAyMAQRBrIgEgAjYCDCABIAM2AgggASgCDCABKAIIcyEBIAAoAlggACgCEEECdGogATYCACAAKAJYIAAoAhBBAnRqKAIAIQIjAEEQayIBIAAoAgw2AgwgAUEMNgIIIAEoAgwgASgCCEEBdHQhAyMAQRBrIgEgAjYCDCABIAM2AgggASgCDCABKAIIcyEBIAAoAlggACgCEEECdGogATYCACMAQRBrIgEgACgCXCAAKAIQQQJ0aigCADYCDCABQQg2AgggASgCDCABKAIIQQF0diEBIAAoAlwgACgCEEECdGogATYCACAAKAJcIAAoAhBBAnRqKAIAIQIjAEEQayIBIAAoAlggACgCEEECdGooAgA2AgwgAUEMNgIIIAEoAgwgASgCCEEBdHYhAyMAQRBrIgEgAjYCDCABIAM2AgggASgCDCABKAIIcyEBIAAoAlwgACgCEEECdGogATYCACAAKAJcIAAoAhBBAnRqKAIAIQIjAEEQayIBIAAoAlwgACgCEEECdGooAgA2AgwgAUEENgIIIAEoAgwgASgCCEEBdHQhAyMAQRBrIgEgAjYCDCABIAM2AgggASgCDCABKAIIcyEBIAAoAlwgACgCEEECdGogATYCACMAQRBrIgEgACgCXCAAKAIQQQJ0aigCADYCDCABQf//AzYCCCABKAIMIAEoAghxIQEgACgCXCAAKAIQQQJ0aiABNgIAIAAgACgCEEEBajYCEAwBCwsgACgCjAEgACgCPEEDbEEDakEEdGoiASAAKAJYIgIpAgA3AgAgASACKQIINwIIIAAgACgCXDYCCCAAIAAoAlg2AlwgACAAKAIINgJYIAAgACgCPEEBajYCPAwBCwsgAEGQAWokACAFQQA2AgwMAgsgBSgCACEBIAUoAgghAiMAQfAAayIAJAAgACABNgJsIAAgAjYCaCAAKAJsQQ42AvABIABB0ABqIAAoAmgQTiAAKAJsIgEgACkCUDcCACABIAApAlg3AgggAEFAayIBIAAoAmhBEGoQTiAAKAJsIgIgASkCADcCECACIAEpAgg3AhggAEECNgI8A0ACQCAAKAI8QQ5LDQAgAEEgaiAAQUBrEFogACAAKAI8QQF2QQFrLQCMNDoAHyAAQQA2AhgDQCAAKAIYQQRJBEAgAEHQAGoiAiAAKAIYIgFBAnRqKAIAIQMgAC0AHyABEHchBiMAQRBrIgQiASADNgIMIAEgBjYCCCABKAIMIAEoAghzIQEgACgCGEECdCACaiABNgIAIAAoAhhBAnQgAmooAgAhAiAEIgEhCiABIABBIGogACgCGEECdGooAgA2AgwgCiABKAIMIgNBAnZBv/78+QNxIANBBnRBwIGDhnxxcjYCDCABQQw2AgggASgCDCABKAIIQQF0diEDIAEgAjYCDCABIAM2AgggASgCDCABKAIIcyEBIABB0ABqIAAoAhhBAnRqIAE2AgAgACAAQdAAaiAAKAIYQQJ0aigCADYCFCAAQdAAaiAAKAIYQQJ0aigCACECIAQiASAAKAIUNgIMIAFBBDYCCCABKAIMIAEoAghBAXR0IQMgASACNgIMIAEgAzYCCCABKAIMIAEoAghzIQEgAEHQAGogACgCGEECdGogATYCACAAQdAAaiAAKAIYQQJ0aigCACECIAQiASAAKAIUNgIMIAFBCDYCCCABKAIMIAEoAghBAXR0IQMgASACNgIMIAEgAzYCCCABKAIMIAEoAghzIQEgAEHQAGogACgCGEECdGogATYCACAAQdAAaiAAKAIYQQJ0aigCACECIAQiASAAKAIUNgIMIAFBDDYCCCABKAIMIAEoAghBAXR0IQMgASACNgIMIAEgAzYCCCABKAIMIAEoAghzIQEgAEHQAGogACgCGEECdGogATYCACAAIAAoAhhBAWo2AhgMAQsLIAAoAmwgACgCPEEEdGoiASAAKQJQNwIAIAEgACkCWDcCCCAAKAI8QQ5GDQAgAEEgaiAAQdAAahBaIABBADYCEANAIAAoAhBBBEkEQCAAKAIQQQJ0IgIgAEFAayIDaigCACEGIwBBEGsiBCIBIAIgAEEgamooAgA2AgwgAUEMNgIIIAEoAgwgASgCCEEBdHYhAiAEIgEgBjYCDCABIAI2AgggASgCDCABKAIIcyEBIAAoAhBBAnQgA2ogATYCACAAIAAoAhBBAnQgA2ooAgA2AgwgAEFAayAAKAIQQQJ0aigCACECIAQiASAAKAIMNgIMIAFBBDYCCCABKAIMIAEoAghBAXR0IQMgASACNgIMIAEgAzYCCCABKAIMIAEoAghzIQEgAEFAayAAKAIQQQJ0aiABNgIAIABBQGsgACgCEEECdGooAgAhAiAEIgEgACgCDDYCDCABQQg2AgggASgCDCABKAIIQQF0dCEDIAEgAjYCDCABIAM2AgggASgCDCABKAIIcyEBIABBQGsgACgCEEECdGogATYCACAAQUBrIAAoAhBBAnRqKAIAIQIgBCIBIAAoAgw2AgwgAUEMNgIIIAEoAgwgASgCCEEBdHQhAyABIAI2AgwgASADNgIIIAEoAgwgASgCCHMhASAAQUBrIAAoAhBBAnRqIAE2AgAgACAAKAIQQQFqNgIQDAELCyAAKAJsIAAoAjxBAWpBBHRqIgEgAEFAayICKQIANwIAIAEgAikCCDcCCCAAIAAoAjxBAmo2AjwMAQsLIABB8ABqJAAgBUEANgIMDAELIAVBATYCDAsgBSgCDCEAIAVBEGokACAAC60BAQF/IwBBEGsiAyQAIAMgADYCDCADIAE2AgggAyACNgIEIAMoAgQgAygCDBBNIANBATYCAANAIAMoAgAgAygCCE9FBEAgAygCBBB2IAMoAgQQ7gEgAygCBBDtASADKAIEIAMoAgwgAygCAEEFdGoQTSADIAMoAgBBAWo2AgAMAQsLIAMoAgQQdiADKAIEEO4BIAMoAgQgAygCDCADKAIIQQV0ahBNIANBEGokAAvbFAERfyMAQYABayIDJAAgAyAANgJ8IAMgATYCeCADIAI2AnQgA0EAOgBzIAAQLiADQeAAahAuIAMoAnRBA08EQCADIAMoAnRBA2s2AlggA0EANgJUA0AgAygCVCADKAJYSQRAIAMoAnggAygCVEECamotAABBAUsEQCADIAMoAlRBA2o2AlQMAgsCQCADKAJ4IAMoAlRBAmpqLQAAQQFGBEACQCADKAJ4IAMoAlRBAWpqLQAADQAgAygCeCADKAJUai0AAA0AIAMgAygCVDYCSCADIAMoAlRBA2o2AkwgA0EANgJQAkAgAygCSEUNACADKAJ4IAMoAkhBAWtqLQAADQAgAyADKAJIQQFrNgJICyADIANB4ABqIgEQgwI2AkAgAyABEIECNgI4IANBQGsgA0E4ahCAAkEBcQRAIAMoAkggA0FAaxB8KAIEayEBIANBQGsQfCABNgIICyMAQRBrIgokACAKIANB4ABqNgIMIAogA0HIAGo2AggCQCAKKAIMIgQoAgQgBBAYKAIARwRAIAooAgghAiMAQSBrIgEkACABIAQ2AhwgASACNgIYIAEoAhwiBSEEIwBBEGsiAiABQQhqIgY2AgwgAiAENgIIIAJBATYCBCACKAIMIgQgAigCCDYCACAEIAIoAggoAgQ2AgQgBCACKAIIKAIEIAIoAgRBDGxqNgIIIAUQGCENIwBBEGsiAiABKAIMNgIMIA0gAigCDCABKAIYEPgBIAEgASgCDEEMajYCDCMAQRBrIgIgBjYCDCACKAIMIgIoAgAgAigCBDYCBCABQSBqJAAMAQsgCigCCCEBIwBBIGsiAiQAIAIgBDYCHCACIAE2AhggAiACKAIcIgcQGDYCFCMAQRBrIgEgBzYCDCABKAIMIgEoAgQgASgCAGtBDG1BAWohBCMAQSBrIgEkACABIAc2AhggASAENgIUIAEoAhgiBiEFIwBBEGsiBCQAIAQgBTYCDCAEKAIMEBghCCMAQRBrIgUkACAFIAg2AgwjAEEQayAFKAIMNgIMIAVBEGokACAEQdWq1aoBNgIIIARB/////wc2AgQgBEEIaiAEQQRqEGQoAgAhBSAEQRBqJAAgASAFNgIQIAEoAhQgASgCEEsEQCAGEGUACyABIAYQTzYCDAJAIAEoAgwgASgCEEEBdk8EQCABIAEoAhA2AhwMAQsgASABKAIMQQF0NgIIIAEgAUEIaiABQRRqEEooAgA2AhwLIAEoAhwhBCABQSBqJAAjACIBQRBrIgUgBzYCDCAFKAIMIgUoAgQgBSgCAGtBDG0hBSACKAIUIQYgAUEgayIBJAAgASACNgIYIAEgBDYCFCABIAU2AhAgASAGNgIMIAEgASgCGCIENgIcIAFBADYCCCAEQQxqIAFBCGogASgCDBCIASAEAn8gASgCFARAIAQQMiEFIAEoAhQhCCMAQRBrIgYkACAGIAU2AgwgBiAINgIIIAYoAgwhCCAGKAIIIQkjAEEQayIFJAAgBSAINgIMIAUgCTYCCCAFKAIIIQ4gBSgCDCEJIwBBEGsiCCQAIAggCTYCDCMAQRBrIAgoAgw2AgwgCEEQaiQAIA5B1arVqgFLBEAQOQALIAUoAghBDGxBBBBBIQggBUEQaiQAIAZBEGokACAIDAELQQALNgIAIAQgBCgCACABKAIQQQxsaiIFNgIIIAQgBTYCBCAEKAIAIAEoAhRBDGxqIQUgBBAdIAU2AgAgASgCHBogAUEgaiQAIAIoAhQhDyMAQRBrIgEgAigCCDYCDCAPIAEoAgwgAigCGBD4ASACIAIoAghBDGo2AggjAEEQayIEJAAgBCAHNgIMIAQgAjYCCCAEKAIMIgUQ+wEgBRAYIQYgBSgCACEHIAUoAgQhCCAEKAIIQQRqIQkjAEEgayIBJAAgASAGNgIcIAEgBzYCGCABIAg2AhQgASAJNgIQIAEgASgCFCABKAIYa0EMbTYCDCABKAIQIgYgBigCACABKAIMQXRsajYCACABKAIMQQBKBEAgASgCECgCACABKAIYIAEoAgxBDGwQGxoLIAFBIGokACAFIAQoAghBBGoQLSAFQQRqIAQoAghBCGoQLSAFEBggBCgCCBAdEC0gBCgCCCAEKAIIKAIENgIAIwBBEGsiBiIBIAU2AgwgASgCDCIBKAIEIAEoAgBrQQxtIQEgBiQAIAYgBTYCDCAGIAE2AgggBigCDCIBEBkhCCABEBkgARBPQQxsaiEJIAEQGSABEE9BDGxqIQsgARAZIAYoAghBDGxqIQwjAEEgayIHIAE2AhwgByAINgIYIAcgCTYCFCAHIAs2AhAgByAMNgIMIAZBEGokACMAQRBrIAU2AgwgBEEQaiQAIwBBEGsiASQAIAEgAjYCCCABIAEoAggiBDYCDCMAQRBrIggkACAIIAQ2AgwgCCgCDCIFIQYgBSgCBCEHIwBBEGsiBSQAIAUgBjYCDCAFIAc2AgggBSgCDCEHIAUoAgghCSMAQRBrIgYkACAGIAc2AgQgBiAJNgIAIAYoAgQhBwNAIAYoAgAgBygCCEcEQCAHEDIhCSAHIAcoAghBDGsiCzYCCCAJIRAjAEEQayIJIAs2AgwgECAJKAIMEEQMAQsLIAZBEGokACAFQRBqJAAgCEEQaiQAIAQoAgAEQCAEEDIhEyAEKAIAIREjAEEQayIFJAAgBSAENgIMIAUoAgwiBBAdKAIAIAQoAgBrQQxtIQQgBUEQaiQAIBMgESAEEPoBCyABKAIMGiABQRBqJAAgAkEgaiQACyAKQRBqJAALIAMgAygCVEEDajYCVAwBCyADIAMoAlRBAWo2AlQLDAELCyADIANB4ABqIgEQgwI2AjAgAyABEIECNgIoIANBMGogA0EoahCAAkEBcQRAIAMoAnQgA0EwahB8KAIEayEBIANBMGoQfCABNgIICyADIANB4ABqNgIkIAMgAygCJBD/ATYCICADIAMoAiQQ/gE2AhgDQCADQSBqIANBGGoQ/QFBAXEEQCMAQRBrIgEgA0EgaiICNgIMIAMgASgCDCgCACIBKAIINgIQIAMgASkCADcDCCADIAMoAgwgAygCCGtBAmo2AgQgAyADKAIQQQJrNgIAIAAgA0EEaiADEFAjAEEQayIBIAI2AgwgASgCDCIBIAEoAgBBDGo2AgAMAQsLCyADQQE6AHMgA0EBNgJcIwBBEGsiBCQAIAQgA0HgAGo2AgggBCAEKAIIIgI2AgwgAhD7ASACKAIABEAjAEEQayIFJAAgBSACNgIMIAUoAgwiASEKIAEoAgAhBiMAQRBrIgEkACABIAo2AgwgASAGNgIIIAEgASgCDCIKKAIENgIEA0AgASgCCCABKAIERwRAIAoQGCEGIAEgASgCBEEMayIHNgIEIAYhEiMAQRBrIgYgBzYCDCASIAYoAgwQRAwBCwsgCiABKAIINgIEIAFBEGokACAFQRBqJAAgAhAYIAIoAgAgAhBPEPoBCyAEKAIMGiAEQRBqJAAgAy0Ac0EBcUUEQCAAECcLIANBgAFqJAALoQEBAX8jAEEgayIDJAAgAyAANgIcIAMgATYCGCADIAI2AhQgA0EAOgATIAAQLiADKAIUIQIjAEEQayIBIAMoAhg2AgwgASACNgIIIANBCkEDIAEoAgwtAABBAXFBf3NBAXEbNgIMIAMgAygCFCADKAIMazYCCCAAIANBDGogA0EIahBQIANBAToAEyADLQATQQFxRQRAIAAQJwsgA0EgaiQAC20BAX8jAEEgayIDJAAgAyAANgIcIAMgATYCGCADIAI2AhQgA0EAOgATIAAQLiADQQE2AgwgAyADKAIUQQFrNgIIIAAgA0EMaiADQQhqEFAgA0EBOgATIAMtABNBAXFFBEAgABAnCyADQSBqJAALxAEBAX8jAEEgayIDJAAgAyAANwMQIAMgATYCDCADIAI2AggCQAJAIAMoAgwEQCADKAIIQQhPDQELIANBADoAHwwBCwJAQcwzLQAAQQFHBEAgAygCDCADKQMQNwAADAELIANBADYCBANAIAMoAgRBCEkEQCADKAIMIAMoAghBAWsgAygCBCIBa2ogAykDECABQQN0rYg8AAAgAyADKAIEQQFqNgIEDAELCwsgA0EBOgAfCyADLQAfQQFxIQEgA0EgaiQAIAELKQEBfyMAQRBrIgEkACABIAA2AgwgASgCDEEQahAWIQAgAUEQaiQAIAALygEBBH8jAEEQayIDJAAgAyAANgIMIAMoAgwhASMAQRBrIgAkACAAIAE2AgwgAEEANgIIIAAgACgCDCIBEBcoAgA2AgQgACgCCCECIAEQFyACNgIAIAAoAgQEQCABEFIhAiAAKAIEIQQjAEEQayIBJAAgASACNgIMIAEgBDYCCCABKAIMIgItAARBAXEEQCACKAIAIAEoAghBCGoQLBCOAgsgASgCCARAIAIoAgAgASgCCBB/CyABQRBqJAALIABBEGokACADQRBqJAALOAEBfyMAQRBrIgEgADYCDEEAIQAgASgCDEECSwR/IAEoAgwiACAAQQFrcUEAR0F/cwVBAAtBAXELKAEBfyMAQRBrIgEkACABIAA2AgwgASgCDCIAEKoBGiABQRBqJAAgAAv9AQEGfyMAQRBrIgQkACAEIAA2AgwgBCgCDCEBIwBBEGsiACQAIAAgATYCDCAAQQA2AgggACAAKAIMIgEQFygCADYCBCAAKAIIIQIgARAXIAI2AgAgACgCBARAIAEQFyEBIAAoAgQhAyMAQRBrIgIkACACIAE2AgwgAiADNgIIIAIoAggiBQRAIwBBEGsiASQAIAEgBTYCCCABIAEoAggiAzYCDAJAIANBEGoQFkUEQCABQQE2AgQMAQsgA0EQaiIGEDEgBhA3IAFBADYCBAsgA0EQahAaIAEoAgwaIAFBEGokACAFECILIAJBEGokAAsgAEEQaiQAIARBEGokAAtjAQF/IwBBIGsiAiQAIAIgADYCFCACIAE2AhAgAiACKAIUIAIoAhAQlAI2AggjAEEQayIAIAIoAgg2AgggACACQRhqNgIEIAAoAgQgACgCCDYCACACKAIYIQAgAkEgaiQAIAALpgIBBH8jAEEQayIDJAAgAyAANgIMIAMoAgwiBEEgaiEAIwBBEGsiAiQAIAIgADYCDCACKAIMIQEjAEEQayIAJAAgACABNgIMIAAoAgwiARAdKAIABEAgASABQQhqEBcoAgAQhgIgAUEIahAXQQA2AgAgACABEDQ2AgggAEEANgIEA0AgACgCBCAAKAIISQRAIAEgACgCBBAjQQA2AgAgACAAKAIEQQFqNgIEDAELCyABEB1BADYCAAsgAEEQaiQAIAJBEGokACMAQRBrIgAkACAAIARBIGo2AgwgACgCDCECIwBBEGsiASQAIAEgAjYCDCABKAIMIgIgAkEIahAXKAIAEIYCIAIQjwIgAUEQaiQAIABBEGokACAEEKoBGiADQRBqJAAgBAvWAQEEfyMAQRBrIgIkACACIAA2AgggAiABNgIEIAIgAigCCCIANgIMIAAgAigCBCgCADYCACAAIAIoAgQoAgQ2AgQgACgCBARAIAAoAgQhACMAQRBrIgEkACABIAA2AgwgASgCDCEAIwBBEGsiBCQAIAQgADYCDCMAQRBrIgAgBCgCDEEEajYCDCAAKAIMIQMgAEEBNgIIIAMgACgCCCIFIAMoAgAiA2o2AgAgACADIAVqNgIEIAAoAgQaIARBEGokACABQRBqJAALIAIoAgwaIAJBEGokAAt0AQJ/IwBBEGsiAyQAIAMgADYCDCADIAE2AgggAyACNgIEIAMoAgwhASADKAIIIQIgAygCBCEEIwBBEGsiACQAIAAgATYCDCAAIAI2AgggACAENgIEIAAoAgggACgCBEEDdEEEEEMgAEEQaiQAIANBEGokAAvUAgEFfyMAQRBrIgMkACADIAA2AgwgAygCDCIEQdwxNgIAIwBBEGsiAiQAIAIgBEEIaiIFNgIMIAIoAgwhASMAQRBrIgAkACAAIAE2AgwgACgCDCIBEB0oAgAEQCABIAFBCGoQFygCABCQAiABQQhqEBdBADYCACAAIAEQNDYCCCAAQQA2AgQDQCAAKAIEIAAoAghJBEAgASAAKAIEECNBADYCACAAIAAoAgRBAWo2AgQMAQsLIAEQHUEANgIACyAAQRBqJAAgAkEQaiQAIwBBEGsiACQAIAAgBEEcaiIBNgIMIABBADYCCCAAKAIMQQAQkAEgAEEQaiQAIAEQcyMAQRBrIgAkACAAIAU2AgwgACgCDCECIwBBEGsiASQAIAEgAjYCDCABKAIMIgIgAkEIahAXKAIAEJACIAIQjwIgAUEQaiQAIABBEGokACADQRBqJAAgBAtRAQF/IwBBEGsiASQAIAEgADYCDCABIAEoAgw2AggjAEEQayIAIAEoAgg2AgwgASAAKAIMNgIEIAEgASgCBDYCACABKAIAIQAgAUEQaiQAIAALhwEBAn8jAEEQayICJAAgAiAANgIMIAIgATYCCCACKAIMIQAgAigCCARAIAAgAigCCCgCABCsASAAIAIoAggoAgQQrAEgAiAAEGA2AgQgAigCBCEAIAIoAghBEGoQLCEBIwBBEGsiAyAANgIMIAMgATYCCCACKAIEIAIoAggQsgELIAJBEGokAAuHAQECfyMAQRBrIgIkACACIAA2AgwgAiABNgIIIAIoAgwhACACKAIIBEAgACACKAIIKAIAEK0BIAAgAigCCCgCBBCtASACIAAQYDYCBCACKAIEIQAgAigCCEEQahAsIQEjAEEQayIDIAA2AgwgAyABNgIIIAIoAgQgAigCCBCyAQsgAkEQaiQAC1ABAn8jAEEQayIBJAAgASAANgIEIAEoAgQQSCECIwBBEGsiACABQQhqNgIMIAAgAjYCCCAAKAIMIAAoAgg2AgAgASgCCCEAIAFBEGokACAAC0oBAX8jAEEQayICIAA2AgwgAiABNgIIIAIoAgwiACACKAIIKAIANgIAIAAgAigCCCgCBDYCBCACKAIIQQA2AgAgAigCCEEANgIECw0AIwBBEGsgADYCDAAL5AEBA38jAEEQayIDJAAgAyAANgIMIAMgATYCCCADKAIMIQEgAyADKAIIEEI2AgQgAygCCBAmIQIjAEEQayIAJAAgACABNgIMIAAgA0EEajYCCCAAIAI2AgQgACgCCCECIwBBEGsiASAAKAIMIgQ2AgwgASACNgIIIAEoAgwgASgCCCgCADYCACAAKAIEIQIjAEEQayIBJAAgASAENgIMIAEgAjYCCCABKAIIIQQjAEEQayICIAEoAgw2AgwgAiAENgIIIAJBADYCBCACKAIMGiABQRBqJAAgAEEQaiQAIANBEGokAAt1AQN/IwBBEGsiAiQAIAIgADYCDCACIAE2AgggAkEBNgIEIAIoAgwhASACKAIIIQMgAigCBCEEIwBBEGsiACQAIAAgATYCDCAAIAM2AgggACAENgIEIAAoAgggACgCBEHoAGxBBBBDIABBEGokACACQRBqJAALjwEBAn8jAEEgayICJAAgASgCACEDIAEoAgQhASACIAA2AhggAiABNgIUIAIgAzYCECACQRA2AgwgAigCGCEBIwBBEGsiACACQQhqIgM2AgwgACQAIAAgAzYCDCAAQRBqJAAgAiACKAIMNgIcQbQnIAFBAkGkKEHIKCACKAIMIAJBEGoQVUEAEAQgAkEgaiQAC+sJAQ1/IwBBEGsiASQAIAFBsOkANgIMIAEoAgwhAyMAQRBrIgAkACAAIAM2AgwgAEEBNgIIIAAoAgwiAyAAKAIINgIAIANBADYCBCAAKAIIEQkAIANBhOsAKAIANgIEQYTrACADNgIAIABBEGokACABQRBqJAAjAEHQAWsiACQAIABBGGoiAUHUK0GwARAbGiAAIAE2AsgBIABBAjYCzAEgACAAKQPIATcDCEG46QAgAEEIaiAAQRBqEKcCIABB0AFqJAAjAEGAA2siACQAIABBGGoiAUGELUHgAhAbGiAAIAE2AvgCIABBBDYC/AIgACAAKQP4AjcDCEHE6QAgAEEIaiAAQRBqEKcCIABBgANqJAAjAEEwayIDJAAgA0HgMygCADYCICADQdgzKQIANwMYIANB0DMpAgA3AxAgAyADQRBqNgIoIANBBTYCLCADIAMpAyg3AwgjAEEQayIHJAAgB0HY6QA2AgggByAHKAIIIgQ2AgwgBEEANgIAIARBADYCBCAHQQA2AgQgBEEIaiAHQQRqIAcQwAEjAEEQayAENgIMIwBBEGsiACADQQhqIgU2AgwgACgCDCgCBARAIwBBEGsiASIAIAU2AgwgACgCDCgCBCEAIAEkACABIAQ2AgwgASAANgIIIAEoAgghDCABKAIMIQAjAEEQayICJAAgAiAANgIMIAIoAgwQGCEIIwBBEGsiBiQAIAYgCDYCDCMAQRBrIAYoAgw2AgwgBkEQaiQAIAJB/////wM2AgggAkH/////BzYCBCACQQhqIAJBBGoQZCgCACEGIAJBEGokACAMIAZLBEAgABBlAAsgACAAEBggASgCCBCIAiICNgIEIAAgAjYCACAAKAIAIAEoAghBAnRqIQIgABAYIAI2AgAjAEEQayICJAAgAiAANgIMIAJBADYCCCACKAIMIgAQGSEIIAAQGSAAEF5BAnRqIQkgABAZIAAQXkECdGohCiAAEBkgAigCCEECdGohCyMAQSBrIgYgADYCHCAGIAg2AhggBiAJNgIUIAYgCjYCECAGIAs2AgwgAkEQaiQAIAFBEGokACMAQRBrIgAgBTYCDCAAKAIMKAIAIQAjAEEQayIBIAU2AgwgASgCDCIBKAIAIAEoAgRBAnRqIQIjAEEQayIBIAU2AgwgASgCDCgCBCEFIwBBIGsiASQAIAEgBDYCHCABIAA2AhggASACNgIUIAEgBTYCECABKAIcIgQhAiABKAIQIQUjAEEQayIAIAE2AgwgACACNgIIIAAgBTYCBCAAKAIMIgIgACgCCDYCACACIAAoAggoAgQ2AgQgAiAAKAIIKAIEIAAoAgRBAnRqNgIIIAQQGCECIAEoAhghBCABKAIUIQUjAEEgayIAJAAgACACNgIcIAAgBDYCGCAAIAU2AhQgACABQQRqNgIQIAAgACgCFCAAKAIYa0ECdTYCDCAAKAIMQQBKBEAgACgCECgCACAAKAIYIAAoAgxBAnQQGxogACgCECICIAIoAgAgACgCDEECdGo2AgALIABBIGokACMAQRBrIgAgATYCDCAAKAIMIgAoAgAgACgCBDYCBCABQSBqJAALIAcoAgwaIAdBEGokACADQTBqJABBiOsAQeMANgIAQYzrAEEANgIAEM0BQYzrAEGE6wAoAgA2AgBBhOsAQYjrADYCAAufAQEEfyMAQRBrIgIkACACIAA2AgwgAkEBNgIIIAIoAgwhASACKAIIIQMjAEEQayIAJAAgACABNgIMIAAgAzYCCCAAKAIIIQQgACgCDCEDIwBBEGsiASQAIAEgAzYCDCMAQRBrIAEoAgw2AgwgAUEQaiQAIARB4s7YE0sEQBA5AAsgACgCCEHoAGxBBBBBIQEgAEEQaiQAIAJBEGokACABC+MHAQN/IwBBEGsiBCQAIAQgADYCDCAEIAE2AgggBCACNgIEIAQgAzYCACAEKAIMIQEgBCgCAEEANgIAIAQoAgBBADYCBCAEKAIAIAQoAgg2AgggBCgCBCAEKAIANgIAIwBBEGsiACABNgIMIAAoAgwoAgAoAgAEQCMAQRBrIgAgATYCDCAAKAIMKAIAKAIAIQIgACABNgIMIAAoAgwgAjYCAAsgARBIKAIAIQIgBCgCBCgCACEDIwBBEGsiACQAIAAgAjYCDCAAIAM2AgggACgCCCICIAIgACgCDEY6AAwDQAJAIAAoAgggACgCDEcEfyMAQRBrIgIgACgCCDYCDCACKAIMKAIILQAMQX9zBUEAC0EBcUUNACMAQRBrIgMiAiEFIAMgACgCCDYCDCAFIAMoAgwoAgg2AgwCQCACKAIMIgIgAigCCCgCAEYEQCMAQRBrIgMiAiEGIAMgACgCCDYCDCAGIAMoAgwoAgg2AgwgACACKAIMKAIIKAIENgIEAkACQCAAKAIERQ0AIAAoAgQtAAxBAXENACMAQRBrIgIgACgCCDYCDCAAIAIoAgwoAgg2AgggACgCCEEBOgAMIAIgACgCCDYCDCAAIAIoAgwoAgg2AgggACgCCCAAKAIIIAAoAgxGOgAMIAAoAgRBAToADAwBCyMAQRBrIgIgACgCCDYCDCACKAIMIgIgAigCCCgCAEcEQCMAQRBrIgIgACgCCDYCDCAAIAIoAgwoAgg2AgggACgCCBCqAgsjAEEQayICIAAoAgg2AgwgACACKAIMKAIINgIIIAAoAghBAToADCACIAAoAgg2AgwgACACKAIMKAIINgIIIAAoAghBADoADCAAKAIIEKkCDAMLDAELIwBBEGsiAiAAKAIINgIMIAAgAigCDCgCCCgCCCgCADYCAAJAAkAgACgCAEUNACAAKAIALQAMQQFxDQAjAEEQayICIAAoAgg2AgwgACACKAIMKAIINgIIIAAoAghBAToADCACIAAoAgg2AgwgACACKAIMKAIINgIIIAAoAgggACgCCCAAKAIMRjoADCAAKAIAQQE6AAwMAQsjAEEQayICIAAoAgg2AgwgAigCDCICIAIoAggoAgBGBEAjAEEQayICIAAoAgg2AgwgACACKAIMKAIINgIIIAAoAggQqQILIwBBEGsiAiAAKAIINgIMIAAgAigCDCgCCDYCCCAAKAIIQQE6AAwgAiAAKAIINgIMIAAgAigCDCgCCDYCCCAAKAIIQQA6AAwgACgCCBCqAgwCCwsMAQsLIABBEGokACABEBgiACAAKAIAQQFqNgIAIARBEGokAAv5BQEHfyMAQUBqIgEkACABIAA2AjggASgCOCIAQQxqEBYhAiAAEEkhAyAAQQRqEBYhBCAAKAIIIQUgAUEANgIwQbjpACABQTBqECkhBiABQQA2AiwgASACIABBEGogAyAEIAUgBkG46QAgAUEsahApKAJQENsBNgI0AkAgASgCNEUEQCABQQA6AD8MAQsgAEEUahAWIQIgACgCGCEDIAAQSSEEIABBDGoQFiEFIAAoAhAhBiABQQA2AihBxOkAIAFBKGoQKSEHIAFBADYCJCABIAIgAyAEIAUgBiAHQcTpACABQSRqECkoAlAQcDYCNCABKAI0RQRAIAFBADoAPwwBCyAAQRxqEBYhAiAAKAIgIQMgABBJIQQgAEEMahAWIQUgACgCECEGIAFBATYCIEHE6QAgAUEgahApIQcgAUEBNgIcIAEgAiADIAQgBSAGIAdBxOkAIAFBHGoQKSgCUBBwNgI0IAEoAjRFBEAgAUEAOgA/DAELIAAoAjwEQCABQQE6AD8MAQsgAEEkahAWIQIgABBJIQMgAEEUahAWIQQgACgCGCEFIAFBATYCGEG46QAgAUEYahApIQYgAUEBNgIUIAEgAiAAQShqIAMgBCAFIAZBuOkAIAFBFGoQKSgCUBDbATYCNCABKAI0RQRAIAFBADoAPwwBCyAAQSxqEBYhAiAAKAIwIQMgABBJIQQgAEEkahAWIQUgACgCKCEGIAFBAjYCEEHE6QAgAUEQahApIQcgAUECNgIMIAEgAiADIAQgBSAGIAdBxOkAIAFBDGoQKSgCUBBwNgI0IAEoAjRFBEAgAUEAOgA/DAELIABBNGoQFiECIAAoAjghAyAAEEkhBCAAQSRqEBYhBSAAKAIoIQAgAUEDNgIIQcTpACABQQhqECkhBiABQQM2AgQgASACIAMgBCAFIAAgBkHE6QAgAUEEahApKAJQEHA2AjQgASgCNEUEQCABQQA6AD8MAQsgAUEBOgA/CyABLQA/QQFxIQAgAUFAayQAIAALMAEBfyMAQRBrIgIkACACIAA2AgwgAiABNgIIIAIoAggiAARAIAAQIgsgAkEQaiQAC0EBAn8jAEEQayIBIAA2AgwgASgCDCEAIAFBfzYCCCAAIAEoAggiAiAAKAIAIgBqNgIAIAEgACACajYCBCABKAIEC+cDAQF/IwBB4ABrIgskACALIAA2AlggCyABNgJUIAsgAjYCUCALIAM2AkwgCyAENgJIIAsgBTYCRCALIAY2AkAgCyAHNgI8IAsgCDYCOCALIAk2AjQgCyAKNgIwIAtBCBAfNgIoIAs1AjggC0EoahAWQQgQoAEaIAtBCBAfNgIgIAs1AjAgC0EgahAWQQgQoAEaIAsQ3AE2AhwgCyALKAIwIAsoAjggCygCQEEQampqNgIYIAsgCygCGBAfNgIQIAtBEGoQFiALQShqEBYpAAA3AAAgC0EQahAWIAtBIGoQFikAADcACCALQRBqEBZBEGogCygCRCALKAJAEBsaIAtBEGoQFkEQaiALKAJAaiALKAI8IAsoAjgQGxogC0EQahAWQRBqIAsoAkBqIAsoAjhqIAsoAjQgCygCMBAbGiMAQRBrIgAgCygCHDYCDCALIAAoAgwoAgQQHzYCCAJAIAsoAhwgCygCTCALKAJIIAtBEGoQFiALKAIYIAtBCGoQFiALQQxqENoBRQRAIAtBADoAXwwBCyALKAJUIAtBCGoQFiALKAJQEBsaIAtBAToAXwsgC0EBNgIEIAtBCGoQGiALQRBqEBogC0EgahAaIAtBKGoQGiALLQBfQQFxIQAgC0HgAGokACAACwQAQQALNwEBfyMAQRBrIgMgADYCDCADIAE2AgggAyACNgIEIAMoAgwiACADKAIINgIAIAAgAygCBDYCBAslAQF/IwBBEGsiASQAIAEgADYCDCABKAIMKAIAEAwgAUEQaiQACzEBAX8jAEEQayIBJAAgASAANgIMIAEoAgwoAgAQDSABKAIMKAIAIQAgAUEQaiQAIAALSQEBfyMAQRBrIgIkACACIAA2AgwgAiABNgIIIAIoAgghASMAQRBrIgAgAigCDDYCDCAAIAE2AgggACgCCEEAOgAAIAJBEGokAAtXAQF/IwBBEGsiAyQAIAMgADYCDCADIAE2AgggAyACNgIEIAMoAgghASMAQRBrIgAgAygCDCICNgIMIAAgATYCCCAAKAIMQQA2AgAgAhCKASADQRBqJAALUQEBfyMAQSBrIgMkACADIAA2AhwgAyABNgIYIAMgAjYCFCMAQRBrIgAgAygCHCIBNgIEIAAoAgRBADYCACAAIAE2AgQgACgCBBogA0EgaiQAC0ABAX8jAEEQayICJAAgAiAANgIMIAIgATYCCCACKAIMIgAgAigCCBBCEJABIAIoAggQJhogABAXGiACQRBqJAALTAEBfwJAIAFFDQAgAUGA5AAQKyIBRQ0AIAEoAgggACgCCEF/c3ENACAAKAIMIAEoAgxBABAgRQ0AIAAoAhAgASgCEEEAECAhAgsgAgtSAQF/IAAoAgQhBCAAKAIAIgAgAQJ/QQAgAkUNABogBEEIdSIBIARBAXFFDQAaIAEgAigCAGooAgALIAJqIANBAiAEQQJxGyAAKAIAKAIcEQcACwoAIAAgAUEAECALAwABCwMAAAsEACAAC5QBAQR/IwBBEGsiBiQAIwBBEGsiAyQAIAEgAGtBAnUhAQNAIAEEQCADIAA2AgwjAEEQayIEIAFBAXYiBTYCDCAEKAIMIQQgAyADKAIMIARBAnRqNgIMIAEgBUF/c2ogBSADKAIMIgUoAgAgAigCAEkiBBshASAFQQRqIAAgBBshAAwBCwsgA0EQaiQAIAZBEGokACAAC60MAQZ/IwBBEGsiBCQAIAQgADYCDAJAIABB0wFNBEBB0N0AQZDfACAEQQxqEMkBKAIAIQIMAQsgAEF8TwRAEAMACyAEIAAgAEHSAW4iBkHSAWwiAms2AghBkN8AQdDgACAEQQhqEMkBQZDfAGtBAnUhBQNAIAVBAnRBkN8AaigCACACaiECQQUhAANAAkAgAEEvRgRAQdMBIQADQCACIABuIgEgAEkNBSACIAAgAWxGDQIgAiAAQQpqIgFuIgMgAUkNBSACIAEgA2xGDQIgAiAAQQxqIgFuIgMgAUkNBSACIAEgA2xGDQIgAiAAQRBqIgFuIgMgAUkNBSACIAEgA2xGDQIgAiAAQRJqIgFuIgMgAUkNBSACIAEgA2xGDQIgAiAAQRZqIgFuIgMgAUkNBSACIAEgA2xGDQIgAiAAQRxqIgFuIgMgAUkNBSACIAEgA2xGDQIgAiAAQR5qIgFuIgMgAUkNBSACIAEgA2xGDQIgAiAAQSRqIgFuIgMgAUkNBSACIAEgA2xGDQIgAiAAQShqIgFuIgMgAUkNBSACIAEgA2xGDQIgAiAAQSpqIgFuIgMgAUkNBSACIAEgA2xGDQIgAiAAQS5qIgFuIgMgAUkNBSACIAEgA2xGDQIgAiAAQTRqIgFuIgMgAUkNBSACIAEgA2xGDQIgAiAAQTpqIgFuIgMgAUkNBSACIAEgA2xGDQIgAiAAQTxqIgFuIgMgAUkNBSACIAEgA2xGDQIgAiAAQcIAaiIBbiIDIAFJDQUgAiABIANsRg0CIAIgAEHGAGoiAW4iAyABSQ0FIAIgASADbEYNAiACIABByABqIgFuIgMgAUkNBSACIAEgA2xGDQIgAiAAQc4AaiIBbiIDIAFJDQUgAiABIANsRg0CIAIgAEHSAGoiAW4iAyABSQ0FIAIgASADbEYNAiACIABB2ABqIgFuIgMgAUkNBSACIAEgA2xGDQIgAiAAQeAAaiIBbiIDIAFJDQUgAiABIANsRg0CIAIgAEHkAGoiAW4iAyABSQ0FIAIgASADbEYNAiACIABB5gBqIgFuIgMgAUkNBSACIAEgA2xGDQIgAiAAQeoAaiIBbiIDIAFJDQUgAiABIANsRg0CIAIgAEHsAGoiAW4iAyABSQ0FIAIgASADbEYNAiACIABB8ABqIgFuIgMgAUkNBSACIAEgA2xGDQIgAiAAQfgAaiIBbiIDIAFJDQUgAiABIANsRg0CIAIgAEH+AGoiAW4iAyABSQ0FIAIgASADbEYNAiACIABBggFqIgFuIgMgAUkNBSACIAEgA2xGDQIgAiAAQYgBaiIBbiIDIAFJDQUgAiABIANsRg0CIAIgAEGKAWoiAW4iAyABSQ0FIAIgASADbEYNAiACIABBjgFqIgFuIgMgAUkNBSACIAEgA2xGDQIgAiAAQZQBaiIBbiIDIAFJDQUgAiABIANsRg0CIAIgAEGWAWoiAW4iAyABSQ0FIAIgASADbEYNAiACIABBnAFqIgFuIgMgAUkNBSACIAEgA2xGDQIgAiAAQaIBaiIBbiIDIAFJDQUgAiABIANsRg0CIAIgAEGmAWoiAW4iAyABSQ0FIAIgASADbEYNAiACIABBqAFqIgFuIgMgAUkNBSACIAEgA2xGDQIgAiAAQawBaiIBbiIDIAFJDQUgAiABIANsRg0CIAIgAEGyAWoiAW4iAyABSQ0FIAIgASADbEYNAiACIABBtAFqIgFuIgMgAUkNBSACIAEgA2xGDQIgAiAAQboBaiIBbiIDIAFJDQUgAiABIANsRg0CIAIgAEG+AWoiAW4iAyABSQ0FIAIgASADbEYNAiACIABBwAFqIgFuIgMgAUkNBSACIAEgA2xGDQIgAiAAQcQBaiIBbiIDIAFJDQUgAiABIANsRg0CIAIgAEHGAWoiAW4iAyABSQ0FIAIgASADbEYNAiACIABB0AFqIgFuIgMgAUkNBSAAQdIBaiEAIAIgASADbEcNAAsMAQsgAiAAQQJ0QdDdAGooAgAiAW4iAyABSQ0DIABBAWohACACIAEgA2xHDQELC0EAIAVBAWoiACAAQTBGIgAbIQUgACAGaiIGQdIBbCECDAALAAsgBEEQaiQAIAILiQwBBn8gACABaiEFAkACQCAAKAIEIgJBAXENACACQQNxRQ0BIAAoAgAiAiABaiEBAkAgACACayIAQbTwACgCAEcEQCACQf8BTQRAIAAoAggiBCACQQN2IgJBA3RByPAAakYaIAAoAgwiAyAERw0CQaDwAEGg8AAoAgBBfiACd3E2AgAMAwsgACgCGCEGAkAgACAAKAIMIgJHBEAgACgCCCIDQbDwACgCAEkaIAMgAjYCDCACIAM2AggMAQsCQCAAQRRqIgQoAgAiAw0AIABBEGoiBCgCACIDDQBBACECDAELA0AgBCEHIAMiAkEUaiIEKAIAIgMNACACQRBqIQQgAigCECIDDQALIAdBADYCAAsgBkUNAgJAIAAoAhwiBEECdEHQ8gBqIgMoAgAgAEYEQCADIAI2AgAgAg0BQaTwAEGk8AAoAgBBfiAEd3E2AgAMBAsgBkEQQRQgBigCECAARhtqIAI2AgAgAkUNAwsgAiAGNgIYIAAoAhAiAwRAIAIgAzYCECADIAI2AhgLIAAoAhQiA0UNAiACIAM2AhQgAyACNgIYDAILIAUoAgQiAkEDcUEDRw0BQajwACABNgIAIAUgAkF+cTYCBCAAIAFBAXI2AgQgBSABNgIADwsgBCADNgIMIAMgBDYCCAsCQCAFKAIEIgJBAnFFBEBBuPAAKAIAIAVGBEBBuPAAIAA2AgBBrPAAQazwACgCACABaiIBNgIAIAAgAUEBcjYCBCAAQbTwACgCAEcNA0Go8ABBADYCAEG08ABBADYCAA8LQbTwACgCACAFRgRAQbTwACAANgIAQajwAEGo8AAoAgAgAWoiATYCACAAIAFBAXI2AgQgACABaiABNgIADwsgAkF4cSABaiEBAkAgAkH/AU0EQCAFKAIIIgQgAkEDdiICQQN0QcjwAGpGGiAEIAUoAgwiA0YEQEGg8ABBoPAAKAIAQX4gAndxNgIADAILIAQgAzYCDCADIAQ2AggMAQsgBSgCGCEGAkAgBSAFKAIMIgJHBEAgBSgCCCIDQbDwACgCAEkaIAMgAjYCDCACIAM2AggMAQsCQCAFQRRqIgMoAgAiBA0AIAVBEGoiAygCACIEDQBBACECDAELA0AgAyEHIAQiAkEUaiIDKAIAIgQNACACQRBqIQMgAigCECIEDQALIAdBADYCAAsgBkUNAAJAIAUoAhwiBEECdEHQ8gBqIgMoAgAgBUYEQCADIAI2AgAgAg0BQaTwAEGk8AAoAgBBfiAEd3E2AgAMAgsgBkEQQRQgBigCECAFRhtqIAI2AgAgAkUNAQsgAiAGNgIYIAUoAhAiAwRAIAIgAzYCECADIAI2AhgLIAUoAhQiA0UNACACIAM2AhQgAyACNgIYCyAAIAFBAXI2AgQgACABaiABNgIAIABBtPAAKAIARw0BQajwACABNgIADwsgBSACQX5xNgIEIAAgAUEBcjYCBCAAIAFqIAE2AgALIAFB/wFNBEAgAUF4cUHI8ABqIQICf0Gg8AAoAgAiA0EBIAFBA3Z0IgFxRQRAQaDwACABIANyNgIAIAIMAQsgAigCCAshASACIAA2AgggASAANgIMIAAgAjYCDCAAIAE2AggPC0EfIQQgAUH///8HTQRAIAFBCHYiAiACQYD+P2pBEHZBCHEiBHQiAiACQYDgH2pBEHZBBHEiA3QiAiACQYCAD2pBEHZBAnEiAnRBD3YgAyAEciACcmsiAkEBdCABIAJBFWp2QQFxckEcaiEECyAAIAQ2AhwgAEIANwIQIARBAnRB0PIAaiEHAkACQEGk8AAoAgAiA0EBIAR0IgJxRQRAQaTwACACIANyNgIAIAcgADYCACAAIAc2AhgMAQsgAUEZIARBAXZrQQAgBEEfRxt0IQQgBygCACECA0AgAiIDKAIEQXhxIAFGDQIgBEEddiECIARBAXQhBCADIAJBBHFqIgdBEGooAgAiAg0ACyAHIAA2AhAgACADNgIYCyAAIAA2AgwgACAANgIIDwsgAygCCCIBIAA2AgwgAyAANgIIIABBADYCGCAAIAM2AgwgACABNgIICwvUBAMBfwZ8An4gAL0iCEIwiKchASAIQoCAgICAgID3P31C//////+fwgFYBEAgCEKAgICAgICA+D9RBEBEAAAAAAAAAAAPCyAARAAAAAAAAPC/oCIAIAAgAEQAAAAAAACgQaIiAqAgAqEiAiACokHwPCsDACIFoiIGoCIHIAAgACAAoiIDoiIEIAQgBCAEQcA9KwMAoiADQbg9KwMAoiAAQbA9KwMAokGoPSsDAKCgoKIgA0GgPSsDAKIgAEGYPSsDAKJBkD0rAwCgoKCiIANBiD0rAwCiIABBgD0rAwCiQfg8KwMAoKCgoiAAIAKhIAWiIAAgAqCiIAYgACAHoaCgoKAPCwJAIAFB8P8Ba0GfgH5NBEAgCEL///////////8Ag1AEQCMAQRBrIgFEAAAAAAAA8L85AwggASsDCEQAAAAAAAAAAKMPCyAIQoCAgICAgID4/wBRDQEgAUGAgAJxRSABQfD/AXFB8P8BR3FFBEAgACAAoSIAIACjDwsgAEQAAAAAAAAwQ6K9QoCAgICAgICgA30hCAsgCEKAgICAgICA8z99IglCNIentyIDQbg8KwMAoiAJQi2Ip0H/AHFBBHQiAUHQPWorAwCgIgQgAUHIPWorAwAgCCAJQoCAgICAgIB4g32/IAFByM0AaisDAKEgAUHQzQBqKwMAoaIiAKAiBSAAIAAgAKIiAqIgAiAAQeg8KwMAokHgPCsDAKCiIABB2DwrAwCiQdA8KwMAoKCiIAJByDwrAwCiIANBwDwrAwCiIAAgBCAFoaCgoKCgIQALIAAL4gMAQeDkAEHIEBATQfjkAEGfDEEBQQFBABASQYTlAEHPC0EBQYB/Qf8AEAJBnOUAQcgLQQFBgH9B/wAQAkGQ5QBBxgtBAUEAQf8BEAJBqOUAQdwJQQJBgIB+Qf//ARACQbTlAEHTCUECQQBB//8DEAJBwOUAQZYKQQRBgICAgHhB/////wcQAkHM5QBBjQpBBEEAQX8QAkHY5QBBoA5BBEGAgICAeEH/////BxACQeTlAEGXDkEEQQBBfxACQfDlAEHuCkEIQoCAgICAgICAgH9C////////////ABALQfzlAEHtCkEIQgBCfxALQYjmAEHnCkEEEApBlOYAQa4QQQgQCkH0NkGyDhAJQbw3QcYdEAlBhDhBBEGlDhAHQdA4QQJBvg4QB0GcOUEEQc0OEAdBwChBpAwQEUHEOUEAQYEdEAFB7DlBAEHnHRABQewoQQFBnx0QAUGUOkECQZEaEAFBvDpBA0GwGhABQeQ6QQRB2BoQAUGMO0EFQfUaEAFBtDtBBEGMHhABQdw7QQVBqh4QAUHsOUEAQdsbEAFB7ChBAUG6GxABQZQ6QQJBnRwQAUG8OkEDQfsbEAFB5DpBBEHgHBABQYw7QQVBvhwQAUGEPEEGQZsbEAFBrDxBB0HRHhABCzQBAX8jAEEQayIBJAAgASAANgIMIAEoAgwEQCABKAIMKAIEECggASgCDBAoCyABQRBqJAALOAEBfyMAQRBrIgEkACABIAA2AgwgASgCDCgCEEUEQCABKAIMKAIEECgLIAEoAgwQKCABQRBqJAALfAEDfyMAQRBrIgIkACACIAA2AgwgAiABNgIIIAIgAigCDCIAKAIENgIEA0AgAigCCCACKAIERwRAIAAQGCEBIAIgAigCBEEBayIDNgIEIAEhBCMAQRBrIgEgAzYCDCAEIAEoAgwQRAwBCwsgACACKAIINgIEIAJBEGokAAuyAgEBfyMAQSBrIgIkACACIAA2AhwgAiABNgIYIAIgAigCGEECdDYCBAJAIAIoAhggAigCBEECdkcNACACIAIoAgQQVzYCFCACKAIURQ0AIAIoAhRBACACKAIEECEgAkEANgIIA0AgAigCCCACKAIcKAIIT0UEQCACIAIoAhwoAgQgAigCCEECdGooAgA2AhADQCACKAIQBEAgAiACKAIQKAIIIAIoAhhwNgIAIAIgAigCECgCBDYCDCACKAIQIAIoAhQgAigCAEECdGooAgA2AgQgAigCFCACKAIAQQJ0aiACKAIQNgIAIAIgAigCDDYCEAwBCwsgAiACKAIIQQFqNgIIDAELCyACKAIcKAIEECggAigCHCACKAIYNgIIIAIoAhwgAigCFDYCBAsgAkEgaiQAC+QBAQF/IwBBIGsiBCQAIAQgADYCHCAEQQA2AhggBCABNgIUIAQgAjYCECAEIAM2AgwgBCAEKAIcKAIUIAQoAhQgBCgCEBEEADYCCCAEKAIYBEAgBCgCGCAEKAIINgIACyAEIAQoAhwiACgCBCAEKAIIIAAoAghwQQJ0ajYCBCAEIAQoAgQoAgA2AgADQAJAIAQoAgBFDQAgBCgCHCgCECAEKAIAKAIAIAQoAhQgBCgCDBEFAEUNACAEIAQoAgBBBGo2AgQgBCAEKAIEKAIANgIADAELCyAEKAIEIQAgBEEgaiQAIAAL6gYBBH8jAEHQAGsiASQAIAEgADYCTCABIAEoAkwoAgA2AkggASABKAJMKAIENgJEIAEgASgCTCgCCDYCQCABIAEoAkwoAgw2AjwgASABKAJMKAIQNgI4IAEgASgCTCgCFDYCNCABIAEoAkwoAhg2AjAgASABKAJMKAIcNgIsIAEoAkAhAyABKAIsIQIjAEEQayIEIgAgASgCNDYCDCAAIAI2AgggACgCDCAAKAIIcyECIAQiACADNgIMIAAgAjYCCCABIAAoAgwgACgCCHM2AiggASgCPCEDIAEoAkghAiAAIAEoAjA2AgwgACACNgIIIAAoAgwgACgCCHMhAiAAIAM2AgwgACACNgIIIAEgACgCDCAAKAIIczYCJCABKAI4IQMgASgCRCECIAAgASgCLDYCDCAAIAI2AgggACgCDCAAKAIIcyECIAAgAzYCDCAAIAI2AgggASAAKAIMIAAoAghzNgIgIAEoAjQhAyABKAJAIQIgACABKAJINgIMIAAgAjYCCCAAKAIMIAAoAghzIQIgACADNgIMIAAgAjYCCCABIAAoAgwgACgCCHM2AhwgASgCMCEDIAEoAjwhAiAAIAEoAkQ2AgwgACACNgIIIAAoAgwgACgCCHMhAiAAIAM2AgwgACACNgIIIAEgACgCDCAAKAIIczYCGCABKAIsIQMgASgCOCECIAAgASgCQDYCDCAAIAI2AgggACgCDCAAKAIIcyECIAAgAzYCDCAAIAI2AgggASAAKAIMIAAoAghzNgIUIAEoAkghAyABKAI0IQIgACABKAI8NgIMIAAgAjYCCCAAKAIMIAAoAghzIQIgACADNgIMIAAgAjYCCCABIAAoAgwgACgCCHM2AhAgASgCRCEDIAEoAjAhAiAAIAEoAjg2AgwgACACNgIIIAAoAgwgACgCCHMhAiAAIAM2AgwgACACNgIIIAEgACgCDCAAKAIIczYCDCAAIAEoAig2AgwgACgCDEF/cyEAIAEoAkwgADYCACABKAJMIAEoAiQ2AgQgBCIAIAEoAiA2AgwgACgCDEF/cyEAIAEoAkwgADYCCCABKAJMIAEoAhw2AgwgASgCTCABKAIYNgIQIAEoAkwgASgCFDYCFCABKAJMIAEoAhA2AhggASgCTCABKAIMNgIcIAFB0ABqJAALcQECfyMAQRBrIgMkACADIAA2AgwgAyABNgIIIAMgAjYCBCADKAIMIQEgAygCCCECIAMoAgQhBCMAQRBrIgAkACAAIAE2AgwgACACNgIIIAAgBDYCBCAAKAIIIAAoAgRBARBDIABBEGokACADQRBqJAAL4QMBAX8jAEFAaiICJAAgAiAANgI8IAIgATYCOCACQTBqIAJBKGogAigCPCkDACACKAI4KQMIEJEBIAJBIGogAkEYaiACKAI8KQMIIAIoAjgpAwAQkQEgAkEQaiACQQhqIAIoAjwpAwAgAigCPCkDCIUgAigCOCkDACACKAI4KQMIhRCRASACIAIpAxAgAikDMCACKQMghYU3AxAgAiACKQMIIAIpAyggAikDGIWFNwMIIAIgAikDCCACKQMghTcDICACIAIpAxAgAikDKIU3AyggAiACKQMoIAIpAzBCP4YgAikDMEI+hoUgAikDMEI5hoWFNwMoIAIgAikDMCACKQMghTcDICACIAIpAyggAikDGIU3AxggAiACKQMgIAIpAzBCAYiFNwMgIAIgAikDICACKQMoQj+GhTcDICACIAIpAxggAikDKEIBiIU3AxggAiACKQMgIAIpAzBCAoiFNwMgIAIgAikDICACKQMoQj6GhTcDICACIAIpAxggAikDKEICiIU3AxggAiACKQMgIAIpAzBCB4iFNwMgIAIgAikDICACKQMoQjmGhTcDICACIAIpAxggAikDKEIHiIU3AxggAigCPCACKQMgNwMAIAIoAjwgAikDGDcDCCACQUBrJAALcgEBfyMAQRBrIgEgADcDCCABKQMIIgBCOIggAEIoiEKA/gODhCAAQhiIQoCA/AeDIABCCIhCgICA+A+DhIQgAEIIhkKAgICA8B+DIABCGIZCgICAgIDgP4OEIABCKIZCgICAgICAwP8AgyAAQjiGhISEC0MBAX8jAEEQayIBJAAgASAANgIMIAEoAgxBFGoQcSABKAIMQSRqEHEgASgCDEEEahBxIAEoAgxBNBCOASABQRBqJAALxQEBAX8jAEHgAGsiAyQAIAMgADYCXCADIAE2AlggAyACNgJUIANBADYCUAJAAkACQCADKAJcQQRqIAMgA0HMAGoQlQFFDQAgAygCXCIAQQRqIABBJGoQ3QFFDQAgAygCXEEEaiADIAMoAkwQWEUNACADKAJcQQRqIAMoAlggAygCVBCVAQ0BCyADKAJUQQA2AgAMAQsgA0EBNgJQCyADKAJQBEAjAEEQayADKAJcKAIANgIMCyADKAJQIQAgA0HgAGokACAAC0MBAX8jAEEQayIBJAAgASAANgIMIAEoAgxBADYCACABKAIMQRRqEHIgASgCDEEkahByIAEoAgxBBGoQciABQRBqJAAL3wEBAX8jAEHgAGsiByQAIAcgADYCWCAHIAE2AlQgByACNgJQIAcgAzYCTCAHIAQ2AkggByAFNgJEIAcgBjYCQCAHQQhqIgAQ2QEgBwJ/QQAgACAHKAJUIAcoAlAgBygCWBCSAUUNABpBACAHQQhqIAcoAkwgBygCSBBvRQ0AGiAHQQhqIAcoAkQgBygCQBDYAUEARwtBAXE2AgQgB0EIahDXAQJAIAcoAgRFBEAgB0EANgJcDAELIwBBEGsgBygCWDYCDCAHIAcoAkQ2AlwLIAcoAlwhACAHQeAAaiQAIAAL2AEBAn8jAEEwayIHJAAgByAANgIoIAcgATYCJCAHIAI2AiAgByADNgIcIAcgBDYCGCAHIAU2AhQgByAGNgIQAkAgBygCICAHKAIUIAcoAhAgBygCHCAHKAIYIAcoAiggB0EMahDaAUUEQEEfQRxBpxRBMxAcIAdBADYCLAwBCyAHKAIkIAcoAgw2AgAgBygCJCgCACEIIwBBEGsiACAHKAIgNgIMIAggACgCDCgCBEcEQEHPIkGnFEE3QdoKEAAACyAHQQE2AiwLIAcoAiwhACAHQTBqJAAgAAsPAEGU6gBB1AAQZ0GY6gAL/QMBAX8jAEEgayICJAAgAiAANgIYIAIgATYCFAJAAkAgAigCFARAIAIoAhQoAggNASACKAIUKAIADQELQR1B5ABBlBFBigEQHCACQQA2AhwMAQsgAkEANgIQAkAgAigCFCgCCEUNACACKAIUKAIMDQBBiBhBlBFBjwFBvggQAAALIAIoAhQoAggEQCACIAIoAhQiACgCCCAAKAIMKAIEEQAANgIQIAIoAhBFBEAgAkEANgIcDAILCyACQQA2AgwgAigCFCgCAARAAkAgAigCGCgCACACKAIUKAIARwRAIAIoAhQoAgAoAhxFBEBBuyFBlBFBmgFBvggQAAALIAIgAigCFCgCACgCHBBXNgIMIAIoAgxFBEAgAigCEARAIAIoAhAgAigCFCgCDCgCABEBAAsgAkEANgIcDAQLDAELIAIgAigCGCgCBDYCDCACKAIYQQA2AgQLCyACKAIYEHEgAigCGCACKAIUKAIANgIAIAIoAhggAigCDDYCBCACKAIUKAIABEAgAigCGCgCBCACKAIUIgAoAgQgACgCACgCHBAeCyACKAIYIAIoAhA2AgggAigCGCACKAIUKAIMNgIMAkAgAigCGCgCCEUNACACKAIYKAIMDQBB3RdBlBFBtAFBvggQAAALIAJBATYCHAsgAigCHCEAIAJBIGokACAAC30BAX8jAEEQayICJAAgAiAANgIMIAIgATYCCCACKAIMKAIAKAIERQRAQekhQfQSQfwBQbYLEAAACyACKAIMKAIAKAIEIgAgAEEBa3EEQEH8IEH0EkH9AUG2CxAAAAsgAigCCCACKAIMKAIAKAIEQQFrcSEAIAJBEGokACAAC9YIAQd/IwBBIGsiBiQAIAYgADYCGCAGIAE2AhQgBiACNgIQIAYgAzYCDCAGIAQ2AgggBiAFNgIEAkAgBigCBEF/RgRAIAYgBigCGCgCEDYCBAwBCyAGKAIEBEAgBkEBNgIECyAGKAIYIAYoAgQ2AhALAkACQCAGKAIUBEAgBigCGCgCAARAIAYoAhgQ4QEgBigCGCAGKAIENgIQCyAGKAIYIAYoAhQ2AgACQCAGKAIYKAIAKAIQBEAgBigCGCgCACgCEBBXIQAgBigCGCAANgIIIAYoAhgoAghFBEAgBigCGEEANgIAIAZBADYCHAwFCwwBCyAGKAIYQQA2AggLIAYoAhggBigCFCgCCDYCDCAGKAIYQQA2AhQgBigCGCgCACgCFEGABHEEQCAGKAIYIQEjAEEgayIAJAAgACABNgIYIABBADYCFCAAQQA2AhAgAEEANgIMAkAgACgCGCgCAEUEQEEeQfIAQfQSQeMEEBwgAEEANgIcDAELIAAoAhgoAgAoAihFBEBBHkHoAEH0EkHoBBAcIABBADYCHAwBCyAAIAAoAhgiASAAKAIUIAAoAhAgACgCDCABKAIAKAIoEQYANgIIIAAoAghBf0YEQEEeQekAQfQSQe4EEBwgAEEANgIcDAELIAAgACgCCDYCHAsgACgCHCEBIABBIGokACABRQRAIAYoAhhBADYCAEEeQesAQfQSQbMBEBwgBkEANgIcDAQLCwwBCyAGKAIYKAIARQRAQR5B8gBB9BJBuAEQHCAGQQA2AhwMAgsLAkAgBigCGCgCACgCBEEBRg0AIAYoAhgoAgAoAgRBCEYNACAGKAIYKAIAKAIEQRBGDQBBuh9B9BJBvgFB4wgQAAALIwBBEGsiACAGKAIYNgIMIAAoAgwoAgAoAhRBgAJxRQRAAkAjAEEQayIAIAYoAhg2AgwCQAJAAkACQCAAKAIMKAIAKAIUQT9xDgYEBAEAAgIDCyAGKAIYQQA2AlwLIwBBEGsiACAGKAIYNgIMIAAoAgwoAgAoAgxBEEsEQEGGIkH0EkHLAUHjCBAAAAsgBigCCARAIAYoAhgiAEEYaiEKIAYoAgghByMAQRBrIgEgADYCDCAKIAcgASgCDCgCACgCDBAeCyAGKAIYIgBBKGohCyAAQRhqIQgjAEEQayIBIAA2AgwgCyAIIAEoAgwoAgAoAgwQHgwCCyAGKAIYQQA2AlwgBigCCARAIAYoAhgiAEEoaiEMIAYoAgghCSMAQRBrIgEgADYCDCAMIAkgASgCDCgCACgCDBAeCwwBCyAGQQA2AhwMAgsLAkAgBigCDEUEQCAGKAIYKAIAKAIUQYABcUUNAQsgBigCGCIAIAYoAgwgBigCCCAGKAIEIAAoAgAoAhwRBgBFBEAgBkEANgIcDAILCyAGKAIYQQA2AlggBigCGEEANgJgIAYoAhhBADYChAEgBkEBNgIcCyAGKAIcIQAgBkEgaiQAIAALiwEBB38jAEEQayICJAAgAiAANgIMIAIoAgwiABAZIQMgABAZIAAQR2ohBCAAEBkhByMAQRBrIgEgADYCDCAHIAEoAgwiASgCBCABKAIAa2ohBSAAEBkgABBHaiEGIwBBIGsiASAANgIcIAEgAzYCGCABIAQ2AhQgASAFNgIQIAEgBjYCDCACQRBqJAALXwEBfyMAQRBrIgEkACABIAA2AgwCQCABKAIMKAIARQ0AIAEoAgwoAgAoAiRFDQAgASgCDCIAIAAoAgAoAiQRAQALIAEoAgwoAggQKCABKAIMQQBBiAEQISABQRBqJAALWQEDfyMAQRBrIgAkACAAQYgBEFc2AgwgACgCDARAIAAoAgwhAiMAQRBrIgEkACABIAI2AgwgASgCDEEAQYgBECEgAUEQaiQACyAAKAIMIQEgAEEQaiQAIAELMgEBfyMAQRBrIgEkACABIAA2AgwgAUEIaiABKAIMQQQQHiABKAIIIQAgAUEQaiQAIAALOgEBfyMAQSBrIgYkACAGIAA2AhwgBiABNgIYIAYgAjYCFCAGIAM2AhAgBiAENgIMIAYgBTYCCBADAAtuAQF/IwBBEGsiASAANgIMIAFBEDYCCCABQQE2AgQDQCABIAEoAghBAWs2AgggASABKAIMIAEoAghqLQAAIAEoAgRqNgIEIAEoAgwgASgCCGogASgCBDoAACABIAEoAgRBCHY2AgQgASgCCA0ACwtuAQF/IwBBEGsiASAANgIMIAFBDDYCCCABQQE2AgQDQCABIAEoAghBAWs2AgggASABKAIMIAEoAghqLQAAIAEoAgRqNgIEIAEoAgwgASgCCGogASgCBDoAACABIAEoAgRBCHY2AgQgASgCCA0ACwunBQEBfyMAQTBrIggkACAIIAA2AiwgCCABNgIoIAggAjYCJCAIIAM2AiAgCCAENgIcIAggBTYCGCAIIAY2AhQgCCAHNgIQAkACQCAIKAIgRQ0AIAgoAhhFDQAgCCgCFA0BC0HnC0G/EkHaAEH3CRAAAAsCQCAIKAIkRQ0AIAgoAiwEQCAIKAIoDQELQbciQb8SQdsAQfcJEAAACyAIKAIUKAIAQRBPBEBBmCBBvxJB3ABB9wkQAAALIAggCCgCFCgCADYCDANAIAgoAgwEfyAIKAIkQQBHBUEAC0EBcQRAIAggCCgCLCIAQQFqNgIsIAAtAAAgCCgCGCAIKAIMai0AAHMhACAIIAgoAigiAUEBajYCKCABIAA6AAAgCCAIKAIkQQFrNgIkIAggCCgCDEEBakEPcTYCDAwBCwsDQCAIKAIkQRBPBEAgCCgCHCAIKAIYIAgoAiAgCCgCEBEDACAIKAIcEOUBIAgoAighASAIKAIsIQIgCCgCGCEDIwBBEGsiACQAIAAgATYCDCAAIAI2AgggACADNgIEIABBADYCAANAIAAoAgBBEEkEQCAAKAIAIgEgACgCDGogASAAKAIIahDjASAAKAIEIAAoAgBqEOMBcxCZASAAIAAoAgBBBGo2AgAMAQsLIABBEGokACAIIAgoAiRBEGs2AiQgCCAIKAIoQRBqNgIoIAggCCgCLEEQajYCLCAIQQA2AgwMAQsLIAgoAiQEQCAIKAIcIAgoAhggCCgCICAIKAIQEQMAIAgoAhwQ5QEDQCAIIAgoAiQiAEEBazYCJCAABEAgCCgCDCIAIAgoAihqIAAgCCgCLGotAAAgACAIKAIYai0AAHM6AAAgCCAIKAIMQQFqNgIMDAELCwsgCCgCFCAIKAIMNgIAIAhBMGokAAvcBQEBfyMAQTBrIggkACAIIAA2AiwgCCABNgIoIAggAjYCJCAIIAM2AiAgCCAENgIcIAggBTYCGCAIIAY2AhQgCCAHNgIQAkACQCAIKAIgRQ0AIAgoAhhFDQAgCCgCFA0BC0HnC0G/EkGLAUGnIBAAAAsCQCAIKAIkRQ0AIAgoAiwEQCAIKAIoDQELQbciQb8SQYwBQacgEAAACyAIKAIUKAIAQRBPBEBBmCBBvxJBjQFBpyAQAAALIAggCCgCFCgCADYCDANAQQAhACAIKAIMBH8gCCgCJEEARwVBAAtBAXEEQCAIIAgoAiwiAEEBajYCLCAALQAAIAgoAhggCCgCDGotAABzIQAgCCAIKAIoIgFBAWo2AiggASAAOgAAIAggCCgCJEEBazYCJCAIIAgoAgxBAWpBD3E2AgwMAQsLIAggCCgCHEEMahAkNgIIA0AgCCgCJEEQTwRAIAggCCgCJEEEdjYCBCAIIAgoAgQgCCgCCGo2AgggCCgCCCAIKAIESQRAIAggCCgCBCAIKAIIazYCBCAIQQA2AggLIAgoAiwgCCgCKCAIKAIEIAgoAiAgCCgCHCAIKAIQEQgAIAgoAhxBDGogCCgCCBBMIAgoAghFBEAgCCgCHBDmAQsgCCAIKAIEQQR0NgIEIAggCCgCJCAIKAIEazYCJCAIIAgoAgQgCCgCKGo2AiggCCAIKAIEIAgoAixqNgIsDAELCyAIKAIkBEAgCCgCGEEAQRAQISAIKAIYIAgoAhhBASAIKAIgIAgoAhwgCCgCEBEIACAIIAgoAghBAWo2AgggCCgCHEEMaiAIKAIIEEwgCCgCCEUEQCAIKAIcEOYBCwNAIAggCCgCJCIAQQFrNgIkIAAEQCAIKAIMIgAgCCgCKGogACAIKAIsai0AACAAIAgoAhhqLQAAczoAACAIIAgoAgxBAWo2AgwMAQsLCyAIKAIUIAgoAgw2AgAgCEEwaiQACzcBAX8jAEEQayIBIAA2AgwgASgCDCIAQRh2IABBCHZBgP4DcXIgAEEIdEGAgPwHcSAAQRh0cnILMgEBfyMAQRBrIgEkACABIAA2AgwgASgCDBDTASABKAIMEHYgASgCDBDTASABQRBqJAALnwUBA38jAEEgayIBJAAgASAANgIcIAFBADYCGANAIAEoAhhBCEkEQCMAQRBrIgAgASgCHCABKAIYQQJ0aigCADYCDCAAQYOGjBg2AgggASAAKAIMIAAoAghxNgIUIAAgASgCHCABKAIYQQJ0aigCADYCDCAAQYyYsOAANgIIIAEgACgCDCAAKAIIcTYCECAAIAEoAhwgASgCGEECdGooAgA2AgwgAEGw4MCBAzYCCCABIAAoAgwgACgCCHE2AgwgACABKAIcIAEoAhhBAnRqKAIANgIMIABBwIGDhnw2AgggASAAKAIMIAAoAghxNgIIIAAgASgCEDYCDCAAQQw2AgggACgCDCAAKAIIQQF0diECIAAgASgCEDYCDCAAQQQ2AgggACgCDCAAKAIIQQF0dCEDIAAgAjYCDCAAIAM2AgggASAAKAIMIAAoAghyNgIQIAAgASgCDDYCDCAAQQg2AgggACgCDCAAKAIIQQF0diECIAAgASgCDDYCDCAAQQg2AgggACgCDCAAKAIIQQF0dCEDIAAgAjYCDCAAIAM2AgggASAAKAIMIAAoAghyNgIMIAAgASgCCDYCDCAAQQQ2AgggACgCDCAAKAIIQQF0diECIAAgASgCCDYCDCAAQQw2AgggACgCDCAAKAIIQQF0dCEDIAAgAjYCDCAAIAM2AgggASAAKAIMIAAoAghyNgIIIAEoAhAhAiAAIAEoAhQ2AgwgACACNgIIIAAoAgwgACgCCHIhAiABKAIIIQMgACABKAIMNgIMIAAgAzYCCCAAKAIMIAAoAghyIQMgACACNgIMIAAgAzYCCCAAKAIMIAAoAghyIQAgASgCHCABKAIYQQJ0aiAANgIAIAEgASgCGEEBajYCGAwBCwsgAUEgaiQAC7ABAQF/IwBBEGsiAyQAIAMgADYCDCADIAE2AgggAyACNgIEIAMoAgRBAk8EQEGSGUHcEEGCAkHHChAAAAsgAygCCCADKAIMIAMoAgRBAnRqKAIANgIAIAMoAgggAygCDCADKAIEQQJqQQJ0aigCADYCBCADKAIIIAMoAgwgAygCBEEEakECdGooAgA2AgggAygCCCADKAIMIAMoAgRBBmpBAnRqKAIANgIMIANBEGokAAvoDgEFfyMAQfAAayIBJAAgASAANgJsIAEgASgCbCgCADYCaCABIAEoAmwoAgQ2AmQgASABKAJsKAIINgJgIAEgASgCbCgCDDYCXCABIAEoAmwoAhA2AlggASABKAJsKAIUNgJUIAEgASgCbCgCGDYCUCABIAEoAmwoAhw2AkwjAEEQayIDIgAgASgCaDYCDCABIAAoAgwiAEECdkG//vz5A3EgAEEGdEHAgYOGfHFyNgJIIAEoAkghAiADIgAgASgCaDYCDCAAIAI2AgggASAAKAIMIAAoAghzNgJEIAAgASgCZDYCDCABIAAoAgwiAEECdkG//vz5A3EgAEEGdEHAgYOGfHFyNgJAIAEoAkAhAiADIgAgASgCZDYCDCAAIAI2AgggASAAKAIMIAAoAghzNgI8IAAgASgCYDYCDCABIAAoAgwiAEECdkG//vz5A3EgAEEGdEHAgYOGfHFyNgI4IAEoAjghAiADIgAgASgCYDYCDCAAIAI2AgggASAAKAIMIAAoAghzNgI0IAAgASgCXDYCDCABIAAoAgwiAEECdkG//vz5A3EgAEEGdEHAgYOGfHFyNgIwIAEoAjAhAiADIgAgASgCXDYCDCAAIAI2AgggASAAKAIMIAAoAghzNgIsIAAgASgCWDYCDCABIAAoAgwiAEECdkG//vz5A3EgAEEGdEHAgYOGfHFyNgIoIAEoAighAiADIgAgASgCWDYCDCAAIAI2AgggASAAKAIMIAAoAghzNgIkIAAgASgCVDYCDCABIAAoAgwiAEECdkG//vz5A3EgAEEGdEHAgYOGfHFyNgIgIAEoAiAhAiADIgAgASgCVDYCDCAAIAI2AgggASAAKAIMIAAoAghzNgIcIAAgASgCUDYCDCABIAAoAgwiAEECdkG//vz5A3EgAEEGdEHAgYOGfHFyNgIYIAEoAhghAiADIgAgASgCUDYCDCAAIAI2AgggASAAKAIMIAAoAghzNgIUIAAgASgCTDYCDCABIAAoAgwiAEECdkG//vz5A3EgAEEGdEHAgYOGfHFyNgIQIAEoAhAhAiADIgAgASgCTDYCDCAAIAI2AgggASAAKAIMIAAoAghzNgIMIAEoAkghAiAAIAEoAgw2AgwgACACNgIIIAAoAgwgACgCCHMhAiAAIAEoAkQ2AgwgACgCDCIAQQR2QY+evPgAcSAAQQR0QfDhw4d/cXIhBCADIgAgAjYCDCAAIAQ2AgggACgCDCAAKAIIcyEAIAEoAmwgADYCACABKAIMIQIgAyIAIAEoAkQ2AgwgACACNgIIIAAoAgwgACgCCHMhAiABKAJAIQQgACABKAI8NgIMIAAoAgwiAEEEdkGPnrz4AHEgAEEEdEHw4cOHf3FyIQUgAyIAIAQ2AgwgACAFNgIIIAAoAgwgACgCCHMhBCAAIAI2AgwgACAENgIIIAAoAgwgACgCCHMhACABKAJsIAA2AgQgASgCOCECIAMiACABKAI8NgIMIAAgAjYCCCAAKAIMIAAoAghzIQIgACABKAI0NgIMIAAoAgwiAEEEdkGPnrz4AHEgAEEEdEHw4cOHf3FyIQQgAyIAIAI2AgwgACAENgIIIAAoAgwgACgCCHMhACABKAJsIAA2AgggASgCDCECIAMiACABKAI0NgIMIAAgAjYCCCAAKAIMIAAoAghzIQIgASgCMCEEIAAgASgCLDYCDCAAKAIMIgBBBHZBj568+ABxIABBBHRB8OHDh39xciEFIAMiACAENgIMIAAgBTYCCCAAKAIMIAAoAghzIQQgACACNgIMIAAgBDYCCCAAKAIMIAAoAghzIQAgASgCbCAANgIMIAEoAgwhAiADIgAgASgCLDYCDCAAIAI2AgggACgCDCAAKAIIcyECIAEoAighBCAAIAEoAiQ2AgwgACgCDCIAQQR2QY+evPgAcSAAQQR0QfDhw4d/cXIhBSADIgAgBDYCDCAAIAU2AgggACgCDCAAKAIIcyEEIAAgAjYCDCAAIAQ2AgggACgCDCAAKAIIcyEAIAEoAmwgADYCECABKAIgIQIgAyIAIAEoAiQ2AgwgACACNgIIIAAoAgwgACgCCHMhAiAAIAEoAhw2AgwgACgCDCIAQQR2QY+evPgAcSAAQQR0QfDhw4d/cXIhBCADIgAgAjYCDCAAIAQ2AgggACgCDCAAKAIIcyEAIAEoAmwgADYCFCABKAIYIQIgAyIAIAEoAhw2AgwgACACNgIIIAAoAgwgACgCCHMhAiAAIAEoAhQ2AgwgACgCDCIAQQR2QY+evPgAcSAAQQR0QfDhw4d/cXIhBCADIgAgAjYCDCAAIAQ2AgggACgCDCAAKAIIcyEAIAEoAmwgADYCGCABKAIQIQIgAyIAIAEoAhQ2AgwgACACNgIIIAAoAgwgACgCCHMhAiAAIAEoAgw2AgwgACgCDCIAQQR2QY+evPgAcSAAQQR0QfDhw4d/cXIhBCADIgAgAjYCDCAAIAQ2AgggACgCDCAAKAIIcyEAIAEoAmwgADYCHCABQfAAaiQAC58FAQN/IwBBIGsiASQAIAEgADYCHCABQQA2AhgDQCABKAIYQQhJBEAjAEEQayIAIAEoAhwgASgCGEECdGooAgA2AgwgAEGDhowYNgIIIAEgACgCDCAAKAIIcTYCFCAAIAEoAhwgASgCGEECdGooAgA2AgwgAEGMmLDgADYCCCABIAAoAgwgACgCCHE2AhAgACABKAIcIAEoAhhBAnRqKAIANgIMIABBsODAgQM2AgggASAAKAIMIAAoAghxNgIMIAAgASgCHCABKAIYQQJ0aigCADYCDCAAQcCBg4Z8NgIIIAEgACgCDCAAKAIIcTYCCCAAIAEoAhA2AgwgAEEENgIIIAAoAgwgACgCCEEBdHYhAiAAIAEoAhA2AgwgAEEMNgIIIAAoAgwgACgCCEEBdHQhAyAAIAI2AgwgACADNgIIIAEgACgCDCAAKAIIcjYCECAAIAEoAgw2AgwgAEEINgIIIAAoAgwgACgCCEEBdHYhAiAAIAEoAgw2AgwgAEEINgIIIAAoAgwgACgCCEEBdHQhAyAAIAI2AgwgACADNgIIIAEgACgCDCAAKAIIcjYCDCAAIAEoAgg2AgwgAEEMNgIIIAAoAgwgACgCCEEBdHYhAiAAIAEoAgg2AgwgAEEENgIIIAAoAgwgACgCCEEBdHQhAyAAIAI2AgwgACADNgIIIAEgACgCDCAAKAIIcjYCCCABKAIQIQIgACABKAIUNgIMIAAgAjYCCCAAKAIMIAAoAghyIQIgASgCCCEDIAAgASgCDDYCDCAAIAM2AgggACgCDCAAKAIIciEDIAAgAjYCDCAAIAM2AgggACgCDCAAKAIIciEAIAEoAhwgASgCGEECdGogADYCACABIAEoAhhBAWo2AhgMAQsLIAFBIGokAAuLDAEDfyMAQRBrIgUkACAFIAA2AgwgBSABNgIIIAUgAjYCBCAFKAIEIAUoAgwgBSgCCEEFdGoQTSAFKAIEEOsBIAUoAgQQ6gEgBSAFKAIIQQFrNgIAA0AgBSgCAARAIAUoAgQgBSgCDCAFKAIAQQV0ahBNIAUoAgQhASMAQdAAayIAJAAgACABNgJMIAAgACgCTCgCADYCSCAAIAAoAkwoAgQ2AkQgACAAKAJMKAIINgJAIAAgACgCTCgCDDYCPCAAIAAoAkwoAhA2AjggACAAKAJMKAIUNgI0IAAgACgCTCgCGDYCMCAAIAAoAkwoAhw2AiwgACgCSCIBIQIjAEEQayIEIgMgATYCDCADKAIMIgFBBHZBj568+ABxIAFBBHRB8OHDh39xciEDIAQiASACNgIMIAEgAzYCCCAAIAEoAgwgASgCCHM2AiggACgCRCIBIQIgBCABNgIMIAQoAgwiAUEEdkGPnrz4AHEgAUEEdEHw4cOHf3FyIQMgBCIBIAI2AgwgASADNgIIIAAgASgCDCABKAIIczYCJCAAKAJAIgEhAiAEIAE2AgwgBCgCDCIBQQR2QY+evPgAcSABQQR0QfDhw4d/cXIhAyAEIgEgAjYCDCABIAM2AgggACABKAIMIAEoAghzNgIgIAAoAjwiASECIAQgATYCDCAEKAIMIgFBBHZBj568+ABxIAFBBHRB8OHDh39xciEDIAQiASACNgIMIAEgAzYCCCAAIAEoAgwgASgCCHM2AhwgACgCOCIBIQIgBCABNgIMIAQoAgwiAUEEdkGPnrz4AHEgAUEEdEHw4cOHf3FyIQMgBCIBIAI2AgwgASADNgIIIAAgASgCDCABKAIIczYCGCAAKAI0IgEhAiAEIAE2AgwgBCgCDCIBQQR2QY+evPgAcSABQQR0QfDhw4d/cXIhAyAEIgEgAjYCDCABIAM2AgggACABKAIMIAEoAghzNgIUIAAoAjAiASECIAQgATYCDCAEKAIMIgFBBHZBj568+ABxIAFBBHRB8OHDh39xciEDIAQiASACNgIMIAEgAzYCCCAAIAEoAgwgASgCCHM2AhAgACgCLCIBIQIgBCABNgIMIAQoAgwiAUEEdkGPnrz4AHEgAUEEdEHw4cOHf3FyIQMgBCIBIAI2AgwgASADNgIIIAAgASgCDCABKAIIczYCDCAAKAIQIQIgASAAKAJINgIMIAEgAjYCCCABKAIMIAEoAghzIQEgACgCTCABNgIAIAAoAkQhAiAAKAIMIQMgBCIBIAAoAhA2AgwgASADNgIIIAEoAgwgASgCCHMhAyABIAI2AgwgASADNgIIIAEoAgwgASgCCHMhASAAKAJMIAE2AgQgACgCQCECIAAoAgwhAyAEIgEgACgCKDYCDCABIAM2AgggASgCDCABKAIIcyEDIAEgAjYCDCABIAM2AgggASgCDCABKAIIcyEBIAAoAkwgATYCCCAAKAI8IQIgACgCECEDIAQiASAAKAIkNgIMIAEgAzYCCCABKAIMIAEoAghzIQMgASACNgIMIAEgAzYCCCABKAIMIAEoAghzIQEgACgCTCABNgIMIAAoAiAhAiAEIgEgACgCODYCDCABIAI2AgggASgCDCABKAIIcyECIAAoAgwhAyABIAAoAhA2AgwgASADNgIIIAEoAgwgASgCCHMhAyABIAI2AgwgASADNgIIIAEoAgwgASgCCHMhASAAKAJMIAE2AhAgACgCNCECIAAoAgwhAyAEIgEgACgCHDYCDCABIAM2AgggASgCDCABKAIIcyEDIAEgAjYCDCABIAM2AgggASgCDCABKAIIcyEBIAAoAkwgATYCFCAAKAIYIQIgBCIBIAAoAjA2AgwgASACNgIIIAEoAgwgASgCCHMhASAAKAJMIAE2AhggACgCFCECIAQiASAAKAIsNgIMIAEgAjYCCCABKAIMIAEoAghzIQEgACgCTCABNgIcIAAoAkwQ7QEgAEHQAGokACAFKAIEEOsBIAUoAgQQ6gEgBSAFKAIAQQFrNgIADAELCyAFKAIEIAUoAgwQTSAFQRBqJAALMAEBfyMAQRBrIgEkACABIAA2AgwgASgCDCgCBBAiIAEoAgxBAEEQECEgAUEQaiQAC3oBAX8jAEEgayICJAAgAiAANgIcIAIgATcDECACQQA2AgwDQCACKAIMQQhPRQRAIAIoAgwgAkEEamogAikDEEL/AYM8AAAgAiACKQMQQgiINwMQIAIgAigCDEEBajYCDAwBCwsgAigCHCACQQRqQQgQNRogAkEgaiQAC4wCAQF/IwBBgAJrIggkACAIIAA2AvwBIAggATYC+AEgCCACNgL0ASAIIAM2AvABIAggBDYC7AEgCCAFNgLoASAIIAY2AuQBIAggBzYC4AEgCEHwAGoiACAIKAL4AUHwABAeIAAgCDUC7AEQ8QEgACAINQLgARDxASAAIAgoAugBQQwQNRogACAIKALwASAIKALsARA1GiAIQcAAIAgoAuwBQRxqQT9xa0E/cTYCbCAIQSBqIgFBACAIKAJsECEgACABIAgoAmwQNRogACAIKALkASAIKALgARA1GiAIIAAQkwEaIAAgCCgC9AFB8AAQHiAAIAhBIBA1GiAIKAL8ASAAEJMBGiAIQYACaiQAC8gBAQF/IwBB0ABrIgUkACAFIAA2AkwgBSABNgJIIAUgAjYCRCAFIAM2AkAgBSAENgI8IAVBADYCHCAFQSBqQQBBEBAhIAUgBSgCPEEMEB4gBUEMakEAQQQQIQJAIAUoAkwoAvgBBEAgBSgCRCAFKAJIIAUoAkAgBSgCTCIAIAUgBUEgaiAFQRxqIAAoAvgBEOgBDAELIAUoAkQgBSgCSCAFKAJAIAUoAkwiACAFIAVBIGogBUEcaiAAKAL8ARDnAQsgBUHQAGokAAuxCgEIfyMAQRBrIgYkACAGIAA2AgwgBigCDCEEIwBBIGsiACQAIABB/OgANgIcIAAgBDYCGCAAIARBtAFqNgIUIAAoAhQoAgAEQCMAQRBrIgEgACgCHEEoajYCDCABIAEoAgwoAgA2AgggACABKAIINgIQIAAoAhBB/////wcgACgCHC0ALGtLBEBBnyRByxVB2wFBqRYQAAALIAAgACgCHEEgajYCDCAAQQA2AggDQCAAKAIIIAAoAhBJBEAgACgCDCgCACgCCARAIAAgACgCCCAAKAIcLQAsajYCBCAAKAIUIQIgACgCBCEDIwBBEGsiASQAIAEgAjYCCCABIAM2AgQCQAJAAkAgASgCCCgCAEUNACABKAIEQQBIDQAgASgCBCEIIAEoAggoAgAhAiMAQRBrIgMkACADIAI2AgwjAEEQayICIAMoAgw2AggCQCACKAIIRQRAIAJBADYCDAwBCyACIAIoAggoAgA2AgwLIAIoAgwhAiADQRBqJAAgCCACSQ0BCyABQQA2AgwMAQsgASgCCCgCACECIAEoAgQhBSMAQRBrIgMkACADIAI2AgwgAyAFNgIIIAMoAgghBSMAQRBrIgIgAygCDDYCCCACIAU2AgQCQAJAIAIoAggEQCACKAIEIAIoAggoAgBJDQELIAJBADYCDAwBCyACIAIoAggoAgQgAigCBEECdGooAgA2AgwLIAIoAgwhAiADQRBqJAAgASACNgIMCyABKAIMIQIgAUEQaiQAIAAgAjYCACAAKAIYIAAoAgAgACgCFCAAKAIEIAAoAgwoAgAiASgCACABKAIEIAEoAggRCgALIAAgACgCDCgCAEEMajYCDCAAIAAoAghBAWo2AggMAQsLIAAoAhQoAgAhAiMAQRBrIgEkACABIAI2AgwgASgCDBDOASABQRBqJAAgACgCFEEANgIACyAAQSBqJAAgBCAEKAKIASgCIBEBACAEQdwCahBdIARB0AJqEF0gBEHIAmoQXSAEQcACahBdIARBzAFqEPYBIARByAFqEPYBIARBwAFqEF0jAEEQayIFJAAgBSAEQYQBajYCDCAFKAIMIQAjAEEQayIBJAAgASAANgIMIAFBADYCCCABIAEoAgwiABAXKAIANgIEIAEoAgghAiAAEBcgAjYCACABKAIEBEAgABAXIQAgASgCBCEDIwBBEGsiAiQAIAIgADYCDCACIAM2AgggAigCCCEAIwBBEGsiAyQAIAMgADYCDCADKAIMIQcjAEEQayADQQhqNgIMIwBBEGsiACQAIAAgBzYCDCAAQcMANgIIIABBADYCBCAAKAIMBEAgAEEANgIAA0AgACgCACAAKAIMKAIASQRAIAAoAgwoAgQgACgCAEECdGooAgAEQCAAKAIEIAAoAgwoAgQgACgCAEECdGooAgAgACgCCBECAAsgACAAKAIAQQFqNgIADAELCyAAKAIMEM4BCyAAQRBqJAAgA0EQaiQAIAJBEGokAAsgAUEQaiQAIAVBEGokACMAQRBrIgIkACACIARBgAFqNgIMIAIoAgwhASMAQRBrIgAkACAAIAE2AgwgAEEANgIIIAAgACgCDCIBEBcoAgA2AgQgACgCCCEDIAEQFyADNgIAIAAoAgQEQCABEBchAyAAKAIEIQUjAEEQayIBJAAgASADNgIMIAEgBTYCCCABKAIIIQUjAEEQayIDJAAgAyAFNgIMIAMoAgwQKCADQRBqJAAgAUEQaiQACyAAQRBqJAAgAkEQaiQAIAZBEGokACAECxUBAX8jAEEQayIBIAA2AgwgASgCDAucAQEEfyMAQRBrIgIkACACIAA2AgwgAigCDCEBIwBBEGsiACQAIAAgATYCDCAAQQA2AgggACAAKAIMIgEQFygCADYCBCAAKAIIIQMgARAXIAM2AgAgACgCBARAIAEQFyEDIAAoAgQhBCMAQRBrIgEkACABIAM2AgwgASAENgIIIAEoAggQ9wEgAUEQaiQACyAAQRBqJAAgAkEQaiQAC7QHAQV/IwBBEGsiBSQAIAUgADYCDCAFKAIMIQAjAEEQayICJAAgAiAANgIMAkAgAigCDEUNACACIAIoAgwoAgA2AgggAigCCEUEQCACKAIMQQxqEGgEQCACKAIMEM8BCwwBCyACKAIIQQRqIQEjAEEQayIAJAAgACABNgIMIAAoAgwaIABBEGokACACKAIMQQxqEGhFBEAgAigCDCgCAEEEaiEBIwBBEGsiACQAIAAgATYCDCAAKAIMGiAAQRBqJAAMAQsgAigCCCgCACEAIAIoAgwhAyMAQRBrIgEkACABIAA2AgwgASADNgIIIAEoAgwhAyABKAIIIQQjAEEgayIAJAAgACADNgIcIAAgBDYCGCAAQd8ANgIUIABB4AA2AhAgACAAKAIcIAAoAhggACgCFCAAKAIQENIBNgIMIAAoAgwoAgAEfyAAKAIMKAIAKAIABUEACyEDIABBIGokACABQRBqJAAgAiADNgIEIAIoAgQgAigCDEYEQCACKAIIKAIAIQAgAigCDCEBIwBBEGsiAyQAIAMgADYCDCADIAE2AgggAygCDCEBIAMoAgghBCMAQSBrIgAkACAAIAE2AhggACAENgIUIABB3wA2AhAgAEHgADYCDCAAIAAoAhggACgCFCAAKAIQIAAoAgwQ0gE2AggCQCAAKAIIKAIARQRAIABBADYCHAwBCyAAIAAoAggoAgA2AgQgACgCCCAAKAIEKAIENgIAIAAgACgCBCgCADYCACAAKAIEECggACgCGCIBIAEoAgBBAWs2AgAgACgCGCEEIwBBEGsiASQAIAEgBDYCDAJAIAEoAgwoAgwNACABKAIMKAIIQRBJBEBBgAtB+xNB9wFB6Q4QAAALIAEgASgCDCIEKAIAIAQoAghuNgIIIAEoAghBAksEQCABIAEoAgwoAghBAXQ2AgQgASgCBCABKAIMKAIISwRAIAEoAgwgASgCBBDRAQsMAQsCQCABKAIIDQAgASgCDCgCCEEQTQ0AIAEgASgCDCgCCEEBdjYCACABKAIAQRBJBEAgAUEQNgIACyABKAIMIAEoAgAQ0QELCyABQRBqJAAgACAAKAIANgIcCyAAKAIcIQEgAEEgaiQAIAEhACADQRBqJAAgAiAANgIEIAIoAgQgAigCDEcEQEHcDkHRE0HrAUG1EBAAAAsLIAIoAgwoAgBBBGohASMAQRBrIgAkACAAIAE2AgwgACgCDBogAEEQaiQAIAIoAgwQzwELIAJBEGokACAFQRBqJAALcgEBfyMAQRBrIgMkACADIAA2AgwgAyABNgIIIAMgAjYCBCADKAIIIQEgAygCBCECIwBBEGsiACADKAIMNgIMIAAgATYCCCAAIAI2AgQgACgCCCIBIAAoAgQiACkCADcCACABIAAoAgg2AgggA0EQaiQAC1oBAX8jAEEQayICJAAgAiAANgIMIAIgATYCCCACKAIIIQEjAEEQayIAIAIoAgw2AgwgACABNgIIIAAoAgwgACgCCEECa2otAABBH3FBBUshACACQRBqJAAgAAt0AQJ/IwBBEGsiAyQAIAMgADYCDCADIAE2AgggAyACNgIEIAMoAgwhASADKAIIIQIgAygCBCEEIwBBEGsiACQAIAAgATYCDCAAIAI2AgggACAENgIEIAAoAgggACgCBEEMbEEEEEMgAEEQaiQAIANBEGokAAuXAQEHfyMAQRBrIgIkACACIAA2AgwgAigCDCIAEBkhAyAAEBkgABBPQQxsaiEEIAAQGSEHIwBBEGsiASAANgIMIAcgASgCDCIBKAIEIAEoAgBrQQxtQQxsaiEFIAAQGSAAEE9BDGxqIQYjAEEgayIBIAA2AhwgASADNgIYIAEgBDYCFCABIAU2AhAgASAGNgIMIAJBEGokAAtVAQF/IwBBEGsiAiQAIAIgADYCBCACIAE2AgAgAigCACEBIwBBEGsiACACQQhqNgIMIAAgATYCCCAAKAIMIAAoAgg2AgAgAigCCCEAIAJBEGokACAAC4sBAQN/IwBBEGsiAiQAIAIgADYCDCACIAE2AgggAigCDCEBIAIoAgghAyMAQRBrIgAkACAAIAE2AgwgACADNgIIIwBBEGsiASAAKAIMNgIMIAEoAgwoAgAhBCMAQRBrIgEgACgCCDYCDCAEIAEoAgwoAgBGIQEgAEEQaiQAIAJBEGokACABQX9zQQFxCzgBAX8jAEEQayIBJAAgASAANgIEIAEgASgCBCIAIAAoAgQQ/AE2AgggASgCCCEAIAFBEGokACAACzgBAX8jAEEQayIBJAAgASAANgIEIAEgASgCBCIAIAAoAgAQ/AE2AgggASgCCCEAIAFBEGokACAAC30BAX8jAEEgayICJAAgAiAANgIcIAIgATYCGCMAQRBrIgAgAigCHDYCBCAAIAAoAgQoAgA2AgggAiAAKAIINgIQIAAgAigCGDYCBCAAIAAoAgQoAgA2AgggAiAAKAIINgIIIAJBEGogAkEIahD9AUEBcSEAIAJBIGokACAAC1cBAX8jAEEQayIBJAAgASAANgIEIAEgASgCBBD/ATYCACMAQRBrIgAgASgCADYCCCAAIAFBCGo2AgQgACgCBCAAKAIINgIAIAEoAgghACABQRBqJAAgAAtBAQF/IwBBEGsiAyQAIAMgADYCDCADIAE2AgggAyACNgIEIAMoAgwhAEHsJSADKAIIIAMoAgQQBSADQRBqJAAgAAtXAQF/IwBBEGsiASQAIAEgADYCBCABIAEoAgQQ/gE2AgAjAEEQayIAIAEoAgA2AgggACABQQhqNgIEIAAoAgQgACgCCDYCACABKAIIIQAgAUEQaiQAIAALsgECAnwBfyMAQRBrIgQkACAEIAA2AgwgBCABNwMAIAQpAwBQBH5CAQUCfiAEKQMAIQEjAEEQayIAJAAgACABNwMIIAApAwi6EMwBIQIgAEEQaiQAIAIhAyMAQRBrIgAkACAAQYACNgIMIAAoAgy3EMwBIQIgAEEQaiQAIAMgAqMiAkQAAAAAAADwQ2MgAkQAAAAAAAAAAGZxBEAgArEMAQtCAAtCAXwLIQEgBEEQaiQAIAEL3gEBBn8jAEEQayIDJAAgAyAANgIMIAMoAgwhASMAQRBrIgAkACAAIAE2AgwgAEEANgIIIAAgACgCDCIBEBcoAgA2AgQgACgCCCECIAEQFyACNgIAIAAoAgQEQCABEFIhAiAAKAIEIQQjAEEQayIBJAAgASACNgIMIAEgBDYCCCABKAIMIgItAARBAXEEQCACKAIAIQQgASgCCEEIahAsIQUjAEEQayIGIAQ2AgwgBiAFNgIICyABKAIIBEAgAigCACABKAIIEH8LIAFBEGokAAsgAEEQaiQAIANBEGokAAuQAQECfyMAQSBrIgIkACACIAA2AhwgAiABNgIYIAIgAigCHBAYNgIUA0AgAigCGARAIAIgAigCGCgCADYCECACIAIoAhgQFzYCDCACKAIUIQAgAigCDEEIahAsIQEjAEEQayIDIAA2AgwgAyABNgIIIAIoAhQgAigCDBB/IAIgAigCEDYCGAwBCwsgAkEgaiQAC5ABAQJ/IwBBEGsiBCQAIAQgADYCDCAEIAE2AgggBCACNgIEIAQgAzYCACAEKAIMIQEgBCgCCCECIAQoAgQhAyAEKAIAIQUjAEEQayIAJAAgACABNgIMIAAgAjYCCCAAIAM2AgQgACAFNgIAIAAoAgggACgCBCgCACAAKAIAKAIAELwBIABBEGokACAEQRBqJAALnwEBA38jAEEQayICJAAgAiAANgIMIAIgATYCCCACKAIMIQEgAigCCCEDIwBBEGsiACQAIAAgATYCDCAAIAM2AgggACgCCCEEIAAoAgwhAyMAQRBrIgEkACABIAM2AgwjAEEQayABKAIMNgIMIAFBEGokACAEQf////8DSwRAEDkACyAAKAIIQQJ0QQQQQSEBIABBEGokACACQRBqJAAgAQuHBgEFfyMAQTBrIgIkACACIAA2AiwgAiABNgIoIAIgAigCLCIAED8QJjYCJAJ/IAIoAigEQCACKAIkIAIoAigQiAIMAQtBAAshAyMAQRBrIgEkACABIAA2AgwgASADNgIIIAEgASgCDCIDEBcoAgA2AgQgASgCCCEEIAMQFyAENgIAIAEoAgQEQCADEFIgASgCBBCNAgsgAUEQaiQAIAIoAighASAAED8QJiABNgIAIAIoAigEQCACQQA2AiADQCACKAIgIAIoAihJBEAgACACKAIgECNBADYCACACIAIoAiBBAWo2AiAMAQsLIAIgAEEIahAXEBc2AhwgAiACKAIcKAIANgIYIAIoAhgEQCMAQRBrIgEgAigCGDYCDCACIAEoAgwoAgQgAigCKBAlNgIUIAIoAhwhASAAIAIoAhQQIyABNgIAIAIgAigCFDYCECACIAIoAhg2AhwgAiACKAIYKAIANgIYA0AgAigCGARAIwBBEGsiASACKAIYNgIMIAIgASgCDCgCBCACKAIoECU2AhQCQCACKAIUIAIoAhBGBEAgAiACKAIYNgIcDAELAkAgACACKAIUECMoAgBFBEAgAigCHCEBIAAgAigCFBAjIAE2AgAgAiACKAIYNgIcIAIgAigCFDYCEAwBCyACIAIoAhg2AgwDQCACKAIMKAIABH8gABAwIQMgAigCGBAXQQhqIQQgAigCDCgCABAXQQhqIQUjAEEQayIBJAAgASADNgIMIAEgBDYCCCABIAU2AgQgASgCDCEEIAEoAggQJiEFIAEoAgQQJiEGIwBBEGsiAyAENgIMIAMgBTYCCCADIAY2AgQgAygCCCkDACADKAIEKQMAUSEDIAFBEGokACADBUEAC0EBcQRAIAIgAigCDCgCADYCDAwBCwsgAigCHCACKAIMKAIANgIAIAAgAigCFBAjKAIAKAIAIQEgAigCDCABNgIAIAIoAhghASAAIAIoAhQQIygCACABNgIACwsgAiACKAIcKAIANgIYDAELCwsLIAJBMGokAAufAQEEfyMAQRBrIgIkACACIAA2AgwgAkEBNgIIIAIoAgwhASACKAIIIQMjAEEQayIAJAAgACABNgIMIAAgAzYCCCAAKAIIIQQgACgCDCEDIwBBEGsiASQAIAEgAzYCDCMAQRBrIAEoAgw2AgwgAUEQaiQAIARBqtWq1QBLBEAQOQALIAAoAghBGGxBCBBBIQEgAEEQaiQAIAJBEGokACABC6sDAgJ/AX0jAEEQayICJAAgAiAANgIMIAIgATYCCCACKAIMIQACQCACKAIIQQFGBEAgAkECNgIIDAELIAIoAggiASABQQFrcQRAIAIgAigCCBDKATYCCAsLIAIgABA0NgIEAkAgAigCCCACKAIESwRAIAAgAigCCBCJAgwBCyACKAIIIAIoAgRJBEAgAgJ/IAIoAgQQowFBAXEEQAJ/IAAQHSgCALMgABAwKgIAlSEEIwBBEGsiASAEOAIMIAEqAgyNIgRDAACAT10gBEMAAAAAYHEEQCAEqQwBC0EACyEDIwBBEGsiASQAIAEgAzYCDAJ/IAEoAgxBAkkEQCABKAIMDAELIwBBEGsiAyABKAIMQQFrNgIMQQFBICADKAIMZ2t0CyEDIAFBEGokACADDAELAn8gABAdKAIAsyAAEDAqAgCVIQQjAEEQayIBIAQ4AgwgASoCDI0iBEMAAIBPXSAEQwAAAABgcQRAIASpDAELQQALEMoBCzYCACACIAJBCGogAhBKKAIANgIIIAIoAgggAigCBEkEQCAAIAIoAggQiQILCwsgAkEQaiQAC3QBAn8jAEEQayIDJAAgAyAANgIMIAMgATYCCCADIAI2AgQgAygCDCEBIAMoAgghAiADKAIEIQQjAEEQayIAJAAgACABNgIMIAAgAjYCCCAAIAQ2AgQgACgCCCAAKAIEQQJ0QQQQQyAAQRBqJAAgA0EQaiQACzoBAX8jAEEQayICJAAgAiAANgIMIAIgATYCCCACKAIMIgAQJiACKAIIIAAQJigCABCMAiACQRBqJAALSgEBfyMAQRBrIgIkACACIAA2AgwgAiABNgIIIAIoAgghASMAQRBrIgAkACAAIAE2AgwgACgCDEEIahA4IABBEGokACACQRBqJAALbgECfyMAQRBrIgIkACACIAA2AgwgAigCDCEBIwBBEGsiACQAIAAgATYCDCAAQQA2AgggACAAKAIMIgEQFygCADYCBCABEBdBADYCACAAKAIEBEAgARBSIAAoAgQQjQILIABBEGokACACQRBqJAALfAEBfyMAQSBrIgIkACACIAA2AhwgAiABNgIYIAIgAigCHBAYNgIUA0AgAigCGARAIAIgAigCGCgCADYCECACIAIoAhgQFzYCDCACKAIUIAIoAgxBCGoQLBCOAiACKAIUIAIoAgwQfyACIAIoAhA2AhgMAQsLIAJBIGokAAswAQF/IwBBEGsiASQAIAEgADYCBCMAQRBrIgAgASgCBDYCDCAAKAIMGiABQRBqJAALjwEBAn8jAEEgayICJAAgASgCACEDIAEoAgQhASACIAA2AhggAiABNgIUIAIgAzYCECACQRM2AgwgAigCGCEBIwBBEGsiACACQQhqIgM2AgwgACQAIAAgAzYCDCAAQRBqJAAgAiACKAIMNgIcQbQnIAFBA0GUKUGQKCACKAIMIAJBEGoQVUEAEAQgAkEgaiQAC0IBAX8jAEEQayICJAAgAiAANgIMIAIgATYCCCACKAIMIgAgAigCCBCeAiAAQYQyNgIAIABBAToAICACQRBqJAAgAAvoAgEBfyMAQSBrIgIkACACIAA2AhQgAiABNgIQIAIgAigCFCIAEB0gAigCEBB+NgIMIAIgABA0NgIIAkAgAigCCARAIAIgAigCDCACKAIIECU2AgQgAiAAIAIoAgQQIygCADYCACACKAIABEAgAiACKAIAKAIANgIAA0AgAigCAAR/IwBBEGsiASACKAIANgIMIAEoAgwoAgQgAigCDEcEfyMAQRBrIgEgAigCADYCDCABKAIMKAIEIAIoAggQJSACKAIERgVBAQsFQQALQQFxBEAjAEEQayIBIAIoAgA2AgwCQCABKAIMKAIEIAIoAgxHDQAgABAwIAIoAgAQF0EIaiACKAIQEH1BAXFFDQAgAigCACEBIwBBEGsiACACQRhqNgIMIAAgATYCCCAAKAIMIAAoAgg2AgAMBQsgAiACKAIAKAIANgIADAELCwsLIAIgABCAATYCGAsgAigCGCEAIAJBIGokACAAC6cFAgR/An4jAEEQayIDJAAgAyAANgIEIAMgATYCAEEgEC8iBSEAIAMoAgQpAwAhBiADKAIAKQMAIQcjAEEgayIEJAAgBCAANgIcIAQgBjcDECAEIAc3AwggBCgCHCIBIAQpAxA3AwAgASAEKQMINwMIIAFBEGoQKiABQgA3AxgjAEEwayIAJAAgACABNgIsAkAgACgCLCIBKQMAQgBUDQAgASkDCEIAVA0AIAAgASABKQMIEIQCNwMgIAAgASkDAEIHVjoAHyAAAn4gAC0AH0EBcQRAIAEgASkDABCEAgwBCyABKQMACzcDECABAn4gAC0AH0EBcQRAIAApAyAgACkDEEIBfHwMAQsgACkDIEIBfAs3AxggAUEQaiICIAEpAxinEC8QYyACEBZBACABKQMYpxBGIAAgAhAWNgIMIAAoAgwiAiACLQAAQQN0rCAAKQMgQgF9QgeDhDwAACAAKAIMIAAtAB9BAXEgACgCDC0AAEEBdHI6AAAgACgCDCAAKAIMLQAAQQN0rAJ+IAAtAB9BAXEEQCAAKQMQQgF9DAELIAApAxALQgeDhDwAACAALQAfQQFxBEAgAEEANgIIA0AgADQCCCAAKQMQVARAIAAoAgwgACgCCCICQQFqaiABKQMAIAApAxBCAX0gAqx9QgOGiEL/AYM8AAAgACAAKAIIQQFqNgIIDAELCwsgAAJ+IAAtAB9BAXEEQCAAKQMQQgF8DAELQgELPgIEIABBADYCAANAIAA0AgAgACkDIFoNASAAKAIMIAAoAgAiAiAAKAIEamogASkDCCAAKQMgQgF9IAKsfUIDhohC/wGDPAAAIAAgACgCAEEBajYCAAwACwALIABBMGokACAEQSBqJAAgA0EIaiAFEF8gAygCCCEAIANBEGokACAAC0MBAX8jAEEQayICJAAgAiAANgIMIAIgATYCCCACKAIMIgAgAigCCBCeAiAAQfAxNgIAIABBIGoQnQIgAkEQaiQAIAALVAEBfyMAQRBrIgIkACACIAA2AgwgAiABNgIIIAIoAgghASMAQRBrIgAgAigCDDYCDCAAIAE2AgggACgCDCgCACAAKAIIKAIARiEAIAJBEGokACAAC1cBAX8jAEEQayIBJAAgASAANgIEIAEgASgCBBCAATYCACMAQRBrIgAgASgCADYCCCAAIAFBCGo2AgQgACgCBCAAKAIINgIAIAEoAgghACABQRBqJAAgAAuuBwEEfyMAQUBqIgUkACAFIAA2AjggBSABNwMwIAUgAjcDKCAFIAM2AiQgBSAENgIgIAUoAjgiB0EIaiEAIwBBIGsiAyQAIAMgADYCFCADIAVBMGo2AhAgAygCFCEEIAMoAhAhBiMAQSBrIgAkACAAIAQ2AhQgACAGNgIQIAAgACgCFCIEEB0gACgCEBB+NgIMIAAgBBA0NgIIAkAgACgCCARAIAAgACgCDCAAKAIIECU2AgQgACAEIAAoAgQQIygCADYCACAAKAIABEAgACAAKAIAKAIANgIAA0AgACgCAAR/IAAoAgwhCCMAQRBrIgYgACgCADYCDCAIIAYoAgwoAgRHBH8jAEEQayIGIAAoAgA2AgwgBigCDCgCBCAAKAIIECUgACgCBEYFQQELBUEAC0EBcQRAIwBBEGsiBiAAKAIANgIMAkAgBigCDCgCBCAAKAIMRw0AIAQQMCAAKAIAEBdBCGogACgCEBB9QQFxRQ0AIAAoAgAhBiMAQRBrIgQgAEEYajYCDCAEIAY2AgggBCgCDCAEKAIINgIADAULIAAgACgCACgCADYCAAwBCwsLCyAAIAQQgAE2AhgLIAAoAhghBCAAQSBqJAAgAyAENgIIIwBBEGsiACADKAIINgIIIAAgA0EYajYCBCAAKAIEIAAoAgg2AgAgAygCGCEAIANBIGokACAFIAA2AhggBSAHQQhqEJgCNgIQAkAgBUEYaiAFQRBqEJcCQQFxBEAgBUEAOgA/DAELIAVBCGoiACAFQRhqEFFBCGoQqAEjAEEQayIDIAA2AgwCQCADKAIMKAIARQRAIAVBADoAPwwBCyAFKQMoIAUoAiQgBSgCIBCgAUEBcUUEQCAFQQA6AD8MAQsgBSgCJCIAIQMgBSgCICAAaiEEIwBBEGsiACAFQQhqNgIMIAAoAgwoAgAiACAAKAIAKAIYEQAAIQcgBSgCJCEGIwBBIGsiACQAIAAgAzYCFCAAIAQ2AhAgACAHNgIMIAAgBjYCCANAIAAoAhQgACgCEEcEQCAAKAIUIQQgACgCDCEHIwBBEGsiAyAAQRhqNgIMIAMgBDYCCCADIAc2AgQgAygCCC0AACADKAIELQAAcyEDIAAoAgggAzoAACAAIAAoAhRBAWo2AhQgACAAKAIMQQFqNgIMIAAgACgCCEEBajYCCAwBCwsgACgCCBogAEEgaiQAIAVBAToAPwsgBUEBNgIEIAVBCGoQOAsgBS0AP0EBcSEAIAVBQGskACAAC6MBAQV/IwBBEGsiAyQAIAMgADYCDCADKAIMIgAhAiAAKAIAIQEjAEEQayIAJAAgACACNgIMIAAgATYCCCAAIAAoAgwiAigCBDYCBANAIAAoAgggACgCBEcEQCACEBghASAAIAAoAgRBCGsiBDYCBCABIQUjAEEQayIBIAQ2AgwgBSABKAIMEEQMAQsLIAIgACgCCDYCBCAAQRBqJAAgA0EQaiQAC5QBAQd/IwBBEGsiAiQAIAIgADYCDCACKAIMIgAQGSEDIAAQGSAAED5BA3RqIQQgABAZIQcjAEEQayIBIAA2AgwgByABKAIMIgEoAgQgASgCAGtBeHFqIQUgABAZIAAQPkEDdGohBiMAQSBrIgEgADYCHCABIAM2AhggASAENgIUIAEgBTYCECABIAY2AgwgAkEQaiQAC2kBAX8jAEEQayICJAAgAiAANgIMIAIgATYCCCACKAIMIQEgAiACKAIIKAIANgIAIwBBEGsiACACKAIANgIIIAAgATYCBCAAKAIEIAAoAgg2AgAgASACKAIILQAEQQFxOgAEIAJBEGokAAuuBAELfyMAQRBrIgYkACAGIAA2AgwgBigCDCIJIQEjAEEgayIAJAAgACABNgIcIAAoAhwiByEBIwBBEGsiAyQAIAMgATYCDCADKAIMIQEjAEEgayIEJAAgBCABNgIcIAQgA0EIajYCGCAEIAM2AhQjAEEQayIBIAQoAhwiAjYCBCABKAIEQQA2AgAjAEEQayIIJAAgCCACQQRqNgIEIAgoAgQhAiMAQRBrIgEkACABIAI2AgwgASgCDCEFIAFBADYCCCMAQRBrIgIkACACIAU2AgwgAiABQQhqNgIIIAIgATYCBCACKAIIIQojAEEQayIFIAIoAgwiCzYCDCAFIAo2AgggBSgCDCAFKAIIKAIANgIAIAsQigEgAkEQaiQAIAFBEGokACAIQRBqJAAgBEEgaiQAIANBEGokACAHQQhqEKUCIABBADYCGCMAQRBrIgEkACABIAdBDGo2AgwgASAAQRhqNgIIIAEgAEEQajYCBCABKAIIIQMjAEEQayICIAEoAgwiBDYCDCACIAM2AgggAigCDCACKAIIKAIANgIAIAQQkQIgAUEQaiQAIABDAACAPzgCDCMAQRBrIgEkACABIAdBEGo2AgwgASAAQQxqNgIIIAEgAEEIajYCBCABKAIIIQMjAEEQayICIAEoAgwiBDYCDCACIAM2AgggAigCDCACKAIIKgIAOAIAIAQQkQIgAUEQaiQAIABBIGokACMAQRBrIAk2AgwgBkEQaiQAC+sDAQh/IwBBEGsiBSQAIAUgADYCDCAFIAE2AgggBSgCDCIAQdwxNgIAIAAgBSgCCDYCBCAAQQhqEJ0CIABBHGoiBxAqIAUoAgghASMAQRBrIgAkACAAIAE2AgQCQCAAKAIERQRAIwBBEGsiASQAQRAQLyIGIQQjAEEQayICJAAgAiAENgIMIwBBEGsiBCACKAIMIgM2AgwgBEEANgIIIAQoAgwiCEGMKzYCACAIIAQoAgg2AgQgA0GoKTYCACADQeQzNgIIIAMhCRCXASEEIwBBEGsiAyAENgIMIAkgAygCDCgCDDYCDCACQRBqJAAgAUEIaiAGEF8gASgCCCECIAFBEGokACAAIAI2AgAgAEEIaiAAELEBIwBBEGsiBCQAIAQgADYCDCAEKAIMIQIjAEEQayIBJAAgASACNgIMIAFBADYCCCABIAEoAgwiAhAXKAIANgIEIAEoAgghAyACEBcgAzYCACABKAIEBEAgAhAXIQMgASgCBCEGIwBBEGsiAiQAIAIgAzYCDCACIAY2AgggAigCCCIDBEAgAxBWGiADECILIAJBEGokAAsgAUEQaiQAIARBEGokAAwBCyAAQQhqEKgCCyAAKAIIIQEgAEEQaiQAIAUgATYCACAHIAUQwgEgBRBzIAVBEGokAAskAQF/IwBBEGsiASQAIAEgADYCDCABKAIMEKsBGiABQRBqJAALMgEBfyMAQRBrIgEkACABIAA2AgwgASgCDCIAQdwwNgIAIABBDGoQnwIgAUEQaiQAIAALdQECfyMAQRBrIgMkACADIAA2AgwgAyABNgIIIAMgAjYCBCADKAIMIQEgAygCCCECIAMoAgQhBCMAQRBrIgAkACAAIAE2AgwgACACNgIIIAAgBDYCBCAAKAIIIAAoAgRBzABsQQQQQyAAQRBqJAAgA0EQaiQACzcBAX8jAEEQayICJAAgAiAANgIMIAIgATYCCCMAQRBrIgAgAigCDDYCDCAAKAIMGiACQRBqJAALjwEBAn8jAEEgayICJAAgASgCACEDIAEoAgQhASACIAA2AhggAiABNgIUIAIgAzYCECACQRE2AgwgAigCGCEBIwBBEGsiACACQQhqIgM2AgwgACQAIAAgAzYCDCAAQRBqJAAgAiACKAIMNgIcQbQnIAFBA0H0KEGQKCACKAIMIAJBEGoQVUEAEAQgAkEgaiQAC4QCAQR/IwBBEGsiAiQAIAIgADYCDCACKAIMIgMhBCADKAIAIQEjAEEQayIAJAAgACABNgIIAkAgACgCCCgCAARAIwBBEGsiASAAKAIIKAIANgIMA0AgASgCDCgCBARAIAEgASgCDCgCBDYCDAwBCwsgACABKAIMNgIMDAELIAAgACgCCDYCBANAIwBBEGsiASAAKAIENgIMIAEoAgwiASABKAIIKAIARgRAIwBBEGsiASAAKAIENgIMIAAgASgCDCgCCDYCBAwBCwsjAEEQayIBIAAoAgQ2AgwgACABKAIMKAIINgIMCyAAKAIMIQEgAEEQaiQAIAQgATYCACACQRBqJAAgAwtXAQN/IwBBEGsiASQAIAEgADYCDCABKAIMIQIjAEEQayIAJAAgACACNgIEIwBBEGsiAyAAKAIENgIMIAMoAgxBADYCACAAQRBqJAAgAhCKASABQRBqJAALgAEBAn8jAEEQayIBJAAgASAANgIIIAEgASgCCCIANgIMIABB7C82AgAgAEEEahAWBEAgAEEEaiICEDEgAhA3CyAAQTRqEBogAEEsahAaIABBJGoQGiAAQRxqEBogAEEUahAaIABBDGoQGiAAQQRqEBogASgCDCEAIAFBEGokACAAC6sUAQ1/IwBBIGsiCyQAIAsgADYCHCALIAI2AhggCygCHCEDIwBBEGsiACALQRBqIgI2AgQgACgCBBogACQAIAAgAzYCDCAAIAI2AgggACgCDCIFQQRqEKUCIABBADYCBCAAKAIIIQYjAEEQayICJAAgAiAFQQhqNgIMIAIgAEEEajYCCCACIAY2AgQgAigCCCEEIwBBEGsiBiACKAIMIgc2AgwgBiAENgIIIAYoAgwgBigCCCgCADYCACACKAIEIQQjAEEQayIGIAc2AgwgBiAENgIIIAYoAgwaIAJBEGokACAFEEghAiMAQRBrIgYgBTYCDCAGKAIMIAI2AgAgAEEQaiQAIwBBEGsiACABNgIMIAAoAgwoAgAhACMAQRBrIgIgATYCDCACKAIMIgEoAgAgASgCBEHYAGxqIQEjAEEwayICJAAgAiADNgIsIAIgADYCKCACIAE2AiQgAigCLCIOIQAjAEEQayIBJAAgASAANgIEIAEoAgQhBSMAQRBrIgAkACAAIAU2AgQgACAAKAIEEK4BNgIAIwBBEGsiBSAAKAIANgIIIAUgAEEIajYCBCAFKAIEIAUoAgg2AgAgACgCCCEFIABBEGokACABIAU2AgggASgCCCEAIAFBEGokACACIAA2AiADQCACKAIoIAIoAiRHBEAgAiACKAIgNgIQIwAiAUEQayIAIAIoAhA2AgggACACQRhqNgIEIAAoAgQgACgCCDYCACACKAIYIQAgAigCKCEFIAFBMGsiBiQAIAYgADYCICAGIA42AhwgBiAFNgIYIAYoAhwhACAGIAYoAiA2AgggBigCCCEBIAYoAhghAyMAQTBrIgUkACAFIAE2AiAgBSAANgIcIAUgAzYCGCAFKAIcIQAgBSAFKAIgNgIIIwBBEGsiASAFKAIYNgIMIAEoAgwhAyAFKAIIIQQgBSgCGCEHIwBB0ABrIgEkACABIAQ2AkggASAANgJEIAEgAzYCQCABIAc2AjwgASgCRCEMIAEgASgCSDYCKCABKAIoIQMgASgCQCEEIwBB4ABrIgAkACAAIAM2AlggACAMNgJUIAAgAUE4ajYCUCAAIAFBNGo2AkwgACAENgJIIAAgACgCVCIHEK4BNgI4IwBBEGsiAyAAKAI4NgIIIAMgAEFAayIENgIEIAMoAgQgAygCCDYCACADIABB2ABqNgIMIAMgBDYCCAJAIAMoAgwoAgAgAygCCCgCAEYEf0EBBSAHEBggACgCSCAAQdgAahCCARCEAQtBAXEEQCAAIAAoAlg2AjAjAEEQayIDJAAgAyAHNgIEIwBBEGsiBCADKAIENgIMIAQoAgwoAgAhCSMAQRBrIgQgA0EIajYCDCAEIAk2AgggBCgCDCAEKAIINgIAIAMoAgghBCADQRBqJAAgACAENgIgIwBBEGsiAyAAKAIgNgIIIAMgAEEoaiIENgIEIAMoAgQgAygCCDYCACMAQRBrIgMgAEEwajYCDCADIAQ2AgggAygCDCgCACADKAIIKAIARgR/QQEFIAcQGCAAQTBqEKQCEIIBIAAoAkgQgwELQQFxBEAgACgCWCgCAEUEQCAAKAJQIAAoAlg2AgAgACAAKAJQKAIANgJcDAMLIAAoAlAgACgCMDYCACAAIAAoAjBBBGo2AlwMAgsgACAHIAAoAlAgACgCSBCGATYCXAwBCyAHEBggAEHYAGoQggEgACgCSBCDAUEBcQRAIAAgACgCWDYCECAAKAIQIQMjAEEgayIJJAAgCSADNgIQIAlBATYCDCAJKAIMIQMjAEEQayIKJAAgCiAJQRBqNgIMIAogAzYCCCMAQRBrIgMgCigCCDYCDCAKIAMoAgw2AgQgCigCDCEEIAooAgQhCCMAQRBrIgMkACADIAQ2AgQgAyAINgIAAkAgAygCAEEATgRAA0AgAygCAEEASgRAIAMoAgQhBCMAQRBrIg0kACANIAQ2AgwgDSgCDCIEIQ8gBCgCACEIIwBBEGsiBCQAIAQgCDYCCAJAIAQoAggoAgQEQCMAQRBrIgggBCgCCCgCBDYCDANAIAgoAgwoAgAEQCAIIAgoAgwoAgA2AgwMAQsLIAQgCCgCDDYCDAwBCwNAIwBBEGsiCCAEKAIINgIMIAgoAgwiCCAIKAIIKAIARkF/c0EBcQRAIwBBEGsiCCAEKAIINgIMIAQgCCgCDCgCCDYCCAwBCwsgBCAEKAIIKAIINgIMCyAEKAIMIQggBEEQaiQAIA8gCDYCACANQRBqJAAgAyADKAIAQQFrNgIADAELCwwBCwNAIAMoAgBBAEgEQCADKAIEEKQCGiADIAMoAgBBAWo2AgAMAQsLCyADQRBqJAAgCkEQaiQAIAkgCSgCEDYCGCAJKAIYIQMgCUEgaiQAIAAgAzYCGCAAIAcQrgE2AgAjAEEQayIDIAAoAgA2AgggAyAAQQhqIgQ2AgQgAygCBCADKAIINgIAIAMgAEEYajYCDCADIAQ2AgggAygCDCgCACADKAIIKAIARgR/QQEFIAcQGCAAKAJIIABBGGoQggEQhAELQQFxBEAjAEEQayIDIABB2ABqNgIMIAMoAgwoAgAoAgRFBEAgACgCUCAAKAJYNgIAIAAgACgCWEEEajYCXAwDCyAAKAJQIAAoAhg2AgAgACAAKAJQKAIANgJcDAILIAAgByAAKAJQIAAoAkgQhgE2AlwMAQsgACgCUCAAKAJYNgIAIAAoAkwgACgCWDYCACAAIAAoAkw2AlwLIAAoAlwhAyAAQeAAaiQAIAEgAzYCMCABIAEoAjAoAgA2AiQgAUEAOgAjIAEoAjAoAgBFBEAgASgCPCEDIwBBIGsiACQAIAAgDDYCHCAAIAM2AhggACAAKAIcEGA2AhQgAEEAOgATIAAoAhQQtQEhAyAAQQhqIgcgACgCFEEAEFQgAUEQaiIEIAMgBxBTIAAoAhQhByAEEBZBEGoQLCEJIAAoAhghCiMAQRBrIgMkACADIAc2AgwgAyAJNgIIIAMgCjYCBCADKAIMIQkgAygCCCEKIAMoAgQhCCMAQRBrIgckACAHIAk2AgwgByAKNgIIIAcgCDYCBCAHKAIIIAcoAgRB2AAQGxogB0EQaiQAIANBEGokACAEED9BAToABCAAQQE6ABMgAC0AE0EBcUUEQCAEEGILIABBIGokACAMIAEoAjggASgCMCAEEBYQtgEgASAEEEI2AiQgAUEBOgAjIAQQYgsgASgCJCEDIwBBEGsiACABQQhqIgQ2AgwgACADNgIIIAAoAgwgACgCCDYCACAFQRBqIAQgAUEjahBhIAFB0ABqJAAgBSAFKAIQNgIoIAUoAighACAFQTBqJAAgBiAANgIQIwBBEGsiACAGKAIQNgIIIAAgBkEoajYCBCAAKAIEIAAoAgg2AgAgBigCKCEAIAZBMGokACACIAA2AgggAiACKAIoQdgAajYCKAwBCwsgAkEwaiQAIAtBIGokAAs0AQF/IwBBIGsiASQAIAEgADYCHCABQQA2AhggASgCHCABQRBqIAFBCGoQwQEgAUEgaiQAC4wCAQJ/IwBBEGsiASQAIAEgADYCDCABIAEoAgwoAgA2AgggASgCDCABKAIIKAIENgIAIAEoAgwoAgAEQCMAQRBrIgAgASgCDCICKAIANgIMIAAgAjYCCCAAKAIMIAAoAgg2AggLIAEoAgggASgCDCgCCDYCCCMAQRBrIgAgASgCDDYCDAJAIAAoAgwiACAAKAIIKAIARgRAIAEoAgwoAgggASgCCDYCAAwBCyABKAIIIQAjAEEQayICIAEoAgw2AgwgAigCDCgCCCAANgIECyABKAIIIAEoAgw2AgQgASgCCCECIwBBEGsiACABKAIMNgIMIAAgAjYCCCAAKAIMIAAoAgg2AgggAUEQaiQAC4wCAQJ/IwBBEGsiASQAIAEgADYCDCABIAEoAgwoAgQ2AgggASgCDCABKAIIKAIANgIEIAEoAgwoAgQEQCMAQRBrIgAgASgCDCICKAIENgIMIAAgAjYCCCAAKAIMIAAoAgg2AggLIAEoAgggASgCDCgCCDYCCCMAQRBrIgAgASgCDDYCDAJAIAAoAgwiACAAKAIIKAIARgRAIAEoAgwoAgggASgCCDYCAAwBCyABKAIIIQAjAEEQayICIAEoAgw2AgwgAigCDCgCCCAANgIECyABKAIIIAEoAgw2AgAgASgCCCECIwBBEGsiACABKAIMNgIMIAAgAjYCCCAAKAIMIAAoAgg2AgggAUEQaiQAC1cBAn8jAEEQayICJAAgAiAANgIMIAIgATYCCCMAQRBrIgEgAigCCCIDQThqNgIMIAIgASgCDCIBKAIEIAEoAgBrIANBOGoQGRB7IAAgAhB4IAJBEGokAAsqAQF/IwBBEGsiASQAIAEgADYCDCABKAIMIgAQhwEaIAAQIiABQRBqJAALsgUBCX8jAEEgayIEJAAgBCAANgIcIAQgATcDECAEKAIcIQMgBEEANgIMIAMQFiECIANBFGoQGSEFIAMoAiAhBiADKAJEIQcjAEHgAGsiACQAIAAgAjYCWCAAIAU2AlQgACAGNgJQIAAgBEEMajYCTCAAIAc2AkggACgCWCECIABBADYCRAJAAkAgAigCBEUEQCAAQQo2AkQMAQsgAEEAOgBfDAELIABBOGoQLgJAIAAoAkhFBEAgAEEoaiICIAAoAlQgACgCUBCfASAAQThqIAIQNiACECcMAQsCQCAAKAJIQQFGBEAgAEEYaiICIAAoAlQgACgCUBCeASAAQThqIAIQNiACECcMAQsCQCAAKAJIQQJGBEAgAEEIaiICIAAoAlQgACgCUBCdASAAQThqIAIQNiACECcMAQsgACgCSEEDRgRAIABBADYCBCAAQThqIABBBGogAEHQAGoQUAsLCwsgACgCREERaiEIIwBBEGsiAiAAQThqIgU2AgwgCCACKAIMIgIoAgQgAigCAGtBA3VsIQIgACgCTCAAKAJQIAJqNgIAIABBAToAXyAFECcLIAAtAF8aIABB4ABqJAAgBCgCDCECIwBBEGsiACQAIAAgAzYCDCAAIAI2AggjAEEQayICIAAoAgwiBUEkajYCDCAAKAIIIAIoAgwiAigCBCACKAIAa0sEQCAFQSRqIAAoAggQiQELIABBEGokACAEIAMQFiIAIAQpAxAgA0EUahAZIAMoAiAgAygCRCADQSRqIgIQGSEKIANBMGohCSMAQRBrIgUgAjYCDCAKIAkgBSgCDCICKAIEIAIoAgBrIAAoAgAoAggREAAjAEEQayIAIAQ2AgwgAyAAKAIMKAIENgI0IAMoAjAhACMAQRBrIgMgBDYCDCADKAIMGiAEQSBqJAAgAAs5AQF/IwBBEGsiASQAIAEgADYCDCMAQRBrIgAgASgCDCgCCDYCDCAAKAIMLQACIQAgAUEQaiQAIAAL0xUBBX8jAEFAaiIMJAAgDCAANgI8IAwgATYCOCAMIAM2AjQgDCAENgIwIAwgBTYCLCAMIAY2AiggDCAHNgIkIAwgCDYCICAMIAk2AhwgDCAKNgIYIAwgCzYCFAJAAkAgDCgCOCIFKAIERQRAIAxBCjYCEAwBCyMAQRBrIgEgADYCDCABQQI2AgggASgCDCIAQaQzNgIAIAAgASgCCDYCBCAMQQE2AgwMAQsgDCAMKAIQEB82AggCQCAFIAxBCGoQFiEQIAwoAhAhDiMAQRBrIgEgAjYCDCAQIA4hDyABKAIMKAIAIgEgASgCACgCKBEAACENIwBBEGsiASACNgIMIA8gDSABKAIMKAIAIgEgASgCACgCLBEAACAMKAIoIAwoAiQgDCgCGCAMKAIUIAwoAiAgDCgCHCAMKAIQaxC6AUEBcUUEQCMAQRBrIgEgADYCDCABQQI2AgggASgCDCIAQaQzNgIAIAAgASgCCDYCBCAMQQE2AgwMAQsgDCgCICAMKAIcaiIBIAwoAhBrIQQgDEEIahAWIQYjAEEQayIDJAAgAyAENgIMIAMgATYCCCADIAY2AgQgAygCDCEEIAMoAgghBiADKAIEIQcjAEEgayIBJAAgASAENgIUIAEgBjYCECABIAc2AgwCQANAIAEoAhQgASgCEEcEQCABKAIUIQYgASgCDCEHIwBBEGsiBCABQRhqNgIMIAQgBjYCCCAEIAc2AgQgBCgCCC0AACAEKAIELQAARgRAIAEgASgCFEEBajYCFCABIAEoAgxBAWo2AgwMAgUgAUEAOgAfDAMLAAsLIAFBAToAHwsgAS0AH0EBcSEEIAFBIGokACAEQQFxIQEgA0EQaiQAIAFFBEAjAEEQayIBIAA2AgwgAUEDNgIIIAEoAgwiAEGkMzYCACAAIAEoAgg2AgQgDEEBNgIMDAELIAwgDCgCHCAMKAIQazYCBCAMIAwoAgQQHzYCACAMEBYhASMAQRBrIgMgAjYCDCADKAIMKAIAIgMgAygCACgCIBEAACEEIwBBEGsiAyACNgIMIAMoAgwoAgAiAyADKAIAKAIkEQAAIQYgDCgCKCEHIAwoAiQhCCAMKAIgIQkgDCgCHCAMKAIQayEKIwBBQGoiAyQAIAMgBTYCOCADIAE2AjQgAyAENgIwIAMgBjYCLCADIAc2AiggAyAINgIkIAMgCTYCICADIAo2AhwCQCADKAI4IgEoAgwgAygCJEkEQCADQQA6AD8MAQsgAyABKAIMEB82AhggA0EYahAWIAMoAiggAygCJBAbGiADEOIBNgIUAkAgAygCFEUEQCADQQA6AD8MAQsgAygCFCEEEJcBIQUgAygCMCEGIANBGGoQFiEHIwBBIGsiASQAIAEgBDYCHCABIAU2AhggAUEANgIUIAEgBjYCECABIAc2AgwgASgCHCABKAIYIAEoAhQgASgCECABKAIMQQAQ3wEhBCABQSBqJAAgBEUEQCADKAIUEDMgA0EAOgA/DAELIAMoAhQhBCADKAI0IQUgAygCICEGIAMoAhwhByMAQTBrIgEkACABIAQ2AiggASAFNgIkIAEgA0EMajYCICABIAY2AhwgASAHNgIYAkAgASgCKCgChAEEQEEeQcIAQfQSQZMDEBwgAUEANgIsDAELIAEgASgCKCgCACgCBDYCFAJAIAEoAhRBAU0NACABKAIYQf////8HIAEoAhRrTA0AQR5BxQBB9BJBmwMQHCABQQA2AiwMAQsgASgCKCgCACgCFEGACHEEQCABIAEoAigiBCABKAIkIAEoAhwgASgCGCAEKAIAKAIgEQYANgIQIAEoAhBBAEgEQCABKAIgQQA2AgAgAUEANgIsDAILIAEoAiAgASgCEDYCACABQQE2AiwMAQsgASgCGEEATARAIAEoAiBBADYCACABIAEoAhhFNgIsDAELIAEoAigoAhRBgBBxBEAgASABKAIoIAEoAiQgASgCICABKAIcIAEoAhgQmAE2AiwMAQsgASgCFEEgSwRAQZgjQfQSQbMDQdIPEAAACyABQQA2AgwgASgCKCgCYARAIAEoAiQgASgCKEHkAGogASgCFBAeIAEgASgCFCABKAIkajYCJCABQQE2AgwLIAEoAiggASgCJCABKAIgIAEoAhwgASgCGBCYAUUEQCABQQA2AiwMAQsCQAJAIAEoAhRBAU0NACABKAIoKAJYDQAgASgCICIEIAQoAgAgASgCFGs2AgAgASgCKEEBNgJgIAEoAihB5ABqIAEoAiQgASgCICgCAGogASgCFBAeDAELIAEoAihBADYCYAsgASgCDARAIAEoAiAiBCABKAIUIAQoAgBqNgIACyABQQE2AiwLIAEoAiwhBCABQTBqJAAgBEUEQCADKAIUEDMgA0EAOgA/DAELIAMgAygCDDYCCCADKAIUIQQgAygCNCADKAIMaiEFIwBBIGsiASQAIAEgBDYCGCABIAU2AhQgASADQQxqNgIQIAEoAhBBADYCAAJAIAEoAhgoAoQBBEBBHkHCAEH0EkHWAxAcIAFBADYCHAwBCwJAIAEoAhgoAgAoAhRBgAhxBEAgASABKAIYIgQgASgCFEEAQQAgBCgCACgCIBEGADYCDCABKAIMQQBIBEAgAUEANgIcDAMLIAEoAhAgASgCDDYCAAwBCyABIAEoAhgoAgAoAgQ2AgQgASgCGCgCFEGAEHEEQCABKAIYKAJYBEBBHkHqAEH0EkHnAxAcIAFBADYCHAwDCyABKAIQQQA2AgAMAQsCQCABKAIEQQFLBEACQCABKAIYKAJYRQRAIAEoAhgoAmANAQtBHkH7AEH0EkHwAxAcIAFBADYCHAwECyABKAIEQSBLBEBBmCNB9BJB8wNBqQkQAAALIAEgASgCGCABKAIEai0AYzYCCAJAIAEoAggEQCABKAIIIAEoAgRMDQELQR5B5QBB9BJB+QMQHCABQQA2AhwMBAsgAUEANgIMA0AgASgCDCABKAIISARAIAEoAhhB5ABqIQQgASABKAIEQQFrIgU2AgQgBCAFai0AACABKAIIRwRAQR5B5QBB9BJB/wMQHCABQQA2AhwMBgUgASABKAIMQQFqNgIMDAILAAsLIAEgASgCGCgCACgCBCABKAIIazYCCCABQQA2AgwDQCABKAIMIAEoAghIBEAgASgCDCIEIAEoAhRqIAQgASgCGEHkAGpqLQAAOgAAIAEgASgCDEEBajYCDAwBCwsgASgCECABKAIINgIADAELIAEoAhBBADYCAAsLIwBBEGsgASgCGDYCDCABQQE2AhwLIAEoAhwhBCABQSBqJAAgBEUEQCADKAIUEDMgA0EAOgA/DAELIAMgAygCDCADKAIIajYCCCADKAIIIAMoAhxHBEAgAygCFBAzIANBADoAPwwBCyADKAIUEDMgA0EBOgA/CyADQQE2AhAgA0EYahAaCyADLQA/QQFxIQEgA0FAayQAAkAgAUUEQCMAQRBrIgEgADYCDCABQQI2AggMAQsgDCgCLCAMKAIESQRAIwBBEGsiASAANgIMIAFBAjYCCAwBCyAMKAI0IAwQFiAMKAIEEBsaIAwoAjAgDCgCBDYCACMAQRBrIgEgADYCDCABQQA2AggLIAEoAgwiAEGkMzYCACAAIAEoAgg2AgQgDEEBNgIMIAwQGgsgDEEIahAaCyACEDggDEFAayQAC8MFAQh/IwBBEGsiByQAIAcgADYCDCAHIAE2AghByAAQLyEJIAcoAgwoAgAhACAHKAIIKAIAIQIjAEEQayIBJAAgASAJNgIMIAEgADYCCCABIAI2AgQgASgCDCIGECogBkEEahAuIAZBFGoQLiAGQSRqEC4gBkE4ahAuIAZBAzYCRCABKAIIIQIgASgCBCEEIwBBIGsiACQAIAAgAjYCFCAAIAQ2AhACQCAAKAIURQRAIwBBEGsiAiQAIAIgAEEQajYCBEE0EC8iBCACKAIEKAIAEJYCGiACQQhqIAQQXyACKAIIIQQgAkEQaiQAIAAgBDYCCCAAQRhqIABBCGoiAhCxASMAQRBrIgQkACAEIAI2AgwgBCgCDCEDIwBBEGsiAiQAIAIgAzYCDCACQQA2AgggAiACKAIMIgMQFygCADYCBCACKAIIIQUgAxAXIAU2AgAgAigCBARAIAMQFyEFIAIoAgQhCCMAQRBrIgMkACADIAU2AgwgAyAINgIIIAMoAggiBQRAIAUQpwEaIAUQIgsgA0EQaiQACyACQRBqJAAMAQsjAEEQayICJAAgAiAAQRBqNgIEQSQQLyIEIAIoAgQoAgAQkwIaIAJBCGogBBBfIAIoAgghBCACQRBqJAAgACAENgIAIABBGGogABCxASMAQRBrIgQkACAEIAA2AgwgBCgCDCEDIwBBEGsiAiQAIAIgAzYCDCACQQA2AgggAiACKAIMIgMQFygCADYCBCACKAIIIQUgAxAXIAU2AgAgAigCBARAIAMQFyEFIAIoAgQhCCMAQRBrIgMkACADIAU2AgwgAyAINgIIIAMoAggiBQRAIAUQpAEaIAUQIgsgA0EQaiQACyACQRBqJAALIARBEGokACAAKAIYIQIgAEEgaiQAIAEgAjYCACAGIAEQwgEgARBzIAFBEGokACAHQRBqJAAgCQv9DAEFfyMAQdAAayIMJAAgDCAANgJMIAwgATYCSCAMIAM2AkQgDCAENgJAIAwgBTYCPCAMIAY2AjggDCAHNgI0IAwgCDYCMCAMIAk2AiwgDCAKNgIoIAwgCzYCJCAMKAJIIQQgDCAMKAIsNgIgIAwgDCgCIBAfNgIYIAxBGGoQFiEDIwBBEGsiASACNgIMIAEoAgwoAgAiASABKAIAKAIgEQAAIQUjAEEQayIBIAI2AgwgASgCDCgCACIBIAEoAgAoAiQRAAAhBiAMKAI4IQcgDCgCNCEIIAwoAjAhCSAMKAIsIQojAEFAaiIBJAAgASAENgI4IAEgAzYCNCABIAU2AjAgASAGNgIsIAEgBzYCKCABIAg2AiQgASAJNgIgIAEgCjYCHAJAIAEoAjgiAygCDCABKAIkSQRAIAFBADoAPwwBCyABIAMoAgwQHzYCGCABQRhqEBYgASgCKCABKAIkEBsaIAEQ4gE2AhQCQCABKAIURQRAIAFBADoAPwwBCyABKAIUIQUQlwEhBiABKAIwIQcgAUEYahAWIQgjAEEgayIDJAAgAyAFNgIcIAMgBjYCGCADQQA2AhQgAyAHNgIQIAMgCDYCDCADKAIcIAMoAhggAygCFCADKAIQIAMoAgxBARDfASEFIANBIGokACAFRQRAIAEoAhQQMyABQQA6AD8MAQsgASgCFCABKAI0IAFBDGogASgCICABKAIcEJgBRQRAIAEoAhQQMyABQQA6AD8MAQsgASABKAIMNgIIIAEoAhQhBSABKAI0IAEoAgxqIQYjAEEwayIDJAAgAyAFNgIoIAMgBjYCJCADIAFBDGo2AiACQCADKAIoKAKEAQRAQR5BwgBB9BJB4QIQHCADQQA2AiwMAQsCQCADKAIoKAIAKAIUQYAIcQRAIAMgAygCKCIFIAMoAiRBAEEAIAUoAgAoAiARBgA2AgwgAygCDEEASARAIANBADYCLAwDCyADKAIgIAMoAgw2AgAMAQsgAyADKAIoKAIAKAIENgIUIAMoAhRBIEsEQEGJJEH0EkHyAkGVCRAAAAsgAygCFEEBRgRAIAMoAiBBADYCAAwBCyADIAMoAigoAlg2AhAgAygCKCgCFEGAEHEEQCADKAIQBEBBHkHqAEH0EkH7AhAcIANBADYCLAwDCyADKAIgQQA2AgAMAQsgAyADKAIUIAMoAhBrNgIcIAMgAygCEDYCGANAIAMoAhggAygCFEkEQCADKAIYIAMoAihBOGpqIAMoAhw6AAAgAyADKAIYQQFqNgIYDAELCyADKAIoIgUgAygCJCAFQThqIAMoAhQgBSgCACgCIBEGAEUEQCADQQA2AiwMAgsgAygCICADKAIUNgIACyMAQRBrIAMoAig2AgwgA0EBNgIsCyADKAIsIQUgA0EwaiQAIAVFBEAgASgCFBAzIAFBADoAPwwBCyABIAEoAgwgASgCCGo2AgggASgCCCABKAIcRwRAIAEoAhQQMyABQQA6AD8MAQsgASgCFBAzIAFBAToAPwsgAUEBNgIQIAFBGGoQGgsgAS0AP0EBcSEDIAFBQGskAAJAIANFBEAjAEEQayIBIAA2AgwgAUEBNgIIIAEoAgwiAEGkMzYCACAAIAEoAgg2AgQgDEEBNgIUDAELAkAgBCgCBEUEQCAMQQo2AhAMAQsjAEEQayIBIAA2AgwgAUEBNgIIIAEoAgwiAEGkMzYCACAAIAEoAgg2AgQgDEEBNgIUDAELIAwgDCgCEBAfNgIIAkAgBCAMQQhqEBYhECAMKAIQIQ4jAEEQayIBIAI2AgwgECAOIQ8gASgCDCgCACIBIAEoAgAoAigRAAAhDSMAQRBrIgEgAjYCDCAPIA0gASgCDCgCACIBIAEoAgAoAiwRAAAgDCgCOCAMKAI0IAwoAiggDCgCJCAMQRhqEBYgDCgCIBC6AUEBcUUEQCMAQRBrIgEgADYCDCABQQE2AggMAQsgDCgCPCAMKAIgIAwoAhBqSQRAIwBBEGsiASAANgIMIAFBATYCCAwBCyAMKAJEIAxBGGoQFiAMKAIgEBsaIAwoAkQgDCgCIGogDEEIahAWIAwoAhAQGxogDCgCQCAMKAIgIAwoAhBqNgIAIwBBEGsiASAANgIMIAFBADYCCAsgASgCDCIAQaQzNgIAIAAgASgCCDYCBCAMQQE2AhQgDEEIahAaCyAMQRhqEBogAhA4IAxB0ABqJAALKQEBfyMAQRBrIgEkACABIAA2AgwgASgCDCIAEFYaIAAQIiABQRBqJAALnAEBAX8jAEEQayIDJAAgAyAANgIMIAMgATYCCCADIAI2AgQjAEEQayIAIAMoAgg2AgwgACgCDCECIAMoAgwiACgCBCEBIAAoAgAhACABQQF1IAJqIQIgAUEBcQRAIAIoAgAgAGooAgAhAAsjAEEQayIBIAMoAgQ2AgwgAyACIAEoAgwgABEDACADEL4BIQAgAxC9ASADQRBqJAAgAAuMAQEBfyMAQRBrIgMkACADIAA2AgwgAyABNgIIIAMgAjYCBCMAQRBrIgAgAygCCDYCDCAAKAIMIQIgAygCDCIAKAIEIQEgACgCACEAIAFBAXUgAmohAiABQQFxBEAgAigCACAAaigCACEACyMAQRBrIgEgAygCBDYCDCACIAEoAgwgABECACADQRBqJAALqQEBAn8jAEEQayIDJAAgAyAANgIMIAMgATYCCCADIAI3AwAjAEEQayIAIAMoAgg2AgwgACgCDCEEIAMoAgwiACgCBCEBIAAoAgAhACABQQF1IARqIQQgAUEBcQRAIAQoAgAgAGooAgAhAAsjAEEQayIBIAMpAwA3AwggBCABKQMIIAARCwBBAXEhACMAQRBrIgEgADoADyABLQAPQQFxIQAgA0EQaiQAIAALfgECfyMAQRBrIgIkACACIAA2AgwgAiABNgIIIwBBEGsiACACKAIINgIMIAAoAgwhAyACKAIMIgAoAgQhASAAKAIAIQAgAiABQQF1IANqIgMgAUEBcQR/IAMoAgAgAGooAgAFIAALEQIAIAIQvgEhACACEL0BIAJBEGokACAAC2UBA38jAEEQayIBJAAgASAANgIMIAEoAgwiAwRAIwBBEGsiAiQAIAIgAzYCDCACKAIMIgBBOGoQdSAAQSRqEHUgAEEUahB1IABBBGoQdSAAEHMgAkEQaiQAIAMQIgsgAUEQaiQACysBAX8jAEEQayIBJAAgASAANgIMIwBBEGsgASgCDDYCDCABQRBqJABBtCcLrAEBAn8jAEEgayIDJAAgAyAANgIcIAMgATYCGCADIAI3AxAjAEEQayIAIAMoAhg2AgwgACgCDCEEIAMoAhwiACgCBCEBIAAoAgAhACABQQF1IARqIQQgAUEBcQRAIAQoAgAgAGooAgAhAAsjAEEQayIBIAMpAxA3AwggAyAEIAEpAwggABELADYCDCMAQRBrIgAgA0EMajYCDCAAKAIMKAIAIQAgA0EgaiQAIAALDAAjAEEQayAANgIMCxsAIAAgASgCCCAFECAEQCABIAIgAyAEEIwBCws4ACAAIAEoAgggBRAgBEAgASACIAMgBBCMAQ8LIAAoAggiACABIAIgAyAEIAUgACgCACgCFBEKAAugAgEHfyAAIAEoAgggBRAgBEAgASACIAMgBBCMAQ8LIAEtADUhBiAAKAIMIQggAUEAOgA1IAEtADQhByABQQA6ADQgAEEQaiIMIAEgAiADIAQgBRCLASAGIAEtADUiCnIhBiAHIAEtADQiC3IhBwJAIABBGGoiCSAMIAhBA3RqIghPDQADQCAHQQFxIQcgBkEBcSEGIAEtADYNAQJAIAsEQCABKAIYQQFGDQMgAC0ACEECcQ0BDAMLIApFDQAgAC0ACEEBcUUNAgsgAUEAOwE0IAkgASACIAMgBCAFEIsBIAEtADUiCiAGciEGIAEtADQiCyAHciEHIAlBCGoiCSAISQ0ACwsgASAGQf8BcUEARzoANSABIAdB/wFxQQBHOgA0C6cBACAAIAEoAgggBBAgBEACQCABKAIEIAJHDQAgASgCHEEBRg0AIAEgAzYCHAsPCwJAIAAgASgCACAEECBFDQACQCACIAEoAhBHBEAgASgCFCACRw0BCyADQQFHDQEgAUEBNgIgDwsgASACNgIUIAEgAzYCICABIAEoAihBAWo2AigCQCABKAIkQQFHDQAgASgCGEECRw0AIAFBAToANgsgAUEENgIsCwuIAgAgACABKAIIIAQQIARAAkAgASgCBCACRw0AIAEoAhxBAUYNACABIAM2AhwLDwsCQCAAIAEoAgAgBBAgBEACQCACIAEoAhBHBEAgASgCFCACRw0BCyADQQFHDQIgAUEBNgIgDwsgASADNgIgAkAgASgCLEEERg0AIAFBADsBNCAAKAIIIgAgASACIAJBASAEIAAoAgAoAhQRCgAgAS0ANQRAIAFBAzYCLCABLQA0RQ0BDAMLIAFBBDYCLAsgASACNgIUIAEgASgCKEEBajYCKCABKAIkQQFHDQEgASgCGEECRw0BIAFBAToANg8LIAAoAggiACABIAIgAyAEIAAoAgAoAhgRCAALC24BAX8jAEEgayIDJAAgAyAANgIcIAMgATYCGCADIAI2AhQgAygCHCEAIAMgAygCGBAXNgIQIAMgAygCFBAXNgIMIANBEGogA0EMaiAAEQQAIQAjAEEQayIBIAA2AgwgASgCDCEAIANBIGokACAAC6oEAQN/IAAgASgCCCAEECAEQAJAIAEoAgQgAkcNACABKAIcQQFGDQAgASADNgIcCw8LAkAgACABKAIAIAQQIARAAkAgAiABKAIQRwRAIAEoAhQgAkcNAQsgA0EBRw0CIAFBATYCIA8LIAEgAzYCICABKAIsQQRHBEAgAEEQaiIFIAAoAgxBA3RqIQdBACEDIAECfwJAA0ACQCAFIAdPDQAgAUEAOwE0IAUgASACIAJBASAEEIsBIAEtADYNAAJAIAEtADVFDQAgAS0ANARAQQEhAyABKAIYQQFGDQRBASEGIAAtAAhBAnENAQwEC0EBIQYgAC0ACEEBcUUNAwsgBUEIaiEFDAELC0EEIAZFDQEaC0EDCzYCLCADQQFxDQILIAEgAjYCFCABIAEoAihBAWo2AiggASgCJEEBRw0BIAEoAhhBAkcNASABQQE6ADYPCyAAKAIMIQYgAEEQaiIHIAEgAiADIAQQZiAAQRhqIgUgByAGQQN0aiIGTw0AAkAgACgCCCIAQQJxRQRAIAEoAiRBAUcNAQsDQCABLQA2DQIgBSABIAIgAyAEEGYgBUEIaiIFIAZJDQALDAELIABBAXFFBEADQCABLQA2DQIgASgCJEEBRg0CIAUgASACIAMgBBBmIAVBCGoiBSAGSQ0ADAILAAsDQCABLQA2DQEgASgCJEEBRgRAIAEoAhhBAUYNAgsgBSABIAIgAyAEEGYgBUEIaiIFIAZJDQALCwuHBQEEfyMAQUBqIgYkAAJAIAFB7OQAQQAQIARAIAJBADYCAEEBIQQMAQsCQCAAIAEgAC0ACEEYcQR/QQEFIAFFDQEgAUHg4gAQKyIDRQ0BIAMtAAhBGHFBAEcLECAhBQsgBQRAQQEhBCACKAIAIgBFDQEgAiAAKAIANgIADAELAkAgAUUNACABQZDjABArIgVFDQEgAigCACIBBEAgAiABKAIANgIACyAFKAIIIgMgACgCCCIBQX9zcUEHcQ0BIANBf3MgAXFB4ABxDQFBASEEIAAoAgwgBSgCDEEAECANASAAKAIMQeDkAEEAECAEQCAFKAIMIgBFDQIgAEHE4wAQK0UhBAwCCyAAKAIMIgNFDQBBACEEIANBkOMAECsiAQRAIAAtAAhBAXFFDQICfyAFKAIMIQBBACECAkADQEEAIABFDQIaIABBkOMAECsiA0UNASADKAIIIAEoAghBf3NxDQFBASABKAIMIAMoAgxBABAgDQIaIAEtAAhBAXFFDQEgASgCDCIARQ0BIABBkOMAECsiAQRAIAMoAgwhAAwBCwsgAEGA5AAQKyIARQ0AIAAgAygCDBDDASECCyACCyEEDAILIANBgOQAECsiAQRAIAAtAAhBAXFFDQIgASAFKAIMEMMBIQQMAgsgA0Gw4gAQKyIBRQ0BIAUoAgwiAEUNASAAQbDiABArIgNFDQEgBkEIaiIAQQRyQQBBNBBGIAZBATYCOCAGQX82AhQgBiABNgIQIAYgAzYCCCADIAAgAigCAEEBIAMoAgAoAhwRBwACQCAGKAIgIgBBAUcNACACKAIARQ0AIAIgBigCGDYCAAsgAEEBRiEEDAELQQAhBAsgBkFAayQAIAQLawECfyAAIAEoAghBABAgBEAgASACIAMQjQEPCyAAKAIMIQQgAEEQaiIFIAEgAiADEMQBAkAgAEEYaiIAIAUgBEEDdGoiBE8NAANAIAAgASACIAMQxAEgAS0ANg0BIABBCGoiACAESQ0ACwsLMgAgACABKAIIQQAQIARAIAEgAiADEI0BDwsgACgCCCIAIAEgAiADIAAoAgAoAhwRBwALGQAgACABKAIIQQAQIARAIAEgAiADEI0BCwueAQECfyMAQUBqIgMkAAJ/QQEgACABQQAQIA0AGkEAIAFFDQAaQQAgAUGw4gAQKyIBRQ0AGiADQQhqIgRBBHJBAEE0EEYgA0EBNgI4IANBfzYCFCADIAA2AhAgAyABNgIIIAEgBCACKAIAQQEgASgCACgCHBEHACADKAIgIgBBAUYEQCACIAMoAhg2AgALIABBAUYLIQAgA0FAayQAIAALJAEBf0GE6wAoAgAiAARAA0AgACgCABEJACAAKAIEIgANAAsLC4UBAQN/AkAgACgCBCICIgBBA3EEQANAIAAtAABFDQIgAEEBaiIAQQNxDQALCwNAIAAiAUEEaiEAIAEoAgAiA0F/cyADQYGChAhrcUGAgYKEeHFFDQALA0AgASIAQQFqIQEgAC0AAA0ACwsgACACa0EBaiIAEDsiAQR/IAEgAiAAEBsFQQALC50BAQF/IwBBMGsiASQAIAEgADYCLAJAIAEoAixFDQAgAUEQakHw6gBBFBAeIAEgASgCLDYCCCABQQA2AgwDQCABKAIMQQVJBEAgAUEQaiABKAIMQQJ0aigCAARAIAEoAgxBAnQiACABKAIIaigCACAAIAFBEGpqKAIAEQEACyABIAEoAgxBAWo2AgwMAQsLIAEoAggQIgsgAUEwaiQAC1cBAX9BzOoAAn8DQCAAQaDrAGotAABFBEAgAEGg6wBqQQE6AAAgAEECdEGg7ABqQQA2AgBB0OoAIAA2AgBBAAwCCyAAQQFqIgBBgAFHDQALQQYLRTYCAAs/AQF/IwBBEGsiAyQAIAMgADYCDCADIAE2AgggAyACNgIEIAMoAgggAygCBCADKAIMEQQAIQAgA0EQaiQAIAALMwEBfyMAQRBrIgIkACACIAA2AgwgAiABNgIIIAIoAgggAigCDBEAACEAIAJBEGokACAAC0UBAX8jAEEQayICJAAgAiAANgIMIAIgATYCCCACKAIIIAIoAgwoAgQQkwFFBEBB9iRBzRFBtwFBtAwQAAALIAJBEGokAAtQAQF/IwBBEGsiAyQAIAMgADYCDCADIAE2AgggAyACNgIEIAMoAgwoAgQgAygCCCADKAIEEDVFBEBB7yJBzRFBswFBsg8QAAALIANBEGokAAs5AQF/IwBBEGsiASQAIAEgADYCDCABKAIMKAIEEJQBRQRAQdwkQc0RQa8BQZoKEAAACyABQRBqJAALuAEBAX8jAEEgayIEJAAgBCAANgIcIAQgATYCGCAEIAI2AhQgBCADNgIQIAQgBCgCHCgCCDYCDAJAIAQoAgwoAvwBBEAgBCgCFCAEKAIYIAQoAhAgBCgCDCIBIAQoAhwiAEEoaiAAQThqIABB3ABqIAEoAvwBEOgBDAELIAQoAhQgBCgCGCAEKAIQIAQoAgwiASAEKAIcIgBBKGogAEE4aiAAQdwAaiABKAL4ARDnAQsgBEEgaiQAQQELxQMBAX8jAEEgayIEJAAgBCAANgIYIAQgATYCFCAEIAI2AhAgBCADNgIMIAQgBCgCGCgCCDYCBCAEIAQoAhgoAgAoAhRBP3E2AgAgBCgCAEEFRgRAAkACQAJAIAQoAhgoAgxBEGsOEQACAgICAgICAgICAgICAgIBAgsjAEEQa0ECNgIMDAELIwBBEGtBAzYCDAsLAkACQCAEKAIAQQFHBEAgBCgCAEECRw0BCyAEKAIMDQAgBCgCFCEBIAQoAhgoAgxBA3QhAiAEKAIEIQMjAEEQayIAJAAgACABNgIMIAAgAjYCCCAAIAM2AgQgACgCDCAAKAIIIAAoAgQQmwEhASAAQRBqJAAgBCABNgIIIAQoAgRB3QA2AvgBIAQoAgRBADYC/AEgBCgCAEECRgRAIAQoAgRB3gA2AvwBCwwBCyAEIAQoAhQgBCgCGCgCDEEDdCAEKAIEEJsBNgIIIAQoAgRBzQA2AvgBIAQoAgRBADYC/AEgBCgCAEECRgRAIAQoAgRB3gA2AvwBCwsCQCAEKAIIQQBIBEBBHkHkAEGHEkHkARAcIARBADYCHAwBCyAEQQE2AhwLIAQoAhwhACAEQSBqJAAgAAvRNgEBfyMAQZABayIDJAAgAyAANgKMASADIAE2AogBIAMgAjYChAEDQCADIAMoAoQBIgBBAWs2AoQBIAAEQCADIAMoAowBKAIANgKAASADIAMoAowBKAIENgJ8IAMgAygCjAEoAgg2AnggAyADKAKMASgCDDYCdCADIAMoAowBKAIQNgJwIAMgAygCjAEoAhQ2AmwgAyADKAKMASgCGDYCaCADIAMoAowBKAIcNgJkIAMgAygCiAEQJCIANgIQIAMgADYCWCADIAMoAogBQQRqNgKIASADIAMoAmQgAygCcEEGEBUgAygCcEELEBVzIAMoAnBBGRAVc2ogAygCcCADKAJscSADKAJoIAMoAnBBf3Nxc2pBoDQoAgBqIAMoAlhqNgJYIAMgAygCgAFBAhAVIAMoAoABQQ0QFXMgAygCgAFBFhAVcyADKAJ8IgAgAygCgAFxIAMoAngiASADKAKAAXFzIAAgAXFzajYCZCADIAMoAlggAygCdGo2AnQgAyADKAJYIAMoAmRqNgJkIAMgAygCiAEQJCIANgIUIAMgADYCWCADIAMoAogBQQRqNgKIASADIAMoAmggAygCdEEGEBUgAygCdEELEBVzIAMoAnRBGRAVc2ogAygCdCADKAJwcSADKAJsIAMoAnRBf3Nxc2pBpDQoAgBqIAMoAlhqNgJYIAMgAygCZEECEBUgAygCZEENEBVzIAMoAmRBFhAVcyADKAKAASADKAJ8cSADKAJkIAMoAoABcSADKAJkIAMoAnxxc3NqNgJoIAMgAygCWCADKAJ4ajYCeCADIAMoAlggAygCaGo2AmggAyADKAKIARAkIgA2AhggAyAANgJYIAMgAygCiAFBBGo2AogBIAMgAygCbCADKAJ4QQYQFSADKAJ4QQsQFXMgAygCeEEZEBVzaiADKAJ4IAMoAnRxIAMoAnAgAygCeEF/c3FzakGoNCgCAGogAygCWGo2AlggAyADKAJoQQIQFSADKAJoQQ0QFXMgAygCaEEWEBVzIAMoAmQgAygCgAFxIAMoAmggAygCZHEgAygCaCADKAKAAXFzc2o2AmwgAyADKAJYIAMoAnxqNgJ8IAMgAygCWCADKAJsajYCbCADIAMoAogBECQiADYCHCADIAA2AlggAyADKAKIAUEEajYCiAEgAyADKAJwIAMoAnxBBhAVIAMoAnxBCxAVcyADKAJ8QRkQFXNqIAMoAnwgAygCeHEgAygCdCADKAJ8QX9zcXNqQaw0KAIAaiADKAJYajYCWCADIAMoAmxBAhAVIAMoAmxBDRAVcyADKAJsQRYQFXMgAygCaCADKAJkcSADKAJsIAMoAmhxIAMoAmwgAygCZHFzc2o2AnAgAyADKAJYIAMoAoABajYCgAEgAyADKAJYIAMoAnBqNgJwIAMgAygCiAEQJCIANgIgIAMgADYCWCADIAMoAogBQQRqNgKIASADIAMoAnQgAygCgAFBBhAVIAMoAoABQQsQFXMgAygCgAFBGRAVc2ogAygCgAEgAygCfHEgAygCeCADKAKAAUF/c3FzakGwNCgCAGogAygCWGo2AlggAyADKAJwQQIQFSADKAJwQQ0QFXMgAygCcEEWEBVzIAMoAmwgAygCaHEgAygCcCADKAJscSADKAJwIAMoAmhxc3NqNgJ0IAMgAygCWCADKAJkajYCZCADIAMoAlggAygCdGo2AnQgAyADKAKIARAkIgA2AiQgAyAANgJYIAMgAygCiAFBBGo2AogBIAMgAygCeCADKAJkQQYQFSADKAJkQQsQFXMgAygCZEEZEBVzaiADKAJkIAMoAoABcSADKAJ8IAMoAmRBf3Nxc2pBtDQoAgBqIAMoAlhqNgJYIAMgAygCdEECEBUgAygCdEENEBVzIAMoAnRBFhAVcyADKAJwIAMoAmxxIAMoAnQgAygCcHEgAygCdCADKAJscXNzajYCeCADIAMoAlggAygCaGo2AmggAyADKAJYIAMoAnhqNgJ4IAMgAygCiAEQJCIANgIoIAMgADYCWCADIAMoAogBQQRqNgKIASADIAMoAnwgAygCaEEGEBUgAygCaEELEBVzIAMoAmhBGRAVc2ogAygCaCADKAJkcSADKAKAASADKAJoQX9zcXNqQbg0KAIAaiADKAJYajYCWCADIAMoAnhBAhAVIAMoAnhBDRAVcyADKAJ4QRYQFXMgAygCdCADKAJwcSADKAJ4IAMoAnRxIAMoAnggAygCcHFzc2o2AnwgAyADKAJYIAMoAmxqNgJsIAMgAygCWCADKAJ8ajYCfCADIAMoAogBECQiADYCLCADIAA2AlggAyADKAKIAUEEajYCiAEgAyADKAKAASADKAJsQQYQFSADKAJsQQsQFXMgAygCbEEZEBVzaiADKAJsIAMoAmhxIAMoAmQgAygCbEF/c3FzakG8NCgCAGogAygCWGo2AlggAyADKAJ8QQIQFSADKAJ8QQ0QFXMgAygCfEEWEBVzIAMoAnggAygCdHEgAygCfCADKAJ4cSADKAJ8IAMoAnRxc3NqNgKAASADIAMoAlggAygCcGo2AnAgAyADKAJYIAMoAoABajYCgAEgAyADKAKIARAkIgA2AjAgAyAANgJYIAMgAygCiAFBBGo2AogBIAMgAygCZCADKAJwQQYQFSADKAJwQQsQFXMgAygCcEEZEBVzaiADKAJwIAMoAmxxIAMoAmggAygCcEF/c3FzakHANCgCAGogAygCWGo2AlggAyADKAKAAUECEBUgAygCgAFBDRAVcyADKAKAAUEWEBVzIAMoAnwgAygCeHEgAygCgAEgAygCfHEgAygCgAEgAygCeHFzc2o2AmQgAyADKAJYIAMoAnRqNgJ0IAMgAygCWCADKAJkajYCZCADIAMoAogBECQiADYCNCADIAA2AlggAyADKAKIAUEEajYCiAEgAyADKAJoIAMoAnRBBhAVIAMoAnRBCxAVcyADKAJ0QRkQFXNqIAMoAnQgAygCcHEgAygCbCADKAJ0QX9zcXNqQcQ0KAIAaiADKAJYajYCWCADIAMoAmRBAhAVIAMoAmRBDRAVcyADKAJkQRYQFXMgAygCgAEgAygCfHEgAygCZCADKAKAAXEgAygCZCADKAJ8cXNzajYCaCADIAMoAlggAygCeGo2AnggAyADKAJYIAMoAmhqNgJoIAMgAygCiAEQJCIANgI4IAMgADYCWCADIAMoAogBQQRqNgKIASADIAMoAmwgAygCeEEGEBUgAygCeEELEBVzIAMoAnhBGRAVc2ogAygCeCADKAJ0cSADKAJwIAMoAnhBf3Nxc2pByDQoAgBqIAMoAlhqNgJYIAMgAygCaEECEBUgAygCaEENEBVzIAMoAmhBFhAVcyADKAJkIAMoAoABcSADKAJoIAMoAmRxIAMoAmggAygCgAFxc3NqNgJsIAMgAygCWCADKAJ8ajYCfCADIAMoAlggAygCbGo2AmwgAyADKAKIARAkIgA2AjwgAyAANgJYIAMgAygCiAFBBGo2AogBIAMgAygCcCADKAJ8QQYQFSADKAJ8QQsQFXMgAygCfEEZEBVzaiADKAJ8IAMoAnhxIAMoAnQgAygCfEF/c3FzakHMNCgCAGogAygCWGo2AlggAyADKAJsQQIQFSADKAJsQQ0QFXMgAygCbEEWEBVzIAMoAmggAygCZHEgAygCbCADKAJocSADKAJsIAMoAmRxc3NqNgJwIAMgAygCWCADKAKAAWo2AoABIAMgAygCWCADKAJwajYCcCADIAMoAogBECQiADYCQCADIAA2AlggAyADKAKIAUEEajYCiAEgAyADKAJ0IAMoAoABQQYQFSADKAKAAUELEBVzIAMoAoABQRkQFXNqIAMoAoABIAMoAnxxIAMoAnggAygCgAFBf3Nxc2pB0DQoAgBqIAMoAlhqNgJYIAMgAygCcEECEBUgAygCcEENEBVzIAMoAnBBFhAVcyADKAJsIAMoAmhxIAMoAnAgAygCbHEgAygCcCADKAJocXNzajYCdCADIAMoAlggAygCZGo2AmQgAyADKAJYIAMoAnRqNgJ0IAMgAygCiAEQJCIANgJEIAMgADYCWCADIAMoAogBQQRqNgKIASADIAMoAnggAygCZEEGEBUgAygCZEELEBVzIAMoAmRBGRAVc2ogAygCZCADKAKAAXEgAygCfCADKAJkQX9zcXNqQdQ0KAIAaiADKAJYajYCWCADIAMoAnRBAhAVIAMoAnRBDRAVcyADKAJ0QRYQFXMgAygCcCADKAJscSADKAJ0IAMoAnBxIAMoAnQgAygCbHFzc2o2AnggAyADKAJYIAMoAmhqNgJoIAMgAygCWCADKAJ4ajYCeCADIAMoAogBECQiADYCSCADIAA2AlggAyADKAKIAUEEajYCiAEgAyADKAJ8IAMoAmhBBhAVIAMoAmhBCxAVcyADKAJoQRkQFXNqIAMoAmggAygCZHEgAygCgAEgAygCaEF/c3FzakHYNCgCAGogAygCWGo2AlggAyADKAJ4QQIQFSADKAJ4QQ0QFXMgAygCeEEWEBVzIAMoAnQgAygCcHEgAygCeCADKAJ0cSADKAJ4IAMoAnBxc3NqNgJ8IAMgAygCWCADKAJsajYCbCADIAMoAlggAygCfGo2AnwgAyADKAKIARAkIgA2AkwgAyAANgJYIAMgAygCiAFBBGo2AogBIAMgAygCgAEgAygCbEEGEBUgAygCbEELEBVzIAMoAmxBGRAVc2ogAygCbCADKAJocSADKAJkIAMoAmxBf3Nxc2pB3DQoAgBqIAMoAlhqNgJYIAMgAygCfEECEBUgAygCfEENEBVzIAMoAnxBFhAVcyADKAJ4IAMoAnRxIAMoAnwgAygCeHEgAygCfCADKAJ0cXNzajYCgAEgAyADKAJYIAMoAnBqNgJwIAMgAygCWCADKAKAAWo2AoABIANBEDYCDANAIAMoAgxBwABORQRAIAMgA0EQaiICIAMoAgxBAWpBD3FBAnRqKAIANgJgIAMgAygCYEEHEBUgAygCYEESEBVzIAMoAmBBA3ZzNgJgIAMgAygCDEEOakEPcUECdCACaigCADYCXCADIAMoAlxBERAVIAMoAlxBExAVcyADKAJcQQp2czYCXCADKAIMQQ9xQQJ0IAJqIgEoAgAgAygCDEEJakEPcUECdCACaigCACADKAJgIAMoAlxqamohACABIAA2AgAgAyAANgJYIAMgAygCZCADKAJwQQYQFSADKAJwQQsQFXMgAygCcEEZEBVzaiADKAJwIAMoAmxxIAMoAmggAygCcEF/c3FzaiADKAIMQQJ0QaA0aigCAGogAygCWGo2AlggAyADKAKAAUECEBUgAygCgAFBDRAVcyADKAKAAUEWEBVzIAMoAnwiACADKAKAAXEgAygCeCIBIAMoAoABcXMgACABcXNqNgJkIAMgAygCWCADKAJ0ajYCdCADIAMoAlggAygCZGo2AmQgAyADKAIMQQJqQQ9xQQJ0IAJqKAIANgJgIAMgAygCYEEHEBUgAygCYEESEBVzIAMoAmBBA3ZzNgJgIAMgAygCDEEPakEPcUECdCACaigCADYCXCADIAMoAlxBERAVIAMoAlxBExAVcyADKAJcQQp2czYCXCADKAIMQQFqQQ9xQQJ0IAJqIgEoAgAgAygCDEEKakEPcUECdCACaigCACADKAJgIAMoAlxqamohACABIAA2AgAgAyAANgJYIAMgAygCaCADKAJ0QQYQFSADKAJ0QQsQFXMgAygCdEEZEBVzaiADKAJ0IAMoAnBxIAMoAmwgAygCdEF/c3FzaiADKAIMQQJ0QaQ0aigCAGogAygCWGo2AlggAyADKAJkQQIQFSADKAJkQQ0QFXMgAygCZEEWEBVzIAMoAoABIAMoAnxxIAMoAmQgAygCgAFxIAMoAmQgAygCfHFzc2o2AmggAyADKAJYIAMoAnhqNgJ4IAMgAygCWCADKAJoajYCaCADIAMoAgxBA2pBD3FBAnQgAmooAgA2AmAgAyADKAJgQQcQFSADKAJgQRIQFXMgAygCYEEDdnM2AmAgAyADKAIMQRBqQQ9xQQJ0IAJqKAIANgJcIAMgAygCXEEREBUgAygCXEETEBVzIAMoAlxBCnZzNgJcIAMoAgxBAmpBD3FBAnQgAmoiASgCACADKAIMQQtqQQ9xQQJ0IAJqKAIAIAMoAmAgAygCXGpqaiEAIAEgADYCACADIAA2AlggAyADKAJsIAMoAnhBBhAVIAMoAnhBCxAVcyADKAJ4QRkQFXNqIAMoAnggAygCdHEgAygCcCADKAJ4QX9zcXNqIAMoAgxBAnRBqDRqKAIAaiADKAJYajYCWCADIAMoAmhBAhAVIAMoAmhBDRAVcyADKAJoQRYQFXMgAygCZCADKAKAAXEgAygCaCADKAJkcSADKAJoIAMoAoABcXNzajYCbCADIAMoAlggAygCfGo2AnwgAyADKAJYIAMoAmxqNgJsIAMgAygCDEEEakEPcUECdCACaigCADYCYCADIAMoAmBBBxAVIAMoAmBBEhAVcyADKAJgQQN2czYCYCADIAMoAgxBEWpBD3FBAnQgAmooAgA2AlwgAyADKAJcQREQFSADKAJcQRMQFXMgAygCXEEKdnM2AlwgAygCDEEDakEPcUECdCACaiIBKAIAIAMoAgxBDGpBD3FBAnQgAmooAgAgAygCYCADKAJcampqIQAgASAANgIAIAMgADYCWCADIAMoAnAgAygCfEEGEBUgAygCfEELEBVzIAMoAnxBGRAVc2ogAygCfCADKAJ4cSADKAJ0IAMoAnxBf3Nxc2ogAygCDEECdEGsNGooAgBqIAMoAlhqNgJYIAMgAygCbEECEBUgAygCbEENEBVzIAMoAmxBFhAVcyADKAJoIAMoAmRxIAMoAmwgAygCaHEgAygCbCADKAJkcXNzajYCcCADIAMoAlggAygCgAFqNgKAASADIAMoAlggAygCcGo2AnAgAyADKAIMQQVqQQ9xQQJ0IAJqKAIANgJgIAMgAygCYEEHEBUgAygCYEESEBVzIAMoAmBBA3ZzNgJgIAMgAygCDEESakEPcUECdCACaigCADYCXCADIAMoAlxBERAVIAMoAlxBExAVcyADKAJcQQp2czYCXCADKAIMQQRqQQ9xQQJ0IAJqIgEoAgAgAygCDEENakEPcUECdCACaigCACADKAJgIAMoAlxqamohACABIAA2AgAgAyAANgJYIAMgAygCdCADKAKAAUEGEBUgAygCgAFBCxAVcyADKAKAAUEZEBVzaiADKAKAASADKAJ8cSADKAJ4IAMoAoABQX9zcXNqIAMoAgxBAnRBsDRqKAIAaiADKAJYajYCWCADIAMoAnBBAhAVIAMoAnBBDRAVcyADKAJwQRYQFXMgAygCbCADKAJocSADKAJwIAMoAmxxIAMoAnAgAygCaHFzc2o2AnQgAyADKAJYIAMoAmRqNgJkIAMgAygCWCADKAJ0ajYCdCADIAMoAgxBBmpBD3FBAnQgAmooAgA2AmAgAyADKAJgQQcQFSADKAJgQRIQFXMgAygCYEEDdnM2AmAgAyADKAIMQRNqQQ9xQQJ0IAJqKAIANgJcIAMgAygCXEEREBUgAygCXEETEBVzIAMoAlxBCnZzNgJcIAMoAgxBBWpBD3FBAnQgAmoiASgCACADKAIMQQ5qQQ9xQQJ0IAJqKAIAIAMoAmAgAygCXGpqaiEAIAEgADYCACADIAA2AlggAyADKAJ4IAMoAmRBBhAVIAMoAmRBCxAVcyADKAJkQRkQFXNqIAMoAmQgAygCgAFxIAMoAnwgAygCZEF/c3FzaiADKAIMQQJ0QbQ0aigCAGogAygCWGo2AlggAyADKAJ0QQIQFSADKAJ0QQ0QFXMgAygCdEEWEBVzIAMoAnAgAygCbHEgAygCdCADKAJwcSADKAJ0IAMoAmxxc3NqNgJ4IAMgAygCWCADKAJoajYCaCADIAMoAlggAygCeGo2AnggAyADKAIMQQdqQQ9xQQJ0IAJqKAIANgJgIAMgAygCYEEHEBUgAygCYEESEBVzIAMoAmBBA3ZzNgJgIAMgAygCDEEUakEPcUECdCACaigCADYCXCADIAMoAlxBERAVIAMoAlxBExAVcyADKAJcQQp2czYCXCADKAIMQQZqQQ9xQQJ0IAJqIgEoAgAgAygCDEEPakEPcUECdCACaigCACADKAJgIAMoAlxqamohACABIAA2AgAgAyAANgJYIAMgAygCfCADKAJoQQYQFSADKAJoQQsQFXMgAygCaEEZEBVzaiADKAJoIAMoAmRxIAMoAoABIAMoAmhBf3Nxc2ogAygCDEECdEG4NGooAgBqIAMoAlhqNgJYIAMgAygCeEECEBUgAygCeEENEBVzIAMoAnhBFhAVcyADKAJ0IAMoAnBxIAMoAnggAygCdHEgAygCeCADKAJwcXNzajYCfCADIAMoAlggAygCbGo2AmwgAyADKAJYIAMoAnxqNgJ8IAMgAygCDEEIakEPcUECdCACaigCADYCYCADIAMoAmBBBxAVIAMoAmBBEhAVcyADKAJgQQN2czYCYCADIAMoAgxBFWpBD3FBAnQgAmooAgA2AlwgAyADKAJcQREQFSADKAJcQRMQFXMgAygCXEEKdnM2AlwgAygCDEEHakEPcUECdCACaiIBKAIAIAMoAgxBEGpBD3FBAnQgAmooAgAgAygCYCADKAJcampqIQAgASAANgIAIAMgADYCWCADIAMoAoABIAMoAmxBBhAVIAMoAmxBCxAVcyADKAJsQRkQFXNqIAMoAmwgAygCaHEgAygCZCADKAJsQX9zcXNqIAMoAgxBAnRBvDRqKAIAaiADKAJYajYCWCADIAMoAnxBAhAVIAMoAnxBDRAVcyADKAJ8QRYQFXMgAygCeCADKAJ0cSADKAJ8IAMoAnhxIAMoAnwgAygCdHFzc2o2AoABIAMgAygCWCADKAJwajYCcCADIAMoAlggAygCgAFqNgKAASADIAMoAgxBCGo2AgwMAQsLIAMoAowBIgAgAygCgAEgACgCAGo2AgAgAygCjAEiACADKAJ8IAAoAgRqNgIEIAMoAowBIgAgAygCeCAAKAIIajYCCCADKAKMASIAIAMoAnQgACgCDGo2AgwgAygCjAEiACADKAJwIAAoAhBqNgIQIAMoAowBIgAgAygCbCAAKAIUajYCFCADKAKMASIAIAMoAmggACgCGGo2AhggAygCjAEiACADKAJkIAAoAhxqNgIcDAELCyADQZABaiQAC8IBAQF/IwBBIGsiBCQAIAQgADYCHCAEIAE2AhggBCACNgIUIAQgAzYCECAEIAQoAhxBCGoQPTcDACAEIAQoAhwQPTcDCANAIAQoAhBBEElFBEAgBCAEKAIUQQhqED0gBCkDAIU3AwAgBCAEKAIUED0gBCkDCIU3AwggBCAEKAIYENUBIAQgBCgCFEEQajYCFCAEIAQoAhBBEGs2AhAMAQsLIAQoAhwgBCkDCBBuIAQoAhxBCGogBCkDABBuIARBIGokAAtiAQF/IwBBIGsiAiQAIAIgADYCHCACIAE2AhggAiACKAIcQQhqED03AwAgAiACKAIcED03AwggAiACKAIYENUBIAIoAhwgAikDCBBuIAIoAhxBCGogAikDABBuIAJBIGokAAtoAQF/IwBBEGsiAEGY6gA2AgwgACgCDEGgBTYCACAAKAIMQSA2AgQgACgCDEEANgIIIAAoAgxB1QA2AgwgACgCDEHWADYCECAAKAIMQdcANgIUIAAoAgxBwAA2AhggACgCDEHwADYCHAuVAQECfyMAQRBrIgBB6OkANgIMIAAoAgwiAUIANwIAIAFBADYCKCABQgA3AiAgAUIANwIYIAFCADcCECABQgA3AgggACgCDEGIBzYCACAAKAIMQQE2AgQgACgCDEEQNgIIIAAoAgxBEDYCDCAAKAIMQYACNgIQIAAoAgxBBTYCFCAAKAIMQdIANgIcIAAoAgxB0wA2AiALMwEBfyMAQSBrIgUkACAFIAA2AhwgBSABNgIYIAUgAjYCFCAFIAM2AhAgBSAENgIMEAMAC7cFAQF/IwBBgAVrIgYkACAGIAA2AvwEIAYgATYC+AQgBiACNgL0BCAGIAM2AvAEIAYgBDYC7AQgBiAFNgLoBCAGKAL0BEEPcQRAQd4gQdwQQcUJQeIJEAAACyAGIAYoAvQEQQR2NgLkBAJAIAYoAuQERQ0AIAZBgAFqIAYoAvAEEHkgBkHwAGoiACAGKALsBCIBKQAANwAAIAAgASkACDcACCAGKALoBARAA0AgBigC5AQEQCAGQfAAaiIAIAAgBigC/AQQdCAGQdAAaiIBIABBARBcIAZBgAFqIAYoAvAEKALwASABEJwBIAYoAvgEQQEgARBbIAAgBigC+AQiASkAADcAACAAIAEpAAg3AAggBiAGKAL8BEEQajYC/AQgBiAGKAL4BEEQajYC+AQgBiAGKALkBEEBazYC5AQMAQsLIAYoAuwEIgAgBkHwAGoiASkAADcAACAAIAEpAAg3AAgMAQsDQCAGIAYoAuQEQQJPBH9BAgUgBigC5AQLNgJMIAZBLGogBigC/AQgBigCTEEEdBAbGiAGQQhqIgAgBigC/AQgBigCTBBcIAZBgAFqIAYoAvAEKALwASAAEO8BIAYoAvgEIAYoAkwgABBbIAYoAvgEIAYoAvgEIAZB8ABqEHQgBkEBNgIEA0AgBigCBCAGKAJMT0UEQCAGKAL4BCAGKAIEIgBBBHRqIgEgASAGIABBBHRqQRxqEHQgBiAGKAIEQQFqNgIEDAELCyAGQfAAaiIAIAYgBigCTEEEdGpBHGoiASkAADcAACAAIAEpAAg3AAggBiAGKALkBCAGKAJMazYC5AQgBigC5AQEQCAGIAYoAvwEQSBqNgL8BCAGIAYoAvgEQSBqNgL4BAwBCwsgBigC7AQiACAGQfAAaiIBKQAANwAAIAAgASkACDcACAsgBkGABWokAAvcAwEBfyMAQfAEayIFJAAgBSAANgLsBCAFIAE2AugEIAUgAjYC5AQgBSADNgLgBCAFIAQ2AtwEAkAgBSgC5ARFDQAgBUH4AGogBSgC4AQQeSAFQQA2AjQDQCAFKAI0QQJPRQRAIAVB2ABqIAUoAjRBBHRqIgAgBSgC3AQiASkAADcAACAAIAEpAAg3AAggBSAFKAI0QQFqNgI0DAELCyAFIAVB5ABqECQ2AjADQCAFQQA2AiwDQCAFKAIsQQJPRQRAIAUgBSgCLCIAQQR0akHkAGogACAFKAIwahBMIAUgBSgCLEEBajYCLAwBCwsgBSAFKALkBEECTwR/QQIFIAUoAuQECzYCKCAFQQhqIgAgBUHYAGogBSgCKBBcIAVB+ABqIAUoAuAEKALwASAAEJwBIAVBOGogBSgCKCAAEFsgBUEANgIEA0AgBSgCBCAFKAIoT0UEQCAFKAIEQQR0IgAgBSgC6ARqIAAgBSgC7ARqIAAgBUE4amoQdCAFIAUoAgRBAWo2AgQMAQsLIAUgBSgC5AQgBSgCKGs2AuQEIAUoAuQERQ0BIAUgBSgC7ARBIGo2AuwEIAUgBSgC6ARBIGo2AugEIAUgBSgCMEECajYCMAwACwALIAVB8ARqJAALZgEBfyMAQZAEayIDJAAgAyAANgKMBCADIAE2AogEIAMgAjYChAQgA0EgaiIAIAMoAoQEEHkgAyADKAKMBEEBEFwgACADKAKEBCgC8AEgAxDvASADKAKIBEEBIAMQWyADQZAEaiQAC2YBAX8jAEGQBGsiAyQAIAMgADYCjAQgAyABNgKIBCADIAI2AoQEIANBIGoiACADKAKEBBB5IAMgAygCjARBARBcIAAgAygChAQoAvABIAMQnAEgAygCiARBASADEFsgA0GQBGokAAt1AQF/IwBBEGsiASQAIAEgADYCDCABIAEoAgw2AgggASgCCARAIAFBADYCBANAIAEoAgRBEE9FBEAgASgCCCABKAIEQQR0ahDwASABIAEoAgRBAWo2AgQMAQsLIAEoAggoAogCECIgASgCCBAiCyABQRBqJAALwwMBAX8jAEHQAGsiCiQAIAogADYCSCAKIAE2AkQgCiACNgJAIAogAzYCPCAKIAQ2AjggCiAFNgI0IAogBjYCMCAKIAc2AiwgCiAINgIoIAogCTYCJCAKIAooAkhBCGo2AiACQCAKKAIsIAooAkgtAMAERwRAQR5B5QBB3BRB3QEQHCAKQQA2AkwMAQsgCigCPEEMRwRAQR5B+QBB3BRB4gEQHCAKQQA2AkwMAQsgCiAKKAIgIgBBgAJqIABB8AJqIAooAiggCigCJCAKKAJAIAooAjggCigCNBDyASAKKAIwIQEgCigCSC0AwAQhAiMAQSBrIgAgCjYCHCAAIAE2AhggACACNgIUIAAgACgCHDYCECAAIAAoAhg2AgwgAEEAOgALIABBADYCBANAIAAoAgQgACgCFEkEQCAAIAAtAAsgACgCBCIBIAAoAhBqLQAAIAEgACgCDGotAABzcjoACyAAIAAoAgRBAWo2AgQMAQsLIAAtAAsEQEEeQeUAQdwUQesBEBwgCkEANgJMDAELIAooAiAgCigCRCAKKAI4IAooAjQgCigCQBDzASAKQQE2AkwLIAooAkwhACAKQdAAaiQAIAAL+QIBAX8jAEHwAGsiDSQAIA0gADYCaCANIAE2AmQgDSACNgJgIA0gAzYCXCANIAQ2AlggDSAFNgJUIA0gBjYCUCANIAc2AkwgDSAINgJIIA0gCTYCRCANIAo2AkAgDSALNgI8IA0gDDYCOCANIA0oAmhBCGo2AjQgDSANNQJINwMoAkAgDSkDKEKAgICAgAJaBEBBHkH1AEHcFEG8ARAcIA1BADYCbAwBCyANKAJYIA0oAmgtAMAESQRAQR5B5wBB3BRBwQEQHCANQQA2AmwMAQsgDSgCUEEMRwRAQR5B+QBB3BRBxgEQHCANQQA2AmwMAQsgDSgCNCANKAJkIA0oAkwgDSgCSCANKAJUEPMBIA0gDSgCNEGAAmogDSgCNEHwAmogDSgCPCANKAI4IA0oAlQgDSgCZCANKAJIEPIBIA0oAmAgDSANKAJoLQDABBAeIA0oAlwgDSgCaC0AwAQ2AgAgDUEBNgJsCyANKAJsIQAgDUHwAGokACAAC8UJAQR/IwBBIGsiBCQAIAQgADYCGCAEIAE2AhQgBCACNgIQIAQgAzYCDCAEIAQoAhhBCGo2AggCQCAEKAIQQSBJBEBBHkHmAEHcFEHPABAcIARBADYCHAwBCyAEIAQoAhBBIGs2AgQCQCAEKAIEQRBGDQAgBCgCBEEgRg0AQR5B5gBB3BRB1QAQHCAEQQA2AhwMAQsgBCgCDEUEQCAEQSA2AgwLIAQoAgxBIEsEQEEeQfQAQdwUQd4AEBwgBEEANgIcDAELIAQoAgghASAEKAIUIQIgBCgCBCEDIwBBIGsiACQAIAAgATYCGCAAQQA2AhQgACABQfwBajYCECAAIAI2AgwgACADNgIIAkAgACgCCEEQRg0AIAAoAghBGEYNACAAKAIIQSBGDQBB9R5BhxJBpgJBjQgQAAALIAAoAgwgACgCCEEDdCAAKAIYEJsBGiAAKAIUBEAgACgCFCECIAAoAhghAyMAQTBrIgEkACABIAI2AiwgASADNgIoIAFBzQA2AiQgAUEANgIgIAEoAixBAEGQAhAhIAEoAiwgASgCJDYCiAIgAUEQaiICQQBBEBAhIAIgAiABKAIoIAEoAiQRAwAgASgCLEGAAmohBSABKAIsQYQCaiEGIAEoAiwhByMAQTBrIgMkACADIAU2AiwgAyAGNgIoIAMgBzYCJCADIAFBDGo2AiAgAyACNgIcIAMoAiBBADYCACADIAMoAhwQPTcDACADIAMoAhxBCGoQPTcDCCMAQRBrIgIgAygCJDYCDCACIAM2AgggAigCDCACKAIIKQMINwMIIAIoAgwgAigCCCkDADcDACACIAIoAgwpAwBCP4g3AwAgAkIAIAIpAwB9NwMAIAIoAgwiBSAFKQMAQgGGNwMAIAIoAgwiBSAFKQMAIAIoAgwpAwhCP4iENwMAIAIoAgwiBSAFKQMIQgGGNwMIIAIoAgwiBSAFKQMIIAIpAwBCAYOFNwMIIAIoAgwiBSAFKQMAIAIpAwBCgICAgICAgIBCg4U3AwAgAygCLEHPADYCACADKAIoQdAANgIAIANBMGokACABKAIsIgIgASgCDAR/IAEoAiBBAEcFQQALQQFxIAItAIwCQX5xcjoAjAIgAUEwaiQACyAAKAIQBEAgACgCEEHNADYCAAsgAEHOADYCHCAAKAIcIQEgAEEgaiQAIAQoAgggATYC+AEgBCgCGCAEKAIMOgDABCAEKAIIQYACaiEBIAQoAghB8AJqIQIgBCgCFCAEKAIEaiEDIwBB4ABrIgAkACAAIAE2AlwgACACNgJYIAAgAzYCVCAAQRBqIgEgACgCVEEgEB4gAUEgakE2QSAQISAAQQA2AgwDQCAAKAIMQSBJBEAgACgCDCAAQRBqaiIBIAEtAABBNnM6AAAgACAAKAIMQQFqNgIMDAELCyAAKAJcEJQBGiAAKAJcIABBEGoiAUHAABA1GiABQSBqQdwAQSAQISAAQQA2AgwDQCAAKAIMQSBJBEAgACgCDCAAQRBqaiIBIAEtAABB6gBzOgAAIAAgACgCDEEBajYCDAwBCwsgACgCWBCUARogACgCWCAAQRBqQcAAEDUaIABB4ABqJAAgBEEBNgIcCyAEKAIcIQAgBEEgaiQAIAALXQECfyMAQRBrIgIkACACIAA2AgwgAiABNgIIIAIoAgwhASACKAIIIQMjAEEQayIAJAAgACACNgIMIAAgATYCCCAAIAM2AgQgACgCBBD3ASAAQRBqJAAgAkEQaiQAC40DAQt/IwBBEGsiByQAIAcgADYCDCMAQRBrIgUkACAFQdjpADYCCCAFIAUoAggiBDYCDCMAQRBrIgIkACACIAQ2AgwgAigCDCIAEBkhAyAAEBkgABBeQQJ0aiEGIAAQGSEKIwBBEGsiASAANgIMIAogASgCDCIBKAIEIAEoAgBrQXxxaiEIIAAQGSAAEF5BAnRqIQkjAEEgayIBIAA2AhwgASADNgIYIAEgBjYCFCABIAg2AhAgASAJNgIMIAJBEGokACAEKAIABEAjAEEQayIBJAAgASAENgIMIAEoAgwiACECIAAoAgAhAyMAQRBrIgAkACAAIAI2AgwgACADNgIIIAAgACgCDCICKAIENgIEA0AgACgCCCAAKAIERwRAIAIQGCEDIAAgACgCBEEEayIGNgIEIAMhCyMAQRBrIgMgBjYCDCALIAMoAgwQRAwBCwsgAiAAKAIINgIEIABBEGokACABQRBqJAAgBBAYIAQoAgAgBBBeEIwCCyAFKAIMGiAFQRBqJAAgB0EQaiQAC44CAQZ/IwBBEGsiBSQAIAUgADYCDCMAQRBrIgQkACAEQdTpADYCDCAEKAIMIQEjAEEQayIAJAAgACABNgIMIABBADYCCCAAIAAoAgwiARAXKAIANgIEIAAoAgghAiABEBcgAjYCACAAKAIEBEAgARAXIQEgACgCBCEDIwBBEGsiAiQAIAIgATYCDCACIAM2AgggAigCCCEBIwBBEGsiAyQAIAMgATYCDCADKAIMIQYjAEEQayIBJAAgASAGNgIMAkAgASgCDEUNACABKAIMEGhFDQAgASgCDBD0ARogASgCDBAoCyABQRBqJAAgA0EQaiQAIAJBEGokAAsgAEEQaiQAIARBEGokACAFQRBqJAALrQMBBn8jAEEQayIGJAAgBiAANgIMIwBBEGsiBCQAIARB0OkANgIMIAQoAgwhACMAQRBrIgIkACACIAA2AgwgAkEANgIIIAIgAigCDCIAEBcoAgA2AgQgAigCCCEBIAAQFyABNgIAIAIoAgQEQCAAEBchACACKAIEIQEjAEEQayIDJAAgAyAANgIMIAMgATYCCCADKAIIIQAjAEEQayIFJAAgBSAANgIMIAUoAgwhASMAQRBrIgAkACAAIAE2AggCQANAIAAoAggEQCAAKAIIQRhqEGgEQCMAQRBrIgEgACgCCDYCCAJAIAEoAghFBEAgAUEANgIMDAELIAEgASgCCCgCIDYCBCABKAIIQQA2AiAgASABKAIENgIMCyAAIAEoAgw2AgQCQCAAKAIIKAIARQ0AIAAoAggoAgAoAiBFDQAgACgCCCIBIAEoAgAoAiARAAAaCyAAKAIIECggACAAKAIENgIIDAIFIABBADYCDAwDCwALCyAAQQE2AgwLIAAoAgwaIABBEGokACAFQRBqJAAgA0EQaiQACyACQRBqJAAgBEEQaiQAIAZBEGokAAtXAQJ/IwBBEGsiAiQAIAIgADYCDCACIAE2AggjAEEQayIBIAIoAggiA0EkajYCDCACIAEoAgwiASgCBCABKAIAayADQSRqEBkQeyAAIAIQeCACQRBqJAALzQEBA38jAEEgayIDJAAgAyAANgIcIAMgATYCGCADIAI2AhQgAygCGCECIAMoAhQhBCMAQRBrIgEkACABIAI2AgwgASAENgIIIwBBEGsiBSABKAIMIgRBFGo2AgwgASgCCCAFKAIMIgUoAgQgBSgCAGtLBEAgBEEUaiABKAIIEIkBCyAEIAEoAgg2AiAgAUEQaiQAIwBBEGsiASACQRRqIgI2AgwgA0EIaiIEIAEoAgwiASgCBCABKAIAayACEBkQeyAAIAQQeCADQSBqJAALNgECfyMAQRBrIgEkACABIAA2AgwjAEEQayIAIAEoAgwiAjYCDCAAKAIMGiACECIgAUEQaiQAC+McAhN/AX4jAEGAAWsiCSQAIAkgADYCfCAJIAE2AnggCSACNwNwIAkgAzYCbCAJIAQ2AmggCSAFNgJkIAkgBjYCYCAJIAc2AlwgCSAINgJYIAkoAnghDiAJKAJcQQA2AgACQCAJKAJsRQRAIwBBEGsiASAANgIMIAFBBDYCCCABKAIMIgBBpDM2AgAgACABKAIINgIEDAELIAkoAmBFBEAjAEEQayIBIAA2AgwgAUEFNgIIIAEoAgwiAEGkMzYCACAAIAEoAgg2AgQMAQsgDkEcahAWRQRAIwBBEGsiASAANgIMIAFBAjYCCCABKAIMIgBBpDM2AgAgACABKAIINgIEDAELIAlByABqEC4CQCAJKAJkRQRAIAlBOGoiASAJKAJsIAkoAmgQnwEgCUHIAGogARA2IAEQJwwBCwJAIAkoAmRBAUYEQCAJQShqIgEgCSgCbCAJKAJoEJ4BIAlByABqIAEQNiABECcMAQsCQCAJKAJkQQJGBEAgCUEYaiIBIAkoAmwgCSgCaBCdASAJQcgAaiABEDYgARAnDAELIAkoAmRBA0YEQCAJQQA2AhQgCUHIAGogCUEUaiAJQegAahBQCwsLCyMAQRBrIgEgCUHIAGo2AgwCQCABKAIMIgEoAgAgASgCBEYEQCMAQRBrIgEgADYCDCABQQY2AgggASgCDCIAQaQzNgIAIAAgASgCCDYCBCAJQQE2AhAMAQsgCUEANgIMA0AgCSgCDCEQIwBBEGsiASAJQcgAajYCDCAQIAEoAgwiASgCBCABKAIAa0EDdUkEQCAJQQA2AggCQAJAIAkoAmRBAkcNACAJKAJsIREgCSgCDCEDIwBBEGsiASAJQcgAajYCDCABIAM2AgggESABKAIMKAIAIAEoAghBA3RqKAIAEPkBQQFxRQ0AIAkoAgwhAyMAQRBrIgEgCUHIAGoiBDYCDCABIAM2AgggCSEXIAEoAgwoAgAgASgCCEEDdGooAgAhEiAJKAIMIQMgASAENgIMIAEgAzYCCCAXIBIgASgCDCgCACABKAIIQQN0aigCBGo2AgggCSgCYCAJKAJsIAkoAggQGxoMAQsgCUEAOgAHIAkpA3AhAiAJKAJsIQMgCSgCDCEEIwAiBUEQayIBIAlByABqIgY2AgwgASAENgIIIAEoAgwoAgAgASgCCEEDdGooAgQhBCAJKAIMIQcgASAGNgIMIAEgBzYCCCABKAIMKAIAIAEoAghBA3RqKAIAIQYgCSgCYCEHIAkoAlghCCAFQaABayIBJAAgASAANgKcASABIA42ApgBIAEgAjcDkAEgASADNgKMASABIAQ2AogBIAEgBjYChAEgASAHNgKAASABIAlBCGo2AnwgASAINgJ4IAEoApgBIQcgASABKAKMASABKAKEAWo2AmwgAUERNgJoIwBBEGsiBiQAIAYgAUHsAGo2AgQgBiABQegAajYCAEEgEC8hDCAGKAIEKAIAIQMgBigCACgCACEFIwBBEGsiBCQAIAQgDDYCCCAEIAM2AgQgBCAFNgIAIAQgBCgCCCIFNgIMIAVCADcDACAFQgA3AwggBUEQahAqIAUgBDUCADcDGAJAIAQoAgRFDQAgBCgCAEUNACAEKAIAQRFLDQAgBUEQaiIDIAQoAgAQLxBjIAMQFkEAIAQoAgAQRiADEBYgBCgCBCAEKAIAEBsaIwBBIGsiAyQAIAMgBTYCHCADKAIcIgVBEGohCiMAQRBrIggkACAIIAo2AgwgCEEANgIIIAgoAgwhCyMAQRBrIgokACAKIAs2AgwgCigCDBAXKAIAQQBHIQsgCkEQaiQAIAhBEGokAAJAIAtBf3NBAXENACAFKQMYUA0AIAUpAxhCEVYNACADIAVBEGoQFjYCGCADIAMoAhgtAABBBHZBB3FBAWo2AhQgAyADKAIYLQAAQQhxQQBHOgATIAMCfyADLQATQQFxBEAgAygCGC0AAEEHcUEBagwBCyADKAIYLQAAQQdxCzYCDCAFKQMYAn8gAy0AE0EBcQRAIAMoAgxBAWsMAQtBAQsgAygCFGqtVA0AAkAgAy0AE0EBcQRAIANBADYCCANAIAMoAgggAygCDEkEQCAFIAMoAhggAygCCEEBamoxAAAgBSkDAEIIhnw3AwAgAyADKAIIQQFqNgIIDAELCwwBCyAFIAM1Agw3AwALIAMCfyADLQATQQFxBEAgAygCDEEBagwBC0EBCzYCBCADQQA2AgADQCADKAIAIAMoAhRPDQEgBSADKAIYIAMoAgAgAygCBGpqMQAAIAUpAwhCCIZ8NwMIIAMgAygCAEEBajYCAAwACwALIANBIGokAAsgBCgCDBogBEEQaiQAIAZBCGogDBBfIAYoAgghAyAGQRBqJAAgASADNgJwAkAgAUHwAGoQFkUEQCMAQRBrIgMgADYCDCADQQI2AgggAygCDCIEQaQzNgIAIAQgAygCCDYCBCABQQE2AmQMAQsgAUHwAGoQFiEDIwBBEGsiBCADNgIMIAEgBCgCDCkDADcDWCABQfAAahAWIQMjAEEQayIEIAM2AgwgASAEKAIMKQMINwNQIAEgAUHYAGogAUHQAGoQlQI2AmACQCABQeAAahAWRQRAIwBBEGsiAyAANgIMIANBAjYCCCADKAIMIgRBpDM2AgAgBCADKAIINgIEIAFBATYCZAwBCyABQQA2AkwCQCAHKAIERQRAIAFBDDYCTAwBCyMAQRBrIgMgADYCDCADQQI2AgggAygCDCIEQaQzNgIAIAQgAygCCDYCBCABQQE2AmQMAQsgASABKAJMEB82AkggAUHgAGoQFiEDIwBBEGsiBCADNgIMIAEgByEYIAQoAgwpAwAhHCABQeAAahAWIQMjAEEQayIEIAM2AgwgGCAcIAQoAgwpAwggAUHIAGoQFiABKAJMEJkCQQFxOgBHAkAgAS0AR0EBcUUEQCMAQRBrIgMgADYCDCADQQI2AgggAygCDCIEQaQzNgIAIAQgAygCCDYCBCABQQE2AmQMAQsgASEZIAEoAogBIRMgAUHgAGoQFiEDIwBBEGsiBCADNgIMIBkgEyAEKAIMKQMYp2s2AkAgASABKAJAEB82AjggAUE4ahAWIRogASgCjAEhFCABQeAAahAWIQMjAEEQayIEIAM2AgwgGiAUIAQoAgwpAxinaiABKAKEAWogASgCQBAbGgJAIActACBBAXFFBEAgAUEANgI0AkAgBygCBEUEQCABQQo2AjQMAQsjAEEQayIDIAA2AgwgA0ECNgIIIAMoAgwiBEGkMzYCACAEIAMoAgg2AgQgAUEBNgJkDAILIAEoAnggASgChAEgASgCQGogASgCNGtJBEAjAEEQayIDIAA2AgwgA0ECNgIIIAMoAgwiBEGkMzYCACAEIAMoAgg2AgQgAUEBNgJkDAILIAEoAoABIAEoAowBIAEoAoQBEBsaIAEoAoABIAEoAoQBaiABQThqEBYgASgCQCABKAI0axAbGiABKAJ8IAEoAoQBIAEoAkBqIAEoAjRrNgIAIwBBEGsiAyAANgIMIANBADYCCCADKAIMIgRBpDM2AgAgBCADKAIINgIEIAFBATYCZAwBCyABQQA2AjAgASABKAJANgIsIAEgASgCLBAfNgIoIAFB4ABqEBYhAyMAQRBrIgQgAzYCDCABIAQoAgwpAwA3AxggASAHQQhqIAFBGGoQpgE2AiAgB0EcahAWIQMgAUEIaiABQSBqEFFBCGoQqAEgAUEoahAWIQQgASgCLCEFIAFByABqEBYhBiABKAJMIQcgAUE4ahAWIQggASgCQCEKIAFB4ABqEBYQoQEhDCABQeAAahAWIQsjAEEQayINIAs2AgwgDSgCDCkDGKchCyADKAIAKAIQIQ0gASABKQMINwMAIAFBEGoiDyADIAEgBCABQTBqIAUgBiAHIAggCiAMIAsgDRENACMAQRBrIgMgDzYCDAJAIAMoAgwoAgQEQCABKAJ8QQA2AgAjAEEQayIDIAA2AgwgAyABQRBqNgIIIAMoAgwiBEGkMzYCACAEIAMoAggoAgQ2AgQMAQsgASgCgAEgASgCjAEgASgChAEQGxogASgCgAEgASgChAFqIAFBKGoQFiABKAIwEBsaIAEoAnwgASgChAEgASgCMGo2AgAjAEEQayIDIAA2AgwgA0EANgIIIAMoAgwiBEGkMzYCACAEIAMoAgg2AgQLIAFBATYCZCMAQRBrIgMgAUEQajYCDCADKAIMGiABQShqEBoLIAFBOGoQGgsgAUHIAGoQGgsgAUHgAGoQpQELIAFB8ABqEKUBIAFBoAFqJAAjAEEQayIBIAA2AgwCQCABKAIMKAIEBEAgCSgCXEEANgIAIAlBAToAByAJQQE2AhAMAQsgCUEANgIQCyAJLQAHQQFxRQRAIwBBEGsiASAANgIMIAEoAgwaCyAJKAIQDQMLIAkoAgwhBCMAQRBrIgEgCUHIAGoiAzYCDCABIAQ2AgggCSEbIAEoAgwoAgAgASgCCEEDdGooAgAhFSAJKAIMIQQgASADNgIMIAEgBDYCCCAbIBUgASgCDCgCACABKAIIQQN0aigCBGogCSgCbGo2AmwgCSgCDCEEIAEgAzYCDCABIAQ2AgggASgCDCgCACABKAIIQQN0aigCACEWIAkoAgwhBCABIAM2AgwgASAENgIIIBYgASgCDCgCACABKAIIQQN0aigCBGohASAJIAkoAmggAWs2AmggCSAJKAIIIAkoAmBqNgJgIAkgCSgCWCAJKAIIazYCWCAJKAJcIgEgCSgCCCABKAIAajYCACAJIAkoAgxBAWo2AgwMAQsLIwBBEGsiASAANgIMIAFBADYCCCABKAIMIgBBpDM2AgAgACABKAIINgIEIAlBATYCEAsgCUHIAGoQJwsgCUGAAWokAAsqAQF/IwBBEGsiASQAIAEgADYCDCABKAIMIgAQpAEaIAAQIiABQRBqJAAL5R4CEn8BfSMAQbABayIJJAAgCSAANgKsASAJIAE2AqgBIAkgAjcDoAEgCSADNgKcASAJIAQ2ApgBIAkgBTYClAEgCSAGNgKQASAJIAc2AowBIAkgCDYCiAEgCSgCqAEhAyAJKAKMAUEANgIAAkAgCSgCnAFFBEAjAEEQayIBIAA2AgwgAUEENgIIIAEoAgwiAEGkMzYCACAAIAEoAgg2AgQMAQsgCSgCkAFFBEAjAEEQayIBIAA2AgwgAUEFNgIIIAEoAgwiAEGkMzYCACAAIAEoAgg2AgQMAQsgA0EcahAWRQRAIwBBEGsiASAANgIMIAFBATYCCCABKAIMIgBBpDM2AgAgACABKAIINgIEDAELIAkgA0EgaiIBIAlBoAFqEKYBNgKAASAJIAEQmAI2AnAgCSAJQYABaiAJQfAAahCXAkEBcQR+QgAFIAlBgAFqEFEpAwgLNwN4IAlBADYCbAJAIAMoAgRFBEAgCUEMNgJsDAELIwBBEGsiASAANgIMIAFBATYCCCABKAIMIgBBpDM2AgAgACABKAIINgIEDAELIAkgCUGgAWogCUH4AGoQlQI2AmgCQCAJQegAahAWRQRAIwBBEGsiASAANgIMIAFBATYCCCABKAIMIgBBpDM2AgAgACABKAIINgIEIAlBATYCZAwBCyAJIAkoAmwQHzYCYCAJIAMgCSkDoAEgCSkDeCAJQeAAahAWIAkoAmwQmQJBAXE6AF8CQCAJLQBfQQFxRQRAIwBBEGsiASAANgIMIAFBATYCCCABKAIMIgBBpDM2AgAgACABKAIINgIEIAlBATYCZAwBCyAJQdAAahAuAkAgCSgClAFFBEAgCUFAayIBIAkoApwBIAkoApgBEJ8BIAlB0ABqIAEQNiABECcMAQsCQCAJKAKUAUEBRgRAIAlBMGoiASAJKAKcASAJKAKYARCeASAJQdAAaiABEDYgARAnDAELAkAgCSgClAFBAkYEQCAJQSBqIgEgCSgCnAEgCSgCmAEQnQEgCUHQAGogARA2IAEQJwwBCyAJKAKUAUEDRgRAIAlBADYCHCAJQdAAaiAJQRxqIAlBmAFqEFALCwsLIwBBEGsiASAJQdAAajYCDAJAIAEoAgwiASgCACABKAIERgRAIwBBEGsiASAANgIMIAFBBjYCCCABKAIMIgBBpDM2AgAgACABKAIINgIEIAlBATYCZAwBCyAJQQA2AhgDQCAJKAIYIRAjAEEQayIBIAlB0ABqNgIMIBAgASgCDCIBKAIEIAEoAgBrQQN1SQRAIAlBADYCFAJAAkAgCSgClAFBAkcNACAJKAKcASERIAkoAhghBCMAQRBrIgEgCUHQAGo2AgwgASAENgIIIBEgASgCDCgCACABKAIIQQN0aigCABD5AUEBcUUNACAJKAIYIQQjAEEQayIBIAlB0ABqIgU2AgwgASAENgIIIAkhGCABKAIMKAIAIAEoAghBA3RqKAIAIRIgCSgCGCEEIAEgBTYCDCABIAQ2AgggGCASIAEoAgwoAgAgASgCCEEDdGooAgRqNgIUIAkoApABIAkoApwBIAkoAhQQGxoMAQsgCUEAOgATIAkpA6ABIQIgCSgCnAEhBCAJKAIYIQUjAEEQayIBIAlB0ABqIgY2AgwgASAFNgIIIAEoAgwoAgAgASgCCEEDdGooAgQhBSAJKAIYIQcgASAGNgIMIAEgBzYCCCABKAIMKAIAIAEoAghBA3RqKAIAIQYgCSgCkAEhByAJKAKIASEIIAlB6ABqEBYhCiAJQeAAahAWIQ0gCSgCbCELIwBB8ABrIgEkACABIAA2AmwgASADNgJoIAEgAjcDYCABIAQ2AlwgASAFNgJYIAEgBjYCVCABIAc2AlAgASAJQRRqNgJMIAEgCDYCSCABIAo2AkQgASANNgJAIAEgCzYCPCABKAJoIQQgASABKAJYEB82AjggAUE4ahAWIAEoAlwgASgCVGogASgCWBAbGiABIAEoAlggBEEcahAWIgUgBSgCACgCFBEAAGo2AjQgASABKAI0EB82AjAgASAEQQhqIAFB4ABqEKYBNgIoIARBHGoQFiEEIAFBGGogAUEoahBRQQhqEKgBIAFBMGoQFiEFIAEoAjQhBiABKAJAIQcgASgCPCEIIAFBOGoQFiEKIAEoAlghDSABKAJEEKEBIQsjAEEQayIMIAEoAkQ2AgwgDCgCDCkDGKchDCAEKAIAKAIMIQ4gASABKQMYNwMIIAFBIGoiDyAEIAFBCGogBSABQTRqIAYgByAIIAogDSALIAwgDhENACMAQRBrIgQgDzYCDAJAIAQoAgwoAgQEQCABKAJMQQA2AgAjAEEQayIEIAA2AgwgBCABQSBqNgIIIAQoAgwiBUGkMzYCACAFIAQoAggoAgQ2AgQMAQsgASgCSCETIwBBEGsiBCABKAJENgIMIBMgASgCNCABKAJUIAQoAgwpAxinampJBEAjAEEQayIEIAA2AgwgBEEBNgIIIAQoAgwiBUGkMzYCACAFIAQoAgg2AgQMAQsgASgCUCABKAJcIAEoAlQQGxogASgCUCABKAJUaiEZIAEoAkQQoQEhFCMAQRBrIgQgASgCRDYCDCAZIBQgBCgCDCkDGKcQGxogASgCUCEVIwBBEGsiBCABKAJENgIMIBUgBCgCDCkDGKdqIAEoAlRqIAFBMGoQFiABKAI0EBsaIwBBEGsiBCABKAJENgIMIAEoAkwgASgCNCABKAJUIAQoAgwpAxinamo2AgAjAEEQayIEIAA2AgwgBEEANgIIIAQoAgwiBUGkMzYCACAFIAQoAgg2AgQLIAFBATYCFCMAQRBrIgQgAUEgajYCDCAEKAIMGiABQTBqEBogAUE4ahAaIAFB8ABqJAAjAEEQayIBIAA2AgwCQCABKAIMKAIEBEAgCSgCjAFBADYCACAJQQE6ABMgCUEBNgJkDAELIAlBADYCZAsgCS0AE0EBcUUEQCMAQRBrIgEgADYCDCABKAIMGgsgCSgCZA0DCyAJKAIYIQUjAEEQayIBIAlB0ABqIgQ2AgwgASAFNgIIIAkhGiABKAIMKAIAIAEoAghBA3RqKAIAIRYgCSgCGCEFIAEgBDYCDCABIAU2AgggGiAWIAEoAgwoAgAgASgCCEEDdGooAgRqIAkoApwBajYCnAEgCSgCGCEFIAEgBDYCDCABIAU2AgggASgCDCgCACABKAIIQQN0aigCACEXIAkoAhghBSABIAQ2AgwgASAFNgIIIBcgASgCDCgCACABKAIIQQN0aigCBGohASAJIAkoApgBIAFrNgKYASAJIAkoAhQgCSgCkAFqNgKQASAJIAkoAogBIAkoAhRrNgKIASAJKAKMASIBIAkoAhQgASgCAGo2AgAgCSAJKAIYQQFqNgIYDAELCyAJIAkpA3hCAXw3AwgjAEEgayIFJAAgBSADQSBqNgIcIAUgCUGgAWo2AhggBSAJQQhqNgIUIAVBCGohDSAFKAIcIQQgBSgCGCEDIAUoAhQhBiMAQUBqIgEkACABIAQ2AjwgASADNgI4IAEgAzYCNCABIAY2AjAgASABKAI8IgQQHSABKAI4EH42AiwgASAEEDQ2AiggAUEAOgAnAkAgASgCKARAIAEgASgCLCABKAIoECU2AhwgASAEIAEoAhwQIygCADYCICABKAIgBEAgASABKAIgKAIANgIgA0AgASgCIAR/IwBBEGsiAyABKAIgNgIMIAMoAgwoAgQgASgCLEcEfyMAQRBrIgMgASgCIDYCDCADKAIMKAIEIAEoAigQJSABKAIcRgVBAQsFQQALQQFxBEAgBBAwIAEoAiAQF0EIaiABKAI4EH1BAXENBCABIAEoAiAoAgA2AiAMAQsLCwsgASgCLCEGIAEoAjQhByABKAIwIQgjAEEgayIDJAAgAyAENgIcIAMgBjYCGCADIAc2AhQgAyAINgIQIAMgAygCHBAYNgIMIANBADoACyADKAIMEIoCIQYgAyADKAIMQQAQVCABQRBqIgggBiADEFMgAygCDCEHIAgQFkEIahAsIQogAygCFCELIAMoAhAhDCMAQRBrIgYkACAGIAc2AgwgBiAKNgIIIAYgCzYCBCAGIAw2AgAgBigCDCEKIAYoAgghCyAGKAIEIQwgBigCACEOIwBBEGsiByQAIAcgCjYCDCAHIAs2AgggByAMNgIEIAcgDjYCACAHKAIEIQsgBygCACEMIwBBEGsiCiAHKAIINgIMIAogCzYCCCAKIAw2AgQgCigCDCILIAooAggpAwA3AwAgCyAKKAIEKQMANwMIIAdBEGokACAGQRBqJAAgCBA/QQE6AAQgAygCGCEGIAgQFiAGNgIEIAgQFkEANgIAIANBAToACyADLQALQQFxRQRAIAgQhQILIANBIGokAAJAIAQQHSgCAEEBarMgASgCKLMgBBAwKgIAlF5FBEAgASgCKA0BCyABIAEoAigiA0EBdCADEKMBQQFzcjYCDCABAn8gBBAdKAIAQQFqsyAEEDAqAgCVIRsjAEEQayIDIBs4AgwgAyoCDI0iG0MAAIBPXSAbQwAAAABgcQRAIBupDAELQQALNgIIIAQgAUEMaiABQQhqEEooAgAQiwIgASAEEDQ2AiggASABKAIsIAEoAigQJTYCHAsgASAEIAEoAhwQIygCADYCBAJAIAEoAgRFBEAgASAEQQhqEBcQFzYCBCABKAIEKAIAIQMgAUEQahAWIAM2AgAgAUEQahAWEBchAyABKAIEIAM2AgAgASgCBCEDIAQgASgCHBAjIAM2AgAgAUEQahAWKAIABEAgAUEQahAWEBchAyABQRBqEBYoAgAhBiMAQRBrIgcgBjYCDCAEIAcoAgwoAgQgASgCKBAlECMgAzYCAAsMAQsgASgCBCgCACEDIAFBEGoQFiADNgIAIAFBEGoQFiEDIAEoAgQgAzYCAAsgASABQRBqIgMQQjYCICAEEB0iBCAEKAIAQQFqNgIAIAFBAToAJyADEIUCCyABKAIgIQQjAEEQayIDIAE2AgwgAyAENgIIIAMoAgwgAygCCDYCACANIAEgAUEnahBhIAFBQGskACAJIA0QnAIgCS0ABEEBcUUEQCAFKAIUKQMAIQIgCRBRIAI3AwgLIAVBIGokACMAQRBrIgEgADYCDCABQQA2AgggASgCDCIAQaQzNgIAIAAgASgCCDYCBCAJQQE2AmQLIAlB0ABqECcLIAlB4ABqEBoLIAlB6ABqEKUBCyAJQbABaiQAC80BAQN/IwBBIGsiAyQAIAMgADYCHCADIAE2AhggAyACNgIUIAMoAhghAiADKAIUIQQjAEEQayIBJAAgASACNgIMIAEgBDYCCCMAQRBrIgUgASgCDCIEQQRqNgIMIAEoAgggBSgCDCIFKAIEIAUoAgBrSwRAIARBBGogASgCCBCJAQsgBCABKAIINgIQIAFBEGokACMAQRBrIgEgAkEEaiICNgIMIANBCGoiBCABKAIMIgEoAgQgASgCAGsgAhAZEHsgACAEEHggA0EgaiQACyoBAX8jAEEQayIBJAAgASAANgIMIAEoAgwiABCnARogABAiIAFBEGokAAskAQF/IwBBEGsiAiAANgIMIAIgATYCCCACKAIMIAIoAgg2AkQLiwcBCH8jAEEQayIGJAAgBiAANgIMIAYgATcDACAGKAIMEBYhACAGKQMAIQEjAEEQayIHJAAgByAANgIMIAcgATcDACAHKAIMQQhqIQAjAEEQayIIJAAgCCAANgIMIAggBzYCCCAIKAIMIQAgCCgCCCEEIwBBMGsiAyQAIAMgADYCKCADIAQ2AiQgAyADKAIoIgUgAygCJBCUAjYCICADIAUQgAE2AhgjAEEQayIAIANBIGo2AgwgACADQRhqNgIIAkAgACgCDCgCACAAKAIIKAIARgRAIANBADYCLAwBCyMAIgJBEGsiACADQRBqNgIMIAAgA0EgajYCCCAAKAIMIAAoAggoAgA2AgAgAygCECEAIAJBMGsiBCQAIAQgADYCICAEIAU2AhwgBCgCHCEFIAQgBCgCIDYCGCAEKAIYIQIjAEEQayIAIARBKGoiCTYCDCAAIAI2AgggACgCDCAAKAIINgIAIAAgCTYCDCAAKAIMIgAgACgCACgCADYCACAEIAQoAiA2AgAgBCgCACECIwBBMGsiACQAIAAgAjYCKCAAIAU2AiQgACgCJCEFIAAgACgCKDYCICAAIAUQNDYCHCMAQRBrIgIgACgCIDYCDCAAIAIoAgwoAgQgACgCHBAlNgIYIAAgBSAAKAIYECMoAgA2AhQDQCAAKAIUKAIAIAAoAiBHBEAgACAAKAIUKAIANgIUDAELCwJAIAAoAhQgBUEIahAXEBdHBEAjAEEQayICIAAoAhQ2AgwgAigCDCgCBCAAKAIcECUgACgCGEYNAQsCQCAAKAIgKAIABEAjAEEQayICIAAoAiAoAgA2AgwgAigCDCgCBCAAKAIcECUgACgCGEYNAQsgBSAAKAIYECNBADYCAAsLIAAoAiAoAgAEQCMAQRBrIgIgACgCICgCADYCDCAAIAIoAgwoAgQgACgCHBAlNgIQIAAoAhAgACgCGEcEQCAAKAIUIQIgBSAAKAIQECMgAjYCAAsLIAAoAhQgACgCICgCADYCACAAKAIgQQA2AgAgBRAdIgIgAigCAEEBazYCACAAKAIgEBchAiAAQQhqIgkgBRAYQQEQVCAEQQhqIgUgAiAJEFMgAEEwaiQAIAUQogEgBCgCKCEAIARBMGokACADIAA2AgggA0EBNgIsCyADKAIsIQAgA0EwaiQAIAhBEGokACAHQRBqJAAgBkEQaiQAIABBAUYLUwEDfyMAQRBrIgEkACABIAA2AgwgAUEIaiICIAEoAgwiABCBARCiAiAAQQxqEJ8CIAIhAyMAQRBrIgIgADYCDCADIAIoAgxBARChAiABQRBqJAALJwEBfyMAQRBrIgEkACABIAA2AgwgASgCDBCBARCHARogAUEQaiQACyoBAX8jAEEQayIBJAAgASAANgIMIAEoAgwiABCgAhogABAiIAFBEGokAAsYAQF/IwBBEGsiASAANgIMIAEoAgwoAjwLGAEBfyMAQRBrIgEgADYCDCABKAIMKAI4CykBAX8jAEEQayIBJAAgASAANgIMIAEoAgxBNGoQFiEAIAFBEGokACAACxgBAX8jAEEQayIBIAA2AgwgASgCDCgCMAspAQF/IwBBEGsiASQAIAEgADYCDCABKAIMQSxqEBYhACABQRBqJAAgAAvwFwIRfwF9IwBBEGsiDSQAIA0gADYCDCANIAE3AwAgDSgCDCIAEBYhAiANKQMAIQEgAEEEahAZIQMgACgCECEAIwBBMGsiCiQAIAogAjYCLCAKIAE3AyAgCiADNgIcIAogADYCGCAKKAIcIQAgCigCGCECIAooAiwiDygCBCEDIwBBIGsiCSQAIAkgADYCHCAJIAI2AhggCSADNgIUIwBBEGsiBiQAIAYgCUEcajYCDCAGIAlBGGo2AgggBiAJQRRqNgIEIAYQVhogBigCDCEAIAYoAgghAiAGKAIEIQMjAEFAaiIHJAAgByAGNgI8IAcgADYCOCAHIAI2AjQgByADNgIwIwBBEGsiACQAIAAgB0EgaiIMNgIEIABBATYCACAAKAIEIgIgAEEIahCiAiACIAAoAgA2AgQgAiESIAIoAgQhBCMAQRBrIgMkACADIAI2AgwgAyAENgIIIAMoAgwhBCADKAIIIQUjAEEQayICJAAgAiAENgIMIAIgBTYCCCACKAIIIREgAigCDCEFIwBBEGsiBCQAIAQgBTYCDCMAQRBrIAQoAgw2AgwgBEEQaiQAIBFB16H5GksEQBA5AAsgAigCCEHMAGxBBBBBIQQgAkEQaiQAIANBEGokACASIAQ2AgggAEEQaiQAIwAiAEEQayICIAw2AgwgAigCDCgCCCECIAcoAjghAyAHKAI0IQQgBygCMCEIIABBIGsiBSQAIAUgAjYCFCAFIAM2AhAgBSAENgIMIAUgCDYCCCAFKAIUIQIjAEEQayIAJAAgACACNgIMIABBADYCCCAAKAIIIQgjAEEQayIDIAAoAgwiBDYCDCADIAg2AgggAygCDCIIQdjgADYCACAIIAMoAgg2AgQgBEGQ4QA2AgAgBCAAKAIINgIIIABBEGokACACQdwwNgIAIwBBEGsiACQAIAAgAkEMajYCDCAAIAVBGGo2AgggACgCDBCrARogAEEQaiQAIAIQgQEhAiAFKAIQKAIAIQMgBSgCDCgCACEEIAUoAggoAgAhCCMAQUBqIgAkACAAIAI2AjggACADNgI0IAAgBDYCMCAAIAg2AiwgACAAKAI4IgI2AjwgACgCNCEDIAAoAjAhCCAAKAIsIQsjAEEgayIEJAAgBCACNgIcIAQgAzYCGCAEIAg2AhQgBCALNgIQIAQoAhwiA0HsLzYCACADQQRqIggQKiADIAQoAhQ2AgggA0EMahAqIANBADYCECADQRRqECogA0EANgIYIANBHGoQKiADQQA2AiAgA0EkahAqIANBADYCKCADQSxqECogA0EANgIwIANBNGoQKiADQQA2AjggA0EANgI8IAQgBCgCFBAfNgIIIAggBEEIaiIDEEAgAxAaIAgQFiAEKAIYIAQoAhQQGxogBEEgaiQAIAJBlCo2AgAgAigCPEUEQCACQRA2AhggAkEMNgIgIAJBEDYCMCACQSA2AjggAkHAADYCECAAIAIoAhAQHzYCKCACQQxqIABBKGoiAxBAIAMQGiAAIAIoAhgQHzYCICACQRRqIABBIGoiAxBAIAMQGiAAIAIoAiAQHzYCGCACQRxqIABBGGoiAxBAIAMQGiACQcAANgIoIAAgAigCKBAfNgIQIAJBJGogAEEQaiIDEEAgAxAaIAAgAigCMBAfNgIIIAJBLGogAEEIaiIDEEAgAxAaIAAgAigCOBAfNgIAIAJBNGogABBAIAAQGiACELcBGgsgACgCPBogAEFAayQAIAVBIGokACMAQRBrIgAgDDYCDCAAIAAoAgwiAigCCDYCCCACQQA2AgggByAAKAIINgIMIAcoAgwQgQEhAiAHKAIMIQMjAEEgayIAJAAgACACNgIcIAAgAzYCGCAAQQA6ABcjAEEQayIDIAlBCGoiAjYCDCADKAIMIgNBADYCACADQQA2AgQgAiAAKAIcNgIAIAIgACgCGDYCBCAAIAIoAgAiAzYCBCAAIAM2AgAjAEEQayACNgIMIABBAToAFyAALQAXQQFxRQRAIAIQOAsgAEEgaiQAIwBBEGsiACQAIAAgDDYCCCAAIAAoAggiAzYCDCADKAIIBEAgAyADKAIIIAMoAgQQoQILIAAoAgwaIABBEGokACAHQUBrJAAgBkEQaiQAIApBEGoiCCACEK8BIAIQOCAJQSBqJAAgCkEIaiEMIwBBIGsiByQAIAcgD0EIajYCHCAHIApBIGo2AhggByAINgIUIAdBCGohDyAHKAIcIQMgBygCGCECIAcoAhQhBCMAQUBqIgAkACAAIAM2AjwgACACNgI4IAAgAjYCNCAAIAQ2AjAgACAAKAI8IgMQHSAAKAI4EH42AiwgACADEDQ2AiggAEEAOgAnAkAgACgCKARAIAAgACgCLCAAKAIoECU2AhwgACADIAAoAhwQIygCADYCICAAKAIgBEAgACAAKAIgKAIANgIgA0AgACgCIAR/IwBBEGsiAiAAKAIgNgIMIAIoAgwoAgQgACgCLEcEfyMAQRBrIgIgACgCIDYCDCACKAIMKAIEIAAoAigQJSAAKAIcRgVBAQsFQQALQQFxBEAgAxAwIAAoAiAQF0EIaiAAKAI4EH1BAXENBCAAIAAoAiAoAgA2AiAMAQsLCwsgACgCLCEEIAAoAjQhBSAAKAIwIQYjAEEgayICJAAgAiADNgIcIAIgBDYCGCACIAU2AhQgAiAGNgIQIAIgAigCHBAYNgIMIAJBADoACyACKAIMEIoCIQQgAiACKAIMQQAQVCAAQRBqIgkgBCACEFMgAigCDCEFIAkQFkEIahAsIQYgAigCFCELIAIoAhAhDiMAQRBrIgQkACAEIAU2AgwgBCAGNgIIIAQgCzYCBCAEIA42AgAgBCgCDCEGIAQoAgghCyAEKAIEIQ4gBCgCACEQIwBBEGsiBSQAIAUgBjYCDCAFIAs2AgggBSAONgIEIAUgEDYCACAFKAIIIQsgBSgCBCEOIAUoAgAhECMAQRBrIgYkACAGIAs2AgwgBiAONgIIIAYgEDYCBCAGKAIMIgsgBigCCCkDADcDACALQQhqIAYoAgQQrwEgBkEQaiQAIAVBEGokACAEQRBqJAAgCRA/QQE6AAQgAigCGCEEIAkQFiAENgIEIAkQFkEANgIAIAJBAToACyACLQALQQFxRQRAIAkQogELIAJBIGokAAJAIAMQHSgCAEEBarMgACgCKLMgAxAwKgIAlF5FBEAgACgCKA0BCyAAIAAoAigiAkEBdCACEKMBQQFzcjYCDCAAAn8gAxAdKAIAQQFqsyADEDAqAgCVIRMjAEEQayICIBM4AgwgAioCDI0iE0MAAIBPXSATQwAAAABgcQRAIBOpDAELQQALNgIIIAMgAEEMaiAAQQhqEEooAgAQiwIgACADEDQ2AiggACAAKAIsIAAoAigQJTYCHAsgACADIAAoAhwQIygCADYCBAJAIAAoAgRFBEAgACADQQhqEBcQFzYCBCAAKAIEKAIAIQIgAEEQahAWIAI2AgAgAEEQahAWEBchAiAAKAIEIAI2AgAgACgCBCECIAMgACgCHBAjIAI2AgAgAEEQahAWKAIABEAgAEEQahAWEBchAiAAQRBqEBYoAgAhBCMAQRBrIgUgBDYCDCADIAUoAgwoAgQgACgCKBAlECMgAjYCAAsMAQsgACgCBCgCACECIABBEGoQFiACNgIAIABBEGoQFiECIAAoAgQgAjYCAAsgACAAQRBqIgIQQjYCICADEB0iAyADKAIAQQFqNgIAIABBAToAJyACEKIBCyAAKAIgIQMjAEEQayICIAA2AgwgAiADNgIIIAIoAgwgAigCCDYCACAPIAAgAEEnahBhIABBQGskACAMIA8QnAIgDC0ABEEBcUUEQCAHKAIUIQIgDBBRQQhqIQMjAEEQayIAJAAgACADNgIMIAAgAjYCCCAAKAIMIQMgACAAKAIIEK8BIwBBEGsiAiQAIAIgADYCDCACIAM2AgggAigCDCIDIAIoAggQLSADQQRqIAIoAghBBGoQLSACQRBqJAAgABA4IABBEGokAAsgB0EgaiQAIAgQOCAKQTBqJAAgDUEQaiQAQQELGAEBfyMAQRBrIgEgADYCDCABKAIMKAIgCykBAX8jAEEQayIBJAAgASAANgIMIAEoAgxBHGoQFiEAIAFBEGokACAACxgBAX8jAEEQayIBIAA2AgwgASgCDCgCGAspAQF/IwBBEGsiASQAIAEgADYCDCABKAIMQRRqEBYhACABQRBqJAAgAAspAQF/IwBBEGsiASQAIAEgADYCDCABKAIMQQRqEBYhACABQRBqJAAgAAthAQN/IwBBEGsiAyQAIAMgADYCDCMAQRBrIgAkACAAQcTpADYCDCAAKAIMIQEjAEEQayICJAAgAiABNgIMIAIoAgwiASABEIUBEKwBIAJBEGokACAAQRBqJAAgA0EQaiQAC2EBA38jAEEQayIDJAAgAyAANgIMIwBBEGsiACQAIABBuOkANgIMIAAoAgwhASMAQRBrIgIkACACIAE2AgwgAigCDCIBIAEQhQEQrQEgAkEQaiQAIABBEGokACADQRBqJAALigIBBX8jAEEQayIEJAAgBCAANgIMIAQgATYCCCAEKAIIQTRqIQEjAEEQayICJAAgAiAANgIMIAIgATYCCCACKAIMIQUgAigCCCEBIwBBIGsiACQAIAAgAjYCFCAAIAE2AhAjAEEQayIBIAAoAhQ2AgwgACABKAIMNgIMIAAoAhAhAyAAIABBDGo2AhwgACADNgIYIAAoAhwhAyABIAAoAhgoAgA2AgwgASgCDCEGIAEgAzYCDCABIAY2AgggASgCDCgCACABKAIINgIAIAEoAgwiAyADKAIAQQhqNgIAIAEgACgCHDYCDCAAQSBqJAAgBUGcJyACEBcQCDYCACACQRBqJAAgBEEQaiQACxgBAX8jAEEQayIBIAA2AgwgASgCDCgCBAsYAQF/IwBBEGsiASAANgIMIAEoAgwoAggL0xEBBn8jAEGQBGsiACQAIwBBEGsiASQAIAEgAEG4AWoiAjYCDCABQfkPNgIIIAEoAgwaQewlIAEoAghBBEEBEAYgAUEQaiQAIAJB/hZBABCCAkGIF0EBEIICGiMAQRBrIgEkACABIABBsAFqIgI2AgwgAUGmDzYCCCABKAIMGkG0JiABKAIIQQRBARAGIAFBEGokACMAQRBrIgEkACABIAI2AgwgAUHDIDYCCCABQQA2AgQgASgCDBpBtCYgASgCCCABKAIEEAUgAUEQaiQAIwBBEGsiASQAIAEgAEGoAWoiAjYCDCABQakKNgIIIAEoAgwaQfwmIAEoAghBBEEBEAYgAUEQaiQAIAJB6RlBAxBtQfEeQQEQbUH5FkEAEG1BoiBBAhBtGiMAQRBrIgEkACABIABBoAFqIgI2AgwgAUH5CjYCCCABKAIMGkGcJyABKAIIQQRBARAGIAFBEGokACACQe0YQQAQOkHVFkEBEDpB5xZBAhA6QdIZQQMQOkGAGkEEEDpB7hlBBRA6QZIXQQYQOkGqF0EHEDoaIAAgAEGYAWoiATYC0AEgAEGEEDYCzAEgAEECNgLIASAAQQA2AsQBIABBADYCwAEgAEEDNgK8ASAAIAAoAsgBNgL4AyAAKALIASECIAAgACgCxAE2AoAEIAAoAsQBIQMgACAAKALAATYC/AMgACgCwAEhBCAAKALMASEFIAAgACgCvAE2AoQEQbQnQcwnQewnQQBB/CcgAkH/JyADQf8nIAQgBUGBKCAAKAK8ARAUIAAgATYC1AEgACAAKALUATYCjAQgAEEENgKIBCAAKAKMBCEDIAAoAogEIQIjAEEgayIBJAAgASACNgIYIAFBDjYCDCMAQRBrIAFBEGoiBDYCDCMAQRBrIgIkACACIAQ2AgwgAkEQaiQAIAEgASgCDDYCHEG0J0EDQYQoQZAoIAEoAgwgASgCGBAOIAFBIGokACAAQQA2ApQBIABBBTYCkAEgACAAKQOQATcD2AEgACgC2AEhASAAKALcASECIAAgAzYC9AEgAEGADDYC8AEgACACNgLsASAAIAE2AugBIAAoAvQBIQMgACgC8AEhAiAAKALoASEBIAAgACgC7AE2AuQBIAAgATYC4AEgACAAKQPgATcDQCMAQSBrIgEkACAAQUBrIgQoAgAhBSAEKAIEIQQgASACNgIYIAEgBDYCFCABIAU2AhAgAUEPNgIMIAEoAhghBCMAQRBrIAFBCGoiBTYCDCMAQRBrIgIkACACIAU2AgwgAkEQaiQAIAEgASgCDDYCHEG0JyAEQQNBmChBkCggASgCDCABQRBqEFVBABAEIAFBIGokACAAQQA2AowBIABBBjYCiAEgACAAKQOIATcDuAIgACgCuAIhASAAKAK8AiECIAAgAzYC1AIgAEGODjYC0AIgACACNgLMAiAAIAE2AsgCIAAoAtQCIQEgACgC0AIhAiAAKALIAiEDIAAgACgCzAI2AsQCIAAgAzYCwAIgACAAKQPAAjcDOCACIABBOGoQswEgAEEANgKEASAAQQc2AoABIAAgACkDgAE3A5gCIAAoApgCIQIgACgCnAIhAyAAIAE2ArQCIABB9go2ArACIAAgAzYCrAIgACACNgKoAiAAKAK0AiEBIAAoArACIQIgACgCqAIhAyAAIAAoAqwCNgKkAiAAIAM2AqACIAAgACkDoAI3AzAgAiAAQTBqELMBIABBADYCfCAAQQg2AnggACAAKQN4NwP4AiAAKAL4AiECIAAoAvwCIQMgACABNgKUAyAAQasINgKQAyAAIAM2AowDIAAgAjYCiAMgACgClAMhASAAKAKQAyECIAAoAogDIQMgACAAKAKMAzYChAMgACADNgKAAyAAIAApA4ADNwMoIAIgAEEoahCjAiAAQQA2AnQgAEEJNgJwIAAgACkDcDcD2AIgACgC2AIhAiAAKALcAiEDIAAgATYC9AIgAEGdCDYC8AIgACADNgLsAiAAIAI2AugCIAAoAvQCIQEgACgC8AIhAiAAKALoAiEDIAAgACgC7AI2AuQCIAAgAzYC4AIgACAAKQPgAjcDICACIABBIGoQowIgAEEANgJsIABBCjYCaCAAIAApA2g3A5gDIAAoApgDIQIgACgCnAMhAyAAIAE2ArQDIABBpgo2ArADIAAgAzYCrAMgACACNgKoAyAAKAK0AyEDIAAoArADIQIgACgCqAMhASAAIAAoAqwDNgKkAyAAIAE2AqADIAAgACkDoAM3AxgjAEEgayIBJAAgACgCGCEEIAAoAhwhBSABIAI2AhggASAFNgIUIAEgBDYCECABQRI2AgwgASgCGCEEIwBBEGsgAUEIaiIFNgIMIwBBEGsiAiQAIAIgBTYCDCACQRBqJAAgASABKAIMNgIcQbQnIARBA0GAKUGMKSABKAIMIAFBEGoQVUEAEAQgAUEgaiQAIABBADYCZCAAQQs2AmAgACAAKQNgNwPYAyAAKALYAyEBIAAoAtwDIQIgACADNgL0AyAAQakLNgLwAyAAIAI2AuwDIAAgATYC6AMgACgC9AMhASAAKALwAyECIAAoAugDIQMgACAAKALsAzYC5AMgACADNgLgAyAAIAApA+ADNwMQIAIgAEEQahCSAiAAQQA2AlwgAEEMNgJYIAAgACkDWDcDuAMgACgCuAMhAiAAKAK8AyEDIAAgATYC1AMgAEGgEDYC0AMgACADNgLMAyAAIAI2AsgDIAAoAtQDIQEgACgC0AMhAiAAKALIAyEDIAAgACgCzAM2AsQDIAAgAzYCwAMgACAAKQPAAzcDCCACIABBCGoQkgIgAEEANgJUIABBDTYCUCAAIAApA1A3A/gBIAAoAvgBIQIgACgC/AEhAyAAIAE2ApQCIABBkRA2ApACIAAgAzYCjAIgACACNgKIAiAAKAKQAiEBIAAoAogCIQIgACAAKAKMAjYChAIgACACNgKAAiAAIAApA4ACNwNIIAEgAEHIAGoQswEgAEGQBGokAAsL8F0MAEGACAv+ImFlc19pbml0X2tleQBhZXNfY3RyX3NldF9rZXkAcmVtb3ZlQmFzZUtleQBhZGRPclVwZGF0ZUJhc2VLZXkARVZQX01EX0NUWF9jb3B5X2V4AEVWUF9EaWdlc3RJbml0X2V4AEVWUF9DaXBoZXJJbml0X2V4AEhNQUNfSW5pdF9leABFVlBfRGlnZXN0RmluYWxfZXgARVZQX0VuY3J5cHRGaW5hbF9leABFVlBfRGVjcnlwdEZpbmFsX2V4AF9fbmV4dF9wcmltZSBvdmVyZmxvdwB1bnNpZ25lZCBzaG9ydABhZXNfbm9od19jYmNfZW5jcnlwdABDUllQVE9fY3RyMTI4X2VuY3J5cHQAdW5zaWduZWQgaW50AHNoYTI1Nl9pbml0AHNldFNraXBPZmZzZXQAYWVzX25vaHdfYmF0Y2hfc2V0AGFlc19ub2h3X2JhdGNoX2dldABIS0RGX2V4dHJhY3QAZmxvYXQAdWludDY0X3QAZ2V0U3RhdHVzAGxoLT5udW1fYnVja2V0cyA+PSBrTWluTnVtQnVja2V0cwB2ZWN0b3IAZ2V0S2V5QnVmZmVyAGJsb2NrX3JlbWFpbmRlcgB1bnNpZ25lZCBjaGFyAEVWUF9NRF9DVFhfY2xlYW51cABrZXkgJiYgZWNvdW50X2J1ZiAmJiBudW0AcnVuQWxnb3JpdGhtAHNoYTI1Nl9maW5hbF9pbXBsAGJvb2wAZW1zY3JpcHRlbjo6dmFsAHNoYTI1Nl9maW5hbABjcnlwdG9fbWQzMl9maW5hbABhZXNfbm9od190b19iYXRjaABhZXNfbm9od19mcm9tX2JhdGNoAGV4dGVybmFsL2JvcmluZ3NzbC9zcmMvY3J5cHRvL2ZpcHNtb2R1bGUvbWQ0Ly4uL2RpZ2VzdC9tZDMyX2NvbW1vbi5oAGV4dGVybmFsL2Vtc2NyaXB0ZW5fYmluX2xpbnV4L2Vtc2NyaXB0ZW4vY2FjaGUvc3lzcm9vdC9pbmNsdWRlL2Vtc2NyaXB0ZW4vdmFsLmgAZ2V0RGVidWcAdW5zaWduZWQgbG9uZwBzdGQ6OndzdHJpbmcAc3RkOjpzdHJpbmcAc3RkOjp1MTZzdHJpbmcAc3RkOjp1MzJzdHJpbmcAZm91bmQgPT0gYnVmAGxoX21heWJlX3Jlc2l6ZQBFVlBfTURfc2l6ZShtZCkgPD0gYmxvY2tfc2l6ZQBuIDwgYmxvY2tfc2l6ZQBDaXBoZXJTdWl0ZQBzaGEyNTZfdXBkYXRlAEVWUF9FbmNyeXB0VXBkYXRlAEVWUF9EZWNyeXB0VXBkYXRlAHdyaXRlR2VuZXJpY1dpcmVUeXBlAEVuZ2luZVR5cGUAU0ZyYW1lRW5naW5lAGdldE91dHB1dEZyYW1lAGdldElucHV0RnJhbWUAZG91YmxlAENSWVBUT19CVUZGRVJfZnJlZQB2b2lkAE9QRU5TU0xfbWFsbG9jAGV4dGVybmFsL2JvcmluZ3NzbC9zcmMvY3J5cHRvL2ZpcHNtb2R1bGUvYWVzL2Flc19ub2h3LmMAZXh0ZXJuYWwvYm9yaW5nc3NsL3NyYy9jcnlwdG8vZmlwc21vZHVsZS9kaWdlc3QvZGlnZXN0LmMAZXh0ZXJuYWwvYm9yaW5nc3NsL3NyYy9jcnlwdG8vZmlwc21vZHVsZS9kaWdlc3QvZGlnZXN0cy5jAGV4dGVybmFsL2JvcmluZ3NzbC9zcmMvY3J5cHRvL2ZpcHNtb2R1bGUvY2lwaGVyL2VfYWVzLmMAZXh0ZXJuYWwvYm9yaW5nc3NsL3NyYy9jcnlwdG8vZmlwc21vZHVsZS9tb2Rlcy9jdHIuYwBleHRlcm5hbC9ib3Jpbmdzc2wvc3JjL2NyeXB0by9maXBzbW9kdWxlL2NpcGhlci9jaXBoZXIuYwBleHRlcm5hbC9ib3Jpbmdzc2wvc3JjL2NyeXB0by9tZW0uYwBleHRlcm5hbC9ib3Jpbmdzc2wvc3JjL2NyeXB0by9wb29sL3Bvb2wuYwBleHRlcm5hbC9ib3Jpbmdzc2wvc3JjL2NyeXB0by9saGFzaC9saGFzaC5jAGV4dGVybmFsL2JvcmluZ3NzbC9zcmMvY3J5cHRvL2ZpcHNtb2R1bGUvaGtkZi9oa2RmLmMAZXh0ZXJuYWwvYm9yaW5nc3NsL3NyYy9jcnlwdG8vY2lwaGVyX2V4dHJhL2VfYWVzY3RyaG1hYy5jAGV4dGVybmFsL2JvcmluZ3NzbC9zcmMvY3J5cHRvL2ZpcHNtb2R1bGUvaG1hYy9obWFjLmMAZXh0ZXJuYWwvYm9yaW5nc3NsL3NyYy9jcnlwdG8vZXhfZGF0YS5jAGV4dGVybmFsL2JvcmluZ3NzbC9zcmMvY3J5cHRvL2ZpcHNtb2R1bGUvc2hhL3NoYTI1Ni5jAENSWVBUT19mcmVlX2V4X2RhdGEAc2hvcnRfcHRyIDw9IFVJTlQzMl9NQVgARkFJTEVEX1RPX0VOQ1JZUFQARkFJTEVEX1RPX0RFQ1JZUFQAT1BVUwBFTkNSWVBUT1IAREVDUllQVE9SAEZBSUxfUEFSU0VfQ09ERUNfSEVBREVSAFVOS05PV04AY3R4LT5wY3R4ID09IE5VTEwgfHwgY3R4LT5wY3R4X29wcyAhPSBOVUxMAG91dC0+cGN0eCA9PSBOVUxMIHx8IG91dC0+cGN0eF9vcHMgIT0gTlVMTABpbi0+cGN0eCA9PSBOVUxMIHx8IGluLT5wY3R4X29wcyAhPSBOVUxMAE9QRU5TU0xfbWVtb3J5X2dldF9zaXplICE9IE5VTEwAT1BFTlNTTF9tZW1vcnlfZnJlZSAhPSBOVUxMAE9LAG51bV9ibG9ja3MgPD0gQUVTX05PSFdfQkFUQ0hfU0laRQBpIDwgQUVTX05PSFdfQkFUQ0hfU0laRQBjdHgtPmRpZ2VzdC0+bWRfc2l6ZSA8PSBFVlBfTUFYX01EX1NJWkUARkFJTEVEX1RPX0FVVEhFTlRJQ0FURQBOT05FAE5VTExfT1VUUFVUX0ZSQU1FAE5VTExfSU5QVVRfRlJBTUUAZW1zY3JpcHRlbjo6bWVtb3J5X3ZpZXc8c2hvcnQ+AGVtc2NyaXB0ZW46Om1lbW9yeV92aWV3PHVuc2lnbmVkIHNob3J0PgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzxpbnQ+AGVtc2NyaXB0ZW46Om1lbW9yeV92aWV3PHVuc2lnbmVkIGludD4AZW1zY3JpcHRlbjo6bWVtb3J5X3ZpZXc8ZmxvYXQ+AGVtc2NyaXB0ZW46Om1lbW9yeV92aWV3PHVpbnQ4X3Q+AGVtc2NyaXB0ZW46Om1lbW9yeV92aWV3PGludDhfdD4AZW1zY3JpcHRlbjo6bWVtb3J5X3ZpZXc8dWludDE2X3Q+AGVtc2NyaXB0ZW46Om1lbW9yeV92aWV3PGludDE2X3Q+AGVtc2NyaXB0ZW46Om1lbW9yeV92aWV3PHVpbnQzMl90PgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzxpbnQzMl90PgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzxjaGFyPgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzx1bnNpZ25lZCBjaGFyPgBzdGQ6OmJhc2ljX3N0cmluZzx1bnNpZ25lZCBjaGFyPgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzxzaWduZWQgY2hhcj4AZW1zY3JpcHRlbjo6bWVtb3J5X3ZpZXc8bG9uZz4AZW1zY3JpcHRlbjo6bWVtb3J5X3ZpZXc8dW5zaWduZWQgbG9uZz4AZW1zY3JpcHRlbjo6bWVtb3J5X3ZpZXc8ZG91YmxlPgBWUDgAa2V5X2J5dGVzID09IDEyOCAvIDggfHwga2V5X2J5dGVzID09IDE5MiAvIDggfHwga2V5X2J5dGVzID09IDI1NiAvIDgAY3R4LT5jaXBoZXItPmJsb2NrX3NpemUgPT0gMSB8fCBjdHgtPmNpcGhlci0+YmxvY2tfc2l6ZSA9PSA4IHx8IGN0eC0+Y2lwaGVyLT5ibG9ja19zaXplID09IDE2ACpudW0gPCAxNgBIMjY0AENSWVBUT19jdHIxMjhfZW5jcnlwdF9jdHIzMgBBRVNfQ1RSXzEyOF9ITUFDX1NIQTI1Nl84MABsZW4gJSAxNiA9PSAwAG1kX2xlbiAlIDQgPT0gMAAoY3R4LT5jaXBoZXItPmJsb2NrX3NpemUgJiAoY3R4LT5jaXBoZXItPmJsb2NrX3NpemUgLSAxKSkgPT0gMABpbi0+ZGlnZXN0LT5jdHhfc2l6ZSAhPSAwAHR5cGUtPmN0eF9zaXplICE9IDAAY3R4LT5jaXBoZXItPmJsb2NrX3NpemUgIT0gMABFVlBfQ0lQSEVSX0NUWF9pdl9sZW5ndGgoY3R4KSA8PSBzaXplb2YoY3R4LT5pdikAbGVuID09IDAgfHwgKGluICYmIG91dCkAKm91dF9sZW4gPT0gRVZQX01EX3NpemUoZGlnZXN0KQBTSEEyNTZfVXBkYXRlKGN0eC0+bWRfZGF0YSwgZGF0YSwgY291bnQpAGIgPD0gc2l6ZW9mKGN0eC0+ZmluYWwpAGtleV9sZW4gPD0gc2l6ZW9mKGtleV9ibG9jaykAYmxvY2tfc2l6ZSA8PSBzaXplb2Yoa2V5X2Jsb2NrKQBibCA8PSAoaW50KXNpemVvZihjdHgtPmJ1ZikAYiA8PSBzaXplb2YoY3R4LT5idWYpAG51bV9mdW5jcyA8PSAoc2l6ZV90KShJTlRfTUFYIC0gZXhfZGF0YV9jbGFzcy0+bnVtX3Jlc2VydmVkKQBTSEEyNTZfSW5pdChjdHgtPm1kX2RhdGEpAFNIQTI1Nl9GaW5hbChtZCwgY3R4LT5tZF9kYXRhKQB2cGFlc19jYXBhYmxlKCkAUHVyZSB2aXJ0dWFsIGZ1bmN0aW9uIGNhbGxlZCEATjZ2b25hZ2UyMVNGcmFtZUVuZ2luZUludGVyZmFjZTRUeXBlRQAAAAAkMwAAwxIAAE42dm9uYWdlMjZTRnJhbWVDaXBoZXJzdWl0ZUludGVyZmFjZTIzU0ZyYW1lRW5naW5lQ2lwaGVyU3VpdGVFAAAkMwAA9BIAAE42dm9uYWdlMjFTRnJhbWVFbmdpbmVJbnRlcmZhY2UyNlRhcmdldFBheWxvYWRGb3JTa2lwT2Zmc2V0RQAAAAAkMwAAPBMAAE42dm9uYWdlMTJTZnJhbWVTdGF0dXNFACQzAACEEwAAMTBTRnJhbWVXYXNtAAAAAHAzAACkEwAAUDEwU0ZyYW1lV2FzbQAAAFA0AAC8EwAAAAAAALQTAABQSzEwU0ZyYW1lV2FzbQAAUDQAANwTAAABAAAAtBMAAGlpAHYAdmkAzBMAAOwSAAA0EwAAaWlpaQAAAADAMgAAzBMAAPwyAABAFAAAzBMAAE4xMGVtc2NyaXB0ZW4zdmFsRQAAcDMAACwUAABpaWkATjEwZW1zY3JpcHRlbjExbWVtb3J5X3ZpZXdJaEVFAABwMwAATBQAAHgyAADMEwAA/DIAAGAyAADMEwAAfBMAAHZpaWkAAAAAQBQAAMwTAADkMgAAAAAAAAAVAAAUAAAAFQAAABYAAAAXAAAAGAAAABkAAABONnZvbmFnZTUxQm9yaW5nU1NMU0ZyYW1lX0FFU19DVFJfMTI4X0hNQUNfU0hBMjU2X0NpcGhlcnN1aXRlRQAAmDMAAMAUAADMFQAAAAAAAHQVAAAaAAAAGwAAABwAAAAdAAAAHgAAAB8AAAAgAAAAIQAAACIAAAAjAAAAJAAAACUAAAAmAAAAJwAAAE42dm9uYWdlMjVCb3JpbmdTU0xTRnJhbWVEZXJpdmVkS2V5RQAAAACYMwAATBUAAEwYAEGIKwtYzBUAACgAAAApAAAAFgAAACoAAAAqAAAAKgAAAE42dm9uYWdlMjZTRnJhbWVDaXBoZXJzdWl0ZUludGVyZmFjZUUAAABwMwAApBUAAAAAAABTRnJhbWUxMABBqCwLHQgAAAABAAAAU0ZyYW1lMTAgQUVTIENUUiBBRUFEAEGALQsLFQAAAAAAAABrZXkAQdgtCwwDAAAAAQAAAHNhbHQAQbAuCwsEAAAAAgAAAGVuYwBBiC8LDAMAAAADAAAAYXV0aABB4C8LoQQEAAAAAAAAAEwYAAAtAAAALgAAABwAAAAdAAAAHgAAAB8AAAAgAAAAIQAAACIAAAAjAAAAJAAAACUAAAAmAAAAKgAAAE42dm9uYWdlMjVTRnJhbWVEZXJpdmVkS2V5SW50ZXJmYWNlRQAAAABwMwAAJBgAAAAAAADIGAAALwAAADAAAAAxAAAAMgAAADMAAABOU3QzX18yMjBfX3NoYXJlZF9wdHJfZW1wbGFjZUlONnZvbmFnZTI1Qm9yaW5nU1NMU0ZyYW1lRGVyaXZlZEtleUVOU185YWxsb2NhdG9ySVMyX0VFRUUAmDMAAHAYAADEMAAAAAAAADQZAAA4AAAAOQAAACoAAAAAAAAAYBkAADYAAAA6AAAAOwAAAAAAAACQGQAANwAAADwAAAA9AAAATjZ2b25hZ2UyMVNGcmFtZUVuZ2luZUludGVyZmFjZUUAAAAAcDMAABAZAABONnZvbmFnZTIxU0ZyYW1lRW5naW5lRW5jcnlwdG9yRQAAAACYMwAAPBkAADQZAABONnZvbmFnZTIxU0ZyYW1lRW5naW5lRGVjcnlwdG9yRQAAAACYMwAAbBkAADQZAAAAAAAAxBkAAD4AAAA/AAAATjZ2b25hZ2UxMlNmcmFtZVJlc3VsdEUAcDMAAKwZAAABAAAAEAAAAAABAABGBQAAACAAAABAAAAwDCAgAAAAAEUAAAAAAAAARgAAAAAAAABHAAAASABBjDQLCgECBAgQIECAGzYAQaA0C6gpmC+KQpFEN3HP+8C1pdu16VvCVjnxEfFZpII/ktVeHKuYqgfYAVuDEr6FMSTDfQxVdF2+cv6x3oCnBtybdPGbwcFpm+SGR77vxp3BD8yhDCRvLOktqoR0StypsFzaiPl2UlE+mG3GMajIJwOwx39Zv/ML4MZHkafVUWPKBmcpKRSFCrcnOCEbLvxtLE0TDThTVHMKZbsKanYuycKBhSxykqHov6JLZhqocItLwqNRbMcZ6JLRJAaZ1oU1DvRwoGoQFsGkGQhsNx5Md0gntbywNLMMHDlKqthOT8qcW/NvLmjugo90b2OleBR4yIQIAseM+v++kOtsUKT3o/m+8nhxxoxiIAvSoHJYRKiWaa1VfuwDAE5TdDNfXzIxMmJhc2ljX3N0cmluZ0ljTlNfMTFjaGFyX3RyYWl0c0ljRUVOU185YWxsb2NhdG9ySWNFRUVFAAAAAHAzAAAyGwAATlN0M19fMjEyYmFzaWNfc3RyaW5nSWhOU18xMWNoYXJfdHJhaXRzSWhFRU5TXzlhbGxvY2F0b3JJaEVFRUUAAHAzAAB8GwAATlN0M19fMjEyYmFzaWNfc3RyaW5nSXdOU18xMWNoYXJfdHJhaXRzSXdFRU5TXzlhbGxvY2F0b3JJd0VFRUUAAHAzAADEGwAATlN0M19fMjEyYmFzaWNfc3RyaW5nSURzTlNfMTFjaGFyX3RyYWl0c0lEc0VFTlNfOWFsbG9jYXRvcklEc0VFRUUAAABwMwAADBwAAE5TdDNfXzIxMmJhc2ljX3N0cmluZ0lEaU5TXzExY2hhcl90cmFpdHNJRGlFRU5TXzlhbGxvY2F0b3JJRGlFRUVFAAAAcDMAAFgcAABOMTBlbXNjcmlwdGVuMTFtZW1vcnlfdmlld0ljRUUAAHAzAACkHAAATjEwZW1zY3JpcHRlbjExbWVtb3J5X3ZpZXdJYUVFAABwMwAAzBwAAE4xMGVtc2NyaXB0ZW4xMW1lbW9yeV92aWV3SXNFRQAAcDMAAPQcAABOMTBlbXNjcmlwdGVuMTFtZW1vcnlfdmlld0l0RUUAAHAzAAAcHQAATjEwZW1zY3JpcHRlbjExbWVtb3J5X3ZpZXdJaUVFAABwMwAARB0AAE4xMGVtc2NyaXB0ZW4xMW1lbW9yeV92aWV3SWpFRQAAcDMAAGwdAABOMTBlbXNjcmlwdGVuMTFtZW1vcnlfdmlld0lsRUUAAHAzAACUHQAATjEwZW1zY3JpcHRlbjExbWVtb3J5X3ZpZXdJbUVFAABwMwAAvB0AAE4xMGVtc2NyaXB0ZW4xMW1lbW9yeV92aWV3SWZFRQAAcDMAAOQdAABOMTBlbXNjcmlwdGVuMTFtZW1vcnlfdmlld0lkRUUAAHAzAAAMHgAAAAAAAAA4+v5CLuY/MGfHk1fzLj0BAAAAAADgv1swUVVVVdU/kEXr////z78RAfEks5nJP5/IBuV1VcW/AAAAAAAA4L93VVVVVVXVP8v9/////8+/DN2VmZmZyT+nRWdVVVXFvzDeRKMkScI/ZT1CpP//v7/K1ioohHG8P/9osEPrmbm/hdCv94KBtz/NRdF1E1K1v5/e4MPwNPc/AJDmeX/M178f6SxqeBP3PwAADcLub9e/oLX6CGDy9j8A4FET4xPXv32MEx+m0fY/AHgoOFu41r/RtMULSbH2PwB4gJBVXda/ugwvM0eR9j8AABh20ALWvyNCIhifcfY/AJCQhsqo1b/ZHqWZT1L2PwBQA1ZDT9W/xCSPqlYz9j8AQGvDN/bUvxTcnWuzFPY/AFCo/aed1L9MXMZSZPb1PwCoiTmSRdS/TyyRtWfY9T8AuLA59O3Tv96QW8u8uvU/AHCPRM6W0794GtnyYZ31PwCgvRceQNO/h1ZGElaA9T8AgEbv4unSv9Nr586XY/U/AOAwOBuU0r+Tf6fiJUf1PwCI2ozFPtK/g0UGQv8q9T8AkCcp4enRv9+9stsiD/U/APhIK22V0b/X3jRHj/P0PwD4uZpnQdG/QCjez0PY9D8AmO+U0O3Qv8ijeMA+vfQ/ABDbGKWa0L+KJeDDf6L0PwC4Y1LmR9C/NITUJAWI9D8A8IZFIuvPvwstGRvObfQ/ALAXdUpHz79UGDnT2VP0PwAwED1EpM6/WoS0RCc69D8AsOlEDQLOv/v4FUG1IPQ/APB3KaJgzb+x9D7aggf0PwCQlQQBwMy/j/5XXY/u8z8AEIlWKSDMv+lMC6DZ1fM/ABCBjReBy78rwRDAYL3zPwDQ08zJ4sq/uNp1KySl8z8AkBIuQEXKvwLQn80ijfM/APAdaHeoyb8ceoTFW3XzPwAwSGltDMm/4jatSc5d8z8AwEWmIHHIv0DUTZh5RvM/ADAUtI/Wx78ky//OXC/zPwBwYjy4PMe/SQ2hdXcY8z8AYDebmqPGv5A5PjfIAfM/AKC3VDELxr9B+JW7TuvyPwAwJHZ9c8W/0akZAgrV8j8AMMKPe9zEvyr9t6j5vvI/AADSUSxGxL+rGwx6HKnyPwAAg7yKsMO/MLUUYHKT8j8AAElrmRvDv/WhV1f6ffI/AECkkFSHwr+/Ox2bs2jyPwCgefi588G/vfWPg51T8j8AoCwlyGDBvzsIyaq3PvI/ACD3V3/OwL+2QKkrASryPwCg/kncPMC/MkHMlnkV8j8AgEu8vVe/v5v80h0gAfI/AEBAlgg3vr8LSE1J9OzxPwBA+T6YF72/aWWPUvXY8T8AoNhOZ/m7v3x+VxEjxfE/AGAvIHncur/pJst0fLHxPwCAKOfDwLm/thosDAGe8T8AwHKzRqa4v71wtnuwivE/AACsswGNt7+2vO8linfxPwAAOEXxdLa/2jFMNY1k8T8AgIdtDl61v91fJ5C5UfE/AOCh3lxItL9M0jKkDj/xPwCgak3ZM7O/2vkQcoss8T8AYMX4eSCyvzG17CgwGvE/ACBimEYOsb+vNITa+wfxPwAA0mps+q+/s2tOD+718D8AQHdKjdqtv86fKl0G5PA/AACF5Oy8q78hpSxjRNLwPwDAEkCJoam/GpjifKfA8D8AwAIzWIinv9E2xoMvr/A/AIDWZ15xpb85E6CY253wPwCAZUmKXKO/3+dSr6uM8D8AQBVk40mhv/soTi+fe/A/AIDrgsBynr8ZjzWMtWrwPwCAUlLxVZq/LPnspe5Z8D8AgIHPYj2Wv5As0c1JSfA/AACqjPsokr+prfDGxjjwPwAA+SB7MYy/qTJ5E2Uo8D8AAKpdNRmEv0hz6ickGPA/AADswgMSeL+VsRQGBAjwPwAAJHkJBGC/Gvom9x/g7z8AAJCE8+9vP3TqYcIcoe8/AAA9NUHchz8umYGwEGPvPwCAwsSjzpM/za3uPPYl7z8AAIkUwZ+bP+cTkQPI6e4/AAARztiwoT+rsct4gK7uPwDAAdBbiqU/mwydohp07j8AgNhAg1ypP7WZCoOROu4/AIBX72onrT9WmmAJ4AHuPwDAmOWYdbA/mLt35QHK7T8AIA3j9VOyPwORfAvyku0/AAA4i90utD/OXPtmrFztPwDAV4dZBrY/nd5eqiwn7T8AAGo1dtq3P80saz5u8uw/AGAcTkOruT8Ceaeibb7sPwBgDbvHeLs/bQg3bSaL7D8AIOcyE0O9PwRYXb2UWOw/AGDecTEKvz+Mn7sztSbsPwBAkSsVZ8A/P+fs7oP16z8AsJKChUfBP8GW23X9xOs/ADDKzW4mwj8oSoYMHpXrPwBQxabXA8M/LD7vxeJl6z8AEDM8w9/DP4uIyWdIN+s/AIB6aza6xD9KMB0hSwnrPwDw0Sg5k8U/fu/yhejb6j8A8BgkzWrGP6I9YDEdr+o/AJBm7PhAxz+nWNM/5oLqPwDwGvXAFcg/i3MJ70BX6j8AgPZUKenIPydLq5AqLOo/AED4Aja7yT/R8pMToAHqPwAALBzti8o/GzzbJJ/X6T8A0AFcUVvLP5CxxwUlruk/AMC8zGcpzD8vzpfyLoXpPwBgSNU19sw/dUuk7rpc6T8AwEY0vcHNPzhI553GNOk/AODPuAGMzj/mUmcvTw3pPwCQF8AJVc8/ndf/jlLm6D8AuB8SbA7QP3wAzJ/Ov+g/ANCTDrhx0D8Ow77awJnoPwBwhp5r1NA/+xcjqid06D8A0EszhzbRPwias6wAT+g/AEgjZw2Y0T9VPmXoSSroPwCAzOD/+NE/YAL0lQEG6D8AaGPXX1nSPymj4GMl4uc/AKgUCTC50j+ttdx3s77nPwBgQxByGNM/wiWXZ6qb5z8AGOxtJnfTP1cGF/IHeec/ADCv+0/V0z8ME9bbylbnPwDgL+PuMtQ/a7ZPAQAQ5j88W0KRbAJ+PJW0TQMAMOY/QV0ASOq/jTx41JQNAFDmP7el1oanf448rW9OBwBw5j9MJVRr6vxhPK4P3/7/j+Y//Q5ZTCd+fLy8xWMHALDmPwHa3EhowYq89sFcHgDQ5j8Rk0mdHD+DPD72Bev/7+Y/Uy3iGgSAfryAl4YOABDnP1J5CXFm/3s8Euln/P8v5z8kh70m4gCMPGoRgd//T+c/0gHxbpECbryQnGcPAHDnP3ScVM1x/Ge8Nch++v+P5z+DBPWewb6BPObCIP7/r+c/ZWTMKRd+cLwAyT/t/8/nPxyLewhygIC8dhom6f/v5z+u+Z1tKMCNPOijnAQAEOg/M0zlUdJ/iTyPLJMXADDoP4HzMLbp/oq8nHMzBgBQ6D+8NWVrv7+JPMaJQiAAcOg/dXsR82W/i7wEefXr/4/oP1fLPaJuAIm83wS8IgCw6D8KS+A43wB9vIobDOX/z+g/BZ//RnEAiLxDjpH8/+/oPzhwetB7gYM8x1/6HgAQ6T8DtN92kT6JPLl7RhMAMOk/dgKYS06AfzxvB+7m/0/pPy5i/9nwfo+80RI83v9v6T+6OCaWqoJwvA2KRfT/j+k/76hkkRuAh7w+Lpjd/6/pPzeTWorgQIe8ZvtJ7f/P6T8A4JvBCM4/PFGc8SAA8Ok/CluIJ6o/irwGsEURABDqP1baWJlI/3Q8+va7BwAw6j8YbSuKq76MPHkdlxAAUOo/MHl43cr+iDxILvUdAHDqP9ur2D12QY+8UjNZHACQ6j8SdsKEAr+OvEs+TyoAsOo/Xz//PAT9abzRHq7X/8/qP7RwkBLnPoK8eARR7v/v6j+j3g7gPgZqPFsNZdv/D+s/uQofOMgGWjxXyqr+/y/rPx08I3QeAXm83LqV2f9P6z+fKoZoEP95vJxlniQAcOs/Pk+G0EX/ijxAFof5/4/rP/nDwpZ3/nw8T8sE0v+v6z/EK/LuJ/9jvEVcQdL/z+s/Ieo77rf/bLzfCWP4/+/rP1wLLpcDQYG8U3a14f8P7D8ZareUZMGLPONX+vH/L+w/7cYwje/+ZLwk5L/c/0/sP3VH7LxoP4S897lU7f9v7D/s4FPwo36EPNWPmev/j+w/8ZL5jQaDczyaISUhALDsPwQOGGSO/Wi8nEaU3f/P7D9y6sccvn6OPHbE/er/7+w//oifrTm+jjwr+JoWABDtP3FauaiRfXU8HfcPDQAw7T/ax3BpkMGJPMQPeer/T+0/DP5YxTcOWLzlh9wuAHDtP0QPwU3WgH+8qoLcIQCQ7T9cXP2Uj3x0vIMCa9j/r+0/fmEhxR1/jDw5R2wpANDtP1Ox/7KeAYg89ZBE5f/v7T+JzFLG0gBuPJT2q83/D+4/0mktIECDf7zdyFLb/y/uP2QIG8rBAHs87xZC8v9P7j9Rq5SwqP9yPBFeiuj/b+4/Wb7vsXP2V7wN/54RAJDuPwHIC16NgIS8RBel3/+v7j+1IEPVBgB4PKF/EhoA0O4/klxWYPgCULzEvLoHAPDuPxHmNV1EQIW8Ao169f8P7z8Fke85MftPvMeK5R4AMO8/VRFz8qyBijyUNIL1/0/vP0PH19RBP4o8a0yp/P9v7z91eJgc9AJivEHE+eH/j+8/S+d39NF9dzx+4+DS/6/vPzGjfJoZAW+8nuR3HADQ7z+xrM5L7oFxPDHD4Pf/7+8/WodwATcFbrxuYGX0/w/wP9oKHEmtfoq8WHqG8/8v8D/gsvzDaX+XvBcN/P3/T/A/W5TLNP6/lzyCTc0DAHDwP8tW5MCDAII86Mvy+f+P8D8adTe+3/9tvGXaDAEAsPA/6ybmrn8/kbw406QBANDwP/efSHn6fYA8/f3a+v/v8D/Aa9ZwBQR3vJb9ugsAEPE/YgtthNSAjjxd9OX6/y/xP+82/WT6v5082ZrVDQBQ8T+uUBJwdwCaPJpVIQ8AcPE/7t7j4vn9jTwmVCf8/4/xP3NyO9wwAJE8WTw9EgCw8T+IAQOAeX+ZPLeeKfj/z/E/Z4yfqzL5ZbwA1Ir0/+/xP+tbp52/f5M8pIaLDAAQ8j8iW/2Ra4CfPANDhQMAMPI/M7+f68L/kzyE9rz//0/yP3IuLn7nAXY82SEp9f9v8j9hDH92u/x/PDw6kxQAkPI/K0ECPMoCcrwTY1UUALDyPwIf8jOCgJK8O1L+6//P8j/y3E84fv+IvJatuAsA8PI/xUEwUFH/hbyv4nr7/w/zP50oXohxAIG8f1+s/v8v8z8Vt7c/Xf+RvFZnpgwAUPM/vYKLIoJ/lTwh9/sRAHDzP8zVDcS6AIA8uS9Z+f+P8z9Rp7ItnT+UvELS3QQAsPM/4Th2cGt/hTxXybL1/8/zPzESvxA6Ano8GLSw6v/v8z+wUrFmbX+YPPSvMhUAEPQ/JIUZXzf4Zzwpi0cXADD0P0NR3HLmAYM8Y7SV5/9P9D9aibK4af+JPOB1BOj/b/Q/VPLCm7HAlbznwW/v/4/0P3IqOvIJQJs8BKe+5f+v9D9FfQ2/t/+UvN4nEBcA0PQ/PWrccWTAmbziPvAPAPD0PxxThQuJf5c80UvcEgAQ9T82pGZxZQRgPHonBRYAMPU/CTIjzs6/lrxMcNvs/0/1P9ehBQVyAom8qVRf7/9v9T8SZMkO5r+bPBIQ5hcAkPU/kO+vgcV+iDySPskDALD1P8AMvwoIQZ+8vBlJHQDQ9T8pRyX7KoGYvIl6uOf/7/U/BGntgLd+lLwAQdTdAAumCwIAAAADAAAABQAAAAcAAAALAAAADQAAABEAAAATAAAAFwAAAB0AAAAfAAAAJQAAACkAAAArAAAALwAAADUAAAA7AAAAPQAAAEMAAABHAAAASQAAAE8AAABTAAAAWQAAAGEAAABlAAAAZwAAAGsAAABtAAAAcQAAAH8AAACDAAAAiQAAAIsAAACVAAAAlwAAAJ0AAACjAAAApwAAAK0AAACzAAAAtQAAAL8AAADBAAAAxQAAAMcAAADTAAAAAQAAAAsAAAANAAAAEQAAABMAAAAXAAAAHQAAAB8AAAAlAAAAKQAAACsAAAAvAAAANQAAADsAAAA9AAAAQwAAAEcAAABJAAAATwAAAFMAAABZAAAAYQAAAGUAAABnAAAAawAAAG0AAABxAAAAeQAAAH8AAACDAAAAiQAAAIsAAACPAAAAlQAAAJcAAACdAAAAowAAAKcAAACpAAAArQAAALMAAAC1AAAAuwAAAL8AAADBAAAAxQAAAMcAAADRAAAAAAAAAIAwAABkAAAAZQAAACoAAABOU3QzX18yMTRfX3NoYXJlZF9jb3VudEUAAAAAcDMAAGQwAAAAAAAAxDAAAGQAAABmAAAAKgAAADIAAAAqAAAATlN0M19fMjE5X19zaGFyZWRfd2Vha19jb3VudEUAAAD0MwAApDAAAAAAAAABAAAAgDAAAAAAAABOMTBfX2N4eGFiaXYxMTZfX3NoaW1fdHlwZV9pbmZvRQAAAACYMwAA3DAAAHQ0AABOMTBfX2N4eGFiaXYxMTdfX2NsYXNzX3R5cGVfaW5mb0UAAACYMwAADDEAAAAxAABOMTBfX2N4eGFiaXYxMTdfX3BiYXNlX3R5cGVfaW5mb0UAAACYMwAAPDEAAAAxAABOMTBfX2N4eGFiaXYxMTlfX3BvaW50ZXJfdHlwZV9pbmZvRQCYMwAAbDEAAGAxAABOMTBfX2N4eGFiaXYxMjBfX2Z1bmN0aW9uX3R5cGVfaW5mb0UAAAAAmDMAAJwxAAAAMQAATjEwX19jeHhhYml2MTI5X19wb2ludGVyX3RvX21lbWJlcl90eXBlX2luZm9FAAAAmDMAANAxAABgMQAAAAAAAFAyAABnAAAAaAAAAGkAAABqAAAAawAAAE4xMF9fY3h4YWJpdjEyM19fZnVuZGFtZW50YWxfdHlwZV9pbmZvRQCYMwAAKDIAAAAxAAB2AAAAFDIAAFwyAABEbgAAFDIAAGgyAABiAAAAFDIAAHQyAABjAAAAFDIAAIAyAABoAAAAFDIAAIwyAABhAAAAFDIAAJgyAABzAAAAFDIAAKQyAAB0AAAAFDIAALAyAABpAAAAFDIAALwyAABqAAAAFDIAAMgyAABsAAAAFDIAANQyAABtAAAAFDIAAOAyAAB4AAAAFDIAAOwyAAB5AAAAFDIAAPgyAABmAAAAFDIAAAQzAABkAAAAFDIAABAzAAAAAAAAXDMAAGcAAABsAAAAaQAAAGoAAABtAAAATjEwX19jeHhhYml2MTE2X19lbnVtX3R5cGVfaW5mb0UAAAAAmDMAADgzAAAAMQAAAAAAADAxAABnAAAAbgAAAGkAAABqAAAAbwAAAHAAAABxAAAAcgAAAAAAAADgMwAAZwAAAHMAAABpAAAAagAAAG8AAAB0AAAAdQAAAHYAAABOMTBfX2N4eGFiaXYxMjBfX3NpX2NsYXNzX3R5cGVfaW5mb0UAAAAAmDMAALgzAAAwMQAAAAAAADw0AABnAAAAdwAAAGkAAABqAAAAbwAAAHgAAAB5AAAAegAAAE4xMF9fY3h4YWJpdjEyMV9fdm1pX2NsYXNzX3R5cGVfaW5mb0UAAACYMwAAFDQAADAxAAAAAAAAkDEAAGcAAAB7AAAAaQAAAGoAAAB8AAAAU3Q5dHlwZV9pbmZvAAAAAHAzAABkNABBqOkACwcBAAAAIDpQABoPdGFyZ2V0X2ZlYXR1cmVzASsHc2ltZDEyOA==")||(K=X,X=a.locateFile?a.locateFile(K,C):C+K);var ie=void 0;function re(e){for(var t="",n=e;S[n];)t+=ie[S[n++]];return t}var oe={},ae={},se={},ce=48,le=57;function de(e){if(void 0===e)return"_unknown";var t=(e=e.replace(/[^a-zA-Z0-9_]/g,"$")).charCodeAt(0);return t>=ce&&t<=le?"_"+e:e}function ue(e,t){return e=de(e),new Function("body","return function "+e+'() {\n    "use strict";    return body.apply(this, arguments);\n};\n')(t)}function he(e,t){var n=ue(t,(function(e){this.name=t,this.message=e;var n=new Error(e).stack;void 0!==n&&(this.stack=this.toString()+"\n"+n.replace(/^Error(:[^\n]*)?\n/,""))}));return n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.prototype.toString=function(){return void 0===this.message?this.name:this.name+": "+this.message},n}var Ae=void 0;function pe(e){throw new Ae(e)}var ge=void 0;function fe(e){throw new ge(e)}function me(e,t,n){function i(t){var i=n(t);i.length!==e.length&&fe("Mismatched type converter count");for(var r=0;r<e.length;++r)Ee(e[r],i[r])}e.forEach((function(e){se[e]=t}));var r=new Array(t.length),o=[],a=0;t.forEach(((e,t)=>{ae.hasOwnProperty(e)?r[t]=ae[e]:(o.push(e),oe.hasOwnProperty(e)||(oe[e]=[]),oe[e].push((()=>{r[t]=ae[e],++a===o.length&&i(r)})))})),0===o.length&&i(r)}function Ee(e,t,n){if(void 0===n&&(n={}),!("argPackAdvance"in t))throw new TypeError("registerType registeredInstance requires argPackAdvance");var i=t.name;if(e||pe('type "'+i+'" must have a positive integer typeid pointer'),ae.hasOwnProperty(e)){if(n.ignoreDuplicateRegistrations)return;pe("Cannot register type '"+i+"' twice")}if(ae[e]=t,delete se[e],oe.hasOwnProperty(e)){var r=oe[e];delete oe[e],r.forEach((e=>e()))}}function Ce(e,t,n){switch(t){case 0:return n?function(e){return R[e]}:function(e){return S[e]};case 1:return n?function(e){return F[e>>1]}:function(e){return B[e>>1]};case 2:return n?function(e){return T[e>>2]}:function(e){return N[e>>2]};case 3:return n?function(e){return w[e>>3]}:function(e){return k[e>>3]};default:throw new TypeError("Unknown integer type: "+e)}}function Ie(e){switch(e){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+e)}}function Qe(e){if(!(this instanceof Le))return!1;if(!(e instanceof Le))return!1;for(var t=this.$$.ptrType.registeredClass,n=this.$$.ptr,i=e.$$.ptrType.registeredClass,r=e.$$.ptr;t.baseClass;)n=t.upcast(n),t=t.baseClass;for(;i.baseClass;)r=i.upcast(r),i=i.baseClass;return t===i&&n===r}function Ue(e){pe(e.$$.ptrType.registeredClass.name+" instance already deleted")}var ye=!1;function be(e){}function ve(e){e.count.value-=1,0===e.count.value&&function(e){e.smartPtr?e.smartPtrType.rawDestructor(e.smartPtr):e.ptrType.registeredClass.rawDestructor(e.ptr)}(e)}function Re(e,t,n){if(t===n)return e;if(void 0===n.baseClass)return null;var i=Re(e,t,n.baseClass);return null===i?null:n.downcast(i)}var Se={};function Fe(){return Object.keys(ke).length}function Be(){var e=[];for(var t in ke)ke.hasOwnProperty(t)&&e.push(ke[t]);return e}var Te=[];function Ne(){for(;Te.length;){var e=Te.pop();e.$$.deleteScheduled=!1,e.delete()}}var _e=void 0;function we(e){_e=e,Te.length&&_e&&_e(Ne)}var ke={};function De(e,t){return t=function(e,t){for(void 0===t&&pe("ptr should not be undefined");e.baseClass;)t=e.upcast(t),e=e.baseClass;return t}(e,t),ke[t]}function Ve(e,t){return t.ptrType&&t.ptr||fe("makeClassHandle requires ptr and ptrType"),!!t.smartPtrType!==!!t.smartPtr&&fe("Both smartPtrType and smartPtr must be specified"),t.count={value:1},We(Object.create(e,{$$:{value:t}}))}function Ze(e){var t=this.getPointee(e);if(!t)return this.destructor(e),null;var n=De(this.registeredClass,t);if(void 0!==n){if(0===n.$$.count.value)return n.$$.ptr=t,n.$$.smartPtr=e,n.clone();var i=n.clone();return this.destructor(e),i}function r(){return this.isSmartPointer?Ve(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:t,smartPtrType:this,smartPtr:e}):Ve(this.registeredClass.instancePrototype,{ptrType:this,ptr:e})}var o,a=this.registeredClass.getActualType(t),s=Se[a];if(!s)return r.call(this);o=this.isConst?s.constPointerType:s.pointerType;var c=Re(t,this.registeredClass,o.registeredClass);return null===c?r.call(this):this.isSmartPointer?Ve(o.registeredClass.instancePrototype,{ptrType:o,ptr:c,smartPtrType:this,smartPtr:e}):Ve(o.registeredClass.instancePrototype,{ptrType:o,ptr:c})}function We(e){return"undefined"===typeof FinalizationRegistry?(We=e=>e,e):(ye=new FinalizationRegistry((e=>{ve(e.$$)})),be=e=>ye.unregister(e),(We=e=>{var t=e.$$;if(t.smartPtr){var n={$$:t};ye.register(e,n,e)}return e})(e))}function Oe(){if(this.$$.ptr||Ue(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var e,t=We(Object.create(Object.getPrototypeOf(this),{$$:{value:(e=this.$$,{count:e.count,deleteScheduled:e.deleteScheduled,preservePointerOnDelete:e.preservePointerOnDelete,ptr:e.ptr,ptrType:e.ptrType,smartPtr:e.smartPtr,smartPtrType:e.smartPtrType})}}));return t.$$.count.value+=1,t.$$.deleteScheduled=!1,t}function Je(){this.$$.ptr||Ue(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&pe("Object already scheduled for deletion"),be(this),ve(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)}function xe(){return!this.$$.ptr}function Me(){return this.$$.ptr||Ue(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&pe("Object already scheduled for deletion"),Te.push(this),1===Te.length&&_e&&_e(Ne),this.$$.deleteScheduled=!0,this}function Le(){}function Pe(e,t,n){if(void 0===e[t].overloadTable){var i=e[t];e[t]=function(){return e[t].overloadTable.hasOwnProperty(arguments.length)||pe("Function '"+n+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+e[t].overloadTable+")!"),e[t].overloadTable[arguments.length].apply(this,arguments)},e[t].overloadTable=[],e[t].overloadTable[i.argCount]=i}}function Ge(e,t,n){a.hasOwnProperty(e)?((void 0===n||void 0!==a[e].overloadTable&&void 0!==a[e].overloadTable[n])&&pe("Cannot register public name '"+e+"' twice"),Pe(a,e,e),a.hasOwnProperty(n)&&pe("Cannot register multiple overloads of a function with the same number of arguments ("+n+")!"),a[e].overloadTable[n]=t):(a[e]=t,void 0!==n&&(a[e].numArguments=n))}function Ye(e,t,n,i,r,o,a,s){this.name=e,this.constructor=t,this.instancePrototype=n,this.rawDestructor=i,this.baseClass=r,this.getActualType=o,this.upcast=a,this.downcast=s,this.pureVirtualFunctions=[]}function je(e,t,n){for(;t!==n;)t.upcast||pe("Expected null or instance of "+n.name+", got an instance of "+t.name),e=t.upcast(e),t=t.baseClass;return e}function Xe(e,t){if(null===t)return this.isReference&&pe("null is not a valid "+this.name),0;t.$$||pe('Cannot pass "'+ne(t)+'" as a '+this.name),t.$$.ptr||pe("Cannot pass deleted object as a pointer of type "+this.name);var n=t.$$.ptrType.registeredClass;return je(t.$$.ptr,n,this.registeredClass)}function Ke(e,t){var n;if(null===t)return this.isReference&&pe("null is not a valid "+this.name),this.isSmartPointer?(n=this.rawConstructor(),null!==e&&e.push(this.rawDestructor,n),n):0;t.$$||pe('Cannot pass "'+ne(t)+'" as a '+this.name),t.$$.ptr||pe("Cannot pass deleted object as a pointer of type "+this.name),!this.isConst&&t.$$.ptrType.isConst&&pe("Cannot convert argument of type "+(t.$$.smartPtrType?t.$$.smartPtrType.name:t.$$.ptrType.name)+" to parameter type "+this.name);var i=t.$$.ptrType.registeredClass;if(n=je(t.$$.ptr,i,this.registeredClass),this.isSmartPointer)switch(void 0===t.$$.smartPtr&&pe("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:t.$$.smartPtrType===this?n=t.$$.smartPtr:pe("Cannot convert argument of type "+(t.$$.smartPtrType?t.$$.smartPtrType.name:t.$$.ptrType.name)+" to parameter type "+this.name);break;case 1:n=t.$$.smartPtr;break;case 2:if(t.$$.smartPtrType===this)n=t.$$.smartPtr;else{var r=t.clone();n=this.rawShare(n,gt.toHandle((function(){r.delete()}))),null!==e&&e.push(this.rawDestructor,n)}break;default:pe("Unsupporting sharing policy")}return n}function He(e,t){if(null===t)return this.isReference&&pe("null is not a valid "+this.name),0;t.$$||pe('Cannot pass "'+ne(t)+'" as a '+this.name),t.$$.ptr||pe("Cannot pass deleted object as a pointer of type "+this.name),t.$$.ptrType.isConst&&pe("Cannot convert argument of type "+t.$$.ptrType.name+" to parameter type "+this.name);var n=t.$$.ptrType.registeredClass;return je(t.$$.ptr,n,this.registeredClass)}function ze(e){return this.fromWireType(T[e>>2])}function qe(e){return this.rawGetPointee&&(e=this.rawGetPointee(e)),e}function $e(e){this.rawDestructor&&this.rawDestructor(e)}function et(e){null!==e&&e.delete()}function tt(e,t,n,i,r,o,a,s,c,l,d){this.name=e,this.registeredClass=t,this.isReference=n,this.isConst=i,this.isSmartPointer=r,this.pointeeType=o,this.sharingPolicy=a,this.rawGetPointee=s,this.rawConstructor=c,this.rawShare=l,this.rawDestructor=d,r||void 0!==t.baseClass?this.toWireType=Ke:i?(this.toWireType=Xe,this.destructorFunction=null):(this.toWireType=He,this.destructorFunction=null)}var nt=[];function it(e,t){e=re(e);var n=function(e){var t=nt[e];return t||(e>=nt.length&&(nt.length=e+1),nt[e]=t=V.get(e)),t}(t);return"function"!=typeof n&&pe("unknown function pointer with signature "+e+": "+t),n}var rt=void 0;function ot(e){var t=wt(e),n=re(t);return Nt(t),n}function at(e,t){var n=[],i={};throw t.forEach((function e(t){i[t]||ae[t]||(se[t]?se[t].forEach(e):(n.push(t),i[t]=!0))})),new rt(e+": "+n.map(ot).join([", "]))}function st(e,t){for(var n=[],i=0;i<e;i++)n.push(N[t+4*i>>2]);return n}function ct(e){for(;e.length;){var t=e.pop();e.pop()(t)}}function lt(e,t,n,i,r){var o=t.length;o<2&&pe("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var a=null!==t[1]&&null!==n,s=!1,c=1;c<t.length;++c)if(null!==t[c]&&void 0===t[c].destructorFunction){s=!0;break}var l="void"!==t[0].name,d="",u="";for(c=0;c<o-2;++c)d+=(0!==c?", ":"")+"arg"+c,u+=(0!==c?", ":"")+"arg"+c+"Wired";var h="return function "+de(e)+"("+d+") {\nif (arguments.length !== "+(o-2)+") {\nthrowBindingError('function "+e+" called with ' + arguments.length + ' arguments, expected "+(o-2)+" args!');\n}\n";s&&(h+="var destructors = [];\n");var A=s?"destructors":"null",p=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],g=[pe,i,r,ct,t[0],t[1]];for(a&&(h+="var thisWired = classParam.toWireType("+A+", this);\n"),c=0;c<o-2;++c)h+="var arg"+c+"Wired = argType"+c+".toWireType("+A+", arg"+c+"); // "+t[c+2].name+"\n",p.push("argType"+c),g.push(t[c+2]);if(a&&(u="thisWired"+(u.length>0?", ":"")+u),h+=(l?"var rv = ":"")+"invoker(fn"+(u.length>0?", ":"")+u+");\n",s)h+="runDestructors(destructors);\n";else for(c=a?1:2;c<t.length;++c){var f=1===c?"thisWired":"arg"+(c-2)+"Wired";null!==t[c].destructorFunction&&(h+=f+"_dtor("+f+"); // "+t[c].name+"\n",p.push(f+"_dtor"),g.push(t[c].destructorFunction))}return l&&(h+="var ret = retType.fromWireType(rv);\nreturn ret;\n"),h+="}\n",p.push(h),function(e,t){if(!(e instanceof Function))throw new TypeError("new_ called with constructor type "+typeof e+" which is not a function");var n=ue(e.name||"unknownFunctionName",(function(){}));n.prototype=e.prototype;var i=new n,r=e.apply(i,t);return r instanceof Object?r:i}(Function,p).apply(null,g)}var dt=[],ut=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function ht(e){e>4&&0===--ut[e].refcount&&(ut[e]=void 0,dt.push(e))}function At(){for(var e=0,t=5;t<ut.length;++t)void 0!==ut[t]&&++e;return e}function pt(){for(var e=5;e<ut.length;++e)if(void 0!==ut[e])return ut[e];return null}var gt={toValue:e=>(e||pe("Cannot use deleted val. handle = "+e),ut[e].value),toHandle:e=>{switch(e){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:var t=dt.length?dt.pop():ut.length;return ut[t]={refcount:1,value:e},t}}};function ft(e,t,n){switch(t){case 0:return function(e){var t=n?R:S;return this.fromWireType(t[e])};case 1:return function(e){var t=n?F:B;return this.fromWireType(t[e>>1])};case 2:return function(e){var t=n?T:N;return this.fromWireType(t[e>>2])};default:throw new TypeError("Unknown integer type: "+e)}}function mt(e,t){var n=ae[e];return void 0===n&&pe(t+" has unknown type "+ot(e)),n}function Et(e,t){switch(t){case 2:return function(e){return this.fromWireType(_[e>>2])};case 3:return function(e){return this.fromWireType(D[e>>3])};default:throw new TypeError("Unknown float type: "+e)}}var Ct="undefined"!=typeof TextDecoder?new TextDecoder("utf-16le"):void 0;function It(e,t){for(var n=e,i=n>>1,r=i+t/2;!(i>=r)&&B[i];)++i;if((n=i<<1)-e>32&&Ct)return Ct.decode(S.subarray(e,n));for(var o="",a=0;!(a>=t/2);++a){var s=F[e+2*a>>1];if(0==s)break;o+=String.fromCharCode(s)}return o}function Qt(e,t,n){if(void 0===n&&(n=2147483647),n<2)return 0;for(var i=t,r=(n-=2)<2*e.length?n/2:e.length,o=0;o<r;++o){var a=e.charCodeAt(o);F[t>>1]=a,t+=2}return F[t>>1]=0,t-i}function Ut(e){return 2*e.length}function yt(e,t){for(var n=0,i="";!(n>=t/4);){var r=T[e+4*n>>2];if(0==r)break;if(++n,r>=65536){var o=r-65536;i+=String.fromCharCode(55296|o>>10,56320|1023&o)}else i+=String.fromCharCode(r)}return i}function bt(e,t,n){if(void 0===n&&(n=2147483647),n<4)return 0;for(var i=t,r=i+n-4,o=0;o<e.length;++o){var a=e.charCodeAt(o);if(a>=55296&&a<=57343&&(a=65536+((1023&a)<<10)|1023&e.charCodeAt(++o)),T[t>>2]=a,(t+=4)+4>r)break}return T[t>>2]=0,t-i}function vt(e){for(var t=0,n=0;n<e.length;++n){var i=e.charCodeAt(n);i>=55296&&i<=57343&&++n,t+=4}return t}function Rt(e,t){var n;b=e,b=n=e,P()||(a.onExit&&a.onExit(n),Z=!0),g(n,new ee(n))}!function(){for(var e=new Array(256),t=0;t<256;++t)e[t]=String.fromCharCode(t);ie=e}(),Ae=a.BindingError=he(Error,"BindingError"),ge=a.InternalError=he(Error,"InternalError"),Le.prototype.isAliasOf=Qe,Le.prototype.clone=Oe,Le.prototype.delete=Je,Le.prototype.isDeleted=xe,Le.prototype.deleteLater=Me,a.getInheritedInstanceCount=Fe,a.getLiveInheritedInstances=Be,a.flushPendingDeletes=Ne,a.setDelayFunction=we,tt.prototype.getPointee=qe,tt.prototype.destructor=$e,tt.prototype.argPackAdvance=8,tt.prototype.readValueFromPointer=ze,tt.prototype.deleteObject=et,tt.prototype.fromWireType=Ze,rt=a.UnboundTypeError=he(Error,"UnboundTypeError"),a.count_emval_handles=At,a.get_first_emval=pt;var St="function"==typeof atob?atob:function(e){var t,n,i,r,o,a,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c="",l=0;e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");do{t=s.indexOf(e.charAt(l++))<<2|(r=s.indexOf(e.charAt(l++)))>>4,n=(15&r)<<4|(o=s.indexOf(e.charAt(l++)))>>2,i=(3&o)<<6|(a=s.indexOf(e.charAt(l++))),c+=String.fromCharCode(t),64!==o&&(c+=String.fromCharCode(n)),64!==a&&(c+=String.fromCharCode(i))}while(l<e.length);return c};function Ft(e){if(z(e))return function(e){if("boolean"==typeof E&&E){var t=o.from(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}try{for(var n=St(e),i=new Uint8Array(n.length),r=0;r<n.length;++r)i[r]=n.charCodeAt(r);return i}catch(a){throw new Error("Converting base64 string to bytes failed.")}}(e.slice(H.length))}var Bt={a:function(e,t,n,i){j("Assertion failed: "+O(e)+", at: "+[t?O(t):"unknown filename",n,i?O(i):"unknown function"])},l:function(e,t,n,i,r){t=re(t);var o=Ie(n),a=-1!=t.indexOf("u");a&&(r=(1n<<64n)-1n),Ee(e,{name:t,fromWireType:function(e){return e},toWireType:function(e,n){if("bigint"!=typeof n&&"number"!=typeof n)throw new TypeError('Cannot convert "'+ne(n)+'" to '+this.name);if(n<i||n>r)throw new TypeError('Passing a number "'+ne(n)+'" from JS side to C/C++ side to an argument of type "'+t+'", which is outside the valid range ['+i+", "+r+"]!");return n},argPackAdvance:8,readValueFromPointer:Ce(t,o,!a),destructorFunction:null})},s:function(e,t,n,i,r){var o=Ie(n);Ee(e,{name:t=re(t),fromWireType:function(e){return!!e},toWireType:function(e,t){return t?i:r},argPackAdvance:8,readValueFromPointer:function(e){var i;if(1===n)i=R;else if(2===n)i=F;else{if(4!==n)throw new TypeError("Unknown boolean type size: "+t);i=T}return this.fromWireType(i[e>>o])},destructorFunction:null})},u:function(e,t,n,i,r,o,s,c,l,d,u,h,A){u=re(u),o=it(r,o),c&&(c=it(s,c)),d&&(d=it(l,d)),A=it(h,A);var p=de(u);Ge(p,(function(){at("Cannot construct "+u+" due to unbound types",[i])})),me([e,t,n],i?[i]:[],(function(t){var n,r;t=t[0],r=i?(n=t.registeredClass).instancePrototype:Le.prototype;var s=ue(p,(function(){if(Object.getPrototypeOf(this)!==l)throw new Ae("Use 'new' to construct "+u);if(void 0===h.constructor_body)throw new Ae(u+" has no accessible constructor");var e=h.constructor_body[arguments.length];if(void 0===e)throw new Ae("Tried to invoke ctor of "+u+" with invalid number of parameters ("+arguments.length+") - expected ("+Object.keys(h.constructor_body).toString()+") parameters instead!");return e.apply(this,arguments)})),l=Object.create(r,{constructor:{value:s}});s.prototype=l;var h=new Ye(u,s,l,A,n,o,c,d),g=new tt(u,h,!0,!1,!1),f=new tt(u+"*",h,!1,!1,!1),m=new tt(u+" const*",h,!1,!0,!1);return Se[e]={pointerType:f,constPointerType:m},function(e,t,n){a.hasOwnProperty(e)||fe("Replacing nonexistant public symbol"),void 0!==a[e].overloadTable&&void 0!==n?a[e].overloadTable[n]=t:(a[e]=t,a[e].argCount=n)}(p,s),[g,f,m]}))},o:function(e,t,n,i,r,o){var a;t>0||j(a);var s=st(t,n);r=it(i,r),me([],[e],(function(e){var n="constructor "+(e=e[0]).name;if(void 0===e.registeredClass.constructor_body&&(e.registeredClass.constructor_body=[]),void 0!==e.registeredClass.constructor_body[t-1])throw new Ae("Cannot register multiple constructors with identical number of parameters ("+(t-1)+") for class '"+e.name+"'! Overload resolution is currently only performed using the parameter count, not actual type info!");return e.registeredClass.constructor_body[t-1]=()=>{at("Cannot construct "+e.name+" due to unbound types",s)},me([],s,(function(i){return i.splice(1,0,null),e.registeredClass.constructor_body[t-1]=lt(n,i,null,r,o),[]})),[]}))},e:function(e,t,n,i,r,o,a,s){var c=st(n,i);t=re(t),o=it(r,o),me([],[e],(function(e){var i=(e=e[0]).name+"."+t;function r(){at("Cannot call "+i+" due to unbound types",c)}t.startsWith("@@")&&(t=Symbol[t.substring(2)]),s&&e.registeredClass.pureVirtualFunctions.push(t);var l=e.registeredClass.instancePrototype,d=l[t];return void 0===d||void 0===d.overloadTable&&d.className!==e.name&&d.argCount===n-2?(r.argCount=n-2,r.className=e.name,l[t]=r):(Pe(l,t,i),l[t].overloadTable[n-2]=r),me([],c,(function(r){var s=lt(i,r,e,o,a);return void 0===l[t].overloadTable?(s.argCount=n-2,l[t]=s):l[t].overloadTable[n-2]=s,[]})),[]}))},r:function(e,t){Ee(e,{name:t=re(t),fromWireType:function(e){var t=gt.toValue(e);return ht(e),t},toWireType:function(e,t){return gt.toHandle(t)},argPackAdvance:8,readValueFromPointer:ze,destructorFunction:null})},g:function(e,t,n,i){var r=Ie(n);function o(){}t=re(t),o.values={},Ee(e,{name:t,constructor:o,fromWireType:function(e){return this.constructor.values[e]},toWireType:function(e,t){return t.value},argPackAdvance:8,readValueFromPointer:ft(t,r,i),destructorFunction:null}),Ge(t,o)},f:function(e,t,n){var i=mt(e,"enum");t=re(t);var r=i.constructor,o=Object.create(i.constructor.prototype,{value:{value:n},constructor:{value:ue(i.name+"_"+t,(function(){}))}});r.values[n]=o,r[t]=o},k:function(e,t,n){var i=Ie(n);Ee(e,{name:t=re(t),fromWireType:function(e){return e},toWireType:function(e,t){return t},argPackAdvance:8,readValueFromPointer:Et(t,i),destructorFunction:null})},c:function(e,t,n,i,r){t=re(t);var o=Ie(n),a=e=>e;if(0===i){var s=32-8*n;a=e=>e<<s>>>s}var c=t.includes("unsigned");Ee(e,{name:t,fromWireType:a,toWireType:c?function(e,t){return this.name,t>>>0}:function(e,t){return this.name,t},argPackAdvance:8,readValueFromPointer:Ce(t,o,0!==i),destructorFunction:null})},b:function(e,t,n){var i=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,BigInt64Array,BigUint64Array][t];function r(e){var t=N,n=t[e>>=2],r=t[e+1];return new i(v,r,n)}Ee(e,{name:n=re(n),fromWireType:r,argPackAdvance:8,readValueFromPointer:r},{ignoreDuplicateRegistrations:!0})},j:function(e,t){var n="std::string"===(t=re(t));Ee(e,{name:t,fromWireType:function(e){var t,i=N[e>>2],r=e+4;if(n)for(var o=r,a=0;a<=i;++a){var s=r+a;if(a==i||0==S[s]){var c=O(o,s-o);void 0===t?t=c:(t+=String.fromCharCode(0),t+=c),o=s+1}}else{var l=new Array(i);for(a=0;a<i;++a)l[a]=String.fromCharCode(S[r+a]);t=l.join("")}return Nt(e),t},toWireType:function(e,t){var i;t instanceof ArrayBuffer&&(t=new Uint8Array(t));var r="string"==typeof t;r||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int8Array||pe("Cannot pass non-string to std::string"),i=n&&r?function(e){for(var t=0,n=0;n<e.length;++n){var i=e.charCodeAt(n);i<=127?t++:i<=2047?t+=2:i>=55296&&i<=57343?(t+=4,++n):t+=3}return t}(t):t.length;var o=_t(4+i+1),a=o+4;if(N[o>>2]=i,n&&r)!function(e,t,n,i){if(!(i>0))return 0;for(var r=n+i-1,o=0;o<e.length;++o){var a=e.charCodeAt(o);if(a>=55296&&a<=57343&&(a=65536+((1023&a)<<10)|1023&e.charCodeAt(++o)),a<=127){if(n>=r)break;t[n++]=a}else if(a<=2047){if(n+1>=r)break;t[n++]=192|a>>6,t[n++]=128|63&a}else if(a<=65535){if(n+2>=r)break;t[n++]=224|a>>12,t[n++]=128|a>>6&63,t[n++]=128|63&a}else{if(n+3>=r)break;t[n++]=240|a>>18,t[n++]=128|a>>12&63,t[n++]=128|a>>6&63,t[n++]=128|63&a}}t[n]=0}(t,S,a,i+1);else if(r)for(var s=0;s<i;++s){var c=t.charCodeAt(s);c>255&&(Nt(a),pe("String has UTF-16 code units that do not fit in 8 bits")),S[a+s]=c}else for(s=0;s<i;++s)S[a+s]=t[s];return null!==e&&e.push(Nt,o),o},argPackAdvance:8,readValueFromPointer:ze,destructorFunction:function(e){Nt(e)}})},h:function(e,t,n){var i,r,o,a,s;n=re(n),2===t?(i=It,r=Qt,a=Ut,o=()=>B,s=1):4===t&&(i=yt,r=bt,a=vt,o=()=>N,s=2),Ee(e,{name:n,fromWireType:function(e){for(var n,r=N[e>>2],a=o(),c=e+4,l=0;l<=r;++l){var d=e+4+l*t;if(l==r||0==a[d>>s]){var u=i(c,d-c);void 0===n?n=u:(n+=String.fromCharCode(0),n+=u),c=d+t}}return Nt(e),n},toWireType:function(e,i){"string"!=typeof i&&pe("Cannot pass non-string to C++ string type "+n);var o=a(i),c=_t(4+o+t);return N[c>>2]=o>>s,r(i,c+4,o+t),null!==e&&e.push(Nt,c),c},argPackAdvance:8,readValueFromPointer:ze,destructorFunction:function(e){Nt(e)}})},t:function(e,t){Ee(e,{isVoid:!0,name:t=re(t),argPackAdvance:0,fromWireType:function(){},toWireType:function(e,t){}})},m:ht,n:function(e){e>4&&(ut[e].refcount+=1)},i:function(e,t){var n=(e=mt(e,"_emval_take_value")).readValueFromPointer(t);return gt.toHandle(n)},d:function(){j("")},q:function(e,t,n){S.copyWithin(e,t,t+n)},p:function(e){S.length,j("OOM")}};!function(){var t={a:Bt};function n(e,t){var n,i,r=e.exports;a.asm=r,U=a.asm.v,n=U.buffer,v=n,a.HEAP8=R=new Int8Array(n),a.HEAP16=F=new Int16Array(n),a.HEAP32=T=new Int32Array(n),a.HEAPU8=S=new Uint8Array(n),a.HEAPU16=B=new Uint16Array(n),a.HEAPU32=N=new Uint32Array(n),a.HEAPF32=_=new Float32Array(n),a.HEAPF64=D=new Float64Array(n),a.HEAP64=w=new BigInt64Array(n),a.HEAPU64=k=new BigUint64Array(n),V=a.asm.y,i=a.asm.w,x.unshift(i),function(e){if(G--,a.monitorRunDependencies&&a.monitorRunDependencies(G),0==G&&Y){var t=Y;Y=null,t()}}()}function i(e){n(e.instance)}function r(n){return function(){if(!I&&(f||m)){if("function"==typeof fetch&&!q(X))return fetch(X,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+X+"'";return e.arrayBuffer()})).catch((function(){return $(X)}));if(d)return new e((function(e,t){d(X,(function(t){e(new Uint8Array(t))}),t)}))}return e.resolve().then((function(){return $(X)}))}().then((function(e){return WebAssembly.instantiate(e,t)})).then((function(e){return e})).then(n,(function(e){Q("failed to asynchronously prepare wasm: "+e),j(e)}))}if(G++,a.monitorRunDependencies&&a.monitorRunDependencies(G),a.instantiateWasm)try{return a.instantiateWasm(t,n)}catch(o){Q("Module.instantiateWasm callback failed with error: "+o),c(o)}(I||"function"!=typeof WebAssembly.instantiateStreaming||z(X)||q(X)||E||"function"!=typeof fetch?r(i):fetch(X,{credentials:"same-origin"}).then((function(e){return WebAssembly.instantiateStreaming(e,t).then(i,(function(e){return Q("wasm streaming compile failed: "+e),Q("falling back to ArrayBuffer instantiation"),r(i)}))}))).catch(c)}(),a.___wasm_call_ctors=function(){return(a.___wasm_call_ctors=a.asm.w).apply(null,arguments)},a._main=function(){return(a._main=a.asm.x).apply(null,arguments)};var Tt,Nt=a._free=function(){return(Nt=a._free=a.asm.z).apply(null,arguments)},_t=a._malloc=function(){return(_t=a._malloc=a.asm.A).apply(null,arguments)},wt=a.___getTypeName=function(){return(wt=a.___getTypeName=a.asm.B).apply(null,arguments)};function kt(e){var t=a._main;try{var n=t(0,0);return Rt(n),n}catch(i){return function(e){if(e instanceof ee||"unwind"==e)return b;g(1,e)}(i)}}function Dt(e){function t(){Tt||(Tt=!0,a.calledRun=!0,Z||(te(x),te(M),s(a),a.onRuntimeInitialized&&a.onRuntimeInitialized(),Vt&&kt(),function(){if(a.postRun)for("function"==typeof a.postRun&&(a.postRun=[a.postRun]);a.postRun.length;)e=a.postRun.shift(),L.unshift(e);var e;te(L)}()))}G>0||(function(){if(a.preRun)for("function"==typeof a.preRun&&(a.preRun=[a.preRun]);a.preRun.length;)e=a.preRun.shift(),J.unshift(e);var e;te(J)}(),G>0||(a.setStatus?(a.setStatus("Running..."),setTimeout((function(){setTimeout((function(){a.setStatus("")}),1),t()}),1)):t()))}if(a.__embind_initialize_bindings=function(){return(a.__embind_initialize_bindings=a.asm.C).apply(null,arguments)},Y=function e(){Tt||Dt(),Tt||(Y=e)},a.preInit)for("function"==typeof a.preInit&&(a.preInit=[a.preInit]);a.preInit.length>0;)a.preInit.pop()();var Vt=!0;return a.noInitialRun&&(Vt=!1),Dt(),a.ready}})();function ue(){return he.apply(this,arguments)}function he(){return(he=(0,u.default)(s.default.mark((function e(){return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",de());case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}const Ae=new WeakMap,pe=new WeakMap,ge=new WeakMap,fe=Symbol("anyProducer"),me=e.resolve(),Ee=Symbol("listenerAdded"),Ce=Symbol("listenerRemoved");let Ie=!1,Qe=!1;function Ue(e){if("string"!==typeof e&&"symbol"!==typeof e&&"number"!==typeof e)throw new TypeError("`eventName` must be a string, symbol, or number")}function ye(e){if("function"!==typeof e)throw new TypeError("listener must be a function")}function be(e,t){const n=pe.get(e);if(n.has(t))return n.get(t)}function ve(e,t){const n="string"===typeof t||"symbol"===typeof t||"number"===typeof t?t:fe,i=ge.get(e);if(i.has(n))return i.get(n)}function Re(t,n,i){const r=ge.get(t);if(r.has(n))for(var o,a=A(r.get(n));!(o=a()).done;)o.value.enqueue(i);if(r.has(fe)){const t=e.all([n,i]);for(var s,c=A(r.get(fe));!(s=c()).done;)s.value.enqueue(t)}}function Se(t,n){n=Array.isArray(n)?n:[n];let i=!1,r=()=>{},o=[];const a={enqueue(e){o.push(e),r()},finish(){i=!0,r()}};for(var c,l=A(n);!(c=l()).done;){const e=c.value;let n=ve(t,e);n||(n=new Set,ge.get(t).set(e,n)),n.add(a)}return{next(){var t=this;return(0,u.default)(s.default.mark((function n(){return s.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o){n.next=2;break}return n.abrupt("return",{done:!0});case 2:if(0!==o.length){n.next=9;break}if(!i){n.next=6;break}return o=void 0,n.abrupt("return",t.next());case 6:return n.next=8,new e((e=>{r=e}));case 8:return n.abrupt("return",t.next());case 9:return n.next=11,o.shift();case 11:return n.t0=n.sent,n.abrupt("return",{done:!1,value:n.t0});case 13:case"end":return n.stop()}}),n)})))()},return(e){var i=arguments;return(0,u.default)(s.default.mark((function c(){var l,d,u,h;return s.default.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:for(o=void 0,l=A(n);!(d=l()).done;)u=d.value,(h=ve(t,u))&&(h.delete(a),0===h.size&&ge.get(t).delete(u));if(r(),!(i.length>0)){s.next=10;break}return s.next=6,e;case 6:s.t1=s.sent,s.t0={done:!0,value:s.t1},s.next=11;break;case 10:s.t0={done:!0};case 11:return s.abrupt("return",s.t0);case 12:case"end":return s.stop()}}),c)})))()},[Symbol.asyncIterator](){return this}}}function Fe(e){if(void 0===e)return _e;if(!Array.isArray(e))throw new TypeError("`methodNames` must be an array of strings");for(var t,n=A(e);!(t=n()).done;){const e=t.value;if(!_e.includes(e)){if("string"!==typeof e)throw new TypeError("`methodNames` element must be a string");throw new Error("".concat(e," is not Emittery method"))}}return e}const Be=e=>e===Ee||e===Ce;function Te(e,t,n){if(Be(t))try{Ie=!0,e.emit(t,n)}finally{Ie=!1}}let Ne=function(){function t(e){var t;void 0===e&&(e={}),Ae.set(this,new Set),pe.set(this,new Map),ge.set(this,new Map),ge.get(this).set(fe,new Set),this.debug=null!=(t=e.debug)?t:{},void 0===this.debug.enabled&&(this.debug.enabled=!1),this.debug.logger||(this.debug.logger=(e,t,n,i)=>{try{i=JSON.stringify(i)}catch(a){i="Object with the following keys failed to stringify: ".concat(Object.keys(i).join(","))}"symbol"!==typeof n&&"number"!==typeof n||(n=n.toString());const r=new Date,o="".concat(r.getHours(),":").concat(r.getMinutes(),":").concat(r.getSeconds(),".").concat(r.getMilliseconds());console.log("[".concat(o,"][emittery:").concat(e,"][").concat(t,"] Event Name: ").concat(n,"\n\tdata: ").concat(i))})}t.mixin=function(e,n){return n=Fe(n),i=>{if("function"!==typeof i)throw new TypeError("`target` must be function");for(var r,o=A(n);!(r=o()).done;){const e=r.value;if(void 0!==i.prototype[e])throw new Error("The property `".concat(e,"` already exists on `target`"))}Object.defineProperty(i.prototype,e,{enumerable:!1,get:function(){return Object.defineProperty(this,e,{enumerable:!1,value:new t}),this[e]}});const a=t=>function(){return this[e][t](...arguments)};for(var s,c=A(n);!(s=c()).done;){const e=s.value;Object.defineProperty(i.prototype,e,{enumerable:!1,value:a(e)})}return i}};var n=t.prototype;return n.logIfDebugEnabled=function(e,n,i){(t.isDebugEnabled||this.debug.enabled)&&this.debug.logger(e,this.debug.name,n,i)},n.on=function(e,t){ye(t);for(var n,i=A(e=Array.isArray(e)?e:[e]);!(n=i()).done;){const e=n.value;Ue(e);let i=be(this,e);i||(i=new Set,pe.get(this).set(e,i)),i.add(t),this.logIfDebugEnabled("subscribe",e,void 0),Be(e)||Te(this,Ee,{eventName:e,listener:t})}return this.off.bind(this,e,t)},n.off=function(e,t){ye(t);for(var n,i=A(e=Array.isArray(e)?e:[e]);!(n=i()).done;){const e=n.value;Ue(e);const i=be(this,e);i&&(i.delete(t),0===i.size)&&pe.get(this).delete(e),this.logIfDebugEnabled("unsubscribe",e,void 0),Be(e)||Te(this,Ce,{eventName:e,listener:t})}},n.once=function(t){let n;const i=new e((e=>{n=this.on(t,(t=>{n(),e(t)}))}));return i.off=n,i},n.events=function(e){for(var t,n=A(e=Array.isArray(e)?e:[e]);!(t=n()).done;)Ue(t.value);return Se(this,e)},n.emit=function(){var t=(0,u.default)(s.default.mark((function t(n,i){var r,o,a,c,l;return s.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Ue(n),!Be(n)||Ie){t.next=3;break}throw new TypeError("`eventName` cannot be meta event `listenerAdded` or `listenerRemoved`");case 3:return this.logIfDebugEnabled("emit",n,i),Re(this,n,i),o=null!=(r=be(this,n))?r:new Set,a=Ae.get(this),c=[...o],l=Be(n)?[]:[...a],t.next=11,me;case 11:return t.next=13,e.all([...c.map(function(){var e=(0,u.default)(s.default.mark((function e(t){return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o.has(t)){e.next=2;break}return e.abrupt("return",t(i));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),...l.map(function(){var e=(0,u.default)(s.default.mark((function e(t){return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.has(t)){e.next=2;break}return e.abrupt("return",t(n,i));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())]);case 13:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}(),n.emitSerial=function(){var e=(0,u.default)(s.default.mark((function e(t,n){var i,r,o,a,c,l,d,u,h,A;return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ue(t),!Be(t)||Ie){e.next=3;break}throw new TypeError("`eventName` cannot be meta event `listenerAdded` or `listenerRemoved`");case 3:return this.logIfDebugEnabled("emitSerial",t,n),r=null!=(i=be(this,t))?i:new Set,o=Ae.get(this),a=[...r],c=[...o],e.next=10,me;case 10:l=0,d=a;case 11:if(!(l<d.length)){e.next=19;break}if(u=d[l],!r.has(u)){e.next=16;break}return e.next=16,u(n);case 16:l++,e.next=11;break;case 19:h=0,A=c;case 20:if(!(h<A.length)){e.next=28;break}if(u=A[h],!o.has(u)){e.next=25;break}return e.next=25,u(t,n);case 25:h++,e.next=20;break;case 28:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),n.onAny=function(e){return ye(e),this.logIfDebugEnabled("subscribeAny",void 0,void 0),Ae.get(this).add(e),Te(this,Ee,{listener:e}),this.offAny.bind(this,e)},n.anyEvent=function(){return Se(this)},n.offAny=function(e){ye(e),this.logIfDebugEnabled("unsubscribeAny",void 0,void 0),Te(this,Ce,{listener:e}),Ae.get(this).delete(e)},n.clearListeners=function(e){for(var t,n=A(e=Array.isArray(e)?e:[e]);!(t=n()).done;){const e=t.value;if(this.logIfDebugEnabled("clear",e,void 0),"string"===typeof e||"symbol"===typeof e||"number"===typeof e){const t=be(this,e);t&&t.clear();const n=ve(this,e);if(n){for(var i,r=A(n);!(i=r()).done;)i.value.finish();n.clear()}}else{Ae.get(this).clear();for(var o,a=A(pe.get(this).entries());!(o=a()).done;){const e=o.value,t=e[0];e[1].clear(),pe.get(this).delete(t)}for(var s,c=A(ge.get(this).entries());!(s=c()).done;){const e=s.value,t=e[0],n=e[1];for(var l,d=A(n);!(l=d()).done;)l.value.finish();n.clear(),ge.get(this).delete(t)}}}},n.listenerCount=function(e){let t=0;for(var n,i=A(e=Array.isArray(e)?e:[e]);!(n=i()).done;){const e=n.value;if("string"!==typeof e){"undefined"!==typeof e&&Ue(e),t+=Ae.get(this).size;for(var r,o=A(pe.get(this).values());!(r=o()).done;)t+=r.value.size;for(var a,s=A(ge.get(this).values());!(a=s()).done;)t+=a.value.size}else{var c,l,d,u,h,p;t+=Ae.get(this).size+(null!=(c=null==(l=be(this,e))?void 0:l.size)?c:0)+(null!=(d=null==(u=ve(this,e))?void 0:u.size)?d:0)+(null!=(h=null==(p=ve(this))?void 0:p.size)?h:0)}}return t},n.bindMethods=function(e,t){if("object"!==typeof e||null===e)throw new TypeError("`target` must be an object");for(var n,i=A(t=Fe(t));!(n=i()).done;){const t=n.value;if(void 0!==e[t])throw new Error("The property `".concat(t,"` already exists on `target`"));Object.defineProperty(e,t,{enumerable:!1,value:this[t].bind(this)})}},(0,d.default)(t,null,[{key:"isDebugEnabled",get:function(){var e,t;if("object"!==typeof(null==(e=h.process)?void 0:e.env))return Qe;const n=(null!=(t=h.process)?t:{env:{}}).env;return"emittery"===n.DEBUG||"*"===n.DEBUG||Qe},set:function(e){Qe=e}}]),t}();const _e=Object.getOwnPropertyNames(Ne.prototype).filter((e=>"constructor"!==e));Object.defineProperty(Ne,"listenerAdded",{value:Ee,writable:!1,enumerable:!0,configurable:!1}),Object.defineProperty(Ne,"listenerRemoved",{value:Ce,writable:!1,enumerable:!0,configurable:!1});const we=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).isDecryptionEnabled=!0,t.payloadTypes={},t.isOnSuccessEnabled=!1,t}(0,l.default)(t,e);var n=t.prototype;return n.init=function(){var e=(0,u.default)(s.default.mark((function e(){return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ue();case 3:this.instance=e.sent,this.encryptor=new this.instance.SFrameEngine(this.instance.EngineType.ENCRYPTOR,this.instance.CipherSuite.AES_CTR_128_HMAC_SHA256_80),this.decryptor=new this.instance.SFrameEngine(this.instance.EngineType.DECRYPTOR,this.instance.CipherSuite.AES_CTR_128_HMAC_SHA256_80),self.addEventListener("rtctransform",(e=>{console.log("rtctransform",e);const t=e.transformer,n=t.options,i=n.type,r=n.id,o=t.readable,a=t.writable;switch(i){case"encrypt":this.encrypt(r,o,a);break;case"decrypt":this.decrypt(r,o,a)}})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("INIT ERRROR",e.t0);case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),n.setEnableOnSuccess=function(){var e=(0,u.default)(s.default.mark((function e(t){return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.isOnSuccessEnabled=t;case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.enableDecryption=function(){this.isDecryptionEnabled=!0},n.disableDecryption=function(){this.isDecryptionEnabled=!1},n.setKey=function(e){if(!this.encryptor||!this.decryptor)throw console.error("Engine must be initialized"),"Engine must be initialized";this.updateEngineKey(this.encryptor,e),this.updateEngineKey(this.decryptor,e)},n.addPayloadTypes=function(e){this.payloadTypes=Object.assign({},this.payloadTypes,e)},n.removeKey=function(e){if(!this.encryptor||!this.decryptor)throw console.error("Engine must be initialized"),"Engine must be initialized";this.encryptor.removeBaseKey(BigInt(e)),this.decryptor.removeBaseKey(BigInt(e))},n.encrypt=function(e,t,n){this.transformStream(t,n,(t=>{if(!this.encryptor)throw console.error("Engine must be initialized"),"Engine must be initialized";this.processFrame(this.encryptor,e,t)}))},n.decrypt=function(e,t,n){this.transformStream(t,n,(t=>{if(!this.decryptor)throw console.error("Engine must be initialized"),"Engine must be initialized";this.isDecryptionEnabled&&this.processFrame(this.decryptor,e,t)}))},n.setCodecs=function(e,t){this.audioCodec=e,this.videoCodec=t},n.transformStream=function(){var e=(0,u.default)(s.default.mark((function e(t,n,i){var r,o,a,c;return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.getReader(),o=n.getWriter();case 2:return e.prev=3,e.next=6,r.read();case 6:return a=e.sent,c=a.value,i(c),e.next=11,o.ready;case 11:return e.next=13,o.write(c);case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(3),console.log("ERROR",e.t0);case 18:e.next=2;break;case 20:case"end":return e.stop()}}),e,null,[[3,15]])})));return function(t,n,i){return e.apply(this,arguments)}}(),n.updateEngineKey=function(e,t){const n=e.getKeyBuffer(t.key.length);let i=t.key;"string"===typeof i&&(i=Uint8Array.from(i.split("").map((e=>e.charCodeAt(0))))),n.set(i),e.addOrUpdateBaseKey(BigInt(t.kid))},n.processFrame=function(e,t,n){var i,r,o;if(0===n.data.byteLength)return void this.emit("emptyFrame",{message:"EMPTY ".concat(n instanceof RTCEncodedAudioFrame?"AUDIO":"VIDEO"," FRAME")});if(!this.instance)throw console.error("Engine must be initialized"),"Not initialized";let a;if(void 0!==this.audioCodec&&n instanceof RTCEncodedAudioFrame)a=this.audioCodec;else if(void 0!==this.videoCodec&&n instanceof RTCEncodedVideoFrame)a=this.videoCodec;else{const e=n.getMetadata();a=this.payloadTypes[e.payloadType]}switch(a){case g.VP8:e.setSkipOffset(null==(i=this.instance)?void 0:i.SkipOffset.VP8);break;case g.H264:e.setSkipOffset(null==(r=this.instance)?void 0:r.SkipOffset.H264);break;case g.OPUS:e.setSkipOffset(null==(o=this.instance)?void 0:o.SkipOffset.OPUS);break;default:this.emit("warning",{message:"Unknown codec"})}const s=new Uint8Array(n.data),c=this.runEngineAlgorithm(e,t,s),l=e.getStatus();if(l===this.instance.Status.OK&&c.byteLength>0)n.data=new ArrayBuffer(c.byteLength),new Uint8Array(n.data).set(c),this.isOnSuccessEnabled&&this.emit("success",{});else switch(l){case this.instance.Status.FAILED_TO_AUTHENTICATE:this.emit("error",{message:"ERROR: FAILED_TO_AUTHENTICATE"});break;case this.instance.Status.FAILED_TO_DECRYPT:this.emit("error",{message:"ERROR: FAILED_TO_DECRYPT"});break;case this.instance.Status.FAILED_TO_ENCRYPT:this.emit("error",{message:"ERROR: FAILED_TO_ENCRYPT"});break;case this.instance.Status.FAIL_PARSE_CODEC_HEADER:this.emit("error",{message:"ERROR: FAIL_PARSE_CODEC_HEADER"});break;case this.instance.Status.NULL_INPUT_FRAME:this.emit("error",{message:"ERROR: NULL_INPUT_FRAME"});break;case this.instance.Status.NULL_OUTPUT_FRAME:this.emit("error",{message:"ERROR: NULL_OUTPUT_FRAME"});break;case this.instance.Status.UNKNOWN:this.emit("error",{message:"ERROR: UNKNOWN"});break;case this.instance.Status.OK:this.emit("error",{message:"ERROR: EMPTY OUTPUT"})}},n.runEngineAlgorithm=function(e,t,n){try{e.getInputFrame(n.length).set(n);const i=e.runAlgorithm(BigInt(t));return e.getOutputFrame().slice(0,i)}catch(i){return console.log("FAIL",n.length,i),new Uint8Array([])}},t}(Ne);var ke,De;ke="encryption-engine",(De=we).workerId=ke,R()&&(oe[De.workerId]=De);let Ve=we;const Ze="IWZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO3ZhciBBLGc9KEE9c2VsZi5sb2NhdGlvbi5ocmVmLGZ1bmN0aW9uKGcpe3ZhciBJLEM7KGc9dm9pZCAwIT09KGc9Z3x8e30pP2c6e30pLnJlYWR5PW5ldyBQcm9taXNlKChmdW5jdGlvbihBLGcpe0k9QSxDPWd9KSk7dmFyIEIsRSxRLG8saSxEPU9iamVjdC5hc3NpZ24oe30sZykscXVpdF89KEEsZyk9Pnt0aHJvdyBnfSxlPSJvYmplY3QiPT10eXBlb2Ygd2luZG93LHQ9ImZ1bmN0aW9uIj09dHlwZW9mIGltcG9ydFNjcmlwdHMscj0ib2JqZWN0Ij09dHlwZW9mIHByb2Nlc3MmJiJvYmplY3QiPT10eXBlb2YgcHJvY2Vzcy52ZXJzaW9ucyYmInN0cmluZyI9PXR5cGVvZiBwcm9jZXNzLnZlcnNpb25zLm5vZGUsYT0iIjtyPyhhPXQ/cmVxdWlyZSgicGF0aCIpLmRpcm5hbWUoYSkrIi8iOl9fZGlybmFtZSsiLyIsImZ1bmN0aW9uIj09dHlwZW9mIHJlcXVpcmUmJihvPXJlcXVpcmUoImZzIiksaT1yZXF1aXJlKCJwYXRoIikpLEI9KEEsZyk9Pnt2YXIgST10cnlQYXJzZUFzRGF0YVVSSShBKTtyZXR1cm4gST9nP0k6SS50b1N0cmluZygpOihBPWkubm9ybWFsaXplKEEpLG8ucmVhZEZpbGVTeW5jKEEsZz92b2lkIDA6InV0ZjgiKSl9LFE9QT0+e3ZhciBnPUIoQSwhMCk7cmV0dXJuIGcuYnVmZmVyfHwoZz1uZXcgVWludDhBcnJheShnKSksZ30sRT0oQSxnLEkpPT57dmFyIEM9dHJ5UGFyc2VBc0RhdGFVUkkoQSk7QyYmZyhDKSxBPWkubm9ybWFsaXplKEEpLG8ucmVhZEZpbGUoQSwoZnVuY3Rpb24oQSxDKXtBP0koQSk6ZyhDLmJ1ZmZlcil9KSl9LHByb2Nlc3MuYXJndi5sZW5ndGg+MSYmcHJvY2Vzcy5hcmd2WzFdLnJlcGxhY2UoL1xcL2csIi8iKSxwcm9jZXNzLmFyZ3Yuc2xpY2UoMikscHJvY2Vzcy5vbigidW5jYXVnaHRFeGNlcHRpb24iLChmdW5jdGlvbihBKXtpZighKEEgaW5zdGFuY2VvZiBFeGl0U3RhdHVzKSl0aHJvdyBBfSkpLHByb2Nlc3Mub24oInVuaGFuZGxlZFJlamVjdGlvbiIsKGZ1bmN0aW9uKEEpe3Rocm93IEF9KSkscXVpdF89KEEsZyk9PntpZihrZWVwUnVudGltZUFsaXZlKCkpdGhyb3cgcHJvY2Vzcy5leGl0Q29kZT1BLGc7IWZ1bmN0aW9uIGxvZ0V4Y2VwdGlvbk9uRXhpdChBKXtBIGluc3RhbmNlb2YgRXhpdFN0YXR1c3x8bigiZXhpdGluZyBkdWUgdG8gZXhjZXB0aW9uOiAiK0EpfShnKSxwcm9jZXNzLmV4aXQoQSl9LGcuaW5zcGVjdD1mdW5jdGlvbigpe3JldHVybiJbRW1zY3JpcHRlbiBNb2R1bGUgb2JqZWN0XSJ9KTooZXx8dCkmJih0P2E9c2VsZi5sb2NhdGlvbi5ocmVmOiJ1bmRlZmluZWQiIT10eXBlb2YgZG9jdW1lbnQmJmRvY3VtZW50LmN1cnJlbnRTY3JpcHQmJihhPWRvY3VtZW50LmN1cnJlbnRTY3JpcHQuc3JjKSxBJiYoYT1BKSxhPTAhPT1hLmluZGV4T2YoImJsb2I6Iik/YS5zdWJzdHIoMCxhLnJlcGxhY2UoL1s/I10uKi8sIiIpLmxhc3RJbmRleE9mKCIvIikrMSk6IiIsQj1BPT57dHJ5e3ZhciBnPW5ldyBYTUxIdHRwUmVxdWVzdDtyZXR1cm4gZy5vcGVuKCJHRVQiLEEsITEpLGcuc2VuZChudWxsKSxnLnJlc3BvbnNlVGV4dH1jYXRjaChDKXt2YXIgST10cnlQYXJzZUFzRGF0YVVSSShBKTtpZihJKXJldHVybiBmdW5jdGlvbiBpbnRBcnJheVRvU3RyaW5nKEEpe2Zvcih2YXIgZz1bXSxJPTA7STxBLmxlbmd0aDtJKyspe3ZhciBDPUFbSV07Qz4yNTUmJihDJj0yNTUpLGcucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKEMpKX1yZXR1cm4gZy5qb2luKCIiKX0oSSk7dGhyb3cgQ319LHQmJihRPUE9Pnt0cnl7dmFyIGc9bmV3IFhNTEh0dHBSZXF1ZXN0O3JldHVybiBnLm9wZW4oIkdFVCIsQSwhMSksZy5yZXNwb25zZVR5cGU9ImFycmF5YnVmZmVyIixnLnNlbmQobnVsbCksbmV3IFVpbnQ4QXJyYXkoZy5yZXNwb25zZSl9Y2F0Y2goQyl7dmFyIEk9dHJ5UGFyc2VBc0RhdGFVUkkoQSk7aWYoSSlyZXR1cm4gSTt0aHJvdyBDfX0pLEU9KEEsZyxJKT0+e3ZhciBDPW5ldyBYTUxIdHRwUmVxdWVzdDtDLm9wZW4oIkdFVCIsQSwhMCksQy5yZXNwb25zZVR5cGU9ImFycmF5YnVmZmVyIixDLm9ubG9hZD0oKT0+e2lmKDIwMD09Qy5zdGF0dXN8fDA9PUMuc3RhdHVzJiZDLnJlc3BvbnNlKWcoQy5yZXNwb25zZSk7ZWxzZXt2YXIgQj10cnlQYXJzZUFzRGF0YVVSSShBKTtCP2coQi5idWZmZXIpOkkoKX19LEMub25lcnJvcj1JLEMuc2VuZChudWxsKX0pLGcucHJpbnR8fGNvbnNvbGUubG9nLmJpbmQoY29uc29sZSk7dmFyIE0sbj1nLnByaW50RXJyfHxjb25zb2xlLndhcm4uYmluZChjb25zb2xlKTtPYmplY3QuYXNzaWduKGcsRCksRD1udWxsLGcuYXJndW1lbnRzJiZnLmFyZ3VtZW50cyxnLnRoaXNQcm9ncmFtJiZnLnRoaXNQcm9ncmFtLGcucXVpdCYmKHF1aXRfPWcucXVpdCksZy53YXNtQmluYXJ5JiYoTT1nLndhc21CaW5hcnkpO3ZhciB3PWcubm9FeGl0UnVudGltZXx8ITA7Im9iamVjdCIhPXR5cGVvZiBXZWJBc3NlbWJseSYmYWJvcnQoIm5vIG5hdGl2ZSB3YXNtIHN1cHBvcnQgZGV0ZWN0ZWQiKTt2YXIgcyxLLHksaCxZLE4sYyxHLFMsUixGLEosayxsPSExLGQ9InVuZGVmaW5lZCIhPXR5cGVvZiBUZXh0RGVjb2Rlcj9uZXcgVGV4dERlY29kZXIoInV0ZjgiKTp2b2lkIDA7ZnVuY3Rpb24gVVRGOFRvU3RyaW5nKEEsZyl7cmV0dXJuIEE/ZnVuY3Rpb24gVVRGOEFycmF5VG9TdHJpbmcoQSxnLEkpe2Zvcih2YXIgQz1nK0ksQj1nO0FbQl0mJiEoQj49Qyk7KSsrQjtpZihCLWc+MTYmJkEuYnVmZmVyJiZkKXJldHVybiBkLmRlY29kZShBLnN1YmFycmF5KGcsQikpO2Zvcih2YXIgRT0iIjtnPEI7KXt2YXIgUT1BW2crK107aWYoMTI4JlEpe3ZhciBvPTYzJkFbZysrXTtpZigxOTIhPSgyMjQmUSkpe3ZhciBpPTYzJkFbZysrXTtpZigoUT0yMjQ9PSgyNDAmUSk/KDE1JlEpPDwxMnxvPDw2fGk6KDcmUSk8PDE4fG88PDEyfGk8PDZ8NjMmQVtnKytdKTw2NTUzNilFKz1TdHJpbmcuZnJvbUNoYXJDb2RlKFEpO2Vsc2V7dmFyIEQ9US02NTUzNjtFKz1TdHJpbmcuZnJvbUNoYXJDb2RlKDU1Mjk2fEQ+PjEwLDU2MzIwfDEwMjMmRCl9fWVsc2UgRSs9U3RyaW5nLmZyb21DaGFyQ29kZSgoMzEmUSk8PDZ8byl9ZWxzZSBFKz1TdHJpbmcuZnJvbUNoYXJDb2RlKFEpfXJldHVybiBFfShoLEEsZyk6IiJ9Zy5JTklUSUFMX01FTU9SWTt2YXIgZj1bXSx1PVtdLFU9W10saj1bXTtmdW5jdGlvbiBrZWVwUnVudGltZUFsaXZlKCl7cmV0dXJuIHd9dmFyIEg9MCxtPW51bGw7ZnVuY3Rpb24gYWJvcnQoQSl7Zy5vbkFib3J0JiZnLm9uQWJvcnQoQSksbihBPSJBYm9ydGVkKCIrQSsiKSIpLGw9ITAscz0xLEErPSIuIEJ1aWxkIHdpdGggLXNBU1NFUlRJT05TIGZvciBtb3JlIGluZm8uIjt2YXIgST1uZXcgV2ViQXNzZW1ibHkuUnVudGltZUVycm9yKEEpO3Rocm93IEMoSSksSX12YXIgTCxwPSJkYXRhOmFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbTtiYXNlNjQsIjtmdW5jdGlvbiBpc0RhdGFVUkkoQSl7cmV0dXJuIEEuc3RhcnRzV2l0aChwKX1mdW5jdGlvbiBpc0ZpbGVVUkkoQSl7cmV0dXJuIEEuc3RhcnRzV2l0aCgiZmlsZTovLyIpfWZ1bmN0aW9uIGdldEJpbmFyeShBKXt0cnl7aWYoQT09TCYmTSlyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoTSk7dmFyIGc9dHJ5UGFyc2VBc0RhdGFVUkkoQSk7aWYoZylyZXR1cm4gZztpZihRKXJldHVybiBRKEEpO3Rocm93ImJvdGggYXN5bmMgYW5kIHN5bmMgZmV0Y2hpbmcgb2YgdGhlIHdhc20gZmFpbGVkIn1jYXRjaChJKXthYm9ydChJKX19ZnVuY3Rpb24gRXhpdFN0YXR1cyhBKXt0aGlzLm5hbWU9IkV4aXRTdGF0dXMiLHRoaXMubWVzc2FnZT0iUHJvZ3JhbSB0ZXJtaW5hdGVkIHdpdGggZXhpdCgiK0ErIikiLHRoaXMuc3RhdHVzPUF9ZnVuY3Rpb24gY2FsbFJ1bnRpbWVDYWxsYmFja3MoQSl7Zm9yKDtBLmxlbmd0aD4wOylBLnNoaWZ0KCkoZyl9ZnVuY3Rpb24gZW1iaW5kUmVwcihBKXtpZihudWxsPT09QSlyZXR1cm4ibnVsbCI7dmFyIGc9dHlwZW9mIEE7cmV0dXJuIm9iamVjdCI9PT1nfHwiYXJyYXkiPT09Z3x8ImZ1bmN0aW9uIj09PWc/QS50b1N0cmluZygpOiIiK0F9aXNEYXRhVVJJKEw9ImRhdGE6YXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtO2Jhc2U2NCxBR0Z6YlFFQUFBQUJsd0lpWUFGL0FYOWdBWDhBWUFKL2Z3QmdBMzkvZndCZ0FuOS9BWDlnQTM5L2Z3Ri9ZQVIvZjM5L0FYOWdCSDkvZjM4QVlBVi9mMzkvZndCZ0FBQmdCbjkvZjM5L2Z3QmdBbjkrQVg5Z0NIOS9mMzkvZjM5L0FHQU1mMzkvZjM5L2YzOS9mMzkvQUdBSGYzOS9mMzkvZndGL1lBQUJmMkFKZjM5K2YzOS9mMzkvQUdBQ2YzNEFZQU4vZjM0QmYyQUZmMzkvZm40QVlBMS9mMzkvZjM5L2YzOS9mMzkvQUdBQmZ3RitZQUovZndGK1lBUi9mMzUrQUdBRmYzOS9mMzhCZjJBRGZuOS9BWDlnQzM5L2YzOS9mMzkvZjM5L0FYOWdBWHdCZkdBQmZnRitZQVovZjM5L2YzOEJmMkFDZjM0QmZtQUZmMzUrZjM4QmYyQUtmMzkvZjM5L2YzOS9md0YvWUExL2YzOS9mMzkvZjM5L2YzOS9BWDhDZnhVQllRRmhBQWNCWVFGaUFBTUJZUUZqQUFnQllRRmtBQWtCWVFGbEFBd0JZUUZtQUFNQllRRm5BQWNCWVFGb0FBTUJZUUZwQUFRQllRRnFBQUlCWVFGckFBTUJZUUZzQUJNQllRRnRBQUVCWVFGdUFBRUJZUUZ2QUFvQllRRndBQUFCWVFGeEFBTUJZUUZ5QUFJQllRRnpBQWdCWVFGMEFBSUJZUUYxQUJRRDd3THRBZ1FBQUFBQUFRVUhBQU1BQlFNQkJBQUVBQUVCQkFFRUFBSUJBQUFCQUFFQUJRSUJBUWtGQUFZVkFBQUNCQUFEQWdBREFBQUFCQUVDQWdJQUF3QUFBd01BQUFBRkFRSURBd0VBQWdBREFRSUVBUWdDQUFBQ0JRQUZFUVVPQVFFQkF3RUJCQUlDQXdNQUJRUUNBQUFBQlFVQUJRQURBZ0VLQndNQ0ZnSVhCZ1FBQlFVUEdBSURCUU1EQXdNWkFBRUFBQUVFQUFJREFBQUNBZ0FDQVFJQ0Fna0FCd0FDQUJvRUF3RUFBZ01EQWdRSEJRRUJBQVVBQWhzSkFRRUNBZ1lCQXdJY0FRVUJEZzRQQkFRZEFRRVBBQW9CQVF3TUFBRUJBd0VCQXdFUkRBZ0FBQUVCQXdRREFRUUVBQUFFQUFVQUhnRUNCd1FDQUFJREFnSUJBZ0VDQkFRRUJBUUFId0VCQWdFQ0FRQURBZ0lBQVFBREFRRUJBZ0VMQUEwRURRRUZBeElFQVFBU0FRb0tDZ2dJQlFnRkJ3Y0hCUWtBQVFrRkJBSURBUVlHQXdjQ0NRa0lDZ2dEQXdFZ0lRWUNBUUVCQWdNQkVBRVFBd0VDQ3dFQkFRQUFBQUFBQ3dBQUFBQUFBUUVDQUFBSkJBVUJjQUY5ZlFVR0FRR0FBb0FDQmdrQmZ3RkJvUFRBQWdzSEpRZ0JkZ0lBQVhjQXRBRUJlQUM3QVFGNUFRQUJlZ0FpQVVFQU93RkNBTWdDQVVNQXh3SUo4Z0VCQUVFQkMzeUJBN2dDdHdLd0FxMENxd0wrQXZZQzdRTHNBdW9DNVFMa0FzQUN1UUsyQXJVQ3RBS3pBbGF5QXY4Q3NRS3ZBcTRDaHdHc0F2c0NnQVA2QXZrQytBTDNBdlVDOUFMekF2SUM4UUszQWZVQnNBRTUvUUw4QXFZQ3NBR2dBdkFDN3dLN0FlNENsZ0tUQXFjQnBBR3FBYkFCNndMcEF1Z0M1d0wxQWVZQzR3TGlBdUVDNEFMMEFkOEN1Z0xlQXQwQzNBSjYxd0o2MndMWkF0UUMwd0xXQXRFQzBBTFZBczhDemdMTkF0SUNldVFCNUFGNjJnTFlBc3dDeXdMS0Fza0N6UUhJQWNjQnh3SElBVXZHQWNZQnhRRkx4UUZMeGdLN0FyNEN4UUpMdkFLL0FzUUNTNzBDd1FMREFrdkNBZ3F3d3dmdEFpOEJBWDhqQUVFUWF5SUNJQUEyQWd3Z0FpQUJOZ0lJSUFJb0Fnd2lBQ0FDS0FJSUlnRjJJQUJCQUNBQmEzUnlDeWtCQVg4akFFRVFheUlCSkFBZ0FTQUFOZ0lNSUFFb0Fnd1FGeWdDQUNFQUlBRkJFR29rQUNBQUN6TUJBWDhqQUVFUWF5SUJKQUFnQVNBQU5nSU1Jd0JCRUdzaUFDQUJLQUlNTmdJTUlBQW9BZ3doQUNBQlFSQnFKQUFnQUFzcEFRRi9Jd0JCRUdzaUFTUUFJQUVnQURZQ0RDQUJLQUlNUVFocUVCY2hBQ0FCUVJCcUpBQWdBQXMyQVFGL0l3QkJFR3NpQVNRQUlBRWdBRFlDRENNQVFSQnJJZ0FnQVNnQ0RDZ0NBRFlDRENBQUtBSU1JUUFnQVVFUWFpUUFJQUFMSWdFQmZ5TUFRUkJySWdFa0FDQUJJQUEyQWd3Z0FTZ0NEQkF4SUFGQkVHb2tBQXVBQkFFRGZ5QUNRWUFFVHdSQUlBQWdBU0FDRUJBZ0FBOExJQUFnQW1vaEF3SkFJQUFnQVhOQkEzRkZCRUFDUUNBQVFRTnhSUVJBSUFBaEFnd0JDeUFDUlFSQUlBQWhBZ3dCQ3lBQUlRSURRQ0FDSUFFdEFBQTZBQUFnQVVFQmFpRUJJQUpCQVdvaUFrRURjVVVOQVNBQ0lBTkpEUUFMQ3dKQUlBTkJmSEVpQkVIQUFFa05BQ0FDSUFSQlFHb2lCVXNOQUFOQUlBSWdBU2dDQURZQ0FDQUNJQUVvQWdRMkFnUWdBaUFCS0FJSU5nSUlJQUlnQVNnQ0REWUNEQ0FDSUFFb0FoQTJBaEFnQWlBQktBSVVOZ0lVSUFJZ0FTZ0NHRFlDR0NBQ0lBRW9BaHcyQWh3Z0FpQUJLQUlnTmdJZ0lBSWdBU2dDSkRZQ0pDQUNJQUVvQWlnMkFpZ2dBaUFCS0FJc05nSXNJQUlnQVNnQ01EWUNNQ0FDSUFFb0FqUTJBalFnQWlBQktBSTROZ0k0SUFJZ0FTZ0NQRFlDUENBQlFVQnJJUUVnQWtGQWF5SUNJQVZORFFBTEN5QUNJQVJQRFFFRFFDQUNJQUVvQWdBMkFnQWdBVUVFYWlFQklBSkJCR29pQWlBRVNRMEFDd3dCQ3lBRFFRUkpCRUFnQUNFQ0RBRUxJQUFnQTBFRWF5SUVTd1JBSUFBaEFnd0JDeUFBSVFJRFFDQUNJQUV0QUFBNkFBQWdBaUFCTFFBQk9nQUJJQUlnQVMwQUFqb0FBaUFDSUFFdEFBTTZBQU1nQVVFRWFpRUJJQUpCQkdvaUFpQUVUUTBBQ3dzZ0FpQURTUVJBQTBBZ0FpQUJMUUFBT2dBQUlBRkJBV29oQVNBQ1FRRnFJZ0lnQTBjTkFBc0xJQUFMOFFZQkFuOGpBRUVnYXlJRUpBQWdCQ0FBTmdJY0lBUkJBRFlDR0NBRUlBRTJBaFFnQkNBQ05nSVFJQVFnQXpZQ0RFRUFJUUlqQUVFUWF5SUJKQUFqQUVFUWF5SUFKQUFnQUVFQU5nSUlRY2pxQUVIaEFCQm5Ba0JCek9vQUtBSUFSUVJBSUFCQkFEWUNEQXdCQ3dKQVFkRHFBQ2dDQUNJRFFmOEFTdzBBSUFOQm9Pc0FhaTBBQUVVTkFDQURRUUowUWFEc0FHb29BZ0FoQWdzZ0FDQUNOZ0lFSUFBb0FnUkZCRUFnQUVFQU5nSU1EQUVMSUFBZ0FDZ0NCQ0FBS0FJSVFRSjBhaWdDQURZQ0RBc2dBQ2dDRENFQ0lBQkJFR29rQUNBQklBSTJBZ2dDUUNBQktBSUlSUVJBSUFGQmpBSVFPellDQ0NBQktBSUlSUVJBSUFGQkFEWUNEQXdDQ3lBQktBSUlRUUJCakFJUUlTQUJLQUlJSVFJakFFRWdheUlBSkFBZ0FFRUFOZ0lZSUFBZ0FqWUNGQ0FBUWNrQU5nSVFRY2pxQUVIaEFCQm5Ba0JCek9vQUtBSUFSUVJBSUFBb0FoUWdBQ2dDRUJFQkFDQUFRUUEyQWh3TUFRdEJBQ0VDQWtCQjBPb0FLQUlBSWdOQi93QkxEUUFnQTBHZzZ3QnFMUUFBUlEwQUlBTkJBblJCb093QWFpZ0NBQ0VDQ3lBQUlBSTJBZ3dnQUNnQ0RFVUVRQ0FBUVJRUU96WUNEQ0FBS0FJTVJRUkFJQUFvQWhRZ0FDZ0NFQkVCQUNBQVFRQTJBaHdNQWdzZ0FDZ0NERUVBUVJRUUlTQUFLQUlNSVFWQkhDRUNBa0JCME9vQUtBSUFJZ05CL3dCTERRQWdBMEdnNndCcUxRQUFSUTBBSUFOQkFuUkJvT3dBYWlBRk5nSUFRUUFoQWdzZ0FnUkFJQUFvQWd3UUlpQUFLQUlVSUFBb0FoQVJBUUFnQUVFQU5nSWNEQUlMQ3lBQUtBSVlRUUowUWZEcUFHb2dBQ2dDRURZQ0FDQUFLQUlNSUFBb0FoaEJBblJxSUFBb0FoUTJBZ0FnQUVFQk5nSWNDeUFBS0FJY0lRSWdBRUVnYWlRQUlBSkZCRUFnQVVFQU5nSU1EQUlMQ3lBQklBRW9BZ2cyQWd3TElBRW9BZ3doQUNBQlFSQnFKQUFnQkNBQU5nSUlJQVFvQWdnRVFBSkFJQVFvQWh4QkFrY05BQ0FFS0FJVURRQWdCRUdRNndBb0FnQTJBaFFMSUFRb0FnZ2lBQ0FBS0FLQUFrRUJha0VQY1RZQ2dBSWdCQ2dDQ0NnQ2dBSWdCQ2dDQ0NnQ2hBSkdCRUFnQkNnQ0NDSUFJQUFvQW9RQ1FRRnFRUTl4TmdLRUFnc2dCQ0FFS0FJSUlnQWdBQ2dDZ0FKQkJIUnFOZ0lFSUFRb0FnUVE4QUVnQkNnQ0JDQUVLQUlRTmdJQUlBUW9BZ1FnQkNnQ0REc0JEQ0FFS0FJRUlBUW9BaFJCL3g5eElBUW9BaHhCL3dGeFFSaDBjallDQ0FzZ0JFRWdhaVFBQ3lrQkFYOGpBRUVRYXlJQkpBQWdBU0FBTmdJTUlBRW9BZ3hCREdvUUZ5RUFJQUZCRUdva0FDQUFDMklCQVg4akFFRVFheUlESkFBZ0F5QUFOZ0lJSUFNZ0FUWUNCQ0FESUFJMkFnQUNRQ0FES0FJQVJRUkFJQU1nQXlnQ0NEWUNEQXdCQ3lBREtBSUlJZ0FnQXlnQ0JDQURLQUlBRUJzYUlBTWdBRFlDREFzZ0F5Z0NEQm9nQTBFUWFpUUFDMzRCQVg4akFFRVFheUlCSkFBZ0FTQUFOZ0lFQWtBZ0FTZ0NCRUVBU1FSQUlBRkJDR29RcUFJTUFRc2dBVUVBT2dBRElBRkJDR29pQUJBcUlBQWdBU2dDQkJBdkVHTWdBQkFXUVFBZ0FTZ0NCQkJHSUFGQkFUb0FBeUFCTFFBRFFRRnhSUVJBSUFGQkNHb1FHZ3NMSUFFb0FnZ2hBQ0FCUVJCcUpBQWdBQXQwQVFGL0lBSkZCRUFnQUNnQ0JDQUJLQUlFUmc4TElBQWdBVVlFUUVFQkR3c2dBU2dDQkNJQ0xRQUFJUUVDUUNBQUtBSUVJZ010QUFBaUFFVU5BQ0FBSUFGSERRQURRQ0FDTFFBQklRRWdBeTBBQVNJQVJRMEJJQUpCQVdvaEFpQURRUUZxSVFNZ0FDQUJSZzBBQ3dzZ0FDQUJSZ3RoQVFGL0l3QkJFR3NpQXlRQUlBTWdBRFlDQ0NBRElBRTJBZ1FnQXlBQ05nSUFBa0FnQXlnQ0FFVUVRQ0FESUFNb0FnZzJBZ3dNQVFzZ0F5Z0NDQ0lBSUFNb0FnUWdBeWdDQUJCR0lBTWdBRFlDREFzZ0F5Z0NEQm9nQTBFUWFpUUFDOG9NQVFkL0FrQWdBRVVOQUNBQVFRaHJJZ0lnQUVFRWF5Z0NBQ0lCUVhoeElnQnFJUVVDUUNBQlFRRnhEUUFnQVVFRGNVVU5BU0FDSUFJb0FnQWlBV3NpQWtHdzhBQW9BZ0JKRFFFZ0FDQUJhaUVBUWJUd0FDZ0NBQ0FDUndSQUlBRkIvd0ZOQkVBZ0FpZ0NDQ0lFSUFGQkEzWWlBVUVEZEVISThBQnFSaG9nQkNBQ0tBSU1JZ05HQkVCQm9QQUFRYUR3QUNnQ0FFRitJQUYzY1RZQ0FBd0RDeUFFSUFNMkFnd2dBeUFFTmdJSURBSUxJQUlvQWhnaEJnSkFJQUlnQWlnQ0RDSUJSd1JBSUFJb0FnZ2lBeUFCTmdJTUlBRWdBellDQ0F3QkN3SkFJQUpCRkdvaUJDZ0NBQ0lERFFBZ0FrRVFhaUlFS0FJQUlnTU5BRUVBSVFFTUFRc0RRQ0FFSVFjZ0F5SUJRUlJxSWdRb0FnQWlBdzBBSUFGQkVHb2hCQ0FCS0FJUUlnTU5BQXNnQjBFQU5nSUFDeUFHUlEwQkFrQWdBaWdDSENJRVFRSjBRZER5QUdvaUF5Z0NBQ0FDUmdSQUlBTWdBVFlDQUNBQkRRRkJwUEFBUWFUd0FDZ0NBRUYrSUFSM2NUWUNBQXdEQ3lBR1FSQkJGQ0FHS0FJUUlBSkdHMm9nQVRZQ0FDQUJSUTBDQ3lBQklBWTJBaGdnQWlnQ0VDSURCRUFnQVNBRE5nSVFJQU1nQVRZQ0dBc2dBaWdDRkNJRFJRMEJJQUVnQXpZQ0ZDQURJQUUyQWhnTUFRc2dCU2dDQkNJQlFRTnhRUU5IRFFCQnFQQUFJQUEyQWdBZ0JTQUJRWDV4TmdJRUlBSWdBRUVCY2pZQ0JDQUFJQUpxSUFBMkFnQVBDeUFDSUFWUERRQWdCU2dDQkNJQlFRRnhSUTBBQWtBZ0FVRUNjVVVFUUVHNDhBQW9BZ0FnQlVZRVFFRzQ4QUFnQWpZQ0FFR3M4QUJCclBBQUtBSUFJQUJxSWdBMkFnQWdBaUFBUVFGeU5nSUVJQUpCdFBBQUtBSUFSdzBEUWFqd0FFRUFOZ0lBUWJUd0FFRUFOZ0lBRHd0QnRQQUFLQUlBSUFWR0JFQkJ0UEFBSUFJMkFnQkJxUEFBUWFqd0FDZ0NBQ0FBYWlJQU5nSUFJQUlnQUVFQmNqWUNCQ0FBSUFKcUlBQTJBZ0FQQ3lBQlFYaHhJQUJxSVFBQ1FDQUJRZjhCVFFSQUlBVW9BZ2dpQkNBQlFRTjJJZ0ZCQTNSQnlQQUFha1lhSUFRZ0JTZ0NEQ0lEUmdSQVFhRHdBRUdnOEFBb0FnQkJmaUFCZDNFMkFnQU1BZ3NnQkNBRE5nSU1JQU1nQkRZQ0NBd0JDeUFGS0FJWUlRWUNRQ0FGSUFVb0Fnd2lBVWNFUUNBRktBSUlJZ05Cc1BBQUtBSUFTUm9nQXlBQk5nSU1JQUVnQXpZQ0NBd0JDd0pBSUFWQkZHb2lCQ2dDQUNJRERRQWdCVUVRYWlJRUtBSUFJZ01OQUVFQUlRRU1BUXNEUUNBRUlRY2dBeUlCUVJScUlnUW9BZ0FpQXcwQUlBRkJFR29oQkNBQktBSVFJZ01OQUFzZ0IwRUFOZ0lBQ3lBR1JRMEFBa0FnQlNnQ0hDSUVRUUowUWREeUFHb2lBeWdDQUNBRlJnUkFJQU1nQVRZQ0FDQUJEUUZCcFBBQVFhVHdBQ2dDQUVGK0lBUjNjVFlDQUF3Q0N5QUdRUkJCRkNBR0tBSVFJQVZHRzJvZ0FUWUNBQ0FCUlEwQkN5QUJJQVkyQWhnZ0JTZ0NFQ0lEQkVBZ0FTQUROZ0lRSUFNZ0FUWUNHQXNnQlNnQ0ZDSURSUTBBSUFFZ0F6WUNGQ0FESUFFMkFoZ0xJQUlnQUVFQmNqWUNCQ0FBSUFKcUlBQTJBZ0FnQWtHMDhBQW9BZ0JIRFFGQnFQQUFJQUEyQWdBUEN5QUZJQUZCZm5FMkFnUWdBaUFBUVFGeU5nSUVJQUFnQW1vZ0FEWUNBQXNnQUVIL0FVMEVRQ0FBUVhoeFFjandBR29oQVFKL1FhRHdBQ2dDQUNJRFFRRWdBRUVEZG5RaUFIRkZCRUJCb1BBQUlBQWdBM0kyQWdBZ0FRd0JDeUFCS0FJSUN5RUFJQUVnQWpZQ0NDQUFJQUkyQWd3Z0FpQUJOZ0lNSUFJZ0FEWUNDQThMUVI4aEJDQUFRZi8vL3dkTkJFQWdBRUVJZGlJQklBRkJnUDQvYWtFUWRrRUljU0lFZENJQklBRkJnT0FmYWtFUWRrRUVjU0lEZENJQklBRkJnSUFQYWtFUWRrRUNjU0lCZEVFUGRpQURJQVJ5SUFGeWF5SUJRUUYwSUFBZ0FVRVZhblpCQVhGeVFSeHFJUVFMSUFJZ0JEWUNIQ0FDUWdBM0FoQWdCRUVDZEVIUThnQnFJUWNDUUFKQUFrQkJwUEFBS0FJQUlnTkJBU0FFZENJQmNVVUVRRUdrOEFBZ0FTQURjallDQUNBSElBSTJBZ0FnQWlBSE5nSVlEQUVMSUFCQkdTQUVRUUYyYTBFQUlBUkJIMGNiZENFRUlBY29BZ0FoQVFOQUlBRWlBeWdDQkVGNGNTQUFSZzBDSUFSQkhYWWhBU0FFUVFGMElRUWdBeUFCUVFSeGFpSUhRUkJxS0FJQUlnRU5BQXNnQnlBQ05nSVFJQUlnQXpZQ0dBc2dBaUFDTmdJTUlBSWdBallDQ0F3QkN5QURLQUlJSWdBZ0FqWUNEQ0FESUFJMkFnZ2dBa0VBTmdJWUlBSWdBellDRENBQ0lBQTJBZ2dMUWNEd0FFSEE4QUFvQWdCQkFXc2lBRUYvSUFBYk5nSUFDd3M1QVFGL0l3QkJFR3NpQWlRQUlBSWdBRFlDRENBQ0lBRTJBZ2dnQWlnQ0RCQVhLQUlBSUFJb0FnaEJBblJxSVFBZ0FrRVFhaVFBSUFBTE5RRUJmeU1BUVJCcklnRWtBQ0FCSUFBMkFnd2dBVUVJYWlBQktBSU1RUVFRSGlBQktBSUlFT2tCSVFBZ0FVRVFhaVFBSUFBTFhnRUJmeU1BUVJCcklnSWdBRFlDRENBQ0lBRTJBZ2dDZnlBQ0tBSUlJZ0FnQUVFQmEzRkZCRUFnQWlnQ0RDQUNLQUlJUVFGcmNRd0JDd0ovSUFJb0Fnd2dBaWdDQ0VrRVFDQUNLQUlNREFFTElBSW9BZ3dnQWlnQ0NIQUxDd3NtQVFGL0l3QkJFR3NpQVNRQUlBRWdBRFlDRENBQktBSU1FQmNoQUNBQlFSQnFKQUFnQUF0UEFRRi9Jd0JCRUdzaUFTUUFJQUVnQURZQ0NDQUJJQUVvQWdnaUFEWUNEQ0FBRUpzQ0lBQW9BZ0FFUUNBQUVKb0NJQUFRR0NBQUtBSUFJQUFRUGhDcEFRc2dBU2dDREJvZ0FVRVFhaVFBQzYwQkFRRi9Jd0JCRUdzaUFTUUFJQUVnQURZQ0RBSkFJQUVvQWd4RkRRQkJ2T29BS0FJQUJFQWdBU2dDREVHODZnQW9BZ0FSQVFBTUFRc2dBU0FCS0FJTVFRaHJOZ0lJSXdCQkVHc2lBQ0FCS0FJSU5nSU1JQUJCQ0RZQ0NDQUJJQUVvQWdnb0FnQTJBZ1FnQVNnQ0NDQUJLQUlFUVFocUVJNEJRY1RxQUNnQ0FBUkFJQUVvQWdnZ0FTZ0NCRUVJYWtFQVFjVHFBQ2dDQUJFREFBd0JDeUFCS0FJSUVDSUxJQUZCRUdva0FBdjlCd0VMZnlNQVFUQnJJZ2drQUNBSUlBQTJBaXdnQ0NBQk5nSW9JQWdvQWl3aEJTQUlLQUlvSVFZakFFRVFheUlBSkFBZ0FDQUdOZ0lFSUFBb0FnUWhBaU1BUVRCcklnRWtBQ0FCSUFCQkNHbzJBaXdnQVNBQ05nSW9JQUVvQWl3aEF5QUJLQUlvSVFRakFFRXdheUlDSkFBZ0FpQUROZ0lNSUFJZ0JEWUNDQ0FDS0FJSUlRUWpBRUVRYXlJRElBSW9BZ3cyQWd3Z0F5QUVOZ0lJSUFNb0Fnd2dBeWdDQ0RZQ0FDQUNRVEJxSkFBZ0FVRXdhaVFBSUFBb0FnZ2hBU0FBUVJCcUpBQWdDQ0FCTmdJWUl3QkJRR29pQUNRQUlBQWdCVFlDUENBQUlBWTJBamdnQUVHQUt6WUNOQ0FBSUFoQkdHbzJBakFnQUNBSVFSQnFOZ0lzSUFBZ0FDZ0NQQ0lMSUFCQktHb2dBQ2dDT0JDR0FUWUNKQ0FBSUFBb0FpUW9BZ0EyQWlBZ0FFRUFPZ0FmSUFBb0FpUW9BZ0JGQkVBZ0FDZ0NOQ0VDSUFBb0FqQWhBeUFBS0FJc0lRWWpBRUVnYXlJQkpBQWdBU0FMTmdJY0lBRWdBallDR0NBQklBTTJBaFFnQVNBR05nSVFJQUVnQVNnQ0hCQmdOZ0lNSUFGQkFEb0FDeUFCS0FJTUVMVUJJUUlnQVNBQktBSU1RUUFRVkNBQVFSQnFJZ1lnQWlBQkVGTWdBU2dDRENFRElBWVFGa0VRYWhBc0lRVWdBU2dDR0NFRUlBRW9BaFFoQnlBQktBSVFJUW9qQUVFZ2F5SUNKQUFnQWlBRE5nSWNJQUlnQlRZQ0dDQUNJQVEyQWhRZ0FpQUhOZ0lRSUFJZ0NqWUNEQ0FDS0FJY0lRVWdBaWdDR0NFRUlBSW9BaFFoQnlBQ0tBSVFJUW9nQWlnQ0RDRUpJd0JCTUdzaUF5UUFJQU1nQlRZQ0xDQURJQVEyQWlnZ0F5QUhOZ0lrSUFNZ0NqWUNJQ0FESUFrMkFod2dBeWdDS0NFRUlBTWdBeWdDSUNnQ0FEWUNFQ0FES0FJUUlRY2pBRUV3YXlJRkpBQWdCU0FITmdJZ0lBVWdCRFlDRkNBRktBSVVJUWNqQUVFd2F5SUVKQUFnQkNBSE5nSVVJQVFnQlVFZ2FqWUNFQ0FFSUFWQkdHbzJBZ3dnQkNnQ0ZDSUtJUXdnQkNnQ0VDRUpJd0JCRUdzaUJ5UUFJQWNnQ1RZQ0RDTUFRUkJySWdrZ0J5Z0NERFlDRENBSktBSU1LQUlBSVFrZ0IwRVFhaVFBSUF3Z0NTZ0NBRFlDQUNBS1FRUnFRUUJCMUFBUVJpQUVRVEJxSkFBZ0JVRXdhaVFBSUFOQk1Hb2tBQ0FDUVNCcUpBQWdCaEEvUVFFNkFBUWdBVUVCT2dBTElBRXRBQXRCQVhGRkJFQWdCaEJpQ3lBQlFTQnFKQUFnQ3lBQUtBSW9JQUFvQWlRZ0JoQVdFTFlCSUFBZ0JoQkNOZ0lnSUFCQkFUb0FIeUFHRUdJTElBQW9BaUFoQWlNQVFSQnJJZ0VnQUVFSWFpSUROZ0lNSUFFZ0FqWUNDQ0FCS0FJTUlBRW9BZ2cyQWdBZ0NFRWdhaUlCSUFNZ0FFRWZhaEJoSUFCQlFHc2tBQ01BUVJCcklnQWtBQ0FBSUFFMkFnd2pBRUVRYXlJQklBQW9BZ3cyQWd3akFFRVFheUlDSUFFb0Fnd29BZ0JCRUdvMkFnd2dBaWdDRENFQklBQkJFR29rQUNBQkVDWkJCR29oQUNBSVFUQnFKQUFnQUFzcUFRRi9Jd0JCRUdzaUFTUUFJQUVnQURZQ0RDQUJLQUlNSUFGQkNHb2dBUkRCQVNBQlFSQnFKQUFMdWdJQkEzOGpBRUZBYWlJQ0pBQWdBQ2dDQUNJRFFRUnJLQUlBSVFRZ0EwRUlheWdDQUNFRElBSkNBRGNESUNBQ1FnQTNBeWdnQWtJQU53TXdJQUpDQURjQU55QUNRZ0EzQXhnZ0FrRUFOZ0lVSUFKQmdPSUFOZ0lRSUFJZ0FEWUNEQ0FDSUFFMkFnZ2dBQ0FEYWlFQVFRQWhBd0pBSUFRZ0FVRUFFQ0FFUUNBQ1FRRTJBamdnQkNBQ1FRaHFJQUFnQUVFQlFRQWdCQ2dDQUNnQ0ZCRUtBQ0FBUVFBZ0FpZ0NJRUVCUmhzaEF3d0JDeUFFSUFKQkNHb2dBRUVCUVFBZ0JDZ0NBQ2dDR0JFSUFBSkFBa0FnQWlnQ0xBNENBQUVDQ3lBQ0tBSWNRUUFnQWlnQ0tFRUJSaHRCQUNBQ0tBSWtRUUZHRzBFQUlBSW9BakJCQVVZYklRTU1BUXNnQWlnQ0lFRUJSd1JBSUFJb0FqQU5BU0FDS0FJa1FRRkhEUUVnQWlnQ0tFRUJSdzBCQ3lBQ0tBSVlJUU1MSUFKQlFHc2tBQ0FEQ3lZQkFYOGpBRUVRYXlJQkpBQWdBU0FBTmdJTUlBRW9BZ3dRSmlFQUlBRkJFR29rQUNBQUMwRUJBWDhqQUVFUWF5SUNJQUEyQWd3Z0FpQUJOZ0lJSUFJZ0FpZ0NEQ2dDQURZQ0JDQUNLQUlNSUFJb0FnZ29BZ0EyQWdBZ0FpZ0NDQ0FDS0FJRU5nSUFDMDRCQVg4akFFRVFheUlCSkFBZ0FTQUFOZ0lNSUFFb0Fnd2lBRUVBTmdJQUlBQkJBRFlDQkNBQlFRQTJBZ2dnQUVFSWFpQUJRUWhxSUFFUXdBRWpBRUVRYXlBQU5nSU1JQUZCRUdva0FBc3pBUUYvSUFCQkFTQUFHeUVBQWtBRFFDQUFFRHNpQVEwQlFaRDBBQ2dDQUNJQkJFQWdBUkVKQUF3QkN3c1FBd0FMSUFFTEtRRUJmeU1BUVJCcklnRWtBQ0FCSUFBMkFnd2dBU2dDREVFUWFoQVhJUUFnQVVFUWFpUUFJQUFMVUFFQmZ5TUFRUkJySWdFa0FDQUJJQUEyQWd3Z0FVRUFOZ0lJSUFFZ0FTZ0NEQ0lBRUJjb0FnQTJBZ1FnQUJBWFFRQTJBZ0FnQVNnQ0JBUkFJQUFRRnlBQktBSUVFTGdCQ3lBQlFSQnFKQUFMV2dFQ2Z5TUFRUkJySWdJa0FDQUNJQUEyQWd3Z0FpZ0NERUVNYWlFQkl3QkJFR3NpQUNRQUlBQWdBVFlDRENNQVFSQnJJZ0VnQUNnQ0RFRUVhallDRENBQktBSU1LQUlBSVFFZ0FFRVFhaVFBSUFKQkVHb2tBQ0FCQ3pJQkFYOGpBRUVRYXlJQkpBQWdBU0FBTmdJTUlBRW9BZ3dFUUNBQktBSU1FT0VCSUFFb0Fnd1FLQXNnQVVFUWFpUUFDeWdCQVg4akFFRVFheUlCSkFBZ0FTQUFOZ0lNSUFFb0Fnd1FQeEFXSVFBZ0FVRVFhaVFBSUFBTDhBUUJBbjhqQUVFUWF5SURKQUFnQXlBQU5nSU1JQU1nQVRZQ0NDQURJQUkyQWdRZ0F5Z0NEQ0VCSUFNb0FnZ2hBaUFES0FJRUlRUWpBRUV3YXlJQUpBQWdBRUhZQURZQ0xDQUFJQUUyQWlnZ0FDQUJRU2hxTmdJa0lBQkJ3QUEyQWlBZ0FDQUJRZWdBYWpZQ0hDQUFJQUZCSkdvMkFoZ2dBQ0FCUVNCcU5nSVVJQUFnQWpZQ0VDQUFJQVEyQWd3Q1FDQUFLQUlNUlEwQUlBQWdBQ2dDRkNnQ0FDQUFLQUlNUVFOMGFqWUNDQ0FBS0FJSUlBQW9BaFFvQWdCSkJFQWdBQ2dDR0NJQklBRW9BZ0JCQVdvMkFnQUxJQUFvQWhnaUFTQUJLQUlBSUFBb0FneEJIWFpxTmdJQUlBQW9BaFFnQUNnQ0NEWUNBQ0FBSUFBb0Fod29BZ0EyQWdRZ0FDZ0NCQVJBQWtBQ1FDQUFLQUlNSUFBb0FpQkpCRUFnQUNnQ0lDQUFLQUlNSUFBb0FnUnFTdzBCQ3lBQUtBSUVJZ0VnQUNnQ0pHb2dBQ2dDRUNBQUtBSWdJQUZyRUI0Z0FDZ0NLQ0FBS0FJa1FRRWdBQ2dDTEJFREFDQUFJQUFvQWlBZ0FDZ0NCR3MyQWdRZ0FDQUFLQUlFSUFBb0FoQnFOZ0lRSUFBZ0FDZ0NEQ0FBS0FJRWF6WUNEQ0FBS0FJY1FRQTJBZ0FnQUNnQ0pFRUFJQUFvQWlBUUlRd0JDeUFBS0FJa0lBQW9BZ1JxSUFBb0FoQWdBQ2dDREJBZUlBQW9BaHdpQVNBQUtBSU1JQUVvQWdCcU5nSUFEQUlMQ3lBQUlBQW9BZ3dnQUNnQ0lHNDJBZ1FnQUNnQ0JBUkFJQUFvQWlnZ0FDZ0NFQ0FBS0FJRUlBQW9BaXdSQXdBZ0FDQUFLQUlnSUFBb0FnUnNOZ0lFSUFBZ0FDZ0NCQ0FBS0FJUWFqWUNFQ0FBSUFBb0Fnd2dBQ2dDQkdzMkFnd0xJQUFvQWd4RkRRQWdBQ2dDSENBQUtBSU1OZ0lBSUFBb0FpUWdBQ2dDRUNBQUtBSU1FQjRMSUFCQk1Hb2tBQ0FEUVJCcUpBQkJBUXZFQkFFTmZ5TUFRUkJySWdZa0FDQUdJQUEyQWd3Z0JpQUJOZ0lJSUFZb0Fnd2hBU0FHS0FJSUlRSWpBRUVRYXlJQUpBQWdBQ0FCTmdJRUlBQWdBallDQUNBQUtBSUVJZ2NoQVNNQVFSQnJJZ2drQUNBSUlBRTJBZ3dnQ0NnQ0RDSUJLQUlBQkVBakFFRVFheUlESkFBZ0F5QUJOZ0lNSXdCQkVHc2lBaUFES0FJTUlnazJBZ3dnQXlBQ0tBSU1JZ0lvQWdRZ0FpZ0NBR3RCQTNVMkFnZ2dDUkNhQWlBREtBSUlJUUlqQUVFUWF5SUZKQUFnQlNBSk5nSU1JQVVnQWpZQ0NDQUZLQUlNSWdJUUdTRUtJQUlRR1NBQ0VENUJBM1JxSVFzZ0FoQVpJQVVvQWdoQkEzUnFJUXdnQWhBWklRNGpBRUVRYXlJRUlBSTJBZ3dnRGlBRUtBSU1JZ1FvQWdRZ0JDZ0NBR3RCZUhGcUlRMGpBRUVnYXlJRUlBSTJBaHdnQkNBS05nSVlJQVFnQ3pZQ0ZDQUVJQXcyQWhBZ0JDQU5OZ0lNSUFWQkVHb2tBQ01BUVJCcklBazJBZ3dnQTBFUWFpUUFJQUVRR0NBQktBSUFJQUVRUGhDcEFTQUJFQmhCQURZQ0FDQUJRUUEyQWdRZ0FVRUFOZ0lBQ3lBSVFSQnFKQUFnQUNnQ0FDRUNJd0JCRUdzaUFTUUFJQUVnQnpZQ0RDQUJJQUkyQWdnZ0FTZ0NEQ0VESUFFb0FnZ2hCU01BUVJCcklnSWtBQ0FDSUFNMkFnUWdBaUFGTmdJQUlBSW9BZ1FoQXlBQ0tBSUFFQmdhSUFNUUdCb2dBa0VRYWlRQUlBRkJFR29rQUNBSElBQW9BZ0FvQWdBMkFnQWdCeUFBS0FJQUtBSUVOZ0lFSUFBb0FnQVFHQ2dDQUNFQklBY1FHQ0FCTmdJQUlBQW9BZ0FRR0VFQU5nSUFJQUFvQWdCQkFEWUNCQ0FBS0FJQVFRQTJBZ0FnQUVFUWFpUUFJQVpCRUdva0FBc3BBUUYvSXdCQkVHc2lBU1FBSUFFZ0FEWUNEQ0FCUVFBMkFnZ2dBU2dDREJBeElBRkJFR29rQUF2ZEFRRUVmeU1BUVJCcklnSWtBQ0FDSUFBMkFnZ2dBaUFDS0FJSUlnQTJBZ3dnQUNnQ0JBUkFJQUFvQWdRaEFDTUFRUkJySWdRa0FDQUVJQUEyQWd3Z0JDZ0NEQ0VBSXdCQkVHc2lBU1FBSUFFZ0FEWUNDQUpBSUFFb0FnZ2lBMEVFYWhDNUFVRi9SZ1JBSUFNZ0F5Z0NBQ2dDQ0JFQkFDQUJRUUU2QUE4TUFRc2dBVUVBT2dBUEN5QUJMUUFQUVFGeElRTWdBVUVRYWlRQUlBTkJBWEVFUUFKQUlBQkJDR29pQVNnQ0FBUkFJQUVRdVFGQmYwY05BUXNnQUNBQUtBSUFLQUlRRVFFQUN3c2dCRUVRYWlRQUN5QUNLQUlNR2lBQ1FSQnFKQUFMQlFBUUF3QUxRUUVCZnlNQVFSQnJJZ01rQUNBRElBQTJBZ3dnQXlBQk5nSUlJQU1nQWpZQ0JDQURLQUlNSVFCQm5DY2dBeWdDQ0NBREtBSUVFQVVnQTBFUWFpUUFJQUFMOXkwQkMzOGpBRUVRYXlJTEpBQUNRQUpBQWtBQ1FBSkFBa0FDUUFKQUFrQUNRQUpBSUFCQjlBRk5CRUJCb1BBQUtBSUFJZ1ZCRUNBQVFRdHFRWGh4SUFCQkMwa2JJZ1pCQTNZaUFIWWlBVUVEY1FSQUFrQWdBVUYvYzBFQmNTQUFhaUlDUVFOMElnRkJ5UEFBYWlJQUlBRkIwUEFBYWlnQ0FDSUJLQUlJSWdOR0JFQkJvUEFBSUFWQmZpQUNkM0UyQWdBTUFRc2dBeUFBTmdJTUlBQWdBellDQ0FzZ0FVRUlhaUVBSUFFZ0FrRURkQ0lDUVFOeU5nSUVJQUVnQW1vaUFTQUJLQUlFUVFGeU5nSUVEQXdMSUFaQnFQQUFLQUlBSWdkTkRRRWdBUVJBQWtCQkFpQUFkQ0lDUVFBZ0FtdHlJQUVnQUhSeElnQkJBV3NnQUVGL2MzRWlBQ0FBUVF4MlFSQnhJZ0IySWdGQkJYWkJDSEVpQWlBQWNpQUJJQUoySWdCQkFuWkJCSEVpQVhJZ0FDQUJkaUlBUVFGMlFRSnhJZ0Z5SUFBZ0FYWWlBRUVCZGtFQmNTSUJjaUFBSUFGMmFpSUJRUU4wSWdCQnlQQUFhaUlDSUFCQjBQQUFhaWdDQUNJQUtBSUlJZ05HQkVCQm9QQUFJQVZCZmlBQmQzRWlCVFlDQUF3QkN5QURJQUkyQWd3Z0FpQUROZ0lJQ3lBQUlBWkJBM0kyQWdRZ0FDQUdhaUlJSUFGQkEzUWlBU0FHYXlJRFFRRnlOZ0lFSUFBZ0FXb2dBellDQUNBSEJFQWdCMEY0Y1VISThBQnFJUUZCdFBBQUtBSUFJUUlDZnlBRlFRRWdCMEVEZG5RaUJIRkZCRUJCb1BBQUlBUWdCWEkyQWdBZ0FRd0JDeUFCS0FJSUN5RUVJQUVnQWpZQ0NDQUVJQUkyQWd3Z0FpQUJOZ0lNSUFJZ0JEWUNDQXNnQUVFSWFpRUFRYlR3QUNBSU5nSUFRYWp3QUNBRE5nSUFEQXdMUWFUd0FDZ0NBQ0lLUlEwQklBcEJBV3NnQ2tGL2MzRWlBQ0FBUVF4MlFSQnhJZ0IySWdGQkJYWkJDSEVpQWlBQWNpQUJJQUoySWdCQkFuWkJCSEVpQVhJZ0FDQUJkaUlBUVFGMlFRSnhJZ0Z5SUFBZ0FYWWlBRUVCZGtFQmNTSUJjaUFBSUFGMmFrRUNkRUhROGdCcUtBSUFJZ0lvQWdSQmVIRWdCbXNoQkNBQ0lRRURRQUpBSUFFb0FoQWlBRVVFUUNBQktBSVVJZ0JGRFFFTElBQW9BZ1JCZUhFZ0Jtc2lBU0FFSUFFZ0JFa2lBUnNoQkNBQUlBSWdBUnNoQWlBQUlRRU1BUXNMSUFJb0FoZ2hDU0FDSUFJb0Fnd2lBMGNFUUNBQ0tBSUlJZ0JCc1BBQUtBSUFTUm9nQUNBRE5nSU1JQU1nQURZQ0NBd0xDeUFDUVJScUlnRW9BZ0FpQUVVRVFDQUNLQUlRSWdCRkRRTWdBa0VRYWlFQkN3TkFJQUVoQ0NBQUlnTkJGR29pQVNnQ0FDSUFEUUFnQTBFUWFpRUJJQU1vQWhBaUFBMEFDeUFJUVFBMkFnQU1DZ3RCZnlFR0lBQkJ2MzlMRFFBZ0FFRUxhaUlBUVhoeElRWkJwUEFBS0FJQUlnaEZEUUJCQUNBR2F5RUVBa0FDUUFKQUFuOUJBQ0FHUVlBQ1NRMEFHa0VmSUFaQi8vLy9CMHNOQUJvZ0FFRUlkaUlBSUFCQmdQNC9ha0VRZGtFSWNTSUFkQ0lCSUFGQmdPQWZha0VRZGtFRWNTSUJkQ0lDSUFKQmdJQVBha0VRZGtFQ2NTSUNkRUVQZGlBQUlBRnlJQUp5YXlJQVFRRjBJQVlnQUVFVmFuWkJBWEZ5UVJ4cUN5SUhRUUowUWREeUFHb29BZ0FpQVVVRVFFRUFJUUFNQVF0QkFDRUFJQVpCR1NBSFFRRjJhMEVBSUFkQkgwY2JkQ0VDQTBBQ1FDQUJLQUlFUVhoeElBWnJJZ1VnQkU4TkFDQUJJUU1nQlNJRURRQkJBQ0VFSUFFaEFBd0RDeUFBSUFFb0FoUWlCU0FGSUFFZ0FrRWRka0VFY1dvb0FoQWlBVVliSUFBZ0JSc2hBQ0FDUVFGMElRSWdBUTBBQ3dzZ0FDQURja1VFUUVFQUlRTkJBaUFIZENJQVFRQWdBR3R5SUFoeElnQkZEUU1nQUVFQmF5QUFRWDl6Y1NJQUlBQkJESFpCRUhFaUFIWWlBVUVGZGtFSWNTSUNJQUJ5SUFFZ0FuWWlBRUVDZGtFRWNTSUJjaUFBSUFGMklnQkJBWFpCQW5FaUFYSWdBQ0FCZGlJQVFRRjJRUUZ4SWdGeUlBQWdBWFpxUVFKMFFkRHlBR29vQWdBaEFBc2dBRVVOQVFzRFFDQUFLQUlFUVhoeElBWnJJZ0lnQkVraEFTQUNJQVFnQVJzaEJDQUFJQU1nQVJzaEF5QUFLQUlRSWdFRWZ5QUJCU0FBS0FJVUN5SUFEUUFMQ3lBRFJRMEFJQVJCcVBBQUtBSUFJQVpyVHcwQUlBTW9BaGdoQnlBRElBTW9BZ3dpQWtjRVFDQURLQUlJSWdCQnNQQUFLQUlBU1JvZ0FDQUNOZ0lNSUFJZ0FEWUNDQXdKQ3lBRFFSUnFJZ0VvQWdBaUFFVUVRQ0FES0FJUUlnQkZEUU1nQTBFUWFpRUJDd05BSUFFaEJTQUFJZ0pCRkdvaUFTZ0NBQ0lBRFFBZ0FrRVFhaUVCSUFJb0FoQWlBQTBBQ3lBRlFRQTJBZ0FNQ0FzZ0JrR284QUFvQWdBaUFVMEVRRUcwOEFBb0FnQWhBQUpBSUFFZ0Jtc2lBa0VRVHdSQVFhandBQ0FDTmdJQVFiVHdBQ0FBSUFacUlnTTJBZ0FnQXlBQ1FRRnlOZ0lFSUFBZ0FXb2dBallDQUNBQUlBWkJBM0kyQWdRTUFRdEJ0UEFBUVFBMkFnQkJxUEFBUVFBMkFnQWdBQ0FCUVFOeU5nSUVJQUFnQVdvaUFTQUJLQUlFUVFGeU5nSUVDeUFBUVFocUlRQU1DZ3NnQmtHczhBQW9BZ0FpQWtrRVFFR3M4QUFnQWlBR2F5SUJOZ0lBUWJqd0FFRzQ4QUFvQWdBaUFDQUdhaUlDTmdJQUlBSWdBVUVCY2pZQ0JDQUFJQVpCQTNJMkFnUWdBRUVJYWlFQURBb0xRUUFoQUNBR1FTOXFJZ1FDZjBINDh3QW9BZ0FFUUVHQTlBQW9BZ0FNQVF0QmhQUUFRbjgzQWdCQi9QTUFRb0NnZ0lDQWdBUTNBZ0JCK1BNQUlBdEJER3BCY0hGQjJLclZxZ1Z6TmdJQVFZejBBRUVBTmdJQVFkenpBRUVBTmdJQVFZQWdDeUlCYWlJRlFRQWdBV3NpQ0hFaUFTQUdUUTBKUWRqekFDZ0NBQ0lEQkVCQjBQTUFLQUlBSWdjZ0FXb2lDU0FIVFEwS0lBTWdDVWtOQ2d0QjNQTUFMUUFBUVFSeERRUUNRQUpBUWJqd0FDZ0NBQ0lEQkVCQjRQTUFJUUFEUUNBRElBQW9BZ0FpQjA4RVFDQUhJQUFvQWdScUlBTkxEUU1MSUFBb0FnZ2lBQTBBQ3d0QkFCQkZJZ0pCZjBZTkJTQUJJUVZCL1BNQUtBSUFJZ0JCQVdzaUF5QUNjUVJBSUFFZ0Ftc2dBaUFEYWtFQUlBQnJjV29oQlFzZ0JTQUdUUTBGSUFWQi92Ly8vd2RMRFFWQjJQTUFLQUlBSWdBRVFFSFE4d0FvQWdBaUF5QUZhaUlJSUFOTkRRWWdBQ0FJU1EwR0N5QUZFRVVpQUNBQ1J3MEJEQWNMSUFVZ0Ftc2dDSEVpQlVIKy8vLy9CMHNOQkNBRkVFVWlBaUFBS0FJQUlBQW9BZ1JxUmcwRElBSWhBQXNDUUNBQVFYOUdEUUFnQmtFd2FpQUZUUTBBUVlEMEFDZ0NBQ0lDSUFRZ0JXdHFRUUFnQW10eElnSkIvdi8vL3dkTEJFQWdBQ0VDREFjTElBSVFSVUYvUndSQUlBSWdCV29oQlNBQUlRSU1Cd3RCQUNBRmF4QkZHZ3dFQ3lBQUlnSkJmMGNOQlF3REMwRUFJUU1NQnd0QkFDRUNEQVVMSUFKQmYwY05BZ3RCM1BNQVFkenpBQ2dDQUVFRWNqWUNBQXNnQVVIKy8vLy9CMHNOQVNBQkVFVWhBa0VBRUVVaEFDQUNRWDlHRFFFZ0FFRi9SZzBCSUFBZ0FrME5BU0FBSUFKcklnVWdCa0VvYWswTkFRdEIwUE1BUWREekFDZ0NBQ0FGYWlJQU5nSUFRZFR6QUNnQ0FDQUFTUVJBUWRUekFDQUFOZ0lBQ3dKQUFrQUNRRUc0OEFBb0FnQWlCQVJBUWVEekFDRUFBMEFnQWlBQUtBSUFJZ0VnQUNnQ0JDSURha1lOQWlBQUtBSUlJZ0FOQUFzTUFndEJzUEFBS0FJQUlnQkJBQ0FBSUFKTkcwVUVRRUd3OEFBZ0FqWUNBQXRCQUNFQVFlVHpBQ0FGTmdJQVFlRHpBQ0FDTmdJQVFjRHdBRUYvTmdJQVFjVHdBRUg0OHdBb0FnQTJBZ0JCN1BNQVFRQTJBZ0FEUUNBQVFRTjBJZ0ZCMFBBQWFpQUJRY2p3QUdvaUF6WUNBQ0FCUWRUd0FHb2dBellDQUNBQVFRRnFJZ0JCSUVjTkFBdEJyUEFBSUFWQktHc2lBRUY0SUFKclFRZHhRUUFnQWtFSWFrRUhjUnNpQVdzaUF6WUNBRUc0OEFBZ0FTQUNhaUlCTmdJQUlBRWdBMEVCY2pZQ0JDQUFJQUpxUVNnMkFnUkJ2UEFBUVlqMEFDZ0NBRFlDQUF3Q0N5QUFMUUFNUVFoeERRQWdBU0FFU3cwQUlBSWdCRTBOQUNBQUlBTWdCV28yQWdSQnVQQUFJQVJCZUNBRWEwRUhjVUVBSUFSQkNHcEJCM0ViSWdCcUlnRTJBZ0JCclBBQVFhendBQ2dDQUNBRmFpSUNJQUJySWdBMkFnQWdBU0FBUVFGeU5nSUVJQUlnQkdwQktEWUNCRUc4OEFCQmlQUUFLQUlBTmdJQURBRUxRYkR3QUNnQ0FDQUNTd1JBUWJEd0FDQUNOZ0lBQ3lBQ0lBVnFJUUZCNFBNQUlRQUNRQUpBQWtBQ1FBSkFBa0FEUUNBQklBQW9BZ0JIQkVBZ0FDZ0NDQ0lBRFFFTUFnc0xJQUF0QUF4QkNIRkZEUUVMUWVEekFDRUFBMEFnQkNBQUtBSUFJZ0ZQQkVBZ0FTQUFLQUlFYWlJRElBUkxEUU1MSUFBb0FnZ2hBQXdBQ3dBTElBQWdBallDQUNBQUlBQW9BZ1FnQldvMkFnUWdBa0Y0SUFKclFRZHhRUUFnQWtFSWFrRUhjUnRxSWdjZ0JrRURjallDQkNBQlFYZ2dBV3RCQjNGQkFDQUJRUWhxUVFkeEcyb2lCU0FHSUFkcUlnWnJJUUFnQkNBRlJnUkFRYmp3QUNBR05nSUFRYXp3QUVHczhBQW9BZ0FnQUdvaUFEWUNBQ0FHSUFCQkFYSTJBZ1FNQXd0QnRQQUFLQUlBSUFWR0JFQkJ0UEFBSUFZMkFnQkJxUEFBUWFqd0FDZ0NBQ0FBYWlJQU5nSUFJQVlnQUVFQmNqWUNCQ0FBSUFacUlBQTJBZ0FNQXdzZ0JTZ0NCQ0lFUVFOeFFRRkdCRUFnQkVGNGNTRUpBa0FnQkVIL0FVMEVRQ0FGS0FJSUlnRWdCRUVEZGlJRFFRTjBRY2p3QUdwR0dpQUJJQVVvQWd3aUFrWUVRRUdnOEFCQm9QQUFLQUlBUVg0Z0EzZHhOZ0lBREFJTElBRWdBallDRENBQ0lBRTJBZ2dNQVFzZ0JTZ0NHQ0VJQWtBZ0JTQUZLQUlNSWdKSEJFQWdCU2dDQ0NJQklBSTJBZ3dnQWlBQk5nSUlEQUVMQWtBZ0JVRVVhaUlFS0FJQUlnRU5BQ0FGUVJCcUlnUW9BZ0FpQVEwQVFRQWhBZ3dCQ3dOQUlBUWhBeUFCSWdKQkZHb2lCQ2dDQUNJQkRRQWdBa0VRYWlFRUlBSW9BaEFpQVEwQUN5QURRUUEyQWdBTElBaEZEUUFDUUNBRktBSWNJZ0ZCQW5SQjBQSUFhaUlES0FJQUlBVkdCRUFnQXlBQ05nSUFJQUlOQVVHazhBQkJwUEFBS0FJQVFYNGdBWGR4TmdJQURBSUxJQWhCRUVFVUlBZ29BaEFnQlVZYmFpQUNOZ0lBSUFKRkRRRUxJQUlnQ0RZQ0dDQUZLQUlRSWdFRVFDQUNJQUUyQWhBZ0FTQUNOZ0lZQ3lBRktBSVVJZ0ZGRFFBZ0FpQUJOZ0lVSUFFZ0FqWUNHQXNnQlNBSmFpSUZLQUlFSVFRZ0FDQUphaUVBQ3lBRklBUkJmbkUyQWdRZ0JpQUFRUUZ5TmdJRUlBQWdCbW9nQURZQ0FDQUFRZjhCVFFSQUlBQkJlSEZCeVBBQWFpRUJBbjlCb1BBQUtBSUFJZ0pCQVNBQVFRTjJkQ0lBY1VVRVFFR2c4QUFnQUNBQ2NqWUNBQ0FCREFFTElBRW9BZ2dMSVFBZ0FTQUdOZ0lJSUFBZ0JqWUNEQ0FHSUFFMkFnd2dCaUFBTmdJSURBTUxRUjhoQkNBQVFmLy8vd2ROQkVBZ0FFRUlkaUlCSUFGQmdQNC9ha0VRZGtFSWNTSUJkQ0lDSUFKQmdPQWZha0VRZGtFRWNTSUNkQ0lESUFOQmdJQVBha0VRZGtFQ2NTSURkRUVQZGlBQklBSnlJQU55YXlJQlFRRjBJQUFnQVVFVmFuWkJBWEZ5UVJ4cUlRUUxJQVlnQkRZQ0hDQUdRZ0EzQWhBZ0JFRUNkRUhROGdCcUlRRUNRRUdrOEFBb0FnQWlBa0VCSUFSMElnTnhSUVJBUWFUd0FDQUNJQU55TmdJQUlBRWdCallDQUF3QkN5QUFRUmtnQkVFQmRtdEJBQ0FFUVI5SEczUWhCQ0FCS0FJQUlRSURRQ0FDSWdFb0FnUkJlSEVnQUVZTkF5QUVRUjEySVFJZ0JFRUJkQ0VFSUFFZ0FrRUVjV29pQXlnQ0VDSUNEUUFMSUFNZ0JqWUNFQXNnQmlBQk5nSVlJQVlnQmpZQ0RDQUdJQVkyQWdnTUFndEJyUEFBSUFWQktHc2lBRUY0SUFKclFRZHhRUUFnQWtFSWFrRUhjUnNpQVdzaUNEWUNBRUc0OEFBZ0FTQUNhaUlCTmdJQUlBRWdDRUVCY2pZQ0JDQUFJQUpxUVNnMkFnUkJ2UEFBUVlqMEFDZ0NBRFlDQUNBRUlBTkJKeUFEYTBFSGNVRUFJQU5CSjJ0QkIzRWJha0V2YXlJQUlBQWdCRUVRYWtrYklnRkJHellDQkNBQlFlanpBQ2tDQURjQ0VDQUJRZUR6QUNrQ0FEY0NDRUhvOHdBZ0FVRUlhallDQUVIazh3QWdCVFlDQUVIZzh3QWdBallDQUVIczh3QkJBRFlDQUNBQlFSaHFJUUFEUUNBQVFRYzJBZ1FnQUVFSWFpRUNJQUJCQkdvaEFDQUNJQU5KRFFBTElBRWdCRVlOQXlBQklBRW9BZ1JCZm5FMkFnUWdCQ0FCSUFScklnSkJBWEkyQWdRZ0FTQUNOZ0lBSUFKQi93Rk5CRUFnQWtGNGNVSEk4QUJxSVFBQ2YwR2c4QUFvQWdBaUFVRUJJQUpCQTNaMElnSnhSUVJBUWFEd0FDQUJJQUp5TmdJQUlBQU1BUXNnQUNnQ0NBc2hBU0FBSUFRMkFnZ2dBU0FFTmdJTUlBUWdBRFlDRENBRUlBRTJBZ2dNQkF0Qkh5RUFJQUpCLy8vL0IwMEVRQ0FDUVFoMklnQWdBRUdBL2o5cVFSQjJRUWh4SWdCMElnRWdBVUdBNEI5cVFSQjJRUVJ4SWdGMElnTWdBMEdBZ0E5cVFSQjJRUUp4SWdOMFFROTJJQUFnQVhJZ0EzSnJJZ0JCQVhRZ0FpQUFRUlZxZGtFQmNYSkJIR29oQUFzZ0JDQUFOZ0ljSUFSQ0FEY0NFQ0FBUVFKMFFkRHlBR29oQVFKQVFhVHdBQ2dDQUNJRFFRRWdBSFFpQlhGRkJFQkJwUEFBSUFNZ0JYSTJBZ0FnQVNBRU5nSUFEQUVMSUFKQkdTQUFRUUYyYTBFQUlBQkJIMGNiZENFQUlBRW9BZ0FoQXdOQUlBTWlBU2dDQkVGNGNTQUNSZzBFSUFCQkhYWWhBeUFBUVFGMElRQWdBU0FEUVFSeGFpSUZLQUlRSWdNTkFBc2dCU0FFTmdJUUN5QUVJQUUyQWhnZ0JDQUVOZ0lNSUFRZ0JEWUNDQXdEQ3lBQktBSUlJZ0FnQmpZQ0RDQUJJQVkyQWdnZ0JrRUFOZ0lZSUFZZ0FUWUNEQ0FHSUFBMkFnZ0xJQWRCQ0dvaEFBd0ZDeUFCS0FJSUlnQWdCRFlDRENBQklBUTJBZ2dnQkVFQU5nSVlJQVFnQVRZQ0RDQUVJQUEyQWdnTFFhendBQ2dDQUNJQUlBWk5EUUJCclBBQUlBQWdCbXNpQVRZQ0FFRzQ4QUJCdVBBQUtBSUFJZ0FnQm1vaUFqWUNBQ0FDSUFGQkFYSTJBZ1FnQUNBR1FRTnlOZ0lFSUFCQkNHb2hBQXdEQzBHUTZ3QkJNRFlDQUVFQUlRQU1BZ3NDUUNBSFJRMEFBa0FnQXlnQ0hDSUFRUUowUWREeUFHb2lBU2dDQUNBRFJnUkFJQUVnQWpZQ0FDQUNEUUZCcFBBQUlBaEJmaUFBZDNFaUNEWUNBQXdDQ3lBSFFSQkJGQ0FIS0FJUUlBTkdHMm9nQWpZQ0FDQUNSUTBCQ3lBQ0lBYzJBaGdnQXlnQ0VDSUFCRUFnQWlBQU5nSVFJQUFnQWpZQ0dBc2dBeWdDRkNJQVJRMEFJQUlnQURZQ0ZDQUFJQUkyQWhnTEFrQWdCRUVQVFFSQUlBTWdCQ0FHYWlJQVFRTnlOZ0lFSUFBZ0Eyb2lBQ0FBS0FJRVFRRnlOZ0lFREFFTElBTWdCa0VEY2pZQ0JDQURJQVpxSWdJZ0JFRUJjallDQkNBQ0lBUnFJQVEyQWdBZ0JFSC9BVTBFUUNBRVFYaHhRY2p3QUdvaEFBSi9RYUR3QUNnQ0FDSUJRUUVnQkVFRGRuUWlCSEZGQkVCQm9QQUFJQUVnQkhJMkFnQWdBQXdCQ3lBQUtBSUlDeUVCSUFBZ0FqWUNDQ0FCSUFJMkFnd2dBaUFBTmdJTUlBSWdBVFlDQ0F3QkMwRWZJUUFnQkVILy8vOEhUUVJBSUFSQkNIWWlBQ0FBUVlEK1AycEJFSFpCQ0hFaUFIUWlBU0FCUVlEZ0gycEJFSFpCQkhFaUFYUWlCU0FGUVlDQUQycEJFSFpCQW5FaUJYUkJEM1lnQUNBQmNpQUZjbXNpQUVFQmRDQUVJQUJCRldwMlFRRnhja0VjYWlFQUN5QUNJQUEyQWh3Z0FrSUFOd0lRSUFCQkFuUkIwUElBYWlFQkFrQUNRQ0FJUVFFZ0FIUWlCWEZGQkVCQnBQQUFJQVVnQ0hJMkFnQWdBU0FDTmdJQURBRUxJQVJCR1NBQVFRRjJhMEVBSUFCQkgwY2JkQ0VBSUFFb0FnQWhCZ05BSUFZaUFTZ0NCRUY0Y1NBRVJnMENJQUJCSFhZaEJTQUFRUUYwSVFBZ0FTQUZRUVJ4YWlJRktBSVFJZ1lOQUFzZ0JTQUNOZ0lRQ3lBQ0lBRTJBaGdnQWlBQ05nSU1JQUlnQWpZQ0NBd0JDeUFCS0FJSUlnQWdBallDRENBQklBSTJBZ2dnQWtFQU5nSVlJQUlnQVRZQ0RDQUNJQUEyQWdnTElBTkJDR29oQUF3QkN3SkFJQWxGRFFBQ1FDQUNLQUljSWdCQkFuUkIwUElBYWlJQktBSUFJQUpHQkVBZ0FTQUROZ0lBSUFNTkFVR2s4QUFnQ2tGK0lBQjNjVFlDQUF3Q0N5QUpRUkJCRkNBSktBSVFJQUpHRzJvZ0F6WUNBQ0FEUlEwQkN5QURJQWsyQWhnZ0FpZ0NFQ0lBQkVBZ0F5QUFOZ0lRSUFBZ0F6WUNHQXNnQWlnQ0ZDSUFSUTBBSUFNZ0FEWUNGQ0FBSUFNMkFoZ0xBa0FnQkVFUFRRUkFJQUlnQkNBR2FpSUFRUU55TmdJRUlBQWdBbW9pQUNBQUtBSUVRUUZ5TmdJRURBRUxJQUlnQmtFRGNqWUNCQ0FDSUFacUlnTWdCRUVCY2pZQ0JDQURJQVJxSUFRMkFnQWdCd1JBSUFkQmVIRkJ5UEFBYWlFQVFiVHdBQ2dDQUNFQkFuOUJBU0FIUVFOMmRDSUdJQVZ4UlFSQVFhRHdBQ0FGSUFaeU5nSUFJQUFNQVFzZ0FDZ0NDQXNoQlNBQUlBRTJBZ2dnQlNBQk5nSU1JQUVnQURZQ0RDQUJJQVUyQWdnTFFiVHdBQ0FETmdJQVFhandBQ0FFTmdJQUN5QUNRUWhxSVFBTElBdEJFR29rQUNBQUMwVUJBWDhqQUVFUWF5SUVJQUE2QUE4Z0JDQUJPZ0FPSUFRZ0Fqb0FEU0FFSUFNNkFBd2dCQzBBRHlBRUxRQU9RUWgwY2lBRUxRQU5RUkIwY2lBRUxRQU1RUmgwY2dzMEFnRi9BWDRqQUVFUWF5SUJKQUFnQVNBQU5nSU1JQUVnQVNnQ0RFRUlFQjRnQVNrREFCRFdBU0VDSUFGQkVHb2tBQ0FDQ3pRQkFYOGpBRUVRYXlJQkpBQWdBU0FBTmdJTUlBRW9BZ3dpQUJBWUtBSUFJQUFvQWdCclFRTjFJUUFnQVVFUWFpUUFJQUFMSmdFQmZ5TUFRUkJySWdFa0FDQUJJQUEyQWd3Z0FTZ0NEQkJTSVFBZ0FVRVFhaVFBSUFBTFB3RUJmeU1BUVJCcklnSWtBQ0FDSUFBMkFnd2dBaUFCTmdJSUlBSW9BZ3dpQUNBQ0tBSUlFRUlRWXlBQ0tBSUlFQ1lhSUFBUUZ4b2dBa0VRYWlRQUMvNEZBUXAvSXdCQkVHc2lCQ1FBSUFRZ0FEWUNDQ0FFSUFFMkFnUWpBRUVRYXlJQUlBUW9BZ1EyQWd3Q1FDQUFLQUlNUVFoTEJFQWdCQ0FFS0FJRU5nSUFJQVFvQWdnaEFTQUVLQUlBSVFBakFFRVFheUlHSkFBZ0JpQUJOZ0lNSUFZZ0FEWUNDRUVFSUFZb0FnZ2lBQ0FBUVFSTkd5RUZJQVlvQWd3aUFFRUJJQUFiSVFFRFFBSkFJd0JCRUdzaUJ5UUFJQWRCQURZQ0RBSkFBbjhnQlVFSVJnUkFJQUVRT3d3QkN5QUZRUVJKRFFFZ0JVRURjUTBCSUFWQkFuWWlBQ0FBUVFGcmNRMEJRVUFnQldzZ0FVa05BUUovUVJBaEF3SkFRUkJCRUNBRklBVkJFRTBiSWdBZ0FFRVFUUnNpQWlBQ1FRRnJjVVVFUUNBQ0lRQU1BUXNEUUNBRElnQkJBWFFoQXlBQUlBSkpEUUFMQ3lBQlFVQWdBR3RQQkVCQmtPc0FRVEEyQWdCQkFBd0JDMEVBUVJBZ0FVRUxha0Y0Y1NBQlFRdEpHeUlJSUFCcVFReHFFRHNpQWtVTkFCb2dBa0VJYXlFREFrQWdBRUVCYXlBQ2NVVUVRQ0FESVFBTUFRc2dBa0VFYXlJTEtBSUFJZ3BCZUhFZ0FDQUNha0VCYTBFQUlBQnJjVUVJYXlJQ0lBQkJBQ0FDSUFOclFROU5HMm9pQUNBRGF5SUpheUVDSUFwQkEzRkZCRUFnQXlnQ0FDRURJQUFnQWpZQ0JDQUFJQU1nQ1dvMkFnQU1BUXNnQUNBQ0lBQW9BZ1JCQVhGeVFRSnlOZ0lFSUFBZ0Ftb2lBaUFDS0FJRVFRRnlOZ0lFSUFzZ0NTQUxLQUlBUVFGeGNrRUNjallDQUNBRElBbHFJZ0lnQWlnQ0JFRUJjallDQkNBRElBa1F5d0VMQWtBZ0FDZ0NCQ0lDUVFOeFJRMEFJQUpCZUhFaUF5QUlRUkJxVFEwQUlBQWdDQ0FDUVFGeGNrRUNjallDQkNBQUlBaHFJZ29nQXlBSWF5SUNRUU55TmdJRUlBQWdBMm9pQXlBREtBSUVRUUZ5TmdJRUlBb2dBaERMQVFzZ0FFRUlhZ3NMSWdCRkRRQWdCeUFBTmdJTUN5QUhLQUlNSVFNZ0IwRVFhaVFBSUFNTkFFR1E5QUFvQWdBaUFFVU5BQ0FBRVFrQURBRUxDeUFHUVJCcUpBQWdCQ0FETmdJTURBRUxJQVFvQWdnaEFDTUFRUkJySWdFa0FDQUJJQUEyQWd3Z0FTZ0NEQkF2SVFBZ0FVRVFhaVFBSUFRZ0FEWUNEQXNnQkNnQ0RDRUFJQVJCRUdva0FDQUFDejRCQVg4akFFRVFheUlCSkFBZ0FTQUFOZ0lNSUFFZ0FTZ0NEQ0lBRUJjb0FnQTJBZ2dnQUJBWFFRQTJBZ0FnQVNnQ0NDRUFJQUZCRUdva0FDQUFDNEVDQVFKL0l3QkJFR3NpQXlRQUlBTWdBRFlDRENBRElBRTJBZ2dnQXlBQ05nSUVJd0JCRUdzaUFDQURLQUlFTmdJTUFrQWdBQ2dDREVFSVN3UkFJQU1nQXlnQ0JEWUNBQ0FES0FJTUlRRWdBeWdDQ0NFQ0lBTW9BZ0FoQkNNQVFSQnJJZ0FrQUNBQUlBRTJBZ3dnQUNBQ05nSUlJQUFnQkRZQ0JDQUFLQUlNSVFJZ0FDZ0NCQ0VFSXdCQkVHc2lBU1FBSUFFZ0FqWUNEQ0FCSUFRMkFnZ2dBU2dDQ0JvTUFRc2dBeWdDRENFQklBTW9BZ2doQWlNQVFSQnJJZ0FrQUNBQUlBRTJBZ3dnQUNBQ05nSUlJQUFvQWd3aEFpTUFRUkJySWdFa0FDQUJJQUkyQWd3TElBRW9BZ3dRSWlBQlFSQnFKQUFnQUVFUWFpUUFJQU5CRUdva0FBcy9BUUYvSXdCQkVHc2lBaVFBSUFJZ0FEWUNEQ0FDSUFFMkFnZ2dBaWdDQ0NFQUl3QkJFR3NpQVNBQ0tBSU1OZ0lNSUFFZ0FEWUNDQ0FDUVJCcUpBQUxVZ0VDZjBHczZRQW9BZ0FpQVNBQVFRZHFRWGh4SWdKcUlRQUNRQ0FDUVFBZ0FDQUJUUnNOQUNBQVB3QkJFSFJMQkVBZ0FCQVBSUTBCQzBHczZRQWdBRFlDQUNBQkR3dEJrT3NBUVRBMkFnQkJmd3Z3QWdJQ2Z3RitBa0FnQWtVTkFDQUFJQUU2QUFBZ0FDQUNhaUlEUVFGcklBRTZBQUFnQWtFRFNRMEFJQUFnQVRvQUFpQUFJQUU2QUFFZ0EwRURheUFCT2dBQUlBTkJBbXNnQVRvQUFDQUNRUWRKRFFBZ0FDQUJPZ0FESUFOQkJHc2dBVG9BQUNBQ1FRbEpEUUFnQUVFQUlBQnJRUU54SWdScUlnTWdBVUgvQVhGQmdZS0VDR3dpQURZQ0FDQURJQUlnQkd0QmZIRWlBbW9pQVVFRWF5QUFOZ0lBSUFKQkNVa05BQ0FESUFBMkFnZ2dBeUFBTmdJRUlBRkJDR3NnQURZQ0FDQUJRUXhySUFBMkFnQWdBa0VaU1EwQUlBTWdBRFlDR0NBRElBQTJBaFFnQXlBQU5nSVFJQU1nQURZQ0RDQUJRUkJySUFBMkFnQWdBVUVVYXlBQU5nSUFJQUZCR0dzZ0FEWUNBQ0FCUVJ4cklBQTJBZ0FnQWlBRFFRUnhRUmh5SWdGcklnSkJJRWtOQUNBQXJVS0JnSUNBRUg0aEJTQUJJQU5xSVFFRFFDQUJJQVUzQXhnZ0FTQUZOd01RSUFFZ0JUY0RDQ0FCSUFVM0F3QWdBVUVnYWlFQklBSkJJR3NpQWtFZlN3MEFDd3NMTVFFQmZ5TUFRUkJySWdFa0FDQUJJQUEyQWd3Z0FTZ0NEQ0lBRUJnb0FnQWdBQ2dDQUdzaEFDQUJRUkJxSkFBZ0FBczhBUUovSXdCQkVHc2lBU1FBSUFFZ0FEWUNEQ0FCS0FJTVFRUnFFQmNoQUNNQVFSQnJJZ0lnQURZQ0RDQUNLQUlNSVFBZ0FVRVFhaVFBSUFBTFJBRUJmeU1BUVJCcklnRWtBQ0FCSUFBMkFnZ0NRQ0FCS0FJSUtBSThSUVJBSUFFUTNBRTJBZ3dNQVFzZ0FVRUFOZ0lNQ3lBQktBSU1JUUFnQVVFUWFpUUFJQUFMb0FFQkEzOGpBRUVRYXlJQ0pBQWdBaUFBTmdJTUlBSWdBVFlDQ0NBQ0tBSU1JUUVnQWlnQ0NDRURJd0JCRUdzaUFDUUFJQUFnQVRZQ0JDQUFJQU0yQWdBQ2Z5QUFLQUlFSVFNZ0FDZ0NBQ0VFSXdCQkVHc2lBU0FBUVFocU5nSU1JQUVnQXpZQ0NDQUJJQVEyQWdRZ0FTZ0NDQ2dDQUNBQktBSUVLQUlBU1FSQUlBQW9BZ0FNQVFzZ0FDZ0NCQXNoQVNBQVFSQnFKQUFnQWtFUWFpUUFJQUVMQmdBZ0FCQWlDejBCQVg4akFFRVFheUlDSkFBZ0FpQUFOZ0lNSUFJZ0FUWUNDQ0FDSUFJb0FnZ1E2UUUyQWdnZ0FpZ0NEQ0FDUVFocVFRUVFIaUFDUVJCcUpBQUxtd0VCQW44akFFRVFheUlDSkFBZ0FpQUFOZ0lNSUFJZ0FUWUNDQ0FDUVFBMkFnUURRQ0FDS0FJRVFRaEpCRUFnQWlnQ0JFRUNkQ0lBSUFJb0FneHFLQUlBSVFFZ0FDQUNLQUlJYWlnQ0FDRURJd0JCRUdzaUFDQUJOZ0lNSUFBZ0F6WUNDQ0FBS0FJTUlBQW9BZ2h6SVFBZ0FpZ0NEQ0FDS0FJRVFRSjBhaUFBTmdJQUlBSWdBaWdDQkVFQmFqWUNCQXdCQ3dzZ0FrRVFhaVFBQzlnQ0FRRi9Jd0JCSUdzaUFpUUFJQUlnQURZQ0hDQUNJQUUyQWhnZ0FpZ0NIQ0lBSUFJb0FoZ2lBU2tBQURjQUFDQUFJQUVwQUFnM0FBZ2dBaUFDS0FJY0tBSUFFR3cyQWhRZ0FpQUNLQUljS0FJRUVHdzJBaEFnQWlBQ0tBSWNLQUlJRUd3MkFnd2dBaUFDS0FJY0tBSU1FR3cyQWdnZ0FpZ0NGRUgvQVhFZ0FpZ0NFRUgvQVhFZ0FpZ0NERUgvQVhFZ0FpZ0NDRUgvQVhFUVBDRUFJQUlvQWh3Z0FEWUNBQ0FDS0FJVVFRaDJRZjhCY1NBQ0tBSVFRUWgyUWY4QmNTQUNLQUlNUVFoMlFmOEJjU0FDS0FJSVFRaDJRZjhCY1JBOElRQWdBaWdDSENBQU5nSUVJQUlvQWhSQkVIWkIvd0Z4SUFJb0FoQkJFSFpCL3dGeElBSW9BZ3hCRUhaQi93RnhJQUlvQWdoQkVIWkIvd0Z4RUR3aEFDQUNLQUljSUFBMkFnZ2dBaWdDRkVFWWRpQUNLQUlRUVJoMklBSW9BZ3hCR0hZZ0FpZ0NDRUVZZGhBOElRQWdBaWdDSENBQU5nSU1JQUpCSUdva0FBczBBUUYvSXdCQkVHc2lBU1FBSUFFZ0FEWUNEQ0FCS0FJTUlnQVFHQ2dDQUNBQUtBSUFhMEVNYlNFQUlBRkJFR29rQUNBQUM1Z09BUkIvSXdCQkVHc2lCeVFBSUFjZ0FEWUNEQ0FISUFFMkFnZ2dCeUFDTmdJRUFrQWdCeWdDRENJS0tBSUVJQW9RR0NnQ0FFa0VRQ0FIS0FJSUlRRWdCeWdDQkNFQ0l3QkJJR3NpQUNRQUlBQWdDallDSENBQUlBRTJBaGdnQUNBQ05nSVVJQUFvQWh3aUF5RUNJd0JCRUdzaUFTQUFRUWhxSWdRMkFnd2dBU0FDTmdJSUlBRkJBVFlDQkNBQktBSU1JZ0lnQVNnQ0NEWUNBQ0FDSUFFb0FnZ29BZ1EyQWdRZ0FpQUJLQUlJS0FJRUlBRW9BZ1JCQTNScU5nSUlJQU1RR0NFTkl3QkJFR3NpQVNBQUtBSU1OZ0lNSUEwZ0FTZ0NEQ0FBS0FJWUlBQW9BaFFRaHdJZ0FDQUFLQUlNUVFocU5nSU1Jd0JCRUdzaUFTQUVOZ0lNSUFFb0Fnd2lBU2dDQUNBQktBSUVOZ0lFSUFCQklHb2tBQXdCQ3lBSEtBSUlJUUFnQnlnQ0JDRUNJd0JCTUdzaUFTUUFJQUVnQ2pZQ0xDQUJJQUEyQWlnZ0FTQUNOZ0lrSUFFZ0FTZ0NMQ0lGRUJnMkFpQWpBRUVRYXlJQUlBVTJBZ3dnQUNnQ0RDSUFLQUlFSUFBb0FnQnJRUU4xUVFGcUlRSWpBRUVnYXlJQUpBQWdBQ0FGTmdJWUlBQWdBallDRkNBQUtBSVlJUU1qQUVFUWF5SUNKQUFnQWlBRE5nSU1JQUlvQWd3UUdDRUlJd0JCRUdzaUJDUUFJQVFnQ0RZQ0RDTUFRUkJySUFRb0FndzJBZ3dnQkVFUWFpUUFJQUpCLy8vLy93RTJBZ2dnQWtILy8vLy9CellDQkNBQ1FRaHFJQUpCQkdvUVpDZ0NBQ0VFSUFKQkVHb2tBQ0FBSUFRMkFoQWdBQ2dDRkNBQUtBSVFTd1JBSUFNUVpRQUxJQUZCQ0dvaENDQUFJQU1RUGpZQ0RBSkFJQUFvQWd3Z0FDZ0NFRUVCZGs4RVFDQUFJQUFvQWhBMkFod01BUXNnQUNBQUtBSU1RUUYwTmdJSUlBQWdBRUVJYWlBQVFSUnFFRW9vQWdBMkFod0xJQUFvQWh3aEFpQUFRU0JxSkFBakFDSUFRUkJySWdNZ0JUWUNEQ0FES0FJTUlnTW9BZ1FnQXlnQ0FHdEJBM1VoQXlBQktBSWdJUVFnQUVFZ2F5SUFKQUFnQUNBSU5nSVlJQUFnQWpZQ0ZDQUFJQU0yQWhBZ0FDQUVOZ0lNSUFBZ0FDZ0NHQ0lDTmdJY0lBQkJBRFlDQ0NBQ1FReHFJQUJCQ0dvZ0FDZ0NEQkNJQVNBQ0FuOGdBQ2dDRkFSQUlBSVFNaUVESUFBb0FoUWhCaU1BUVJCcklnUWtBQ0FFSUFNMkFnd2dCQ0FHTmdJSUlBUW9BZ3doQmlBRUtBSUlJUWtqQUVFUWF5SURKQUFnQXlBR05nSU1JQU1nQ1RZQ0NDQURLQUlJSVE0Z0F5Z0NEQ0VKSXdCQkVHc2lCaVFBSUFZZ0NUWUNEQ01BUVJCcklBWW9BZ3cyQWd3Z0JrRVFhaVFBSUE1Qi8vLy8vd0ZMQkVBUU9RQUxJQU1vQWdoQkEzUkJCQkJCSVFZZ0EwRVFhaVFBSUFZaEF5QUVRUkJxSkFBZ0F3d0JDMEVBQ3pZQ0FDQUNJQUlvQWdBZ0FDZ0NFRUVEZEdvaUF6WUNDQ0FDSUFNMkFnUWdBaWdDQUNBQUtBSVVRUU4wYWlFRElBSVFIU0FETmdJQUlBQW9BaHdhSUFCQklHb2tBQ0FCS0FJZ0lROGpBRUVRYXlJQUlBRW9BaEEyQWd3Z0R5QUFLQUlNSUFFb0FpZ2dBU2dDSkJDSEFpQUJJQUVvQWhCQkNHbzJBaEFqQUVFUWF5SUNKQUFnQWlBRk5nSU1JQUlnQ0RZQ0NDQUNLQUlNSWdNUW13SWdBeEFZSVFRZ0F5Z0NBQ0VGSUFNb0FnUWhCaUFDS0FJSVFRUnFJUWtqQUVFZ2F5SUFKQUFnQUNBRU5nSWNJQUFnQlRZQ0dDQUFJQVkyQWhRZ0FDQUpOZ0lRSUFBZ0FDZ0NGQ0FBS0FJWWEwRURkVFlDRENBQUtBSVFJZ1FnQkNnQ0FFRUFJQUFvQWd4clFRTjBhallDQUNBQUtBSU1RUUJLQkVBZ0FDZ0NFQ2dDQUNBQUtBSVlJQUFvQWd4QkEzUVFHeG9MSUFCQklHb2tBQ0FESUFJb0FnaEJCR29RTFNBRFFRUnFJQUlvQWdoQkNHb1FMU0FERUJnZ0FpZ0NDQkFkRUMwZ0FpZ0NDQ0FDS0FJSUtBSUVOZ0lBSXdCQkVHc2lBQ0FETmdJTUlBQW9BZ3dpQkNnQ0JDQUVLQUlBYTBFRGRTRUVJQUFrQUNBQUlBTTJBZ3dnQUNBRU5nSUlJQUFvQWd3aUJCQVpJUVlnQkJBWklBUVFQa0VEZEdvaENTQUVFQmtnQkJBK1FRTjBhaUVMSUFRUUdTQUFLQUlJUVFOMGFpRU1Jd0JCSUdzaUJTQUVOZ0ljSUFVZ0JqWUNHQ0FGSUFrMkFoUWdCU0FMTmdJUUlBVWdERFlDRENBQVFSQnFKQUFqQUVFUWF5QUROZ0lNSUFKQkVHb2tBQ01BUVJCcklnQWtBQ0FBSUFnMkFnZ2dBQ0FBS0FJSUlnSTJBZ3dqQUVFUWF5SUlKQUFnQ0NBQ05nSU1JQWdvQWd3aUF5RUVJQU1vQWdRaEJTTUFRUkJySWdNa0FDQURJQVEyQWd3Z0F5QUZOZ0lJSUFNb0Fnd2hCU0FES0FJSUlRWWpBRUVRYXlJRUpBQWdCQ0FGTmdJRUlBUWdCallDQUNBRUtBSUVJUVVEUUNBRUtBSUFJQVVvQWdoSEJFQWdCUkF5SVFZZ0JTQUZLQUlJUVFocklnazJBZ2dnQmlFUUl3QkJFR3NpQmlBSk5nSU1JQkFnQmlnQ0RCQkVEQUVMQ3lBRVFSQnFKQUFnQTBFUWFpUUFJQWhCRUdva0FDQUNLQUlBQkVBZ0FoQXlJUklnQWlnQ0FDRVJJd0JCRUdzaUF5UUFJQU1nQWpZQ0RDQURLQUlNSWdJUUhTZ0NBQ0FDS0FJQWEwRURkU0VDSUFOQkVHb2tBQ0FTSUJFZ0FoQ3BBUXNnQUNnQ0RCb2dBRUVRYWlRQUlBRkJNR29rQUFzakFFRVFheUlBSUFvMkFnd2dBQ2dDRENnQ0JCb2dCMEVRYWlRQUMzWUJBMzhqQUVFUWF5SUNKQUFnQWlBQU5nSU1JQUlvQWd3aEFTTUFRUkJySWdBa0FDQUFJQUUyQWd3Z0FDZ0NEQ2dDQUJBWFFRaHFJUUVqQUVFUWF5SURJQUUyQWd3Z0F5Z0NEQ0VCSUFCQkVHb2tBQ0FCRUNZaEFDTUFRUkJySWdFZ0FEWUNEQ0FCS0FJTUlRQWdBa0VRYWlRQUlBQUxOZ0VCZnlNQVFSQnJJZ0VrQUNBQklBQTJBZ3dqQUVFUWF5SUFJQUVvQWd4QkJHbzJBZ3dnQUNnQ0RDRUFJQUZCRUdva0FDQUFDN3NCQVFKL0l3QkJFR3NpQXlRQUlBTWdBRFlDRENBRElBRTJBZ2dnQXlBQ05nSUVJQU1vQWd3aEFTQURLQUlFSVFJakFFRVFheUlBSkFBZ0FDQUJOZ0lNSUFBZ0EwRUlhallDQ0NBQUlBSTJBZ1FnQUNnQ0NDRUNJd0JCRUdzaUFTQUFLQUlNSWdRMkFnd2dBU0FDTmdJSUlBRW9BZ3dnQVNnQ0NDZ0NBRFlDQUNBQUtBSUVJUUlqQUVFUWF5SUJJQVJCQkdvMkFnd2dBU0FDTmdJSUlBRW9BZ3dnQVNnQ0NDa0NBRGNDQUNBQVFSQnFKQUFnQTBFUWFpUUFDem9CQVg4akFFRVFheUlESUFBMkFnd2dBeUFCTmdJSUlBTWdBam9BQnlBREtBSU1JZ0FnQXlnQ0NEWUNBQ0FBSUFNdEFBZEJBWEU2QUFRTFRnRURmeU1BUVJCcklnRWtBQ0FCSUFBMkFneEJDQkF2SVFBZ0FTZ0NEQ0lDS0FJQUlRTWdBQ0FDS0FJRU5nSUVJQUFnQXpZQ0FDQUJJQUEyQWdnZ0FTZ0NDQ0VBSUFGQkVHb2tBQ0FBQ3pRQkFuOGpBRUVRYXlJQkpBQWdBU0FBTmdJTUl3QkJFR3NpQUNBQktBSU1JZ0kyQWd3Z0FDZ0NEQm9nQVVFUWFpUUFJQUlMbGdJQkFYOGpBRUVnYXlJQkpBQWdBU0FBTmdJWUFrQUNRRUc0NmdBb0FnQUVRRUc4NmdBb0FnQkZCRUJCMFJoQnJSTkI2UUZCelJBUUFBQUxRY0RxQUNnQ0FFVUVRRUd4R0VHdEUwSHFBVUhORUJBQUFBc2dBU0FCS0FJWVFianFBQ2dDQUJFQUFEWUNGQUpBSUFFb0FoUU5BQ0FCS0FJWVJRMEFEQUlMSUFFZ0FTZ0NGRFlDSEF3Q0N5QUJLQUlZSWdCQkNHb2dBRWtFUUNBQlFhQTJMUUFBT2dBVERBRUxJQUVnQVNnQ0dFRUlhaEE3TmdJTUlBRW9BZ3hGRFFBZ0FTZ0NEQ0FCS0FJWU5nSUFJd0JCRUdzaUFDQUJLQUlNTmdJTUlBQkJDRFlDQ0NBQklBRW9BZ3hCQ0dvMkFod01BUXRCRGtIQkFFR3RFMEdLQWhBY0lBRkJBRFlDSEFzZ0FTZ0NIQ0VBSUFGQklHb2tBQ0FBQzBjQkFYOGpBRUVRYXlJREpBQWdBeUFBTmdJTUlBTWdBVFlDQ0NBRElBSTJBZ1FnQXlnQ0RDSUFJQU1vQWdnZ0F5Z0NCQ0FBS0FJQUtBSVFFUU1BSUFOQkVHb2tBRUVCQzE4QkFYOGpBRUVRYXlJQkpBQWdBU0FBTmdJTUlBRW9BZ3dpQUNBQVFRUnFFR29nQVNnQ0RFRUlhaUFCS0FJTVFReHFFR29nQVNnQ0RFRVFhaUFCS0FJTVFSUnFFR29nQVNnQ0RFRVlhaUFCS0FJTVFSeHFFR29nQVVFUWFpUUFDMmNCQVg4akFFRXdheUlDSkFBZ0FpQUFOZ0lzSUFJZ0FUWUNLQ0FDUWdBM0F5QWdBa0lBTndNWUlBSkNBRGNERUNBQ1FnQTNBd2dnQWtFSWFpSUFJQUlvQWloQkFCQ2FBU0FBRUZrZ0FCQjJJQUFRV1NBQUlBSW9BaXhCQUJEc0FTQUNRVEJxSkFBTHRRUUJBWDhqQUVIUUFHc2lBeVFBSUFNZ0FEWUNUQ0FESUFFMkFrZ2dBeUFDTmdKRUlBTWdBeWdDUkNJQUtRSVlOd000SUFNZ0FDa0NFRGNETUNBRElBQXBBZ2czQXlnZ0F5QUFLUUlBTndNZ0lBTkJJR29RV1NBREtBSklRUUpMQkVCQjhCaEIzQkJCN3dOQjVRd1FBQUFMSUFOQkFEWUNIQU5BSUFNb0Fod2dBeWdDU0VrRVFDQURRU0JxSUFNZ0F5Z0NIQkRzQVNBREtBSk1JQU1vQWh4QkJIUnFJUUVqQUVFd2F5SUFKQUFnQUNBQk5nSXNJQUFnQXpZQ0tDQUFJQUFvQWlnb0FnQTJBaVFnQUNBQUtBSW9LQUlFTmdJZ0lBQWdBQ2dDS0NnQ0NEWUNIQ0FBSUFBb0FpZ29BZ3cyQWhnZ0FDQUFLQUlrUWY4QmNTQUFLQUlnUWY4QmNTQUFLQUljUWY4QmNTQUFLQUlZUWY4QmNSQThOZ0lVSUFBZ0FDZ0NKRUVJZGtIL0FYRWdBQ2dDSUVFSWRrSC9BWEVnQUNnQ0hFRUlka0gvQVhFZ0FDZ0NHRUVJZGtIL0FYRVFQRFlDRUNBQUlBQW9BaVJCRUhaQi93RnhJQUFvQWlCQkVIWkIvd0Z4SUFBb0FoeEJFSFpCL3dGeElBQW9BaGhCRUhaQi93RnhFRHcyQWd3Z0FDQUFLQUlrUVJoMklBQW9BaUJCR0hZZ0FDZ0NIRUVZZGlBQUtBSVlRUmgyRUR3MkFnZ2dBQ0FBS0FJVUVHazJBaFFnQUNBQUtBSVFFR2syQWhBZ0FDQUFLQUlNRUdrMkFnd2dBQ0FBS0FJSUVHazJBZ2dnQUNnQ0xDQUFLQUlVTmdBQUlBQW9BaXdnQUNnQ0VEWUFCQ0FBS0FJc0lBQW9BZ3cyQUFnZ0FDZ0NMQ0FBS0FJSU5nQU1JQUJCTUdva0FDQURJQU1vQWh4QkFXbzJBaHdNQVFzTElBTkIwQUJxSkFBTHRBRUJBWDhqQUVFZ2F5SURKQUFnQXlBQU5nSWNJQU1nQVRZQ0dDQURJQUkyQWhRZ0F5Z0NIQ0lBUWdBM0FnQWdBRUlBTndJWUlBQkNBRGNDRUNBQVFnQTNBZ2dnQXlnQ0ZFRUNTd1JBUWZBWVFkd1FRZDREUWRNTUVBQUFDeUFEUVFBMkFoQURRQ0FES0FJUUlBTW9BaFJQUlFSQUlBTWdBeWdDR0NBREtBSVFRUVIwYWhCT0lBTW9BaHdnQXlBREtBSVFFSm9CSUFNZ0F5Z0NFRUVCYWpZQ0VBd0JDd3NnQXlnQ0hCQlpJQU5CSUdva0FBdXVBUUVEZnlNQVFSQnJJZ0lrQUNBQ0lBQTJBZ3dnQWlnQ0RDRUFJd0JCRUdzaUF5UUFJQU1nQURZQ0RDQURLQUlNSVFFakFFRVFheUlBSkFBZ0FDQUJOZ0lNSUFCQkFEWUNDQ0FBUVFBMkFnUWdBQ2dDRENFQklBQkJBRFlDQUFOQUlBQW9BZ0FnQVNnQ0JFa0VRQ0FBSUFBb0FnQkJBV28yQWdBTUFRc0xJQUVvQWdBUUtDQUJJQUFvQWdnMkFnQWdBU0FBS0FJRU5nSUVJQUJCRUdva0FDQURRUkJxSkFBZ0FrRVFhaVFBQ3pRQkFYOGpBRUVRYXlJQkpBQWdBU0FBTmdJTUlBRW9BZ3dpQUJBWUtBSUFJQUFvQWdCclFRSjFJUUFnQVVFUWFpUUFJQUFMa2dFQkEzOGpBRUVRYXlJQ0pBQWdBaUFBTmdJTUlBSWdBVFlDQ0NBQ0tBSU1JUUVqQUVFUWF5SUFKQUFnQUNBQk5nSU1JQUFnQWtFSWFqWUNDQ0FBSUFJMkFnUWdBQ2dDQ0NFREl3QkJFR3NpQVNBQUtBSU1JZ1EyQWd3Z0FTQUROZ0lJSUFFb0Fnd2dBU2dDQ0NnQ0FEWUNBQ01BUVJCcklnRWdCRFlDQkNBQktBSUVHaUFBUVJCcUpBQWdBa0VRYWlRQUN5a0JBWDhqQUVFUWF5SUJKQUFnQVNBQU5nSU1JQUVvQWd4QkJHb1FGeUVBSUFGQkVHb2tBQ0FBQzBBQkFYOGpBRUVRYXlJRElBQTJBZ3dnQXlBQk5nSUlJQU1nQWpZQ0JDQURLQUlNSWdBZ0F5Z0NDQ2dDQURZQ0FDQUFJQU1vQWdRdEFBQkJBWEU2QUFRTDN3RUJCbjhqQUVFUWF5SURKQUFnQXlBQU5nSU1JQU1vQWd3aEFTTUFRUkJySWdBa0FDQUFJQUUyQWd3Z0FFRUFOZ0lJSUFBZ0FDZ0NEQ0lCRUJjb0FnQTJBZ1FnQUNnQ0NDRUNJQUVRRnlBQ05nSUFJQUFvQWdRRVFDQUJFRkloQWlBQUtBSUVJUVFqQUVFUWF5SUJKQUFnQVNBQ05nSU1JQUVnQkRZQ0NDQUJLQUlNSWdJdEFBUkJBWEVFUUNBQ0tBSUFJUVFnQVNnQ0NFRVFhaEFzSVFVakFFRVFheUlHSUFRMkFnd2dCaUFGTmdJSUN5QUJLQUlJQkVBZ0FpZ0NBQ0FCS0FJSUVMSUJDeUFCUVJCcUpBQUxJQUJCRUdva0FDQURRUkJxSkFBTFZ3RUJmeU1BUVJCcklnSWtBQ0FDSUFBMkFnd2dBaUFCTmdJSUlBSWdBaWdDRENJQUVCY29BZ0EyQWdRZ0FpZ0NDQ0VCSUFBUUZ5QUJOZ0lBSUFJb0FnUUVRQ0FBRUJjZ0FpZ0NCQkM0QVFzZ0FrRVFhaVFBQzZBQkFRTi9Jd0JCRUdzaUFpUUFJQUlnQURZQ0RDQUNJQUUyQWdnZ0FpZ0NEQ0VCSUFJb0FnZ2hBeU1BUVJCcklnQWtBQ0FBSUFFMkFnUWdBQ0FETmdJQUFuOGdBQ2dDQUNFRElBQW9BZ1FoQkNNQVFSQnJJZ0VnQUVFSWFqWUNEQ0FCSUFNMkFnZ2dBU0FFTmdJRUlBRW9BZ2dvQWdBZ0FTZ0NCQ2dDQUVrRVFDQUFLQUlBREFFTElBQW9BZ1FMSVFFZ0FFRVFhaVFBSUFKQkVHb2tBQ0FCQ3lnQkFYOGpBRUVRYXlJQkpBQWdBU0FBTmdJTUl3QkJFR3NpQUNRQUlBQkJvZ3MyQWd3UUF3QUxTUUVDZnlBQUtBSUVJZ1ZCQ0hVaEJpQUFLQUlBSWdBZ0FTQUZRUUZ4Qkg4Z0JpQUNLQUlBYWlnQ0FBVWdCZ3NnQW1vZ0EwRUNJQVZCQW5FYklBUWdBQ2dDQUNnQ0dCRUlBQXROQVFGL0l3QkJFR3NpQWlRQUlBSWdBRFlDRENBQ0lBRTJBZ2dnQWlnQ0NDRUFJQUlvQWd3aUFTZ0NBRUhmdDk2YUFVY0VRQ0FBRVFrQUlBRkIzN2ZlbWdFMkFnQUxJQUpCRUdva0FBdVNBZ0VGZnlNQVFTQnJJZ0VrQUNBQklBQTJBaGdnQVNBQktBSVlOZ0lVSXdCQkVHc2lBQ0FCS0FJVU5nSU1JQUFnQUNnQ0RDZ0NBRFlDQ0NBQklBQW9BZ2cyQWhBRFFDQUJLQUlRUlFSQUVBTUFDd0pBSUFFb0FoQkJmMFlFUUNBQlFRQTJBaHdNQVFzZ0FTQUJLQUlRUVFGck5nSU1JQUVvQWd3aEFpTUFRU0JySWdBZ0FTZ0NGRFlDSENBQUlBRkJFR28yQWhnZ0FDQUNOZ0lVSUFBb0Fod2hBeUFBS0FJWUlRUWdBQ0FBS0FJVU5nSVFJQU1vQWdBaUJTQUVLQUlBUmlFQ0lBTWdBQ2dDRUNBRklBSWJOZ0lBSUFKRkJFQWdCQ0FGTmdJQUN5QUFJQUk2QUE4Z0FDMEFEMEVCY1FSQUlBRWdBU2dDREVVMkFod01BUXNNQVFzTElBRW9BaHdoQUNBQlFTQnFKQUFnQUF0SkFRRi9Jd0JCRUdzaUFTUUFJQUVnQURZQ0RDQUJJQUVvQWd4QjhPRURRUXdRYXpZQ0RDQUJJQUVvQWd4QnpJR3dCa0VHRUdzMkFnd2dBU2dDRENFQUlBRkJFR29rQUNBQUM0VUJBUUYvSXdCQklHc2lBaUFBTmdJY0lBSWdBVFlDR0NBQ1FkV3ExYW9GTmdJVUlBSkJBVFlDRUNBQ0lBSW9BaFEyQWd3Z0FpQUNLQUlNSUFJb0FoZ29BZ0FnQWlnQ0hDZ0NBQ0FDS0FJUWRuTnhOZ0lJSUFJb0Fod2lBQ0FBS0FJQUlBSW9BZ2dnQWlnQ0VIUnpOZ0lBSUFJb0FoZ2lBQ0FDS0FJSUlBQW9BZ0J6TmdJQUMwOEJBWDhqQUVFUWF5SURJQUEyQWd3Z0F5QUJOZ0lJSUFNZ0FqWUNCQ0FESUFNb0FnZ2dBeWdDRENJQUlBQWdBeWdDQkhaemNUWUNBQ0FES0FJQUlnQWdBeWdDREhNZ0FDQURLQUlFZEhNTFNRRUJmeU1BUVJCcklnRWtBQ0FCSUFBMkFnd2dBU0FCS0FJTVFjeUJzQVpCQmhCck5nSU1JQUVnQVNnQ0RFSHc0UU5CREJCck5nSU1JQUVvQWd3aEFDQUJRUkJxSkFBZ0FBdEJBUUYvSXdCQkVHc2lBeVFBSUFNZ0FEWUNEQ0FESUFFMkFnZ2dBeUFDTmdJRUlBTW9BZ3doQUVIOEppQURLQUlJSUFNb0FnUVFCU0FEUVJCcUpBQWdBQXM2QVFGL0l3QkJFR3NpQWlRQUlBSWdBRFlDRENBQ0lBRTNBd0FnQWlBQ0tRTUFFTllCTndNQUlBSW9BZ3dnQWtFSUVCNGdBa0VRYWlRQUMwRUJBWDhqQUVFUWF5SURKQUFnQXlBQU5nSU1JQU1nQVRZQ0NDQURJQUkyQWdRZ0F5Z0NERUVFYWlBREtBSUlJQU1vQWdRUVdDRUFJQU5CRUdva0FDQUFDN0FFQVFGL0l3QkJ3QUZySWdja0FDQUhJQUEyQXJnQklBY2dBVFlDdEFFZ0J5QUNOZ0t3QVNBSElBTTJBcXdCSUFjZ0JEWUNxQUVnQnlBRk5nS2tBU0FISUFZMkFxQUJJd0JCRUdzaUFDQUhLQUt3QVRZQ0RDQUhJQUFvQWd3b0FnUTJBcHdCSUFkQkFEWUNTQ0FIUVFBMkFrQWdCeUFIS0FLY0FTSUFJQWNvQXJRQmFrRUJheUFBYmpZQ1RBSkFBa0FnQnlnQ3RBRWdCeWdDdEFFZ0J5Z0NuQUZxVFFSQUlBY29Ba3hCL3dGTkRRRUxRUjlCNUFCQnB4UkJ5UUFRSENBSFFRQTJBcndCREFFTElBZEJDR29pQUJEWkFRSkFJQUFnQnlnQ3JBRWdCeWdDcUFFZ0J5Z0NzQUVRa2dGRkRRQWdCMEVBTmdKRUEwQWdCeWdDUkNBSEtBSk1TUVJBSUFjZ0J5Z0NSRUVCYWpvQUJ3SkFJQWNvQWtSRkRRQWdCMEVJYWtFQVFRQkJBQkNTQVFSQUlBZEJDR29nQjBIUUFHb2dCeWdDbkFFUWJ3MEJDd3dEQ3lBSFFRaHFJQWNvQXFRQklBY29BcUFCRUc5RkRRSWdCMEVJYWlBSFFRZHFRUUVRYjBVTkFpQUhRUWhxSUFkQjBBQnFRUUFRMkFGRkRRSWdCeUFIS0FLY0FUWUNBQ0FIS0FJQUlBY29BclFCSUFjb0FraHJTd1JBSUFjZ0J5Z0N0QUVnQnlnQ1NHczJBZ0FMSUFjb0FyZ0JJQWNvQWtocUlBZEIwQUJxSUFjb0FnQVFIaUFISUFjb0FnQWdCeWdDU0dvMkFrZ2dCeUFIS0FKRVFRRnFOZ0pFREFFTEN5QUhRUUUyQWtBTElBZEJDR29RMXdFZ0J5Z0NRRUVCUndSQVFSOUJIRUduRkVIdEFCQWNDeUFISUFjb0FrQTJBcndCQ3lBSEtBSzhBU0VBSUFkQndBRnFKQUFnQUF0ekFRRi9Jd0JCRUdzaUFTUUFJQUVnQURZQ0RDQUJLQUlNS0FJRUVDZ0NRQ0FCS0FJTUtBSUlSUTBBSUFFb0Fnd29BZ3dOQUVHeUYwR1VFVUhqQUVIVUN4QUFBQXNnQVNnQ0RDZ0NEQVJBSUFFb0Fnd2lBQ2dDQ0NBQUtBSU1LQUlBRVFFQUN5QUJLQUlNRUhJZ0FVRVFhaVFBQ3lZQkFYOGpBRUVRYXlJQkpBQWdBU0FBTmdJTUlBRW9BZ3hCQUVFUUVDRWdBVUVRYWlRQUN5VUJBWDhqQUVFUWF5SUJKQUFnQVNBQU5nSU1JQUVvQWd4QkFCQ1FBU0FCUVJCcUpBQUxzd0VCQVg4akFFRWdheUlESkFBZ0F5QUFOZ0ljSUFNZ0FUWUNHQ0FESUFJMkFoUWdBMEVBTmdJUUEwQWdBeWdDRUVFUVNRUkFJQU1nQXlnQ0dDQURLQUlRYWlnQUFEWUNEQ0FESUFNb0FoUWdBeWdDRUdvb0FBQTJBZ2dnQXlnQ0NDRUJJd0JCRUdzaUFDQURLQUlNTmdJTUlBQWdBVFlDQ0NBRElBQW9BZ3dnQUNnQ0NITTJBZ3dnQXlnQ0hDQURLQUlRYWlBREtBSU1OZ0FBSUFNZ0F5Z0NFRUVFYWpZQ0VBd0JDd3NnQTBFZ2FpUUFDM0FCQTM4akFFRVFheUlCSkFBZ0FTQUFOZ0lJSUFFZ0FTZ0NDQ0lBTmdJTUlBQVE0QUVnQUNnQ0FBUkFJd0JCRUdzaUFpUUFJQUlnQURZQ0RDQUNLQUlNSWdNZ0F5Z0NBQkRRQVNBQ1FSQnFKQUFnQUJBWUlBQW9BZ0FnQUJCSEVOUUJDeUFCS0FJTUdpQUJRUkJxSkFBTDJ5Z0JBMzhqQUVId0Eyc2lBU1FBSUFFZ0FEWUM3QU1nQVNBQktBTHNBeWdDSERZQzZBTWdBU0FCS0FMc0F5Z0NHRFlDNUFNZ0FTQUJLQUxzQXlnQ0ZEWUM0QU1nQVNBQktBTHNBeWdDRURZQzNBTWdBU0FCS0FMc0F5Z0NERFlDMkFNZ0FTQUJLQUxzQXlnQ0NEWUMxQU1nQVNBQktBTHNBeWdDQkRZQzBBTWdBU0FCS0FMc0F5Z0NBRFlDekFNZ0FTZ0MxQU1oQWlNQVFSQnJJZ0FnQVNnQzNBTTJBZ3dnQUNBQ05nSUlJQUVnQUNnQ0RDQUFLQUlJY3pZQ3lBTWdBU2dDMEFNaEFpQUFJQUVvQXVnRE5nSU1JQUFnQWpZQ0NDQUJJQUFvQWd3Z0FDZ0NDSE0yQXNRRElBRW9BdHdESVFJZ0FDQUJLQUxvQXpZQ0RDQUFJQUkyQWdnZ0FTQUFLQUlNSUFBb0FnaHpOZ0xBQXlBQktBTFVBeUVDSUFBZ0FTZ0M2QU0yQWd3Z0FDQUNOZ0lJSUFFZ0FDZ0NEQ0FBS0FJSWN6WUN2QU1nQVNnQzRBTWhBaUFBSUFFb0F1UUROZ0lNSUFBZ0FqWUNDQ0FCSUFBb0Fnd2dBQ2dDQ0hNMkFyZ0RJQUVvQXN3RElRSWdBQ0FCS0FLNEF6WUNEQ0FBSUFJMkFnZ2dBU0FBS0FJTUlBQW9BZ2h6TmdLMEF5QUJLQUxjQXlFQ0lBQWdBU2dDdEFNMkFnd2dBQ0FDTmdJSUlBRWdBQ2dDRENBQUtBSUljellDc0FNZ0FTZ0N5QU1oQWlBQUlBRW9Bc1FETmdJTUlBQWdBallDQ0NBQklBQW9BZ3dnQUNnQ0NITTJBcXdESUFFb0F1Z0RJUUlnQUNBQktBSzBBellDRENBQUlBSTJBZ2dnQVNBQUtBSU1JQUFvQWdoek5nS29BeUFCS0FMUUF5RUNJQUFnQVNnQ3RBTTJBZ3dnQUNBQ05nSUlJQUVnQUNnQ0RDQUFLQUlJY3pZQ3BBTWdBU2dDdkFNaEFpQUFJQUVvQXFRRE5nSU1JQUFnQWpZQ0NDQUJJQUFvQWd3Z0FDZ0NDSE0yQXFBRElBRW9BcXdESVFJZ0FDQUJLQUxZQXpZQ0RDQUFJQUkyQWdnZ0FTQUFLQUlNSUFBb0FnaHpOZ0tjQXlBQktBTFVBeUVDSUFBZ0FTZ0NuQU0yQWd3Z0FDQUNOZ0lJSUFFZ0FDZ0NEQ0FBS0FJSWN6WUNtQU1nQVNnQzVBTWhBaUFBSUFFb0Fwd0ROZ0lNSUFBZ0FqWUNDQ0FCSUFBb0Fnd2dBQ2dDQ0hNMkFwUURJQUVvQXN3RElRSWdBQ0FCS0FLWUF6WUNEQ0FBSUFJMkFnZ2dBU0FBS0FJTUlBQW9BZ2h6TmdLUUF5QUJLQUs0QXlFQ0lBQWdBU2dDbUFNMkFnd2dBQ0FDTmdJSUlBRWdBQ2dDRENBQUtBSUljellDakFNZ0FTZ0N3QU1oQWlBQUlBRW9BcFFETmdJTUlBQWdBallDQ0NBQklBQW9BZ3dnQUNnQ0NITTJBb2dESUFFb0FvZ0RJUUlnQUNBQktBTE1BellDRENBQUlBSTJBZ2dnQVNBQUtBSU1JQUFvQWdoek5nS0VBeUFCS0FLSUF5RUNJQUFnQVNnQ2pBTTJBZ3dnQUNBQ05nSUlJQUVnQUNnQ0RDQUFLQUlJY3pZQ2dBTWdBU2dDdkFNaEFpQUFJQUVvQW93RE5nSU1JQUFnQWpZQ0NDQUJJQUFvQWd3Z0FDZ0NDSE0yQXZ3Q0lBRW9Bb2dESVFJZ0FDQUJLQUs0QXpZQ0RDQUFJQUkyQWdnZ0FTQUFLQUlNSUFBb0FnaHpOZ0w0QWlBQktBTDRBaUVDSUFBZ0FTZ0N4QU0yQWd3Z0FDQUNOZ0lJSUFFZ0FDZ0NEQ0FBS0FJSWN6WUM5QUlnQVNnQytBSWhBaUFBSUFFb0F1Z0ROZ0lNSUFBZ0FqWUNDQ0FCSUFBb0Fnd2dBQ2dDQ0hNMkF2QUNJQUVvQXBnRElRSWdBQ0FCS0FLc0F6WUNEQ0FBSUFJMkFnZ2dBU0FBS0FJTUlBQW9BZ2h4TmdMc0FpQUJLQUtRQXlFQ0lBQWdBU2dDb0FNMkFnd2dBQ0FDTmdJSUlBRWdBQ2dDRENBQUtBSUljVFlDNkFJZ0FTZ0M3QUloQWlBQUlBRW9BdWdDTmdJTUlBQWdBallDQ0NBQklBQW9BZ3dnQUNnQ0NITTJBdVFDSUFFb0Fzd0RJUUlnQUNBQktBS3dBellDRENBQUlBSTJBZ2dnQVNBQUtBSU1JQUFvQWdoeE5nTGdBaUFCS0FMc0FpRUNJQUFnQVNnQzRBSTJBZ3dnQUNBQ05nSUlJQUVnQUNnQ0RDQUFLQUlJY3pZQzNBSWdBU2dDK0FJaEFpQUFJQUVvQXNRRE5nSU1JQUFnQWpZQ0NDQUJJQUFvQWd3Z0FDZ0NDSEUyQXRnQ0lBRW9BclFESVFJZ0FDQUJLQUtrQXpZQ0RDQUFJQUkyQWdnZ0FTQUFLQUlNSUFBb0FnaHhOZ0xVQWlBQktBTFlBaUVDSUFBZ0FTZ0MxQUkyQWd3Z0FDQUNOZ0lJSUFFZ0FDZ0NEQ0FBS0FJSWN6WUMwQUlnQVNnQ2hBTWhBaUFBSUFFb0FxZ0ROZ0lNSUFBZ0FqWUNDQ0FCSUFBb0Fnd2dBQ2dDQ0hFMkFzd0NJQUVvQXRnQ0lRSWdBQ0FCS0FMTUFqWUNEQ0FBSUFJMkFnZ2dBU0FBS0FJTUlBQW9BZ2h6TmdMSUFpQUJLQUtJQXlFQ0lBQWdBU2dDd0FNMkFnd2dBQ0FDTmdJSUlBRWdBQ2dDRENBQUtBSUljVFlDeEFJZ0FTZ0NnQU1oQWlBQUlBRW9Bc2dETmdJTUlBQWdBallDQ0NBQklBQW9BZ3dnQUNnQ0NIRTJBc0FDSUFFb0FzUUNJUUlnQUNBQktBTEFBallDRENBQUlBSTJBZ2dnQVNBQUtBSU1JQUFvQWdoek5nSzhBaUFCS0FLTUF5RUNJQUFnQVNnQ3ZBTTJBZ3dnQUNBQ05nSUlJQUVnQUNnQ0RDQUFLQUlJY1RZQ3VBSWdBU2dDeEFJaEFpQUFJQUVvQXJnQ05nSU1JQUFnQWpZQ0NDQUJJQUFvQWd3Z0FDZ0NDSE0yQXJRQ0lBRW9BcndDSVFJZ0FDQUJLQUxrQWpZQ0RDQUFJQUkyQWdnZ0FTQUFLQUlNSUFBb0FnaHpOZ0t3QWlBQktBSzBBaUVDSUFBZ0FTZ0MzQUkyQWd3Z0FDQUNOZ0lJSUFFZ0FDZ0NEQ0FBS0FJSWN6WUNyQUlnQVNnQ3ZBSWhBaUFBSUFFb0F0QUNOZ0lNSUFBZ0FqWUNDQ0FCSUFBb0Fnd2dBQ2dDQ0hNMkFxZ0NJQUVvQXJRQ0lRSWdBQ0FCS0FMSUFqWUNEQ0FBSUFJMkFnZ2dBU0FBS0FJTUlBQW9BZ2h6TmdLa0FpQUJLQUtVQXlFQ0lBQWdBU2dDc0FJMkFnd2dBQ0FDTmdJSUlBRWdBQ2dDRENBQUtBSUljellDb0FJZ0FTZ0MvQUloQWlBQUlBRW9BcXdDTmdJTUlBQWdBallDQ0NBQklBQW9BZ3dnQUNnQ0NITTJBcHdDSUFFb0F2UUNJUUlnQUNBQktBS29BallDRENBQUlBSTJBZ2dnQVNBQUtBSU1JQUFvQWdoek5nS1lBaUFCS0FMd0FpRUNJQUFnQVNnQ3BBSTJBZ3dnQUNBQ05nSUlJQUVnQUNnQ0RDQUFLQUlJY3pZQ2xBSWdBU2dDbkFJaEFpQUFJQUVvQXFBQ05nSU1JQUFnQWpZQ0NDQUJJQUFvQWd3Z0FDZ0NDSE0yQXBBQ0lBRW9BcGdDSVFJZ0FDQUJLQUtnQWpZQ0RDQUFJQUkyQWdnZ0FTQUFLQUlNSUFBb0FnaHhOZ0tNQWlBQktBS01BaUVDSUFBZ0FTZ0NsQUkyQWd3Z0FDQUNOZ0lJSUFFZ0FDZ0NEQ0FBS0FJSWN6WUNpQUlnQVNnQ2lBSWhBaUFBSUFFb0FwQUNOZ0lNSUFBZ0FqWUNDQ0FCSUFBb0Fnd2dBQ2dDQ0hFMkFvUUNJQUVvQXB3Q0lRSWdBQ0FCS0FLRUFqWUNEQ0FBSUFJMkFnZ2dBU0FBS0FJTUlBQW9BZ2h6TmdLQUFpQUJLQUtVQWlFQ0lBQWdBU2dDbUFJMkFnd2dBQ0FDTmdJSUlBRWdBQ2dDRENBQUtBSUljellDL0FFZ0FTZ0NqQUloQWlBQUlBRW9BcHdDTmdJTUlBQWdBallDQ0NBQklBQW9BZ3dnQUNnQ0NITTJBdmdCSUFFb0F2d0JJUUlnQUNBQktBTDRBVFlDRENBQUlBSTJBZ2dnQVNBQUtBSU1JQUFvQWdoeE5nTDBBU0FCS0FLVUFpRUNJQUFnQVNnQzlBRTJBZ3dnQUNBQ05nSUlJQUVnQUNnQ0RDQUFLQUlJY3pZQzhBRWdBU2dDOEFFaEFpQUFJQUVvQXBnQ05nSU1JQUFnQWpZQ0NDQUJJQUFvQWd3Z0FDZ0NDSE0yQXV3QklBRW9BdkFCSVFJZ0FDQUJLQUtJQWpZQ0RDQUFJQUkyQWdnZ0FTQUFLQUlNSUFBb0FnaHpOZ0xvQVNBQktBTG9BU0VDSUFBZ0FTZ0NsQUkyQWd3Z0FDQUNOZ0lJSUFFZ0FDZ0NEQ0FBS0FJSWNUWUM1QUVnQVNnQzdBRWhBaUFBSUFFb0F1UUJOZ0lNSUFBZ0FqWUNDQ0FCSUFBb0Fnd2dBQ2dDQ0hNMkF1QUJJQUVvQXVRQklRSWdBQ0FCS0FLSUFqWUNEQ0FBSUFJMkFnZ2dBU0FBS0FJTUlBQW9BZ2h6TmdMY0FTQUJLQUxjQVNFQ0lBQWdBU2dDZ0FJMkFnd2dBQ0FDTmdJSUlBRWdBQ2dDRENBQUtBSUljVFlDMkFFZ0FTZ0MyQUVoQWlBQUlBRW9BcEFDTmdJTUlBQWdBallDQ0NBQklBQW9BZ3dnQUNnQ0NITTJBdFFCSUFFb0F1QUJJUUlnQUNBQktBTFVBVFlDRENBQUlBSTJBZ2dnQVNBQUtBSU1JQUFvQWdoek5nTFFBU0FCS0FMd0FTRUNJQUFnQVNnQ2dBSTJBZ3dnQUNBQ05nSUlJQUVnQUNnQ0RDQUFLQUlJY3pZQ3pBRWdBU2dDMUFFaEFpQUFJQUVvQW9BQ05nSU1JQUFnQWpZQ0NDQUJJQUFvQWd3Z0FDZ0NDSE0yQXNnQklBRW9BdUFCSVFJZ0FDQUJLQUx3QVRZQ0RDQUFJQUkyQWdnZ0FTQUFLQUlNSUFBb0FnaHpOZ0xFQVNBQktBTFFBU0VDSUFBZ0FTZ0N6QUUyQWd3Z0FDQUNOZ0lJSUFFZ0FDZ0NEQ0FBS0FJSWN6WUN3QUVnQVNnQ21BTWhBaUFBSUFFb0FzUUJOZ0lNSUFBZ0FqWUNDQ0FCSUFBb0Fnd2dBQ2dDQ0hFMkFyd0JJQUVvQXBBRElRSWdBQ0FCS0FMZ0FUWUNEQ0FBSUFJMkFnZ2dBU0FBS0FJTUlBQW9BZ2h4TmdLNEFTQUJLQUxNQXlFQ0lBQWdBU2dDOEFFMkFnd2dBQ0FDTmdJSUlBRWdBQ2dDRENBQUtBSUljVFlDdEFFZ0FTZ0MrQUloQWlBQUlBRW9Bc2dCTmdJTUlBQWdBallDQ0NBQklBQW9BZ3dnQUNnQ0NIRTJBckFCSUFFb0FyUURJUUlnQUNBQktBTFVBVFlDRENBQUlBSTJBZ2dnQVNBQUtBSU1JQUFvQWdoeE5nS3NBU0FCS0FLRUF5RUNJQUFnQVNnQ2dBSTJBZ3dnQUNBQ05nSUlJQUVnQUNnQ0RDQUFLQUlJY1RZQ3FBRWdBU2dDaUFNaEFpQUFJQUVvQXN3Qk5nSU1JQUFnQWpZQ0NDQUJJQUFvQWd3Z0FDZ0NDSEUyQXFRQklBRW9Bb0FESVFJZ0FDQUJLQUxBQVRZQ0RDQUFJQUkyQWdnZ0FTQUFLQUlNSUFBb0FnaHhOZ0tnQVNBQktBS01BeUVDSUFBZ0FTZ0MwQUUyQWd3Z0FDQUNOZ0lJSUFFZ0FDZ0NEQ0FBS0FJSWNUWUNuQUVnQVNnQ3JBTWhBaUFBSUFFb0FzUUJOZ0lNSUFBZ0FqWUNDQ0FCSUFBb0Fnd2dBQ2dDQ0hFMkFwZ0JJQUVvQXFBRElRSWdBQ0FCS0FMZ0FUWUNEQ0FBSUFJMkFnZ2dBU0FBS0FJTUlBQW9BZ2h4TmdLVUFTQUJLQUt3QXlFQ0lBQWdBU2dDOEFFMkFnd2dBQ0FDTmdJSUlBRWdBQ2dDRENBQUtBSUljVFlDa0FFZ0FTZ0N4QU1oQWlBQUlBRW9Bc2dCTmdJTUlBQWdBallDQ0NBQklBQW9BZ3dnQUNnQ0NIRTJBb3dCSUFFb0FxUURJUUlnQUNBQktBTFVBVFlDRENBQUlBSTJBZ2dnQVNBQUtBSU1JQUFvQWdoeE5nS0lBU0FCS0FLb0F5RUNJQUFnQVNnQ2dBSTJBZ3dnQUNBQ05nSUlJQUVnQUNnQ0RDQUFLQUlJY1RZQ2hBRWdBU2dDd0FNaEFpQUFJQUVvQXN3Qk5nSU1JQUFnQWpZQ0NDQUJJQUFvQWd3Z0FDZ0NDSEUyQW9BQklBRW9Bc2dESVFJZ0FDQUJLQUxBQVRZQ0RDQUFJQUkyQWdnZ0FTQUFLQUlNSUFBb0FnaHhOZ0o4SUFFb0Fyd0RJUUlnQUNBQktBTFFBVFlDRENBQUlBSTJBZ2dnQVNBQUtBSU1JQUFvQWdoeE5nSjRJQUVvQW53aEFpQUFJQUVvQW9BQk5nSU1JQUFnQWpZQ0NDQUJJQUFvQWd3Z0FDZ0NDSE0yQW5RZ0FTZ0NrQUVoQWlBQUlBRW9BcFFCTmdJTUlBQWdBallDQ0NBQklBQW9BZ3dnQUNnQ0NITTJBbkFnQVNnQ2lBRWhBaUFBSUFFb0FxZ0JOZ0lNSUFBZ0FqWUNDQ0FCSUFBb0Fnd2dBQ2dDQ0hNMkFtd2dBU2dDbEFFaEFpQUFJQUVvQXBnQk5nSU1JQUFnQWpZQ0NDQUJJQUFvQWd3Z0FDZ0NDSE0yQW1nZ0FTZ0NqQUVoQWlBQUlBRW9BclFCTmdJTUlBQWdBallDQ0NBQklBQW9BZ3dnQUNnQ0NITTJBbVFnQVNnQ3FBRWhBaUFBSUFFb0FyUUJOZ0lNSUFBZ0FqWUNDQ0FCSUFBb0Fnd2dBQ2dDQ0hNMkFtQWdBU2dDbkFFaEFpQUFJQUVvQXFBQk5nSU1JQUFnQWpZQ0NDQUJJQUFvQWd3Z0FDZ0NDSE0yQWx3Z0FTZ0NzQUVoQWlBQUlBRW9BcndCTmdJTUlBQWdBallDQ0NBQklBQW9BZ3dnQUNnQ0NITTJBbGdnQVNnQ29BRWhBaUFBSUFFb0FxUUJOZ0lNSUFBZ0FqWUNDQ0FCSUFBb0Fnd2dBQ2dDQ0hNMkFsUWdBU2dDZUNFQ0lBQWdBU2dDZkRZQ0RDQUFJQUkyQWdnZ0FTQUFLQUlNSUFBb0FnaHpOZ0pRSUFFb0Ftd2hBaUFBSUFFb0Fvd0JOZ0lNSUFBZ0FqWUNDQ0FCSUFBb0Fnd2dBQ2dDQ0hNMkFrd2dBU2dDV0NFQ0lBQWdBU2dDWkRZQ0RDQUFJQUkyQWdnZ0FTQUFLQUlNSUFBb0FnaHpOZ0pJSUFFb0FuUWhBaUFBSUFFb0Fxd0JOZ0lNSUFBZ0FqWUNDQ0FCSUFBb0Fnd2dBQ2dDQ0hNMkFrUWdBU2dDVkNFQ0lBQWdBU2dDc0FFMkFnd2dBQ0FDTmdJSUlBRWdBQ2dDRENBQUtBSUljellDUUNBQktBSklJUUlnQUNBQktBSjBOZ0lNSUFBZ0FqWUNDQ0FCSUFBb0Fnd2dBQ2dDQ0hNMkFqd2dBU2dDU0NFQ0lBQWdBU2dDaEFFMkFnd2dBQ0FDTmdJSUlBRWdBQ2dDRENBQUtBSUljellDT0NBQktBSkVJUUlnQUNBQktBSmNOZ0lNSUFBZ0FqWUNDQ0FCSUFBb0Fnd2dBQ2dDQ0hNMkFqUWdBU2dDUkNFQ0lBQWdBU2dDYURZQ0RDQUFJQUkyQWdnZ0FTQUFLQUlNSUFBb0FnaHpOZ0l3SUFFb0FrQWhBaUFBSUFFb0Fxd0JOZ0lNSUFBZ0FqWUNDQ0FCSUFBb0Fnd2dBQ2dDQ0hNMkFpd2dBU2dDTkNFQ0lBQWdBU2dDT0RZQ0RDQUFJQUkyQWdnZ0FTQUFLQUlNSUFBb0FnaHpOZ0lvSUFFb0FqQWhBaUFBSUFFb0FyZ0JOZ0lNSUFBZ0FqWUNDQ0FCSUFBb0Fnd2dBQ2dDQ0hNMkFpUWdBU2dDTUNFQ0lBQWdBU2dDUURZQ0RDQUFJQUkyQWdnZ0FTQUFLQUlNSUFBb0FnaHpOZ0lnSUFFb0Frd2hBaUFBSUFFb0FqUTJBZ3dnQUNnQ0RFRi9jeUVESUFBZ0FqWUNEQ0FBSUFNMkFnZ2dBU0FBS0FJTUlBQW9BZ2h6TmdJY0lBRW9BbXdoQWlBQUlBRW9BancyQWd3Z0FDZ0NERUYvY3lFRElBQWdBallDRENBQUlBTTJBZ2dnQVNBQUtBSU1JQUFvQWdoek5nSVlJQUVvQWlnaEFpQUFJQUVvQWl3MkFnd2dBQ0FDTmdJSUlBRWdBQ2dDRENBQUtBSUljellDRkNBQktBSWtJUUlnQUNBQktBSllOZ0lNSUFBZ0FqWUNDQ0FCSUFBb0Fnd2dBQ2dDQ0hNMkFoQWdBU2dDSkNFQ0lBQWdBU2dDWURZQ0RDQUFJQUkyQWdnZ0FTQUFLQUlNSUFBb0FnaHpOZ0lNSUFFb0FpZ2hBaUFBSUFFb0FuQTJBZ3dnQUNBQ05nSUlJQUVnQUNnQ0RDQUFLQUlJY3pZQ0NDQUJLQUlzSVFJZ0FDQUJLQUlRTmdJTUlBQW9BZ3hCZjNNaEF5QUFJQUkyQWd3Z0FDQUROZ0lJSUFFZ0FDZ0NEQ0FBS0FJSWN6WUNCQ0FCS0FKUUlRSWdBQ0FCS0FJVU5nSU1JQUFvQWd4QmYzTWhBeUFBSUFJMkFnd2dBQ0FETmdJSUlBRWdBQ2dDRENBQUtBSUljellDQUNBQktBTHNBeUFCS0FJWU5nSUFJQUVvQXV3RElBRW9BaHcyQWdRZ0FTZ0M3QU1nQVNnQ0NEWUNDQ0FCS0FMc0F5QUJLQUlNTmdJTUlBRW9BdXdESUFFb0FoQTJBaEFnQVNnQzdBTWdBU2dDQURZQ0ZDQUJLQUxzQXlBQktBSUVOZ0lZSUFFb0F1d0RJQUVvQWlBMkFod2dBVUh3QTJva0FBc3lBUUYvSXdCQkVHc2lBaUFBT2dBUElBSWdBVFlDQ0NBQ0lBSXRBQThnQWlnQ0NFRUJkSFZCQTNFNkFBOGdBaTBBRHd1OEFnRUVmeU1BUVJCcklnSWtBQ0FDSUFBMkFnd2dBaUFCTmdJSUlBSW9BZ3doQkNBQ0tBSUlJUUVqQUVFZ2F5SUFKQUFnQUNBQ05nSU1JQUFnQVRZQ0NDTUFRUkJySWdFZ0FDZ0NERFlDRENBQUlBRW9BZ3cyQWdRZ0FDZ0NDQ0VCSUFBZ0FFRUVhallDSENBQUlBRTJBaGdnQUNnQ0hDRURJd0JCRUdzaUFTQUFLQUlZTmdJTUlBQkJFR29pQlNBQktBSU1LUUlBTndJQUl3QkJFR3NpQVNRQUlBRWdBellDRENBQklBVTJBZ2dnQVNBQktBSUlLQUlFTmdJRUlBRW9BZ1JCZjBzRVFFRzlGa0crRFVIdUFVSGtEeEFBQUFzZ0FTZ0NEQ2dDQUNBQktBSUlLQUlBTmdJQUlBRW9BZ3dvQWdBZ0FTZ0NCRFlDQkNBQktBSU1JZ01nQXlnQ0FFRUlhallDQUNBQlFSQnFKQUFqQUVFUWF5QUFLQUljTmdJTUlBQkJJR29rQUNBRVFld29JQUlRRnhBSU5nSUFJQUpCRUdva0FBdTlBUUVCZnlNQVFTQnJJZ0lrQUNBQ0lBQTJBaHdnQWlBQk5nSVlJQUpCQURZQ0ZBTkFJQUlvQWhRZ0FpZ0NHQ2dDOEFGTFJRUkFJQUpCQURZQ0VBTkFJQUlvQWhCQkFrOUZCRUFnQWlBQ0tBSVlJQUlvQWhSQkJIUnFJZ0FwQWdBM0FnQWdBaUFBS1FJSU53SUlJQUlvQWh3Z0FpZ0NGRUVGZEdvZ0FpQUNLQUlRRUpvQklBSWdBaWdDRUVFQmFqWUNFQXdCQ3dzZ0FpZ0NIQ0FDS0FJVVFRVjBhaEJaSUFJZ0FpZ0NGRUVCYWpZQ0ZBd0JDd3NnQWtFZ2FpUUFDeVVCQVg4akFFRVFheUlESkFBZ0F5QUFOZ0lNSUFNZ0FUWUNDQ0FESUFJMkFnUVFBd0FMTVFFQmZ5TUFRUkJySWdNa0FDQURJQUUyQWd3Z0F5QUNOZ0lJSUFBZ0F5Z0NEQ0FES0FJSUVMd0JJQU5CRUdva0FBdC9BUU4vSXdCQkVHc2lBaVFBSUFJZ0FEWUNEQ0FDS0FJTUlRRWpBRUVRYXlJQUpBQWdBQ0FCTmdJTUlBQWdBQ2dDRENnQ0FEWUNDQ01BUVJCcklnRWdBRUVJYWpZQ0RDQUJLQUlNSWdFZ0FTZ0NBRUVNYXpZQ0FDTUFRUkJySWdNZ0FUWUNEQ0FES0FJTUtBSUFJUUVnQUVFUWFpUUFJQUpCRUdva0FDQUJDMjhCQW44akFFRVFheUlESkFBZ0F5QUFOZ0lNSUFNZ0FUWUNDQ0FESUFJMkFnUWdBeWdDRENFQklBTW9BZ2dRSmlFQ0lBTW9BZ1FoQkNNQVFSQnJJZ0FnQVRZQ0RDQUFJQUkyQWdnZ0FDQUVOZ0lFSUFBb0FnZ3BBd0FnQUNnQ0JDa0RBRkVoQUNBRFFSQnFKQUFnQUF2K0F3SUNmd0YrSXdCQkVHc2lBeVFBSUFNZ0FEWUNEQ0FESUFFMkFnZ2dBeWdDRENFQUlBTW9BZ2dwQXdBaEJDTUFRU0JySWdFa0FDQUJJQUEyQWh3Z0FTQUVOd01RSUFFZ0FTa0RFRGNEQ0NNQVFTQnJJZ0FrQUNBQUlBRTJBaHdnQUNBQlFRaHFOZ0lZSUFCQkNEWUNGQ0FBUVpYVHg5NEZOZ0lRSUFCQkdEWUNEQ0FBSUFBb0FoUTJBZ2dnQUNBQUtBSVlOZ0lFQTBBZ0FDZ0NGRUVFVHdSQUl3QkJFR3NpQWlBQUtBSUVOZ0lNSUFJZ0FpZ0NEQ2dBQURZQ0NDQUFJQUlvQWdnMkFnQWdBQ0FBS0FJQVFaWFR4OTRGYkRZQ0FDQUFJQUFvQWdBZ0FDZ0NBRUVZZG5NMkFnQWdBQ0FBS0FJQVFaWFR4OTRGYkRZQ0FDQUFJQUFvQWdoQmxkUEgzZ1ZzTmdJSUlBQWdBQ2dDQUNBQUtBSUljellDQ0NBQUlBQW9BZ1JCQkdvMkFnUWdBQ0FBS0FJVVFRUnJOZ0lVREFFTEN3SkFBa0FDUUFKQUlBQW9BaFJCQVdzT0F3SUJBQU1MSUFBZ0FDZ0NDQ0FBS0FJRUxRQUNRUkIwY3pZQ0NBc2dBQ0FBS0FJSUlBQW9BZ1F0QUFGQkNIUnpOZ0lJQ3lBQUlBQW9BZ1F0QUFBZ0FDZ0NDSE0yQWdnZ0FDQUFLQUlJUVpYVHg5NEZiRFlDQ0FzZ0FDQUFLQUlJSWdKQkRYWWdBbk0yQWdnZ0FDQUFLQUlJUVpYVHg5NEZiRFlDQ0NBQUlBQW9BZ2dnQUNnQ0NFRVBkbk0yQWdnZ0FDZ0NDQ0VDSUFCQklHb2tBQ0FDSVFBZ0FVRWdhaVFBSUFOQkVHb2tBQ0FBQzNRQkEzOGpBRUVRYXlJQ0pBQWdBaUFBTmdJTUlBSWdBVFlDQ0NBQ1FRRTJBZ1FnQWlnQ0RDRUJJQUlvQWdnaEF5QUNLQUlFSVFRakFFRVFheUlBSkFBZ0FDQUJOZ0lNSUFBZ0F6WUNDQ0FBSUFRMkFnUWdBQ2dDQ0NBQUtBSUVRUmhzUVFnUVF5QUFRUkJxSkFBZ0FrRVFhaVFBQzBjQkFYOGpBRUVRYXlJQkpBQWdBU0FBTmdJRUl3QkJFR3NpQUNBQlFRaHFOZ0lNSUFCQkFEWUNDQ0FBS0FJTUlBQW9BZ2cyQWdBZ0FTZ0NDQ0VBSUFGQkVHb2tBQ0FBQ3lvQkFYOGpBRUVRYXlJQkpBQWdBU0FBTmdJTUlBRW9BZ3hCREdvUXF3RWhBQ0FCUVJCcUpBQWdBQXM1QVFGL0l3QkJFR3NpQVNRQUlBRWdBRFlDRENNQVFSQnJJZ0FnQVNnQ0REWUNEQ0FBS0FJTUtBSUFRUkJxSVFBZ0FVRVFhaVFBSUFBTGJ3RUNmeU1BUVJCcklnTWtBQ0FESUFBMkFnd2dBeUFCTmdJSUlBTWdBallDQkNBREtBSU1JUUVnQXlnQ0NCQW1JUUlnQXlnQ0JDRUVJd0JCRUdzaUFDQUJOZ0lNSUFBZ0FqWUNDQ0FBSUFRMkFnUWdBQ2dDQ0NnQ0FDQUFLQUlFS0FJQVNDRUFJQU5CRUdva0FDQUFDMjhCQW44akFFRVFheUlESkFBZ0F5QUFOZ0lNSUFNZ0FUWUNDQ0FESUFJMkFnUWdBeWdDRENFQklBTW9BZ2doQWlBREtBSUVFQ1loQkNNQVFSQnJJZ0FnQVRZQ0RDQUFJQUkyQWdnZ0FDQUVOZ0lFSUFBb0FnZ29BZ0FnQUNnQ0JDZ0NBRWdoQUNBRFFSQnFKQUFnQUFzcEFRRi9Jd0JCRUdzaUFTUUFJQUVnQURZQ0RDQUJLQUlNRUVnb0FnQWhBQ0FCUVJCcUpBQWdBQXZwQWdFQmZ5TUFRU0JySWdNa0FDQURJQUEyQWhnZ0F5QUJOZ0lVSUFNZ0FqWUNFQ0FESUFNb0FoZ2lBQkNGQVRZQ0RDTUFRUkJySWdFa0FDQUJJQUEyQWd3Z0FTZ0NEQkJJSVFJZ0FVRVFhaVFBSUFNZ0FqWUNDQUpBSUFNb0Fnd0VRQU5BSUFBUUdDQURLQUlRSUFNb0FneEJFR29RaEFGQkFYRUVRQ0FES0FJTUtBSUFCRUFnQXlBREtBSU1OZ0lJSUFNZ0F5Z0NEQ2dDQURZQ0RBd0NDeUFES0FJVUlBTW9BZ3cyQWdBZ0F5QURLQUlVS0FJQU5nSWNEQU1MQWtBZ0FCQVlJQU1vQWd4QkVHb2dBeWdDRUJDREFVRUJjUVJBSUFNb0Fnd29BZ1FFUUNBRElBTW9BZ3hCQkdvMkFnZ2dBeUFES0FJTUtBSUVOZ0lNREFJTElBTW9BaFFnQXlnQ0REWUNBQ0FESUFNb0FneEJCR28yQWh3TUJBc2dBeWdDRkNBREtBSU1OZ0lBSUFNZ0F5Z0NDRFlDSEF3REN3d0FDd0FMSUFBUVNDRUFJQU1vQWhRZ0FEWUNBQ0FESUFNb0FoUW9BZ0EyQWh3TElBTW9BaHdoQUNBRFFTQnFKQUFnQUF2QUFRRUNmeU1BUVJCcklnSWtBQ0FDSUFBMkFnZ2dBaUFDS0FJSUlnQTJBZ3dnQUVFMGFoQVdCRUFnQUVFMGFpSUJFREVnQVJBM0N5QUFRU3hxRUJZRVFDQUFRU3hxSWdFUU1TQUJFRGNMSUFCQkpHb1FGZ1JBSUFCQkpHb2lBUkF4SUFFUU53c2dBRUVjYWhBV0JFQWdBRUVjYWlJQkVERWdBUkEzQ3lBQVFSUnFFQllFUUNBQVFSUnFJZ0VRTVNBQkVEY0xJQUJCREdvUUZnUkFJQUJCREdvaUFSQXhJQUVRTndzZ0FCQ21BaG9nQWlnQ0RDRUFJQUpCRUdva0FDQUFDM3dCQVg4akFFRVFheUlESkFBZ0F5QUFOZ0lNSUFNZ0FUWUNDQ0FESUFJMkFnUWdBeWdDQ0NFQkl3QkJFR3NpQUNBREtBSU1JZ0kyQWd3Z0FDQUJOZ0lJSUFBb0FneEJBRFlDQUNBREtBSUVJUUVqQUVFUWF5SUFJQUpCQkdvMkFnd2dBQ0FCTmdJSUlBQW9BZ3dnQUNnQ0NEWUNBQ0FEUVJCcUpBQUwyeEVCRUg4akFFRVFheUlJSkFBZ0NDQUFOZ0lNSUFnZ0FUWUNDQ01BUVJCcklnQWdDQ2dDRENJQ05nSU1JQWdnQUNnQ0RDSUFLQUlFSUFBb0FnQnJOZ0lFQWtBZ0NDZ0NCQ0FJS0FJSVNRUkFJQWdvQWdnZ0NDZ0NCR3NoQUNNQVFTQnJJZ0VrQUNBQklBSTJBaHdnQVNBQU5nSVlBa0FnQVNnQ0hDSUVFQmdvQWdBZ0JDZ0NCR3NnQVNnQ0dFOEVRQ0FCS0FJWUlRSWpBRUVnYXlJQUpBQWdBQ0FFTmdJY0lBQWdBallDR0NBQUtBSWNJUVFnQUNnQ0dDRURJd0JCRUdzaUFpQUFRUWhxTmdJTUlBSWdCRFlDQ0NBQ0lBTTJBZ1FnQWlnQ0RDSURJQUlvQWdnMkFnQWdBeUFDS0FJSUtBSUVOZ0lFSUFNZ0FpZ0NDQ2dDQkNBQ0tBSUVhallDQ0NBQUlBQW9BaEEyQWdRZ0FDQUFLQUlNTmdJQUEwQWdBQ2dDQUNBQUtBSUVSd1JBSUFRUUdDRUxJd0JCRUdzaUFpQUFLQUlBTmdJTUlBc2dBaWdDREJDL0FTQUFJQUFvQWdCQkFXb2lBallDQUNBQUlBSTJBZ3dNQVFzTEl3QkJFR3NpQWlBQVFRaHFOZ0lNSUFJb0Fnd2lBaWdDQUNBQ0tBSUVOZ0lFSUFCQklHb2tBQXdCQ3lBQklBUVFHRFlDRkNNQUlnQkJFR3NpQWlBRU5nSU1JQUVvQWhnZ0FpZ0NEQ0lDS0FJRUlBSW9BZ0JyYWlFQ0lBQkJJR3NpQUNRQUlBQWdCRFlDR0NBQUlBSTJBaFFnQUNnQ0dDRURJd0JCRUdzaUFpUUFJQUlnQXpZQ0RDQUNLQUlNRUJnaEJpTUFRUkJySWdVa0FDQUZJQVkyQWd3akFFRVFheUFGS0FJTU5nSU1JQVZCRUdva0FDQUNRWDgyQWdnZ0FrSC8vLy8vQnpZQ0JDQUNRUWhxSUFKQkJHb1FaQ2dDQUNFRklBSkJFR29rQUNBQUlBVTJBaEFnQUNnQ0ZDQUFLQUlRU3dSQUlBTVFaUUFMSUFBZ0F4QkhOZ0lNQWtBZ0FDZ0NEQ0FBS0FJUVFRRjJUd1JBSUFBZ0FDZ0NFRFlDSEF3QkN5QUFJQUFvQWd4QkFYUTJBZ2dnQUNBQVFRaHFJQUJCRkdvUVNpZ0NBRFlDSEFzZ0FDZ0NIQ0VDSUFCQklHb2tBQ01BSWdCQkVHc2lBeUFFTmdJTUlBTW9BZ3dpQXlnQ0JDQURLQUlBYXlFRElBRW9BaFFoQlNBQVFTQnJJZ0FrQUNBQUlBRTJBaGdnQUNBQ05nSVVJQUFnQXpZQ0VDQUFJQVUyQWd3Z0FDQUFLQUlZSWdJMkFod2dBRUVBTmdJSUlBSkJER29nQUVFSWFpQUFLQUlNRUlnQklBSUNmeUFBS0FJVUJFQWdBaEF5SVFNZ0FDZ0NGQ0VHSXdCQkVHc2lCU1FBSUFVZ0F6WUNEQ0FGSUFZMkFnZ2dCU2dDRENFR0lBVW9BZ2doQnlNQVFSQnJJZ01rQUNBRElBWTJBZ3dnQXlBSE5nSUlJQU1vQWdnaERDQURLQUlNSVFjakFFRVFheUlHSkFBZ0JpQUhOZ0lNSXdCQkVHc2dCaWdDRERZQ0RDQUdRUkJxSkFBZ0RFRi9Td1JBRURrQUN5QURLQUlJUVFFUVFTRUdJQU5CRUdva0FDQUdJUU1nQlVFUWFpUUFJQU1NQVF0QkFBczJBZ0FnQWlBQ0tBSUFJQUFvQWhCcUlnTTJBZ2dnQWlBRE5nSUVJQUlvQWdBZ0FDZ0NGR29oQXlBQ0VCMGdBellDQUNBQUtBSWNHaUFBUVNCcUpBQWdBU2dDR0NFQ0l3QkJJR3NpQUNRQUlBQWdBVFlDSENBQUlBSTJBaGdnQUNnQ0hDSUZRUWhxSVFNZ0FDZ0NHQ0VHSXdCQkVHc2lBaUFBUVFocU5nSU1JQUlnQXpZQ0NDQUNJQVkyQWdRZ0FpZ0NEQ0lESUFJb0FnZ29BZ0EyQWdBZ0F5QUNLQUlJS0FJQUlBSW9BZ1JxTmdJRUlBTWdBaWdDQ0RZQ0NBTkFJQUFvQWdnZ0FDZ0NERWNFUUNBRkVESWhEU01BUVJCcklnSWdBQ2dDQ0RZQ0RDQU5JQUlvQWd3UXZ3RWdBQ0FBS0FJSVFRRnFOZ0lJREFFTEN5TUFRUkJySWdJZ0FFRUlhallDRENBQ0tBSU1JZ0lvQWdnZ0FpZ0NBRFlDQUNBQVFTQnFKQUFqQUVFUWF5SUNKQUFnQWlBRU5nSU1JQUlnQVRZQ0NDQUNLQUlNSWdRUTRBRWdCQkFZSVFNZ0JDZ0NBQ0VGSUFRb0FnUWhCaUFDS0FJSVFRUnFJUWNqQUVFZ2F5SUFKQUFnQUNBRE5nSWNJQUFnQlRZQ0dDQUFJQVkyQWhRZ0FDQUhOZ0lRSUFBZ0FDZ0NGQ0FBS0FJWWF6WUNEQ0FBS0FJUUlnTWdBeWdDQUNBQUtBSU1hellDQUNBQUtBSU1RUUJLQkVBZ0FDZ0NFQ2dDQUNBQUtBSVlJQUFvQWd3UUd4b0xJQUJCSUdva0FDQUVJQUlvQWdoQkJHb1FMU0FFUVFScUlBSW9BZ2hCQ0dvUUxTQUVFQmdnQWlnQ0NCQWRFQzBnQWlnQ0NDQUNLQUlJS0FJRU5nSUFJd0JCRUdzaUFDQUVOZ0lNSUFBb0Fnd2lBeWdDQkNBREtBSUFheUVESUFBa0FDQUFJQVEyQWd3Z0FDQUROZ0lJSUFBb0Fnd2lBeEFaSVFZZ0F4QVpJQU1RUjJvaEJ5QURFQmtnQXhCSGFpRUpJQU1RR1NBQUtBSUlhaUVLSXdCQklHc2lCU0FETmdJY0lBVWdCallDR0NBRklBYzJBaFFnQlNBSk5nSVFJQVVnQ2pZQ0RDQUFRUkJxSkFBakFFRVFheUFFTmdJTUlBSkJFR29rQUNNQVFSQnJJZ0FrQUNBQUlBRTJBZ2dnQUNBQUtBSUlJZ0kyQWd3akFFRVFheUlHSkFBZ0JpQUNOZ0lNSUFZb0Fnd2lCQ0VESUFRb0FnUWhCU01BUVJCcklnUWtBQ0FFSUFNMkFnd2dCQ0FGTmdJSUlBUW9BZ3doQlNBRUtBSUlJUWNqQUVFUWF5SURKQUFnQXlBRk5nSUVJQU1nQnpZQ0FDQURLQUlFSVFVRFFDQURLQUlBSUFVb0FnaEhCRUFnQlJBeUlRY2dCU0FGS0FJSVFRRnJJZ2syQWdnZ0J5RU9Jd0JCRUdzaUJ5QUpOZ0lNSUE0Z0J5Z0NEQkJFREFFTEN5QURRUkJxSkFBZ0JFRVFhaVFBSUFaQkVHb2tBQ0FDS0FJQUJFQWdBaEF5SVJFZ0FpZ0NBQ0VQSXdCQkVHc2lCQ1FBSUFRZ0FqWUNEQ0FFS0FJTUlnSVFIU2dDQUNBQ0tBSUFheUVDSUFSQkVHb2tBQ0FSSUE4Z0FoRFVBUXNnQUNnQ0RCb2dBRUVRYWlRQUN5QUJRU0JxSkFBTUFRc2dDQ2dDQkNBSUtBSUlTd1JBSUFJb0FnQWdDQ2dDQ0dvaEFTTUFRUkJySWdBa0FDQUFJQUkyQWd3Z0FDQUJOZ0lJSUFBb0FnZ2hBaU1BUVJCcklnUWdBQ2dDRENJQk5nSU1JQVFnQWpZQ0NDTUFRUkJySWdJZ0FUWUNEQ0FBSUFJb0Fnd2lBaWdDQkNBQ0tBSUFhellDQkNBQklBQW9BZ2dRMEFFZ0FDZ0NCQ0VFSXdCQkVHc2lBaVFBSUFJZ0FUWUNEQ0FDSUFRMkFnZ2dBaWdDRENJQkVCa2hBeUFCRUJrZ0FSQkhhaUVGSUFFUUdTQUNLQUlJYWlFR0lBRVFHU0VRSXdCQkVHc2lCQ0FCTmdJTUlCQWdCQ2dDRENJRUtBSUVJQVFvQWdCcmFpRUhJd0JCSUdzaUJDQUJOZ0ljSUFRZ0F6WUNHQ0FFSUFVMkFoUWdCQ0FHTmdJUUlBUWdCellDRENBQ1FSQnFKQUFnQUVFUWFpUUFDd3NnQ0VFUWFpUUFDeU1CQVg4akFFRVFheUlCSkFBZ0FTQUFOZ0lFSUFFb0FnUVFWaG9nQVVFUWFpUUFDMHNCQW44Z0FDZ0NCQ0lHUVFoMUlRY2dBQ2dDQUNJQUlBRWdBaUFHUVFGeEJIOGdCeUFES0FJQWFpZ0NBQVVnQndzZ0Eyb2dCRUVDSUFaQkFuRWJJQVVnQUNnQ0FDZ0NGQkVLQUF1YUFRQWdBRUVCT2dBMUFrQWdBQ2dDQkNBQ1J3MEFJQUJCQVRvQU5BSkFJQUFvQWhBaUFrVUVRQ0FBUVFFMkFpUWdBQ0FETmdJWUlBQWdBVFlDRUNBRFFRRkhEUUlnQUNnQ01FRUJSZzBCREFJTElBRWdBa1lFUUNBQUtBSVlJZ0pCQWtZRVFDQUFJQU0yQWhnZ0F5RUNDeUFBS0FJd1FRRkhEUUlnQWtFQlJnMEJEQUlMSUFBZ0FDZ0NKRUVCYWpZQ0pBc2dBRUVCT2dBMkN3dGRBUUYvSUFBb0FoQWlBMFVFUUNBQVFRRTJBaVFnQUNBQ05nSVlJQUFnQVRZQ0VBOExBa0FnQVNBRFJnUkFJQUFvQWhoQkFrY05BU0FBSUFJMkFoZ1BDeUFBUVFFNkFEWWdBRUVDTmdJWUlBQWdBQ2dDSkVFQmFqWUNKQXNMTmdFQmZ5TUFRUkJySWdJa0FDQUNJQUEyQWd3Z0FpQUJOZ0lJSUFJb0FneEJBQ0FDS0FJSUVDRWdBaWdDREJvZ0FrRVFhaVFBQzdVREFRRi9Jd0JCMEFCcklnSWdBRFlDVENBQ0lBRTJBa2dnQWlBQ0tBSk1RWkdpeElnQmNUWUNSQ0FDSUFJb0FreEJvc1NJa1FKeE5nSkFJQUlnQWlnQ1RFSEVpSkdpQkhFMkFqd2dBaUFDS0FKTVFZaVJvc1I0Y1RZQ09DQUNJQUlvQWtoQmthTEVpQUZ4TmdJMElBSWdBaWdDU0VHaXhJaVJBbkUyQWpBZ0FpQUNLQUpJUWNTSWthSUVjVFlDTENBQ0lBSW9Ba2hCaUpHaXhIaHhOZ0lvSUFJZ0FqVUNPQ0FDTlFJd2ZpQUNOUUk4SUFJMUFpeCtJQUkxQWtRZ0FqVUNOSDRnQWpVQ1FDQUNOUUlvZm9XRmhUY0RJQ0FDSUFJMUFqZ2dBalVDTEg0Z0FqVUNQQ0FDTlFJb2ZpQUNOUUpFSUFJMUFqQitJQUkxQWtBZ0FqVUNOSDZGaFlVM0F4Z2dBaUFDTlFJNElBSTFBaWgrSUFJMUFqd2dBalVDTkg0Z0FqVUNSQ0FDTlFJc2ZpQUNOUUpBSUFJMUFqQitoWVdGTndNUUlBSWdBalVDT0NBQ05RSTBmaUFDTlFJOElBSTFBakIrSUFJMUFrUWdBalVDS0g0Z0FqVUNRQ0FDTlFJc2ZvV0ZoVGNEQ0NBQ0tRTUlRb2lSb3NTSWthTEVpSCtESUFJcEF4QkN4SWlSb3NTSWthTEVBSU1nQWlrRElFS1Jvc1NJa2FMRWlCR0RJQUlwQXhoQ29zU0lrYUxFaUpFaWc0U0VoQXVOQVFFQ2Z5TUFRUkJySWdJa0FDQUNJQUEyQWd3Z0FpQUJOZ0lJSUFJZ0FpZ0NEQ0lBRUJjb0FnQTJBZ1FnQWlnQ0NDRUJJQUFRRnlBQk5nSUFJQUlvQWdRRVFDQUFFQmNoQVNBQ0tBSUVJUU1qQUVFUWF5SUFKQUFnQUNBQk5nSU1JQUFnQXpZQ0NDQUFLQUlJSWdFRVFDQUJJQUVvQWdBb0FnUVJBUUFMSUFCQkVHb2tBQXNnQWtFUWFpUUFDK1lCQVFGL0l3QkJRR29pQkNRQUlBUWdBRFlDUENBRUlBRTJBamdnQkNBQ053TXdJQVFnQXpjREtDQUVJQVFwQXpCQy8vLy8vdytEUGdJa0lBUWdCQ2tETUVJZ2lENENJQ0FFSUFRcEF5aEMvLy8vL3crRFBnSWNJQVFnQkNrREtFSWdpRDRDR0NBRUlBUW9BaVFnQkNnQ0hCQ1BBVGNERUNBRUlBUW9BaUFnQkNnQ0dCQ1BBVGNEQ0NBRUlBUW9BaVFnQkNnQ0lITWdCQ2dDSENBRUtBSVljeENQQVNBRUtRTVFoU0FFS1FNSWhUY0RBQ0FFS0FJOElBUXBBeEFnQkNrREFFSWdob1UzQXdBZ0JDZ0NPQ0FFS1FNSUlBUXBBd0JDSUlpRk53TUFJQVJCUUdza0FBdkVCUUVCZnlNQVFiQUNheUlFSkFBZ0JDQUFOZ0tzQWlBRUlBRTJBcWdDSUFRZ0FqWUNwQUlnQkNBRE5nS2dBaUFFUVFBMkFwd0NJQVJCQURZQ21BSWdCQ2dDb0FKRkJFQWdCQ0FFS0FLc0FpZ0NBRFlDb0FJTEFrQUNRQ0FFS0FLZ0FpQUVLQUtzQWlnQ0FFWUVRQ0FFS0FLb0FrVU5BUXNqQUVFUWF5SUFJQVFvQXFBQ05nSU1JQVFnQUNnQ0RDZ0NHRFlDQ0NBRUtBSUlRWUFCU3dSQVFjMGpRWllWUVprQlFmVUlFQUFBQ3lNQVFSQnJJZ0FnQkNnQ29BSTJBZ3dnQUNnQ0RDZ0NCQ0FFS0FJSVN3UkFRZmtPUVpZVlFab0JRZlVJRUFBQUN3SkFJQVFvQWdnZ0JDZ0NwQUpKQkVBZ0JDZ0NyQUpCQkdvZ0JDZ0NvQUlnQkNnQ25BSVFsZ0ZGRFFNZ0JDZ0NyQUpCQkdvZ0JDZ0NxQUlnQkNnQ3BBSVFXRVVOQXlBRUtBS3NBa0VFYWlBRVFSQnFJQVJCREdvUWxRRU5BUXdEQ3lBRUtBS2tBa0dBQVVzRVFFR3dJMEdXRlVHakFVSDFDQkFBQUFzZ0JFRVFhaUFFS0FLb0FpQUVLQUtrQWhBZUlBUWdCQ2dDcEFJMkFnd0xJQVFvQWd3aUFDQUVRUkJxYWtFQUlBUW9BZ2dnQUdzUUlTQUVRUUEyQWdRRFFDQUVLQUlFSUFRb0FnaEpCRUFnQkNnQ0JDSUFJQVJCa0FGcWFpQUVRUkJxSUFCcUxRQUFRVFp6T2dBQUlBUWdCQ2dDQkVFQmFqWUNCQXdCQ3dzZ0JDZ0NyQUpCRkdvZ0JDZ0NvQUlnQkNnQ25BSVFsZ0ZGRFFFZ0JDZ0NyQUpCRkdvZ0JFR1FBV29nQkNnQ0NCQllSUTBCSUFSQkFEWUNBQU5BSUFRb0FnQWdCQ2dDQ0VrRVFDQUVLQUlBSWdBZ0JFR1FBV3BxSUFSQkVHb2dBR290QUFCQjNBQnpPZ0FBSUFRZ0JDZ0NBRUVCYWpZQ0FBd0JDd3NnQkNnQ3JBSkJKR29nQkNnQ29BSWdCQ2dDbkFJUWxnRkZEUUVnQkNnQ3JBSkJKR29nQkVHUUFXb2dCQ2dDQ0JCWVJRMEJJQVFvQXF3Q0lBUW9BcUFDTmdJQUN5QUVJQVFvQXF3Q0lnQkJCR29nQUVFVWFoRGRBVFlDbUFJTElBUW9BcGdDSVFBZ0JFR3dBbW9rQUNBQUM1QUZBUVIvSXdCQkVHc2lBeVFBSUFNZ0FEWUNEQ0FESUFFMkFnZ2dBeWdDRENFQUlBTW9BZ2dpQWlnQ2JDRUVJd0JCSUdzaUFTUUFJQUVnQURZQ0dDQUJJQVEyQWhRZ0FTQUNOZ0lRSUFFb0FoQWlBaWdDSkNFRUlBSW9BaUFoQlNNQVFUQnJJZ0FrQUNBQVFkZ0FOZ0lzSUFBZ0FqWUNLQ0FBSUFKQktHbzJBaVFnQUVIQUFEWUNJQ0FBSUFKQjZBQnFOZ0ljSUFBZ0JEWUNHQ0FBSUFVMkFoUWdBRUVCTmdJUUlBQWdBQ2dDSENnQ0FEWUNEQ0FBS0FJTUlBQW9BaUJQQkVCQmx3OUIrUXhCcFFGQndRd1FBQUFMSUFBb0FpUWdBQ2dDREdwQmdBRTZBQUFnQUNBQUtBSU1RUUZxTmdJTUlBQW9BZ3dnQUNnQ0lFRUlhMHNFUUNBQUtBSU1JZ0lnQUNnQ0pHcEJBQ0FBS0FJZ0lBSnJFQ0VnQUVFQU5nSU1JQUFvQWlnZ0FDZ0NKRUVCSUFBb0Fpd1JBd0FMSUFBb0Fnd2lBaUFBS0FJa2FrRUFJQUFvQWlCQkNHc2dBbXNRSVFKQUlBQW9BaEFFUUNBQUtBSWtJQUFvQWlCcVFRaHJJQUFvQWhnUVRDQUFLQUlrSUFBb0FpQnFRUVJySUFBb0FoUVFUQXdCQ3lBQUtBSWtJQUFvQWlCcVFRaHJJQUFvQWhRUW1RRWdBQ2dDSkNBQUtBSWdha0VFYXlBQUtBSVlFSmtCQ3lBQUtBSW9JQUFvQWlSQkFTQUFLQUlzRVFNQUlBQW9BaHhCQURZQ0FDQUFLQUlrUVFBZ0FDZ0NJQkFoSUFCQk1Hb2tBQUpBSUFFb0FoUkJJRXNFUUNBQlFRQTJBaHdNQVFzZ0FTZ0NGRUVEY1FSQVFld2dRZk1WUVpRQlFZME1FQUFBQ3lBQklBRW9BaFJCQW5ZMkFnd2dBVUVBTmdJSUEwQWdBU2dDQ0NBQktBSU1TUVJBSUFFb0FoZ2dBU2dDRUNBQktBSUlRUUowYWlnQ0FCQk1JQUVnQVNnQ0dFRUVhallDR0NBQklBRW9BZ2hCQVdvMkFnZ01BUXNMSUFGQkFUWUNIQXNnQVNnQ0hDRUFJQUZCSUdva0FDQURRUkJxSkFBZ0FBdWpBUUVCZnlNQVFSQnJJZ0VrQUNBQklBQTJBZ3dnQVNnQ0RFRUFRZkFBRUNFZ0FTZ0NERUhuektmUUJqWUNBQ0FCS0FJTVFZWGRudHQ3TmdJRUlBRW9BZ3hCOHVhNzR3TTJBZ2dnQVNnQ0RFRzY2citxZWpZQ0RDQUJLQUlNUWYra3VZZ0ZOZ0lRSUFFb0FneEJqTkdWMkhrMkFoUWdBU2dDREVHcnM0LzhBVFlDR0NBQktBSU1RWm1hZzk4Rk5nSWNJQUVvQWd4QklEWUNiQ0FCUVJCcUpBQkJBUXVUQVFFQmZ5TUFRUkJySWdNa0FDQURJQUEyQWd3Z0F5QUJOZ0lJSUFNZ0FqWUNCQ0FES0FJTUtBSUFLQUlFUWNBQVN3UkFRYW9aUVpRUlFla0JRWUlKRUFBQUN5QURLQUlNSWdBZ0F5Z0NDQ0FBS0FJQUtBSVVFUUlBSUFNb0FnUUVRQ0FES0FJRUlBTW9BZ3dvQWdBb0FnUTJBZ0FMSUFNb0Fnd2lBQ2dDQkNBQUtBSUFLQUljRUk0QklBTkJFR29rQUVFQkMrWUJBUUYvSXdCQklHc2lBeVFBSUFNZ0FEWUNHQ0FESUFFMkFoUWdBeUFDTmdJUUFrQWdBeWdDR0NnQ0FDQURLQUlVUndSQUlBTW9BaFFvQWh4RkJFQkIxU0ZCbEJGQnpRRkIwUWdRQUFBTElBTWdBeWdDRkNnQ0hCQlhOZ0lNSUFNb0FneEZCRUFnQTBFQU5nSWNEQUlMSUFNb0FoZ29BZ1FRS0NBREtBSVlJQU1vQWd3MkFnUWdBeWdDR0NBREtBSVVOZ0lBQ3dKQUlBTW9BaGdvQWdoRkRRQWdBeWdDR0NnQ0RBMEFRYklYUVpRUlFkZ0JRZEVJRUFBQUN5QURLQUlZSWdBZ0FDZ0NBQ2dDREJFQkFDQURRUUUyQWh3TElBTW9BaHdoQUNBRFFTQnFKQUFnQUFzUEFFSGs2UUJCMFFBUVowSG82UUFMdkFjQkFYOGpBRUV3YXlJRkpBQWdCU0FBTmdJb0lBVWdBVFlDSkNBRklBSTJBaUFnQlNBRE5nSWNJQVVnQkRZQ0dBSkFJQVVvQWlnb0FvUUJCRUJCSGtIQ0FFSDBFa0dFQWhBY0lBVkJBRFlDTEF3QkN5QUZLQUlvUVFFMkFvUUJJQVVnQlNnQ0tDZ0NBQ2dDQkRZQ0ZBSkFJQVVvQWhSQkFVd05BQ0FGS0FJWVFmLy8vLzhISUFVb0FoUnJUQTBBUVI1QnhRQkI5QkpCa0FJUUhDQUZRUUEyQWl3TUFRc2dCU2dDS0NnQ0FDZ0NGRUdBQ0hFRVFDQUZJQVVvQWlnaUFDQUZLQUlrSUFVb0Fod2dCU2dDR0NBQUtBSUFLQUlnRVFZQU5nSVFJQVVvQWhCQkFFZ0VRQ0FGUVFBMkFpd01BZ3NnQlNnQ0lDQUZLQUlRTmdJQUlBVW9BaWhCQURZQ2hBRWdCVUVCTmdJc0RBRUxJQVVvQWhoQkFFd0VRQ0FGS0FJZ1FRQTJBZ0FnQlNnQ0dFVUVRQ0FGS0FJb1FRQTJBb1FCSUFWQkFUWUNMQXdDQ3lBRlFRQTJBaXdNQVFzQ1FDQUZLQUlvS0FKWURRQWdCU2dDS0NBRktBSVlFTjRCRFFBZ0JTZ0NLQ0lBSUFVb0FpUWdCU2dDSENBRktBSVlJQUFvQWdBb0FpQVJCZ0FFUUNBRktBSWdJQVVvQWhnMkFnQWdCU2dDS0VFQU5nS0VBU0FGUVFFMkFpd01BZ3NnQlNnQ0lFRUFOZ0lBSUFWQkFEWUNMQXdCQ3lBRklBVW9BaWdvQWxnMkFnd2dCU2dDRkVFZ1NnUkFRZTBqUWZRU1FiUUNRY0FQRUFBQUN3SkFJQVVvQWd3RVFDQUZLQUlZSUFVb0FoUWdCU2dDREd0SUJFQWdCU2dDRENBRktBSW9RVGhxYWlBRktBSWNJQVVvQWhnUUhpQUZLQUlvSWdBZ0JTZ0NHQ0FBS0FKWWFqWUNXQ0FGS0FJZ1FRQTJBZ0FnQlNnQ0tFRUFOZ0tFQVNBRlFRRTJBaXdNQXdzZ0JTQUZLQUlVSUFVb0FneHJOZ0lJSUFVb0Fnd2dCU2dDS0VFNGFtb2dCU2dDSENBRktBSUlFQjRnQlNnQ0tDQUZLQUlrSUFVb0FpaEJPR29nQlNnQ0ZDQUZLQUlvS0FJQUtBSWdFUVlBUlFSQUlBVkJBRFlDTEF3REN5QUZJQVVvQWhnZ0JTZ0NDR3MyQWhnZ0JTQUZLQUlJSUFVb0FoeHFOZ0ljSUFVZ0JTZ0NGQ0FGS0FJa2FqWUNKQ0FGS0FJZ0lBVW9BaFEyQWdBTUFRc2dCU2dDSUVFQU5nSUFDeUFGSUFVb0FpZ2dCU2dDR0JEZUFUWUNEQ0FGSUFVb0FoZ2dCU2dDREdzMkFoZ2dCU2dDR0VFQVNnUkFJQVVvQWlnaUFDQUZLQUlrSUFVb0Fod2dCU2dDR0NBQUtBSUFLQUlnRVFZQVJRUkFJQVZCQURZQ0xBd0NDeUFGS0FJZ0lnQWdCU2dDR0NBQUtBSUFhallDQUFzZ0JTZ0NEQVJBSUFVb0FpaEJPR29nQlNnQ0hDQUZLQUlZYWlBRktBSU1FQjRMSUFVb0FpZ2dCU2dDRERZQ1dDQUZLQUlvUVFBMkFvUUJJQVZCQVRZQ0xBc2dCU2dDTENFQUlBVkJNR29rQUNBQUN6QUJBWDhqQUVFUWF5SUNKQUFnQWlBQU5nSU1JQUlnQVRZQ0NDQUNLQUlNSUFKQkNHcEJCQkFlSUFKQkVHb2tBQXV3QVFFQmZ5TUFRUkJySWdNa0FDQURJQUEyQWd3Z0F5QUJOZ0lJSUFNZ0FqWUNCQ0FES0FJRVFRSlBCRUJCa2hsQjNCQkI3d0ZCdEFvUUFBQUxJQU1vQWd3Z0F5Z0NCRUVDZEdvZ0F5Z0NDQ2dDQURZQ0FDQURLQUlNSUFNb0FnUkJBbXBCQW5ScUlBTW9BZ2dvQWdRMkFnQWdBeWdDRENBREtBSUVRUVJxUVFKMGFpQURLQUlJS0FJSU5nSUFJQU1vQWd3Z0F5Z0NCRUVHYWtFQ2RHb2dBeWdDQ0NnQ0REWUNBQ0FEUVJCcUpBQUxwaWNCQ0g4akFFRVFheUlGSkFBZ0JTQUFOZ0lJSUFVZ0FUWUNCQ0FGSUFJMkFnQUNRQUpBQWtBQ1FDQUZLQUlFSWdCQmdBRkhCRUFnQUVIQUFVWU5BU0FBUVlBQ1JnMENEQU1MSUFVb0FnQWhBU0FGS0FJSUlRSWpBRUhRQUdzaUFDUUFJQUFnQVRZQ1RDQUFJQUkyQWtnZ0FDZ0NURUVLTmdMd0FTQUFRVEJxSUFBb0FrZ1FUaUFBS0FKTUlnRWdBQ2tDTURjQ0FDQUJJQUFwQWpnM0FnZ2dBRUVCTmdJc0EwQWdBQ2dDTEVFS1RRUkFJQUJCRUdvZ0FFRXdhaEJhSUFBZ0FDZ0NMRUVCYXkwQWpEUTZBQThnQUVFQU5nSUlBMEFnQUNnQ0NFRUVTUVJBSUFCQk1Hb2lBaUFBS0FJSUlnRkJBblJxS0FJQUlRTWdBQzBBRHlBQkVIY2hCaU1BUVJCcklnUWlBU0FETmdJTUlBRWdCallDQ0NBQktBSU1JQUVvQWdoeklRRWdBQ2dDQ0VFQ2RDQUNhaUFCTmdJQUlBQW9BZ2hCQW5RZ0Ftb29BZ0FoQWlBRUlnRWhCeUFCSUFCQkVHb2dBQ2dDQ0VFQ2RHb29BZ0EyQWd3Z0J5QUJLQUlNSWdOQkFuWkJ2Lzc4K1FOeElBTkJCblJCd0lHRGhueHhjallDRENBQlFRdzJBZ2dnQVNnQ0RDQUJLQUlJUVFGMGRpRURJQUVnQWpZQ0RDQUJJQU0yQWdnZ0FTZ0NEQ0FCS0FJSWN5RUJJQUJCTUdvZ0FDZ0NDRUVDZEdvZ0FUWUNBQ0FBSUFCQk1Hb2dBQ2dDQ0VFQ2RHb29BZ0EyQWdRZ0FFRXdhaUFBS0FJSVFRSjBhaWdDQUNFQ0lBUWlBU0FBS0FJRU5nSU1JQUZCQkRZQ0NDQUJLQUlNSUFFb0FnaEJBWFIwSVFNZ0FTQUNOZ0lNSUFFZ0F6WUNDQ0FCS0FJTUlBRW9BZ2h6SVFFZ0FFRXdhaUFBS0FJSVFRSjBhaUFCTmdJQUlBQkJNR29nQUNnQ0NFRUNkR29vQWdBaEFpQUVJZ0VnQUNnQ0JEWUNEQ0FCUVFnMkFnZ2dBU2dDRENBQktBSUlRUUYwZENFRElBRWdBallDRENBQklBTTJBZ2dnQVNnQ0RDQUJLQUlJY3lFQklBQkJNR29nQUNnQ0NFRUNkR29nQVRZQ0FDQUFRVEJxSUFBb0FnaEJBblJxS0FJQUlRSWdCQ0lCSUFBb0FnUTJBZ3dnQVVFTU5nSUlJQUVvQWd3Z0FTZ0NDRUVCZEhRaEF5QUJJQUkyQWd3Z0FTQUROZ0lJSUFFb0Fnd2dBU2dDQ0hNaEFTQUFRVEJxSUFBb0FnaEJBblJxSUFFMkFnQWdBQ0FBS0FJSVFRRnFOZ0lJREFFTEN5QUFLQUpNSUFBb0FpeEJCSFJxSWdFZ0FDa0NNRGNDQUNBQklBQXBBamczQWdnZ0FDQUFLQUlzUVFGcU5nSXNEQUVMQ3lBQVFkQUFhaVFBSUFWQkFEWUNEQXdEQ3lBRktBSUFJUUVnQlNnQ0NDRUNJd0JCa0FGcklnQWtBQ0FBSUFFMkFvd0JJQUFnQWpZQ2lBRWdBQ2dDakFGQkREWUM4QUVnQUNBQVFmQUFhallDWENBQUlBQkI0QUJxTmdKWUlBQW9BbHdnQUNnQ2lBRVFUaUFBS0FLTUFTSUJJQUFvQWx3aUFpa0NBRGNDQUNBQklBSXBBZ2czQWdnZ0FFSUFOd05JSUFCQ0FEY0RRQ0FBUVVCcklnRWdBQ2dDaUFFcEFCQTNBQUFnQUNnQ1dDQUJFRTRnQUVFQU5nSThBMEFnQUNnQ1BFRUVTUVJBSUFCQklHb2dBQ2dDV0JCYUlBQWdBQ2dDUEVFQmRDMEFqRFE2QUI4Z0FFRUFOZ0lZQTBBZ0FDZ0NHRUVFU1FSQUlBQW9BaGdpQVVFQ2RDSUNJQUFvQWxocUtBSUFJUU1nQWlBQUtBSmNhaWdDQUNFQ0lBQXRBQjhnQVJCM0lRWWpBRUVRYXlJRUlnRWdBallDRENBQklBWTJBZ2dnQVNnQ0RDQUJLQUlJY3lFQ0lBUWlBU0FDTmdJTUlBRkJDRFlDQ0NBQktBSU1JQUVvQWdoQkFYUjBJUUlnQVNBRE5nSU1JQUVnQWpZQ0NDQUJLQUlNSUFFb0FnaHlJUUVnQUNnQ1dDQUFLQUlZUVFKMGFpQUJOZ0lBSUFBb0FsZ2dBQ2dDR0VFQ2RHb29BZ0FoQXlBRUlnRWhDQ0FCSUFCQklHb2dBQ2dDR0VFQ2RHb29BZ0EyQWd3Z0FTQUJLQUlNSWdaQkFuWkJ2Lzc4K1FOeElBWkJCblJCd0lHRGhueHhjallDRENBQlFRUTJBZ2dnQ0NBQktBSU1JQUVvQWdoQkFYUjBOZ0lNSUFGQmdJRDhCellDQ0NBQktBSU1JQUVvQWdoeElRSWdBU0FETmdJTUlBRWdBallDQ0NBQktBSU1JQUVvQWdoeklRRWdBQ2dDV0NBQUtBSVlRUUowYWlBQk5nSUFJQUFvQWxnZ0FDZ0NHRUVDZEdvb0FnQWhBeUFFSWdFaENTQUJJQUFvQWxnZ0FDZ0NHRUVDZEdvb0FnQTJBZ3dnQVVFRU5nSUlJQWtnQVNnQ0RDQUJLQUlJUVFGMGREWUNEQ0FCUVlDQWdIZzJBZ2dnQVNnQ0RDQUJLQUlJY1NFQ0lBRWdBellDRENBQklBSTJBZ2dnQVNnQ0RDQUJLQUlJY3lFQklBQW9BbGdnQUNnQ0dFRUNkR29nQVRZQ0FDQUVJZ0VnQUNnQ1hDQUFLQUlZUVFKMGFpZ0NBRFlDRENBQlFRZzJBZ2dnQVNnQ0RDQUJLQUlJUVFGMGRpRUJJQUFvQWx3Z0FDZ0NHRUVDZEdvZ0FUWUNBQ0FBS0FKY0lBQW9BaGhCQW5ScUtBSUFJUUlnQkNJQklBQW9BbGdnQUNnQ0dFRUNkR29vQWdBMkFnd2dBVUVJTmdJSUlBRW9BZ3dnQVNnQ0NFRUJkSFFoQXlBQklBSTJBZ3dnQVNBRE5nSUlJQUVvQWd3Z0FTZ0NDSEloQVNBQUtBSmNJQUFvQWhoQkFuUnFJQUUyQWdBZ0FDZ0NYQ0FBS0FJWVFRSjBhaWdDQUNFQ0lBUWlBU0FBS0FKWUlBQW9BaGhCQW5ScUtBSUFOZ0lNSUFGQkREWUNDQ0FCS0FJTUlBRW9BZ2hCQVhSMklRTWdBU0FDTmdJTUlBRWdBellDQ0NBQktBSU1JQUVvQWdoeklRRWdBQ2dDWENBQUtBSVlRUUowYWlBQk5nSUFJQUFnQUNnQ1hDQUFLQUlZUVFKMGFpZ0NBRFlDRkNBQUtBSmNJQUFvQWhoQkFuUnFLQUlBSVFJZ0JDSUJJQUFvQWhRMkFnd2dBVUVFTmdJSUlBRW9BZ3dnQVNnQ0NFRUJkSFFoQXlBQklBSTJBZ3dnQVNBRE5nSUlJQUVvQWd3Z0FTZ0NDSE1oQVNBQUtBSmNJQUFvQWhoQkFuUnFJQUUyQWdBZ0FDZ0NYQ0FBS0FJWVFRSjBhaWdDQUNFQ0lBUWlBU0FBS0FJVU5nSU1JQUZCQ0RZQ0NDQUJLQUlNSUFFb0FnaEJBWFIwSVFNZ0FTQUNOZ0lNSUFFZ0F6WUNDQ0FCS0FJTUlBRW9BZ2h6SVFFZ0FDZ0NYQ0FBS0FJWVFRSjBhaUFCTmdJQUlBQW9BbHdnQUNnQ0dFRUNkR29vQWdBaEFpQUVJZ0VnQUNnQ0ZEWUNEQ0FCUVF3MkFnZ2dBU2dDRENBQktBSUlRUUYwZENFRElBRWdBallDRENBQklBTTJBZ2dnQVNnQ0RDQUJLQUlJY3lFQklBQW9BbHdnQUNnQ0dFRUNkR29nQVRZQ0FDQUFJQUFvQWhoQkFXbzJBaGdNQVFzTElBQW9Bb3dCSUFBb0FqeEJBMnhCQVdwQkJIUnFJZ0VnQUNnQ1dDSUNLUUlBTndJQUlBRWdBaWtDQ0RjQ0NDQUFLQUtNQVNBQUtBSThRUU5zUVFKcVFRUjBhaUlCSUFBb0Fsd2lBaWtDQURjQ0FDQUJJQUlwQWdnM0FnZ2dBRUVnYWlBQUtBSmNFRm9nQUNBQUtBSThRUUYwUVFGcUxRQ01ORG9BSHlBQVFRQTJBaEFEUUNBQUtBSVFRUVJKQkVBakFFRVFheUlFSWdFZ0FDZ0NXQ0FBS0FJUVFRSjBhaWdDQURZQ0RDQUJRUWcyQWdnZ0FTZ0NEQ0FCS0FJSVFRRjBkaUVCSUFBb0FsZ2dBQ2dDRUVFQ2RHb2dBVFlDQUNBQUtBSllJQUFvQWhCQkFuUnFLQUlBSVFJZ0JDSUJJQUFvQWx3Z0FDZ0NFRUVDZEdvb0FnQTJBZ3dnQVVFSU5nSUlJQUVvQWd3Z0FTZ0NDRUVCZEhRaEF5QUJJQUkyQWd3Z0FTQUROZ0lJSUFFb0Fnd2dBU2dDQ0hJaEFTQUFLQUpZSUFBb0FoQkJBblJxSUFFMkFnQWdBQ2dDV0NBQUtBSVFRUUowYWlnQ0FDRUNJQUF0QUI4Z0FDZ0NFQkIzSVFNakFFRVFheUlCSUFJMkFnd2dBU0FETmdJSUlBRW9BZ3dnQVNnQ0NITWhBU0FBS0FKWUlBQW9BaEJCQW5ScUlBRTJBZ0FnQUNnQ1dDQUFLQUlRUVFKMGFpZ0NBQ0VDSXdCQkVHc2lBeUFBUVNCcUlBQW9BaEJCQW5ScUtBSUFOZ0lNSXdCQkVHc2lBU0FES0FJTUlnTkJBblpCdi83OCtRTnhJQU5CQm5SQndJR0Robnh4Y2pZQ0RDQUJRUXcyQWdnZ0FTZ0NEQ0FCS0FJSVFRRjBkaUVESXdCQkVHc2lBU0FDTmdJTUlBRWdBellDQ0NBQktBSU1JQUVvQWdoeklRRWdBQ2dDV0NBQUtBSVFRUUowYWlBQk5nSUFJQUFnQUNnQ1dDQUFLQUlRUVFKMGFpZ0NBRFlDRENBQUtBSllJQUFvQWhCQkFuUnFLQUlBSVFJakFFRVFheUlCSUFBb0FndzJBZ3dnQVVFRU5nSUlJQUVvQWd3Z0FTZ0NDRUVCZEhRaEF5TUFRUkJySWdFZ0FqWUNEQ0FCSUFNMkFnZ2dBU2dDRENBQktBSUljeUVCSUFBb0FsZ2dBQ2dDRUVFQ2RHb2dBVFlDQUNBQUtBSllJQUFvQWhCQkFuUnFLQUlBSVFJakFFRVFheUlCSUFBb0FndzJBZ3dnQVVFSU5nSUlJQUVvQWd3Z0FTZ0NDRUVCZEhRaEF5TUFRUkJySWdFZ0FqWUNEQ0FCSUFNMkFnZ2dBU2dDRENBQktBSUljeUVCSUFBb0FsZ2dBQ2dDRUVFQ2RHb2dBVFlDQUNBQUtBSllJQUFvQWhCQkFuUnFLQUlBSVFJakFFRVFheUlCSUFBb0FndzJBZ3dnQVVFTU5nSUlJQUVvQWd3Z0FTZ0NDRUVCZEhRaEF5TUFRUkJySWdFZ0FqWUNEQ0FCSUFNMkFnZ2dBU2dDRENBQktBSUljeUVCSUFBb0FsZ2dBQ2dDRUVFQ2RHb2dBVFlDQUNNQVFSQnJJZ0VnQUNnQ1hDQUFLQUlRUVFKMGFpZ0NBRFlDRENBQlFRZzJBZ2dnQVNnQ0RDQUJLQUlJUVFGMGRpRUJJQUFvQWx3Z0FDZ0NFRUVDZEdvZ0FUWUNBQ0FBS0FKY0lBQW9BaEJCQW5ScUtBSUFJUUlqQUVFUWF5SUJJQUFvQWxnZ0FDZ0NFRUVDZEdvb0FnQTJBZ3dnQVVFTU5nSUlJQUVvQWd3Z0FTZ0NDRUVCZEhZaEF5TUFRUkJySWdFZ0FqWUNEQ0FCSUFNMkFnZ2dBU2dDRENBQktBSUljeUVCSUFBb0Fsd2dBQ2dDRUVFQ2RHb2dBVFlDQUNBQUtBSmNJQUFvQWhCQkFuUnFLQUlBSVFJakFFRVFheUlCSUFBb0Fsd2dBQ2dDRUVFQ2RHb29BZ0EyQWd3Z0FVRUVOZ0lJSUFFb0Fnd2dBU2dDQ0VFQmRIUWhBeU1BUVJCcklnRWdBallDRENBQklBTTJBZ2dnQVNnQ0RDQUJLQUlJY3lFQklBQW9BbHdnQUNnQ0VFRUNkR29nQVRZQ0FDTUFRUkJySWdFZ0FDZ0NYQ0FBS0FJUVFRSjBhaWdDQURZQ0RDQUJRZi8vQXpZQ0NDQUJLQUlNSUFFb0FnaHhJUUVnQUNnQ1hDQUFLQUlRUVFKMGFpQUJOZ0lBSUFBZ0FDZ0NFRUVCYWpZQ0VBd0JDd3NnQUNnQ2pBRWdBQ2dDUEVFRGJFRURha0VFZEdvaUFTQUFLQUpZSWdJcEFnQTNBZ0FnQVNBQ0tRSUlOd0lJSUFBZ0FDZ0NYRFlDQ0NBQUlBQW9BbGcyQWx3Z0FDQUFLQUlJTmdKWUlBQWdBQ2dDUEVFQmFqWUNQQXdCQ3dzZ0FFR1FBV29rQUNBRlFRQTJBZ3dNQWdzZ0JTZ0NBQ0VCSUFVb0FnZ2hBaU1BUWZBQWF5SUFKQUFnQUNBQk5nSnNJQUFnQWpZQ2FDQUFLQUpzUVE0MkF2QUJJQUJCMEFCcUlBQW9BbWdRVGlBQUtBSnNJZ0VnQUNrQ1VEY0NBQ0FCSUFBcEFsZzNBZ2dnQUVGQWF5SUJJQUFvQW1oQkVHb1FUaUFBS0FKc0lnSWdBU2tDQURjQ0VDQUNJQUVwQWdnM0FoZ2dBRUVDTmdJOEEwQUNRQ0FBS0FJOFFRNUxEUUFnQUVFZ2FpQUFRVUJyRUZvZ0FDQUFLQUk4UVFGMlFRRnJMUUNNTkRvQUh5QUFRUUEyQWhnRFFDQUFLQUlZUVFSSkJFQWdBRUhRQUdvaUFpQUFLQUlZSWdGQkFuUnFLQUlBSVFNZ0FDMEFIeUFCRUhjaEJpTUFRUkJySWdRaUFTQUROZ0lNSUFFZ0JqWUNDQ0FCS0FJTUlBRW9BZ2h6SVFFZ0FDZ0NHRUVDZENBQ2FpQUJOZ0lBSUFBb0FoaEJBblFnQW1vb0FnQWhBaUFFSWdFaENpQUJJQUJCSUdvZ0FDZ0NHRUVDZEdvb0FnQTJBZ3dnQ2lBQktBSU1JZ05CQW5aQnYvNzgrUU54SUFOQkJuUkJ3SUdEaG54eGNqWUNEQ0FCUVF3MkFnZ2dBU2dDRENBQktBSUlRUUYwZGlFRElBRWdBallDRENBQklBTTJBZ2dnQVNnQ0RDQUJLQUlJY3lFQklBQkIwQUJxSUFBb0FoaEJBblJxSUFFMkFnQWdBQ0FBUWRBQWFpQUFLQUlZUVFKMGFpZ0NBRFlDRkNBQVFkQUFhaUFBS0FJWVFRSjBhaWdDQUNFQ0lBUWlBU0FBS0FJVU5nSU1JQUZCQkRZQ0NDQUJLQUlNSUFFb0FnaEJBWFIwSVFNZ0FTQUNOZ0lNSUFFZ0F6WUNDQ0FCS0FJTUlBRW9BZ2h6SVFFZ0FFSFFBR29nQUNnQ0dFRUNkR29nQVRZQ0FDQUFRZEFBYWlBQUtBSVlRUUowYWlnQ0FDRUNJQVFpQVNBQUtBSVVOZ0lNSUFGQkNEWUNDQ0FCS0FJTUlBRW9BZ2hCQVhSMElRTWdBU0FDTmdJTUlBRWdBellDQ0NBQktBSU1JQUVvQWdoeklRRWdBRUhRQUdvZ0FDZ0NHRUVDZEdvZ0FUWUNBQ0FBUWRBQWFpQUFLQUlZUVFKMGFpZ0NBQ0VDSUFRaUFTQUFLQUlVTmdJTUlBRkJERFlDQ0NBQktBSU1JQUVvQWdoQkFYUjBJUU1nQVNBQ05nSU1JQUVnQXpZQ0NDQUJLQUlNSUFFb0FnaHpJUUVnQUVIUUFHb2dBQ2dDR0VFQ2RHb2dBVFlDQUNBQUlBQW9BaGhCQVdvMkFoZ01BUXNMSUFBb0Ftd2dBQ2dDUEVFRWRHb2lBU0FBS1FKUU53SUFJQUVnQUNrQ1dEY0NDQ0FBS0FJOFFRNUdEUUFnQUVFZ2FpQUFRZEFBYWhCYUlBQkJBRFlDRUFOQUlBQW9BaEJCQkVrRVFDQUFLQUlRUVFKMElnSWdBRUZBYXlJRGFpZ0NBQ0VHSXdCQkVHc2lCQ0lCSUFJZ0FFRWdhbW9vQWdBMkFnd2dBVUVNTmdJSUlBRW9BZ3dnQVNnQ0NFRUJkSFloQWlBRUlnRWdCallDRENBQklBSTJBZ2dnQVNnQ0RDQUJLQUlJY3lFQklBQW9BaEJCQW5RZ0Eyb2dBVFlDQUNBQUlBQW9BaEJCQW5RZ0Eyb29BZ0EyQWd3Z0FFRkFheUFBS0FJUVFRSjBhaWdDQUNFQ0lBUWlBU0FBS0FJTU5nSU1JQUZCQkRZQ0NDQUJLQUlNSUFFb0FnaEJBWFIwSVFNZ0FTQUNOZ0lNSUFFZ0F6WUNDQ0FCS0FJTUlBRW9BZ2h6SVFFZ0FFRkFheUFBS0FJUVFRSjBhaUFCTmdJQUlBQkJRR3NnQUNnQ0VFRUNkR29vQWdBaEFpQUVJZ0VnQUNnQ0REWUNEQ0FCUVFnMkFnZ2dBU2dDRENBQktBSUlRUUYwZENFRElBRWdBallDRENBQklBTTJBZ2dnQVNnQ0RDQUJLQUlJY3lFQklBQkJRR3NnQUNnQ0VFRUNkR29nQVRZQ0FDQUFRVUJySUFBb0FoQkJBblJxS0FJQUlRSWdCQ0lCSUFBb0FndzJBZ3dnQVVFTU5nSUlJQUVvQWd3Z0FTZ0NDRUVCZEhRaEF5QUJJQUkyQWd3Z0FTQUROZ0lJSUFFb0Fnd2dBU2dDQ0hNaEFTQUFRVUJySUFBb0FoQkJBblJxSUFFMkFnQWdBQ0FBS0FJUVFRRnFOZ0lRREFFTEN5QUFLQUpzSUFBb0FqeEJBV3BCQkhScUlnRWdBRUZBYXlJQ0tRSUFOd0lBSUFFZ0Fpa0NDRGNDQ0NBQUlBQW9BanhCQW1vMkFqd01BUXNMSUFCQjhBQnFKQUFnQlVFQU5nSU1EQUVMSUFWQkFUWUNEQXNnQlNnQ0RDRUFJQVZCRUdva0FDQUFDNjBCQVFGL0l3QkJFR3NpQXlRQUlBTWdBRFlDRENBRElBRTJBZ2dnQXlBQ05nSUVJQU1vQWdRZ0F5Z0NEQkJOSUFOQkFUWUNBQU5BSUFNb0FnQWdBeWdDQ0U5RkJFQWdBeWdDQkJCMklBTW9BZ1FRN2dFZ0F5Z0NCQkR0QVNBREtBSUVJQU1vQWd3Z0F5Z0NBRUVGZEdvUVRTQURJQU1vQWdCQkFXbzJBZ0FNQVFzTElBTW9BZ1FRZGlBREtBSUVFTzRCSUFNb0FnUWdBeWdDRENBREtBSUlRUVYwYWhCTklBTkJFR29rQUF2YkZBRVJmeU1BUVlBQmF5SURKQUFnQXlBQU5nSjhJQU1nQVRZQ2VDQURJQUkyQW5RZ0EwRUFPZ0J6SUFBUUxpQURRZUFBYWhBdUlBTW9BblJCQTA4RVFDQURJQU1vQW5SQkEyczJBbGdnQTBFQU5nSlVBMEFnQXlnQ1ZDQURLQUpZU1FSQUlBTW9BbmdnQXlnQ1ZFRUNhbW90QUFCQkFVc0VRQ0FESUFNb0FsUkJBMm8yQWxRTUFnc0NRQ0FES0FKNElBTW9BbFJCQW1wcUxRQUFRUUZHQkVBQ1FDQURLQUo0SUFNb0FsUkJBV3BxTFFBQURRQWdBeWdDZUNBREtBSlVhaTBBQUEwQUlBTWdBeWdDVkRZQ1NDQURJQU1vQWxSQkEybzJBa3dnQTBFQU5nSlFBa0FnQXlnQ1NFVU5BQ0FES0FKNElBTW9Ba2hCQVd0cUxRQUFEUUFnQXlBREtBSklRUUZyTmdKSUN5QURJQU5CNEFCcUlnRVFnd0kyQWtBZ0F5QUJFSUVDTmdJNElBTkJRR3NnQTBFNGFoQ0FBa0VCY1FSQUlBTW9Ba2dnQTBGQWF4QjhLQUlFYXlFQklBTkJRR3NRZkNBQk5nSUlDeU1BUVJCcklnb2tBQ0FLSUFOQjRBQnFOZ0lNSUFvZ0EwSElBR28yQWdnQ1FDQUtLQUlNSWdRb0FnUWdCQkFZS0FJQVJ3UkFJQW9vQWdnaEFpTUFRU0JySWdFa0FDQUJJQVEyQWh3Z0FTQUNOZ0lZSUFFb0Fod2lCU0VFSXdCQkVHc2lBaUFCUVFocUlnWTJBZ3dnQWlBRU5nSUlJQUpCQVRZQ0JDQUNLQUlNSWdRZ0FpZ0NDRFlDQUNBRUlBSW9BZ2dvQWdRMkFnUWdCQ0FDS0FJSUtBSUVJQUlvQWdSQkRHeHFOZ0lJSUFVUUdDRU5Jd0JCRUdzaUFpQUJLQUlNTmdJTUlBMGdBaWdDRENBQktBSVlFUGdCSUFFZ0FTZ0NERUVNYWpZQ0RDTUFRUkJySWdJZ0JqWUNEQ0FDS0FJTUlnSW9BZ0FnQWlnQ0JEWUNCQ0FCUVNCcUpBQU1BUXNnQ2lnQ0NDRUJJd0JCSUdzaUFpUUFJQUlnQkRZQ0hDQUNJQUUyQWhnZ0FpQUNLQUljSWdjUUdEWUNGQ01BUVJCcklnRWdCellDRENBQktBSU1JZ0VvQWdRZ0FTZ0NBR3RCREcxQkFXb2hCQ01BUVNCcklnRWtBQ0FCSUFjMkFoZ2dBU0FFTmdJVUlBRW9BaGdpQmlFRkl3QkJFR3NpQkNRQUlBUWdCVFlDRENBRUtBSU1FQmdoQ0NNQVFSQnJJZ1VrQUNBRklBZzJBZ3dqQUVFUWF5QUZLQUlNTmdJTUlBVkJFR29rQUNBRVFkV3ExYW9CTmdJSUlBUkIvLy8vL3djMkFnUWdCRUVJYWlBRVFRUnFFR1FvQWdBaEJTQUVRUkJxSkFBZ0FTQUZOZ0lRSUFFb0FoUWdBU2dDRUVzRVFDQUdFR1VBQ3lBQklBWVFUellDREFKQUlBRW9BZ3dnQVNnQ0VFRUJkazhFUUNBQklBRW9BaEEyQWh3TUFRc2dBU0FCS0FJTVFRRjBOZ0lJSUFFZ0FVRUlhaUFCUVJScUVFb29BZ0EyQWh3TElBRW9BaHdoQkNBQlFTQnFKQUFqQUNJQlFSQnJJZ1VnQnpZQ0RDQUZLQUlNSWdVb0FnUWdCU2dDQUd0QkRHMGhCU0FDS0FJVUlRWWdBVUVnYXlJQkpBQWdBU0FDTmdJWUlBRWdCRFlDRkNBQklBVTJBaEFnQVNBR05nSU1JQUVnQVNnQ0dDSUVOZ0ljSUFGQkFEWUNDQ0FFUVF4cUlBRkJDR29nQVNnQ0RCQ0lBU0FFQW44Z0FTZ0NGQVJBSUFRUU1pRUZJQUVvQWhRaENDTUFRUkJySWdZa0FDQUdJQVUyQWd3Z0JpQUlOZ0lJSUFZb0Fnd2hDQ0FHS0FJSUlRa2pBRUVRYXlJRkpBQWdCU0FJTmdJTUlBVWdDVFlDQ0NBRktBSUlJUTRnQlNnQ0RDRUpJd0JCRUdzaUNDUUFJQWdnQ1RZQ0RDTUFRUkJySUFnb0FndzJBZ3dnQ0VFUWFpUUFJQTVCMWFyVnFnRkxCRUFRT1FBTElBVW9BZ2hCREd4QkJCQkJJUWdnQlVFUWFpUUFJQVpCRUdva0FDQUlEQUVMUVFBTE5nSUFJQVFnQkNnQ0FDQUJLQUlRUVF4c2FpSUZOZ0lJSUFRZ0JUWUNCQ0FFS0FJQUlBRW9BaFJCREd4cUlRVWdCQkFkSUFVMkFnQWdBU2dDSEJvZ0FVRWdhaVFBSUFJb0FoUWhEeU1BUVJCcklnRWdBaWdDQ0RZQ0RDQVBJQUVvQWd3Z0FpZ0NHQkQ0QVNBQ0lBSW9BZ2hCREdvMkFnZ2pBRUVRYXlJRUpBQWdCQ0FITmdJTUlBUWdBallDQ0NBRUtBSU1JZ1VRK3dFZ0JSQVlJUVlnQlNnQ0FDRUhJQVVvQWdRaENDQUVLQUlJUVFScUlRa2pBRUVnYXlJQkpBQWdBU0FHTmdJY0lBRWdCellDR0NBQklBZzJBaFFnQVNBSk5nSVFJQUVnQVNnQ0ZDQUJLQUlZYTBFTWJUWUNEQ0FCS0FJUUlnWWdCaWdDQUNBQktBSU1RWFJzYWpZQ0FDQUJLQUlNUVFCS0JFQWdBU2dDRUNnQ0FDQUJLQUlZSUFFb0FneEJER3dRR3hvTElBRkJJR29rQUNBRklBUW9BZ2hCQkdvUUxTQUZRUVJxSUFRb0FnaEJDR29RTFNBRkVCZ2dCQ2dDQ0JBZEVDMGdCQ2dDQ0NBRUtBSUlLQUlFTmdJQUl3QkJFR3NpQmlJQklBVTJBZ3dnQVNnQ0RDSUJLQUlFSUFFb0FnQnJRUXh0SVFFZ0JpUUFJQVlnQlRZQ0RDQUdJQUUyQWdnZ0JpZ0NEQ0lCRUJraENDQUJFQmtnQVJCUFFReHNhaUVKSUFFUUdTQUJFRTlCREd4cUlRc2dBUkFaSUFZb0FnaEJER3hxSVF3akFFRWdheUlISUFFMkFod2dCeUFJTmdJWUlBY2dDVFlDRkNBSElBczJBaEFnQnlBTU5nSU1JQVpCRUdva0FDTUFRUkJySUFVMkFnd2dCRUVRYWlRQUl3QkJFR3NpQVNRQUlBRWdBallDQ0NBQklBRW9BZ2dpQkRZQ0RDTUFRUkJySWdna0FDQUlJQVEyQWd3Z0NDZ0NEQ0lGSVFZZ0JTZ0NCQ0VISXdCQkVHc2lCU1FBSUFVZ0JqWUNEQ0FGSUFjMkFnZ2dCU2dDRENFSElBVW9BZ2doQ1NNQVFSQnJJZ1lrQUNBR0lBYzJBZ1FnQmlBSk5nSUFJQVlvQWdRaEJ3TkFJQVlvQWdBZ0J5Z0NDRWNFUUNBSEVESWhDU0FISUFjb0FnaEJER3NpQ3pZQ0NDQUpJUkFqQUVFUWF5SUpJQXMyQWd3Z0VDQUpLQUlNRUVRTUFRc0xJQVpCRUdva0FDQUZRUkJxSkFBZ0NFRVFhaVFBSUFRb0FnQUVRQ0FFRURJaEV5QUVLQUlBSVJFakFFRVFheUlGSkFBZ0JTQUVOZ0lNSUFVb0Fnd2lCQkFkS0FJQUlBUW9BZ0JyUVF4dElRUWdCVUVRYWlRQUlCTWdFU0FFRVBvQkN5QUJLQUlNR2lBQlFSQnFKQUFnQWtFZ2FpUUFDeUFLUVJCcUpBQUxJQU1nQXlnQ1ZFRURhallDVkF3QkN5QURJQU1vQWxSQkFXbzJBbFFMREFFTEN5QURJQU5CNEFCcUlnRVFnd0kyQWpBZ0F5QUJFSUVDTmdJb0lBTkJNR29nQTBFb2FoQ0FBa0VCY1FSQUlBTW9BblFnQTBFd2FoQjhLQUlFYXlFQklBTkJNR29RZkNBQk5nSUlDeUFESUFOQjRBQnFOZ0lrSUFNZ0F5Z0NKQkQvQVRZQ0lDQURJQU1vQWlRUS9nRTJBaGdEUUNBRFFTQnFJQU5CR0dvUS9RRkJBWEVFUUNNQVFSQnJJZ0VnQTBFZ2FpSUNOZ0lNSUFNZ0FTZ0NEQ2dDQUNJQktBSUlOZ0lRSUFNZ0FTa0NBRGNEQ0NBRElBTW9BZ3dnQXlnQ0NHdEJBbW8yQWdRZ0F5QURLQUlRUVFKck5nSUFJQUFnQTBFRWFpQURFRkFqQUVFUWF5SUJJQUkyQWd3Z0FTZ0NEQ0lCSUFFb0FnQkJER28yQWdBTUFRc0xDeUFEUVFFNkFITWdBMEVCTmdKY0l3QkJFR3NpQkNRQUlBUWdBMEhnQUdvMkFnZ2dCQ0FFS0FJSUlnSTJBZ3dnQWhEN0FTQUNLQUlBQkVBakFFRVFheUlGSkFBZ0JTQUNOZ0lNSUFVb0Fnd2lBU0VLSUFFb0FnQWhCaU1BUVJCcklnRWtBQ0FCSUFvMkFnd2dBU0FHTmdJSUlBRWdBU2dDRENJS0tBSUVOZ0lFQTBBZ0FTZ0NDQ0FCS0FJRVJ3UkFJQW9RR0NFR0lBRWdBU2dDQkVFTWF5SUhOZ0lFSUFZaEVpTUFRUkJySWdZZ0J6WUNEQ0FTSUFZb0Fnd1FSQXdCQ3dzZ0NpQUJLQUlJTmdJRUlBRkJFR29rQUNBRlFSQnFKQUFnQWhBWUlBSW9BZ0FnQWhCUEVQb0JDeUFFS0FJTUdpQUVRUkJxSkFBZ0F5MEFjMEVCY1VVRVFDQUFFQ2NMSUFOQmdBRnFKQUFMb1FFQkFYOGpBRUVnYXlJREpBQWdBeUFBTmdJY0lBTWdBVFlDR0NBRElBSTJBaFFnQTBFQU9nQVRJQUFRTGlBREtBSVVJUUlqQUVFUWF5SUJJQU1vQWhnMkFnd2dBU0FDTmdJSUlBTkJDa0VESUFFb0Fnd3RBQUJCQVhGQmYzTkJBWEViTmdJTUlBTWdBeWdDRkNBREtBSU1hellDQ0NBQUlBTkJER29nQTBFSWFoQlFJQU5CQVRvQUV5QURMUUFUUVFGeFJRUkFJQUFRSndzZ0EwRWdhaVFBQzIwQkFYOGpBRUVnYXlJREpBQWdBeUFBTmdJY0lBTWdBVFlDR0NBRElBSTJBaFFnQTBFQU9nQVRJQUFRTGlBRFFRRTJBZ3dnQXlBREtBSVVRUUZyTmdJSUlBQWdBMEVNYWlBRFFRaHFFRkFnQTBFQk9nQVRJQU10QUJOQkFYRkZCRUFnQUJBbkN5QURRU0JxSkFBTHhBRUJBWDhqQUVFZ2F5SURKQUFnQXlBQU53TVFJQU1nQVRZQ0RDQURJQUkyQWdnQ1FBSkFJQU1vQWd3RVFDQURLQUlJUVFoUERRRUxJQU5CQURvQUh3d0JDd0pBUWN3ekxRQUFRUUZIQkVBZ0F5Z0NEQ0FES1FNUU53QUFEQUVMSUFOQkFEWUNCQU5BSUFNb0FnUkJDRWtFUUNBREtBSU1JQU1vQWdoQkFXc2dBeWdDQkNJQmEyb2dBeWtERUNBQlFRTjByWWc4QUFBZ0F5QURLQUlFUVFGcU5nSUVEQUVMQ3dzZ0EwRUJPZ0FmQ3lBRExRQWZRUUZ4SVFFZ0EwRWdhaVFBSUFFTEtRRUJmeU1BUVJCcklnRWtBQ0FCSUFBMkFnd2dBU2dDREVFUWFoQVdJUUFnQVVFUWFpUUFJQUFMeWdFQkJIOGpBRUVRYXlJREpBQWdBeUFBTmdJTUlBTW9BZ3doQVNNQVFSQnJJZ0FrQUNBQUlBRTJBZ3dnQUVFQU5nSUlJQUFnQUNnQ0RDSUJFQmNvQWdBMkFnUWdBQ2dDQ0NFQ0lBRVFGeUFDTmdJQUlBQW9BZ1FFUUNBQkVGSWhBaUFBS0FJRUlRUWpBRUVRYXlJQkpBQWdBU0FDTmdJTUlBRWdCRFlDQ0NBQktBSU1JZ0l0QUFSQkFYRUVRQ0FDS0FJQUlBRW9BZ2hCQ0dvUUxCQ09BZ3NnQVNnQ0NBUkFJQUlvQWdBZ0FTZ0NDQkIvQ3lBQlFSQnFKQUFMSUFCQkVHb2tBQ0FEUVJCcUpBQUxPQUVCZnlNQVFSQnJJZ0VnQURZQ0RFRUFJUUFnQVNnQ0RFRUNTd1IvSUFFb0Fnd2lBQ0FBUVFGcmNVRUFSMEYvY3dWQkFBdEJBWEVMS0FFQmZ5TUFRUkJySWdFa0FDQUJJQUEyQWd3Z0FTZ0NEQ0lBRUtvQkdpQUJRUkJxSkFBZ0FBdjlBUUVHZnlNQVFSQnJJZ1FrQUNBRUlBQTJBZ3dnQkNnQ0RDRUJJd0JCRUdzaUFDUUFJQUFnQVRZQ0RDQUFRUUEyQWdnZ0FDQUFLQUlNSWdFUUZ5Z0NBRFlDQkNBQUtBSUlJUUlnQVJBWElBSTJBZ0FnQUNnQ0JBUkFJQUVRRnlFQklBQW9BZ1FoQXlNQVFSQnJJZ0lrQUNBQ0lBRTJBZ3dnQWlBRE5nSUlJQUlvQWdnaUJRUkFJd0JCRUdzaUFTUUFJQUVnQlRZQ0NDQUJJQUVvQWdnaUF6WUNEQUpBSUFOQkVHb1FGa1VFUUNBQlFRRTJBZ1FNQVFzZ0EwRVFhaUlHRURFZ0JoQTNJQUZCQURZQ0JBc2dBMEVRYWhBYUlBRW9BZ3dhSUFGQkVHb2tBQ0FGRUNJTElBSkJFR29rQUFzZ0FFRVFhaVFBSUFSQkVHb2tBQXRqQVFGL0l3QkJJR3NpQWlRQUlBSWdBRFlDRkNBQ0lBRTJBaEFnQWlBQ0tBSVVJQUlvQWhBUWxBSTJBZ2dqQUVFUWF5SUFJQUlvQWdnMkFnZ2dBQ0FDUVJocU5nSUVJQUFvQWdRZ0FDZ0NDRFlDQUNBQ0tBSVlJUUFnQWtFZ2FpUUFJQUFMcGdJQkJIOGpBRUVRYXlJREpBQWdBeUFBTmdJTUlBTW9BZ3dpQkVFZ2FpRUFJd0JCRUdzaUFpUUFJQUlnQURZQ0RDQUNLQUlNSVFFakFFRVFheUlBSkFBZ0FDQUJOZ0lNSUFBb0Fnd2lBUkFkS0FJQUJFQWdBU0FCUVFocUVCY29BZ0FRaGdJZ0FVRUlhaEFYUVFBMkFnQWdBQ0FCRURRMkFnZ2dBRUVBTmdJRUEwQWdBQ2dDQkNBQUtBSUlTUVJBSUFFZ0FDZ0NCQkFqUVFBMkFnQWdBQ0FBS0FJRVFRRnFOZ0lFREFFTEN5QUJFQjFCQURZQ0FBc2dBRUVRYWlRQUlBSkJFR29rQUNNQVFSQnJJZ0FrQUNBQUlBUkJJR28yQWd3Z0FDZ0NEQ0VDSXdCQkVHc2lBU1FBSUFFZ0FqWUNEQ0FCS0FJTUlnSWdBa0VJYWhBWEtBSUFFSVlDSUFJUWp3SWdBVUVRYWlRQUlBQkJFR29rQUNBRUVLb0JHaUFEUVJCcUpBQWdCQXZXQVFFRWZ5TUFRUkJySWdJa0FDQUNJQUEyQWdnZ0FpQUJOZ0lFSUFJZ0FpZ0NDQ0lBTmdJTUlBQWdBaWdDQkNnQ0FEWUNBQ0FBSUFJb0FnUW9BZ1EyQWdRZ0FDZ0NCQVJBSUFBb0FnUWhBQ01BUVJCcklnRWtBQ0FCSUFBMkFnd2dBU2dDRENFQUl3QkJFR3NpQkNRQUlBUWdBRFlDRENNQVFSQnJJZ0FnQkNnQ0RFRUVhallDRENBQUtBSU1JUU1nQUVFQk5nSUlJQU1nQUNnQ0NDSUZJQU1vQWdBaUEybzJBZ0FnQUNBRElBVnFOZ0lFSUFBb0FnUWFJQVJCRUdva0FDQUJRUkJxSkFBTElBSW9BZ3dhSUFKQkVHb2tBQXQwQVFKL0l3QkJFR3NpQXlRQUlBTWdBRFlDRENBRElBRTJBZ2dnQXlBQ05nSUVJQU1vQWd3aEFTQURLQUlJSVFJZ0F5Z0NCQ0VFSXdCQkVHc2lBQ1FBSUFBZ0FUWUNEQ0FBSUFJMkFnZ2dBQ0FFTmdJRUlBQW9BZ2dnQUNnQ0JFRURkRUVFRUVNZ0FFRVFhaVFBSUFOQkVHb2tBQXZVQWdFRmZ5TUFRUkJySWdNa0FDQURJQUEyQWd3Z0F5Z0NEQ0lFUWR3eE5nSUFJd0JCRUdzaUFpUUFJQUlnQkVFSWFpSUZOZ0lNSUFJb0Fnd2hBU01BUVJCcklnQWtBQ0FBSUFFMkFnd2dBQ2dDRENJQkVCMG9BZ0FFUUNBQklBRkJDR29RRnlnQ0FCQ1FBaUFCUVFocUVCZEJBRFlDQUNBQUlBRVFORFlDQ0NBQVFRQTJBZ1FEUUNBQUtBSUVJQUFvQWdoSkJFQWdBU0FBS0FJRUVDTkJBRFlDQUNBQUlBQW9BZ1JCQVdvMkFnUU1BUXNMSUFFUUhVRUFOZ0lBQ3lBQVFSQnFKQUFnQWtFUWFpUUFJd0JCRUdzaUFDUUFJQUFnQkVFY2FpSUJOZ0lNSUFCQkFEWUNDQ0FBS0FJTVFRQVFrQUVnQUVFUWFpUUFJQUVRY3lNQVFSQnJJZ0FrQUNBQUlBVTJBZ3dnQUNnQ0RDRUNJd0JCRUdzaUFTUUFJQUVnQWpZQ0RDQUJLQUlNSWdJZ0FrRUlhaEFYS0FJQUVKQUNJQUlRandJZ0FVRVFhaVFBSUFCQkVHb2tBQ0FEUVJCcUpBQWdCQXRSQVFGL0l3QkJFR3NpQVNRQUlBRWdBRFlDRENBQklBRW9BZ3cyQWdnakFFRVFheUlBSUFFb0FnZzJBZ3dnQVNBQUtBSU1OZ0lFSUFFZ0FTZ0NCRFlDQUNBQktBSUFJUUFnQVVFUWFpUUFJQUFMaHdFQkFuOGpBRUVRYXlJQ0pBQWdBaUFBTmdJTUlBSWdBVFlDQ0NBQ0tBSU1JUUFnQWlnQ0NBUkFJQUFnQWlnQ0NDZ0NBQkNzQVNBQUlBSW9BZ2dvQWdRUXJBRWdBaUFBRUdBMkFnUWdBaWdDQkNFQUlBSW9BZ2hCRUdvUUxDRUJJd0JCRUdzaUF5QUFOZ0lNSUFNZ0FUWUNDQ0FDS0FJRUlBSW9BZ2dRc2dFTElBSkJFR29rQUF1SEFRRUNmeU1BUVJCcklnSWtBQ0FDSUFBMkFnd2dBaUFCTmdJSUlBSW9BZ3doQUNBQ0tBSUlCRUFnQUNBQ0tBSUlLQUlBRUswQklBQWdBaWdDQ0NnQ0JCQ3RBU0FDSUFBUVlEWUNCQ0FDS0FJRUlRQWdBaWdDQ0VFUWFoQXNJUUVqQUVFUWF5SURJQUEyQWd3Z0F5QUJOZ0lJSUFJb0FnUWdBaWdDQ0JDeUFRc2dBa0VRYWlRQUMxQUJBbjhqQUVFUWF5SUJKQUFnQVNBQU5nSUVJQUVvQWdRUVNDRUNJd0JCRUdzaUFDQUJRUWhxTmdJTUlBQWdBallDQ0NBQUtBSU1JQUFvQWdnMkFnQWdBU2dDQ0NFQUlBRkJFR29rQUNBQUMwb0JBWDhqQUVFUWF5SUNJQUEyQWd3Z0FpQUJOZ0lJSUFJb0Fnd2lBQ0FDS0FJSUtBSUFOZ0lBSUFBZ0FpZ0NDQ2dDQkRZQ0JDQUNLQUlJUVFBMkFnQWdBaWdDQ0VFQU5nSUVDdzBBSXdCQkVHc2dBRFlDREFBTDVBRUJBMzhqQUVFUWF5SURKQUFnQXlBQU5nSU1JQU1nQVRZQ0NDQURLQUlNSVFFZ0F5QURLQUlJRUVJMkFnUWdBeWdDQ0JBbUlRSWpBRUVRYXlJQUpBQWdBQ0FCTmdJTUlBQWdBMEVFYWpZQ0NDQUFJQUkyQWdRZ0FDZ0NDQ0VDSXdCQkVHc2lBU0FBS0FJTUlnUTJBZ3dnQVNBQ05nSUlJQUVvQWd3Z0FTZ0NDQ2dDQURZQ0FDQUFLQUlFSVFJakFFRVFheUlCSkFBZ0FTQUVOZ0lNSUFFZ0FqWUNDQ0FCS0FJSUlRUWpBRUVRYXlJQ0lBRW9BZ3cyQWd3Z0FpQUVOZ0lJSUFKQkFEWUNCQ0FDS0FJTUdpQUJRUkJxSkFBZ0FFRVFhaVFBSUFOQkVHb2tBQXQxQVFOL0l3QkJFR3NpQWlRQUlBSWdBRFlDRENBQ0lBRTJBZ2dnQWtFQk5nSUVJQUlvQWd3aEFTQUNLQUlJSVFNZ0FpZ0NCQ0VFSXdCQkVHc2lBQ1FBSUFBZ0FUWUNEQ0FBSUFNMkFnZ2dBQ0FFTmdJRUlBQW9BZ2dnQUNnQ0JFSG9BR3hCQkJCRElBQkJFR29rQUNBQ1FSQnFKQUFMandFQkFuOGpBRUVnYXlJQ0pBQWdBU2dDQUNFRElBRW9BZ1FoQVNBQ0lBQTJBaGdnQWlBQk5nSVVJQUlnQXpZQ0VDQUNRUkEyQWd3Z0FpZ0NHQ0VCSXdCQkVHc2lBQ0FDUVFocUlnTTJBZ3dnQUNRQUlBQWdBellDRENBQVFSQnFKQUFnQWlBQ0tBSU1OZ0ljUWJRbklBRkJBa0drS0VISUtDQUNLQUlNSUFKQkVHb1FWVUVBRUFRZ0FrRWdhaVFBQytzSkFRMS9Jd0JCRUdzaUFTUUFJQUZCc09rQU5nSU1JQUVvQWd3aEF5TUFRUkJySWdBa0FDQUFJQU0yQWd3Z0FFRUJOZ0lJSUFBb0Fnd2lBeUFBS0FJSU5nSUFJQU5CQURZQ0JDQUFLQUlJRVFrQUlBTkJoT3NBS0FJQU5nSUVRWVRyQUNBRE5nSUFJQUJCRUdva0FDQUJRUkJxSkFBakFFSFFBV3NpQUNRQUlBQkJHR29pQVVIVUswR3dBUkFiR2lBQUlBRTJBc2dCSUFCQkFqWUN6QUVnQUNBQUtRUElBVGNEQ0VHNDZRQWdBRUVJYWlBQVFSQnFFS2NDSUFCQjBBRnFKQUFqQUVHQUEyc2lBQ1FBSUFCQkdHb2lBVUdFTFVIZ0FoQWJHaUFBSUFFMkF2Z0NJQUJCQkRZQy9BSWdBQ0FBS1FQNEFqY0RDRUhFNlFBZ0FFRUlhaUFBUVJCcUVLY0NJQUJCZ0FOcUpBQWpBRUV3YXlJREpBQWdBMEhnTXlnQ0FEWUNJQ0FEUWRnektRSUFOd01ZSUFOQjBETXBBZ0EzQXhBZ0F5QURRUkJxTmdJb0lBTkJCVFlDTENBRElBTXBBeWczQXdnakFFRVFheUlISkFBZ0IwSFk2UUEyQWdnZ0J5QUhLQUlJSWdRMkFnd2dCRUVBTmdJQUlBUkJBRFlDQkNBSFFRQTJBZ1FnQkVFSWFpQUhRUVJxSUFjUXdBRWpBRUVRYXlBRU5nSU1Jd0JCRUdzaUFDQURRUWhxSWdVMkFnd2dBQ2dDRENnQ0JBUkFJd0JCRUdzaUFTSUFJQVUyQWd3Z0FDZ0NEQ2dDQkNFQUlBRWtBQ0FCSUFRMkFnd2dBU0FBTmdJSUlBRW9BZ2doRENBQktBSU1JUUFqQUVFUWF5SUNKQUFnQWlBQU5nSU1JQUlvQWd3UUdDRUlJd0JCRUdzaUJpUUFJQVlnQ0RZQ0RDTUFRUkJySUFZb0FndzJBZ3dnQmtFUWFpUUFJQUpCLy8vLy93TTJBZ2dnQWtILy8vLy9CellDQkNBQ1FRaHFJQUpCQkdvUVpDZ0NBQ0VHSUFKQkVHb2tBQ0FNSUFaTEJFQWdBQkJsQUFzZ0FDQUFFQmdnQVNnQ0NCQ0lBaUlDTmdJRUlBQWdBallDQUNBQUtBSUFJQUVvQWdoQkFuUnFJUUlnQUJBWUlBSTJBZ0FqQUVFUWF5SUNKQUFnQWlBQU5nSU1JQUpCQURZQ0NDQUNLQUlNSWdBUUdTRUlJQUFRR1NBQUVGNUJBblJxSVFrZ0FCQVpJQUFRWGtFQ2RHb2hDaUFBRUJrZ0FpZ0NDRUVDZEdvaEN5TUFRU0JySWdZZ0FEWUNIQ0FHSUFnMkFoZ2dCaUFKTmdJVUlBWWdDallDRUNBR0lBczJBZ3dnQWtFUWFpUUFJQUZCRUdva0FDTUFRUkJySWdBZ0JUWUNEQ0FBS0FJTUtBSUFJUUFqQUVFUWF5SUJJQVUyQWd3Z0FTZ0NEQ0lCS0FJQUlBRW9BZ1JCQW5ScUlRSWpBRUVRYXlJQklBVTJBZ3dnQVNnQ0RDZ0NCQ0VGSXdCQklHc2lBU1FBSUFFZ0JEWUNIQ0FCSUFBMkFoZ2dBU0FDTmdJVUlBRWdCVFlDRUNBQktBSWNJZ1FoQWlBQktBSVFJUVVqQUVFUWF5SUFJQUUyQWd3Z0FDQUNOZ0lJSUFBZ0JUWUNCQ0FBS0FJTUlnSWdBQ2dDQ0RZQ0FDQUNJQUFvQWdnb0FnUTJBZ1FnQWlBQUtBSUlLQUlFSUFBb0FnUkJBblJxTmdJSUlBUVFHQ0VDSUFFb0FoZ2hCQ0FCS0FJVUlRVWpBRUVnYXlJQUpBQWdBQ0FDTmdJY0lBQWdCRFlDR0NBQUlBVTJBaFFnQUNBQlFRUnFOZ0lRSUFBZ0FDZ0NGQ0FBS0FJWWEwRUNkVFlDRENBQUtBSU1RUUJLQkVBZ0FDZ0NFQ2dDQUNBQUtBSVlJQUFvQWd4QkFuUVFHeG9nQUNnQ0VDSUNJQUlvQWdBZ0FDZ0NERUVDZEdvMkFnQUxJQUJCSUdva0FDTUFRUkJySWdBZ0FUWUNEQ0FBS0FJTUlnQW9BZ0FnQUNnQ0JEWUNCQ0FCUVNCcUpBQUxJQWNvQWd3YUlBZEJFR29rQUNBRFFUQnFKQUJCaU9zQVFlTUFOZ0lBUVl6ckFFRUFOZ0lBRU0wQlFZenJBRUdFNndBb0FnQTJBZ0JCaE9zQVFZanJBRFlDQUF1ZkFRRUVmeU1BUVJCcklnSWtBQ0FDSUFBMkFnd2dBa0VCTmdJSUlBSW9BZ3doQVNBQ0tBSUlJUU1qQUVFUWF5SUFKQUFnQUNBQk5nSU1JQUFnQXpZQ0NDQUFLQUlJSVFRZ0FDZ0NEQ0VESXdCQkVHc2lBU1FBSUFFZ0F6WUNEQ01BUVJCcklBRW9BZ3cyQWd3Z0FVRVFhaVFBSUFSQjRzN1lFMHNFUUJBNUFBc2dBQ2dDQ0VIb0FHeEJCQkJCSVFFZ0FFRVFhaVFBSUFKQkVHb2tBQ0FCQytNSEFRTi9Jd0JCRUdzaUJDUUFJQVFnQURZQ0RDQUVJQUUyQWdnZ0JDQUNOZ0lFSUFRZ0F6WUNBQ0FFS0FJTUlRRWdCQ2dDQUVFQU5nSUFJQVFvQWdCQkFEWUNCQ0FFS0FJQUlBUW9BZ2cyQWdnZ0JDZ0NCQ0FFS0FJQU5nSUFJd0JCRUdzaUFDQUJOZ0lNSUFBb0Fnd29BZ0FvQWdBRVFDTUFRUkJySWdBZ0FUWUNEQ0FBS0FJTUtBSUFLQUlBSVFJZ0FDQUJOZ0lNSUFBb0Fnd2dBallDQUFzZ0FSQklLQUlBSVFJZ0JDZ0NCQ2dDQUNFREl3QkJFR3NpQUNRQUlBQWdBallDRENBQUlBTTJBZ2dnQUNnQ0NDSUNJQUlnQUNnQ0RFWTZBQXdEUUFKQUlBQW9BZ2dnQUNnQ0RFY0VmeU1BUVJCcklnSWdBQ2dDQ0RZQ0RDQUNLQUlNS0FJSUxRQU1RWDl6QlVFQUMwRUJjVVVOQUNNQVFSQnJJZ01pQWlFRklBTWdBQ2dDQ0RZQ0RDQUZJQU1vQWd3b0FnZzJBZ3dDUUNBQ0tBSU1JZ0lnQWlnQ0NDZ0NBRVlFUUNNQVFSQnJJZ01pQWlFR0lBTWdBQ2dDQ0RZQ0RDQUdJQU1vQWd3b0FnZzJBZ3dnQUNBQ0tBSU1LQUlJS0FJRU5nSUVBa0FDUUNBQUtBSUVSUTBBSUFBb0FnUXRBQXhCQVhFTkFDTUFRUkJySWdJZ0FDZ0NDRFlDRENBQUlBSW9BZ3dvQWdnMkFnZ2dBQ2dDQ0VFQk9nQU1JQUlnQUNnQ0NEWUNEQ0FBSUFJb0Fnd29BZ2cyQWdnZ0FDZ0NDQ0FBS0FJSUlBQW9BZ3hHT2dBTUlBQW9BZ1JCQVRvQURBd0JDeU1BUVJCcklnSWdBQ2dDQ0RZQ0RDQUNLQUlNSWdJZ0FpZ0NDQ2dDQUVjRVFDTUFRUkJySWdJZ0FDZ0NDRFlDRENBQUlBSW9BZ3dvQWdnMkFnZ2dBQ2dDQ0JDcUFnc2pBRUVRYXlJQ0lBQW9BZ2cyQWd3Z0FDQUNLQUlNS0FJSU5nSUlJQUFvQWdoQkFUb0FEQ0FDSUFBb0FnZzJBZ3dnQUNBQ0tBSU1LQUlJTmdJSUlBQW9BZ2hCQURvQURDQUFLQUlJRUtrQ0RBTUxEQUVMSXdCQkVHc2lBaUFBS0FJSU5nSU1JQUFnQWlnQ0RDZ0NDQ2dDQ0NnQ0FEWUNBQUpBQWtBZ0FDZ0NBRVVOQUNBQUtBSUFMUUFNUVFGeERRQWpBRUVRYXlJQ0lBQW9BZ2cyQWd3Z0FDQUNLQUlNS0FJSU5nSUlJQUFvQWdoQkFUb0FEQ0FDSUFBb0FnZzJBZ3dnQUNBQ0tBSU1LQUlJTmdJSUlBQW9BZ2dnQUNnQ0NDQUFLQUlNUmpvQURDQUFLQUlBUVFFNkFBd01BUXNqQUVFUWF5SUNJQUFvQWdnMkFnd2dBaWdDRENJQ0lBSW9BZ2dvQWdCR0JFQWpBRUVRYXlJQ0lBQW9BZ2cyQWd3Z0FDQUNLQUlNS0FJSU5nSUlJQUFvQWdnUXFRSUxJd0JCRUdzaUFpQUFLQUlJTmdJTUlBQWdBaWdDRENnQ0NEWUNDQ0FBS0FJSVFRRTZBQXdnQWlBQUtBSUlOZ0lNSUFBZ0FpZ0NEQ2dDQ0RZQ0NDQUFLQUlJUVFBNkFBd2dBQ2dDQ0JDcUFnd0NDd3NNQVFzTElBQkJFR29rQUNBQkVCZ2lBQ0FBS0FJQVFRRnFOZ0lBSUFSQkVHb2tBQXY1QlFFSGZ5TUFRVUJxSWdFa0FDQUJJQUEyQWpnZ0FTZ0NPQ0lBUVF4cUVCWWhBaUFBRUVraEF5QUFRUVJxRUJZaEJDQUFLQUlJSVFVZ0FVRUFOZ0l3UWJqcEFDQUJRVEJxRUNraEJpQUJRUUEyQWl3Z0FTQUNJQUJCRUdvZ0F5QUVJQVVnQmtHNDZRQWdBVUVzYWhBcEtBSlFFTnNCTmdJMEFrQWdBU2dDTkVVRVFDQUJRUUE2QUQ4TUFRc2dBRUVVYWhBV0lRSWdBQ2dDR0NFRElBQVFTU0VFSUFCQkRHb1FGaUVGSUFBb0FoQWhCaUFCUVFBMkFpaEJ4T2tBSUFGQktHb1FLU0VISUFGQkFEWUNKQ0FCSUFJZ0F5QUVJQVVnQmlBSFFjVHBBQ0FCUVNScUVDa29BbEFRY0RZQ05DQUJLQUkwUlFSQUlBRkJBRG9BUHd3QkN5QUFRUnhxRUJZaEFpQUFLQUlnSVFNZ0FCQkpJUVFnQUVFTWFoQVdJUVVnQUNnQ0VDRUdJQUZCQVRZQ0lFSEU2UUFnQVVFZ2FoQXBJUWNnQVVFQk5nSWNJQUVnQWlBRElBUWdCU0FHSUFkQnhPa0FJQUZCSEdvUUtTZ0NVQkJ3TmdJMElBRW9BalJGQkVBZ0FVRUFPZ0EvREFFTElBQW9BandFUUNBQlFRRTZBRDhNQVFzZ0FFRWthaEFXSVFJZ0FCQkpJUU1nQUVFVWFoQVdJUVFnQUNnQ0dDRUZJQUZCQVRZQ0dFRzQ2UUFnQVVFWWFoQXBJUVlnQVVFQk5nSVVJQUVnQWlBQVFTaHFJQU1nQkNBRklBWkJ1T2tBSUFGQkZHb1FLU2dDVUJEYkFUWUNOQ0FCS0FJMFJRUkFJQUZCQURvQVB3d0JDeUFBUVN4cUVCWWhBaUFBS0FJd0lRTWdBQkJKSVFRZ0FFRWthaEFXSVFVZ0FDZ0NLQ0VHSUFGQkFqWUNFRUhFNlFBZ0FVRVFhaEFwSVFjZ0FVRUNOZ0lNSUFFZ0FpQURJQVFnQlNBR0lBZEJ4T2tBSUFGQkRHb1FLU2dDVUJCd05nSTBJQUVvQWpSRkJFQWdBVUVBT2dBL0RBRUxJQUJCTkdvUUZpRUNJQUFvQWpnaEF5QUFFRWtoQkNBQVFTUnFFQlloQlNBQUtBSW9JUUFnQVVFRE5nSUlRY1RwQUNBQlFRaHFFQ2toQmlBQlFRTTJBZ1FnQVNBQ0lBTWdCQ0FGSUFBZ0JrSEU2UUFnQVVFRWFoQXBLQUpRRUhBMkFqUWdBU2dDTkVVRVFDQUJRUUE2QUQ4TUFRc2dBVUVCT2dBL0N5QUJMUUEvUVFGeElRQWdBVUZBYXlRQUlBQUxNQUVCZnlNQVFSQnJJZ0lrQUNBQ0lBQTJBZ3dnQWlBQk5nSUlJQUlvQWdnaUFBUkFJQUFRSWdzZ0FrRVFhaVFBQzBFQkFuOGpBRUVRYXlJQklBQTJBZ3dnQVNnQ0RDRUFJQUZCZnpZQ0NDQUFJQUVvQWdnaUFpQUFLQUlBSWdCcU5nSUFJQUVnQUNBQ2FqWUNCQ0FCS0FJRUMrY0RBUUYvSXdCQjRBQnJJZ3NrQUNBTElBQTJBbGdnQ3lBQk5nSlVJQXNnQWpZQ1VDQUxJQU0yQWt3Z0N5QUVOZ0pJSUFzZ0JUWUNSQ0FMSUFZMkFrQWdDeUFITmdJOElBc2dDRFlDT0NBTElBazJBalFnQ3lBS05nSXdJQXRCQ0JBZk5nSW9JQXMxQWpnZ0MwRW9haEFXUVFnUW9BRWFJQXRCQ0JBZk5nSWdJQXMxQWpBZ0MwRWdhaEFXUVFnUW9BRWFJQXNRM0FFMkFod2dDeUFMS0FJd0lBc29BamdnQ3lnQ1FFRVFhbXBxTmdJWUlBc2dDeWdDR0JBZk5nSVFJQXRCRUdvUUZpQUxRU2hxRUJZcEFBQTNBQUFnQzBFUWFoQVdJQXRCSUdvUUZpa0FBRGNBQ0NBTFFSQnFFQlpCRUdvZ0N5Z0NSQ0FMS0FKQUVCc2FJQXRCRUdvUUZrRVFhaUFMS0FKQWFpQUxLQUk4SUFzb0FqZ1FHeG9nQzBFUWFoQVdRUkJxSUFzb0FrQnFJQXNvQWpocUlBc29BalFnQ3lnQ01CQWJHaU1BUVJCcklnQWdDeWdDSERZQ0RDQUxJQUFvQWd3b0FnUVFIellDQ0FKQUlBc29BaHdnQ3lnQ1RDQUxLQUpJSUF0QkVHb1FGaUFMS0FJWUlBdEJDR29RRmlBTFFReHFFTm9CUlFSQUlBdEJBRG9BWHd3QkN5QUxLQUpVSUF0QkNHb1FGaUFMS0FKUUVCc2FJQXRCQVRvQVh3c2dDMEVCTmdJRUlBdEJDR29RR2lBTFFSQnFFQm9nQzBFZ2FoQWFJQXRCS0dvUUdpQUxMUUJmUVFGeElRQWdDMEhnQUdva0FDQUFDd1FBUVFBTE53RUJmeU1BUVJCcklnTWdBRFlDRENBRElBRTJBZ2dnQXlBQ05nSUVJQU1vQWd3aUFDQURLQUlJTmdJQUlBQWdBeWdDQkRZQ0JBc2xBUUYvSXdCQkVHc2lBU1FBSUFFZ0FEWUNEQ0FCS0FJTUtBSUFFQXdnQVVFUWFpUUFDekVCQVg4akFFRVFheUlCSkFBZ0FTQUFOZ0lNSUFFb0Fnd29BZ0FRRFNBQktBSU1LQUlBSVFBZ0FVRVFhaVFBSUFBTFNRRUJmeU1BUVJCcklnSWtBQ0FDSUFBMkFnd2dBaUFCTmdJSUlBSW9BZ2doQVNNQVFSQnJJZ0FnQWlnQ0REWUNEQ0FBSUFFMkFnZ2dBQ2dDQ0VFQU9nQUFJQUpCRUdva0FBdFhBUUYvSXdCQkVHc2lBeVFBSUFNZ0FEWUNEQ0FESUFFMkFnZ2dBeUFDTmdJRUlBTW9BZ2doQVNNQVFSQnJJZ0FnQXlnQ0RDSUNOZ0lNSUFBZ0FUWUNDQ0FBS0FJTVFRQTJBZ0FnQWhDS0FTQURRUkJxSkFBTFVRRUJmeU1BUVNCcklnTWtBQ0FESUFBMkFod2dBeUFCTmdJWUlBTWdBallDRkNNQVFSQnJJZ0FnQXlnQ0hDSUJOZ0lFSUFBb0FnUkJBRFlDQUNBQUlBRTJBZ1FnQUNnQ0JCb2dBMEVnYWlRQUMwQUJBWDhqQUVFUWF5SUNKQUFnQWlBQU5nSU1JQUlnQVRZQ0NDQUNLQUlNSWdBZ0FpZ0NDQkJDRUpBQklBSW9BZ2dRSmhvZ0FCQVhHaUFDUVJCcUpBQUxUQUVCZndKQUlBRkZEUUFnQVVHQTVBQVFLeUlCUlEwQUlBRW9BZ2dnQUNnQ0NFRi9jM0VOQUNBQUtBSU1JQUVvQWd4QkFCQWdSUTBBSUFBb0FoQWdBU2dDRUVFQUVDQWhBZ3NnQWd0U0FRRi9JQUFvQWdRaEJDQUFLQUlBSWdBZ0FRSi9RUUFnQWtVTkFCb2dCRUVJZFNJQklBUkJBWEZGRFFBYUlBRWdBaWdDQUdvb0FnQUxJQUpxSUFOQkFpQUVRUUp4R3lBQUtBSUFLQUljRVFjQUN3b0FJQUFnQVVFQUVDQUxBd0FCQ3dNQUFBc0VBQ0FBQzVRQkFRUi9Jd0JCRUdzaUJpUUFJd0JCRUdzaUF5UUFJQUVnQUd0QkFuVWhBUU5BSUFFRVFDQURJQUEyQWd3akFFRVFheUlFSUFGQkFYWWlCVFlDRENBRUtBSU1JUVFnQXlBREtBSU1JQVJCQW5ScU5nSU1JQUVnQlVGL2Myb2dCU0FES0FJTUlnVW9BZ0FnQWlnQ0FFa2lCQnNoQVNBRlFRUnFJQUFnQkJzaEFBd0JDd3NnQTBFUWFpUUFJQVpCRUdva0FDQUFDNjBNQVFaL0l3QkJFR3NpQkNRQUlBUWdBRFlDREFKQUlBQkIwd0ZOQkVCQjBOMEFRWkRmQUNBRVFReHFFTWtCS0FJQUlRSU1BUXNnQUVGOFR3UkFFQU1BQ3lBRUlBQWdBRUhTQVc0aUJrSFNBV3dpQW1zMkFnaEJrTjhBUWREZ0FDQUVRUWhxRU1rQlFaRGZBR3RCQW5VaEJRTkFJQVZCQW5SQmtOOEFhaWdDQUNBQ2FpRUNRUVVoQUFOQUFrQWdBRUV2UmdSQVFkTUJJUUFEUUNBQ0lBQnVJZ0VnQUVrTkJTQUNJQUFnQVd4R0RRSWdBaUFBUVFwcUlnRnVJZ01nQVVrTkJTQUNJQUVnQTJ4R0RRSWdBaUFBUVF4cUlnRnVJZ01nQVVrTkJTQUNJQUVnQTJ4R0RRSWdBaUFBUVJCcUlnRnVJZ01nQVVrTkJTQUNJQUVnQTJ4R0RRSWdBaUFBUVJKcUlnRnVJZ01nQVVrTkJTQUNJQUVnQTJ4R0RRSWdBaUFBUVJacUlnRnVJZ01nQVVrTkJTQUNJQUVnQTJ4R0RRSWdBaUFBUVJ4cUlnRnVJZ01nQVVrTkJTQUNJQUVnQTJ4R0RRSWdBaUFBUVI1cUlnRnVJZ01nQVVrTkJTQUNJQUVnQTJ4R0RRSWdBaUFBUVNScUlnRnVJZ01nQVVrTkJTQUNJQUVnQTJ4R0RRSWdBaUFBUVNocUlnRnVJZ01nQVVrTkJTQUNJQUVnQTJ4R0RRSWdBaUFBUVNwcUlnRnVJZ01nQVVrTkJTQUNJQUVnQTJ4R0RRSWdBaUFBUVM1cUlnRnVJZ01nQVVrTkJTQUNJQUVnQTJ4R0RRSWdBaUFBUVRScUlnRnVJZ01nQVVrTkJTQUNJQUVnQTJ4R0RRSWdBaUFBUVRwcUlnRnVJZ01nQVVrTkJTQUNJQUVnQTJ4R0RRSWdBaUFBUVR4cUlnRnVJZ01nQVVrTkJTQUNJQUVnQTJ4R0RRSWdBaUFBUWNJQWFpSUJiaUlESUFGSkRRVWdBaUFCSUFOc1JnMENJQUlnQUVIR0FHb2lBVzRpQXlBQlNRMEZJQUlnQVNBRGJFWU5BaUFDSUFCQnlBQnFJZ0Z1SWdNZ0FVa05CU0FDSUFFZ0EyeEdEUUlnQWlBQVFjNEFhaUlCYmlJRElBRkpEUVVnQWlBQklBTnNSZzBDSUFJZ0FFSFNBR29pQVc0aUF5QUJTUTBGSUFJZ0FTQURiRVlOQWlBQ0lBQkIyQUJxSWdGdUlnTWdBVWtOQlNBQ0lBRWdBMnhHRFFJZ0FpQUFRZUFBYWlJQmJpSURJQUZKRFFVZ0FpQUJJQU5zUmcwQ0lBSWdBRUhrQUdvaUFXNGlBeUFCU1EwRklBSWdBU0FEYkVZTkFpQUNJQUJCNWdCcUlnRnVJZ01nQVVrTkJTQUNJQUVnQTJ4R0RRSWdBaUFBUWVvQWFpSUJiaUlESUFGSkRRVWdBaUFCSUFOc1JnMENJQUlnQUVIc0FHb2lBVzRpQXlBQlNRMEZJQUlnQVNBRGJFWU5BaUFDSUFCQjhBQnFJZ0Z1SWdNZ0FVa05CU0FDSUFFZ0EyeEdEUUlnQWlBQVFmZ0FhaUlCYmlJRElBRkpEUVVnQWlBQklBTnNSZzBDSUFJZ0FFSCtBR29pQVc0aUF5QUJTUTBGSUFJZ0FTQURiRVlOQWlBQ0lBQkJnZ0ZxSWdGdUlnTWdBVWtOQlNBQ0lBRWdBMnhHRFFJZ0FpQUFRWWdCYWlJQmJpSURJQUZKRFFVZ0FpQUJJQU5zUmcwQ0lBSWdBRUdLQVdvaUFXNGlBeUFCU1EwRklBSWdBU0FEYkVZTkFpQUNJQUJCamdGcUlnRnVJZ01nQVVrTkJTQUNJQUVnQTJ4R0RRSWdBaUFBUVpRQmFpSUJiaUlESUFGSkRRVWdBaUFCSUFOc1JnMENJQUlnQUVHV0FXb2lBVzRpQXlBQlNRMEZJQUlnQVNBRGJFWU5BaUFDSUFCQm5BRnFJZ0Z1SWdNZ0FVa05CU0FDSUFFZ0EyeEdEUUlnQWlBQVFhSUJhaUlCYmlJRElBRkpEUVVnQWlBQklBTnNSZzBDSUFJZ0FFR21BV29pQVc0aUF5QUJTUTBGSUFJZ0FTQURiRVlOQWlBQ0lBQkJxQUZxSWdGdUlnTWdBVWtOQlNBQ0lBRWdBMnhHRFFJZ0FpQUFRYXdCYWlJQmJpSURJQUZKRFFVZ0FpQUJJQU5zUmcwQ0lBSWdBRUd5QVdvaUFXNGlBeUFCU1EwRklBSWdBU0FEYkVZTkFpQUNJQUJCdEFGcUlnRnVJZ01nQVVrTkJTQUNJQUVnQTJ4R0RRSWdBaUFBUWJvQmFpSUJiaUlESUFGSkRRVWdBaUFCSUFOc1JnMENJQUlnQUVHK0FXb2lBVzRpQXlBQlNRMEZJQUlnQVNBRGJFWU5BaUFDSUFCQndBRnFJZ0Z1SWdNZ0FVa05CU0FDSUFFZ0EyeEdEUUlnQWlBQVFjUUJhaUlCYmlJRElBRkpEUVVnQWlBQklBTnNSZzBDSUFJZ0FFSEdBV29pQVc0aUF5QUJTUTBGSUFJZ0FTQURiRVlOQWlBQ0lBQkIwQUZxSWdGdUlnTWdBVWtOQlNBQVFkSUJhaUVBSUFJZ0FTQURiRWNOQUFzTUFRc2dBaUFBUVFKMFFkRGRBR29vQWdBaUFXNGlBeUFCU1EwRElBQkJBV29oQUNBQ0lBRWdBMnhIRFFFTEMwRUFJQVZCQVdvaUFDQUFRVEJHSWdBYklRVWdBQ0FHYWlJR1FkSUJiQ0VDREFBTEFBc2dCRUVRYWlRQUlBSUxpUXdCQm44Z0FDQUJhaUVGQWtBQ1FDQUFLQUlFSWdKQkFYRU5BQ0FDUVFOeFJRMEJJQUFvQWdBaUFpQUJhaUVCQWtBZ0FDQUNheUlBUWJUd0FDZ0NBRWNFUUNBQ1FmOEJUUVJBSUFBb0FnZ2lCQ0FDUVFOMklnSkJBM1JCeVBBQWFrWWFJQUFvQWd3aUF5QUVSdzBDUWFEd0FFR2c4QUFvQWdCQmZpQUNkM0UyQWdBTUF3c2dBQ2dDR0NFR0FrQWdBQ0FBS0FJTUlnSkhCRUFnQUNnQ0NDSURRYkR3QUNnQ0FFa2FJQU1nQWpZQ0RDQUNJQU0yQWdnTUFRc0NRQ0FBUVJScUlnUW9BZ0FpQXcwQUlBQkJFR29pQkNnQ0FDSUREUUJCQUNFQ0RBRUxBMEFnQkNFSElBTWlBa0VVYWlJRUtBSUFJZ01OQUNBQ1FSQnFJUVFnQWlnQ0VDSUREUUFMSUFkQkFEWUNBQXNnQmtVTkFnSkFJQUFvQWh3aUJFRUNkRUhROGdCcUlnTW9BZ0FnQUVZRVFDQURJQUkyQWdBZ0FnMEJRYVR3QUVHazhBQW9BZ0JCZmlBRWQzRTJBZ0FNQkFzZ0JrRVFRUlFnQmlnQ0VDQUFSaHRxSUFJMkFnQWdBa1VOQXdzZ0FpQUdOZ0lZSUFBb0FoQWlBd1JBSUFJZ0F6WUNFQ0FESUFJMkFoZ0xJQUFvQWhRaUEwVU5BaUFDSUFNMkFoUWdBeUFDTmdJWURBSUxJQVVvQWdRaUFrRURjVUVEUncwQlFhandBQ0FCTmdJQUlBVWdBa0YrY1RZQ0JDQUFJQUZCQVhJMkFnUWdCU0FCTmdJQUR3c2dCQ0FETmdJTUlBTWdCRFlDQ0FzQ1FDQUZLQUlFSWdKQkFuRkZCRUJCdVBBQUtBSUFJQVZHQkVCQnVQQUFJQUEyQWdCQnJQQUFRYXp3QUNnQ0FDQUJhaUlCTmdJQUlBQWdBVUVCY2pZQ0JDQUFRYlR3QUNnQ0FFY05BMEdvOEFCQkFEWUNBRUcwOEFCQkFEWUNBQThMUWJUd0FDZ0NBQ0FGUmdSQVFiVHdBQ0FBTmdJQVFhandBRUdvOEFBb0FnQWdBV29pQVRZQ0FDQUFJQUZCQVhJMkFnUWdBQ0FCYWlBQk5nSUFEd3NnQWtGNGNTQUJhaUVCQWtBZ0FrSC9BVTBFUUNBRktBSUlJZ1FnQWtFRGRpSUNRUU4wUWNqd0FHcEdHaUFFSUFVb0Fnd2lBMFlFUUVHZzhBQkJvUEFBS0FJQVFYNGdBbmR4TmdJQURBSUxJQVFnQXpZQ0RDQURJQVEyQWdnTUFRc2dCU2dDR0NFR0FrQWdCU0FGS0FJTUlnSkhCRUFnQlNnQ0NDSURRYkR3QUNnQ0FFa2FJQU1nQWpZQ0RDQUNJQU0yQWdnTUFRc0NRQ0FGUVJScUlnTW9BZ0FpQkEwQUlBVkJFR29pQXlnQ0FDSUVEUUJCQUNFQ0RBRUxBMEFnQXlFSElBUWlBa0VVYWlJREtBSUFJZ1FOQUNBQ1FSQnFJUU1nQWlnQ0VDSUVEUUFMSUFkQkFEWUNBQXNnQmtVTkFBSkFJQVVvQWh3aUJFRUNkRUhROGdCcUlnTW9BZ0FnQlVZRVFDQURJQUkyQWdBZ0FnMEJRYVR3QUVHazhBQW9BZ0JCZmlBRWQzRTJBZ0FNQWdzZ0JrRVFRUlFnQmlnQ0VDQUZSaHRxSUFJMkFnQWdBa1VOQVFzZ0FpQUdOZ0lZSUFVb0FoQWlBd1JBSUFJZ0F6WUNFQ0FESUFJMkFoZ0xJQVVvQWhRaUEwVU5BQ0FDSUFNMkFoUWdBeUFDTmdJWUN5QUFJQUZCQVhJMkFnUWdBQ0FCYWlBQk5nSUFJQUJCdFBBQUtBSUFSdzBCUWFqd0FDQUJOZ0lBRHdzZ0JTQUNRWDV4TmdJRUlBQWdBVUVCY2pZQ0JDQUFJQUZxSUFFMkFnQUxJQUZCL3dGTkJFQWdBVUY0Y1VISThBQnFJUUlDZjBHZzhBQW9BZ0FpQTBFQklBRkJBM1owSWdGeFJRUkFRYUR3QUNBQklBTnlOZ0lBSUFJTUFRc2dBaWdDQ0FzaEFTQUNJQUEyQWdnZ0FTQUFOZ0lNSUFBZ0FqWUNEQ0FBSUFFMkFnZ1BDMEVmSVFRZ0FVSC8vLzhIVFFSQUlBRkJDSFlpQWlBQ1FZRCtQMnBCRUhaQkNIRWlCSFFpQWlBQ1FZRGdIMnBCRUhaQkJIRWlBM1FpQWlBQ1FZQ0FEMnBCRUhaQkFuRWlBblJCRDNZZ0F5QUVjaUFDY21zaUFrRUJkQ0FCSUFKQkZXcDJRUUZ4Y2tFY2FpRUVDeUFBSUFRMkFod2dBRUlBTndJUUlBUkJBblJCMFBJQWFpRUhBa0FDUUVHazhBQW9BZ0FpQTBFQklBUjBJZ0p4UlFSQVFhVHdBQ0FDSUFOeU5nSUFJQWNnQURZQ0FDQUFJQWMyQWhnTUFRc2dBVUVaSUFSQkFYWnJRUUFnQkVFZlJ4dDBJUVFnQnlnQ0FDRUNBMEFnQWlJREtBSUVRWGh4SUFGR0RRSWdCRUVkZGlFQ0lBUkJBWFFoQkNBRElBSkJCSEZxSWdkQkVHb29BZ0FpQWcwQUN5QUhJQUEyQWhBZ0FDQUROZ0lZQ3lBQUlBQTJBZ3dnQUNBQU5nSUlEd3NnQXlnQ0NDSUJJQUEyQWd3Z0F5QUFOZ0lJSUFCQkFEWUNHQ0FBSUFNMkFnd2dBQ0FCTmdJSUN3dlVCQU1CZndaOEFuNGdBTDBpQ0VJd2lLY2hBU0FJUW9DQWdJQ0FnSUQzUDMxQy8vLy8vLytmd2dGWUJFQWdDRUtBZ0lDQWdJQ0ErRDlSQkVCRUFBQUFBQUFBQUFBUEN5QUFSQUFBQUFBQUFQQy9vQ0lBSUFBZ0FFUUFBQUFBQUFDZ1FhSWlBcUFnQXFFaUFpQUNva0h3UENzREFDSUZvaUlHb0NJSElBQWdBQ0FBb2lJRG9pSUVJQVFnQkNBRVFjQTlLd01Bb2lBRFFiZzlLd01Bb2lBQVFiQTlLd01Bb2tHb1BTc0RBS0Nnb0tJZ0EwR2dQU3NEQUtJZ0FFR1lQU3NEQUtKQmtEMHJBd0Nnb0tDaUlBTkJpRDByQXdDaUlBQkJnRDByQXdDaVFmZzhLd01Bb0tDZ29pQUFJQUtoSUFXaUlBQWdBcUNpSUFZZ0FDQUhvYUNnb0tBUEN3SkFJQUZCOFA4QmEwR2ZnSDVOQkVBZ0NFTC8vLy8vLy8vLy8vOEFnMUFFUUNNQVFSQnJJZ0ZFQUFBQUFBQUE4TDg1QXdnZ0FTc0RDRVFBQUFBQUFBQUFBS01QQ3lBSVFvQ0FnSUNBZ0lENC93QlJEUUVnQVVHQWdBSnhSU0FCUWZEL0FYRkI4UDhCUjNGRkJFQWdBQ0FBb1NJQUlBQ2pEd3NnQUVRQUFBQUFBQUF3UTZLOVFvQ0FnSUNBZ0lDZ0EzMGhDQXNnQ0VLQWdJQ0FnSUNBOHo5OUlnbENOSWVudHlJRFFiZzhLd01Bb2lBSlFpMklwMEgvQUhGQkJIUWlBVUhRUFdvckF3Q2dJZ1FnQVVISVBXb3JBd0FnQ0NBSlFvQ0FnSUNBZ0lCNGczMi9JQUZCeU0wQWFpc0RBS0VnQVVIUXpRQnFLd01Bb2FJaUFLQWlCU0FBSUFBZ0FLSWlBcUlnQWlBQVFlZzhLd01Bb2tIZ1BDc0RBS0NpSUFCQjJEd3JBd0NpUWRBOEt3TUFvS0NpSUFKQnlEd3JBd0NpSUFOQndEd3JBd0NpSUFBZ0JDQUZvYUNnb0tDZ0lRQUxJQUFMNGdNQVFlRGtBRUhJRUJBVFFmamtBRUdmREVFQlFRRkJBQkFTUVlUbEFFSFBDMEVCUVlCL1FmOEFFQUpCbk9VQVFjZ0xRUUZCZ0g5Qi93QVFBa0dRNVFCQnhndEJBVUVBUWY4QkVBSkJxT1VBUWR3SlFRSkJnSUIrUWYvL0FSQUNRYlRsQUVIVENVRUNRUUJCLy84REVBSkJ3T1VBUVpZS1FRUkJnSUNBZ0hoQi8vLy8vd2NRQWtITTVRQkJqUXBCQkVFQVFYOFFBa0hZNVFCQm9BNUJCRUdBZ0lDQWVFSC8vLy8vQnhBQ1FlVGxBRUdYRGtFRVFRQkJmeEFDUWZEbEFFSHVDa0VJUW9DQWdJQ0FnSUNBZ0g5Qy8vLy8vLy8vLy8vL0FCQUxRZnpsQUVIdENrRUlRZ0JDZnhBTFFZam1BRUhuQ2tFRUVBcEJsT1lBUWE0UVFRZ1FDa0gwTmtHeURoQUpRYnczUWNZZEVBbEJoRGhCQkVHbERoQUhRZEE0UVFKQnZnNFFCMEdjT1VFRVFjME9FQWRCd0NoQnBBd1FFVUhFT1VFQVFZRWRFQUZCN0RsQkFFSG5IUkFCUWV3b1FRRkJueDBRQVVHVU9rRUNRWkVhRUFGQnZEcEJBMEd3R2hBQlFlUTZRUVJCMkJvUUFVR01PMEVGUWZVYUVBRkJ0RHRCQkVHTUhoQUJRZHc3UVFWQnFoNFFBVUhzT1VFQVFkc2JFQUZCN0NoQkFVRzZHeEFCUVpRNlFRSkJuUndRQVVHOE9rRURRZnNiRUFGQjVEcEJCRUhnSEJBQlFZdzdRUVZCdmh3UUFVR0VQRUVHUVpzYkVBRkJyRHhCQjBIUkhoQUJDelFCQVg4akFFRVFheUlCSkFBZ0FTQUFOZ0lNSUFFb0Fnd0VRQ0FCS0FJTUtBSUVFQ2dnQVNnQ0RCQW9DeUFCUVJCcUpBQUxPQUVCZnlNQVFSQnJJZ0VrQUNBQklBQTJBZ3dnQVNnQ0RDZ0NFRVVFUUNBQktBSU1LQUlFRUNnTElBRW9BZ3dRS0NBQlFSQnFKQUFMZkFFRGZ5TUFRUkJySWdJa0FDQUNJQUEyQWd3Z0FpQUJOZ0lJSUFJZ0FpZ0NEQ0lBS0FJRU5nSUVBMEFnQWlnQ0NDQUNLQUlFUndSQUlBQVFHQ0VCSUFJZ0FpZ0NCRUVCYXlJRE5nSUVJQUVoQkNNQVFSQnJJZ0VnQXpZQ0RDQUVJQUVvQWd3UVJBd0JDd3NnQUNBQ0tBSUlOZ0lFSUFKQkVHb2tBQXV5QWdFQmZ5TUFRU0JySWdJa0FDQUNJQUEyQWh3Z0FpQUJOZ0lZSUFJZ0FpZ0NHRUVDZERZQ0JBSkFJQUlvQWhnZ0FpZ0NCRUVDZGtjTkFDQUNJQUlvQWdRUVZ6WUNGQ0FDS0FJVVJRMEFJQUlvQWhSQkFDQUNLQUlFRUNFZ0FrRUFOZ0lJQTBBZ0FpZ0NDQ0FDS0FJY0tBSUlUMFVFUUNBQ0lBSW9BaHdvQWdRZ0FpZ0NDRUVDZEdvb0FnQTJBaEFEUUNBQ0tBSVFCRUFnQWlBQ0tBSVFLQUlJSUFJb0FoaHdOZ0lBSUFJZ0FpZ0NFQ2dDQkRZQ0RDQUNLQUlRSUFJb0FoUWdBaWdDQUVFQ2RHb29BZ0EyQWdRZ0FpZ0NGQ0FDS0FJQVFRSjBhaUFDS0FJUU5nSUFJQUlnQWlnQ0REWUNFQXdCQ3dzZ0FpQUNLQUlJUVFGcU5nSUlEQUVMQ3lBQ0tBSWNLQUlFRUNnZ0FpZ0NIQ0FDS0FJWU5nSUlJQUlvQWh3Z0FpZ0NGRFlDQkFzZ0FrRWdhaVFBQytRQkFRRi9Jd0JCSUdzaUJDUUFJQVFnQURZQ0hDQUVRUUEyQWhnZ0JDQUJOZ0lVSUFRZ0FqWUNFQ0FFSUFNMkFnd2dCQ0FFS0FJY0tBSVVJQVFvQWhRZ0JDZ0NFQkVFQURZQ0NDQUVLQUlZQkVBZ0JDZ0NHQ0FFS0FJSU5nSUFDeUFFSUFRb0Fod2lBQ2dDQkNBRUtBSUlJQUFvQWdod1FRSjBhallDQkNBRUlBUW9BZ1FvQWdBMkFnQURRQUpBSUFRb0FnQkZEUUFnQkNnQ0hDZ0NFQ0FFS0FJQUtBSUFJQVFvQWhRZ0JDZ0NEQkVGQUVVTkFDQUVJQVFvQWdCQkJHbzJBZ1FnQkNBRUtBSUVLQUlBTmdJQURBRUxDeUFFS0FJRUlRQWdCRUVnYWlRQUlBQUw2Z1lCQkg4akFFSFFBR3NpQVNRQUlBRWdBRFlDVENBQklBRW9Ba3dvQWdBMkFrZ2dBU0FCS0FKTUtBSUVOZ0pFSUFFZ0FTZ0NUQ2dDQ0RZQ1FDQUJJQUVvQWt3b0FndzJBandnQVNBQktBSk1LQUlRTmdJNElBRWdBU2dDVENnQ0ZEWUNOQ0FCSUFFb0Frd29BaGcyQWpBZ0FTQUJLQUpNS0FJY05nSXNJQUVvQWtBaEF5QUJLQUlzSVFJakFFRVFheUlFSWdBZ0FTZ0NORFlDRENBQUlBSTJBZ2dnQUNnQ0RDQUFLQUlJY3lFQ0lBUWlBQ0FETmdJTUlBQWdBallDQ0NBQklBQW9BZ3dnQUNnQ0NITTJBaWdnQVNnQ1BDRURJQUVvQWtnaEFpQUFJQUVvQWpBMkFnd2dBQ0FDTmdJSUlBQW9BZ3dnQUNnQ0NITWhBaUFBSUFNMkFnd2dBQ0FDTmdJSUlBRWdBQ2dDRENBQUtBSUljellDSkNBQktBSTRJUU1nQVNnQ1JDRUNJQUFnQVNnQ0xEWUNEQ0FBSUFJMkFnZ2dBQ2dDRENBQUtBSUljeUVDSUFBZ0F6WUNEQ0FBSUFJMkFnZ2dBU0FBS0FJTUlBQW9BZ2h6TmdJZ0lBRW9BalFoQXlBQktBSkFJUUlnQUNBQktBSklOZ0lNSUFBZ0FqWUNDQ0FBS0FJTUlBQW9BZ2h6SVFJZ0FDQUROZ0lNSUFBZ0FqWUNDQ0FCSUFBb0Fnd2dBQ2dDQ0hNMkFod2dBU2dDTUNFRElBRW9BandoQWlBQUlBRW9Ba1EyQWd3Z0FDQUNOZ0lJSUFBb0Fnd2dBQ2dDQ0hNaEFpQUFJQU0yQWd3Z0FDQUNOZ0lJSUFFZ0FDZ0NEQ0FBS0FJSWN6WUNHQ0FCS0FJc0lRTWdBU2dDT0NFQ0lBQWdBU2dDUURZQ0RDQUFJQUkyQWdnZ0FDZ0NEQ0FBS0FJSWN5RUNJQUFnQXpZQ0RDQUFJQUkyQWdnZ0FTQUFLQUlNSUFBb0FnaHpOZ0lVSUFFb0FrZ2hBeUFCS0FJMElRSWdBQ0FCS0FJOE5nSU1JQUFnQWpZQ0NDQUFLQUlNSUFBb0FnaHpJUUlnQUNBRE5nSU1JQUFnQWpZQ0NDQUJJQUFvQWd3Z0FDZ0NDSE0yQWhBZ0FTZ0NSQ0VESUFFb0FqQWhBaUFBSUFFb0FqZzJBZ3dnQUNBQ05nSUlJQUFvQWd3Z0FDZ0NDSE1oQWlBQUlBTTJBZ3dnQUNBQ05nSUlJQUVnQUNnQ0RDQUFLQUlJY3pZQ0RDQUFJQUVvQWlnMkFnd2dBQ2dDREVGL2N5RUFJQUVvQWt3Z0FEWUNBQ0FCS0FKTUlBRW9BaVEyQWdRZ0JDSUFJQUVvQWlBMkFnd2dBQ2dDREVGL2N5RUFJQUVvQWt3Z0FEWUNDQ0FCS0FKTUlBRW9BaHcyQWd3Z0FTZ0NUQ0FCS0FJWU5nSVFJQUVvQWt3Z0FTZ0NGRFlDRkNBQktBSk1JQUVvQWhBMkFoZ2dBU2dDVENBQktBSU1OZ0ljSUFGQjBBQnFKQUFMY1FFQ2Z5TUFRUkJySWdNa0FDQURJQUEyQWd3Z0F5QUJOZ0lJSUFNZ0FqWUNCQ0FES0FJTUlRRWdBeWdDQ0NFQ0lBTW9BZ1FoQkNNQVFSQnJJZ0FrQUNBQUlBRTJBZ3dnQUNBQ05nSUlJQUFnQkRZQ0JDQUFLQUlJSUFBb0FnUkJBUkJESUFCQkVHb2tBQ0FEUVJCcUpBQUw0UU1CQVg4akFFRkFhaUlDSkFBZ0FpQUFOZ0k4SUFJZ0FUWUNPQ0FDUVRCcUlBSkJLR29nQWlnQ1BDa0RBQ0FDS0FJNEtRTUlFSkVCSUFKQklHb2dBa0VZYWlBQ0tBSThLUU1JSUFJb0FqZ3BBd0FRa1FFZ0FrRVFhaUFDUVFocUlBSW9BandwQXdBZ0FpZ0NQQ2tEQ0lVZ0FpZ0NPQ2tEQUNBQ0tBSTRLUU1JaFJDUkFTQUNJQUlwQXhBZ0Fpa0RNQ0FDS1FNZ2hZVTNBeEFnQWlBQ0tRTUlJQUlwQXlnZ0Fpa0RHSVdGTndNSUlBSWdBaWtEQ0NBQ0tRTWdoVGNESUNBQ0lBSXBBeEFnQWlrREtJVTNBeWdnQWlBQ0tRTW9JQUlwQXpCQ1A0WWdBaWtETUVJK2hvVWdBaWtETUVJNWhvV0ZOd01vSUFJZ0Fpa0RNQ0FDS1FNZ2hUY0RJQ0FDSUFJcEF5Z2dBaWtER0lVM0F4Z2dBaUFDS1FNZ0lBSXBBekJDQVlpRk53TWdJQUlnQWlrRElDQUNLUU1vUWorR2hUY0RJQ0FDSUFJcEF4Z2dBaWtES0VJQmlJVTNBeGdnQWlBQ0tRTWdJQUlwQXpCQ0FvaUZOd01nSUFJZ0Fpa0RJQ0FDS1FNb1FqNkdoVGNESUNBQ0lBSXBBeGdnQWlrREtFSUNpSVUzQXhnZ0FpQUNLUU1nSUFJcEF6QkNCNGlGTndNZ0lBSWdBaWtESUNBQ0tRTW9Ram1HaFRjRElDQUNJQUlwQXhnZ0Fpa0RLRUlIaUlVM0F4Z2dBaWdDUENBQ0tRTWdOd01BSUFJb0Fqd2dBaWtER0RjRENDQUNRVUJySkFBTGNnRUJmeU1BUVJCcklnRWdBRGNEQ0NBQktRTUlJZ0JDT0lnZ0FFSW9pRUtBL2dPRGhDQUFRaGlJUW9DQS9BZURJQUJDQ0loQ2dJQ0ErQStEaElRZ0FFSUloa0tBZ0lDQThCK0RJQUJDR0laQ2dJQ0FnSURnUDRPRUlBQkNLSVpDZ0lDQWdJQ0F3UDhBZ3lBQVFqaUdoSVNFQzBNQkFYOGpBRUVRYXlJQkpBQWdBU0FBTmdJTUlBRW9BZ3hCRkdvUWNTQUJLQUlNUVNScUVIRWdBU2dDREVFRWFoQnhJQUVvQWd4Qk5CQ09BU0FCUVJCcUpBQUx4UUVCQVg4akFFSGdBR3NpQXlRQUlBTWdBRFlDWENBRElBRTJBbGdnQXlBQ05nSlVJQU5CQURZQ1VBSkFBa0FDUUNBREtBSmNRUVJxSUFNZ0EwSE1BR29RbFFGRkRRQWdBeWdDWENJQVFRUnFJQUJCSkdvUTNRRkZEUUFnQXlnQ1hFRUVhaUFESUFNb0Frd1FXRVVOQUNBREtBSmNRUVJxSUFNb0FsZ2dBeWdDVkJDVkFRMEJDeUFES0FKVVFRQTJBZ0FNQVFzZ0EwRUJOZ0pRQ3lBREtBSlFCRUFqQUVFUWF5QURLQUpjS0FJQU5nSU1DeUFES0FKUUlRQWdBMEhnQUdva0FDQUFDME1CQVg4akFFRVFheUlCSkFBZ0FTQUFOZ0lNSUFFb0FneEJBRFlDQUNBQktBSU1RUlJxRUhJZ0FTZ0NERUVrYWhCeUlBRW9BZ3hCQkdvUWNpQUJRUkJxSkFBTDN3RUJBWDhqQUVIZ0FHc2lCeVFBSUFjZ0FEWUNXQ0FISUFFMkFsUWdCeUFDTmdKUUlBY2dBellDVENBSElBUTJBa2dnQnlBRk5nSkVJQWNnQmpZQ1FDQUhRUWhxSWdBUTJRRWdCd0ovUVFBZ0FDQUhLQUpVSUFjb0FsQWdCeWdDV0JDU0FVVU5BQnBCQUNBSFFRaHFJQWNvQWt3Z0J5Z0NTQkJ2UlEwQUdpQUhRUWhxSUFjb0FrUWdCeWdDUUJEWUFVRUFSd3RCQVhFMkFnUWdCMEVJYWhEWEFRSkFJQWNvQWdSRkJFQWdCMEVBTmdKY0RBRUxJd0JCRUdzZ0J5Z0NXRFlDRENBSElBY29Ba1EyQWx3TElBY29BbHdoQUNBSFFlQUFhaVFBSUFBTDJBRUJBbjhqQUVFd2F5SUhKQUFnQnlBQU5nSW9JQWNnQVRZQ0pDQUhJQUkyQWlBZ0J5QUROZ0ljSUFjZ0JEWUNHQ0FISUFVMkFoUWdCeUFHTmdJUUFrQWdCeWdDSUNBSEtBSVVJQWNvQWhBZ0J5Z0NIQ0FIS0FJWUlBY29BaWdnQjBFTWFoRGFBVVVFUUVFZlFSeEJweFJCTXhBY0lBZEJBRFlDTEF3QkN5QUhLQUlrSUFjb0FndzJBZ0FnQnlnQ0pDZ0NBQ0VJSXdCQkVHc2lBQ0FIS0FJZ05nSU1JQWdnQUNnQ0RDZ0NCRWNFUUVIUElrR25GRUUzUWRvS0VBQUFDeUFIUVFFMkFpd0xJQWNvQWl3aEFDQUhRVEJxSkFBZ0FBc1BBRUdVNmdCQjFBQVFaMEdZNmdBTC9RTUJBWDhqQUVFZ2F5SUNKQUFnQWlBQU5nSVlJQUlnQVRZQ0ZBSkFBa0FnQWlnQ0ZBUkFJQUlvQWhRb0FnZ05BU0FDS0FJVUtBSUFEUUVMUVIxQjVBQkJsQkZCaWdFUUhDQUNRUUEyQWh3TUFRc2dBa0VBTmdJUUFrQWdBaWdDRkNnQ0NFVU5BQ0FDS0FJVUtBSU1EUUJCaUJoQmxCRkJqd0ZCdmdnUUFBQUxJQUlvQWhRb0FnZ0VRQ0FDSUFJb0FoUWlBQ2dDQ0NBQUtBSU1LQUlFRVFBQU5nSVFJQUlvQWhCRkJFQWdBa0VBTmdJY0RBSUxDeUFDUVFBMkFnd2dBaWdDRkNnQ0FBUkFBa0FnQWlnQ0dDZ0NBQ0FDS0FJVUtBSUFSd1JBSUFJb0FoUW9BZ0FvQWh4RkJFQkJ1eUZCbEJGQm1nRkJ2Z2dRQUFBTElBSWdBaWdDRkNnQ0FDZ0NIQkJYTmdJTUlBSW9BZ3hGQkVBZ0FpZ0NFQVJBSUFJb0FoQWdBaWdDRkNnQ0RDZ0NBQkVCQUFzZ0FrRUFOZ0ljREFRTERBRUxJQUlnQWlnQ0dDZ0NCRFlDRENBQ0tBSVlRUUEyQWdRTEN5QUNLQUlZRUhFZ0FpZ0NHQ0FDS0FJVUtBSUFOZ0lBSUFJb0FoZ2dBaWdDRERZQ0JDQUNLQUlVS0FJQUJFQWdBaWdDR0NnQ0JDQUNLQUlVSWdBb0FnUWdBQ2dDQUNnQ0hCQWVDeUFDS0FJWUlBSW9BaEEyQWdnZ0FpZ0NHQ0FDS0FJVUtBSU1OZ0lNQWtBZ0FpZ0NHQ2dDQ0VVTkFDQUNLQUlZS0FJTURRQkIzUmRCbEJGQnRBRkJ2Z2dRQUFBTElBSkJBVFlDSEFzZ0FpZ0NIQ0VBSUFKQklHb2tBQ0FBQzMwQkFYOGpBRUVRYXlJQ0pBQWdBaUFBTmdJTUlBSWdBVFlDQ0NBQ0tBSU1LQUlBS0FJRVJRUkFRZWtoUWZRU1Fmd0JRYllMRUFBQUN5QUNLQUlNS0FJQUtBSUVJZ0FnQUVFQmEzRUVRRUg4SUVIMEVrSDlBVUcyQ3hBQUFBc2dBaWdDQ0NBQ0tBSU1LQUlBS0FJRVFRRnJjU0VBSUFKQkVHb2tBQ0FBQzlZSUFRZC9Jd0JCSUdzaUJpUUFJQVlnQURZQ0dDQUdJQUUyQWhRZ0JpQUNOZ0lRSUFZZ0F6WUNEQ0FHSUFRMkFnZ2dCaUFGTmdJRUFrQWdCaWdDQkVGL1JnUkFJQVlnQmlnQ0dDZ0NFRFlDQkF3QkN5QUdLQUlFQkVBZ0JrRUJOZ0lFQ3lBR0tBSVlJQVlvQWdRMkFoQUxBa0FDUUNBR0tBSVVCRUFnQmlnQ0dDZ0NBQVJBSUFZb0FoZ1E0UUVnQmlnQ0dDQUdLQUlFTmdJUUN5QUdLQUlZSUFZb0FoUTJBZ0FDUUNBR0tBSVlLQUlBS0FJUUJFQWdCaWdDR0NnQ0FDZ0NFQkJYSVFBZ0JpZ0NHQ0FBTmdJSUlBWW9BaGdvQWdoRkJFQWdCaWdDR0VFQU5nSUFJQVpCQURZQ0hBd0ZDd3dCQ3lBR0tBSVlRUUEyQWdnTElBWW9BaGdnQmlnQ0ZDZ0NDRFlDRENBR0tBSVlRUUEyQWhRZ0JpZ0NHQ2dDQUNnQ0ZFR0FCSEVFUUNBR0tBSVlJUUVqQUVFZ2F5SUFKQUFnQUNBQk5nSVlJQUJCQURZQ0ZDQUFRUUEyQWhBZ0FFRUFOZ0lNQWtBZ0FDZ0NHQ2dDQUVVRVFFRWVRZklBUWZRU1FlTUVFQndnQUVFQU5nSWNEQUVMSUFBb0FoZ29BZ0FvQWloRkJFQkJIa0hvQUVIMEVrSG9CQkFjSUFCQkFEWUNIQXdCQ3lBQUlBQW9BaGdpQVNBQUtBSVVJQUFvQWhBZ0FDZ0NEQ0FCS0FJQUtBSW9FUVlBTmdJSUlBQW9BZ2hCZjBZRVFFRWVRZWtBUWZRU1FlNEVFQndnQUVFQU5nSWNEQUVMSUFBZ0FDZ0NDRFlDSEFzZ0FDZ0NIQ0VCSUFCQklHb2tBQ0FCUlFSQUlBWW9BaGhCQURZQ0FFRWVRZXNBUWZRU1FiTUJFQndnQmtFQU5nSWNEQVFMQ3d3QkN5QUdLQUlZS0FJQVJRUkFRUjVCOGdCQjlCSkJ1QUVRSENBR1FRQTJBaHdNQWdzTEFrQWdCaWdDR0NnQ0FDZ0NCRUVCUmcwQUlBWW9BaGdvQWdBb0FnUkJDRVlOQUNBR0tBSVlLQUlBS0FJRVFSQkdEUUJCdWg5QjlCSkJ2Z0ZCNHdnUUFBQUxJd0JCRUdzaUFDQUdLQUlZTmdJTUlBQW9BZ3dvQWdBb0FoUkJnQUp4UlFSQUFrQWpBRUVRYXlJQUlBWW9BaGcyQWd3Q1FBSkFBa0FDUUNBQUtBSU1LQUlBS0FJVVFUOXhEZ1lFQkFFQUFnSURDeUFHS0FJWVFRQTJBbHdMSXdCQkVHc2lBQ0FHS0FJWU5nSU1JQUFvQWd3b0FnQW9BZ3hCRUVzRVFFR0dJa0gwRWtITEFVSGpDQkFBQUFzZ0JpZ0NDQVJBSUFZb0FoZ2lBRUVZYWlFS0lBWW9BZ2doQnlNQVFSQnJJZ0VnQURZQ0RDQUtJQWNnQVNnQ0RDZ0NBQ2dDREJBZUN5QUdLQUlZSWdCQktHb2hDeUFBUVJocUlRZ2pBRUVRYXlJQklBQTJBZ3dnQ3lBSUlBRW9BZ3dvQWdBb0Fnd1FIZ3dDQ3lBR0tBSVlRUUEyQWx3Z0JpZ0NDQVJBSUFZb0FoZ2lBRUVvYWlFTUlBWW9BZ2doQ1NNQVFSQnJJZ0VnQURZQ0RDQU1JQWtnQVNnQ0RDZ0NBQ2dDREJBZUN3d0JDeUFHUVFBMkFod01BZ3NMQWtBZ0JpZ0NERVVFUUNBR0tBSVlLQUlBS0FJVVFZQUJjVVVOQVFzZ0JpZ0NHQ0lBSUFZb0Fnd2dCaWdDQ0NBR0tBSUVJQUFvQWdBb0Fod1JCZ0JGQkVBZ0JrRUFOZ0ljREFJTEN5QUdLQUlZUVFBMkFsZ2dCaWdDR0VFQU5nSmdJQVlvQWhoQkFEWUNoQUVnQmtFQk5nSWNDeUFHS0FJY0lRQWdCa0VnYWlRQUlBQUxpd0VCQjM4akFFRVFheUlDSkFBZ0FpQUFOZ0lNSUFJb0Fnd2lBQkFaSVFNZ0FCQVpJQUFRUjJvaEJDQUFFQmtoQnlNQVFSQnJJZ0VnQURZQ0RDQUhJQUVvQWd3aUFTZ0NCQ0FCS0FJQWEyb2hCU0FBRUJrZ0FCQkhhaUVHSXdCQklHc2lBU0FBTmdJY0lBRWdBellDR0NBQklBUTJBaFFnQVNBRk5nSVFJQUVnQmpZQ0RDQUNRUkJxSkFBTFh3RUJmeU1BUVJCcklnRWtBQ0FCSUFBMkFnd0NRQ0FCS0FJTUtBSUFSUTBBSUFFb0Fnd29BZ0FvQWlSRkRRQWdBU2dDRENJQUlBQW9BZ0FvQWlRUkFRQUxJQUVvQWd3b0FnZ1FLQ0FCS0FJTVFRQkJpQUVRSVNBQlFSQnFKQUFMV1FFRGZ5TUFRUkJySWdBa0FDQUFRWWdCRUZjMkFnd2dBQ2dDREFSQUlBQW9BZ3doQWlNQVFSQnJJZ0VrQUNBQklBSTJBZ3dnQVNnQ0RFRUFRWWdCRUNFZ0FVRVFhaVFBQ3lBQUtBSU1JUUVnQUVFUWFpUUFJQUVMTWdFQmZ5TUFRUkJySWdFa0FDQUJJQUEyQWd3Z0FVRUlhaUFCS0FJTVFRUVFIaUFCS0FJSUlRQWdBVUVRYWlRQUlBQUxPZ0VCZnlNQVFTQnJJZ1lrQUNBR0lBQTJBaHdnQmlBQk5nSVlJQVlnQWpZQ0ZDQUdJQU0yQWhBZ0JpQUVOZ0lNSUFZZ0JUWUNDQkFEQUF0dUFRRi9Jd0JCRUdzaUFTQUFOZ0lNSUFGQkVEWUNDQ0FCUVFFMkFnUURRQ0FCSUFFb0FnaEJBV3MyQWdnZ0FTQUJLQUlNSUFFb0FnaHFMUUFBSUFFb0FnUnFOZ0lFSUFFb0Fnd2dBU2dDQ0dvZ0FTZ0NCRG9BQUNBQklBRW9BZ1JCQ0hZMkFnUWdBU2dDQ0EwQUN3dHVBUUYvSXdCQkVHc2lBU0FBTmdJTUlBRkJERFlDQ0NBQlFRRTJBZ1FEUUNBQklBRW9BZ2hCQVdzMkFnZ2dBU0FCS0FJTUlBRW9BZ2hxTFFBQUlBRW9BZ1JxTmdJRUlBRW9BZ3dnQVNnQ0NHb2dBU2dDQkRvQUFDQUJJQUVvQWdSQkNIWTJBZ1FnQVNnQ0NBMEFDd3VuQlFFQmZ5TUFRVEJySWdna0FDQUlJQUEyQWl3Z0NDQUJOZ0lvSUFnZ0FqWUNKQ0FJSUFNMkFpQWdDQ0FFTmdJY0lBZ2dCVFlDR0NBSUlBWTJBaFFnQ0NBSE5nSVFBa0FDUUNBSUtBSWdSUTBBSUFnb0FoaEZEUUFnQ0NnQ0ZBMEJDMEhuQzBHL0VrSGFBRUgzQ1JBQUFBc0NRQ0FJS0FJa1JRMEFJQWdvQWl3RVFDQUlLQUlvRFFFTFFiY2lRYjhTUWRzQVFmY0pFQUFBQ3lBSUtBSVVLQUlBUVJCUEJFQkJtQ0JCdnhKQjNBQkI5d2tRQUFBTElBZ2dDQ2dDRkNnQ0FEWUNEQU5BSUFnb0Fnd0VmeUFJS0FJa1FRQkhCVUVBQzBFQmNRUkFJQWdnQ0NnQ0xDSUFRUUZxTmdJc0lBQXRBQUFnQ0NnQ0dDQUlLQUlNYWkwQUFITWhBQ0FJSUFnb0FpZ2lBVUVCYWpZQ0tDQUJJQUE2QUFBZ0NDQUlLQUlrUVFGck5nSWtJQWdnQ0NnQ0RFRUJha0VQY1RZQ0RBd0JDd3NEUUNBSUtBSWtRUkJQQkVBZ0NDZ0NIQ0FJS0FJWUlBZ29BaUFnQ0NnQ0VCRURBQ0FJS0FJY0VPVUJJQWdvQWlnaEFTQUlLQUlzSVFJZ0NDZ0NHQ0VESXdCQkVHc2lBQ1FBSUFBZ0FUWUNEQ0FBSUFJMkFnZ2dBQ0FETmdJRUlBQkJBRFlDQUFOQUlBQW9BZ0JCRUVrRVFDQUFLQUlBSWdFZ0FDZ0NER29nQVNBQUtBSUlhaERqQVNBQUtBSUVJQUFvQWdCcUVPTUJjeENaQVNBQUlBQW9BZ0JCQkdvMkFnQU1BUXNMSUFCQkVHb2tBQ0FJSUFnb0FpUkJFR3MyQWlRZ0NDQUlLQUlvUVJCcU5nSW9JQWdnQ0NnQ0xFRVFhallDTENBSVFRQTJBZ3dNQVFzTElBZ29BaVFFUUNBSUtBSWNJQWdvQWhnZ0NDZ0NJQ0FJS0FJUUVRTUFJQWdvQWh3UTVRRURRQ0FJSUFnb0FpUWlBRUVCYXpZQ0pDQUFCRUFnQ0NnQ0RDSUFJQWdvQWlocUlBQWdDQ2dDTEdvdEFBQWdBQ0FJS0FJWWFpMEFBSE02QUFBZ0NDQUlLQUlNUVFGcU5nSU1EQUVMQ3dzZ0NDZ0NGQ0FJS0FJTU5nSUFJQWhCTUdva0FBdmNCUUVCZnlNQVFUQnJJZ2drQUNBSUlBQTJBaXdnQ0NBQk5nSW9JQWdnQWpZQ0pDQUlJQU0yQWlBZ0NDQUVOZ0ljSUFnZ0JUWUNHQ0FJSUFZMkFoUWdDQ0FITmdJUUFrQUNRQ0FJS0FJZ1JRMEFJQWdvQWhoRkRRQWdDQ2dDRkEwQkMwSG5DMEcvRWtHTEFVR25JQkFBQUFzQ1FDQUlLQUlrUlEwQUlBZ29BaXdFUUNBSUtBSW9EUUVMUWJjaVFiOFNRWXdCUWFjZ0VBQUFDeUFJS0FJVUtBSUFRUkJQQkVCQm1DQkJ2eEpCalFGQnB5QVFBQUFMSUFnZ0NDZ0NGQ2dDQURZQ0RBTkFRUUFoQUNBSUtBSU1CSDhnQ0NnQ0pFRUFSd1ZCQUF0QkFYRUVRQ0FJSUFnb0Fpd2lBRUVCYWpZQ0xDQUFMUUFBSUFnb0FoZ2dDQ2dDREdvdEFBQnpJUUFnQ0NBSUtBSW9JZ0ZCQVdvMkFpZ2dBU0FBT2dBQUlBZ2dDQ2dDSkVFQmF6WUNKQ0FJSUFnb0FneEJBV3BCRDNFMkFnd01BUXNMSUFnZ0NDZ0NIRUVNYWhBa05nSUlBMEFnQ0NnQ0pFRVFUd1JBSUFnZ0NDZ0NKRUVFZGpZQ0JDQUlJQWdvQWdRZ0NDZ0NDR28yQWdnZ0NDZ0NDQ0FJS0FJRVNRUkFJQWdnQ0NnQ0JDQUlLQUlJYXpZQ0JDQUlRUUEyQWdnTElBZ29BaXdnQ0NnQ0tDQUlLQUlFSUFnb0FpQWdDQ2dDSENBSUtBSVFFUWdBSUFnb0FoeEJER29nQ0NnQ0NCQk1JQWdvQWdoRkJFQWdDQ2dDSEJEbUFRc2dDQ0FJS0FJRVFRUjBOZ0lFSUFnZ0NDZ0NKQ0FJS0FJRWF6WUNKQ0FJSUFnb0FnUWdDQ2dDS0dvMkFpZ2dDQ0FJS0FJRUlBZ29BaXhxTmdJc0RBRUxDeUFJS0FJa0JFQWdDQ2dDR0VFQVFSQVFJU0FJS0FJWUlBZ29BaGhCQVNBSUtBSWdJQWdvQWh3Z0NDZ0NFQkVJQUNBSUlBZ29BZ2hCQVdvMkFnZ2dDQ2dDSEVFTWFpQUlLQUlJRUV3Z0NDZ0NDRVVFUUNBSUtBSWNFT1lCQ3dOQUlBZ2dDQ2dDSkNJQVFRRnJOZ0lrSUFBRVFDQUlLQUlNSWdBZ0NDZ0NLR29nQUNBSUtBSXNhaTBBQUNBQUlBZ29BaGhxTFFBQWN6b0FBQ0FJSUFnb0FneEJBV28yQWd3TUFRc0xDeUFJS0FJVUlBZ29BZ3cyQWdBZ0NFRXdhaVFBQ3pjQkFYOGpBRUVRYXlJQklBQTJBZ3dnQVNnQ0RDSUFRUmgySUFCQkNIWkJnUDREY1hJZ0FFRUlkRUdBZ1B3SGNTQUFRUmgwY25JTE1nRUJmeU1BUVJCcklnRWtBQ0FCSUFBMkFnd2dBU2dDREJEVEFTQUJLQUlNRUhZZ0FTZ0NEQkRUQVNBQlFSQnFKQUFMbndVQkEzOGpBRUVnYXlJQkpBQWdBU0FBTmdJY0lBRkJBRFlDR0FOQUlBRW9BaGhCQ0VrRVFDTUFRUkJySWdBZ0FTZ0NIQ0FCS0FJWVFRSjBhaWdDQURZQ0RDQUFRWU9HakJnMkFnZ2dBU0FBS0FJTUlBQW9BZ2h4TmdJVUlBQWdBU2dDSENBQktBSVlRUUowYWlnQ0FEWUNEQ0FBUVl5WXNPQUFOZ0lJSUFFZ0FDZ0NEQ0FBS0FJSWNUWUNFQ0FBSUFFb0Fod2dBU2dDR0VFQ2RHb29BZ0EyQWd3Z0FFR3c0TUNCQXpZQ0NDQUJJQUFvQWd3Z0FDZ0NDSEUyQWd3Z0FDQUJLQUljSUFFb0FoaEJBblJxS0FJQU5nSU1JQUJCd0lHRGhudzJBZ2dnQVNBQUtBSU1JQUFvQWdoeE5nSUlJQUFnQVNnQ0VEWUNEQ0FBUVF3MkFnZ2dBQ2dDRENBQUtBSUlRUUYwZGlFQ0lBQWdBU2dDRURZQ0RDQUFRUVEyQWdnZ0FDZ0NEQ0FBS0FJSVFRRjBkQ0VESUFBZ0FqWUNEQ0FBSUFNMkFnZ2dBU0FBS0FJTUlBQW9BZ2h5TmdJUUlBQWdBU2dDRERZQ0RDQUFRUWcyQWdnZ0FDZ0NEQ0FBS0FJSVFRRjBkaUVDSUFBZ0FTZ0NERFlDRENBQVFRZzJBZ2dnQUNnQ0RDQUFLQUlJUVFGMGRDRURJQUFnQWpZQ0RDQUFJQU0yQWdnZ0FTQUFLQUlNSUFBb0FnaHlOZ0lNSUFBZ0FTZ0NDRFlDRENBQVFRUTJBZ2dnQUNnQ0RDQUFLQUlJUVFGMGRpRUNJQUFnQVNnQ0NEWUNEQ0FBUVF3MkFnZ2dBQ2dDRENBQUtBSUlRUUYwZENFRElBQWdBallDRENBQUlBTTJBZ2dnQVNBQUtBSU1JQUFvQWdoeU5nSUlJQUVvQWhBaEFpQUFJQUVvQWhRMkFnd2dBQ0FDTmdJSUlBQW9BZ3dnQUNnQ0NISWhBaUFCS0FJSUlRTWdBQ0FCS0FJTU5nSU1JQUFnQXpZQ0NDQUFLQUlNSUFBb0FnaHlJUU1nQUNBQ05nSU1JQUFnQXpZQ0NDQUFLQUlNSUFBb0FnaHlJUUFnQVNnQ0hDQUJLQUlZUVFKMGFpQUFOZ0lBSUFFZ0FTZ0NHRUVCYWpZQ0dBd0JDd3NnQVVFZ2FpUUFDN0FCQVFGL0l3QkJFR3NpQXlRQUlBTWdBRFlDRENBRElBRTJBZ2dnQXlBQ05nSUVJQU1vQWdSQkFrOEVRRUdTR1VIY0VFR0NBa0hIQ2hBQUFBc2dBeWdDQ0NBREtBSU1JQU1vQWdSQkFuUnFLQUlBTmdJQUlBTW9BZ2dnQXlnQ0RDQURLQUlFUVFKcVFRSjBhaWdDQURZQ0JDQURLQUlJSUFNb0Fnd2dBeWdDQkVFRWFrRUNkR29vQWdBMkFnZ2dBeWdDQ0NBREtBSU1JQU1vQWdSQkJtcEJBblJxS0FJQU5nSU1JQU5CRUdva0FBdm9EZ0VGZnlNQVFmQUFheUlCSkFBZ0FTQUFOZ0pzSUFFZ0FTZ0NiQ2dDQURZQ2FDQUJJQUVvQW13b0FnUTJBbVFnQVNBQktBSnNLQUlJTmdKZ0lBRWdBU2dDYkNnQ0REWUNYQ0FCSUFFb0Ftd29BaEEyQWxnZ0FTQUJLQUpzS0FJVU5nSlVJQUVnQVNnQ2JDZ0NHRFlDVUNBQklBRW9BbXdvQWh3MkFrd2pBRUVRYXlJRElnQWdBU2dDYURZQ0RDQUJJQUFvQWd3aUFFRUNka0cvL3Z6NUEzRWdBRUVHZEVIQWdZT0dmSEZ5TmdKSUlBRW9Ba2doQWlBRElnQWdBU2dDYURZQ0RDQUFJQUkyQWdnZ0FTQUFLQUlNSUFBb0FnaHpOZ0pFSUFBZ0FTZ0NaRFlDRENBQklBQW9BZ3dpQUVFQ2RrRy8vdno1QTNFZ0FFRUdkRUhBZ1lPR2ZIRnlOZ0pBSUFFb0FrQWhBaUFESWdBZ0FTZ0NaRFlDRENBQUlBSTJBZ2dnQVNBQUtBSU1JQUFvQWdoek5nSThJQUFnQVNnQ1lEWUNEQ0FCSUFBb0Fnd2lBRUVDZGtHLy92ejVBM0VnQUVFR2RFSEFnWU9HZkhGeU5nSTRJQUVvQWpnaEFpQURJZ0FnQVNnQ1lEWUNEQ0FBSUFJMkFnZ2dBU0FBS0FJTUlBQW9BZ2h6TmdJMElBQWdBU2dDWERZQ0RDQUJJQUFvQWd3aUFFRUNka0cvL3Z6NUEzRWdBRUVHZEVIQWdZT0dmSEZ5TmdJd0lBRW9BakFoQWlBRElnQWdBU2dDWERZQ0RDQUFJQUkyQWdnZ0FTQUFLQUlNSUFBb0FnaHpOZ0lzSUFBZ0FTZ0NXRFlDRENBQklBQW9BZ3dpQUVFQ2RrRy8vdno1QTNFZ0FFRUdkRUhBZ1lPR2ZIRnlOZ0lvSUFFb0FpZ2hBaUFESWdBZ0FTZ0NXRFlDRENBQUlBSTJBZ2dnQVNBQUtBSU1JQUFvQWdoek5nSWtJQUFnQVNnQ1ZEWUNEQ0FCSUFBb0Fnd2lBRUVDZGtHLy92ejVBM0VnQUVFR2RFSEFnWU9HZkhGeU5nSWdJQUVvQWlBaEFpQURJZ0FnQVNnQ1ZEWUNEQ0FBSUFJMkFnZ2dBU0FBS0FJTUlBQW9BZ2h6TmdJY0lBQWdBU2dDVURZQ0RDQUJJQUFvQWd3aUFFRUNka0cvL3Z6NUEzRWdBRUVHZEVIQWdZT0dmSEZ5TmdJWUlBRW9BaGdoQWlBRElnQWdBU2dDVURZQ0RDQUFJQUkyQWdnZ0FTQUFLQUlNSUFBb0FnaHpOZ0lVSUFBZ0FTZ0NURFlDRENBQklBQW9BZ3dpQUVFQ2RrRy8vdno1QTNFZ0FFRUdkRUhBZ1lPR2ZIRnlOZ0lRSUFFb0FoQWhBaUFESWdBZ0FTZ0NURFlDRENBQUlBSTJBZ2dnQVNBQUtBSU1JQUFvQWdoek5nSU1JQUVvQWtnaEFpQUFJQUVvQWd3MkFnd2dBQ0FDTmdJSUlBQW9BZ3dnQUNnQ0NITWhBaUFBSUFFb0FrUTJBZ3dnQUNnQ0RDSUFRUVIyUVkrZXZQZ0FjU0FBUVFSMFFmRGh3NGQvY1hJaEJDQURJZ0FnQWpZQ0RDQUFJQVEyQWdnZ0FDZ0NEQ0FBS0FJSWN5RUFJQUVvQW13Z0FEWUNBQ0FCS0FJTUlRSWdBeUlBSUFFb0FrUTJBZ3dnQUNBQ05nSUlJQUFvQWd3Z0FDZ0NDSE1oQWlBQktBSkFJUVFnQUNBQktBSThOZ0lNSUFBb0Fnd2lBRUVFZGtHUG5yejRBSEVnQUVFRWRFSHc0Y09IZjNGeUlRVWdBeUlBSUFRMkFnd2dBQ0FGTmdJSUlBQW9BZ3dnQUNnQ0NITWhCQ0FBSUFJMkFnd2dBQ0FFTmdJSUlBQW9BZ3dnQUNnQ0NITWhBQ0FCS0FKc0lBQTJBZ1FnQVNnQ09DRUNJQU1pQUNBQktBSThOZ0lNSUFBZ0FqWUNDQ0FBS0FJTUlBQW9BZ2h6SVFJZ0FDQUJLQUkwTmdJTUlBQW9BZ3dpQUVFRWRrR1Bucno0QUhFZ0FFRUVkRUh3NGNPSGYzRnlJUVFnQXlJQUlBSTJBZ3dnQUNBRU5nSUlJQUFvQWd3Z0FDZ0NDSE1oQUNBQktBSnNJQUEyQWdnZ0FTZ0NEQ0VDSUFNaUFDQUJLQUkwTmdJTUlBQWdBallDQ0NBQUtBSU1JQUFvQWdoeklRSWdBU2dDTUNFRUlBQWdBU2dDTERZQ0RDQUFLQUlNSWdCQkJIWkJqNTY4K0FCeElBQkJCSFJCOE9IRGgzOXhjaUVGSUFNaUFDQUVOZ0lNSUFBZ0JUWUNDQ0FBS0FJTUlBQW9BZ2h6SVFRZ0FDQUNOZ0lNSUFBZ0JEWUNDQ0FBS0FJTUlBQW9BZ2h6SVFBZ0FTZ0NiQ0FBTmdJTUlBRW9BZ3doQWlBRElnQWdBU2dDTERZQ0RDQUFJQUkyQWdnZ0FDZ0NEQ0FBS0FJSWN5RUNJQUVvQWlnaEJDQUFJQUVvQWlRMkFnd2dBQ2dDRENJQVFRUjJRWStldlBnQWNTQUFRUVIwUWZEaHc0ZC9jWEloQlNBRElnQWdCRFlDRENBQUlBVTJBZ2dnQUNnQ0RDQUFLQUlJY3lFRUlBQWdBallDRENBQUlBUTJBZ2dnQUNnQ0RDQUFLQUlJY3lFQUlBRW9BbXdnQURZQ0VDQUJLQUlnSVFJZ0F5SUFJQUVvQWlRMkFnd2dBQ0FDTmdJSUlBQW9BZ3dnQUNnQ0NITWhBaUFBSUFFb0FodzJBZ3dnQUNnQ0RDSUFRUVIyUVkrZXZQZ0FjU0FBUVFSMFFmRGh3NGQvY1hJaEJDQURJZ0FnQWpZQ0RDQUFJQVEyQWdnZ0FDZ0NEQ0FBS0FJSWN5RUFJQUVvQW13Z0FEWUNGQ0FCS0FJWUlRSWdBeUlBSUFFb0FodzJBZ3dnQUNBQ05nSUlJQUFvQWd3Z0FDZ0NDSE1oQWlBQUlBRW9BaFEyQWd3Z0FDZ0NEQ0lBUVFSMlFZK2V2UGdBY1NBQVFRUjBRZkRodzRkL2NYSWhCQ0FESWdBZ0FqWUNEQ0FBSUFRMkFnZ2dBQ2dDRENBQUtBSUljeUVBSUFFb0Ftd2dBRFlDR0NBQktBSVFJUUlnQXlJQUlBRW9BaFEyQWd3Z0FDQUNOZ0lJSUFBb0Fnd2dBQ2dDQ0hNaEFpQUFJQUVvQWd3MkFnd2dBQ2dDRENJQVFRUjJRWStldlBnQWNTQUFRUVIwUWZEaHc0ZC9jWEloQkNBRElnQWdBallDRENBQUlBUTJBZ2dnQUNnQ0RDQUFLQUlJY3lFQUlBRW9BbXdnQURZQ0hDQUJRZkFBYWlRQUM1OEZBUU4vSXdCQklHc2lBU1FBSUFFZ0FEWUNIQ0FCUVFBMkFoZ0RRQ0FCS0FJWVFRaEpCRUFqQUVFUWF5SUFJQUVvQWh3Z0FTZ0NHRUVDZEdvb0FnQTJBZ3dnQUVHRGhvd1lOZ0lJSUFFZ0FDZ0NEQ0FBS0FJSWNUWUNGQ0FBSUFFb0Fod2dBU2dDR0VFQ2RHb29BZ0EyQWd3Z0FFR01tTERnQURZQ0NDQUJJQUFvQWd3Z0FDZ0NDSEUyQWhBZ0FDQUJLQUljSUFFb0FoaEJBblJxS0FJQU5nSU1JQUJCc09EQWdRTTJBZ2dnQVNBQUtBSU1JQUFvQWdoeE5nSU1JQUFnQVNnQ0hDQUJLQUlZUVFKMGFpZ0NBRFlDRENBQVFjQ0JnNFo4TmdJSUlBRWdBQ2dDRENBQUtBSUljVFlDQ0NBQUlBRW9BaEEyQWd3Z0FFRUVOZ0lJSUFBb0Fnd2dBQ2dDQ0VFQmRIWWhBaUFBSUFFb0FoQTJBZ3dnQUVFTU5nSUlJQUFvQWd3Z0FDZ0NDRUVCZEhRaEF5QUFJQUkyQWd3Z0FDQUROZ0lJSUFFZ0FDZ0NEQ0FBS0FJSWNqWUNFQ0FBSUFFb0FndzJBZ3dnQUVFSU5nSUlJQUFvQWd3Z0FDZ0NDRUVCZEhZaEFpQUFJQUVvQWd3MkFnd2dBRUVJTmdJSUlBQW9BZ3dnQUNnQ0NFRUJkSFFoQXlBQUlBSTJBZ3dnQUNBRE5nSUlJQUVnQUNnQ0RDQUFLQUlJY2pZQ0RDQUFJQUVvQWdnMkFnd2dBRUVNTmdJSUlBQW9BZ3dnQUNnQ0NFRUJkSFloQWlBQUlBRW9BZ2cyQWd3Z0FFRUVOZ0lJSUFBb0Fnd2dBQ2dDQ0VFQmRIUWhBeUFBSUFJMkFnd2dBQ0FETmdJSUlBRWdBQ2dDRENBQUtBSUljallDQ0NBQktBSVFJUUlnQUNBQktBSVVOZ0lNSUFBZ0FqWUNDQ0FBS0FJTUlBQW9BZ2h5SVFJZ0FTZ0NDQ0VESUFBZ0FTZ0NERFlDRENBQUlBTTJBZ2dnQUNnQ0RDQUFLQUlJY2lFRElBQWdBallDRENBQUlBTTJBZ2dnQUNnQ0RDQUFLQUlJY2lFQUlBRW9BaHdnQVNnQ0dFRUNkR29nQURZQ0FDQUJJQUVvQWhoQkFXbzJBaGdNQVFzTElBRkJJR29rQUF1TERBRURmeU1BUVJCcklnVWtBQ0FGSUFBMkFnd2dCU0FCTmdJSUlBVWdBallDQkNBRktBSUVJQVVvQWd3Z0JTZ0NDRUVGZEdvUVRTQUZLQUlFRU9zQklBVW9BZ1FRNmdFZ0JTQUZLQUlJUVFGck5nSUFBMEFnQlNnQ0FBUkFJQVVvQWdRZ0JTZ0NEQ0FGS0FJQVFRVjBhaEJOSUFVb0FnUWhBU01BUWRBQWF5SUFKQUFnQUNBQk5nSk1JQUFnQUNnQ1RDZ0NBRFlDU0NBQUlBQW9Ba3dvQWdRMkFrUWdBQ0FBS0FKTUtBSUlOZ0pBSUFBZ0FDZ0NUQ2dDRERZQ1BDQUFJQUFvQWt3b0FoQTJBamdnQUNBQUtBSk1LQUlVTmdJMElBQWdBQ2dDVENnQ0dEWUNNQ0FBSUFBb0Frd29BaHcyQWl3Z0FDZ0NTQ0lCSVFJakFFRVFheUlFSWdNZ0FUWUNEQ0FES0FJTUlnRkJCSFpCajU2OCtBQnhJQUZCQkhSQjhPSERoMzl4Y2lFRElBUWlBU0FDTmdJTUlBRWdBellDQ0NBQUlBRW9BZ3dnQVNnQ0NITTJBaWdnQUNnQ1JDSUJJUUlnQkNBQk5nSU1JQVFvQWd3aUFVRUVka0dQbnJ6NEFIRWdBVUVFZEVIdzRjT0hmM0Z5SVFNZ0JDSUJJQUkyQWd3Z0FTQUROZ0lJSUFBZ0FTZ0NEQ0FCS0FJSWN6WUNKQ0FBS0FKQUlnRWhBaUFFSUFFMkFnd2dCQ2dDRENJQlFRUjJRWStldlBnQWNTQUJRUVIwUWZEaHc0ZC9jWEloQXlBRUlnRWdBallDRENBQklBTTJBZ2dnQUNBQktBSU1JQUVvQWdoek5nSWdJQUFvQWp3aUFTRUNJQVFnQVRZQ0RDQUVLQUlNSWdGQkJIWkJqNTY4K0FCeElBRkJCSFJCOE9IRGgzOXhjaUVESUFRaUFTQUNOZ0lNSUFFZ0F6WUNDQ0FBSUFFb0Fnd2dBU2dDQ0hNMkFod2dBQ2dDT0NJQklRSWdCQ0FCTmdJTUlBUW9BZ3dpQVVFRWRrR1Bucno0QUhFZ0FVRUVkRUh3NGNPSGYzRnlJUU1nQkNJQklBSTJBZ3dnQVNBRE5nSUlJQUFnQVNnQ0RDQUJLQUlJY3pZQ0dDQUFLQUkwSWdFaEFpQUVJQUUyQWd3Z0JDZ0NEQ0lCUVFSMlFZK2V2UGdBY1NBQlFRUjBRZkRodzRkL2NYSWhBeUFFSWdFZ0FqWUNEQ0FCSUFNMkFnZ2dBQ0FCS0FJTUlBRW9BZ2h6TmdJVUlBQW9BakFpQVNFQ0lBUWdBVFlDRENBRUtBSU1JZ0ZCQkhaQmo1NjgrQUJ4SUFGQkJIUkI4T0hEaDM5eGNpRURJQVFpQVNBQ05nSU1JQUVnQXpZQ0NDQUFJQUVvQWd3Z0FTZ0NDSE0yQWhBZ0FDZ0NMQ0lCSVFJZ0JDQUJOZ0lNSUFRb0Fnd2lBVUVFZGtHUG5yejRBSEVnQVVFRWRFSHc0Y09IZjNGeUlRTWdCQ0lCSUFJMkFnd2dBU0FETmdJSUlBQWdBU2dDRENBQktBSUljellDRENBQUtBSVFJUUlnQVNBQUtBSklOZ0lNSUFFZ0FqWUNDQ0FCS0FJTUlBRW9BZ2h6SVFFZ0FDZ0NUQ0FCTmdJQUlBQW9Ba1FoQWlBQUtBSU1JUU1nQkNJQklBQW9BaEEyQWd3Z0FTQUROZ0lJSUFFb0Fnd2dBU2dDQ0hNaEF5QUJJQUkyQWd3Z0FTQUROZ0lJSUFFb0Fnd2dBU2dDQ0hNaEFTQUFLQUpNSUFFMkFnUWdBQ2dDUUNFQ0lBQW9BZ3doQXlBRUlnRWdBQ2dDS0RZQ0RDQUJJQU0yQWdnZ0FTZ0NEQ0FCS0FJSWN5RURJQUVnQWpZQ0RDQUJJQU0yQWdnZ0FTZ0NEQ0FCS0FJSWN5RUJJQUFvQWt3Z0FUWUNDQ0FBS0FJOElRSWdBQ2dDRUNFRElBUWlBU0FBS0FJa05nSU1JQUVnQXpZQ0NDQUJLQUlNSUFFb0FnaHpJUU1nQVNBQ05nSU1JQUVnQXpZQ0NDQUJLQUlNSUFFb0FnaHpJUUVnQUNnQ1RDQUJOZ0lNSUFBb0FpQWhBaUFFSWdFZ0FDZ0NPRFlDRENBQklBSTJBZ2dnQVNnQ0RDQUJLQUlJY3lFQ0lBQW9BZ3doQXlBQklBQW9BaEEyQWd3Z0FTQUROZ0lJSUFFb0Fnd2dBU2dDQ0hNaEF5QUJJQUkyQWd3Z0FTQUROZ0lJSUFFb0Fnd2dBU2dDQ0hNaEFTQUFLQUpNSUFFMkFoQWdBQ2dDTkNFQ0lBQW9BZ3doQXlBRUlnRWdBQ2dDSERZQ0RDQUJJQU0yQWdnZ0FTZ0NEQ0FCS0FJSWN5RURJQUVnQWpZQ0RDQUJJQU0yQWdnZ0FTZ0NEQ0FCS0FJSWN5RUJJQUFvQWt3Z0FUWUNGQ0FBS0FJWUlRSWdCQ0lCSUFBb0FqQTJBZ3dnQVNBQ05nSUlJQUVvQWd3Z0FTZ0NDSE1oQVNBQUtBSk1JQUUyQWhnZ0FDZ0NGQ0VDSUFRaUFTQUFLQUlzTmdJTUlBRWdBallDQ0NBQktBSU1JQUVvQWdoeklRRWdBQ2dDVENBQk5nSWNJQUFvQWt3UTdRRWdBRUhRQUdva0FDQUZLQUlFRU9zQklBVW9BZ1FRNmdFZ0JTQUZLQUlBUVFGck5nSUFEQUVMQ3lBRktBSUVJQVVvQWd3UVRTQUZRUkJxSkFBTE1BRUJmeU1BUVJCcklnRWtBQ0FCSUFBMkFnd2dBU2dDRENnQ0JCQWlJQUVvQWd4QkFFRVFFQ0VnQVVFUWFpUUFDM29CQVg4akFFRWdheUlDSkFBZ0FpQUFOZ0ljSUFJZ0FUY0RFQ0FDUVFBMkFnd0RRQ0FDS0FJTVFRaFBSUVJBSUFJb0Fnd2dBa0VFYW1vZ0Fpa0RFRUwvQVlNOEFBQWdBaUFDS1FNUVFnaUlOd01RSUFJZ0FpZ0NERUVCYWpZQ0RBd0JDd3NnQWlnQ0hDQUNRUVJxUVFnUU5Sb2dBa0VnYWlRQUM0d0NBUUYvSXdCQmdBSnJJZ2drQUNBSUlBQTJBdndCSUFnZ0FUWUMrQUVnQ0NBQ05nTDBBU0FJSUFNMkF2QUJJQWdnQkRZQzdBRWdDQ0FGTmdMb0FTQUlJQVkyQXVRQklBZ2dCellDNEFFZ0NFSHdBR29pQUNBSUtBTDRBVUh3QUJBZUlBQWdDRFVDN0FFUThRRWdBQ0FJTlFMZ0FSRHhBU0FBSUFnb0F1Z0JRUXdRTlJvZ0FDQUlLQUx3QVNBSUtBTHNBUkExR2lBSVFjQUFJQWdvQXV3QlFSeHFRVDl4YTBFL2NUWUNiQ0FJUVNCcUlnRkJBQ0FJS0FKc0VDRWdBQ0FCSUFnb0Ftd1FOUm9nQUNBSUtBTGtBU0FJS0FMZ0FSQTFHaUFJSUFBUWt3RWFJQUFnQ0NnQzlBRkI4QUFRSGlBQUlBaEJJQkExR2lBSUtBTDhBU0FBRUpNQkdpQUlRWUFDYWlRQUM4Z0JBUUYvSXdCQjBBQnJJZ1VrQUNBRklBQTJBa3dnQlNBQk5nSklJQVVnQWpZQ1JDQUZJQU0yQWtBZ0JTQUVOZ0k4SUFWQkFEWUNIQ0FGUVNCcVFRQkJFQkFoSUFVZ0JTZ0NQRUVNRUI0Z0JVRU1ha0VBUVFRUUlRSkFJQVVvQWt3b0F2Z0JCRUFnQlNnQ1JDQUZLQUpJSUFVb0FrQWdCU2dDVENJQUlBVWdCVUVnYWlBRlFSeHFJQUFvQXZnQkVPZ0JEQUVMSUFVb0FrUWdCU2dDU0NBRktBSkFJQVVvQWt3aUFDQUZJQVZCSUdvZ0JVRWNhaUFBS0FMOEFSRG5BUXNnQlVIUUFHb2tBQXV4Q2dFSWZ5TUFRUkJySWdZa0FDQUdJQUEyQWd3Z0JpZ0NEQ0VFSXdCQklHc2lBQ1FBSUFCQi9PZ0FOZ0ljSUFBZ0JEWUNHQ0FBSUFSQnRBRnFOZ0lVSUFBb0FoUW9BZ0FFUUNNQVFSQnJJZ0VnQUNnQ0hFRW9hallDRENBQklBRW9BZ3dvQWdBMkFnZ2dBQ0FCS0FJSU5nSVFJQUFvQWhCQi8vLy8vd2NnQUNnQ0hDMEFMR3RMQkVCQm55UkJ5eFZCMndGQnFSWVFBQUFMSUFBZ0FDZ0NIRUVnYWpZQ0RDQUFRUUEyQWdnRFFDQUFLQUlJSUFBb0FoQkpCRUFnQUNnQ0RDZ0NBQ2dDQ0FSQUlBQWdBQ2dDQ0NBQUtBSWNMUUFzYWpZQ0JDQUFLQUlVSVFJZ0FDZ0NCQ0VESXdCQkVHc2lBU1FBSUFFZ0FqWUNDQ0FCSUFNMkFnUUNRQUpBQWtBZ0FTZ0NDQ2dDQUVVTkFDQUJLQUlFUVFCSURRQWdBU2dDQkNFSUlBRW9BZ2dvQWdBaEFpTUFRUkJySWdNa0FDQURJQUkyQWd3akFFRVFheUlDSUFNb0FndzJBZ2dDUUNBQ0tBSUlSUVJBSUFKQkFEWUNEQXdCQ3lBQ0lBSW9BZ2dvQWdBMkFnd0xJQUlvQWd3aEFpQURRUkJxSkFBZ0NDQUNTUTBCQ3lBQlFRQTJBZ3dNQVFzZ0FTZ0NDQ2dDQUNFQ0lBRW9BZ1FoQlNNQVFSQnJJZ01rQUNBRElBSTJBZ3dnQXlBRk5nSUlJQU1vQWdnaEJTTUFRUkJySWdJZ0F5Z0NERFlDQ0NBQ0lBVTJBZ1FDUUFKQUlBSW9BZ2dFUUNBQ0tBSUVJQUlvQWdnb0FnQkpEUUVMSUFKQkFEWUNEQXdCQ3lBQ0lBSW9BZ2dvQWdRZ0FpZ0NCRUVDZEdvb0FnQTJBZ3dMSUFJb0Fnd2hBaUFEUVJCcUpBQWdBU0FDTmdJTUN5QUJLQUlNSVFJZ0FVRVFhaVFBSUFBZ0FqWUNBQ0FBS0FJWUlBQW9BZ0FnQUNnQ0ZDQUFLQUlFSUFBb0Fnd29BZ0FpQVNnQ0FDQUJLQUlFSUFFb0FnZ1JDZ0FMSUFBZ0FDZ0NEQ2dDQUVFTWFqWUNEQ0FBSUFBb0FnaEJBV28yQWdnTUFRc0xJQUFvQWhRb0FnQWhBaU1BUVJCcklnRWtBQ0FCSUFJMkFnd2dBU2dDREJET0FTQUJRUkJxSkFBZ0FDZ0NGRUVBTmdJQUN5QUFRU0JxSkFBZ0JDQUVLQUtJQVNnQ0lCRUJBQ0FFUWR3Q2FoQmRJQVJCMEFKcUVGMGdCRUhJQW1vUVhTQUVRY0FDYWhCZElBUkJ6QUZxRVBZQklBUkJ5QUZxRVBZQklBUkJ3QUZxRUYwakFFRVFheUlGSkFBZ0JTQUVRWVFCYWpZQ0RDQUZLQUlNSVFBakFFRVFheUlCSkFBZ0FTQUFOZ0lNSUFGQkFEWUNDQ0FCSUFFb0Fnd2lBQkFYS0FJQU5nSUVJQUVvQWdnaEFpQUFFQmNnQWpZQ0FDQUJLQUlFQkVBZ0FCQVhJUUFnQVNnQ0JDRURJd0JCRUdzaUFpUUFJQUlnQURZQ0RDQUNJQU0yQWdnZ0FpZ0NDQ0VBSXdCQkVHc2lBeVFBSUFNZ0FEWUNEQ0FES0FJTUlRY2pBRUVRYXlBRFFRaHFOZ0lNSXdCQkVHc2lBQ1FBSUFBZ0J6WUNEQ0FBUWNNQU5nSUlJQUJCQURZQ0JDQUFLQUlNQkVBZ0FFRUFOZ0lBQTBBZ0FDZ0NBQ0FBS0FJTUtBSUFTUVJBSUFBb0Fnd29BZ1FnQUNnQ0FFRUNkR29vQWdBRVFDQUFLQUlFSUFBb0Fnd29BZ1FnQUNnQ0FFRUNkR29vQWdBZ0FDZ0NDQkVDQUFzZ0FDQUFLQUlBUVFGcU5nSUFEQUVMQ3lBQUtBSU1FTTRCQ3lBQVFSQnFKQUFnQTBFUWFpUUFJQUpCRUdva0FBc2dBVUVRYWlRQUlBVkJFR29rQUNNQVFSQnJJZ0lrQUNBQ0lBUkJnQUZxTmdJTUlBSW9BZ3doQVNNQVFSQnJJZ0FrQUNBQUlBRTJBZ3dnQUVFQU5nSUlJQUFnQUNnQ0RDSUJFQmNvQWdBMkFnUWdBQ2dDQ0NFRElBRVFGeUFETmdJQUlBQW9BZ1FFUUNBQkVCY2hBeUFBS0FJRUlRVWpBRUVRYXlJQkpBQWdBU0FETmdJTUlBRWdCVFlDQ0NBQktBSUlJUVVqQUVFUWF5SURKQUFnQXlBRk5nSU1JQU1vQWd3UUtDQURRUkJxSkFBZ0FVRVFhaVFBQ3lBQVFSQnFKQUFnQWtFUWFpUUFJQVpCRUdva0FDQUVDeFVCQVg4akFFRVFheUlCSUFBMkFnd2dBU2dDREF1Y0FRRUVmeU1BUVJCcklnSWtBQ0FDSUFBMkFnd2dBaWdDRENFQkl3QkJFR3NpQUNRQUlBQWdBVFlDRENBQVFRQTJBZ2dnQUNBQUtBSU1JZ0VRRnlnQ0FEWUNCQ0FBS0FJSUlRTWdBUkFYSUFNMkFnQWdBQ2dDQkFSQUlBRVFGeUVESUFBb0FnUWhCQ01BUVJCcklnRWtBQ0FCSUFNMkFnd2dBU0FFTmdJSUlBRW9BZ2dROXdFZ0FVRVFhaVFBQ3lBQVFSQnFKQUFnQWtFUWFpUUFDN1FIQVFWL0l3QkJFR3NpQlNRQUlBVWdBRFlDRENBRktBSU1JUUFqQUVFUWF5SUNKQUFnQWlBQU5nSU1Ba0FnQWlnQ0RFVU5BQ0FDSUFJb0Fnd29BZ0EyQWdnZ0FpZ0NDRVVFUUNBQ0tBSU1RUXhxRUdnRVFDQUNLQUlNRU04QkN3d0JDeUFDS0FJSVFRUnFJUUVqQUVFUWF5SUFKQUFnQUNBQk5nSU1JQUFvQWd3YUlBQkJFR29rQUNBQ0tBSU1RUXhxRUdoRkJFQWdBaWdDRENnQ0FFRUVhaUVCSXdCQkVHc2lBQ1FBSUFBZ0FUWUNEQ0FBS0FJTUdpQUFRUkJxSkFBTUFRc2dBaWdDQ0NnQ0FDRUFJQUlvQWd3aEF5TUFRUkJySWdFa0FDQUJJQUEyQWd3Z0FTQUROZ0lJSUFFb0Fnd2hBeUFCS0FJSUlRUWpBRUVnYXlJQUpBQWdBQ0FETmdJY0lBQWdCRFlDR0NBQVFkOEFOZ0lVSUFCQjRBQTJBaEFnQUNBQUtBSWNJQUFvQWhnZ0FDZ0NGQ0FBS0FJUUVOSUJOZ0lNSUFBb0Fnd29BZ0FFZnlBQUtBSU1LQUlBS0FJQUJVRUFDeUVESUFCQklHb2tBQ0FCUVJCcUpBQWdBaUFETmdJRUlBSW9BZ1FnQWlnQ0RFWUVRQ0FDS0FJSUtBSUFJUUFnQWlnQ0RDRUJJd0JCRUdzaUF5UUFJQU1nQURZQ0RDQURJQUUyQWdnZ0F5Z0NEQ0VCSUFNb0FnZ2hCQ01BUVNCcklnQWtBQ0FBSUFFMkFoZ2dBQ0FFTmdJVUlBQkIzd0EyQWhBZ0FFSGdBRFlDRENBQUlBQW9BaGdnQUNnQ0ZDQUFLQUlRSUFBb0Fnd1EwZ0UyQWdnQ1FDQUFLQUlJS0FJQVJRUkFJQUJCQURZQ0hBd0JDeUFBSUFBb0FnZ29BZ0EyQWdRZ0FDZ0NDQ0FBS0FJRUtBSUVOZ0lBSUFBZ0FDZ0NCQ2dDQURZQ0FDQUFLQUlFRUNnZ0FDZ0NHQ0lCSUFFb0FnQkJBV3MyQWdBZ0FDZ0NHQ0VFSXdCQkVHc2lBU1FBSUFFZ0JEWUNEQUpBSUFFb0Fnd29BZ3dOQUNBQktBSU1LQUlJUVJCSkJFQkJnQXRCK3hOQjl3RkI2UTRRQUFBTElBRWdBU2dDRENJRUtBSUFJQVFvQWdodU5nSUlJQUVvQWdoQkFrc0VRQ0FCSUFFb0Fnd29BZ2hCQVhRMkFnUWdBU2dDQkNBQktBSU1LQUlJU3dSQUlBRW9BZ3dnQVNnQ0JCRFJBUXNNQVFzQ1FDQUJLQUlJRFFBZ0FTZ0NEQ2dDQ0VFUVRRMEFJQUVnQVNnQ0RDZ0NDRUVCZGpZQ0FDQUJLQUlBUVJCSkJFQWdBVUVRTmdJQUN5QUJLQUlNSUFFb0FnQVEwUUVMQ3lBQlFSQnFKQUFnQUNBQUtBSUFOZ0ljQ3lBQUtBSWNJUUVnQUVFZ2FpUUFJQUVoQUNBRFFSQnFKQUFnQWlBQU5nSUVJQUlvQWdRZ0FpZ0NERWNFUUVIY0RrSFJFMEhyQVVHMUVCQUFBQXNMSUFJb0Fnd29BZ0JCQkdvaEFTTUFRUkJySWdBa0FDQUFJQUUyQWd3Z0FDZ0NEQm9nQUVFUWFpUUFJQUlvQWd3UXp3RUxJQUpCRUdva0FDQUZRUkJxSkFBTGNnRUJmeU1BUVJCcklnTWtBQ0FESUFBMkFnd2dBeUFCTmdJSUlBTWdBallDQkNBREtBSUlJUUVnQXlnQ0JDRUNJd0JCRUdzaUFDQURLQUlNTmdJTUlBQWdBVFlDQ0NBQUlBSTJBZ1FnQUNnQ0NDSUJJQUFvQWdRaUFDa0NBRGNDQUNBQklBQW9BZ2cyQWdnZ0EwRVFhaVFBQzFvQkFYOGpBRUVRYXlJQ0pBQWdBaUFBTmdJTUlBSWdBVFlDQ0NBQ0tBSUlJUUVqQUVFUWF5SUFJQUlvQWd3MkFnd2dBQ0FCTmdJSUlBQW9BZ3dnQUNnQ0NFRUNhMm90QUFCQkgzRkJCVXNoQUNBQ1FSQnFKQUFnQUF0MEFRSi9Jd0JCRUdzaUF5UUFJQU1nQURZQ0RDQURJQUUyQWdnZ0F5QUNOZ0lFSUFNb0Fnd2hBU0FES0FJSUlRSWdBeWdDQkNFRUl3QkJFR3NpQUNRQUlBQWdBVFlDRENBQUlBSTJBZ2dnQUNBRU5nSUVJQUFvQWdnZ0FDZ0NCRUVNYkVFRUVFTWdBRUVRYWlRQUlBTkJFR29rQUF1WEFRRUhmeU1BUVJCcklnSWtBQ0FDSUFBMkFnd2dBaWdDRENJQUVCa2hBeUFBRUJrZ0FCQlBRUXhzYWlFRUlBQVFHU0VISXdCQkVHc2lBU0FBTmdJTUlBY2dBU2dDRENJQktBSUVJQUVvQWdCclFReHRRUXhzYWlFRklBQVFHU0FBRUU5QkRHeHFJUVlqQUVFZ2F5SUJJQUEyQWh3Z0FTQUROZ0lZSUFFZ0JEWUNGQ0FCSUFVMkFoQWdBU0FHTmdJTUlBSkJFR29rQUF0VkFRRi9Jd0JCRUdzaUFpUUFJQUlnQURZQ0JDQUNJQUUyQWdBZ0FpZ0NBQ0VCSXdCQkVHc2lBQ0FDUVFocU5nSU1JQUFnQVRZQ0NDQUFLQUlNSUFBb0FnZzJBZ0FnQWlnQ0NDRUFJQUpCRUdva0FDQUFDNHNCQVFOL0l3QkJFR3NpQWlRQUlBSWdBRFlDRENBQ0lBRTJBZ2dnQWlnQ0RDRUJJQUlvQWdnaEF5TUFRUkJySWdBa0FDQUFJQUUyQWd3Z0FDQUROZ0lJSXdCQkVHc2lBU0FBS0FJTU5nSU1JQUVvQWd3b0FnQWhCQ01BUVJCcklnRWdBQ2dDQ0RZQ0RDQUVJQUVvQWd3b0FnQkdJUUVnQUVFUWFpUUFJQUpCRUdva0FDQUJRWDl6UVFGeEN6Z0JBWDhqQUVFUWF5SUJKQUFnQVNBQU5nSUVJQUVnQVNnQ0JDSUFJQUFvQWdRUS9BRTJBZ2dnQVNnQ0NDRUFJQUZCRUdva0FDQUFDemdCQVg4akFFRVFheUlCSkFBZ0FTQUFOZ0lFSUFFZ0FTZ0NCQ0lBSUFBb0FnQVEvQUUyQWdnZ0FTZ0NDQ0VBSUFGQkVHb2tBQ0FBQzMwQkFYOGpBRUVnYXlJQ0pBQWdBaUFBTmdJY0lBSWdBVFlDR0NNQVFSQnJJZ0FnQWlnQ0hEWUNCQ0FBSUFBb0FnUW9BZ0EyQWdnZ0FpQUFLQUlJTmdJUUlBQWdBaWdDR0RZQ0JDQUFJQUFvQWdRb0FnQTJBZ2dnQWlBQUtBSUlOZ0lJSUFKQkVHb2dBa0VJYWhEOUFVRUJjU0VBSUFKQklHb2tBQ0FBQzFjQkFYOGpBRUVRYXlJQkpBQWdBU0FBTmdJRUlBRWdBU2dDQkJEL0FUWUNBQ01BUVJCcklnQWdBU2dDQURZQ0NDQUFJQUZCQ0dvMkFnUWdBQ2dDQkNBQUtBSUlOZ0lBSUFFb0FnZ2hBQ0FCUVJCcUpBQWdBQXRCQVFGL0l3QkJFR3NpQXlRQUlBTWdBRFlDRENBRElBRTJBZ2dnQXlBQ05nSUVJQU1vQWd3aEFFSHNKU0FES0FJSUlBTW9BZ1FRQlNBRFFSQnFKQUFnQUF0WEFRRi9Jd0JCRUdzaUFTUUFJQUVnQURZQ0JDQUJJQUVvQWdRUS9nRTJBZ0FqQUVFUWF5SUFJQUVvQWdBMkFnZ2dBQ0FCUVFocU5nSUVJQUFvQWdRZ0FDZ0NDRFlDQUNBQktBSUlJUUFnQVVFUWFpUUFJQUFMc2dFQ0Fud0JmeU1BUVJCcklnUWtBQ0FFSUFBMkFnd2dCQ0FCTndNQUlBUXBBd0JRQkg1Q0FRVUNmaUFFS1FNQUlRRWpBRUVRYXlJQUpBQWdBQ0FCTndNSUlBQXBBd2k2RU13QklRSWdBRUVRYWlRQUlBSWhBeU1BUVJCcklnQWtBQ0FBUVlBQ05nSU1JQUFvQWd5M0VNd0JJUUlnQUVFUWFpUUFJQU1nQXFNaUFrUUFBQUFBQUFEd1EyTWdBa1FBQUFBQUFBQUFBR1p4QkVBZ0FyRU1BUXRDQUF0Q0FYd0xJUUVnQkVFUWFpUUFJQUVMM2dFQkJuOGpBRUVRYXlJREpBQWdBeUFBTmdJTUlBTW9BZ3doQVNNQVFSQnJJZ0FrQUNBQUlBRTJBZ3dnQUVFQU5nSUlJQUFnQUNnQ0RDSUJFQmNvQWdBMkFnUWdBQ2dDQ0NFQ0lBRVFGeUFDTmdJQUlBQW9BZ1FFUUNBQkVGSWhBaUFBS0FJRUlRUWpBRUVRYXlJQkpBQWdBU0FDTmdJTUlBRWdCRFlDQ0NBQktBSU1JZ0l0QUFSQkFYRUVRQ0FDS0FJQUlRUWdBU2dDQ0VFSWFoQXNJUVVqQUVFUWF5SUdJQVEyQWd3Z0JpQUZOZ0lJQ3lBQktBSUlCRUFnQWlnQ0FDQUJLQUlJRUg4TElBRkJFR29rQUFzZ0FFRVFhaVFBSUFOQkVHb2tBQXVRQVFFQ2Z5TUFRU0JySWdJa0FDQUNJQUEyQWh3Z0FpQUJOZ0lZSUFJZ0FpZ0NIQkFZTmdJVUEwQWdBaWdDR0FSQUlBSWdBaWdDR0NnQ0FEWUNFQ0FDSUFJb0FoZ1FGellDRENBQ0tBSVVJUUFnQWlnQ0RFRUlhaEFzSVFFakFFRVFheUlESUFBMkFnd2dBeUFCTmdJSUlBSW9BaFFnQWlnQ0RCQi9JQUlnQWlnQ0VEWUNHQXdCQ3dzZ0FrRWdhaVFBQzVBQkFRSi9Jd0JCRUdzaUJDUUFJQVFnQURZQ0RDQUVJQUUyQWdnZ0JDQUNOZ0lFSUFRZ0F6WUNBQ0FFS0FJTUlRRWdCQ2dDQ0NFQ0lBUW9BZ1FoQXlBRUtBSUFJUVVqQUVFUWF5SUFKQUFnQUNBQk5nSU1JQUFnQWpZQ0NDQUFJQU0yQWdRZ0FDQUZOZ0lBSUFBb0FnZ2dBQ2dDQkNnQ0FDQUFLQUlBS0FJQUVMd0JJQUJCRUdva0FDQUVRUkJxSkFBTG53RUJBMzhqQUVFUWF5SUNKQUFnQWlBQU5nSU1JQUlnQVRZQ0NDQUNLQUlNSVFFZ0FpZ0NDQ0VESXdCQkVHc2lBQ1FBSUFBZ0FUWUNEQ0FBSUFNMkFnZ2dBQ2dDQ0NFRUlBQW9BZ3doQXlNQVFSQnJJZ0VrQUNBQklBTTJBZ3dqQUVFUWF5QUJLQUlNTmdJTUlBRkJFR29rQUNBRVFmLy8vLzhEU3dSQUVEa0FDeUFBS0FJSVFRSjBRUVFRUVNFQklBQkJFR29rQUNBQ1FSQnFKQUFnQVF1SEJnRUZmeU1BUVRCcklnSWtBQ0FDSUFBMkFpd2dBaUFCTmdJb0lBSWdBaWdDTENJQUVEOFFKallDSkFKL0lBSW9BaWdFUUNBQ0tBSWtJQUlvQWlnUWlBSU1BUXRCQUFzaEF5TUFRUkJySWdFa0FDQUJJQUEyQWd3Z0FTQUROZ0lJSUFFZ0FTZ0NEQ0lERUJjb0FnQTJBZ1FnQVNnQ0NDRUVJQU1RRnlBRU5nSUFJQUVvQWdRRVFDQURFRklnQVNnQ0JCQ05BZ3NnQVVFUWFpUUFJQUlvQWlnaEFTQUFFRDhRSmlBQk5nSUFJQUlvQWlnRVFDQUNRUUEyQWlBRFFDQUNLQUlnSUFJb0FpaEpCRUFnQUNBQ0tBSWdFQ05CQURZQ0FDQUNJQUlvQWlCQkFXbzJBaUFNQVFzTElBSWdBRUVJYWhBWEVCYzJBaHdnQWlBQ0tBSWNLQUlBTmdJWUlBSW9BaGdFUUNNQVFSQnJJZ0VnQWlnQ0dEWUNEQ0FDSUFFb0Fnd29BZ1FnQWlnQ0tCQWxOZ0lVSUFJb0Fod2hBU0FBSUFJb0FoUVFJeUFCTmdJQUlBSWdBaWdDRkRZQ0VDQUNJQUlvQWhnMkFod2dBaUFDS0FJWUtBSUFOZ0lZQTBBZ0FpZ0NHQVJBSXdCQkVHc2lBU0FDS0FJWU5nSU1JQUlnQVNnQ0RDZ0NCQ0FDS0FJb0VDVTJBaFFDUUNBQ0tBSVVJQUlvQWhCR0JFQWdBaUFDS0FJWU5nSWNEQUVMQWtBZ0FDQUNLQUlVRUNNb0FnQkZCRUFnQWlnQ0hDRUJJQUFnQWlnQ0ZCQWpJQUUyQWdBZ0FpQUNLQUlZTmdJY0lBSWdBaWdDRkRZQ0VBd0JDeUFDSUFJb0FoZzJBZ3dEUUNBQ0tBSU1LQUlBQkg4Z0FCQXdJUU1nQWlnQ0dCQVhRUWhxSVFRZ0FpZ0NEQ2dDQUJBWFFRaHFJUVVqQUVFUWF5SUJKQUFnQVNBRE5nSU1JQUVnQkRZQ0NDQUJJQVUyQWdRZ0FTZ0NEQ0VFSUFFb0FnZ1FKaUVGSUFFb0FnUVFKaUVHSXdCQkVHc2lBeUFFTmdJTUlBTWdCVFlDQ0NBRElBWTJBZ1FnQXlnQ0NDa0RBQ0FES0FJRUtRTUFVU0VESUFGQkVHb2tBQ0FEQlVFQUMwRUJjUVJBSUFJZ0FpZ0NEQ2dDQURZQ0RBd0JDd3NnQWlnQ0hDQUNLQUlNS0FJQU5nSUFJQUFnQWlnQ0ZCQWpLQUlBS0FJQUlRRWdBaWdDRENBQk5nSUFJQUlvQWhnaEFTQUFJQUlvQWhRUUl5Z0NBQ0FCTmdJQUN3c2dBaUFDS0FJY0tBSUFOZ0lZREFFTEN3c0xJQUpCTUdva0FBdWZBUUVFZnlNQVFSQnJJZ0lrQUNBQ0lBQTJBZ3dnQWtFQk5nSUlJQUlvQWd3aEFTQUNLQUlJSVFNakFFRVFheUlBSkFBZ0FDQUJOZ0lNSUFBZ0F6WUNDQ0FBS0FJSUlRUWdBQ2dDRENFREl3QkJFR3NpQVNRQUlBRWdBellDRENNQVFSQnJJQUVvQWd3MkFnd2dBVUVRYWlRQUlBUkJxdFdxMVFCTEJFQVFPUUFMSUFBb0FnaEJHR3hCQ0JCQklRRWdBRUVRYWlRQUlBSkJFR29rQUNBQkM2c0RBZ0ovQVgwakFFRVFheUlDSkFBZ0FpQUFOZ0lNSUFJZ0FUWUNDQ0FDS0FJTUlRQUNRQ0FDS0FJSVFRRkdCRUFnQWtFQ05nSUlEQUVMSUFJb0FnZ2lBU0FCUVFGcmNRUkFJQUlnQWlnQ0NCREtBVFlDQ0FzTElBSWdBQkEwTmdJRUFrQWdBaWdDQ0NBQ0tBSUVTd1JBSUFBZ0FpZ0NDQkNKQWd3QkN5QUNLQUlJSUFJb0FnUkpCRUFnQWdKL0lBSW9BZ1FRb3dGQkFYRUVRQUovSUFBUUhTZ0NBTE1nQUJBd0tnSUFsU0VFSXdCQkVHc2lBU0FFT0FJTUlBRXFBZ3lOSWdSREFBQ0FUMTBnQkVNQUFBQUFZSEVFUUNBRXFRd0JDMEVBQ3lFREl3QkJFR3NpQVNRQUlBRWdBellDREFKL0lBRW9BZ3hCQWtrRVFDQUJLQUlNREFFTEl3QkJFR3NpQXlBQktBSU1RUUZyTmdJTVFRRkJJQ0FES0FJTVoydDBDeUVESUFGQkVHb2tBQ0FEREFFTEFuOGdBQkFkS0FJQXN5QUFFREFxQWdDVklRUWpBRUVRYXlJQklBUTRBZ3dnQVNvQ0RJMGlCRU1BQUlCUFhTQUVRd0FBQUFCZ2NRUkFJQVNwREFFTFFRQUxFTW9CQ3pZQ0FDQUNJQUpCQ0dvZ0FoQktLQUlBTmdJSUlBSW9BZ2dnQWlnQ0JFa0VRQ0FBSUFJb0FnZ1FpUUlMQ3dzZ0FrRVFhaVFBQzNRQkFuOGpBRUVRYXlJREpBQWdBeUFBTmdJTUlBTWdBVFlDQ0NBRElBSTJBZ1FnQXlnQ0RDRUJJQU1vQWdnaEFpQURLQUlFSVFRakFFRVFheUlBSkFBZ0FDQUJOZ0lNSUFBZ0FqWUNDQ0FBSUFRMkFnUWdBQ2dDQ0NBQUtBSUVRUUowUVFRUVF5QUFRUkJxSkFBZ0EwRVFhaVFBQ3pvQkFYOGpBRUVRYXlJQ0pBQWdBaUFBTmdJTUlBSWdBVFlDQ0NBQ0tBSU1JZ0FRSmlBQ0tBSUlJQUFRSmlnQ0FCQ01BaUFDUVJCcUpBQUxTZ0VCZnlNQVFSQnJJZ0lrQUNBQ0lBQTJBZ3dnQWlBQk5nSUlJQUlvQWdnaEFTTUFRUkJySWdBa0FDQUFJQUUyQWd3Z0FDZ0NERUVJYWhBNElBQkJFR29rQUNBQ1FSQnFKQUFMYmdFQ2Z5TUFRUkJySWdJa0FDQUNJQUEyQWd3Z0FpZ0NEQ0VCSXdCQkVHc2lBQ1FBSUFBZ0FUWUNEQ0FBUVFBMkFnZ2dBQ0FBS0FJTUlnRVFGeWdDQURZQ0JDQUJFQmRCQURZQ0FDQUFLQUlFQkVBZ0FSQlNJQUFvQWdRUWpRSUxJQUJCRUdva0FDQUNRUkJxSkFBTGZBRUJmeU1BUVNCcklnSWtBQ0FDSUFBMkFod2dBaUFCTmdJWUlBSWdBaWdDSEJBWU5nSVVBMEFnQWlnQ0dBUkFJQUlnQWlnQ0dDZ0NBRFlDRUNBQ0lBSW9BaGdRRnpZQ0RDQUNLQUlVSUFJb0FneEJDR29RTEJDT0FpQUNLQUlVSUFJb0Fnd1FmeUFDSUFJb0FoQTJBaGdNQVFzTElBSkJJR29rQUFzd0FRRi9Jd0JCRUdzaUFTUUFJQUVnQURZQ0JDTUFRUkJySWdBZ0FTZ0NCRFlDRENBQUtBSU1HaUFCUVJCcUpBQUxqd0VCQW44akFFRWdheUlDSkFBZ0FTZ0NBQ0VESUFFb0FnUWhBU0FDSUFBMkFoZ2dBaUFCTmdJVUlBSWdBellDRUNBQ1FSTTJBZ3dnQWlnQ0dDRUJJd0JCRUdzaUFDQUNRUWhxSWdNMkFnd2dBQ1FBSUFBZ0F6WUNEQ0FBUVJCcUpBQWdBaUFDS0FJTU5nSWNRYlFuSUFGQkEwR1VLVUdRS0NBQ0tBSU1JQUpCRUdvUVZVRUFFQVFnQWtFZ2FpUUFDMElCQVg4akFFRVFheUlDSkFBZ0FpQUFOZ0lNSUFJZ0FUWUNDQ0FDS0FJTUlnQWdBaWdDQ0JDZUFpQUFRWVF5TmdJQUlBQkJBVG9BSUNBQ1FSQnFKQUFnQUF2b0FnRUJmeU1BUVNCcklnSWtBQ0FDSUFBMkFoUWdBaUFCTmdJUUlBSWdBaWdDRkNJQUVCMGdBaWdDRUJCK05nSU1JQUlnQUJBME5nSUlBa0FnQWlnQ0NBUkFJQUlnQWlnQ0RDQUNLQUlJRUNVMkFnUWdBaUFBSUFJb0FnUVFJeWdDQURZQ0FDQUNLQUlBQkVBZ0FpQUNLQUlBS0FJQU5nSUFBMEFnQWlnQ0FBUi9Jd0JCRUdzaUFTQUNLQUlBTmdJTUlBRW9BZ3dvQWdRZ0FpZ0NERWNFZnlNQVFSQnJJZ0VnQWlnQ0FEWUNEQ0FCS0FJTUtBSUVJQUlvQWdnUUpTQUNLQUlFUmdWQkFRc0ZRUUFMUVFGeEJFQWpBRUVRYXlJQklBSW9BZ0EyQWd3Q1FDQUJLQUlNS0FJRUlBSW9BZ3hIRFFBZ0FCQXdJQUlvQWdBUUYwRUlhaUFDS0FJUUVIMUJBWEZGRFFBZ0FpZ0NBQ0VCSXdCQkVHc2lBQ0FDUVJocU5nSU1JQUFnQVRZQ0NDQUFLQUlNSUFBb0FnZzJBZ0FNQlFzZ0FpQUNLQUlBS0FJQU5nSUFEQUVMQ3dzTElBSWdBQkNBQVRZQ0dBc2dBaWdDR0NFQUlBSkJJR29rQUNBQUM2Y0ZBZ1IvQW40akFFRVFheUlESkFBZ0F5QUFOZ0lFSUFNZ0FUWUNBRUVnRUM4aUJTRUFJQU1vQWdRcEF3QWhCaUFES0FJQUtRTUFJUWNqQUVFZ2F5SUVKQUFnQkNBQU5nSWNJQVFnQmpjREVDQUVJQWMzQXdnZ0JDZ0NIQ0lCSUFRcEF4QTNBd0FnQVNBRUtRTUlOd01JSUFGQkVHb1FLaUFCUWdBM0F4Z2pBRUV3YXlJQUpBQWdBQ0FCTmdJc0FrQWdBQ2dDTENJQktRTUFRZ0JVRFFBZ0FTa0RDRUlBVkEwQUlBQWdBU0FCS1FNSUVJUUNOd01nSUFBZ0FTa0RBRUlIVmpvQUh5QUFBbjRnQUMwQUgwRUJjUVJBSUFFZ0FTa0RBQkNFQWd3QkN5QUJLUU1BQ3pjREVDQUJBbjRnQUMwQUgwRUJjUVJBSUFBcEF5QWdBQ2tERUVJQmZId01BUXNnQUNrRElFSUJmQXMzQXhnZ0FVRVFhaUlDSUFFcEF4aW5FQzhRWXlBQ0VCWkJBQ0FCS1FNWXB4QkdJQUFnQWhBV05nSU1JQUFvQWd3aUFpQUNMUUFBUVFOMHJDQUFLUU1nUWdGOVFnZURoRHdBQUNBQUtBSU1JQUF0QUI5QkFYRWdBQ2dDREMwQUFFRUJkSEk2QUFBZ0FDZ0NEQ0FBS0FJTUxRQUFRUU4wckFKK0lBQXRBQjlCQVhFRVFDQUFLUU1RUWdGOURBRUxJQUFwQXhBTFFnZURoRHdBQUNBQUxRQWZRUUZ4QkVBZ0FFRUFOZ0lJQTBBZ0FEUUNDQ0FBS1FNUVZBUkFJQUFvQWd3Z0FDZ0NDQ0lDUVFGcWFpQUJLUU1BSUFBcEF4QkNBWDBnQXF4OVFnT0dpRUwvQVlNOEFBQWdBQ0FBS0FJSVFRRnFOZ0lJREFFTEN3c2dBQUorSUFBdEFCOUJBWEVFUUNBQUtRTVFRZ0Y4REFFTFFnRUxQZ0lFSUFCQkFEWUNBQU5BSUFBMEFnQWdBQ2tESUZvTkFTQUFLQUlNSUFBb0FnQWlBaUFBS0FJRWFtb2dBU2tEQ0NBQUtRTWdRZ0Y5SUFLc2ZVSURob2hDL3dHRFBBQUFJQUFnQUNnQ0FFRUJhallDQUF3QUN3QUxJQUJCTUdva0FDQUVRU0JxSkFBZ0EwRUlhaUFGRUY4Z0F5Z0NDQ0VBSUFOQkVHb2tBQ0FBQzBNQkFYOGpBRUVRYXlJQ0pBQWdBaUFBTmdJTUlBSWdBVFlDQ0NBQ0tBSU1JZ0FnQWlnQ0NCQ2VBaUFBUWZBeE5nSUFJQUJCSUdvUW5RSWdBa0VRYWlRQUlBQUxWQUVCZnlNQVFSQnJJZ0lrQUNBQ0lBQTJBZ3dnQWlBQk5nSUlJQUlvQWdnaEFTTUFRUkJySWdBZ0FpZ0NERFlDRENBQUlBRTJBZ2dnQUNnQ0RDZ0NBQ0FBS0FJSUtBSUFSaUVBSUFKQkVHb2tBQ0FBQzFjQkFYOGpBRUVRYXlJQkpBQWdBU0FBTmdJRUlBRWdBU2dDQkJDQUFUWUNBQ01BUVJCcklnQWdBU2dDQURZQ0NDQUFJQUZCQ0dvMkFnUWdBQ2dDQkNBQUtBSUlOZ0lBSUFFb0FnZ2hBQ0FCUVJCcUpBQWdBQXV1QndFRWZ5TUFRVUJxSWdVa0FDQUZJQUEyQWpnZ0JTQUJOd013SUFVZ0FqY0RLQ0FGSUFNMkFpUWdCU0FFTmdJZ0lBVW9BamdpQjBFSWFpRUFJd0JCSUdzaUF5UUFJQU1nQURZQ0ZDQURJQVZCTUdvMkFoQWdBeWdDRkNFRUlBTW9BaEFoQmlNQVFTQnJJZ0FrQUNBQUlBUTJBaFFnQUNBR05nSVFJQUFnQUNnQ0ZDSUVFQjBnQUNnQ0VCQitOZ0lNSUFBZ0JCQTBOZ0lJQWtBZ0FDZ0NDQVJBSUFBZ0FDZ0NEQ0FBS0FJSUVDVTJBZ1FnQUNBRUlBQW9BZ1FRSXlnQ0FEWUNBQ0FBS0FJQUJFQWdBQ0FBS0FJQUtBSUFOZ0lBQTBBZ0FDZ0NBQVIvSUFBb0Fnd2hDQ01BUVJCcklnWWdBQ2dDQURZQ0RDQUlJQVlvQWd3b0FnUkhCSDhqQUVFUWF5SUdJQUFvQWdBMkFnd2dCaWdDRENnQ0JDQUFLQUlJRUNVZ0FDZ0NCRVlGUVFFTEJVRUFDMEVCY1FSQUl3QkJFR3NpQmlBQUtBSUFOZ0lNQWtBZ0JpZ0NEQ2dDQkNBQUtBSU1SdzBBSUFRUU1DQUFLQUlBRUJkQkNHb2dBQ2dDRUJCOVFRRnhSUTBBSUFBb0FnQWhCaU1BUVJCcklnUWdBRUVZYWpZQ0RDQUVJQVkyQWdnZ0JDZ0NEQ0FFS0FJSU5nSUFEQVVMSUFBZ0FDZ0NBQ2dDQURZQ0FBd0JDd3NMQ3lBQUlBUVFnQUUyQWhnTElBQW9BaGdoQkNBQVFTQnFKQUFnQXlBRU5nSUlJd0JCRUdzaUFDQURLQUlJTmdJSUlBQWdBMEVZYWpZQ0JDQUFLQUlFSUFBb0FnZzJBZ0FnQXlnQ0dDRUFJQU5CSUdva0FDQUZJQUEyQWhnZ0JTQUhRUWhxRUpnQ05nSVFBa0FnQlVFWWFpQUZRUkJxRUpjQ1FRRnhCRUFnQlVFQU9nQS9EQUVMSUFWQkNHb2lBQ0FGUVJocUVGRkJDR29RcUFFakFFRVFheUlESUFBMkFnd0NRQ0FES0FJTUtBSUFSUVJBSUFWQkFEb0FQd3dCQ3lBRktRTW9JQVVvQWlRZ0JTZ0NJQkNnQVVFQmNVVUVRQ0FGUVFBNkFEOE1BUXNnQlNnQ0pDSUFJUU1nQlNnQ0lDQUFhaUVFSXdCQkVHc2lBQ0FGUVFocU5nSU1JQUFvQWd3b0FnQWlBQ0FBS0FJQUtBSVlFUUFBSVFjZ0JTZ0NKQ0VHSXdCQklHc2lBQ1FBSUFBZ0F6WUNGQ0FBSUFRMkFoQWdBQ0FITmdJTUlBQWdCallDQ0FOQUlBQW9BaFFnQUNnQ0VFY0VRQ0FBS0FJVUlRUWdBQ2dDRENFSEl3QkJFR3NpQXlBQVFSaHFOZ0lNSUFNZ0JEWUNDQ0FESUFjMkFnUWdBeWdDQ0MwQUFDQURLQUlFTFFBQWN5RURJQUFvQWdnZ0F6b0FBQ0FBSUFBb0FoUkJBV28yQWhRZ0FDQUFLQUlNUVFGcU5nSU1JQUFnQUNnQ0NFRUJhallDQ0F3QkN3c2dBQ2dDQ0JvZ0FFRWdhaVFBSUFWQkFUb0FQd3NnQlVFQk5nSUVJQVZCQ0dvUU9Bc2dCUzBBUDBFQmNTRUFJQVZCUUdza0FDQUFDNk1CQVFWL0l3QkJFR3NpQXlRQUlBTWdBRFlDRENBREtBSU1JZ0FoQWlBQUtBSUFJUUVqQUVFUWF5SUFKQUFnQUNBQ05nSU1JQUFnQVRZQ0NDQUFJQUFvQWd3aUFpZ0NCRFlDQkFOQUlBQW9BZ2dnQUNnQ0JFY0VRQ0FDRUJnaEFTQUFJQUFvQWdSQkNHc2lCRFlDQkNBQklRVWpBRUVRYXlJQklBUTJBZ3dnQlNBQktBSU1FRVFNQVFzTElBSWdBQ2dDQ0RZQ0JDQUFRUkJxSkFBZ0EwRVFhaVFBQzVRQkFRZC9Jd0JCRUdzaUFpUUFJQUlnQURZQ0RDQUNLQUlNSWdBUUdTRURJQUFRR1NBQUVENUJBM1JxSVFRZ0FCQVpJUWNqQUVFUWF5SUJJQUEyQWd3Z0J5QUJLQUlNSWdFb0FnUWdBU2dDQUd0QmVIRnFJUVVnQUJBWklBQVFQa0VEZEdvaEJpTUFRU0JySWdFZ0FEWUNIQ0FCSUFNMkFoZ2dBU0FFTmdJVUlBRWdCVFlDRUNBQklBWTJBZ3dnQWtFUWFpUUFDMmtCQVg4akFFRVFheUlDSkFBZ0FpQUFOZ0lNSUFJZ0FUWUNDQ0FDS0FJTUlRRWdBaUFDS0FJSUtBSUFOZ0lBSXdCQkVHc2lBQ0FDS0FJQU5nSUlJQUFnQVRZQ0JDQUFLQUlFSUFBb0FnZzJBZ0FnQVNBQ0tBSUlMUUFFUVFGeE9nQUVJQUpCRUdva0FBdXVCQUVMZnlNQVFSQnJJZ1lrQUNBR0lBQTJBZ3dnQmlnQ0RDSUpJUUVqQUVFZ2F5SUFKQUFnQUNBQk5nSWNJQUFvQWh3aUJ5RUJJd0JCRUdzaUF5UUFJQU1nQVRZQ0RDQURLQUlNSVFFakFFRWdheUlFSkFBZ0JDQUJOZ0ljSUFRZ0EwRUlhallDR0NBRUlBTTJBaFFqQUVFUWF5SUJJQVFvQWh3aUFqWUNCQ0FCS0FJRVFRQTJBZ0FqQUVFUWF5SUlKQUFnQ0NBQ1FRUnFOZ0lFSUFnb0FnUWhBaU1BUVJCcklnRWtBQ0FCSUFJMkFnd2dBU2dDRENFRklBRkJBRFlDQ0NNQVFSQnJJZ0lrQUNBQ0lBVTJBZ3dnQWlBQlFRaHFOZ0lJSUFJZ0FUWUNCQ0FDS0FJSUlRb2pBRUVRYXlJRklBSW9BZ3dpQ3pZQ0RDQUZJQW8yQWdnZ0JTZ0NEQ0FGS0FJSUtBSUFOZ0lBSUFzUWlnRWdBa0VRYWlRQUlBRkJFR29rQUNBSVFSQnFKQUFnQkVFZ2FpUUFJQU5CRUdva0FDQUhRUWhxRUtVQ0lBQkJBRFlDR0NNQVFSQnJJZ0VrQUNBQklBZEJER28yQWd3Z0FTQUFRUmhxTmdJSUlBRWdBRUVRYWpZQ0JDQUJLQUlJSVFNakFFRVFheUlDSUFFb0Fnd2lCRFlDRENBQ0lBTTJBZ2dnQWlnQ0RDQUNLQUlJS0FJQU5nSUFJQVFRa1FJZ0FVRVFhaVFBSUFCREFBQ0FQemdDRENNQVFSQnJJZ0VrQUNBQklBZEJFR28yQWd3Z0FTQUFRUXhxTmdJSUlBRWdBRUVJYWpZQ0JDQUJLQUlJSVFNakFFRVFheUlDSUFFb0Fnd2lCRFlDRENBQ0lBTTJBZ2dnQWlnQ0RDQUNLQUlJS2dJQU9BSUFJQVFRa1FJZ0FVRVFhaVFBSUFCQklHb2tBQ01BUVJCcklBazJBZ3dnQmtFUWFpUUFDK3NEQVFoL0l3QkJFR3NpQlNRQUlBVWdBRFlDRENBRklBRTJBZ2dnQlNnQ0RDSUFRZHd4TmdJQUlBQWdCU2dDQ0RZQ0JDQUFRUWhxRUowQ0lBQkJIR29pQnhBcUlBVW9BZ2doQVNNQVFSQnJJZ0FrQUNBQUlBRTJBZ1FDUUNBQUtBSUVSUVJBSXdCQkVHc2lBU1FBUVJBUUx5SUdJUVFqQUVFUWF5SUNKQUFnQWlBRU5nSU1Jd0JCRUdzaUJDQUNLQUlNSWdNMkFnd2dCRUVBTmdJSUlBUW9BZ3dpQ0VHTUt6WUNBQ0FJSUFRb0FnZzJBZ1FnQTBHb0tUWUNBQ0FEUWVRek5nSUlJQU1oQ1JDWEFTRUVJd0JCRUdzaUF5QUVOZ0lNSUFrZ0F5Z0NEQ2dDRERZQ0RDQUNRUkJxSkFBZ0FVRUlhaUFHRUY4Z0FTZ0NDQ0VDSUFGQkVHb2tBQ0FBSUFJMkFnQWdBRUVJYWlBQUVMRUJJd0JCRUdzaUJDUUFJQVFnQURZQ0RDQUVLQUlNSVFJakFFRVFheUlCSkFBZ0FTQUNOZ0lNSUFGQkFEWUNDQ0FCSUFFb0Fnd2lBaEFYS0FJQU5nSUVJQUVvQWdnaEF5QUNFQmNnQXpZQ0FDQUJLQUlFQkVBZ0FoQVhJUU1nQVNnQ0JDRUdJd0JCRUdzaUFpUUFJQUlnQXpZQ0RDQUNJQVkyQWdnZ0FpZ0NDQ0lEQkVBZ0F4QldHaUFERUNJTElBSkJFR29rQUFzZ0FVRVFhaVFBSUFSQkVHb2tBQXdCQ3lBQVFRaHFFS2dDQ3lBQUtBSUlJUUVnQUVFUWFpUUFJQVVnQVRZQ0FDQUhJQVVRd2dFZ0JSQnpJQVZCRUdva0FBc2tBUUYvSXdCQkVHc2lBU1FBSUFFZ0FEWUNEQ0FCS0FJTUVLc0JHaUFCUVJCcUpBQUxNZ0VCZnlNQVFSQnJJZ0VrQUNBQklBQTJBZ3dnQVNnQ0RDSUFRZHd3TmdJQUlBQkJER29RbndJZ0FVRVFhaVFBSUFBTGRRRUNmeU1BUVJCcklnTWtBQ0FESUFBMkFnd2dBeUFCTmdJSUlBTWdBallDQkNBREtBSU1JUUVnQXlnQ0NDRUNJQU1vQWdRaEJDTUFRUkJySWdBa0FDQUFJQUUyQWd3Z0FDQUNOZ0lJSUFBZ0JEWUNCQ0FBS0FJSUlBQW9BZ1JCekFCc1FRUVFReUFBUVJCcUpBQWdBMEVRYWlRQUN6Y0JBWDhqQUVFUWF5SUNKQUFnQWlBQU5nSU1JQUlnQVRZQ0NDTUFRUkJySWdBZ0FpZ0NERFlDRENBQUtBSU1HaUFDUVJCcUpBQUxqd0VCQW44akFFRWdheUlDSkFBZ0FTZ0NBQ0VESUFFb0FnUWhBU0FDSUFBMkFoZ2dBaUFCTmdJVUlBSWdBellDRUNBQ1FSRTJBZ3dnQWlnQ0dDRUJJd0JCRUdzaUFDQUNRUWhxSWdNMkFnd2dBQ1FBSUFBZ0F6WUNEQ0FBUVJCcUpBQWdBaUFDS0FJTU5nSWNRYlFuSUFGQkEwSDBLRUdRS0NBQ0tBSU1JQUpCRUdvUVZVRUFFQVFnQWtFZ2FpUUFDNFFDQVFSL0l3QkJFR3NpQWlRQUlBSWdBRFlDRENBQ0tBSU1JZ01oQkNBREtBSUFJUUVqQUVFUWF5SUFKQUFnQUNBQk5nSUlBa0FnQUNnQ0NDZ0NBQVJBSXdCQkVHc2lBU0FBS0FJSUtBSUFOZ0lNQTBBZ0FTZ0NEQ2dDQkFSQUlBRWdBU2dDRENnQ0JEWUNEQXdCQ3dzZ0FDQUJLQUlNTmdJTURBRUxJQUFnQUNnQ0NEWUNCQU5BSXdCQkVHc2lBU0FBS0FJRU5nSU1JQUVvQWd3aUFTQUJLQUlJS0FJQVJnUkFJd0JCRUdzaUFTQUFLQUlFTmdJTUlBQWdBU2dDRENnQ0NEWUNCQXdCQ3dzakFFRVFheUlCSUFBb0FnUTJBZ3dnQUNBQktBSU1LQUlJTmdJTUN5QUFLQUlNSVFFZ0FFRVFhaVFBSUFRZ0FUWUNBQ0FDUVJCcUpBQWdBd3RYQVFOL0l3QkJFR3NpQVNRQUlBRWdBRFlDRENBQktBSU1JUUlqQUVFUWF5SUFKQUFnQUNBQ05nSUVJd0JCRUdzaUF5QUFLQUlFTmdJTUlBTW9BZ3hCQURZQ0FDQUFRUkJxSkFBZ0FoQ0tBU0FCUVJCcUpBQUxnQUVCQW44akFFRVFheUlCSkFBZ0FTQUFOZ0lJSUFFZ0FTZ0NDQ0lBTmdJTUlBQkI3QzgyQWdBZ0FFRUVhaEFXQkVBZ0FFRUVhaUlDRURFZ0FoQTNDeUFBUVRScUVCb2dBRUVzYWhBYUlBQkJKR29RR2lBQVFSeHFFQm9nQUVFVWFoQWFJQUJCREdvUUdpQUFRUVJxRUJvZ0FTZ0NEQ0VBSUFGQkVHb2tBQ0FBQzZzVUFRMS9Jd0JCSUdzaUN5UUFJQXNnQURZQ0hDQUxJQUkyQWhnZ0N5Z0NIQ0VESXdCQkVHc2lBQ0FMUVJCcUlnSTJBZ1FnQUNnQ0JCb2dBQ1FBSUFBZ0F6WUNEQ0FBSUFJMkFnZ2dBQ2dDRENJRlFRUnFFS1VDSUFCQkFEWUNCQ0FBS0FJSUlRWWpBRUVRYXlJQ0pBQWdBaUFGUVFocU5nSU1JQUlnQUVFRWFqWUNDQ0FDSUFZMkFnUWdBaWdDQ0NFRUl3QkJFR3NpQmlBQ0tBSU1JZ2MyQWd3Z0JpQUVOZ0lJSUFZb0Fnd2dCaWdDQ0NnQ0FEWUNBQ0FDS0FJRUlRUWpBRUVRYXlJR0lBYzJBZ3dnQmlBRU5nSUlJQVlvQWd3YUlBSkJFR29rQUNBRkVFZ2hBaU1BUVJCcklnWWdCVFlDRENBR0tBSU1JQUkyQWdBZ0FFRVFhaVFBSXdCQkVHc2lBQ0FCTmdJTUlBQW9BZ3dvQWdBaEFDTUFRUkJySWdJZ0FUWUNEQ0FDS0FJTUlnRW9BZ0FnQVNnQ0JFSFlBR3hxSVFFakFFRXdheUlDSkFBZ0FpQUROZ0lzSUFJZ0FEWUNLQ0FDSUFFMkFpUWdBaWdDTENJT0lRQWpBRUVRYXlJQkpBQWdBU0FBTmdJRUlBRW9BZ1FoQlNNQVFSQnJJZ0FrQUNBQUlBVTJBZ1FnQUNBQUtBSUVFSzRCTmdJQUl3QkJFR3NpQlNBQUtBSUFOZ0lJSUFVZ0FFRUlhallDQkNBRktBSUVJQVVvQWdnMkFnQWdBQ2dDQ0NFRklBQkJFR29rQUNBQklBVTJBZ2dnQVNnQ0NDRUFJQUZCRUdva0FDQUNJQUEyQWlBRFFDQUNLQUlvSUFJb0FpUkhCRUFnQWlBQ0tBSWdOZ0lRSXdBaUFVRVFheUlBSUFJb0FoQTJBZ2dnQUNBQ1FSaHFOZ0lFSUFBb0FnUWdBQ2dDQ0RZQ0FDQUNLQUlZSVFBZ0FpZ0NLQ0VGSUFGQk1Hc2lCaVFBSUFZZ0FEWUNJQ0FHSUE0MkFod2dCaUFGTmdJWUlBWW9BaHdoQUNBR0lBWW9BaUEyQWdnZ0JpZ0NDQ0VCSUFZb0FoZ2hBeU1BUVRCcklnVWtBQ0FGSUFFMkFpQWdCU0FBTmdJY0lBVWdBellDR0NBRktBSWNJUUFnQlNBRktBSWdOZ0lJSXdCQkVHc2lBU0FGS0FJWU5nSU1JQUVvQWd3aEF5QUZLQUlJSVFRZ0JTZ0NHQ0VISXdCQjBBQnJJZ0VrQUNBQklBUTJBa2dnQVNBQU5nSkVJQUVnQXpZQ1FDQUJJQWMyQWp3Z0FTZ0NSQ0VNSUFFZ0FTZ0NTRFlDS0NBQktBSW9JUU1nQVNnQ1FDRUVJd0JCNEFCcklnQWtBQ0FBSUFNMkFsZ2dBQ0FNTmdKVUlBQWdBVUU0YWpZQ1VDQUFJQUZCTkdvMkFrd2dBQ0FFTmdKSUlBQWdBQ2dDVkNJSEVLNEJOZ0k0SXdCQkVHc2lBeUFBS0FJNE5nSUlJQU1nQUVGQWF5SUVOZ0lFSUFNb0FnUWdBeWdDQ0RZQ0FDQURJQUJCMkFCcU5nSU1JQU1nQkRZQ0NBSkFJQU1vQWd3b0FnQWdBeWdDQ0NnQ0FFWUVmMEVCQlNBSEVCZ2dBQ2dDU0NBQVFkZ0FhaENDQVJDRUFRdEJBWEVFUUNBQUlBQW9BbGcyQWpBakFFRVFheUlESkFBZ0F5QUhOZ0lFSXdCQkVHc2lCQ0FES0FJRU5nSU1JQVFvQWd3b0FnQWhDU01BUVJCcklnUWdBMEVJYWpZQ0RDQUVJQWsyQWdnZ0JDZ0NEQ0FFS0FJSU5nSUFJQU1vQWdnaEJDQURRUkJxSkFBZ0FDQUVOZ0lnSXdCQkVHc2lBeUFBS0FJZ05nSUlJQU1nQUVFb2FpSUVOZ0lFSUFNb0FnUWdBeWdDQ0RZQ0FDTUFRUkJySWdNZ0FFRXdhallDRENBRElBUTJBZ2dnQXlnQ0RDZ0NBQ0FES0FJSUtBSUFSZ1IvUVFFRklBY1FHQ0FBUVRCcUVLUUNFSUlCSUFBb0FrZ1Fnd0VMUVFGeEJFQWdBQ2dDV0NnQ0FFVUVRQ0FBS0FKUUlBQW9BbGcyQWdBZ0FDQUFLQUpRS0FJQU5nSmNEQU1MSUFBb0FsQWdBQ2dDTURZQ0FDQUFJQUFvQWpCQkJHbzJBbHdNQWdzZ0FDQUhJQUFvQWxBZ0FDZ0NTQkNHQVRZQ1hBd0JDeUFIRUJnZ0FFSFlBR29RZ2dFZ0FDZ0NTQkNEQVVFQmNRUkFJQUFnQUNnQ1dEWUNFQ0FBS0FJUUlRTWpBRUVnYXlJSkpBQWdDU0FETmdJUUlBbEJBVFlDRENBSktBSU1JUU1qQUVFUWF5SUtKQUFnQ2lBSlFSQnFOZ0lNSUFvZ0F6WUNDQ01BUVJCcklnTWdDaWdDQ0RZQ0RDQUtJQU1vQWd3MkFnUWdDaWdDRENFRUlBb29BZ1FoQ0NNQVFSQnJJZ01rQUNBRElBUTJBZ1FnQXlBSU5nSUFBa0FnQXlnQ0FFRUFUZ1JBQTBBZ0F5Z0NBRUVBU2dSQUlBTW9BZ1FoQkNNQVFSQnJJZzBrQUNBTklBUTJBZ3dnRFNnQ0RDSUVJUThnQkNnQ0FDRUlJd0JCRUdzaUJDUUFJQVFnQ0RZQ0NBSkFJQVFvQWdnb0FnUUVRQ01BUVJCcklnZ2dCQ2dDQ0NnQ0JEWUNEQU5BSUFnb0Fnd29BZ0FFUUNBSUlBZ29BZ3dvQWdBMkFnd01BUXNMSUFRZ0NDZ0NERFlDREF3QkN3TkFJd0JCRUdzaUNDQUVLQUlJTmdJTUlBZ29BZ3dpQ0NBSUtBSUlLQUlBUmtGL2MwRUJjUVJBSXdCQkVHc2lDQ0FFS0FJSU5nSU1JQVFnQ0NnQ0RDZ0NDRFlDQ0F3QkN3c2dCQ0FFS0FJSUtBSUlOZ0lNQ3lBRUtBSU1JUWdnQkVFUWFpUUFJQThnQ0RZQ0FDQU5RUkJxSkFBZ0F5QURLQUlBUVFGck5nSUFEQUVMQ3d3QkN3TkFJQU1vQWdCQkFFZ0VRQ0FES0FJRUVLUUNHaUFESUFNb0FnQkJBV28yQWdBTUFRc0xDeUFEUVJCcUpBQWdDa0VRYWlRQUlBa2dDU2dDRURZQ0dDQUpLQUlZSVFNZ0NVRWdhaVFBSUFBZ0F6WUNHQ0FBSUFjUXJnRTJBZ0FqQUVFUWF5SURJQUFvQWdBMkFnZ2dBeUFBUVFocUlnUTJBZ1FnQXlnQ0JDQURLQUlJTmdJQUlBTWdBRUVZYWpZQ0RDQURJQVEyQWdnZ0F5Z0NEQ2dDQUNBREtBSUlLQUlBUmdSL1FRRUZJQWNRR0NBQUtBSklJQUJCR0dvUWdnRVFoQUVMUVFGeEJFQWpBRUVRYXlJRElBQkIyQUJxTmdJTUlBTW9BZ3dvQWdBb0FnUkZCRUFnQUNnQ1VDQUFLQUpZTmdJQUlBQWdBQ2dDV0VFRWFqWUNYQXdEQ3lBQUtBSlFJQUFvQWhnMkFnQWdBQ0FBS0FKUUtBSUFOZ0pjREFJTElBQWdCeUFBS0FKUUlBQW9Ba2dRaGdFMkFsd01BUXNnQUNnQ1VDQUFLQUpZTmdJQUlBQW9Ba3dnQUNnQ1dEWUNBQ0FBSUFBb0FrdzJBbHdMSUFBb0Fsd2hBeUFBUWVBQWFpUUFJQUVnQXpZQ01DQUJJQUVvQWpBb0FnQTJBaVFnQVVFQU9nQWpJQUVvQWpBb0FnQkZCRUFnQVNnQ1BDRURJd0JCSUdzaUFDUUFJQUFnRERZQ0hDQUFJQU0yQWhnZ0FDQUFLQUljRUdBMkFoUWdBRUVBT2dBVElBQW9BaFFRdFFFaEF5QUFRUWhxSWdjZ0FDZ0NGRUVBRUZRZ0FVRVFhaUlFSUFNZ0J4QlRJQUFvQWhRaEJ5QUVFQlpCRUdvUUxDRUpJQUFvQWhnaENpTUFRUkJySWdNa0FDQURJQWMyQWd3Z0F5QUpOZ0lJSUFNZ0NqWUNCQ0FES0FJTUlRa2dBeWdDQ0NFS0lBTW9BZ1FoQ0NNQVFSQnJJZ2NrQUNBSElBazJBZ3dnQnlBS05nSUlJQWNnQ0RZQ0JDQUhLQUlJSUFjb0FnUkIyQUFRR3hvZ0IwRVFhaVFBSUFOQkVHb2tBQ0FFRUQ5QkFUb0FCQ0FBUVFFNkFCTWdBQzBBRTBFQmNVVUVRQ0FFRUdJTElBQkJJR29rQUNBTUlBRW9BamdnQVNnQ01DQUVFQllRdGdFZ0FTQUVFRUkyQWlRZ0FVRUJPZ0FqSUFRUVlnc2dBU2dDSkNFREl3QkJFR3NpQUNBQlFRaHFJZ1EyQWd3Z0FDQUROZ0lJSUFBb0Fnd2dBQ2dDQ0RZQ0FDQUZRUkJxSUFRZ0FVRWphaEJoSUFGQjBBQnFKQUFnQlNBRktBSVFOZ0lvSUFVb0FpZ2hBQ0FGUVRCcUpBQWdCaUFBTmdJUUl3QkJFR3NpQUNBR0tBSVFOZ0lJSUFBZ0JrRW9hallDQkNBQUtBSUVJQUFvQWdnMkFnQWdCaWdDS0NFQUlBWkJNR29rQUNBQ0lBQTJBZ2dnQWlBQ0tBSW9RZGdBYWpZQ0tBd0JDd3NnQWtFd2FpUUFJQXRCSUdva0FBczBBUUYvSXdCQklHc2lBU1FBSUFFZ0FEWUNIQ0FCUVFBMkFoZ2dBU2dDSENBQlFSQnFJQUZCQ0dvUXdRRWdBVUVnYWlRQUM0d0NBUUovSXdCQkVHc2lBU1FBSUFFZ0FEWUNEQ0FCSUFFb0Fnd29BZ0EyQWdnZ0FTZ0NEQ0FCS0FJSUtBSUVOZ0lBSUFFb0Fnd29BZ0FFUUNNQVFSQnJJZ0FnQVNnQ0RDSUNLQUlBTmdJTUlBQWdBallDQ0NBQUtBSU1JQUFvQWdnMkFnZ0xJQUVvQWdnZ0FTZ0NEQ2dDQ0RZQ0NDTUFRUkJySWdBZ0FTZ0NERFlDREFKQUlBQW9BZ3dpQUNBQUtBSUlLQUlBUmdSQUlBRW9BZ3dvQWdnZ0FTZ0NDRFlDQUF3QkN5QUJLQUlJSVFBakFFRVFheUlDSUFFb0FndzJBZ3dnQWlnQ0RDZ0NDQ0FBTmdJRUN5QUJLQUlJSUFFb0FndzJBZ1FnQVNnQ0NDRUNJd0JCRUdzaUFDQUJLQUlNTmdJTUlBQWdBallDQ0NBQUtBSU1JQUFvQWdnMkFnZ2dBVUVRYWlRQUM0d0NBUUovSXdCQkVHc2lBU1FBSUFFZ0FEWUNEQ0FCSUFFb0Fnd29BZ1EyQWdnZ0FTZ0NEQ0FCS0FJSUtBSUFOZ0lFSUFFb0Fnd29BZ1FFUUNNQVFSQnJJZ0FnQVNnQ0RDSUNLQUlFTmdJTUlBQWdBallDQ0NBQUtBSU1JQUFvQWdnMkFnZ0xJQUVvQWdnZ0FTZ0NEQ2dDQ0RZQ0NDTUFRUkJySWdBZ0FTZ0NERFlDREFKQUlBQW9BZ3dpQUNBQUtBSUlLQUlBUmdSQUlBRW9BZ3dvQWdnZ0FTZ0NDRFlDQUF3QkN5QUJLQUlJSVFBakFFRVFheUlDSUFFb0FndzJBZ3dnQWlnQ0RDZ0NDQ0FBTmdJRUN5QUJLQUlJSUFFb0FndzJBZ0FnQVNnQ0NDRUNJd0JCRUdzaUFDQUJLQUlNTmdJTUlBQWdBallDQ0NBQUtBSU1JQUFvQWdnMkFnZ2dBVUVRYWlRQUMxY0JBbjhqQUVFUWF5SUNKQUFnQWlBQU5nSU1JQUlnQVRZQ0NDTUFRUkJySWdFZ0FpZ0NDQ0lEUVRocU5nSU1JQUlnQVNnQ0RDSUJLQUlFSUFFb0FnQnJJQU5CT0dvUUdSQjdJQUFnQWhCNElBSkJFR29rQUFzcUFRRi9Jd0JCRUdzaUFTUUFJQUVnQURZQ0RDQUJLQUlNSWdBUWh3RWFJQUFRSWlBQlFSQnFKQUFMc2dVQkNYOGpBRUVnYXlJRUpBQWdCQ0FBTmdJY0lBUWdBVGNERUNBRUtBSWNJUU1nQkVFQU5nSU1JQU1RRmlFQ0lBTkJGR29RR1NFRklBTW9BaUFoQmlBREtBSkVJUWNqQUVIZ0FHc2lBQ1FBSUFBZ0FqWUNXQ0FBSUFVMkFsUWdBQ0FHTmdKUUlBQWdCRUVNYWpZQ1RDQUFJQWMyQWtnZ0FDZ0NXQ0VDSUFCQkFEWUNSQUpBQWtBZ0FpZ0NCRVVFUUNBQVFRbzJBa1FNQVFzZ0FFRUFPZ0JmREFFTElBQkJPR29RTGdKQUlBQW9Ba2hGQkVBZ0FFRW9haUlDSUFBb0FsUWdBQ2dDVUJDZkFTQUFRVGhxSUFJUU5pQUNFQ2NNQVFzQ1FDQUFLQUpJUVFGR0JFQWdBRUVZYWlJQ0lBQW9BbFFnQUNnQ1VCQ2VBU0FBUVRocUlBSVFOaUFDRUNjTUFRc0NRQ0FBS0FKSVFRSkdCRUFnQUVFSWFpSUNJQUFvQWxRZ0FDZ0NVQkNkQVNBQVFUaHFJQUlRTmlBQ0VDY01BUXNnQUNnQ1NFRURSZ1JBSUFCQkFEWUNCQ0FBUVRocUlBQkJCR29nQUVIUUFHb1FVQXNMQ3dzZ0FDZ0NSRUVSYWlFSUl3QkJFR3NpQWlBQVFUaHFJZ1UyQWd3Z0NDQUNLQUlNSWdJb0FnUWdBaWdDQUd0QkEzVnNJUUlnQUNnQ1RDQUFLQUpRSUFKcU5nSUFJQUJCQVRvQVh5QUZFQ2NMSUFBdEFGOGFJQUJCNEFCcUpBQWdCQ2dDRENFQ0l3QkJFR3NpQUNRQUlBQWdBellDRENBQUlBSTJBZ2dqQUVFUWF5SUNJQUFvQWd3aUJVRWthallDRENBQUtBSUlJQUlvQWd3aUFpZ0NCQ0FDS0FJQWEwc0VRQ0FGUVNScUlBQW9BZ2dRaVFFTElBQkJFR29rQUNBRUlBTVFGaUlBSUFRcEF4QWdBMEVVYWhBWklBTW9BaUFnQXlnQ1JDQURRU1JxSWdJUUdTRUtJQU5CTUdvaENTTUFRUkJySWdVZ0FqWUNEQ0FLSUFrZ0JTZ0NEQ0lDS0FJRUlBSW9BZ0JySUFBb0FnQW9BZ2dSRUFBakFFRVFheUlBSUFRMkFnd2dBeUFBS0FJTUtBSUVOZ0kwSUFNb0FqQWhBQ01BUVJCcklnTWdCRFlDRENBREtBSU1HaUFFUVNCcUpBQWdBQXM1QVFGL0l3QkJFR3NpQVNRQUlBRWdBRFlDRENNQVFSQnJJZ0FnQVNnQ0RDZ0NDRFlDRENBQUtBSU1MUUFDSVFBZ0FVRVFhaVFBSUFBTDB4VUJCWDhqQUVGQWFpSU1KQUFnRENBQU5nSThJQXdnQVRZQ09DQU1JQU0yQWpRZ0RDQUVOZ0l3SUF3Z0JUWUNMQ0FNSUFZMkFpZ2dEQ0FITmdJa0lBd2dDRFlDSUNBTUlBazJBaHdnRENBS05nSVlJQXdnQ3pZQ0ZBSkFBa0FnRENnQ09DSUZLQUlFUlFSQUlBeEJDallDRUF3QkN5TUFRUkJySWdFZ0FEWUNEQ0FCUVFJMkFnZ2dBU2dDRENJQVFhUXpOZ0lBSUFBZ0FTZ0NDRFlDQkNBTVFRRTJBZ3dNQVFzZ0RDQU1LQUlRRUI4MkFnZ0NRQ0FGSUF4QkNHb1FGaUVRSUF3b0FoQWhEaU1BUVJCcklnRWdBallDRENBUUlBNGhEeUFCS0FJTUtBSUFJZ0VnQVNnQ0FDZ0NLQkVBQUNFTkl3QkJFR3NpQVNBQ05nSU1JQThnRFNBQktBSU1LQUlBSWdFZ0FTZ0NBQ2dDTEJFQUFDQU1LQUlvSUF3b0FpUWdEQ2dDR0NBTUtBSVVJQXdvQWlBZ0RDZ0NIQ0FNS0FJUWF4QzZBVUVCY1VVRVFDTUFRUkJySWdFZ0FEWUNEQ0FCUVFJMkFnZ2dBU2dDRENJQVFhUXpOZ0lBSUFBZ0FTZ0NDRFlDQkNBTVFRRTJBZ3dNQVFzZ0RDZ0NJQ0FNS0FJY2FpSUJJQXdvQWhCcklRUWdERUVJYWhBV0lRWWpBRUVRYXlJREpBQWdBeUFFTmdJTUlBTWdBVFlDQ0NBRElBWTJBZ1FnQXlnQ0RDRUVJQU1vQWdnaEJpQURLQUlFSVFjakFFRWdheUlCSkFBZ0FTQUVOZ0lVSUFFZ0JqWUNFQ0FCSUFjMkFnd0NRQU5BSUFFb0FoUWdBU2dDRUVjRVFDQUJLQUlVSVFZZ0FTZ0NEQ0VISXdCQkVHc2lCQ0FCUVJocU5nSU1JQVFnQmpZQ0NDQUVJQWMyQWdRZ0JDZ0NDQzBBQUNBRUtBSUVMUUFBUmdSQUlBRWdBU2dDRkVFQmFqWUNGQ0FCSUFFb0FneEJBV28yQWd3TUFnVWdBVUVBT2dBZkRBTUxBQXNMSUFGQkFUb0FId3NnQVMwQUgwRUJjU0VFSUFGQklHb2tBQ0FFUVFGeElRRWdBMEVRYWlRQUlBRkZCRUFqQUVFUWF5SUJJQUEyQWd3Z0FVRUROZ0lJSUFFb0Fnd2lBRUdrTXpZQ0FDQUFJQUVvQWdnMkFnUWdERUVCTmdJTURBRUxJQXdnRENnQ0hDQU1LQUlRYXpZQ0JDQU1JQXdvQWdRUUh6WUNBQ0FNRUJZaEFTTUFRUkJySWdNZ0FqWUNEQ0FES0FJTUtBSUFJZ01nQXlnQ0FDZ0NJQkVBQUNFRUl3QkJFR3NpQXlBQ05nSU1JQU1vQWd3b0FnQWlBeUFES0FJQUtBSWtFUUFBSVFZZ0RDZ0NLQ0VISUF3b0FpUWhDQ0FNS0FJZ0lRa2dEQ2dDSENBTUtBSVFheUVLSXdCQlFHb2lBeVFBSUFNZ0JUWUNPQ0FESUFFMkFqUWdBeUFFTmdJd0lBTWdCallDTENBRElBYzJBaWdnQXlBSU5nSWtJQU1nQ1RZQ0lDQURJQW8yQWh3Q1FDQURLQUk0SWdFb0Fnd2dBeWdDSkVrRVFDQURRUUE2QUQ4TUFRc2dBeUFCS0FJTUVCODJBaGdnQTBFWWFoQVdJQU1vQWlnZ0F5Z0NKQkFiR2lBREVPSUJOZ0lVQWtBZ0F5Z0NGRVVFUUNBRFFRQTZBRDhNQVFzZ0F5Z0NGQ0VFRUpjQklRVWdBeWdDTUNFR0lBTkJHR29RRmlFSEl3QkJJR3NpQVNRQUlBRWdCRFlDSENBQklBVTJBaGdnQVVFQU5nSVVJQUVnQmpZQ0VDQUJJQWMyQWd3Z0FTZ0NIQ0FCS0FJWUlBRW9BaFFnQVNnQ0VDQUJLQUlNUVFBUTN3RWhCQ0FCUVNCcUpBQWdCRVVFUUNBREtBSVVFRE1nQTBFQU9nQS9EQUVMSUFNb0FoUWhCQ0FES0FJMElRVWdBeWdDSUNFR0lBTW9BaHdoQnlNQVFUQnJJZ0VrQUNBQklBUTJBaWdnQVNBRk5nSWtJQUVnQTBFTWFqWUNJQ0FCSUFZMkFod2dBU0FITmdJWUFrQWdBU2dDS0NnQ2hBRUVRRUVlUWNJQVFmUVNRWk1ERUJ3Z0FVRUFOZ0lzREFFTElBRWdBU2dDS0NnQ0FDZ0NCRFlDRkFKQUlBRW9BaFJCQVUwTkFDQUJLQUlZUWYvLy8vOEhJQUVvQWhSclRBMEFRUjVCeFFCQjlCSkJtd01RSENBQlFRQTJBaXdNQVFzZ0FTZ0NLQ2dDQUNnQ0ZFR0FDSEVFUUNBQklBRW9BaWdpQkNBQktBSWtJQUVvQWh3Z0FTZ0NHQ0FFS0FJQUtBSWdFUVlBTmdJUUlBRW9BaEJCQUVnRVFDQUJLQUlnUVFBMkFnQWdBVUVBTmdJc0RBSUxJQUVvQWlBZ0FTZ0NFRFlDQUNBQlFRRTJBaXdNQVFzZ0FTZ0NHRUVBVEFSQUlBRW9BaUJCQURZQ0FDQUJJQUVvQWhoRk5nSXNEQUVMSUFFb0FpZ29BaFJCZ0JCeEJFQWdBU0FCS0FJb0lBRW9BaVFnQVNnQ0lDQUJLQUljSUFFb0FoZ1FtQUUyQWl3TUFRc2dBU2dDRkVFZ1N3UkFRWmdqUWZRU1FiTURRZElQRUFBQUN5QUJRUUEyQWd3Z0FTZ0NLQ2dDWUFSQUlBRW9BaVFnQVNnQ0tFSGtBR29nQVNnQ0ZCQWVJQUVnQVNnQ0ZDQUJLQUlrYWpZQ0pDQUJRUUUyQWd3TElBRW9BaWdnQVNnQ0pDQUJLQUlnSUFFb0Fod2dBU2dDR0JDWUFVVUVRQ0FCUVFBMkFpd01BUXNDUUFKQUlBRW9BaFJCQVUwTkFDQUJLQUlvS0FKWURRQWdBU2dDSUNJRUlBUW9BZ0FnQVNnQ0ZHczJBZ0FnQVNnQ0tFRUJOZ0pnSUFFb0FpaEI1QUJxSUFFb0FpUWdBU2dDSUNnQ0FHb2dBU2dDRkJBZURBRUxJQUVvQWloQkFEWUNZQXNnQVNnQ0RBUkFJQUVvQWlBaUJDQUJLQUlVSUFRb0FnQnFOZ0lBQ3lBQlFRRTJBaXdMSUFFb0Fpd2hCQ0FCUVRCcUpBQWdCRVVFUUNBREtBSVVFRE1nQTBFQU9nQS9EQUVMSUFNZ0F5Z0NERFlDQ0NBREtBSVVJUVFnQXlnQ05DQURLQUlNYWlFRkl3QkJJR3NpQVNRQUlBRWdCRFlDR0NBQklBVTJBaFFnQVNBRFFReHFOZ0lRSUFFb0FoQkJBRFlDQUFKQUlBRW9BaGdvQW9RQkJFQkJIa0hDQUVIMEVrSFdBeEFjSUFGQkFEWUNIQXdCQ3dKQUlBRW9BaGdvQWdBb0FoUkJnQWh4QkVBZ0FTQUJLQUlZSWdRZ0FTZ0NGRUVBUVFBZ0JDZ0NBQ2dDSUJFR0FEWUNEQ0FCS0FJTVFRQklCRUFnQVVFQU5nSWNEQU1MSUFFb0FoQWdBU2dDRERZQ0FBd0JDeUFCSUFFb0FoZ29BZ0FvQWdRMkFnUWdBU2dDR0NnQ0ZFR0FFSEVFUUNBQktBSVlLQUpZQkVCQkhrSHFBRUgwRWtIbkF4QWNJQUZCQURZQ0hBd0RDeUFCS0FJUVFRQTJBZ0FNQVFzQ1FDQUJLQUlFUVFGTEJFQUNRQ0FCS0FJWUtBSllSUVJBSUFFb0FoZ29BbUFOQVF0QkhrSDdBRUgwRWtId0F4QWNJQUZCQURZQ0hBd0VDeUFCS0FJRVFTQkxCRUJCbUNOQjlCSkI4d05CcVFrUUFBQUxJQUVnQVNnQ0dDQUJLQUlFYWkwQVl6WUNDQUpBSUFFb0FnZ0VRQ0FCS0FJSUlBRW9BZ1JNRFFFTFFSNUI1UUJCOUJKQitRTVFIQ0FCUVFBMkFod01CQXNnQVVFQU5nSU1BMEFnQVNnQ0RDQUJLQUlJU0FSQUlBRW9BaGhCNUFCcUlRUWdBU0FCS0FJRVFRRnJJZ1UyQWdRZ0JDQUZhaTBBQUNBQktBSUlSd1JBUVI1QjVRQkI5QkpCL3dNUUhDQUJRUUEyQWh3TUJnVWdBU0FCS0FJTVFRRnFOZ0lNREFJTEFBc0xJQUVnQVNnQ0dDZ0NBQ2dDQkNBQktBSUlhellDQ0NBQlFRQTJBZ3dEUUNBQktBSU1JQUVvQWdoSUJFQWdBU2dDRENJRUlBRW9BaFJxSUFRZ0FTZ0NHRUhrQUdwcUxRQUFPZ0FBSUFFZ0FTZ0NERUVCYWpZQ0RBd0JDd3NnQVNnQ0VDQUJLQUlJTmdJQURBRUxJQUVvQWhCQkFEWUNBQXNMSXdCQkVHc2dBU2dDR0RZQ0RDQUJRUUUyQWh3TElBRW9BaHdoQkNBQlFTQnFKQUFnQkVVRVFDQURLQUlVRURNZ0EwRUFPZ0EvREFFTElBTWdBeWdDRENBREtBSUlhallDQ0NBREtBSUlJQU1vQWh4SEJFQWdBeWdDRkJBeklBTkJBRG9BUHd3QkN5QURLQUlVRURNZ0EwRUJPZ0EvQ3lBRFFRRTJBaEFnQTBFWWFoQWFDeUFETFFBL1FRRnhJUUVnQTBGQWF5UUFBa0FnQVVVRVFDTUFRUkJySWdFZ0FEWUNEQ0FCUVFJMkFnZ01BUXNnRENnQ0xDQU1LQUlFU1FSQUl3QkJFR3NpQVNBQU5nSU1JQUZCQWpZQ0NBd0JDeUFNS0FJMElBd1FGaUFNS0FJRUVCc2FJQXdvQWpBZ0RDZ0NCRFlDQUNNQVFSQnJJZ0VnQURZQ0RDQUJRUUEyQWdnTElBRW9BZ3dpQUVHa016WUNBQ0FBSUFFb0FnZzJBZ1FnREVFQk5nSU1JQXdRR2dzZ0RFRUlhaEFhQ3lBQ0VEZ2dERUZBYXlRQUM4TUZBUWgvSXdCQkVHc2lCeVFBSUFjZ0FEWUNEQ0FISUFFMkFnaEJ5QUFRTHlFSklBY29BZ3dvQWdBaEFDQUhLQUlJS0FJQUlRSWpBRUVRYXlJQkpBQWdBU0FKTmdJTUlBRWdBRFlDQ0NBQklBSTJBZ1FnQVNnQ0RDSUdFQ29nQmtFRWFoQXVJQVpCRkdvUUxpQUdRU1JxRUM0Z0JrRTRhaEF1SUFaQkF6WUNSQ0FCS0FJSUlRSWdBU2dDQkNFRUl3QkJJR3NpQUNRQUlBQWdBallDRkNBQUlBUTJBaEFDUUNBQUtBSVVSUVJBSXdCQkVHc2lBaVFBSUFJZ0FFRVFhallDQkVFMEVDOGlCQ0FDS0FJRUtBSUFFSllDR2lBQ1FRaHFJQVFRWHlBQ0tBSUlJUVFnQWtFUWFpUUFJQUFnQkRZQ0NDQUFRUmhxSUFCQkNHb2lBaEN4QVNNQVFSQnJJZ1FrQUNBRUlBSTJBZ3dnQkNnQ0RDRURJd0JCRUdzaUFpUUFJQUlnQXpZQ0RDQUNRUUEyQWdnZ0FpQUNLQUlNSWdNUUZ5Z0NBRFlDQkNBQ0tBSUlJUVVnQXhBWElBVTJBZ0FnQWlnQ0JBUkFJQU1RRnlFRklBSW9BZ1FoQ0NNQVFSQnJJZ01rQUNBRElBVTJBZ3dnQXlBSU5nSUlJQU1vQWdnaUJRUkFJQVVRcHdFYUlBVVFJZ3NnQTBFUWFpUUFDeUFDUVJCcUpBQU1BUXNqQUVFUWF5SUNKQUFnQWlBQVFSQnFOZ0lFUVNRUUx5SUVJQUlvQWdRb0FnQVFrd0lhSUFKQkNHb2dCQkJmSUFJb0FnZ2hCQ0FDUVJCcUpBQWdBQ0FFTmdJQUlBQkJHR29nQUJDeEFTTUFRUkJySWdRa0FDQUVJQUEyQWd3Z0JDZ0NEQ0VESXdCQkVHc2lBaVFBSUFJZ0F6WUNEQ0FDUVFBMkFnZ2dBaUFDS0FJTUlnTVFGeWdDQURZQ0JDQUNLQUlJSVFVZ0F4QVhJQVUyQWdBZ0FpZ0NCQVJBSUFNUUZ5RUZJQUlvQWdRaENDTUFRUkJySWdNa0FDQURJQVUyQWd3Z0F5QUlOZ0lJSUFNb0FnZ2lCUVJBSUFVUXBBRWFJQVVRSWdzZ0EwRVFhaVFBQ3lBQ1FSQnFKQUFMSUFSQkVHb2tBQ0FBS0FJWUlRSWdBRUVnYWlRQUlBRWdBallDQUNBR0lBRVF3Z0VnQVJCeklBRkJFR29rQUNBSFFSQnFKQUFnQ1F2OURBRUZmeU1BUWRBQWF5SU1KQUFnRENBQU5nSk1JQXdnQVRZQ1NDQU1JQU0yQWtRZ0RDQUVOZ0pBSUF3Z0JUWUNQQ0FNSUFZMkFqZ2dEQ0FITmdJMElBd2dDRFlDTUNBTUlBazJBaXdnRENBS05nSW9JQXdnQ3pZQ0pDQU1LQUpJSVFRZ0RDQU1LQUlzTmdJZ0lBd2dEQ2dDSUJBZk5nSVlJQXhCR0dvUUZpRURJd0JCRUdzaUFTQUNOZ0lNSUFFb0Fnd29BZ0FpQVNBQktBSUFLQUlnRVFBQUlRVWpBRUVRYXlJQklBSTJBZ3dnQVNnQ0RDZ0NBQ0lCSUFFb0FnQW9BaVFSQUFBaEJpQU1LQUk0SVFjZ0RDZ0NOQ0VJSUF3b0FqQWhDU0FNS0FJc0lRb2pBRUZBYWlJQkpBQWdBU0FFTmdJNElBRWdBellDTkNBQklBVTJBakFnQVNBR05nSXNJQUVnQnpZQ0tDQUJJQWcyQWlRZ0FTQUpOZ0lnSUFFZ0NqWUNIQUpBSUFFb0FqZ2lBeWdDRENBQktBSWtTUVJBSUFGQkFEb0FQd3dCQ3lBQklBTW9BZ3dRSHpZQ0dDQUJRUmhxRUJZZ0FTZ0NLQ0FCS0FJa0VCc2FJQUVRNGdFMkFoUUNRQ0FCS0FJVVJRUkFJQUZCQURvQVB3d0JDeUFCS0FJVUlRVVFsd0VoQmlBQktBSXdJUWNnQVVFWWFoQVdJUWdqQUVFZ2F5SURKQUFnQXlBRk5nSWNJQU1nQmpZQ0dDQURRUUEyQWhRZ0F5QUhOZ0lRSUFNZ0NEWUNEQ0FES0FJY0lBTW9BaGdnQXlnQ0ZDQURLQUlRSUFNb0FneEJBUkRmQVNFRklBTkJJR29rQUNBRlJRUkFJQUVvQWhRUU15QUJRUUE2QUQ4TUFRc2dBU2dDRkNBQktBSTBJQUZCREdvZ0FTZ0NJQ0FCS0FJY0VKZ0JSUVJBSUFFb0FoUVFNeUFCUVFBNkFEOE1BUXNnQVNBQktBSU1OZ0lJSUFFb0FoUWhCU0FCS0FJMElBRW9BZ3hxSVFZakFFRXdheUlESkFBZ0F5QUZOZ0lvSUFNZ0JqWUNKQ0FESUFGQkRHbzJBaUFDUUNBREtBSW9LQUtFQVFSQVFSNUJ3Z0JCOUJKQjRRSVFIQ0FEUVFBMkFpd01BUXNDUUNBREtBSW9LQUlBS0FJVVFZQUljUVJBSUFNZ0F5Z0NLQ0lGSUFNb0FpUkJBRUVBSUFVb0FnQW9BaUFSQmdBMkFnd2dBeWdDREVFQVNBUkFJQU5CQURZQ0xBd0RDeUFES0FJZ0lBTW9BZ3cyQWdBTUFRc2dBeUFES0FJb0tBSUFLQUlFTmdJVUlBTW9BaFJCSUVzRVFFR0pKRUgwRWtIeUFrR1ZDUkFBQUFzZ0F5Z0NGRUVCUmdSQUlBTW9BaUJCQURZQ0FBd0JDeUFESUFNb0FpZ29BbGcyQWhBZ0F5Z0NLQ2dDRkVHQUVIRUVRQ0FES0FJUUJFQkJIa0hxQUVIMEVrSDdBaEFjSUFOQkFEWUNMQXdEQ3lBREtBSWdRUUEyQWdBTUFRc2dBeUFES0FJVUlBTW9BaEJyTmdJY0lBTWdBeWdDRURZQ0dBTkFJQU1vQWhnZ0F5Z0NGRWtFUUNBREtBSVlJQU1vQWloQk9HcHFJQU1vQWh3NkFBQWdBeUFES0FJWVFRRnFOZ0lZREFFTEN5QURLQUlvSWdVZ0F5Z0NKQ0FGUVRocUlBTW9BaFFnQlNnQ0FDZ0NJQkVHQUVVRVFDQURRUUEyQWl3TUFnc2dBeWdDSUNBREtBSVVOZ0lBQ3lNQVFSQnJJQU1vQWlnMkFnd2dBMEVCTmdJc0N5QURLQUlzSVFVZ0EwRXdhaVFBSUFWRkJFQWdBU2dDRkJBeklBRkJBRG9BUHd3QkN5QUJJQUVvQWd3Z0FTZ0NDR28yQWdnZ0FTZ0NDQ0FCS0FJY1J3UkFJQUVvQWhRUU15QUJRUUE2QUQ4TUFRc2dBU2dDRkJBeklBRkJBVG9BUHdzZ0FVRUJOZ0lRSUFGQkdHb1FHZ3NnQVMwQVAwRUJjU0VESUFGQlFHc2tBQUpBSUFORkJFQWpBRUVRYXlJQklBQTJBZ3dnQVVFQk5nSUlJQUVvQWd3aUFFR2tNellDQUNBQUlBRW9BZ2cyQWdRZ0RFRUJOZ0lVREFFTEFrQWdCQ2dDQkVVRVFDQU1RUW8yQWhBTUFRc2pBRUVRYXlJQklBQTJBZ3dnQVVFQk5nSUlJQUVvQWd3aUFFR2tNellDQUNBQUlBRW9BZ2cyQWdRZ0RFRUJOZ0lVREFFTElBd2dEQ2dDRUJBZk5nSUlBa0FnQkNBTVFRaHFFQlloRUNBTUtBSVFJUTRqQUVFUWF5SUJJQUkyQWd3Z0VDQU9JUThnQVNnQ0RDZ0NBQ0lCSUFFb0FnQW9BaWdSQUFBaERTTUFRUkJySWdFZ0FqWUNEQ0FQSUEwZ0FTZ0NEQ2dDQUNJQklBRW9BZ0FvQWl3UkFBQWdEQ2dDT0NBTUtBSTBJQXdvQWlnZ0RDZ0NKQ0FNUVJocUVCWWdEQ2dDSUJDNkFVRUJjVVVFUUNNQVFSQnJJZ0VnQURZQ0RDQUJRUUUyQWdnTUFRc2dEQ2dDUENBTUtBSWdJQXdvQWhCcVNRUkFJd0JCRUdzaUFTQUFOZ0lNSUFGQkFUWUNDQXdCQ3lBTUtBSkVJQXhCR0dvUUZpQU1LQUlnRUJzYUlBd29Ba1FnRENnQ0lHb2dERUVJYWhBV0lBd29BaEFRR3hvZ0RDZ0NRQ0FNS0FJZ0lBd29BaEJxTmdJQUl3QkJFR3NpQVNBQU5nSU1JQUZCQURZQ0NBc2dBU2dDRENJQVFhUXpOZ0lBSUFBZ0FTZ0NDRFlDQkNBTVFRRTJBaFFnREVFSWFoQWFDeUFNUVJocUVCb2dBaEE0SUF4QjBBQnFKQUFMS1FFQmZ5TUFRUkJySWdFa0FDQUJJQUEyQWd3Z0FTZ0NEQ0lBRUZZYUlBQVFJaUFCUVJCcUpBQUxuQUVCQVg4akFFRVFheUlESkFBZ0F5QUFOZ0lNSUFNZ0FUWUNDQ0FESUFJMkFnUWpBRUVRYXlJQUlBTW9BZ2cyQWd3Z0FDZ0NEQ0VDSUFNb0Fnd2lBQ2dDQkNFQklBQW9BZ0FoQUNBQlFRRjFJQUpxSVFJZ0FVRUJjUVJBSUFJb0FnQWdBR29vQWdBaEFBc2pBRUVRYXlJQklBTW9BZ1EyQWd3Z0F5QUNJQUVvQWd3Z0FCRURBQ0FERUw0QklRQWdBeEM5QVNBRFFSQnFKQUFnQUF1TUFRRUJmeU1BUVJCcklnTWtBQ0FESUFBMkFnd2dBeUFCTmdJSUlBTWdBallDQkNNQVFSQnJJZ0FnQXlnQ0NEWUNEQ0FBS0FJTUlRSWdBeWdDRENJQUtBSUVJUUVnQUNnQ0FDRUFJQUZCQVhVZ0Ftb2hBaUFCUVFGeEJFQWdBaWdDQUNBQWFpZ0NBQ0VBQ3lNQVFSQnJJZ0VnQXlnQ0JEWUNEQ0FDSUFFb0Fnd2dBQkVDQUNBRFFSQnFKQUFMcVFFQkFuOGpBRUVRYXlJREpBQWdBeUFBTmdJTUlBTWdBVFlDQ0NBRElBSTNBd0FqQUVFUWF5SUFJQU1vQWdnMkFnd2dBQ2dDRENFRUlBTW9BZ3dpQUNnQ0JDRUJJQUFvQWdBaEFDQUJRUUYxSUFScUlRUWdBVUVCY1FSQUlBUW9BZ0FnQUdvb0FnQWhBQXNqQUVFUWF5SUJJQU1wQXdBM0F3Z2dCQ0FCS1FNSUlBQVJDd0JCQVhFaEFDTUFRUkJySWdFZ0FEb0FEeUFCTFFBUFFRRnhJUUFnQTBFUWFpUUFJQUFMZmdFQ2Z5TUFRUkJySWdJa0FDQUNJQUEyQWd3Z0FpQUJOZ0lJSXdCQkVHc2lBQ0FDS0FJSU5nSU1JQUFvQWd3aEF5QUNLQUlNSWdBb0FnUWhBU0FBS0FJQUlRQWdBaUFCUVFGMUlBTnFJZ01nQVVFQmNRUi9JQU1vQWdBZ0FHb29BZ0FGSUFBTEVRSUFJQUlRdmdFaEFDQUNFTDBCSUFKQkVHb2tBQ0FBQzJVQkEzOGpBRUVRYXlJQkpBQWdBU0FBTmdJTUlBRW9BZ3dpQXdSQUl3QkJFR3NpQWlRQUlBSWdBellDRENBQ0tBSU1JZ0JCT0dvUWRTQUFRU1JxRUhVZ0FFRVVhaEIxSUFCQkJHb1FkU0FBRUhNZ0FrRVFhaVFBSUFNUUlnc2dBVUVRYWlRQUN5c0JBWDhqQUVFUWF5SUJKQUFnQVNBQU5nSU1Jd0JCRUdzZ0FTZ0NERFlDRENBQlFSQnFKQUJCdENjTHJBRUJBbjhqQUVFZ2F5SURKQUFnQXlBQU5nSWNJQU1nQVRZQ0dDQURJQUkzQXhBakFFRVFheUlBSUFNb0FoZzJBZ3dnQUNnQ0RDRUVJQU1vQWh3aUFDZ0NCQ0VCSUFBb0FnQWhBQ0FCUVFGMUlBUnFJUVFnQVVFQmNRUkFJQVFvQWdBZ0FHb29BZ0FoQUFzakFFRVFheUlCSUFNcEF4QTNBd2dnQXlBRUlBRXBBd2dnQUJFTEFEWUNEQ01BUVJCcklnQWdBMEVNYWpZQ0RDQUFLQUlNS0FJQUlRQWdBMEVnYWlRQUlBQUxEQUFqQUVFUWF5QUFOZ0lNQ3hzQUlBQWdBU2dDQ0NBRkVDQUVRQ0FCSUFJZ0F5QUVFSXdCQ3dzNEFDQUFJQUVvQWdnZ0JSQWdCRUFnQVNBQ0lBTWdCQkNNQVE4TElBQW9BZ2dpQUNBQklBSWdBeUFFSUFVZ0FDZ0NBQ2dDRkJFS0FBdWdBZ0VIZnlBQUlBRW9BZ2dnQlJBZ0JFQWdBU0FDSUFNZ0JCQ01BUThMSUFFdEFEVWhCaUFBS0FJTUlRZ2dBVUVBT2dBMUlBRXRBRFFoQnlBQlFRQTZBRFFnQUVFUWFpSU1JQUVnQWlBRElBUWdCUkNMQVNBR0lBRXRBRFVpQ25JaEJpQUhJQUV0QURRaUMzSWhCd0pBSUFCQkdHb2lDU0FNSUFoQkEzUnFJZ2hQRFFBRFFDQUhRUUZ4SVFjZ0JrRUJjU0VHSUFFdEFEWU5BUUpBSUFzRVFDQUJLQUlZUVFGR0RRTWdBQzBBQ0VFQ2NRMEJEQU1MSUFwRkRRQWdBQzBBQ0VFQmNVVU5BZ3NnQVVFQU93RTBJQWtnQVNBQ0lBTWdCQ0FGRUlzQklBRXRBRFVpQ2lBR2NpRUdJQUV0QURRaUN5QUhjaUVISUFsQkNHb2lDU0FJU1EwQUN3c2dBU0FHUWY4QmNVRUFSem9BTlNBQklBZEIvd0Z4UVFCSE9nQTBDNmNCQUNBQUlBRW9BZ2dnQkJBZ0JFQUNRQ0FCS0FJRUlBSkhEUUFnQVNnQ0hFRUJSZzBBSUFFZ0F6WUNIQXNQQ3dKQUlBQWdBU2dDQUNBRUVDQkZEUUFDUUNBQ0lBRW9BaEJIQkVBZ0FTZ0NGQ0FDUncwQkN5QURRUUZIRFFFZ0FVRUJOZ0lnRHdzZ0FTQUNOZ0lVSUFFZ0F6WUNJQ0FCSUFFb0FpaEJBV28yQWlnQ1FDQUJLQUlrUVFGSERRQWdBU2dDR0VFQ1J3MEFJQUZCQVRvQU5nc2dBVUVFTmdJc0N3dUlBZ0FnQUNBQktBSUlJQVFRSUFSQUFrQWdBU2dDQkNBQ1J3MEFJQUVvQWh4QkFVWU5BQ0FCSUFNMkFod0xEd3NDUUNBQUlBRW9BZ0FnQkJBZ0JFQUNRQ0FDSUFFb0FoQkhCRUFnQVNnQ0ZDQUNSdzBCQ3lBRFFRRkhEUUlnQVVFQk5nSWdEd3NnQVNBRE5nSWdBa0FnQVNnQ0xFRUVSZzBBSUFGQkFEc0JOQ0FBS0FJSUlnQWdBU0FDSUFKQkFTQUVJQUFvQWdBb0FoUVJDZ0FnQVMwQU5RUkFJQUZCQXpZQ0xDQUJMUUEwUlEwQkRBTUxJQUZCQkRZQ0xBc2dBU0FDTmdJVUlBRWdBU2dDS0VFQmFqWUNLQ0FCS0FJa1FRRkhEUUVnQVNnQ0dFRUNSdzBCSUFGQkFUb0FOZzhMSUFBb0FnZ2lBQ0FCSUFJZ0F5QUVJQUFvQWdBb0FoZ1JDQUFMQzI0QkFYOGpBRUVnYXlJREpBQWdBeUFBTmdJY0lBTWdBVFlDR0NBRElBSTJBaFFnQXlnQ0hDRUFJQU1nQXlnQ0dCQVhOZ0lRSUFNZ0F5Z0NGQkFYTmdJTUlBTkJFR29nQTBFTWFpQUFFUVFBSVFBakFFRVFheUlCSUFBMkFnd2dBU2dDRENFQUlBTkJJR29rQUNBQUM2b0VBUU4vSUFBZ0FTZ0NDQ0FFRUNBRVFBSkFJQUVvQWdRZ0FrY05BQ0FCS0FJY1FRRkdEUUFnQVNBRE5nSWNDdzhMQWtBZ0FDQUJLQUlBSUFRUUlBUkFBa0FnQWlBQktBSVFSd1JBSUFFb0FoUWdBa2NOQVFzZ0EwRUJSdzBDSUFGQkFUWUNJQThMSUFFZ0F6WUNJQ0FCS0FJc1FRUkhCRUFnQUVFUWFpSUZJQUFvQWd4QkEzUnFJUWRCQUNFRElBRUNmd0pBQTBBQ1FDQUZJQWRQRFFBZ0FVRUFPd0UwSUFVZ0FTQUNJQUpCQVNBRUVJc0JJQUV0QURZTkFBSkFJQUV0QURWRkRRQWdBUzBBTkFSQVFRRWhBeUFCS0FJWVFRRkdEUVJCQVNFR0lBQXRBQWhCQW5FTkFRd0VDMEVCSVFZZ0FDMEFDRUVCY1VVTkF3c2dCVUVJYWlFRkRBRUxDMEVFSUFaRkRRRWFDMEVEQ3pZQ0xDQURRUUZ4RFFJTElBRWdBallDRkNBQklBRW9BaWhCQVdvMkFpZ2dBU2dDSkVFQlJ3MEJJQUVvQWhoQkFrY05BU0FCUVFFNkFEWVBDeUFBS0FJTUlRWWdBRUVRYWlJSElBRWdBaUFESUFRUVppQUFRUmhxSWdVZ0J5QUdRUU4wYWlJR1R3MEFBa0FnQUNnQ0NDSUFRUUp4UlFSQUlBRW9BaVJCQVVjTkFRc0RRQ0FCTFFBMkRRSWdCU0FCSUFJZ0F5QUVFR1lnQlVFSWFpSUZJQVpKRFFBTERBRUxJQUJCQVhGRkJFQURRQ0FCTFFBMkRRSWdBU2dDSkVFQlJnMENJQVVnQVNBQ0lBTWdCQkJtSUFWQkNHb2lCU0FHU1EwQURBSUxBQXNEUUNBQkxRQTJEUUVnQVNnQ0pFRUJSZ1JBSUFFb0FoaEJBVVlOQWdzZ0JTQUJJQUlnQXlBRUVHWWdCVUVJYWlJRklBWkpEUUFMQ3d1SEJRRUVmeU1BUVVCcUlnWWtBQUpBSUFGQjdPUUFRUUFRSUFSQUlBSkJBRFlDQUVFQklRUU1BUXNDUUNBQUlBRWdBQzBBQ0VFWWNRUi9RUUVGSUFGRkRRRWdBVUhnNGdBUUt5SURSUTBCSUFNdEFBaEJHSEZCQUVjTEVDQWhCUXNnQlFSQVFRRWhCQ0FDS0FJQUlnQkZEUUVnQWlBQUtBSUFOZ0lBREFFTEFrQWdBVVVOQUNBQlFaRGpBQkFySWdWRkRRRWdBaWdDQUNJQkJFQWdBaUFCS0FJQU5nSUFDeUFGS0FJSUlnTWdBQ2dDQ0NJQlFYOXpjVUVIY1EwQklBTkJmM01nQVhGQjRBQnhEUUZCQVNFRUlBQW9BZ3dnQlNnQ0RFRUFFQ0FOQVNBQUtBSU1RZURrQUVFQUVDQUVRQ0FGS0FJTUlnQkZEUUlnQUVIRTR3QVFLMFVoQkF3Q0N5QUFLQUlNSWdORkRRQkJBQ0VFSUFOQmtPTUFFQ3NpQVFSQUlBQXRBQWhCQVhGRkRRSUNmeUFGS0FJTUlRQkJBQ0VDQWtBRFFFRUFJQUJGRFFJYUlBQkJrT01BRUNzaUEwVU5BU0FES0FJSUlBRW9BZ2hCZjNOeERRRkJBU0FCS0FJTUlBTW9BZ3hCQUJBZ0RRSWFJQUV0QUFoQkFYRkZEUUVnQVNnQ0RDSUFSUTBCSUFCQmtPTUFFQ3NpQVFSQUlBTW9BZ3doQUF3QkN3c2dBRUdBNUFBUUt5SUFSUTBBSUFBZ0F5Z0NEQkREQVNFQ0N5QUNDeUVFREFJTElBTkJnT1FBRUNzaUFRUkFJQUF0QUFoQkFYRkZEUUlnQVNBRktBSU1FTU1CSVFRTUFnc2dBMEd3NGdBUUt5SUJSUTBCSUFVb0Fnd2lBRVVOQVNBQVFiRGlBQkFySWdORkRRRWdCa0VJYWlJQVFRUnlRUUJCTkJCR0lBWkJBVFlDT0NBR1FYODJBaFFnQmlBQk5nSVFJQVlnQXpZQ0NDQURJQUFnQWlnQ0FFRUJJQU1vQWdBb0Fod1JCd0FDUUNBR0tBSWdJZ0JCQVVjTkFDQUNLQUlBUlEwQUlBSWdCaWdDR0RZQ0FBc2dBRUVCUmlFRURBRUxRUUFoQkFzZ0JrRkFheVFBSUFRTGF3RUNmeUFBSUFFb0FnaEJBQkFnQkVBZ0FTQUNJQU1RalFFUEN5QUFLQUlNSVFRZ0FFRVFhaUlGSUFFZ0FpQURFTVFCQWtBZ0FFRVlhaUlBSUFVZ0JFRURkR29pQkU4TkFBTkFJQUFnQVNBQ0lBTVF4QUVnQVMwQU5nMEJJQUJCQ0dvaUFDQUVTUTBBQ3dzTE1nQWdBQ0FCS0FJSVFRQVFJQVJBSUFFZ0FpQURFSTBCRHdzZ0FDZ0NDQ0lBSUFFZ0FpQURJQUFvQWdBb0Fod1JCd0FMR1FBZ0FDQUJLQUlJUVFBUUlBUkFJQUVnQWlBREVJMEJDd3VlQVFFQ2Z5TUFRVUJxSWdNa0FBSi9RUUVnQUNBQlFRQVFJQTBBR2tFQUlBRkZEUUFhUVFBZ0FVR3c0Z0FRS3lJQlJRMEFHaUFEUVFocUlnUkJCSEpCQUVFMEVFWWdBMEVCTmdJNElBTkJmellDRkNBRElBQTJBaEFnQXlBQk5nSUlJQUVnQkNBQ0tBSUFRUUVnQVNnQ0FDZ0NIQkVIQUNBREtBSWdJZ0JCQVVZRVFDQUNJQU1vQWhnMkFnQUxJQUJCQVVZTElRQWdBMEZBYXlRQUlBQUxKQUVCZjBHRTZ3QW9BZ0FpQUFSQUEwQWdBQ2dDQUJFSkFDQUFLQUlFSWdBTkFBc0xDNFVCQVFOL0FrQWdBQ2dDQkNJQ0lnQkJBM0VFUUFOQUlBQXRBQUJGRFFJZ0FFRUJhaUlBUVFOeERRQUxDd05BSUFBaUFVRUVhaUVBSUFFb0FnQWlBMEYvY3lBRFFZR0NoQWhyY1VHQWdZS0VlSEZGRFFBTEEwQWdBU0lBUVFGcUlRRWdBQzBBQUEwQUN3c2dBQ0FDYTBFQmFpSUFFRHNpQVFSL0lBRWdBaUFBRUJzRlFRQUxDNTBCQVFGL0l3QkJNR3NpQVNRQUlBRWdBRFlDTEFKQUlBRW9BaXhGRFFBZ0FVRVFha0h3NmdCQkZCQWVJQUVnQVNnQ0xEWUNDQ0FCUVFBMkFnd0RRQ0FCS0FJTVFRVkpCRUFnQVVFUWFpQUJLQUlNUVFKMGFpZ0NBQVJBSUFFb0FneEJBblFpQUNBQktBSUlhaWdDQUNBQUlBRkJFR3BxS0FJQUVRRUFDeUFCSUFFb0FneEJBV28yQWd3TUFRc0xJQUVvQWdnUUlnc2dBVUV3YWlRQUMxY0JBWDlCek9vQUFuOERRQ0FBUWFEckFHb3RBQUJGQkVBZ0FFR2c2d0JxUVFFNkFBQWdBRUVDZEVHZzdBQnFRUUEyQWdCQjBPb0FJQUEyQWdCQkFBd0NDeUFBUVFGcUlnQkJnQUZIRFFBTFFRWUxSVFlDQUFzL0FRRi9Jd0JCRUdzaUF5UUFJQU1nQURZQ0RDQURJQUUyQWdnZ0F5QUNOZ0lFSUFNb0FnZ2dBeWdDQkNBREtBSU1FUVFBSVFBZ0EwRVFhaVFBSUFBTE13RUJmeU1BUVJCcklnSWtBQ0FDSUFBMkFnd2dBaUFCTmdJSUlBSW9BZ2dnQWlnQ0RCRUFBQ0VBSUFKQkVHb2tBQ0FBQzBVQkFYOGpBRUVRYXlJQ0pBQWdBaUFBTmdJTUlBSWdBVFlDQ0NBQ0tBSUlJQUlvQWd3b0FnUVFrd0ZGQkVCQjlpUkJ6UkZCdHdGQnRBd1FBQUFMSUFKQkVHb2tBQXRRQVFGL0l3QkJFR3NpQXlRQUlBTWdBRFlDRENBRElBRTJBZ2dnQXlBQ05nSUVJQU1vQWd3b0FnUWdBeWdDQ0NBREtBSUVFRFZGQkVCQjd5SkJ6UkZCc3dGQnNnOFFBQUFMSUFOQkVHb2tBQXM1QVFGL0l3QkJFR3NpQVNRQUlBRWdBRFlDRENBQktBSU1LQUlFRUpRQlJRUkFRZHdrUWMwUlFhOEJRWm9LRUFBQUN5QUJRUkJxSkFBTHVBRUJBWDhqQUVFZ2F5SUVKQUFnQkNBQU5nSWNJQVFnQVRZQ0dDQUVJQUkyQWhRZ0JDQUROZ0lRSUFRZ0JDZ0NIQ2dDQ0RZQ0RBSkFJQVFvQWd3b0F2d0JCRUFnQkNnQ0ZDQUVLQUlZSUFRb0FoQWdCQ2dDRENJQklBUW9BaHdpQUVFb2FpQUFRVGhxSUFCQjNBQnFJQUVvQXZ3QkVPZ0JEQUVMSUFRb0FoUWdCQ2dDR0NBRUtBSVFJQVFvQWd3aUFTQUVLQUljSWdCQktHb2dBRUU0YWlBQVFkd0FhaUFCS0FMNEFSRG5BUXNnQkVFZ2FpUUFRUUVMeFFNQkFYOGpBRUVnYXlJRUpBQWdCQ0FBTmdJWUlBUWdBVFlDRkNBRUlBSTJBaEFnQkNBRE5nSU1JQVFnQkNnQ0dDZ0NDRFlDQkNBRUlBUW9BaGdvQWdBb0FoUkJQM0UyQWdBZ0JDZ0NBRUVGUmdSQUFrQUNRQUpBSUFRb0FoZ29BZ3hCRUdzT0VRQUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQkFnc2pBRUVRYTBFQ05nSU1EQUVMSXdCQkVHdEJBellDREFzTEFrQUNRQ0FFS0FJQVFRRkhCRUFnQkNnQ0FFRUNSdzBCQ3lBRUtBSU1EUUFnQkNnQ0ZDRUJJQVFvQWhnb0FneEJBM1FoQWlBRUtBSUVJUU1qQUVFUWF5SUFKQUFnQUNBQk5nSU1JQUFnQWpZQ0NDQUFJQU0yQWdRZ0FDZ0NEQ0FBS0FJSUlBQW9BZ1FRbXdFaEFTQUFRUkJxSkFBZ0JDQUJOZ0lJSUFRb0FnUkIzUUEyQXZnQklBUW9BZ1JCQURZQy9BRWdCQ2dDQUVFQ1JnUkFJQVFvQWdSQjNnQTJBdndCQ3d3QkN5QUVJQVFvQWhRZ0JDZ0NHQ2dDREVFRGRDQUVLQUlFRUpzQk5nSUlJQVFvQWdSQnpRQTJBdmdCSUFRb0FnUkJBRFlDL0FFZ0JDZ0NBRUVDUmdSQUlBUW9BZ1JCM2dBMkF2d0JDd3NDUUNBRUtBSUlRUUJJQkVCQkhrSGtBRUdIRWtIa0FSQWNJQVJCQURZQ0hBd0JDeUFFUVFFMkFod0xJQVFvQWh3aEFDQUVRU0JxSkFBZ0FBdlJOZ0VCZnlNQVFaQUJheUlESkFBZ0F5QUFOZ0tNQVNBRElBRTJBb2dCSUFNZ0FqWUNoQUVEUUNBRElBTW9Bb1FCSWdCQkFXczJBb1FCSUFBRVFDQURJQU1vQW93QktBSUFOZ0tBQVNBRElBTW9Bb3dCS0FJRU5nSjhJQU1nQXlnQ2pBRW9BZ2cyQW5nZ0F5QURLQUtNQVNnQ0REWUNkQ0FESUFNb0Fvd0JLQUlRTmdKd0lBTWdBeWdDakFFb0FoUTJBbXdnQXlBREtBS01BU2dDR0RZQ2FDQURJQU1vQW93QktBSWNOZ0prSUFNZ0F5Z0NpQUVRSkNJQU5nSVFJQU1nQURZQ1dDQURJQU1vQW9nQlFRUnFOZ0tJQVNBRElBTW9BbVFnQXlnQ2NFRUdFQlVnQXlnQ2NFRUxFQlZ6SUFNb0FuQkJHUkFWYzJvZ0F5Z0NjQ0FES0FKc2NTQURLQUpvSUFNb0FuQkJmM054YzJwQm9EUW9BZ0JxSUFNb0FsaHFOZ0pZSUFNZ0F5Z0NnQUZCQWhBVklBTW9Bb0FCUVEwUUZYTWdBeWdDZ0FGQkZoQVZjeUFES0FKOElnQWdBeWdDZ0FGeElBTW9BbmdpQVNBREtBS0FBWEZ6SUFBZ0FYRnphallDWkNBRElBTW9BbGdnQXlnQ2RHbzJBblFnQXlBREtBSllJQU1vQW1ScU5nSmtJQU1nQXlnQ2lBRVFKQ0lBTmdJVUlBTWdBRFlDV0NBRElBTW9Bb2dCUVFScU5nS0lBU0FESUFNb0FtZ2dBeWdDZEVFR0VCVWdBeWdDZEVFTEVCVnpJQU1vQW5SQkdSQVZjMm9nQXlnQ2RDQURLQUp3Y1NBREtBSnNJQU1vQW5SQmYzTnhjMnBCcERRb0FnQnFJQU1vQWxocU5nSllJQU1nQXlnQ1pFRUNFQlVnQXlnQ1pFRU5FQlZ6SUFNb0FtUkJGaEFWY3lBREtBS0FBU0FES0FKOGNTQURLQUprSUFNb0FvQUJjU0FES0FKa0lBTW9Bbnh4YzNOcU5nSm9JQU1nQXlnQ1dDQURLQUo0YWpZQ2VDQURJQU1vQWxnZ0F5Z0NhR28yQW1nZ0F5QURLQUtJQVJBa0lnQTJBaGdnQXlBQU5nSllJQU1nQXlnQ2lBRkJCR28yQW9nQklBTWdBeWdDYkNBREtBSjRRUVlRRlNBREtBSjRRUXNRRlhNZ0F5Z0NlRUVaRUJWemFpQURLQUo0SUFNb0FuUnhJQU1vQW5BZ0F5Z0NlRUYvYzNGemFrR29OQ2dDQUdvZ0F5Z0NXR28yQWxnZ0F5QURLQUpvUVFJUUZTQURLQUpvUVEwUUZYTWdBeWdDYUVFV0VCVnpJQU1vQW1RZ0F5Z0NnQUZ4SUFNb0FtZ2dBeWdDWkhFZ0F5Z0NhQ0FES0FLQUFYRnpjMm8yQW13Z0F5QURLQUpZSUFNb0FueHFOZ0o4SUFNZ0F5Z0NXQ0FES0FKc2FqWUNiQ0FESUFNb0FvZ0JFQ1FpQURZQ0hDQURJQUEyQWxnZ0F5QURLQUtJQVVFRWFqWUNpQUVnQXlBREtBSndJQU1vQW54QkJoQVZJQU1vQW54QkN4QVZjeUFES0FKOFFSa1FGWE5xSUFNb0Fud2dBeWdDZUhFZ0F5Z0NkQ0FES0FKOFFYOXpjWE5xUWF3MEtBSUFhaUFES0FKWWFqWUNXQ0FESUFNb0FteEJBaEFWSUFNb0FteEJEUkFWY3lBREtBSnNRUllRRlhNZ0F5Z0NhQ0FES0FKa2NTQURLQUpzSUFNb0FtaHhJQU1vQW13Z0F5Z0NaSEZ6YzJvMkFuQWdBeUFES0FKWUlBTW9Bb0FCYWpZQ2dBRWdBeUFES0FKWUlBTW9BbkJxTmdKd0lBTWdBeWdDaUFFUUpDSUFOZ0lnSUFNZ0FEWUNXQ0FESUFNb0FvZ0JRUVJxTmdLSUFTQURJQU1vQW5RZ0F5Z0NnQUZCQmhBVklBTW9Bb0FCUVFzUUZYTWdBeWdDZ0FGQkdSQVZjMm9nQXlnQ2dBRWdBeWdDZkhFZ0F5Z0NlQ0FES0FLQUFVRi9jM0Z6YWtHd05DZ0NBR29nQXlnQ1dHbzJBbGdnQXlBREtBSndRUUlRRlNBREtBSndRUTBRRlhNZ0F5Z0NjRUVXRUJWeklBTW9BbXdnQXlnQ2FIRWdBeWdDY0NBREtBSnNjU0FES0FKd0lBTW9BbWh4YzNOcU5nSjBJQU1nQXlnQ1dDQURLQUprYWpZQ1pDQURJQU1vQWxnZ0F5Z0NkR28yQW5RZ0F5QURLQUtJQVJBa0lnQTJBaVFnQXlBQU5nSllJQU1nQXlnQ2lBRkJCR28yQW9nQklBTWdBeWdDZUNBREtBSmtRUVlRRlNBREtBSmtRUXNRRlhNZ0F5Z0NaRUVaRUJWemFpQURLQUprSUFNb0FvQUJjU0FES0FKOElBTW9BbVJCZjNOeGMycEJ0RFFvQWdCcUlBTW9BbGhxTmdKWUlBTWdBeWdDZEVFQ0VCVWdBeWdDZEVFTkVCVnpJQU1vQW5SQkZoQVZjeUFES0FKd0lBTW9BbXh4SUFNb0FuUWdBeWdDY0hFZ0F5Z0NkQ0FES0FKc2NYTnphallDZUNBRElBTW9BbGdnQXlnQ2FHbzJBbWdnQXlBREtBSllJQU1vQW5ocU5nSjRJQU1nQXlnQ2lBRVFKQ0lBTmdJb0lBTWdBRFlDV0NBRElBTW9Bb2dCUVFScU5nS0lBU0FESUFNb0Fud2dBeWdDYUVFR0VCVWdBeWdDYUVFTEVCVnpJQU1vQW1oQkdSQVZjMm9nQXlnQ2FDQURLQUprY1NBREtBS0FBU0FES0FKb1FYOXpjWE5xUWJnMEtBSUFhaUFES0FKWWFqWUNXQ0FESUFNb0FuaEJBaEFWSUFNb0FuaEJEUkFWY3lBREtBSjRRUllRRlhNZ0F5Z0NkQ0FES0FKd2NTQURLQUo0SUFNb0FuUnhJQU1vQW5nZ0F5Z0NjSEZ6YzJvMkFud2dBeUFES0FKWUlBTW9BbXhxTmdKc0lBTWdBeWdDV0NBREtBSjhhallDZkNBRElBTW9Bb2dCRUNRaUFEWUNMQ0FESUFBMkFsZ2dBeUFES0FLSUFVRUVhallDaUFFZ0F5QURLQUtBQVNBREtBSnNRUVlRRlNBREtBSnNRUXNRRlhNZ0F5Z0NiRUVaRUJWemFpQURLQUpzSUFNb0FtaHhJQU1vQW1RZ0F5Z0NiRUYvYzNGemFrRzhOQ2dDQUdvZ0F5Z0NXR28yQWxnZ0F5QURLQUo4UVFJUUZTQURLQUo4UVEwUUZYTWdBeWdDZkVFV0VCVnpJQU1vQW5nZ0F5Z0NkSEVnQXlnQ2ZDQURLQUo0Y1NBREtBSjhJQU1vQW5SeGMzTnFOZ0tBQVNBRElBTW9BbGdnQXlnQ2NHbzJBbkFnQXlBREtBSllJQU1vQW9BQmFqWUNnQUVnQXlBREtBS0lBUkFrSWdBMkFqQWdBeUFBTmdKWUlBTWdBeWdDaUFGQkJHbzJBb2dCSUFNZ0F5Z0NaQ0FES0FKd1FRWVFGU0FES0FKd1FRc1FGWE1nQXlnQ2NFRVpFQlZ6YWlBREtBSndJQU1vQW14eElBTW9BbWdnQXlnQ2NFRi9jM0Z6YWtIQU5DZ0NBR29nQXlnQ1dHbzJBbGdnQXlBREtBS0FBVUVDRUJVZ0F5Z0NnQUZCRFJBVmN5QURLQUtBQVVFV0VCVnpJQU1vQW53Z0F5Z0NlSEVnQXlnQ2dBRWdBeWdDZkhFZ0F5Z0NnQUVnQXlnQ2VIRnpjMm8yQW1RZ0F5QURLQUpZSUFNb0FuUnFOZ0owSUFNZ0F5Z0NXQ0FES0FKa2FqWUNaQ0FESUFNb0FvZ0JFQ1FpQURZQ05DQURJQUEyQWxnZ0F5QURLQUtJQVVFRWFqWUNpQUVnQXlBREtBSm9JQU1vQW5SQkJoQVZJQU1vQW5SQkN4QVZjeUFES0FKMFFSa1FGWE5xSUFNb0FuUWdBeWdDY0hFZ0F5Z0NiQ0FES0FKMFFYOXpjWE5xUWNRMEtBSUFhaUFES0FKWWFqWUNXQ0FESUFNb0FtUkJBaEFWSUFNb0FtUkJEUkFWY3lBREtBSmtRUllRRlhNZ0F5Z0NnQUVnQXlnQ2ZIRWdBeWdDWkNBREtBS0FBWEVnQXlnQ1pDQURLQUo4Y1hOemFqWUNhQ0FESUFNb0FsZ2dBeWdDZUdvMkFuZ2dBeUFES0FKWUlBTW9BbWhxTmdKb0lBTWdBeWdDaUFFUUpDSUFOZ0k0SUFNZ0FEWUNXQ0FESUFNb0FvZ0JRUVJxTmdLSUFTQURJQU1vQW13Z0F5Z0NlRUVHRUJVZ0F5Z0NlRUVMRUJWeklBTW9BbmhCR1JBVmMyb2dBeWdDZUNBREtBSjBjU0FES0FKd0lBTW9BbmhCZjNOeGMycEJ5RFFvQWdCcUlBTW9BbGhxTmdKWUlBTWdBeWdDYUVFQ0VCVWdBeWdDYUVFTkVCVnpJQU1vQW1oQkZoQVZjeUFES0FKa0lBTW9Bb0FCY1NBREtBSm9JQU1vQW1SeElBTW9BbWdnQXlnQ2dBRnhjM05xTmdKc0lBTWdBeWdDV0NBREtBSjhhallDZkNBRElBTW9BbGdnQXlnQ2JHbzJBbXdnQXlBREtBS0lBUkFrSWdBMkFqd2dBeUFBTmdKWUlBTWdBeWdDaUFGQkJHbzJBb2dCSUFNZ0F5Z0NjQ0FES0FKOFFRWVFGU0FES0FKOFFRc1FGWE1nQXlnQ2ZFRVpFQlZ6YWlBREtBSjhJQU1vQW5oeElBTW9BblFnQXlnQ2ZFRi9jM0Z6YWtITU5DZ0NBR29nQXlnQ1dHbzJBbGdnQXlBREtBSnNRUUlRRlNBREtBSnNRUTBRRlhNZ0F5Z0NiRUVXRUJWeklBTW9BbWdnQXlnQ1pIRWdBeWdDYkNBREtBSm9jU0FES0FKc0lBTW9BbVJ4YzNOcU5nSndJQU1nQXlnQ1dDQURLQUtBQVdvMkFvQUJJQU1nQXlnQ1dDQURLQUp3YWpZQ2NDQURJQU1vQW9nQkVDUWlBRFlDUUNBRElBQTJBbGdnQXlBREtBS0lBVUVFYWpZQ2lBRWdBeUFES0FKMElBTW9Bb0FCUVFZUUZTQURLQUtBQVVFTEVCVnpJQU1vQW9BQlFSa1FGWE5xSUFNb0FvQUJJQU1vQW54eElBTW9BbmdnQXlnQ2dBRkJmM054YzJwQjBEUW9BZ0JxSUFNb0FsaHFOZ0pZSUFNZ0F5Z0NjRUVDRUJVZ0F5Z0NjRUVORUJWeklBTW9BbkJCRmhBVmN5QURLQUpzSUFNb0FtaHhJQU1vQW5BZ0F5Z0NiSEVnQXlnQ2NDQURLQUpvY1hOemFqWUNkQ0FESUFNb0FsZ2dBeWdDWkdvMkFtUWdBeUFES0FKWUlBTW9BblJxTmdKMElBTWdBeWdDaUFFUUpDSUFOZ0pFSUFNZ0FEWUNXQ0FESUFNb0FvZ0JRUVJxTmdLSUFTQURJQU1vQW5nZ0F5Z0NaRUVHRUJVZ0F5Z0NaRUVMRUJWeklBTW9BbVJCR1JBVmMyb2dBeWdDWkNBREtBS0FBWEVnQXlnQ2ZDQURLQUprUVg5emNYTnFRZFEwS0FJQWFpQURLQUpZYWpZQ1dDQURJQU1vQW5SQkFoQVZJQU1vQW5SQkRSQVZjeUFES0FKMFFSWVFGWE1nQXlnQ2NDQURLQUpzY1NBREtBSjBJQU1vQW5CeElBTW9BblFnQXlnQ2JIRnpjMm8yQW5nZ0F5QURLQUpZSUFNb0FtaHFOZ0pvSUFNZ0F5Z0NXQ0FES0FKNGFqWUNlQ0FESUFNb0FvZ0JFQ1FpQURZQ1NDQURJQUEyQWxnZ0F5QURLQUtJQVVFRWFqWUNpQUVnQXlBREtBSjhJQU1vQW1oQkJoQVZJQU1vQW1oQkN4QVZjeUFES0FKb1FSa1FGWE5xSUFNb0FtZ2dBeWdDWkhFZ0F5Z0NnQUVnQXlnQ2FFRi9jM0Z6YWtIWU5DZ0NBR29nQXlnQ1dHbzJBbGdnQXlBREtBSjRRUUlRRlNBREtBSjRRUTBRRlhNZ0F5Z0NlRUVXRUJWeklBTW9BblFnQXlnQ2NIRWdBeWdDZUNBREtBSjBjU0FES0FKNElBTW9BbkJ4YzNOcU5nSjhJQU1nQXlnQ1dDQURLQUpzYWpZQ2JDQURJQU1vQWxnZ0F5Z0NmR28yQW53Z0F5QURLQUtJQVJBa0lnQTJBa3dnQXlBQU5nSllJQU1nQXlnQ2lBRkJCR28yQW9nQklBTWdBeWdDZ0FFZ0F5Z0NiRUVHRUJVZ0F5Z0NiRUVMRUJWeklBTW9BbXhCR1JBVmMyb2dBeWdDYkNBREtBSm9jU0FES0FKa0lBTW9BbXhCZjNOeGMycEIzRFFvQWdCcUlBTW9BbGhxTmdKWUlBTWdBeWdDZkVFQ0VCVWdBeWdDZkVFTkVCVnpJQU1vQW54QkZoQVZjeUFES0FKNElBTW9BblJ4SUFNb0Fud2dBeWdDZUhFZ0F5Z0NmQ0FES0FKMGNYTnphallDZ0FFZ0F5QURLQUpZSUFNb0FuQnFOZ0p3SUFNZ0F5Z0NXQ0FES0FLQUFXbzJBb0FCSUFOQkVEWUNEQU5BSUFNb0FneEJ3QUJPUlFSQUlBTWdBMEVRYWlJQ0lBTW9BZ3hCQVdwQkQzRkJBblJxS0FJQU5nSmdJQU1nQXlnQ1lFRUhFQlVnQXlnQ1lFRVNFQlZ6SUFNb0FtQkJBM1p6TmdKZ0lBTWdBeWdDREVFT2FrRVBjVUVDZENBQ2FpZ0NBRFlDWENBRElBTW9BbHhCRVJBVklBTW9BbHhCRXhBVmN5QURLQUpjUVFwMmN6WUNYQ0FES0FJTVFROXhRUUowSUFKcUlnRW9BZ0FnQXlnQ0RFRUpha0VQY1VFQ2RDQUNhaWdDQUNBREtBSmdJQU1vQWx4cWFtb2hBQ0FCSUFBMkFnQWdBeUFBTmdKWUlBTWdBeWdDWkNBREtBSndRUVlRRlNBREtBSndRUXNRRlhNZ0F5Z0NjRUVaRUJWemFpQURLQUp3SUFNb0FteHhJQU1vQW1nZ0F5Z0NjRUYvYzNGemFpQURLQUlNUVFKMFFhQTBhaWdDQUdvZ0F5Z0NXR28yQWxnZ0F5QURLQUtBQVVFQ0VCVWdBeWdDZ0FGQkRSQVZjeUFES0FLQUFVRVdFQlZ6SUFNb0Fud2lBQ0FES0FLQUFYRWdBeWdDZUNJQklBTW9Bb0FCY1hNZ0FDQUJjWE5xTmdKa0lBTWdBeWdDV0NBREtBSjBhallDZENBRElBTW9BbGdnQXlnQ1pHbzJBbVFnQXlBREtBSU1RUUpxUVE5eFFRSjBJQUpxS0FJQU5nSmdJQU1nQXlnQ1lFRUhFQlVnQXlnQ1lFRVNFQlZ6SUFNb0FtQkJBM1p6TmdKZ0lBTWdBeWdDREVFUGFrRVBjVUVDZENBQ2FpZ0NBRFlDWENBRElBTW9BbHhCRVJBVklBTW9BbHhCRXhBVmN5QURLQUpjUVFwMmN6WUNYQ0FES0FJTVFRRnFRUTl4UVFKMElBSnFJZ0VvQWdBZ0F5Z0NERUVLYWtFUGNVRUNkQ0FDYWlnQ0FDQURLQUpnSUFNb0FseHFhbW9oQUNBQklBQTJBZ0FnQXlBQU5nSllJQU1nQXlnQ2FDQURLQUowUVFZUUZTQURLQUowUVFzUUZYTWdBeWdDZEVFWkVCVnphaUFES0FKMElBTW9BbkJ4SUFNb0Ftd2dBeWdDZEVGL2MzRnphaUFES0FJTVFRSjBRYVEwYWlnQ0FHb2dBeWdDV0dvMkFsZ2dBeUFES0FKa1FRSVFGU0FES0FKa1FRMFFGWE1nQXlnQ1pFRVdFQlZ6SUFNb0FvQUJJQU1vQW54eElBTW9BbVFnQXlnQ2dBRnhJQU1vQW1RZ0F5Z0NmSEZ6YzJvMkFtZ2dBeUFES0FKWUlBTW9BbmhxTmdKNElBTWdBeWdDV0NBREtBSm9hallDYUNBRElBTW9BZ3hCQTJwQkQzRkJBblFnQW1vb0FnQTJBbUFnQXlBREtBSmdRUWNRRlNBREtBSmdRUklRRlhNZ0F5Z0NZRUVEZG5NMkFtQWdBeUFES0FJTVFSQnFRUTl4UVFKMElBSnFLQUlBTmdKY0lBTWdBeWdDWEVFUkVCVWdBeWdDWEVFVEVCVnpJQU1vQWx4QkNuWnpOZ0pjSUFNb0FneEJBbXBCRDNGQkFuUWdBbW9pQVNnQ0FDQURLQUlNUVF0cVFROXhRUUowSUFKcUtBSUFJQU1vQW1BZ0F5Z0NYR3BxYWlFQUlBRWdBRFlDQUNBRElBQTJBbGdnQXlBREtBSnNJQU1vQW5oQkJoQVZJQU1vQW5oQkN4QVZjeUFES0FKNFFSa1FGWE5xSUFNb0FuZ2dBeWdDZEhFZ0F5Z0NjQ0FES0FKNFFYOXpjWE5xSUFNb0FneEJBblJCcURScUtBSUFhaUFES0FKWWFqWUNXQ0FESUFNb0FtaEJBaEFWSUFNb0FtaEJEUkFWY3lBREtBSm9RUllRRlhNZ0F5Z0NaQ0FES0FLQUFYRWdBeWdDYUNBREtBSmtjU0FES0FKb0lBTW9Bb0FCY1hOemFqWUNiQ0FESUFNb0FsZ2dBeWdDZkdvMkFud2dBeUFES0FKWUlBTW9BbXhxTmdKc0lBTWdBeWdDREVFRWFrRVBjVUVDZENBQ2FpZ0NBRFlDWUNBRElBTW9BbUJCQnhBVklBTW9BbUJCRWhBVmN5QURLQUpnUVFOMmN6WUNZQ0FESUFNb0FneEJFV3BCRDNGQkFuUWdBbW9vQWdBMkFsd2dBeUFES0FKY1FSRVFGU0FES0FKY1FSTVFGWE1nQXlnQ1hFRUtkbk0yQWx3Z0F5Z0NERUVEYWtFUGNVRUNkQ0FDYWlJQktBSUFJQU1vQWd4QkRHcEJEM0ZCQW5RZ0Ftb29BZ0FnQXlnQ1lDQURLQUpjYW1wcUlRQWdBU0FBTmdJQUlBTWdBRFlDV0NBRElBTW9BbkFnQXlnQ2ZFRUdFQlVnQXlnQ2ZFRUxFQlZ6SUFNb0FueEJHUkFWYzJvZ0F5Z0NmQ0FES0FKNGNTQURLQUowSUFNb0FueEJmM054YzJvZ0F5Z0NERUVDZEVHc05Hb29BZ0JxSUFNb0FsaHFOZ0pZSUFNZ0F5Z0NiRUVDRUJVZ0F5Z0NiRUVORUJWeklBTW9BbXhCRmhBVmN5QURLQUpvSUFNb0FtUnhJQU1vQW13Z0F5Z0NhSEVnQXlnQ2JDQURLQUprY1hOemFqWUNjQ0FESUFNb0FsZ2dBeWdDZ0FGcU5nS0FBU0FESUFNb0FsZ2dBeWdDY0dvMkFuQWdBeUFES0FJTVFRVnFRUTl4UVFKMElBSnFLQUlBTmdKZ0lBTWdBeWdDWUVFSEVCVWdBeWdDWUVFU0VCVnpJQU1vQW1CQkEzWnpOZ0pnSUFNZ0F5Z0NERUVTYWtFUGNVRUNkQ0FDYWlnQ0FEWUNYQ0FESUFNb0FseEJFUkFWSUFNb0FseEJFeEFWY3lBREtBSmNRUXAyY3pZQ1hDQURLQUlNUVFScVFROXhRUUowSUFKcUlnRW9BZ0FnQXlnQ0RFRU5ha0VQY1VFQ2RDQUNhaWdDQUNBREtBSmdJQU1vQWx4cWFtb2hBQ0FCSUFBMkFnQWdBeUFBTmdKWUlBTWdBeWdDZENBREtBS0FBVUVHRUJVZ0F5Z0NnQUZCQ3hBVmN5QURLQUtBQVVFWkVCVnphaUFES0FLQUFTQURLQUo4Y1NBREtBSjRJQU1vQW9BQlFYOXpjWE5xSUFNb0FneEJBblJCc0RScUtBSUFhaUFES0FKWWFqWUNXQ0FESUFNb0FuQkJBaEFWSUFNb0FuQkJEUkFWY3lBREtBSndRUllRRlhNZ0F5Z0NiQ0FES0FKb2NTQURLQUp3SUFNb0FteHhJQU1vQW5BZ0F5Z0NhSEZ6YzJvMkFuUWdBeUFES0FKWUlBTW9BbVJxTmdKa0lBTWdBeWdDV0NBREtBSjBhallDZENBRElBTW9BZ3hCQm1wQkQzRkJBblFnQW1vb0FnQTJBbUFnQXlBREtBSmdRUWNRRlNBREtBSmdRUklRRlhNZ0F5Z0NZRUVEZG5NMkFtQWdBeUFES0FJTVFSTnFRUTl4UVFKMElBSnFLQUlBTmdKY0lBTWdBeWdDWEVFUkVCVWdBeWdDWEVFVEVCVnpJQU1vQWx4QkNuWnpOZ0pjSUFNb0FneEJCV3BCRDNGQkFuUWdBbW9pQVNnQ0FDQURLQUlNUVE1cVFROXhRUUowSUFKcUtBSUFJQU1vQW1BZ0F5Z0NYR3BxYWlFQUlBRWdBRFlDQUNBRElBQTJBbGdnQXlBREtBSjRJQU1vQW1SQkJoQVZJQU1vQW1SQkN4QVZjeUFES0FKa1FSa1FGWE5xSUFNb0FtUWdBeWdDZ0FGeElBTW9BbndnQXlnQ1pFRi9jM0Z6YWlBREtBSU1RUUowUWJRMGFpZ0NBR29nQXlnQ1dHbzJBbGdnQXlBREtBSjBRUUlRRlNBREtBSjBRUTBRRlhNZ0F5Z0NkRUVXRUJWeklBTW9BbkFnQXlnQ2JIRWdBeWdDZENBREtBSndjU0FES0FKMElBTW9BbXh4YzNOcU5nSjRJQU1nQXlnQ1dDQURLQUpvYWpZQ2FDQURJQU1vQWxnZ0F5Z0NlR28yQW5nZ0F5QURLQUlNUVFkcVFROXhRUUowSUFKcUtBSUFOZ0pnSUFNZ0F5Z0NZRUVIRUJVZ0F5Z0NZRUVTRUJWeklBTW9BbUJCQTNaek5nSmdJQU1nQXlnQ0RFRVVha0VQY1VFQ2RDQUNhaWdDQURZQ1hDQURJQU1vQWx4QkVSQVZJQU1vQWx4QkV4QVZjeUFES0FKY1FRcDJjellDWENBREtBSU1RUVpxUVE5eFFRSjBJQUpxSWdFb0FnQWdBeWdDREVFUGFrRVBjVUVDZENBQ2FpZ0NBQ0FES0FKZ0lBTW9BbHhxYW1vaEFDQUJJQUEyQWdBZ0F5QUFOZ0pZSUFNZ0F5Z0NmQ0FES0FKb1FRWVFGU0FES0FKb1FRc1FGWE1nQXlnQ2FFRVpFQlZ6YWlBREtBSm9JQU1vQW1SeElBTW9Bb0FCSUFNb0FtaEJmM054YzJvZ0F5Z0NERUVDZEVHNE5Hb29BZ0JxSUFNb0FsaHFOZ0pZSUFNZ0F5Z0NlRUVDRUJVZ0F5Z0NlRUVORUJWeklBTW9BbmhCRmhBVmN5QURLQUowSUFNb0FuQnhJQU1vQW5nZ0F5Z0NkSEVnQXlnQ2VDQURLQUp3Y1hOemFqWUNmQ0FESUFNb0FsZ2dBeWdDYkdvMkFtd2dBeUFES0FKWUlBTW9BbnhxTmdKOElBTWdBeWdDREVFSWFrRVBjVUVDZENBQ2FpZ0NBRFlDWUNBRElBTW9BbUJCQnhBVklBTW9BbUJCRWhBVmN5QURLQUpnUVFOMmN6WUNZQ0FESUFNb0FneEJGV3BCRDNGQkFuUWdBbW9vQWdBMkFsd2dBeUFES0FKY1FSRVFGU0FES0FKY1FSTVFGWE1nQXlnQ1hFRUtkbk0yQWx3Z0F5Z0NERUVIYWtFUGNVRUNkQ0FDYWlJQktBSUFJQU1vQWd4QkVHcEJEM0ZCQW5RZ0Ftb29BZ0FnQXlnQ1lDQURLQUpjYW1wcUlRQWdBU0FBTmdJQUlBTWdBRFlDV0NBRElBTW9Bb0FCSUFNb0FteEJCaEFWSUFNb0FteEJDeEFWY3lBREtBSnNRUmtRRlhOcUlBTW9BbXdnQXlnQ2FIRWdBeWdDWkNBREtBSnNRWDl6Y1hOcUlBTW9BZ3hCQW5SQnZEUnFLQUlBYWlBREtBSllhallDV0NBRElBTW9BbnhCQWhBVklBTW9BbnhCRFJBVmN5QURLQUo4UVJZUUZYTWdBeWdDZUNBREtBSjBjU0FES0FKOElBTW9Bbmh4SUFNb0Fud2dBeWdDZEhGemMybzJBb0FCSUFNZ0F5Z0NXQ0FES0FKd2FqWUNjQ0FESUFNb0FsZ2dBeWdDZ0FGcU5nS0FBU0FESUFNb0FneEJDR28yQWd3TUFRc0xJQU1vQW93QklnQWdBeWdDZ0FFZ0FDZ0NBR28yQWdBZ0F5Z0NqQUVpQUNBREtBSjhJQUFvQWdScU5nSUVJQU1vQW93QklnQWdBeWdDZUNBQUtBSUlhallDQ0NBREtBS01BU0lBSUFNb0FuUWdBQ2dDREdvMkFnd2dBeWdDakFFaUFDQURLQUp3SUFBb0FoQnFOZ0lRSUFNb0Fvd0JJZ0FnQXlnQ2JDQUFLQUlVYWpZQ0ZDQURLQUtNQVNJQUlBTW9BbWdnQUNnQ0dHbzJBaGdnQXlnQ2pBRWlBQ0FES0FKa0lBQW9BaHhxTmdJY0RBRUxDeUFEUVpBQmFpUUFDOElCQVFGL0l3QkJJR3NpQkNRQUlBUWdBRFlDSENBRUlBRTJBaGdnQkNBQ05nSVVJQVFnQXpZQ0VDQUVJQVFvQWh4QkNHb1FQVGNEQUNBRUlBUW9BaHdRUFRjRENBTkFJQVFvQWhCQkVFbEZCRUFnQkNBRUtBSVVRUWhxRUQwZ0JDa0RBSVUzQXdBZ0JDQUVLQUlVRUQwZ0JDa0RDSVUzQXdnZ0JDQUVLQUlZRU5VQklBUWdCQ2dDRkVFUWFqWUNGQ0FFSUFRb0FoQkJFR3MyQWhBTUFRc0xJQVFvQWh3Z0JDa0RDQkJ1SUFRb0FoeEJDR29nQkNrREFCQnVJQVJCSUdva0FBdGlBUUYvSXdCQklHc2lBaVFBSUFJZ0FEWUNIQ0FDSUFFMkFoZ2dBaUFDS0FJY1FRaHFFRDAzQXdBZ0FpQUNLQUljRUQwM0F3Z2dBaUFDS0FJWUVOVUJJQUlvQWh3Z0Fpa0RDQkJ1SUFJb0FoeEJDR29nQWlrREFCQnVJQUpCSUdva0FBdG9BUUYvSXdCQkVHc2lBRUdZNmdBMkFnd2dBQ2dDREVHZ0JUWUNBQ0FBS0FJTVFTQTJBZ1FnQUNnQ0RFRUFOZ0lJSUFBb0FneEIxUUEyQWd3Z0FDZ0NERUhXQURZQ0VDQUFLQUlNUWRjQU5nSVVJQUFvQWd4QndBQTJBaGdnQUNnQ0RFSHdBRFlDSEF1VkFRRUNmeU1BUVJCcklnQkI2T2tBTmdJTUlBQW9BZ3dpQVVJQU53SUFJQUZCQURZQ0tDQUJRZ0EzQWlBZ0FVSUFOd0lZSUFGQ0FEY0NFQ0FCUWdBM0FnZ2dBQ2dDREVHSUJ6WUNBQ0FBS0FJTVFRRTJBZ1FnQUNnQ0RFRVFOZ0lJSUFBb0FneEJFRFlDRENBQUtBSU1RWUFDTmdJUUlBQW9BZ3hCQlRZQ0ZDQUFLQUlNUWRJQU5nSWNJQUFvQWd4QjB3QTJBaUFMTXdFQmZ5TUFRU0JySWdVa0FDQUZJQUEyQWh3Z0JTQUJOZ0lZSUFVZ0FqWUNGQ0FGSUFNMkFoQWdCU0FFTmdJTUVBTUFDN2NGQVFGL0l3QkJnQVZySWdZa0FDQUdJQUEyQXZ3RUlBWWdBVFlDK0FRZ0JpQUNOZ0wwQkNBR0lBTTJBdkFFSUFZZ0JEWUM3QVFnQmlBRk5nTG9CQ0FHS0FMMEJFRVBjUVJBUWQ0Z1Fkd1FRY1VKUWVJSkVBQUFDeUFHSUFZb0F2UUVRUVIyTmdMa0JBSkFJQVlvQXVRRVJRMEFJQVpCZ0FGcUlBWW9BdkFFRUhrZ0JrSHdBR29pQUNBR0tBTHNCQ0lCS1FBQU53QUFJQUFnQVNrQUNEY0FDQ0FHS0FMb0JBUkFBMEFnQmlnQzVBUUVRQ0FHUWZBQWFpSUFJQUFnQmlnQy9BUVFkQ0FHUWRBQWFpSUJJQUJCQVJCY0lBWkJnQUZxSUFZb0F2QUVLQUx3QVNBQkVKd0JJQVlvQXZnRVFRRWdBUkJiSUFBZ0JpZ0MrQVFpQVNrQUFEY0FBQ0FBSUFFcEFBZzNBQWdnQmlBR0tBTDhCRUVRYWpZQy9BUWdCaUFHS0FMNEJFRVFhallDK0FRZ0JpQUdLQUxrQkVFQmF6WUM1QVFNQVFzTElBWW9BdXdFSWdBZ0JrSHdBR29pQVNrQUFEY0FBQ0FBSUFFcEFBZzNBQWdNQVFzRFFDQUdJQVlvQXVRRVFRSlBCSDlCQWdVZ0JpZ0M1QVFMTmdKTUlBWkJMR29nQmlnQy9BUWdCaWdDVEVFRWRCQWJHaUFHUVFocUlnQWdCaWdDL0FRZ0JpZ0NUQkJjSUFaQmdBRnFJQVlvQXZBRUtBTHdBU0FBRU84QklBWW9BdmdFSUFZb0Frd2dBQkJiSUFZb0F2Z0VJQVlvQXZnRUlBWkI4QUJxRUhRZ0JrRUJOZ0lFQTBBZ0JpZ0NCQ0FHS0FKTVQwVUVRQ0FHS0FMNEJDQUdLQUlFSWdCQkJIUnFJZ0VnQVNBR0lBQkJCSFJxUVJ4cUVIUWdCaUFHS0FJRVFRRnFOZ0lFREFFTEN5QUdRZkFBYWlJQUlBWWdCaWdDVEVFRWRHcEJIR29pQVNrQUFEY0FBQ0FBSUFFcEFBZzNBQWdnQmlBR0tBTGtCQ0FHS0FKTWF6WUM1QVFnQmlnQzVBUUVRQ0FHSUFZb0F2d0VRU0JxTmdMOEJDQUdJQVlvQXZnRVFTQnFOZ0w0QkF3QkN3c2dCaWdDN0FRaUFDQUdRZkFBYWlJQktRQUFOd0FBSUFBZ0FTa0FDRGNBQ0FzZ0JrR0FCV29rQUF2Y0F3RUJmeU1BUWZBRWF5SUZKQUFnQlNBQU5nTHNCQ0FGSUFFMkF1Z0VJQVVnQWpZQzVBUWdCU0FETmdMZ0JDQUZJQVEyQXR3RUFrQWdCU2dDNUFSRkRRQWdCVUg0QUdvZ0JTZ0M0QVFRZVNBRlFRQTJBalFEUUNBRktBSTBRUUpQUlFSQUlBVkIyQUJxSUFVb0FqUkJCSFJxSWdBZ0JTZ0MzQVFpQVNrQUFEY0FBQ0FBSUFFcEFBZzNBQWdnQlNBRktBSTBRUUZxTmdJMERBRUxDeUFGSUFWQjVBQnFFQ1EyQWpBRFFDQUZRUUEyQWl3RFFDQUZLQUlzUVFKUFJRUkFJQVVnQlNnQ0xDSUFRUVIwYWtIa0FHb2dBQ0FGS0FJd2FoQk1JQVVnQlNnQ0xFRUJhallDTEF3QkN3c2dCU0FGS0FMa0JFRUNUd1IvUVFJRklBVW9BdVFFQ3pZQ0tDQUZRUWhxSWdBZ0JVSFlBR29nQlNnQ0tCQmNJQVZCK0FCcUlBVW9BdUFFS0FMd0FTQUFFSndCSUFWQk9Hb2dCU2dDS0NBQUVGc2dCVUVBTmdJRUEwQWdCU2dDQkNBRktBSW9UMFVFUUNBRktBSUVRUVIwSWdBZ0JTZ0M2QVJxSUFBZ0JTZ0M3QVJxSUFBZ0JVRTRhbW9RZENBRklBVW9BZ1JCQVdvMkFnUU1BUXNMSUFVZ0JTZ0M1QVFnQlNnQ0tHczJBdVFFSUFVb0F1UUVSUTBCSUFVZ0JTZ0M3QVJCSUdvMkF1d0VJQVVnQlNnQzZBUkJJR28yQXVnRUlBVWdCU2dDTUVFQ2FqWUNNQXdBQ3dBTElBVkI4QVJxSkFBTFpnRUJmeU1BUVpBRWF5SURKQUFnQXlBQU5nS01CQ0FESUFFMkFvZ0VJQU1nQWpZQ2hBUWdBMEVnYWlJQUlBTW9Bb1FFRUhrZ0F5QURLQUtNQkVFQkVGd2dBQ0FES0FLRUJDZ0M4QUVnQXhEdkFTQURLQUtJQkVFQklBTVFXeUFEUVpBRWFpUUFDMllCQVg4akFFR1FCR3NpQXlRQUlBTWdBRFlDakFRZ0F5QUJOZ0tJQkNBRElBSTJBb1FFSUFOQklHb2lBQ0FES0FLRUJCQjVJQU1nQXlnQ2pBUkJBUkJjSUFBZ0F5Z0NoQVFvQXZBQklBTVFuQUVnQXlnQ2lBUkJBU0FERUZzZ0EwR1FCR29rQUF0MUFRRi9Jd0JCRUdzaUFTUUFJQUVnQURZQ0RDQUJJQUVvQWd3MkFnZ2dBU2dDQ0FSQUlBRkJBRFlDQkFOQUlBRW9BZ1JCRUU5RkJFQWdBU2dDQ0NBQktBSUVRUVIwYWhEd0FTQUJJQUVvQWdSQkFXbzJBZ1FNQVFzTElBRW9BZ2dvQW9nQ0VDSWdBU2dDQ0JBaUN5QUJRUkJxSkFBTHd3TUJBWDhqQUVIUUFHc2lDaVFBSUFvZ0FEWUNTQ0FLSUFFMkFrUWdDaUFDTmdKQUlBb2dBellDUENBS0lBUTJBamdnQ2lBRk5nSTBJQW9nQmpZQ01DQUtJQWMyQWl3Z0NpQUlOZ0lvSUFvZ0NUWUNKQ0FLSUFvb0FraEJDR28yQWlBQ1FDQUtLQUlzSUFvb0FrZ3RBTUFFUndSQVFSNUI1UUJCM0JSQjNRRVFIQ0FLUVFBMkFrd01BUXNnQ2lnQ1BFRU1Sd1JBUVI1QitRQkIzQlJCNGdFUUhDQUtRUUEyQWt3TUFRc2dDaUFLS0FJZ0lnQkJnQUpxSUFCQjhBSnFJQW9vQWlnZ0NpZ0NKQ0FLS0FKQUlBb29BamdnQ2lnQ05CRHlBU0FLS0FJd0lRRWdDaWdDU0MwQXdBUWhBaU1BUVNCcklnQWdDallDSENBQUlBRTJBaGdnQUNBQ05nSVVJQUFnQUNnQ0hEWUNFQ0FBSUFBb0FoZzJBZ3dnQUVFQU9nQUxJQUJCQURZQ0JBTkFJQUFvQWdRZ0FDZ0NGRWtFUUNBQUlBQXRBQXNnQUNnQ0JDSUJJQUFvQWhCcUxRQUFJQUVnQUNnQ0RHb3RBQUJ6Y2pvQUN5QUFJQUFvQWdSQkFXbzJBZ1FNQVFzTElBQXRBQXNFUUVFZVFlVUFRZHdVUWVzQkVCd2dDa0VBTmdKTURBRUxJQW9vQWlBZ0NpZ0NSQ0FLS0FJNElBb29BalFnQ2lnQ1FCRHpBU0FLUVFFMkFrd0xJQW9vQWt3aEFDQUtRZEFBYWlRQUlBQUwrUUlCQVg4akFFSHdBR3NpRFNRQUlBMGdBRFlDYUNBTklBRTJBbVFnRFNBQ05nSmdJQTBnQXpZQ1hDQU5JQVEyQWxnZ0RTQUZOZ0pVSUEwZ0JqWUNVQ0FOSUFjMkFrd2dEU0FJTmdKSUlBMGdDVFlDUkNBTklBbzJBa0FnRFNBTE5nSThJQTBnRERZQ09DQU5JQTBvQW1oQkNHbzJBalFnRFNBTk5RSklOd01vQWtBZ0RTa0RLRUtBZ0lDQWdBSmFCRUJCSGtIMUFFSGNGRUc4QVJBY0lBMUJBRFlDYkF3QkN5QU5LQUpZSUEwb0FtZ3RBTUFFU1FSQVFSNUI1d0JCM0JSQndRRVFIQ0FOUVFBMkFtd01BUXNnRFNnQ1VFRU1Sd1JBUVI1QitRQkIzQlJCeGdFUUhDQU5RUUEyQW13TUFRc2dEU2dDTkNBTktBSmtJQTBvQWt3Z0RTZ0NTQ0FOS0FKVUVQTUJJQTBnRFNnQ05FR0FBbW9nRFNnQ05FSHdBbW9nRFNnQ1BDQU5LQUk0SUEwb0FsUWdEU2dDWkNBTktBSklFUElCSUEwb0FtQWdEU0FOS0FKb0xRREFCQkFlSUEwb0Fsd2dEU2dDYUMwQXdBUTJBZ0FnRFVFQk5nSnNDeUFOS0FKc0lRQWdEVUh3QUdva0FDQUFDOFVKQVFSL0l3QkJJR3NpQkNRQUlBUWdBRFlDR0NBRUlBRTJBaFFnQkNBQ05nSVFJQVFnQXpZQ0RDQUVJQVFvQWhoQkNHbzJBZ2dDUUNBRUtBSVFRU0JKQkVCQkhrSG1BRUhjRkVIUEFCQWNJQVJCQURZQ0hBd0JDeUFFSUFRb0FoQkJJR3MyQWdRQ1FDQUVLQUlFUVJCR0RRQWdCQ2dDQkVFZ1JnMEFRUjVCNWdCQjNCUkIxUUFRSENBRVFRQTJBaHdNQVFzZ0JDZ0NERVVFUUNBRVFTQTJBZ3dMSUFRb0FneEJJRXNFUUVFZVFmUUFRZHdVUWQ0QUVCd2dCRUVBTmdJY0RBRUxJQVFvQWdnaEFTQUVLQUlVSVFJZ0JDZ0NCQ0VESXdCQklHc2lBQ1FBSUFBZ0FUWUNHQ0FBUVFBMkFoUWdBQ0FCUWZ3QmFqWUNFQ0FBSUFJMkFnd2dBQ0FETmdJSUFrQWdBQ2dDQ0VFUVJnMEFJQUFvQWdoQkdFWU5BQ0FBS0FJSVFTQkdEUUJCOVI1Qmh4SkJwZ0pCalFnUUFBQUxJQUFvQWd3Z0FDZ0NDRUVEZENBQUtBSVlFSnNCR2lBQUtBSVVCRUFnQUNnQ0ZDRUNJQUFvQWhnaEF5TUFRVEJySWdFa0FDQUJJQUkyQWl3Z0FTQUROZ0lvSUFGQnpRQTJBaVFnQVVFQU5nSWdJQUVvQWl4QkFFR1FBaEFoSUFFb0Fpd2dBU2dDSkRZQ2lBSWdBVUVRYWlJQ1FRQkJFQkFoSUFJZ0FpQUJLQUlvSUFFb0FpUVJBd0FnQVNnQ0xFR0FBbW9oQlNBQktBSXNRWVFDYWlFR0lBRW9BaXdoQnlNQVFUQnJJZ01rQUNBRElBVTJBaXdnQXlBR05nSW9JQU1nQnpZQ0pDQURJQUZCREdvMkFpQWdBeUFDTmdJY0lBTW9BaUJCQURZQ0FDQURJQU1vQWh3UVBUY0RBQ0FESUFNb0FoeEJDR29RUFRjRENDTUFRUkJySWdJZ0F5Z0NKRFlDRENBQ0lBTTJBZ2dnQWlnQ0RDQUNLQUlJS1FNSU53TUlJQUlvQWd3Z0FpZ0NDQ2tEQURjREFDQUNJQUlvQWd3cEF3QkNQNGczQXdBZ0FrSUFJQUlwQXdCOU53TUFJQUlvQWd3aUJTQUZLUU1BUWdHR053TUFJQUlvQWd3aUJTQUZLUU1BSUFJb0Fnd3BBd2hDUDRpRU53TUFJQUlvQWd3aUJTQUZLUU1JUWdHR053TUlJQUlvQWd3aUJTQUZLUU1JSUFJcEF3QkNBWU9GTndNSUlBSW9BZ3dpQlNBRktRTUFJQUlwQXdCQ2dJQ0FnSUNBZ0lCQ2c0VTNBd0FnQXlnQ0xFSFBBRFlDQUNBREtBSW9RZEFBTmdJQUlBTkJNR29rQUNBQktBSXNJZ0lnQVNnQ0RBUi9JQUVvQWlCQkFFY0ZRUUFMUVFGeElBSXRBSXdDUVg1eGNqb0FqQUlnQVVFd2FpUUFDeUFBS0FJUUJFQWdBQ2dDRUVITkFEWUNBQXNnQUVIT0FEWUNIQ0FBS0FJY0lRRWdBRUVnYWlRQUlBUW9BZ2dnQVRZQytBRWdCQ2dDR0NBRUtBSU1PZ0RBQkNBRUtBSUlRWUFDYWlFQklBUW9BZ2hCOEFKcUlRSWdCQ2dDRkNBRUtBSUVhaUVESXdCQjRBQnJJZ0FrQUNBQUlBRTJBbHdnQUNBQ05nSllJQUFnQXpZQ1ZDQUFRUkJxSWdFZ0FDZ0NWRUVnRUI0Z0FVRWdha0UyUVNBUUlTQUFRUUEyQWd3RFFDQUFLQUlNUVNCSkJFQWdBQ2dDRENBQVFSQnFhaUlCSUFFdEFBQkJObk02QUFBZ0FDQUFLQUlNUVFGcU5nSU1EQUVMQ3lBQUtBSmNFSlFCR2lBQUtBSmNJQUJCRUdvaUFVSEFBQkExR2lBQlFTQnFRZHdBUVNBUUlTQUFRUUEyQWd3RFFDQUFLQUlNUVNCSkJFQWdBQ2dDRENBQVFSQnFhaUlCSUFFdEFBQkI2Z0J6T2dBQUlBQWdBQ2dDREVFQmFqWUNEQXdCQ3dzZ0FDZ0NXQkNVQVJvZ0FDZ0NXQ0FBUVJCcVFjQUFFRFVhSUFCQjRBQnFKQUFnQkVFQk5nSWNDeUFFS0FJY0lRQWdCRUVnYWlRQUlBQUxYUUVDZnlNQVFSQnJJZ0lrQUNBQ0lBQTJBZ3dnQWlBQk5nSUlJQUlvQWd3aEFTQUNLQUlJSVFNakFFRVFheUlBSkFBZ0FDQUNOZ0lNSUFBZ0FUWUNDQ0FBSUFNMkFnUWdBQ2dDQkJEM0FTQUFRUkJxSkFBZ0FrRVFhaVFBQzQwREFRdC9Jd0JCRUdzaUJ5UUFJQWNnQURZQ0RDTUFRUkJySWdVa0FDQUZRZGpwQURZQ0NDQUZJQVVvQWdnaUJEWUNEQ01BUVJCcklnSWtBQ0FDSUFRMkFnd2dBaWdDRENJQUVCa2hBeUFBRUJrZ0FCQmVRUUowYWlFR0lBQVFHU0VLSXdCQkVHc2lBU0FBTmdJTUlBb2dBU2dDRENJQktBSUVJQUVvQWdCclFYeHhhaUVJSUFBUUdTQUFFRjVCQW5ScUlRa2pBRUVnYXlJQklBQTJBaHdnQVNBRE5nSVlJQUVnQmpZQ0ZDQUJJQWcyQWhBZ0FTQUpOZ0lNSUFKQkVHb2tBQ0FFS0FJQUJFQWpBRUVRYXlJQkpBQWdBU0FFTmdJTUlBRW9BZ3dpQUNFQ0lBQW9BZ0FoQXlNQVFSQnJJZ0FrQUNBQUlBSTJBZ3dnQUNBRE5nSUlJQUFnQUNnQ0RDSUNLQUlFTmdJRUEwQWdBQ2dDQ0NBQUtBSUVSd1JBSUFJUUdDRURJQUFnQUNnQ0JFRUVheUlHTmdJRUlBTWhDeU1BUVJCcklnTWdCallDRENBTElBTW9BZ3dRUkF3QkN3c2dBaUFBS0FJSU5nSUVJQUJCRUdva0FDQUJRUkJxSkFBZ0JCQVlJQVFvQWdBZ0JCQmVFSXdDQ3lBRktBSU1HaUFGUVJCcUpBQWdCMEVRYWlRQUM0NENBUVovSXdCQkVHc2lCU1FBSUFVZ0FEWUNEQ01BUVJCcklnUWtBQ0FFUWRUcEFEWUNEQ0FFS0FJTUlRRWpBRUVRYXlJQUpBQWdBQ0FCTmdJTUlBQkJBRFlDQ0NBQUlBQW9BZ3dpQVJBWEtBSUFOZ0lFSUFBb0FnZ2hBaUFCRUJjZ0FqWUNBQ0FBS0FJRUJFQWdBUkFYSVFFZ0FDZ0NCQ0VESXdCQkVHc2lBaVFBSUFJZ0FUWUNEQ0FDSUFNMkFnZ2dBaWdDQ0NFQkl3QkJFR3NpQXlRQUlBTWdBVFlDRENBREtBSU1JUVlqQUVFUWF5SUJKQUFnQVNBR05nSU1Ba0FnQVNnQ0RFVU5BQ0FCS0FJTUVHaEZEUUFnQVNnQ0RCRDBBUm9nQVNnQ0RCQW9DeUFCUVJCcUpBQWdBMEVRYWlRQUlBSkJFR29rQUFzZ0FFRVFhaVFBSUFSQkVHb2tBQ0FGUVJCcUpBQUxyUU1CQm44akFFRVFheUlHSkFBZ0JpQUFOZ0lNSXdCQkVHc2lCQ1FBSUFSQjBPa0FOZ0lNSUFRb0Fnd2hBQ01BUVJCcklnSWtBQ0FDSUFBMkFnd2dBa0VBTmdJSUlBSWdBaWdDRENJQUVCY29BZ0EyQWdRZ0FpZ0NDQ0VCSUFBUUZ5QUJOZ0lBSUFJb0FnUUVRQ0FBRUJjaEFDQUNLQUlFSVFFakFFRVFheUlESkFBZ0F5QUFOZ0lNSUFNZ0FUWUNDQ0FES0FJSUlRQWpBRUVRYXlJRkpBQWdCU0FBTmdJTUlBVW9BZ3doQVNNQVFSQnJJZ0FrQUNBQUlBRTJBZ2dDUUFOQUlBQW9BZ2dFUUNBQUtBSUlRUmhxRUdnRVFDTUFRUkJySWdFZ0FDZ0NDRFlDQ0FKQUlBRW9BZ2hGQkVBZ0FVRUFOZ0lNREFFTElBRWdBU2dDQ0NnQ0lEWUNCQ0FCS0FJSVFRQTJBaUFnQVNBQktBSUVOZ0lNQ3lBQUlBRW9BZ3cyQWdRQ1FDQUFLQUlJS0FJQVJRMEFJQUFvQWdnb0FnQW9BaUJGRFFBZ0FDZ0NDQ0lCSUFFb0FnQW9BaUFSQUFBYUN5QUFLQUlJRUNnZ0FDQUFLQUlFTmdJSURBSUZJQUJCQURZQ0RBd0RDd0FMQ3lBQVFRRTJBZ3dMSUFBb0Fnd2FJQUJCRUdva0FDQUZRUkJxSkFBZ0EwRVFhaVFBQ3lBQ1FSQnFKQUFnQkVFUWFpUUFJQVpCRUdva0FBdFhBUUovSXdCQkVHc2lBaVFBSUFJZ0FEWUNEQ0FDSUFFMkFnZ2pBRUVRYXlJQklBSW9BZ2dpQTBFa2FqWUNEQ0FDSUFFb0Fnd2lBU2dDQkNBQktBSUFheUFEUVNScUVCa1FleUFBSUFJUWVDQUNRUkJxSkFBTHpRRUJBMzhqQUVFZ2F5SURKQUFnQXlBQU5nSWNJQU1nQVRZQ0dDQURJQUkyQWhRZ0F5Z0NHQ0VDSUFNb0FoUWhCQ01BUVJCcklnRWtBQ0FCSUFJMkFnd2dBU0FFTmdJSUl3QkJFR3NpQlNBQktBSU1JZ1JCRkdvMkFnd2dBU2dDQ0NBRktBSU1JZ1VvQWdRZ0JTZ0NBR3RMQkVBZ0JFRVVhaUFCS0FJSUVJa0JDeUFFSUFFb0FnZzJBaUFnQVVFUWFpUUFJd0JCRUdzaUFTQUNRUlJxSWdJMkFnd2dBMEVJYWlJRUlBRW9BZ3dpQVNnQ0JDQUJLQUlBYXlBQ0VCa1FleUFBSUFRUWVDQURRU0JxSkFBTE5nRUNmeU1BUVJCcklnRWtBQ0FCSUFBMkFnd2pBRUVRYXlJQUlBRW9BZ3dpQWpZQ0RDQUFLQUlNR2lBQ0VDSWdBVUVRYWlRQUMrTWNBaE4vQVg0akFFR0FBV3NpQ1NRQUlBa2dBRFlDZkNBSklBRTJBbmdnQ1NBQ053TndJQWtnQXpZQ2JDQUpJQVEyQW1nZ0NTQUZOZ0prSUFrZ0JqWUNZQ0FKSUFjMkFsd2dDU0FJTmdKWUlBa29BbmdoRGlBSktBSmNRUUEyQWdBQ1FDQUpLQUpzUlFSQUl3QkJFR3NpQVNBQU5nSU1JQUZCQkRZQ0NDQUJLQUlNSWdCQnBETTJBZ0FnQUNBQktBSUlOZ0lFREFFTElBa29BbUJGQkVBakFFRVFheUlCSUFBMkFnd2dBVUVGTmdJSUlBRW9BZ3dpQUVHa016WUNBQ0FBSUFFb0FnZzJBZ1FNQVFzZ0RrRWNhaEFXUlFSQUl3QkJFR3NpQVNBQU5nSU1JQUZCQWpZQ0NDQUJLQUlNSWdCQnBETTJBZ0FnQUNBQktBSUlOZ0lFREFFTElBbEJ5QUJxRUM0Q1FDQUpLQUprUlFSQUlBbEJPR29pQVNBSktBSnNJQWtvQW1nUW53RWdDVUhJQUdvZ0FSQTJJQUVRSnd3QkN3SkFJQWtvQW1SQkFVWUVRQ0FKUVNocUlnRWdDU2dDYkNBSktBSm9FSjRCSUFsQnlBQnFJQUVRTmlBQkVDY01BUXNDUUNBSktBSmtRUUpHQkVBZ0NVRVlhaUlCSUFrb0Ftd2dDU2dDYUJDZEFTQUpRY2dBYWlBQkVEWWdBUkFuREFFTElBa29BbVJCQTBZRVFDQUpRUUEyQWhRZ0NVSElBR29nQ1VFVWFpQUpRZWdBYWhCUUN3c0xDeU1BUVJCcklnRWdDVUhJQUdvMkFnd0NRQ0FCS0FJTUlnRW9BZ0FnQVNnQ0JFWUVRQ01BUVJCcklnRWdBRFlDRENBQlFRWTJBZ2dnQVNnQ0RDSUFRYVF6TmdJQUlBQWdBU2dDQ0RZQ0JDQUpRUUUyQWhBTUFRc2dDVUVBTmdJTUEwQWdDU2dDRENFUUl3QkJFR3NpQVNBSlFjZ0FhallDRENBUUlBRW9BZ3dpQVNnQ0JDQUJLQUlBYTBFRGRVa0VRQ0FKUVFBMkFnZ0NRQUpBSUFrb0FtUkJBa2NOQUNBSktBSnNJUkVnQ1NnQ0RDRURJd0JCRUdzaUFTQUpRY2dBYWpZQ0RDQUJJQU0yQWdnZ0VTQUJLQUlNS0FJQUlBRW9BZ2hCQTNScUtBSUFFUGtCUVFGeFJRMEFJQWtvQWd3aEF5TUFRUkJySWdFZ0NVSElBR29pQkRZQ0RDQUJJQU0yQWdnZ0NTRVhJQUVvQWd3b0FnQWdBU2dDQ0VFRGRHb29BZ0FoRWlBSktBSU1JUU1nQVNBRU5nSU1JQUVnQXpZQ0NDQVhJQklnQVNnQ0RDZ0NBQ0FCS0FJSVFRTjBhaWdDQkdvMkFnZ2dDU2dDWUNBSktBSnNJQWtvQWdnUUd4b01BUXNnQ1VFQU9nQUhJQWtwQTNBaEFpQUpLQUpzSVFNZ0NTZ0NEQ0VFSXdBaUJVRVFheUlCSUFsQnlBQnFJZ1kyQWd3Z0FTQUVOZ0lJSUFFb0Fnd29BZ0FnQVNnQ0NFRURkR29vQWdRaEJDQUpLQUlNSVFjZ0FTQUdOZ0lNSUFFZ0J6WUNDQ0FCS0FJTUtBSUFJQUVvQWdoQkEzUnFLQUlBSVFZZ0NTZ0NZQ0VISUFrb0FsZ2hDQ0FGUWFBQmF5SUJKQUFnQVNBQU5nS2NBU0FCSUE0MkFwZ0JJQUVnQWpjRGtBRWdBU0FETmdLTUFTQUJJQVEyQW9nQklBRWdCallDaEFFZ0FTQUhOZ0tBQVNBQklBbEJDR28yQW53Z0FTQUlOZ0o0SUFFb0FwZ0JJUWNnQVNBQktBS01BU0FCS0FLRUFXbzJBbXdnQVVFUk5nSm9Jd0JCRUdzaUJpUUFJQVlnQVVIc0FHbzJBZ1FnQmlBQlFlZ0FhallDQUVFZ0VDOGhEQ0FHS0FJRUtBSUFJUU1nQmlnQ0FDZ0NBQ0VGSXdCQkVHc2lCQ1FBSUFRZ0REWUNDQ0FFSUFNMkFnUWdCQ0FGTmdJQUlBUWdCQ2dDQ0NJRk5nSU1JQVZDQURjREFDQUZRZ0EzQXdnZ0JVRVFhaEFxSUFVZ0JEVUNBRGNER0FKQUlBUW9BZ1JGRFFBZ0JDZ0NBRVVOQUNBRUtBSUFRUkZMRFFBZ0JVRVFhaUlESUFRb0FnQVFMeEJqSUFNUUZrRUFJQVFvQWdBUVJpQURFQllnQkNnQ0JDQUVLQUlBRUJzYUl3QkJJR3NpQXlRQUlBTWdCVFlDSENBREtBSWNJZ1ZCRUdvaENpTUFRUkJySWdna0FDQUlJQW8yQWd3Z0NFRUFOZ0lJSUFnb0Fnd2hDeU1BUVJCcklnb2tBQ0FLSUFzMkFnd2dDaWdDREJBWEtBSUFRUUJISVFzZ0NrRVFhaVFBSUFoQkVHb2tBQUpBSUF0QmYzTkJBWEVOQUNBRktRTVlVQTBBSUFVcEF4aENFVllOQUNBRElBVkJFR29RRmpZQ0dDQURJQU1vQWhndEFBQkJCSFpCQjNGQkFXbzJBaFFnQXlBREtBSVlMUUFBUVFoeFFRQkhPZ0FUSUFNQ2Z5QURMUUFUUVFGeEJFQWdBeWdDR0MwQUFFRUhjVUVCYWd3QkN5QURLQUlZTFFBQVFRZHhDellDRENBRktRTVlBbjhnQXkwQUUwRUJjUVJBSUFNb0FneEJBV3NNQVF0QkFRc2dBeWdDRkdxdFZBMEFBa0FnQXkwQUUwRUJjUVJBSUFOQkFEWUNDQU5BSUFNb0FnZ2dBeWdDREVrRVFDQUZJQU1vQWhnZ0F5Z0NDRUVCYW1veEFBQWdCU2tEQUVJSWhudzNBd0FnQXlBREtBSUlRUUZxTmdJSURBRUxDd3dCQ3lBRklBTTFBZ3czQXdBTElBTUNmeUFETFFBVFFRRnhCRUFnQXlnQ0RFRUJhZ3dCQzBFQkN6WUNCQ0FEUVFBMkFnQURRQ0FES0FJQUlBTW9BaFJQRFFFZ0JTQURLQUlZSUFNb0FnQWdBeWdDQkdwcU1RQUFJQVVwQXdoQ0NJWjhOd01JSUFNZ0F5Z0NBRUVCYWpZQ0FBd0FDd0FMSUFOQklHb2tBQXNnQkNnQ0RCb2dCRUVRYWlRQUlBWkJDR29nREJCZklBWW9BZ2doQXlBR1FSQnFKQUFnQVNBRE5nSndBa0FnQVVId0FHb1FGa1VFUUNNQVFSQnJJZ01nQURZQ0RDQURRUUkyQWdnZ0F5Z0NEQ0lFUWFRek5nSUFJQVFnQXlnQ0NEWUNCQ0FCUVFFMkFtUU1BUXNnQVVId0FHb1FGaUVESXdCQkVHc2lCQ0FETmdJTUlBRWdCQ2dDRENrREFEY0RXQ0FCUWZBQWFoQVdJUU1qQUVFUWF5SUVJQU0yQWd3Z0FTQUVLQUlNS1FNSU53TlFJQUVnQVVIWUFHb2dBVUhRQUdvUWxRSTJBbUFDUUNBQlFlQUFhaEFXUlFSQUl3QkJFR3NpQXlBQU5nSU1JQU5CQWpZQ0NDQURLQUlNSWdSQnBETTJBZ0FnQkNBREtBSUlOZ0lFSUFGQkFUWUNaQXdCQ3lBQlFRQTJBa3dDUUNBSEtBSUVSUVJBSUFGQkREWUNUQXdCQ3lNQVFSQnJJZ01nQURZQ0RDQURRUUkyQWdnZ0F5Z0NEQ0lFUWFRek5nSUFJQVFnQXlnQ0NEWUNCQ0FCUVFFMkFtUU1BUXNnQVNBQktBSk1FQjgyQWtnZ0FVSGdBR29RRmlFREl3QkJFR3NpQkNBRE5nSU1JQUVnQnlFWUlBUW9BZ3dwQXdBaEhDQUJRZUFBYWhBV0lRTWpBRUVRYXlJRUlBTTJBZ3dnR0NBY0lBUW9BZ3dwQXdnZ0FVSElBR29RRmlBQktBSk1FSmtDUVFGeE9nQkhBa0FnQVMwQVIwRUJjVVVFUUNNQVFSQnJJZ01nQURZQ0RDQURRUUkyQWdnZ0F5Z0NEQ0lFUWFRek5nSUFJQVFnQXlnQ0NEWUNCQ0FCUVFFMkFtUU1BUXNnQVNFWklBRW9Bb2dCSVJNZ0FVSGdBR29RRmlFREl3QkJFR3NpQkNBRE5nSU1JQmtnRXlBRUtBSU1LUU1ZcDJzMkFrQWdBU0FCS0FKQUVCODJBamdnQVVFNGFoQVdJUm9nQVNnQ2pBRWhGQ0FCUWVBQWFoQVdJUU1qQUVFUWF5SUVJQU0yQWd3Z0dpQVVJQVFvQWd3cEF4aW5haUFCS0FLRUFXb2dBU2dDUUJBYkdnSkFJQWN0QUNCQkFYRkZCRUFnQVVFQU5nSTBBa0FnQnlnQ0JFVUVRQ0FCUVFvMkFqUU1BUXNqQUVFUWF5SURJQUEyQWd3Z0EwRUNOZ0lJSUFNb0Fnd2lCRUdrTXpZQ0FDQUVJQU1vQWdnMkFnUWdBVUVCTmdKa0RBSUxJQUVvQW5nZ0FTZ0NoQUVnQVNnQ1FHb2dBU2dDTkd0SkJFQWpBRUVRYXlJRElBQTJBZ3dnQTBFQ05nSUlJQU1vQWd3aUJFR2tNellDQUNBRUlBTW9BZ2cyQWdRZ0FVRUJOZ0prREFJTElBRW9Bb0FCSUFFb0Fvd0JJQUVvQW9RQkVCc2FJQUVvQW9BQklBRW9Bb1FCYWlBQlFUaHFFQllnQVNnQ1FDQUJLQUkwYXhBYkdpQUJLQUo4SUFFb0FvUUJJQUVvQWtCcUlBRW9BalJyTmdJQUl3QkJFR3NpQXlBQU5nSU1JQU5CQURZQ0NDQURLQUlNSWdSQnBETTJBZ0FnQkNBREtBSUlOZ0lFSUFGQkFUWUNaQXdCQ3lBQlFRQTJBakFnQVNBQktBSkFOZ0lzSUFFZ0FTZ0NMQkFmTmdJb0lBRkI0QUJxRUJZaEF5TUFRUkJySWdRZ0F6WUNEQ0FCSUFRb0Fnd3BBd0EzQXhnZ0FTQUhRUWhxSUFGQkdHb1FwZ0UyQWlBZ0IwRWNhaEFXSVFNZ0FVRUlhaUFCUVNCcUVGRkJDR29RcUFFZ0FVRW9haEFXSVFRZ0FTZ0NMQ0VGSUFGQnlBQnFFQlloQmlBQktBSk1JUWNnQVVFNGFoQVdJUWdnQVNnQ1FDRUtJQUZCNEFCcUVCWVFvUUVoRENBQlFlQUFhaEFXSVFzakFFRVFheUlOSUFzMkFnd2dEU2dDRENrREdLY2hDeUFES0FJQUtBSVFJUTBnQVNBQktRTUlOd01BSUFGQkVHb2lEeUFESUFFZ0JDQUJRVEJxSUFVZ0JpQUhJQWdnQ2lBTUlBc2dEUkVOQUNNQVFSQnJJZ01nRHpZQ0RBSkFJQU1vQWd3b0FnUUVRQ0FCS0FKOFFRQTJBZ0FqQUVFUWF5SURJQUEyQWd3Z0F5QUJRUkJxTmdJSUlBTW9BZ3dpQkVHa016WUNBQ0FFSUFNb0FnZ29BZ1EyQWdRTUFRc2dBU2dDZ0FFZ0FTZ0NqQUVnQVNnQ2hBRVFHeG9nQVNnQ2dBRWdBU2dDaEFGcUlBRkJLR29RRmlBQktBSXdFQnNhSUFFb0Fud2dBU2dDaEFFZ0FTZ0NNR28yQWdBakFFRVFheUlESUFBMkFnd2dBMEVBTmdJSUlBTW9BZ3dpQkVHa016WUNBQ0FFSUFNb0FnZzJBZ1FMSUFGQkFUWUNaQ01BUVJCcklnTWdBVUVRYWpZQ0RDQURLQUlNR2lBQlFTaHFFQm9MSUFGQk9Hb1FHZ3NnQVVISUFHb1FHZ3NnQVVIZ0FHb1FwUUVMSUFGQjhBQnFFS1VCSUFGQm9BRnFKQUFqQUVFUWF5SUJJQUEyQWd3Q1FDQUJLQUlNS0FJRUJFQWdDU2dDWEVFQU5nSUFJQWxCQVRvQUJ5QUpRUUUyQWhBTUFRc2dDVUVBTmdJUUN5QUpMUUFIUVFGeFJRUkFJd0JCRUdzaUFTQUFOZ0lNSUFFb0Fnd2FDeUFKS0FJUURRTUxJQWtvQWd3aEJDTUFRUkJySWdFZ0NVSElBR29pQXpZQ0RDQUJJQVEyQWdnZ0NTRWJJQUVvQWd3b0FnQWdBU2dDQ0VFRGRHb29BZ0FoRlNBSktBSU1JUVFnQVNBRE5nSU1JQUVnQkRZQ0NDQWJJQlVnQVNnQ0RDZ0NBQ0FCS0FJSVFRTjBhaWdDQkdvZ0NTZ0NiR28yQW13Z0NTZ0NEQ0VFSUFFZ0F6WUNEQ0FCSUFRMkFnZ2dBU2dDRENnQ0FDQUJLQUlJUVFOMGFpZ0NBQ0VXSUFrb0Fnd2hCQ0FCSUFNMkFnd2dBU0FFTmdJSUlCWWdBU2dDRENnQ0FDQUJLQUlJUVFOMGFpZ0NCR29oQVNBSklBa29BbWdnQVdzMkFtZ2dDU0FKS0FJSUlBa29BbUJxTmdKZ0lBa2dDU2dDV0NBSktBSUlhellDV0NBSktBSmNJZ0VnQ1NnQ0NDQUJLQUlBYWpZQ0FDQUpJQWtvQWd4QkFXbzJBZ3dNQVFzTEl3QkJFR3NpQVNBQU5nSU1JQUZCQURZQ0NDQUJLQUlNSWdCQnBETTJBZ0FnQUNBQktBSUlOZ0lFSUFsQkFUWUNFQXNnQ1VISUFHb1FKd3NnQ1VHQUFXb2tBQXNxQVFGL0l3QkJFR3NpQVNRQUlBRWdBRFlDRENBQktBSU1JZ0FRcEFFYUlBQVFJaUFCUVJCcUpBQUw1UjRDRW44QmZTTUFRYkFCYXlJSkpBQWdDU0FBTmdLc0FTQUpJQUUyQXFnQklBa2dBamNEb0FFZ0NTQUROZ0tjQVNBSklBUTJBcGdCSUFrZ0JUWUNsQUVnQ1NBR05nS1FBU0FKSUFjMkFvd0JJQWtnQ0RZQ2lBRWdDU2dDcUFFaEF5QUpLQUtNQVVFQU5nSUFBa0FnQ1NnQ25BRkZCRUFqQUVFUWF5SUJJQUEyQWd3Z0FVRUVOZ0lJSUFFb0Fnd2lBRUdrTXpZQ0FDQUFJQUVvQWdnMkFnUU1BUXNnQ1NnQ2tBRkZCRUFqQUVFUWF5SUJJQUEyQWd3Z0FVRUZOZ0lJSUFFb0Fnd2lBRUdrTXpZQ0FDQUFJQUVvQWdnMkFnUU1BUXNnQTBFY2FoQVdSUVJBSXdCQkVHc2lBU0FBTmdJTUlBRkJBVFlDQ0NBQktBSU1JZ0JCcERNMkFnQWdBQ0FCS0FJSU5nSUVEQUVMSUFrZ0EwRWdhaUlCSUFsQm9BRnFFS1lCTmdLQUFTQUpJQUVRbUFJMkFuQWdDU0FKUVlBQmFpQUpRZkFBYWhDWEFrRUJjUVIrUWdBRklBbEJnQUZxRUZFcEF3Z0xOd040SUFsQkFEWUNiQUpBSUFNb0FnUkZCRUFnQ1VFTU5nSnNEQUVMSXdCQkVHc2lBU0FBTmdJTUlBRkJBVFlDQ0NBQktBSU1JZ0JCcERNMkFnQWdBQ0FCS0FJSU5nSUVEQUVMSUFrZ0NVR2dBV29nQ1VINEFHb1FsUUkyQW1nQ1FDQUpRZWdBYWhBV1JRUkFJd0JCRUdzaUFTQUFOZ0lNSUFGQkFUWUNDQ0FCS0FJTUlnQkJwRE0yQWdBZ0FDQUJLQUlJTmdJRUlBbEJBVFlDWkF3QkN5QUpJQWtvQW13UUh6WUNZQ0FKSUFNZ0NTa0RvQUVnQ1NrRGVDQUpRZUFBYWhBV0lBa29BbXdRbVFKQkFYRTZBRjhDUUNBSkxRQmZRUUZ4UlFSQUl3QkJFR3NpQVNBQU5nSU1JQUZCQVRZQ0NDQUJLQUlNSWdCQnBETTJBZ0FnQUNBQktBSUlOZ0lFSUFsQkFUWUNaQXdCQ3lBSlFkQUFhaEF1QWtBZ0NTZ0NsQUZGQkVBZ0NVRkFheUlCSUFrb0Fwd0JJQWtvQXBnQkVKOEJJQWxCMEFCcUlBRVFOaUFCRUNjTUFRc0NRQ0FKS0FLVUFVRUJSZ1JBSUFsQk1Hb2lBU0FKS0FLY0FTQUpLQUtZQVJDZUFTQUpRZEFBYWlBQkVEWWdBUkFuREFFTEFrQWdDU2dDbEFGQkFrWUVRQ0FKUVNCcUlnRWdDU2dDbkFFZ0NTZ0NtQUVRblFFZ0NVSFFBR29nQVJBMklBRVFKd3dCQ3lBSktBS1VBVUVEUmdSQUlBbEJBRFlDSENBSlFkQUFhaUFKUVJ4cUlBbEJtQUZxRUZBTEN3c0xJd0JCRUdzaUFTQUpRZEFBYWpZQ0RBSkFJQUVvQWd3aUFTZ0NBQ0FCS0FJRVJnUkFJd0JCRUdzaUFTQUFOZ0lNSUFGQkJqWUNDQ0FCS0FJTUlnQkJwRE0yQWdBZ0FDQUJLQUlJTmdJRUlBbEJBVFlDWkF3QkN5QUpRUUEyQWhnRFFDQUpLQUlZSVJBakFFRVFheUlCSUFsQjBBQnFOZ0lNSUJBZ0FTZ0NEQ0lCS0FJRUlBRW9BZ0JyUVFOMVNRUkFJQWxCQURZQ0ZBSkFBa0FnQ1NnQ2xBRkJBa2NOQUNBSktBS2NBU0VSSUFrb0FoZ2hCQ01BUVJCcklnRWdDVUhRQUdvMkFnd2dBU0FFTmdJSUlCRWdBU2dDRENnQ0FDQUJLQUlJUVFOMGFpZ0NBQkQ1QVVFQmNVVU5BQ0FKS0FJWUlRUWpBRUVRYXlJQklBbEIwQUJxSWdVMkFnd2dBU0FFTmdJSUlBa2hHQ0FCS0FJTUtBSUFJQUVvQWdoQkEzUnFLQUlBSVJJZ0NTZ0NHQ0VFSUFFZ0JUWUNEQ0FCSUFRMkFnZ2dHQ0FTSUFFb0Fnd29BZ0FnQVNnQ0NFRURkR29vQWdScU5nSVVJQWtvQXBBQklBa29BcHdCSUFrb0FoUVFHeG9NQVFzZ0NVRUFPZ0FUSUFrcEE2QUJJUUlnQ1NnQ25BRWhCQ0FKS0FJWUlRVWpBRUVRYXlJQklBbEIwQUJxSWdZMkFnd2dBU0FGTmdJSUlBRW9BZ3dvQWdBZ0FTZ0NDRUVEZEdvb0FnUWhCU0FKS0FJWUlRY2dBU0FHTmdJTUlBRWdCellDQ0NBQktBSU1LQUlBSUFFb0FnaEJBM1JxS0FJQUlRWWdDU2dDa0FFaEJ5QUpLQUtJQVNFSUlBbEI2QUJxRUJZaENpQUpRZUFBYWhBV0lRMGdDU2dDYkNFTEl3QkI4QUJySWdFa0FDQUJJQUEyQW13Z0FTQUROZ0pvSUFFZ0FqY0RZQ0FCSUFRMkFsd2dBU0FGTmdKWUlBRWdCallDVkNBQklBYzJBbEFnQVNBSlFSUnFOZ0pNSUFFZ0NEWUNTQ0FCSUFvMkFrUWdBU0FOTmdKQUlBRWdDellDUENBQktBSm9JUVFnQVNBQktBSllFQjgyQWpnZ0FVRTRhaEFXSUFFb0Fsd2dBU2dDVkdvZ0FTZ0NXQkFiR2lBQklBRW9BbGdnQkVFY2FoQVdJZ1VnQlNnQ0FDZ0NGQkVBQUdvMkFqUWdBU0FCS0FJMEVCODJBakFnQVNBRVFRaHFJQUZCNEFCcUVLWUJOZ0lvSUFSQkhHb1FGaUVFSUFGQkdHb2dBVUVvYWhCUlFRaHFFS2dCSUFGQk1Hb1FGaUVGSUFFb0FqUWhCaUFCS0FKQUlRY2dBU2dDUENFSUlBRkJPR29RRmlFS0lBRW9BbGdoRFNBQktBSkVFS0VCSVFzakFFRVFheUlNSUFFb0FrUTJBZ3dnRENnQ0RDa0RHS2NoRENBRUtBSUFLQUlNSVE0Z0FTQUJLUU1ZTndNSUlBRkJJR29pRHlBRUlBRkJDR29nQlNBQlFUUnFJQVlnQnlBSUlBb2dEU0FMSUF3Z0RoRU5BQ01BUVJCcklnUWdEellDREFKQUlBUW9BZ3dvQWdRRVFDQUJLQUpNUVFBMkFnQWpBRUVRYXlJRUlBQTJBZ3dnQkNBQlFTQnFOZ0lJSUFRb0Fnd2lCVUdrTXpZQ0FDQUZJQVFvQWdnb0FnUTJBZ1FNQVFzZ0FTZ0NTQ0VUSXdCQkVHc2lCQ0FCS0FKRU5nSU1JQk1nQVNnQ05DQUJLQUpVSUFRb0Fnd3BBeGluYW1wSkJFQWpBRUVRYXlJRUlBQTJBZ3dnQkVFQk5nSUlJQVFvQWd3aUJVR2tNellDQUNBRklBUW9BZ2cyQWdRTUFRc2dBU2dDVUNBQktBSmNJQUVvQWxRUUd4b2dBU2dDVUNBQktBSlVhaUVaSUFFb0FrUVFvUUVoRkNNQVFSQnJJZ1FnQVNnQ1JEWUNEQ0FaSUJRZ0JDZ0NEQ2tER0tjUUd4b2dBU2dDVUNFVkl3QkJFR3NpQkNBQktBSkVOZ0lNSUJVZ0JDZ0NEQ2tER0tkcUlBRW9BbFJxSUFGQk1Hb1FGaUFCS0FJMEVCc2FJd0JCRUdzaUJDQUJLQUpFTmdJTUlBRW9Ba3dnQVNnQ05DQUJLQUpVSUFRb0Fnd3BBeGluYW1vMkFnQWpBRUVRYXlJRUlBQTJBZ3dnQkVFQU5nSUlJQVFvQWd3aUJVR2tNellDQUNBRklBUW9BZ2cyQWdRTElBRkJBVFlDRkNNQVFSQnJJZ1FnQVVFZ2FqWUNEQ0FFS0FJTUdpQUJRVEJxRUJvZ0FVRTRhaEFhSUFGQjhBQnFKQUFqQUVFUWF5SUJJQUEyQWd3Q1FDQUJLQUlNS0FJRUJFQWdDU2dDakFGQkFEWUNBQ0FKUVFFNkFCTWdDVUVCTmdKa0RBRUxJQWxCQURZQ1pBc2dDUzBBRTBFQmNVVUVRQ01BUVJCcklnRWdBRFlDRENBQktBSU1HZ3NnQ1NnQ1pBMERDeUFKS0FJWUlRVWpBRUVRYXlJQklBbEIwQUJxSWdRMkFnd2dBU0FGTmdJSUlBa2hHaUFCS0FJTUtBSUFJQUVvQWdoQkEzUnFLQUlBSVJZZ0NTZ0NHQ0VGSUFFZ0JEWUNEQ0FCSUFVMkFnZ2dHaUFXSUFFb0Fnd29BZ0FnQVNnQ0NFRURkR29vQWdScUlBa29BcHdCYWpZQ25BRWdDU2dDR0NFRklBRWdCRFlDRENBQklBVTJBZ2dnQVNnQ0RDZ0NBQ0FCS0FJSVFRTjBhaWdDQUNFWElBa29BaGdoQlNBQklBUTJBZ3dnQVNBRk5nSUlJQmNnQVNnQ0RDZ0NBQ0FCS0FJSVFRTjBhaWdDQkdvaEFTQUpJQWtvQXBnQklBRnJOZ0tZQVNBSklBa29BaFFnQ1NnQ2tBRnFOZ0tRQVNBSklBa29Bb2dCSUFrb0FoUnJOZ0tJQVNBSktBS01BU0lCSUFrb0FoUWdBU2dDQUdvMkFnQWdDU0FKS0FJWVFRRnFOZ0lZREFFTEN5QUpJQWtwQTNoQ0FYdzNBd2dqQUVFZ2F5SUZKQUFnQlNBRFFTQnFOZ0ljSUFVZ0NVR2dBV28yQWhnZ0JTQUpRUWhxTmdJVUlBVkJDR29oRFNBRktBSWNJUVFnQlNnQ0dDRURJQVVvQWhRaEJpTUFRVUJxSWdFa0FDQUJJQVEyQWp3Z0FTQUROZ0k0SUFFZ0F6WUNOQ0FCSUFZMkFqQWdBU0FCS0FJOElnUVFIU0FCS0FJNEVINDJBaXdnQVNBRUVEUTJBaWdnQVVFQU9nQW5Ba0FnQVNnQ0tBUkFJQUVnQVNnQ0xDQUJLQUlvRUNVMkFod2dBU0FFSUFFb0Fod1FJeWdDQURZQ0lDQUJLQUlnQkVBZ0FTQUJLQUlnS0FJQU5nSWdBMEFnQVNnQ0lBUi9Jd0JCRUdzaUF5QUJLQUlnTmdJTUlBTW9BZ3dvQWdRZ0FTZ0NMRWNFZnlNQVFSQnJJZ01nQVNnQ0lEWUNEQ0FES0FJTUtBSUVJQUVvQWlnUUpTQUJLQUljUmdWQkFRc0ZRUUFMUVFGeEJFQWdCQkF3SUFFb0FpQVFGMEVJYWlBQktBSTRFSDFCQVhFTkJDQUJJQUVvQWlBb0FnQTJBaUFNQVFzTEN3c2dBU2dDTENFR0lBRW9BalFoQnlBQktBSXdJUWdqQUVFZ2F5SURKQUFnQXlBRU5nSWNJQU1nQmpZQ0dDQURJQWMyQWhRZ0F5QUlOZ0lRSUFNZ0F5Z0NIQkFZTmdJTUlBTkJBRG9BQ3lBREtBSU1FSW9DSVFZZ0F5QURLQUlNUVFBUVZDQUJRUkJxSWdnZ0JpQURFRk1nQXlnQ0RDRUhJQWdRRmtFSWFoQXNJUW9nQXlnQ0ZDRUxJQU1vQWhBaERDTUFRUkJySWdZa0FDQUdJQWMyQWd3Z0JpQUtOZ0lJSUFZZ0N6WUNCQ0FHSUF3MkFnQWdCaWdDRENFS0lBWW9BZ2doQ3lBR0tBSUVJUXdnQmlnQ0FDRU9Jd0JCRUdzaUJ5UUFJQWNnQ2pZQ0RDQUhJQXMyQWdnZ0J5QU1OZ0lFSUFjZ0RqWUNBQ0FIS0FJRUlRc2dCeWdDQUNFTUl3QkJFR3NpQ2lBSEtBSUlOZ0lNSUFvZ0N6WUNDQ0FLSUF3MkFnUWdDaWdDRENJTElBb29BZ2dwQXdBM0F3QWdDeUFLS0FJRUtRTUFOd01JSUFkQkVHb2tBQ0FHUVJCcUpBQWdDQkEvUVFFNkFBUWdBeWdDR0NFR0lBZ1FGaUFHTmdJRUlBZ1FGa0VBTmdJQUlBTkJBVG9BQ3lBRExRQUxRUUZ4UlFSQUlBZ1FoUUlMSUFOQklHb2tBQUpBSUFRUUhTZ0NBRUVCYXJNZ0FTZ0NLTE1nQkJBd0tnSUFsRjVGQkVBZ0FTZ0NLQTBCQ3lBQklBRW9BaWdpQTBFQmRDQURFS01CUVFGemNqWUNEQ0FCQW44Z0JCQWRLQUlBUVFGcXN5QUVFREFxQWdDVklSc2pBRUVRYXlJRElCczRBZ3dnQXlvQ0RJMGlHME1BQUlCUFhTQWJRd0FBQUFCZ2NRUkFJQnVwREFFTFFRQUxOZ0lJSUFRZ0FVRU1haUFCUVFocUVFb29BZ0FRaXdJZ0FTQUVFRFEyQWlnZ0FTQUJLQUlzSUFFb0FpZ1FKVFlDSEFzZ0FTQUVJQUVvQWh3UUl5Z0NBRFlDQkFKQUlBRW9BZ1JGQkVBZ0FTQUVRUWhxRUJjUUZ6WUNCQ0FCS0FJRUtBSUFJUU1nQVVFUWFoQVdJQU0yQWdBZ0FVRVFhaEFXRUJjaEF5QUJLQUlFSUFNMkFnQWdBU2dDQkNFRElBUWdBU2dDSEJBaklBTTJBZ0FnQVVFUWFoQVdLQUlBQkVBZ0FVRVFhaEFXRUJjaEF5QUJRUkJxRUJZb0FnQWhCaU1BUVJCcklnY2dCallDRENBRUlBY29BZ3dvQWdRZ0FTZ0NLQkFsRUNNZ0F6WUNBQXNNQVFzZ0FTZ0NCQ2dDQUNFRElBRkJFR29RRmlBRE5nSUFJQUZCRUdvUUZpRURJQUVvQWdRZ0F6WUNBQXNnQVNBQlFSQnFJZ01RUWpZQ0lDQUVFQjBpQkNBRUtBSUFRUUZxTmdJQUlBRkJBVG9BSnlBREVJVUNDeUFCS0FJZ0lRUWpBRUVRYXlJRElBRTJBZ3dnQXlBRU5nSUlJQU1vQWd3Z0F5Z0NDRFlDQUNBTklBRWdBVUVuYWhCaElBRkJRR3NrQUNBSklBMFFuQUlnQ1MwQUJFRUJjVVVFUUNBRktBSVVLUU1BSVFJZ0NSQlJJQUkzQXdnTElBVkJJR29rQUNNQVFSQnJJZ0VnQURZQ0RDQUJRUUEyQWdnZ0FTZ0NEQ0lBUWFRek5nSUFJQUFnQVNnQ0NEWUNCQ0FKUVFFMkFtUUxJQWxCMEFCcUVDY0xJQWxCNEFCcUVCb0xJQWxCNkFCcUVLVUJDeUFKUWJBQmFpUUFDODBCQVFOL0l3QkJJR3NpQXlRQUlBTWdBRFlDSENBRElBRTJBaGdnQXlBQ05nSVVJQU1vQWhnaEFpQURLQUlVSVFRakFFRVFheUlCSkFBZ0FTQUNOZ0lNSUFFZ0JEWUNDQ01BUVJCcklnVWdBU2dDRENJRVFRUnFOZ0lNSUFFb0FnZ2dCU2dDRENJRktBSUVJQVVvQWdCclN3UkFJQVJCQkdvZ0FTZ0NDQkNKQVFzZ0JDQUJLQUlJTmdJUUlBRkJFR29rQUNNQVFSQnJJZ0VnQWtFRWFpSUNOZ0lNSUFOQkNHb2lCQ0FCS0FJTUlnRW9BZ1FnQVNnQ0FHc2dBaEFaRUhzZ0FDQUVFSGdnQTBFZ2FpUUFDeW9CQVg4akFFRVFheUlCSkFBZ0FTQUFOZ0lNSUFFb0Fnd2lBQkNuQVJvZ0FCQWlJQUZCRUdva0FBc2tBUUYvSXdCQkVHc2lBaUFBTmdJTUlBSWdBVFlDQ0NBQ0tBSU1JQUlvQWdnMkFrUUxpd2NCQ0g4akFFRVFheUlHSkFBZ0JpQUFOZ0lNSUFZZ0FUY0RBQ0FHS0FJTUVCWWhBQ0FHS1FNQUlRRWpBRUVRYXlJSEpBQWdCeUFBTmdJTUlBY2dBVGNEQUNBSEtBSU1RUWhxSVFBakFFRVFheUlJSkFBZ0NDQUFOZ0lNSUFnZ0J6WUNDQ0FJS0FJTUlRQWdDQ2dDQ0NFRUl3QkJNR3NpQXlRQUlBTWdBRFlDS0NBRElBUTJBaVFnQXlBREtBSW9JZ1VnQXlnQ0pCQ1VBallDSUNBRElBVVFnQUUyQWhnakFFRVFheUlBSUFOQklHbzJBZ3dnQUNBRFFSaHFOZ0lJQWtBZ0FDZ0NEQ2dDQUNBQUtBSUlLQUlBUmdSQUlBTkJBRFlDTEF3QkN5TUFJZ0pCRUdzaUFDQURRUkJxTmdJTUlBQWdBMEVnYWpZQ0NDQUFLQUlNSUFBb0FnZ29BZ0EyQWdBZ0F5Z0NFQ0VBSUFKQk1Hc2lCQ1FBSUFRZ0FEWUNJQ0FFSUFVMkFod2dCQ2dDSENFRklBUWdCQ2dDSURZQ0dDQUVLQUlZSVFJakFFRVFheUlBSUFSQktHb2lDVFlDRENBQUlBSTJBZ2dnQUNnQ0RDQUFLQUlJTmdJQUlBQWdDVFlDRENBQUtBSU1JZ0FnQUNnQ0FDZ0NBRFlDQUNBRUlBUW9BaUEyQWdBZ0JDZ0NBQ0VDSXdCQk1Hc2lBQ1FBSUFBZ0FqWUNLQ0FBSUFVMkFpUWdBQ2dDSkNFRklBQWdBQ2dDS0RZQ0lDQUFJQVVRTkRZQ0hDTUFRUkJySWdJZ0FDZ0NJRFlDRENBQUlBSW9BZ3dvQWdRZ0FDZ0NIQkFsTmdJWUlBQWdCU0FBS0FJWUVDTW9BZ0EyQWhRRFFDQUFLQUlVS0FJQUlBQW9BaUJIQkVBZ0FDQUFLQUlVS0FJQU5nSVVEQUVMQ3dKQUlBQW9BaFFnQlVFSWFoQVhFQmRIQkVBakFFRVFheUlDSUFBb0FoUTJBZ3dnQWlnQ0RDZ0NCQ0FBS0FJY0VDVWdBQ2dDR0VZTkFRc0NRQ0FBS0FJZ0tBSUFCRUFqQUVFUWF5SUNJQUFvQWlBb0FnQTJBZ3dnQWlnQ0RDZ0NCQ0FBS0FJY0VDVWdBQ2dDR0VZTkFRc2dCU0FBS0FJWUVDTkJBRFlDQUFzTElBQW9BaUFvQWdBRVFDTUFRUkJySWdJZ0FDZ0NJQ2dDQURZQ0RDQUFJQUlvQWd3b0FnUWdBQ2dDSEJBbE5nSVFJQUFvQWhBZ0FDZ0NHRWNFUUNBQUtBSVVJUUlnQlNBQUtBSVFFQ01nQWpZQ0FBc0xJQUFvQWhRZ0FDZ0NJQ2dDQURZQ0FDQUFLQUlnUVFBMkFnQWdCUkFkSWdJZ0FpZ0NBRUVCYXpZQ0FDQUFLQUlnRUJjaEFpQUFRUWhxSWdrZ0JSQVlRUUVRVkNBRVFRaHFJZ1VnQWlBSkVGTWdBRUV3YWlRQUlBVVFvZ0VnQkNnQ0tDRUFJQVJCTUdva0FDQURJQUEyQWdnZ0EwRUJOZ0lzQ3lBREtBSXNJUUFnQTBFd2FpUUFJQWhCRUdva0FDQUhRUkJxSkFBZ0JrRVFhaVFBSUFCQkFVWUxVd0VEZnlNQVFSQnJJZ0VrQUNBQklBQTJBZ3dnQVVFSWFpSUNJQUVvQWd3aUFCQ0JBUkNpQWlBQVFReHFFSjhDSUFJaEF5TUFRUkJySWdJZ0FEWUNEQ0FESUFJb0FneEJBUkNoQWlBQlFSQnFKQUFMSndFQmZ5TUFRUkJySWdFa0FDQUJJQUEyQWd3Z0FTZ0NEQkNCQVJDSEFSb2dBVUVRYWlRQUN5b0JBWDhqQUVFUWF5SUJKQUFnQVNBQU5nSU1JQUVvQWd3aUFCQ2dBaG9nQUJBaUlBRkJFR29rQUFzWUFRRi9Jd0JCRUdzaUFTQUFOZ0lNSUFFb0Fnd29BandMR0FFQmZ5TUFRUkJySWdFZ0FEWUNEQ0FCS0FJTUtBSTRDeWtCQVg4akFFRVFheUlCSkFBZ0FTQUFOZ0lNSUFFb0FneEJOR29RRmlFQUlBRkJFR29rQUNBQUN4Z0JBWDhqQUVFUWF5SUJJQUEyQWd3Z0FTZ0NEQ2dDTUFzcEFRRi9Jd0JCRUdzaUFTUUFJQUVnQURZQ0RDQUJLQUlNUVN4cUVCWWhBQ0FCUVJCcUpBQWdBQXZ3RndJUmZ3RjlJd0JCRUdzaURTUUFJQTBnQURZQ0RDQU5JQUUzQXdBZ0RTZ0NEQ0lBRUJZaEFpQU5LUU1BSVFFZ0FFRUVhaEFaSVFNZ0FDZ0NFQ0VBSXdCQk1Hc2lDaVFBSUFvZ0FqWUNMQ0FLSUFFM0F5QWdDaUFETmdJY0lBb2dBRFlDR0NBS0tBSWNJUUFnQ2lnQ0dDRUNJQW9vQWl3aUR5Z0NCQ0VESXdCQklHc2lDU1FBSUFrZ0FEWUNIQ0FKSUFJMkFoZ2dDU0FETmdJVUl3QkJFR3NpQmlRQUlBWWdDVUVjYWpZQ0RDQUdJQWxCR0dvMkFnZ2dCaUFKUVJScU5nSUVJQVlRVmhvZ0JpZ0NEQ0VBSUFZb0FnZ2hBaUFHS0FJRUlRTWpBRUZBYWlJSEpBQWdCeUFHTmdJOElBY2dBRFlDT0NBSElBSTJBalFnQnlBRE5nSXdJd0JCRUdzaUFDUUFJQUFnQjBFZ2FpSU1OZ0lFSUFCQkFUWUNBQ0FBS0FJRUlnSWdBRUVJYWhDaUFpQUNJQUFvQWdBMkFnUWdBaUVTSUFJb0FnUWhCQ01BUVJCcklnTWtBQ0FESUFJMkFnd2dBeUFFTmdJSUlBTW9BZ3doQkNBREtBSUlJUVVqQUVFUWF5SUNKQUFnQWlBRU5nSU1JQUlnQlRZQ0NDQUNLQUlJSVJFZ0FpZ0NEQ0VGSXdCQkVHc2lCQ1FBSUFRZ0JUWUNEQ01BUVJCcklBUW9BZ3cyQWd3Z0JFRVFhaVFBSUJGQjE2SDVHa3NFUUJBNUFBc2dBaWdDQ0VITUFHeEJCQkJCSVFRZ0FrRVFhaVFBSUFOQkVHb2tBQ0FTSUFRMkFnZ2dBRUVRYWlRQUl3QWlBRUVRYXlJQ0lBdzJBZ3dnQWlnQ0RDZ0NDQ0VDSUFjb0FqZ2hBeUFIS0FJMElRUWdCeWdDTUNFSUlBQkJJR3NpQlNRQUlBVWdBallDRkNBRklBTTJBaEFnQlNBRU5nSU1JQVVnQ0RZQ0NDQUZLQUlVSVFJakFFRVFheUlBSkFBZ0FDQUNOZ0lNSUFCQkFEWUNDQ0FBS0FJSUlRZ2pBRUVRYXlJRElBQW9BZ3dpQkRZQ0RDQURJQWcyQWdnZ0F5Z0NEQ0lJUWRqZ0FEWUNBQ0FJSUFNb0FnZzJBZ1FnQkVHUTRRQTJBZ0FnQkNBQUtBSUlOZ0lJSUFCQkVHb2tBQ0FDUWR3d05nSUFJd0JCRUdzaUFDUUFJQUFnQWtFTWFqWUNEQ0FBSUFWQkdHbzJBZ2dnQUNnQ0RCQ3JBUm9nQUVFUWFpUUFJQUlRZ1FFaEFpQUZLQUlRS0FJQUlRTWdCU2dDRENnQ0FDRUVJQVVvQWdnb0FnQWhDQ01BUVVCcUlnQWtBQ0FBSUFJMkFqZ2dBQ0FETmdJMElBQWdCRFlDTUNBQUlBZzJBaXdnQUNBQUtBSTRJZ0kyQWp3Z0FDZ0NOQ0VESUFBb0FqQWhDQ0FBS0FJc0lRc2pBRUVnYXlJRUpBQWdCQ0FDTmdJY0lBUWdBellDR0NBRUlBZzJBaFFnQkNBTE5nSVFJQVFvQWh3aUEwSHNMellDQUNBRFFRUnFJZ2dRS2lBRElBUW9BaFEyQWdnZ0EwRU1haEFxSUFOQkFEWUNFQ0FEUVJScUVDb2dBMEVBTmdJWUlBTkJIR29RS2lBRFFRQTJBaUFnQTBFa2FoQXFJQU5CQURZQ0tDQURRU3hxRUNvZ0EwRUFOZ0l3SUFOQk5Hb1FLaUFEUVFBMkFqZ2dBMEVBTmdJOElBUWdCQ2dDRkJBZk5nSUlJQWdnQkVFSWFpSURFRUFnQXhBYUlBZ1FGaUFFS0FJWUlBUW9BaFFRR3hvZ0JFRWdhaVFBSUFKQmxDbzJBZ0FnQWlnQ1BFVUVRQ0FDUVJBMkFoZ2dBa0VNTmdJZ0lBSkJFRFlDTUNBQ1FTQTJBamdnQWtIQUFEWUNFQ0FBSUFJb0FoQVFIellDS0NBQ1FReHFJQUJCS0dvaUF4QkFJQU1RR2lBQUlBSW9BaGdRSHpZQ0lDQUNRUlJxSUFCQklHb2lBeEJBSUFNUUdpQUFJQUlvQWlBUUh6WUNHQ0FDUVJ4cUlBQkJHR29pQXhCQUlBTVFHaUFDUWNBQU5nSW9JQUFnQWlnQ0tCQWZOZ0lRSUFKQkpHb2dBRUVRYWlJREVFQWdBeEFhSUFBZ0FpZ0NNQkFmTmdJSUlBSkJMR29nQUVFSWFpSURFRUFnQXhBYUlBQWdBaWdDT0JBZk5nSUFJQUpCTkdvZ0FCQkFJQUFRR2lBQ0VMY0JHZ3NnQUNnQ1BCb2dBRUZBYXlRQUlBVkJJR29rQUNNQVFSQnJJZ0FnRERZQ0RDQUFJQUFvQWd3aUFpZ0NDRFlDQ0NBQ1FRQTJBZ2dnQnlBQUtBSUlOZ0lNSUFjb0Fnd1FnUUVoQWlBSEtBSU1JUU1qQUVFZ2F5SUFKQUFnQUNBQ05nSWNJQUFnQXpZQ0dDQUFRUUE2QUJjakFFRVFheUlESUFsQkNHb2lBallDRENBREtBSU1JZ05CQURZQ0FDQURRUUEyQWdRZ0FpQUFLQUljTmdJQUlBSWdBQ2dDR0RZQ0JDQUFJQUlvQWdBaUF6WUNCQ0FBSUFNMkFnQWpBRUVRYXlBQ05nSU1JQUJCQVRvQUZ5QUFMUUFYUVFGeFJRUkFJQUlRT0FzZ0FFRWdhaVFBSXdCQkVHc2lBQ1FBSUFBZ0REWUNDQ0FBSUFBb0FnZ2lBellDRENBREtBSUlCRUFnQXlBREtBSUlJQU1vQWdRUW9RSUxJQUFvQWd3YUlBQkJFR29rQUNBSFFVQnJKQUFnQmtFUWFpUUFJQXBCRUdvaUNDQUNFSzhCSUFJUU9DQUpRU0JxSkFBZ0NrRUlhaUVNSXdCQklHc2lCeVFBSUFjZ0QwRUlhallDSENBSElBcEJJR28yQWhnZ0J5QUlOZ0lVSUFkQkNHb2hEeUFIS0FJY0lRTWdCeWdDR0NFQ0lBY29BaFFoQkNNQVFVQnFJZ0FrQUNBQUlBTTJBandnQUNBQ05nSTRJQUFnQWpZQ05DQUFJQVEyQWpBZ0FDQUFLQUk4SWdNUUhTQUFLQUk0RUg0MkFpd2dBQ0FERURRMkFpZ2dBRUVBT2dBbkFrQWdBQ2dDS0FSQUlBQWdBQ2dDTENBQUtBSW9FQ1UyQWh3Z0FDQURJQUFvQWh3UUl5Z0NBRFlDSUNBQUtBSWdCRUFnQUNBQUtBSWdLQUlBTmdJZ0EwQWdBQ2dDSUFSL0l3QkJFR3NpQWlBQUtBSWdOZ0lNSUFJb0Fnd29BZ1FnQUNnQ0xFY0VmeU1BUVJCcklnSWdBQ2dDSURZQ0RDQUNLQUlNS0FJRUlBQW9BaWdRSlNBQUtBSWNSZ1ZCQVFzRlFRQUxRUUZ4QkVBZ0F4QXdJQUFvQWlBUUYwRUlhaUFBS0FJNEVIMUJBWEVOQkNBQUlBQW9BaUFvQWdBMkFpQU1BUXNMQ3dzZ0FDZ0NMQ0VFSUFBb0FqUWhCU0FBS0FJd0lRWWpBRUVnYXlJQ0pBQWdBaUFETmdJY0lBSWdCRFlDR0NBQ0lBVTJBaFFnQWlBR05nSVFJQUlnQWlnQ0hCQVlOZ0lNSUFKQkFEb0FDeUFDS0FJTUVJb0NJUVFnQWlBQ0tBSU1RUUFRVkNBQVFSQnFJZ2tnQkNBQ0VGTWdBaWdDRENFRklBa1FGa0VJYWhBc0lRWWdBaWdDRkNFTElBSW9BaEFoRGlNQVFSQnJJZ1FrQUNBRUlBVTJBZ3dnQkNBR05nSUlJQVFnQ3pZQ0JDQUVJQTQyQWdBZ0JDZ0NEQ0VHSUFRb0FnZ2hDeUFFS0FJRUlRNGdCQ2dDQUNFUUl3QkJFR3NpQlNRQUlBVWdCallDRENBRklBczJBZ2dnQlNBT05nSUVJQVVnRURZQ0FDQUZLQUlJSVFzZ0JTZ0NCQ0VPSUFVb0FnQWhFQ01BUVJCcklnWWtBQ0FHSUFzMkFnd2dCaUFPTmdJSUlBWWdFRFlDQkNBR0tBSU1JZ3NnQmlnQ0NDa0RBRGNEQUNBTFFRaHFJQVlvQWdRUXJ3RWdCa0VRYWlRQUlBVkJFR29rQUNBRVFSQnFKQUFnQ1JBL1FRRTZBQVFnQWlnQ0dDRUVJQWtRRmlBRU5nSUVJQWtRRmtFQU5nSUFJQUpCQVRvQUN5QUNMUUFMUVFGeFJRUkFJQWtRb2dFTElBSkJJR29rQUFKQUlBTVFIU2dDQUVFQmFyTWdBQ2dDS0xNZ0F4QXdLZ0lBbEY1RkJFQWdBQ2dDS0EwQkN5QUFJQUFvQWlnaUFrRUJkQ0FDRUtNQlFRRnpjallDRENBQUFuOGdBeEFkS0FJQVFRRnFzeUFERURBcUFnQ1ZJUk1qQUVFUWF5SUNJQk00QWd3Z0Fpb0NESTBpRTBNQUFJQlBYU0FUUXdBQUFBQmdjUVJBSUJPcERBRUxRUUFMTmdJSUlBTWdBRUVNYWlBQVFRaHFFRW9vQWdBUWl3SWdBQ0FERURRMkFpZ2dBQ0FBS0FJc0lBQW9BaWdRSlRZQ0hBc2dBQ0FESUFBb0Fod1FJeWdDQURZQ0JBSkFJQUFvQWdSRkJFQWdBQ0FEUVFocUVCY1FGellDQkNBQUtBSUVLQUlBSVFJZ0FFRVFhaEFXSUFJMkFnQWdBRUVRYWhBV0VCY2hBaUFBS0FJRUlBSTJBZ0FnQUNnQ0JDRUNJQU1nQUNnQ0hCQWpJQUkyQWdBZ0FFRVFhaEFXS0FJQUJFQWdBRUVRYWhBV0VCY2hBaUFBUVJCcUVCWW9BZ0FoQkNNQVFSQnJJZ1VnQkRZQ0RDQURJQVVvQWd3b0FnUWdBQ2dDS0JBbEVDTWdBallDQUFzTUFRc2dBQ2dDQkNnQ0FDRUNJQUJCRUdvUUZpQUNOZ0lBSUFCQkVHb1FGaUVDSUFBb0FnUWdBallDQUFzZ0FDQUFRUkJxSWdJUVFqWUNJQ0FERUIwaUF5QURLQUlBUVFGcU5nSUFJQUJCQVRvQUp5QUNFS0lCQ3lBQUtBSWdJUU1qQUVFUWF5SUNJQUEyQWd3Z0FpQUROZ0lJSUFJb0Fnd2dBaWdDQ0RZQ0FDQVBJQUFnQUVFbmFoQmhJQUJCUUdza0FDQU1JQThRbkFJZ0RDMEFCRUVCY1VVRVFDQUhLQUlVSVFJZ0RCQlJRUWhxSVFNakFFRVFheUlBSkFBZ0FDQUROZ0lNSUFBZ0FqWUNDQ0FBS0FJTUlRTWdBQ0FBS0FJSUVLOEJJd0JCRUdzaUFpUUFJQUlnQURZQ0RDQUNJQU0yQWdnZ0FpZ0NEQ0lESUFJb0FnZ1FMU0FEUVFScUlBSW9BZ2hCQkdvUUxTQUNRUkJxSkFBZ0FCQTRJQUJCRUdva0FBc2dCMEVnYWlRQUlBZ1FPQ0FLUVRCcUpBQWdEVUVRYWlRQVFRRUxHQUVCZnlNQVFSQnJJZ0VnQURZQ0RDQUJLQUlNS0FJZ0N5a0JBWDhqQUVFUWF5SUJKQUFnQVNBQU5nSU1JQUVvQWd4QkhHb1FGaUVBSUFGQkVHb2tBQ0FBQ3hnQkFYOGpBRUVRYXlJQklBQTJBZ3dnQVNnQ0RDZ0NHQXNwQVFGL0l3QkJFR3NpQVNRQUlBRWdBRFlDRENBQktBSU1RUlJxRUJZaEFDQUJRUkJxSkFBZ0FBc3BBUUYvSXdCQkVHc2lBU1FBSUFFZ0FEWUNEQ0FCS0FJTVFRUnFFQlloQUNBQlFSQnFKQUFnQUF0aEFRTi9Jd0JCRUdzaUF5UUFJQU1nQURZQ0RDTUFRUkJySWdBa0FDQUFRY1RwQURZQ0RDQUFLQUlNSVFFakFFRVFheUlDSkFBZ0FpQUJOZ0lNSUFJb0Fnd2lBU0FCRUlVQkVLd0JJQUpCRUdva0FDQUFRUkJxSkFBZ0EwRVFhaVFBQzJFQkEzOGpBRUVRYXlJREpBQWdBeUFBTmdJTUl3QkJFR3NpQUNRQUlBQkJ1T2tBTmdJTUlBQW9BZ3doQVNNQVFSQnJJZ0lrQUNBQ0lBRTJBZ3dnQWlnQ0RDSUJJQUVRaFFFUXJRRWdBa0VRYWlRQUlBQkJFR29rQUNBRFFSQnFKQUFMaWdJQkJYOGpBRUVRYXlJRUpBQWdCQ0FBTmdJTUlBUWdBVFlDQ0NBRUtBSUlRVFJxSVFFakFFRVFheUlDSkFBZ0FpQUFOZ0lNSUFJZ0FUWUNDQ0FDS0FJTUlRVWdBaWdDQ0NFQkl3QkJJR3NpQUNRQUlBQWdBallDRkNBQUlBRTJBaEFqQUVFUWF5SUJJQUFvQWhRMkFnd2dBQ0FCS0FJTU5nSU1JQUFvQWhBaEF5QUFJQUJCREdvMkFod2dBQ0FETmdJWUlBQW9BaHdoQXlBQklBQW9BaGdvQWdBMkFnd2dBU2dDRENFR0lBRWdBellDRENBQklBWTJBZ2dnQVNnQ0RDZ0NBQ0FCS0FJSU5nSUFJQUVvQWd3aUF5QURLQUlBUVFocU5nSUFJQUVnQUNnQ0hEWUNEQ0FBUVNCcUpBQWdCVUdjSnlBQ0VCY1FDRFlDQUNBQ1FSQnFKQUFnQkVFUWFpUUFDeGdCQVg4akFFRVFheUlCSUFBMkFnd2dBU2dDRENnQ0JBc1lBUUYvSXdCQkVHc2lBU0FBTmdJTUlBRW9BZ3dvQWdnTDB4RUJCbjhqQUVHUUJHc2lBQ1FBSXdCQkVHc2lBU1FBSUFFZ0FFRzRBV29pQWpZQ0RDQUJRZmtQTmdJSUlBRW9BZ3dhUWV3bElBRW9BZ2hCQkVFQkVBWWdBVUVRYWlRQUlBSkIvaFpCQUJDQ0FrR0lGMEVCRUlJQ0dpTUFRUkJySWdFa0FDQUJJQUJCc0FGcUlnSTJBZ3dnQVVHbUR6WUNDQ0FCS0FJTUdrRzBKaUFCS0FJSVFRUkJBUkFHSUFGQkVHb2tBQ01BUVJCcklnRWtBQ0FCSUFJMkFnd2dBVUhESURZQ0NDQUJRUUEyQWdRZ0FTZ0NEQnBCdENZZ0FTZ0NDQ0FCS0FJRUVBVWdBVUVRYWlRQUl3QkJFR3NpQVNRQUlBRWdBRUdvQVdvaUFqWUNEQ0FCUWFrS05nSUlJQUVvQWd3YVFmd21JQUVvQWdoQkJFRUJFQVlnQVVFUWFpUUFJQUpCNlJsQkF4QnRRZkVlUVFFUWJVSDVGa0VBRUcxQm9pQkJBaEJ0R2lNQVFSQnJJZ0VrQUNBQklBQkJvQUZxSWdJMkFnd2dBVUg1Q2pZQ0NDQUJLQUlNR2tHY0p5QUJLQUlJUVFSQkFSQUdJQUZCRUdva0FDQUNRZTBZUVFBUU9rSFZGa0VCRURwQjV4WkJBaEE2UWRJWlFRTVFPa0dBR2tFRUVEcEI3aGxCQlJBNlFaSVhRUVlRT2tHcUYwRUhFRG9hSUFBZ0FFR1lBV29pQVRZQzBBRWdBRUdFRURZQ3pBRWdBRUVDTmdMSUFTQUFRUUEyQXNRQklBQkJBRFlDd0FFZ0FFRUROZ0s4QVNBQUlBQW9Bc2dCTmdMNEF5QUFLQUxJQVNFQ0lBQWdBQ2dDeEFFMkFvQUVJQUFvQXNRQklRTWdBQ0FBS0FMQUFUWUMvQU1nQUNnQ3dBRWhCQ0FBS0FMTUFTRUZJQUFnQUNnQ3ZBRTJBb1FFUWJRblFjd25RZXduUVFCQi9DY2dBa0gvSnlBRFFmOG5JQVFnQlVHQktDQUFLQUs4QVJBVUlBQWdBVFlDMUFFZ0FDQUFLQUxVQVRZQ2pBUWdBRUVFTmdLSUJDQUFLQUtNQkNFRElBQW9Bb2dFSVFJakFFRWdheUlCSkFBZ0FTQUNOZ0lZSUFGQkRqWUNEQ01BUVJCcklBRkJFR29pQkRZQ0RDTUFRUkJySWdJa0FDQUNJQVEyQWd3Z0FrRVFhaVFBSUFFZ0FTZ0NERFlDSEVHMEowRURRWVFvUVpBb0lBRW9BZ3dnQVNnQ0dCQU9JQUZCSUdva0FDQUFRUUEyQXBRQklBQkJCVFlDa0FFZ0FDQUFLUU9RQVRjRDJBRWdBQ2dDMkFFaEFTQUFLQUxjQVNFQ0lBQWdBellDOUFFZ0FFR0FERFlDOEFFZ0FDQUNOZ0xzQVNBQUlBRTJBdWdCSUFBb0F2UUJJUU1nQUNnQzhBRWhBaUFBS0FMb0FTRUJJQUFnQUNnQzdBRTJBdVFCSUFBZ0FUWUM0QUVnQUNBQUtRUGdBVGNEUUNNQVFTQnJJZ0VrQUNBQVFVQnJJZ1FvQWdBaEJTQUVLQUlFSVFRZ0FTQUNOZ0lZSUFFZ0JEWUNGQ0FCSUFVMkFoQWdBVUVQTmdJTUlBRW9BaGdoQkNNQVFSQnJJQUZCQ0dvaUJUWUNEQ01BUVJCcklnSWtBQ0FDSUFVMkFnd2dBa0VRYWlRQUlBRWdBU2dDRERZQ0hFRzBKeUFFUVFOQm1DaEJrQ2dnQVNnQ0RDQUJRUkJxRUZWQkFCQUVJQUZCSUdva0FDQUFRUUEyQW93QklBQkJCallDaUFFZ0FDQUFLUU9JQVRjRHVBSWdBQ2dDdUFJaEFTQUFLQUs4QWlFQ0lBQWdBellDMUFJZ0FFR09EallDMEFJZ0FDQUNOZ0xNQWlBQUlBRTJBc2dDSUFBb0F0UUNJUUVnQUNnQzBBSWhBaUFBS0FMSUFpRURJQUFnQUNnQ3pBSTJBc1FDSUFBZ0F6WUN3QUlnQUNBQUtRUEFBamNET0NBQ0lBQkJPR29Rc3dFZ0FFRUFOZ0tFQVNBQVFRYzJBb0FCSUFBZ0FDa0RnQUUzQTVnQ0lBQW9BcGdDSVFJZ0FDZ0NuQUloQXlBQUlBRTJBclFDSUFCQjlnbzJBckFDSUFBZ0F6WUNyQUlnQUNBQ05nS29BaUFBS0FLMEFpRUJJQUFvQXJBQ0lRSWdBQ2dDcUFJaEF5QUFJQUFvQXF3Q05nS2tBaUFBSUFNMkFxQUNJQUFnQUNrRG9BSTNBekFnQWlBQVFUQnFFTE1CSUFCQkFEWUNmQ0FBUVFnMkFuZ2dBQ0FBS1FONE53UDRBaUFBS0FMNEFpRUNJQUFvQXZ3Q0lRTWdBQ0FCTmdLVUF5QUFRYXNJTmdLUUF5QUFJQU0yQW93RElBQWdBallDaUFNZ0FDZ0NsQU1oQVNBQUtBS1FBeUVDSUFBb0FvZ0RJUU1nQUNBQUtBS01BellDaEFNZ0FDQUROZ0tBQXlBQUlBQXBBNEFETndNb0lBSWdBRUVvYWhDakFpQUFRUUEyQW5RZ0FFRUpOZ0p3SUFBZ0FDa0RjRGNEMkFJZ0FDZ0MyQUloQWlBQUtBTGNBaUVESUFBZ0FUWUM5QUlnQUVHZENEWUM4QUlnQUNBRE5nTHNBaUFBSUFJMkF1Z0NJQUFvQXZRQ0lRRWdBQ2dDOEFJaEFpQUFLQUxvQWlFRElBQWdBQ2dDN0FJMkF1UUNJQUFnQXpZQzRBSWdBQ0FBS1FQZ0FqY0RJQ0FDSUFCQklHb1Fvd0lnQUVFQU5nSnNJQUJCQ2pZQ2FDQUFJQUFwQTJnM0E1Z0RJQUFvQXBnRElRSWdBQ2dDbkFNaEF5QUFJQUUyQXJRRElBQkJwZ28yQXJBRElBQWdBellDckFNZ0FDQUNOZ0tvQXlBQUtBSzBBeUVESUFBb0FyQURJUUlnQUNnQ3FBTWhBU0FBSUFBb0Fxd0ROZ0trQXlBQUlBRTJBcUFESUFBZ0FDa0RvQU0zQXhnakFFRWdheUlCSkFBZ0FDZ0NHQ0VFSUFBb0Fod2hCU0FCSUFJMkFoZ2dBU0FGTmdJVUlBRWdCRFlDRUNBQlFSSTJBZ3dnQVNnQ0dDRUVJd0JCRUdzZ0FVRUlhaUlGTmdJTUl3QkJFR3NpQWlRQUlBSWdCVFlDRENBQ1FSQnFKQUFnQVNBQktBSU1OZ0ljUWJRbklBUkJBMEdBS1VHTUtTQUJLQUlNSUFGQkVHb1FWVUVBRUFRZ0FVRWdhaVFBSUFCQkFEWUNaQ0FBUVFzMkFtQWdBQ0FBS1FOZ053UFlBeUFBS0FMWUF5RUJJQUFvQXR3RElRSWdBQ0FETmdMMEF5QUFRYWtMTmdMd0F5QUFJQUkyQXV3RElBQWdBVFlDNkFNZ0FDZ0M5QU1oQVNBQUtBTHdBeUVDSUFBb0F1Z0RJUU1nQUNBQUtBTHNBellDNUFNZ0FDQUROZ0xnQXlBQUlBQXBBK0FETndNUUlBSWdBRUVRYWhDU0FpQUFRUUEyQWx3Z0FFRU1OZ0pZSUFBZ0FDa0RXRGNEdUFNZ0FDZ0N1QU1oQWlBQUtBSzhBeUVESUFBZ0FUWUMxQU1nQUVHZ0VEWUMwQU1nQUNBRE5nTE1BeUFBSUFJMkFzZ0RJQUFvQXRRRElRRWdBQ2dDMEFNaEFpQUFLQUxJQXlFRElBQWdBQ2dDekFNMkFzUURJQUFnQXpZQ3dBTWdBQ0FBS1FQQUF6Y0RDQ0FDSUFCQkNHb1FrZ0lnQUVFQU5nSlVJQUJCRFRZQ1VDQUFJQUFwQTFBM0EvZ0JJQUFvQXZnQklRSWdBQ2dDL0FFaEF5QUFJQUUyQXBRQ0lBQkJrUkEyQXBBQ0lBQWdBellDakFJZ0FDQUNOZ0tJQWlBQUtBS1FBaUVCSUFBb0FvZ0NJUUlnQUNBQUtBS01BallDaEFJZ0FDQUNOZ0tBQWlBQUlBQXBBNEFDTndOSUlBRWdBRUhJQUdvUXN3RWdBRUdRQkdva0FBc0w4RjBNQUVHQUNBditJbUZsYzE5cGJtbDBYMnRsZVFCaFpYTmZZM1J5WDNObGRGOXJaWGtBY21WdGIzWmxRbUZ6WlV0bGVRQmhaR1JQY2xWd1pHRjBaVUpoYzJWTFpYa0FSVlpRWDAxRVgwTlVXRjlqYjNCNVgyVjRBRVZXVUY5RWFXZGxjM1JKYm1sMFgyVjRBRVZXVUY5RGFYQm9aWEpKYm1sMFgyVjRBRWhOUVVOZlNXNXBkRjlsZUFCRlZsQmZSR2xuWlhOMFJtbHVZV3hmWlhnQVJWWlFYMFZ1WTNKNWNIUkdhVzVoYkY5bGVBQkZWbEJmUkdWamNubHdkRVpwYm1Gc1gyVjRBRjlmYm1WNGRGOXdjbWx0WlNCdmRtVnlabXh2ZHdCMWJuTnBaMjVsWkNCemFHOXlkQUJoWlhOZmJtOW9kMTlqWW1OZlpXNWpjbmx3ZEFCRFVsbFFWRTlmWTNSeU1USTRYMlZ1WTNKNWNIUUFkVzV6YVdkdVpXUWdhVzUwQUhOb1lUSTFObDlwYm1sMEFITmxkRk5yYVhCUFptWnpaWFFBWVdWelgyNXZhSGRmWW1GMFkyaGZjMlYwQUdGbGMxOXViMmgzWDJKaGRHTm9YMmRsZEFCSVMwUkdYMlY0ZEhKaFkzUUFabXh2WVhRQWRXbHVkRFkwWDNRQVoyVjBVM1JoZEhWekFHeG9MVDV1ZFcxZlluVmphMlYwY3lBK1BTQnJUV2x1VG5WdFFuVmphMlYwY3dCMlpXTjBiM0lBWjJWMFMyVjVRblZtWm1WeUFHSnNiMk5yWDNKbGJXRnBibVJsY2dCMWJuTnBaMjVsWkNCamFHRnlBRVZXVUY5TlJGOURWRmhmWTJ4bFlXNTFjQUJyWlhrZ0ppWWdaV052ZFc1MFgySjFaaUFtSmlCdWRXMEFjblZ1UVd4bmIzSnBkR2h0QUhOb1lUSTFObDltYVc1aGJGOXBiWEJzQUdKdmIyd0FaVzF6WTNKcGNIUmxiam82ZG1Gc0FITm9ZVEkxTmw5bWFXNWhiQUJqY25sd2RHOWZiV1F6TWw5bWFXNWhiQUJoWlhOZmJtOW9kMTkwYjE5aVlYUmphQUJoWlhOZmJtOW9kMTltY205dFgySmhkR05vQUdWNGRHVnlibUZzTDJKdmNtbHVaM056YkM5emNtTXZZM0o1Y0hSdkwyWnBjSE50YjJSMWJHVXZiV1EwTHk0dUwyUnBaMlZ6ZEM5dFpETXlYMk52YlcxdmJpNW9BR1Y0ZEdWeWJtRnNMMlZ0YzJOeWFYQjBaVzVmWW1sdVgyeHBiblY0TDJWdGMyTnlhWEIwWlc0dlkyRmphR1V2YzNsemNtOXZkQzlwYm1Oc2RXUmxMMlZ0YzJOeWFYQjBaVzR2ZG1Gc0xtZ0FaMlYwUkdWaWRXY0FkVzV6YVdkdVpXUWdiRzl1WndCemRHUTZPbmR6ZEhKcGJtY0FjM1JrT2pwemRISnBibWNBYzNSa09qcDFNVFp6ZEhKcGJtY0FjM1JrT2pwMU16SnpkSEpwYm1jQVptOTFibVFnUFQwZ1luVm1BR3hvWDIxaGVXSmxYM0psYzJsNlpRQkZWbEJmVFVSZmMybDZaU2h0WkNrZ1BEMGdZbXh2WTJ0ZmMybDZaUUJ1SUR3Z1lteHZZMnRmYzJsNlpRQkRhWEJvWlhKVGRXbDBaUUJ6YUdFeU5UWmZkWEJrWVhSbEFFVldVRjlGYm1OeWVYQjBWWEJrWVhSbEFFVldVRjlFWldOeWVYQjBWWEJrWVhSbEFIZHlhWFJsUjJWdVpYSnBZMWRwY21WVWVYQmxBRVZ1WjJsdVpWUjVjR1VBVTBaeVlXMWxSVzVuYVc1bEFHZGxkRTkxZEhCMWRFWnlZVzFsQUdkbGRFbHVjSFYwUm5KaGJXVUFaRzkxWW14bEFFTlNXVkJVVDE5Q1ZVWkdSVkpmWm5KbFpRQjJiMmxrQUU5UVJVNVRVMHhmYldGc2JHOWpBR1Y0ZEdWeWJtRnNMMkp2Y21sdVozTnpiQzl6Y21NdlkzSjVjSFJ2TDJacGNITnRiMlIxYkdVdllXVnpMMkZsYzE5dWIyaDNMbU1BWlhoMFpYSnVZV3d2WW05eWFXNW5jM05zTDNOeVl5OWpjbmx3ZEc4dlptbHdjMjF2WkhWc1pTOWthV2RsYzNRdlpHbG5aWE4wTG1NQVpYaDBaWEp1WVd3dlltOXlhVzVuYzNOc0wzTnlZeTlqY25sd2RHOHZabWx3YzIxdlpIVnNaUzlrYVdkbGMzUXZaR2xuWlhOMGN5NWpBR1Y0ZEdWeWJtRnNMMkp2Y21sdVozTnpiQzl6Y21NdlkzSjVjSFJ2TDJacGNITnRiMlIxYkdVdlkybHdhR1Z5TDJWZllXVnpMbU1BWlhoMFpYSnVZV3d2WW05eWFXNW5jM05zTDNOeVl5OWpjbmx3ZEc4dlptbHdjMjF2WkhWc1pTOXRiMlJsY3k5amRISXVZd0JsZUhSbGNtNWhiQzlpYjNKcGJtZHpjMnd2YzNKakwyTnllWEIwYnk5bWFYQnpiVzlrZFd4bEwyTnBjR2hsY2k5amFYQm9aWEl1WXdCbGVIUmxjbTVoYkM5aWIzSnBibWR6YzJ3dmMzSmpMMk55ZVhCMGJ5OXRaVzB1WXdCbGVIUmxjbTVoYkM5aWIzSnBibWR6YzJ3dmMzSmpMMk55ZVhCMGJ5OXdiMjlzTDNCdmIyd3VZd0JsZUhSbGNtNWhiQzlpYjNKcGJtZHpjMnd2YzNKakwyTnllWEIwYnk5c2FHRnphQzlzYUdGemFDNWpBR1Y0ZEdWeWJtRnNMMkp2Y21sdVozTnpiQzl6Y21NdlkzSjVjSFJ2TDJacGNITnRiMlIxYkdVdmFHdGtaaTlvYTJSbUxtTUFaWGgwWlhKdVlXd3ZZbTl5YVc1bmMzTnNMM055WXk5amNubHdkRzh2WTJsd2FHVnlYMlY0ZEhKaEwyVmZZV1Z6WTNSeWFHMWhZeTVqQUdWNGRHVnlibUZzTDJKdmNtbHVaM056YkM5emNtTXZZM0o1Y0hSdkwyWnBjSE50YjJSMWJHVXZhRzFoWXk5b2JXRmpMbU1BWlhoMFpYSnVZV3d2WW05eWFXNW5jM05zTDNOeVl5OWpjbmx3ZEc4dlpYaGZaR0YwWVM1akFHVjRkR1Z5Ym1Gc0wySnZjbWx1WjNOemJDOXpjbU12WTNKNWNIUnZMMlpwY0hOdGIyUjFiR1V2YzJoaEwzTm9ZVEkxTmk1akFFTlNXVkJVVDE5bWNtVmxYMlY0WDJSaGRHRUFjMmh2Y25SZmNIUnlJRHc5SUZWSlRsUXpNbDlOUVZnQVJrRkpURVZFWDFSUFgwVk9RMUpaVUZRQVJrRkpURVZFWDFSUFgwUkZRMUpaVUZRQVQxQlZVd0JGVGtOU1dWQlVUMUlBUkVWRFVsbFFWRTlTQUVaQlNVeGZVRUZTVTBWZlEwOUVSVU5mU0VWQlJFVlNBRlZPUzA1UFYwNEFZM1I0TFQ1d1kzUjRJRDA5SUU1VlRFd2dmSHdnWTNSNExUNXdZM1I0WDI5d2N5QWhQU0JPVlV4TUFHOTFkQzArY0dOMGVDQTlQU0JPVlV4TUlIeDhJRzkxZEMwK2NHTjBlRjl2Y0hNZ0lUMGdUbFZNVEFCcGJpMCtjR04wZUNBOVBTQk9WVXhNSUh4OElHbHVMVDV3WTNSNFgyOXdjeUFoUFNCT1ZVeE1BRTlRUlU1VFUweGZiV1Z0YjNKNVgyZGxkRjl6YVhwbElDRTlJRTVWVEV3QVQxQkZUbE5UVEY5dFpXMXZjbmxmWm5KbFpTQWhQU0JPVlV4TUFFOUxBRzUxYlY5aWJHOWphM01nUEQwZ1FVVlRYMDVQU0ZkZlFrRlVRMGhmVTBsYVJRQnBJRHdnUVVWVFgwNVBTRmRmUWtGVVEwaGZVMGxhUlFCamRIZ3RQbVJwWjJWemRDMCtiV1JmYzJsNlpTQThQU0JGVmxCZlRVRllYMDFFWDFOSldrVUFSa0ZKVEVWRVgxUlBYMEZWVkVoRlRsUkpRMEZVUlFCT1QwNUZBRTVWVEV4ZlQxVlVVRlZVWDBaU1FVMUZBRTVWVEV4ZlNVNVFWVlJmUmxKQlRVVUFaVzF6WTNKcGNIUmxiam82YldWdGIzSjVYM1pwWlhjOGMyaHZjblErQUdWdGMyTnlhWEIwWlc0Nk9tMWxiVzl5ZVY5MmFXVjNQSFZ1YzJsbmJtVmtJSE5vYjNKMFBnQmxiWE5qY21sd2RHVnVPanB0WlcxdmNubGZkbWxsZHp4cGJuUStBR1Z0YzJOeWFYQjBaVzQ2T20xbGJXOXllVjkyYVdWM1BIVnVjMmxuYm1Wa0lHbHVkRDRBWlcxelkzSnBjSFJsYmpvNmJXVnRiM0o1WDNacFpYYzhabXh2WVhRK0FHVnRjMk55YVhCMFpXNDZPbTFsYlc5eWVWOTJhV1YzUEhWcGJuUTRYM1ErQUdWdGMyTnlhWEIwWlc0Nk9tMWxiVzl5ZVY5MmFXVjNQR2x1ZERoZmRENEFaVzF6WTNKcGNIUmxiam82YldWdGIzSjVYM1pwWlhjOGRXbHVkREUyWDNRK0FHVnRjMk55YVhCMFpXNDZPbTFsYlc5eWVWOTJhV1YzUEdsdWRERTJYM1ErQUdWdGMyTnlhWEIwWlc0Nk9tMWxiVzl5ZVY5MmFXVjNQSFZwYm5Rek1sOTBQZ0JsYlhOamNtbHdkR1Z1T2pwdFpXMXZjbmxmZG1sbGR6eHBiblF6TWw5MFBnQmxiWE5qY21sd2RHVnVPanB0WlcxdmNubGZkbWxsZHp4amFHRnlQZ0JsYlhOamNtbHdkR1Z1T2pwdFpXMXZjbmxmZG1sbGR6eDFibk5wWjI1bFpDQmphR0Z5UGdCemRHUTZPbUpoYzJsalgzTjBjbWx1Wnp4MWJuTnBaMjVsWkNCamFHRnlQZ0JsYlhOamNtbHdkR1Z1T2pwdFpXMXZjbmxmZG1sbGR6eHphV2R1WldRZ1kyaGhjajRBWlcxelkzSnBjSFJsYmpvNmJXVnRiM0o1WDNacFpYYzhiRzl1Wno0QVpXMXpZM0pwY0hSbGJqbzZiV1Z0YjNKNVgzWnBaWGM4ZFc1emFXZHVaV1FnYkc5dVp6NEFaVzF6WTNKcGNIUmxiam82YldWdGIzSjVYM1pwWlhjOFpHOTFZbXhsUGdCV1VEZ0FhMlY1WDJKNWRHVnpJRDA5SURFeU9DQXZJRGdnZkh3Z2EyVjVYMko1ZEdWeklEMDlJREU1TWlBdklEZ2dmSHdnYTJWNVgySjVkR1Z6SUQwOUlESTFOaUF2SURnQVkzUjRMVDVqYVhCb1pYSXRQbUpzYjJOclgzTnBlbVVnUFQwZ01TQjhmQ0JqZEhndFBtTnBjR2hsY2kwK1lteHZZMnRmYzJsNlpTQTlQU0E0SUh4OElHTjBlQzArWTJsd2FHVnlMVDVpYkc5amExOXphWHBsSUQwOUlERTJBQ3B1ZFcwZ1BDQXhOZ0JJTWpZMEFFTlNXVkJVVDE5amRISXhNamhmWlc1amNubHdkRjlqZEhJek1nQkJSVk5mUTFSU1h6RXlPRjlJVFVGRFgxTklRVEkxTmw4NE1BQnNaVzRnSlNBeE5pQTlQU0F3QUcxa1gyeGxiaUFsSURRZ1BUMGdNQUFvWTNSNExUNWphWEJvWlhJdFBtSnNiMk5yWDNOcGVtVWdKaUFvWTNSNExUNWphWEJvWlhJdFBtSnNiMk5yWDNOcGVtVWdMU0F4S1NrZ1BUMGdNQUJwYmkwK1pHbG5aWE4wTFQ1amRIaGZjMmw2WlNBaFBTQXdBSFI1Y0dVdFBtTjBlRjl6YVhwbElDRTlJREFBWTNSNExUNWphWEJvWlhJdFBtSnNiMk5yWDNOcGVtVWdJVDBnTUFCRlZsQmZRMGxRU0VWU1gwTlVXRjlwZGw5c1pXNW5kR2dvWTNSNEtTQThQU0J6YVhwbGIyWW9ZM1I0TFQ1cGRpa0FiR1Z1SUQwOUlEQWdmSHdnS0dsdUlDWW1JRzkxZENrQUttOTFkRjlzWlc0Z1BUMGdSVlpRWDAxRVgzTnBlbVVvWkdsblpYTjBLUUJUU0VFeU5UWmZWWEJrWVhSbEtHTjBlQzArYldSZlpHRjBZU3dnWkdGMFlTd2dZMjkxYm5RcEFHSWdQRDBnYzJsNlpXOW1LR04wZUMwK1ptbHVZV3dwQUd0bGVWOXNaVzRnUEQwZ2MybDZaVzltS0d0bGVWOWliRzlqYXlrQVlteHZZMnRmYzJsNlpTQThQU0J6YVhwbGIyWW9hMlY1WDJKc2IyTnJLUUJpYkNBOFBTQW9hVzUwS1hOcGVtVnZaaWhqZEhndFBtSjFaaWtBWWlBOFBTQnphWHBsYjJZb1kzUjRMVDVpZFdZcEFHNTFiVjltZFc1amN5QThQU0FvYzJsNlpWOTBLU2hKVGxSZlRVRllJQzBnWlhoZlpHRjBZVjlqYkdGemN5MCtiblZ0WDNKbGMyVnlkbVZrS1FCVFNFRXlOVFpmU1c1cGRDaGpkSGd0UG0xa1gyUmhkR0VwQUZOSVFUSTFObDlHYVc1aGJDaHRaQ3dnWTNSNExUNXRaRjlrWVhSaEtRQjJjR0ZsYzE5allYQmhZbXhsS0NrQVVIVnlaU0IyYVhKMGRXRnNJR1oxYm1OMGFXOXVJR05oYkd4bFpDRUFUaloyYjI1aFoyVXlNVk5HY21GdFpVVnVaMmx1WlVsdWRHVnlabUZqWlRSVWVYQmxSUUFBQUFBa013QUF3eElBQUU0MmRtOXVZV2RsTWpaVFJuSmhiV1ZEYVhCb1pYSnpkV2wwWlVsdWRHVnlabUZqWlRJelUwWnlZVzFsUlc1bmFXNWxRMmx3YUdWeVUzVnBkR1ZGQUFBa013QUE5QklBQUU0MmRtOXVZV2RsTWpGVFJuSmhiV1ZGYm1kcGJtVkpiblJsY21aaFkyVXlObFJoY21kbGRGQmhlV3h2WVdSR2IzSlRhMmx3VDJabWMyVjBSUUFBQUFBa013QUFQQk1BQUU0MmRtOXVZV2RsTVRKVFpuSmhiV1ZUZEdGMGRYTkZBQ1F6QUFDRUV3QUFNVEJUUm5KaGJXVlhZWE50QUFBQUFIQXpBQUNrRXdBQVVERXdVMFp5WVcxbFYyRnpiUUFBQUZBMEFBQzhFd0FBQUFBQUFMUVRBQUJRU3pFd1UwWnlZVzFsVjJGemJRQUFVRFFBQU53VEFBQUJBQUFBdEJNQUFHbHBBSFlBZG1rQXpCTUFBT3dTQUFBMEV3QUFhV2xwYVFBQUFBREFNZ0FBekJNQUFQd3lBQUJBRkFBQXpCTUFBRTR4TUdWdGMyTnlhWEIwWlc0emRtRnNSUUFBY0RNQUFDd1VBQUJwYVdrQVRqRXdaVzF6WTNKcGNIUmxiakV4YldWdGIzSjVYM1pwWlhkSmFFVkZBQUJ3TXdBQVRCUUFBSGd5QUFETUV3QUEvRElBQUdBeUFBRE1Fd0FBZkJNQUFIWnBhV2tBQUFBQVFCUUFBTXdUQUFEa01nQUFBQUFBQUFBVkFBQVVBQUFBRlFBQUFCWUFBQUFYQUFBQUdBQUFBQmtBQUFCT05uWnZibUZuWlRVeFFtOXlhVzVuVTFOTVUwWnlZVzFsWDBGRlUxOURWRkpmTVRJNFgwaE5RVU5mVTBoQk1qVTJYME5wY0dobGNuTjFhWFJsUlFBQW1ETUFBTUFVQUFETUZRQUFBQUFBQUhRVkFBQWFBQUFBR3dBQUFCd0FBQUFkQUFBQUhnQUFBQjhBQUFBZ0FBQUFJUUFBQUNJQUFBQWpBQUFBSkFBQUFDVUFBQUFtQUFBQUp3QUFBRTQyZG05dVlXZGxNalZDYjNKcGJtZFRVMHhUUm5KaGJXVkVaWEpwZG1Wa1MyVjVSUUFBQUFDWU13QUFUQlVBQUV3WUFFR0lLd3RZekJVQUFDZ0FBQUFwQUFBQUZnQUFBQ29BQUFBcUFBQUFLZ0FBQUU0MmRtOXVZV2RsTWpaVFJuSmhiV1ZEYVhCb1pYSnpkV2wwWlVsdWRHVnlabUZqWlVVQUFBQndNd0FBcEJVQUFBQUFBQUJUUm5KaGJXVXhNQUJCcUN3TEhRZ0FBQUFCQUFBQVUwWnlZVzFsTVRBZ1FVVlRJRU5VVWlCQlJVRkVBRUdBTFFzTEZRQUFBQUFBQUFCclpYa0FRZGd0Q3d3REFBQUFBUUFBQUhOaGJIUUFRYkF1Q3dzRUFBQUFBZ0FBQUdWdVl3QkJpQzhMREFNQUFBQURBQUFBWVhWMGFBQkI0QzhMb1FRRUFBQUFBQUFBQUV3WUFBQXRBQUFBTGdBQUFCd0FBQUFkQUFBQUhnQUFBQjhBQUFBZ0FBQUFJUUFBQUNJQUFBQWpBQUFBSkFBQUFDVUFBQUFtQUFBQUtnQUFBRTQyZG05dVlXZGxNalZUUm5KaGJXVkVaWEpwZG1Wa1MyVjVTVzUwWlhKbVlXTmxSUUFBQUFCd013QUFKQmdBQUFBQUFBRElHQUFBTHdBQUFEQUFBQUF4QUFBQU1nQUFBRE1BQUFCT1UzUXpYMTh5TWpCZlgzTm9ZWEpsWkY5d2RISmZaVzF3YkdGalpVbE9Oblp2Ym1GblpUSTFRbTl5YVc1blUxTk1VMFp5WVcxbFJHVnlhWFpsWkV0bGVVVk9VMTg1WVd4c2IyTmhkRzl5U1ZNeVgwVkZSVVVBbURNQUFIQVlBQURFTUFBQUFBQUFBRFFaQUFBNEFBQUFPUUFBQUNvQUFBQUFBQUFBWUJrQUFEWUFBQUE2QUFBQU93QUFBQUFBQUFDUUdRQUFOd0FBQUR3QUFBQTlBQUFBVGpaMmIyNWhaMlV5TVZOR2NtRnRaVVZ1WjJsdVpVbHVkR1Z5Wm1GalpVVUFBQUFBY0RNQUFCQVpBQUJPTm5admJtRm5aVEl4VTBaeVlXMWxSVzVuYVc1bFJXNWpjbmx3ZEc5eVJRQUFBQUNZTXdBQVBCa0FBRFFaQUFCT05uWnZibUZuWlRJeFUwWnlZVzFsUlc1bmFXNWxSR1ZqY25sd2RHOXlSUUFBQUFDWU13QUFiQmtBQURRWkFBQUFBQUFBeEJrQUFENEFBQUEvQUFBQVRqWjJiMjVoWjJVeE1sTm1jbUZ0WlZKbGMzVnNkRVVBY0RNQUFLd1pBQUFCQUFBQUVBQUFBQUFCQUFCR0JRQUFBQ0FBQUFCQUFBQXdEQ0FnQUFBQUFFVUFBQUFBQUFBQVJnQUFBQUFBQUFCSEFBQUFTQUJCakRRTENnRUNCQWdRSUVDQUd6WUFRYUEwQzZncG1DK0tRcEZFTjNIUCs4QzFwZHUxNlZ2Q1ZqbnhFZkZacElJL2t0VmVIS3VZcWdmWUFWdURFcjZGTVNURGZReFZkRjIrY3Y2eDNvQ25CdHliZFBHYndjRnBtK1NHUjc3dnhwM0JEOHloRENSdkxPa3Rxb1IwU3R5cHNGemFpUGwyVWxFK21HM0dNYWpJSndPd3gzOVp2L01MNE1aSGthZlZVV1BLQm1jcEtSU0ZDcmNuT0NFYkx2eHRMRTBURFRoVFZITUtaYnNLYW5ZdXljS0JoU3h5a3FIb3Y2SkxaaHFvY0l0THdxTlJiTWNaNkpMUkpBYVoxb1UxRHZSd29Hb1FGc0drR1Foc054NU1kMGdudGJ5d05MTU1IRGxLcXRoT1Q4cWNXL052TG1qdWdvOTBiMk9sZUJSNHlJUUlBc2VNK3YrK2tPdHNVS1Qzby9tKzhuaHh4b3hpSUF2U29ISllSS2lXYWExVmZ1d0RBRTVUZEROZlh6SXhNbUpoYzJsalgzTjBjbWx1WjBsalRsTmZNVEZqYUdGeVgzUnlZV2wwYzBsalJVVk9VMTg1WVd4c2IyTmhkRzl5U1dORlJVVkZBQUFBQUhBekFBQXlHd0FBVGxOME0xOWZNakV5WW1GemFXTmZjM1J5YVc1blNXaE9VMTh4TVdOb1lYSmZkSEpoYVhSelNXaEZSVTVUWHpsaGJHeHZZMkYwYjNKSmFFVkZSVVVBQUhBekFBQjhHd0FBVGxOME0xOWZNakV5WW1GemFXTmZjM1J5YVc1blNYZE9VMTh4TVdOb1lYSmZkSEpoYVhSelNYZEZSVTVUWHpsaGJHeHZZMkYwYjNKSmQwVkZSVVVBQUhBekFBREVHd0FBVGxOME0xOWZNakV5WW1GemFXTmZjM1J5YVc1blNVUnpUbE5mTVRGamFHRnlYM1J5WVdsMGMwbEVjMFZGVGxOZk9XRnNiRzlqWVhSdmNrbEVjMFZGUlVVQUFBQndNd0FBREJ3QUFFNVRkRE5mWHpJeE1tSmhjMmxqWDNOMGNtbHVaMGxFYVU1VFh6RXhZMmhoY2w5MGNtRnBkSE5KUkdsRlJVNVRYemxoYkd4dlkyRjBiM0pKUkdsRlJVVkZBQUFBY0RNQUFGZ2NBQUJPTVRCbGJYTmpjbWx3ZEdWdU1URnRaVzF2Y25sZmRtbGxkMGxqUlVVQUFIQXpBQUNrSEFBQVRqRXdaVzF6WTNKcGNIUmxiakV4YldWdGIzSjVYM1pwWlhkSllVVkZBQUJ3TXdBQXpCd0FBRTR4TUdWdGMyTnlhWEIwWlc0eE1XMWxiVzl5ZVY5MmFXVjNTWE5GUlFBQWNETUFBUFFjQUFCT01UQmxiWE5qY21sd2RHVnVNVEZ0WlcxdmNubGZkbWxsZDBsMFJVVUFBSEF6QUFBY0hRQUFUakV3WlcxelkzSnBjSFJsYmpFeGJXVnRiM0o1WDNacFpYZEphVVZGQUFCd013QUFSQjBBQUU0eE1HVnRjMk55YVhCMFpXNHhNVzFsYlc5eWVWOTJhV1YzU1dwRlJRQUFjRE1BQUd3ZEFBQk9NVEJsYlhOamNtbHdkR1Z1TVRGdFpXMXZjbmxmZG1sbGQwbHNSVVVBQUhBekFBQ1VIUUFBVGpFd1pXMXpZM0pwY0hSbGJqRXhiV1Z0YjNKNVgzWnBaWGRKYlVWRkFBQndNd0FBdkIwQUFFNHhNR1Z0YzJOeWFYQjBaVzR4TVcxbGJXOXllVjkyYVdWM1NXWkZSUUFBY0RNQUFPUWRBQUJPTVRCbGJYTmpjbWx3ZEdWdU1URnRaVzF2Y25sZmRtbGxkMGxrUlVVQUFIQXpBQUFNSGdBQUFBQUFBQUE0K3Y1Q0x1WS9NR2ZIazFmekxqMEJBQUFBQUFEZ3Yxc3dVVlZWVmRVL2tFWHIvLy8vejc4UkFmRWtzNW5KUDUvSUJ1VjFWY1cvQUFBQUFBQUE0TDkzVlZWVlZWWFZQOHY5Ly8vLy84Ky9ETjJWbVptWnlUK25SV2RWVlZYRnZ6RGVSS01rU2NJL1pUMUNwUC8vdjcvSzFpb29oSEc4UC85b3NFUHJtYm0vaGRDdjk0S0J0ei9OUmRGMUUxSzF2NS9lNE1Qd05QYy9BSkRtZVgvTTE3OGY2U3hxZUJQM1B3QUFEY0x1YjllL29MWDZDR0R5OWo4QTRGRVQ0eFBYdjMyTUV4K20wZlkvQUhnb09GdTQxci9SdE1VTFNiSDJQd0I0Z0pCVlhkYS91Z3d2TTBlUjlqOEFBQmgyMEFMV3Z5TkNJaGlmY2ZZL0FKQ1Foc3FvMWIvWkhxV1pUMUwyUHdCUUExWkRUOVcveENTUHFsWXo5ajhBUUd2RE4vYlV2eFRjbld1ekZQWS9BRkNvL2FlZDFMOU1YTVpTWlBiMVB3Q29pVG1TUmRTL1R5eVJ0V2ZZOVQ4QXVMQTU5TzNUdjk2UVc4dTh1dlUvQUhDUFJNNlcwNzk0R3RueVlaMzFQd0NndlJjZVFOTy9oMVpHRWxhQTlUOEFnRWJ2NHVuU3Y5TnI1ODZYWS9VL0FPQXdPQnVVMHIrVGY2ZmlKVWYxUHdDSTJvekZQdEsvZzBVR1F2OHE5VDhBa0NjcDRlblJ2OSs5c3RzaUQvVS9BUGhJSzIyVjBiL1gzalJIai9QMFB3RDR1WnBuUWRHL1FDamV6MFBZOUQ4QW1PK1UwTzNRdjhpamVNQSt2ZlEvQUJEYkdLV2EwTCtLSmVERGY2TDBQd0M0WTFMbVI5Qy9OSVRVSkFXSTlEOEE4SVpGSXV2UHZ3c3RHUnZPYmZRL0FMQVhkVXBIejc5VUdEblQyVlAwUHdBd0VEMUVwTTYvV29TMFJDYzY5RDhBc09sRURRTE92L3Y0RlVHMUlQUS9BUEIzS2FKZ3piK3g5RDdhZ2dmMFB3Q1FsUVFCd015L2ovNVhYWS91OHo4QUVJbFdLU0RNditsTUM2RFoxZk0vQUJDQmpSZUJ5Nzhyd1JEQVlMM3pQd0RRMDh6SjRzcS91TnAxS3lTbDh6OEFrQkl1UUVYS3Z3TFFuODBpamZNL0FQQWRhSGVveWI4Y2VvVEZXM1h6UHdBd1NHbHRETW0vNGphdFNjNWQ4ejhBd0VXbUlISEl2MERVVFpoNVJ2TS9BREFVdEkvV3g3OGt5Ly9PWEMvelB3QndZank0UE1lL1NRMmhkWGNZOHo4QVlEZWJtcVBHdjVBNVBqZklBZk0vQUtDM1ZERUx4cjlCK0pXN1R1dnlQd0F3SkhaOWM4Vy8wYWtaQWdyVjhqOEFNTUtQZTl6RXZ5cjl0Nmo1dnZJL0FBRFNVU3hHeEwrckd3eDZIS255UHdBQWc3eUtzTU8vTUxVVVlIS1Q4ajhBQUVscm1SdkR2L1doVjFmNmZmSS9BRUNra0ZTSHdyKy9PeDJiczJqeVB3Q2dlZmk1ODhHL3ZmV1BnNTFUOGo4QW9Dd2x5R0RCdnpzSXlhcTNQdkkvQUNEM1YzL093TCsyUUtrckFTcnlQd0NnL2tuY1BNQy9Na0hNbG5rVjhqOEFnRXU4dlZlL3Y1djgwaDBnQWZJL0FFQkFsZ2czdnI4TFNFMUo5T3p4UHdCQStUNllGNzIvYVdXUFV2WFk4VDhBb05oT1ovbTd2M3grVnhFanhmRS9BR0F2SUhuY3VyL3BKc3QwZkxIeFB3Q0FLT2ZEd0xtL3Rob3NEQUdlOFQ4QXdIS3pScWE0djcxd3RudXdpdkUvQUFDc3N3R050Nysydk84bGluZnhQd0FBT0VYeGRMYS8yakZNTlkxazhUOEFnSWR0RGw2MXY5MWZKNUM1VWZFL0FPQ2gzbHhJdEw5TTBqS2tEai94UHdDZ2FrM1pNN08vMnZrUWNvc3M4VDhBWU1YNGVTQ3l2ekcxN0Nnd0d2RS9BQ0JpbUVZT3NiK3ZOSVRhK3dmeFB3QUEwbXBzK3ErL3MydE9EKzcxOEQ4QVFIZEtqZHF0djg2ZktsMEc1UEEvQUFDRjVPeThxNzhocFN4alJOTHdQd0RBRWtDSm9hbS9HcGppZktmQThEOEF3QUl6V0lpbnY5RTJ4b012ci9BL0FJRFdaMTV4cGI4NUU2Q1kyNTN3UHdDQVpVbUtYS08vMytkU3I2dU04RDhBUUJWazQwbWh2L3NvVGkrZmUvQS9BSURyZ3NCeW5yOFpqeldNdFdyd1B3Q0FVbEx4VlpxL0xQbnNwZTVaOEQ4QWdJSFBZajJXdjVBczBjMUpTZkEvQUFDcWpQc29rcitwcmZER3hqandQd0FBK1NCN01ZeS9xVEo1RTJVbzhEOEFBS3BkTlJtRXYwaHo2aWNrR1BBL0FBRHN3Z01TZUwrVnNSUUdCQWp3UHdBQUpIa0pCR0MvR3ZvbTl4L2c3ejhBQUpDRTgrOXZQM1RxWWNJY29lOC9BQUE5TlVIY2h6OHVtWUd3RUdQdlB3Q0F3c1NqenBNL3phM3VQUFlsN3o4QUFJa1V3WitiUCtjVGtRUEk2ZTQvQUFBUnp0aXdvVCtyc2N0NGdLN3VQd0RBQWRCYmlxVS9td3lkb2hwMDdqOEFnTmhBZzF5cFA3V1pDb09ST3U0L0FJQlg3Mm9uclQ5V21tQUo0QUh1UHdEQW1PV1lkYkEvbUx0MzVRSEs3VDhBSUEzajlWT3lQd09SZkF2eWt1MC9BQUE0aTkwdXREL09YUHRtckZ6dFB3REFWNGRaQnJZL25kNWVxaXduN1Q4QUFHbzFkdHEzUDgwc2F6NXU4dXcvQUdBY1RrT3J1VDhDZWFlaWJiN3NQd0JnRGJ2SGVMcy9iUWczYlNhTDdEOEFJT2N5RTBPOVB3UllYYjJVV093L0FHRGVjVEVLdnorTW43c3p0U2JzUHdCQWtTc1ZaOEEvUCtmczdvUDE2ejhBc0pLQ2hVZkJQOEdXMjNYOXhPcy9BRERLelc0bXdqOG9Tb1lNSHBYclB3QlF4YWJYQThNL0xEN3Z4ZUpsNno4QUVETTh3OS9EUDR1SXlXZElOK3MvQUlCNmF6YTZ4RDlLTUIwaFN3bnJQd0R3MFNnNWs4VS9mdS95aGVqYjZqOEE4QmdreldyR1A2STlZREVkcitvL0FKQm03UGhBeHorbldOTS81b0xxUHdEd0d2WEFGY2cvaTNNSjcwQlg2ajhBZ1BaVUtlbklQeWRMcTVBcUxPby9BRUQ0QWphN3lUL1I4cE1Ub0FIcVB3QUFMQnp0aThvL0d6emJKSi9YNlQ4QTBBRmNVVnZMUDVDeHh3VWxydWsvQU1DOHpHY3B6RDh2enBmeUxvWHBQd0JnU05VMTlzdy9kVXVrN3JwYzZUOEF3RVkwdmNITlB6aEk1NTNHTk9rL0FPRFB1QUdNemovbVVtY3ZUdzNwUHdDUUY4QUpWYzgvbmRmL2psTG02RDhBdUI4U2JBN1FQM3dBekovT3YrZy9BTkNURHJoeDBEOE93Nzdhd0pub1B3QndocDVyMU5BLyt4Y2pxaWQwNkQ4QTBFc3poemJSUHdpYXM2d0FUK2cvQUVnalp3MlkwVDlWUG1Yb1NTcm9Qd0NBek9ELytORS9ZQUwwbFFFRzZEOEFhR1BYWDFuU1B5bWo0R01sNHVjL0FLZ1VDVEM1MGordHRkeDNzNzduUHdCZ1F4QnlHTk0vd2lXWFo2cWI1ejhBR094dEpuZlRQMWNHRi9JSGVlYy9BREN2KzAvVjB6OE1FOWJieWxiblB3RGdMK1B1TXRRL2E3WlBBUUFRNWo4OFcwS1JiQUorUEpXMFRRTUFNT1kvUVYwQVNPcS9qVHg0MUpRTkFGRG1QN2VsMW9hbmY0NDhyVzlPQndCdzVqOU1KVlJyNnZ4aFBLNFAzLzcvaitZLy9RNVpUQ2QrZkx5OHhXTUhBTERtUHdIYTNFaG93WXE4OXNGY0hnRFE1ajhSazBtZEhEK0RQRDcyQmV2LzcrWS9VeTNpR2dTQWZyeUFsNFlPQUJEblAxSjVDWEZtLzNzOEV1bG4vUDh2NXo4a2g3MG00Z0NNUEdvUmdkLy9UK2MvMGdIeGJwRUNicnlRbkdjUEFIRG5QM1NjVk0xeC9HZThOY2grK3YrUDV6K0RCUFdld2I2QlBPYkNJUDcvcitjL1pXVE1LUmQrY0x3QXlUL3QvOC9uUHh5TGV3aHlnSUM4ZGhvbTZmL3Y1eit1K1oxdEtNQ05QT2lqbkFRQUVPZy9NMHpsVWRKL2lUeVBMSk1YQUREb1A0SHpNTGJwL29xOG5ITXpCZ0JRNkQrOE5XVnJ2NytKUE1hSlFpQUFjT2cvZFhzUjgyVy9pN3dFZWZYci80L29QMWZMUGFKdUFJbTgzd1M4SWdDdzZEOEtTK0E0M3dCOXZJb2JET1gveitnL0JaLy9SbkVBaUx4RGpwSDgvKy9vUHpod2V0QjdnWU04eDEvNkhnQVE2VDhEdE45MmtUNkpQTGw3UmhNQU1Pay9kZ0tZUzA2QWZ6eHZCKzdtLzAvcFB5NWkvOW53Zm8rODBSSTgzdjl2NlQrNk9DYVdxb0p3dkEyS1JmVC9qK2svNzZoa2tSdUFoN3crTHBqZC82L3BQemVUV29yZ1FJZThadnRKN2YvUDZUOEE0SnZCQ000L1BGR2M4U0FBOE9rL0NsdUlKNm8vaXJ3R3NFVVJBQkRxUDFiYVdKbEkvM1E4K3ZhN0J3QXc2ajhZYlN1S3E3Nk1QSGtkbHhBQVVPby9NSGw0M2NyK2lEeElMdlVkQUhEcVA5dXIyRDEyUVkrOFVqTlpIQUNRNmo4U2RzS0VBcitPdkVzK1R5b0FzT28vWHovL1BBVDlhYnpSSHE3WC84L3FQN1J3a0JMblBvSzhlQVJSN3YvdjZqK2ozZzdnUGdacVBGc05aZHYvRCtzL3VRb2ZPTWdHV2p4WHlxcisveS9yUHgwOEkzUWVBWG04M0xxVjJmOVA2eitmS29ab0VQOTV2SnhsbmlRQWNPcy9QaytHMEVYL2lqeEFGb2Y1LzQvclAvbkR3cFozL253OFQ4c0Uwdit2NnovRUsvTHVKLzlqdkVWY1FkTC96K3MvSWVvNzdyZi9iTHpmQ1dQNC8rL3JQMXdMTHBjRFFZRzhVM2ExNGY4UDdEOFphcmVVWk1HTFBPTlgrdkgvTCt3LzdjWXdqZS8rWkx3azVML2MvMC9zUDNWSDdMeG9QNFM4OTdsVTdmOXY3RC9zNEZQd28zNkVQTldQbWV2L2ordy84Wkw1alFhRGN6eWFJU1VoQUxEc1B3UU9HR1NPL1dpOG5FYVUzZi9QN0Q5eTZzY2N2bjZPUEhiRS9lci83K3cvL29pZnJUbStqandyK0pvV0FCRHRQM0ZhdWFpUmZYVThIZmNQRFFBdzdUL2F4M0Jwa01HSlBNUVBlZXIvVCswL0RQNVl4VGNPV0x6bGg5d3VBSER0UDBRUHdVM1dnSCs4cW9MY0lRQ1E3VDljWFAyVWozeDB2SU1DYTlqL3IrMC9mbUVoeFIxL2pEdzVSMndwQU5EdFAxT3gvN0tlQVlnODlaQkU1Zi92N1QrSnpGTEcwZ0J1UEpUMnE4My9EKzQvMG1rdElFQ0RmN3pkeUZMYi95L3VQMlFJRzhyQkFIczg3eFpDOHY5UDdqOVJxNVN3cVA5eVBCRmVpdWovYis0L1diN3ZzWFAyVjd3Ti81NFJBSkR1UHdISUMxNk5nSVM4UkJlbDMvK3Y3aisxSUVQVkJnQjRQS0YvRWhvQTBPNC9rbHhXWVBnQ1VMekV2TG9IQVBEdVB4SG1OVjFFUUlXOEFvMTY5ZjhQN3o4RmtlODVNZnRQdk1lSzVSNEFNTzgvVlJGejhxeUJpanlVTklMMS8wL3ZQMFBIMTlSQlA0bzhhMHlwL1A5djd6OTFlSmdjOUFKaXZFSEUrZUgvais4L1MrZDM5TkY5ZHp4KzQrRFMvNi92UHpHamZKb1pBVys4bnVSM0hBRFE3eit4ck01TDdvRnhQREhENFBmLzcrOC9Xb2R3QVRjRmJyeHVZR1gwL3cvd1A5b0tIRW10Zm9xOFdIcUc4Lzh2OEQvZ3N2ekRhWCtYdkJjTi9QMy9UL0EvVzVUTE5QNi9senlDVGMwREFIRHdQOHRXNU1DREFJSTg2TXZ5K2YrUDhEOGFkVGUrMy85dHZHWGFEQUVBc1BBLzZ5Ym1ybjgva2J3NDA2UUJBTkR3UC9lZlNIbjZmWUE4L2YzYSt2L3Y4RC9BYTlad0JRUjN2SmI5dWdzQUVQRS9ZZ3R0aE5TQWpqeGQ5T1g2L3kveFArODIvV1Q2djUwODJaclZEUUJROFQrdVVCSndkd0NhUEpwVklROEFjUEUvN3Q3ajR2bjlqVHdtVkNmOC80L3hQM055Tzl3d0FKRThXVHc5RWdDdzhUK0lBUU9BZVgrWlBMZWVLZmovei9FL1o0eWZxekw1WmJ3QTFJcjAvKy94UCt0YnA1Mi9mNU04cElhTERBQVE4ajhpVy8yUmE0Q2ZQQU5EaFFNQU1QSS9NNytmNjhML2t6eUU5cnovLzAveVAzSXVMbjduQVhZODJTRXA5Zjl2OGo5aERIOTJ1L3gvUER3Nmt4UUFrUEkvSzBFQ1BNb0NjcndUWTFVVUFMRHlQd0lmOGpPQ2dKSzhPMUwrNi8vUDhqL3kzRTg0ZnYrSXZKYXR1QXNBOFBJL3hVRXdVRkgvaGJ5djRucjcvdy96UDUwb1hvaHhBSUc4ZjErcy92OHY4ejhWdDdjL1hmK1J2RlpucGd3QVVQTS92WUtMSW9KL2xUd2g5L3NSQUhEelA4elZEY1M2QUlBOHVTOVorZitQOHo5UnA3SXRuVCtVdkVMUzNRUUFzUE0vNFRoMmNHdC9oVHhYeWJMMS84L3pQekVTdnhBNkFubzhHTFN3NnYvdjh6K3dVckZtYlgrWVBQU3ZNaFVBRVBRL0pJVVpYemY0Wnp3cGkwY1hBREQwUDBOUjNITG1BWU04WTdTVjUvOVA5RDlhaWJLNGFmK0pQT0IxQk9qL2IvUS9WUExDbTdIQWxiem53Vy92LzQvMFAzSXFPdklKUUpzOEJLZSs1Zit2OUQ5RmZRMi90LytVdk40bkVCY0EwUFEvUFdyY2NXVEFtYnppUHZBUEFQRDBQeHhUaFF1SmY1YzgwVXZjRWdBUTlUODJwR1p4WlFSZ1BIb25CUllBTVBVL0NUSWp6czYvbHJ4TWNOdnMvMC8xUDllaEJRVnlBb204cVZSZjcvOXY5VDhTWk1rTzVyK2JQQklRNWhjQWtQVS9rTyt2Z2NWK2lEeVNQc2tEQUxEMVA4QU12d29JUVorOHZCbEpIUURROVQ4cFJ5WDdLb0dZdklsNnVPZi83L1UvQkdudGdMZCtsTHdBUWRUZEFBdW1Dd0lBQUFBREFBQUFCUUFBQUFjQUFBQUxBQUFBRFFBQUFCRUFBQUFUQUFBQUZ3QUFBQjBBQUFBZkFBQUFKUUFBQUNrQUFBQXJBQUFBTHdBQUFEVUFBQUE3QUFBQVBRQUFBRU1BQUFCSEFBQUFTUUFBQUU4QUFBQlRBQUFBV1FBQUFHRUFBQUJsQUFBQVp3QUFBR3NBQUFCdEFBQUFjUUFBQUg4QUFBQ0RBQUFBaVFBQUFJc0FBQUNWQUFBQWx3QUFBSjBBQUFDakFBQUFwd0FBQUswQUFBQ3pBQUFBdFFBQUFMOEFBQURCQUFBQXhRQUFBTWNBQUFEVEFBQUFBUUFBQUFzQUFBQU5BQUFBRVFBQUFCTUFBQUFYQUFBQUhRQUFBQjhBQUFBbEFBQUFLUUFBQUNzQUFBQXZBQUFBTlFBQUFEc0FBQUE5QUFBQVF3QUFBRWNBQUFCSkFBQUFUd0FBQUZNQUFBQlpBQUFBWVFBQUFHVUFBQUJuQUFBQWF3QUFBRzBBQUFCeEFBQUFlUUFBQUg4QUFBQ0RBQUFBaVFBQUFJc0FBQUNQQUFBQWxRQUFBSmNBQUFDZEFBQUFvd0FBQUtjQUFBQ3BBQUFBclFBQUFMTUFBQUMxQUFBQXV3QUFBTDhBQUFEQkFBQUF4UUFBQU1jQUFBRFJBQUFBQUFBQUFJQXdBQUJrQUFBQVpRQUFBQ29BQUFCT1UzUXpYMTh5TVRSZlgzTm9ZWEpsWkY5amIzVnVkRVVBQUFBQWNETUFBR1F3QUFBQUFBQUF4REFBQUdRQUFBQm1BQUFBS2dBQUFESUFBQUFxQUFBQVRsTjBNMTlmTWpFNVgxOXphR0Z5WldSZmQyVmhhMTlqYjNWdWRFVUFBQUQwTXdBQXBEQUFBQUFBQUFBQkFBQUFnREFBQUFBQUFBQk9NVEJmWDJONGVHRmlhWFl4TVRaZlgzTm9hVzFmZEhsd1pWOXBibVp2UlFBQUFBQ1lNd0FBM0RBQUFIUTBBQUJPTVRCZlgyTjRlR0ZpYVhZeE1UZGZYMk5zWVhOelgzUjVjR1ZmYVc1bWIwVUFBQUNZTXdBQURERUFBQUF4QUFCT01UQmZYMk40ZUdGaWFYWXhNVGRmWDNCaVlYTmxYM1I1Y0dWZmFXNW1iMFVBQUFDWU13QUFQREVBQUFBeEFBQk9NVEJmWDJONGVHRmlhWFl4TVRsZlgzQnZhVzUwWlhKZmRIbHdaVjlwYm1adlJRQ1lNd0FBYkRFQUFHQXhBQUJPTVRCZlgyTjRlR0ZpYVhZeE1qQmZYMloxYm1OMGFXOXVYM1I1Y0dWZmFXNW1iMFVBQUFBQW1ETUFBSnd4QUFBQU1RQUFUakV3WDE5amVIaGhZbWwyTVRJNVgxOXdiMmx1ZEdWeVgzUnZYMjFsYldKbGNsOTBlWEJsWDJsdVptOUZBQUFBbURNQUFOQXhBQUJnTVFBQUFBQUFBRkF5QUFCbkFBQUFhQUFBQUdrQUFBQnFBQUFBYXdBQUFFNHhNRjlmWTNoNFlXSnBkakV5TTE5ZlpuVnVaR0Z0Wlc1MFlXeGZkSGx3WlY5cGJtWnZSUUNZTXdBQUtESUFBQUF4QUFCMkFBQUFGRElBQUZ3eUFBQkViZ0FBRkRJQUFHZ3lBQUJpQUFBQUZESUFBSFF5QUFCakFBQUFGRElBQUlBeUFBQm9BQUFBRkRJQUFJd3lBQUJoQUFBQUZESUFBSmd5QUFCekFBQUFGRElBQUtReUFBQjBBQUFBRkRJQUFMQXlBQUJwQUFBQUZESUFBTHd5QUFCcUFBQUFGRElBQU1neUFBQnNBQUFBRkRJQUFOUXlBQUJ0QUFBQUZESUFBT0F5QUFCNEFBQUFGRElBQU93eUFBQjVBQUFBRkRJQUFQZ3lBQUJtQUFBQUZESUFBQVF6QUFCa0FBQUFGRElBQUJBekFBQUFBQUFBWERNQUFHY0FBQUJzQUFBQWFRQUFBR29BQUFCdEFBQUFUakV3WDE5amVIaGhZbWwyTVRFMlgxOWxiblZ0WDNSNWNHVmZhVzVtYjBVQUFBQUFtRE1BQURnekFBQUFNUUFBQUFBQUFEQXhBQUJuQUFBQWJnQUFBR2tBQUFCcUFBQUFid0FBQUhBQUFBQnhBQUFBY2dBQUFBQUFBQURnTXdBQVp3QUFBSE1BQUFCcEFBQUFhZ0FBQUc4QUFBQjBBQUFBZFFBQUFIWUFBQUJPTVRCZlgyTjRlR0ZpYVhZeE1qQmZYM05wWDJOc1lYTnpYM1I1Y0dWZmFXNW1iMFVBQUFBQW1ETUFBTGd6QUFBd01RQUFBQUFBQUR3MEFBQm5BQUFBZHdBQUFHa0FBQUJxQUFBQWJ3QUFBSGdBQUFCNUFBQUFlZ0FBQUU0eE1GOWZZM2g0WVdKcGRqRXlNVjlmZG0xcFgyTnNZWE56WDNSNWNHVmZhVzVtYjBVQUFBQ1lNd0FBRkRRQUFEQXhBQUFBQUFBQWtERUFBR2NBQUFCN0FBQUFhUUFBQUdvQUFBQjhBQUFBVTNRNWRIbHdaVjlwYm1adkFBQUFBSEF6QUFCa05BQkJxT2tBQ3djQkFBQUFJRHBRQUJvUGRHRnlaMlYwWDJabFlYUjFjbVZ6QVNzSGMybHRaREV5T0E9PSIpfHwoTD1mdW5jdGlvbiBsb2NhdGVGaWxlKEEpe3JldHVybiBnLmxvY2F0ZUZpbGU/Zy5sb2NhdGVGaWxlKEEsYSk6YStBfShMKSk7dmFyIFQ9dm9pZCAwO2Z1bmN0aW9uIHJlYWRMYXRpbjFTdHJpbmcoQSl7Zm9yKHZhciBnPSIiLEk9QTtoW0ldOylnKz1UW2hbSSsrXV07cmV0dXJuIGd9dmFyIHE9e30sYj17fSx4PXt9LHY9NDgsUD01NztmdW5jdGlvbiBtYWtlTGVnYWxGdW5jdGlvbk5hbWUoQSl7aWYodm9pZCAwPT09QSlyZXR1cm4iX3Vua25vd24iO3ZhciBnPShBPUEucmVwbGFjZSgvW15hLXpBLVowLTlfXS9nLCIkIikpLmNoYXJDb2RlQXQoMCk7cmV0dXJuIGc+PXYmJmc8PVA/Il8iK0E6QX1mdW5jdGlvbiBjcmVhdGVOYW1lZEZ1bmN0aW9uKEEsZyl7cmV0dXJuIEE9bWFrZUxlZ2FsRnVuY3Rpb25OYW1lKEEpLG5ldyBGdW5jdGlvbigiYm9keSIsInJldHVybiBmdW5jdGlvbiAiK0ErJygpIHtcbiAgICAidXNlIHN0cmljdCI7ICAgIHJldHVybiBib2R5LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59O1xuJykoZyl9ZnVuY3Rpb24gZXh0ZW5kRXJyb3IoQSxnKXt2YXIgST1jcmVhdGVOYW1lZEZ1bmN0aW9uKGcsKGZ1bmN0aW9uKEEpe3RoaXMubmFtZT1nLHRoaXMubWVzc2FnZT1BO3ZhciBJPW5ldyBFcnJvcihBKS5zdGFjazt2b2lkIDAhPT1JJiYodGhpcy5zdGFjaz10aGlzLnRvU3RyaW5nKCkrIlxuIitJLnJlcGxhY2UoL15FcnJvcig6W15cbl0qKT9cbi8sIiIpKX0pKTtyZXR1cm4gSS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShBLnByb3RvdHlwZSksSS5wcm90b3R5cGUuY29uc3RydWN0b3I9SSxJLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB2b2lkIDA9PT10aGlzLm1lc3NhZ2U/dGhpcy5uYW1lOnRoaXMubmFtZSsiOiAiK3RoaXMubWVzc2FnZX0sSX12YXIgej12b2lkIDA7ZnVuY3Rpb24gdGhyb3dCaW5kaW5nRXJyb3IoQSl7dGhyb3cgbmV3IHooQSl9dmFyIFg9dm9pZCAwO2Z1bmN0aW9uIHRocm93SW50ZXJuYWxFcnJvcihBKXt0aHJvdyBuZXcgWChBKX1mdW5jdGlvbiB3aGVuRGVwZW5kZW50VHlwZXNBcmVSZXNvbHZlZChBLGcsSSl7ZnVuY3Rpb24gb25Db21wbGV0ZShnKXt2YXIgQz1JKGcpO0MubGVuZ3RoIT09QS5sZW5ndGgmJnRocm93SW50ZXJuYWxFcnJvcigiTWlzbWF0Y2hlZCB0eXBlIGNvbnZlcnRlciBjb3VudCIpO2Zvcih2YXIgQj0wO0I8QS5sZW5ndGg7KytCKXJlZ2lzdGVyVHlwZShBW0JdLENbQl0pfUEuZm9yRWFjaCgoZnVuY3Rpb24oQSl7eFtBXT1nfSkpO3ZhciBDPW5ldyBBcnJheShnLmxlbmd0aCksQj1bXSxFPTA7Zy5mb3JFYWNoKCgoQSxnKT0+e2IuaGFzT3duUHJvcGVydHkoQSk/Q1tnXT1iW0FdOihCLnB1c2goQSkscS5oYXNPd25Qcm9wZXJ0eShBKXx8KHFbQV09W10pLHFbQV0ucHVzaCgoKCk9PntDW2ddPWJbQV0sKytFPT09Qi5sZW5ndGgmJm9uQ29tcGxldGUoQyl9KSkpfSkpLDA9PT1CLmxlbmd0aCYmb25Db21wbGV0ZShDKX1mdW5jdGlvbiByZWdpc3RlclR5cGUoQSxnLEk9e30pe2lmKCEoImFyZ1BhY2tBZHZhbmNlImluIGcpKXRocm93IG5ldyBUeXBlRXJyb3IoInJlZ2lzdGVyVHlwZSByZWdpc3RlcmVkSW5zdGFuY2UgcmVxdWlyZXMgYXJnUGFja0FkdmFuY2UiKTt2YXIgQz1nLm5hbWU7aWYoQXx8dGhyb3dCaW5kaW5nRXJyb3IoJ3R5cGUgIicrQysnIiBtdXN0IGhhdmUgYSBwb3NpdGl2ZSBpbnRlZ2VyIHR5cGVpZCBwb2ludGVyJyksYi5oYXNPd25Qcm9wZXJ0eShBKSl7aWYoSS5pZ25vcmVEdXBsaWNhdGVSZWdpc3RyYXRpb25zKXJldHVybjt0aHJvd0JpbmRpbmdFcnJvcigiQ2Fubm90IHJlZ2lzdGVyIHR5cGUgJyIrQysiJyB0d2ljZSIpfWlmKGJbQV09ZyxkZWxldGUgeFtBXSxxLmhhc093blByb3BlcnR5KEEpKXt2YXIgQj1xW0FdO2RlbGV0ZSBxW0FdLEIuZm9yRWFjaCgoQT0+QSgpKSl9fWZ1bmN0aW9uIGludGVnZXJSZWFkVmFsdWVGcm9tUG9pbnRlcihBLGcsSSl7c3dpdGNoKGcpe2Nhc2UgMDpyZXR1cm4gST9mdW5jdGlvbiByZWFkUzhGcm9tUG9pbnRlcihBKXtyZXR1cm4geVtBXX06ZnVuY3Rpb24gcmVhZFU4RnJvbVBvaW50ZXIoQSl7cmV0dXJuIGhbQV19O2Nhc2UgMTpyZXR1cm4gST9mdW5jdGlvbiByZWFkUzE2RnJvbVBvaW50ZXIoQSl7cmV0dXJuIFlbQT4+MV19OmZ1bmN0aW9uIHJlYWRVMTZGcm9tUG9pbnRlcihBKXtyZXR1cm4gTltBPj4xXX07Y2FzZSAyOnJldHVybiBJP2Z1bmN0aW9uIHJlYWRTMzJGcm9tUG9pbnRlcihBKXtyZXR1cm4gY1tBPj4yXX06ZnVuY3Rpb24gcmVhZFUzMkZyb21Qb2ludGVyKEEpe3JldHVybiBHW0E+PjJdfTtjYXNlIDM6cmV0dXJuIEk/ZnVuY3Rpb24gcmVhZFM2NEZyb21Qb2ludGVyKEEpe3JldHVybiBSW0E+PjNdfTpmdW5jdGlvbiByZWFkVTY0RnJvbVBvaW50ZXIoQSl7cmV0dXJuIEZbQT4+M119O2RlZmF1bHQ6dGhyb3cgbmV3IFR5cGVFcnJvcigiVW5rbm93biBpbnRlZ2VyIHR5cGU6ICIrQSl9fWZ1bmN0aW9uIGdldFNoaWZ0RnJvbVNpemUoQSl7c3dpdGNoKEEpe2Nhc2UgMTpyZXR1cm4gMDtjYXNlIDI6cmV0dXJuIDE7Y2FzZSA0OnJldHVybiAyO2Nhc2UgODpyZXR1cm4gMztkZWZhdWx0OnRocm93IG5ldyBUeXBlRXJyb3IoIlVua25vd24gdHlwZSBzaXplOiAiK0EpfX1mdW5jdGlvbiBDbGFzc0hhbmRsZV9pc0FsaWFzT2YoQSl7aWYoISh0aGlzIGluc3RhbmNlb2YgQ2xhc3NIYW5kbGUpKXJldHVybiExO2lmKCEoQSBpbnN0YW5jZW9mIENsYXNzSGFuZGxlKSlyZXR1cm4hMTtmb3IodmFyIGc9dGhpcy4kJC5wdHJUeXBlLnJlZ2lzdGVyZWRDbGFzcyxJPXRoaXMuJCQucHRyLEM9QS4kJC5wdHJUeXBlLnJlZ2lzdGVyZWRDbGFzcyxCPUEuJCQucHRyO2cuYmFzZUNsYXNzOylJPWcudXBjYXN0KEkpLGc9Zy5iYXNlQ2xhc3M7Zm9yKDtDLmJhc2VDbGFzczspQj1DLnVwY2FzdChCKSxDPUMuYmFzZUNsYXNzO3JldHVybiBnPT09QyYmST09PUJ9ZnVuY3Rpb24gdGhyb3dJbnN0YW5jZUFscmVhZHlEZWxldGVkKEEpe3Rocm93QmluZGluZ0Vycm9yKGZ1bmN0aW9uIGdldEluc3RhbmNlVHlwZU5hbWUoQSl7cmV0dXJuIEEuJCQucHRyVHlwZS5yZWdpc3RlcmVkQ2xhc3MubmFtZX0oQSkrIiBpbnN0YW5jZSBhbHJlYWR5IGRlbGV0ZWQiKX12YXIgVz0hMTtmdW5jdGlvbiBkZXRhY2hGaW5hbGl6ZXIoQSl7fWZ1bmN0aW9uIHJlbGVhc2VDbGFzc0hhbmRsZShBKXtBLmNvdW50LnZhbHVlLT0xLDA9PT1BLmNvdW50LnZhbHVlJiZmdW5jdGlvbiBydW5EZXN0cnVjdG9yKEEpe0Euc21hcnRQdHI/QS5zbWFydFB0clR5cGUucmF3RGVzdHJ1Y3RvcihBLnNtYXJ0UHRyKTpBLnB0clR5cGUucmVnaXN0ZXJlZENsYXNzLnJhd0Rlc3RydWN0b3IoQS5wdHIpfShBKX1mdW5jdGlvbiBkb3duY2FzdFBvaW50ZXIoQSxnLEkpe2lmKGc9PT1JKXJldHVybiBBO2lmKHZvaWQgMD09PUkuYmFzZUNsYXNzKXJldHVybiBudWxsO3ZhciBDPWRvd25jYXN0UG9pbnRlcihBLGcsSS5iYXNlQ2xhc3MpO3JldHVybiBudWxsPT09Qz9udWxsOkkuZG93bmNhc3QoQyl9dmFyIFY9e307ZnVuY3Rpb24gZ2V0SW5oZXJpdGVkSW5zdGFuY2VDb3VudCgpe3JldHVybiBPYmplY3Qua2V5cyhfKS5sZW5ndGh9ZnVuY3Rpb24gZ2V0TGl2ZUluaGVyaXRlZEluc3RhbmNlcygpe3ZhciBBPVtdO2Zvcih2YXIgZyBpbiBfKV8uaGFzT3duUHJvcGVydHkoZykmJkEucHVzaChfW2ddKTtyZXR1cm4gQX12YXIgWj1bXTtmdW5jdGlvbiBmbHVzaFBlbmRpbmdEZWxldGVzKCl7Zm9yKDtaLmxlbmd0aDspe3ZhciBBPVoucG9wKCk7QS4kJC5kZWxldGVTY2hlZHVsZWQ9ITEsQS5kZWxldGUoKX19dmFyIE89dm9pZCAwO2Z1bmN0aW9uIHNldERlbGF5RnVuY3Rpb24oQSl7Tz1BLFoubGVuZ3RoJiZPJiZPKGZsdXNoUGVuZGluZ0RlbGV0ZXMpfXZhciBfPXt9O2Z1bmN0aW9uIGdldEluaGVyaXRlZEluc3RhbmNlKEEsZyl7cmV0dXJuIGc9ZnVuY3Rpb24gZ2V0QmFzZXN0UG9pbnRlcihBLGcpe2Zvcih2b2lkIDA9PT1nJiZ0aHJvd0JpbmRpbmdFcnJvcigicHRyIHNob3VsZCBub3QgYmUgdW5kZWZpbmVkIik7QS5iYXNlQ2xhc3M7KWc9QS51cGNhc3QoZyksQT1BLmJhc2VDbGFzcztyZXR1cm4gZ30oQSxnKSxfW2ddfWZ1bmN0aW9uIG1ha2VDbGFzc0hhbmRsZShBLGcpe3JldHVybiBnLnB0clR5cGUmJmcucHRyfHx0aHJvd0ludGVybmFsRXJyb3IoIm1ha2VDbGFzc0hhbmRsZSByZXF1aXJlcyBwdHIgYW5kIHB0clR5cGUiKSwhIWcuc21hcnRQdHJUeXBlIT0hIWcuc21hcnRQdHImJnRocm93SW50ZXJuYWxFcnJvcigiQm90aCBzbWFydFB0clR5cGUgYW5kIHNtYXJ0UHRyIG11c3QgYmUgc3BlY2lmaWVkIiksZy5jb3VudD17dmFsdWU6MX0sYXR0YWNoRmluYWxpemVyKE9iamVjdC5jcmVhdGUoQSx7JCQ6e3ZhbHVlOmd9fSkpfWZ1bmN0aW9uIFJlZ2lzdGVyZWRQb2ludGVyX2Zyb21XaXJlVHlwZShBKXt2YXIgZz10aGlzLmdldFBvaW50ZWUoQSk7aWYoIWcpcmV0dXJuIHRoaXMuZGVzdHJ1Y3RvcihBKSxudWxsO3ZhciBJPWdldEluaGVyaXRlZEluc3RhbmNlKHRoaXMucmVnaXN0ZXJlZENsYXNzLGcpO2lmKHZvaWQgMCE9PUkpe2lmKDA9PT1JLiQkLmNvdW50LnZhbHVlKXJldHVybiBJLiQkLnB0cj1nLEkuJCQuc21hcnRQdHI9QSxJLmNsb25lKCk7dmFyIEM9SS5jbG9uZSgpO3JldHVybiB0aGlzLmRlc3RydWN0b3IoQSksQ31mdW5jdGlvbiBtYWtlRGVmYXVsdEhhbmRsZSgpe3JldHVybiB0aGlzLmlzU21hcnRQb2ludGVyP21ha2VDbGFzc0hhbmRsZSh0aGlzLnJlZ2lzdGVyZWRDbGFzcy5pbnN0YW5jZVByb3RvdHlwZSx7cHRyVHlwZTp0aGlzLnBvaW50ZWVUeXBlLHB0cjpnLHNtYXJ0UHRyVHlwZTp0aGlzLHNtYXJ0UHRyOkF9KTptYWtlQ2xhc3NIYW5kbGUodGhpcy5yZWdpc3RlcmVkQ2xhc3MuaW5zdGFuY2VQcm90b3R5cGUse3B0clR5cGU6dGhpcyxwdHI6QX0pfXZhciBCLEU9dGhpcy5yZWdpc3RlcmVkQ2xhc3MuZ2V0QWN0dWFsVHlwZShnKSxRPVZbRV07aWYoIVEpcmV0dXJuIG1ha2VEZWZhdWx0SGFuZGxlLmNhbGwodGhpcyk7Qj10aGlzLmlzQ29uc3Q/US5jb25zdFBvaW50ZXJUeXBlOlEucG9pbnRlclR5cGU7dmFyIG89ZG93bmNhc3RQb2ludGVyKGcsdGhpcy5yZWdpc3RlcmVkQ2xhc3MsQi5yZWdpc3RlcmVkQ2xhc3MpO3JldHVybiBudWxsPT09bz9tYWtlRGVmYXVsdEhhbmRsZS5jYWxsKHRoaXMpOnRoaXMuaXNTbWFydFBvaW50ZXI/bWFrZUNsYXNzSGFuZGxlKEIucmVnaXN0ZXJlZENsYXNzLmluc3RhbmNlUHJvdG90eXBlLHtwdHJUeXBlOkIscHRyOm8sc21hcnRQdHJUeXBlOnRoaXMsc21hcnRQdHI6QX0pOm1ha2VDbGFzc0hhbmRsZShCLnJlZ2lzdGVyZWRDbGFzcy5pbnN0YW5jZVByb3RvdHlwZSx7cHRyVHlwZTpCLHB0cjpvfSl9ZnVuY3Rpb24gYXR0YWNoRmluYWxpemVyKEEpe3JldHVybiJ1bmRlZmluZWQiPT10eXBlb2YgRmluYWxpemF0aW9uUmVnaXN0cnk/KGF0dGFjaEZpbmFsaXplcj1BPT5BLEEpOihXPW5ldyBGaW5hbGl6YXRpb25SZWdpc3RyeSgoQT0+e3JlbGVhc2VDbGFzc0hhbmRsZShBLiQkKX0pKSxkZXRhY2hGaW5hbGl6ZXI9QT0+Vy51bnJlZ2lzdGVyKEEpLChhdHRhY2hGaW5hbGl6ZXI9QT0+e3ZhciBnPUEuJCQ7aWYoZy5zbWFydFB0cil7dmFyIEk9eyQkOmd9O1cucmVnaXN0ZXIoQSxJLEEpfXJldHVybiBBfSkoQSkpfWZ1bmN0aW9uIENsYXNzSGFuZGxlX2Nsb25lKCl7aWYodGhpcy4kJC5wdHJ8fHRocm93SW5zdGFuY2VBbHJlYWR5RGVsZXRlZCh0aGlzKSx0aGlzLiQkLnByZXNlcnZlUG9pbnRlck9uRGVsZXRlKXJldHVybiB0aGlzLiQkLmNvdW50LnZhbHVlKz0xLHRoaXM7dmFyIEEsZz1hdHRhY2hGaW5hbGl6ZXIoT2JqZWN0LmNyZWF0ZShPYmplY3QuZ2V0UHJvdG90eXBlT2YodGhpcykseyQkOnt2YWx1ZTooQT10aGlzLiQkLHtjb3VudDpBLmNvdW50LGRlbGV0ZVNjaGVkdWxlZDpBLmRlbGV0ZVNjaGVkdWxlZCxwcmVzZXJ2ZVBvaW50ZXJPbkRlbGV0ZTpBLnByZXNlcnZlUG9pbnRlck9uRGVsZXRlLHB0cjpBLnB0cixwdHJUeXBlOkEucHRyVHlwZSxzbWFydFB0cjpBLnNtYXJ0UHRyLHNtYXJ0UHRyVHlwZTpBLnNtYXJ0UHRyVHlwZX0pfX0pKTtyZXR1cm4gZy4kJC5jb3VudC52YWx1ZSs9MSxnLiQkLmRlbGV0ZVNjaGVkdWxlZD0hMSxnfWZ1bmN0aW9uIENsYXNzSGFuZGxlX2RlbGV0ZSgpe3RoaXMuJCQucHRyfHx0aHJvd0luc3RhbmNlQWxyZWFkeURlbGV0ZWQodGhpcyksdGhpcy4kJC5kZWxldGVTY2hlZHVsZWQmJiF0aGlzLiQkLnByZXNlcnZlUG9pbnRlck9uRGVsZXRlJiZ0aHJvd0JpbmRpbmdFcnJvcigiT2JqZWN0IGFscmVhZHkgc2NoZWR1bGVkIGZvciBkZWxldGlvbiIpLGRldGFjaEZpbmFsaXplcih0aGlzKSxyZWxlYXNlQ2xhc3NIYW5kbGUodGhpcy4kJCksdGhpcy4kJC5wcmVzZXJ2ZVBvaW50ZXJPbkRlbGV0ZXx8KHRoaXMuJCQuc21hcnRQdHI9dm9pZCAwLHRoaXMuJCQucHRyPXZvaWQgMCl9ZnVuY3Rpb24gQ2xhc3NIYW5kbGVfaXNEZWxldGVkKCl7cmV0dXJuIXRoaXMuJCQucHRyfWZ1bmN0aW9uIENsYXNzSGFuZGxlX2RlbGV0ZUxhdGVyKCl7cmV0dXJuIHRoaXMuJCQucHRyfHx0aHJvd0luc3RhbmNlQWxyZWFkeURlbGV0ZWQodGhpcyksdGhpcy4kJC5kZWxldGVTY2hlZHVsZWQmJiF0aGlzLiQkLnByZXNlcnZlUG9pbnRlck9uRGVsZXRlJiZ0aHJvd0JpbmRpbmdFcnJvcigiT2JqZWN0IGFscmVhZHkgc2NoZWR1bGVkIGZvciBkZWxldGlvbiIpLFoucHVzaCh0aGlzKSwxPT09Wi5sZW5ndGgmJk8mJk8oZmx1c2hQZW5kaW5nRGVsZXRlcyksdGhpcy4kJC5kZWxldGVTY2hlZHVsZWQ9ITAsdGhpc31mdW5jdGlvbiBDbGFzc0hhbmRsZSgpe31mdW5jdGlvbiBlbnN1cmVPdmVybG9hZFRhYmxlKEEsZyxJKXtpZih2b2lkIDA9PT1BW2ddLm92ZXJsb2FkVGFibGUpe3ZhciBDPUFbZ107QVtnXT1mdW5jdGlvbigpe3JldHVybiBBW2ddLm92ZXJsb2FkVGFibGUuaGFzT3duUHJvcGVydHkoYXJndW1lbnRzLmxlbmd0aCl8fHRocm93QmluZGluZ0Vycm9yKCJGdW5jdGlvbiAnIitJKyInIGNhbGxlZCB3aXRoIGFuIGludmFsaWQgbnVtYmVyIG9mIGFyZ3VtZW50cyAoIithcmd1bWVudHMubGVuZ3RoKyIpIC0gZXhwZWN0cyBvbmUgb2YgKCIrQVtnXS5vdmVybG9hZFRhYmxlKyIpISIpLEFbZ10ub3ZlcmxvYWRUYWJsZVthcmd1bWVudHMubGVuZ3RoXS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LEFbZ10ub3ZlcmxvYWRUYWJsZT1bXSxBW2ddLm92ZXJsb2FkVGFibGVbQy5hcmdDb3VudF09Q319ZnVuY3Rpb24gZXhwb3NlUHVibGljU3ltYm9sKEEsSSxDKXtnLmhhc093blByb3BlcnR5KEEpPygodm9pZCAwPT09Q3x8dm9pZCAwIT09Z1tBXS5vdmVybG9hZFRhYmxlJiZ2b2lkIDAhPT1nW0FdLm92ZXJsb2FkVGFibGVbQ10pJiZ0aHJvd0JpbmRpbmdFcnJvcigiQ2Fubm90IHJlZ2lzdGVyIHB1YmxpYyBuYW1lICciK0ErIicgdHdpY2UiKSxlbnN1cmVPdmVybG9hZFRhYmxlKGcsQSxBKSxnLmhhc093blByb3BlcnR5KEMpJiZ0aHJvd0JpbmRpbmdFcnJvcigiQ2Fubm90IHJlZ2lzdGVyIG11bHRpcGxlIG92ZXJsb2FkcyBvZiBhIGZ1bmN0aW9uIHdpdGggdGhlIHNhbWUgbnVtYmVyIG9mIGFyZ3VtZW50cyAoIitDKyIpISIpLGdbQV0ub3ZlcmxvYWRUYWJsZVtDXT1JKTooZ1tBXT1JLHZvaWQgMCE9PUMmJihnW0FdLm51bUFyZ3VtZW50cz1DKSl9ZnVuY3Rpb24gUmVnaXN0ZXJlZENsYXNzKEEsZyxJLEMsQixFLFEsbyl7dGhpcy5uYW1lPUEsdGhpcy5jb25zdHJ1Y3Rvcj1nLHRoaXMuaW5zdGFuY2VQcm90b3R5cGU9SSx0aGlzLnJhd0Rlc3RydWN0b3I9Qyx0aGlzLmJhc2VDbGFzcz1CLHRoaXMuZ2V0QWN0dWFsVHlwZT1FLHRoaXMudXBjYXN0PVEsdGhpcy5kb3duY2FzdD1vLHRoaXMucHVyZVZpcnR1YWxGdW5jdGlvbnM9W119ZnVuY3Rpb24gdXBjYXN0UG9pbnRlcihBLGcsSSl7Zm9yKDtnIT09STspZy51cGNhc3R8fHRocm93QmluZGluZ0Vycm9yKCJFeHBlY3RlZCBudWxsIG9yIGluc3RhbmNlIG9mICIrSS5uYW1lKyIsIGdvdCBhbiBpbnN0YW5jZSBvZiAiK2cubmFtZSksQT1nLnVwY2FzdChBKSxnPWcuYmFzZUNsYXNzO3JldHVybiBBfWZ1bmN0aW9uIGNvbnN0Tm9TbWFydFB0clJhd1BvaW50ZXJUb1dpcmVUeXBlKEEsZyl7aWYobnVsbD09PWcpcmV0dXJuIHRoaXMuaXNSZWZlcmVuY2UmJnRocm93QmluZGluZ0Vycm9yKCJudWxsIGlzIG5vdCBhIHZhbGlkICIrdGhpcy5uYW1lKSwwO2cuJCR8fHRocm93QmluZGluZ0Vycm9yKCdDYW5ub3QgcGFzcyAiJytlbWJpbmRSZXByKGcpKyciIGFzIGEgJyt0aGlzLm5hbWUpLGcuJCQucHRyfHx0aHJvd0JpbmRpbmdFcnJvcigiQ2Fubm90IHBhc3MgZGVsZXRlZCBvYmplY3QgYXMgYSBwb2ludGVyIG9mIHR5cGUgIit0aGlzLm5hbWUpO3ZhciBJPWcuJCQucHRyVHlwZS5yZWdpc3RlcmVkQ2xhc3M7cmV0dXJuIHVwY2FzdFBvaW50ZXIoZy4kJC5wdHIsSSx0aGlzLnJlZ2lzdGVyZWRDbGFzcyl9ZnVuY3Rpb24gZ2VuZXJpY1BvaW50ZXJUb1dpcmVUeXBlKEEsZyl7dmFyIEk7aWYobnVsbD09PWcpcmV0dXJuIHRoaXMuaXNSZWZlcmVuY2UmJnRocm93QmluZGluZ0Vycm9yKCJudWxsIGlzIG5vdCBhIHZhbGlkICIrdGhpcy5uYW1lKSx0aGlzLmlzU21hcnRQb2ludGVyPyhJPXRoaXMucmF3Q29uc3RydWN0b3IoKSxudWxsIT09QSYmQS5wdXNoKHRoaXMucmF3RGVzdHJ1Y3RvcixJKSxJKTowO2cuJCR8fHRocm93QmluZGluZ0Vycm9yKCdDYW5ub3QgcGFzcyAiJytlbWJpbmRSZXByKGcpKyciIGFzIGEgJyt0aGlzLm5hbWUpLGcuJCQucHRyfHx0aHJvd0JpbmRpbmdFcnJvcigiQ2Fubm90IHBhc3MgZGVsZXRlZCBvYmplY3QgYXMgYSBwb2ludGVyIG9mIHR5cGUgIit0aGlzLm5hbWUpLCF0aGlzLmlzQ29uc3QmJmcuJCQucHRyVHlwZS5pc0NvbnN0JiZ0aHJvd0JpbmRpbmdFcnJvcigiQ2Fubm90IGNvbnZlcnQgYXJndW1lbnQgb2YgdHlwZSAiKyhnLiQkLnNtYXJ0UHRyVHlwZT9nLiQkLnNtYXJ0UHRyVHlwZS5uYW1lOmcuJCQucHRyVHlwZS5uYW1lKSsiIHRvIHBhcmFtZXRlciB0eXBlICIrdGhpcy5uYW1lKTt2YXIgQz1nLiQkLnB0clR5cGUucmVnaXN0ZXJlZENsYXNzO2lmKEk9dXBjYXN0UG9pbnRlcihnLiQkLnB0cixDLHRoaXMucmVnaXN0ZXJlZENsYXNzKSx0aGlzLmlzU21hcnRQb2ludGVyKXN3aXRjaCh2b2lkIDA9PT1nLiQkLnNtYXJ0UHRyJiZ0aHJvd0JpbmRpbmdFcnJvcigiUGFzc2luZyByYXcgcG9pbnRlciB0byBzbWFydCBwb2ludGVyIGlzIGlsbGVnYWwiKSx0aGlzLnNoYXJpbmdQb2xpY3kpe2Nhc2UgMDpnLiQkLnNtYXJ0UHRyVHlwZT09PXRoaXM/ST1nLiQkLnNtYXJ0UHRyOnRocm93QmluZGluZ0Vycm9yKCJDYW5ub3QgY29udmVydCBhcmd1bWVudCBvZiB0eXBlICIrKGcuJCQuc21hcnRQdHJUeXBlP2cuJCQuc21hcnRQdHJUeXBlLm5hbWU6Zy4kJC5wdHJUeXBlLm5hbWUpKyIgdG8gcGFyYW1ldGVyIHR5cGUgIit0aGlzLm5hbWUpO2JyZWFrO2Nhc2UgMTpJPWcuJCQuc21hcnRQdHI7YnJlYWs7Y2FzZSAyOmlmKGcuJCQuc21hcnRQdHJUeXBlPT09dGhpcylJPWcuJCQuc21hcnRQdHI7ZWxzZXt2YXIgQj1nLmNsb25lKCk7ST10aGlzLnJhd1NoYXJlKEksQ0EudG9IYW5kbGUoKGZ1bmN0aW9uKCl7Qi5kZWxldGUoKX0pKSksbnVsbCE9PUEmJkEucHVzaCh0aGlzLnJhd0Rlc3RydWN0b3IsSSl9YnJlYWs7ZGVmYXVsdDp0aHJvd0JpbmRpbmdFcnJvcigiVW5zdXBwb3J0aW5nIHNoYXJpbmcgcG9saWN5Iil9cmV0dXJuIEl9ZnVuY3Rpb24gbm9uQ29uc3ROb1NtYXJ0UHRyUmF3UG9pbnRlclRvV2lyZVR5cGUoQSxnKXtpZihudWxsPT09ZylyZXR1cm4gdGhpcy5pc1JlZmVyZW5jZSYmdGhyb3dCaW5kaW5nRXJyb3IoIm51bGwgaXMgbm90IGEgdmFsaWQgIit0aGlzLm5hbWUpLDA7Zy4kJHx8dGhyb3dCaW5kaW5nRXJyb3IoJ0Nhbm5vdCBwYXNzICInK2VtYmluZFJlcHIoZykrJyIgYXMgYSAnK3RoaXMubmFtZSksZy4kJC5wdHJ8fHRocm93QmluZGluZ0Vycm9yKCJDYW5ub3QgcGFzcyBkZWxldGVkIG9iamVjdCBhcyBhIHBvaW50ZXIgb2YgdHlwZSAiK3RoaXMubmFtZSksZy4kJC5wdHJUeXBlLmlzQ29uc3QmJnRocm93QmluZGluZ0Vycm9yKCJDYW5ub3QgY29udmVydCBhcmd1bWVudCBvZiB0eXBlICIrZy4kJC5wdHJUeXBlLm5hbWUrIiB0byBwYXJhbWV0ZXIgdHlwZSAiK3RoaXMubmFtZSk7dmFyIEk9Zy4kJC5wdHJUeXBlLnJlZ2lzdGVyZWRDbGFzcztyZXR1cm4gdXBjYXN0UG9pbnRlcihnLiQkLnB0cixJLHRoaXMucmVnaXN0ZXJlZENsYXNzKX1mdW5jdGlvbiBzaW1wbGVSZWFkVmFsdWVGcm9tUG9pbnRlcihBKXtyZXR1cm4gdGhpcy5mcm9tV2lyZVR5cGUoY1tBPj4yXSl9ZnVuY3Rpb24gUmVnaXN0ZXJlZFBvaW50ZXJfZ2V0UG9pbnRlZShBKXtyZXR1cm4gdGhpcy5yYXdHZXRQb2ludGVlJiYoQT10aGlzLnJhd0dldFBvaW50ZWUoQSkpLEF9ZnVuY3Rpb24gUmVnaXN0ZXJlZFBvaW50ZXJfZGVzdHJ1Y3RvcihBKXt0aGlzLnJhd0Rlc3RydWN0b3ImJnRoaXMucmF3RGVzdHJ1Y3RvcihBKX1mdW5jdGlvbiBSZWdpc3RlcmVkUG9pbnRlcl9kZWxldGVPYmplY3QoQSl7bnVsbCE9PUEmJkEuZGVsZXRlKCl9ZnVuY3Rpb24gUmVnaXN0ZXJlZFBvaW50ZXIoQSxnLEksQyxCLEUsUSxvLGksRCxlKXt0aGlzLm5hbWU9QSx0aGlzLnJlZ2lzdGVyZWRDbGFzcz1nLHRoaXMuaXNSZWZlcmVuY2U9SSx0aGlzLmlzQ29uc3Q9Qyx0aGlzLmlzU21hcnRQb2ludGVyPUIsdGhpcy5wb2ludGVlVHlwZT1FLHRoaXMuc2hhcmluZ1BvbGljeT1RLHRoaXMucmF3R2V0UG9pbnRlZT1vLHRoaXMucmF3Q29uc3RydWN0b3I9aSx0aGlzLnJhd1NoYXJlPUQsdGhpcy5yYXdEZXN0cnVjdG9yPWUsQnx8dm9pZCAwIT09Zy5iYXNlQ2xhc3M/dGhpcy50b1dpcmVUeXBlPWdlbmVyaWNQb2ludGVyVG9XaXJlVHlwZTpDPyh0aGlzLnRvV2lyZVR5cGU9Y29uc3ROb1NtYXJ0UHRyUmF3UG9pbnRlclRvV2lyZVR5cGUsdGhpcy5kZXN0cnVjdG9yRnVuY3Rpb249bnVsbCk6KHRoaXMudG9XaXJlVHlwZT1ub25Db25zdE5vU21hcnRQdHJSYXdQb2ludGVyVG9XaXJlVHlwZSx0aGlzLmRlc3RydWN0b3JGdW5jdGlvbj1udWxsKX12YXIgJD1bXTtmdW5jdGlvbiBlbWJpbmRfX3JlcXVpcmVGdW5jdGlvbihBLGcpe0E9cmVhZExhdGluMVN0cmluZyhBKTt2YXIgST1mdW5jdGlvbiBtYWtlRHluQ2FsbGVyKCl7cmV0dXJuIGZ1bmN0aW9uIGdldFdhc21UYWJsZUVudHJ5KEEpe3ZhciBnPSRbQV07cmV0dXJuIGd8fChBPj0kLmxlbmd0aCYmKCQubGVuZ3RoPUErMSksJFtBXT1nPWsuZ2V0KEEpKSxnfShnKX0oKTtyZXR1cm4iZnVuY3Rpb24iIT10eXBlb2YgSSYmdGhyb3dCaW5kaW5nRXJyb3IoInVua25vd24gZnVuY3Rpb24gcG9pbnRlciB3aXRoIHNpZ25hdHVyZSAiK0ErIjogIitnKSxJfXZhciBBQT12b2lkIDA7ZnVuY3Rpb24gZ2V0VHlwZU5hbWUoQSl7dmFyIGc9ZUEoQSksST1yZWFkTGF0aW4xU3RyaW5nKGcpO3JldHVybiBpQShnKSxJfWZ1bmN0aW9uIHRocm93VW5ib3VuZFR5cGVFcnJvcihBLGcpe3ZhciBJPVtdLEM9e307dGhyb3cgZy5mb3JFYWNoKChmdW5jdGlvbiB2aXNpdChBKXtDW0FdfHxiW0FdfHwoeFtBXT94W0FdLmZvckVhY2godmlzaXQpOihJLnB1c2goQSksQ1tBXT0hMCkpfSkpLG5ldyBBQShBKyI6ICIrSS5tYXAoZ2V0VHlwZU5hbWUpLmpvaW4oWyIsICJdKSl9ZnVuY3Rpb24gaGVhcDMyVmVjdG9yVG9BcnJheShBLGcpe2Zvcih2YXIgST1bXSxDPTA7QzxBO0MrKylJLnB1c2goR1tnKzQqQz4+Ml0pO3JldHVybiBJfWZ1bmN0aW9uIHJ1bkRlc3RydWN0b3JzKEEpe2Zvcig7QS5sZW5ndGg7KXt2YXIgZz1BLnBvcCgpO0EucG9wKCkoZyl9fWZ1bmN0aW9uIGNyYWZ0SW52b2tlckZ1bmN0aW9uKEEsZyxJLEMsQil7dmFyIEU9Zy5sZW5ndGg7RTwyJiZ0aHJvd0JpbmRpbmdFcnJvcigiYXJnVHlwZXMgYXJyYXkgc2l6ZSBtaXNtYXRjaCEgTXVzdCBhdCBsZWFzdCBnZXQgcmV0dXJuIHZhbHVlIGFuZCAndGhpcycgdHlwZXMhIik7Zm9yKHZhciBRPW51bGwhPT1nWzFdJiZudWxsIT09SSxvPSExLGk9MTtpPGcubGVuZ3RoOysraSlpZihudWxsIT09Z1tpXSYmdm9pZCAwPT09Z1tpXS5kZXN0cnVjdG9yRnVuY3Rpb24pe289ITA7YnJlYWt9dmFyIEQ9InZvaWQiIT09Z1swXS5uYW1lLGU9IiIsdD0iIjtmb3IoaT0wO2k8RS0yOysraSllKz0oMCE9PWk/IiwgIjoiIikrImFyZyIraSx0Kz0oMCE9PWk/IiwgIjoiIikrImFyZyIraSsiV2lyZWQiO3ZhciByPSJyZXR1cm4gZnVuY3Rpb24gIittYWtlTGVnYWxGdW5jdGlvbk5hbWUoQSkrIigiK2UrIikge1xuaWYgKGFyZ3VtZW50cy5sZW5ndGggIT09ICIrKEUtMikrIikge1xudGhyb3dCaW5kaW5nRXJyb3IoJ2Z1bmN0aW9uICIrQSsiIGNhbGxlZCB3aXRoICcgKyBhcmd1bWVudHMubGVuZ3RoICsgJyBhcmd1bWVudHMsIGV4cGVjdGVkICIrKEUtMikrIiBhcmdzIScpO1xufVxuIjtvJiYocis9InZhciBkZXN0cnVjdG9ycyA9IFtdO1xuIik7dmFyIGE9bz8iZGVzdHJ1Y3RvcnMiOiJudWxsIixNPVsidGhyb3dCaW5kaW5nRXJyb3IiLCJpbnZva2VyIiwiZm4iLCJydW5EZXN0cnVjdG9ycyIsInJldFR5cGUiLCJjbGFzc1BhcmFtIl0sbj1bdGhyb3dCaW5kaW5nRXJyb3IsQyxCLHJ1bkRlc3RydWN0b3JzLGdbMF0sZ1sxXV07Zm9yKFEmJihyKz0idmFyIHRoaXNXaXJlZCA9IGNsYXNzUGFyYW0udG9XaXJlVHlwZSgiK2ErIiwgdGhpcyk7XG4iKSxpPTA7aTxFLTI7KytpKXIrPSJ2YXIgYXJnIitpKyJXaXJlZCA9IGFyZ1R5cGUiK2krIi50b1dpcmVUeXBlKCIrYSsiLCBhcmciK2krIik7IC8vICIrZ1tpKzJdLm5hbWUrIlxuIixNLnB1c2goImFyZ1R5cGUiK2kpLG4ucHVzaChnW2krMl0pO2lmKFEmJih0PSJ0aGlzV2lyZWQiKyh0Lmxlbmd0aD4wPyIsICI6IiIpK3QpLHIrPShEPyJ2YXIgcnYgPSAiOiIiKSsiaW52b2tlcihmbiIrKHQubGVuZ3RoPjA/IiwgIjoiIikrdCsiKTtcbiIsbylyKz0icnVuRGVzdHJ1Y3RvcnMoZGVzdHJ1Y3RvcnMpO1xuIjtlbHNlIGZvcihpPVE/MToyO2k8Zy5sZW5ndGg7KytpKXt2YXIgdz0xPT09aT8idGhpc1dpcmVkIjoiYXJnIisoaS0yKSsiV2lyZWQiO251bGwhPT1nW2ldLmRlc3RydWN0b3JGdW5jdGlvbiYmKHIrPXcrIl9kdG9yKCIrdysiKTsgLy8gIitnW2ldLm5hbWUrIlxuIixNLnB1c2godysiX2R0b3IiKSxuLnB1c2goZ1tpXS5kZXN0cnVjdG9yRnVuY3Rpb24pKX1yZXR1cm4gRCYmKHIrPSJ2YXIgcmV0ID0gcmV0VHlwZS5mcm9tV2lyZVR5cGUocnYpO1xucmV0dXJuIHJldDtcbiIpLHIrPSJ9XG4iLE0ucHVzaChyKSxmdW5jdGlvbiBuZXdfKEEsZyl7aWYoIShBIGluc3RhbmNlb2YgRnVuY3Rpb24pKXRocm93IG5ldyBUeXBlRXJyb3IoIm5ld18gY2FsbGVkIHdpdGggY29uc3RydWN0b3IgdHlwZSAiK3R5cGVvZiBBKyIgd2hpY2ggaXMgbm90IGEgZnVuY3Rpb24iKTt2YXIgST1jcmVhdGVOYW1lZEZ1bmN0aW9uKEEubmFtZXx8InVua25vd25GdW5jdGlvbk5hbWUiLChmdW5jdGlvbigpe30pKTtJLnByb3RvdHlwZT1BLnByb3RvdHlwZTt2YXIgQz1uZXcgSSxCPUEuYXBwbHkoQyxnKTtyZXR1cm4gQiBpbnN0YW5jZW9mIE9iamVjdD9COkN9KEZ1bmN0aW9uLE0pLmFwcGx5KG51bGwsbil9dmFyIGdBPVtdLElBPVt7fSx7dmFsdWU6dm9pZCAwfSx7dmFsdWU6bnVsbH0se3ZhbHVlOiEwfSx7dmFsdWU6ITF9XTtmdW5jdGlvbiBfX2VtdmFsX2RlY3JlZihBKXtBPjQmJjA9PS0tSUFbQV0ucmVmY291bnQmJihJQVtBXT12b2lkIDAsZ0EucHVzaChBKSl9ZnVuY3Rpb24gY291bnRfZW12YWxfaGFuZGxlcygpe2Zvcih2YXIgQT0wLGc9NTtnPElBLmxlbmd0aDsrK2cpdm9pZCAwIT09SUFbZ10mJisrQTtyZXR1cm4gQX1mdW5jdGlvbiBnZXRfZmlyc3RfZW12YWwoKXtmb3IodmFyIEE9NTtBPElBLmxlbmd0aDsrK0EpaWYodm9pZCAwIT09SUFbQV0pcmV0dXJuIElBW0FdO3JldHVybiBudWxsfXZhciBDQT17dG9WYWx1ZTpBPT4oQXx8dGhyb3dCaW5kaW5nRXJyb3IoIkNhbm5vdCB1c2UgZGVsZXRlZCB2YWwuIGhhbmRsZSA9ICIrQSksSUFbQV0udmFsdWUpLHRvSGFuZGxlOkE9Pntzd2l0Y2goQSl7Y2FzZSB2b2lkIDA6cmV0dXJuIDE7Y2FzZSBudWxsOnJldHVybiAyO2Nhc2UhMDpyZXR1cm4gMztjYXNlITE6cmV0dXJuIDQ7ZGVmYXVsdDp2YXIgZz1nQS5sZW5ndGg/Z0EucG9wKCk6SUEubGVuZ3RoO3JldHVybiBJQVtnXT17cmVmY291bnQ6MSx2YWx1ZTpBfSxnfX19O2Z1bmN0aW9uIGVudW1SZWFkVmFsdWVGcm9tUG9pbnRlcihBLGcsSSl7c3dpdGNoKGcpe2Nhc2UgMDpyZXR1cm4gZnVuY3Rpb24oQSl7dmFyIGc9ST95Omg7cmV0dXJuIHRoaXMuZnJvbVdpcmVUeXBlKGdbQV0pfTtjYXNlIDE6cmV0dXJuIGZ1bmN0aW9uKEEpe3ZhciBnPUk/WTpOO3JldHVybiB0aGlzLmZyb21XaXJlVHlwZShnW0E+PjFdKX07Y2FzZSAyOnJldHVybiBmdW5jdGlvbihBKXt2YXIgZz1JP2M6RztyZXR1cm4gdGhpcy5mcm9tV2lyZVR5cGUoZ1tBPj4yXSl9O2RlZmF1bHQ6dGhyb3cgbmV3IFR5cGVFcnJvcigiVW5rbm93biBpbnRlZ2VyIHR5cGU6ICIrQSl9fWZ1bmN0aW9uIHJlcXVpcmVSZWdpc3RlcmVkVHlwZShBLGcpe3ZhciBJPWJbQV07cmV0dXJuIHZvaWQgMD09PUkmJnRocm93QmluZGluZ0Vycm9yKGcrIiBoYXMgdW5rbm93biB0eXBlICIrZ2V0VHlwZU5hbWUoQSkpLEl9ZnVuY3Rpb24gZmxvYXRSZWFkVmFsdWVGcm9tUG9pbnRlcihBLGcpe3N3aXRjaChnKXtjYXNlIDI6cmV0dXJuIGZ1bmN0aW9uKEEpe3JldHVybiB0aGlzLmZyb21XaXJlVHlwZShTW0E+PjJdKX07Y2FzZSAzOnJldHVybiBmdW5jdGlvbihBKXtyZXR1cm4gdGhpcy5mcm9tV2lyZVR5cGUoSltBPj4zXSl9O2RlZmF1bHQ6dGhyb3cgbmV3IFR5cGVFcnJvcigiVW5rbm93biBmbG9hdCB0eXBlOiAiK0EpfX12YXIgQkE9InVuZGVmaW5lZCIhPXR5cGVvZiBUZXh0RGVjb2Rlcj9uZXcgVGV4dERlY29kZXIoInV0Zi0xNmxlIik6dm9pZCAwO2Z1bmN0aW9uIFVURjE2VG9TdHJpbmcoQSxnKXtmb3IodmFyIEk9QSxDPUk+PjEsQj1DK2cvMjshKEM+PUIpJiZOW0NdOykrK0M7aWYoKEk9Qzw8MSktQT4zMiYmQkEpcmV0dXJuIEJBLmRlY29kZShoLnN1YmFycmF5KEEsSSkpO2Zvcih2YXIgRT0iIixRPTA7IShRPj1nLzIpOysrUSl7dmFyIG89WVtBKzIqUT4+MV07aWYoMD09bylicmVhaztFKz1TdHJpbmcuZnJvbUNoYXJDb2RlKG8pfXJldHVybiBFfWZ1bmN0aW9uIHN0cmluZ1RvVVRGMTYoQSxnLEkpe2lmKHZvaWQgMD09PUkmJihJPTIxNDc0ODM2NDcpLEk8MilyZXR1cm4gMDtmb3IodmFyIEM9ZyxCPShJLT0yKTwyKkEubGVuZ3RoP0kvMjpBLmxlbmd0aCxFPTA7RTxCOysrRSl7dmFyIFE9QS5jaGFyQ29kZUF0KEUpO1lbZz4+MV09USxnKz0yfXJldHVybiBZW2c+PjFdPTAsZy1DfWZ1bmN0aW9uIGxlbmd0aEJ5dGVzVVRGMTYoQSl7cmV0dXJuIDIqQS5sZW5ndGh9ZnVuY3Rpb24gVVRGMzJUb1N0cmluZyhBLGcpe2Zvcih2YXIgST0wLEM9IiI7IShJPj1nLzQpOyl7dmFyIEI9Y1tBKzQqST4+Ml07aWYoMD09QilicmVhaztpZigrK0ksQj49NjU1MzYpe3ZhciBFPUItNjU1MzY7Qys9U3RyaW5nLmZyb21DaGFyQ29kZSg1NTI5NnxFPj4xMCw1NjMyMHwxMDIzJkUpfWVsc2UgQys9U3RyaW5nLmZyb21DaGFyQ29kZShCKX1yZXR1cm4gQ31mdW5jdGlvbiBzdHJpbmdUb1VURjMyKEEsZyxJKXtpZih2b2lkIDA9PT1JJiYoST0yMTQ3NDgzNjQ3KSxJPDQpcmV0dXJuIDA7Zm9yKHZhciBDPWcsQj1DK0ktNCxFPTA7RTxBLmxlbmd0aDsrK0Upe3ZhciBRPUEuY2hhckNvZGVBdChFKTtpZihRPj01NTI5NiYmUTw9NTczNDMmJihRPTY1NTM2KygoMTAyMyZRKTw8MTApfDEwMjMmQS5jaGFyQ29kZUF0KCsrRSkpLGNbZz4+Ml09USwoZys9NCkrND5CKWJyZWFrfXJldHVybiBjW2c+PjJdPTAsZy1DfWZ1bmN0aW9uIGxlbmd0aEJ5dGVzVVRGMzIoQSl7Zm9yKHZhciBnPTAsST0wO0k8QS5sZW5ndGg7KytJKXt2YXIgQz1BLmNoYXJDb2RlQXQoSSk7Qz49NTUyOTYmJkM8PTU3MzQzJiYrK0ksZys9NH1yZXR1cm4gZ31mdW5jdGlvbiBleGl0SlMoQSxJKXtzPUEsZnVuY3Rpb24gX3Byb2NfZXhpdChBKXtzPUEsa2VlcFJ1bnRpbWVBbGl2ZSgpfHwoZy5vbkV4aXQmJmcub25FeGl0KEEpLGw9ITApLHF1aXRfKEEsbmV3IEV4aXRTdGF0dXMoQSkpfShBKX0hZnVuY3Rpb24gZW1iaW5kX2luaXRfY2hhckNvZGVzKCl7Zm9yKHZhciBBPW5ldyBBcnJheSgyNTYpLGc9MDtnPDI1NjsrK2cpQVtnXT1TdHJpbmcuZnJvbUNoYXJDb2RlKGcpO1Q9QX0oKSx6PWcuQmluZGluZ0Vycm9yPWV4dGVuZEVycm9yKEVycm9yLCJCaW5kaW5nRXJyb3IiKSxYPWcuSW50ZXJuYWxFcnJvcj1leHRlbmRFcnJvcihFcnJvciwiSW50ZXJuYWxFcnJvciIpLGZ1bmN0aW9uIGluaXRfQ2xhc3NIYW5kbGUoKXtDbGFzc0hhbmRsZS5wcm90b3R5cGUuaXNBbGlhc09mPUNsYXNzSGFuZGxlX2lzQWxpYXNPZixDbGFzc0hhbmRsZS5wcm90b3R5cGUuY2xvbmU9Q2xhc3NIYW5kbGVfY2xvbmUsQ2xhc3NIYW5kbGUucHJvdG90eXBlLmRlbGV0ZT1DbGFzc0hhbmRsZV9kZWxldGUsQ2xhc3NIYW5kbGUucHJvdG90eXBlLmlzRGVsZXRlZD1DbGFzc0hhbmRsZV9pc0RlbGV0ZWQsQ2xhc3NIYW5kbGUucHJvdG90eXBlLmRlbGV0ZUxhdGVyPUNsYXNzSGFuZGxlX2RlbGV0ZUxhdGVyfSgpLGZ1bmN0aW9uIGluaXRfZW1iaW5kKCl7Zy5nZXRJbmhlcml0ZWRJbnN0YW5jZUNvdW50PWdldEluaGVyaXRlZEluc3RhbmNlQ291bnQsZy5nZXRMaXZlSW5oZXJpdGVkSW5zdGFuY2VzPWdldExpdmVJbmhlcml0ZWRJbnN0YW5jZXMsZy5mbHVzaFBlbmRpbmdEZWxldGVzPWZsdXNoUGVuZGluZ0RlbGV0ZXMsZy5zZXREZWxheUZ1bmN0aW9uPXNldERlbGF5RnVuY3Rpb259KCksZnVuY3Rpb24gaW5pdF9SZWdpc3RlcmVkUG9pbnRlcigpe1JlZ2lzdGVyZWRQb2ludGVyLnByb3RvdHlwZS5nZXRQb2ludGVlPVJlZ2lzdGVyZWRQb2ludGVyX2dldFBvaW50ZWUsUmVnaXN0ZXJlZFBvaW50ZXIucHJvdG90eXBlLmRlc3RydWN0b3I9UmVnaXN0ZXJlZFBvaW50ZXJfZGVzdHJ1Y3RvcixSZWdpc3RlcmVkUG9pbnRlci5wcm90b3R5cGUuYXJnUGFja0FkdmFuY2U9OCxSZWdpc3RlcmVkUG9pbnRlci5wcm90b3R5cGUucmVhZFZhbHVlRnJvbVBvaW50ZXI9c2ltcGxlUmVhZFZhbHVlRnJvbVBvaW50ZXIsUmVnaXN0ZXJlZFBvaW50ZXIucHJvdG90eXBlLmRlbGV0ZU9iamVjdD1SZWdpc3RlcmVkUG9pbnRlcl9kZWxldGVPYmplY3QsUmVnaXN0ZXJlZFBvaW50ZXIucHJvdG90eXBlLmZyb21XaXJlVHlwZT1SZWdpc3RlcmVkUG9pbnRlcl9mcm9tV2lyZVR5cGV9KCksQUE9Zy5VbmJvdW5kVHlwZUVycm9yPWV4dGVuZEVycm9yKEVycm9yLCJVbmJvdW5kVHlwZUVycm9yIiksZnVuY3Rpb24gaW5pdF9lbXZhbCgpe2cuY291bnRfZW12YWxfaGFuZGxlcz1jb3VudF9lbXZhbF9oYW5kbGVzLGcuZ2V0X2ZpcnN0X2VtdmFsPWdldF9maXJzdF9lbXZhbH0oKTt2YXIgRUE9ImZ1bmN0aW9uIj09dHlwZW9mIGF0b2I/YXRvYjpmdW5jdGlvbihBKXt2YXIgZyxJLEMsQixFLFEsbz0iQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLz0iLGk9IiIsRD0wO0E9QS5yZXBsYWNlKC9bXkEtWmEtejAtOVwrXC9cPV0vZywiIik7ZG97Zz1vLmluZGV4T2YoQS5jaGFyQXQoRCsrKSk8PDJ8KEI9by5pbmRleE9mKEEuY2hhckF0KEQrKykpKT4+NCxJPSgxNSZCKTw8NHwoRT1vLmluZGV4T2YoQS5jaGFyQXQoRCsrKSkpPj4yLEM9KDMmRSk8PDZ8KFE9by5pbmRleE9mKEEuY2hhckF0KEQrKykpKSxpKz1TdHJpbmcuZnJvbUNoYXJDb2RlKGcpLDY0IT09RSYmKGkrPVN0cmluZy5mcm9tQ2hhckNvZGUoSSkpLDY0IT09USYmKGkrPVN0cmluZy5mcm9tQ2hhckNvZGUoQykpfXdoaWxlKEQ8QS5sZW5ndGgpO3JldHVybiBpfTtmdW5jdGlvbiB0cnlQYXJzZUFzRGF0YVVSSShBKXtpZihpc0RhdGFVUkkoQSkpcmV0dXJuIGZ1bmN0aW9uIGludEFycmF5RnJvbUJhc2U2NChBKXtpZigiYm9vbGVhbiI9PXR5cGVvZiByJiZyKXt2YXIgZz1CdWZmZXIuZnJvbShBLCJiYXNlNjQiKTtyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoZy5idWZmZXIsZy5ieXRlT2Zmc2V0LGcuYnl0ZUxlbmd0aCl9dHJ5e2Zvcih2YXIgST1FQShBKSxDPW5ldyBVaW50OEFycmF5KEkubGVuZ3RoKSxCPTA7QjxJLmxlbmd0aDsrK0IpQ1tCXT1JLmNoYXJDb2RlQXQoQik7cmV0dXJuIEN9Y2F0Y2goRSl7dGhyb3cgbmV3IEVycm9yKCJDb252ZXJ0aW5nIGJhc2U2NCBzdHJpbmcgdG8gYnl0ZXMgZmFpbGVkLiIpfX0oQS5zbGljZShwLmxlbmd0aCkpfXZhciBRQT17YTpmdW5jdGlvbiBfX19hc3NlcnRfZmFpbChBLGcsSSxDKXthYm9ydCgiQXNzZXJ0aW9uIGZhaWxlZDogIitVVEY4VG9TdHJpbmcoQSkrIiwgYXQ6ICIrW2c/VVRGOFRvU3RyaW5nKGcpOiJ1bmtub3duIGZpbGVuYW1lIixJLEM/VVRGOFRvU3RyaW5nKEMpOiJ1bmtub3duIGZ1bmN0aW9uIl0pfSxsOmZ1bmN0aW9uIF9fZW1iaW5kX3JlZ2lzdGVyX2JpZ2ludChBLGcsSSxDLEIpe2c9cmVhZExhdGluMVN0cmluZyhnKTt2YXIgRT1nZXRTaGlmdEZyb21TaXplKEkpLFE9LTEhPWcuaW5kZXhPZigidSIpO1EmJihCPSgxbjw8NjRuKS0xbikscmVnaXN0ZXJUeXBlKEEse25hbWU6Zyxmcm9tV2lyZVR5cGU6ZnVuY3Rpb24oQSl7cmV0dXJuIEF9LHRvV2lyZVR5cGU6ZnVuY3Rpb24oQSxJKXtpZigiYmlnaW50IiE9dHlwZW9mIEkmJiJudW1iZXIiIT10eXBlb2YgSSl0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY29udmVydCAiJytlbWJpbmRSZXByKEkpKyciIHRvICcrdGhpcy5uYW1lKTtpZihJPEN8fEk+Qil0aHJvdyBuZXcgVHlwZUVycm9yKCdQYXNzaW5nIGEgbnVtYmVyICInK2VtYmluZFJlcHIoSSkrJyIgZnJvbSBKUyBzaWRlIHRvIEMvQysrIHNpZGUgdG8gYW4gYXJndW1lbnQgb2YgdHlwZSAiJytnKyciLCB3aGljaCBpcyBvdXRzaWRlIHRoZSB2YWxpZCByYW5nZSBbJytDKyIsICIrQisiXSEiKTtyZXR1cm4gSX0sYXJnUGFja0FkdmFuY2U6OCxyZWFkVmFsdWVGcm9tUG9pbnRlcjppbnRlZ2VyUmVhZFZhbHVlRnJvbVBvaW50ZXIoZyxFLCFRKSxkZXN0cnVjdG9yRnVuY3Rpb246bnVsbH0pfSxzOmZ1bmN0aW9uIF9fZW1iaW5kX3JlZ2lzdGVyX2Jvb2woQSxnLEksQyxCKXt2YXIgRT1nZXRTaGlmdEZyb21TaXplKEkpO3JlZ2lzdGVyVHlwZShBLHtuYW1lOmc9cmVhZExhdGluMVN0cmluZyhnKSxmcm9tV2lyZVR5cGU6ZnVuY3Rpb24oQSl7cmV0dXJuISFBfSx0b1dpcmVUeXBlOmZ1bmN0aW9uKEEsZyl7cmV0dXJuIGc/QzpCfSxhcmdQYWNrQWR2YW5jZTo4LHJlYWRWYWx1ZUZyb21Qb2ludGVyOmZ1bmN0aW9uKEEpe3ZhciBDO2lmKDE9PT1JKUM9eTtlbHNlIGlmKDI9PT1JKUM9WTtlbHNle2lmKDQhPT1JKXRocm93IG5ldyBUeXBlRXJyb3IoIlVua25vd24gYm9vbGVhbiB0eXBlIHNpemU6ICIrZyk7Qz1jfXJldHVybiB0aGlzLmZyb21XaXJlVHlwZShDW0E+PkVdKX0sZGVzdHJ1Y3RvckZ1bmN0aW9uOm51bGx9KX0sdTpmdW5jdGlvbiBfX2VtYmluZF9yZWdpc3Rlcl9jbGFzcyhBLEksQyxCLEUsUSxvLGksRCxlLHQscixhKXt0PXJlYWRMYXRpbjFTdHJpbmcodCksUT1lbWJpbmRfX3JlcXVpcmVGdW5jdGlvbihFLFEpLGkmJihpPWVtYmluZF9fcmVxdWlyZUZ1bmN0aW9uKG8saSkpLGUmJihlPWVtYmluZF9fcmVxdWlyZUZ1bmN0aW9uKEQsZSkpLGE9ZW1iaW5kX19yZXF1aXJlRnVuY3Rpb24ocixhKTt2YXIgTT1tYWtlTGVnYWxGdW5jdGlvbk5hbWUodCk7ZXhwb3NlUHVibGljU3ltYm9sKE0sKGZ1bmN0aW9uKCl7dGhyb3dVbmJvdW5kVHlwZUVycm9yKCJDYW5ub3QgY29uc3RydWN0ICIrdCsiIGR1ZSB0byB1bmJvdW5kIHR5cGVzIixbQl0pfSkpLHdoZW5EZXBlbmRlbnRUeXBlc0FyZVJlc29sdmVkKFtBLEksQ10sQj9bQl06W10sKGZ1bmN0aW9uKEkpe3ZhciBDLEU7ST1JWzBdLEU9Qj8oQz1JLnJlZ2lzdGVyZWRDbGFzcykuaW5zdGFuY2VQcm90b3R5cGU6Q2xhc3NIYW5kbGUucHJvdG90eXBlO3ZhciBvPWNyZWF0ZU5hbWVkRnVuY3Rpb24oTSwoZnVuY3Rpb24oKXtpZihPYmplY3QuZ2V0UHJvdG90eXBlT2YodGhpcykhPT1EKXRocm93IG5ldyB6KCJVc2UgJ25ldycgdG8gY29uc3RydWN0ICIrdCk7aWYodm9pZCAwPT09ci5jb25zdHJ1Y3Rvcl9ib2R5KXRocm93IG5ldyB6KHQrIiBoYXMgbm8gYWNjZXNzaWJsZSBjb25zdHJ1Y3RvciIpO3ZhciBBPXIuY29uc3RydWN0b3JfYm9keVthcmd1bWVudHMubGVuZ3RoXTtpZih2b2lkIDA9PT1BKXRocm93IG5ldyB6KCJUcmllZCB0byBpbnZva2UgY3RvciBvZiAiK3QrIiB3aXRoIGludmFsaWQgbnVtYmVyIG9mIHBhcmFtZXRlcnMgKCIrYXJndW1lbnRzLmxlbmd0aCsiKSAtIGV4cGVjdGVkICgiK09iamVjdC5rZXlzKHIuY29uc3RydWN0b3JfYm9keSkudG9TdHJpbmcoKSsiKSBwYXJhbWV0ZXJzIGluc3RlYWQhIik7cmV0dXJuIEEuYXBwbHkodGhpcyxhcmd1bWVudHMpfSkpLEQ9T2JqZWN0LmNyZWF0ZShFLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6b319KTtvLnByb3RvdHlwZT1EO3ZhciByPW5ldyBSZWdpc3RlcmVkQ2xhc3ModCxvLEQsYSxDLFEsaSxlKSxuPW5ldyBSZWdpc3RlcmVkUG9pbnRlcih0LHIsITAsITEsITEpLHc9bmV3IFJlZ2lzdGVyZWRQb2ludGVyKHQrIioiLHIsITEsITEsITEpLHM9bmV3IFJlZ2lzdGVyZWRQb2ludGVyKHQrIiBjb25zdCoiLHIsITEsITAsITEpO3JldHVybiBWW0FdPXtwb2ludGVyVHlwZTp3LGNvbnN0UG9pbnRlclR5cGU6c30sZnVuY3Rpb24gcmVwbGFjZVB1YmxpY1N5bWJvbChBLEksQyl7Zy5oYXNPd25Qcm9wZXJ0eShBKXx8dGhyb3dJbnRlcm5hbEVycm9yKCJSZXBsYWNpbmcgbm9uZXhpc3RhbnQgcHVibGljIHN5bWJvbCIpLHZvaWQgMCE9PWdbQV0ub3ZlcmxvYWRUYWJsZSYmdm9pZCAwIT09Qz9nW0FdLm92ZXJsb2FkVGFibGVbQ109STooZ1tBXT1JLGdbQV0uYXJnQ291bnQ9Qyl9KE0sbyksW24sdyxzXX0pKX0sbzpmdW5jdGlvbiBfX2VtYmluZF9yZWdpc3Rlcl9jbGFzc19jb25zdHJ1Y3RvcihBLGcsSSxDLEIsRSl7IWZ1bmN0aW9uIGFzc2VydChBLGcpe0F8fGFib3J0KGcpfShnPjApO3ZhciBRPWhlYXAzMlZlY3RvclRvQXJyYXkoZyxJKTtCPWVtYmluZF9fcmVxdWlyZUZ1bmN0aW9uKEMsQiksd2hlbkRlcGVuZGVudFR5cGVzQXJlUmVzb2x2ZWQoW10sW0FdLChmdW5jdGlvbihBKXt2YXIgST0iY29uc3RydWN0b3IgIisoQT1BWzBdKS5uYW1lO2lmKHZvaWQgMD09PUEucmVnaXN0ZXJlZENsYXNzLmNvbnN0cnVjdG9yX2JvZHkmJihBLnJlZ2lzdGVyZWRDbGFzcy5jb25zdHJ1Y3Rvcl9ib2R5PVtdKSx2b2lkIDAhPT1BLnJlZ2lzdGVyZWRDbGFzcy5jb25zdHJ1Y3Rvcl9ib2R5W2ctMV0pdGhyb3cgbmV3IHooIkNhbm5vdCByZWdpc3RlciBtdWx0aXBsZSBjb25zdHJ1Y3RvcnMgd2l0aCBpZGVudGljYWwgbnVtYmVyIG9mIHBhcmFtZXRlcnMgKCIrKGctMSkrIikgZm9yIGNsYXNzICciK0EubmFtZSsiJyEgT3ZlcmxvYWQgcmVzb2x1dGlvbiBpcyBjdXJyZW50bHkgb25seSBwZXJmb3JtZWQgdXNpbmcgdGhlIHBhcmFtZXRlciBjb3VudCwgbm90IGFjdHVhbCB0eXBlIGluZm8hIik7cmV0dXJuIEEucmVnaXN0ZXJlZENsYXNzLmNvbnN0cnVjdG9yX2JvZHlbZy0xXT0oKT0+e3Rocm93VW5ib3VuZFR5cGVFcnJvcigiQ2Fubm90IGNvbnN0cnVjdCAiK0EubmFtZSsiIGR1ZSB0byB1bmJvdW5kIHR5cGVzIixRKX0sd2hlbkRlcGVuZGVudFR5cGVzQXJlUmVzb2x2ZWQoW10sUSwoZnVuY3Rpb24oQyl7cmV0dXJuIEMuc3BsaWNlKDEsMCxudWxsKSxBLnJlZ2lzdGVyZWRDbGFzcy5jb25zdHJ1Y3Rvcl9ib2R5W2ctMV09Y3JhZnRJbnZva2VyRnVuY3Rpb24oSSxDLG51bGwsQixFKSxbXX0pKSxbXX0pKX0sZTpmdW5jdGlvbiBfX2VtYmluZF9yZWdpc3Rlcl9jbGFzc19mdW5jdGlvbihBLGcsSSxDLEIsRSxRLG8pe3ZhciBpPWhlYXAzMlZlY3RvclRvQXJyYXkoSSxDKTtnPXJlYWRMYXRpbjFTdHJpbmcoZyksRT1lbWJpbmRfX3JlcXVpcmVGdW5jdGlvbihCLEUpLHdoZW5EZXBlbmRlbnRUeXBlc0FyZVJlc29sdmVkKFtdLFtBXSwoZnVuY3Rpb24oQSl7dmFyIEM9KEE9QVswXSkubmFtZSsiLiIrZztmdW5jdGlvbiB1bmJvdW5kVHlwZXNIYW5kbGVyKCl7dGhyb3dVbmJvdW5kVHlwZUVycm9yKCJDYW5ub3QgY2FsbCAiK0MrIiBkdWUgdG8gdW5ib3VuZCB0eXBlcyIsaSl9Zy5zdGFydHNXaXRoKCJAQCIpJiYoZz1TeW1ib2xbZy5zdWJzdHJpbmcoMildKSxvJiZBLnJlZ2lzdGVyZWRDbGFzcy5wdXJlVmlydHVhbEZ1bmN0aW9ucy5wdXNoKGcpO3ZhciBCPUEucmVnaXN0ZXJlZENsYXNzLmluc3RhbmNlUHJvdG90eXBlLEQ9QltnXTtyZXR1cm4gdm9pZCAwPT09RHx8dm9pZCAwPT09RC5vdmVybG9hZFRhYmxlJiZELmNsYXNzTmFtZSE9PUEubmFtZSYmRC5hcmdDb3VudD09PUktMj8odW5ib3VuZFR5cGVzSGFuZGxlci5hcmdDb3VudD1JLTIsdW5ib3VuZFR5cGVzSGFuZGxlci5jbGFzc05hbWU9QS5uYW1lLEJbZ109dW5ib3VuZFR5cGVzSGFuZGxlcik6KGVuc3VyZU92ZXJsb2FkVGFibGUoQixnLEMpLEJbZ10ub3ZlcmxvYWRUYWJsZVtJLTJdPXVuYm91bmRUeXBlc0hhbmRsZXIpLHdoZW5EZXBlbmRlbnRUeXBlc0FyZVJlc29sdmVkKFtdLGksKGZ1bmN0aW9uKG8pe3ZhciBpPWNyYWZ0SW52b2tlckZ1bmN0aW9uKEMsbyxBLEUsUSk7cmV0dXJuIHZvaWQgMD09PUJbZ10ub3ZlcmxvYWRUYWJsZT8oaS5hcmdDb3VudD1JLTIsQltnXT1pKTpCW2ddLm92ZXJsb2FkVGFibGVbSS0yXT1pLFtdfSkpLFtdfSkpfSxyOmZ1bmN0aW9uIF9fZW1iaW5kX3JlZ2lzdGVyX2VtdmFsKEEsZyl7cmVnaXN0ZXJUeXBlKEEse25hbWU6Zz1yZWFkTGF0aW4xU3RyaW5nKGcpLGZyb21XaXJlVHlwZTpmdW5jdGlvbihBKXt2YXIgZz1DQS50b1ZhbHVlKEEpO3JldHVybiBfX2VtdmFsX2RlY3JlZihBKSxnfSx0b1dpcmVUeXBlOmZ1bmN0aW9uKEEsZyl7cmV0dXJuIENBLnRvSGFuZGxlKGcpfSxhcmdQYWNrQWR2YW5jZTo4LHJlYWRWYWx1ZUZyb21Qb2ludGVyOnNpbXBsZVJlYWRWYWx1ZUZyb21Qb2ludGVyLGRlc3RydWN0b3JGdW5jdGlvbjpudWxsfSl9LGc6ZnVuY3Rpb24gX19lbWJpbmRfcmVnaXN0ZXJfZW51bShBLGcsSSxDKXt2YXIgQj1nZXRTaGlmdEZyb21TaXplKEkpO2Z1bmN0aW9uIGN0b3IoKXt9Zz1yZWFkTGF0aW4xU3RyaW5nKGcpLGN0b3IudmFsdWVzPXt9LHJlZ2lzdGVyVHlwZShBLHtuYW1lOmcsY29uc3RydWN0b3I6Y3Rvcixmcm9tV2lyZVR5cGU6ZnVuY3Rpb24oQSl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IudmFsdWVzW0FdfSx0b1dpcmVUeXBlOmZ1bmN0aW9uKEEsZyl7cmV0dXJuIGcudmFsdWV9LGFyZ1BhY2tBZHZhbmNlOjgscmVhZFZhbHVlRnJvbVBvaW50ZXI6ZW51bVJlYWRWYWx1ZUZyb21Qb2ludGVyKGcsQixDKSxkZXN0cnVjdG9yRnVuY3Rpb246bnVsbH0pLGV4cG9zZVB1YmxpY1N5bWJvbChnLGN0b3IpfSxmOmZ1bmN0aW9uIF9fZW1iaW5kX3JlZ2lzdGVyX2VudW1fdmFsdWUoQSxnLEkpe3ZhciBDPXJlcXVpcmVSZWdpc3RlcmVkVHlwZShBLCJlbnVtIik7Zz1yZWFkTGF0aW4xU3RyaW5nKGcpO3ZhciBCPUMuY29uc3RydWN0b3IsRT1PYmplY3QuY3JlYXRlKEMuY29uc3RydWN0b3IucHJvdG90eXBlLHt2YWx1ZTp7dmFsdWU6SX0sY29uc3RydWN0b3I6e3ZhbHVlOmNyZWF0ZU5hbWVkRnVuY3Rpb24oQy5uYW1lKyJfIitnLChmdW5jdGlvbigpe30pKX19KTtCLnZhbHVlc1tJXT1FLEJbZ109RX0sazpmdW5jdGlvbiBfX2VtYmluZF9yZWdpc3Rlcl9mbG9hdChBLGcsSSl7dmFyIEM9Z2V0U2hpZnRGcm9tU2l6ZShJKTtyZWdpc3RlclR5cGUoQSx7bmFtZTpnPXJlYWRMYXRpbjFTdHJpbmcoZyksZnJvbVdpcmVUeXBlOmZ1bmN0aW9uKEEpe3JldHVybiBBfSx0b1dpcmVUeXBlOmZ1bmN0aW9uKEEsZyl7cmV0dXJuIGd9LGFyZ1BhY2tBZHZhbmNlOjgscmVhZFZhbHVlRnJvbVBvaW50ZXI6ZmxvYXRSZWFkVmFsdWVGcm9tUG9pbnRlcihnLEMpLGRlc3RydWN0b3JGdW5jdGlvbjpudWxsfSl9LGM6ZnVuY3Rpb24gX19lbWJpbmRfcmVnaXN0ZXJfaW50ZWdlcihBLGcsSSxDLEIpe2c9cmVhZExhdGluMVN0cmluZyhnKTt2YXIgRT1nZXRTaGlmdEZyb21TaXplKEkpLGZyb21XaXJlVHlwZT1BPT5BO2lmKDA9PT1DKXt2YXIgUT0zMi04Kkk7ZnJvbVdpcmVUeXBlPUE9PkE8PFE+Pj5RfXZhciBvPWcuaW5jbHVkZXMoInVuc2lnbmVkIik7cmVnaXN0ZXJUeXBlKEEse25hbWU6Zyxmcm9tV2lyZVR5cGU6ZnJvbVdpcmVUeXBlLHRvV2lyZVR5cGU6bz9mdW5jdGlvbihBLGcpe3JldHVybiB0aGlzLm5hbWUsZz4+PjB9OmZ1bmN0aW9uKEEsZyl7cmV0dXJuIHRoaXMubmFtZSxnfSxhcmdQYWNrQWR2YW5jZTo4LHJlYWRWYWx1ZUZyb21Qb2ludGVyOmludGVnZXJSZWFkVmFsdWVGcm9tUG9pbnRlcihnLEUsMCE9PUMpLGRlc3RydWN0b3JGdW5jdGlvbjpudWxsfSl9LGI6ZnVuY3Rpb24gX19lbWJpbmRfcmVnaXN0ZXJfbWVtb3J5X3ZpZXcoQSxnLEkpe3ZhciBDPVtJbnQ4QXJyYXksVWludDhBcnJheSxJbnQxNkFycmF5LFVpbnQxNkFycmF5LEludDMyQXJyYXksVWludDMyQXJyYXksRmxvYXQzMkFycmF5LEZsb2F0NjRBcnJheSxCaWdJbnQ2NEFycmF5LEJpZ1VpbnQ2NEFycmF5XVtnXTtmdW5jdGlvbiBkZWNvZGVNZW1vcnlWaWV3KEEpe3ZhciBnPUcsST1nW0E+Pj0yXSxCPWdbQSsxXTtyZXR1cm4gbmV3IEMoSyxCLEkpfXJlZ2lzdGVyVHlwZShBLHtuYW1lOkk9cmVhZExhdGluMVN0cmluZyhJKSxmcm9tV2lyZVR5cGU6ZGVjb2RlTWVtb3J5VmlldyxhcmdQYWNrQWR2YW5jZTo4LHJlYWRWYWx1ZUZyb21Qb2ludGVyOmRlY29kZU1lbW9yeVZpZXd9LHtpZ25vcmVEdXBsaWNhdGVSZWdpc3RyYXRpb25zOiEwfSl9LGo6ZnVuY3Rpb24gX19lbWJpbmRfcmVnaXN0ZXJfc3RkX3N0cmluZyhBLGcpe3ZhciBJPSJzdGQ6OnN0cmluZyI9PT0oZz1yZWFkTGF0aW4xU3RyaW5nKGcpKTtyZWdpc3RlclR5cGUoQSx7bmFtZTpnLGZyb21XaXJlVHlwZTpmdW5jdGlvbihBKXt2YXIgZyxDPUdbQT4+Ml0sQj1BKzQ7aWYoSSlmb3IodmFyIEU9QixRPTA7UTw9QzsrK1Epe3ZhciBvPUIrUTtpZihRPT1DfHwwPT1oW29dKXt2YXIgaT1VVEY4VG9TdHJpbmcoRSxvLUUpO3ZvaWQgMD09PWc/Zz1pOihnKz1TdHJpbmcuZnJvbUNoYXJDb2RlKDApLGcrPWkpLEU9bysxfX1lbHNle3ZhciBEPW5ldyBBcnJheShDKTtmb3IoUT0wO1E8QzsrK1EpRFtRXT1TdHJpbmcuZnJvbUNoYXJDb2RlKGhbQitRXSk7Zz1ELmpvaW4oIiIpfXJldHVybiBpQShBKSxnfSx0b1dpcmVUeXBlOmZ1bmN0aW9uKEEsZyl7dmFyIEM7ZyBpbnN0YW5jZW9mIEFycmF5QnVmZmVyJiYoZz1uZXcgVWludDhBcnJheShnKSk7dmFyIEI9InN0cmluZyI9PXR5cGVvZiBnO0J8fGcgaW5zdGFuY2VvZiBVaW50OEFycmF5fHxnIGluc3RhbmNlb2YgVWludDhDbGFtcGVkQXJyYXl8fGcgaW5zdGFuY2VvZiBJbnQ4QXJyYXl8fHRocm93QmluZGluZ0Vycm9yKCJDYW5ub3QgcGFzcyBub24tc3RyaW5nIHRvIHN0ZDo6c3RyaW5nIiksQz1JJiZCP2Z1bmN0aW9uIGxlbmd0aEJ5dGVzVVRGOChBKXtmb3IodmFyIGc9MCxJPTA7STxBLmxlbmd0aDsrK0kpe3ZhciBDPUEuY2hhckNvZGVBdChJKTtDPD0xMjc/ZysrOkM8PTIwNDc/Zys9MjpDPj01NTI5NiYmQzw9NTczNDM/KGcrPTQsKytJKTpnKz0zfXJldHVybiBnfShnKTpnLmxlbmd0aDt2YXIgRT1EQSg0K0MrMSksUT1FKzQ7aWYoR1tFPj4yXT1DLEkmJkIpIWZ1bmN0aW9uIHN0cmluZ1RvVVRGOChBLGcsSSl7cmV0dXJuIGZ1bmN0aW9uIHN0cmluZ1RvVVRGOEFycmF5KEEsZyxJLEMpe2lmKCEoQz4wKSlyZXR1cm4gMDtmb3IodmFyIEI9SSxFPUkrQy0xLFE9MDtRPEEubGVuZ3RoOysrUSl7dmFyIG89QS5jaGFyQ29kZUF0KFEpO2lmKG8+PTU1Mjk2JiZvPD01NzM0MyYmKG89NjU1MzYrKCgxMDIzJm8pPDwxMCl8MTAyMyZBLmNoYXJDb2RlQXQoKytRKSksbzw9MTI3KXtpZihJPj1FKWJyZWFrO2dbSSsrXT1vfWVsc2UgaWYobzw9MjA0Nyl7aWYoSSsxPj1FKWJyZWFrO2dbSSsrXT0xOTJ8bz4+NixnW0krK109MTI4fDYzJm99ZWxzZSBpZihvPD02NTUzNSl7aWYoSSsyPj1FKWJyZWFrO2dbSSsrXT0yMjR8bz4+MTIsZ1tJKytdPTEyOHxvPj42JjYzLGdbSSsrXT0xMjh8NjMmb31lbHNle2lmKEkrMz49RSlicmVhaztnW0krK109MjQwfG8+PjE4LGdbSSsrXT0xMjh8bz4+MTImNjMsZ1tJKytdPTEyOHxvPj42JjYzLGdbSSsrXT0xMjh8NjMmb319cmV0dXJuIGdbSV09MCxJLUJ9KEEsaCxnLEkpfShnLFEsQysxKTtlbHNlIGlmKEIpZm9yKHZhciBvPTA7bzxDOysrbyl7dmFyIGk9Zy5jaGFyQ29kZUF0KG8pO2k+MjU1JiYoaUEoUSksdGhyb3dCaW5kaW5nRXJyb3IoIlN0cmluZyBoYXMgVVRGLTE2IGNvZGUgdW5pdHMgdGhhdCBkbyBub3QgZml0IGluIDggYml0cyIpKSxoW1Erb109aX1lbHNlIGZvcihvPTA7bzxDOysrbyloW1Erb109Z1tvXTtyZXR1cm4gbnVsbCE9PUEmJkEucHVzaChpQSxFKSxFfSxhcmdQYWNrQWR2YW5jZTo4LHJlYWRWYWx1ZUZyb21Qb2ludGVyOnNpbXBsZVJlYWRWYWx1ZUZyb21Qb2ludGVyLGRlc3RydWN0b3JGdW5jdGlvbjpmdW5jdGlvbihBKXtpQShBKX19KX0saDpmdW5jdGlvbiBfX2VtYmluZF9yZWdpc3Rlcl9zdGRfd3N0cmluZyhBLGcsSSl7dmFyIEMsQixFLFEsbztJPXJlYWRMYXRpbjFTdHJpbmcoSSksMj09PWc/KEM9VVRGMTZUb1N0cmluZyxCPXN0cmluZ1RvVVRGMTYsUT1sZW5ndGhCeXRlc1VURjE2LEU9KCk9Pk4sbz0xKTo0PT09ZyYmKEM9VVRGMzJUb1N0cmluZyxCPXN0cmluZ1RvVVRGMzIsUT1sZW5ndGhCeXRlc1VURjMyLEU9KCk9Pkcsbz0yKSxyZWdpc3RlclR5cGUoQSx7bmFtZTpJLGZyb21XaXJlVHlwZTpmdW5jdGlvbihBKXtmb3IodmFyIEksQj1HW0E+PjJdLFE9RSgpLGk9QSs0LEQ9MDtEPD1COysrRCl7dmFyIGU9QSs0K0QqZztpZihEPT1CfHwwPT1RW2U+Pm9dKXt2YXIgdD1DKGksZS1pKTt2b2lkIDA9PT1JP0k9dDooSSs9U3RyaW5nLmZyb21DaGFyQ29kZSgwKSxJKz10KSxpPWUrZ319cmV0dXJuIGlBKEEpLEl9LHRvV2lyZVR5cGU6ZnVuY3Rpb24oQSxDKXsic3RyaW5nIiE9dHlwZW9mIEMmJnRocm93QmluZGluZ0Vycm9yKCJDYW5ub3QgcGFzcyBub24tc3RyaW5nIHRvIEMrKyBzdHJpbmcgdHlwZSAiK0kpO3ZhciBFPVEoQyksaT1EQSg0K0UrZyk7cmV0dXJuIEdbaT4+Ml09RT4+byxCKEMsaSs0LEUrZyksbnVsbCE9PUEmJkEucHVzaChpQSxpKSxpfSxhcmdQYWNrQWR2YW5jZTo4LHJlYWRWYWx1ZUZyb21Qb2ludGVyOnNpbXBsZVJlYWRWYWx1ZUZyb21Qb2ludGVyLGRlc3RydWN0b3JGdW5jdGlvbjpmdW5jdGlvbihBKXtpQShBKX19KX0sdDpmdW5jdGlvbiBfX2VtYmluZF9yZWdpc3Rlcl92b2lkKEEsZyl7cmVnaXN0ZXJUeXBlKEEse2lzVm9pZDohMCxuYW1lOmc9cmVhZExhdGluMVN0cmluZyhnKSxhcmdQYWNrQWR2YW5jZTowLGZyb21XaXJlVHlwZTpmdW5jdGlvbigpe30sdG9XaXJlVHlwZTpmdW5jdGlvbihBLGcpe319KX0sbTpfX2VtdmFsX2RlY3JlZixuOmZ1bmN0aW9uIF9fZW12YWxfaW5jcmVmKEEpe0E+NCYmKElBW0FdLnJlZmNvdW50Kz0xKX0saTpmdW5jdGlvbiBfX2VtdmFsX3Rha2VfdmFsdWUoQSxnKXt2YXIgST0oQT1yZXF1aXJlUmVnaXN0ZXJlZFR5cGUoQSwiX2VtdmFsX3Rha2VfdmFsdWUiKSkucmVhZFZhbHVlRnJvbVBvaW50ZXIoZyk7cmV0dXJuIENBLnRvSGFuZGxlKEkpfSxkOmZ1bmN0aW9uIF9hYm9ydCgpe2Fib3J0KCIiKX0scTpmdW5jdGlvbiBfZW1zY3JpcHRlbl9tZW1jcHlfYmlnKEEsZyxJKXtoLmNvcHlXaXRoaW4oQSxnLGcrSSl9LHA6ZnVuY3Rpb24gX2Vtc2NyaXB0ZW5fcmVzaXplX2hlYXAoQSl7aC5sZW5ndGgsZnVuY3Rpb24gYWJvcnRPbkNhbm5vdEdyb3dNZW1vcnkoQSl7YWJvcnQoIk9PTSIpfSgpfX07IWZ1bmN0aW9uIGNyZWF0ZVdhc20oKXt2YXIgQT17YTpRQX07ZnVuY3Rpb24gcmVjZWl2ZUluc3RhbmNlKEEsSSl7dmFyIEM9QS5leHBvcnRzO2cuYXNtPUMsZnVuY3Rpb24gdXBkYXRlR2xvYmFsQnVmZmVyQW5kVmlld3MoQSl7Sz1BLGcuSEVBUDg9eT1uZXcgSW50OEFycmF5KEEpLGcuSEVBUDE2PVk9bmV3IEludDE2QXJyYXkoQSksZy5IRUFQMzI9Yz1uZXcgSW50MzJBcnJheShBKSxnLkhFQVBVOD1oPW5ldyBVaW50OEFycmF5KEEpLGcuSEVBUFUxNj1OPW5ldyBVaW50MTZBcnJheShBKSxnLkhFQVBVMzI9Rz1uZXcgVWludDMyQXJyYXkoQSksZy5IRUFQRjMyPVM9bmV3IEZsb2F0MzJBcnJheShBKSxnLkhFQVBGNjQ9Sj1uZXcgRmxvYXQ2NEFycmF5KEEpLGcuSEVBUDY0PVI9bmV3IEJpZ0ludDY0QXJyYXkoQSksZy5IRUFQVTY0PUY9bmV3IEJpZ1VpbnQ2NEFycmF5KEEpfShnLmFzbS52LmJ1ZmZlciksaz1nLmFzbS55LGZ1bmN0aW9uIGFkZE9uSW5pdChBKXt1LnVuc2hpZnQoQSl9KGcuYXNtLncpLGZ1bmN0aW9uIHJlbW92ZVJ1bkRlcGVuZGVuY3koQSl7aWYoSC0tLGcubW9uaXRvclJ1bkRlcGVuZGVuY2llcyYmZy5tb25pdG9yUnVuRGVwZW5kZW5jaWVzKEgpLDA9PUgmJm0pe3ZhciBJPW07bT1udWxsLEkoKX19KCl9ZnVuY3Rpb24gcmVjZWl2ZUluc3RhbnRpYXRpb25SZXN1bHQoQSl7cmVjZWl2ZUluc3RhbmNlKEEuaW5zdGFuY2UpfWZ1bmN0aW9uIGluc3RhbnRpYXRlQXJyYXlCdWZmZXIoZyl7cmV0dXJuIGZ1bmN0aW9uIGdldEJpbmFyeVByb21pc2UoKXtpZighTSYmKGV8fHQpKXtpZigiZnVuY3Rpb24iPT10eXBlb2YgZmV0Y2gmJiFpc0ZpbGVVUkkoTCkpcmV0dXJuIGZldGNoKEwse2NyZWRlbnRpYWxzOiJzYW1lLW9yaWdpbiJ9KS50aGVuKChmdW5jdGlvbihBKXtpZighQS5vayl0aHJvdyJmYWlsZWQgdG8gbG9hZCB3YXNtIGJpbmFyeSBmaWxlIGF0ICciK0wrIiciO3JldHVybiBBLmFycmF5QnVmZmVyKCl9KSkuY2F0Y2goKGZ1bmN0aW9uKCl7cmV0dXJuIGdldEJpbmFyeShMKX0pKTtpZihFKXJldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24oQSxnKXtFKEwsKGZ1bmN0aW9uKGcpe0EobmV3IFVpbnQ4QXJyYXkoZykpfSksZyl9KSl9cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIGdldEJpbmFyeShMKX0pKX0oKS50aGVuKChmdW5jdGlvbihnKXtyZXR1cm4gV2ViQXNzZW1ibHkuaW5zdGFudGlhdGUoZyxBKX0pKS50aGVuKChmdW5jdGlvbihBKXtyZXR1cm4gQX0pKS50aGVuKGcsKGZ1bmN0aW9uKEEpe24oImZhaWxlZCB0byBhc3luY2hyb25vdXNseSBwcmVwYXJlIHdhc206ICIrQSksYWJvcnQoQSl9KSl9aWYoZnVuY3Rpb24gYWRkUnVuRGVwZW5kZW5jeShBKXtIKyssZy5tb25pdG9yUnVuRGVwZW5kZW5jaWVzJiZnLm1vbml0b3JSdW5EZXBlbmRlbmNpZXMoSCl9KCksZy5pbnN0YW50aWF0ZVdhc20pdHJ5e3JldHVybiBnLmluc3RhbnRpYXRlV2FzbShBLHJlY2VpdmVJbnN0YW5jZSl9Y2F0Y2goSSl7bigiTW9kdWxlLmluc3RhbnRpYXRlV2FzbSBjYWxsYmFjayBmYWlsZWQgd2l0aCBlcnJvcjogIitJKSxDKEkpfXJldHVybiBmdW5jdGlvbiBpbnN0YW50aWF0ZUFzeW5jKCl7cmV0dXJuIE18fCJmdW5jdGlvbiIhPXR5cGVvZiBXZWJBc3NlbWJseS5pbnN0YW50aWF0ZVN0cmVhbWluZ3x8aXNEYXRhVVJJKEwpfHxpc0ZpbGVVUkkoTCl8fHJ8fCJmdW5jdGlvbiIhPXR5cGVvZiBmZXRjaD9pbnN0YW50aWF0ZUFycmF5QnVmZmVyKHJlY2VpdmVJbnN0YW50aWF0aW9uUmVzdWx0KTpmZXRjaChMLHtjcmVkZW50aWFsczoic2FtZS1vcmlnaW4ifSkudGhlbigoZnVuY3Rpb24oZyl7cmV0dXJuIFdlYkFzc2VtYmx5Lmluc3RhbnRpYXRlU3RyZWFtaW5nKGcsQSkudGhlbihyZWNlaXZlSW5zdGFudGlhdGlvblJlc3VsdCwoZnVuY3Rpb24oQSl7cmV0dXJuIG4oIndhc20gc3RyZWFtaW5nIGNvbXBpbGUgZmFpbGVkOiAiK0EpLG4oImZhbGxpbmcgYmFjayB0byBBcnJheUJ1ZmZlciBpbnN0YW50aWF0aW9uIiksaW5zdGFudGlhdGVBcnJheUJ1ZmZlcihyZWNlaXZlSW5zdGFudGlhdGlvblJlc3VsdCl9KSl9KSl9KCkuY2F0Y2goQykse319KCksZy5fX193YXNtX2NhbGxfY3RvcnM9ZnVuY3Rpb24oKXtyZXR1cm4oZy5fX193YXNtX2NhbGxfY3RvcnM9Zy5hc20udykuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxnLl9tYWluPWZ1bmN0aW9uKCl7cmV0dXJuKGcuX21haW49Zy5hc20ueCkuYXBwbHkobnVsbCxhcmd1bWVudHMpfTt2YXIgb0EsaUE9Zy5fZnJlZT1mdW5jdGlvbigpe3JldHVybihpQT1nLl9mcmVlPWcuYXNtLnopLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sREE9Zy5fbWFsbG9jPWZ1bmN0aW9uKCl7cmV0dXJuKERBPWcuX21hbGxvYz1nLmFzbS5BKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGVBPWcuX19fZ2V0VHlwZU5hbWU9ZnVuY3Rpb24oKXtyZXR1cm4oZUE9Zy5fX19nZXRUeXBlTmFtZT1nLmFzbS5CKS5hcHBseShudWxsLGFyZ3VtZW50cyl9O2Z1bmN0aW9uIGNhbGxNYWluKEEpe3ZhciBJPWcuX21haW47dHJ5e3ZhciBDPUkoMCwwKTtyZXR1cm4gZXhpdEpTKEMpLEN9Y2F0Y2goQil7cmV0dXJuIGZ1bmN0aW9uIGhhbmRsZUV4Y2VwdGlvbihBKXtpZihBIGluc3RhbmNlb2YgRXhpdFN0YXR1c3x8InVud2luZCI9PUEpcmV0dXJuIHM7cXVpdF8oMSxBKX0oQil9fWZ1bmN0aW9uIHJ1bihBKXtmdW5jdGlvbiBkb1J1bigpe29BfHwob0E9ITAsZy5jYWxsZWRSdW49ITAsbHx8KGZ1bmN0aW9uIGluaXRSdW50aW1lKCl7Y2FsbFJ1bnRpbWVDYWxsYmFja3ModSl9KCksZnVuY3Rpb24gcHJlTWFpbigpe2NhbGxSdW50aW1lQ2FsbGJhY2tzKFUpfSgpLEkoZyksZy5vblJ1bnRpbWVJbml0aWFsaXplZCYmZy5vblJ1bnRpbWVJbml0aWFsaXplZCgpLHRBJiZjYWxsTWFpbigpLGZ1bmN0aW9uIHBvc3RSdW4oKXtpZihnLnBvc3RSdW4pZm9yKCJmdW5jdGlvbiI9PXR5cGVvZiBnLnBvc3RSdW4mJihnLnBvc3RSdW49W2cucG9zdFJ1bl0pO2cucG9zdFJ1bi5sZW5ndGg7KUE9Zy5wb3N0UnVuLnNoaWZ0KCksai51bnNoaWZ0KEEpO3ZhciBBO2NhbGxSdW50aW1lQ2FsbGJhY2tzKGopfSgpKSl9SD4wfHwoZnVuY3Rpb24gcHJlUnVuKCl7aWYoZy5wcmVSdW4pZm9yKCJmdW5jdGlvbiI9PXR5cGVvZiBnLnByZVJ1biYmKGcucHJlUnVuPVtnLnByZVJ1bl0pO2cucHJlUnVuLmxlbmd0aDspQT1nLnByZVJ1bi5zaGlmdCgpLGYudW5zaGlmdChBKTt2YXIgQTtjYWxsUnVudGltZUNhbGxiYWNrcyhmKX0oKSxIPjB8fChnLnNldFN0YXR1cz8oZy5zZXRTdGF0dXMoIlJ1bm5pbmcuLi4iKSxzZXRUaW1lb3V0KChmdW5jdGlvbigpe3NldFRpbWVvdXQoKGZ1bmN0aW9uKCl7Zy5zZXRTdGF0dXMoIiIpfSksMSksZG9SdW4oKX0pLDEpKTpkb1J1bigpKSl9aWYoZy5fX2VtYmluZF9pbml0aWFsaXplX2JpbmRpbmdzPWZ1bmN0aW9uKCl7cmV0dXJuKGcuX19lbWJpbmRfaW5pdGlhbGl6ZV9iaW5kaW5ncz1nLmFzbS5DKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LG09ZnVuY3Rpb24gcnVuQ2FsbGVyKCl7b0F8fHJ1bigpLG9BfHwobT1ydW5DYWxsZXIpfSxnLnByZUluaXQpZm9yKCJmdW5jdGlvbiI9PXR5cGVvZiBnLnByZUluaXQmJihnLnByZUluaXQ9W2cucHJlSW5pdF0pO2cucHJlSW5pdC5sZW5ndGg+MDspZy5wcmVJbml0LnBvcCgpKCk7dmFyIHRBPSEwO3JldHVybiBnLm5vSW5pdGlhbFJ1biYmKHRBPSExKSxydW4oKSxnLnJlYWR5fSk7ZnVuY3Rpb24gY3JlYXRlR2xvYmFsVGhpc1ZhcmlhYmxlKEEsZyl7Z2xvYmFsVGhpcy52b25hZ2V8fChnbG9iYWxUaGlzLnZvbmFnZT17fSksZ2xvYmFsVGhpcy52b25hZ2Uud29ya2VyaXplcnx8KGdsb2JhbFRoaXMudm9uYWdlLndvcmtlcml6ZXI9e30pO2xldCBJPWdsb2JhbFRoaXMudm9uYWdlLndvcmtlcml6ZXI7cmV0dXJuIElbQV18fChJW0FdPWcpLElbQV19Y29uc3QgST1jcmVhdGVHbG9iYWxUaGlzVmFyaWFibGUoImdsb2JhbHMiLHt9KTt2YXIgQz0oQT0+KEEuSU5JVD0iSU5JVCIsQS5GT1JXQVJEPSJGT1JXQVJEIixBLlRFUk1JTkFURT0iVEVSTUlOQVRFIixBLkdMT0JBTFNfU1lOQz0iR0xPQkFMU19TWU5DIixBLkVWRU5UPSJFVkVOVCIsQSkpKEN8fHt9KTtmdW5jdGlvbiBwb3N0Q29tbWFuZChBLGcpe2NvbnN0e2lkOkksdHlwZTpDfT1BLEI9QXJyYXkuaXNBcnJheShnKT9nOltnXTtwb3N0TWVzc2FnZSh7aWQ6SSx0eXBlOkMscmVzdWx0Omd9LEIuZmlsdGVyKChBPT5mdW5jdGlvbiBpc1RyYW5zZmVyYWJsZShBKXtyZXR1cm5bSW1hZ2VCaXRtYXAsUmVhZGFibGVTdHJlYW0sV3JpdGFibGVTdHJlYW1dLnNvbWUoKGc9PkEgaW5zdGFuY2VvZiBnKSl9KEEpKSkpfWZ1bmN0aW9uIGlzV29ya2VyKCl7cmV0dXJuInVuZGVmaW5lZCIhPXR5cGVvZiBXb3JrZXJHbG9iYWxTY29wZSYmc2VsZiBpbnN0YW5jZW9mIFdvcmtlckdsb2JhbFNjb3BlfWZ1bmN0aW9uIGNvcHkoQSxnKXtpZihBcnJheS5pc0FycmF5KGcpKWcuc3BsaWNlKDAsZy5sZW5ndGgpO2Vsc2UgaWYoIm9iamVjdCI9PXR5cGVvZiBnKWZvcihjb25zdCBJIGluIGcpZGVsZXRlIGdbSV07Zm9yKGNvbnN0IEkgaW4gQSlBcnJheS5pc0FycmF5KEFbSV0pPyhnW0ldPVtdLGNvcHkoQVtJXSxnW0ldKSk6Im9iamVjdCI9PXR5cGVvZiBBW0ldPyhnW0ldPXt9LGNvcHkoQVtJXSxnW0ldKSk6Z1tJXT1BW0ldfWNyZWF0ZUdsb2JhbFRoaXNWYXJpYWJsZSgid29ya2VyaXplZCIse30pO2NvbnN0IEI9bmV3IFdlYWtNYXAsRT1uZXcgV2Vha01hcCxRPW5ldyBXZWFrTWFwLG89U3ltYm9sKCJhbnlQcm9kdWNlciIpLGk9UHJvbWlzZS5yZXNvbHZlKCksRD1TeW1ib2woImxpc3RlbmVyQWRkZWQiKSxlPVN5bWJvbCgibGlzdGVuZXJSZW1vdmVkIik7bGV0IHQ9ITEscj0hMTtmdW5jdGlvbiBhc3NlcnRFdmVudE5hbWUkMShBKXtpZigic3RyaW5nIiE9dHlwZW9mIEEmJiJzeW1ib2wiIT10eXBlb2YgQSYmIm51bWJlciIhPXR5cGVvZiBBKXRocm93IG5ldyBUeXBlRXJyb3IoImBldmVudE5hbWVgIG11c3QgYmUgYSBzdHJpbmcsIHN5bWJvbCwgb3IgbnVtYmVyIil9ZnVuY3Rpb24gYXNzZXJ0TGlzdGVuZXIkMShBKXtpZigiZnVuY3Rpb24iIT10eXBlb2YgQSl0aHJvdyBuZXcgVHlwZUVycm9yKCJsaXN0ZW5lciBtdXN0IGJlIGEgZnVuY3Rpb24iKX1mdW5jdGlvbiBnZXRMaXN0ZW5lcnMkMShBLGcpe2NvbnN0IEk9RS5nZXQoQSk7aWYoSS5oYXMoZykpcmV0dXJuIEkuZ2V0KGcpfWZ1bmN0aW9uIGdldEV2ZW50UHJvZHVjZXJzJDEoQSxnKXtjb25zdCBJPSJzdHJpbmciPT10eXBlb2YgZ3x8InN5bWJvbCI9PXR5cGVvZiBnfHwibnVtYmVyIj09dHlwZW9mIGc/ZzpvLEM9US5nZXQoQSk7aWYoQy5oYXMoSSkpcmV0dXJuIEMuZ2V0KEkpfWZ1bmN0aW9uIGl0ZXJhdG9yJDEoQSxnKXtnPUFycmF5LmlzQXJyYXkoZyk/ZzpbZ107bGV0IEk9ITEsZmx1c2g9KCk9Pnt9LEM9W107Y29uc3QgQj17ZW5xdWV1ZShBKXtDLnB1c2goQSksZmx1c2goKX0sZmluaXNoKCl7ST0hMCxmbHVzaCgpfX07Zm9yKGNvbnN0IEUgb2YgZyl7bGV0IGc9Z2V0RXZlbnRQcm9kdWNlcnMkMShBLEUpO2lmKCFnKXtnPW5ldyBTZXQ7US5nZXQoQSkuc2V0KEUsZyl9Zy5hZGQoQil9cmV0dXJue2FzeW5jIG5leHQoKXtyZXR1cm4gQz8wPT09Qy5sZW5ndGg/ST8oQz12b2lkIDAsdGhpcy5uZXh0KCkpOihhd2FpdCBuZXcgUHJvbWlzZSgoQT0+e2ZsdXNoPUF9KSksdGhpcy5uZXh0KCkpOntkb25lOiExLHZhbHVlOmF3YWl0IEMuc2hpZnQoKX06e2RvbmU6ITB9fSxhc3luYyByZXR1cm4oSSl7Qz12b2lkIDA7Zm9yKGNvbnN0IEMgb2YgZyl7Y29uc3QgZz1nZXRFdmVudFByb2R1Y2VycyQxKEEsQyk7aWYoZyYmKGcuZGVsZXRlKEIpLDA9PT1nLnNpemUpKXtRLmdldChBKS5kZWxldGUoQyl9fXJldHVybiBmbHVzaCgpLGFyZ3VtZW50cy5sZW5ndGg+MD97ZG9uZTohMCx2YWx1ZTphd2FpdCBJfTp7ZG9uZTohMH19LFtTeW1ib2wuYXN5bmNJdGVyYXRvcl0oKXtyZXR1cm4gdGhpc319fWZ1bmN0aW9uIGRlZmF1bHRNZXRob2ROYW1lc09yQXNzZXJ0JDEoQSl7aWYodm9pZCAwPT09QSlyZXR1cm4gTTtpZighQXJyYXkuaXNBcnJheShBKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJgbWV0aG9kTmFtZXNgIG11c3QgYmUgYW4gYXJyYXkgb2Ygc3RyaW5ncyIpO2Zvcihjb25zdCBnIG9mIEEpaWYoIU0uaW5jbHVkZXMoZykpe2lmKCJzdHJpbmciIT10eXBlb2YgZyl0aHJvdyBuZXcgVHlwZUVycm9yKCJgbWV0aG9kTmFtZXNgIGVsZW1lbnQgbXVzdCBiZSBhIHN0cmluZyIpO3Rocm93IG5ldyBFcnJvcihgJHtnfSBpcyBub3QgRW1pdHRlcnkgbWV0aG9kYCl9cmV0dXJuIEF9Y29uc3QgaXNNZXRhRXZlbnQkMT1BPT5BPT09RHx8QT09PWU7ZnVuY3Rpb24gZW1pdE1ldGFFdmVudCQxKEEsZyxJKXtpZihpc01ldGFFdmVudCQxKGcpKXRyeXt0PSEwLEEuZW1pdChnLEkpfWZpbmFsbHl7dD0hMX19bGV0IGE9Y2xhc3MgRW1pdHRlcnkye3N0YXRpYyBtaXhpbihBLGcpe3JldHVybiBnPWRlZmF1bHRNZXRob2ROYW1lc09yQXNzZXJ0JDEoZyksST0+e2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBJKXRocm93IG5ldyBUeXBlRXJyb3IoImB0YXJnZXRgIG11c3QgYmUgZnVuY3Rpb24iKTtmb3IoY29uc3QgQSBvZiBnKWlmKHZvaWQgMCE9PUkucHJvdG90eXBlW0FdKXRocm93IG5ldyBFcnJvcihgVGhlIHByb3BlcnR5IFxgJHtBfVxgIGFscmVhZHkgZXhpc3RzIG9uIFxgdGFyZ2V0XGBgKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoSS5wcm90b3R5cGUsQSx7ZW51bWVyYWJsZTohMSxnZXQ6ZnVuY3Rpb24gZ2V0RW1pdHRlcnlQcm9wZXJ0eSgpe3JldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxBLHtlbnVtZXJhYmxlOiExLHZhbHVlOm5ldyBFbWl0dGVyeTJ9KSx0aGlzW0FdfX0pO2NvbnN0IGVtaXR0ZXJ5TWV0aG9kQ2FsbGVyPWc9PmZ1bmN0aW9uKC4uLkkpe3JldHVybiB0aGlzW0FdW2ddKC4uLkkpfTtmb3IoY29uc3QgQSBvZiBnKU9iamVjdC5kZWZpbmVQcm9wZXJ0eShJLnByb3RvdHlwZSxBLHtlbnVtZXJhYmxlOiExLHZhbHVlOmVtaXR0ZXJ5TWV0aG9kQ2FsbGVyKEEpfSk7cmV0dXJuIEl9fXN0YXRpYyBnZXQgaXNEZWJ1Z0VuYWJsZWQoKXt2YXIgQSxnO2lmKCJvYmplY3QiIT10eXBlb2YobnVsbD09KEE9Z2xvYmFsVGhpcy5wcm9jZXNzKT92b2lkIDA6QS5lbnYpKXJldHVybiByO2NvbnN0e2VudjpJfT1udWxsIT0oZz1nbG9iYWxUaGlzLnByb2Nlc3MpP2c6e2Vudjp7fX07cmV0dXJuImVtaXR0ZXJ5Ij09PUkuREVCVUd8fCIqIj09PUkuREVCVUd8fHJ9c3RhdGljIHNldCBpc0RlYnVnRW5hYmxlZChBKXtyPUF9Y29uc3RydWN0b3IoQT17fSl7dmFyIGc7Qi5zZXQodGhpcyxuZXcgU2V0KSxFLnNldCh0aGlzLG5ldyBNYXApLFEuc2V0KHRoaXMsbmV3IE1hcCksUS5nZXQodGhpcykuc2V0KG8sbmV3IFNldCksdGhpcy5kZWJ1Zz1udWxsIT0oZz1BLmRlYnVnKT9nOnt9LHZvaWQgMD09PXRoaXMuZGVidWcuZW5hYmxlZCYmKHRoaXMuZGVidWcuZW5hYmxlZD0hMSksdGhpcy5kZWJ1Zy5sb2dnZXJ8fCh0aGlzLmRlYnVnLmxvZ2dlcj0oQSxnLEksQyk9Pnt0cnl7Qz1KU09OLnN0cmluZ2lmeShDKX1jYXRjaHtDPWBPYmplY3Qgd2l0aCB0aGUgZm9sbG93aW5nIGtleXMgZmFpbGVkIHRvIHN0cmluZ2lmeTogJHtPYmplY3Qua2V5cyhDKS5qb2luKCIsIil9YH0ic3ltYm9sIiE9dHlwZW9mIEkmJiJudW1iZXIiIT10eXBlb2YgSXx8KEk9SS50b1N0cmluZygpKTtjb25zdCBCPW5ldyBEYXRlLEU9YCR7Qi5nZXRIb3VycygpfToke0IuZ2V0TWludXRlcygpfToke0IuZ2V0U2Vjb25kcygpfS4ke0IuZ2V0TWlsbGlzZWNvbmRzKCl9YDtjb25zb2xlLmxvZyhgWyR7RX1dW2VtaXR0ZXJ5OiR7QX1dWyR7Z31dIEV2ZW50IE5hbWU6ICR7SX1cblx0ZGF0YTogJHtDfWApfSl9bG9nSWZEZWJ1Z0VuYWJsZWQoQSxnLEkpeyhFbWl0dGVyeTIuaXNEZWJ1Z0VuYWJsZWR8fHRoaXMuZGVidWcuZW5hYmxlZCkmJnRoaXMuZGVidWcubG9nZ2VyKEEsdGhpcy5kZWJ1Zy5uYW1lLGcsSSl9b24oQSxnKXthc3NlcnRMaXN0ZW5lciQxKGcpLEE9QXJyYXkuaXNBcnJheShBKT9BOltBXTtmb3IoY29uc3QgSSBvZiBBKXthc3NlcnRFdmVudE5hbWUkMShJKTtsZXQgQT1nZXRMaXN0ZW5lcnMkMSh0aGlzLEkpO2lmKCFBKXtBPW5ldyBTZXQ7RS5nZXQodGhpcykuc2V0KEksQSl9QS5hZGQoZyksdGhpcy5sb2dJZkRlYnVnRW5hYmxlZCgic3Vic2NyaWJlIixJLHZvaWQgMCksaXNNZXRhRXZlbnQkMShJKXx8ZW1pdE1ldGFFdmVudCQxKHRoaXMsRCx7ZXZlbnROYW1lOkksbGlzdGVuZXI6Z30pfXJldHVybiB0aGlzLm9mZi5iaW5kKHRoaXMsQSxnKX1vZmYoQSxnKXthc3NlcnRMaXN0ZW5lciQxKGcpLEE9QXJyYXkuaXNBcnJheShBKT9BOltBXTtmb3IoY29uc3QgSSBvZiBBKXthc3NlcnRFdmVudE5hbWUkMShJKTtjb25zdCBBPWdldExpc3RlbmVycyQxKHRoaXMsSSk7aWYoQSYmKEEuZGVsZXRlKGcpLDA9PT1BLnNpemUpKXtFLmdldCh0aGlzKS5kZWxldGUoSSl9dGhpcy5sb2dJZkRlYnVnRW5hYmxlZCgidW5zdWJzY3JpYmUiLEksdm9pZCAwKSxpc01ldGFFdmVudCQxKEkpfHxlbWl0TWV0YUV2ZW50JDEodGhpcyxlLHtldmVudE5hbWU6SSxsaXN0ZW5lcjpnfSl9fW9uY2UoQSl7bGV0IGc7Y29uc3QgST1uZXcgUHJvbWlzZSgoST0+e2c9dGhpcy5vbihBLChBPT57ZygpLEkoQSl9KSl9KSk7cmV0dXJuIEkub2ZmPWcsSX1ldmVudHMoQSl7QT1BcnJheS5pc0FycmF5KEEpP0E6W0FdO2Zvcihjb25zdCBnIG9mIEEpYXNzZXJ0RXZlbnROYW1lJDEoZyk7cmV0dXJuIGl0ZXJhdG9yJDEodGhpcyxBKX1hc3luYyBlbWl0KEEsZyl7dmFyIEk7aWYoYXNzZXJ0RXZlbnROYW1lJDEoQSksaXNNZXRhRXZlbnQkMShBKSYmIXQpdGhyb3cgbmV3IFR5cGVFcnJvcigiYGV2ZW50TmFtZWAgY2Fubm90IGJlIG1ldGEgZXZlbnQgYGxpc3RlbmVyQWRkZWRgIG9yIGBsaXN0ZW5lclJlbW92ZWRgIik7dGhpcy5sb2dJZkRlYnVnRW5hYmxlZCgiZW1pdCIsQSxnKSxmdW5jdGlvbiBlbnF1ZXVlUHJvZHVjZXJzJDEoQSxnLEkpe2NvbnN0IEM9US5nZXQoQSk7aWYoQy5oYXMoZykpZm9yKGNvbnN0IEIgb2YgQy5nZXQoZykpQi5lbnF1ZXVlKEkpO2lmKEMuaGFzKG8pKXtjb25zdCBBPVByb21pc2UuYWxsKFtnLEldKTtmb3IoY29uc3QgZyBvZiBDLmdldChvKSlnLmVucXVldWUoQSl9fSh0aGlzLEEsZyk7Y29uc3QgQz1udWxsIT0oST1nZXRMaXN0ZW5lcnMkMSh0aGlzLEEpKT9JOm5ldyBTZXQsRT1CLmdldCh0aGlzKSxEPVsuLi5DXSxlPWlzTWV0YUV2ZW50JDEoQSk/W106Wy4uLkVdO2F3YWl0IGksYXdhaXQgUHJvbWlzZS5hbGwoWy4uLkQubWFwKChhc3luYyBBPT57aWYoQy5oYXMoQSkpcmV0dXJuIEEoZyl9KSksLi4uZS5tYXAoKGFzeW5jIEk9PntpZihFLmhhcyhJKSlyZXR1cm4gSShBLGcpfSkpXSl9YXN5bmMgZW1pdFNlcmlhbChBLGcpe3ZhciBJO2lmKGFzc2VydEV2ZW50TmFtZSQxKEEpLGlzTWV0YUV2ZW50JDEoQSkmJiF0KXRocm93IG5ldyBUeXBlRXJyb3IoImBldmVudE5hbWVgIGNhbm5vdCBiZSBtZXRhIGV2ZW50IGBsaXN0ZW5lckFkZGVkYCBvciBgbGlzdGVuZXJSZW1vdmVkYCIpO3RoaXMubG9nSWZEZWJ1Z0VuYWJsZWQoImVtaXRTZXJpYWwiLEEsZyk7Y29uc3QgQz1udWxsIT0oST1nZXRMaXN0ZW5lcnMkMSh0aGlzLEEpKT9JOm5ldyBTZXQsRT1CLmdldCh0aGlzKSxRPVsuLi5DXSxvPVsuLi5FXTthd2FpdCBpO2Zvcihjb25zdCBCIG9mIFEpQy5oYXMoQikmJmF3YWl0IEIoZyk7Zm9yKGNvbnN0IEIgb2YgbylFLmhhcyhCKSYmYXdhaXQgQihBLGcpfW9uQW55KEEpe3JldHVybiBhc3NlcnRMaXN0ZW5lciQxKEEpLHRoaXMubG9nSWZEZWJ1Z0VuYWJsZWQoInN1YnNjcmliZUFueSIsdm9pZCAwLHZvaWQgMCksQi5nZXQodGhpcykuYWRkKEEpLGVtaXRNZXRhRXZlbnQkMSh0aGlzLEQse2xpc3RlbmVyOkF9KSx0aGlzLm9mZkFueS5iaW5kKHRoaXMsQSl9YW55RXZlbnQoKXtyZXR1cm4gaXRlcmF0b3IkMSh0aGlzKX1vZmZBbnkoQSl7YXNzZXJ0TGlzdGVuZXIkMShBKSx0aGlzLmxvZ0lmRGVidWdFbmFibGVkKCJ1bnN1YnNjcmliZUFueSIsdm9pZCAwLHZvaWQgMCksZW1pdE1ldGFFdmVudCQxKHRoaXMsZSx7bGlzdGVuZXI6QX0pLEIuZ2V0KHRoaXMpLmRlbGV0ZShBKX1jbGVhckxpc3RlbmVycyhBKXtBPUFycmF5LmlzQXJyYXkoQSk/QTpbQV07Zm9yKGNvbnN0IGcgb2YgQSlpZih0aGlzLmxvZ0lmRGVidWdFbmFibGVkKCJjbGVhciIsZyx2b2lkIDApLCJzdHJpbmciPT10eXBlb2YgZ3x8InN5bWJvbCI9PXR5cGVvZiBnfHwibnVtYmVyIj09dHlwZW9mIGcpe2NvbnN0IEE9Z2V0TGlzdGVuZXJzJDEodGhpcyxnKTtBJiZBLmNsZWFyKCk7Y29uc3QgST1nZXRFdmVudFByb2R1Y2VycyQxKHRoaXMsZyk7aWYoSSl7Zm9yKGNvbnN0IEEgb2YgSSlBLmZpbmlzaCgpO0kuY2xlYXIoKX19ZWxzZXtCLmdldCh0aGlzKS5jbGVhcigpO2Zvcihjb25zdFtBLGddb2YgRS5nZXQodGhpcykuZW50cmllcygpKWcuY2xlYXIoKSxFLmdldCh0aGlzKS5kZWxldGUoQSk7Zm9yKGNvbnN0W0EsZ11vZiBRLmdldCh0aGlzKS5lbnRyaWVzKCkpe2Zvcihjb25zdCBBIG9mIGcpQS5maW5pc2goKTtnLmNsZWFyKCksUS5nZXQodGhpcykuZGVsZXRlKEEpfX19bGlzdGVuZXJDb3VudChBKXt2YXIgZyxJLEMsbyxpLEQ7QT1BcnJheS5pc0FycmF5KEEpP0E6W0FdO2xldCBlPTA7Zm9yKGNvbnN0IHQgb2YgQSlpZigic3RyaW5nIiE9dHlwZW9mIHQpe3ZvaWQgMCE9PXQmJmFzc2VydEV2ZW50TmFtZSQxKHQpLGUrPUIuZ2V0KHRoaXMpLnNpemU7Zm9yKGNvbnN0IEEgb2YgRS5nZXQodGhpcykudmFsdWVzKCkpZSs9QS5zaXplO2Zvcihjb25zdCBBIG9mIFEuZ2V0KHRoaXMpLnZhbHVlcygpKWUrPUEuc2l6ZX1lbHNlIGUrPUIuZ2V0KHRoaXMpLnNpemUrKG51bGwhPShJPW51bGw9PShnPWdldExpc3RlbmVycyQxKHRoaXMsdCkpP3ZvaWQgMDpnLnNpemUpP0k6MCkrKG51bGwhPShvPW51bGw9PShDPWdldEV2ZW50UHJvZHVjZXJzJDEodGhpcyx0KSk/dm9pZCAwOkMuc2l6ZSk/bzowKSsobnVsbCE9KEQ9bnVsbD09KGk9Z2V0RXZlbnRQcm9kdWNlcnMkMSh0aGlzKSk/dm9pZCAwOmkuc2l6ZSk/RDowKTtyZXR1cm4gZX1iaW5kTWV0aG9kcyhBLGcpe2lmKCJvYmplY3QiIT10eXBlb2YgQXx8bnVsbD09PUEpdGhyb3cgbmV3IFR5cGVFcnJvcigiYHRhcmdldGAgbXVzdCBiZSBhbiBvYmplY3QiKTtnPWRlZmF1bHRNZXRob2ROYW1lc09yQXNzZXJ0JDEoZyk7Zm9yKGNvbnN0IEkgb2YgZyl7aWYodm9pZCAwIT09QVtJXSl0aHJvdyBuZXcgRXJyb3IoYFRoZSBwcm9wZXJ0eSBcYCR7SX1cYCBhbHJlYWR5IGV4aXN0cyBvbiBcYHRhcmdldFxgYCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KEEsSSx7ZW51bWVyYWJsZTohMSx2YWx1ZTp0aGlzW0ldLmJpbmQodGhpcyl9KX19fTtjb25zdCBNPU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGEucHJvdG90eXBlKS5maWx0ZXIoKEE9PiJjb25zdHJ1Y3RvciIhPT1BKSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGEsImxpc3RlbmVyQWRkZWQiLHt2YWx1ZTpELHdyaXRhYmxlOiExLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiExfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGEsImxpc3RlbmVyUmVtb3ZlZCIse3ZhbHVlOmUsd3JpdGFibGU6ITEsZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITF9KTtjb25zdCBuPWNyZWF0ZUdsb2JhbFRoaXNWYXJpYWJsZSgicmVnaXN0ZXJlZFdvcmtlcnMiLHt9KTtpc1dvcmtlcigpJiZmdW5jdGlvbiBpbml0V29ya2VyKCl7Y29uc3QgQT17fTtvbm1lc3NhZ2U9YXN5bmMgZz0+e2NvbnN0IEI9Zy5kYXRhO3N3aXRjaChCLnR5cGUpe2Nhc2UgQy5JTklUOiFmdW5jdGlvbiBoYW5kbGVDb21tYW5kSW5pdChBLGcpe2lmKCFBLmFyZ3MpdGhyb3ciTWlzc2luZyBjbGFzc05hbWUgd2hpbGUgaW5pdGlhbGl6aW5nIHdvcmtlciI7Y29uc3RbQixFXT1BLmFyZ3MsUT1uW0JdO2lmKCFRKXRocm93YHVua25vd24gd29ya2VyIGNsYXNzICR7Qn1gO2cuaW5zdGFuY2U9bmV3IFEoQS5hcmdzLnNsaWNlKDEpKSxjb3B5KEUsSSksZnVuY3Rpb24gaXNJbnN0YW5jZU9mRW1pdHRlcnkoQSl7cmV0dXJuIEEub25BbnkmJkEuZW1pdH0oZy5pbnN0YW5jZSkmJmcuaW5zdGFuY2Uub25BbnkoKChBLGcpPT57cG9zdENvbW1hbmQoe3R5cGU6Qy5FVkVOVH0se25hbWU6QSxkYXRhOmd9KX0pKSxwb3N0Q29tbWFuZChBLHZvaWQgMCE9PXR5cGVvZiBnLmluc3RhbmNlKX0oQixBKTticmVhaztjYXNlIEMuRk9SV0FSRDohYXN5bmMgZnVuY3Rpb24gaGFuZGxlQ29tbWFuZEZvcndhcmQoQSxnKXtjb25zdHtmdW5jdGlvbk5hbWU6SSxhcmdzOkN9PUE7aWYoIWcuaW5zdGFuY2UpdGhyb3ciaW5zdGFuY2Ugbm90IGluaXRpYWxpemVkIjtpZighSSl0aHJvdyJtaXNzaW5nIGZ1bmN0aW9uIG5hbWUgdG8gY2FsbCI7aWYoIWcuaW5zdGFuY2VbSV0pdGhyb3dgdW5kZWZpbmVkIGZ1bmN0aW9uIFske0l9XSBpbiBjbGFzcyAke2cuaW5zdGFuY2UuY29uc3RydWN0b3Iud29ya2VySWR9YDtwb3N0Q29tbWFuZChBLGF3YWl0IGcuaW5zdGFuY2VbSV0oLi4ubnVsbCE9Qz9DOltdKSl9KEIsQSk7YnJlYWs7Y2FzZSBDLlRFUk1JTkFURTohYXN5bmMgZnVuY3Rpb24gaGFuZGxlQ29tbWFuZFRlcm1pbmF0ZShBLGcpe2NvbnN0e2FyZ3M6SX09QTtpZighZy5pbnN0YW5jZSl0aHJvdyJpbnN0YW5jZSBub3QgaW5pdGlhbGl6ZWQiO2xldCBDO2cuaW5zdGFuY2UudGVybWluYXRlJiYoQz1hd2FpdCBnLmluc3RhbmNlLnRlcm1pbmF0ZSguLi5udWxsIT1JP0k6W10pKSxwb3N0Q29tbWFuZChBLEMpfShCLEEpO2JyZWFrO2Nhc2UgQy5HTE9CQUxTX1NZTkM6IWZ1bmN0aW9uIGhhbmRsZUNvbW1hbmRHbG9iYWxzU3luYyhBKXtpZighQS5hcmdzKXRocm93Ik1pc3NpbmcgZ2xvYmFscyB3aGlsZSBzeW5jaW5nIjtjb3B5KEEuYXJnc1swXSxJKSxwb3N0Q29tbWFuZChBLHt9KX0oQil9fX0oKTtjb25zdCB3PW5ldyBXZWFrTWFwLHM9bmV3IFdlYWtNYXAsSz1uZXcgV2Vha01hcCx5PVN5bWJvbCgiYW55UHJvZHVjZXIiKSxoPVByb21pc2UucmVzb2x2ZSgpLFk9U3ltYm9sKCJsaXN0ZW5lckFkZGVkIiksTj1TeW1ib2woImxpc3RlbmVyUmVtb3ZlZCIpO2xldCBjPSExLEc9ITE7ZnVuY3Rpb24gYXNzZXJ0RXZlbnROYW1lKEEpe2lmKCJzdHJpbmciIT10eXBlb2YgQSYmInN5bWJvbCIhPXR5cGVvZiBBJiYibnVtYmVyIiE9dHlwZW9mIEEpdGhyb3cgbmV3IFR5cGVFcnJvcigiYGV2ZW50TmFtZWAgbXVzdCBiZSBhIHN0cmluZywgc3ltYm9sLCBvciBudW1iZXIiKX1mdW5jdGlvbiBhc3NlcnRMaXN0ZW5lcihBKXtpZigiZnVuY3Rpb24iIT10eXBlb2YgQSl0aHJvdyBuZXcgVHlwZUVycm9yKCJsaXN0ZW5lciBtdXN0IGJlIGEgZnVuY3Rpb24iKX1mdW5jdGlvbiBnZXRMaXN0ZW5lcnMoQSxnKXtjb25zdCBJPXMuZ2V0KEEpO2lmKEkuaGFzKGcpKXJldHVybiBJLmdldChnKX1mdW5jdGlvbiBnZXRFdmVudFByb2R1Y2VycyhBLGcpe2NvbnN0IEk9InN0cmluZyI9PXR5cGVvZiBnfHwic3ltYm9sIj09dHlwZW9mIGd8fCJudW1iZXIiPT10eXBlb2YgZz9nOnksQz1LLmdldChBKTtpZihDLmhhcyhJKSlyZXR1cm4gQy5nZXQoSSl9ZnVuY3Rpb24gaXRlcmF0b3IoQSxnKXtnPUFycmF5LmlzQXJyYXkoZyk/ZzpbZ107bGV0IEk9ITEsZmx1c2g9KCk9Pnt9LEM9W107Y29uc3QgQj17ZW5xdWV1ZShBKXtDLnB1c2goQSksZmx1c2goKX0sZmluaXNoKCl7ST0hMCxmbHVzaCgpfX07Zm9yKGNvbnN0IEUgb2YgZyl7bGV0IGc9Z2V0RXZlbnRQcm9kdWNlcnMoQSxFKTtpZighZyl7Zz1uZXcgU2V0O0suZ2V0KEEpLnNldChFLGcpfWcuYWRkKEIpfXJldHVybnthc3luYyBuZXh0KCl7cmV0dXJuIEM/MD09PUMubGVuZ3RoP0k/KEM9dm9pZCAwLHRoaXMubmV4dCgpKTooYXdhaXQgbmV3IFByb21pc2UoKEE9PntmbHVzaD1BfSkpLHRoaXMubmV4dCgpKTp7ZG9uZTohMSx2YWx1ZTphd2FpdCBDLnNoaWZ0KCl9Ontkb25lOiEwfX0sYXN5bmMgcmV0dXJuKEkpe0M9dm9pZCAwO2Zvcihjb25zdCBDIG9mIGcpe2NvbnN0IGc9Z2V0RXZlbnRQcm9kdWNlcnMoQSxDKTtpZihnJiYoZy5kZWxldGUoQiksMD09PWcuc2l6ZSkpe0suZ2V0KEEpLmRlbGV0ZShDKX19cmV0dXJuIGZsdXNoKCksYXJndW1lbnRzLmxlbmd0aD4wP3tkb25lOiEwLHZhbHVlOmF3YWl0IEl9Ontkb25lOiEwfX0sW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSgpe3JldHVybiB0aGlzfX19ZnVuY3Rpb24gZGVmYXVsdE1ldGhvZE5hbWVzT3JBc3NlcnQoQSl7aWYodm9pZCAwPT09QSlyZXR1cm4gUztpZighQXJyYXkuaXNBcnJheShBKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJgbWV0aG9kTmFtZXNgIG11c3QgYmUgYW4gYXJyYXkgb2Ygc3RyaW5ncyIpO2Zvcihjb25zdCBnIG9mIEEpaWYoIVMuaW5jbHVkZXMoZykpe2lmKCJzdHJpbmciIT10eXBlb2YgZyl0aHJvdyBuZXcgVHlwZUVycm9yKCJgbWV0aG9kTmFtZXNgIGVsZW1lbnQgbXVzdCBiZSBhIHN0cmluZyIpO3Rocm93IG5ldyBFcnJvcihgJHtnfSBpcyBub3QgRW1pdHRlcnkgbWV0aG9kYCl9cmV0dXJuIEF9Y29uc3QgaXNNZXRhRXZlbnQ9QT0+QT09PVl8fEE9PT1OO2Z1bmN0aW9uIGVtaXRNZXRhRXZlbnQoQSxnLEkpe2lmKGlzTWV0YUV2ZW50KGcpKXRyeXtjPSEwLEEuZW1pdChnLEkpfWZpbmFsbHl7Yz0hMX19Y2xhc3MgRW1pdHRlcnl7c3RhdGljIG1peGluKEEsZyl7cmV0dXJuIGc9ZGVmYXVsdE1ldGhvZE5hbWVzT3JBc3NlcnQoZyksST0+e2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBJKXRocm93IG5ldyBUeXBlRXJyb3IoImB0YXJnZXRgIG11c3QgYmUgZnVuY3Rpb24iKTtmb3IoY29uc3QgQSBvZiBnKWlmKHZvaWQgMCE9PUkucHJvdG90eXBlW0FdKXRocm93IG5ldyBFcnJvcihgVGhlIHByb3BlcnR5IFxgJHtBfVxgIGFscmVhZHkgZXhpc3RzIG9uIFxgdGFyZ2V0XGBgKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoSS5wcm90b3R5cGUsQSx7ZW51bWVyYWJsZTohMSxnZXQ6ZnVuY3Rpb24gZ2V0RW1pdHRlcnlQcm9wZXJ0eSgpe3JldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxBLHtlbnVtZXJhYmxlOiExLHZhbHVlOm5ldyBFbWl0dGVyeX0pLHRoaXNbQV19fSk7Y29uc3QgZW1pdHRlcnlNZXRob2RDYWxsZXI9Zz0+ZnVuY3Rpb24oLi4uSSl7cmV0dXJuIHRoaXNbQV1bZ10oLi4uSSl9O2Zvcihjb25zdCBBIG9mIGcpT2JqZWN0LmRlZmluZVByb3BlcnR5KEkucHJvdG90eXBlLEEse2VudW1lcmFibGU6ITEsdmFsdWU6ZW1pdHRlcnlNZXRob2RDYWxsZXIoQSl9KTtyZXR1cm4gSX19c3RhdGljIGdldCBpc0RlYnVnRW5hYmxlZCgpe2lmKCJvYmplY3QiIT10eXBlb2YgZ2xvYmFsVGhpcy5wcm9jZXNzPy5lbnYpcmV0dXJuIEc7Y29uc3R7ZW52OkF9PWdsb2JhbFRoaXMucHJvY2Vzcz8/e2Vudjp7fX07cmV0dXJuImVtaXR0ZXJ5Ij09PUEuREVCVUd8fCIqIj09PUEuREVCVUd8fEd9c3RhdGljIHNldCBpc0RlYnVnRW5hYmxlZChBKXtHPUF9Y29uc3RydWN0b3IoQT17fSl7dy5zZXQodGhpcyxuZXcgU2V0KSxzLnNldCh0aGlzLG5ldyBNYXApLEsuc2V0KHRoaXMsbmV3IE1hcCksSy5nZXQodGhpcykuc2V0KHksbmV3IFNldCksdGhpcy5kZWJ1Zz1BLmRlYnVnPz97fSx2b2lkIDA9PT10aGlzLmRlYnVnLmVuYWJsZWQmJih0aGlzLmRlYnVnLmVuYWJsZWQ9ITEpLHRoaXMuZGVidWcubG9nZ2VyfHwodGhpcy5kZWJ1Zy5sb2dnZXI9KEEsZyxJLEMpPT57dHJ5e0M9SlNPTi5zdHJpbmdpZnkoQyl9Y2F0Y2h7Qz1gT2JqZWN0IHdpdGggdGhlIGZvbGxvd2luZyBrZXlzIGZhaWxlZCB0byBzdHJpbmdpZnk6ICR7T2JqZWN0LmtleXMoQykuam9pbigiLCIpfWB9InN5bWJvbCIhPXR5cGVvZiBJJiYibnVtYmVyIiE9dHlwZW9mIEl8fChJPUkudG9TdHJpbmcoKSk7Y29uc3QgQj1uZXcgRGF0ZSxFPWAke0IuZ2V0SG91cnMoKX06JHtCLmdldE1pbnV0ZXMoKX06JHtCLmdldFNlY29uZHMoKX0uJHtCLmdldE1pbGxpc2Vjb25kcygpfWA7Y29uc29sZS5sb2coYFske0V9XVtlbWl0dGVyeToke0F9XVske2d9XSBFdmVudCBOYW1lOiAke0l9XG5cdGRhdGE6ICR7Q31gKX0pfWxvZ0lmRGVidWdFbmFibGVkKEEsZyxJKXsoRW1pdHRlcnkuaXNEZWJ1Z0VuYWJsZWR8fHRoaXMuZGVidWcuZW5hYmxlZCkmJnRoaXMuZGVidWcubG9nZ2VyKEEsdGhpcy5kZWJ1Zy5uYW1lLGcsSSl9b24oQSxnKXthc3NlcnRMaXN0ZW5lcihnKSxBPUFycmF5LmlzQXJyYXkoQSk/QTpbQV07Zm9yKGNvbnN0IEkgb2YgQSl7YXNzZXJ0RXZlbnROYW1lKEkpO2xldCBBPWdldExpc3RlbmVycyh0aGlzLEkpO2lmKCFBKXtBPW5ldyBTZXQ7cy5nZXQodGhpcykuc2V0KEksQSl9QS5hZGQoZyksdGhpcy5sb2dJZkRlYnVnRW5hYmxlZCgic3Vic2NyaWJlIixJLHZvaWQgMCksaXNNZXRhRXZlbnQoSSl8fGVtaXRNZXRhRXZlbnQodGhpcyxZLHtldmVudE5hbWU6SSxsaXN0ZW5lcjpnfSl9cmV0dXJuIHRoaXMub2ZmLmJpbmQodGhpcyxBLGcpfW9mZihBLGcpe2Fzc2VydExpc3RlbmVyKGcpLEE9QXJyYXkuaXNBcnJheShBKT9BOltBXTtmb3IoY29uc3QgSSBvZiBBKXthc3NlcnRFdmVudE5hbWUoSSk7Y29uc3QgQT1nZXRMaXN0ZW5lcnModGhpcyxJKTtpZihBJiYoQS5kZWxldGUoZyksMD09PUEuc2l6ZSkpe3MuZ2V0KHRoaXMpLmRlbGV0ZShJKX10aGlzLmxvZ0lmRGVidWdFbmFibGVkKCJ1bnN1YnNjcmliZSIsSSx2b2lkIDApLGlzTWV0YUV2ZW50KEkpfHxlbWl0TWV0YUV2ZW50KHRoaXMsTix7ZXZlbnROYW1lOkksbGlzdGVuZXI6Z30pfX1vbmNlKEEpe2xldCBnO2NvbnN0IEk9bmV3IFByb21pc2UoKEk9PntnPXRoaXMub24oQSwoQT0+e2coKSxJKEEpfSkpfSkpO3JldHVybiBJLm9mZj1nLEl9ZXZlbnRzKEEpe0E9QXJyYXkuaXNBcnJheShBKT9BOltBXTtmb3IoY29uc3QgZyBvZiBBKWFzc2VydEV2ZW50TmFtZShnKTtyZXR1cm4gaXRlcmF0b3IodGhpcyxBKX1hc3luYyBlbWl0KEEsZyl7aWYoYXNzZXJ0RXZlbnROYW1lKEEpLGlzTWV0YUV2ZW50KEEpJiYhYyl0aHJvdyBuZXcgVHlwZUVycm9yKCJgZXZlbnROYW1lYCBjYW5ub3QgYmUgbWV0YSBldmVudCBgbGlzdGVuZXJBZGRlZGAgb3IgYGxpc3RlbmVyUmVtb3ZlZGAiKTt0aGlzLmxvZ0lmRGVidWdFbmFibGVkKCJlbWl0IixBLGcpLGZ1bmN0aW9uIGVucXVldWVQcm9kdWNlcnMoQSxnLEkpe2NvbnN0IEM9Sy5nZXQoQSk7aWYoQy5oYXMoZykpZm9yKGNvbnN0IEIgb2YgQy5nZXQoZykpQi5lbnF1ZXVlKEkpO2lmKEMuaGFzKHkpKXtjb25zdCBBPVByb21pc2UuYWxsKFtnLEldKTtmb3IoY29uc3QgZyBvZiBDLmdldCh5KSlnLmVucXVldWUoQSl9fSh0aGlzLEEsZyk7Y29uc3QgST1nZXRMaXN0ZW5lcnModGhpcyxBKT8/bmV3IFNldCxDPXcuZ2V0KHRoaXMpLEI9Wy4uLkldLEU9aXNNZXRhRXZlbnQoQSk/W106Wy4uLkNdO2F3YWl0IGgsYXdhaXQgUHJvbWlzZS5hbGwoWy4uLkIubWFwKChhc3luYyBBPT57aWYoSS5oYXMoQSkpcmV0dXJuIEEoZyl9KSksLi4uRS5tYXAoKGFzeW5jIEk9PntpZihDLmhhcyhJKSlyZXR1cm4gSShBLGcpfSkpXSl9YXN5bmMgZW1pdFNlcmlhbChBLGcpe2lmKGFzc2VydEV2ZW50TmFtZShBKSxpc01ldGFFdmVudChBKSYmIWMpdGhyb3cgbmV3IFR5cGVFcnJvcigiYGV2ZW50TmFtZWAgY2Fubm90IGJlIG1ldGEgZXZlbnQgYGxpc3RlbmVyQWRkZWRgIG9yIGBsaXN0ZW5lclJlbW92ZWRgIik7dGhpcy5sb2dJZkRlYnVnRW5hYmxlZCgiZW1pdFNlcmlhbCIsQSxnKTtjb25zdCBJPWdldExpc3RlbmVycyh0aGlzLEEpPz9uZXcgU2V0LEM9dy5nZXQodGhpcyksQj1bLi4uSV0sRT1bLi4uQ107YXdhaXQgaDtmb3IoY29uc3QgUSBvZiBCKUkuaGFzKFEpJiZhd2FpdCBRKGcpO2Zvcihjb25zdCBRIG9mIEUpQy5oYXMoUSkmJmF3YWl0IFEoQSxnKX1vbkFueShBKXtyZXR1cm4gYXNzZXJ0TGlzdGVuZXIoQSksdGhpcy5sb2dJZkRlYnVnRW5hYmxlZCgic3Vic2NyaWJlQW55Iix2b2lkIDAsdm9pZCAwKSx3LmdldCh0aGlzKS5hZGQoQSksZW1pdE1ldGFFdmVudCh0aGlzLFkse2xpc3RlbmVyOkF9KSx0aGlzLm9mZkFueS5iaW5kKHRoaXMsQSl9YW55RXZlbnQoKXtyZXR1cm4gaXRlcmF0b3IodGhpcyl9b2ZmQW55KEEpe2Fzc2VydExpc3RlbmVyKEEpLHRoaXMubG9nSWZEZWJ1Z0VuYWJsZWQoInVuc3Vic2NyaWJlQW55Iix2b2lkIDAsdm9pZCAwKSxlbWl0TWV0YUV2ZW50KHRoaXMsTix7bGlzdGVuZXI6QX0pLHcuZ2V0KHRoaXMpLmRlbGV0ZShBKX1jbGVhckxpc3RlbmVycyhBKXtBPUFycmF5LmlzQXJyYXkoQSk/QTpbQV07Zm9yKGNvbnN0IGcgb2YgQSlpZih0aGlzLmxvZ0lmRGVidWdFbmFibGVkKCJjbGVhciIsZyx2b2lkIDApLCJzdHJpbmciPT10eXBlb2YgZ3x8InN5bWJvbCI9PXR5cGVvZiBnfHwibnVtYmVyIj09dHlwZW9mIGcpe2NvbnN0IEE9Z2V0TGlzdGVuZXJzKHRoaXMsZyk7QSYmQS5jbGVhcigpO2NvbnN0IEk9Z2V0RXZlbnRQcm9kdWNlcnModGhpcyxnKTtpZihJKXtmb3IoY29uc3QgQSBvZiBJKUEuZmluaXNoKCk7SS5jbGVhcigpfX1lbHNle3cuZ2V0KHRoaXMpLmNsZWFyKCk7Zm9yKGNvbnN0W0EsZ11vZiBzLmdldCh0aGlzKS5lbnRyaWVzKCkpZy5jbGVhcigpLHMuZ2V0KHRoaXMpLmRlbGV0ZShBKTtmb3IoY29uc3RbQSxnXW9mIEsuZ2V0KHRoaXMpLmVudHJpZXMoKSl7Zm9yKGNvbnN0IEEgb2YgZylBLmZpbmlzaCgpO2cuY2xlYXIoKSxLLmdldCh0aGlzKS5kZWxldGUoQSl9fX1saXN0ZW5lckNvdW50KEEpe0E9QXJyYXkuaXNBcnJheShBKT9BOltBXTtsZXQgZz0wO2Zvcihjb25zdCBJIG9mIEEpaWYoInN0cmluZyIhPXR5cGVvZiBJKXt2b2lkIDAhPT1JJiZhc3NlcnRFdmVudE5hbWUoSSksZys9dy5nZXQodGhpcykuc2l6ZTtmb3IoY29uc3QgQSBvZiBzLmdldCh0aGlzKS52YWx1ZXMoKSlnKz1BLnNpemU7Zm9yKGNvbnN0IEEgb2YgSy5nZXQodGhpcykudmFsdWVzKCkpZys9QS5zaXplfWVsc2UgZys9dy5nZXQodGhpcykuc2l6ZSsoZ2V0TGlzdGVuZXJzKHRoaXMsSSk/LnNpemU/PzApKyhnZXRFdmVudFByb2R1Y2Vycyh0aGlzLEkpPy5zaXplPz8wKSsoZ2V0RXZlbnRQcm9kdWNlcnModGhpcyk/LnNpemU/PzApO3JldHVybiBnfWJpbmRNZXRob2RzKEEsZyl7aWYoIm9iamVjdCIhPXR5cGVvZiBBfHxudWxsPT09QSl0aHJvdyBuZXcgVHlwZUVycm9yKCJgdGFyZ2V0YCBtdXN0IGJlIGFuIG9iamVjdCIpO2c9ZGVmYXVsdE1ldGhvZE5hbWVzT3JBc3NlcnQoZyk7Zm9yKGNvbnN0IEkgb2YgZyl7aWYodm9pZCAwIT09QVtJXSl0aHJvdyBuZXcgRXJyb3IoYFRoZSBwcm9wZXJ0eSBcYCR7SX1cYCBhbHJlYWR5IGV4aXN0cyBvbiBcYHRhcmdldFxgYCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KEEsSSx7ZW51bWVyYWJsZTohMSx2YWx1ZTp0aGlzW0ldLmJpbmQodGhpcyl9KX19fWNvbnN0IFM9T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoRW1pdHRlcnkucHJvdG90eXBlKS5maWx0ZXIoKEE9PiJjb25zdHJ1Y3RvciIhPT1BKSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KEVtaXR0ZXJ5LCJsaXN0ZW5lckFkZGVkIix7dmFsdWU6WSx3cml0YWJsZTohMSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShFbWl0dGVyeSwibGlzdGVuZXJSZW1vdmVkIix7dmFsdWU6Tix3cml0YWJsZTohMSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMX0pO3ZhciBSPShBPT4oQVtBLlZQOD0wXT0iVlA4IixBW0EuSDI2ND0xXT0iSDI2NCIsQVtBLk9QVVM9Ml09Ik9QVVMiLEEpKShSfHx7fSk7Y29uc3QgRj1jbGFzcyBfRW5jcnlwdGlvbkVuZ2luZSBleHRlbmRzIEVtaXR0ZXJ5e2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLmlzRGVjcnlwdGlvbkVuYWJsZWQ9ITAsdGhpcy5wYXlsb2FkVHlwZXM9e30sdGhpcy5pc09uU3VjY2Vzc0VuYWJsZWQ9ITF9YXN5bmMgaW5pdCgpe3RyeXt0aGlzLmluc3RhbmNlPWF3YWl0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZVdhc21JbnN0YW5jZSgpe3JldHVybiBnKCl9KCksdGhpcy5lbmNyeXB0b3I9bmV3IHRoaXMuaW5zdGFuY2UuU0ZyYW1lRW5naW5lKHRoaXMuaW5zdGFuY2UuRW5naW5lVHlwZS5FTkNSWVBUT1IsdGhpcy5pbnN0YW5jZS5DaXBoZXJTdWl0ZS5BRVNfQ1RSXzEyOF9ITUFDX1NIQTI1Nl84MCksdGhpcy5kZWNyeXB0b3I9bmV3IHRoaXMuaW5zdGFuY2UuU0ZyYW1lRW5naW5lKHRoaXMuaW5zdGFuY2UuRW5naW5lVHlwZS5ERUNSWVBUT1IsdGhpcy5pbnN0YW5jZS5DaXBoZXJTdWl0ZS5BRVNfQ1RSXzEyOF9ITUFDX1NIQTI1Nl84MCksc2VsZi5hZGRFdmVudExpc3RlbmVyKCJydGN0cmFuc2Zvcm0iLChBPT57Y29uc29sZS5sb2coInJ0Y3RyYW5zZm9ybSIsQSk7Y29uc3R7dHJhbnNmb3JtZXI6e29wdGlvbnM6e3R5cGU6ZyxpZDpJfSxyZWFkYWJsZTpDLHdyaXRhYmxlOkJ9fT1BO3N3aXRjaChnKXtjYXNlImVuY3J5cHQiOnRoaXMuZW5jcnlwdChJLEMsQik7YnJlYWs7Y2FzZSJkZWNyeXB0Ijp0aGlzLmRlY3J5cHQoSSxDLEIpfX0pKX1jYXRjaChBKXtjb25zb2xlLmVycm9yKCJJTklUIEVSUlJPUiIsQSl9fWFzeW5jIHNldEVuYWJsZU9uU3VjY2VzcyhBKXt0aGlzLmlzT25TdWNjZXNzRW5hYmxlZD1BfWVuYWJsZURlY3J5cHRpb24oKXt0aGlzLmlzRGVjcnlwdGlvbkVuYWJsZWQ9ITB9ZGlzYWJsZURlY3J5cHRpb24oKXt0aGlzLmlzRGVjcnlwdGlvbkVuYWJsZWQ9ITF9c2V0S2V5KEEpe2lmKCF0aGlzLmVuY3J5cHRvcnx8IXRoaXMuZGVjcnlwdG9yKXRocm93IGNvbnNvbGUuZXJyb3IoIkVuZ2luZSBtdXN0IGJlIGluaXRpYWxpemVkIiksIkVuZ2luZSBtdXN0IGJlIGluaXRpYWxpemVkIjt0aGlzLnVwZGF0ZUVuZ2luZUtleSh0aGlzLmVuY3J5cHRvcixBKSx0aGlzLnVwZGF0ZUVuZ2luZUtleSh0aGlzLmRlY3J5cHRvcixBKX1hZGRQYXlsb2FkVHlwZXMoQSl7dGhpcy5wYXlsb2FkVHlwZXM9ey4uLnRoaXMucGF5bG9hZFR5cGVzLC4uLkF9fXJlbW92ZUtleShBKXtpZighdGhpcy5lbmNyeXB0b3J8fCF0aGlzLmRlY3J5cHRvcil0aHJvdyBjb25zb2xlLmVycm9yKCJFbmdpbmUgbXVzdCBiZSBpbml0aWFsaXplZCIpLCJFbmdpbmUgbXVzdCBiZSBpbml0aWFsaXplZCI7dGhpcy5lbmNyeXB0b3IucmVtb3ZlQmFzZUtleShCaWdJbnQoQSkpLHRoaXMuZGVjcnlwdG9yLnJlbW92ZUJhc2VLZXkoQmlnSW50KEEpKX1lbmNyeXB0KEEsZyxJKXt0aGlzLnRyYW5zZm9ybVN0cmVhbShnLEksKGc9PntpZighdGhpcy5lbmNyeXB0b3IpdGhyb3cgY29uc29sZS5lcnJvcigiRW5naW5lIG11c3QgYmUgaW5pdGlhbGl6ZWQiKSwiRW5naW5lIG11c3QgYmUgaW5pdGlhbGl6ZWQiO3RoaXMucHJvY2Vzc0ZyYW1lKHRoaXMuZW5jcnlwdG9yLEEsZyl9KSl9ZGVjcnlwdChBLGcsSSl7dGhpcy50cmFuc2Zvcm1TdHJlYW0oZyxJLChnPT57aWYoIXRoaXMuZGVjcnlwdG9yKXRocm93IGNvbnNvbGUuZXJyb3IoIkVuZ2luZSBtdXN0IGJlIGluaXRpYWxpemVkIiksIkVuZ2luZSBtdXN0IGJlIGluaXRpYWxpemVkIjt0aGlzLmlzRGVjcnlwdGlvbkVuYWJsZWQmJnRoaXMucHJvY2Vzc0ZyYW1lKHRoaXMuZGVjcnlwdG9yLEEsZyl9KSl9c2V0Q29kZWNzKEEsZyl7dGhpcy5hdWRpb0NvZGVjPUEsdGhpcy52aWRlb0NvZGVjPWd9YXN5bmMgdHJhbnNmb3JtU3RyZWFtKEEsZyxJKXtjb25zdCBDPUEuZ2V0UmVhZGVyKCksQj1nLmdldFdyaXRlcigpO2Zvcig7Oyl0cnl7Y29uc3R7dmFsdWU6QX09YXdhaXQgQy5yZWFkKCk7SShBKSxhd2FpdCBCLnJlYWR5LGF3YWl0IEIud3JpdGUoQSl9Y2F0Y2goRSl7Y29uc29sZS5sb2coIkVSUk9SIixFKX19dXBkYXRlRW5naW5lS2V5KEEsZyl7Y29uc3QgST1BLmdldEtleUJ1ZmZlcihnLmtleS5sZW5ndGgpO2xldCBDPWcua2V5OyJzdHJpbmciPT10eXBlb2YgQyYmKEM9VWludDhBcnJheS5mcm9tKEMuc3BsaXQoIiIpLm1hcCgoQT0+QS5jaGFyQ29kZUF0KDApKSkpKSxJLnNldChDKSxBLmFkZE9yVXBkYXRlQmFzZUtleShCaWdJbnQoZy5raWQpKX1wcm9jZXNzRnJhbWUoQSxnLEkpe2lmKDA9PT1JLmRhdGEuYnl0ZUxlbmd0aClyZXR1cm4gdm9pZCB0aGlzLmVtaXQoImVtcHR5RnJhbWUiLHttZXNzYWdlOmBFTVBUWSAke0kgaW5zdGFuY2VvZiBSVENFbmNvZGVkQXVkaW9GcmFtZT8iQVVESU8iOiJWSURFTyJ9IEZSQU1FYH0pO2lmKCF0aGlzLmluc3RhbmNlKXRocm93IGNvbnNvbGUuZXJyb3IoIkVuZ2luZSBtdXN0IGJlIGluaXRpYWxpemVkIiksIk5vdCBpbml0aWFsaXplZCI7bGV0IEM7aWYodm9pZCAwIT09dGhpcy5hdWRpb0NvZGVjJiZJIGluc3RhbmNlb2YgUlRDRW5jb2RlZEF1ZGlvRnJhbWUpQz10aGlzLmF1ZGlvQ29kZWM7ZWxzZSBpZih2b2lkIDAhPT10aGlzLnZpZGVvQ29kZWMmJkkgaW5zdGFuY2VvZiBSVENFbmNvZGVkVmlkZW9GcmFtZSlDPXRoaXMudmlkZW9Db2RlYztlbHNle2NvbnN0IEE9SS5nZXRNZXRhZGF0YSgpO0M9dGhpcy5wYXlsb2FkVHlwZXNbQS5wYXlsb2FkVHlwZV19c3dpdGNoKEMpe2Nhc2UgUi5WUDg6QS5zZXRTa2lwT2Zmc2V0KHRoaXMuaW5zdGFuY2U/LlNraXBPZmZzZXQuVlA4KTticmVhaztjYXNlIFIuSDI2NDpBLnNldFNraXBPZmZzZXQodGhpcy5pbnN0YW5jZT8uU2tpcE9mZnNldC5IMjY0KTticmVhaztjYXNlIFIuT1BVUzpBLnNldFNraXBPZmZzZXQodGhpcy5pbnN0YW5jZT8uU2tpcE9mZnNldC5PUFVTKTticmVhaztkZWZhdWx0OnRoaXMuZW1pdCgid2FybmluZyIse21lc3NhZ2U6IlVua25vd24gY29kZWMifSl9Y29uc3QgQj1uZXcgVWludDhBcnJheShJLmRhdGEpLEU9dGhpcy5ydW5FbmdpbmVBbGdvcml0aG0oQSxnLEIpLFE9QS5nZXRTdGF0dXMoKTtpZihRPT09dGhpcy5pbnN0YW5jZS5TdGF0dXMuT0smJkUuYnl0ZUxlbmd0aD4wKUkuZGF0YT1uZXcgQXJyYXlCdWZmZXIoRS5ieXRlTGVuZ3RoKSxuZXcgVWludDhBcnJheShJLmRhdGEpLnNldChFKSx0aGlzLmlzT25TdWNjZXNzRW5hYmxlZCYmdGhpcy5lbWl0KCJzdWNjZXNzIix7fSk7ZWxzZSBzd2l0Y2goUSl7Y2FzZSB0aGlzLmluc3RhbmNlLlN0YXR1cy5GQUlMRURfVE9fQVVUSEVOVElDQVRFOnRoaXMuZW1pdCgiZXJyb3IiLHttZXNzYWdlOiJFUlJPUjogRkFJTEVEX1RPX0FVVEhFTlRJQ0FURSJ9KTticmVhaztjYXNlIHRoaXMuaW5zdGFuY2UuU3RhdHVzLkZBSUxFRF9UT19ERUNSWVBUOnRoaXMuZW1pdCgiZXJyb3IiLHttZXNzYWdlOiJFUlJPUjogRkFJTEVEX1RPX0RFQ1JZUFQifSk7YnJlYWs7Y2FzZSB0aGlzLmluc3RhbmNlLlN0YXR1cy5GQUlMRURfVE9fRU5DUllQVDp0aGlzLmVtaXQoImVycm9yIix7bWVzc2FnZToiRVJST1I6IEZBSUxFRF9UT19FTkNSWVBUIn0pO2JyZWFrO2Nhc2UgdGhpcy5pbnN0YW5jZS5TdGF0dXMuRkFJTF9QQVJTRV9DT0RFQ19IRUFERVI6dGhpcy5lbWl0KCJlcnJvciIse21lc3NhZ2U6IkVSUk9SOiBGQUlMX1BBUlNFX0NPREVDX0hFQURFUiJ9KTticmVhaztjYXNlIHRoaXMuaW5zdGFuY2UuU3RhdHVzLk5VTExfSU5QVVRfRlJBTUU6dGhpcy5lbWl0KCJlcnJvciIse21lc3NhZ2U6IkVSUk9SOiBOVUxMX0lOUFVUX0ZSQU1FIn0pO2JyZWFrO2Nhc2UgdGhpcy5pbnN0YW5jZS5TdGF0dXMuTlVMTF9PVVRQVVRfRlJBTUU6dGhpcy5lbWl0KCJlcnJvciIse21lc3NhZ2U6IkVSUk9SOiBOVUxMX09VVFBVVF9GUkFNRSJ9KTticmVhaztjYXNlIHRoaXMuaW5zdGFuY2UuU3RhdHVzLlVOS05PV046dGhpcy5lbWl0KCJlcnJvciIse21lc3NhZ2U6IkVSUk9SOiBVTktOT1dOIn0pO2JyZWFrO2Nhc2UgdGhpcy5pbnN0YW5jZS5TdGF0dXMuT0s6dGhpcy5lbWl0KCJlcnJvciIse21lc3NhZ2U6IkVSUk9SOiBFTVBUWSBPVVRQVVQifSl9fXJ1bkVuZ2luZUFsZ29yaXRobShBLGcsSSl7dHJ5e0EuZ2V0SW5wdXRGcmFtZShJLmxlbmd0aCkuc2V0KEkpO2NvbnN0IEM9QS5ydW5BbGdvcml0aG0oQmlnSW50KGcpKTtyZXR1cm4gQS5nZXRPdXRwdXRGcmFtZSgpLnNsaWNlKDAsQyl9Y2F0Y2goQyl7cmV0dXJuIGNvbnNvbGUubG9nKCJGQUlMIixJLmxlbmd0aCxDKSxuZXcgVWludDhBcnJheShbXSl9fX07IWZ1bmN0aW9uIHJlZ2lzdGVyV29ya2VyKEEsZyl7Zy53b3JrZXJJZD1BLGlzV29ya2VyKCkmJihuW2cud29ya2VySWRdPWcpfSgiZW5jcnlwdGlvbi1lbmdpbmUiLEYpfSgpOwo=",We="undefined"!==typeof window&&window.Blob&&new Blob([atob(Ze)],{type:"text/javascript;charset=utf-8"});function Oe(){let e;try{if(e=We&&(window.URL||window.webkitURL).createObjectURL(We),!e)throw"";return new Worker(e)}catch(t){return new Worker("data:application/javascript;base64,"+Ze)}finally{e&&(window.URL||window.webkitURL).revokeObjectURL(e)}}let Je=function(e){function t(t,n){var i;return void 0===t&&(t=0),(i=e.call(this)||this).senderId=t,i.config=n,i}(0,l.default)(t,e);var n=t.prototype;return n.init=function(){var e=(0,u.default)(s.default.mark((function e(){return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te(Ve,Oe);case 2:return this.worker=e.sent,e.next=5,this.worker.init();case 5:this.worker.onAny(((e,t)=>{const n=new Event(e);n.id=t.id,n.senderId=t.senderId,this.dispatchEvent(n)}));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.create=function(){var e=(0,u.default)(s.default.mark((function e(n,i){var r;return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===i&&(i={}),r=new t(n,i),e.next=4,r.init();case 4:return e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),n.setEnableDecryption=function(){var e=(0,u.default)(s.default.mark((function e(t){var n,i;return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}return e.next=3,null==(n=this.worker)?void 0:n.enableDecryption();case 3:e.next=7;break;case 5:return e.next=7,null==(i=this.worker)?void 0:i.disableDecryption();case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.setEnableOnSuccess=function(){var e=(0,u.default)(s.default.mark((function e(t){var n;return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null==(n=this.worker)?void 0:n.setEnableOnSuccess(t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.setSenderEncryptionKey=function(){var e=(0,u.default)(s.default.mark((function e(t){var n;return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null==(n=this.worker)?void 0:n.setKey({kid:this.senderId,key:t});case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.addReceiver=function(){var e=(0,u.default)(s.default.mark((function e(t){var n;return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null==(n=this.worker)?void 0:n.setKey({kid:t,key:""});case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.setReceiverEncryptionKey=function(){var e=(0,u.default)(s.default.mark((function e(t,n){var i;return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null==(i=this.worker)?void 0:i.setKey({kid:t,key:n});case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),n.deleteReceiver=function(){var e=(0,u.default)(s.default.mark((function e(t){var n;return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null==(n=this.worker)?void 0:n.removeKey(t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.encrypt=function(){var e=(0,u.default)(s.default.mark((function e(t,n){return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.createPipeline(t,n,"encrypt"));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),n.decrypt=function(){var e=(0,u.default)(s.default.mark((function e(t,n){return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.createPipeline(t,n,"decrypt"));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),n.createPipeline=function(){var e=(0,u.default)(s.default.mark((function e(t,n,i){var r,o,a,c,l,d;return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.createEncodedStreams){e.next=15;break}return e.next=3,this.updateWorkerWithParameters(n.getParameters());case 3:return e.prev=3,o=n.createEncodedStreams(),a=o.readable,c=o.writable,e.next=7,null==(r=this.worker)?void 0:r[i](t,a,c);case 7:e.next=13;break;case 9:throw e.prev=9,e.t0=e.catch(3),console.error("Fail to retrieve streams",e.t0),e.t0;case 13:e.next=21;break;case 15:if(!window.RTCRtpScriptTransform){e.next=20;break}d=null==(l=this.worker)?void 0:l.workerContext.worker,n.transform=new window.RTCRtpScriptTransform(d,{type:i,id:t}),e.next=21;break;case 20:throw"Unsupported stream processing";case 21:case"end":return e.stop()}}),e,this,[[3,9]])})));return function(t,n,i){return e.apply(this,arguments)}}(),n.close=function(){var e=(0,u.default)(s.default.mark((function e(){var t;return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null==(t=this.worker)?void 0:t.terminate();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.setCodecs=function(){var e=(0,u.default)(s.default.mark((function e(t,n){var i;return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null==(i=this.worker)?void 0:i.setCodecs(t,n);case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),n.updateWorkerWithParameters=function(){var e=(0,u.default)(s.default.mark((function e(t){var n;return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.worker){e.next=2;break}throw"Client not initialized, missing worker";case 2:if(0!==t.codecs.length){e.next=4;break}throw"Empty codecs list, ensure your connection are in a proper state";case 4:return n=this.getPayloadTypesFromCodecs(t.codecs),e.next=7,this.worker.addPayloadTypes(n);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.getPayloadTypesFromCodecs=function(e){const t={};for(var n,i=A(e);!(n=i()).done;){const e=n.value,i=e.mimeType.toLowerCase();i.includes("vp8")?t[e.payloadType]=g.VP8:i.includes("h264")?t[e.payloadType]=g.H264:i.includes("opus")&&(t[e.payloadType]=g.OPUS)}return t},t}((0,c.default)(EventTarget));t.Client=Je}).call(this,n(2),n(28),"/",n(771).Buffer)},function(e,t,i){"use strict";var r=i(772),o=i(773),a=i(774);function s(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function c(e,t){if(s()<t)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=l.prototype:(null===e&&(e=new l(t)),e.length=t),e}function l(e,t,n){if(!l.TYPED_ARRAY_SUPPORT&&!(this instanceof l))return new l(e,t,n);if("number"===typeof e){if("string"===typeof t)throw new Error("If encoding is specified then the first argument must be a string");return h(this,e)}return d(this,e,t,n)}function d(e,t,n,i){if("number"===typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,i){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(i||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===i?new Uint8Array(t):void 0===i?new Uint8Array(t,n):new Uint8Array(t,n,i),l.TYPED_ARRAY_SUPPORT?(e=t).__proto__=l.prototype:e=A(e,t),e}(e,t,n,i):"string"===typeof t?function(e,t,n){if("string"===typeof n&&""!==n||(n="utf8"),!l.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var i=0|g(t,n),r=(e=c(e,i)).write(t,n);return r!==i&&(e=e.slice(0,r)),e}(e,t,n):function(e,t){if(l.isBuffer(t)){var n=0|p(t.length);return 0===(e=c(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!==typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!==typeof t.length||(i=t.length)!==i?c(e,0):A(e,t);if("Buffer"===t.type&&a(t.data))return A(e,t.data)}var i;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function u(e){if("number"!==typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function h(e,t){if(u(t),e=c(e,t<0?0:0|p(t)),!l.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function A(e,t){var n=t.length<0?0:0|p(t.length);e=c(e,n);for(var i=0;i<n;i+=1)e[i]=255&t[i];return e}function p(e){if(e>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|e}function g(e,t){if(l.isBuffer(e))return e.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!==typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return x(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return M(e).length;default:if(i)return x(e).length;t=(""+t).toLowerCase(),i=!0}}function f(e,t,n){var i=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return N(this,t,n);case"utf8":case"utf-8":return S(this,t,n);case"ascii":return B(this,t,n);case"latin1":case"binary":return T(this,t,n);case"base64":return R(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,t,n);default:if(i)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}function m(e,t,n){var i=e[t];e[t]=e[n],e[n]=i}function E(e,t,n,i,r){if(0===e.length)return-1;if("string"===typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=r?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(r)return-1;n=e.length-1}else if(n<0){if(!r)return-1;n=0}if("string"===typeof t&&(t=l.from(t,i)),l.isBuffer(t))return 0===t.length?-1:C(e,t,n,i,r);if("number"===typeof t)return t&=255,l.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):C(e,[t],n,i,r);throw new TypeError("val must be string, number or Buffer")}function C(e,t,n,i,r){var o,a=1,s=e.length,c=t.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(e.length<2||t.length<2)return-1;a=2,s/=2,c/=2,n/=2}function l(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(r){var d=-1;for(o=n;o<s;o++)if(l(e,o)===l(t,-1===d?0:o-d)){if(-1===d&&(d=o),o-d+1===c)return d*a}else-1!==d&&(o-=o-d),d=-1}else for(n+c>s&&(n=s-c),o=n;o>=0;o--){for(var u=!0,h=0;h<c;h++)if(l(e,o+h)!==l(t,h)){u=!1;break}if(u)return o}return-1}function I(e,t,n,i){n=Number(n)||0;var r=e.length-n;i?(i=Number(i))>r&&(i=r):i=r;var o=t.length;if(o%2!==0)throw new TypeError("Invalid hex string");i>o/2&&(i=o/2);for(var a=0;a<i;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function Q(e,t,n,i){return L(x(t,e.length-n),e,n,i)}function U(e,t,n,i){return L(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,i)}function y(e,t,n,i){return U(e,t,n,i)}function b(e,t,n,i){return L(M(t),e,n,i)}function v(e,t,n,i){return L(function(e,t){for(var n,i,r,o=[],a=0;a<e.length&&!((t-=2)<0);++a)i=(n=e.charCodeAt(a))>>8,r=n%256,o.push(r),o.push(i);return o}(t,e.length-n),e,n,i)}function R(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function S(e,t,n){n=Math.min(e.length,n);for(var i=[],r=t;r<n;){var o,a,s,c,l=e[r],d=null,u=l>239?4:l>223?3:l>191?2:1;if(r+u<=n)switch(u){case 1:l<128&&(d=l);break;case 2:128===(192&(o=e[r+1]))&&(c=(31&l)<<6|63&o)>127&&(d=c);break;case 3:o=e[r+1],a=e[r+2],128===(192&o)&&128===(192&a)&&(c=(15&l)<<12|(63&o)<<6|63&a)>2047&&(c<55296||c>57343)&&(d=c);break;case 4:o=e[r+1],a=e[r+2],s=e[r+3],128===(192&o)&&128===(192&a)&&128===(192&s)&&(c=(15&l)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&c<1114112&&(d=c)}null===d?(d=65533,u=1):d>65535&&(d-=65536,i.push(d>>>10&1023|55296),d=56320|1023&d),i.push(d),r+=u}return function(e){var t=e.length;if(t<=F)return String.fromCharCode.apply(String,e);for(var n="",i=0;i<t;)n+=String.fromCharCode.apply(String,e.slice(i,i+=F));return n}(i)}t.Buffer=l,t.SlowBuffer=function(e){return+e!=e&&(e=0),l.alloc(+e)},t.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==(void 0!==typeof window?window:n.g).TYPED_ARRAY_SUPPORT?(void 0!==typeof window?window:n.g).TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"===typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}(),t.kMaxLength=s(),l.poolSize=8192,l._augment=function(e){return e.__proto__=l.prototype,e},l.from=function(e,t,n){return d(null,e,t,n)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(e,t,n){return function(e,t,n,i){return u(t),t<=0?c(e,t):void 0!==n?"string"===typeof i?c(e,t).fill(n,i):c(e,t).fill(n):c(e,t)}(null,e,t,n)},l.allocUnsafe=function(e){return h(null,e)},l.allocUnsafeSlow=function(e){return h(null,e)},l.isBuffer=function(e){return!(null==e||!e._isBuffer)},l.compare=function(e,t){if(!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,i=t.length,r=0,o=Math.min(n,i);r<o;++r)if(e[r]!==t[r]){n=e[r],i=t[r];break}return n<i?-1:i<n?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!a(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var i=l.allocUnsafe(t),r=0;for(n=0;n<e.length;++n){var o=e[n];if(!l.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(i,r),r+=o.length}return i},l.byteLength=g,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)m(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},l.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?S(this,0,e):f.apply(this,arguments)},l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},l.prototype.compare=function(e,t,n,i,r){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===i&&(i=0),void 0===r&&(r=this.length),t<0||n>e.length||i<0||r>this.length)throw new RangeError("out of range index");if(i>=r&&t>=n)return 0;if(i>=r)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(r>>>=0)-(i>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(o,a),c=this.slice(i,r),d=e.slice(t,n),u=0;u<s;++u)if(c[u]!==d[u]){o=c[u],a=d[u];break}return o<a?-1:a<o?1:0},l.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},l.prototype.indexOf=function(e,t,n){return E(this,e,t,n,!0)},l.prototype.lastIndexOf=function(e,t,n){return E(this,e,t,n,!1)},l.prototype.write=function(e,t,n,i){if(void 0===t)i="utf8",n=this.length,t=0;else if(void 0===n&&"string"===typeof t)i=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var r=this.length-t;if((void 0===n||n>r)&&(n=r),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var o=!1;;)switch(i){case"hex":return I(this,e,t,n);case"utf8":case"utf-8":return Q(this,e,t,n);case"ascii":return U(this,e,t,n);case"latin1":case"binary":return y(this,e,t,n);case"base64":return b(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return v(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var F=4096;function B(e,t,n){var i="";n=Math.min(e.length,n);for(var r=t;r<n;++r)i+=String.fromCharCode(127&e[r]);return i}function T(e,t,n){var i="";n=Math.min(e.length,n);for(var r=t;r<n;++r)i+=String.fromCharCode(e[r]);return i}function N(e,t,n){var i,r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var o="",a=t;a<n;++a)o+=(i=e[a])<16?"0"+i.toString(16):i.toString(16);return o}function _(e,t,n){for(var i=e.slice(t,n),r="",o=0;o<i.length;o+=2)r+=String.fromCharCode(i[o]+256*i[o+1]);return r}function w(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function k(e,t,n,i,r,o){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>r||t<o)throw new RangeError('"value" argument is out of bounds');if(n+i>e.length)throw new RangeError("Index out of range")}function D(e,t,n,i){t<0&&(t=65535+t+1);for(var r=0,o=Math.min(e.length-n,2);r<o;++r)e[n+r]=(t&255<<8*(i?r:1-r))>>>8*(i?r:1-r)}function V(e,t,n,i){t<0&&(t=4294967295+t+1);for(var r=0,o=Math.min(e.length-n,4);r<o;++r)e[n+r]=t>>>8*(i?r:3-r)&255}function Z(e,t,n,i,r,o){if(n+i>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function W(e,t,n,i,r){return r||Z(e,0,n,4),o.write(e,t,n,i,23,4),n+4}function O(e,t,n,i,r){return r||Z(e,0,n,8),o.write(e,t,n,i,52,8),n+8}l.prototype.slice=function(e,t){var n,i=this.length;if((e=~~e)<0?(e+=i)<0&&(e=0):e>i&&(e=i),(t=void 0===t?i:~~t)<0?(t+=i)<0&&(t=0):t>i&&(t=i),t<e&&(t=e),l.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=l.prototype;else{var r=t-e;n=new l(r,void 0);for(var o=0;o<r;++o)n[o]=this[o+e]}return n},l.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||w(e,t,this.length);for(var i=this[e],r=1,o=0;++o<t&&(r*=256);)i+=this[e+o]*r;return i},l.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||w(e,t,this.length);for(var i=this[e+--t],r=1;t>0&&(r*=256);)i+=this[e+--t]*r;return i},l.prototype.readUInt8=function(e,t){return t||w(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return t||w(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return t||w(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return t||w(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return t||w(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||w(e,t,this.length);for(var i=this[e],r=1,o=0;++o<t&&(r*=256);)i+=this[e+o]*r;return i>=(r*=128)&&(i-=Math.pow(2,8*t)),i},l.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||w(e,t,this.length);for(var i=t,r=1,o=this[e+--i];i>0&&(r*=256);)o+=this[e+--i]*r;return o>=(r*=128)&&(o-=Math.pow(2,8*t)),o},l.prototype.readInt8=function(e,t){return t||w(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){t||w(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(e,t){t||w(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(e,t){return t||w(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return t||w(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return t||w(e,4,this.length),o.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return t||w(e,4,this.length),o.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return t||w(e,8,this.length),o.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return t||w(e,8,this.length),o.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,n,i){e=+e,t|=0,n|=0,i||k(this,e,t,n,Math.pow(2,8*n)-1,0);var r=1,o=0;for(this[t]=255&e;++o<n&&(r*=256);)this[t+o]=e/r&255;return t+n},l.prototype.writeUIntBE=function(e,t,n,i){e=+e,t|=0,n|=0,i||k(this,e,t,n,Math.pow(2,8*n)-1,0);var r=n-1,o=1;for(this[t+r]=255&e;--r>=0&&(o*=256);)this[t+r]=e/o&255;return t+n},l.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||k(this,e,t,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||k(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):D(this,e,t,!0),t+2},l.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||k(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):D(this,e,t,!1),t+2},l.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||k(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):V(this,e,t,!0),t+4},l.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||k(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):V(this,e,t,!1),t+4},l.prototype.writeIntLE=function(e,t,n,i){if(e=+e,t|=0,!i){var r=Math.pow(2,8*n-1);k(this,e,t,n,r-1,-r)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},l.prototype.writeIntBE=function(e,t,n,i){if(e=+e,t|=0,!i){var r=Math.pow(2,8*n-1);k(this,e,t,n,r-1,-r)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},l.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||k(this,e,t,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||k(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):D(this,e,t,!0),t+2},l.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||k(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):D(this,e,t,!1),t+2},l.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||k(this,e,t,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):V(this,e,t,!0),t+4},l.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||k(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):V(this,e,t,!1),t+4},l.prototype.writeFloatLE=function(e,t,n){return W(this,e,t,!0,n)},l.prototype.writeFloatBE=function(e,t,n){return W(this,e,t,!1,n)},l.prototype.writeDoubleLE=function(e,t,n){return O(this,e,t,!0,n)},l.prototype.writeDoubleBE=function(e,t,n){return O(this,e,t,!1,n)},l.prototype.copy=function(e,t,n,i){if(n||(n=0),i||0===i||(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-n&&(i=e.length-t+n);var r,o=i-n;if(this===e&&n<t&&t<i)for(r=o-1;r>=0;--r)e[r+t]=this[r+n];else if(o<1e3||!l.TYPED_ARRAY_SUPPORT)for(r=0;r<o;++r)e[r+t]=this[r+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},l.prototype.fill=function(e,t,n,i){if("string"===typeof e){if("string"===typeof t?(i=t,t=0,n=this.length):"string"===typeof n&&(i=n,n=this.length),1===e.length){var r=e.charCodeAt(0);r<256&&(e=r)}if(void 0!==i&&"string"!==typeof i)throw new TypeError("encoding must be a string");if("string"===typeof i&&!l.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"===typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"===typeof e)for(o=t;o<n;++o)this[o]=e;else{var a=l.isBuffer(e)?e:x(new l(e,i).toString()),s=a.length;for(o=0;o<n-t;++o)this[o+t]=a[o%s]}return this};var J=/[^+\/0-9A-Za-z-_]/g;function x(e,t){var n;t=t||1/0;for(var i=e.length,r=null,o=[],a=0;a<i;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!r){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===i){(t-=3)>-1&&o.push(239,191,189);continue}r=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&(t-=3)>-1&&o.push(239,191,189);if(r=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function M(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(J,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function L(e,t,n,i){for(var r=0;r<i&&!(r+n>=t.length||r>=e.length);++r)t[r+n]=e[r];return r}},function(e,t,n){"use strict";t.byteLength=function(e){var t=c(e),n=t[0],i=t[1];return 3*(n+i)/4-i},t.toByteArray=function(e){var t,n,i=c(e),a=i[0],s=i[1],l=new o(function(e,t,n){return 3*(t+n)/4-n}(0,a,s)),d=0,u=s>0?a-4:a;for(n=0;n<u;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],l[d++]=t>>16&255,l[d++]=t>>8&255,l[d++]=255&t;return 2===s&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,l[d++]=255&t),1===s&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,l[d++]=t>>8&255,l[d++]=255&t),l},t.fromByteArray=function(e){for(var t,n=e.length,r=n%3,o=[],a=16383,s=0,c=n-r;s<c;s+=a)o.push(l(e,s,s+a>c?c:s+a));return 1===r?(t=e[n-1],o.push(i[t>>2]+i[t<<4&63]+"==")):2===r&&(t=(e[n-2]<<8)+e[n-1],o.push(i[t>>10]+i[t>>4&63]+i[t<<2&63]+"=")),o.join("")};for(var i=[],r=[],o="undefined"!==typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0;s<64;++s)i[s]=a[s],r[a.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function l(e,t,n){for(var r,o,a=[],s=t;s<n;s+=3)r=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(i[(o=r)>>18&63]+i[o>>12&63]+i[o>>6&63]+i[63&o]);return a.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,i,r){var o,a,s=8*r-i-1,c=(1<<s)-1,l=c>>1,d=-7,u=n?r-1:0,h=n?-1:1,A=e[t+u];for(u+=h,o=A&(1<<-d)-1,A>>=-d,d+=s;d>0;o=256*o+e[t+u],u+=h,d-=8);for(a=o&(1<<-d)-1,o>>=-d,d+=i;d>0;a=256*a+e[t+u],u+=h,d-=8);if(0===o)o=1-l;else{if(o===c)return a?NaN:1/0*(A?-1:1);a+=Math.pow(2,i),o-=l}return(A?-1:1)*a*Math.pow(2,o-i)},t.write=function(e,t,n,i,r,o){var a,s,c,l=8*o-r-1,d=(1<<l)-1,u=d>>1,h=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,A=i?0:o-1,p=i?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=d):(a=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-a))<1&&(a--,c*=2),(t+=a+u>=1?h/c:h*Math.pow(2,1-u))*c>=2&&(a++,c/=2),a+u>=d?(s=0,a=d):a+u>=1?(s=(t*c-1)*Math.pow(2,r),a+=u):(s=t*Math.pow(2,u-1)*Math.pow(2,r),a=0));r>=8;e[n+A]=255&s,A+=p,s/=256,r-=8);for(a=a<<r|s,l+=r;l>0;e[n+A]=255&a,A+=p,a/=256,l-=8);e[n+A-p]|=128*g}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t){},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(4)),o=i(n(5));const a=function(){var e=(0,o.default)(r.default.mark((function e(t){var n,i,o;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t instanceof(null==(n=window)?void 0:n.CryptoKey)){e.next=2;break}return e.abrupt("return",t);case 2:return e.next=4,null==(i=window)?void 0:i.crypto.subtle.exportKey("raw",t);case 4:return o=e.sent,e.abrupt("return",new Uint8Array(o));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var s=a;t.default=s},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(311)),o=i(n(73)),a=i(n(778)),s=i(n(779));const c=(0,o.default)();var l=function(){function e(e,t){void 0===t&&(t={}),this.createPeerConnectionSDP=t.createPeerConnectionSDP||s.default,this._session=e,this.PeerConnection=t.PeerConnection||c,this.init()}var t=e.prototype;return t.init=function(){this.reset()},t.reset=function(){this._originalSendMessages={},this._tracks=[],this._currentAndPreviousMids=[],this._subscriberPcs={},this._peerConnectionSDP=this.createPeerConnectionSDP(),this._subscriberQueue=new a.default,this._sendMessage=()=>{},this._peerConnection&&(this._peerConnection.disconnect(),this._peerConnection=null)},t.parseOptions=function(e){return Object.assign({},e,{removeUnusedCodecs:!0,sendMessage:(e,t)=>{const n=Object.assign({},t);if(n.sdp){const t=this._peerConnectionSDP.getPartialSdp(e,n.sdp);n.sdp=t}this._sendMessage(e,n),"answer"===e&&this.subscriberComplete()}})},t.addTrackAddedListener=function(){this._peerConnection&&this._peerConnection.on("trackAdded",(e=>{const t=e.track,n=e.transceiver;this._currentAndPreviousMids.includes(n.mid)||(this._subscriberPcs[this._subscriberPcToAdd._id].push(t.id),this._tracks.push(t.id),this._currentAndPreviousMids.push(n.mid),this._subscriberPcToAdd._onTrackAdded(e))}))},t.getPeerConnection=function(e,t){if(this._subscriberPcToAdd=t,this._sendMessage=e.sendMessage,this._originalSendMessages[t._id]=this._sendMessage,this._peerConnection)this._peerConnection.addOptions(e);else{const t=this.parseOptions(e);this._peerConnection=new this.PeerConnection(t),this.addTrackAddedListener()}return this._subscriberPcs[t._id]=[],this._peerConnection},t.removeMessageSender=function(e){delete this._originalSendMessages[e];const t=Object.values(this._originalSendMessages);this._sendMessage=t[t.length-1]||function(){}},t.removeSubscriber=function(e,t){this.removeMessageSender(e),this._peerConnection.stopTransceivers(t)},t.generateOfferWithIceRestart=function(){this._peerConnection.iceRestart(),this._peerConnection.generateOfferAndSend()},t.generateOffer=function(){this._peerConnection.generateOfferAndAnswer((e=>{const t=this._peerConnectionSDP.setOfferAndCreateAnswer(e);this._peerConnection.processMessage("answer",{content:{sdp:t,mocked:!0}}),this._subscriberQueue.dequeueAndProcessNext()}))},t.removeFromSinglePeerConnection=function(e){delete this._subscriberPcs[e],Object.keys(this._subscriberPcs).length?(this._peerConnectionSDP.isHead(e)?this._subscriberQueue.finally((()=>this.generateOfferWithIceRestart())):this._subscriberQueue.enqueue((()=>this.generateOffer())),this._peerConnectionSDP.removeSubscriberMids(e)):this.reset()},t.removeTrack=function(e,t){const n=null==e?void 0:e.id;n&&((0,r.default)(this._tracks,n),(0,r.default)(this._subscriberPcs[t]||[],n))},t.destroy=function(){this.reset(),this._session=null},t.addSubscriber=function(e){this._subscriberQueue.enqueue(e)},t.addSubscriberMid=function(e,t){this._peerConnectionSDP.addSubscriberMid(e,t)},t.subscriberComplete=function(){this._subscriberQueue.dequeueAndProcessNext()},t.processRemoteSdp=function(e,t){return this._peerConnectionSDP.processRemoteSdp(e,t.content.sdp)},e}();t.default=l},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var i=function(){function e(){this.queue=[],this.isProcessing=!1}var t=e.prototype;return t.enqueue=function(e){this.isProcessing?this.queue.push(e):(this.isProcessing=!0,e())},t.debounce=function(){setTimeout((()=>this.dequeueAndProcessNext()),100)},t.finally=function(e){this.isProcessing?this.processFinal=e:(this.isProcessing=!0,this.processFinal=e,this.debounce())},t.dequeueAndProcessNext=function(){const e=this.queue.shift();e?e():this.processFinal?(this.processFinal(),this.processFinal=void 0):this.isProcessing=!1},e}();t.default=i},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(780)),o=i(n(21)),a=i(n(781)),s=i(n(782)),c=function(e){void 0===e&&(e={});const t=e.helpers||o.default,n=e.getFullRemoteSdp||(0,s.default)();return{sdp:{mids:[],mediaSections:[],headers:[],bundle:null,version:null,tracks:[]},subscribePcIdsByMid:{},updateParsedSdp(e){Object.assign(this.sdp,e)},updateSdpWithNewOffer(e){const n=t.updateSDPWithNewOffer({mediaSections:this.sdp.mediaSections,headers:this.sdp.headers,version:this.sdp.version},e.sdp);Object.assign(this.sdp,n)},setOfferAndCreateAnswer(e){return this.updateSdpWithNewOffer(e),t.createSDP(this.sdp.headers,this.sdp.mediaSections)},addSubscriberMid(e,t){this.subscribePcIdsByMid[e]=t},getPartialSdpAnswer(e){if(!this.midsToAdd)return e;const n=(0,r.default)(t.parseSDP(e),this.midsToAdd);return this.midsToAdd=void 0,t.createSDP(n.headers,n.mediaSections)},getIceRestartPartialSdp(e){const n=(0,a.default)(t.parseSDP(e));return t.createSDP(n.headers,n.mediaSections)},getPartialSdp(e,t){return"answer"===e?this.getPartialSdpAnswer(t):this.getIceRestartPartialSdp(t)},processRemoteSdp(e,i){const r=t.parseMantisSDP(i);"offer"===e&&(this.midsToAdd=r.mids);const o=n(e,r,this.sdp);return this.updateParsedSdp(o),t.createSDP(o.headers,o.mediaSections)},removeSubscriberMids(e){Object.keys(this.subscribePcIdsByMid).filter((t=>this.subscribePcIdsByMid[t]===e)).forEach((e=>{this.sdp.mids[this.sdp.mids.findIndex((t=>t===e))]=null,delete this.subscribePcIdsByMid[e]}))},isHead(e){const t=this.sdp.mids.find((e=>null!==e));return this.subscribePcIdsByMid[t]===e}}};t.default=c},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;const r=(0,i(n(1)).default)("partialSdp");var o=(e,t)=>{r.debug("full answer: ",e);const n=e.mediaSections.filter((e=>t.some((t=>e.join("").includes("a=mid:".concat(t)))))),i={headers:e.headers,mediaSections:n};return r.debug("partial answer: ",i),i};t.default=o},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;const r=(0,i(n(1)).default)("partialSdp");var o=e=>{r.debug("full offer: ",e);const t=e.mids.find((e=>null!==e)),n=e.mediaSections.find((e=>e.join("").includes("a=mid:".concat(t)))),i={headers:e.headers,mediaSections:[n]};return r.debug("partial offer: ",i),i};t.default=o},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(21)),o=i(n(783)),a=i(n(784));const s=(0,i(n(1)).default)("partialSdp");var c=function(e){void 0===e&&(e={});const t=e.getMediaSectionsForAnswer||o.default,n=e.getMediaSectionsForOffer||a.default,i=(e,i,o)=>{let a;return a="answer"===e?t(i,o):n(i,o),Object.assign({},i,{mediaSections:a,mids:a.map(r.default.getSectionMid)})};return(e,t,n)=>{if(!n.bundle||(r=t).tracks.length===r.mids.length)return t;var r;s.debug("partial remote sdp: ",t);const o=i(e,t,n);return s.debug("full reconstructed remote sdp: ",o),i(e,t,n)}};t.default=c},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(21)),o=(e,t)=>{const n=e.mids[0],i=t.tracks.slice(0,t.tracks.indexOf(n)).filter((e=>null!==e)),o=t.mids.indexOf(n);return[...t.mediaSections.slice(0,o).map((e=>{const t=r.default.getTrackMids(e)[0];return t&&i.includes(t)?r.default.getDisabledSectionForMid(t):e})),...e.mediaSections,...t.mediaSections.slice(o+1)]};t.default=o},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(21)),o=(e,t)=>{const n=t.mediaSections.map((e=>[...e]));let i=0;return e.mediaSections.forEach((e=>{for(;i<n.length;i++){const t=n[i];if(r.default.isDisabledMediaSection(t))return void(n[i]=e)}n.push(e)})),n};t.default=o},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=function(e){void 0===e&&(e={});const t=e.Session||(0,o.default)(),n=e.sessionObjects||r.default;return function(e,i,r){null==i&&(i=e,e=null),Array.isArray(i)&&1===i.length&&(i=i[0]);let o=n.sessions.get(i);return o||(o=new t(e,i,r),n.sessions.add(o)),o}};var r=i(n(24)),o=i(n(331))},function(e,t,i){"use strict";var r=i(0);t.__esModule=!0,t.default=void 0;var o=r(i(4)),a=r(i(5)),s=r(i(787)),c=r(i(284)),l=r(i(10)),d=r(i(13)),u=r(i(8)),h=r(i(3)),A=r(i(74)),p=r(i(21));const g=(0,r(i(148)).default)(void 0!==typeof window?window:n.g),f=(0,d.default)();function m(e){return(0,c.default)((0,s.default)(e,["AV1X","AV1","rtx","red","ulpfec","H265","X-H264UC","x-ulpfecuc"]))}const E=function(){var e=(0,a.default)(o.default.mark((function e(){var t,n,i,r,a,s,c;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"!==typeof window){e.next=2;break}return e.abrupt("return",{videoEncoders:[],videoDecoders:[]});case 2:if(t=g.RTCPeerConnection,!window.RTCRtpSender||!("getCapabilities"in window.RTCRtpSender)){e.next=7;break}return n=m(n=window.RTCRtpSender.getCapabilities("video").codecs.map((e=>e.mimeType||e.name)).map((e=>e.replace("video/","")))),e.abrupt("return",{videoEncoders:n,videoDecoders:n});case 7:if("Chrome"!==h.default.name||"captureStream"in window.HTMLCanvasElement.prototype){e.next=9;break}return e.abrupt("return",{videoEncoders:["VP8"],videoDecoders:["VP8"]});case 9:if(!h.default.isLegacyEdge){e.next=11;break}return e.abrupt("return",{videoEncoders:["H264","VP8"],videoDecoders:["H264","VP8"]});case 11:return(i=window.document.createElement("canvas")).getContext("2d"),r=i.captureStream(),e.prev=14,s={iceServers:[]},(0,A.default)()&&(s.sdpSemantics="plan-b"),(a=new t(s)).addTrack?a.addTrack(r.getVideoTracks()[0],r):a.addStream&&a.addStream(r),e.next=21,a.createOffer();case 21:return c=e.sent,n=m(n=p.default.getCodecs(c.sdp,"video")||[]),e.abrupt("return",{videoEncoders:n,videoDecoders:n});case 27:throw e.prev=27,e.t0=e.catch(14),f(u.default.UNABLE_TO_ACCESS_MEDIA_ENGINE,new Error("OT.getSupportedCodecs was not able to get the list of supported codecs"),l.default.UNABLE_TO_ACCESS_MEDIA_ENGINE);case 30:return e.prev=30,a.close(),e.finish(30);case 33:case"end":return e.stop()}}),e,null,[[14,27,30,33]])})));return function(){return e.apply(this,arguments)}}();var C=E;t.default=C},function(e,t,n){var i=n(788),r=n(256),o=n(88),a=n(135),s=o((function(e,t){return a(e)?i(e,r(t,1,a,!0)):[]}));e.exports=s},function(e,t,n){var i=n(98),r=n(99),o=n(134),a=n(37),s=n(67),c=n(100);e.exports=function(e,t,n,l){var d=-1,u=r,h=!0,A=e.length,p=[],g=t.length;if(!A)return p;n&&(t=a(t,s(n))),l?(u=o,h=!1):t.length>=200&&(u=c,h=!1,t=new i(t));e:for(;++d<A;){var f=e[d],m=null==n?f:n(f);if(f=l||0!==f?f:0,h&&m===m){for(var E=g;E--;)if(t[E]===m)continue e;p.push(f)}else u(t,m,l)||p.push(f)}return p}},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(327)).default.isSupported;t.default=r},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(111)).default;t.default=r},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=function(e){r().then((t=>e(void 0,t)),e)};const r=(0,i(n(20)).default)().getInputMediaDevices},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(4)),o=i(n(5)),a=i(n(20)),s=i(n(13)),c=i(n(8)),l=i(n(344)),d=i(n(346));t.default=function(e){void 0===e&&(e={});const t=e.deviceHelpers||(0,a.default)(),n=t.hasAudioOutputApiSupport,i=t.hasDevice,u=e.getAudioOutputDevices||l.default,h=e.updateSubscribersSinkId||d.default,A=(0,s.default)(),p=function(){var e=(0,o.default)(r.default.mark((function e(t){var o;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n()){e.next=2;break}throw A(c.default.UNSUPPORTED_BROWSER,new Error("setAudioOutputDevice is not supported in your browser."));case 2:return e.next=4,u();case 4:if(o=e.sent,i(o,t)){e.next=8;break}throw A(c.default.INVALID_AUDIO_OUTPUT_SOURCE,new Error("The requested device is not valid."));case 8:return e.prev=8,e.next=11,h(t);case 11:e.next=16;break;case 13:throw e.prev=13,e.t0=e.catch(8),A(c.default.REQUESTED_DEVICE_PERMISSION_DENIED,new Error("No permission to use the requested device."));case 16:case"end":return e.stop()}}),e,null,[[8,13]])})));return function(t){return e.apply(this,arguments)}}();return p}},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(4)),o=i(n(5)),a=i(n(20));const s=(0,i(n(794)).default)(),c=(0,a.default)(),l=c.hasAudioOutputApiSupport,d=c.getNativeMediaDevices;t.default=()=>{if(l()){const e=d();let t=!1;e.addEventListener("devicechange",(0,o.default)(r.default.mark((function e(){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=2;break}return e.abrupt("return");case 2:return t=!0,e.next=5,s();case 5:t=!1;case 6:case"end":return e.stop()}}),e)}))))}}},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(4)),o=i(n(5)),a=i(n(1)),s=i(n(94)),c=i(n(20)),l=i(n(346)),d=function(e){void 0===e&&(e={});const t=e.deviceHelpers||(0,c.default)(),n=t.getAudioOutputMediaDevices,i=t.getDefaultAudioOutputDeviceId,d=t.hasDevice,u=e.currentAudioOutputDevice||s.default,h=u.getCurrentAudioOutputDeviceId,A=u.setCurrentAudioOutputDeviceId,p=e.updateSubscribersSinkId||l.default,g=e.logging||(0,a.default)("currentAudioOutputDevice"),f=function(){var e=(0,o.default)(r.default.mark((function e(){var t,o;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n();case 2:if(0!==(t=e.sent).length){e.next=6;break}return A(""),e.abrupt("return");case 6:if(!d(t,h())){e.next=9;break}return e.abrupt("return");case 9:return o=i(t),A(o),e.prev=11,e.next=14,p(o);case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(11),g.debug("Failed to set the default audio output device.",e.t0);case 19:case"end":return e.stop()}}),e,null,[[11,16]])})));return function(){return e.apply(this,arguments)}}();return f};t.default=d},function(e,t,n){var i=n(796);"string"===typeof i&&(i=[[e.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(810)(i,r),i.locals&&(e.exports=i.locals)},function(e,t,n){t=e.exports=n(797)(!1);var i=n(798),r=i(n(799)),o=i(n(800)),a=i(n(801)),s=i(n(802)),c=i(n(803)),l=i(n(804)),d=i(n(805)),u=i(n(806)),h=i(n(807)),A=i(n(808)),p=i(n(809));t.push([e.i,"/*!\n * Copyright (c) 2017 TokBox, Inc.\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n */\n\n/**\n * OT Base styles\n */\n\n/* Root OT object, this is where our CSS reset happens */\n.OT_root,\n.OT_root * {\n  color: #ffffff;\n  margin: 0;\n  padding: 0;\n  border: 0;\n  font-size: 100%;\n  font-family: Arial, Helvetica, sans-serif;\n  vertical-align: baseline;\n}\n\n/**\n * Specific Element Reset\n */\n\n.OT_root h1,\n.OT_root h2,\n.OT_root h3,\n.OT_root h4,\n.OT_root h5,\n.OT_root h6 {\n  color: #ffffff;\n  font-family: Arial, Helvetica, sans-serif;\n  font-size: 100%;\n  font-weight: bold;\n}\n\n.OT_root header {\n\n}\n\n.OT_root footer {\n\n}\n\n.OT_root div {\n\n}\n\n.OT_root section {\n\n}\n\n.OT_root video {\n\n}\n\n.OT_root button {\n\n}\n\n.OT_root strong {\n  font-weight: bold;\n}\n\n.OT_root em {\n  font-style: italic;\n}\n\n.OT_root a,\n.OT_root a:link,\n.OT_root a:visited,\n.OT_root a:hover,\n.OT_root a:active {\n  font-family: Arial, Helvetica, sans-serif;\n}\n\n.OT_root ul, .OT_root ol {\n  margin: 1em 1em 1em 2em;\n}\n\n.OT_root ol {\n  list-style: decimal outside;\n}\n\n.OT_root ul {\n  list-style: disc outside;\n}\n\n.OT_root dl {\n  margin: 4px;\n}\n\n.OT_root dl dt,\n.OT_root dl dd {\n  float: left;\n  margin: 0;\n  padding: 0;\n}\n\n.OT_root dl dt {\n  clear: left;\n  text-align: right;\n  width: 50px;\n}\n\n.OT_root dl dd {\n  margin-left: 10px;\n}\n\n.OT_root img {\n  border: 0 none;\n}\n\n/* Modal dialog styles */\n\n/* Modal dialog styles */\n\n.OT_dialog-centering {\n  display: table;\n  width: 100%;\n  height: 100%;\n}\n\n.OT_dialog-centering-child {\n  display: table-cell;\n  vertical-align: middle;\n}\n\n.OT_dialog {\n  position: relative;\n\n  box-sizing: border-box;\n  max-width: 576px;\n  margin-right: auto;\n  margin-left: auto;\n  padding: 36px;\n  text-align: center; /* centers all the inline content */\n\n  background-color: #363636;\n  color: #fff;\n  box-shadow: 2px 4px 6px #999;\n  font-family: 'Didact Gothic', sans-serif;\n  font-size: 13px;\n  line-height: 1.4;\n}\n\n.OT_dialog * {\n  font-family: inherit;\n  box-sizing: inherit;\n}\n\n.OT_closeButton {\n  color: #999999;\n  cursor: pointer;\n  font-size: 32px;\n  line-height: 36px;\n  position: absolute;\n  right: 18px;\n  top: 0;\n}\n\n.OT_dialog-messages {\n  text-align: center;\n}\n\n.OT_dialog-messages-main {\n  margin-bottom: 36px;\n  line-height: 36px;\n\n  font-weight: 300;\n  font-size: 24px;\n}\n\n.OT_dialog-messages-minor {\n  margin-bottom: 18px;\n\n  font-size: 13px;\n  line-height: 18px;\n  color: #A4A4A4;\n}\n\n.OT_dialog-messages-minor strong {\n  color: #ffffff;\n}\n\n.OT_dialog-actions-card {\n  display: inline-block;\n}\n\n.OT_dialog-button-title {\n  margin-bottom: 18px;\n  line-height: 18px;\n\n  font-weight: 300;\n  text-align: center;\n  font-size: 14px;\n  color: #999999;\n}\n.OT_dialog-button-title label {\n  color: #999999;\n}\n\n.OT_dialog-button-title a,\n.OT_dialog-button-title a:link,\n.OT_dialog-button-title a:active {\n  color: #02A1DE;\n}\n\n.OT_dialog-button-title strong {\n  color: #ffffff;\n  font-weight: 100;\n  display: block;\n}\n\n.OT_dialog-button {\n  display: inline-block;\n\n  margin-bottom: 18px;\n  padding: 0 1em;\n\n  background-color: #1CA3DC;\n  text-align: center;\n  cursor: pointer;\n}\n\n.OT_dialog-button:disabled {\n  cursor: not-allowed;\n  opacity: 0.5;\n}\n\n.OT_dialog-button-large {\n  line-height: 36px;\n  padding-top: 9px;\n  padding-bottom: 9px;\n\n  font-weight: 100;\n  font-size: 24px;\n}\n\n.OT_dialog-button-small {\n  line-height: 18px;\n  padding-top: 9px;\n  padding-bottom: 9px;\n\n  background-color: #444444;\n  color: #999999;\n  font-size: 16px;\n}\n\n.OT_dialog-progress-bar {\n  display: inline-block; /* prevents margin collapse */\n  width: 100%;\n  margin-top: 5px;\n  margin-bottom: 41px;\n\n  border: 1px solid #4E4E4E;\n  height: 8px;\n}\n\n.OT_dialog-progress-bar-fill {\n  height: 100%;\n\n  background-color: #29A4DA;\n}\n\n/* Helpers */\n\n.OT_centered {\n  position: fixed;\n  left: 50%;\n  top: 50%;\n  margin: 0;\n}\n\n.OT_dialog-hidden {\n  display: none;\n}\n\n.OT_dialog-button-block {\n  display: block;\n}\n\n.OT_dialog-no-natural-margin {\n  margin-bottom: 0;\n}\n\n/* Publisher and Subscriber styles */\n\n.OT_publisher, .OT_subscriber {\n  position: relative;\n  min-width: 48px;\n  min-height: 48px;\n}\n\n.OT_publisher .OT_video-element,\n.OT_subscriber .OT_video-element {\n  display: block;\n  position: absolute;\n  width: 100%;\n  height: 100%;\n\n  transform-origin: 0 0;\n}\n\n/* Styles that are applied when the video element should be mirrored */\n.OT_publisher.OT_mirrored .OT_video-element {\n  transform: scale(-1, 1);\n  transform-origin: 50% 50%;\n}\n\n.OT_subscriber_error {\n  background-color: #000;\n  color: #fff;\n  text-align: center;\n}\n\n.OT_subscriber_error > p {\n  padding: 20px;\n}\n\n/* The publisher/subscriber name/mute background */\n.OT_publisher .OT_bar,\n.OT_subscriber .OT_bar,\n.OT_publisher .OT_name,\n.OT_subscriber .OT_name,\n.OT_publisher .OT_archiving,\n.OT_subscriber .OT_archiving,\n.OT_publisher .OT_archiving-status,\n.OT_subscriber .OT_archiving-status,\n.OT_publisher .OT_archiving-light-box,\n.OT_subscriber .OT_archiving-light-box {\n  -ms-box-sizing: border-box;\n  box-sizing: border-box;\n  top: 0;\n  left: 0;\n  right: 0;\n  display: block;\n  height: 34px;\n  position: absolute;\n}\n\n.OT_publisher .OT_bar,\n.OT_subscriber .OT_bar {\n  background: rgba(0, 0, 0, 0.4);\n}\n\n.OT_publisher .OT_edge-bar-item,\n.OT_subscriber .OT_edge-bar-item {\n  z-index: 1; /* required to get audio level meter underneath */\n}\n\n/* The publisher/subscriber name panel/archiving status bar */\n.OT_publisher .OT_name,\n.OT_subscriber .OT_name {\n  background-color: transparent;\n  color: #ffffff;\n  font-size: 15px;\n  line-height: 34px;\n  font-weight: normal;\n  padding: 0 4px 0 36px;\n  letter-spacing: normal;\n}\n\n.OT_publisher .OT_archiving-status,\n.OT_subscriber .OT_archiving-status {\n  background: rgba(0, 0, 0, 0.4);\n  top: auto;\n  bottom: 0;\n  left: 34px;\n  padding: 0 4px;\n  color: rgba(255, 255, 255, 0.8);\n  font-size: 15px;\n  line-height: 34px;\n  font-weight: normal;\n  letter-spacing: normal;\n}\n\n.OT_micro .OT_archiving-status,\n.OT_micro:hover .OT_archiving-status,\n.OT_mini .OT_archiving-status,\n.OT_mini:hover .OT_archiving-status {\n  display: none;\n}\n\n.OT_publisher .OT_archiving-light-box,\n.OT_subscriber .OT_archiving-light-box {\n  background: rgba(0, 0, 0, 0.4);\n  top: auto;\n  bottom: 0;\n  right: auto;\n  width: 34px;\n  height: 34px;\n}\n\n.OT_archiving-light {\n  width: 7px;\n  height: 7px;\n  border-radius: 30px;\n  position: absolute;\n  top: 14px;\n  left: 14px;\n  background-color: #575757;\n  box-shadow: 0 0 5px 1px #575757;\n}\n\n.OT_archiving-light.OT_active {\n  background-color: #970d13;\n  -webkit-animation: OT_pulse 1.3s ease-in;\n  -moz-animation: OT_pulse 1.3s ease-in;\n  -webkit-animation: OT_pulse 1.3s ease-in;\n  -webkit-animation-iteration-count: infinite;\n  -moz-animation-iteration-count: infinite;\n  -webkit-animation-iteration-count: infinite;\n}\n\n.OT_mini .OT_bar,\n.OT_bar.OT_mode-mini,\n.OT_bar.OT_mode-mini-auto {\n  bottom: 0;\n  height: auto;\n}\n\n.OT_mini .OT_name.OT_mode-off,\n.OT_mini .OT_name.OT_mode-on,\n.OT_mini .OT_name.OT_mode-auto,\n.OT_mini:hover .OT_name.OT_mode-auto {\n  display: none;\n}\n\n.OT_publisher .OT_name,\n.OT_subscriber .OT_name {\n    left: 10px;\n    right: 37px;\n    height: 34px;\n    padding-left: 0;\n}\n\n.OT_publisher .OT_mute,\n.OT_subscriber .OT_mute {\n    border: none;\n    cursor: pointer;\n    display: block;\n    position: absolute;\n    text-align: center;\n    text-indent: -9999em;\n    background-color: transparent;\n    background-repeat: no-repeat;\n}\n\n.OT_publisher .OT_mute,\n.OT_subscriber .OT_mute {\n  right: 0;\n  top: 0;\n  border-left: 1px solid rgba(255, 255, 255, 0.2);\n  height: 36px;\n  width: 37px;\n}\n\n.OT_mini .OT_mute,\n.OT_publisher.OT_mini .OT_mute.OT_mode-auto.OT_mode-on-hold,\n.OT_subscriber.OT_mini .OT_mute.OT_mode-auto.OT_mode-on-hold {\n  top: 50%;\n  left: 50%;\n  right: auto;\n  margin-top: -18px;\n  margin-left: -18.5px;\n  border-left: none;\n}\n\n.OT_publisher .OT_mute {\n  background-image: url("+r+");\n  background-position: 9px 5px;\n}\n\n.OT_publisher .OT_mute.OT_active {\n  background-image: url("+o+");\n  background-position: 9px 4px;\n}\n\n.OT_subscriber .OT_mute {\n  background-image: url("+a+");\n  background-position: 8px 7px;\n}\n\n.OT_subscriber .OT_mute.OT_active {\n  background-image: url("+s+");\n  background-position: 7px 7px;\n}\n\n/**\n * Styles for display modes\n *\n * Note: It's important that these completely control the display and opacity\n * attributes, no other selectors should atempt to change them.\n */\n\n/* Default display mode transitions for various chrome elements */\n.OT_publisher .OT_edge-bar-item,\n.OT_subscriber .OT_edge-bar-item {\n  transition-property: top, bottom, opacity;\n  transition-duration: 0.5s;\n  transition-timing-function: ease-in;\n}\n\n.OT_publisher .OT_edge-bar-item.OT_mode-off,\n.OT_subscriber .OT_edge-bar-item.OT_mode-off,\n.OT_publisher .OT_edge-bar-item.OT_mode-auto,\n.OT_subscriber .OT_edge-bar-item.OT_mode-auto,\n.OT_publisher .OT_edge-bar-item.OT_mode-mini-auto,\n.OT_subscriber .OT_edge-bar-item.OT_mode-mini-auto {\n  top: -25px;\n  opacity: 0;\n}\n\n.OT_publisher .OT_edge-bar-item.OT_mode-off,\n.OT_subscriber .OT_edge-bar-item.OT_mode-off {\n  display: none;\n}\n\n.OT_mini .OT_mute.OT_mode-auto,\n.OT_publisher .OT_mute.OT_mode-mini-auto,\n.OT_subscriber .OT_mute.OT_mode-mini-auto {\n  top: 50%;\n}\n\n.OT_publisher .OT_edge-bar-item.OT_edge-bottom.OT_mode-off,\n.OT_subscriber .OT_edge-bar-item.OT_edge-bottom.OT_mode-off,\n.OT_publisher .OT_edge-bar-item.OT_edge-bottom.OT_mode-auto,\n.OT_subscriber .OT_edge-bar-item.OT_edge-bottom.OT_mode-auto,\n.OT_publisher .OT_edge-bar-item.OT_edge-bottom.OT_mode-mini-auto,\n.OT_subscriber .OT_edge-bar-item.OT_edge-bottom.OT_mode-mini-auto {\n  top: auto;\n  bottom: -25px;\n}\n\n.OT_publisher .OT_edge-bar-item.OT_mode-on,\n.OT_subscriber .OT_edge-bar-item.OT_mode-on,\n.OT_publisher .OT_edge-bar-item.OT_mode-auto.OT_mode-on-hold,\n.OT_subscriber .OT_edge-bar-item.OT_mode-auto.OT_mode-on-hold,\n.OT_publisher:hover .OT_edge-bar-item.OT_mode-auto,\n.OT_subscriber:hover .OT_edge-bar-item.OT_mode-auto,\n.OT_publisher:hover .OT_edge-bar-item.OT_mode-mini-auto,\n.OT_subscriber:hover .OT_edge-bar-item.OT_mode-mini-auto {\n  top: 0;\n  opacity: 1;\n}\n\n.OT_mini .OT_mute.OT_mode-on,\n.OT_mini:hover .OT_mute.OT_mode-auto,\n.OT_mute.OT_mode-mini,\n.OT_root:hover .OT_mute.OT_mode-mini-auto {\n  top: 50%;\n}\n\n.OT_publisher .OT_edge-bar-item.OT_edge-bottom.OT_mode-on,\n.OT_subscriber .OT_edge-bar-item.OT_edge-bottom.OT_mode-on,\n.OT_publisher:hover .OT_edge-bar-item.OT_edge-bottom.OT_mode-auto,\n.OT_subscriber:hover .OT_edge-bar-item.OT_edge-bottom.OT_mode-auto {\n  top: auto;\n  bottom: 0;\n  opacity: 1;\n}\n\n\n/* Contains the video element, used to fix video letter-boxing */\n.OT_widget-container {\n  position: absolute;\n  background: linear-gradient(60.08deg, #333333 0%, #1A1A1A 100%);\n  overflow: hidden;\n}\n\n.OT_hidden-audio {\n  position: absolute !important;\n  height: 1px !important;\n  width: 1px !important;\n}\n\n/* Load animation */\n.OT_root .OT_video-loading {\n  position: absolute;\n  z-index: 1;\n  width: 100%;\n  height: 100%;\n  display: none;\n\n  background-color: rgba(0, 0, 0, .75);\n}\n\n.OT_root .OT_video-loading .OT_video-loading-spinner {\n  background: url("+c+") no-repeat;\n  position: absolute;\n  width: 32px;\n  height: 32px;\n  left: 50%;\n  top: 50%;\n  margin-left: -16px;\n  margin-top: -16px;\n  animation: OT_spin 2s linear infinite;\n}\n@keyframes OT_spin {\n  100% {\n    transform: rotate(360deg);\n  }\n}\n\n.OT_publisher.OT_loading .OT_video-loading,\n.OT_subscriber.OT_loading .OT_video-loading {\n  display: block;\n}\n\n.OT_publisher.OT_loading .OT_video-element,\n.OT_subscriber.OT_loading .OT_video-element {\n  /*display: none;*/\n}\n\n.OT_video-centering {\n  display: table;\n  width: 100%;\n  height: 100%;\n}\n\n.OT_video-container {\n  display: table-cell;\n  vertical-align: middle;\n}\n\n.OT_video-poster {\n  position: absolute;\n  z-index: 1;\n  width: 100%;\n  height: 100%;\n  display: none;\n\n  opacity: 1.0;\n\n  background-repeat: no-repeat;\n  background-image: url("+l+");\n  background-size: auto 55%;\n}\n\n.OT_fit-mode-cover .OT_video-element {\n  object-fit: cover;\n}\n\n/* Workaround for iOS freezing issue when cropping videos */\n/* https://bugs.webkit.org/show_bug.cgi?id=176439 */\n@media only screen\n  and (orientation: portrait) {\n  .OT_subscriber.OT_ForceContain.OT_fit-mode-cover .OT_video-element {\n    object-fit: contain !important;\n  }\n}\n\n.OT_fit-mode-contain .OT_video-element {\n  object-fit: contain;\n}\n\n.OT_fit-mode-cover .OT_video-poster {\n  background-position: center;\n}\n\n.OT_fit-mode-contain .OT_video-poster {\n  background-position: center;\n}\n\n.OT_audio-level-meter {\n  position: absolute;\n  width: 25%;\n  max-width: 224px;\n  min-width: 21px;\n  top: 0;\n  right: 0;\n  overflow: hidden;\n}\n\n.OT_audio-level-meter:before {\n  /* makes the height of the container equals its width */\n  content: '';\n  display: block;\n  padding-top: 100%;\n}\n\n.OT_audio-level-meter__audio-only-img {\n  position: absolute;\n  top: 22%;\n  right: 15%;\n  width: 40%;\n\n  opacity: .7;\n\n  background: url("+d+") no-repeat center;\n}\n\n.OT_audio-level-meter__audio-only-img:before {\n  /* makes the height of the container equals its width */\n  content: '';\n  display: block;\n  padding-top: 100%;\n}\n\n.OT_audio-level-meter__value {\n  will-change: transform;\n  position: absolute;\n  top: -100%;\n  right: -100%;\n  width: 200%;\n  height: 200%;\n  transform: scale(0);\n  border-radius: 50%;\n  background-image: radial-gradient(circle, rgba(151, 206, 0, 1) 0%, rgba(151, 206, 0, 0) 100%);\n}\n\n.OT_audio-level-meter.OT_mode-off {\n    display: none;\n}\n\n.OT_audio-level-meter.OT_mode-on,\n.OT_audio-only .OT_audio-level-meter.OT_mode-auto {\n  display: block;\n}\n\n.OT_audio-only.OT_publisher .OT_video-element,\n.OT_audio-only.OT_subscriber .OT_video-element {\n  display: none;\n}\n\n\n.OT_video-disabled-indicator {\n  opacity: 1;\n  border: none;\n  display: none;\n  position: absolute;\n  background-color: transparent;\n  background-repeat: no-repeat;\n  background-position: bottom right;\n  pointer-events: none;\n  top: 0;\n  left: 0;\n  bottom: 3px;\n  right: 3px;\n}\n\n.OT_video-disabled {\n  background-image: url("+u+");\n  background-size: 33px auto;\n}\n\n.OT_video-disabled-warning {\n  background-image: url("+h+");\n  background-size: 33px auto;\n}\n\n.OT_video-disabled-indicator.OT_active {\n  display: block;\n}\n\n.OT_audio-blocked-indicator {\n  opacity: 1;\n  border: none;\n  display: none;\n  position: absolute;\n  background-color: transparent;\n  background-repeat: no-repeat;\n  background-position: center;\n  pointer-events: none;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n}\n\n.OT_audio-blocked {\n  background-image: url("+A+");\n  background-size: 90px auto;\n}\n\n.OT_container-audio-blocked {\n  cursor: pointer;\n}\n\n.OT_container-audio-blocked.OT_mini .OT_edge-bar-item {\n  display: none;\n}\n\n.OT_container-audio-blocked .OT_mute {\n  display: none;\n}\n\n.OT_audio-blocked-indicator.OT_active {\n  display: block;\n}\n\n.OT_video-unsupported {\n  opacity: 1;\n  border: none;\n  display: none;\n  position: absolute;\n  background-color: transparent;\n  background-repeat: no-repeat;\n  background-position: center;\n  background-image: url("+p+");\n  background-size: 58px auto;\n  pointer-events: none;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  margin-top: -30px;\n}\n\n.OT_video-unsupported-bar {\n  display: none;\n  position: absolute;\n  width: 192%; /* copy the size of the audio meter bar for symmetry */\n  height: 192%;\n  top: -96% /* half of the size */;\n  left: -96%;\n  border-radius: 50%;\n\n  background-color: rgba(0, 0, 0, .8);\n}\n\n.OT_video-unsupported-img {\n  display: none;\n  position: absolute;\n  top: 11%;\n  left: 15%;\n  width: 70%;\n  opacity: .7;\n  background-image: url("+p+");\n  background-repeat: no-repeat;\n  background-position: center;\n  background-size: 100% auto;\n}\n\n.OT_video-unsupported-img:before {\n  /* makes the height of the container 93% of its width (90/97 px) */\n  content: '';\n  display: block;\n  padding-top: 93%;\n}\n\n.OT_video-unsupported-text {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  text-align: center;\n  height: 100%;\n  margin-top: 40px;\n}\n\n.OT_video-unsupported.OT_active {\n  display: block;\n}\n\n.OT_mini .OT_video-unsupported,\n.OT_micro .OT_video-unsupported {\n  position: absolute;\n  width: 25%;\n  max-width: 224px;\n  min-width: 21px;\n  top: 0;\n  left: 0;\n  overflow: hidden;\n  background: none;\n  bottom: auto;\n  right: auto;\n  margin: auto;\n}\n\n.OT_mini .OT_video-unsupported:before,\n.OT_micro .OT_video-unsupported:before {\n  /* makes the height of the container equals its width */\n  content: '';\n  display: block;\n  padding-top: 100%;\n}\n\n.OT_mini .OT_video-unsupported-bar,\n.OT_micro .OT_video-unsupported-bar,\n.OT_mini .OT_video-unsupported-img,\n.OT_micro .OT_video-unsupported-img {\n  display: block;\n}\n\n.OT_mini .OT_video-unsupported-text,\n.OT_micro .OT_video-unsupported-text {\n  display: none;\n}\n\n.OT_hide-forced {\n  display: none;\n}\n\n.OT_ModalDialog {\n  position: fixed;\n  top: 0px;\n  left: 0px;\n  right: 0px;\n  bottom: 0px;\n  z-index: 1000;\n  background-color: rgba(0, 0, 0, 0.2);\n}\n\n#tb_alert {\n  position: fixed;\n  width: 570px;\n  font-family: \"Lucida Grande\", Arial;\n  top: 50%;\n  left: 50%;\n  margin-top: -75px;\n  margin-left: -285px;\n}\n\n#tb_alert * {\n  box-sizing: border-box;\n}\n\n#tb_alert .OT_alert {\n  border-top-right-radius: 5px;\n  border-bottom-right-radius: 5px;\n  background-color: #333;\n  position: relative;\n  padding: 30px;\n  overflow: visible;\n  margin-left: 70px;\n  border-bottom-color: rgba(255, 255, 255, 0.1);\n  border-left-color: rgba(255, 255, 255, 0.1);\n\n  background-image: linear-gradient(45deg, rgba(0, 0, 0, 0.2) 25%, transparent 25%, transparent 75%, rgba(0, 0, 0, 0.2) 75%, rgba(0, 0, 0, 0.2)), linear-gradient(45deg, rgba(0, 0, 0, 0.2) 25%, transparent 25%, transparent 75%, rgba(0, 0, 0, 0.2) 75%, rgba(0, 0, 0, 0.2));\n\n  background-image: -ms-linear-gradient(45deg, rgba(0, 0, 0, 0.2) 25%, transparent 25%, transparent 75%, rgba(0, 0, 0, 0.2) 75%, rgba(0, 0, 0, 0.2)), -ms-linear-gradient(45deg, rgba(0, 0, 0, 0.2) 25%, transparent 25%, transparent 75%, rgba(0, 0, 0, 0.2) 75%, rgba(0, 0, 0, 0.2));\n\n  background-size: 4px 4px;\n  background-position: 0 0, 2px 2px;\n  box-shadow: 0 2px 2px rgba(0, 0, 0, 0.15);\n  border: 1px solid rgba(255, 255, 255, 0.3);\n}\n\n#tb_alert .OT_alert-exclamation {\n  background-color: #9c1408;\n  background-image: linear-gradient(0deg, #dd0c0a 0%, #9c1408 100%);\n  box-shadow: 0 2px 2px rgba(0, 0, 0, 0.15);\n  border: 1px solid rgba(255, 255, 255, 0.3);\n\n  margin: -1px 0;\n\n  font-family: MS Trebuchet;\n  font-weight: bold;\n  font-size: 60px;\n  text-shadow: -1px -1px 2px rgba(0, 0, 0, 0.5);\n\n  color: white;\n  width: 65px;\n  position: absolute;\n  padding: 42px 0;\n  text-align: center;\n  left: -70px;\n  top: 0;\n  bottom: 0;\n  border-top-left-radius: 5px;\n  border-bottom-left-radius: 5px;\n\n  border-bottom-color: transparent;\n  border-left: none;\n  border-right: none;\n}\n\n#tb_alert .OT_alert-exclamation:after,\n#tb_alert .OT_alert-exclamation:before {\n  content: \" \";\n  position: absolute;\n  right: -24px;\n  top: 40%;\n  border: 12px solid transparent;\n  border-left-color: #9c1408;\n}\n\n#tb_alert .OT_alert-exclamation:before {\n  border-left-color: #bc3428;\n  top: 39%;\n}\n\n#tb_alert .OT_alert-body {\n  color: #c8c5c5;\n  margin: 0;\n  text-shadow: 0 2px 0 rgba(0, 0, 0, 0.3);\n  font-size: 14px;\n  line-height: 1.3em;\n}\n\n#tb_alert .continue-text {\n  margin-top: 12px\n}\n\n#tb_alert > * a {\n  color: #a7d8df;\n  text-decoration: none;\n}\n\n#tb_alert .OT_alert-header {\n  font-size: 24px;\n  padding-bottom: 5px;\n  color: #aaa;\n  font-weight: bold;\n  position: relative;\n  text-shadow: 0 2px 0 rgba(0, 0, 0, 0.3);\n  margin: 0;\n}\n\n#tb_alert .OT_alert-header::before {\n  content: attr(data-text);\n  position: absolute;\n  left: 0;\n  color: white;\n  -webkit-mask-image: -webkit-gradient(\n    linear,\n    left top, left bottom,\n    from(rgba(0, 0, 0, 1)),\n    color-stop(60%, rgba(0, 0, 0, 0)),\n    to(rgba(0, 0, 0, 0))\n  );\n}\n\n#tb_alert .OT_alert-close-button {\n  position: absolute;\n  right: 8px;\n  top: 5px;\n  background-color: #000;\n  color: #666;\n  border: none;\n  font-size: 20px;\n  /** Hack to bring it up to the proper line top */\n  line-height: 14px;\n  padding: 0;\n  padding-bottom: 3px;\n  cursor: pointer;\n}\n\n#tb_alert #section-mobile-browser,\n#tb_alert #section-supported-mobile-browser {\n  width: 200px;\n  top: 0px;\n  left: 25%;\n  margin-top: 0;\n  margin-left: 0;\n}\n\n@media all and (max-height: 300px) {\n  #tb_alert {\n    width: 100%;\n    height: 100%;\n    left: 0;\n    top: 0;\n    margin-left: 0;\n    margin-top: 0;\n  }\n  #tb_alert #section-mobile-browser,\n  #tb_alert #section-supported-mobile-browser {\n    margin-left: 0;\n    margin-top: 10px;\n    left: 0;\n  }\n}\n\n#tb_alert #section-normal-install,\n#tb_alert #section-upgrade-install,\n#tb_alert #section-mobile-browser,\n#tb_alert #section-supported-mobile-browser {\n  display: none;\n}\n",""])},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n,i=e[1]||"",r=e[3];if(!r)return i;if(t&&"function"===typeof btoa){var o=(n=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */"),a=r.sources.map((function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"}));return[i].concat(a).concat([o]).join("\n")}return[i].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n})).join("")},t.i=function(e,n){"string"===typeof e&&(e=[[null,e,""]]);for(var i={},r=0;r<this.length;r++){var o=this[r][0];null!=o&&(i[o]=!0)}for(r=0;r<e.length;r++){var a=e[r];null!=a[0]&&i[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(e,t,n){"use strict";e.exports=function(e,t){return"string"!==typeof e?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),/["'() \t\n]/.test(e)||t?'"'+e.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':e)}},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAAcCAMAAAC02HQrAAAA1VBMVEUAAAD3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pn3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pn3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj3+Pj39/j3+Pj3+Pn4+Pk/JRMlAAAAQ3RSTlMABAUHCQoLDhAQERwdHiAjLjAxOD9ASFBRVl1mbnZ6fH2LjI+QkaWqrrC1uLzAwcXJycrL1NXj5Ofo6u3w9fr7/P3+d4M3+QAAAQBJREFUGBlVwYdCglAABdCLlr5Unijm3hMUtBzlBLSr//9JgUToOQgVJgceJgU8aHgMeA38K50ZOpcQmTPwcyXn+JM8M3JJIqQypiIkeXelTyIkGZPwKS1NMia1lgKTVkaE3oQQGYsmHNqSMWnTgUFbMiZtGlD2dpaxrL1XgM0i4ZK8MeAmFhsAs29MGZniawagS63oMOQUNXYB5D0D1RMDpyoMLw/fiE2og/V+PVDR5AiBl0/2Uwik+vx4xV3a5G5Ye68Nd1czjUjZckm6VhmPciRzeCZICjwTJAViQq+3e+St167rAoHK8sLYZVkBYPCZAZ/eGa+2R5LH7Wrc0YFf/O9J3yBDFaoAAAAASUVORK5CYII="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAdCAYAAABFRCf7AAADcElEQVRIiaWVXWhcRRTHf7NNd2aDtUKMIjTpg4ufFIuiUOmDEWm0Vi3VYhXRqIggQh4sWJFSig9+oOhTKSpIRUWMIBIr2kptoTbgU6ooxCiIjR+14kcJmf9sNceHnd3ebnc3Uv9wuXfOzPzmnDMz5zozGwdWAbc65w5RUJQ8cC2wDJgFJioh/MJCMrNxq2vOzK4HmIvRRemxKP0RJWt53o7S+d2Yzsx6gQ+AIUDAnUqpBLzXZd4RYFUlhB/bdZacc3PAOmAcCMC7wfvFwLNdoAPAyx09bXyYWRl4E7gDmAdGlNKFwLYu8GolhO9O87RJd64GbMrgEvB68P4osMWdXLtVV7czlooNpVRWSs8DO7NpR/B+3rBHsvetCgtCMTxwQCm9BbyQrc8F7/uBex3uRCeXO0PrUZ4NfKyUPgWeyj3bg/crDNsIRGwBaJQGorQ3Svdn2wHgc2BUKb0DPJHtjwfvbwRucc7tz+N+i9LFUdoXpfVN36I0CVwBTFI/q9e1LPxT8P4qYEdu70q12mYzWw1MYQzjeJF6zq+shHC4B7jklOBPP/TzSunh4P0DwKvAfb5c9krpe+CcwsEoZdbhEvBM9wxRAl5RShcA9wAngE3B+8tLpdLuwrhp4MNmK0pfRWkySr7NXS8+L5nZbWZWy/Vin1IaitJnUTqvwevJ71lgSSWEFKUfHG7Q2m/xqFJaGry/GXgfGPLl8mJgrXPur2JoUC8Qy3OpG+sAbGhEKT0ErAWOA6uBPWbW1wr9BOgFbgKezot0kAPYqJQA1gC/A9cA+82svzksSn1R+jNKX0SpnM/e1x3yqig92JhrZivM7FjO8bSZLSuCR/Ok16K0KMNHojQWpYko7Y7S1igN5PE3ROl4lNaZ2UVmNpPBU01orvZvZPCeKFXbBR+lEKVtUapFaSZKg9njqpl9aWYTrmXCImA7sCWb9lK/jj9TrwkrgA1AH3AQuKsSwkzbrLfxpgpsBtYDxf/R3xm2ExirhNCuHHZXTsmRwiat+S/zSt06eysVA/4pmGr/G3qm6ik28v29FKgCg8BS6pvS0KNRGgZ+Bb4FpsxsOkfUlMuwDcBWYOUZOHYM2AU8WQmhBifDv70O7PjX7KZ+4G7g3FM8zd6uBIaBy4AqxnIcZwFLCovPAhE4Sj38b4BDwEeVEFKD9S94Khjn486v3QAAAABJRU5ErkJggg=="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAATCAYAAAB7u5a2AAABx0lEQVQ4jaWUv48NURiGn3ONmCs32ZBd28ht1gqyZAkF21ylQkEiSp2ehpDlD1BoFGqqVdJohYKI7MaPxMoVNghCWMF+7ybLUewnOXfcMWO9yeQ857zne8+XmZOBGjJpr0kvTIomvTZpS526UCO4DUwD64FjwCFgqZnnR+oc8LfgzKQ73vGsr42ZtGjSQFV9o8KfBCacZwCaef4YmAf2rzjcpN3A2WSpm/AssKcqPDNpDBjs410CViXzTwk/A7b1C4wxDgOngAsZcAXY2buDfp/6S4F3lDS8DjgBzDWAjX/Y/e/QgYS/AhsKHa+OMQ6GEJ4Cj4BOAxgq6aCowyZtdf4OtAr+FHDO+R4wWnVbihr3cQnICt4boO38GWj9a/icjwOACt4m4K3zEPA+AxaAtTWCnwN3lzHkEL8V/OPAGud9wK2GF9XR1Wae/1zG2AI+pGYI4VUIoRtjHAc2A9cz4LRPevYCZ+i9/4sJt4GXJU10gaPAzdI2TTro/5Tfz8XEe2LSZGmxq/SDNvP8BnA5WRrx4BwYBe6vONx1EnjovGvBLAAd4Adwuyq8UiaNmDTvr+a8SQ9MuvbfwckBHZPe+QEfTdpep+4XZmPBHiHgz74AAAAASUVORK5CYII="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAUCAYAAACXtf2DAAACtklEQVQ4jZ2VSYiURxTHf+/T9Nc9iRrBuYySmIsXUU9iFMEFERRBvAjJLUQi5ioiHvSScfTmgqC4XAT1ZIgLuJHkICaaQAgKI2hAUBT30bjUq7bbv4eukXK029F3+eqtv/fqK6qQdEnSNUmT6CDB/bvgfjO4N9zj2RD8007xg1IABkwEzkma0qb4PGAPMBZYLtSD8eNwAEjqTlNI0gNJM4YU7w7ut4O7gvuhZFsR3C8NC5BBLiTIY0mzM8AvqbiC++pk+zLpE95XuwAws3vAQuBPYDRwWtL84P4tsDSLv5oaug4EYOawAMF9jMdoLxqNZcDvQA04UVYqL4G/svj7AF21mhJscrvCksYBFO7xc2AAGGg2mrdjvf4rcAyomNn+slLZmUEGBgsYdh945xZJmgvckDSrEJpK6ySBgV6q12O8ABwGPjGzfWWlsjdN9rpjoSfA+DYDXARGAksK4Is3XC1Ub4z1f4CDQGFmu6tleQSYk0U+p7WVeefLJc00s4fAeWB6Qeunvj0m2ugx9gO7kmlrtSxvBfcy6fXUZS6rgG/S+jLQUwCVNmMC9HqM14EtSe+rluWazN8YEv8IqKZ1E1qnaIDO0ucx3gX6kv6TpM3AM+D/IbGjgP60/gq4WQA33gMA2OQxPgHWJX1ttSwL4FAeZGYLgB2SasBs4A8L7qOBf9M0uXQB3a+TMYSmVctyDrA9mfcBK82smSdKWgCcAaa1bTm4fxbc/8uuCQX3RanAD5Ka6Wo5IGnE0HxJPZ03pQX5Org3MsD3AO5xXLPZXJ9BjkrqdFg6QjZkgG3Jtsw93pG0VFI9QU5K6voYQBHcTydAfwheBI9HgvvPAJIWS3qeIL9JGvUxkO7gfi1BrqTvwkG/pPmSnibIqTzXPgAyEVgBjAEu1qrVPbk/PVTHgb/NbPGg/RVIzOQqzSTBaQAAAABJRU5ErkJggg=="},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9Ii0yMCAtMjAgMjQwIDI0MCI+PGRlZnM+PGxpbmVhckdyYWRpZW50IGlkPSJhIiB4Mj0iMCIgeTI9IjEiPjxzdG9wIG9mZnNldD0iMCIgc3RvcC1jb2xvcj0iI2ZmZiIgc3RvcC1vcGFjaXR5PSIwIi8+PHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjZmZmIiBzdG9wLW9wYWNpdHk9IjAiLz48L2xpbmVhckdyYWRpZW50PjxsaW5lYXJHcmFkaWVudCBpZD0iYiIgeDE9IjEiIHgyPSIwIiB5Mj0iMSI+PHN0b3Agb2Zmc2V0PSIwIiBzdG9wLWNvbG9yPSIjZmZmIiBzdG9wLW9wYWNpdHk9IjAiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNmZmYiIHN0b3Atb3BhY2l0eT0iLjA4Ii8+PC9saW5lYXJHcmFkaWVudD48bGluZWFyR3JhZGllbnQgaWQ9ImMiIHgxPSIxIiB4Mj0iMCIgeTE9IjEiPjxzdG9wIG9mZnNldD0iMCIgc3RvcC1jb2xvcj0iI2ZmZiIgc3RvcC1vcGFjaXR5PSIuMDgiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNmZmYiIHN0b3Atb3BhY2l0eT0iLjE2Ii8+PC9saW5lYXJHcmFkaWVudD48bGluZWFyR3JhZGllbnQgaWQ9ImQiIHgyPSIwIiB5MT0iMSI+PHN0b3Agb2Zmc2V0PSIwIiBzdG9wLWNvbG9yPSIjZmZmIiBzdG9wLW9wYWNpdHk9Ii4xNiIvPjxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iI2ZmZiIgc3RvcC1vcGFjaXR5PSIuMzMiLz48L2xpbmVhckdyYWRpZW50PjxsaW5lYXJHcmFkaWVudCBpZD0iZSIgeDI9IjEiIHkxPSIxIj48c3RvcCBvZmZzZXQ9IjAiIHN0b3AtY29sb3I9IiNmZmYiIHN0b3Atb3BhY2l0eT0iLjMzIi8+PHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjZmZmIiBzdG9wLW9wYWNpdHk9Ii42NiIvPjwvbGluZWFyR3JhZGllbnQ+PGxpbmVhckdyYWRpZW50IGlkPSJmIiB4Mj0iMSIgeTI9IjEiPjxzdG9wIG9mZnNldD0iMCIgc3RvcC1jb2xvcj0iI2ZmZiIgc3RvcC1vcGFjaXR5PSIuNjYiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNmZmYiLz48L2xpbmVhckdyYWRpZW50PjxtYXNrIGlkPSJnIj48ZyBmaWxsPSJub25lIiBzdHJva2Utd2lkdGg9IjQwIj48cGF0aCBzdHJva2U9InVybCgjYSkiIGQ9Ik04Ni42LTUwYTEwMCAxMDAgMCAwMTAgMTAwIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMDAgMTAwKSIvPjxwYXRoIHN0cm9rZT0idXJsKCNiKSIgZD0iTTg2LjYgNTBBMTAwIDEwMCAwIDAxMCAxMDAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEwMCAxMDApIi8+PHBhdGggc3Ryb2tlPSJ1cmwoI2MpIiBkPSJNMCAxMDBhMTAwIDEwMCAwIDAxLTg2LjYtNTAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEwMCAxMDApIi8+PHBhdGggc3Ryb2tlPSJ1cmwoI2QpIiBkPSJNLTg2LjYgNTBhMTAwIDEwMCAwIDAxMC0xMDAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEwMCAxMDApIi8+PHBhdGggc3Ryb2tlPSJ1cmwoI2UpIiBkPSJNLTg2LjYtNTBBMTAwIDEwMCAwIDAxMC0xMDAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEwMCAxMDApIi8+PHBhdGggc3Ryb2tlPSJ1cmwoI2YpIiBkPSJNMC0xMDBhMTAwIDEwMCAwIDAxODYuNiA1MCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTAwIDEwMCkiLz48L2c+PC9tYXNrPjwvZGVmcz48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiB4PSItMjAiIHk9Ii0yMCIgbWFzaz0idXJsKCNnKSIgZmlsbD0iI2ZmZiIvPjwvc3ZnPg=="},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDciIGhlaWdodD0iNDciIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMjMuNSIgY3k9IjIzLjUiIHI9IjIzLjUiIGZpbGw9IiMwMDAiLz48cGF0aCBkPSJNMjcuNjM0IDE4LjUwOGE0LjMwNCA0LjMwNCAwIDExLTguNjA5IDAgNC4zMDQgNC4zMDQgMCAwMTguNjA5IDB6bTQuNzEyIDEyLjgwNGMuMTIyLjUwNi0uMjc1Ljk2OS0uNzg2Ljk2OUgxNS4xYy0uNTEyIDAtLjkwOS0uNDYyLS43ODctLjk3Ljk5My00LjEzNyA0LjY1My03LjIwOCA5LjAxNi03LjIwOHM4LjAyMyAzLjA3IDkuMDE3IDcuMjA5eiIgZmlsbD0iI0ZGRiIvPjwvc3ZnPg=="},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgNzkgODYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iI2ZmZiI+PHBhdGggZD0iTTkuNzU3IDQwLjkyNGMzLjczOC01LjE5MSAxMi43MTEtNC4zMDggMTIuNzExLTQuMzA4IDIuMjIzIDMuMDE0IDUuMTI2IDI0LjU4NiAzLjYyNCAyOC43MTgtMS40MDEgMS4zMDEtMTEuNjExIDEuNjI5LTEzLjM4LTEuNDM2LTEuMjI2LTguODA0LTIuOTU1LTIyLjk3NS0yLjk1NS0yMi45NzV6bTU4Ljc4NSAwYy0zLjczNy01LjE5MS0xMi43MTEtNC4zMDgtMTIuNzExLTQuMzA4LTIuMjIzIDMuMDE0LTUuMTI2IDI0LjU4Ni0zLjYyNCAyOC43MTggMS40MDEgMS4zMDEgMTEuNjExIDEuNjI5IDEzLjM4LTEuNDM2IDEuMjI2LTguODA0IDIuOTU1LTIyLjk3NSAyLjk1NS0yMi45NzV6Ii8+PHBhdGggZD0iTTY4LjY0NyA1OC42Yy43MjktNC43NTMgMi4zOC05LjU2MSAyLjM4LTE0LjgwNCAwLTIxLjQxMi0xNC4xMTUtMzguNzctMzEuNTI4LTM4Ljc3LTE3LjQxMiAwLTMxLjUyNyAxNy4zNTgtMzEuNTI3IDM4Ljc3IDAgNC41NDEuNTE1IDguOTM2IDEuODAyIDEyLjk1IDEuNjk4IDUuMjk1LTUuNTQyIDYuOTkxLTYuNjE2IDIuMDczQzIuNDEgNTUuMzk0IDAgNTEuNzg3IDAgNDguMTAzIDAgMjEuNTM2IDE3LjY4NSAwIDM5LjUgMCA2MS4zMTYgMCA3OSAyMS41MzYgNzkgNDguMTAzYzAgLjcxOC0yLjg5OSA5LjY5My0zLjI5MiAxMS40MDgtLjc1NCAzLjI5My03Ljc1MSAzLjU4OS03LjA2MS0uOTEyeiIvPjxwYXRoIGQ9Ik01LjA4NCA1MS4zODVjLS44MDQtMy43ODIuNTY5LTcuMzM1IDMuMTM0LTcuOTIxIDIuNjM2LS42MDMgNS40ODUgMi4xNSA2LjI4OSA2LjEzMi43OTcgMy45NDgtLjc1MiA3LjQ1Ny0zLjM4OCA3Ljg1OS0yLjU2Ni4zOTEtNS4yMzctMi4zMTgtNi4wMzQtNi4wN3ptNjguODM0IDBjLjgwNC0zLjc4Mi0uNTY4LTcuMzM1LTMuMTMzLTcuOTIxLTIuNjM2LS42MDMtNS40ODUgMi4xNS02LjI4OSA2LjEzMi0uNzk3IDMuOTQ4Ljc1MiA3LjQ1NyAzLjM4OSA3Ljg1OSAyLjU2NS4zOTEgNS4yMzctMi4zMTggNi4wMzQtNi4wN3ptLTIuMDM4IDguMjg4Yy0uOTI2IDE5LjY1OS0xNS4xMTIgMjQuNzU5LTI1Ljg1OSAyMC40NzUtNS40MDUtLjYwNi0zLjAzNCAxLjI2Mi0zLjAzNCAxLjI2MiAxMy42NjEgMy41NjIgMjYuMTY4IDMuNDk3IDMxLjI3My0yMC41NDktLjU4NS00LjUxMS0yLjM3OS0xLjE4Ny0yLjM3OS0xLjE4N3oiLz48cGF0aCBkPSJNNDEuNjYyIDc4LjQyMmw3LjU1My41NWMxLjE5Mi4xMDcgMi4xMiAxLjE1MyAyLjA3MiAyLjMzNWwtLjEwOSAyLjczOGMtLjA0NyAxLjE4Mi0xLjA1MSAyLjA1NC0yLjI0MyAxLjk0NmwtNy41NTMtLjU1Yy0xLjE5MS0uMTA3LTIuMTE5LTEuMTUzLTIuMDcyLTIuMzM1bC4xMDktMi43MzdjLjA0Ny0xLjE4MiAxLjA1Mi0yLjA1NCAyLjI0My0xLjk0N3oiLz48L2c+PC9zdmc+"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFIAAAAoCAYAAABtla08AAAINUlEQVR42u2aaUxUVxTHcRBmAAEBRVTK4sKwDIsg+wCK7CqIw1CN1YobbbS2qYlJ06Qx1UpdqMbYWq2pSzWmH6ytNbXWJY1Lq7VuqBERtW64V0XFLYae0/xvcp3MMAMzDz6IyT/ge2ce5/7ucpY3Ts3NzZ1ygF57AJ0gO0G2jyZPmdbFyclJSAV1EeoEaUUSLGdSV5KLLFxzFmA7QVqGqDqjixhWkxCVeyRVl38wM6bwj6yYItYK47BAuu9B0gCqs6Ng2r494KQtkj/Dz2jHraw6qw2fdSE4rNmcCPCvZONP8iF1I6kdBdMaQJWZLeJqRWa2kPJAxXY+GxE+zxLI03GRh8lGSwoi9WCY8FWlCEh+8JOnT7MfPGjMuXX7Tt61hoaCi/9cKmKdv3BxeEtim/UbNpnbQiqF4MmT7kqrbr4lkMcTo46TTSpJB5g+8NHuVWnWuaampvhmO/7duHmrGluoO4C6OsJZGRrkDIld43ZqUOTnlkDSmXmabAoBU0vqBf+6KgFSxQ9++uzZ8rZApM81TJ8xM5me0Z/UF7PuBmdVdkGEb5gYDeQmyZNW3SJLIP9Kj64lGyMpmxRN6sOfIbkoAhKOdnv2/PmB1kB88eLFo+olyyrps3rSINIAzLonnqlqK8R9w+L86vtrt5L2nhug3Vc3ULu/Liz8AOuXESlZZONH6kmr7gtLIA9lRNeRzVukAvj3BslLnJNKgfScO69K+/Lly0ZbQW7e8tNK+pwBjqaSIjDrXgJkW1ciAZvbQjQ+RDahpBBKd5ZZsqN758hmImk4KQHnpDd8UwSkCyJarx07d4+3BeKJmlMHyX4qaRxpBCmNFE4KENvHDpAutVERn1kCVBMfeRRgYvZnx62wZPdnZkw92VQA5GClQXYRBze2S+iJmpPVVoJLA9l9QKokjcWKTCT1R5rhLg70NuSsziT16diIKkuAjibrTpJNDkn/e17CahtAjlAWJAYkb29Sb1LE9Rs391kILk8mVkyuIpuZcLKUlEmKkra1WuSTNuesEPzwoEploSVAh9Oiz+BIyd9dOHhtx4OEpFpVg6gbNK3yXX1j48N6U5Dz5i/gc/FDrMY3sTLiSMEkXxGxzUEUAGnbxlPaksMlHUXWAlHS8URCPseSohZbCSLjSSU7ixLXdzhIWVKq4Y7t2a/2bN0qGeKly1fYsVmk6RgIDz4J0bonyUOcjeYqm/8hRoYbWkigV2NH9CHAS60EkUkkw47hSRs6FqT1LR5AVcsrueXlK1d5AO+RpmBrZZEiefByytPCanRGNLZY0uF52gNDYr9sCRB8MHY0SJu2OJWKS2WQV65e4y31DmkCImEi0hBfufRime0RIhpbKen0/Ny9OYNW2ghyYytABjNIaxNuKttAWk6HPLn0k0FevdZwFinPWFIuKZbUV16NVko6jbWSDoPO3pOf8K0jQWLSQ0S9bdpkYck+m7vfWpAiHfKgBsZiGSSt0FqcTeU8WETqAHE2CgcAVd3Gkm4MD3xXYeI6B4NMItvKbcUpQ9gP+KMWnSsW+TaYJtoo+avBWLoKoK0CCSDud+7eXWQGZAXqV3YoQjQCfixJ8+fzj9ta3JHhlUeJ8wJOY2ws6eRKpPS3oqTvHAESEz9ya0naXL5WH6pt3FqSOhTHkTcKEXc6k1POh4Q9YJu/03TT4a8PoGMFI4i2EqSbOZAYaBkpCyD92RkG6KCSbjI/H0HEISBnlOZPFdcEzI2GTO4KBZICGKyAKLTEmJOB2txf5MbgohBINCl4FTqmpJMB2W+HiRn1Q2l6lXyPmiEP6VVE2TfGoaMYrHyPdtAnyI0jEOn9RLWmNEhvBBE7SjpFQZaShtLK+1S+T12lRwxUvrZlVPp8jE1PikeO7C/nyEqBDCB1t7+kUx4kKUWclea0yZC5BIGpiJSNSD9QgFR0RQKkL6KxHSWdsiARHJNYewoGrzG1/bk4dTPSunL2EyDjcbb7MQ+lQfZmkKiN7SjpFAM5CWAyGcwyY84YsZ1lUcbRNNtQMAdtQWGvQ0DyVjzYAKQfQFodeAeC1C8vzymXIZqD+ZEh/2OyLSalS/3VbnJZ+VqDXGjMrTCFuK4s66vVZUNfqaDolcbjOcb899sLpEE+I20GifywXe2QR3KElu99PzqjGufhREqB1pjCnG3IL3fY1v733r2FMsiGhutn0LAoJWWIGbPxjKwgjUbF0m52mPhigrpdXOecEq9pR6MkHbu2LOtrcZ9y3d0ODTb15y9MePz48aF79+8fvXnr9sljx2u2I7KNxDuaMPGVECoRs7mC4eT7SIruFNfNHK15MKuM2evwNq+4qjxvGnd5CHwNNynawW4cOlUZdG8b55IIJHmkItwrZHH6QxB3OSL9kTtAGpIvZiQB3Z4SKBfXQtEE9sashWAW87Bt3sYZNR6zn4uzJwWDKUKXfaKCdqUoBpLxSjYe9nqGiwWRBGipuGZ3Qm76itYLbbJI/PEhUApfw73uOIy9xfse3M9F9BuFJHcYrseSouGkHtCVtkuGTTikI8XgZzhg9SeF4VqcvSWiaSvNHQ8JwkNjIfEHemCmNLD1RaEfLs18mlgNuN6PFALHo7CyU5W2g00gFAQF4ozvibH04muwDbWraSFAyt/AAMzewgGR8uCeWn77xzBxPxgzPRCDDMZ14bQ/3jqGKGoHf2Hjgx3kw5LbaJDYWb52t9FMgw4AuWNWukNeuOYqOsmQi2jgws4PA/DD/z0B2x0/veCs4naw0cgybezid7X9jV3rX2RSs0wfLkll4pBGcgifg+NYxe1kJ2ycTaRq66uG/wBOl0vjcw70xwAAAABJRU5ErkJggg=="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFIAAAAoCAYAAABtla08AAAGMElEQVR4Ae2aA7D0yBaAc7oH12vbRmlLaxYWb23btm3btm2899a2bWuYtPZ01cmtU9lJrib315yqr9I3Oem/5/s7acwEnehEJzoxCcX2O+wEeIgRBDDaGjAZOgQ6ihRpLklHZDJIXK1WWymMIhGGkVBKCWMM+Iv/f/b5t7faYtM/sGgIS7j8RNLjceUVl41GvGN1BFiHy9sgtRWaYbhvuVQ6o1VOvV5/tLe3dyssKoZuh8xClkDEi2MMS6ZjR0cScxdK/+HgnJsmLccYOx0e/PUGUqfTJDEHkV5go9lcMQoj4R8RpSIRRUr4a9baTJFCCNfqESKJ7RYJibK0xoi05EhFRTxMi1Rit6xHAuLaKRLwEVi6q1x+EhlVpd3d3Wfh4VQkQhRhxthYLg7SRGqdLlIp7UVOHf+JhEhEMscUolVje3p63saeeOFoKsT7fjj++BNuw2I/0ouUENmGaQcQEilQvUU6xuWC0kqmVWCt8df6kG7WLoFA20VSCOyNh0RKPT+SyrTWtQsvuvTYCy84z3+oAdbgAiLGIvHjTz6bFuu/B3lKKfVkFKknwih6EnnipZdfXQZzepAupXSGSCfwUGZtkrx3t/0dSQGnnXbmdocdetArQoj+4VR23wMP3bj/vnv9Sv/rBmkish09ca655thHSrlWq4TFF1vkNDxsgjiUnPqZnHPABIq47jx7pPMcecShfz7x1DO7D6eit99576X1113nVd8rqLGAuDaNitJonTGIqHgQGQjDsJglMrUH5iDSEQbRa6y2yrNvv/PuWVmV/PTzLz8steTit1B9FtGJeZrJksmWdBzBMcami4xUkaY1A1Qe94WIaPGBApJhaERrLrXkElf8+NPPz6YMLs1DDjn0Wn9PnI/UiQadM4jNEkhzVsEGE8nIHESM1j5/KqRX+/IEiOQ/yifNBlEkpnb00cccesbpp13T3983H88/48xzrrvm6it/8U5JXgX5G6nSvSq1R5LATR7aYGkwMG1RSwkWABH+4jUb3vT/uJ1Z0xpjraTBRltrxUQhksIRmgTJyy69+Pv99tv3qYX6FxgU+fU33352xGEHf5wisU7nNWJpZRMkAjZ6aIN1mwV7h29Jo2wCHlveu/GV169z65E+T6koexCh6c+EEiky3lnxQKFjUeVyOeI5AOBzIiayRhJryd7YYnkIHgvB0qk9Tdql6N3XH4bRUIOIIIKJSiRb0hkSEpZKRd1CpEq8GxtIyCVmDSgFl94GacTgaJw1rUlYhYng0c4ewaUsmKRIJjpiqMSOCh9QeI+UYECmtQIsxEu6OorEcv6Rl0gu0woh8MhFkmSCTXVI4pC704WCFRJvSRNJSzrMMEZO2iKZTCHAZYnmvXCny7ed5vfZK3viHSBdIFCKEFj2+nt+73nw8m2uedcLJlktA++VNMEPaR45aYukcKnnCfY3/DFbZS8t7eHxNgsPM0N1hXhJJwwM1QbpoQFlog2R13a/zBxEYHAQEUYUM6qiVwEyBYoM6JFNF2kFLelI5KQf+fVI4dJFCguDS7oAyx2R6SFQJKRedSDj/cMg/RXQ6ZE05GSIDAaXdCi1I3L021SQWNJ1RLY5OiIdL4/yvuw8ADfWPFrSciaMyH8tEQPwf1uGG54g5+KlJGTmsrxsQdl5PKidnPFe2QS///7Hu+VS6WX/HYnf0sevGL7lXydwod2/9DykZq0s5yff0sgSWCigNOH7TPHL7ufj+/TH8P/+qYpL4HkBDiRYpEXeM8/89/9zzjn7EtY64dfd1nqccM7Bs8+9MKy8555/8TnKS+5MufH6EZVASkgPzf+mJXroet17JirU0ALST3nT0y5ONyLpeo1y64ih+vuQfsoTOeRFSJXa+SvyB90TUmdw49EjLaKpMQ0mzEeTzkWsd/oI6fzfiKM8gWg6X6OjpXstu5ZHnmIb0GFiu29MIUfUewkmVrEN3RqVQ/bY8FzNcquMBv/pCNUZ5pHHem01KdN/I/DG66/lLhKSvTO5M84kav5C5z2ZfyAivi9i9VGd45RH7UWJbjwGG/7NYsRECt7jiOToHedKAui8SW4CsxyRc54mKH/8f7ELhCCACyNcIl/wI+FaAJyc8yzRtinQPzWzuFZrFHq/AAAAAElFTkSuQmCC"},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMTUwIiBoZWlnaHQ9IjkwIj48ZGVmcz48cGF0aCBkPSJNNjcgMTJMNi40NDggNzIuNTUyIDAgMzFWMThMMjYgMGw0MSAxMnptMyA3bDYgNDctMjkgMTgtMzUuNTAyLTYuNDk4TDcwIDE5eiIgaWQ9ImEiLz48L2RlZnM+PHJlY3Qgd2lkdGg9IjE1MCIgaGVpZ2h0PSI5MCIgcng9IjM1IiByeT0iNDUiIG9wYWNpdHk9Ii41Ii8+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzNikiPjxtYXNrIGlkPSJiIiBmaWxsPSIjZmZmIj48dXNlIHhsaW5rOmhyZWY9IiNhIi8+PC9tYXNrPjxwYXRoIGQ9Ik0zOS4yNDkgNTEuMzEyYy42OTcgMTAuMzcgMi43ODUgMTcuODk3IDUuMjUxIDE3Ljg5NyAzLjAzOCAwIDUuNS0xMS40MTcgNS41LTI1LjVzLTIuNDYyLTI1LjUtNS41LTI1LjVjLTIuNTEgMC00LjYyOCA3Ljc5Ny01LjI4NyAxOC40NTNBOC45ODkgOC45ODkgMCAwMTQzIDQ0YTguOTg4IDguOTg4IDAgMDEtMy43NTEgNy4zMTJ6TTIwLjk4NSAzMi4yMjRsMTUuNzQ2LTE2Ljg3N2E3LjM4NSA3LjM4NSAwIDAxMTAuMzc0LS40MkM1MS43MDIgMTkuMTE0IDU0IDI5LjIwOCA1NCA0NS4yMDhjMCAxNC41MjctMi4zNDMgMjMuODgtNy4wMyAyOC4wNThhNy4yOCA3LjI4IDAgMDEtMTAuMTY4LS40NjhMMjAuNDA1IDU1LjIyNEgxMmE1IDUgMCAwMS01LTV2LTEzYTUgNSAwIDAxNS01aDguOTg1eiIgZmlsbD0iI0ZGRiIgbWFzaz0idXJsKCNiKSIvPjwvZz48cGF0aCBkPSJNMTA2LjUgMTMuNUw0NC45OTggNzUuMDAyIiBzdHJva2U9IiNGRkYiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIi8+PC9nPjwvc3ZnPg=="},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iOTciIGhlaWdodD0iOTAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjxkZWZzPjxwYXRoIGQ9Ik03MCAxMkw5LjQ0OCA3Mi41NTIgMCA2MmwzLTQ0TDI5IDBsNDEgMTJ6bTggMmwxIDUyLTI5IDE4LTM1LjUwMi02LjQ5OEw3OCAxNHoiIGlkPSJhIi8+PC9kZWZzPjxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoOCAzKSI+PG1hc2sgaWQ9ImIiIGZpbGw9IiNmZmYiPjx1c2UgeGxpbms6aHJlZj0iI2EiLz48L21hc2s+PHBhdGggZD0iTTkuMTEgMjAuOTY4SDQ4LjFhNSA1IDAgMDE1IDVWNTguMThhNSA1IDAgMDEtNSA1SDkuMTFhNSA1IDAgMDEtNS01VjI1Ljk3YTUgNSAwIDAxNS01em00Ny4wOCAxMy4zOTRjMC0uMzQ1IDUuNDcyLTMuMTU5IDE2LjQxNS04LjQ0M2EzIDMgMCAwMTQuMzA0IDIuNzAydjI2LjgzNWEzIDMgMCAwMS00LjMwNSAyLjcwMWMtMTAuOTQyLTUuMjg2LTE2LjQxMy04LjEtMTYuNDEzLTguNDQ2VjM0LjM2MnoiIGZpbGw9IiNGRkYiIG1hc2s9InVybCgjYikiLz48L2c+PHBhdGggZD0iTTgxLjUgMTYuNUwxOS45OTggNzguMDAyIiBzdHJva2U9IiNGRkYiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIi8+PC9nPjwvc3ZnPg=="},function(e,t,n){var i={},r=function(e){var t;return function(){return"undefined"===typeof t&&(t=e.apply(this,arguments)),t}}((function(){return window&&document&&document.all&&!window.atob})),o=function(e,t){return t?t.querySelector(e):document.querySelector(e)},a=function(e){var t={};return function(e,n){if("function"===typeof e)return e();if("undefined"===typeof t[e]){var i=o.call(this,e,n);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(r){i=null}t[e]=i}return t[e]}}(),s=null,c=0,l=[],d=n(811);function u(e,t){for(var n=0;n<e.length;n++){var r=e[n],o=i[r.id];if(o){o.refs++;for(var a=0;a<o.parts.length;a++)o.parts[a](r.parts[a]);for(;a<r.parts.length;a++)o.parts.push(m(r.parts[a],t))}else{var s=[];for(a=0;a<r.parts.length;a++)s.push(m(r.parts[a],t));i[r.id]={id:r.id,refs:1,parts:s}}}}function h(e,t){for(var n=[],i={},r=0;r<e.length;r++){var o=e[r],a=t.base?o[0]+t.base:o[0],s={css:o[1],media:o[2],sourceMap:o[3]};i[a]?i[a].parts.push(s):n.push(i[a]={id:a,parts:[s]})}return n}function A(e,t){var n=a(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var i=l[l.length-1];if("top"===e.insertAt)i?i.nextSibling?n.insertBefore(t,i.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),l.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!==typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var r=a(e.insertAt.before,n);n.insertBefore(t,r)}}function p(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=l.indexOf(e);t>=0&&l.splice(t,1)}function g(e){var t=document.createElement("style");if(void 0===e.attrs.type&&(e.attrs.type="text/css"),void 0===e.attrs.nonce){var i=n.nc;i&&(e.attrs.nonce=i)}return f(t,e.attrs),A(e,t),t}function f(e,t){Object.keys(t).forEach((function(n){e.setAttribute(n,t[n])}))}function m(e,t){var n,i,r,o;if(t.transform&&e.css){if(!(o="function"===typeof t.transform?t.transform(e.css):t.transform.default(e.css)))return function(){};e.css=o}if(t.singleton){var a=c++;n=s||(s=g(t)),i=C.bind(null,n,a,!1),r=C.bind(null,n,a,!0)}else e.sourceMap&&"function"===typeof URL&&"function"===typeof URL.createObjectURL&&"function"===typeof URL.revokeObjectURL&&"function"===typeof Blob&&"function"===typeof btoa?(n=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",f(t,e.attrs),A(e,t),t}(t),i=Q.bind(null,n,t),r=function(){p(n),n.href&&URL.revokeObjectURL(n.href)}):(n=g(t),i=I.bind(null,n),r=function(){p(n)});return i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else r()}}e.exports=function(e,t){if("undefined"!==typeof DEBUG&&DEBUG&&"object"!==typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"===typeof t.attrs?t.attrs:{},t.singleton||"boolean"===typeof t.singleton||(t.singleton=r()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=h(e,t);return u(n,t),function(e){for(var r=[],o=0;o<n.length;o++){var a=n[o];(s=i[a.id]).refs--,r.push(s)}for(e&&u(h(e,t),t),o=0;o<r.length;o++){var s;if(0===(s=r[o]).refs){for(var c=0;c<s.parts.length;c++)s.parts[c]();delete i[s.id]}}}};var E=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}();function C(e,t,n,i){var r=n?"":i.css;if(e.styleSheet)e.styleSheet.cssText=E(t,r);else{var o=document.createTextNode(r),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}function I(e,t){var n=t.css,i=t.media;if(i&&e.setAttribute("media",i),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function Q(e,t,n){var i=n.css,r=n.sourceMap,o=void 0===t.convertToAbsoluteUrls&&r;(t.convertToAbsoluteUrls||o)&&(i=d(i)),r&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var a=new Blob([i],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}},function(e,t){e.exports=function(e){var t="undefined"!==typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!==typeof e)return e;var n=t.protocol+"//"+t.host,i=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){var r,o=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o)?e:(r=0===o.indexOf("//")?o:0===o.indexOf("/")?n+o:i+o.replace(/^\.\//,""),"url("+JSON.stringify(r)+")")}))}}])},e.exports=i()},3322:function(e,t,n){e.exports=function(){"use strict";function e(e,t){return t.forEach((function(t){t&&"string"!=typeof t&&!Array.isArray(t)&&Object.keys(t).forEach((function(n){if("default"!==n&&!(n in e)){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}}))})),Object.freeze(e)}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:{};function i(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var r=function(e){try{return!!e()}catch(e){return!0}},o=!r((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")})),a=o,s=Function.prototype,c=s.call,l=a&&s.bind.bind(c,c),d=a?l:function(e){return function(){return c.apply(e,arguments)}},u=d({}.isPrototypeOf),h=function(e){return e&&e.Math==Math&&e},A=h("object"==typeof globalThis&&globalThis)||h("object"==typeof window&&window)||h("object"==typeof self&&self)||h("object"==typeof t&&t)||function(){return this}()||t||Function("return this")(),p=o,g=Function.prototype,f=g.apply,m=g.call,E="object"==typeof Reflect&&Reflect.apply||(p?m.bind(f):function(){return m.apply(f,arguments)}),C=d,I=C({}.toString),Q=C("".slice),U=function(e){return Q(I(e),8,-1)},y=U,b=d,v=function(e){if("Function"===y(e))return b(e)},R="object"==typeof document&&document.all,S={all:R,IS_HTMLDDA:void 0===R&&void 0!==R},F=S.all,B=S.IS_HTMLDDA?function(e){return"function"==typeof e||e===F}:function(e){return"function"==typeof e},T={},N=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),_=o,w=Function.prototype.call,k=_?w.bind(w):function(){return w.apply(w,arguments)},D={},V={}.propertyIsEnumerable,Z=Object.getOwnPropertyDescriptor,W=Z&&!V.call({1:2},1);D.f=W?function(e){var t=Z(this,e);return!!t&&t.enumerable}:V;var O,J,x=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},M=r,L=U,P=Object,G=d("".split),Y=M((function(){return!P("z").propertyIsEnumerable(0)}))?function(e){return"String"==L(e)?G(e,""):P(e)}:P,j=function(e){return null==e},X=j,K=TypeError,H=function(e){if(X(e))throw K("Can't call method on "+e);return e},z=Y,q=H,$=function(e){return z(q(e))},ee=B,te=S.all,ne=S.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:ee(e)||e===te}:function(e){return"object"==typeof e?null!==e:ee(e)},ie={},re=ie,oe=A,ae=B,se=function(e){return ae(e)?e:void 0},ce=function(e,t){return arguments.length<2?se(re[e])||se(oe[e]):re[e]&&re[e][t]||oe[e]&&oe[e][t]},le="undefined"!=typeof navigator&&String(navigator.userAgent)||"",de=A,ue=le,he=de.process,Ae=de.Deno,pe=he&&he.versions||Ae&&Ae.version,ge=pe&&pe.v8;ge&&(J=(O=ge.split("."))[0]>0&&O[0]<4?1:+(O[0]+O[1])),!J&&ue&&(!(O=ue.match(/Edge\/(\d+)/))||O[1]>=74)&&(O=ue.match(/Chrome\/(\d+)/))&&(J=+O[1]);var fe=J,me=fe,Ee=r,Ce=A.String,Ie=!!Object.getOwnPropertySymbols&&!Ee((function(){var e=Symbol();return!Ce(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&me&&me<41})),Qe=Ie&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Ue=ce,ye=B,be=u,ve=Object,Re=Qe?function(e){return"symbol"==typeof e}:function(e){var t=Ue("Symbol");return ye(t)&&be(t.prototype,ve(e))},Se=String,Fe=function(e){try{return Se(e)}catch(e){return"Object"}},Be=B,Te=Fe,Ne=TypeError,_e=function(e){if(Be(e))return e;throw Ne(Te(e)+" is not a function")},we=_e,ke=j,De=function(e,t){var n=e[t];return ke(n)?void 0:we(n)},Ve=k,Ze=B,We=ne,Oe=TypeError,Je={exports:{}},xe=A,Me=Object.defineProperty,Le=function(e,t){try{Me(xe,e,{value:t,configurable:!0,writable:!0})}catch(i){xe[e]=t}return t},Pe="__core-js_shared__",Ge=A[Pe]||Le(Pe,{}),Ye=Ge;(Je.exports=function(e,t){return Ye[e]||(Ye[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.31.1",mode:"pure",copyright:"\xa9 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.31.1/LICENSE",source:"https://github.com/zloirock/core-js"});var je=Je.exports,Xe=H,Ke=Object,He=function(e){return Ke(Xe(e))},ze=He,qe=d({}.hasOwnProperty),$e=Object.hasOwn||function(e,t){return qe(ze(e),t)},et=d,tt=0,nt=Math.random(),it=et(1..toString),rt=function(e){return"Symbol("+(void 0===e?"":e)+")_"+it(++tt+nt,36)},ot=je,at=$e,st=rt,ct=Ie,lt=Qe,dt=A.Symbol,ut=ot("wks"),ht=lt?dt.for||dt:dt&&dt.withoutSetter||st,At=function(e){return at(ut,e)||(ut[e]=ct&&at(dt,e)?dt[e]:ht("Symbol."+e)),ut[e]},pt=k,gt=ne,ft=Re,mt=De,Et=function(e,t){var n,i;if("string"===t&&Ze(n=e.toString)&&!We(i=Ve(n,e)))return i;if(Ze(n=e.valueOf)&&!We(i=Ve(n,e)))return i;if("string"!==t&&Ze(n=e.toString)&&!We(i=Ve(n,e)))return i;throw Oe("Can't convert object to primitive value")},Ct=TypeError,It=At("toPrimitive"),Qt=function(e,t){if(!gt(e)||ft(e))return e;var n,i=mt(e,It);if(i){if(void 0===t&&(t="default"),n=pt(i,e,t),!gt(n)||ft(n))return n;throw Ct("Can't convert object to primitive value")}return void 0===t&&(t="number"),Et(e,t)},Ut=Re,yt=function(e){var t=Qt(e,"string");return Ut(t)?t:t+""},bt=ne,vt=A.document,Rt=bt(vt)&&bt(vt.createElement),St=function(e){return Rt?vt.createElement(e):{}},Ft=St,Bt=!N&&!r((function(){return 7!=Object.defineProperty(Ft("div"),"a",{get:function(){return 7}}).a})),Tt=N,Nt=k,_t=D,wt=x,kt=$,Dt=yt,Vt=$e,Zt=Bt,Wt=Object.getOwnPropertyDescriptor;T.f=Tt?Wt:function(e,t){if(e=kt(e),t=Dt(t),Zt)try{return Wt(e,t)}catch(e){}if(Vt(e,t))return wt(!Nt(_t.f,e,t),e[t])};var Ot=r,Jt=B,xt=/#|\.prototype\./,Mt=function(e,t){var n=Pt[Lt(e)];return n==Yt||n!=Gt&&(Jt(t)?Ot(t):!!t)},Lt=Mt.normalize=function(e){return String(e).replace(xt,".").toLowerCase()},Pt=Mt.data={},Gt=Mt.NATIVE="N",Yt=Mt.POLYFILL="P",jt=Mt,Xt=_e,Kt=o,Ht=v(v.bind),zt=function(e,t){return Xt(e),void 0===t?e:Kt?Ht(e,t):function(){return e.apply(t,arguments)}},qt={},$t=N&&r((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),en=ne,tn=String,nn=TypeError,rn=function(e){if(en(e))return e;throw nn(tn(e)+" is not an object")},on=N,an=Bt,sn=$t,cn=rn,ln=yt,dn=TypeError,un=Object.defineProperty,hn=Object.getOwnPropertyDescriptor,An="enumerable",pn="configurable",gn="writable";qt.f=on?sn?function(e,t,n){if(cn(e),t=ln(t),cn(n),"function"==typeof e&&"prototype"===t&&"value"in n&&gn in n&&!n[gn]){var i=hn(e,t);i&&i[gn]&&(e[t]=n.value,n={configurable:pn in n?n[pn]:i[pn],enumerable:An in n?n[An]:i[An],writable:!1})}return un(e,t,n)}:un:function(e,t,n){if(cn(e),t=ln(t),cn(n),an)try{return un(e,t,n)}catch(e){}if("get"in n||"set"in n)throw dn("Accessors not supported");return"value"in n&&(e[t]=n.value),e};var fn=qt,mn=x,En=N?function(e,t,n){return fn.f(e,t,mn(1,n))}:function(e,t,n){return e[t]=n,e},Cn=A,In=E,Qn=v,Un=B,yn=T.f,bn=jt,vn=ie,Rn=zt,Sn=En,Fn=$e,Bn=function(e){var t=function(n,i,r){if(this instanceof t){switch(arguments.length){case 0:return new e;case 1:return new e(n);case 2:return new e(n,i)}return new e(n,i,r)}return In(e,this,arguments)};return t.prototype=e.prototype,t},Tn=function(e,t){var n,i,r,o,a,s,c,l,d,u=e.target,h=e.global,A=e.stat,p=e.proto,g=h?Cn:A?Cn[u]:(Cn[u]||{}).prototype,f=h?vn:vn[u]||Sn(vn,u,{})[u],m=f.prototype;for(o in t)i=!(n=bn(h?o:u+(A?".":"#")+o,e.forced))&&g&&Fn(g,o),s=f[o],i&&(c=e.dontCallGetSet?(d=yn(g,o))&&d.value:g[o]),a=i&&c?c:t[o],i&&typeof s==typeof a||(l=e.bind&&i?Rn(a,Cn):e.wrap&&i?Bn(a):p&&Un(a)?Qn(a):a,(e.sham||a&&a.sham||s&&s.sham)&&Sn(l,"sham",!0),Sn(f,o,l),p&&(Fn(vn,r=u+"Prototype")||Sn(vn,r,{}),Sn(vn[r],o,a),e.real&&m&&(n||!m[o])&&Sn(m,o,a)))},Nn=Math.ceil,_n=Math.floor,wn=Math.trunc||function(e){var t=+e;return(t>0?_n:Nn)(t)},kn=function(e){var t=+e;return t!=t||0===t?0:wn(t)},Dn=kn,Vn=Math.max,Zn=Math.min,Wn=function(e,t){var n=Dn(e);return n<0?Vn(n+t,0):Zn(n,t)},On=kn,Jn=Math.min,xn=function(e){return e>0?Jn(On(e),9007199254740991):0},Mn=function(e){return xn(e.length)},Ln=$,Pn=Wn,Gn=Mn,Yn=function(e){return function(t,n,i){var r,o=Ln(t),a=Gn(o),s=Pn(i,a);if(e&&n!=n){for(;a>s;)if((r=o[s++])!=r)return!0}else for(;a>s;s++)if((e||s in o)&&o[s]===n)return e||s||0;return!e&&-1}},jn={includes:Yn(!0),indexOf:Yn(!1)},Xn=jn.includes;Tn({target:"Array",proto:!0,forced:r((function(){return!Array(1).includes()}))},{includes:function(e){return Xn(this,e,arguments.length>1?arguments[1]:void 0)}});var Kn=ie,Hn=function(e){return Kn[e+"Prototype"]},zn=Hn("Array").includes,qn=ne,$n=U,ei=At("match"),ti=function(e){var t;return qn(e)&&(void 0!==(t=e[ei])?!!t:"RegExp"==$n(e))},ni=TypeError,ii={};ii[At("toStringTag")]="z";var ri="[object z]"===String(ii),oi=ri,ai=B,si=U,ci=At("toStringTag"),li=Object,di="Arguments"==si(function(){return arguments}()),ui=oi?si:function(e){var t,n,i;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=li(e),ci))?n:di?si(t):"Object"==(i=si(t))&&ai(t.callee)?"Arguments":i},hi=ui,Ai=String,pi=function(e){if("Symbol"===hi(e))throw TypeError("Cannot convert a Symbol value to a string");return Ai(e)},gi=At("match"),fi=Tn,mi=function(e){if(ti(e))throw ni("The method doesn't accept regular expressions");return e},Ei=H,Ci=pi,Ii=function(e){var t=/./;try{"/./"[e](t)}catch(i){try{return t[gi]=!1,"/./"[e](t)}catch(e){}}return!1},Qi=d("".indexOf);fi({target:"String",proto:!0,forced:!Ii("includes")},{includes:function(e){return!!~Qi(Ci(Ei(this)),Ci(mi(e)),arguments.length>1?arguments[1]:void 0)}});var Ui=Hn("String").includes,yi=u,bi=zn,vi=Ui,Ri=Array.prototype,Si=String.prototype,Fi=i((function(e){var t=e.includes;return e===Ri||yi(Ri,e)&&t===Ri.includes?bi:"string"==typeof e||e===Si||yi(Si,e)&&t===Si.includes?vi:t}));let Bi=!0,Ti=!0;function Ni(e,t,n){const i=e.match(t);return i&&i.length>=n&&parseInt(i[n],10)}function _i(e,t,n){if(!e.RTCPeerConnection)return;const i=e.RTCPeerConnection.prototype,r=i.addEventListener;i.addEventListener=function(e,i){if(e!==t)return r.apply(this,arguments);const o=e=>{const t=n(e);t&&(i.handleEvent?i.handleEvent(t):i(t))};return this._eventMap=this._eventMap||{},this._eventMap[t]||(this._eventMap[t]=new Map),this._eventMap[t].set(i,o),r.apply(this,[e,o])};const o=i.removeEventListener;i.removeEventListener=function(e,n){if(e!==t||!this._eventMap||!this._eventMap[t])return o.apply(this,arguments);if(!this._eventMap[t].has(n))return o.apply(this,arguments);const i=this._eventMap[t].get(n);return this._eventMap[t].delete(n),0===this._eventMap[t].size&&delete this._eventMap[t],0===Object.keys(this._eventMap).length&&delete this._eventMap,o.apply(this,[e,i])},Object.defineProperty(i,"on"+t,{get(){return this["_on"+t]},set(e){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),e&&this.addEventListener(t,this["_on"+t]=e)},enumerable:!0,configurable:!0})}function wi(e){return"boolean"!=typeof e?new Error("Argument type: "+typeof e+". Please use a boolean."):(Bi=e,e?"adapter.js logging disabled":"adapter.js logging enabled")}function ki(e){return"boolean"!=typeof e?new Error("Argument type: "+typeof e+". Please use a boolean."):(Ti=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))}function Di(){if("object"==typeof window){if(Bi)return;"undefined"!=typeof console&&"function"==typeof console.log&&console.log.apply(console,arguments)}}function Vi(e,t){Ti&&console.warn(e+" is deprecated, please use "+t+" instead.")}function Zi(e){return"[object Object]"===Object.prototype.toString.call(e)}function Wi(e){return Zi(e)?Object.keys(e).reduce((function(t,n){const i=Zi(e[n]),r=i?Wi(e[n]):e[n],o=i&&!Object.keys(r).length;return void 0===r||o?t:Object.assign(t,{[n]:r})}),{}):e}function Oi(e,t,n){t&&!n.has(t.id)&&(n.set(t.id,t),Object.keys(t).forEach((i=>{i.endsWith("Id")?Oi(e,e.get(t[i]),n):i.endsWith("Ids")&&t[i].forEach((t=>{Oi(e,e.get(t),n)}))})))}function Ji(e,t,n){const i=n?"outbound-rtp":"inbound-rtp",r=new Map;if(null===t)return r;const o=[];return e.forEach((e=>{"track"===e.type&&e.trackIdentifier===t.id&&o.push(e)})),o.forEach((t=>{e.forEach((n=>{n.type===i&&n.trackId===t.id&&Oi(e,n,r)}))})),r}const xi=Di;function Mi(e,t){const n=e&&e.navigator;if(!n.mediaDevices)return;const i=function(e){if("object"!=typeof e||e.mandatory||e.optional)return e;const t={};return Object.keys(e).forEach((n=>{if("require"===n||"advanced"===n||"mediaSource"===n)return;const i="object"==typeof e[n]?e[n]:{ideal:e[n]};void 0!==i.exact&&"number"==typeof i.exact&&(i.min=i.max=i.exact);const r=function(e,t){return e?e+t.charAt(0).toUpperCase()+t.slice(1):"deviceId"===t?"sourceId":t};if(void 0!==i.ideal){t.optional=t.optional||[];let e={};"number"==typeof i.ideal?(e[r("min",n)]=i.ideal,t.optional.push(e),e={},e[r("max",n)]=i.ideal,t.optional.push(e)):(e[r("",n)]=i.ideal,t.optional.push(e))}void 0!==i.exact&&"number"!=typeof i.exact?(t.mandatory=t.mandatory||{},t.mandatory[r("",n)]=i.exact):["min","max"].forEach((e=>{void 0!==i[e]&&(t.mandatory=t.mandatory||{},t.mandatory[r(e,n)]=i[e])}))})),e.advanced&&(t.optional=(t.optional||[]).concat(e.advanced)),t},r=function(e,r){if(t.version>=61)return r(e);if((e=JSON.parse(JSON.stringify(e)))&&"object"==typeof e.audio){const t=function(e,t,n){t in e&&!(n in e)&&(e[n]=e[t],delete e[t])};t((e=JSON.parse(JSON.stringify(e))).audio,"autoGainControl","googAutoGainControl"),t(e.audio,"noiseSuppression","googNoiseSuppression"),e.audio=i(e.audio)}if(e&&"object"==typeof e.video){let o=e.video.facingMode;o=o&&("object"==typeof o?o:{ideal:o});const a=t.version<66;if(o&&("user"===o.exact||"environment"===o.exact||"user"===o.ideal||"environment"===o.ideal)&&(!n.mediaDevices.getSupportedConstraints||!n.mediaDevices.getSupportedConstraints().facingMode||a)){let t;if(delete e.video.facingMode,"environment"===o.exact||"environment"===o.ideal?t=["back","rear"]:"user"!==o.exact&&"user"!==o.ideal||(t=["front"]),t)return n.mediaDevices.enumerateDevices().then((n=>{let a=(n=n.filter((e=>"videoinput"===e.kind))).find((e=>t.some((t=>e.label.toLowerCase().includes(t)))));return!a&&n.length&&t.includes("back")&&(a=n[n.length-1]),a&&(e.video.deviceId=o.exact?{exact:a.deviceId}:{ideal:a.deviceId}),e.video=i(e.video),xi("chrome: "+JSON.stringify(e)),r(e)}))}e.video=i(e.video)}return xi("chrome: "+JSON.stringify(e)),r(e)},o=function(e){return t.version>=64?e:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[e.name]||e.name,message:e.message,constraint:e.constraint||e.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}};if(n.getUserMedia=function(e,t,i){r(e,(e=>{n.webkitGetUserMedia(e,t,(e=>{i&&i(o(e))}))}))}.bind(n),n.mediaDevices.getUserMedia){const e=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(t){return r(t,(t=>e(t).then((e=>{if(t.audio&&!e.getAudioTracks().length||t.video&&!e.getVideoTracks().length)throw e.getTracks().forEach((e=>{e.stop()})),new DOMException("","NotFoundError");return e}),(e=>Promise.reject(o(e))))))}}}function Li(e){e.MediaStream=e.MediaStream||e.webkitMediaStream}function Pi(e){if("object"==typeof e&&e.RTCPeerConnection&&!("ontrack"in e.RTCPeerConnection.prototype)){Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(e){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=e)},enumerable:!0,configurable:!0});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=t=>{t.stream.addEventListener("addtrack",(n=>{let i;i=e.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find((e=>e.track&&e.track.id===n.track.id)):{track:n.track};const r=new Event("track");r.track=n.track,r.receiver=i,r.transceiver={receiver:i},r.streams=[t.stream],this.dispatchEvent(r)})),t.stream.getTracks().forEach((n=>{let i;i=e.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find((e=>e.track&&e.track.id===n.id)):{track:n};const r=new Event("track");r.track=n,r.receiver=i,r.transceiver={receiver:i},r.streams=[t.stream],this.dispatchEvent(r)}))},this.addEventListener("addstream",this._ontrackpoly)),t.apply(this,arguments)}}else _i(e,"track",(e=>(e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e)))}function Gi(e){if("object"==typeof e&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){const t=function(e,t){return{track:t,get dtmf(){return void 0===this._dtmf&&("audio"===t.kind?this._dtmf=e.createDTMFSender(t):this._dtmf=null),this._dtmf},_pc:e}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const n=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,i){let r=n.apply(this,arguments);return r||(r=t(this,e),this._senders.push(r)),r};const i=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){i.apply(this,arguments);const t=this._senders.indexOf(e);-1!==t&&this._senders.splice(t,1)}}const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){this._senders=this._senders||[],n.apply(this,[e]),e.getTracks().forEach((e=>{this._senders.push(t(this,e))}))};const i=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){this._senders=this._senders||[],i.apply(this,[e]),e.getTracks().forEach((e=>{const t=this._senders.find((t=>t.track===e));t&&this._senders.splice(this._senders.indexOf(t),1)}))}}else if("object"==typeof e&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){const t=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){const e=t.apply(this,[]);return e.forEach((e=>e._pc=this)),e},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function Yi(e){if(!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[e,n,i]=arguments;if(arguments.length>0&&"function"==typeof e)return t.apply(this,arguments);if(0===t.length&&(0===arguments.length||"function"!=typeof e))return t.apply(this,[]);const r=function(e){const t={};return e.result().forEach((e=>{const n={id:e.id,timestamp:e.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[e.type]||e.type};e.names().forEach((t=>{n[t]=e.stat(t)})),t[n.id]=n})),t},o=function(e){return new Map(Object.keys(e).map((t=>[t,e[t]])))};if(arguments.length>=2){const i=function(e){n(o(r(e)))};return t.apply(this,[i,e])}return new Promise(((e,n)=>{t.apply(this,[function(t){e(o(r(t)))},n])})).then(n,i)}}function ji(e){if(!("object"==typeof e&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver))return;if(!("getStats"in e.RTCRtpSender.prototype)){const t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){const e=t.apply(this,[]);return e.forEach((e=>e._pc=this)),e});const n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){const e=n.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){const e=this;return this._pc.getStats().then((t=>Ji(t,e.track,!0)))}}if(!("getStats"in e.RTCRtpReceiver.prototype)){const t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){const e=t.apply(this,[]);return e.forEach((e=>e._pc=this)),e}),_i(e,"track",(e=>(e.receiver._pc=e.srcElement,e))),e.RTCRtpReceiver.prototype.getStats=function(){const e=this;return this._pc.getStats().then((t=>Ji(t,e.track,!1)))}}if(!("getStats"in e.RTCRtpSender.prototype)||!("getStats"in e.RTCRtpReceiver.prototype))return;const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){const e=arguments[0];let t,n,i;return this.getSenders().forEach((n=>{n.track===e&&(t?i=!0:t=n)})),this.getReceivers().forEach((t=>(t.track===e&&(n?i=!0:n=t),t.track===e))),i||t&&n?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):t?t.getStats():n?n.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return t.apply(this,arguments)}}function Xi(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map((e=>this._shimmedLocalStreams[e][0]))};const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,n){if(!n)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const i=t.apply(this,arguments);return this._shimmedLocalStreams[n.id]?-1===this._shimmedLocalStreams[n.id].indexOf(i)&&this._shimmedLocalStreams[n.id].push(i):this._shimmedLocalStreams[n.id]=[n,i],i};const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){this._shimmedLocalStreams=this._shimmedLocalStreams||{},e.getTracks().forEach((e=>{if(this.getSenders().find((t=>t.track===e)))throw new DOMException("Track already exists.","InvalidAccessError")}));const t=this.getSenders();n.apply(this,arguments);const i=this.getSenders().filter((e=>-1===t.indexOf(e)));this._shimmedLocalStreams[e.id]=[e].concat(i)};const i=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[e.id],i.apply(this,arguments)};const r=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},e&&Object.keys(this._shimmedLocalStreams).forEach((t=>{const n=this._shimmedLocalStreams[t].indexOf(e);-1!==n&&this._shimmedLocalStreams[t].splice(n,1),1===this._shimmedLocalStreams[t].length&&delete this._shimmedLocalStreams[t]})),r.apply(this,arguments)}}function Ki(e,t){if(!e.RTCPeerConnection)return;if(e.RTCPeerConnection.prototype.addTrack&&t.version>=65)return Xi(e);const n=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){const e=n.apply(this);return this._reverseStreams=this._reverseStreams||{},e.map((e=>this._reverseStreams[e.id]))};const i=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(t){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},t.getTracks().forEach((e=>{if(this.getSenders().find((t=>t.track===e)))throw new DOMException("Track already exists.","InvalidAccessError")})),!this._reverseStreams[t.id]){const n=new e.MediaStream(t.getTracks());this._streams[t.id]=n,this._reverseStreams[n.id]=t,t=n}i.apply(this,[t])};const r=e.RTCPeerConnection.prototype.removeStream;function o(e,t){let n=t.sdp;return Object.keys(e._reverseStreams||[]).forEach((t=>{const i=e._reverseStreams[t],r=e._streams[i.id];n=n.replace(new RegExp(r.id,"g"),i.id)})),new RTCSessionDescription({type:t.type,sdp:n})}e.RTCPeerConnection.prototype.removeStream=function(e){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},r.apply(this,[this._streams[e.id]||e]),delete this._reverseStreams[this._streams[e.id]?this._streams[e.id].id:e.id],delete this._streams[e.id]},e.RTCPeerConnection.prototype.addTrack=function(t,n){if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const i=[].slice.call(arguments,1);if(1!==i.length||!i[0].getTracks().find((e=>e===t)))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find((e=>e.track===t)))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const r=this._streams[n.id];if(r)r.addTrack(t),Promise.resolve().then((()=>{this.dispatchEvent(new Event("negotiationneeded"))}));else{const i=new e.MediaStream([t]);this._streams[n.id]=i,this._reverseStreams[i.id]=n,this.addStream(i)}return this.getSenders().find((e=>e.track===t))},["createOffer","createAnswer"].forEach((function(t){const n=e.RTCPeerConnection.prototype[t],i={[t](){const e=arguments;return arguments.length&&"function"==typeof arguments[0]?n.apply(this,[t=>{const n=o(this,t);e[0].apply(null,[n])},t=>{e[1]&&e[1].apply(null,t)},arguments[2]]):n.apply(this,arguments).then((e=>o(this,e)))}};e.RTCPeerConnection.prototype[t]=i[t]}));const a=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type?(arguments[0]=function(e,t){let n=t.sdp;return Object.keys(e._reverseStreams||[]).forEach((t=>{const i=e._reverseStreams[t],r=e._streams[i.id];n=n.replace(new RegExp(i.id,"g"),r.id)})),new RTCSessionDescription({type:t.type,sdp:n})}(this,arguments[0]),a.apply(this,arguments)):a.apply(this,arguments)};const s=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get(){const e=s.get.apply(this);return""===e.type?e:o(this,e)}}),e.RTCPeerConnection.prototype.removeTrack=function(e){if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!e._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(e._pc!==this)throw new DOMException("Sender was not created by this connection.","InvalidAccessError");let t;this._streams=this._streams||{},Object.keys(this._streams).forEach((n=>{this._streams[n].getTracks().find((t=>e.track===t))&&(t=this._streams[n])})),t&&(1===t.getTracks().length?this.removeStream(this._reverseStreams[t.id]):t.removeTrack(e.track),this.dispatchEvent(new Event("negotiationneeded")))}}function Hi(e,t){!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),e.RTCPeerConnection&&t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(t){const n=e.RTCPeerConnection.prototype[t],i={[t](){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}};e.RTCPeerConnection.prototype[t]=i[t]}))}function zi(e,t){_i(e,"negotiationneeded",(e=>{const n=e.target;if(!(t.version<72||n.getConfiguration&&"plan-b"===n.getConfiguration().sdpSemantics)||"stable"===n.signalingState)return e}))}var qi=Object.freeze({__proto__:null,fixNegotiationNeeded:zi,shimAddTrackRemoveTrack:Ki,shimAddTrackRemoveTrackWithNative:Xi,shimGetDisplayMedia:function(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&("function"==typeof t?e.navigator.mediaDevices.getDisplayMedia=function(n){return t(n).then((t=>{const i=n.video&&n.video.width,r=n.video&&n.video.height,o=n.video&&n.video.frameRate;return n.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:t,maxFrameRate:o||3}},i&&(n.video.mandatory.maxWidth=i),r&&(n.video.mandatory.maxHeight=r),e.navigator.mediaDevices.getUserMedia(n)}))}:console.error("shimGetDisplayMedia: getSourceId argument is not a function"))},shimGetSendersWithDtmf:Gi,shimGetStats:Yi,shimGetUserMedia:Mi,shimMediaStream:Li,shimOnTrack:Pi,shimPeerConnection:Hi,shimSenderReceiverGetStats:ji});function $i(e,t){const n=e&&e.navigator,i=e&&e.MediaStreamTrack;if(n.getUserMedia=function(e,t,i){Vi("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(e).then(t,i)},!(t.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){const e=function(e,t,n){t in e&&!(n in e)&&(e[n]=e[t],delete e[t])},t=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(n){return"object"==typeof n&&"object"==typeof n.audio&&(n=JSON.parse(JSON.stringify(n)),e(n.audio,"autoGainControl","mozAutoGainControl"),e(n.audio,"noiseSuppression","mozNoiseSuppression")),t(n)},i&&i.prototype.getSettings){const t=i.prototype.getSettings;i.prototype.getSettings=function(){const n=t.apply(this,arguments);return e(n,"mozAutoGainControl","autoGainControl"),e(n,"mozNoiseSuppression","noiseSuppression"),n}}if(i&&i.prototype.applyConstraints){const t=i.prototype.applyConstraints;i.prototype.applyConstraints=function(n){return"audio"===this.kind&&"object"==typeof n&&(n=JSON.parse(JSON.stringify(n)),e(n,"autoGainControl","mozAutoGainControl"),e(n,"noiseSuppression","mozNoiseSuppression")),t.apply(this,[n])}}}}function er(e){"object"==typeof e&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function tr(e,t){if("object"!=typeof e||!e.RTCPeerConnection&&!e.mozRTCPeerConnection)return;!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(t){const n=e.RTCPeerConnection.prototype[t],i={[t](){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}};e.RTCPeerConnection.prototype[t]=i[t]}));const n={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},i=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[e,r,o]=arguments;return i.apply(this,[e||null]).then((e=>{if(t.version<53&&!r)try{e.forEach((e=>{e.type=n[e.type]||e.type}))}catch(t){if("TypeError"!==t.name)throw t;e.forEach(((t,i)=>{e.set(i,Object.assign({},t,{type:n[t.type]||t.type}))}))}return e})).then(r,o)}}function nr(e){if("object"!=typeof e||!e.RTCPeerConnection||!e.RTCRtpSender)return;if(e.RTCRtpSender&&"getStats"in e.RTCRtpSender.prototype)return;const t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){const e=t.apply(this,[]);return e.forEach((e=>e._pc=this)),e});const n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){const e=n.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function ir(e){if("object"!=typeof e||!e.RTCPeerConnection||!e.RTCRtpSender)return;if(e.RTCRtpSender&&"getStats"in e.RTCRtpReceiver.prototype)return;const t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){const e=t.apply(this,[]);return e.forEach((e=>e._pc=this)),e}),_i(e,"track",(e=>(e.receiver._pc=e.srcElement,e))),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function rr(e){e.RTCPeerConnection&&!("removeStream"in e.RTCPeerConnection.prototype)&&(e.RTCPeerConnection.prototype.removeStream=function(e){Vi("removeStream","removeTrack"),this.getSenders().forEach((t=>{t.track&&e.getTracks().includes(t.track)&&this.removeTrack(t)}))})}function or(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)}function ar(e){if("object"!=typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.addTransceiver;t&&(e.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let e=arguments[1]&&arguments[1].sendEncodings;void 0===e&&(e=[]),e=[...e];const n=e.length>0;n&&e.forEach((e=>{if("rid"in e&&!/^[a-z0-9]{0,16}$/i.test(e.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in e&&!(parseFloat(e.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in e&&!(parseFloat(e.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")}));const i=t.apply(this,arguments);if(n){const{sender:t}=i,n=t.getParameters();(!("encodings"in n)||1===n.encodings.length&&0===Object.keys(n.encodings[0]).length)&&(n.encodings=e,t.sendEncodings=e,this.setParametersPromises.push(t.setParameters(n).then((()=>{delete t.sendEncodings})).catch((()=>{delete t.sendEncodings}))))}return i})}function sr(e){if("object"!=typeof e||!e.RTCRtpSender)return;const t=e.RTCRtpSender.prototype.getParameters;t&&(e.RTCRtpSender.prototype.getParameters=function(){const e=t.apply(this,arguments);return"encodings"in e||(e.encodings=[].concat(this.sendEncodings||[{}])),e})}function cr(e){if("object"!=typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then((()=>t.apply(this,arguments))).finally((()=>{this.setParametersPromises=[]})):t.apply(this,arguments)}}function lr(e){if("object"!=typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.createAnswer;e.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then((()=>t.apply(this,arguments))).finally((()=>{this.setParametersPromises=[]})):t.apply(this,arguments)}}var dr=Object.freeze({__proto__:null,shimAddTransceiver:ar,shimCreateAnswer:lr,shimCreateOffer:cr,shimGetDisplayMedia:function(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&(e.navigator.mediaDevices.getDisplayMedia=function(n){if(!n||!n.video){const e=new DOMException("getDisplayMedia without video constraints is undefined");return e.name="NotFoundError",e.code=8,Promise.reject(e)}return!0===n.video?n.video={mediaSource:t}:n.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(n)})},shimGetParameters:sr,shimGetUserMedia:$i,shimOnTrack:er,shimPeerConnection:tr,shimRTCDataChannel:or,shimReceiverGetStats:ir,shimRemoveStream:rr,shimSenderGetStats:nr});function ur(e){if("object"==typeof e&&e.RTCPeerConnection){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(e){this._localStreams||(this._localStreams=[]),this._localStreams.includes(e)||this._localStreams.push(e),e.getAudioTracks().forEach((n=>t.call(this,n,e))),e.getVideoTracks().forEach((n=>t.call(this,n,e)))},e.RTCPeerConnection.prototype.addTrack=function(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return i&&i.forEach((e=>{this._localStreams?this._localStreams.includes(e)||this._localStreams.push(e):this._localStreams=[e]})),t.apply(this,arguments)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){this._localStreams||(this._localStreams=[]);const t=this._localStreams.indexOf(e);if(-1===t)return;this._localStreams.splice(t,1);const n=e.getTracks();this.getSenders().forEach((e=>{n.includes(e.track)&&this.removeTrack(e)}))})}}function hr(e){if("object"==typeof e&&e.RTCPeerConnection&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(e){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=e),this.addEventListener("track",this._onaddstreampoly=e=>{e.streams.forEach((e=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(e))return;this._remoteStreams.push(e);const t=new Event("addstream");t.stream=e,this.dispatchEvent(t)}))})}});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){const e=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(t){t.streams.forEach((t=>{if(e._remoteStreams||(e._remoteStreams=[]),e._remoteStreams.indexOf(t)>=0)return;e._remoteStreams.push(t);const n=new Event("addstream");n.stream=t,e.dispatchEvent(n)}))}),t.apply(e,arguments)}}}function Ar(e){if("object"!=typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype,n=t.createOffer,i=t.createAnswer,r=t.setLocalDescription,o=t.setRemoteDescription,a=t.addIceCandidate;t.createOffer=function(e,t){const i=arguments.length>=2?arguments[2]:arguments[0],r=n.apply(this,[i]);return t?(r.then(e,t),Promise.resolve()):r},t.createAnswer=function(e,t){const n=arguments.length>=2?arguments[2]:arguments[0],r=i.apply(this,[n]);return t?(r.then(e,t),Promise.resolve()):r};let s=function(e,t,n){const i=r.apply(this,[e]);return n?(i.then(t,n),Promise.resolve()):i};t.setLocalDescription=s,s=function(e,t,n){const i=o.apply(this,[e]);return n?(i.then(t,n),Promise.resolve()):i},t.setRemoteDescription=s,s=function(e,t,n){const i=a.apply(this,[e]);return n?(i.then(t,n),Promise.resolve()):i},t.addIceCandidate=s}function pr(e){const t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){const e=t.mediaDevices,n=e.getUserMedia.bind(e);t.mediaDevices.getUserMedia=e=>n(gr(e))}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=function(e,n,i){t.mediaDevices.getUserMedia(e).then(n,i)}.bind(t))}function gr(e){return e&&void 0!==e.video?Object.assign({},e,{video:Wi(e.video)}):e}function fr(e){if(!e.RTCPeerConnection)return;const t=e.RTCPeerConnection;e.RTCPeerConnection=function(e,n){if(e&&e.iceServers){const t=[];for(let n=0;n<e.iceServers.length;n++){let i=e.iceServers[n];!i.hasOwnProperty("urls")&&i.hasOwnProperty("url")?(Vi("RTCIceServer.url","RTCIceServer.urls"),i=JSON.parse(JSON.stringify(i)),i.urls=i.url,delete i.url,t.push(i)):t.push(e.iceServers[n])}e.iceServers=t}return new t(e,n)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in t&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:()=>t.generateCertificate})}function mr(e){"object"==typeof e&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function Er(e){const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(e){if(e){void 0!==e.offerToReceiveAudio&&(e.offerToReceiveAudio=!!e.offerToReceiveAudio);const t=this.getTransceivers().find((e=>"audio"===e.receiver.track.kind));!1===e.offerToReceiveAudio&&t?"sendrecv"===t.direction?t.setDirection?t.setDirection("sendonly"):t.direction="sendonly":"recvonly"===t.direction&&(t.setDirection?t.setDirection("inactive"):t.direction="inactive"):!0!==e.offerToReceiveAudio||t||this.addTransceiver("audio",{direction:"recvonly"}),void 0!==e.offerToReceiveVideo&&(e.offerToReceiveVideo=!!e.offerToReceiveVideo);const n=this.getTransceivers().find((e=>"video"===e.receiver.track.kind));!1===e.offerToReceiveVideo&&n?"sendrecv"===n.direction?n.setDirection?n.setDirection("sendonly"):n.direction="sendonly":"recvonly"===n.direction&&(n.setDirection?n.setDirection("inactive"):n.direction="inactive"):!0!==e.offerToReceiveVideo||n||this.addTransceiver("video",{direction:"recvonly"})}return t.apply(this,arguments)}}function Cr(e){"object"!=typeof e||e.AudioContext||(e.AudioContext=e.webkitAudioContext)}var Ir=Object.freeze({__proto__:null,shimAudioContext:Cr,shimCallbacksAPI:Ar,shimConstraints:gr,shimCreateOfferLegacy:Er,shimGetUserMedia:pr,shimLocalStreamsAPI:ur,shimRTCIceServerUrls:fr,shimRemoteStreamsAPI:hr,shimTrackEventTransceiver:mr}),Qr={exports:{}};!function(e){const t={generateIdentifier:function(){return Math.random().toString(36).substring(2,12)}};t.localCName=t.generateIdentifier(),t.splitLines=function(e){return e.trim().split("\n").map((e=>e.trim()))},t.splitSections=function(e){return e.split("\nm=").map(((e,t)=>(t>0?"m="+e:e).trim()+"\r\n"))},t.getDescription=function(e){const n=t.splitSections(e);return n&&n[0]},t.getMediaSections=function(e){const n=t.splitSections(e);return n.shift(),n},t.matchPrefix=function(e,n){return t.splitLines(e).filter((e=>0===e.indexOf(n)))},t.parseCandidate=function(e){let t;t=0===e.indexOf("a=candidate:")?e.substring(12).split(" "):e.substring(10).split(" ");const n={foundation:t[0],component:{1:"rtp",2:"rtcp"}[t[1]]||t[1],protocol:t[2].toLowerCase(),priority:parseInt(t[3],10),ip:t[4],address:t[4],port:parseInt(t[5],10),type:t[7]};for(let i=8;i<t.length;i+=2)switch(t[i]){case"raddr":n.relatedAddress=t[i+1];break;case"rport":n.relatedPort=parseInt(t[i+1],10);break;case"tcptype":n.tcpType=t[i+1];break;case"ufrag":n.ufrag=t[i+1],n.usernameFragment=t[i+1];break;default:void 0===n[t[i]]&&(n[t[i]]=t[i+1])}return n},t.writeCandidate=function(e){const t=[];t.push(e.foundation);const n=e.component;"rtp"===n?t.push(1):"rtcp"===n?t.push(2):t.push(n),t.push(e.protocol.toUpperCase()),t.push(e.priority),t.push(e.address||e.ip),t.push(e.port);const i=e.type;return t.push("typ"),t.push(i),"host"!==i&&e.relatedAddress&&e.relatedPort&&(t.push("raddr"),t.push(e.relatedAddress),t.push("rport"),t.push(e.relatedPort)),e.tcpType&&"tcp"===e.protocol.toLowerCase()&&(t.push("tcptype"),t.push(e.tcpType)),(e.usernameFragment||e.ufrag)&&(t.push("ufrag"),t.push(e.usernameFragment||e.ufrag)),"candidate:"+t.join(" ")},t.parseIceOptions=function(e){return e.substring(14).split(" ")},t.parseRtpMap=function(e){let t=e.substring(9).split(" ");const n={payloadType:parseInt(t.shift(),10)};return t=t[0].split("/"),n.name=t[0],n.clockRate=parseInt(t[1],10),n.channels=3===t.length?parseInt(t[2],10):1,n.numChannels=n.channels,n},t.writeRtpMap=function(e){let t=e.payloadType;void 0!==e.preferredPayloadType&&(t=e.preferredPayloadType);const n=e.channels||e.numChannels||1;return"a=rtpmap:"+t+" "+e.name+"/"+e.clockRate+(1!==n?"/"+n:"")+"\r\n"},t.parseExtmap=function(e){const t=e.substring(9).split(" ");return{id:parseInt(t[0],10),direction:t[0].indexOf("/")>0?t[0].split("/")[1]:"sendrecv",uri:t[1],attributes:t.slice(2).join(" ")}},t.writeExtmap=function(e){return"a=extmap:"+(e.id||e.preferredId)+(e.direction&&"sendrecv"!==e.direction?"/"+e.direction:"")+" "+e.uri+(e.attributes?" "+e.attributes:"")+"\r\n"},t.parseFmtp=function(e){const t={};let n;const i=e.substring(e.indexOf(" ")+1).split(";");for(let r=0;r<i.length;r++)n=i[r].trim().split("="),t[n[0].trim()]=n[1];return t},t.writeFmtp=function(e){let t="",n=e.payloadType;if(void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.parameters&&Object.keys(e.parameters).length){const i=[];Object.keys(e.parameters).forEach((t=>{void 0!==e.parameters[t]?i.push(t+"="+e.parameters[t]):i.push(t)})),t+="a=fmtp:"+n+" "+i.join(";")+"\r\n"}return t},t.parseRtcpFb=function(e){const t=e.substring(e.indexOf(" ")+1).split(" ");return{type:t.shift(),parameter:t.join(" ")}},t.writeRtcpFb=function(e){let t="",n=e.payloadType;return void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.rtcpFeedback&&e.rtcpFeedback.length&&e.rtcpFeedback.forEach((e=>{t+="a=rtcp-fb:"+n+" "+e.type+(e.parameter&&e.parameter.length?" "+e.parameter:"")+"\r\n"})),t},t.parseSsrcMedia=function(e){const t=e.indexOf(" "),n={ssrc:parseInt(e.substring(7,t),10)},i=e.indexOf(":",t);return i>-1?(n.attribute=e.substring(t+1,i),n.value=e.substring(i+1)):n.attribute=e.substring(t+1),n},t.parseSsrcGroup=function(e){const t=e.substring(13).split(" ");return{semantics:t.shift(),ssrcs:t.map((e=>parseInt(e,10)))}},t.getMid=function(e){const n=t.matchPrefix(e,"a=mid:")[0];if(n)return n.substring(6)},t.parseFingerprint=function(e){const t=e.substring(14).split(" ");return{algorithm:t[0].toLowerCase(),value:t[1].toUpperCase()}},t.getDtlsParameters=function(e,n){return{role:"auto",fingerprints:t.matchPrefix(e+n,"a=fingerprint:").map(t.parseFingerprint)}},t.writeDtlsParameters=function(e,t){let n="a=setup:"+t+"\r\n";return e.fingerprints.forEach((e=>{n+="a=fingerprint:"+e.algorithm+" "+e.value+"\r\n"})),n},t.parseCryptoLine=function(e){const t=e.substring(9).split(" ");return{tag:parseInt(t[0],10),cryptoSuite:t[1],keyParams:t[2],sessionParams:t.slice(3)}},t.writeCryptoLine=function(e){return"a=crypto:"+e.tag+" "+e.cryptoSuite+" "+("object"==typeof e.keyParams?t.writeCryptoKeyParams(e.keyParams):e.keyParams)+(e.sessionParams?" "+e.sessionParams.join(" "):"")+"\r\n"},t.parseCryptoKeyParams=function(e){if(0!==e.indexOf("inline:"))return null;const t=e.substring(7).split("|");return{keyMethod:"inline",keySalt:t[0],lifeTime:t[1],mkiValue:t[2]?t[2].split(":")[0]:void 0,mkiLength:t[2]?t[2].split(":")[1]:void 0}},t.writeCryptoKeyParams=function(e){return e.keyMethod+":"+e.keySalt+(e.lifeTime?"|"+e.lifeTime:"")+(e.mkiValue&&e.mkiLength?"|"+e.mkiValue+":"+e.mkiLength:"")},t.getCryptoParameters=function(e,n){return t.matchPrefix(e+n,"a=crypto:").map(t.parseCryptoLine)},t.getIceParameters=function(e,n){const i=t.matchPrefix(e+n,"a=ice-ufrag:")[0],r=t.matchPrefix(e+n,"a=ice-pwd:")[0];return i&&r?{usernameFragment:i.substring(12),password:r.substring(10)}:null},t.writeIceParameters=function(e){let t="a=ice-ufrag:"+e.usernameFragment+"\r\na=ice-pwd:"+e.password+"\r\n";return e.iceLite&&(t+="a=ice-lite\r\n"),t},t.parseRtpParameters=function(e){const n={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},i=t.splitLines(e)[0].split(" ");n.profile=i[2];for(let o=3;o<i.length;o++){const r=i[o],a=t.matchPrefix(e,"a=rtpmap:"+r+" ")[0];if(a){const i=t.parseRtpMap(a),o=t.matchPrefix(e,"a=fmtp:"+r+" ");switch(i.parameters=o.length?t.parseFmtp(o[0]):{},i.rtcpFeedback=t.matchPrefix(e,"a=rtcp-fb:"+r+" ").map(t.parseRtcpFb),n.codecs.push(i),i.name.toUpperCase()){case"RED":case"ULPFEC":n.fecMechanisms.push(i.name.toUpperCase())}}}t.matchPrefix(e,"a=extmap:").forEach((e=>{n.headerExtensions.push(t.parseExtmap(e))}));const r=t.matchPrefix(e,"a=rtcp-fb:* ").map(t.parseRtcpFb);return n.codecs.forEach((e=>{r.forEach((t=>{e.rtcpFeedback.find((e=>e.type===t.type&&e.parameter===t.parameter))||e.rtcpFeedback.push(t)}))})),n},t.writeRtpDescription=function(e,n){let i="";i+="m="+e+" ",i+=n.codecs.length>0?"9":"0",i+=" "+(n.profile||"UDP/TLS/RTP/SAVPF")+" ",i+=n.codecs.map((e=>void 0!==e.preferredPayloadType?e.preferredPayloadType:e.payloadType)).join(" ")+"\r\n",i+="c=IN IP4 0.0.0.0\r\n",i+="a=rtcp:9 IN IP4 0.0.0.0\r\n",n.codecs.forEach((e=>{i+=t.writeRtpMap(e),i+=t.writeFmtp(e),i+=t.writeRtcpFb(e)}));let r=0;return n.codecs.forEach((e=>{e.maxptime>r&&(r=e.maxptime)})),r>0&&(i+="a=maxptime:"+r+"\r\n"),n.headerExtensions&&n.headerExtensions.forEach((e=>{i+=t.writeExtmap(e)})),i},t.parseRtpEncodingParameters=function(e){const n=[],i=t.parseRtpParameters(e),r=-1!==i.fecMechanisms.indexOf("RED"),o=-1!==i.fecMechanisms.indexOf("ULPFEC"),a=t.matchPrefix(e,"a=ssrc:").map((e=>t.parseSsrcMedia(e))).filter((e=>"cname"===e.attribute)),s=a.length>0&&a[0].ssrc;let c;const l=t.matchPrefix(e,"a=ssrc-group:FID").map((e=>e.substring(17).split(" ").map((e=>parseInt(e,10)))));l.length>0&&l[0].length>1&&l[0][0]===s&&(c=l[0][1]),i.codecs.forEach((e=>{if("RTX"===e.name.toUpperCase()&&e.parameters.apt){let t={ssrc:s,codecPayloadType:parseInt(e.parameters.apt,10)};s&&c&&(t.rtx={ssrc:c}),n.push(t),r&&(t=JSON.parse(JSON.stringify(t)),t.fec={ssrc:s,mechanism:o?"red+ulpfec":"red"},n.push(t))}})),0===n.length&&s&&n.push({ssrc:s});let d=t.matchPrefix(e,"b=");return d.length&&(d=0===d[0].indexOf("b=TIAS:")?parseInt(d[0].substring(7),10):0===d[0].indexOf("b=AS:")?1e3*parseInt(d[0].substring(5),10)*.95-16e3:void 0,n.forEach((e=>{e.maxBitrate=d}))),n},t.parseRtcpParameters=function(e){const n={},i=t.matchPrefix(e,"a=ssrc:").map((e=>t.parseSsrcMedia(e))).filter((e=>"cname"===e.attribute))[0];i&&(n.cname=i.value,n.ssrc=i.ssrc);const r=t.matchPrefix(e,"a=rtcp-rsize");n.reducedSize=r.length>0,n.compound=0===r.length;const o=t.matchPrefix(e,"a=rtcp-mux");return n.mux=o.length>0,n},t.writeRtcpParameters=function(e){let t="";return e.reducedSize&&(t+="a=rtcp-rsize\r\n"),e.mux&&(t+="a=rtcp-mux\r\n"),void 0!==e.ssrc&&e.cname&&(t+="a=ssrc:"+e.ssrc+" cname:"+e.cname+"\r\n"),t},t.parseMsid=function(e){let n;const i=t.matchPrefix(e,"a=msid:");if(1===i.length)return n=i[0].substring(7).split(" "),{stream:n[0],track:n[1]};const r=t.matchPrefix(e,"a=ssrc:").map((e=>t.parseSsrcMedia(e))).filter((e=>"msid"===e.attribute));return r.length>0?(n=r[0].value.split(" "),{stream:n[0],track:n[1]}):void 0},t.parseSctpDescription=function(e){const n=t.parseMLine(e),i=t.matchPrefix(e,"a=max-message-size:");let r;i.length>0&&(r=parseInt(i[0].substring(19),10)),isNaN(r)&&(r=65536);const o=t.matchPrefix(e,"a=sctp-port:");if(o.length>0)return{port:parseInt(o[0].substring(12),10),protocol:n.fmt,maxMessageSize:r};const a=t.matchPrefix(e,"a=sctpmap:");if(a.length>0){const e=a[0].substring(10).split(" ");return{port:parseInt(e[0],10),protocol:e[1],maxMessageSize:r}}},t.writeSctpDescription=function(e,t){let n=[];return n="DTLS/SCTP"!==e.protocol?["m="+e.kind+" 9 "+e.protocol+" "+t.protocol+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctp-port:"+t.port+"\r\n"]:["m="+e.kind+" 9 "+e.protocol+" "+t.port+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctpmap:"+t.port+" "+t.protocol+" 65535\r\n"],void 0!==t.maxMessageSize&&n.push("a=max-message-size:"+t.maxMessageSize+"\r\n"),n.join("")},t.generateSessionId=function(){return Math.random().toString().substr(2,22)},t.writeSessionBoilerplate=function(e,n,i){let r;const o=void 0!==n?n:2;return r=e||t.generateSessionId(),"v=0\r\no="+(i||"thisisadapterortc")+" "+r+" "+o+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},t.getDirection=function(e,n){const i=t.splitLines(e);for(let t=0;t<i.length;t++)switch(i[t]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return i[t].substring(2)}return n?t.getDirection(n):"sendrecv"},t.getKind=function(e){return t.splitLines(e)[0].split(" ")[0].substring(2)},t.isRejected=function(e){return"0"===e.split(" ",2)[1]},t.parseMLine=function(e){const n=t.splitLines(e)[0].substring(2).split(" ");return{kind:n[0],port:parseInt(n[1],10),protocol:n[2],fmt:n.slice(3).join(" ")}},t.parseOLine=function(e){const n=t.matchPrefix(e,"o=")[0].substring(2).split(" ");return{username:n[0],sessionId:n[1],sessionVersion:parseInt(n[2],10),netType:n[3],addressType:n[4],address:n[5]}},t.isValidSDP=function(e){if("string"!=typeof e||0===e.length)return!1;const n=t.splitLines(e);for(let t=0;t<n.length;t++)if(n[t].length<2||"="!==n[t].charAt(1))return!1;return!0},e.exports=t}(Qr);var Ur=Qr.exports,yr=i(Ur),br=e({__proto__:null,default:yr},[Ur]);function vr(e){if(!e.RTCIceCandidate||e.RTCIceCandidate&&"foundation"in e.RTCIceCandidate.prototype)return;const t=e.RTCIceCandidate;e.RTCIceCandidate=function(e){if("object"==typeof e&&e.candidate&&0===e.candidate.indexOf("a=")&&((e=JSON.parse(JSON.stringify(e))).candidate=e.candidate.substr(2)),e.candidate&&e.candidate.length){const n=new t(e),i=yr.parseCandidate(e.candidate),r=Object.assign(n,i);return r.toJSON=function(){return{candidate:r.candidate,sdpMid:r.sdpMid,sdpMLineIndex:r.sdpMLineIndex,usernameFragment:r.usernameFragment}},r}return new t(e)},e.RTCIceCandidate.prototype=t.prototype,_i(e,"icecandidate",(t=>(t.candidate&&Object.defineProperty(t,"candidate",{value:new e.RTCIceCandidate(t.candidate),writable:"false"}),t)))}function Rr(e){!e.RTCIceCandidate||e.RTCIceCandidate&&"relayProtocol"in e.RTCIceCandidate.prototype||_i(e,"icecandidate",(e=>{if(e.candidate){const t=yr.parseCandidate(e.candidate.candidate);"relay"===t.type&&(e.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[t.priority>>24])}return e}))}function Sr(e,t){if(!e.RTCPeerConnection)return;"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get(){return void 0===this._sctp?null:this._sctp}});const n=function(e){if(!e||!e.sdp)return!1;const t=yr.splitSections(e.sdp);return t.shift(),t.some((e=>{const t=yr.parseMLine(e);return t&&"application"===t.kind&&-1!==t.protocol.indexOf("SCTP")}))},i=function(e){const t=e.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(null===t||t.length<2)return-1;const n=parseInt(t[1],10);return n!=n?-1:n},r=function(e){let n=65536;return"firefox"===t.browser&&(n=t.version<57?-1===e?16384:2147483637:t.version<60?57===t.version?65535:65536:2147483637),n},o=function(e,n){let i=65536;"firefox"===t.browser&&57===t.version&&(i=65535);const r=yr.matchPrefix(e.sdp,"a=max-message-size:");return r.length>0?i=parseInt(r[0].substr(19),10):"firefox"===t.browser&&-1!==n&&(i=2147483637),i},a=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,"chrome"===t.browser&&t.version>=76){const{sdpSemantics:e}=this.getConfiguration();"plan-b"===e&&Object.defineProperty(this,"sctp",{get(){return void 0===this._sctp?null:this._sctp},enumerable:!0,configurable:!0})}if(n(arguments[0])){const e=i(arguments[0]),t=r(e),n=o(arguments[0],e);let a;a=0===t&&0===n?Number.POSITIVE_INFINITY:0===t||0===n?Math.max(t,n):Math.min(t,n);const s={};Object.defineProperty(s,"maxMessageSize",{get:()=>a}),this._sctp=s}return a.apply(this,arguments)}}function Fr(e){if(!e.RTCPeerConnection||!("createDataChannel"in e.RTCPeerConnection.prototype))return;function t(e,t){const n=e.send;e.send=function(){const i=arguments[0],r=i.length||i.size||i.byteLength;if("open"===e.readyState&&t.sctp&&r>t.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+t.sctp.maxMessageSize+" bytes)");return n.apply(e,arguments)}}const n=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){const e=n.apply(this,arguments);return t(e,this),e},_i(e,"datachannel",(e=>(t(e.channel,e.target),e)))}function Br(e){if(!e.RTCPeerConnection||"connectionState"in e.RTCPeerConnection.prototype)return;const t=e.RTCPeerConnection.prototype;Object.defineProperty(t,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(e){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),e&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=e)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach((e=>{const n=t[e];t[e]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=e=>{const t=e.target;if(t._lastConnectionState!==t.connectionState){t._lastConnectionState=t.connectionState;const n=new Event("connectionstatechange",e);t.dispatchEvent(n)}return e},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),n.apply(this,arguments)}}))}function Tr(e,t){if(!e.RTCPeerConnection)return;if("chrome"===t.browser&&t.version>=71)return;if("safari"===t.browser&&t.version>=605)return;const n=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(t){if(t&&t.sdp&&-1!==t.sdp.indexOf("\na=extmap-allow-mixed")){const n=t.sdp.split("\n").filter((e=>"a=extmap-allow-mixed"!==e.trim())).join("\n");e.RTCSessionDescription&&t instanceof e.RTCSessionDescription?arguments[0]=new e.RTCSessionDescription({type:t.type,sdp:n}):t.sdp=n}return n.apply(this,arguments)}}function Nr(e,t){if(!e.RTCPeerConnection||!e.RTCPeerConnection.prototype)return;const n=e.RTCPeerConnection.prototype.addIceCandidate;n&&0!==n.length&&(e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?("chrome"===t.browser&&t.version<78||"firefox"===t.browser&&t.version<68||"safari"===t.browser)&&arguments[0]&&""===arguments[0].candidate?Promise.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function _r(e,t){if(!e.RTCPeerConnection||!e.RTCPeerConnection.prototype)return;const n=e.RTCPeerConnection.prototype.setLocalDescription;n&&0!==n.length&&(e.RTCPeerConnection.prototype.setLocalDescription=function(){let e=arguments[0]||{};if("object"!=typeof e||e.type&&e.sdp)return n.apply(this,arguments);if(e={type:e.type,sdp:e.sdp},!e.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":e.type="offer";break;default:e.type="answer"}return e.sdp||"offer"!==e.type&&"answer"!==e.type?n.apply(this,[e]):("offer"===e.type?this.createOffer:this.createAnswer).apply(this).then((e=>n.apply(this,[e])))})}var wr=Object.freeze({__proto__:null,removeExtmapAllowMixed:Tr,shimAddIceCandidateNullOrEmpty:Nr,shimConnectionState:Br,shimMaxMessageSize:Sr,shimParameterlessSetLocalDescription:_r,shimRTCIceCandidate:vr,shimRTCIceCandidateRelayProtocol:Rr,shimSendThrowTypeError:Fr});!function(){let{window:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shimChrome:!0,shimFirefox:!0,shimSafari:!0};const n=Di,i=function(e){const t={browser:null,version:null};if(void 0===e||!e.navigator)return t.browser="Not a browser.",t;const{navigator:n}=e;if(n.mozGetUserMedia)t.browser="firefox",t.version=Ni(n.userAgent,/Firefox\/(\d+)\./,1);else if(n.webkitGetUserMedia||!1===e.isSecureContext&&e.webkitRTCPeerConnection)t.browser="chrome",t.version=Ni(n.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else{if(!e.RTCPeerConnection||!n.userAgent.match(/AppleWebKit\/(\d+)\./))return t.browser="Not a supported browser.",t;t.browser="safari",t.version=Ni(n.userAgent,/AppleWebKit\/(\d+)\./,1),t.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype}return t}(e),r={browserDetails:i,commonShim:wr,extractVersion:Ni,disableLog:wi,disableWarnings:ki,sdp:br};switch(i.browser){case"chrome":if(!qi||!Hi||!t.shimChrome)return n("Chrome shim is not included in this adapter release."),r;if(null===i.version)return n("Chrome shim can not determine version, not shimming."),r;n("adapter.js shimming chrome."),r.browserShim=qi,Nr(e,i),_r(e),Mi(e,i),Li(e),Hi(e,i),Pi(e),Ki(e,i),Gi(e),Yi(e),ji(e),zi(e,i),vr(e),Rr(e),Br(e),Sr(e,i),Fr(e),Tr(e,i);break;case"firefox":if(!dr||!tr||!t.shimFirefox)return n("Firefox shim is not included in this adapter release."),r;n("adapter.js shimming firefox."),r.browserShim=dr,Nr(e,i),_r(e),$i(e,i),tr(e,i),er(e),rr(e),nr(e),ir(e),or(e),ar(e),sr(e),cr(e),lr(e),vr(e),Br(e),Sr(e,i),Fr(e);break;case"safari":if(!Ir||!t.shimSafari)return n("Safari shim is not included in this adapter release."),r;n("adapter.js shimming safari."),r.browserShim=Ir,Nr(e,i),_r(e),fr(e),Er(e),Ar(e),ur(e),hr(e),mr(e),pr(e),Cr(e),vr(e),Rr(e),Sr(e,i),Fr(e),Tr(e,i);break;default:n("Unsupported browser!")}}({window:"undefined"==typeof window?void 0:window});var kr={exports:{}},Dr=Tn,Vr=N,Zr=qt.f;Dr({target:"Object",stat:!0,forced:Object.defineProperty!==Zr,sham:!Vr},{defineProperty:Zr});var Wr=ie.Object,Or=kr.exports=function(e,t,n){return Wr.defineProperty(e,t,n)};Wr.defineProperty.sham&&(Or.sham=!0);var Jr=i(kr.exports),xr=U,Mr=Array.isArray||function(e){return"Array"==xr(e)},Lr=TypeError,Pr=yt,Gr=qt,Yr=x,jr=function(e,t,n){var i=Pr(t);i in e?Gr.f(e,i,Yr(0,n)):e[i]=n},Xr=B,Kr=Ge,Hr=d(Function.toString);Xr(Kr.inspectSource)||(Kr.inspectSource=function(e){return Hr(e)});var zr=Kr.inspectSource,qr=d,$r=r,eo=B,to=ui,no=zr,io=function(){},ro=[],oo=ce("Reflect","construct"),ao=/^\s*(?:class|function)\b/,so=qr(ao.exec),co=!ao.exec(io),lo=function(e){if(!eo(e))return!1;try{return oo(io,ro,e),!0}catch(e){return!1}},uo=function(e){if(!eo(e))return!1;switch(to(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return co||!!so(ao,no(e))}catch(e){return!0}};uo.sham=!0;var ho=!oo||$r((function(){var e;return lo(lo.call)||!lo(Object)||!lo((function(){e=!0}))||e}))?uo:lo,Ao=Mr,po=ho,go=ne,fo=At("species"),mo=Array,Eo=function(e){var t;return Ao(e)&&(t=e.constructor,(po(t)&&(t===mo||Ao(t.prototype))||go(t)&&null===(t=t[fo]))&&(t=void 0)),void 0===t?mo:t},Co=function(e,t){return new(Eo(e))(0===t?0:t)},Io=r,Qo=fe,Uo=At("species"),yo=Tn,bo=r,vo=Mr,Ro=ne,So=He,Fo=Mn,Bo=function(e){if(e>9007199254740991)throw Lr("Maximum allowed index exceeded");return e},To=jr,No=Co,_o=function(e){return Qo>=51||!Io((function(){var t=[];return(t.constructor={})[Uo]=function(){return{foo:1}},1!==t[e](Boolean).foo}))},wo=fe,ko=At("isConcatSpreadable"),Do=wo>=51||!bo((function(){var e=[];return e[ko]=!1,e.concat()[0]!==e})),Vo=function(e){if(!Ro(e))return!1;var t=e[ko];return void 0!==t?!!t:vo(e)};yo({target:"Array",proto:!0,arity:1,forced:!Do||!_o("concat")},{concat:function(e){var t,n,i,r,o,a=So(this),s=No(a,0),c=0;for(t=-1,i=arguments.length;t<i;t++)if(Vo(o=-1===t?a:arguments[t]))for(r=Fo(o),Bo(c+r),n=0;n<r;n++,c++)n in o&&To(s,c,o[n]);else Bo(c+1),To(s,c++,o);return s.length=c,s}});var Zo={},Wo={},Oo=$e,Jo=$,xo=jn.indexOf,Mo=Wo,Lo=d([].push),Po=function(e,t){var n,i=Jo(e),r=0,o=[];for(n in i)!Oo(Mo,n)&&Oo(i,n)&&Lo(o,n);for(;t.length>r;)Oo(i,n=t[r++])&&(~xo(o,n)||Lo(o,n));return o},Go=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Yo=Po,jo=Go,Xo=Object.keys||function(e){return Yo(e,jo)},Ko=N,Ho=$t,zo=qt,qo=rn,$o=$,ea=Xo;Zo.f=Ko&&!Ho?Object.defineProperties:function(e,t){qo(e);for(var n,i=$o(t),r=ea(t),o=r.length,a=0;o>a;)zo.f(e,n=r[a++],i[n]);return e};var ta,na=ce("document","documentElement"),ia=rt,ra=je("keys"),oa=function(e){return ra[e]||(ra[e]=ia(e))},aa=rn,sa=Zo,ca=Go,la=Wo,da=na,ua=St,ha="prototype",Aa="script",pa=oa("IE_PROTO"),ga=function(){},fa=function(e){return"<"+Aa+">"+e+"</"+Aa+">"},ma=function(e){e.write(fa("")),e.close();var t=e.parentWindow.Object;return e=null,t},Ea=function(){try{ta=new ActiveXObject("htmlfile")}catch(e){}var e,t,n;Ea="undefined"!=typeof document?document.domain&&ta?ma(ta):(t=ua("iframe"),n="java"+Aa+":",t.style.display="none",da.appendChild(t),t.src=String(n),(e=t.contentWindow.document).open(),e.write(fa("document.F=Object")),e.close(),e.F):ma(ta);for(var i=ca.length;i--;)delete Ea[ha][ca[i]];return Ea()};la[pa]=!0;var Ca=Object.create||function(e,t){var n;return null!==e?(ga[ha]=aa(e),n=new ga,ga[ha]=null,n[pa]=e):n=Ea(),void 0===t?n:sa.f(n,t)},Ia={},Qa=Po,Ua=Go.concat("length","prototype");Ia.f=Object.getOwnPropertyNames||function(e){return Qa(e,Ua)};var ya={},ba=Wn,va=Mn,Ra=jr,Sa=Array,Fa=Math.max,Ba=function(e,t,n){for(var i=va(e),r=ba(t,i),o=ba(void 0===n?i:n,i),a=Sa(Fa(o-r,0)),s=0;r<o;r++,s++)Ra(a,s,e[r]);return a.length=s,a},Ta=U,Na=$,_a=Ia.f,wa=Ba,ka="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];ya.f=function(e){return ka&&"Window"==Ta(e)?function(e){try{return _a(e)}catch(e){return wa(ka)}}(e):_a(Na(e))};var Da={};Da.f=Object.getOwnPropertySymbols;var Va=En,Za=function(e,t,n,i){return i&&i.enumerable?e[t]=n:Va(e,t,n),e},Wa=qt,Oa=function(e,t,n){return Wa.f(e,t,n)},Ja={},xa=At;Ja.f=xa;var Ma,La,Pa,Ga=ie,Ya=$e,ja=Ja,Xa=qt.f,Ka=function(e){var t=Ga.Symbol||(Ga.Symbol={});Ya(t,e)||Xa(t,e,{value:ja.f(e)})},Ha=k,za=ce,qa=At,$a=Za,es=function(){var e=za("Symbol"),t=e&&e.prototype,n=t&&t.valueOf,i=qa("toPrimitive");t&&!t[i]&&$a(t,i,(function(e){return Ha(n,this)}),{arity:1})},ts=ui,ns=ri?{}.toString:function(){return"[object "+ts(this)+"]"},is=ri,rs=qt.f,os=En,as=$e,ss=ns,cs=At("toStringTag"),ls=function(e,t,n,i){if(e){var r=n?e:e.prototype;as(r,cs)||rs(r,cs,{configurable:!0,value:t}),i&&!is&&os(r,"toString",ss)}},ds=B,us=A.WeakMap,hs=ds(us)&&/native code/.test(String(us)),As=A,ps=ne,gs=En,fs=$e,ms=Ge,Es=oa,Cs=Wo,Is="Object already initialized",Qs=As.TypeError,Us=As.WeakMap;if(hs||ms.state){var ys=ms.state||(ms.state=new Us);ys.get=ys.get,ys.has=ys.has,ys.set=ys.set,Ma=function(e,t){if(ys.has(e))throw Qs(Is);return t.facade=e,ys.set(e,t),t},La=function(e){return ys.get(e)||{}},Pa=function(e){return ys.has(e)}}else{var bs=Es("state");Cs[bs]=!0,Ma=function(e,t){if(fs(e,bs))throw Qs(Is);return t.facade=e,gs(e,bs,t),t},La=function(e){return fs(e,bs)?e[bs]:{}},Pa=function(e){return fs(e,bs)}}var vs={set:Ma,get:La,has:Pa,enforce:function(e){return Pa(e)?La(e):Ma(e,{})},getterFor:function(e){return function(t){var n;if(!ps(t)||(n=La(t)).type!==e)throw Qs("Incompatible receiver, "+e+" required");return n}}},Rs=zt,Ss=Y,Fs=He,Bs=Mn,Ts=Co,Ns=d([].push),_s=function(e){var t=1==e,n=2==e,i=3==e,r=4==e,o=6==e,a=7==e,s=5==e||o;return function(c,l,d,u){for(var h,A,p=Fs(c),g=Ss(p),f=Rs(l,d),m=Bs(g),E=0,C=u||Ts,I=t?C(c,m):n||a?C(c,0):void 0;m>E;E++)if((s||E in g)&&(A=f(h=g[E],E,p),e))if(t)I[E]=A;else if(A)switch(e){case 3:return!0;case 5:return h;case 6:return E;case 2:Ns(I,h)}else switch(e){case 4:return!1;case 7:Ns(I,h)}return o?-1:i||r?r:I}},ws={forEach:_s(0),map:_s(1),filter:_s(2),some:_s(3),every:_s(4),find:_s(5),findIndex:_s(6),filterReject:_s(7)},ks=Tn,Ds=A,Vs=k,Zs=d,Ws=N,Os=Ie,Js=r,xs=$e,Ms=u,Ls=rn,Ps=$,Gs=yt,Ys=pi,js=x,Xs=Ca,Ks=Xo,Hs=Ia,zs=ya,qs=Da,$s=T,ec=qt,tc=Zo,nc=D,ic=Za,rc=Oa,oc=je,ac=Wo,sc=rt,cc=At,lc=Ja,dc=Ka,uc=es,hc=ls,Ac=vs,pc=ws.forEach,gc=oa("hidden"),fc="Symbol",mc="prototype",Ec=Ac.set,Cc=Ac.getterFor(fc),Ic=Object[mc],Qc=Ds.Symbol,Uc=Qc&&Qc[mc],yc=Ds.TypeError,bc=Ds.QObject,vc=$s.f,Rc=ec.f,Sc=zs.f,Fc=nc.f,Bc=Zs([].push),Tc=oc("symbols"),Nc=oc("op-symbols"),_c=oc("wks"),wc=!bc||!bc[mc]||!bc[mc].findChild,kc=Ws&&Js((function(){return 7!=Xs(Rc({},"a",{get:function(){return Rc(this,"a",{value:7}).a}})).a}))?function(e,t,n){var i=vc(Ic,t);i&&delete Ic[t],Rc(e,t,n),i&&e!==Ic&&Rc(Ic,t,i)}:Rc,Dc=function(e,t){var n=Tc[e]=Xs(Uc);return Ec(n,{type:fc,tag:e,description:t}),Ws||(n.description=t),n},Vc=function(e,t,n){e===Ic&&Vc(Nc,t,n),Ls(e);var i=Gs(t);return Ls(n),xs(Tc,i)?(n.enumerable?(xs(e,gc)&&e[gc][i]&&(e[gc][i]=!1),n=Xs(n,{enumerable:js(0,!1)})):(xs(e,gc)||Rc(e,gc,js(1,{})),e[gc][i]=!0),kc(e,i,n)):Rc(e,i,n)},Zc=function(e,t){Ls(e);var n=Ps(t),i=Ks(n).concat(xc(n));return pc(i,(function(t){Ws&&!Vs(Wc,n,t)||Vc(e,t,n[t])})),e},Wc=function(e){var t=Gs(e),n=Vs(Fc,this,t);return!(this===Ic&&xs(Tc,t)&&!xs(Nc,t))&&(!(n||!xs(this,t)||!xs(Tc,t)||xs(this,gc)&&this[gc][t])||n)},Oc=function(e,t){var n=Ps(e),i=Gs(t);if(n!==Ic||!xs(Tc,i)||xs(Nc,i)){var r=vc(n,i);return!r||!xs(Tc,i)||xs(n,gc)&&n[gc][i]||(r.enumerable=!0),r}},Jc=function(e){var t=Sc(Ps(e)),n=[];return pc(t,(function(e){xs(Tc,e)||xs(ac,e)||Bc(n,e)})),n},xc=function(e){var t=e===Ic,n=Sc(t?Nc:Ps(e)),i=[];return pc(n,(function(e){!xs(Tc,e)||t&&!xs(Ic,e)||Bc(i,Tc[e])})),i};Os||(Qc=function(){if(Ms(Uc,this))throw yc("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?Ys(arguments[0]):void 0,t=sc(e),n=function(e){this===Ic&&Vs(n,Nc,e),xs(this,gc)&&xs(this[gc],t)&&(this[gc][t]=!1),kc(this,t,js(1,e))};return Ws&&wc&&kc(Ic,t,{configurable:!0,set:n}),Dc(t,e)},ic(Uc=Qc[mc],"toString",(function(){return Cc(this).tag})),ic(Qc,"withoutSetter",(function(e){return Dc(sc(e),e)})),nc.f=Wc,ec.f=Vc,tc.f=Zc,$s.f=Oc,Hs.f=zs.f=Jc,qs.f=xc,lc.f=function(e){return Dc(cc(e),e)},Ws&&rc(Uc,"description",{configurable:!0,get:function(){return Cc(this).description}})),ks({global:!0,constructor:!0,wrap:!0,forced:!Os,sham:!Os},{Symbol:Qc}),pc(Ks(_c),(function(e){dc(e)})),ks({target:fc,stat:!0,forced:!Os},{useSetter:function(){wc=!0},useSimple:function(){wc=!1}}),ks({target:"Object",stat:!0,forced:!Os,sham:!Ws},{create:function(e,t){return void 0===t?Xs(e):Zc(Xs(e),t)},defineProperty:Vc,defineProperties:Zc,getOwnPropertyDescriptor:Oc}),ks({target:"Object",stat:!0,forced:!Os},{getOwnPropertyNames:Jc}),uc(),hc(Qc,fc),ac[gc]=!0;var Mc=Ie&&!!Symbol.for&&!!Symbol.keyFor,Lc=Tn,Pc=ce,Gc=$e,Yc=pi,jc=je,Xc=Mc,Kc=jc("string-to-symbol-registry"),Hc=jc("symbol-to-string-registry");Lc({target:"Symbol",stat:!0,forced:!Xc},{for:function(e){var t=Yc(e);if(Gc(Kc,t))return Kc[t];var n=Pc("Symbol")(t);return Kc[t]=n,Hc[n]=t,n}});var zc=Tn,qc=$e,$c=Re,el=Fe,tl=Mc,nl=je("symbol-to-string-registry");zc({target:"Symbol",stat:!0,forced:!tl},{keyFor:function(e){if(!$c(e))throw TypeError(el(e)+" is not a symbol");if(qc(nl,e))return nl[e]}});var il=d([].slice),rl=Mr,ol=B,al=U,sl=pi,cl=d([].push),ll=Tn,dl=ce,ul=E,hl=k,Al=d,pl=r,gl=B,fl=Re,ml=il,El=function(e){if(ol(e))return e;if(rl(e)){for(var t=e.length,n=[],i=0;i<t;i++){var r=e[i];"string"==typeof r?cl(n,r):"number"!=typeof r&&"Number"!=al(r)&&"String"!=al(r)||cl(n,sl(r))}var o=n.length,a=!0;return function(e,t){if(a)return a=!1,t;if(rl(this))return t;for(var i=0;i<o;i++)if(n[i]===e)return t}}},Cl=Ie,Il=String,Ql=dl("JSON","stringify"),Ul=Al(/./.exec),yl=Al("".charAt),bl=Al("".charCodeAt),vl=Al("".replace),Rl=Al(1..toString),Sl=/[\uD800-\uDFFF]/g,Fl=/^[\uD800-\uDBFF]$/,Bl=/^[\uDC00-\uDFFF]$/,Tl=!Cl||pl((function(){var e=dl("Symbol")();return"[null]"!=Ql([e])||"{}"!=Ql({a:e})||"{}"!=Ql(Object(e))})),Nl=pl((function(){return'"\\udf06\\ud834"'!==Ql("\udf06\ud834")||'"\\udead"'!==Ql("\udead")})),_l=function(e,t){var n=ml(arguments),i=El(t);if(gl(i)||void 0!==e&&!fl(e))return n[1]=function(e,t){if(gl(i)&&(t=hl(i,this,Il(e),t)),!fl(t))return t},ul(Ql,null,n)},wl=function(e,t,n){var i=yl(n,t-1),r=yl(n,t+1);return Ul(Fl,e)&&!Ul(Bl,r)||Ul(Bl,e)&&!Ul(Fl,i)?"\\u"+Rl(bl(e,0),16):e};Ql&&ll({target:"JSON",stat:!0,arity:3,forced:Tl||Nl},{stringify:function(e,t,n){var i=ml(arguments),r=ul(Tl?_l:Ql,null,i);return Nl&&"string"==typeof r?vl(r,Sl,wl):r}});var kl=Da,Dl=He;Tn({target:"Object",stat:!0,forced:!Ie||r((function(){kl.f(1)}))},{getOwnPropertySymbols:function(e){var t=kl.f;return t?t(Dl(e)):[]}}),Ka("asyncIterator"),Ka("hasInstance"),Ka("isConcatSpreadable"),Ka("iterator"),Ka("match"),Ka("matchAll"),Ka("replace"),Ka("search"),Ka("species"),Ka("split");var Vl=es;Ka("toPrimitive"),Vl();var Zl=ce,Wl=ls;Ka("toStringTag"),Wl(Zl("Symbol"),"Symbol"),Ka("unscopables"),ls(A.JSON,"JSON",!0);var Ol,Jl,xl,Ml=ie.Symbol,Ll={},Pl=N,Gl=$e,Yl=Function.prototype,jl=Pl&&Object.getOwnPropertyDescriptor,Xl=Gl(Yl,"name"),Kl={EXISTS:Xl,PROPER:Xl&&"something"===function(){}.name,CONFIGURABLE:Xl&&(!Pl||Pl&&jl(Yl,"name").configurable)},Hl=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})),zl=$e,ql=B,$l=He,ed=Hl,td=oa("IE_PROTO"),nd=Object,id=nd.prototype,rd=ed?nd.getPrototypeOf:function(e){var t=$l(e);if(zl(t,td))return t[td];var n=t.constructor;return ql(n)&&t instanceof n?n.prototype:t instanceof nd?id:null},od=r,ad=B,sd=ne,cd=Ca,ld=rd,dd=Za,ud=At("iterator"),hd=!1;[].keys&&("next"in(xl=[].keys())?(Jl=ld(ld(xl)))!==Object.prototype&&(Ol=Jl):hd=!0);var Ad=!sd(Ol)||od((function(){var e={};return Ol[ud].call(e)!==e}));ad((Ol=Ad?{}:cd(Ol))[ud])||dd(Ol,ud,(function(){return this}));var pd={IteratorPrototype:Ol,BUGGY_SAFARI_ITERATORS:hd},gd=pd.IteratorPrototype,fd=Ca,md=x,Ed=ls,Cd=Ll,Id=function(){return this},Qd=d,Ud=_e,yd=B,bd=String,vd=TypeError,Rd=function(e,t,n){try{return Qd(Ud(Object.getOwnPropertyDescriptor(e,t)[n]))}catch(e){}},Sd=rn,Fd=function(e){if("object"==typeof e||yd(e))return e;throw vd("Can't set "+bd(e)+" as a prototype")},Bd=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Rd(Object.prototype,"__proto__","set"))(n,[]),t=n instanceof Array}catch(e){}return function(n,i){return Sd(n),Fd(i),t?e(n,i):n.__proto__=i,n}}():void 0),Td=Tn,Nd=k,_d=function(e,t,n,i){var r=t+" Iterator";return e.prototype=fd(gd,{next:md(+!i,n)}),Ed(e,r,!1,!0),Cd[r]=Id,e},wd=rd,kd=ls,Dd=Za,Vd=Ll,Zd=pd,Wd=Kl.PROPER,Od=Zd.BUGGY_SAFARI_ITERATORS,Jd=At("iterator"),xd="keys",Md="values",Ld="entries",Pd=function(){return this},Gd=function(e,t,n,i,r,o,a){_d(n,t,i);var s,c,l,d=function(e){if(e===r&&g)return g;if(!Od&&e in A)return A[e];switch(e){case xd:case Md:case Ld:return function(){return new n(this,e)}}return function(){return new n(this)}},u=t+" Iterator",h=!1,A=e.prototype,p=A[Jd]||A["@@iterator"]||r&&A[r],g=!Od&&p||d(r),f="Array"==t&&A.entries||p;if(f&&(s=wd(f.call(new e)))!==Object.prototype&&s.next&&(kd(s,u,!0,!0),Vd[u]=Pd),Wd&&r==Md&&p&&p.name!==Md&&(h=!0,g=function(){return Nd(p,this)}),r)if(c={values:d(Md),keys:o?g:d(xd),entries:d(Ld)},a)for(l in c)(Od||h||!(l in A))&&Dd(A,l,c[l]);else Td({target:t,proto:!0,forced:Od||h},c);return a&&A[Jd]!==g&&Dd(A,Jd,g,{name:r}),Vd[t]=g,c},Yd=function(e,t){return{value:e,done:t}},jd=$,Xd=Ll,Kd=vs;qt.f;var Hd=Gd,zd=Yd,qd="Array Iterator",$d=Kd.set,eu=Kd.getterFor(qd);Hd(Array,"Array",(function(e,t){$d(this,{type:qd,target:jd(e),index:0,kind:t})}),(function(){var e=eu(this),t=e.target,n=e.kind,i=e.index++;return!t||i>=t.length?(e.target=void 0,zd(void 0,!0)):zd("keys"==n?i:"values"==n?t[i]:[i,t[i]],!1)}),"values"),Xd.Arguments=Xd.Array;var tu={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},nu=A,iu=ui,ru=En,ou=Ll,au=At("toStringTag");for(var su in tu){var cu=nu[su],lu=cu&&cu.prototype;lu&&iu(lu)!==au&&ru(lu,au,su),ou[su]=ou.Array}var du=Ml,uu=At,hu=qt.f,Au=uu("metadata"),pu=Function.prototype;void 0===pu[Au]&&hu(pu,Au,{value:null}),Ka("dispose"),Ka("metadata");var gu=du;Ka("asyncDispose");var fu=d,mu=ce("Symbol"),Eu=mu.keyFor,Cu=fu(mu.prototype.valueOf),Iu=mu.isRegisteredSymbol||function(e){try{return void 0!==Eu(Cu(e))}catch(e){return!1}};Tn({target:"Symbol",stat:!0},{isRegisteredSymbol:Iu});for(var Qu=je,Uu=ce,yu=d,bu=Re,vu=At,Ru=Uu("Symbol"),Su=Ru.isWellKnownSymbol,Fu=Uu("Object","getOwnPropertyNames"),Bu=yu(Ru.prototype.valueOf),Tu=Qu("wks"),Nu=0,_u=Fu(Ru),wu=_u.length;Nu<wu;Nu++)try{var ku=_u[Nu];bu(Ru[ku])&&vu(ku)}catch(e){}var Du=function(e){if(Su&&Su(e))return!0;try{for(var t=Bu(e),n=0,i=Fu(Tu),r=i.length;n<r;n++)if(Tu[i[n]]==t)return!0}catch(e){}return!1};Tn({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:Du}),Ka("matcher"),Ka("observable"),Tn({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:Iu}),Tn({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:Du}),Ka("metadataKey"),Ka("patternMatch"),Ka("replaceAll");var Vu=i(gu),Zu=d,Wu=kn,Ou=pi,Ju=H,xu=Zu("".charAt),Mu=Zu("".charCodeAt),Lu=Zu("".slice),Pu=function(e){return function(t,n){var i,r,o=Ou(Ju(t)),a=Wu(n),s=o.length;return a<0||a>=s?e?"":void 0:(i=Mu(o,a))<55296||i>56319||a+1===s||(r=Mu(o,a+1))<56320||r>57343?e?xu(o,a):i:e?Lu(o,a,a+2):r-56320+(i-55296<<10)+65536}},Gu=(Pu(!1),Pu(!0)),Yu=pi,ju=vs,Xu=Gd,Ku=Yd,Hu="String Iterator",zu=ju.set,qu=ju.getterFor(Hu);Xu(String,"String",(function(e){zu(this,{type:Hu,string:Yu(e),index:0})}),(function(){var e,t=qu(this),n=t.string,i=t.index;return i>=n.length?Ku(void 0,!0):(e=Gu(n,i),t.index+=e.length,Ku(e,!1))}));var $u=i(Ja.f("iterator"));function eh(e){return eh="function"==typeof Vu&&"symbol"==typeof $u?function(e){return typeof e}:function(e){return e&&"function"==typeof Vu&&e.constructor===Vu&&e!==Vu.prototype?"symbol":typeof e},eh(e)}var th=i(Ja.f("toPrimitive"));function nh(e){var t=function(e,t){if("object"!==eh(e)||null===e)return e;var n=e[th];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==eh(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===eh(t)?t:String(t)}function ih(e,t,n){return(t=nh(t))in e?Jr(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var rh=Hn("Array").keys,oh=ui,ah=$e,sh=u,ch=rh,lh=Array.prototype,dh={DOMTokenList:!0,NodeList:!0},uh=i((function(e){var t=e.keys;return e===lh||sh(lh,e)&&t===lh.keys||ah(dh,oh(e))?ch:t})),hh=Fe,Ah=TypeError,ph=Ba,gh=Math.floor,fh=function(e,t){var n=e.length,i=gh(n/2);return n<8?mh(e,t):Eh(e,fh(ph(e,0,i),t),fh(ph(e,i),t),t)},mh=function(e,t){for(var n,i,r=e.length,o=1;o<r;){for(i=o,n=e[o];i&&t(e[i-1],n)>0;)e[i]=e[--i];i!==o++&&(e[i]=n)}return e},Eh=function(e,t,n,i){for(var r=t.length,o=n.length,a=0,s=0;a<r||s<o;)e[a+s]=a<r&&s<o?i(t[a],n[s])<=0?t[a++]:n[s++]:a<r?t[a++]:n[s++];return e},Ch=fh,Ih=r,Qh=function(e,t){var n=[][e];return!!n&&Ih((function(){n.call(null,t||function(){return 1},1)}))},Uh=le.match(/firefox\/(\d+)/i),yh=!!Uh&&+Uh[1],bh=/MSIE|Trident/.test(le),vh=le.match(/AppleWebKit\/(\d+)\./),Rh=!!vh&&+vh[1],Sh=Tn,Fh=d,Bh=_e,Th=He,Nh=Mn,_h=function(e,t){if(!delete e[t])throw Ah("Cannot delete property "+hh(t)+" of "+hh(e))},wh=pi,kh=r,Dh=Ch,Vh=Qh,Zh=yh,Wh=bh,Oh=fe,Jh=Rh,xh=[],Mh=Fh(xh.sort),Lh=Fh(xh.push),Ph=kh((function(){xh.sort(void 0)})),Gh=kh((function(){xh.sort(null)})),Yh=Vh("sort"),jh=!kh((function(){if(Oh)return Oh<70;if(!(Zh&&Zh>3)){if(Wh)return!0;if(Jh)return Jh<603;var e,t,n,i,r="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(i=0;i<47;i++)xh.push({k:t+i,v:n})}for(xh.sort((function(e,t){return t.v-e.v})),i=0;i<xh.length;i++)t=xh[i].k.charAt(0),r.charAt(r.length-1)!==t&&(r+=t);return"DGBEFHACIJK"!==r}}));Sh({target:"Array",proto:!0,forced:Ph||!Gh||!Yh||!jh},{sort:function(e){void 0!==e&&Bh(e);var t=Th(this);if(jh)return void 0===e?Mh(t):Mh(t,e);var n,i,r=[],o=Nh(t);for(i=0;i<o;i++)i in t&&Lh(r,t[i]);for(Dh(r,function(e){return function(t,n){return void 0===n?-1:void 0===t?1:void 0!==e?+e(t,n)||0:wh(t)>wh(n)?1:-1}}(e)),n=Nh(r),i=0;i<n;)t[i]=r[i++];for(;i<o;)_h(t,i++);return t}});var Xh=Hn("Array").sort,Kh=u,Hh=Xh,zh=Array.prototype,qh=i((function(e){var t=e.sort;return e===zh||Kh(zh,e)&&t===zh.sort?Hh:t})),$h=ce,eA=Ia,tA=Da,nA=rn,iA=d([].concat),rA=$h("Reflect","ownKeys")||function(e){var t=eA.f(nA(e)),n=tA.f;return n?iA(t,n(e)):t},oA=$e,aA=rA,sA=T,cA=qt,lA=ne,dA=En,uA=Error,hA=d("".replace),AA=String(uA("zxcasd").stack),pA=/\n\s*at [^:]*:[^\n]*/,gA=pA.test(AA),fA=x,mA=!r((function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",fA(1,7)),7!==e.stack)})),EA=En,CA=function(e,t){if(gA&&"string"==typeof e&&!uA.prepareStackTrace)for(;t--;)e=hA(e,pA,"");return e},IA=mA,QA=Error.captureStackTrace,UA=Ll,yA=At("iterator"),bA=Array.prototype,vA=ui,RA=De,SA=j,FA=Ll,BA=At("iterator"),TA=function(e){if(!SA(e))return RA(e,BA)||RA(e,"@@iterator")||FA[vA(e)]},NA=k,_A=_e,wA=rn,kA=Fe,DA=TA,VA=TypeError,ZA=k,WA=rn,OA=De,JA=zt,xA=k,MA=rn,LA=Fe,PA=function(e){return void 0!==e&&(UA.Array===e||bA[yA]===e)},GA=Mn,YA=u,jA=function(e,t){var n=arguments.length<2?DA(e):t;if(_A(n))return wA(NA(n,e));throw VA(kA(e)+" is not iterable")},XA=TA,KA=function(e,t,n){var i,r;WA(e);try{if(!(i=OA(e,"return"))){if("throw"===t)throw n;return n}i=ZA(i,e)}catch(e){r=!0,i=e}if("throw"===t)throw n;if(r)throw i;return WA(i),n},HA=TypeError,zA=function(e,t){this.stopped=e,this.result=t},qA=zA.prototype,$A=function(e,t,n){var i,r,o,a,s,c,l,d=n&&n.that,u=!(!n||!n.AS_ENTRIES),h=!(!n||!n.IS_RECORD),A=!(!n||!n.IS_ITERATOR),p=!(!n||!n.INTERRUPTED),g=JA(t,d),f=function(e){return i&&KA(i,"normal",e),new zA(!0,e)},m=function(e){return u?(MA(e),p?g(e[0],e[1],f):g(e[0],e[1])):p?g(e,f):g(e)};if(h)i=e.iterator;else if(A)i=e;else{if(!(r=XA(e)))throw HA(LA(e)+" is not iterable");if(PA(r)){for(o=0,a=GA(e);a>o;o++)if((s=m(e[o]))&&YA(qA,s))return s;return new zA(!1)}i=jA(e,r)}for(c=h?e.next:i.next;!(l=xA(c,i)).done;){try{s=m(l.value)}catch(e){KA(i,"throw",e)}if("object"==typeof s&&s&&YA(qA,s))return s}return new zA(!1)},ep=pi,tp=Tn,np=u,ip=rd,rp=Bd,op=function(e,t,n){for(var i=aA(t),r=cA.f,o=sA.f,a=0;a<i.length;a++){var s=i[a];oA(e,s)||n&&oA(n,s)||r(e,s,o(t,s))}},ap=Ca,sp=En,cp=x,lp=function(e,t){lA(t)&&"cause"in t&&dA(e,"cause",t.cause)},dp=function(e,t,n,i){IA&&(QA?QA(e,t):EA(e,"stack",CA(n,i)))},up=$A,hp=function(e,t){return void 0===e?arguments.length<2?"":t:ep(e)},Ap=At("toStringTag"),pp=Error,gp=[].push,fp=function(e,t){var n,i=np(mp,this);rp?n=rp(pp(),i?ip(this):mp):(n=i?this:ap(mp),sp(n,Ap,"Error")),void 0!==t&&sp(n,"message",hp(t)),dp(n,fp,n.stack,1),arguments.length>2&&lp(n,arguments[2]);var r=[];return up(e,gp,{that:r}),sp(n,"errors",r),n};rp?rp(fp,pp):op(fp,pp,{name:!0});var mp=fp.prototype=ap(pp.prototype,{constructor:cp(1,fp),message:cp(1,""),name:cp(1,"AggregateError")});tp({global:!0,constructor:!0,arity:2},{AggregateError:fp});var Ep,Cp,Ip,Qp,Up="undefined"!=typeof process&&"process"==U(process),yp=ce,bp=Oa,vp=N,Rp=At("species"),Sp=u,Fp=TypeError,Bp=ho,Tp=Fe,Np=TypeError,_p=rn,wp=function(e){if(Bp(e))return e;throw Np(Tp(e)+" is not a constructor")},kp=j,Dp=At("species"),Vp=function(e,t){var n,i=_p(e).constructor;return void 0===i||kp(n=_p(i)[Dp])?t:wp(n)},Zp=TypeError,Wp=/(?:ipad|iphone|ipod).*applewebkit/i.test(le),Op=A,Jp=E,xp=zt,Mp=B,Lp=$e,Pp=r,Gp=na,Yp=il,jp=St,Xp=function(e,t){if(e<t)throw Zp("Not enough arguments");return e},Kp=Wp,Hp=Up,zp=Op.setImmediate,qp=Op.clearImmediate,$p=Op.process,eg=Op.Dispatch,tg=Op.Function,ng=Op.MessageChannel,ig=Op.String,rg=0,og={},ag="onreadystatechange";Pp((function(){Ep=Op.location}));var sg=function(e){if(Lp(og,e)){var t=og[e];delete og[e],t()}},cg=function(e){return function(){sg(e)}},lg=function(e){sg(e.data)},dg=function(e){Op.postMessage(ig(e),Ep.protocol+"//"+Ep.host)};zp&&qp||(zp=function(e){Xp(arguments.length,1);var t=Mp(e)?e:tg(e),n=Yp(arguments,1);return og[++rg]=function(){Jp(t,void 0,n)},Cp(rg),rg},qp=function(e){delete og[e]},Hp?Cp=function(e){$p.nextTick(cg(e))}:eg&&eg.now?Cp=function(e){eg.now(cg(e))}:ng&&!Kp?(Qp=(Ip=new ng).port2,Ip.port1.onmessage=lg,Cp=xp(Qp.postMessage,Qp)):Op.addEventListener&&Mp(Op.postMessage)&&!Op.importScripts&&Ep&&"file:"!==Ep.protocol&&!Pp(dg)?(Cp=dg,Op.addEventListener("message",lg,!1)):Cp=ag in jp("script")?function(e){Gp.appendChild(jp("script"))[ag]=function(){Gp.removeChild(this),sg(e)}}:function(e){setTimeout(cg(e),0)});var ug={set:zp,clear:qp},hg=function(){this.head=null,this.tail=null};hg.prototype={add:function(e){var t={item:e,next:null},n=this.tail;n?n.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return null===(this.head=e.next)&&(this.tail=null),e.item}};var Ag,pg,gg,fg,mg,Eg=hg,Cg=/ipad|iphone|ipod/i.test(le)&&"undefined"!=typeof Pebble,Ig=/web0s(?!.*chrome)/i.test(le),Qg=A,Ug=zt,yg=T.f,bg=ug.set,vg=Eg,Rg=Wp,Sg=Cg,Fg=Ig,Bg=Up,Tg=Qg.MutationObserver||Qg.WebKitMutationObserver,Ng=Qg.document,_g=Qg.process,wg=Qg.Promise,kg=yg(Qg,"queueMicrotask"),Dg=kg&&kg.value;if(!Dg){var Vg=new vg,Zg=function(){var e,t;for(Bg&&(e=_g.domain)&&e.exit();t=Vg.get();)try{t()}catch(e){throw Vg.head&&Ag(),e}e&&e.enter()};Rg||Bg||Fg||!Tg||!Ng?!Sg&&wg&&wg.resolve?((fg=wg.resolve(void 0)).constructor=wg,mg=Ug(fg.then,fg),Ag=function(){mg(Zg)}):Bg?Ag=function(){_g.nextTick(Zg)}:(bg=Ug(bg,Qg),Ag=function(){bg(Zg)}):(pg=!0,gg=Ng.createTextNode(""),new Tg(Zg).observe(gg,{characterData:!0}),Ag=function(){gg.data=pg=!pg}),Dg=function(e){Vg.head||Ag(),Vg.add(e)}}var Wg=Dg,Og=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}},Jg=A.Promise,xg="object"==typeof Deno&&Deno&&"object"==typeof Deno.version,Mg=!xg&&!Up&&"object"==typeof window&&"object"==typeof document,Lg=A,Pg=Jg,Gg=B,Yg=jt,jg=zr,Xg=At,Kg=Mg,Hg=xg,zg=fe,qg=Pg&&Pg.prototype,$g=Xg("species"),ef=!1,tf=Gg(Lg.PromiseRejectionEvent),nf=Yg("Promise",(function(){var e=jg(Pg),t=e!==String(Pg);if(!t&&66===zg)return!0;if(!qg.catch||!qg.finally)return!0;if(!zg||zg<51||!/native code/.test(e)){var n=new Pg((function(e){e(1)})),i=function(e){e((function(){}),(function(){}))};if((n.constructor={})[$g]=i,!(ef=n.then((function(){}))instanceof i))return!0}return!t&&(Kg||Hg)&&!tf})),rf={CONSTRUCTOR:nf,REJECTION_EVENT:tf,SUBCLASSING:ef},of={},af=_e,sf=TypeError,cf=function(e){var t,n;this.promise=new e((function(e,i){if(void 0!==t||void 0!==n)throw sf("Bad Promise constructor");t=e,n=i})),this.resolve=af(t),this.reject=af(n)};of.f=function(e){return new cf(e)};var lf,df,uf=Tn,hf=Up,Af=A,pf=k,gf=Za,ff=ls,mf=function(e){var t=yp(e);vp&&t&&!t[Rp]&&bp(t,Rp,{configurable:!0,get:function(){return this}})},Ef=_e,Cf=B,If=ne,Qf=function(e,t){if(Sp(t,e))return e;throw Fp("Incorrect invocation")},Uf=Vp,yf=ug.set,bf=Wg,vf=function(e,t){try{1==arguments.length?console.error(e):console.error(e,t)}catch(e){}},Rf=Og,Sf=Eg,Ff=vs,Bf=Jg,Tf=rf,Nf=of,_f="Promise",wf=Tf.CONSTRUCTOR,kf=Tf.REJECTION_EVENT,Df=Ff.getterFor(_f),Vf=Ff.set,Zf=Bf&&Bf.prototype,Wf=Bf,Of=Zf,Jf=Af.TypeError,xf=Af.document,Mf=Af.process,Lf=Nf.f,Pf=Lf,Gf=!!(xf&&xf.createEvent&&Af.dispatchEvent),Yf="unhandledrejection",jf=function(e){var t;return!(!If(e)||!Cf(t=e.then))&&t},Xf=function(e,t){var n,i,r,o=t.value,a=1==t.state,s=a?e.ok:e.fail,c=e.resolve,l=e.reject,d=e.domain;try{s?(a||(2===t.rejection&&$f(t),t.rejection=1),!0===s?n=o:(d&&d.enter(),n=s(o),d&&(d.exit(),r=!0)),n===e.promise?l(Jf("Promise-chain cycle")):(i=jf(n))?pf(i,n,c,l):c(n)):l(o)}catch(e){d&&!r&&d.exit(),l(e)}},Kf=function(e,t){e.notified||(e.notified=!0,bf((function(){for(var n,i=e.reactions;n=i.get();)Xf(n,e);e.notified=!1,t&&!e.rejection&&zf(e)})))},Hf=function(e,t,n){var i,r;Gf?((i=xf.createEvent("Event")).promise=t,i.reason=n,i.initEvent(e,!1,!0),Af.dispatchEvent(i)):i={promise:t,reason:n},!kf&&(r=Af["on"+e])?r(i):e===Yf&&vf("Unhandled promise rejection",n)},zf=function(e){pf(yf,Af,(function(){var t,n=e.facade,i=e.value;if(qf(e)&&(t=Rf((function(){hf?Mf.emit("unhandledRejection",i,n):Hf(Yf,n,i)})),e.rejection=hf||qf(e)?2:1,t.error))throw t.value}))},qf=function(e){return 1!==e.rejection&&!e.parent},$f=function(e){pf(yf,Af,(function(){var t=e.facade;hf?Mf.emit("rejectionHandled",t):Hf("rejectionhandled",t,e.value)}))},em=function(e,t,n){return function(i){e(t,i,n)}},tm=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,Kf(e,!0))},nm=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw Jf("Promise can't be resolved itself");var i=jf(t);i?bf((function(){var n={done:!1};try{pf(i,t,em(nm,n,e),em(tm,n,e))}catch(t){tm(n,t,e)}})):(e.value=t,e.state=1,Kf(e,!1))}catch(t){tm({done:!1},t,e)}}};wf&&(Of=(Wf=function(e){Qf(this,Of),Ef(e),pf(lf,this);var t=Df(this);try{e(em(nm,t),em(tm,t))}catch(e){tm(t,e)}}).prototype,(lf=function(e){Vf(this,{type:_f,done:!1,notified:!1,parent:!1,reactions:new Sf,rejection:!1,state:0,value:void 0})}).prototype=gf(Of,"then",(function(e,t){var n=Df(this),i=Lf(Uf(this,Wf));return n.parent=!0,i.ok=!Cf(e)||e,i.fail=Cf(t)&&t,i.domain=hf?Mf.domain:void 0,0==n.state?n.reactions.add(i):bf((function(){Xf(i,n)})),i.promise})),df=function(){var e=new lf,t=Df(e);this.promise=e,this.resolve=em(nm,t),this.reject=em(tm,t)},Nf.f=Lf=function(e){return e===Wf||void 0===e?new df(e):Pf(e)}),uf({global:!0,constructor:!0,wrap:!0,forced:wf},{Promise:Wf}),ff(Wf,_f,!1,!0),mf(_f);var im=At("iterator"),rm=!1;try{var om=0,am={next:function(){return{done:!!om++}},return:function(){rm=!0}};am[im]=function(){return this},Array.from(am,(function(){throw 2}))}catch(e){}var sm=Jg,cm=function(e,t){if(!t&&!rm)return!1;var n=!1;try{var i={};i[im]=function(){return{next:function(){return{done:n=!0}}}},e(i)}catch(e){}return n},lm=rf.CONSTRUCTOR||!cm((function(e){sm.all(e).then(void 0,(function(){}))})),dm=k,um=_e,hm=of,Am=Og,pm=$A;Tn({target:"Promise",stat:!0,forced:lm},{all:function(e){var t=this,n=hm.f(t),i=n.resolve,r=n.reject,o=Am((function(){var n=um(t.resolve),o=[],a=0,s=1;pm(e,(function(e){var c=a++,l=!1;s++,dm(n,t,e).then((function(e){l||(l=!0,o[c]=e,--s||i(o))}),r)})),--s||i(o)}));return o.error&&r(o.value),n.promise}});var gm=Tn,fm=rf.CONSTRUCTOR;Jg&&Jg.prototype,gm({target:"Promise",proto:!0,forced:fm,real:!0},{catch:function(e){return this.then(void 0,e)}});var mm=k,Em=_e,Cm=of,Im=Og,Qm=$A;Tn({target:"Promise",stat:!0,forced:lm},{race:function(e){var t=this,n=Cm.f(t),i=n.reject,r=Im((function(){var r=Em(t.resolve);Qm(e,(function(e){mm(r,t,e).then(n.resolve,i)}))}));return r.error&&i(r.value),n.promise}});var Um=k,ym=of;Tn({target:"Promise",stat:!0,forced:rf.CONSTRUCTOR},{reject:function(e){var t=ym.f(this);return Um(t.reject,void 0,e),t.promise}});var bm=rn,vm=ne,Rm=of,Sm=function(e,t){if(bm(e),vm(t)&&t.constructor===e)return t;var n=Rm.f(e);return(0,n.resolve)(t),n.promise},Fm=Tn,Bm=Jg,Tm=rf.CONSTRUCTOR,Nm=Sm,_m=ce("Promise"),wm=!Tm;Fm({target:"Promise",stat:!0,forced:!0},{resolve:function(e){return Nm(wm&&this===_m?Bm:this,e)}});var km=k,Dm=_e,Vm=of,Zm=Og,Wm=$A;Tn({target:"Promise",stat:!0,forced:lm},{allSettled:function(e){var t=this,n=Vm.f(t),i=n.resolve,r=n.reject,o=Zm((function(){var n=Dm(t.resolve),r=[],o=0,a=1;Wm(e,(function(e){var s=o++,c=!1;a++,km(n,t,e).then((function(e){c||(c=!0,r[s]={status:"fulfilled",value:e},--a||i(r))}),(function(e){c||(c=!0,r[s]={status:"rejected",reason:e},--a||i(r))}))})),--a||i(r)}));return o.error&&r(o.value),n.promise}});var Om=k,Jm=_e,xm=ce,Mm=of,Lm=Og,Pm=$A,Gm="No one promise resolved";Tn({target:"Promise",stat:!0,forced:lm},{any:function(e){var t=this,n=xm("AggregateError"),i=Mm.f(t),r=i.resolve,o=i.reject,a=Lm((function(){var i=Jm(t.resolve),a=[],s=0,c=1,l=!1;Pm(e,(function(e){var d=s++,u=!1;c++,Om(i,t,e).then((function(e){u||l||(l=!0,r(e))}),(function(e){u||l||(u=!0,a[d]=e,--c||o(new n(a,Gm)))}))})),--c||o(new n(a,Gm))}));return a.error&&o(a.value),i.promise}});var Ym=Tn,jm=Jg,Xm=r,Km=ce,Hm=B,zm=Vp,qm=Sm,$m=jm&&jm.prototype;Ym({target:"Promise",proto:!0,real:!0,forced:!!jm&&Xm((function(){$m.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=zm(this,Km("Promise")),n=Hm(e);return this.then(n?function(n){return qm(t,e()).then((function(){return n}))}:e,n?function(n){return qm(t,e()).then((function(){throw n}))}:e)}});var eE=ie.Promise,tE=i(eE);const nE=()=>{};function iE(){const e={promise:void 0,isResolved:!1,isRejected:!1,isFinished:!1,resolve:void 0,reject:void 0,cancel:nE};return e.promise=new tE(((t,n)=>{e.resolve=n=>{e.isFinished||(e.isResolved=!0,e.isFinished=!0,t(n),e.value=n)},e.reject=t=>{e.isFinished||(e.isRejected=!0,e.isFinished=!0,n(t))}})),e}const rE=new Map,oE=new Map,aE=new Map;var sE,cE;!function(e){e.WIN_10="Windows 10",e.WIN_81="Windows 8.1",e.WIN_8="Windows 8",e.WIN_7="Windows 7",e.WIN_VISTA="Windows Vista",e.WIN_SERVER_2003="Windows Server 2003",e.WIN_XP="Windows XP",e.WIN_2000="Windows 2000",e.ANDROID="Android",e.HARMONY_OS="HarmonyOS",e.OPEN_BSD="Open BSD",e.SUN_OS="Sun OS",e.LINUX="Linux",e.IOS="iOS",e.MAC_OS="Mac OS",e.CHROMIUM_OS="Chromium OS",e.QNX="QNX",e.UNIX="UNIX",e.BEOS="BeOS",e.OS_2="OS/2",e.SEARCH_BOT="Search Bot"}(sE||(sE={})),function(e){e.CHROME="Chrome",e.SAFARI="Safari",e.EDGE="Edge",e.FIREFOX="Firefox",e.OPERA="OPR",e.QQ="QQBrowser",e.WECHAT="MicroMessenger"}(cE||(cE={}));var lE={exports:{}};!function(e,n){!function(t,i){var r="function",o="undefined",a="object",s="string",c="major",l="model",d="name",u="type",h="vendor",A="version",p="architecture",g="console",f="mobile",m="tablet",E="smarttv",C="wearable",I="embedded",Q="Amazon",U="Apple",y="ASUS",b="BlackBerry",v="Browser",R="Chrome",S="Firefox",F="Google",B="Huawei",T="LG",N="Microsoft",_="Motorola",w="Opera",k="Samsung",D="Sharp",V="Sony",Z="Xiaomi",W="Zebra",O="Facebook",J="Chromium OS",x="Mac OS",M=function(e){for(var t={},n=0;n<e.length;n++)t[e[n].toUpperCase()]=e[n];return t},L=function(e,t){return typeof e===s&&-1!==P(t).indexOf(P(e))},P=function(e){return e.toLowerCase()},G=function(e,t){if(typeof e===s)return e=e.replace(/^\s\s*/,""),typeof t===o?e:e.substring(0,350)},Y=function(e,t){for(var n,o,s,c,l,d,u=0;u<t.length&&!l;){var h=t[u],A=t[u+1];for(n=o=0;n<h.length&&!l&&h[n];)if(l=h[n++].exec(e))for(s=0;s<A.length;s++)d=l[++o],typeof(c=A[s])===a&&c.length>0?2===c.length?typeof c[1]==r?this[c[0]]=c[1].call(this,d):this[c[0]]=c[1]:3===c.length?typeof c[1]!==r||c[1].exec&&c[1].test?this[c[0]]=d?d.replace(c[1],c[2]):i:this[c[0]]=d?c[1].call(this,d,c[2]):i:4===c.length&&(this[c[0]]=d?c[3].call(this,d.replace(c[1],c[2])):i):this[c]=d||i;u+=2}},j=function(e,t){for(var n in t)if(typeof t[n]===a&&t[n].length>0){for(var r=0;r<t[n].length;r++)if(L(t[n][r],e))return"?"===n?i:n}else if(L(t[n],e))return"?"===n?i:n;return e},X={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},K={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[A,[d,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[A,[d,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[d,A],[/opios[\/ ]+([\w\.]+)/i],[A,[d,w+" Mini"]],[/\bopr\/([\w\.]+)/i],[A,[d,w]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[d,A],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[A,[d,"UC"+v]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[A,[d,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[A,[d,"WeChat"]],[/konqueror\/([\w\.]+)/i],[A,[d,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[A,[d,"IE"]],[/yabrowser\/([\w\.]+)/i],[A,[d,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[d,/(.+)/,"$1 Secure "+v],A],[/\bfocus\/([\w\.]+)/i],[A,[d,S+" Focus"]],[/\bopt\/([\w\.]+)/i],[A,[d,w+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[A,[d,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[A,[d,"Dolphin"]],[/coast\/([\w\.]+)/i],[A,[d,w+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[A,[d,"MIUI "+v]],[/fxios\/([-\w\.]+)/i],[A,[d,S]],[/\bqihu|(qi?ho?o?|360)browser/i],[[d,"360 "+v]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[d,/(.+)/,"$1 "+v],A],[/(comodo_dragon)\/([\w\.]+)/i],[[d,/_/g," "],A],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[d,A],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[d],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[d,O],A],[/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[d,A],[/\bgsa\/([\w\.]+) .*safari\//i],[A,[d,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[A,[d,R+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[d,R+" WebView"],A],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[A,[d,"Android "+v]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[d,A],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[A,[d,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[A,d],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[d,[A,j,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[d,A],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[d,"Netscape"],A],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[A,[d,S+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[d,A],[/(cobalt)\/([\w\.]+)/i],[d,[A,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[p,"amd64"]],[/(ia32(?=;))/i],[[p,P]],[/((?:i[346]|x)86)[;\)]/i],[[p,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[p,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[p,"armhf"]],[/windows (ce|mobile); ppc;/i],[[p,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[p,/ower/,"",P]],[/(sun4\w)[;\)]/i],[[p,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[p,P]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[l,[h,k],[u,m]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[l,[h,k],[u,f]],[/\((ip(?:hone|od)[\w ]*);/i],[l,[h,U],[u,f]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[l,[h,U],[u,m]],[/(macintosh);/i],[l,[h,U]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[l,[h,D],[u,f]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[l,[h,B],[u,m]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[l,[h,B],[u,f]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[l,/_/g," "],[h,Z],[u,f]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[l,/_/g," "],[h,Z],[u,m]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[l,[h,"OPPO"],[u,f]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[l,[h,"Vivo"],[u,f]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[l,[h,"Realme"],[u,f]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[l,[h,_],[u,f]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[l,[h,_],[u,m]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[l,[h,T],[u,m]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[l,[h,T],[u,f]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[l,[h,"Lenovo"],[u,m]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[l,/_/g," "],[h,"Nokia"],[u,f]],[/(pixel c)\b/i],[l,[h,F],[u,m]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[l,[h,F],[u,f]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[l,[h,V],[u,f]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[l,"Xperia Tablet"],[h,V],[u,m]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[l,[h,"OnePlus"],[u,f]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[l,[h,Q],[u,m]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[l,/(.+)/g,"Fire Phone $1"],[h,Q],[u,f]],[/(playbook);[-\w\),; ]+(rim)/i],[l,h,[u,m]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[l,[h,b],[u,f]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[l,[h,y],[u,m]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[l,[h,y],[u,f]],[/(nexus 9)/i],[l,[h,"HTC"],[u,m]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[h,[l,/_/g," "],[u,f]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[l,[h,"Acer"],[u,m]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[l,[h,"Meizu"],[u,f]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[h,l,[u,f]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[h,l,[u,m]],[/(surface duo)/i],[l,[h,N],[u,m]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[l,[h,"Fairphone"],[u,f]],[/(u304aa)/i],[l,[h,"AT&T"],[u,f]],[/\bsie-(\w*)/i],[l,[h,"Siemens"],[u,f]],[/\b(rct\w+) b/i],[l,[h,"RCA"],[u,m]],[/\b(venue[\d ]{2,7}) b/i],[l,[h,"Dell"],[u,m]],[/\b(q(?:mv|ta)\w+) b/i],[l,[h,"Verizon"],[u,m]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[l,[h,"Barnes & Noble"],[u,m]],[/\b(tm\d{3}\w+) b/i],[l,[h,"NuVision"],[u,m]],[/\b(k88) b/i],[l,[h,"ZTE"],[u,m]],[/\b(nx\d{3}j) b/i],[l,[h,"ZTE"],[u,f]],[/\b(gen\d{3}) b.+49h/i],[l,[h,"Swiss"],[u,f]],[/\b(zur\d{3}) b/i],[l,[h,"Swiss"],[u,m]],[/\b((zeki)?tb.*\b) b/i],[l,[h,"Zeki"],[u,m]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[h,"Dragon Touch"],l,[u,m]],[/\b(ns-?\w{0,9}) b/i],[l,[h,"Insignia"],[u,m]],[/\b((nxa|next)-?\w{0,9}) b/i],[l,[h,"NextBook"],[u,m]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[h,"Voice"],l,[u,f]],[/\b(lvtel\-)?(v1[12]) b/i],[[h,"LvTel"],l,[u,f]],[/\b(ph-1) /i],[l,[h,"Essential"],[u,f]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[l,[h,"Envizen"],[u,m]],[/\b(trio[-\w\. ]+) b/i],[l,[h,"MachSpeed"],[u,m]],[/\btu_(1491) b/i],[l,[h,"Rotor"],[u,m]],[/(shield[\w ]+) b/i],[l,[h,"Nvidia"],[u,m]],[/(sprint) (\w+)/i],[h,l,[u,f]],[/(kin\.[onetw]{3})/i],[[l,/\./g," "],[h,N],[u,f]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[l,[h,W],[u,m]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[l,[h,W],[u,f]],[/smart-tv.+(samsung)/i],[h,[u,E]],[/hbbtv.+maple;(\d+)/i],[[l,/^/,"SmartTV"],[h,k],[u,E]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[h,T],[u,E]],[/(apple) ?tv/i],[h,[l,U+" TV"],[u,E]],[/crkey/i],[[l,R+"cast"],[h,F],[u,E]],[/droid.+aft(\w)( bui|\))/i],[l,[h,Q],[u,E]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[l,[h,D],[u,E]],[/(bravia[\w ]+)( bui|\))/i],[l,[h,V],[u,E]],[/(mitv-\w{5}) bui/i],[l,[h,Z],[u,E]],[/Hbbtv.*(technisat) (.*);/i],[h,l,[u,E]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[h,G],[l,G],[u,E]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[u,E]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[h,l,[u,g]],[/droid.+; (shield) bui/i],[l,[h,"Nvidia"],[u,g]],[/(playstation [345portablevi]+)/i],[l,[h,V],[u,g]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[l,[h,N],[u,g]],[/((pebble))app/i],[h,l,[u,C]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[l,[h,U],[u,C]],[/droid.+; (glass) \d/i],[l,[h,F],[u,C]],[/droid.+; (wt63?0{2,3})\)/i],[l,[h,W],[u,C]],[/(quest( 2| pro)?)/i],[l,[h,O],[u,C]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[h,[u,I]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[l,[u,f]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[l,[u,m]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[u,m]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[u,f]],[/(android[-\w\. ]{0,9});.+buil/i],[l,[h,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[A,[d,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[A,[d,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[d,A],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[A,d]],os:[[/microsoft (windows) (vista|xp)/i],[d,A],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[d,[A,j,X]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[d,"Windows"],[A,j,X]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[A,/_/g,"."],[d,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[d,x],[A,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[A,d],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[d,A],[/\(bb(10);/i],[A,[d,b]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[A,[d,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[A,[d,S+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[A,[d,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[A,[d,"watchOS"]],[/crkey\/([\d\.]+)/i],[A,[d,R+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[d,J],A],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[d,A],[/(sunos) ?([\w\.\d]*)/i],[[d,"Solaris"],A],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[d,A]]},H=function(e,n){if(typeof e===a&&(n=e,e=i),!(this instanceof H))return new H(e,n).getResult();var g=typeof t!==o&&t.navigator?t.navigator:i,E=e||(g&&g.userAgent?g.userAgent:""),C=g&&g.userAgentData?g.userAgentData:i,I=n?function(e,t){var n={};for(var i in e)t[i]&&t[i].length%2==0?n[i]=t[i].concat(e[i]):n[i]=e[i];return n}(K,n):K;return this.getBrowser=function(){var e={};return e[d]=i,e[A]=i,Y.call(e,E,I.browser),e[c]=function(e){return typeof e===s?e.replace(/[^\d\.]/g,"").split(".")[0]:i}(e[A]),g&&g.brave&&typeof g.brave.isBrave==r&&(e[d]="Brave"),e},this.getCPU=function(){var e={};return e[p]=i,Y.call(e,E,I.cpu),e},this.getDevice=function(){var e={};return e[h]=i,e[l]=i,e[u]=i,Y.call(e,E,I.device),!e[u]&&C&&C.mobile&&(e[u]=f),"Macintosh"==e[l]&&g&&typeof g.standalone!==o&&g.maxTouchPoints&&g.maxTouchPoints>2&&(e[l]="iPad",e[u]=m),e},this.getEngine=function(){var e={};return e[d]=i,e[A]=i,Y.call(e,E,I.engine),e},this.getOS=function(){var e={};return e[d]=i,e[A]=i,Y.call(e,E,I.os),!e[d]&&C&&"Unknown"!=C.platform&&(e[d]=C.platform.replace(/chrome os/i,J).replace(/macos/i,x)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return E},this.setUA=function(e){return E=typeof e===s&&e.length>350?G(e,350):e,this},this.setUA(E),this};H.VERSION="0.7.34",H.BROWSER=M([d,A,c]),H.CPU=M([p]),H.DEVICE=M([l,h,u,g,f,E,m,C,I]),H.ENGINE=H.OS=M([d,A]),e.exports&&(n=e.exports=H),n.UAParser=H;var z=typeof t!==o&&(t.jQuery||t.Zepto);if(z&&!z.ua){var q=new H;z.ua=q.getResult(),z.ua.get=function(){return q.getUA()},z.ua.set=function(e){q.setUA(e);var t=q.getResult();for(var n in t)z.ua[n]=t[n]}}}("object"==typeof window?window:t)}(lE,lE.exports);const dE=new(i(lE.exports));let uE=dE.getResult(),hE=null;function AE(e){if(!hE){e&&dE.setUA(e),uE=dE.getResult();const t=function(e){if("Blink"===e.engine.name&&"WeChat"!==e.browser.name)return cE.CHROME;switch(e.browser.name){case"Chrome Headless":case"Chrome":case"Chromium":return cE.CHROME;case"Safari":case"Mobile Safari":return cE.SAFARI;case"Edge":return cE.EDGE;case"Firefox":return cE.FIREFOX;case"QQBrowser":return cE.QQ;case"Opera":return cE.OPERA;case"WeChat":return cE.WECHAT;default:return e.browser.name||""}}(uE),n=function(e){let t;return t="Blink"===e.engine.name?e.engine.version||"":e.browser.version||"",t.split(".")[0]}(uE),i=function(e){return"Windows"===e.os.name?e.os.version?e.os.name+" "+e.os.version:e.os.name:e.os.name||""}(uE),r=uE.os.version;if(!(t&&n&&i&&r))return{name:t,version:n,os:i,osVersion:r};hE={name:t,version:n,os:i,osVersion:r}}return hE}function pE(){return AE().os}function gE(){const e=AE();return"".concat(e.os," ").concat(e.osVersion)}function fE(){const e=AE();return!!("WebKit"===uE.engine.name&&e.os===sE.MAC_OS&&navigator.maxTouchPoints&&navigator.maxTouchPoints>0&&e.name!==cE.SAFARI||UE()&&e.name!==cE.SAFARI)}function mE(){const e=AE();if(fE()){if(e.os===sE.MAC_OS)return!0;if(e.os===sE.IOS){const e=uE.os.version&&uE.os.version.split(".");if(e&&14===Number(e[0])&&e[1]&&Number(e[1])>=3)return!0;if(e&&Number(e[0])>14)return!0}}return!1}function EE(){return"WebKit"===uE.engine.name}function CE(){return AE().name===cE.CHROME}function IE(){return AE().name===cE.SAFARI}function QE(){return AE().name===cE.FIREFOX}function UE(){return AE().os===sE.IOS}function yE(e){const t=AE();return!(t.name!==cE.CHROME||!t.osVersion)&&Number(t.version)>=e}function bE(e){const t=AE();return!(t.name!==cE.EDGE||!t.osVersion)&&Number(t.version)>=e}function vE(e){const t=AE();return!(t.name!==cE.OPERA||!t.osVersion)&&Number(t.version)>=e}function RE(){const e=AE();return!(e.name!==cE.CHROME||!e.osVersion)&&Number(e.version)<=90}function SE(){const e=AE();if(e.os!==sE.IOS||!e.osVersion)return!1;const t=e.osVersion.split(".");return Number(t[0])<14||14===Number(t[0])&&Number(t[1])<=6}function FE(){const e=AE();if(e.os!==sE.IOS||!e.osVersion)return!1;const t=e.osVersion.split(".");return 15===Number(t[0])}function BE(){const e=AE();if(e.os!==sE.IOS||!e.osVersion)return!1;const t=e.osVersion.split(".");return 16===Number(t[0])}function TE(){const e=AE();if(e.os!==sE.IOS||!e.osVersion)return!1;const t=e.osVersion.split(".");return 15===Number(t[0])&&Number(t[1])>=1}function NE(){return IE()&&navigator.maxTouchPoints>0}function _E(){return AE().name===cE.WECHAT}function wE(){return window.navigator.appVersion&&null!==window.navigator.appVersion.match(/Chrome\/([\w\W]*?)\./)&&window.navigator.appVersion.match(/Chrome\/([\w\W]*?)\./)[1]<=35}function kE(){const e=AE();return e.name!==cE.EDGE&&e.name!==cE.SAFARI&&!!navigator.userAgent.toLocaleLowerCase().match(/chrome\/[\d]./i)}function DE(){return pE()===sE.ANDROID}function VE(){const e=AE();return DE()&&(e.name===cE.CHROME||e.name===cE.WECHAT||/chrome|chromium/i.test(navigator.userAgent))}var ZE;!function(e){e.UNEXPECTED_ERROR="UNEXPECTED_ERROR",e.UNEXPECTED_RESPONSE="UNEXPECTED_RESPONSE",e.TIMEOUT="TIMEOUT",e.INVALID_PARAMS="INVALID_PARAMS",e.NOT_READABLE="NOT_READABLE",e.NOT_SUPPORTED="NOT_SUPPORTED",e.INVALID_OPERATION="INVALID_OPERATION",e.OPERATION_ABORTED="OPERATION_ABORTED",e.WEB_SECURITY_RESTRICT="WEB_SECURITY_RESTRICT",e.EXCHANGE_SDP_FAILED="EXCHANGE_SDP_FAILED",e.ADD_CANDIDATE_FAILED="ADD_CANDIDATE_FAILED",e.DATACHANNEL_FAILED="DATACHANNEL_FAILED",e.NETWORK_ERROR="NETWORK_ERROR",e.NETWORK_TIMEOUT="NETWORK_TIMEOUT",e.NETWORK_RESPONSE_ERROR="NETWORK_RESPONSE_ERROR",e.API_INVOKE_TIMEOUT="API_INVOKE_TIMEOUT",e.ENUMERATE_DEVICES_FAILED="ENUMERATE_DEVICES_FAILED",e.DEVICE_NOT_FOUND="DEVICE_NOT_FOUND",e.ELECTRON_IS_NULL="ELECTRON_IS_NULL",e.ELECTRON_DESKTOP_CAPTURER_GET_SOURCES_ERROR="ELECTRON_DESKTOP_CAPTURER_GET_SOURCES_ERROR",e.CHROME_PLUGIN_NO_RESPONSE="CHROME_PLUGIN_NO_RESPONSE",e.CHROME_PLUGIN_NOT_INSTALL="CHROME_PLUGIN_NOT_INSTALL",e.MEDIA_OPTION_INVALID="MEDIA_OPTION_INVALID",e.PERMISSION_DENIED="PERMISSION_DENIED",e.CONSTRAINT_NOT_SATISFIED="CONSTRAINT_NOT_SATISFIED",e.TRACK_IS_DISABLED="TRACK_IS_DISABLED",e.GET_VIDEO_ELEMENT_VISIBLE_ERROR="GET_VIDEO_ELEMENT_VISIBLE_ERROR",e.SHARE_AUDIO_NOT_ALLOWED="SHARE_AUDIO_NOT_ALLOWED",e.LOW_STREAM_ENCODING_ERROR="LOW_STREAM_ENCODING_ERROR",e.SET_ENCODING_PARAMETER_ERROR="SET_ENCODING_PARAMETER_ERROR",e.TRACK_STATE_UNREACHABLE="TRACK_STATE_UNREACHABLE",e.INVALID_UINT_UID_FROM_STRING_UID="INVALID_UINT_UID_FROM_STRING_UID",e.CAN_NOT_GET_PROXY_SERVER="CAN_NOT_GET_PROXY_SERVER",e.CAN_NOT_GET_GATEWAY_SERVER="CAN_NOT_GET_GATEWAY_SERVER",e.VOID_GATEWAY_ADDRESS="VOID_GATEWAY_ADDRESS",e.UID_CONFLICT="UID_CONFLICT",e.MULTI_UNILBS_RESPONSE_ERROR="MULTI_UNILBS_RESPONSE_ERROR",e.UPDATE_TICKET_FAILED="UPDATE_TICKET_FAILED",e.INVALID_LOCAL_TRACK="INVALID_LOCAL_TRACK",e.INVALID_TRACK="INVALID_TRACK",e.SENDER_NOT_FOUND="SENDER_NOT_FOUND",e.CREATE_OFFER_FAILED="CREATE_OFFER_FAILED",e.SET_ANSWER_FAILED="SET_ANSWER_FAILED",e.ICE_FAILED="ICE_FAILED",e.PC_CLOSED="PC_CLOSED",e.SENDER_REPLACE_FAILED="SENDER_REPLACE_FAILED",e.GET_LOCAL_CAPABILITIES_FAILED="GET_LOCAL_CAPABILITIES_FAILED",e.GET_LOCAL_CONNECTION_PARAMS_FAILED="GET_LOCAL_CONNECTION_PARAMS_FAILED",e.SUBSCRIBE_FAILED="SUBSCRIBE_FAILED",e.UNSUBSCRIBE_FAILED="UNSUBSCRIBE_FAILED",e.GATEWAY_P2P_LOST="GATEWAY_P2P_LOST",e.NO_ICE_CANDIDATE="NO_ICE_CANDIDATE",e.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS="CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS",e.EXIST_DISABLED_VIDEO_TRACK="EXIST_DISABLED_VIDEO_TRACK",e.INVALID_REMOTE_USER="INVALID_REMOTE_USER",e.REMOTE_USER_IS_NOT_PUBLISHED="REMOTE_USER_IS_NOT_PUBLISHED",e.CUSTOM_REPORT_SEND_FAILED="CUSTOM_REPORT_SEND_FAILED",e.CUSTOM_REPORT_FREQUENCY_TOO_HIGH="CUSTOM_REPORT_FREQUENCY_TOO_HIGH",e.FETCH_AUDIO_FILE_FAILED="FETCH_AUDIO_FILE_FAILED",e.READ_LOCAL_AUDIO_FILE_ERROR="READ_LOCAL_AUDIO_FILE_ERROR",e.DECODE_AUDIO_FILE_FAILED="DECODE_AUDIO_FILE_FAILED",e.WS_ABORT="WS_ABORT",e.WS_DISCONNECT="WS_DISCONNECT",e.WS_ERR="WS_ERR",e.EXTERNAL_SIGNAL_ABORT="EXTERNAL_SIGNAL_ABORT",e.LIVE_STREAMING_TASK_CONFLICT="LIVE_STREAMING_TASK_CONFLICT",e.LIVE_STREAMING_INVALID_ARGUMENT="LIVE_STREAMING_INVALID_ARGUMENT",e.LIVE_STREAMING_INTERNAL_SERVER_ERROR="LIVE_STREAMING_INTERNAL_SERVER_ERROR",e.LIVE_STREAMING_PUBLISH_STREAM_NOT_AUTHORIZED="LIVE_STREAMING_PUBLISH_STREAM_NOT_AUTHORIZED",e.LIVE_STREAMING_TRANSCODING_NOT_SUPPORTED="LIVE_STREAMING_TRANSCODING_NOT_SUPPORTED",e.LIVE_STREAMING_CDN_ERROR="LIVE_STREAMING_CDN_ERROR",e.LIVE_STREAMING_INVALID_RAW_STREAM="LIVE_STREAMING_INVALID_RAW_STREAM",e.LIVE_STREAMING_WARN_STREAM_NUM_REACH_LIMIT="LIVE_STREAMING_WARN_STREAM_NUM_REACH_LIMIT",e.LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE="LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE",e.LIVE_STREAMING_WARN_FREQUENT_REQUEST="LIVE_STREAMING_WARN_FREQUENT_REQUEST",e.WEBGL_INTERNAL_ERROR="WEBGL_INTERNAL_ERROR",e.BEAUTY_PROCESSOR_INTERNAL_ERROR="BEAUTY_PROCESSOR_INTERNAL_ERROR",e.CROSS_CHANNEL_WAIT_STATUS_ERROR="CROSS_CHANNEL_WAIT_STATUS_ERROR",e.CROSS_CHANNEL_FAILED_JOIN_SRC="CROSS_CHANNEL_FAILED_JOIN_SEC",e.CROSS_CHANNEL_FAILED_JOIN_DEST="CROSS_CHANNEL_FAILED_JOIN_DEST",e.CROSS_CHANNEL_FAILED_PACKET_SENT_TO_DEST="CROSS_CHANNEL_FAILED_PACKET_SENT_TO_DEST",e.CROSS_CHANNEL_SERVER_ERROR_RESPONSE="CROSS_CHANNEL_SERVER_ERROR_RESPONSE",e.METADATA_OUT_OF_RANGE="METADATA_OUT_OF_RANGE",e.LOCAL_AEC_ERROR="LOCAL_AEC_ERROR",e.INVALID_PLUGIN="INVALID_PLUGIN",e.DISCONNECT_P2P="DISCONNECT_P2P",e.INIT_WEBSOCKET_TIMEOUT="INIT_WEBSOCKET_TIMEOUT",e.CONVERTING_IMAGEDATA_TO_BLOB_FAILED="CONVERTING_IMAGEDATA_TO_BLOB_FAILED",e.CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED="CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED",e.INIT_DATACHANNEL_TIMEOUT="INIT_DATACHANNEL_TIMEOUT",e.DATACHANNEL_CONNECTION_TIMEOUT="DATACHANNEL_CONNECTION_TIMEOUT",e.PROHIBITED_OPERATION="PROHIBITED_OPERATION",e.IMAGE_MODERATION_UPLOAD_FAILED="IMAGE_MODERATION_UPLOAD_FAILED",e.P2P_MESSAGE_FAILED="P2P_MESSAGE_FAILED"}(ZE||(ZE={}));let WE=class extends Error{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0;super(t),ih(this,"code",void 0),ih(this,"message",void 0),ih(this,"data",void 0),ih(this,"name","AgoraRTCException"),this.code=e,this.message="AgoraRTCError ".concat(this.code,": ").concat(t),this.data=n}toString(){return this.data?"data: ".concat(JSON.stringify(this.data),"\n").concat(this.stack):"".concat(this.stack)}print(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"error",t=arguments.length>1?arguments[1]:void 0;return"error"===e&&(t||console).error(this.toString()),"warning"===e&&(t||console).warn(this.toString()),this}throw(e){throw this.print("error",e),this}};function OE(e,t){if("boolean"!=typeof e)throw new WE(ZE.INVALID_PARAMS,"Invalid ".concat(t,": The value is of the boolean type."))}function JE(e,t,n){if(!Fi(n).call(n,e))throw new WE(ZE.INVALID_PARAMS,"".concat(t," can only be set as ").concat(JSON.stringify(n)))}function xE(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e4;if(e<n||e>i||(!(arguments.length>4&&void 0!==arguments[4])||arguments[4])&&!function(e){return"number"==typeof e&&e%1==0}(e))throw new WE(ZE.INVALID_PARAMS,"invalid ".concat(t,": the value range is [").concat(n,", ").concat(i,"]. integer only"))}function ME(e,t){if("number"!=typeof e){if(!(e.min||e.max||e.ideal||e.exact))throw new WE(ZE.INVALID_PARAMS,"".concat(t," is not a valid ConstrainLong"));void 0!==e.min&&xE(e.min,"".concat(t,".min"),0,1/0),void 0!==e.max&&xE(e.max,"".concat(t,".max"),1,1/0),void 0!==e.exact&&xE(e.exact,"".concat(t,".exact"),1,1/0),void 0!==e.ideal&&xE(e.ideal,"".concat(t,".ideal"),1,1/0)}else xE(e,t,1,1/0)}function LE(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:255,r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(null==e)throw new WE(ZE.INVALID_PARAMS,"".concat(t||"param"," cannot be empty"));if(!YE(e,n,i,r))throw new WE(ZE.INVALID_PARAMS,"Invalid ".concat(t||"string param",": Length of the string: [").concat(n,",").concat(i,"].").concat(r?" ASCII characters only.":""))}function PE(e,t){if(!Array.isArray(e))throw new WE(ZE.INVALID_PARAMS,"".concat(t," should be an array"))}function GE(e){return null==e}function YE(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:255,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return"string"==typeof e&&e.length<=n&&e.length>=t&&(!i||function(e){if("string"!=typeof e)return!1;for(let t=0;t<e.length;t+=1){const n=e.charCodeAt(t);if(n<0||n>255)return!1}return!0}(e))}function jE(e,t,n){if("getBigUint64"in DataView.prototype)return e.getBigUint64(t,n);const i=e.getUint32(t,n),r=e.getUint32(t+4,n),o=Number(!!n),a=Number(!n);return BigInt(i*a+r*o)<<BigInt(32)|BigInt(i*o+r*a)}function XE(e,t,n,i){if("setBigUint64"in DataView.prototype)return e.setBigUint64(t,n,i);const r=Number(n>>BigInt(32)),o=Number(n&BigInt(4294967295));i?(e.setUint32(t+4,r,i),e.setUint32(t,o,i)):(e.setUint32(t,r,i),e.setUint32(t+4,o,i))}var KE,HE;!function(e){e.COVERED="COVERED",e.POSITION="POSITION",e.SIZE="SIZE",e.STYLE="STYLE"}(KE||(KE={})),function(e){e.UNMOUNTED="UNMOUNTED",e.INVALID_HTML_ELEMENT="INVALID_HTML_ELEMENT"}(HE||(HE={}));const zE=new class{constructor(){ih(this,"_clientSize",null),ih(this,"getClientWidth",(()=>document.documentElement?document.documentElement.clientWidth:document.body.clientWidth)),ih(this,"getClientHeight",(()=>document.documentElement?document.documentElement.clientHeight:document.body.clientHeight)),ih(this,"getStyle",(e=>window.getComputedStyle(e,null))),ih(this,"checkCssVisibleProperty",(e=>{var t;let n=!0;const i=this.getStyle(e),{display:r,visibility:o,opacity:a,filter:s}=i;return("none"===r||Fi(t=["hidden","collapse"]).call(t,o)||Number(a)<.1)&&(n=!1),!!n&&(s&&s.split(" ").filter((e=>{var t;const n=e.split("(")[0];return Fi(t=["brightness","blur","opacity"]).call(t,n)})).map((e=>{const[t,n]=e.split(/\(|\)/);return[t,Number(n.match(/^[0-9\.]+/))]})).forEach((e=>{const[t,i]=e;switch(t){case"brightness":(i<.1||i>3)&&(n=!1);break;case"blur":i>3&&(n=!1);break;case"opacity":i<.1&&(n=!1)}})),n)})),ih(this,"checkPropertyUpToAllParentNodes",((e,t)=>{let n=!0,i=!0;const r=e=>t(e);let o=e;for(;o&&i;)r(o)||(n=!1,i=!1),o=o.parentElement,o||(i=!1);return n})),ih(this,"checkActualCssVisibleIncludeInherit",(e=>this.checkPropertyUpToAllParentNodes(e,this.checkCssVisibleProperty))),ih(this,"getSizeAboutClient",(e=>{const{width:t,height:n,left:i,right:r,top:o,bottom:a}=e.getBoundingClientRect(),s=this.getClientWidth(),c=this.getClientHeight();return{width:t,height:n,left:i,right:r,top:o,bottom:a,clientWidth:s,clientHeight:c,clientMin:Math.min(s,c)}})),ih(this,"checkActualSize",(()=>{const{width:e,height:t,clientMin:n}=this._clientSize;return this.checkSizeIsVisible(e,t,n)})),ih(this,"elementFromPoint",((e,t)=>document.elementFromPoint?document.elementFromPoint(e,t):null)),ih(this,"checkCoverForAPoint",((e,t,n)=>{const i=this.elementFromPoint(e,t);return null!==i&&i!==n})),ih(this,"getPointPositionList",(()=>{const{width:e,height:t,left:n,top:i}=this._clientSize,r=e/6,o=t/6,a=[],s=10**6;for(let c=0;c<5;c++)for(let e=0;e<5;e++){const t=(n*s+(0===c?.1:4===c?(r*c*s-1e5)/s:r*c)*s)/s,l=(i*s+(0===e?.1:4===e?(o*e*s-1e5)/s:o*e)*s)/s;a.push({x:t,y:l})}return[...a]})),ih(this,"checkElementCover",(e=>this.getPointPositionList().map((t=>this.checkCoverForAPoint(t.x,t.y,e))).filter((e=>!!e)).length>6)),ih(this,"checkSizeIsVisible",((e,t,n)=>(e>50||n/e<=10)&&(t>50||n/t<=10))),ih(this,"checkSizeOfPartInClient",(()=>{const{left:e,right:t,top:n,bottom:i,clientHeight:r,clientWidth:o,clientMin:a}=this._clientSize;let s,c,l,d;if(e<0)s=0;else{if(!(e<o))return!1;s=e}if(t<0)return!1;if(c=t<o?t:o,n<0)l=0;else{if(!(n<r))return!1;l=n}if(i<0)return!1;d=i<r?i:r;const u=c-s,h=d-l;return this.checkSizeIsVisible(u,h,a)})),ih(this,"returnHiddenResult",(e=>(this._clientSize=null,{visible:!1,reason:e}))),ih(this,"checkOneElementVisible",(e=>{if(e instanceof HTMLElement){if(this.checkElementIsMountedOnDom(e)){if(this.checkActualCssVisibleIncludeInherit(e)){if(this._clientSize=this.getSizeAboutClient(e),this.checkElementCover(e))return this.returnHiddenResult(KE.COVERED);{const e=this.checkActualSize(),t=this.checkSizeOfPartInClient();return e&&!t?this.returnHiddenResult(KE.POSITION):e?(this._clientSize=null,{visible:!0}):this.returnHiddenResult(KE.SIZE)}}return this.returnHiddenResult(KE.STYLE)}return this.returnHiddenResult(HE.UNMOUNTED)}return this.returnHiddenResult(HE.INVALID_HTML_ELEMENT)})),ih(this,"checkElementIsMountedOnDom",(e=>this.checkPropertyUpToAllParentNodes(e,(e=>"HTML"!==e.nodeName.toUpperCase()?null!==e.parentElement:!!document.documentElement))))}};function qE(e){return(new TextEncoder).encode(e)}const $E=function(e,t){const n=new Uint8Array(e.byteLength+t.byteLength);return n.set(new Uint8Array(e),0),n.set(new Uint8Array(t),e.byteLength),n},eC=async e=>{const t=function(e){const t=window.atob(e),n=new Uint8Array(new ArrayBuffer(t.length));for(let i=0;i<t.length;i+=1)n[i]=t.charCodeAt(i);return n}("MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDCMnXAHkKIGAM+x4N22gCI+Wyu\nSTM9ztkT3uYslTT2PuKmZfPzhH6kVdO7PTjGCOZnAsyb3oTtWat0KcxQ4jxvqQV+\nHvYl3iI1Yd4vl2c3qRMJPLtRDfNxa2Mcxgq7e9aEUibzdd0st+OJAy3tOj/Y0aVy\nxQiYDz3vqa6bP29adwIDAQAB"),n=await window.crypto.subtle.importKey("spki",t,{name:"RSA-OAEP",hash:"SHA-256"},!0,["encrypt"]),i=qE(e),r=await window.crypto.subtle.encrypt({name:"RSA-OAEP"},n,i);return function(e){let t="";for(let n=0;n<e.length;n+=1)t+=String.fromCharCode(e[n]);return window.btoa(t)}(new Uint8Array(r))},tC=async e=>function(e,t){let n="";return new Uint8Array(e).forEach((e=>{n+=e.toString(t).padStart(2,"0")})),n}(await crypto.subtle.digest("SHA-256",qE(e)),16);class nC{constructor(){ih(this,"_events",{}),ih(this,"addListener",this.on)}getListeners(e){return this._events[e]?this._events[e].map((e=>e.listener)):[]}on(e,t){this._events[e]||(this._events[e]=[]);const n=this._events[e];-1===this._indexOfListener(n,t)&&n.push({listener:t,once:!1})}once(e,t){this._events[e]||(this._events[e]=[]);const n=this._events[e];-1===this._indexOfListener(n,t)&&n.push({listener:t,once:!0})}off(e,t){if(!this._events[e])return;const n=this._events[e],i=this._indexOfListener(n,t);-1!==i&&n.splice(i,1),0===this._events[e].length&&delete this._events[e]}removeAllListeners(e){e?delete this._events[e]:this._events={}}emit(e){this._events[e]||(this._events[e]=[]);const t=this._events[e].map((e=>e));for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];for(let o=0;o<t.length;o+=1){const n=t[o];n.once&&this.off(e,n.listener),n.listener.apply(this,i||[])}}safeEmit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];[...this._events[e]||[]].forEach((t=>{t.once&&this.off(e,t.listener);try{t.listener.apply(this,n)}catch(t){console.error("safeEmit event:".concat(e," error ").concat(null==t?void 0:t.toString()))}}))}_indexOfListener(e,t){let n=e.length;for(;n--;)if(e[n].listener===t)return n;return-1}}let iC=null;function rC(){if(iC)return iC;if(window.electron)return iC=window.electron;if(!window.require)return null;try{return iC=window.require("electron"),iC}catch(e){return null}}var oC,aC,sC,cC,lC,dC,uC,hC;function AC(e){return xE(e.timeout,"config.timeout",0,1e5),xE(e.timeoutFactor,"config.timeoutFactor",0,100,!1),xE(e.maxRetryCount,"config.maxRetryConfig",0,1/0),xE(e.maxRetryTimeout,"config.maxRetryTimeout",0,1/0),!0}function pC(e){if(!Array.isArray(e)||e.length<1)return!1;try{e.forEach((e=>{if(!e.urls)throw Error()}))}catch(e){return!1}return!0}function gC(e){return LE(e.turnServerURL,"turnServerURL"),LE(e.username,"username"),LE(e.password,"password"),e.udpport&&xE(e.udpport,"udpport",1,99999,!0),e.forceturn&&OE(e.forceturn,"forceturn"),e.security&&OE(e.security,"security"),e.tcpport&&xE(e.tcpport,"tcpport",1,99999,!0),!0}function fC(e){return void 0!==e.level&&JE(e.level,"level",[1,2,3]),void 0!==e.delay&&xE(e.delay,"delay",0,3e3,!0),!0}function mC(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];return 0===e.getListeners(t).length?tE.reject(new WE(ZE.UNEXPECTED_ERROR,"can not emit promise")):new tE(((n,r)=>{e.emit(t,...i,n,r)}))}function EC(e,t){if(0===e.getListeners(t).length)return tE.resolve();for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];return mC(e,t,...i)}function CC(e,t){if(0===e.getListeners(t).length)return null;for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];return IC(e,t,...i)}function IC(e,t){let n=null,i=null;for(var r=arguments.length,o=new Array(r>2?r-2:0),a=2;a<r;a++)o[a-2]=arguments[a];if(e.emit(t,...o,(e=>{n=e}),(e=>{i=e})),null!==i)throw i;if(null===n)throw new WE(ZE.UNEXPECTED_ERROR,"handler is not sync");return n}!function(e){e.CREATE_CLIENT="createClient",e.CHECK_SYSTEM_REQUIREMENTS="checkSystemRequirements",e.SET_AREA="setArea",e.CHECK_VIDEO_TRACK_IS_ACTIVE="checkVideoTrackIsActive",e.CHECK_AUDIO_TRACK_IS_ACTIVE="checkAudioTrackIsActive",e.CREATE_MIC_AUDIO_TRACK="createMicrophoneAudioTrack",e.CREATE_CUSTOM_AUDIO_TRACK="createCustomAudioTrack",e.CREATE_BUFFER_AUDIO_TRACK="createBufferSourceAudioTrack",e.CREATE_CAM_VIDEO_TRACK="createCameraVideoTrack",e.CREATE_CUSTOM_VIDEO_TRACK="createCustomVideoTrack",e.CREATE_MIC_AND_CAM_TRACKS="createMicrophoneAndCameraTracks",e.CREATE_SCREEN_VIDEO_TRACK="createScreenVideoTrack",e.SET_ENCRYPTION_CONFIG="Client.setEncryptionConfig",e.START_PROXY_SERVER="Client.startProxyServer",e.STOP_PROXY_SERVER="Client.stopProxyServer",e.SET_PROXY_SERVER="Client.setProxyServer",e.SET_TURN_SERVER="Client.setTurnServer",e.SET_CLIENT_ROLE="Client.setClientRole",e.SET_LOW_STREAM_PARAMETER="Client.setLowStreamParameter",e.ENABLE_DUAL_STREAM="Client.enableDualStream",e.DISABLE_DUAL_STREAM="Client.disableDualStream",e.JOIN="Client.join",e.LEAVE="Client.leave",e.PUBLISH="Client.publish",e.UNPUBLISH="Client.unpublish",e.SUBSCRIBE="Client.subscribe",e.MASS_SUBSCRIBE="Client.massSubscribe",e.MASS_UNSUBSCRIBE="Client.massUnsubscribe",e.UNSUBSCRIBE="Client.unsubscribe",e.RENEW_TOKEN="Client.renewToken",e.SET_REMOTE_VIDEO_STREAM_TYPE="Client.setRemoteVideoStreamType",e.SET_STREAM_FALLBACK_OPTION="Client.setStreamFallbackOption",e.ENABLE_AUDIO_VOLUME_INDICATOR="Client.enableAudioVolumeIndicator",e.SEND_CUSTOM_REPORT_MESSAGE="Client.sendCustomReportMessage",e.INSPECT_VIDEO_CONTENT="Client.inspectVideoContent",e.STOP_INSPECT_VIDEO_CONTENT="Client.stopInspectVideoContent",e.JOIN_FALLBACK_TO_PROXY="Client._joinFallbackToProxy",e.DATACHANNEL_FAILBACK="Client._datachannelFailback",e.ON_LIVE_STREAM_WARNING="Client.onLiveStreamWarning",e.ON_LIVE_STREAM_ERROR="Client.onLiveStreamingError",e.START_LIVE_STREAMING="Client.startLiveStreaming",e.SET_LIVE_TRANSCODING="Client.setLiveTranscoding",e.STOP_LIVE_STREAMING="Client.stopLiveStreaming",e.ADD_INJECT_STREAM_URL="Client.addInjectStreamUrl",e.REMOVE_INJECT_STREAM_URL="Client.removeInjectStreamUrl",e.START_CHANNEL_MEDIA_RELAY="Client.startChannelMediaRelay",e.UPDATE_CHANNEL_MEDIA_RELAY="Client.updateChannelMediaRelay",e.STOP_CHANNEL_MEDIA_RELAY="Client.stopChannelMediaRelay",e.REQUEST_CONFIG_DISTRIBUTE="_config-distribute-request",e.SET_CONFIG_DISTRIBUTE="_configDistribute",e.LOCAL_TRACK_SET_MUTED="LocalTrack.setMute",e.LOCAL_AUDIO_TRACK_PLAY="LocalAudioTrack.play",e.LOCAL_AUDIO_TRACK_PLAY_IN_ELEMENT="LocalAudioTrack.playInElement",e.LOCAL_AUDIO_TRACK_STOP="LocalAudioTrack.stop",e.LOCAL_AUDIO_TRACK_SET_VOLUME="LocalAudioTrack.setVolume",e.MIC_AUDIO_TRACK_SET_DEVICE="MicrophoneAudioTrack.setDevice",e.BUFFER_AUDIO_TRACK_START="BufferSourceAudioTrack.startProcessAudioBuffer",e.BUFFER_AUDIO_TRACK_STOP="BufferSourceAudioTrack.stopProcessAudioBuffer",e.BUFFER_AUDIO_TRACK_PAUSE="BufferSourceAudioTrack.pauseProcessAudioBuffer",e.BUFFER_AUDIO_TRACK_RESUME="BufferSourceAudioTrack.resumeProcessAudioBuffer",e.BUFFER_AUDIO_TRACK_SEEK="BufferSourceAudioTrack.seekAudioBuffer",e.LOCAL_VIDEO_TRACK_PLAY="LocalVideoTrack.play",e.LOCAL_VIDEO_TRACK_STOP="LocalVideoTrack.stop",e.LOCAL_VIDEO_TRACK_GET_VIDEO_VISIBLE="LocalVideoTrack.getVideoElementVisibleStatus",e.LOCAL_VIDEO_TRACK_BEAUTY="LocalVideoTrack.setBeautyEffect",e.CAM_VIDEO_TRACK_SET_DEVICE="CameraVideoTrack.setDevice",e.CAM_VIDEO_TRACK_SET_ENCODER_CONFIG="CameraVideoTrack.setEncoderConfiguration",e.REMOTE_VIDEO_TRACK_PLAY="RemoteVideoTrack.play",e.REMOTE_VIDEO_TRACK_STOP="RemoteVideoTrack.stop",e.REMOTE_VIDEO_TRACK_GET_VIDEO_VISIBLE="RemoteVideoTrack.getVideoElementVisibleStatus",e.REMOTE_AUDIO_TRACK_PLAY="RemoteAudioTrack.play",e.REMOTE_AUDIO_TRACK_STOP="RemoteAudioTrack.stop",e.REMOTE_AUDIO_SET_VOLUME="RemoteAudioTrack.setVolume",e.REMOTE_AUDIO_SET_OUTPUT_DEVICE="RemoteAudioTrack.setOutputDevice",e.GET_MEDIA_STREAM_TRACK="Track.getMediaStreamTrack",e.STREAM_TYPE_CHANGE="streamTypeChange",e.CONNECTION_STATE_CHANGE="connectionStateChange",e.LOAD_CONFIG_FROM_LOCALSTORAGE="loadConfigFromLocalStorage",e.IMAGE_MODERATION_UPLOAD="imageModerationUpload"}(oC||(oC={})),function(e){e.TRACER="tracer"}(aC||(aC={})),function(e){e[e.AUDIENCE_LEVEL_LOW_LATENCY=1]="AUDIENCE_LEVEL_LOW_LATENCY",e[e.AUDIENCE_LEVEL_ULTRA_LOW_LATENCY=2]="AUDIENCE_LEVEL_ULTRA_LOW_LATENCY",e[e.AUDIENCE_LEVEL_SYNC_LATENCY=3]="AUDIENCE_LEVEL_SYNC_LATENCY"}(sC||(sC={})),function(e){e.LEAVE="LEAVE",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.UID_BANNED="UID_BANNED",e.IP_BANNED="IP_BANNED",e.CHANNEL_BANNED="CHANNEL_BANNED",e.FALLBACK="FALLBACK",e.LICENSE_MISSING="LICENSE_MISSING",e.LICENSE_EXPIRED="LICENSE_EXPIRED",e.LICENSE_MINUTES_EXCEEDED="LICENSE_MINUTES_EXCEEDED",e.LICENSE_PERIOD_INVALID="LICENSE_PERIOD_INVALID",e.LICENSE_MULTIPLE_SDK_SERVICE="LICENSE_MULTIPLE_SDK_SERVICE",e.LICENSE_ILLEGAL="LICENSE_ILLEGAL",e.TOKEN_EXPIRE="TOKEN_EXPIRE"}(cC||(cC={})),function(e){e.CONNECTION_STATE_CHANGE="connection-state-change",e.MEDIA_RECONNECT_START="media-reconnect-start",e.MEDIA_RECONNECT_END="media-reconnect-end",e.IS_USING_CLOUD_PROXY="is-using-cloud-proxy",e.USER_JOINED="user-joined",e.USER_LEAVED="user-left",e.USER_PUBLISHED="user-published",e.USER_UNPUBLISHED="user-unpublished",e.USER_INFO_UPDATED="user-info-updated",e.CLIENT_BANNED="client-banned",e.CHANNEL_MEDIA_RELAY_STATE="channel-media-relay-state",e.CHANNEL_MEDIA_RELAY_EVENT="channel-media-relay-event",e.VOLUME_INDICATOR="volume-indicator",e.CRYPT_ERROR="crypt-error",e.ON_TOKEN_PRIVILEGE_WILL_EXPIRE="token-privilege-will-expire",e.ON_TOKEN_PRIVILEGE_DID_EXPIRE="token-privilege-did-expire",e.NETWORK_QUALITY="network-quality",e.STREAM_TYPE_CHANGED="stream-type-changed",e.STREAM_FALLBACK="stream-fallback",e.RECEIVE_METADATA="receive-metadata",e.STREAM_MESSAGE="stream-message",e.LIVE_STREAMING_ERROR="live-streaming-error",e.LIVE_STREAMING_WARNING="live-streaming-warning",e.INJECT_STREAM_STATUS="stream-inject-status",e.EXCEPTION="exception",e.ERROR="error",e.P2P_LOST="p2p_lost",e.JOIN_FALLBACK_TO_PROXY="join-fallback-to-proxy",e.CHANNEL_FALLBACK_TO_WEBSOCKET="channel-fallback-to-websocket",e.MEDIA_CONNECTION_TYPE_CHANGE="media-connection-type-change",e.PUBLISHED_USER_LIST="published-user-list",e.CONTENT_INSPECT_CONNECTION_STATE_CHANGE="content-inspect-connection-state-change",e.CONTENT_INSPECT_ERROR="content-inspect-error",e.CONTENT_INSPECT_RESULT="content-inspect-result",e.IMAGE_MODERATION_CONNECTION_STATE_CHANGE="image-moderation-connection-state-change"}(lC||(lC={})),function(e){e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.MULTI_IP="MULTI_IP",e.TIMEOUT="TIMEOUT",e.OFFLINE="OFFLINE",e.LEAVE="LEAVE",e.P2P_FAILED="P2P_FAILED",e.FALLBACK="FALLBACK"}(dC||(dC={})),function(e){e.ONLINE="ONLINE",e.OFFLINE="OFFLINE"}(uC||(uC={})),function(e){e.NETWORK_STATE_CHANGE="NETWORK_STATE_CHANGE",e.ONLINE="ONLINE",e.OFFLINE="OFFLINE"}(hC||(hC={}));const QC=new class extends nC{set networkState(e){this.emit(hC.NETWORK_STATE_CHANGE,e,this._networkState),e===uC.ONLINE?this.emit(hC.ONLINE):e===uC.OFFLINE&&(this.onlineWaiter=new tE((e=>{this.once(hC.ONLINE,(()=>{this.onlineWaiter=void 0,e(uC.ONLINE)}))})),this.emit(hC.OFFLINE)),this._networkState=e}get networkState(){return this._networkState}get isOnline(){return this._networkState===uC.ONLINE}constructor(){super(),ih(this,"_moduleName","network-indicator"),ih(this,"_networkState",uC.ONLINE),ih(this,"onlineWaiter",void 0),window.addEventListener("online",(()=>{this.networkState=uC.ONLINE})),window.addEventListener("offline",(()=>{this.networkState=uC.OFFLINE}))}};function UC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function yC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?UC(Object(n),!0).forEach((function(t){ih(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UC(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function bC(e,t){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}function vC(e){const t=[];return e.forEach((e=>{-1===t.indexOf(e)&&t.push(e)})),t}function RC(e){void 0!==tE?tE.resolve().then(e):setTimeout(e,0)}function SC(e){return JSON.parse(JSON.stringify(e))}function FC(e){try{return SC(e)}catch(t){return e}}const BC={};function TC(e,t){BC[t]||(BC[t]=!0,e())}function NC(e){const t=window.atob(e),n=new Uint8Array(new ArrayBuffer(t.length));for(let i=0;i<t.length;i+=1)n[i]=t.charCodeAt(i);return n}function _C(e){let t="";for(let n=0;n<e.length;n+=1)t+=String.fromCharCode(e[n]);return window.btoa(t)}function wC(e){return window.TextEncoder?(new TextEncoder).encode(e).length:e.length}function kC(e){let t=0;return/DingTalk/i.test(navigator.userAgent)&&e.realFormData&&(e=e.realFormData),e.forEach((e=>{t+="string"==typeof e?wC(e):e.size})),t+138}function DC(e){const t=new WE(ZE.TIMEOUT,"timeout");return new tE(((n,i)=>{window.setTimeout((()=>i(t)),e)}))}function VC(e){return new tE((t=>{window.setTimeout(t,e)}))}function ZC(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:7,t=arguments.length>1?arguments[1]:void 0;const n=Math.random().toString(16).substr(2,e).toLowerCase();return n.length===e?"".concat(t).concat(n):"".concat(t).concat(n)+ZC(e-n.length,"")}function WC(){return ZC(32,"").toUpperCase()}const OC=()=>{},JC=new class{constructor(){ih(this,"fnMap",new Map)}throttleByKey(e,t,n,i){for(var r=arguments.length,o=new Array(r>4?r-4:0),a=4;a<r;a++)o[a-4]=arguments[a];if(this.fnMap.has(t)){const r=this.fnMap.get(t);if(r.threshold!==n){r.fn(...r.args),clearTimeout(r.timer);const a=window.setTimeout((()=>{const e=this.fnMap.get(t);e&&e.fn(...e.args),this.fnMap.delete(t)}),n);this.fnMap.set(t,{fn:e,threshold:n,timer:a,args:o,skipFn:i})}else r.skipFn&&r.skipFn(...r.args),this.fnMap.set(t,yC(yC({},r),{},{fn:e,args:o,skipFn:i}))}else{const r=window.setTimeout((()=>{const e=this.fnMap.get(t);e&&e.fn(...e.args),this.fnMap.delete(t)}),n);this.fnMap.set(t,{fn:e,threshold:n,timer:r,args:o,skipFn:i})}}},xC=JC.throttleByKey.bind(JC);function MC(e){return"object"==typeof e&&null!==e&&!(e instanceof RegExp)}function LC(e,t){if(!MC(e)||!MC(t))return t;if(Array.isArray(e)&&!Array.isArray(t)||!Array.isArray(e)&&Array.isArray(t))return t;if(Array.isArray(t)&&Array.isArray(e)){const n=[...e];for(let i=0;i<t.length;i++)n[i]=LC(e[i],t[i]);return n}{const n=yC({},e);for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(Object.prototype.hasOwnProperty.call(e,i)?n[i]=LC(e[i],t[i]):n[i]=t[i]);return n}}let PC=1,GC=console;class YC{static setLogger(e){GC=e}constructor(e){ih(this,"lockingPromise",tE.resolve()),ih(this,"locks",0),ih(this,"name",""),ih(this,"lockId",void 0),this.lockId=PC++,e&&(this.name=e),GC.debug("[lock-".concat(this.name,"-").concat(this.lockId,"] is created."))}get isLocked(){return this.locks>0}lock(e){let t;this.locks+=1,GC.debug("[lock-".concat(this.name,"-").concat(this.lockId,"] is locked, current queue ").concat(this.locks,". ").concat("string"==typeof e?e:""));const n=new tE((n=>{t=()=>{this.locks-=1,GC.debug("[lock-".concat(this.name,"-").concat(this.lockId,"] is not locked, current queue ").concat(this.locks,". ").concat("string"==typeof e?e:"")),n()}})),i=this.lockingPromise.then((()=>t));return this.lockingPromise=this.lockingPromise.then((()=>n)),i}}function jC(e,t){return function(n,i,r){const o=r.value;if("function"!=typeof o)throw new Error("Cannot use mutex on object property.");return r.value=async function(){const n=this[t];if(!n)throw new Error("mutex property key ".concat(t," doesn't exist on ").concat(e));const r=await n.lock("From ".concat(e,".").concat(i));try{for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return await o.apply(this,s)}finally{r()}},r}}const XC={timeout:500,timeoutFactor:1.5,maxRetryCount:1/0,maxRetryTimeout:1e4};function KC(e,t){const n=Math.floor(t.timeout*Math.pow(t.timeoutFactor,e));return Math.min(t.maxRetryTimeout,n)}function HC(e,t,n,i){const r=Object.assign({},XC,i);let o=r.timeout;const a=async()=>{await function(e){return new tE((t=>{window.setTimeout(t,e)}))}(o),o*=r.timeoutFactor,o=Math.min(r.maxRetryTimeout,o)};let s=!1;const c=new tE((async(i,o)=>{t=t||(()=>!1),n=n||(()=>!0);for(let c=0;c<r.maxRetryCount;c+=1){if(s)return o(new WE(ZE.OPERATION_ABORTED));try{const n=await e();if(!t(n,c))return i(n);if(c+1===r.maxRetryCount)return i(n);await a()}catch(e){if(!n(e,c))return o(e);if(c+1===r.maxRetryCount)return o(e);await a()}}}));return c.cancel=()=>s=!0,c}var zC=_e,qC=He,$C=Y,eI=Mn,tI=TypeError,nI=function(e){return function(t,n,i,r){zC(n);var o=qC(t),a=$C(o),s=eI(o),c=e?s-1:0,l=e?-1:1;if(i<2)for(;;){if(c in a){r=a[c],c+=l;break}if(c+=l,e?c<0:s<=c)throw tI("Reduce of empty array with no initial value")}for(;e?c>=0:s>c;c+=l)c in a&&(r=n(r,a[c],c,o));return r}},iI=[nI(!1),nI(!0)][0];Tn({target:"Array",proto:!0,forced:!Up&&fe>79&&fe<83||!Qh("reduce")},{reduce:function(e){var t=arguments.length;return iI(this,e,t,t>1?arguments[1]:void 0)}});var rI=Hn("Array").reduce,oI=u,aI=rI,sI=Array.prototype,cI=i((function(e){var t=e.reduce;return e===sI||oI(sI,e)&&t===sI.reduce?aI:t}));let lI=class{constructor(e){ih(this,"input",[]),ih(this,"size",void 0),this.size=e}add(e){this.input.push(e),this.input.length>this.size&&this.input.splice(0,1)}mean(){var e;return 0===this.input.length?0:cI(e=this.input).call(e,((e,t)=>e+t))/this.input.length}};var dI,uI={exports:{}},hI=function(e,t){return function(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];return e.apply(t,n)}},AI=hI,pI=Object.prototype.toString,gI=(dI=Object.create(null),function(e){var t=pI.call(e);return dI[t]||(dI[t]=t.slice(8,-1).toLowerCase())});function fI(e){return e=e.toLowerCase(),function(t){return gI(t)===e}}function mI(e){return Array.isArray(e)}function EI(e){return void 0===e}var CI=fI("ArrayBuffer");function II(e){return null!==e&&"object"==typeof e}function QI(e){if("object"!==gI(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}var UI=fI("Date"),yI=fI("File"),bI=fI("Blob"),vI=fI("FileList");function RI(e){return"[object Function]"===pI.call(e)}var SI=fI("URLSearchParams");function FI(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),mI(e))for(var n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.call(null,e[r],r,e)}var BI,TI=(BI="undefined"!=typeof Uint8Array&&Object.getPrototypeOf(Uint8Array),function(e){return BI&&e instanceof BI}),NI={isArray:mI,isArrayBuffer:CI,isBuffer:function(e){return null!==e&&!EI(e)&&null!==e.constructor&&!EI(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){var t="[object FormData]";return e&&("function"==typeof FormData&&e instanceof FormData||pI.call(e)===t||RI(e.toString)&&e.toString()===t)},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&CI(e.buffer)},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:II,isPlainObject:QI,isUndefined:EI,isDate:UI,isFile:yI,isBlob:bI,isFunction:RI,isStream:function(e){return II(e)&&RI(e.pipe)},isURLSearchParams:SI,isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:FI,merge:function e(){var t={};function n(n,i){QI(t[i])&&QI(n)?t[i]=e(t[i],n):QI(n)?t[i]=e({},n):mI(n)?t[i]=n.slice():t[i]=n}for(var i=0,r=arguments.length;i<r;i++)FI(arguments[i],n);return t},extend:function(e,t,n){return FI(t,(function(t,i){e[i]=n&&"function"==typeof t?AI(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,n,i){e.prototype=Object.create(t.prototype,i),e.prototype.constructor=e,n&&Object.assign(e.prototype,n)},toFlatObject:function(e,t,n){var i,r,o,a={};t=t||{};do{for(r=(i=Object.getOwnPropertyNames(e)).length;r-- >0;)a[o=i[r]]||(t[o]=e[o],a[o]=!0);e=Object.getPrototypeOf(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:gI,kindOfTest:fI,endsWith:function(e,t,n){e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;var i=e.indexOf(t,n);return-1!==i&&i===n},toArray:function(e){if(!e)return null;var t=e.length;if(EI(t))return null;for(var n=new Array(t);t-- >0;)n[t]=e[t];return n},isTypedArray:TI,isFileList:vI},_I=NI;function wI(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var kI=function(e,t,n){if(!t)return e;var i;if(n)i=n(t);else if(_I.isURLSearchParams(t))i=t.toString();else{var r=[];_I.forEach(t,(function(e,t){null!=e&&(_I.isArray(e)?t+="[]":e=[e],_I.forEach(e,(function(e){_I.isDate(e)?e=e.toISOString():_I.isObject(e)&&(e=JSON.stringify(e)),r.push(wI(t)+"="+wI(e))})))})),i=r.join("&")}if(i){var o=e.indexOf("#");-1!==o&&(e=e.slice(0,o)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e},DI=NI;function VI(){this.handlers=[]}VI.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},VI.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},VI.prototype.forEach=function(e){DI.forEach(this.handlers,(function(t){null!==t&&e(t)}))};var ZI,WI,OI=VI,JI=NI;function xI(){if(WI)return ZI;WI=1;var e=NI;function t(e,t,n,i,r){Error.call(this),this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),i&&(this.request=i),r&&(this.response=r)}e.inherits(t,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var n=t.prototype,i={};return["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach((function(e){i[e]={value:e}})),Object.defineProperties(t,i),Object.defineProperty(n,"isAxiosError",{value:!0}),t.from=function(i,r,o,a,s,c){var l=Object.create(n);return e.toFlatObject(i,l,(function(e){return e!==Error.prototype})),t.call(l,i.message,r,o,a,s),l.name=i.name,c&&Object.assign(l,c),l},ZI=t}var MI,LI,PI,GI,YI,jI,XI={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1};function KI(){if(LI)return MI;LI=1;var e=NI;return MI=function(t,n){n=n||new FormData;var i=[];function r(t){return null===t?"":e.isDate(t)?t.toISOString():e.isArrayBuffer(t)||e.isTypedArray(t)?"function"==typeof Blob?new Blob([t]):Buffer.from(t):t}return function t(o,a){if(e.isPlainObject(o)||e.isArray(o)){if(-1!==i.indexOf(o))throw Error("Circular reference detected in "+a);i.push(o),e.forEach(o,(function(i,o){if(!e.isUndefined(i)){var s,c=a?a+"."+o:o;if(i&&!a&&"object"==typeof i)if(e.endsWith(o,"{}"))i=JSON.stringify(i);else if(e.endsWith(o,"[]")&&(s=e.toArray(i)))return void s.forEach((function(t){!e.isUndefined(t)&&n.append(c,r(t))}));t(i,c)}})),i.pop()}else n.append(a,r(o))}(t),n},MI}function HI(){if(GI)return PI;GI=1;var e=xI();return PI=function(t,n,i){var r=i.config.validateStatus;i.status&&r&&!r(i.status)?n(new e("Request failed with status code "+i.status,[e.ERR_BAD_REQUEST,e.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i)):t(i)}}function zI(){if(jI)return YI;jI=1;var e=NI;return YI=e.isStandardBrowserEnv()?{write:function(t,n,i,r,o,a){var s=[];s.push(t+"="+encodeURIComponent(n)),e.isNumber(i)&&s.push("expires="+new Date(i).toGMTString()),e.isString(r)&&s.push("path="+r),e.isString(o)&&s.push("domain="+o),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}},YI}var qI,$I,eQ,tQ,nQ,iQ,rQ,oQ,aQ,sQ,cQ,lQ,dQ=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)},uQ=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e},hQ=function(e,t){return e&&!dQ(t)?uQ(e,t):t};function AQ(){if($I)return qI;$I=1;var e=NI,t=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return qI=function(n){var i,r,o,a={};return n?(e.forEach(n.split("\n"),(function(n){if(o=n.indexOf(":"),i=e.trim(n.substr(0,o)).toLowerCase(),r=e.trim(n.substr(o+1)),i){if(a[i]&&t.indexOf(i)>=0)return;a[i]="set-cookie"===i?(a[i]?a[i]:[]).concat([r]):a[i]?a[i]+", "+r:r}})),a):a},qI}function pQ(){if(tQ)return eQ;tQ=1;var e=NI;return eQ=e.isStandardBrowserEnv()?function(){var t,n=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a");function r(e){var t=e;return n&&(i.setAttribute("href",t),t=i.href),i.setAttribute("href",t),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:"/"===i.pathname.charAt(0)?i.pathname:"/"+i.pathname}}return t=r(window.location.href),function(n){var i=e.isString(n)?r(n):n;return i.protocol===t.protocol&&i.host===t.host}}():function(){return!0}}function gQ(){if(iQ)return nQ;iQ=1;var e=xI();function t(t){e.call(this,null==t?"canceled":t,e.ERR_CANCELED),this.name="CanceledError"}return NI.inherits(t,e,{__CANCEL__:!0}),nQ=t}function fQ(){return oQ||(oQ=1,rQ=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}),rQ}function mQ(){if(sQ)return aQ;sQ=1;var e=NI,t=HI(),n=zI(),i=kI,r=hQ,o=AQ(),a=pQ(),s=XI,c=xI(),l=gQ(),d=fQ();return aQ=function(u){return new Promise((function(h,A){var p,g=u.data,f=u.headers,m=u.responseType;function E(){u.cancelToken&&u.cancelToken.unsubscribe(p),u.signal&&u.signal.removeEventListener("abort",p)}e.isFormData(g)&&e.isStandardBrowserEnv()&&delete f["Content-Type"];var C=new XMLHttpRequest;if(u.auth){var I=u.auth.username||"",Q=u.auth.password?unescape(encodeURIComponent(u.auth.password)):"";f.Authorization="Basic "+btoa(I+":"+Q)}var U=r(u.baseURL,u.url);function y(){if(C){var e="getAllResponseHeaders"in C?o(C.getAllResponseHeaders()):null,n={data:m&&"text"!==m&&"json"!==m?C.response:C.responseText,status:C.status,statusText:C.statusText,headers:e,config:u,request:C};t((function(e){h(e),E()}),(function(e){A(e),E()}),n),C=null}}if(C.open(u.method.toUpperCase(),i(U,u.params,u.paramsSerializer),!0),C.timeout=u.timeout,"onloadend"in C?C.onloadend=y:C.onreadystatechange=function(){C&&4===C.readyState&&(0!==C.status||C.responseURL&&0===C.responseURL.indexOf("file:"))&&setTimeout(y)},C.onabort=function(){C&&(A(new c("Request aborted",c.ECONNABORTED,u,C)),C=null)},C.onerror=function(){A(new c("Network Error",c.ERR_NETWORK,u,C,C)),C=null},C.ontimeout=function(){var e=u.timeout?"timeout of "+u.timeout+"ms exceeded":"timeout exceeded",t=u.transitional||s;u.timeoutErrorMessage&&(e=u.timeoutErrorMessage),A(new c(e,t.clarifyTimeoutError?c.ETIMEDOUT:c.ECONNABORTED,u,C)),C=null},e.isStandardBrowserEnv()){var b=(u.withCredentials||a(U))&&u.xsrfCookieName?n.read(u.xsrfCookieName):void 0;b&&(f[u.xsrfHeaderName]=b)}"setRequestHeader"in C&&e.forEach(f,(function(e,t){void 0===g&&"content-type"===t.toLowerCase()?delete f[t]:C.setRequestHeader(t,e)})),e.isUndefined(u.withCredentials)||(C.withCredentials=!!u.withCredentials),m&&"json"!==m&&(C.responseType=u.responseType),"function"==typeof u.onDownloadProgress&&C.addEventListener("progress",u.onDownloadProgress),"function"==typeof u.onUploadProgress&&C.upload&&C.upload.addEventListener("progress",u.onUploadProgress),(u.cancelToken||u.signal)&&(p=function(e){C&&(A(!e||e&&e.type?new l:e),C.abort(),C=null)},u.cancelToken&&u.cancelToken.subscribe(p),u.signal&&(u.signal.aborted?p():u.signal.addEventListener("abort",p))),g||(g=null);var v=d(U);v&&-1===["http","https","file"].indexOf(v)?A(new c("Unsupported protocol "+v+":",c.ERR_BAD_REQUEST,u)):C.send(g)}))},aQ}var EQ=NI,CQ=function(e,t){JI.forEach(e,(function(n,i){i!==t&&i.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[i])}))},IQ=xI(),QQ=XI,UQ=KI(),yQ={"Content-Type":"application/x-www-form-urlencoded"};function bQ(e,t){!EQ.isUndefined(e)&&EQ.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var vQ,RQ={transitional:QQ,adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(vQ=mQ()),vQ),transformRequest:[function(e,t){if(CQ(t,"Accept"),CQ(t,"Content-Type"),EQ.isFormData(e)||EQ.isArrayBuffer(e)||EQ.isBuffer(e)||EQ.isStream(e)||EQ.isFile(e)||EQ.isBlob(e))return e;if(EQ.isArrayBufferView(e))return e.buffer;if(EQ.isURLSearchParams(e))return bQ(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();var n,i=EQ.isObject(e),r=t&&t["Content-Type"];if((n=EQ.isFileList(e))||i&&"multipart/form-data"===r){var o=this.env&&this.env.FormData;return UQ(n?{"files[]":e}:e,o&&new o)}return i||"application/json"===r?(bQ(t,"application/json"),function(e,t,n){if(EQ.isString(e))try{return(t||JSON.parse)(e),EQ.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||RQ.transitional,n=t&&t.silentJSONParsing,i=t&&t.forcedJSONParsing,r=!n&&"json"===this.responseType;if(r||i&&EQ.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(r){if("SyntaxError"===e.name)throw IQ.from(e,IQ.ERR_BAD_RESPONSE,this,null,this.response);throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:lQ?cQ:(lQ=1,cQ=null)},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};EQ.forEach(["delete","get","head"],(function(e){RQ.headers[e]={}})),EQ.forEach(["post","put","patch"],(function(e){RQ.headers[e]=EQ.merge(yQ)}));var SQ,FQ,BQ=RQ,TQ=NI,NQ=BQ;function _Q(){return FQ?SQ:(FQ=1,SQ=function(e){return!(!e||!e.__CANCEL__)})}var wQ=NI,kQ=function(e,t,n){var i=this||NQ;return TQ.forEach(n,(function(n){e=n.call(i,e,t)})),e},DQ=_Q(),VQ=BQ,ZQ=gQ();function WQ(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ZQ}var OQ,JQ,xQ=NI,MQ=function(e,t){t=t||{};var n={};function i(e,t){return xQ.isPlainObject(e)&&xQ.isPlainObject(t)?xQ.merge(e,t):xQ.isPlainObject(t)?xQ.merge({},t):xQ.isArray(t)?t.slice():t}function r(n){return xQ.isUndefined(t[n])?xQ.isUndefined(e[n])?void 0:i(void 0,e[n]):i(e[n],t[n])}function o(e){if(!xQ.isUndefined(t[e]))return i(void 0,t[e])}function a(n){return xQ.isUndefined(t[n])?xQ.isUndefined(e[n])?void 0:i(void 0,e[n]):i(void 0,t[n])}function s(n){return n in t?i(e[n],t[n]):n in e?i(void 0,e[n]):void 0}var c={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:s};return xQ.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=c[e]||r,i=t(e);xQ.isUndefined(i)&&t!==s||(n[e]=i)})),n};function LQ(){return JQ?OQ:(JQ=1,OQ={version:"0.27.2"})}var PQ=LQ().version,GQ=xI(),YQ={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){YQ[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var jQ={};YQ.transitional=function(e,t,n){function i(e,t){return"[Axios v"+PQ+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,o){if(!1===e)throw new GQ(i(r," has been removed"+(t?" in "+t:"")),GQ.ERR_DEPRECATED);return t&&!jQ[r]&&(jQ[r]=!0,console.warn(i(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,o)}};var XQ,KQ,HQ,zQ,qQ,$Q,eU={assertOptions:function(e,t,n){if("object"!=typeof e)throw new GQ("options must be an object",GQ.ERR_BAD_OPTION_VALUE);for(var i=Object.keys(e),r=i.length;r-- >0;){var o=i[r],a=t[o];if(a){var s=e[o],c=void 0===s||a(s,o,e);if(!0!==c)throw new GQ("option "+o+" must be "+c,GQ.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new GQ("Unknown option "+o,GQ.ERR_BAD_OPTION)}},validators:YQ},tU=NI,nU=kI,iU=OI,rU=function(e){return WQ(e),e.headers=e.headers||{},e.data=kQ.call(e,e.data,e.headers,e.transformRequest),e.headers=wQ.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),wQ.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||VQ.adapter)(e).then((function(t){return WQ(e),t.data=kQ.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return DQ(t)||(WQ(e),t&&t.response&&(t.response.data=kQ.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))},oU=MQ,aU=hQ,sU=eU,cU=sU.validators;function lU(e){this.defaults=e,this.interceptors={request:new iU,response:new iU}}lU.prototype.request=function(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},(t=oU(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n=t.transitional;void 0!==n&&sU.assertOptions(n,{silentJSONParsing:cU.transitional(cU.boolean),forcedJSONParsing:cU.transitional(cU.boolean),clarifyTimeoutError:cU.transitional(cU.boolean)},!1);var i=[],r=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(r=r&&e.synchronous,i.unshift(e.fulfilled,e.rejected))}));var o,a=[];if(this.interceptors.response.forEach((function(e){a.push(e.fulfilled,e.rejected)})),!r){var s=[rU,void 0];for(Array.prototype.unshift.apply(s,i),s=s.concat(a),o=Promise.resolve(t);s.length;)o=o.then(s.shift(),s.shift());return o}for(var c=t;i.length;){var l=i.shift(),d=i.shift();try{c=l(c)}catch(e){d(e);break}}try{o=rU(c)}catch(e){return Promise.reject(e)}for(;a.length;)o=o.then(a.shift(),a.shift());return o},lU.prototype.getUri=function(e){e=oU(this.defaults,e);var t=aU(e.baseURL,e.url);return nU(t,e.params,e.paramsSerializer)},tU.forEach(["delete","get","head","options"],(function(e){lU.prototype[e]=function(t,n){return this.request(oU(n||{},{method:e,url:t,data:(n||{}).data}))}})),tU.forEach(["post","put","patch"],(function(e){function t(t){return function(n,i,r){return this.request(oU(r||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:i}))}}lU.prototype[e]=t(),lU.prototype[e+"Form"]=t(!0)}));var dU=NI,uU=hI,hU=lU,AU=MQ,pU=function e(t){var n=new hU(t),i=uU(hU.prototype.request,n);return dU.extend(i,hU.prototype,n),dU.extend(i,n),i.create=function(n){return e(AU(t,n))},i}(BQ);pU.Axios=hU,pU.CanceledError=gQ(),pU.CancelToken=function(){if(KQ)return XQ;KQ=1;var e=gQ();function t(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var n;this.promise=new Promise((function(e){n=e}));var i=this;this.promise.then((function(e){if(i._listeners){var t,n=i._listeners.length;for(t=0;t<n;t++)i._listeners[t](e);i._listeners=null}})),this.promise.then=function(e){var t,n=new Promise((function(e){i.subscribe(e),t=e})).then(e);return n.cancel=function(){i.unsubscribe(t)},n},t((function(t){i.reason||(i.reason=new e(t),n(i.reason))}))}return t.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},t.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},t.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},t.source=function(){var e;return{token:new t((function(t){e=t})),cancel:e}},XQ=t}(),pU.isCancel=_Q(),pU.VERSION=LQ().version,pU.toFormData=KI(),pU.AxiosError=xI(),pU.Cancel=pU.CanceledError,pU.all=function(e){return Promise.all(e)},pU.spread=zQ?HQ:(zQ=1,HQ=function(e){return function(t){return e.apply(null,t)}}),pU.isAxiosError=function(){if($Q)return qQ;$Q=1;var e=NI;return qQ=function(t){return e.isObject(t)&&!0===t.isAxiosError}}(),uI.exports=pU,uI.exports.default=pU;var gU=i(uI.exports);function fU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function mU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fU(Object(n),!0).forEach((function(t){ih(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fU(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}let EU,CU=0,IU=0;function QU(e,t,n,i){return new tE(((r,o)=>{t.responseType=t.responseType||"json",t.data&&!n?(t.data=JSON.stringify(t.data),CU+=wC(t.data)):n&&(t.data.size?CU+=t.data.size:t.data instanceof FormData?CU+=kC(t.data):CU+=wC(JSON.stringify(t.data))),t.headers=t.headers||{},t.headers["Content-Type"]=t.headers["Content-Type"]||"application/json",t.method="POST",t.url=e,gU.request(t).then((e=>{"string"==typeof e.data?IU+=wC(e.data):e.data instanceof ArrayBuffer||e.data instanceof Uint8Array?IU+=e.data.byteLength:IU+=wC(JSON.stringify(e.data)),i&&r({data:e.data,headers:e.headers}),r(e.data)})).catch((e=>{gU.isCancel(e)?o(new WE(ZE.OPERATION_ABORTED,"cancel token canceled")):"ECONNABORTED"===e.code?o(new WE(ZE.NETWORK_TIMEOUT,e.message)):e.response?o(new WE(ZE.NETWORK_RESPONSE_ERROR,e.response.status)):o(new WE(ZE.NETWORK_ERROR,e.message))}))}))}async function UU(e,t){const n=new Blob([t.data],{type:"buffer"});return await QU(e,mU(mU({},t),{},{data:n,headers:{"Content-Type":"application/octet-stream"}}),!0)}const yU=()=>"HTTPS"===(EU||EU||(EU=(window.location.protocol.split(":")[0]||"").toUpperCase(),EU)),bU=()=>void 0!==window.isSecureContext,vU=function(e){if(e.match(/[0-9]+\.[0-9]+\.[0-9]+$/))return e;const t=e.match(/([0-9]+\.[0-9]+\.[0-9]+)\-alpha\.([0-9]+)/);if(t&&t[1]&&t[2]){const e=t[1],n=t[2];return"".concat(e,".").concat(n)}const n=e.match(/([0-9]+\.[0-9]+\.[0-9]+)\-special\.([0-9]+)/);if(n&&n[1]&&n[2]){const e=n[1],t=n[2];return"".concat(e,".").concat(100*(Number(t)+1))}return"4.0.0.999"}("4.20.0"),RU=function(){try{return!0===JSON.parse("true")}catch(e){return!0}}();var SU;!function(e){e.Default="default",e.Auto="auto",e.Relay="relay",e.SdRtn="sd-rtn"}(SU||(SU={}));const FU="v4.20.0-0-g334e514b-dirty(12/8/2023, 3:48:29 PM)",BU={PROCESS_ID:"",ENCRYPT_AES:!0,AREAS:["CHINA","GLOBAL"],WEBCS_DOMAIN:["webrtc2-ap-web-1.agora.io","webrtc2-2.ap.sd-rtn.com"],WEBCS_DOMAIN_BACKUP_LIST:["webrtc2-ap-web-3.agora.io","webrtc2-4.ap.sd-rtn.com"],PROXY_CS:["ap-proxy-1.agora.io","ap-proxy-2.agora.io"],CDS_AP:["cds-ap-web-1.agora.io","cds-web-2.ap.sd-rtn.com","cds-ap-web-3.agora.io","cds-web-4.ap.sd-rtn.com"],ACCOUNT_REGISTER:["sua-ap-web-1.agora.io","sua-web-2.ap.sd-rtn.com","sua-ap-web-3.agora.io","sua-web-4.ap.sd-rtn.com"],UAP_AP:["uap-ap-web-1.agora.io","uap-web-2.ap.sd-rtn.com","uap-ap-web-3.agora.io","uap-web-4.ap.sd-rtn.com"],LOG_UPLOAD_SERVER:"logservice.agora.io",EVENT_REPORT_DOMAIN:"statscollector-1.agora.io",EVENT_REPORT_BACKUP_DOMAIN:"web-2.statscollector.sd-rtn.com",ENABLE_EVENT_REPORT:!0,GATEWAY_ADDRESS:[],GATEWAY_WSS_ADDRESS:"",LIVE_STREAMING_ADDRESS:"",HTTP_CONNECT_TIMEOUT:5e3,SIGNAL_REQUEST_TIMEOUT:1e4,REPORT_STATS:!0,UPLOAD_LOG:!1,NOT_REPORT_EVENT:[],SUBSCRIBE_TWCC:!1,PUBLISH_TWCC:!1,PING_PONG_TIME_OUT:10,WEBSOCKET_TIMEOUT_MIN:1e4,EVENT_REPORT_SEND_INTERVAL:3e3,CONFIG_DISTRIBUTE_INTERVAL:3e5,ENABLE_CONFIG_DISTRIBUTE:!0,CANDIDATE_TIMEOUT:5e3,SHOW_REPORT_INVOKER_LOG:!1,JOIN_EXTEND:"",PUB_EXTEND:"",SUB_EXTEND:"",FORCE_TURN:!1,TURN_ENABLE_TCP:!0,TURN_ENABLE_UDP:!0,MAX_UPLOAD_CACHE:50,UPLOAD_CACHE_INTERVAL:2e3,AJAX_REQUEST_CONCURRENT:3,REPORT_APP_SCENARIO:void 0,GATEWAY_DOMAINS:["edge.agora.io","edge.sd-rtn.com"],CONNECT_GATEWAY_WITHOUT_DOMAIN:!1,WORKER_DOMAIN:"edge.agora.io",TURN_DOMAIN:"edge.agora.io",EVENT_REPORT_RETRY:!0,CHROME_FORCE_PLAN_B:!1,AUDIO_SOURCE_VOLUME_UPDATE_INTERVAL:400,AUDIO_SOURCE_AVG_VOLUME_DURATION:3e3,AUDIO_VOLUME_INDICATION_INTERVAL:2e3,VOLUME_VOICE_WEIGHT:10,GET_VOLUME_OF_MUTED_AUDIO_TRACK:!1,STATS_UPDATE_INTERVAL:250,NORMAL_EVENT_QUEUE_CAPACITY:100,CUSTOM_REPORT:!0,CUSTOM_REPORT_LIMIT:20,PROXY_SERVER_TYPE2:"webnginx-proxy.agora.io",PROXY_SERVER_TYPE3:["webrtc-cloud-proxy.sd-rtn.com","webrtc-cloud-proxy.agora.io"],CUSTOM_PUB_ANSWER_MODIFIER:null,CUSTOM_SUB_ANSWER_MODIFIER:null,CUSTOM_PUB_OFFER_MODIFIER:null,CUSTOM_SUB_OFFER_MODIFIER:null,DSCP_TYPE:"high",REMOVE_NEW_CODECS:!0,FRAGEMENT_LENGTH:3,WEBSOCKET_COMPRESS:!1,SIMULCAST:!1,PRELOAD_MEDIA_COUNT:0,USE_PUB_RTX:!1,USE_SUB_RTX:!1,CHECK_VIDEO_VISIBLE_INTERVAL:3e4,CHECK_LOCAL_STATS_INTERVAL:100,PROFILE_SWITCH_INTERVAL:2e3,UNSUPPORTED_VIDEO_CODEC:[],ENUMERATE_DEVICES_INTERVAL:!1,ENUMERATE_DEVICES_INTERVAL_TIME:1e4,USE_NEW_TOKEN:!1,CLOSE_AFB_FOR_LOCAL_AP:!0,JOIN_MAX_CONCURRENCY:6,JOIN_WITH_FALLBACK_SIGNAL_PROXY:!0,JOIN_WITH_FALLBACK_MEDIA_PROXY:!0,JOIN_WITH_FALLBACK_MEDIA_PROXY_FORCE:!1,JOIN_GATEWAY_TRY_443PORT_DURATION:2e3,JOIN_GATEWAY_USE_443PORT_ONLY:!1,JOIN_GATEWAY_USE_DUAL_DOMAIN:!0,JOIN_GATEWAY_FALLBACK_PORT:443,USE_TURN_SERVER_OF_GATEWAY:!1,H264_PROFILE_LEVEL_ID:"",USE_NEW_LOG:!1,LOG_VERSION:3,MEDIA_DEVICE_CONSTRAINTS:null,ENCRYPT_PROXY_USERNAME_AND_PSW:!0,SDP_LOGGING:!1,CSP_DETECTED_HOSTNAME_LIST:["agora.io","sd-rtn.com"],REMOTE_AUDIO_TRACK_USES_WEB_AUDIO:!1,LOCAL_AUDIO_TRACK_USES_WEB_AUDIO:!0,BITRATE_ADAPTER_TYPE:"STANDARD_BITRATE",AI_DENOISER_PARAMETERS:{},ADJUST_3A_FROM_PLUGINS:!0,RAISE_H264_BASELINE_PRIORITY:!0,FILTER_SEND_H264_BASELINE:!1,ENABLE_PUBLISHED_USER_LIST:!0,MAX_SUBSCRIPTION:50,X_GOOGLE_START_BITRATE:void 0,NEW_REPORT_SERVER:!1,NEW_REPORT_SERVER_DOMAINS:["data-reporting.agora.io","data-reporting.agora.io"],VIDEO_INSPECT_WORKER_MESSAGE_LENGTH_LIMIT:3e5,VIDEO_INSPECT_INTERVAL_MINIMUM:1e3,VIDEO_INSPECT_QUALITY_RATIO:.9,VIDEO_INSPECT_WORKER_MANAGER_HOST:"edge.agora.io",VIDEO_INSPECT_WORKER_MANAGER_PORT:"",VIDEO_INSPECT_WORKER_PORT:"",SHOW_VIDEO_INSPECT_WORKER_MESSAGE:!1,STATS_COLLECTOR_PORT:443,FORCE_TURN_TCP:!1,SUBSCRIBE_AUDIO_FILTER_TOPN:void 0,ENABLE_PUBLISH_AUDIO_FILTER:void 0,DISABLE_FEC:void 0,WEBAUDIO_INIT_OPTIONS:void 0,FILTER_VIDEO_FEC:!0,FILTER_AUDIO_FEC:!1,CHROME_DUAL_STREAM_USE_ENCODING:!0,DISABLE_DUAL_STREAM_USE_ENCODING:!1,EXTENSION_USAGE_UPLOAD_INTERVAL:1e4,ICE_RESTART:!0,ICE_RESTART_INTERVAL:1e4,NEW_ICE_RESTART:!1,ENABLE_USER_LICENSE_CHECK:!0,SIGNAL_CHANNEL:0,TRANSMITTER_INITIAL_RTT:30,TRANSMITTER_INITIAL_RTO:30,TRANSMITTER_MAX_BATCH_ACK_COUNT:2,TRANSMITTER_MAX_RTO:500,DATACHANNEL_COMPRESS:!1,FINGERPRINT:null,DC_JOIN_WITH_FAILBACK:5e3,ENABLE_VIDEO_FRAME_CALLBACK:!0,VIDEO_FREEZE_DURATION:500,SPATIALIZER_PARAMETERS:{},UPLOAD_LOG_INTERVAL:3e3,UPLOAD_LOG_REQUEST_RETRY_INTERVAL:2e3,UPLOAD_LOG_REQUEST_MAX_RETRY_INTERVAL:2e4,UPLOAD_LOG_TRY_INTERVAL_WHILE_OFF:5e3,UPLOAD_LOG_RETRY_INTERVAL_V1:1e4,UPLOAD_LOG_TWICE_RETRY_INTERVAL_V1:200,UPLOAD_LOG_LENGTH_EACH_TIME:10,APP_TYPE:0,DISABLE_WEBAUDIO:!1,CHANNEL_MEDIA_RELAY_SERVERS:void 0,KEEP_LAST_FRAME:!0,FORWARD_P2P_CREATION:!0,SYNC_GROUP:!0,BLOCK_LOCAL_CLIENT:!1,AP_AREA:!0,SVC:[],ENABLE_ENCODED_TRANSFORM:!1,IMAGE_MODERATION_WORKER_HOST:"edge.agora.io",IMAGE_MODERATION_WORKER_MESSAGE_LENGTH_LIMIT:3e5,IMAGE_MODERATION_INTERVAL_MINIMUM:1e3,SHOW_IMAGE_MODERATION_WORKER_MESSAGE:!1,IMAGE_MODERATION_QUALITY_RATIO:.9,IMAGE_MODERATION_UPLOAD_REPORT_INTERVAL:5e3,SHOW_GLOBAL_CLIENT_LIST:!1,ENABLE_DATASTREAM_2:!1,DATASTREAM_MAX_RETRANSMITS:10,ENABLE_USER_AUTO_REBALANCE_CHECK:!0,ENABLE_INSTANT_VIDEO:!1,ENABLE_NTP_REPORT:!1,USE_XR:!1,TCP_CANDIDATE_ONLY:!1,EXTERNAL_SIGNAL_REQUEST_TIMEOUT:3e3,SHOW_P2P_LOG:!1,MAX_P2P_TIMEOUT:3e4,P2P_TOKEN_INTERVAL:1e3,SHOW_DATASTREAM2_LOG:!1,RESTRICTION_SET_PLAYBACK_DEVICE:!0,ACCOUNT_REGISTER_RETRY_TIMEOUT:1,ACCOUNT_REGISTER_RETRY_RATIO:2,ACCOUNT_REGISTER_RETRY_TIMEOUT_MAX:6e4,ACCOUNT_REGISTER_RETRY_COUNT_MAX:1e5,AUDIO_CONTEXT:null,WEBCS_BACKUP_CONNECT_TIMEOUT:6e3,PLAYER_STATE_DEFER:2e3,SIGNAL_REQUEST_WATCH_INTERVAL:1e3,FILEPATH_LENMAX:255,DUALSTREAM_OPERATION_CHECK:!0,MEDIA_ELEMENT_EXISTS_DEPTH:3,SHIM_CANDIDATE:!1,LEAVE_MSG_TIMEOUT:2e3,STATS_FILTER:{transportId:!0,googTrackId:!0},FILTER_VIDEO_CODEC:[],PLUGIN_INFO:[]};function TU(e,t,n){var i,r;Fi(i=Object.keys(BU)).call(i,e)&&(!n&&Fi(r=Object.keys(_U)).call(r,e)||(BU[e]=t))}function NU(e){return BU[e]}const _U={};function wU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function kU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wU(Object(n),!0).forEach((function(t){ih(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wU(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var DU,VU,ZU;!function(e){e.SET_SESSION_ID="SET_SESSION_ID",e.SET_P2P_ID="SET_P2P_id",e.SET_DC_ID="SET_DC_id",e.SET_UID="SET_UID",e.SET_INT_UID="SET_INT_UID",e.SET_PUB_ID="SET_PUB_ID",e.SET_CLOUD_PROXY_SERVER_MODE="SET_CLOUD_PROXY_SERVER_MODE",e.KEY_METRIC_CLIENT_CREATED="KEY_METRIC_CLIENT_CREATED",e.KEY_METRIC_JOIN_START="KEY_METRIC_JOIN_START",e.AVOID_JOIN_START="AVOID_JOIN_START",e.KEY_METRIC_JOIN_END="KEY_METRIC_JOIN_END",e.KEY_METRIC_REQUEST_AP_START="KEY_METRIC_REQUEST_AP_START",e.KEY_METRIC_REQUEST_AP_END="KEY_METRIC_REQUEST_AP_END",e.KEY_METRIC_JOIN_GATEWAY_START="KEY_METRIC_JOIN_GATEWAY_START",e.KEY_METRIC_JOIN_GATEWAY_END="KEY_METRIC_JOIN_GATEWAY_END",e.KEY_METRIC_PEER_CONNECTION_START="KEY_METRIC_PEER_CONNECTION_START",e.KEY_METRIC_PEER_CONNECTION_END="KEY_METRIC_PEER_CONNECTION_END",e.KEY_METRIC_DESCRIPTION_START="KEY_METRIC_DESCRIPTION_START",e.KEY_METRIC_ICE_CONNECTION_END="KEY_METRIC_ICE_CONNECTION_END",e.KEY_METRIC_SIGNAL_CHANNEL_OPEN="KEY_METRIC_SIGNAL_CHANNEL_OPEN",e.KEY_METRIC_PUBLISH="KEY_METRIC_PUBLISH",e.KEY_METRIC_SUBSCRIBE="KEY_METRIC_SUBSCRIBE",e.RECORD_JOIN_CHANNEL_SERVICE="RECORD_JOIN_CHANNEL_SERVICE",e.RESET_JOIN_CHANNEL_SERVICE_RECORDS="RESET_JOIN_CHANNEL_SERVICE_RECORDS",e.RESET_KEY_METRICS="RESET_KEY_METRICS",e.SET_USE_DATACHANNEL="SET_USE_DATACHANNEL",e.SET_USE_P2P="SET_USE_P2P",e.SET_TRANSPORT_TYPE="SET_TRANSPORT_TYPE"}(DU||(DU={}));class WU{constructor(e,t,n,i){ih(this,"state",void 0),this.state={codec:e,audioCodec:t,mode:n,clientId:i,sessionId:null,p2pId:0,dcId:0,pubId:0,subId:0,avoidJoinStart:0,keyMetrics:{publish:[],subscribe:[]},joinChannelServiceRecords:[],cloudProxyServerMode:"disabled",useDataChannel:!1,useP2P:!1,p2pTransport:SU.Default}}dispatch(e){this.state=function(e,t){switch(t.type){case DU.SET_SESSION_ID:return kU(kU({},e),{},{sessionId:t.sessionId});case DU.SET_P2P_ID:return kU(kU({},e),{},{p2pId:t.p2pId});case DU.SET_UID:return kU(kU({},e),{},{uid:t.uid});case DU.SET_INT_UID:return kU(kU({},e),{},{intUid:t.intUid});case DU.SET_PUB_ID:return kU(kU({},e),{},{pubId:t.pubId});case DU.KEY_METRIC_CLIENT_CREATED:return kU(kU({},e),{},{keyMetrics:kU(kU({},e.keyMetrics),{},{clientCreated:t.metric})});case DU.KEY_METRIC_JOIN_START:return kU(kU({},e),{},{keyMetrics:kU(kU({},e.keyMetrics),{},{joinStart:t.metric})});case DU.AVOID_JOIN_START:return kU(kU({},e),{},{avoidJoinStart:t.avoidJoinStart});case DU.KEY_METRIC_JOIN_END:return kU(kU({},e),{},{keyMetrics:kU(kU({},e.keyMetrics),{},{joinEnd:t.metric})});case DU.KEY_METRIC_REQUEST_AP_START:return kU(kU({},e),{},{keyMetrics:kU(kU({},e.keyMetrics),{},{requestAPStart:t.metric})});case DU.KEY_METRIC_REQUEST_AP_END:return kU(kU({},e),{},{keyMetrics:kU(kU({},e.keyMetrics),{},{requestAPEnd:t.metric})});case DU.KEY_METRIC_JOIN_GATEWAY_START:return kU(kU({},e),{},{keyMetrics:kU(kU({},e.keyMetrics),{},{joinGatewayStart:t.metric})});case DU.KEY_METRIC_JOIN_GATEWAY_END:return kU(kU({},e),{},{keyMetrics:kU(kU({},e.keyMetrics),{},{joinGatewayEnd:t.metric})});case DU.KEY_METRIC_PEER_CONNECTION_START:return kU(kU({},e),{},{keyMetrics:kU(kU({},e.keyMetrics),{},{peerConnectionStart:t.metric})});case DU.KEY_METRIC_PEER_CONNECTION_END:return kU(kU({},e),{},{keyMetrics:kU(kU({},e.keyMetrics),{},{peerConnectionEnd:t.metric})});case DU.KEY_METRIC_DESCRIPTION_START:return kU(kU({},e),{},{keyMetrics:kU(kU({},e.keyMetrics),{},{descriptionStart:t.metric})});case DU.KEY_METRIC_SIGNAL_CHANNEL_OPEN:return kU(kU({},e),{},{keyMetrics:kU(kU({},e.keyMetrics),{},{signalChannelOpen:t.metric})});case DU.KEY_METRIC_ICE_CONNECTION_END:return kU(kU({},e),{},{keyMetrics:kU(kU({},e.keyMetrics),{},{iceConnectionEnd:t.metric})});case DU.KEY_METRIC_PUBLISH:{const n=e.keyMetrics.publish,i=n.findIndex((e=>e.trackId===t.metric.trackId));return-1!==i?(n[i]=kU(kU({},n[i]),t.metric),kU(kU({},e),{},{keyMetrics:kU(kU({},e.keyMetrics),{},{publish:[...n]})})):kU(kU({},e),{},{keyMetrics:kU(kU({},e.keyMetrics),{},{publish:[...e.keyMetrics.publish,t.metric]})})}case DU.KEY_METRIC_SUBSCRIBE:{const n=e.keyMetrics.subscribe,i=n.findIndex((e=>e.userId===t.metric.userId&&e.type===t.metric.type));return-1!==i?(n[i]=kU(kU({},n[i]),t.metric),kU(kU({},e),{},{keyMetrics:kU(kU({},e.keyMetrics),{},{subscribe:[...n]})})):kU(kU({},e),{},{keyMetrics:kU(kU({},e.keyMetrics),{},{subscribe:[...e.keyMetrics.subscribe,t.metric]})})}case DU.SET_CLOUD_PROXY_SERVER_MODE:return e.cloudProxyServerMode=t.mode,e;case DU.RECORD_JOIN_CHANNEL_SERVICE:return"number"!=typeof t.index?e.joinChannelServiceRecords=[...e.joinChannelServiceRecords,t.record]:(e.joinChannelServiceRecords[t.index]=kU(kU({},e.joinChannelServiceRecords[t.index]),t.record),e.joinChannelServiceRecords=[...e.joinChannelServiceRecords]),e;case DU.RESET_JOIN_CHANNEL_SERVICE_RECORDS:return e.joinChannelServiceRecords=[],e;case DU.RESET_KEY_METRICS:return e.keyMetrics={publish:[],subscribe:[]},e;case DU.SET_USE_DATACHANNEL:return kU(kU({},e),{},{useDataChannel:t.val});case DU.SET_USE_P2P:return kU(kU({},e),{},{useP2P:t.val});case DU.SET_TRANSPORT_TYPE:return kU(kU({},e),{},{p2pTransport:t.val});default:return e}}(this.state,e)}set sessionId(e){this.dispatch({type:DU.SET_SESSION_ID,sessionId:e})}get sessionId(){return this.state.sessionId}set codec(e){this.state.codec=e}get codec(){return this.state.codec}get mode(){return this.state.mode}get audioCodec(){return this.state.audioCodec}get clientId(){return this.state.clientId}set p2pId(e){this.dispatch({type:DU.SET_P2P_ID,p2pId:e})}get p2pId(){return this.state.p2pId}set dcId(e){this.dispatch({type:DU.SET_DC_ID,dcId:e})}get dcId(){return this.state.dcId}set uid(e){this.dispatch({type:DU.SET_UID,uid:e})}get uid(){return this.state.uid}set intUid(e){this.dispatch({type:DU.SET_INT_UID,intUid:e})}get intUid(){return this.state.intUid}set pubId(e){this.dispatch({type:DU.SET_PUB_ID,pubId:e})}get pubId(){return this.state.pubId}set cloudProxyServerMode(e){this.dispatch({type:DU.SET_CLOUD_PROXY_SERVER_MODE,mode:e})}get cloudProxyServerMode(){return this.state.cloudProxyServerMode}set useDataChannel(e){this.dispatch({type:DU.SET_USE_DATACHANNEL,val:e})}get useDataChannel(){return this.state.useDataChannel}set useP2P(e){this.dispatch({type:DU.SET_USE_P2P,val:e})}get useP2P(){return this.state.useP2P}set p2pTransport(e){this.dispatch({type:DU.SET_TRANSPORT_TYPE,val:e})}get p2pTransport(){return this.state.p2pTransport}clientCreated(){this.dispatch({type:DU.KEY_METRIC_CLIENT_CREATED,metric:Date.now()})}joinStart(){this.dispatch({type:DU.KEY_METRIC_JOIN_START,metric:Date.now()})}joinEnd(){this.dispatch({type:DU.KEY_METRIC_JOIN_END,metric:Date.now()})}requestAPStart(){this.dispatch({type:DU.KEY_METRIC_REQUEST_AP_START,metric:Date.now()})}requestAPEnd(){this.dispatch({type:DU.KEY_METRIC_REQUEST_AP_END,metric:Date.now()})}joinGatewayStart(){this.dispatch({type:DU.KEY_METRIC_JOIN_GATEWAY_START,metric:Date.now()})}joinGatewayEnd(){this.dispatch({type:DU.KEY_METRIC_JOIN_GATEWAY_END,metric:Date.now()})}peerConnectionStart(){this.dispatch({type:DU.KEY_METRIC_PEER_CONNECTION_START,metric:Date.now()})}peerConnectionEnd(){this.dispatch({type:DU.KEY_METRIC_PEER_CONNECTION_END,metric:Date.now()})}descriptionStart(){this.dispatch({type:DU.KEY_METRIC_DESCRIPTION_START,metric:Date.now()})}signalChannelOpen(){this.dispatch({type:DU.KEY_METRIC_SIGNAL_CHANNEL_OPEN,metric:Date.now()})}iceConnectionEnd(){this.dispatch({type:DU.KEY_METRIC_ICE_CONNECTION_END,metric:Date.now()})}publish(e,t,n,i){this.dispatch({type:DU.KEY_METRIC_PUBLISH,metric:kU(kU({trackId:e,type:t},n&&{publishStart:n}),i&&{publishEnd:i})})}subscribe(e,t,n,i,r,o,a){this.dispatch({type:DU.KEY_METRIC_SUBSCRIBE,metric:kU(kU(kU(kU(kU({userId:e,type:t},n&&{subscribeStart:n}),i&&{subscribeEnd:i}),r&&{firstFrame:r}),o&&{streamAdded:o}),a&&{firstDecoded:a})})}massSubscribe(e,t,n,i){e.forEach((e=>{this.dispatch({type:DU.KEY_METRIC_SUBSCRIBE,metric:kU(kU(kU({userId:e.userId,type:e.type},t&&{subscribeStart:t}),n&&{subscribeEnd:n}),i&&{firstFrame:i})})}))}get keyMetrics(){return this.state.keyMetrics}recordJoinChannelService(e,t){"gateway"===e.service&&Array.isArray(e.urls)&&(e.urls=e.urls.map((e=>e.replace(/(\d+)-\d+-\d+-(\d+)/,"$1-*-*-$2"))));try{return"number"!=typeof t?(this.dispatch({type:DU.RECORD_JOIN_CHANNEL_SERVICE,record:kU(kU({},e),{},{sessionId:this.sessionId,cloudProxyMode:this.cloudProxyServerMode,uid:this.uid})}),this.state.joinChannelServiceRecords.length-1):(t<0||t>=this.state.joinChannelServiceRecords.length||this.dispatch({type:DU.RECORD_JOIN_CHANNEL_SERVICE,record:e,index:t}),t)}catch(e){return 0}}resetJoinChannelServiceRecords(){this.dispatch({type:DU.RESET_JOIN_CHANNEL_SERVICE_RECORDS})}resetKeyMetrics(){this.dispatch({type:DU.RESET_KEY_METRICS})}get joinChannelServiceRecords(){try{return this.state.joinChannelServiceRecords}catch(e){return[]}}get avoidJoinStart(){return this.state.avoidJoinStart}set avoidJoinStart(e){this.dispatch({type:DU.AVOID_JOIN_START,avoidJoinStart:e})}}!function(e){e.h264="h264",e.h265="h265",e.vp8="vp8",e.vp9="vp9",e.av1="av1"}(VU||(VU={})),function(e){e.opus="opus",e.pcma="pcma",e.pcmu="pcmu",e.g722="g722"}(ZU||(ZU={}));const OU=new class extends nC{reportLogUploadError(e){this.emit("REPORT_LOG_UPLOAD",e)}};class JU{constructor(e){ih(this,"logger",void 0),ih(this,"prefixLists",[]),this.logger=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logger.debug(...this.prefixLists,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logger.info(...this.prefixLists,...t)}warning(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logger.warning(...this.prefixLists,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logger.error(...this.prefixLists,...t)}prefix(e){return this.prefixLists.push(e),this}popPrefix(){return this.prefixLists.pop(),this}}function xU(){const e=new Date;return e.toTimeString().split(" ")[0]+":"+e.getMilliseconds()}function MU(){const e=new Date,t=/((\d+:){2}\d+)/.exec((new Date).toUTCString());return t?(null==t?void 0:t[0])+":"+e.getUTCMilliseconds():e.toTimeString().split(" ")[0]+":"+e.getMilliseconds()}const LU={DEBUG:0,INFO:1,WARNING:2,ERROR:3,NONE:4},PU=Date.now(),GU=e=>{for(const t in LU)if(Object.prototype.hasOwnProperty.call(LU,t)&&LU[t]===e)return t;return"DEFAULT"},YU=new class{constructor(){ih(this,"proxyServerURL",void 0),ih(this,"logLevel",LU.DEBUG),ih(this,"uploadState","collecting"),ih(this,"uploadLogWaitingList",[]),ih(this,"uploadLogUploadingList",[]),ih(this,"uploadErrorCount",0),ih(this,"currentLogID",0),ih(this,"url",void 0),ih(this,"extLog",((e,t)=>{this.appendLogToWaitingList(e,...t)}))}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const i=[LU.DEBUG].concat(t);this.log.apply(this,i)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const i=[LU.INFO].concat(t);this.log.apply(this,i)}warning(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const i=[LU.WARNING].concat(t);this.log.apply(this,i)}warn(){this.warning(...arguments)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const i=[LU.ERROR].concat(t);this.log.apply(this,i)}upload(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const i=[LU.DEBUG].concat(t);this.uploadLog.apply(this,i)}setLogLevel(e){e=Math.min(Math.max(0,e),4),this.logLevel=e}enableLogUpload(){TU("UPLOAD_LOG",!0)}disableLogUpload(){TU("UPLOAD_LOG",!1),this.uploadLogUploadingList=[],this.uploadLogWaitingList=[]}setProxyServer(e){this.proxyServerURL=e}prefix(e){return new JU(this).prefix(e)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(Date.now()-PU<100)return void setTimeout((()=>{this.log(...t)}),Date.now()-PU);const i=Math.max(0,Math.min(4,t[0]));if(t[0]=xU()+" Agora-SDK [".concat(GU(i),"]:"),this.appendLogToWaitingList(i,...t),i<this.logLevel)return;const r=xU()+" %cAgora-SDK [".concat(GU(i),"]:");let o=[];if(!NU("USE_NEW_LOG"))switch(i){case LU.DEBUG:o=[r,"color: #64B5F6;"].concat(t.slice(1)),console.log.apply(console,o);break;case LU.INFO:o=[r,"color: #1E88E5; font-weight: bold;"].concat(t.slice(1)),console.log.apply(console,o);break;case LU.WARNING:o=[r,"color: #FB8C00; font-weight: bold;"].concat(t.slice(1)),console.warn.apply(console,o);break;case LU.ERROR:o=[r,"color: #B00020; font-weight: bold;"].concat(t.slice(1)),console.error.apply(console,o)}}uploadLog(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(Date.now()-PU<100)return void setTimeout((()=>{this.uploadLog(...t)}),Date.now()-PU);const i=Math.max(0,Math.min(4,t[0]));t[0]=xU()+" Agora-SDK [".concat(GU(i),"]:"),this.appendLogToWaitingList(i,...t)}appendLogToWaitingList(e){if(!NU("UPLOAD_LOG"))return;for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];Array.isArray(n[0])?n[0][0]=MU()+" Agora-SDK [".concat(GU(e),"]:"):n[0]=MU()+" Agora-SDK [".concat(GU(e),"]:");let r="";n.forEach((e=>{"object"==typeof e&&(e=JSON.stringify(e)),r+="".concat(e," ")})),this.uploadLogWaitingList.push({payload_str:r,log_level:e,log_item_id:this.currentLogID++}),"uploading"===this.uploadState&&0===this.uploadLogUploadingList.length&&this.uploadLogInterval()}startUpload(){this.uploadState="uploading",0===this.uploadLogUploadingList.length&&this.uploadLogInterval()}async uploadLogs(){const e=this.uploadLogUploadingList,t={sdk_version:vU,process_id:NU("PROCESS_ID"),payload:JSON.stringify(e)};return HC((async()=>{const e=await gU.post(this.url||(this.proxyServerURL?"https://".concat(this.proxyServerURL,"/ls/?h=").concat(NU("LOG_UPLOAD_SERVER"),"&p=443&d=upload/v1"):"https://".concat(NU("LOG_UPLOAD_SERVER"),"/upload/v1")),t,{responseType:"text"});if("OK"!==e.data){const t=new Error("unexpected upload log response");throw t.response=e,t}}),(()=>(this.uploadLogUploadingList=[],!1)),(e=>(e.response?OU.reportLogUploadError({status:e.response.status,data:e.response.data,headers:e.response.headers,message:e.message}):e.request?OU.reportLogUploadError({status:e.request.status,message:e.message}):OU.reportLogUploadError({status:-1,message:e.message}),!0)),{timeout:NU("UPLOAD_LOG_REQUEST_RETRY_INTERVAL"),maxRetryTimeout:NU("UPLOAD_LOG_REQUEST_MAX_RETRY_INTERVAL")})}uploadLogInterval(){0===this.uploadLogUploadingList.length&&0===this.uploadLogWaitingList.length||(0===this.uploadLogUploadingList.length&&(this.uploadLogUploadingList=this.uploadLogWaitingList.splice(0,NU("UPLOAD_LOG_LENGTH_EACH_TIME"))),this.uploadLogs().then((()=>{this.uploadErrorCount=0,this.uploadLogWaitingList.length>0&&window.setTimeout((()=>this.uploadLogInterval()),NU("UPLOAD_LOG_INTERVAL"))})).catch((e=>{this.uploadErrorCount+=1,this.uploadErrorCount<2?window.setTimeout((()=>this.uploadLogInterval()),NU("UPLOAD_LOG_TWICE_RETRY_INTERVAL_V1")):window.setTimeout((()=>this.uploadLogInterval()),NU("UPLOAD_LOG_RETRY_INTERVAL_V1"))})))}};var jU,XU;function KU(e){return LE(e.reportId,"params.reportId",0,100,!1),LE(e.category,"params.category",0,100,!1),LE(e.event,"params.event",0,100,!1),LE(e.label,"params.label",0,100,!1),xE(e.value,"params.value",Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,!1),!0}!function(e){e.FREE="free",e.UPLOADING="uploading"}(jU||(jU={})),function(e){e[e.MISC=0]="MISC",e[e.INTERNAL_EVENT=1]="INTERNAL_EVENT",e[e.PUBLIC_EVENT=2]="PUBLIC_EVENT",e[e.WEB_EVENT=3]="WEB_EVENT",e[e.INTERNAL_API=4]="INTERNAL_API",e[e.WEB_API=5]="WEB_API",e[e.PUBLIC_API=6]="PUBLIC_API"}(XU||(XU={}));const HU={sid:"",lts:0,success:null,cname:null,uid:null,peer:null,cid:null,elapse:null,extend:null,vid:0};var zU,qU,$U,ey;function ty(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ny(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ty(Object(n),!0).forEach((function(t){ih(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ty(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(e){e.PUBLISH="publish",e.SUBSCRIBE="subscribe",e.WS_COMPRESSOR_INIT="ws_compressor_init",e.SESSION_INIT="session_init",e.JOIN_CHOOSE_SERVER="join_choose_server",e.REQ_USER_ACCOUNT="req_user_account",e.JOIN_GATEWAY="join_gateway",e.REJOIN_GATEWAY="rejoin_gateway",e.STREAM_SWITCH="stream_switch",e.REQUEST_PROXY_WORKER_MANAGER="request_proxy_worker_manager",e.REQUEST_PROXY_APPCENTER="request_proxy_appcenter",e.FIRST_VIDEO_RECEIVED="first_video_received",e.FIRST_AUDIO_RECEIVED="first_audio_received",e.FIRST_VIDEO_DECODE="first_video_decode",e.FIRST_AUDIO_DECODE="first_audio_decode",e.ON_ADD_AUDIO_STREAM="on_add_audio_stream",e.ON_ADD_VIDEO_STREAM="on_add_video_stream",e.ON_UPDATE_STREAM="on_update_stream",e.ON_REMOVE_STREAM="on_remove_stream",e.USER_ANALYTICS="req_user_analytics",e.PC_STATS="pc_stats",e.UPDATE_REMOTE_RTPCAPABILITIES="update_remote_rtpCapabilities"}(zU||(zU={})),function(e){e.SESSION="io.agora.pb.Wrtc.Session",e.JOIN_CHOOSE_SERVER="io.agora.pb.Wrtc.JoinChooseServer",e.REQ_USER_ACCOUNT="io.agora.pb.Wrtc.ReqUserAccount",e.JOIN_GATEWAY="io.agora.pb.Wrtc.JoinGateway",e.RE_JOIN_GATEWAY="io.agora.pb.Wrtc.ReJoinGateway",e.PUBLISH="io.agora.pb.Wrtc.Publish",e.SUBSCRIBE="io.agora.pb.Wrtc.Subscribe",e.WS_COMPRESSOR_INIT="io.agora.pb.Wrtc.WsCompressorInit",e.STREAM_SWITCH="io.agora.pb.Wrtc.StreamSwitch",e.AUDIO_SENDING_STOPPED="io.agora.pb.Wrtc.AudioSendingStopped",e.VIDEO_SENDING_STOPPED="io.agora.pb.Wrtc.VideoSendingStopped",e.REQUEST_PROXY_APPCENTER="io.agora.pb.Wrtc.RequestProxyAppCenter",e.REQUEST_PROXY_WORKER_MANAGER="io.agora.pb.Wrtc.RequestProxyWorkerManager",e.API_INVOKE="io.agora.pb.Wrtc.ApiInvoke",e.FIRST_VIDEO_RECEIVED="io.agora.pb.Wrtc.FirstVideoReceived",e.FIRST_AUDIO_RECEIVED="io.agora.pb.Wrtc.FirstAudioReceived",e.FIRST_VIDEO_DECODE="io.agora.pb.Wrtc.FirstVideoDecode",e.FIRST_AUDIO_DECODE="io.agora.pb.Wrtc.FirstAudioDecode",e.ON_ADD_AUDIO_STREAM="io.agora.pb.Wrtc.OnAddAudioStream",e.ON_ADD_VIDEO_STREAM="io.agora.pb.Wrtc.OnAddVideoStream",e.ON_UPDATE_STREAM="io.agora.pb.Wrtc.OnUpdateStream",e.ON_REMOVE_STREAM="io.agora.pb.Wrtc.OnRemoveStream",e.JOIN_CHANNEL_TIMEOUT="io.agora.pb.Wrtc.JoinChannelTimeout",e.PEER_PUBLISH_STATUS="io.agora.pb.Wrtc.PeerPublishStatus",e.WORKER_EVENT="io.agora.pb.Wrtc.WorkerEvent",e.AP_WORKER_EVENT="io.agora.pb.Wrtc.APWorkerEvent",e.JOIN_WEB_PROXY_AP="io.agora.pb.Wrtc.JoinWebProxyAP",e.WEBSOCKET_QUIT="io.agora.pb.Wrtc.WebSocketQuit",e.USER_ANALYTICS="io.agora.pb.Wrtc.UserAnalytics",e.AUTOPLAY_FAILED="io.agora.pb.Wrtc.AutoplayFailed",e.PC_STATS="io.agora.pb.Wrtc.PCStats",e.UPDATE_REMOTE_RTPCAPABILITIES="io.agora.pb.Wrtc.UpdateRemoteRTPCapabilities"}(qU||(qU={})),function(e){e[e.WORKER_EVENT=156]="WORKER_EVENT",e[e.AP_WORKER_EVENT=160]="AP_WORKER_EVENT"}($U||($U={})),function(e){e[e.SESSION=26]="SESSION",e[e.JOIN_CHOOSE_SERVER=27]="JOIN_CHOOSE_SERVER",e[e.REQ_USER_ACCOUNT=196]="REQ_USER_ACCOUNT",e[e.JOIN_GATEWAY=28]="JOIN_GATEWAY",e[e.PUBLISH=30]="PUBLISH",e[e.SUBSCRIBE=29]="SUBSCRIBE",e[e.WS_COMPRESSOR_INIT=9430]="WS_COMPRESSOR_INIT",e[e.STREAM_SWITCH=32]="STREAM_SWITCH",e[e.AUDIO_SENDING_STOPPED=33]="AUDIO_SENDING_STOPPED",e[e.VIDEO_SENDING_STOPPED=34]="VIDEO_SENDING_STOPPED",e[e.REQUEST_PROXY_APPCENTER=35]="REQUEST_PROXY_APPCENTER",e[e.REQUEST_PROXY_WORKER_MANAGER=36]="REQUEST_PROXY_WORKER_MANAGER",e[e.API_INVOKE=41]="API_INVOKE",e[e.FIRST_VIDEO_RECEIVED=348]="FIRST_VIDEO_RECEIVED",e[e.FIRST_AUDIO_RECEIVED=349]="FIRST_AUDIO_RECEIVED",e[e.FIRST_VIDEO_DECODE=350]="FIRST_VIDEO_DECODE",e[e.FIRST_AUDIO_DECODE=351]="FIRST_AUDIO_DECODE",e[e.ON_ADD_AUDIO_STREAM=352]="ON_ADD_AUDIO_STREAM",e[e.ON_ADD_VIDEO_STREAM=353]="ON_ADD_VIDEO_STREAM",e[e.ON_UPDATE_STREAM=356]="ON_UPDATE_STREAM",e[e.ON_REMOVE_STREAM=355]="ON_REMOVE_STREAM",e[e.JOIN_CHANNEL_TIMEOUT=407]="JOIN_CHANNEL_TIMEOUT",e[e.PEER_PUBLISH_STATUS=408]="PEER_PUBLISH_STATUS",e[e.WORKER_EVENT=156]="WORKER_EVENT",e[e.AP_WORKER_EVENT=160]="AP_WORKER_EVENT",e[e.JOIN_WEB_PROXY_AP=700]="JOIN_WEB_PROXY_AP",e[e.WEBSOCKET_QUIT=671]="WEBSOCKET_QUIT",e[e.USER_ANALYTICS=1e4]="USER_ANALYTICS",e[e.AUTOPLAY_FAILED=9178]="AUTOPLAY_FAILED"}(ey||(ey={}));class iy{constructor(){ih(this,"baseInfoMap",new Map),ih(this,"proxyServer",void 0),ih(this,"eventUploadTimer",void 0),ih(this,"setSessionIdTimer",void 0),ih(this,"url",void 0),ih(this,"backupUrl",void 0),ih(this,"_appId",void 0),ih(this,"keyEventUploadPendingItems",[]),ih(this,"normalEventUploadPendingItems",[]),ih(this,"apiInvokeUploadPendingItems",[]),ih(this,"apiInvokeCount",0),ih(this,"ltsList",[]),ih(this,"lastSendNormalEventTime",Date.now()),ih(this,"customReportCounterTimer",void 0),ih(this,"customReportCount",0),ih(this,"extApiInvoke",(async e=>{for(const t of e){const e=ny(ny({},t),{},{sid:null,invokeId:++this.apiInvokeCount,tag:aC.TRACER});this.sendApiInvoke(e)}})),this.eventUploadTimer=window.setInterval(this.doSend.bind(this),NU("EVENT_REPORT_SEND_INTERVAL")),this.setSessionIdTimer=window.setInterval(this.appendSessionId.bind(this),NU("EVENT_REPORT_SEND_INTERVAL"))}getBaseInfoBySessionId(e){return this.baseInfoMap.get(e)}adjustSessionStartTime(e){if(!this.baseInfoMap.has(e)&&!this.baseInfoMap.get(e))return void YU.error("adjust session ".concat(e," start time, sid is not exist or info is undefined"));const t=this.baseInfoMap.get(e),n=Date.now(),i=t.startTime;t.startTime=n,YU.debug("rewrite session ".concat(e," startTime: ").concat(n," , ").concat(n-i,"ms")),this.baseInfoMap.set(e,t)}setAppId(e){this._appId=e}reportApiInvoke(e,t,n){t.timeout=t.timeout||6e4,t.reportResult=void 0===t.reportResult||t.reportResult;const i=Date.now();this.apiInvokeCount+=1;const r=this.apiInvokeCount,o=()=>({tag:t.tag,invokeId:r,sid:e,name:t.name,apiInvokeTime:i,options:t.options,states:t.states||null}),a=!!NU("SHOW_REPORT_INVOKER_LOG");a&&YU.info("".concat(t.name," start"),t.options);let s=!1;VC(t.timeout).then((()=>{s||(this.sendApiInvoke(ny(ny({},o()),{},{error:ZE.API_INVOKE_TIMEOUT,success:!1})),YU.debug("".concat(t.name," timeout")))}));const c=new WE(ZE.UNEXPECTED_ERROR,"".concat(t.name,": this api invoke is end"));return{onSuccess:e=>{const i=()=>{if(s)throw c;return s=!0,this.sendApiInvoke(ny(ny({},o()),{},{success:!0},t.reportResult&&{result:e})),a&&YU.info("".concat(t.name," onSuccess")),e};return n?xC(i,t.name+"Success",n,(()=>s=!0)):i()},onError:e=>{const i=()=>{if(s)throw e;s=!0,this.sendApiInvoke(ny(ny({},o()),{},{success:!1,error:e})),a&&YU.info("".concat(t.name," onFailure"),e.toString())};return n?xC(i,t.name+"Error",n,(()=>s=!0)):i()}}}sessionInit(e,t){if(this.baseInfoMap.has(e))return;const n=Date.now(),i=this.createBaseInfo(e,n);i.cname=t.cname;const r=Object.assign({},{willUploadConsoleLog:NU("UPLOAD_LOG"),maxTouchPoints:navigator.maxTouchPoints,areaVersion:RU?"global":"oversea",areas:NU("AREAS")&&NU("AREAS").join(",")},t.extend),{stringUid:o,channelProfile:a,channelMode:s,isABTestSuccess:c,lsid:l,clientRole:d}=t,u=Date.now(),h=ny(ny({},i),{},{eventType:zU.SESSION_INIT,appid:t.appid,browser:navigator.userAgent,build:FU,lts:u,elapse:u-n,extend:JSON.stringify(r),mode:t.mode,process:NU("PROCESS_ID"),appType:NU("APP_TYPE"),success:!0,version:vU,stringUid:o,channelProfile:a,channelMode:s,isABTestSuccess:c,lsid:l,clientType:20,clientRole:d,serviceId:NU("PROCESS_ID"),extensionID:NU("PLUGIN_INFO").join(",")||""});this.send({type:qU.SESSION,data:h},!0)}joinChooseServer(e,t){const n=this.baseInfoMap.get(e);if(!n)return;const i=n.info,r=Date.now(),o=ny(ny({},i),{},{eventType:zU.JOIN_CHOOSE_SERVER,lts:r,eventElapse:r-t.lts,chooseServerAddr:t.csAddr,errorCode:t.ec,elapse:r-n.startTime,success:t.succ,chooseServerAddrList:JSON.stringify(t.serverList),uid:t.uid?parseInt(t.uid):null,cid:t.cid?parseInt(t.cid):null,chooseServerIp:t.csIp||"",opid:t.opid,unilbsServerIds:t.unilbsServerIds,extend:t.extend||void 0,isHttp3:t.isHttp3});this.send({type:qU.JOIN_CHOOSE_SERVER,data:o},!0)}reqUserAccount(e,t){const n=this.baseInfoMap.get(e);if(!n)return;const i=n.info,r=Date.now(),o=ny(ny({},i),{},{eventType:zU.REQ_USER_ACCOUNT,lts:r,success:t.success,serverAddress:t.serverAddr,stringUid:t.stringUid,uid:t.uid,errorCode:t.errorCode,elapse:r-n.startTime,eventElapse:r-t.lts,extend:JSON.stringify(t.extend)});this.send({type:qU.REQ_USER_ACCOUNT,data:o},!0)}joinGateway(e,t){const n=this.baseInfoMap.get(e);if(!n)return;const i=n.info;t.vid&&(i.vid=t.vid),i.uid=t.uid,i.cid=t.cid;const r=Date.now(),{firstSuccess:o,avoidJoinStartTime:a,isProxy:s,addr:c}=t,l=r-(o&&a?a:n.startTime),d=ny(ny({},i),{},{eventType:zU.JOIN_GATEWAY,lts:r,gatewayAddr:t.addr,success:t.succ,errorCode:t.ec,elapse:l,eventElapse:r-t.lts,firstSuccess:o,signalChannel:t.signalChannel}),u=d.success?1:0;if(t.succ&&(n.lastJoinSuccessTime=r),o)this.send({type:qU.JOIN_GATEWAY,data:d},!0);else{let e;if(c)if(s){const t=c.match(/h=(\d{1,3}-){3}\d{1,3}/g),n=c.match(/p=[0-9]{1,6}/g);e={isSuccess:u,gatewayIp:t&&t.length?t[0].split("=")[1].replace(/-/g,"."):"",port:n&&n.length?n[0].split("=")[1]:"",isProxy:s?1:0}}else{const t=c.match(/wss:\/\/(\d{1,3}-){3}\d{1,3}/g),n=c.match(/(:|p=)[0-9]{1,6}/g);e={isSuccess:u,gatewayIp:t&&t.length?t[0].split("//")[1].replace(/-/g,"."):"",port:n&&n.length?n[0].split(/:|p=/g)[1]:"",isProxy:s?1:0}}else e={isSuccess:u,gatewayIp:"",port:"",isProxy:s?1:0};delete d.success,delete d.eventType,delete d.firstSuccess,d.vid=Number(d.vid);const t=Object.assign({},d,e,{eventType:zU.REJOIN_GATEWAY});this.send({type:qU.RE_JOIN_GATEWAY,data:t},!0)}}joinChannelTimeout(e,t){const n=this.baseInfoMap.get(e);if(!n)return;const i=Date.now(),r=ny(ny({},n.info),{},{lts:i,timeout:t,elapse:i-n.startTime});this.send({type:qU.JOIN_CHANNEL_TIMEOUT,data:r},!0)}publish(e,t){const n=this.baseInfoMap.get(e);if(!n)return;const i=n.info,r=Date.now(),o=ny(ny({},i),{},{eventType:zU.PUBLISH,lts:r,eventElapse:t.eventElapse,elapse:r-n.startTime,success:t.succ,errorCode:t.ec,videoName:t.videoName,audioName:t.audioName,screenName:t.screenName,screenshare:t.screenshare,audio:t.audio,video:t.video,p2pid:t.p2pid,publishRequestid:t.publishRequestid});this.send({type:qU.PUBLISH,data:o},!0)}subscribe(e,t,n){const i=this.baseInfoMap.get(e);if(!i)return;const r=i.info,o=Date.now(),a=ny(ny({},r),{},{eventType:zU.SUBSCRIBE,lts:o,eventElapse:t.eventElapse,elapse:o-i.startTime,success:t.succ,errorCode:t.ec,video:t.video,audio:t.audio,subscribeRequestid:t.subscribeRequestid,p2pid:t.p2pid},n&&{extend:JSON.stringify({isMassSubscribe:!0})});"string"==typeof t.peerid?a.peerSuid=t.peerid:a.peer=t.peerid,this.send({type:qU.SUBSCRIBE,data:a},!0)}wsCompressorInit(e){var t;const n=[...uh(t=this.baseInfoMap).call(t)],i=n.length?n[0]:"UnableToGetSid",r=this.baseInfoMap.get(i);if(!r)return;const o=r.info,a=Date.now(),s=ny(ny({},o),{},{eventType:zU.WS_COMPRESSOR_INIT,lts:a,eventElapse:e.eventElapse,elapse:a-r.startTime,status:e.status?1:2});this.send({type:qU.WS_COMPRESSOR_INIT,data:s},!0)}firstRemoteVideoDecode(e,t,n,i){const r=this.baseInfoMap.get(e);if(!r)return;const o=r.info,a=Date.now(),s=ny(ny(ny({},o),i),{},{elapse:a-r.startTime,eventType:t,lts:a,firstDecodeFrame:Math.max(a-r.startTime,0),apEnd:Math.max(i.apEnd-r.startTime,0),apStart:Math.max(i.apStart-r.startTime,0),joinGwEnd:Math.max(i.joinGwEnd-r.startTime,0),joinGwStart:Math.max(i.joinGwStart-r.startTime,0),pcEnd:Math.max(i.pcEnd-r.startTime,0),pcStart:Math.max(i.pcStart-r.startTime,0),subscriberEnd:Math.max(i.subscriberEnd-r.startTime,0),subscriberStart:Math.max(i.subscriberStart-r.startTime,0),videoAddNotify:Math.max(i.videoAddNotify-r.startTime,0)});this.send({type:n,data:s},!0)}firstRemoteFrame(e,t,n,i){const r=this.baseInfoMap.get(e);if(!r)return;const o=r.info,a=Date.now(),s=ny(ny(ny({},o),i),{},{elapse:a-r.startTime,eventType:t,lts:a});this.send({type:n,data:s},!0)}pcStats(e,t){const n=this.baseInfoMap.get(e);if(!n)return;const i=n.info,r=Date.now(),o=ny(ny(ny({},i),t),{},{vid:void 0===i.vid?0:Number(i.vid),elapse:r-n.startTime,eventType:zU.PC_STATS,lts:r});this.send({type:qU.PC_STATS,data:o},!0)}updateRemoteRTPCapabilities(e,t){if(e){const n=this.baseInfoMap.get(e);if(!n)return;const i=n.info,r=Date.now(),o=ny(ny(ny({},i),t),{},{vid:void 0===i.vid?0:Number(i.vid),eventType:zU.UPDATE_REMOTE_RTPCAPABILITIES,lts:r});this.send({type:qU.UPDATE_REMOTE_RTPCAPABILITIES,data:o},!0)}}onGatewayStream(e,t,n,i){const r=this.baseInfoMap.get(e);if(!r)return;const o=r.info,a=Date.now(),s=ny(ny(ny({},o),i),{},{eventType:t,lts:a});this.send({type:n,data:s},!0)}streamSwitch(e,t){const n=this.baseInfoMap.get(e);if(!n)return;const i=n.info,r=Date.now(),o=ny(ny({},i),{},{eventType:zU.STREAM_SWITCH,lts:r,isDual:t.isdual,elapse:r-n.startTime,success:t.succ});this.send({type:qU.STREAM_SWITCH,data:o},!0)}requestProxyAppCenter(e,t){const n=this.baseInfoMap.get(e);if(!n)return;const i=n.info,r=Date.now(),o=ny(ny({},i),{},{eventType:zU.REQUEST_PROXY_APPCENTER,lts:r,eventElapse:r-t.lts,elapse:r-n.startTime,APAddr:t.APAddr,workerManagerList:t.workerManagerList,response:t.response,errorCode:t.ec,success:t.succ});this.send({type:qU.REQUEST_PROXY_APPCENTER,data:o},!0)}requestProxyWorkerManager(e,t){const n=this.baseInfoMap.get(e);if(!n)return;const i=n.info,r=Date.now(),o=ny(ny({},i),{},{eventType:zU.REQUEST_PROXY_WORKER_MANAGER,lts:r,eventElapse:r-t.lts,elapse:r-n.startTime,workerManagerAddr:t.workerManagerAddr,response:t.response,errorCode:t.ec,success:t.succ});this.send({type:qU.REQUEST_PROXY_WORKER_MANAGER,data:o},!0)}setProxyServer(e){this.proxyServer=e,e?YU.debug("reportProxyServerurl: ".concat(e)):YU.debug("disable reportProxyServerurl: ".concat(e))}peerPublishStatus(e,t){const n=this.baseInfoMap.get(e);if(!n)return;const i=n.info,r=Date.now(),o=ny(ny({},i),{},{subscribeElapse:t.subscribeElapse,peer:t.peer,peerPublishDuration:Math.max(t.audioPublishDuration,t.videoPublishDuration),audiotag:t.audioPublishDuration>0?1:-1,videotag:t.videoPublishDuration>0?1:-1,lts:r,elapse:r-n.startTime,joinChannelSuccessElapse:r-(n.lastJoinSuccessTime||r),peerPublishDurationVideo:t.videoPublishDuration,peerPublishDurationAudio:t.audioPublishDuration});this.send({type:qU.PEER_PUBLISH_STATUS,data:o},!0)}workerEvent(e,t){const n=this.baseInfoMap.get(e);if(!n)return;const i=n.info,r=Date.now(),o=function(e,t,n){const i=e[t];if(!i||"string"!=typeof i)return[e];e[t]="";const r=wC(JSON.stringify(e));let o=0;const a=[];let s=0;for(let c=0;c<i.length;c++)s+=i.charCodeAt(c)<=127?1:3,s<=n-r||(a[a.length]=yC(yC({},e),{},{[t]:i.substring(o,c)}),o=c,s=i.charCodeAt(c)<=127?1:3);return o!==i.length-1&&(a[a.length]=yC(yC({},e),{},{[t]:i.substring(o)})),a}(ny(ny(ny({},i),t),{},{elapse:r-n.startTime,lts:r,productType:"WebRTC"}),"payload",1300);o.forEach((e=>this.send({type:qU.WORKER_EVENT,data:e},!0)))}apworkerEvent(e,t){const n=this.baseInfoMap.get(e);if(!n)return;const i=n.info,r=Date.now(),o=ny(ny(ny({},i),t),{},{elapse:r-n.startTime,lts:r});this.send({type:qU.AP_WORKER_EVENT,data:o},!0)}joinWebProxyAP(e,t){const n=this.baseInfoMap.get(e);if(!n)return;const i=n.info,r=Date.now(),o=ny(ny(ny({},i),t),{},{elapse:r-n.startTime,lts:r,extend:t.extend||void 0});this.send({type:qU.JOIN_WEB_PROXY_AP,data:o},!0)}WebSocketQuit(e,t){const n=this.baseInfoMap.get(e);if(!n)return;const i=n.info,r=Date.now(),o=ny(ny(ny({},i),t),{},{elapse:r-n.startTime,lts:r});this.send({type:qU.WEBSOCKET_QUIT,data:o},!0)}async sendCustomReportMessage(e,t){if(this.customReportCount+=t.length,this.customReportCount>NU("CUSTOM_REPORT_LIMIT"))throw new WE(ZE.CUSTOM_REPORT_FREQUENCY_TOO_HIGH);this.customReportCounterTimer||(this.customReportCounterTimer=window.setInterval((()=>{this.customReportCount=0}),5e3));const n=Date.now(),i=t.map((t=>({type:qU.USER_ANALYTICS,data:ny(ny({sid:e},t),{},{lts:n})})));try{NU("NEW_REPORT_SERVER")?await this.postDataToStatsCollector2(i):await this.postDataToStatsCollector(i)}catch(e){throw YU.error("send custom report message failed",e.toString()),new WE(ZE.CUSTOM_REPORT_SEND_FAILED,e.message)}}sendApiInvoke(e){const t=NU("NOT_REPORT_EVENT");if(e.tag&&Fi(t)&&Fi(t).call(t,e.tag))return!1;if(null===e.sid)return this.apiInvokeUploadPendingItems.push(e),!1;const n=this.baseInfoMap.get(e.sid);if(!n)return this.apiInvokeUploadPendingItems.push(e),!1;const{cname:i,uid:r,cid:o}=n.info;let a;if(e.lts=e.lts||Date.now(),e.error)if(e.error instanceof WE){const{code:t,message:n}=e.error;a=t||n||e.error.toString()}else a=e.error.toString();const s={invokeId:e.invokeId,sid:e.sid,cname:i,cid:o,uid:r,lts:e.lts,success:e.success,elapse:e.lts-n.startTime,execElapse:e.lts-e.apiInvokeTime,apiName:e.name,options:e.options?JSON.stringify(e.options):void 0,execStates:e.states?JSON.stringify(e.states):void 0,execResult:e.result?JSON.stringify(e.result):void 0,errorCode:e.error?a:void 0,errorMsg:e.error?JSON.stringify(e.error):void 0};return this.send({type:qU.API_INVOKE,data:s},!1),!0}appendSessionId(){iy.__CLIENT_LIST__.forEach((e=>{if(e._sessionId){const t=this.apiInvokeUploadPendingItems.length;for(let n=0;n<t;n++){const t=this.apiInvokeUploadPendingItems.shift();t&&(t.sid=e._sessionId,this.sendApiInvoke(Object.assign({},t)))}}}))}send(e,t){if(t)return this.keyEventUploadPendingItems.push(e),void this.sendItems(this.keyEventUploadPendingItems,!0);this.normalEventUploadPendingItems.push(e),this.normalEventUploadPendingItems.length>NU("NORMAL_EVENT_QUEUE_CAPACITY")&&this.normalEventUploadPendingItems.splice(0,1),this.normalEventUploadPendingItems.length>=10&&this.sendItems(this.normalEventUploadPendingItems,!1)}doSend(){this.keyEventUploadPendingItems.length>0&&this.sendItems(this.keyEventUploadPendingItems,!0),this.normalEventUploadPendingItems.length>0&&Date.now()-this.lastSendNormalEventTime>=5e3&&this.sendItems(this.normalEventUploadPendingItems,!1)}sendItems(e,t){const n=[],i=[];for(;e.length;){const t=e.shift();n.length<20?n.push(t):i.push(t)}e.push(...i);for(const o of[...n]){var r;-1!==this.ltsList.indexOf(o.data.lts)?(o.data.lts=this.ltsList[this.ltsList.length-1]+1,this.ltsList.push(o.data.lts)):(this.ltsList.push(o.data.lts),qh(r=this.ltsList).call(r,((e,t)=>e-t)))}return t||(this.lastSendNormalEventTime=Date.now()),NU("ENABLE_EVENT_REPORT")?(n.length&&(NU("NEW_REPORT_SERVER")?this.postDataToStatsCollector2(n):this.postDataToStatsCollector(n)).catch((e=>n=>{NU("EVENT_REPORT_RETRY")&&(t?this.keyEventUploadPendingItems=this.keyEventUploadPendingItems.concat(e):(this.normalEventUploadPendingItems=this.normalEventUploadPendingItems.concat(e),this.normalEventUploadPendingItems.length>NU("NORMAL_EVENT_QUEUE_CAPACITY")&&(this.normalEventUploadPendingItems.splice(0,this.normalEventUploadPendingItems.length-NU("NORMAL_EVENT_QUEUE_CAPACITY")),YU.warning("report: drop normal events"))))})(n)),e):e}async postDataToStatsCollector2(e){QC.networkState===uC.OFFLINE&&await tE.race([QC.onlineWaiter,VC(2*XC.maxRetryTimeout)]);const t=e=>{let t=new Uint8Array;return e.forEach((e=>{const n=qE(JSON.stringify(e.data)),i=new ArrayBuffer(5),r=(e=>{let t=0;return Object.entries(qU).forEach((n=>{let[i,r]=n;r===e.type&&(t=EventNameToID[i])})),t})(e),o=new DataView(i);o.setUint16(0,n.byteLength,!0),o.setUint8(2,255&r),o.setUint8(3,r>>>8&255),o.setUint8(4,r>>>16&255),t=$E(t,new Uint8Array(i)),t=$E(t,n)})),t},n="event";let i=this.proxyServer?"https://".concat(this.proxyServer,"/rs/?h=").concat(NU("NEW_REPORT_SERVER_DOMAINS")[0],"&p=443&d=").concat(n):"https://".concat(NU("NEW_REPORT_SERVER_DOMAINS")[0],"/").concat(n);for(let r=0;r<2;r+=1){1===r&&(i=this.proxyServer?"https://".concat(this.proxyServer,"/rs/?h=").concat(NU("NEW_REPORT_SERVER_DOMAINS")[1],"&p=443&d=").concat(n):"https://".concat(NU("NEW_REPORT_SERVER_DOMAINS")[1],"/").concat(n));try{await QU(i,{timeout:1e4,data:t(e),headers:ny(ny({biz:"webrtc",sendts:Math.round(Date.now()/1e3),debug:"false"},this._appId&&{appid:this._appId}),{},{"Content-Type":"application/octet-stream"})},!0)}catch(e){if(1===r)throw e;continue}return}}async postDataToStatsCollector(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n={msgType:"EventMessages",sentTs:Math.round(Date.now()/1e3),payloads:e.map((e=>JSON.stringify(e))),vid:(e=>{const t=e&&e.data.sid&&this.baseInfoMap.get(e.data.sid);return t&&t.info.vid&&+t.info.vid||0})(e[0])};QC.networkState===uC.OFFLINE&&await tE.race([QC.onlineWaiter,VC(2*XC.maxRetryTimeout)]);const i=t?"/events/proto-raws":"/events/messages";let r=this.url||(this.proxyServer?"https://".concat(this.proxyServer,"/rs/?h=").concat(NU("EVENT_REPORT_DOMAIN"),"&p=").concat(NU("STATS_COLLECTOR_PORT"),"&d=").concat(i):"https://".concat(NU("EVENT_REPORT_DOMAIN"),":").concat(NU("STATS_COLLECTOR_PORT")).concat(i));for(let o=0;o<2;o+=1){1===o&&(r=this.backupUrl||(this.proxyServer?"https://".concat(this.proxyServer,"/rs/?h=").concat(NU("EVENT_REPORT_BACKUP_DOMAIN"),"&p=").concat(NU("STATS_COLLECTOR_PORT"),"&d=").concat(i):"https://".concat(NU("EVENT_REPORT_BACKUP_DOMAIN"),":").concat(NU("STATS_COLLECTOR_PORT")).concat(i)));try{t?await UU(r,{timeout:1e4,data:n}):await QU(r,{timeout:1e4,data:n})}catch(t){if(1===o)throw t;continue}return}}createBaseInfo(e,t){const n=Object.assign({},HU);return n.sid=e,this.baseInfoMap.set(e,{info:n,startTime:t}),n}reportResourceTiming(e,t){const n=performance.getEntriesByName(e),i=n[n.length-1];i&&this.reportApiInvoke(t,{name:"Client.resourceTiming",options:i,tag:aC.TRACER}).onSuccess()}}function ry(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,n,i){const r=i.value;if("function"==typeof r){const o=e.className||t.__className__||("AgoraRTCClient"===t.constructor.name?"Client":t.constructor.name);i.value=function(){for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];let s=i;if(e.argsMap)try{s=e.argsMap(this,...i)}catch(e){YU.warning(e),s=[]}try{JSON.stringify(s)}catch(e){YU.warning("arguments for method ".concat(o,".").concat(String(n)," not serializable for apiInvoke.")),s=[]}const c=(e.report||oy).reportApiInvoke(this._sessionId||null,{name:"".concat(o,".").concat(String(n)),options:s,tag:aC.TRACER,reportResult:e.reportResult},e.throttleTime);try{const t=r.apply(this,i);return t instanceof tE?t.then((t=>(c.onSuccess(e.reportResult&&t),t))).catch((e=>{throw c.onError(e),e})):(c.onSuccess(e.reportResult&&t),t)}catch(e){throw c.onError(e),e}}}return i}}ih(iy,"__CLIENT_LIST__",[]);const oy=new iy;OU.on("REPORT_LOG_UPLOAD",(e=>{e.networkState=QC.networkState,oy.reportApiInvoke(null,{name:"logUploadError",options:e,tag:aC.TRACER})}));const ay=["CHINA","GLOBAL"],sy=function(){const e="us".concat("erna","me"),t="pa".concat("sswo","rd"),n=["t","s","t"];n.splice(1,0,"e");const i=n.join(""),r=[];for(let s=0;s<6;s++)r.push("1");const o=r.join(""),a={};return a[e]=i,a[t]=o,Object.assign(a,{turnServerURL:"",tcpport:3433,udpport:3478,forceturn:!1})}();window.DEFAULT_TURN_CONFIG=sy,RU||(BU.WEBCS_DOMAIN=["ap-web-1-oversea.agora.io","ap-web-1-north-america.agora.io"],BU.WEBCS_DOMAIN_BACKUP_LIST=["ap-web-2-oversea.agora.io","ap-web-2-north-america.agora.io"],BU.PROXY_CS=["proxy-ap-web-oversea.agora.io","proxy-ap-web-america.agora.io"],BU.CDS_AP=["cds-ap-web-oversea.agora.io","cds-ap-web-america.agora.io","cds-ap-web-america2.agora.io"],BU.ACCOUNT_REGISTER=["sua-ap-web-oversea.agora.io","sua-ap-web-america.agora.io","sua-ap-web-america2.agora.io"],BU.UAP_AP=["uap-ap-web-oversea.agora.io","uap-ap-web-america.agora.io","uap-ap-web-america2.agora.io"],BU.LOG_UPLOAD_SERVER="logservice-oversea.agora.io",BU.EVENT_REPORT_DOMAIN="statscollector-1-oversea.agora.io",BU.EVENT_REPORT_BACKUP_DOMAIN="statscollector-2-oversea.agora.io",BU.PROXY_SERVER_TYPE3="webrtc-cloud-proxy.agora.io",BU.AREAS=["NORTH_AMERICA","OVERSEA"]);const cy=[[0,1,2,3,4,5,5],[0,2,2,3,4,5,5],[0,3,3,3,4,5,5],[0,4,4,4,4,5,5],[0,5,5,5,5,5,5]],ly=[];function dy(e,t){return!!t&&ly.some((n=>n.uid===e&&n.channelName===t))}iy.__CLIENT_LIST__=ly;var uy,hy,Ay,py,gy,fy,my,Ey,Cy,Iy,Qy,Uy,yy,by,vy,Ry,Sy,Fy=Hn("Array").values,By=ui,Ty=$e,Ny=u,_y=Fy,wy=Array.prototype,ky={DOMTokenList:!0,NodeList:!0},Dy=i((function(e){var t=e.values;return e===wy||Ny(wy,e)&&t===wy.values||Ty(ky,By(e))?_y:t}));function Vy(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function Zy(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}!function(e){e.L1T1="L1T1",e.L1T2="L1T2",e.L1T3="L1T3",e.L2T1_KEY="L2T1_KEY",e.L2T2_KEY="L2T2_KEY",e.L2T3_KEY="L2T3_KEY",e.L3T1_KEY="L3T1_KEY",e.L3T2_KEY="L3T2_KEY",e.L3T3_KEY="L3T3_KEY"}(uy||(uy={})),function(e){e.CERTIFICATE="certificate",e.CODEC="codec",e.CANDIDATE_PAIR="candidate-pair",e.LOCAL_CANDIDATE="local-candidate",e.REMOTE_CANDIDATE="remote-candidate",e.INBOUND="inbound-rtp",e.TRACK="track",e.OUTBOUND="outbound-rtp",e.PC="peer-connection",e.REMOTE_INBOUND="remote-inbound-rtp",e.REMOTE_OUTBOUND="remote-outbound-rtp",e.TRANSPORT="transport",e.CSRC="csrc",e.DATA_CHANNEL="data-channel",e.STREAM="stream",e.SENDER="sender",e.RECEIVER="receiver"}(hy||(hy={})),function(e){e[e.ACCESS_POINT=101]="ACCESS_POINT",e[e.UNILBS=201]="UNILBS",e[e.STRING_UID_ALLOCATOR=901]="STRING_UID_ALLOCATOR"}(Ay||(Ay={})),function(e){e[e.IIIEGAL_APPID=1]="IIIEGAL_APPID",e[e.IIIEGAL_UID=2]="IIIEGAL_UID",e[e.INTERNAL_ERROR=3]="INTERNAL_ERROR"}(py||(py={})),function(e){e[e.INVALID_VENDOR_KEY=5]="INVALID_VENDOR_KEY",e[e.INVALID_CHANNEL_NAME=7]="INVALID_CHANNEL_NAME",e[e.INTERNAL_ERROR=8]="INTERNAL_ERROR",e[e.NO_AUTHORIZED=9]="NO_AUTHORIZED",e[e.DYNAMIC_KEY_TIMEOUT=10]="DYNAMIC_KEY_TIMEOUT",e[e.NO_ACTIVE_STATUS=11]="NO_ACTIVE_STATUS",e[e.DYNAMIC_KEY_EXPIRED=13]="DYNAMIC_KEY_EXPIRED",e[e.STATIC_USE_DYNAMIC_KEY=14]="STATIC_USE_DYNAMIC_KEY",e[e.DYNAMIC_USE_STATIC_KEY=15]="DYNAMIC_USE_STATIC_KEY",e[e.USER_OVERLOAD=16]="USER_OVERLOAD",e[e.FORBIDDEN_REGION=18]="FORBIDDEN_REGION",e[e.CANNOT_MEET_AREA_DEMAND=19]="CANNOT_MEET_AREA_DEMAND"}(gy||(gy={})),function(e){e[e.NO_FLAG_SET=100]="NO_FLAG_SET",e[e.FLAG_SET_BUT_EMPTY=101]="FLAG_SET_BUT_EMPTY",e[e.INVALID_FALG_SET=102]="INVALID_FALG_SET",e[e.FLAG_SET_BUT_NO_RE=103]="FLAG_SET_BUT_NO_RE",e[e.INVALID_SERVICE_ID=104]="INVALID_SERVICE_ID",e[e.NO_SERVICE_AVAILABLE=200]="NO_SERVICE_AVAILABLE",e[e.NO_SERVICE_AVAILABLE_P2P=201]="NO_SERVICE_AVAILABLE_P2P",e[e.NO_SERVICE_AVAILABLE_VOICE=202]="NO_SERVICE_AVAILABLE_VOICE",e[e.NO_SERVICE_AVAILABLE_WEBRTC=203]="NO_SERVICE_AVAILABLE_WEBRTC",e[e.NO_SERVICE_AVAILABLE_CDS=204]="NO_SERVICE_AVAILABLE_CDS",e[e.NO_SERVICE_AVAILABLE_CDN=205]="NO_SERVICE_AVAILABLE_CDN",e[e.NO_SERVICE_AVAILABLE_TDS=206]="NO_SERVICE_AVAILABLE_TDS",e[e.NO_SERVICE_AVAILABLE_REPORT=207]="NO_SERVICE_AVAILABLE_REPORT",e[e.NO_SERVICE_AVAILABLE_APP_CENTER=208]="NO_SERVICE_AVAILABLE_APP_CENTER",e[e.NO_SERVICE_AVAILABLE_ENV0=209]="NO_SERVICE_AVAILABLE_ENV0",e[e.NO_SERVICE_AVAILABLE_VOET=210]="NO_SERVICE_AVAILABLE_VOET",e[e.NO_SERVICE_AVAILABLE_STRING_UID=211]="NO_SERVICE_AVAILABLE_STRING_UID",e[e.NO_SERVICE_AVAILABLE_WEBRTC_UNILBS=212]="NO_SERVICE_AVAILABLE_WEBRTC_UNILBS",e[e.NO_SERVICE_AVAILABLE_UNILBS_FLV=213]="NO_SERVICE_AVAILABLE_UNILBS_FLV"}(fy||(fy={})),function(e){e[e.K_TIMESTAMP_EXPIRED=2]="K_TIMESTAMP_EXPIRED",e[e.K_CHANNEL_PERMISSION_INVALID=3]="K_CHANNEL_PERMISSION_INVALID",e[e.K_CERTIFICATE_INVALID=4]="K_CERTIFICATE_INVALID",e[e.K_CHANNEL_NAME_EMPTY=5]="K_CHANNEL_NAME_EMPTY",e[e.K_CHANNEL_NOT_FOUND=6]="K_CHANNEL_NOT_FOUND",e[e.K_TICKET_INVALID=7]="K_TICKET_INVALID",e[e.K_CHANNEL_CONFLICTED=8]="K_CHANNEL_CONFLICTED",e[e.K_SERVICE_NOT_READY=9]="K_SERVICE_NOT_READY",e[e.K_SERVICE_TOO_HEAVY=10]="K_SERVICE_TOO_HEAVY",e[e.K_UID_BANNED=14]="K_UID_BANNED",e[e.K_IP_BANNED=15]="K_IP_BANNED",e[e.K_CHANNEL_BANNED=16]="K_CHANNEL_BANNED",e[e.K_AUTO_REBALANCE=28]="K_AUTO_REBALANCE",e[e.WARN_NO_AVAILABLE_CHANNEL=103]="WARN_NO_AVAILABLE_CHANNEL",e[e.WARN_LOOKUP_CHANNEL_TIMEOUT=104]="WARN_LOOKUP_CHANNEL_TIMEOUT",e[e.WARN_LOOKUP_CHANNEL_REJECTED=105]="WARN_LOOKUP_CHANNEL_REJECTED",e[e.WARN_OPEN_CHANNEL_TIMEOUT=106]="WARN_OPEN_CHANNEL_TIMEOUT",e[e.WARN_OPEN_CHANNEL_REJECTED=107]="WARN_OPEN_CHANNEL_REJECTED",e[e.WARN_REQUEST_DEFERRED=108]="WARN_REQUEST_DEFERRED",e[e.ERR_DYNAMIC_KEY_TIMEOUT=109]="ERR_DYNAMIC_KEY_TIMEOUT",e[e.ERR_NO_AUTHORIZED=110]="ERR_NO_AUTHORIZED",e[e.ERR_VOM_SERVICE_UNAVAILABLE=111]="ERR_VOM_SERVICE_UNAVAILABLE",e[e.ERR_NO_CHANNEL_AVAILABLE_CODE=112]="ERR_NO_CHANNEL_AVAILABLE_CODE",e[e.ERR_MASTER_VOCS_UNAVAILABLE=114]="ERR_MASTER_VOCS_UNAVAILABLE",e[e.ERR_INTERNAL_ERROR=115]="ERR_INTERNAL_ERROR",e[e.ERR_NO_ACTIVE_STATUS=116]="ERR_NO_ACTIVE_STATUS",e[e.ERR_INVALID_UID=117]="ERR_INVALID_UID",e[e.ERR_DYNAMIC_KEY_EXPIRED=118]="ERR_DYNAMIC_KEY_EXPIRED",e[e.ERR_STATIC_USE_DYANMIC_KE=119]="ERR_STATIC_USE_DYANMIC_KE",e[e.ERR_DYNAMIC_USE_STATIC_KE=120]="ERR_DYNAMIC_USE_STATIC_KE",e[e.ERR_NO_VOCS_AVAILABLE=2e3]="ERR_NO_VOCS_AVAILABLE",e[e.ERR_NO_VOS_AVAILABLE=2001]="ERR_NO_VOS_AVAILABLE",e[e.ERR_JOIN_CHANNEL_TIMEOUT=2002]="ERR_JOIN_CHANNEL_TIMEOUT",e[e.ERR_REPEAT_JOIN_CHANNEL=2003]="ERR_REPEAT_JOIN_CHANNEL",e[e.ERR_JOIN_BY_MULTI_IP=2004]="ERR_JOIN_BY_MULTI_IP",e[e.ERR_NOT_JOINED=2011]="ERR_NOT_JOINED",e[e.ERR_REPEAT_JOIN_REQUEST=2012]="ERR_REPEAT_JOIN_REQUEST",e[e.ERR_INVALID_VENDOR_KEY=2013]="ERR_INVALID_VENDOR_KEY",e[e.ERR_INVALID_CHANNEL_NAME=2014]="ERR_INVALID_CHANNEL_NAME",e[e.ERR_INVALID_STRINGUID=2015]="ERR_INVALID_STRINGUID",e[e.ERR_TOO_MANY_USERS=2016]="ERR_TOO_MANY_USERS",e[e.ERR_SET_CLIENT_ROLE_TIMEOUT=2017]="ERR_SET_CLIENT_ROLE_TIMEOUT",e[e.ERR_SET_CLIENT_ROLE_NO_PERMISSION=2018]="ERR_SET_CLIENT_ROLE_NO_PERMISSION",e[e.ERR_SET_CLIENT_ROLE_ALREADY_IN_USE=2019]="ERR_SET_CLIENT_ROLE_ALREADY_IN_USE",e[e.ERR_PUBLISH_REQUEST_INVALID=2020]="ERR_PUBLISH_REQUEST_INVALID",e[e.ERR_SUBSCRIBE_REQUEST_INVALID=2021]="ERR_SUBSCRIBE_REQUEST_INVALID",e[e.ERR_NOT_SUPPORTED_MESSAGE=2022]="ERR_NOT_SUPPORTED_MESSAGE",e[e.ERR_ILLEAGAL_PLUGIN=2023]="ERR_ILLEAGAL_PLUGIN",e[e.ERR_REJOIN_TOKEN_INVALID=2024]="ERR_REJOIN_TOKEN_INVALID",e[e.ERR_REJOIN_USER_NOT_JOINED=2025]="ERR_REJOIN_USER_NOT_JOINED",e[e.ERR_INVALID_OPTIONAL_INFO=2027]="ERR_INVALID_OPTIONAL_INFO",e[e.ILLEGAL_AES_PASSWORD=2028]="ILLEGAL_AES_PASSWORD",e[e.ILLEGAL_CLIENT_ROLE_LEVEL=2029]="ILLEGAL_CLIENT_ROLE_LEVEL",e[e.ERR_TOO_MANY_BROADCASTERS=2031]="ERR_TOO_MANY_BROADCASTERS",e[e.ERR_TOO_MANY_SUBSCRIBERS=2032]="ERR_TOO_MANY_SUBSCRIBERS",e[e.ERR_LICENSE_MISSING=32769]="ERR_LICENSE_MISSING",e[e.ERR_LICENSE_EXPIRED=32771]="ERR_LICENSE_EXPIRED",e[e.ERR_LICENSE_MINUTES_EXCEEDED=32773]="ERR_LICENSE_MINUTES_EXCEEDED",e[e.ERR_LICENSE_PERIOD_INVALID=32774]="ERR_LICENSE_PERIOD_INVALID",e[e.ERR_LICENSE_MULTIPLE_SDK_SERVICE=32778]="ERR_LICENSE_MULTIPLE_SDK_SERVICE",e[e.ERR_LICENSE_ILLEGAL=32783]="ERR_LICENSE_ILLEGAL",e[e.ERR_TEST_RECOVER=9e3]="ERR_TEST_RECOVER",e[e.ERR_TEST_TRYNEXT=9001]="ERR_TEST_TRYNEXT",e[e.ERR_TEST_RETRY=9002]="ERR_TEST_RETRY"}(my||(my={})),function(e){e.CONNECTING="connecting",e.CONNECTED="connected",e.RECONNECTING="reconnecting",e.CLOSED="closed"}(Ey||(Ey={})),function(e){e.WS_CONNECTED="ws_connected",e.WS_RECONNECTING="ws_reconnecting",e.WS_CLOSED="ws_closed",e.WS_RECONNECT_WAITTING_FINISH="ws_reconnect_waitting_finish",e.WS_RECONNECT_CREATE_CONNECTION="ws_reconnect_create_connection",e.ON_BINARY_DATA="on_binary_data",e.REQUEST_RECOVER="request_recover",e.REQUEST_JOIN_INFO="request_join_info",e.REQUEST_REJOIN_INFO="req_rejoin_info",e.IS_P2P_DISCONNECTED="is_p2p_dis",e.DISCONNECT_P2P="dis_p2p",e.ABORT_P2P_EXECUTION="abort_p2p_execution",e.NEED_RENEW_SESSION="need-sid",e.REPORT_JOIN_GATEWAY="report_join_gateway",e.REQUEST_TIMEOUT="request_timeout",e.REQUEST_SUCCESS="request_success",e.JOIN_RESPONSE="join_response",e.DATACHANNEL_PRECONNECT="datachannel_preconnect",e.DATACHANNEL_CONNECTING="datachannel_connecting",e.DATACHANNEL_FAILBACK="datachannel_failback",e.P2P_CONNECTION="p2p_connection",e.P2P_REMOTE_CANDIDATE_UPDATE="p2p_remote_candidate_update",e.P2P_SUBSCRIBE="p2p_subscribe",e.P2P_UNSUBSCRIBE="p2p_unsubscribe",e.P2P_EXCHANGE_SDP="p2p_exchange_sdp",e.P2P_ON_ADD_VIDEO_STREAM="p2p_on_add_video_stream",e.P2P_ON_ADD_AUDIO_STREAM="p2p_on_add_audio_stream"}(Cy||(Cy={})),function(e){e.PING="ping",e.PING_BACK="ping_back",e.JOIN="join_v3",e.REJOIN="rejoin_v3",e.LEAVE="leave",e.SET_CLIENT_ROLE="set_client_role",e.PUBLISH="publish",e.PUBLISH_DATASTREAM="publish_datastream",e.UNPUBLISH="unpublish",e.UNPUBLISH_DATASTREAM="unpublish_datastream",e.SUBSCRIBE="subscribe",e.PRE_SUBSCRIBE="pre_subscribe",e.SUBSCRIBE_DATASTREAM="subscribe_datastream",e.SUBSCRIBE_STREAMS="subscribe_streams",e.UNSUBSCRIBE="unsubscribe",e.UNSUBSCRIBE_DATASTREAM="unsubscribe_datastream",e.UNSUBSCRIBE_STREAMS="unsubscribe_streams",e.SUBSCRIBE_CHANGE="subscribe_change",e.TRAFFIC_STATS="traffic_stats",e.RENEW_TOKEN="renew_token",e.SWITCH_VIDEO_STREAM="switch_video_stream",e.DEFAULT_VIDEO_STREAM="default_video_stream",e.SET_FALLBACK_OPTION="set_fallback_option",e.GATEWAY_INFO="gateway_info",e.CONTROL="control",e.SEND_METADATA="send_metadata",e.DATA_STREAM="data_stream",e.PICK_SVC_LAYER="pick_svc_layer",e.RESTART_ICE="restart_ice",e.CONNECT_PC="connect_pc",e.SET_VIDEO_PROFILE="set_video_profile",e.SET_PARAMETER="set_parameter",e.SET_RTM2_FLAG="set_rtm2_flag"}(Iy||(Iy={})),function(e){e.WRTC_STATS="wrtc_stats",e.WS_INFLATE_DATA_LENGTH="ws_inflate_data_length",e.DENOISER_STATS="denoiser_stats",e.EXTENSION_USAGE_STATS="extension_usage_stats"}(Qy||(Qy={})),function(e){e.ON_USER_ONLINE="on_user_online",e.ON_USER_OFFLINE="on_user_offline",e.ON_STREAM_FALLBACK_UPDATE="on_stream_fallback_update",e.ON_PUBLISH_STREAM="on_publish_stream",e.ON_UPLINK_STATS="on_uplink_stats",e.ON_P2P_LOST="on_p2p_lost",e.ON_REMOVE_STREAM="on_remove_stream",e.ON_ADD_AUDIO_STREAM="on_add_audio_stream",e.ON_ADD_VIDEO_STREAM="on_add_video_stream",e.ON_TOKEN_PRIVILEGE_WILL_EXPIRE="on_token_privilege_will_expire",e.ON_TOKEN_PRIVILEGE_DID_EXPIRE="on_token_privilege_did_expire",e.ON_USER_BANNED="on_user_banned",e.ON_USER_LICENSE_BANNED="on_user_license_banned",e.ON_NOTIFICATION="on_notification",e.ON_CRYPT_ERROR="on_crypt_error",e.MUTE_AUDIO="mute_audio",e.MUTE_VIDEO="mute_video",e.UNMUTE_AUDIO="unmute_audio",e.UNMUTE_VIDEO="unmute_video",e.ON_P2P_OK="on_p2p_ok",e.RECEIVE_METADATA="receive_metadata",e.ON_DATA_STREAM="on_data_stream",e.ON_RTP_CAPABILITY_CHANGE="on_rtp_capability_change",e.ON_REMOTE_DATASTREAM_UPDATE="on_remote_datastream_update",e.ON_REMOTE_FULL_DATASTREAM_INFO="on_remote_full_datastream_info",e.ENABLE_LOCAL_VIDEO="enable_local_video",e.DISABLE_LOCAL_VIDEO="disable_local_video",e.ENABLE_LOCAL_AUDIO="enable_local_audio",e.DISABLE_LOCAL_AUDIO="disable_local_audio",e.ON_PUBLISHED_USER_LIST="on_published_user_list"}(Uy||(Uy={})),function(e){e.CONNECTION_STATE_CHANGE="CONNECTION_STATE_CHANGE",e.NEED_ANSWER="NEED_ANSWER",e.NEED_RENEGOTIATE="NEED_RENEGOTIATE",e.P2P_LOST="P2P_LOST",e.GATEWAY_P2P_LOST="GATEWAY_P2P_LOST",e.NEED_UNPUB="NEED_UNPUB",e.NEED_UNSUB="NEED_UNSUB",e.NEED_UPLOAD="NEED_UPLOAD",e.NEED_CONTROL="NEED_CONTROL",e.START_RECONNECT="START_RECONNECT",e.END_RECONNECT="END_RECONNECT",e.NEED_SIGNAL_RTT="NEED_SIGNAL_RTT"}(yy||(yy={})),function(e){e.SEND_ONLY="SEND_ONLY",e.RECEIVE_ONLY="RECEIVE_ONLY"}(by||(by={})),function(e){e.CONNECTED="websocket:connected",e.RECONNECTING="websocket:reconnecting",e.WILL_RECONNECT="websocket:will_reconnect",e.CLOSED="websocket:closed",e.FAILED="websocket:failed",e.ON_MESSAGE="websocket:on_message",e.REQUEST_NEW_URLS="websocket:request_new_urls",e.RECONNECT_WAITTING_FINISH="websocket:reconnect_waitting_finish",e.RECONNECT_CREATE_CONNECTION="websocket:reconnect_create_connection",e.ON_TOKEN_PRIVILEGE_DID_EXPIRE="websocket:on_token_privilege_did_expire"}(vy||(vy={}));class Wy extends WE{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",arguments.length>2?arguments[2]:void 0),ih(this,"name","AgoraRTCException")}print(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"error";return super.print(e,YU)}throw(){super.throw(YU)}}function Oy(e){if("string"!=typeof e||!/^[a-zA-Z0-9 \!\#\$\%\&\(\)\+\-\:\;\<\=\.\>\?\@\[\]\^\_\{\}\|\~\,]{1,64}$/.test(e))throw YU.error("Invalid Channel Name ".concat(e)),new Wy(ZE.INVALID_PARAMS,"The length must be within 64 bytes. The supported characters: a-z,A-Z,0-9,space,!, #, $, %, &, (, ), +, -, :, ;, <, =, ., >, ?, @, [, ], ^, _,  {, }, |, ~, ,")}function Jy(e){if(!("number"==typeof(t=e)&&Math.floor(t)===t&&0<=t&&t<=4294967295||YE(e,1,255)))throw new Wy(ZE.INVALID_PARAMS,"[String uid] Length of the string: [1,255]. ASCII characters only. [Number uid] The value range is [0,10000]");var t;"string"==typeof e&&YU.warn("You input a string as the user ID, to ensure better end-user experience, Agora highly suggests not using a string as the user ID.")}!function(e){e.TRANSCODE="mix_streaming",e.RAW="raw_streaming",e.INJECT="inject_streaming"}(Ry||(Ry={})),function(e){e[e.INJECT_STREAM_STATUS_START_SUCCESS=0]="INJECT_STREAM_STATUS_START_SUCCESS",e[e.INJECT_STREAM_STATUS_START_ALREADY_EXISTS=1]="INJECT_STREAM_STATUS_START_ALREADY_EXISTS",e[e.INJECT_STREAM_STATUS_START_UNAUTHORIZED=2]="INJECT_STREAM_STATUS_START_UNAUTHORIZED",e[e.INJECT_STREAM_STATUS_START_TIMEOUT=3]="INJECT_STREAM_STATUS_START_TIMEOUT",e[e.INJECT_STREAM_STATUS_START_FAILED=4]="INJECT_STREAM_STATUS_START_FAILED",e[e.INJECT_STREAM_STATUS_STOP_SUCCESS=5]="INJECT_STREAM_STATUS_STOP_SUCCESS",e[e.INJECT_STREAM_STATUS_STOP_NOT_FOUND=6]="INJECT_STREAM_STATUS_STOP_NOT_FOUND",e[e.INJECT_STREAM_STATUS_STOP_UNAUTHORIZED=7]="INJECT_STREAM_STATUS_STOP_UNAUTHORIZED",e[e.INJECT_STREAM_STATUS_STOP_TIMEOUT=8]="INJECT_STREAM_STATUS_STOP_TIMEOUT",e[e.INJECT_STREAM_STATUS_STOP_FAILED=9]="INJECT_STREAM_STATUS_STOP_FAILED",e[e.INJECT_STREAM_STATUS_BROKEN=10]="INJECT_STREAM_STATUS_BROKEN"}(Sy||(Sy={}));const xy={alpha:1,height:640,width:360,x:0,y:0,zOrder:0,audioChannel:0},My={x:0,y:0,width:160,height:160,zOrder:255,alpha:1};function Ly(e,t){LE(e.url,"".concat(t,".url"),1,1e3,!1),GE(e.x)||xE(e.x,"".concat(t,".x"),0,1e4),GE(e.y)||xE(e.y,"".concat(t,".y"),0,1e4),GE(e.width)||xE(e.width,"".concat(t,".width"),0,1e4),GE(e.height)||xE(e.height,"".concat(t,".height"),0,1e4),GE(e.zOrder)||xE(e.zOrder,"".concat(t,".zOrder"),0,255),GE(e.alpha)||xE(e.alpha,"".concat(t,".alpha"),0,1,!1)}const Py={audioBitrate:48,audioChannels:1,audioSampleRate:48e3,backgroundColor:0,height:360,lowLatency:!1,videoBitrate:400,videoCodecProfile:100,videoCodecType:1,videoFrameRate:15,videoGop:30,width:640,images:[],userConfigs:[],userConfigExtraInfo:""},Gy={audioBitrate:48,audioChannels:2,audioVolume:100,audioSampleRate:48e3,height:0,width:0,videoBitrate:400,videoFramerate:15,videoGop:30};var Yy,jy,Xy,Ky,Hy,zy,qy,$y,eb,tb,nb,ib,rb,ob;function ab(e){if(!e.channelName)throw new Wy(ZE.INVALID_PARAMS,"invalid channelName in info");if("number"!=typeof e.uid)throw new Wy(ZE.INVALID_PARAMS,"invalid uid in info, uid must be a number");return e.token&&LE(e.token,"info.token",1,2047),Jy(e.uid),Oy(e.channelName),!0}!function(e){e.WARNING="@live_uap-warning",e.ERROR="@line_uap-error",e.PUBLISH_STREAM_STATUS="@live_uap-publish-status",e.INJECT_STREAM_STATUS="@live_uap-inject-status",e.WORKER_STATUS="@live_uap-worker-status",e.REQUEST_NEW_ADDRESS="@live_uap-request-address"}(Yy||(Yy={})),function(e){e.REQUEST_WORKER_MANAGER_LIST="@live_req_worker_manager"}(jy||(jy={})),function(e){e[e.LIVE_STREAM_RESPONSE_SUCCEED=200]="LIVE_STREAM_RESPONSE_SUCCEED",e[e.LIVE_STREAM_RESPONSE_ALREADY_EXISTS_STREAM=454]="LIVE_STREAM_RESPONSE_ALREADY_EXISTS_STREAM",e[e.LIVE_STREAM_RESPONSE_TRANSCODING_PARAMETER_ERROR=450]="LIVE_STREAM_RESPONSE_TRANSCODING_PARAMETER_ERROR",e[e.LIVE_STREAM_RESPONSE_BAD_STREAM=451]="LIVE_STREAM_RESPONSE_BAD_STREAM",e[e.LIVE_STREAM_RESPONSE_WM_PARAMETER_ERROR=400]="LIVE_STREAM_RESPONSE_WM_PARAMETER_ERROR",e[e.LIVE_STREAM_RESPONSE_WM_WORKER_NOT_EXIST=404]="LIVE_STREAM_RESPONSE_WM_WORKER_NOT_EXIST",e[e.LIVE_STREAM_RESPONSE_NOT_AUTHORIZED=456]="LIVE_STREAM_RESPONSE_NOT_AUTHORIZED",e[e.LIVE_STREAM_RESPONSE_FAILED_LOAD_IMAGE=457]="LIVE_STREAM_RESPONSE_FAILED_LOAD_IMAGE",e[e.LIVE_STREAM_RESPONSE_REQUEST_TOO_OFTEN=429]="LIVE_STREAM_RESPONSE_REQUEST_TOO_OFTEN",e[e.LIVE_STREAM_RESPONSE_NOT_FOUND_PUBLISH=452]="LIVE_STREAM_RESPONSE_NOT_FOUND_PUBLISH",e[e.LIVE_STREAM_RESPONSE_NOT_SUPPORTED=453]="LIVE_STREAM_RESPONSE_NOT_SUPPORTED",e[e.LIVE_STREAM_RESPONSE_MAX_STREAM_NUM=455]="LIVE_STREAM_RESPONSE_MAX_STREAM_NUM",e[e.LIVE_STREAM_RESPONSE_INTERNAL_SERVER_ERROR=500]="LIVE_STREAM_RESPONSE_INTERNAL_SERVER_ERROR",e[e.LIVE_STREAM_RESPONSE_WORKER_LOST=501]="LIVE_STREAM_RESPONSE_WORKER_LOST",e[e.LIVE_STREAM_RESPONSE_RESOURCE_LIMIT=502]="LIVE_STREAM_RESPONSE_RESOURCE_LIMIT",e[e.LIVE_STREAM_RESPONSE_WORKER_QUIT=503]="LIVE_STREAM_RESPONSE_WORKER_QUIT",e[e.ERROR_FAIL_SEND_MESSAGE=504]="ERROR_FAIL_SEND_MESSAGE",e[e.PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE=30]="PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE",e[e.PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT=31]="PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT",e[e.PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH=32]="PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH",e[e.PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN=33]="PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN"}(Xy||(Xy={})),function(e){e.CONNECT_FAILED="connect failed",e.CONNECT_TIMEOUT="connect timeout",e.WS_DISCONNECTED="websocket disconnected",e.REQUEST_TIMEOUT="request timeout",e.REQUEST_FAILED="request failed",e.WAIT_STATUS_TIMEOUT="wait status timeout",e.WAIT_STATUS_ERROR="wait status error",e.BAD_STATE="bad state",e.WS_ABORT="ws abort",e.AP_REQUEST_TIMEOUT="AP request timeout",e.AP_JSON_PARSE_ERROR="AP json parse error",e.AP_REQUEST_ERROR="AP request error",e.AP_REQUEST_ABORT="AP request abort"}(Ky||(Ky={})),function(e){e[e.SetSdkProfile=0]="SetSdkProfile",e[e.SetSourceChannel=1]="SetSourceChannel",e[e.SetSourceUserId=2]="SetSourceUserId",e[e.SetDestChannel=3]="SetDestChannel",e[e.StartPacketTransfer=4]="StartPacketTransfer",e[e.StopPacketTransfer=5]="StopPacketTransfer",e[e.UpdateDestChannel=6]="UpdateDestChannel",e[e.Reconnect=7]="Reconnect",e[e.SetVideoProfile=8]="SetVideoProfile"}(Hy||(Hy={})),function(e){e.NETWORK_DISCONNECTED="NETWORK_DISCONNECTED",e.NETWORK_CONNECTED="NETWORK_CONNECTED",e.PACKET_JOINED_SRC_CHANNEL="PACKET_JOINED_SRC_CHANNEL",e.PACKET_JOINED_DEST_CHANNEL="PACKET_JOINED_DEST_CHANNEL",e.PACKET_SENT_TO_DEST_CHANNEL="PACKET_SENT_TO_DEST_CHANNEL",e.PACKET_RECEIVED_VIDEO_FROM_SRC="PACKET_RECEIVED_VIDEO_FROM_SRC",e.PACKET_RECEIVED_AUDIO_FROM_SRC="PACKET_RECEIVED_AUDIO_FROM_SRC",e.PACKET_UPDATE_DEST_CHANNEL="PACKET_UPDATE_DEST_CHANNEL",e.PACKET_UPDATE_DEST_CHANNEL_REFUSED="PACKET_UPDATE_DEST_CHANNEL_REFUSED",e.PACKET_UPDATE_DEST_CHANNEL_NOT_CHANGE="PACKET_UPDATE_DEST_CHANNEL_NOT_CHANGE"}(zy||(zy={})),function(e){e.RELAY_STATE_IDLE="RELAY_STATE_IDLE",e.RELAY_STATE_CONNECTING="RELAY_STATE_CONNECTING",e.RELAY_STATE_RUNNING="RELAY_STATE_RUNNING",e.RELAY_STATE_FAILURE="RELAY_STATE_FAILURE"}(qy||(qy={})),function(e){e.RELAY_OK="RELAY_OK",e.SERVER_CONNECTION_LOST="SERVER_CONNECTION_LOST",e.SRC_TOKEN_EXPIRED="SRC_TOKEN_EXPIRED",e.DEST_TOKEN_EXPIRED="DEST_TOKEN_EXPIRED"}($y||($y={})),function(e){e.High="high",e.Low="low",e.Audio="audio",e.Screen="screen",e.ScreenLow="screen_low"}(eb||(eb={})),function(e){e.DISCONNECT="disconnect",e.CONNECTION_STATE_CHANGE="connection-state-change",e.NETWORK_QUALITY="network-quality",e.STREAM_TYPE_CHANGE="stream-type-change",e.IS_P2P_DISCONNECTED="is-p2p-dis",e.DISCONNECT_P2P="dis-p2p",e.REQUEST_NEW_GATEWAY_LIST="req-gate-url",e.NEED_RENEW_SESSION="need-sid",e.REQUEST_P2P_CONNECTION_PARAMS="request-p2p-connection-params",e.JOIN_RESPONSE="join-response",e.REQUEST_DC_CONNECTION_PARAMS="request-dc-connection-params",e.RESET_CONNECTION_EVENTS="reset-connection-events",e.DATACHANNEL_PRECONNECT="datachannel_preconnect",e.DATACHANNEL_FAILBACK="datachannel_failback",e.RESET_SIGNAL="reset-signal"}(tb||(tb={})),function(e){e.P2P_DISCONNECTED="P2P_DISCONNECTED",e.A_ROUND_WS_FAILED="A_ROUND_WS_FAILED",e.TIMEOUT="TIMEOUT",e.UNKNOWN_REASON="UNKNOWN_REASON"}(nb||(nb={})),function(e){e[e.Nothing=0]="Nothing",e[e.Audio=1]="Audio",e[e.LwoVideo=2]="LwoVideo",e[e.Video=4]="Video",e[e.Data=8]="Data",e[e.DataStream0=256]="DataStream0",e[e.DataStream1=512]="DataStream1",e[e.DataStream2=1024]="DataStream2",e[e.DataStream3=2048]="DataStream3",e[e.DataStream4=4096]="DataStream4",e[e.DataStream5=8192]="DataStream5",e[e.DataStream6=16384]="DataStream6",e[e.DataStream7=32768]="DataStream7"}(ib||(ib={})),function(e){e[e.websocket=0]="websocket",e[e.datachannel=1]="datachannel"}(rb||(rb={})),function(e){e.CHINA="CHINA",e.ASIA="ASIA",e.NORTH_AMERICA="NORTH_AMERICA",e.EUROPE="EUROPE",e.JAPAN="JAPAN",e.INDIA="INDIA",e.KOREA="KOREA",e.HKMC="HKMC",e.US="US",e.OCEANIA="OCEANIA",e.SOUTH_AMERICA="SOUTH_AMERICA",e.AFRICA="AFRICA",e.OVERSEA="OVERSEA",e.GLOBAL="GLOBAL",e.EXTENSIONS="EXTENSIONS"}(ob||(ob={}));const sb=[ob.AFRICA,ob.ASIA,ob.CHINA,ob.EUROPE,ob.GLOBAL,ob.INDIA,ob.JAPAN,ob.NORTH_AMERICA,ob.OCEANIA,ob.OVERSEA,ob.SOUTH_AMERICA];var cb;!function(e){e.CHINA="CN",e.ASIA="AS",e.NORTH_AMERICA="NA",e.EUROPE="EU",e.JAPAN="JP",e.INDIA="IN",e.KOREA="KR",e.HKMC="HK",e.US="US",e.OCEANIA="OC",e.SOUTH_AMERICA="SA",e.AFRICA="AF",e.OVERSEA="OVERSEA",e.GLOBAL="GLOBAL",e.EXTENSIONS="GLOBAL"}(cb||(cb={}));const lb={CHINA:{},ASIA:{CODE:cb.ASIA,WEBCS_DOMAIN:["ap-web-1-asia.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-asia.agora.io"],PROXY_CS:["proxy-ap-web-asia.agora.io"],CDS_AP:["cds-ap-web-asia.agora.io","cds-ap-web-asia2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-asia.agora.io","sua-ap-web-asia2.agora.io"],UAP_AP:["uap-ap-web-asia.agora.io","uap-ap-web-asia2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-asia.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-asia.agora.io"],LOG_UPLOAD_SERVER:["logservice-asia.agora.io"],PROXY_SERVER_TYPE3:["southeast-asia.webrtc-cloud-proxy.sd-rtn.com"]},NORTH_AMERICA:{CODE:cb.NORTH_AMERICA,WEBCS_DOMAIN:["ap-web-1-north-america.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-north-america.agora.io"],PROXY_CS:["proxy-ap-web-america.agora.io"],CDS_AP:["cds-ap-web-america.agora.io","cds-ap-web-america2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-america.agora.io","sua-ap-web-america2.agora.io"],UAP_AP:["uap-ap-web-america.agora.io","uap-ap-web-america2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-north-america.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-north-america.agora.io"],LOG_UPLOAD_SERVER:["logservice-north-america.agora.io"],PROXY_SERVER_TYPE3:["east-usa.webrtc-cloud-proxy.sd-rtn.com"]},EUROPE:{CODE:cb.EUROPE,WEBCS_DOMAIN:["ap-web-1-europe.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-europe.agora.io"],PROXY_CS:["proxy-ap-web-europe.agora.io"],CDS_AP:["cds-ap-web-europe.agora.io","cds-ap-web-europe2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-europe.agora.io","sua-ap-web-europe.agora.io"],UAP_AP:["uap-ap-web-europe.agora.io","uap-ap-web-europe2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-europe.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-europe.agora.io"],LOG_UPLOAD_SERVER:["logservice-europe.agora.io"],PROXY_SERVER_TYPE3:["europe.webrtc-cloud-proxy.sd-rtn.com"]},JAPAN:{CODE:cb.JAPAN,WEBCS_DOMAIN:["ap-web-1-japan.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-japan.agora.io"],PROXY_CS:["proxy-ap-web-japan.agora.io"],CDS_AP:["cds-ap-web-japan.agora.io","cds-ap-web-japan2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-japan.agora.io","sua-ap-web-japan2.agora.io"],UAP_AP:["uap-ap-web-japan.agora.io","uap-ap-web-japan2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-japan.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-japan.agora.io"],LOG_UPLOAD_SERVER:["logservice-japan.agora.io"],PROXY_SERVER_TYPE3:["japan.webrtc-cloud-proxy.sd-rtn.com"]},INDIA:{CODE:cb.INDIA,WEBCS_DOMAIN:["ap-web-1-india.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-india.agora.io"],PROXY_CS:["proxy-ap-web-india.agora.io"],CDS_AP:["cds-ap-web-india.agora.io","cds-ap-web-india2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-india.agora.io","sua-ap-web-india2.agora.io"],UAP_AP:["uap-ap-web-india.agora.io","uap-ap-web-india2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-india.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-india.agora.io"],LOG_UPLOAD_SERVER:["logservice-india.agora.io"],PROXY_SERVER_TYPE3:["india.webrtc-cloud-proxy.sd-rtn.com"]},KOREA:{CODE:cb.KOREA,WEBCS_DOMAIN:["ap-web-1-korea.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-korea.agora.io"],PROXY_CS:["proxy-ap-web-korea.agora.io"],CDS_AP:["cds-ap-web-korea.agora.io","cds-ap-web-korea2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-korea.agora.io","sua-ap-web-korea2.agora.io"],UAP_AP:["uap-ap-web-korea.agora.io","uap-ap-web-korea2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-korea.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-korea.agora.io"],LOG_UPLOAD_SERVER:["logservice-korea.agora.io"],PROXY_SERVER_TYPE3:["korea.webrtc-cloud-proxy.sd-rtn.com"]},HKMC:{CODE:cb.HKMC,WEBCS_DOMAIN:["ap-web-1-hkmc.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-hkmc.agora.io"],PROXY_CS:["proxy-ap-web-hkmc.agora.io"],CDS_AP:["cds-ap-web-hkmc.agora.io","cds-ap-web-hkmc2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-hkmc.agora.io","sua-ap-web-hkmc2.agora.io"],UAP_AP:["uap-ap-web-hkmc.agora.io","uap-ap-web-hkmc2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-hkmc.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-hkmc.agora.io"],LOG_UPLOAD_SERVER:["logservice-hkmc.agora.io"],PROXY_SERVER_TYPE3:["hkmc.webrtc-cloud-proxy.sd-rtn.com"]},US:{CODE:cb.US,WEBCS_DOMAIN:["ap-web-1-us.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-us.agora.io"],PROXY_CS:["proxy-ap-web-us.agora.io"],CDS_AP:["cds-ap-web-us.agora.io","cds-ap-web-us2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-us.agora.io","sua-ap-web-us2.agora.io"],UAP_AP:["uap-ap-web-us.agora.io","uap-ap-web-us2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-us.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-us.agora.io"],LOG_UPLOAD_SERVER:["logservice-us.agora.io"],PROXY_SERVER_TYPE3:["us.webrtc-cloud-proxy.sd-rtn.com"]},OVERSEA:{CODE:cb.OVERSEA,WEBCS_DOMAIN:["ap-web-1-oversea.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-oversea.agora.io"],PROXY_CS:["proxy-ap-web-oversea.agora.io"],CDS_AP:["cds-ap-web-oversea.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-oversea.agora.io"],UAP_AP:["uap-ap-web-oversea.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-oversea.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-oversea.agora.io"],LOG_UPLOAD_SERVER:["logservice-oversea.agora.io"],PROXY_SERVER_TYPE3:["webrtc-cloud-proxy.agora.io"]},GLOBAL:{CODE:cb.GLOBAL,WEBCS_DOMAIN:["webrtc2-ap-web-1.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["webrtc2-ap-web-3.agora.io"],PROXY_CS:["ap-proxy-1.agora.io","ap-proxy-2.agora.io"],CDS_AP:["cds-ap-web-1.agora.io","cds-ap-web-3.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-1.agora.io","sua-ap-web-3.agora.io"],UAP_AP:["uap-ap-web-1.agora.io","uap-ap-web-3.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2.agora.io"],LOG_UPLOAD_SERVER:["logservice.agora.io"],PROXY_SERVER_TYPE3:["webrtc-cloud-proxy.sd-rtn.com"]},OCEANIA:{CODE:cb.OCEANIA,WEBCS_DOMAIN:["ap-web-1-oceania.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-oceania.agora.io"],PROXY_CS:["proxy-ap-web-oceania.agora.io"],CDS_AP:["cds-ap-web-oceania.agora.io","cds-ap-web-oceania2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-oceania.agora.io","sua-ap-web-oceania2.agora.io"],UAP_AP:["uap-ap-web-oceania.agora.io","uap-ap-web-oceania2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-oceania.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-oceania.agora.io"],LOG_UPLOAD_SERVER:["logservice-oceania.agora.io"],PROXY_SERVER_TYPE3:["oceania.webrtc-cloud-proxy.sd-rtn.com"]},SOUTH_AMERICA:{CODE:cb.SOUTH_AMERICA,WEBCS_DOMAIN:["ap-web-1-south-america.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-south-america.agora.io"],PROXY_CS:["proxy-ap-web-south-america.agora.io"],CDS_AP:["cds-ap-web-south-america.agora.io","cds-ap-web-south-america2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-south-america.agora.io","sua-ap-web-south-america2.agora.io"],UAP_AP:["uap-ap-web-south-america.agora.io","uap-ap-web-south-america2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-south-america.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-south-america.agora.io"],LOG_UPLOAD_SERVER:["logservice-south-america.agora.io"],PROXY_SERVER_TYPE3:["south-america.webrtc-cloud-proxy.sd-rtn.com"]},AFRICA:{CODE:cb.AFRICA,WEBCS_DOMAIN:["ap-web-1-africa.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-africa.agora.io"],PROXY_CS:["proxy-ap-web-africa.agora.io"],CDS_AP:["cds-ap-web-africa.agora.io","cds-ap-web-africa2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-africa.agora.io","sua-ap-web-africa2.agora.io"],UAP_AP:["uap-ap-web-africa.agora.io","uap-ap-web-africa2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-africa.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-africa.agora.io"],LOG_UPLOAD_SERVER:["logservice-south-africa.agora.io"],PROXY_SERVER_TYPE3:["africa.webrtc-cloud-proxy.sd-rtn.com"]},EXTENSIONS:{}};var db,ub,hb,Ab,pb,gb,fb,mb,Eb,Cb,Ib,Qb,Ub,yb,bb,vb,Rb,Sb,Fb,Bb,Tb,Nb,_b,wb;RU&&(lb.CHINA={CODE:cb.CHINA,WEBCS_DOMAIN:["webrtc2-2.ap.sd-rtn.com"],WEBCS_DOMAIN_BACKUP_LIST:["webrtc2-4.ap.sd-rtn.com"],PROXY_CS:["proxy-web.ap.sd-rtn.com"],CDS_AP:["cds-web-2.ap.sd-rtn.com","cds-web-4.ap.sd-rtn.com"],ACCOUNT_REGISTER:["sua-web-2.ap.sd-rtn.com","sua-web-4.ap.sd-rtn.com"],UAP_AP:["uap-web-2.ap.sd-rtn.com","uap-web-4.ap.sd-rtn.com"],EVENT_REPORT_DOMAIN:["web-3.statscollector.sd-rtn.com"],EVENT_REPORT_BACKUP_DOMAIN:["web-4.statscollector.sd-rtn.com"],LOG_UPLOAD_SERVER:["logservice-china.agora.io"],PROXY_SERVER_TYPE3:["east-cn.webrtc-cloud-proxy.sd-rtn.com"]}),function(e){e.UPDATE_BITRATE_LIMIT="update_bitrate_limit"}(db||(db={}));class kb extends nC{constructor(e,t){super(),ih(this,"onICEConnectionStateChange",void 0),ih(this,"onConnectionStateChange",void 0),ih(this,"onDTLSTransportStateChange",void 0),ih(this,"onDTLSTransportError",void 0),ih(this,"onICETransportStateChange",void 0),ih(this,"onFirstAudioReceived",void 0),ih(this,"onFirstVideoReceived",void 0),ih(this,"onFirstAudioDecoded",void 0),ih(this,"onFirstVideoDecoded",void 0),ih(this,"onFirstVideoDecodedTimeout",void 0),ih(this,"onSelectedLocalCandidateChanged",void 0),ih(this,"onSelectedRemoteCandidateChanged",void 0)}}class Db extends kb{constructor(e,t){super(e,t)}}!function(e){e.SEND="sendonly",e.RECV="recvonly",e.SENDRECV="sendrecv",e.INACTIVE="inactive"}(ub||(ub={})),function(e){e.VIDEO="video",e.AUDIO="audio"}(hb||(hb={})),function(e){e[e.UDP=0]="UDP",e[e.TCP=1]="TCP",e[e.RELAY=2]="RELAY"}(Ab||(Ab={})),function(e){e[e.FIRST_CONNECTION=0]="FIRST_CONNECTION",e[e.TCP_RESTART=1]="TCP_RESTART",e[e.RELAY_RESTART=2]="RELAY_RESTART",e[e.OLD_FIRST_CONNECTION=10]="OLD_FIRST_CONNECTION",e[e.OLD_RESTART=11]="OLD_RESTART",e[e.DISCONNECTED_OR_FAILED=20]="DISCONNECTED_OR_FAILED"}(pb||(pb={})),function(e){e.LocalVideoTrack="videoTrack",e.LocalAudioTrack="audioTrack",e.LocalVideoLowTrack="videoLowTrack"}(gb||(gb={})),function(e){e.New="new",e.Connected="connected",e.Reconnecting="reconnecting",e.Disconnected="disconnected"}(fb||(fb={})),function(e){e.StateChange="stateChange",e.IceConnectionStateChange="iceConnectionStateChange",e.RequestMuteLocal="requestMuteLocal",e.RequestUnmuteLocal="requestUnmuteLocal",e.RequestRePublish="requestRePublish",e.RequestRePublishDataChannel="requestRePublishDataChannel",e.RequestReSubscribe="requestReSubscribe",e.RequestUploadStats="requestUploadStats",e.RequestUpload="requestUpload",e.MediaReconnectStart="MediaReconnectStart",e.MediaReconnectEnd="MediaReconnectEnd",e.NeedSignalRTT="NeedSignalRTT",e.RequestRestartICE="RequestRestartIce",e.PeerConnectionStateChange="PeerConnectionStateChange",e.RequestReconnect="RequestReconnect",e.RequestReconnectPC="RequestReconnectPC",e.RequestUnpublishForReconnectPC="RequestUnpublishForReconnectPC",e.P2PLost="P2PLost",e.UpdateVideoEncoder="UpdateVideoEncoder",e.ConnectionTypeChange="ConnectionTypeChange",e.RequestLowStreamParameter="RequestLowStreamParameter",e.QueryClientConnectionState="QueryClientConnectionState",e.LocalCandidate="LocalCandidate",e.RequestP2PMuteLocal="requestP2PMuteLocal",e.RequestP2PUnPublish="RequestP2PUnPublish",e.RequestP2PUnmuteRemote="RequestP2PUnmuteRemote",e.RequestP2PMuteRemote="RequestP2PMuteRemote",e.RequestP2PRestartICE="RequestP2PRestartICE"}(mb||(mb={})),function(e){e.MUTE_LOCAL_VIDEO="mute_local_video",e.MUTE_LOCAL_AUDIO="mute_local_audio",e.UNMUTE_LOCAL_VIDEO="unmute_local_video",e.UNMUTE_LOCAL_AUDIO="unmute_local_audio",e.MUTE_REMOTE_VIDEO="mute_remote_video",e.MUTE_REMOTE_AUDIO="mute_remote_audio",e.UNMUTE_REMOTE_VIDEO="unmute_remote_video",e.UNMUTE_REMOTE_AUDIO="unmute_remote_audio"}(Eb||(Eb={})),function(e){e.CONNECTING="CONNECTING",e.RECONNECTING="RECONNECTING",e.CONNECTED="CONNECTED",e.CLOSED="CLOSED"}(Cb||(Cb={})),function(e){e[e.CONNECT_AP=0]="CONNECT_AP",e[e.AP_CONNECTED=1]="AP_CONNECTED",e[e.CONNECT_WORKER_MANAGER=2]="CONNECT_WORKER_MANAGER",e[e.WORKER_MANAGER_CONNECTED=3]="WORKER_MANAGER_CONNECTED",e[e.GET_WORKER_MANAGER_RESPONSE=4]="GET_WORKER_MANAGER_RESPONSE",e[e.CONNECT_WORKER=5]="CONNECT_WORKER",e[e.WORKER_CONNECTED=6]="WORKER_CONNECTED",e[e.CLOSED=7]="CLOSED"}(Ib||(Ib={})),function(e){e.CONNECTION_STATE_CHANGE="connection-state-change",e.STATE_CHANGE="state-change",e.INSPECT_RESULT="inspect-result",e.CLIENT_LOCAL_VIDEO_TRACK="client-local-video-track",e.REQUEST_NEW_WORKER_URL="request-new-worker-url"}(Qb||(Qb={})),function(e){e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.MULTI_IP="MULTI_IP",e.TIMEOUT="TIMEOUT",e.OFFLINE="OFFLINE",e.LEAVE="LEAVE",e.P2P_FAILED="P2P_FAILED",e.FALLBACK="FALLBACK"}(Ub||(Ub={})),function(e){e.CONNECTED="transmitter:connected",e.RECONNECTING="transmitter:reconnecting",e.WILL_RECONNECT="transmitter:will_reconnect",e.CLOSED="transmitter:closed",e.FAILED="transmitter:failed",e.ON_MESSAGE="transmitter:on_message",e.REQUEST_NEW_URLS="transmitter:request_new_urls",e.RECONNECT_WAITTING_FINISH="transmitter:reconnect_waitting_finish",e.RECONNECT_CREATE_CONNECTION="transmitter:reconnect_create_connection",e.ON_TOKEN_PRIVILEGE_DID_EXPIRE="transmitter:on_token_privilege_did_expire",e.TO_CONNECT_DATACHANNEL="transmitter:to_connect_datachannel",e.FAILBACK="transmitter:failback"}(yb||(yb={})),function(e){e.CAMERA_CHANGED="camera-changed",e.MICROPHONE_CHANGED="microphone-changed",e.PLAYBACK_DEVICE_CHANGED="playback-device-changed",e.AUDIO_AUTOPLAY_FAILED="audio-autoplay-failed",e.AUTOPLAY_FAILED="autoplay-failed",e.AUDIO_CONTEXT_STATE_CHANGED="audio-context-state-changed",e.SECURITY_POLICY_VIOLATION="security-policy-violation"}(bb||(bb={})),function(e){e[e.APP_TYPE_INVALID_VALUE=-1]="APP_TYPE_INVALID_VALUE",e[e.APP_TYPE_NATIVE=0]="APP_TYPE_NATIVE",e[e.APP_TYPE_NATIVE_COCOS=1]="APP_TYPE_NATIVE_COCOS",e[e.APP_TYPE_NATIVE_UNITY=2]="APP_TYPE_NATIVE_UNITY",e[e.APP_TYPE_NATIVE_ELECTRON=3]="APP_TYPE_NATIVE_ELECTRON",e[e.APP_TYPE_NATIVE_FLUTTER=4]="APP_TYPE_NATIVE_FLUTTER",e[e.APP_TYPE_NATIVE_UNREAL=5]="APP_TYPE_NATIVE_UNREAL",e[e.APP_TYPE_NATIVE_XAMARIN=6]="APP_TYPE_NATIVE_XAMARIN",e[e.APP_TYPE_NATIVE_API_CLOUD=7]="APP_TYPE_NATIVE_API_CLOUD",e[e.APP_TYPE_NATIVE_REACT_NATIVE=8]="APP_TYPE_NATIVE_REACT_NATIVE",e[e.APP_TYPE_NATIVE_PYTHON=9]="APP_TYPE_NATIVE_PYTHON",e[e.APP_TYPE_NATIVE_COCOS_CREATOR=10]="APP_TYPE_NATIVE_COCOS_CREATOR",e[e.APP_TYPE_NATIVE_RUST=11]="APP_TYPE_NATIVE_RUST",e[e.APP_TYPE_NATIVE_C_SHARP=12]="APP_TYPE_NATIVE_C_SHARP",e[e.APP_TYPE_NATIVE_CEF=13]="APP_TYPE_NATIVE_CEF",e[e.APP_TYPE_NATIVE_UNI_APP=14]="APP_TYPE_NATIVE_UNI_APP",e[e.APP_TYPE_WEBRTC=1e3]="APP_TYPE_WEBRTC",e[e.APP_TYPE_WEBRTC_REACT=1001]="APP_TYPE_WEBRTC_REACT",e[e.APP_TYPE_WEBRTC_VUE=1002]="APP_TYPE_WEBRTC_VUE",e[e.APP_TYPE_WEBRTC_ANGULAR=1003]="APP_TYPE_WEBRTC_ANGULAR"}(vb||(vb={})),function(e){e.CONNECTING="CONNECTING",e.RECONNECTING="RECONNECTING",e.CONNECTED="CONNECTED",e.CLOSED="CLOSED"}(Rb||(Rb={})),function(e){e.CONNECTION_STATE_CHANGE="connection-state-change",e.STATE_CHANGE="state-change",e.INSPECT_RESULT="inspect-result",e.CLIENT_LOCAL_VIDEO_TRACK="client-local-video-track",e.REQUEST_NEW_WORKER_URL="request-new-worker-url"}(Sb||(Sb={})),function(e){e[e.CONNECT_AP=0]="CONNECT_AP",e[e.AP_CONNECTED=1]="AP_CONNECTED",e[e.CONNECT_WORKER_MANAGER=2]="CONNECT_WORKER_MANAGER",e[e.WORKER_MANAGER_CONNECTED=3]="WORKER_MANAGER_CONNECTED",e[e.GET_WORKER_MANAGER_RESPONSE=4]="GET_WORKER_MANAGER_RESPONSE",e[e.CONNECT_WORKER=5]="CONNECT_WORKER",e[e.WORKER_CONNECTED=6]="WORKER_CONNECTED",e[e.CLOSED=7]="CLOSED"}(Fb||(Fb={})),function(e){e.CALL="call",e.CANDIDATE="candidate",e.PUBLISH="publish",e.UNPUBLISH="unpublish",e.CONTROL="control",e.RESTART_ICE="restart_ice",e.ACK="ack",e.RESPONSE="response",e.JOIN="join",e.CHECK="check"}(Bb||(Bb={})),function(e){e.ABORT="abort"}(Tb||(Tb={})),function(e){e.MUTE_LOCAL_AUDIO="mute_local_audio",e.MUTE_LOCAL_VIDEO="mute_local_video",e.UNMUTE_LOCAL_AUDIO="unmute_local_audio",e.UNMUTE_LOCAL_VIDEO="unmute_local_video"}(Nb||(Nb={})),function(e){e[e.SUCCESS=1]="SUCCESS",e[e.FAILED=0]="FAILED"}(_b||(_b={})),function(e){e.P2P_TOKEN_TIMEOUT="p2p_token_timeout",e.P2P_TOKEN_CHANGED="p2p_token_changed"}(wb||(wb={}));const Vb={[Ay.ACCESS_POINT]:{[fy.NO_FLAG_SET]:{desc:"flag is zero",retry:!1},[fy.FLAG_SET_BUT_EMPTY]:{desc:"flag is empty",retry:!1},[fy.INVALID_FALG_SET]:{desc:"invalid flag",retry:!1},[fy.FLAG_SET_BUT_NO_RE]:{desc:"flag set unilbs but no request",retry:!1},[fy.INVALID_SERVICE_ID]:{desc:"invalid service id",retry:!1},[fy.NO_SERVICE_AVAILABLE]:{desc:"no service available",retry:!0},[fy.NO_SERVICE_AVAILABLE_P2P]:{desc:"no unilbs p2p service available",retry:!0},[fy.NO_SERVICE_AVAILABLE_VOICE]:{desc:"no unilbs voice service available",retry:!0},[fy.NO_SERVICE_AVAILABLE_WEBRTC]:{desc:"no unilbs webrtc service available",retry:!0},[fy.NO_SERVICE_AVAILABLE_CDS]:{desc:"no cds service available",retry:!0},[fy.NO_SERVICE_AVAILABLE_CDN]:{desc:"no cdn dispatcher service available",retry:!0},[fy.NO_SERVICE_AVAILABLE_TDS]:{desc:"no tds service available",retry:!0},[fy.NO_SERVICE_AVAILABLE_REPORT]:{desc:"no unilbs report service available",retry:!0},[fy.NO_SERVICE_AVAILABLE_APP_CENTER]:{desc:"no app center service available",retry:!0},[fy.NO_SERVICE_AVAILABLE_ENV0]:{desc:"no unilbs sig env0 service available",retry:!0},[fy.NO_SERVICE_AVAILABLE_VOET]:{desc:"no unilbs voet service available",retry:!0},[fy.NO_SERVICE_AVAILABLE_STRING_UID]:{desc:"no string uid service available",retry:!0},[fy.NO_SERVICE_AVAILABLE_WEBRTC_UNILBS]:{desc:"no webrtc unilbs service available",retry:!0}},[Ay.UNILBS]:{[gy.INVALID_VENDOR_KEY]:{desc:"invalid vendor key, can not find appid",retry:!1},[gy.INVALID_CHANNEL_NAME]:{desc:"invalid channel name",retry:!1},[gy.INTERNAL_ERROR]:{desc:"unilbs internal error",retry:!1},[gy.NO_AUTHORIZED]:{desc:"invalid token, authorized failed",retry:!1},[gy.DYNAMIC_KEY_TIMEOUT]:{desc:"dynamic key or token timeout",retry:!1},[gy.NO_ACTIVE_STATUS]:{desc:"no active status",retry:!1},[gy.DYNAMIC_KEY_EXPIRED]:{desc:"dynamic key expired",retry:!1},[gy.STATIC_USE_DYNAMIC_KEY]:{desc:"static use dynamic key",retry:!1},[gy.DYNAMIC_USE_STATIC_KEY]:{desc:"dynamic use static key",retry:!1},[gy.USER_OVERLOAD]:{desc:"amount of users over load",retry:!1},[gy.FORBIDDEN_REGION]:{desc:"the request is forbidden in this area",retry:!1},[gy.CANNOT_MEET_AREA_DEMAND]:{desc:"unable to allocate services in this area",retry:!1}},[Ay.STRING_UID_ALLOCATOR]:{[py.IIIEGAL_APPID]:{desc:"invalid appid",retry:!1},[py.IIIEGAL_UID]:{desc:"invalid string uid",retry:!1},[py.INTERNAL_ERROR]:{desc:"string uid allocator internal error",retry:!0}}};function Zb(e){const t=Vb[Math.floor(e/1e4)];if(!t)return{desc:"unkonw error",retry:!1};const n=t[e%1e4];if(!n){if(Math.floor(e/1e4)===Ay.ACCESS_POINT){const t=e%1e4;if("1"===t.toString()[0])return{desc:e.toString(),retry:!1};if("2"===t.toString()[0])return{desc:e.toString(),retry:!0}}return{desc:"unkonw error",retry:!1}}return n}const Wb={[my.K_TIMESTAMP_EXPIRED]:{desc:"K_TIMESTAMP_EXPIRED",action:"failed"},[my.K_CHANNEL_PERMISSION_INVALID]:{desc:"K_CHANNEL_PERMISSION_INVALID",action:"failed"},[my.K_CERTIFICATE_INVALID]:{desc:"K_CERTIFICATE_INVALID",action:"failed"},[my.K_CHANNEL_NAME_EMPTY]:{desc:"K_CHANNEL_NAME_EMPTY",action:"failed"},[my.K_CHANNEL_NOT_FOUND]:{desc:"K_CHANNEL_NOT_FOUND",action:"failed"},[my.K_TICKET_INVALID]:{desc:"K_TICKET_INVALID",action:"failed"},[my.K_CHANNEL_CONFLICTED]:{desc:"K_CHANNEL_CONFLICTED",action:"failed"},[my.K_SERVICE_NOT_READY]:{desc:"K_SERVICE_NOT_READY",action:"tryNext"},[my.K_SERVICE_TOO_HEAVY]:{desc:"K_SERVICE_TOO_HEAVY",action:"tryNext"},[my.K_UID_BANNED]:{desc:"K_UID_BANNED",action:"failed"},[my.K_IP_BANNED]:{desc:"K_IP_BANNED",action:"failed"},[my.K_AUTO_REBALANCE]:{desc:"k_AUTO_REBALANCE",action:"recover"},[my.ERR_INVALID_VENDOR_KEY]:{desc:"ERR_INVALID_VENDOR_KEY",action:"failed"},[my.ERR_INVALID_CHANNEL_NAME]:{desc:"ERR_INVALID_CHANNEL_NAME",action:"failed"},[my.WARN_NO_AVAILABLE_CHANNEL]:{desc:"WARN_NO_AVAILABLE_CHANNEL",action:"failed"},[my.WARN_LOOKUP_CHANNEL_TIMEOUT]:{desc:"WARN_LOOKUP_CHANNEL_TIMEOUT",action:"tryNext"},[my.WARN_LOOKUP_CHANNEL_REJECTED]:{desc:"WARN_LOOKUP_CHANNEL_REJECTED",action:"failed"},[my.WARN_OPEN_CHANNEL_TIMEOUT]:{desc:"WARN_OPEN_CHANNEL_TIMEOUT",action:"tryNext"},[my.WARN_OPEN_CHANNEL_REJECTED]:{desc:"WARN_OPEN_CHANNEL_REJECTED",action:"failed"},[my.WARN_REQUEST_DEFERRED]:{desc:"WARN_REQUEST_DEFERRED",action:"failed"},[my.ERR_DYNAMIC_KEY_TIMEOUT]:{desc:"ERR_DYNAMIC_KEY_TIMEOUT",action:"failed"},[my.ERR_NO_AUTHORIZED]:{desc:"ERR_NO_AUTHORIZED",action:"failed"},[my.ERR_VOM_SERVICE_UNAVAILABLE]:{desc:"ERR_VOM_SERVICE_UNAVAILABLE",action:"tryNext"},[my.ERR_NO_CHANNEL_AVAILABLE_CODE]:{desc:"ERR_NO_CHANNEL_AVAILABLE_CODE",action:"failed"},[my.ERR_MASTER_VOCS_UNAVAILABLE]:{desc:"ERR_MASTER_VOCS_UNAVAILABLE",action:"tryNext"},[my.ERR_INTERNAL_ERROR]:{desc:"ERR_INTERNAL_ERROR",action:"tryNext"},[my.ERR_NO_ACTIVE_STATUS]:{desc:"ERR_NO_ACTIVE_STATUS",action:"failed"},[my.ERR_INVALID_UID]:{desc:"ERR_INVALID_UID",action:"failed"},[my.ERR_DYNAMIC_KEY_EXPIRED]:{desc:"ERR_DYNAMIC_KEY_EXPIRED",action:"failed"},[my.ERR_STATIC_USE_DYANMIC_KE]:{desc:"ERR_STATIC_USE_DYANMIC_KE",action:"failed"},[my.ERR_DYNAMIC_USE_STATIC_KE]:{desc:"ERR_DYNAMIC_USE_STATIC_KE",action:"failed"},[my.ERR_NO_VOCS_AVAILABLE]:{desc:"ERR_NO_VOCS_AVAILABLE",action:"tryNext"},[my.ERR_NO_VOS_AVAILABLE]:{desc:"ERR_NO_VOS_AVAILABLE",action:"tryNext"},[my.ERR_JOIN_CHANNEL_TIMEOUT]:{desc:"ERR_JOIN_CHANNEL_TIMEOUT",action:"tryNext"},[my.ERR_JOIN_BY_MULTI_IP]:{desc:"ERR_JOIN_BY_MULTI_IP",action:"recover"},[my.ERR_NOT_JOINED]:{desc:"ERR_NOT_JOINED",action:"failed"},[my.ERR_REPEAT_JOIN_REQUEST]:{desc:"ERR_REPEAT_JOIN_REQUEST",action:"quit"},[my.ERR_REPEAT_JOIN_CHANNEL]:{desc:"ERR_REPEAT_JOIN_CHANNEL",action:"quit"},[my.ERR_INVALID_STRINGUID]:{desc:"ERR_INVALID_STRINGUID",action:"failed"},[my.ERR_TOO_MANY_USERS]:{desc:"ERR_TOO_MANY_USERS",action:"tryNext"},[my.ERR_SET_CLIENT_ROLE_TIMEOUT]:{desc:"ERR_SET_CLIENT_ROLE_TIMEOUT",action:"failed"},[my.ERR_SET_CLIENT_ROLE_NO_PERMISSION]:{desc:"ERR_SET_CLIENT_ROLE_TIMEOUT",action:"failed"},[my.ERR_SET_CLIENT_ROLE_ALREADY_IN_USE]:{desc:"ERR_SET_CLIENT_ROLE_ALREADY_IN_USE",action:"success"},[my.ERR_PUBLISH_REQUEST_INVALID]:{desc:"ERR_PUBLISH_REQUEST_INVALID",action:"failed"},[my.ERR_SUBSCRIBE_REQUEST_INVALID]:{desc:"ERR_SUBSCRIBE_REQUEST_INVALID",action:"failed"},[my.ERR_NOT_SUPPORTED_MESSAGE]:{desc:"ERR_NOT_SUPPORTED_MESSAGE",action:"failed"},[my.ERR_ILLEAGAL_PLUGIN]:{desc:"ERR_ILLEAGAL_PLUGIN",action:"failed"},[my.ILLEGAL_CLIENT_ROLE_LEVEL]:{desc:"ILLEGAL_CLIENT_ROLE_LEVEL",action:"failed"},[my.ERR_REJOIN_TOKEN_INVALID]:{desc:"ERR_REJOIN_TOKEN_INVALID",action:"failed"},[my.ERR_REJOIN_USER_NOT_JOINED]:{desc:"ERR_REJOIN_NOT_JOINED",action:"failed"},[my.ERR_INVALID_OPTIONAL_INFO]:{desc:"ERR_INVALID_OPTIONAL_INFO",action:"quit"},[my.ERR_TEST_RECOVER]:{desc:"ERR_TEST_RECOVER",action:"recover"},[my.ERR_TEST_TRYNEXT]:{desc:"ERR_TEST_TRYNEXT",action:"recover"},[my.ERR_TEST_RETRY]:{desc:"ERR_TEST_RETRY",action:"recover"},[my.ILLEGAL_AES_PASSWORD]:{desc:"ERR_TEST_RETRY",action:"failed"},[my.ERR_TOO_MANY_BROADCASTERS]:{desc:"ERR_TOO_MANY_BROADCASTERS",action:"failed"},[my.ERR_TOO_MANY_SUBSCRIBERS]:{desc:"ERR_TOO_MANY_SUBSCRIBERS",action:"failed"},[my.ERR_LICENSE_ILLEGAL]:{desc:"ERR_LICENSE_ILLEGAL",action:"quit"},[my.ERR_LICENSE_MISSING]:{desc:"ERR_LICENSE_MISSING",action:"quit"},[my.ERR_LICENSE_EXPIRED]:{desc:"ERR_LICENSE_EXPIRED",action:"quit"},[my.ERR_LICENSE_MINUTES_EXCEEDED]:{desc:"ERR_LICENSE_MINUTES_EXCEEDED",action:"quit"},[my.ERR_LICENSE_PERIOD_INVALID]:{desc:"ERR_LICENSE_PERIOD_INVALID",action:"quit"},[my.ERR_LICENSE_MULTIPLE_SDK_SERVICE]:{desc:"ERR_LICENSE_MULTIPLE_SDK_SERVICE",action:"quit"}};function Ob(e){return Wb[e]||{desc:"UNKNOW_ERROR_".concat(e),action:"failed"}}function Jb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function xb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jb(Object(n),!0).forEach((function(t){ih(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jb(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Mb(e){return e.every((e=>e.readyState===WebSocket.CLOSED||e.readyState===WebSocket.CLOSING))}function Lb(e,t){if("string"==typeof e)return e;const{proxy:n,host:i,port:r}=e;if(t){const e=NU("JOIN_GATEWAY_FALLBACK_PORT")||443;return 443===e?"wss://".concat(i,"/ws/?p=").concat(Number(r)+150):"wss://".concat(i,":").concat(e,"/ws/?p=").concat(Number(r)+150)}return n?"wss://".concat(n,"/ws/?h=").concat(i,"&p=").concat(r):"wss://".concat(i,":").concat(r)}const Pb=/wss:\/\/(.+)\/ws\/\?h=(.+)&p=([0-9]+)\/?/,Gb=/wss:\/\/(.+)\/ws\/\?p=([0-9]+)\/?/,Yb=/wss:\/\/(.+):([0-9]+)\/?/,jb=/wss:\/\/(.[^\/]+)\/?/;let Xb=0;class Kb{constructor(e,t){ih(this,"id",0),ih(this,"store",void 0),ih(this,"recordIndex",void 0),ih(this,"websockets",[]),ih(this,"try443PortDuration",2e3),ih(this,"forceCloseWSDuration",5e3),ih(this,"try443PortTimeout",null),ih(this,"forceCloseTimeout",null),ih(this,"isTry443PortFailed",!1),ih(this,"isNormalPortFailed",!1),ih(this,"useDoubleDomain",!1),ih(this,"useProxy",!1),ih(this,"startTime",Date.now()),this.id=++Xb,this.try443PortDuration=NU("JOIN_GATEWAY_TRY_443PORT_DURATION")||2e3,this.forceCloseWSDuration=e||5e3,this.store=t}closeAllWebsockets(){this.websockets.forEach((e=>{e.onopen=null,e.onclose=null,e.onmessage=null,e.close()})),this.websockets.length=0}clearTimeout(){this.forceCloseTimeout&&clearTimeout(this.forceCloseTimeout),this.try443PortTimeout&&clearTimeout(this.try443PortTimeout)}logger(){var e;const t=Date.now()-this.startTime;for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];YU.debug("[choose-best-ws ".concat(null===(e=this.store)||void 0===e?void 0:e.clientId," ").concat(this.id,"] ").concat(t,"ms:"),...i)}createWebSocket(e,t,n){this.logger("createWebSocket:",e,{isTry443Port:t,hasTimeoutDetection:n});const i=NU("GATEWAY_DOMAINS"),r=Date.now(),o=[],a=i.find((t=>{var n;return Fi(n=e.host).call(n,t)}));a||(this.useDoubleDomain=!1);const s=[];if(this.useDoubleDomain)i.forEach((n=>{s.push(Lb(xb(xb({},e),{},{host:e.host.replace(a,n)}),t))}));else{const n=xb({},e);if(t&&a){const e=i.find((e=>e!==a));e&&(n.host=n.host.replace(a,e))}s.push(Lb(n,t))}try{s.forEach((e=>{const t=new WebSocket(e);t.binaryType="arraybuffer",o.push(t),this.logger("ws is connecting:",t.url)}))}catch(i){if(this.logger("ws create failed"),o.forEach((e=>e.close())),o.length=0,this.useDoubleDomain)return this.useDoubleDomain=!1,this.createWebSocket(e,t,n);if(!t&&443!==Number(e.port))return this.createWebSocket(e,!0,n);throw new Wy(ZE.WS_ERR,"init websocket failed! Error: ".concat(i.toString()))}const c=iE();return this.store&&this.store.recordJoinChannelService({urls:o.map((e=>e.url)),service:"gateway"},this.recordIndex),o.forEach((e=>{e.onopen=()=>{this.logger("onopen: ws ".concat(e.url," open cost ").concat(Date.now()-r,"ms")),this.websockets.forEach((t=>{t!==e&&(t.onopen=null,t.onclose=null,t.onmessage=null,t.close(),this.logger("close backup websocket: ".concat(t.url)))})),this.websockets.length=0,c.resolve(e)},e.onclose=n=>{this.logger("onclose: ws ".concat(e.url," closed cost ").concat(Date.now()-r,"ms state: ").concat(e.readyState)),t?this.isTry443PortFailed=Mb(o):this.isNormalPortFailed=Mb(o),this.logger("443: ".concat(this.useProxy?"not try":this.isTry443PortFailed?"failed":"trying"," 47xx: ").concat(this.isNormalPortFailed?"failed":"trying")),(t&&this.isTry443PortFailed||!t&&(this.isTry443PortFailed||this.useProxy)&&this.isNormalPortFailed)&&(this.logger("onclose: all websocket is closed, ".concat(n.reason)),c.reject({code:n.code,reason:nb.A_ROUND_WS_FAILED}))},e.onmessage=t=>this.logger("".concat(e.url," onmessage: ").concat(t.data))})),this.websockets.push(...o),n||(()=>{const n=()=>{this.logger("5s timeout close un-opens, isWebsocket created: ",c.isResolved),this.websockets.forEach((e=>e.readyState!==WebSocket.OPEN&&e.close()))};if(t||this.useProxy)return this.logger("add 5s timeout at ".concat(t?"try-443":"proxy"," condition")),this.forceCloseTimeout=window.setTimeout(n,this.forceCloseWSDuration);this.try443PortTimeout=window.setTimeout((()=>{if(this.logger("2s timeout, isWebsocket created: ",c.isResolved),c.isResolved)return n();AE().os===sE.MAC_OS&&QE()&&n(),this.createWebSocket(e,!0,!0).then((e=>c.resolve(e))).catch((e=>{this.isNormalPortFailed&&c.reject(e),this.logger("try 443 port to create ws failed")})),this.forceCloseTimeout=window.setTimeout(n,this.forceCloseWSDuration)}),this.try443PortDuration)})(),c.promise}chooseBestWebsocket(e,t,n,i){return this.useDoubleDomain=!!t,"string"==typeof e&&(e=function(e){let t,n,i;return[,t,n,i]=e.match(Pb)||[],t||([,n,i]=e.match(Gb)||[]),n&&i||([,n,i]=e.match(Yb)||[]),n&&i||([,n]=e.match(jb)||[]),n||YU.warning("un-destructible url: ",e),{proxy:t,host:n,port:i||"443"}}(e)),this.recordIndex=i,this.useProxy=!!e.proxy,n&&this.useProxy&&(YU.warn("cannot use 443 only when use proxy"),n=!1),this.createWebSocket(e,!!n,!1).finally((()=>this.clearTimeout()))}}function Hb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}class zb extends nC{get url(){return this.websocket&&this.websocket.url||null}get reconnectMode(){return this._reconnectMode}set reconnectMode(e){var t;Fi(t=["tryNext","recover"]).call(t,e)&&this.resetReconnectCount(e),this._reconnectMode=e}get state(){return this._state}set state(e){e!==this._state&&(this._state=e,"reconnecting"===this._state?this.emit(vy.RECONNECTING,this.reconnectReason):"connected"===this._state?this.emit(vy.CONNECTED):"closed"===this._state?this.emit(vy.CLOSED):"failed"===this._state&&this.emit(vy.FAILED))}resetReconnectCount(e){YU.debug("websocket reset reconnect count, reason: "+e),this.reconnectCount=0}constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5?arguments[5]:void 0;super(),ih(this,"connectionID",0),ih(this,"currentURLIndex",0),ih(this,"urls",[]),ih(this,"_reconnectMode","tryNext"),ih(this,"reconnectReason",void 0),ih(this,"_initMutex",new YC("websocket")),ih(this,"name",void 0),ih(this,"_state","closed"),ih(this,"reconnectInterrupter",void 0),ih(this,"websocket",void 0),ih(this,"retryConfig",void 0),ih(this,"reconnectCount",0),ih(this,"forceCloseTimeout",5e3),ih(this,"onlineReconnectListener",void 0),ih(this,"useCompress",void 0),ih(this,"tryDoubleDomain",!1),ih(this,"use443PortOnly",!1),ih(this,"wsInflateLength",0),ih(this,"wsDeflateLength",0),ih(this,"closeEstablishingWs",(()=>{})),ih(this,"store",void 0),ih(this,"joinGatewayRecordIndex",void 0),this.store=o,this.name=e,this.retryConfig=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hb(Object(n),!0).forEach((function(t){ih(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hb(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t),this.useCompress=n,this.tryDoubleDomain=i,this.use443PortOnly=r;const{timeout:a,timeoutFactor:s}=t,c=Math.max(300,Math.floor(3*a/5)),l=Math.max(1.2,Math.floor(8*s)/10);uC.ONLINE&&(this.retryConfig.timeout=c,this.retryConfig.timeoutFactor=l),QC.on(hC.NETWORK_STATE_CHANGE,((e,t)=>{e!==t&&(this.resetReconnectCount("network state change: ".concat(t," -> ").concat(e)),e===uC.ONLINE?(this.retryConfig.timeout=c,this.retryConfig.timeoutFactor=l):(this.retryConfig.timeout=a,this.retryConfig.timeoutFactor=s))}))}getConnection(){return this.websocket||void 0}async init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3;const n=await this._initMutex.lock();this.forceCloseTimeout=t,this.urls=e,this.state="connecting";try{const e=iE(),t=this.urls[this.currentURLIndex];this.createWebSocketConnection(t).then(e.resolve).catch(e.reject),this.once(vy.CLOSED,(()=>{e.reject(new WE(ZE.WS_DISCONNECT))})),this.once(vy.CONNECTED,e.resolve),await e.promise}catch(e){}finally{n()}}close(e,t){if(this.currentURLIndex=0,this.resetReconnectCount("close"),this.reconnectInterrupter&&this.reconnectInterrupter(),this.websocket){this.websocket.onclose=null,this.websocket.onopen=null,this.websocket.onmessage=null;const e=this.websocket;t?setTimeout((()=>e.close()),500):e.close(),this.websocket=void 0}this.state=e?"failed":"closed",this.closeEstablishingWs&&this.closeEstablishingWs()}reconnect(e,t){if(!this.websocket)return void YU.warning("[".concat(this.name,"] can not reconnect, no websocket"));void 0!==e&&(this.reconnectMode=e),YU.debug("[".concat(this.name,"] reconnect is triggered initiative")),"number"==typeof this.joinGatewayRecordIndex&&this.store&&this.store.recordJoinChannelService({status:"error",errors:[new Error(t)]},this.joinGatewayRecordIndex);const n=this.websocket.onclose;this.websocket.onclose=null,this.websocket.close(),n&&n.bind(this.websocket)({code:9999,reason:t})}sendMessage(e){let t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!this.websocket||this.websocket.readyState!==WebSocket.OPEN)throw new WE(ZE.WS_ABORT,"websocket is not ready");try{t||(e=JSON.stringify(e)),this.websocket.send(e)}catch(e){throw new WE(ZE.WS_ERR,"send websocket message error"+e.toString())}}setWsInflateData(e){this.wsDeflateLength=this.wsDeflateLength+e.originLength,this.wsInflateLength=this.wsInflateLength+e.compressedLength}getWsInflateData(){const e=this.wsInflateLength,t=this.wsDeflateLength;return this.clearWsInflateData(),{wsInflateLength:e,wsDeflateLength:t}}clearWsInflateData(){this.wsInflateLength=0,this.wsDeflateLength=0}async createWebSocketConnection(e){var t;const n=iE();this.connectionID+=1,this.joinGatewayRecordIndex=void 0;const i=e=>{var t;null===(t=this.store)||void 0===t||t.signalChannelOpen(),YU.debug("[".concat(this.name,"] websocket opened:"),e),this.reconnectMode="retry",this.state="connected",this.resetReconnectCount("opened"),n.resolve()},r=async e=>{var t;if(YU.debug("[".concat(this.name,"] websocket close ").concat(null===(t=this.websocket)||void 0===t?void 0:t.url,", code: ").concat(e.code,", reason: ").concat(e.reason,", current mode: ").concat(this.reconnectMode)),this.reconnectCount>=this.retryConfig.maxRetryCount)n.reject(new WE(ZE.WS_DISCONNECT,"websocket close: ".concat(e.code))),this.close();else{"connected"===this.state&&(this.reconnectReason=e.reason,this.state="reconnecting");const t=CC(this,vy.WILL_RECONNECT,this.reconnectMode,e.reason)||this.reconnectMode,i=await this.reconnectWithAction(t);if("closed"===this.state)return void YU.debug("[".concat(this.connectionID,"] ws is closed, no need to reconnect"));if(!i)return n.reject(new WE(ZE.WS_DISCONNECT,"websocket reconnect failed: ".concat(e.code))),this.close(!0);n.resolve()}},o=e=>{this.emit(vy.ON_MESSAGE,e)},a=e=>{YU.warn("[".concat(this.connectionID,"] ws open error ").concat(e))};this.websocket&&(this.websocket.onclose=null,this.websocket.close()),NU("GATEWAY_WSS_ADDRESS")&&this.name.startsWith("gateway")&&(e=NU("GATEWAY_WSS_ADDRESS")),YU.debug("[".concat(this.name,"] start connect, url:"),e);const s=null===(t=this.store)||void 0===t?void 0:t.recordJoinChannelService({startTs:Date.now(),status:"pending",service:"gateway"});try{var c;const t=await this.chooseBestWebsocketConnection(e);this.websocket=t,i&&i(this.websocket.url),this.websocket.onclose=r,this.websocket.onmessage=o,this.websocket.onerror=a,null===(c=this.store)||void 0===c||c.recordJoinChannelService({endTs:Date.now(),status:"success"},s),this.joinGatewayRecordIndex=s}catch(e){const t="closed"===this.state,i=e instanceof WE,o=i&&e.code===ZE.WS_ABORT,a=i&&e.code===ZE.WS_ERR,c=i?e.message:e&&(e.reason||e.toString());YU.warning("[choose-best-ws] chooseBestWebsocket error: ".concat(c)),this.store&&this.store.recordJoinChannelService({endTs:Date.now(),status:o?"aborted":"error",errors:[e]},s),t||a?(n.reject(t?new WE(ZE.WS_DISCONNECT,"websocket is closed: ".concat(c)):new WE(ZE.WS_ERR,"init websocket failed: ".concat(c))),a&&YU.error("[".concat(this.name,"] init websocket failed: ").concat(c))):r&&r(e)}return n.promise}async reconnectWithAction(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.reconnectCount>=this.retryConfig.maxRetryCount)return!1;if(0===this.urls.length)return!1;if("closed"===this.state)return!1;YU.warning("[choose-best-ws] action: =>",e),this.onlineReconnectListener||QC.isOnline||!QC.onlineWaiter||(this.onlineReconnectListener=QC.onlineWaiter.then((()=>{this.onlineReconnectListener=void 0})));let n=!0;if(this.reconnectInterrupter=()=>n=!1,t){const t=KC(this.reconnectCount,this.retryConfig);YU.debug("[".concat(this.name,"] wait ").concat(t,"ms to reconnect websocket, mode: ").concat(e)),await tE.race([VC(t),this.onlineReconnectListener||new tE((()=>{}))])}if("closed"===this._state||!n)return!1;this.reconnectCount+=1;const i=async(e,t)=>{this.emit(vy.RECONNECT_CREATE_CONNECTION,t),await this.createWebSocketConnection(e)};try{if("retry"===e)this.emit(vy.RECONNECT_WAITTING_FINISH,e),await i(this.urls[this.currentURLIndex],e);else if("tryNext"===e){if(this.currentURLIndex+=1,this.currentURLIndex>=this.urls.length)return this.reconnectWithAction("recover",!1);YU.debug("[".concat(this.name,"] websocket url length: ").concat(this.urls.length," current index: ").concat(this.currentURLIndex)),this.emit(vy.RECONNECT_WAITTING_FINISH,e),await i(this.urls[this.currentURLIndex],e)}else"recover"===e&&(YU.debug("[".concat(this.name,"] request new urls")),this.resetReconnectCount("recover mode"),this.emit(vy.RECONNECT_WAITTING_FINISH,e),this.urls=await mC(this,vy.REQUEST_NEW_URLS),this.currentURLIndex=0,await i(this.urls[this.currentURLIndex],e))}catch(n){var r;YU.error("[".concat(this.name,"] reconnect failed ").concat(n&&n.toString()));const i=null==n||null===(r=n.data)||void 0===r?void 0:r.desc;return Array.isArray(i)&&Fi(i).call(i,"dynamic key expired")?(this.emit(vy.ON_TOKEN_PRIVILEGE_DID_EXPIRE),!1):this.reconnectWithAction(e,t)}return!0}}class qb extends zb{constructor(e,t){super(e,t,arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4],arguments.length>5?arguments[5]:void 0)}async chooseBestWebsocketConnection(e,t){const n=iE(),i=function(e,t){return new Kb(e,t)}(this.forceCloseTimeout,this.store);this.closeEstablishingWs=()=>{YU.debug("[choose-best-ws] close establishing websockets"),i.closeAllWebsockets(),n.reject(new WE(ZE.WS_ABORT,"choose best websocket aborted"))};const r=NU("GATEWAY_DOMAINS");return YU.debug("[choose-best-ws] currentDomain: ",e,", domains: ",r,"total: ".concat(this.urls.length),"current: ".concat(this.currentURLIndex+1)),i.chooseBestWebsocket(e,this.tryDoubleDomain,this.use443PortOnly,t).then(n.resolve).catch(n.reject),n.promise.finally((()=>{this.closeEstablishingWs=void 0}))}}class $b extends zb{constructor(e,t){super(e,t,arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4],arguments.length>5?arguments[5]:void 0)}async chooseBestWebsocketConnection(e,t){return new tE(((n,i)=>{let r=!1;const o=[];this.closeEstablishingWs=()=>{YU.debug("[choose-best-ws] close establishing websockets"),o.forEach((e=>{e.onclose=null,e.onopen=null,e.onmessage=null,e.close()})),i(new WE(ZE.WS_ABORT,"choose best websocket aborted"))};const a=NU("GATEWAY_DOMAINS");let s;const c=e.indexOf("?h="),l=a.find((t=>-1!==c?Fi(e).call(e,t,c):Fi(e).call(e,t)));YU.debug("[choose-best-ws] currentDomain: ",l,", domains: ",a);let d=!this.tryDoubleDomain||!l;if(!d&&l){var u;const h=Date.now();try{a.forEach((t=>{const n=-1===c?e.replace(l,t):e.substr(0,c)+e.substr(c).replace(l,t),i=new WebSocket(n);i.binaryType="arraybuffer",o.push(i),YU.debug("[choose-best-ws] ws is connecting:",i.url)}))}catch(e){for(YU.debug("[choose-best-ws] ws create failed, fallback to single url"),o.forEach((e=>e.close()));o.length;)o.pop();d=!0}null===(u=this.store)||void 0===u||u.recordJoinChannelService({urls:o.map((e=>e.url)),service:"gateway"},t),o.forEach((e=>{e.onopen=()=>{if(r)return;const t=Date.now()-h;YU.debug("[choose-best-ws] ws open cost ".concat(t,"ms")),o.filter((t=>t!==e)).forEach((e=>{YU.debug("[choose-best-ws]close backup websocket: ".concat(e.url)),e.close()})),r=!0,n(e)},e.onclose=e=>{s=e,r||o.find((e=>!(e.readyState===WebSocket.CLOSED||e.readyState===WebSocket.CLOSING)))||(YU.debug("[choose-best-ws] all websocket is closed"),r=!0,i(s))},e.onmessage=t=>{YU.debug("[choose-best-ws]".concat(e.url," onmessage: ").concat(t.data))}})),VC(this.forceCloseTimeout).then((()=>{o.forEach((e=>{e.readyState!==WebSocket.OPEN&&e.close()}))}))}if(d){var h;let r;YU.debug("[choose-best-ws] use single url: ",e),null===(h=this.store)||void 0===h||h.recordJoinChannelService({urls:[e],service:"gateway"},t);try{r=new WebSocket(e),o.push(r),r.binaryType="arraybuffer"}catch(e){const n=new WE(ZE.WS_ERR,"init websocket failed! Error: ".concat(e.toString()));return YU.error("[".concat(this.name,"]").concat(n)),void i(n)}r.onopen=()=>{n(r)},r.onclose=e=>{i(e)},r.onmessage=e=>{YU.debug("[choose-best-ws]".concat(r.url," onmessage: ").concat(e.data))},VC(this.forceCloseTimeout).then((()=>{r&&r.readyState!==WebSocket.OPEN&&r.close()}))}})).then((e=>(this.closeEstablishingWs=void 0,e))).catch((e=>{throw this.closeEstablishingWs=void 0,e}))}}class ev extends nC{get connectionState(){return this._connectionState}set connectionState(e){e!==this._connectionState&&(this._connectionState=e,e===Ey.CONNECTED?this.emit(Cy.WS_CONNECTED):e===Ey.RECONNECTING?this.emit(Cy.WS_RECONNECTING,this._websocketReconnectReason):e===Ey.CLOSED&&this.emit(Cy.WS_CLOSED,this._disconnectedReason))}get currentURLIndex(){return this.websocket.currentURLIndex}get url(){return this.websocket&&this.websocket.url||null}get rtt(){return this.rttRolling.mean()}constructor(e,t){super(),ih(this,"_disconnectedReason",void 0),ih(this,"_websocketReconnectReason",void 0),ih(this,"_connectionState",Ey.CLOSED),ih(this,"reconnectToken",void 0),ih(this,"websocket",void 0),ih(this,"openConnectionTime",void 0),ih(this,"clientId",void 0),ih(this,"lastMsgTime",Date.now()),ih(this,"uploadCache",[]),ih(this,"uploadCacheInterval",void 0),ih(this,"rttRolling",new lI(5)),ih(this,"pingpongTimer",void 0),ih(this,"wsInflateDataTimer",void 0),ih(this,"pingpongTimeoutCount",0),ih(this,"joinResponse",void 0),ih(this,"multiIpOption",void 0),ih(this,"initError",void 0),ih(this,"spec",void 0),ih(this,"store",void 0),ih(this,"onWebsocketMessage",(e=>{if(e.data instanceof ArrayBuffer)return void this.emit(Cy.ON_BINARY_DATA,e.data);const t=JSON.parse(e.data);if(this.lastMsgTime=Date.now(),Object.prototype.hasOwnProperty.call(t,"_id")){const e="res-@".concat(t._id);this.emit(e,t._result,t._message)}else if(Object.prototype.hasOwnProperty.call(t,"_type")){if(this.emit(t._type,t._message),t._type===Uy.ON_NOTIFICATION&&this.handleNotification(t._message),t._type===Uy.ON_USER_BANNED)switch(t._message.error_code){case 14:this.close(cC.UID_BANNED);break;case 15:this.close(cC.IP_BANNED);break;case 16:this.close(cC.CHANNEL_BANNED)}if(t._type===Uy.ON_USER_LICENSE_BANNED)switch(t._message.error_code){case my.ERR_LICENSE_MISSING:this.close(cC.LICENSE_MISSING);break;case my.ERR_LICENSE_EXPIRED:this.close(cC.LICENSE_EXPIRED);break;case my.ERR_LICENSE_MINUTES_EXCEEDED:this.close(cC.LICENSE_MINUTES_EXCEEDED);break;case my.ERR_LICENSE_PERIOD_INVALID:this.close(cC.LICENSE_PERIOD_INVALID);break;case my.ERR_LICENSE_MULTIPLE_SDK_SERVICE:this.close(cC.LICENSE_MULTIPLE_SDK_SERVICE);break;case my.ERR_LICENSE_ILLEGAL:this.close(cC.LICENSE_ILLEGAL);break;default:this.close()}}})),this.clientId=e.clientId,this.spec=e,this.store=t,this.websocket=new qb("gateway-".concat(this.clientId),this.spec.retryConfig,!0,NU("JOIN_GATEWAY_USE_DUAL_DOMAIN"),NU("JOIN_GATEWAY_USE_443PORT_ONLY"),t),this.handleWebsocketEvents(),window.addEventListener("offline",(()=>{this.connectionState===Ey.CONNECTED&&this.reconnect("retry",dC.OFFLINE)}))}async request(e,t,n,i){const r=ZC(6,""),o={_id:r,_type:e,_message:t},a=this.websocket.connectionID,s=()=>new tE(((t,n)=>{if(this.connectionState===Ey.CONNECTED)return t();const i=()=>{this.off(Cy.WS_CLOSED,r),t()},r=()=>{this.off(Cy.WS_CONNECTED,i),n(new Wy(ZE.WS_ABORT))};this.once(Cy.WS_CONNECTED,i),this.once(Cy.WS_CLOSED,r),e!==Iy.PUBLISH&&e!==Iy.SUBSCRIBE&&e!==Iy.UNSUBSCRIBE&&e!==Iy.UNPUBLISH&&e!==Iy.CONTROL&&e!==Iy.RESTART_ICE||this.once(Cy.DISCONNECT_P2P,(()=>{n(new Wy(ZE.DISCONNECT_P2P))})),e!==Iy.PUBLISH&&e!==Iy.RESTART_ICE||this.once(Cy.ABORT_P2P_EXECUTION,(()=>{n(new Wy(ZE.DISCONNECT_P2P))}))}));if(this.connectionState!==Ey.CONNECTING&&this.connectionState!==Ey.RECONNECTING||e===Iy.JOIN||e===Iy.REJOIN||await s(),this.websocket.sendMessage(o,!0),i)return;const c=new tE(((n,i)=>{let o=!1;const s=(i,r)=>{o=!0,n({isSuccess:"success"===i,message:r||{}}),this.off(Cy.WS_CLOSED,c),this.off(Cy.WS_RECONNECTING,c),this.emit(Cy.REQUEST_SUCCESS,e,t)};this.once("res-@".concat(r),s);const c=()=>{i(new Wy(ZE.WS_ABORT,"type: ".concat(e))),this.off(Cy.WS_CLOSED,c),this.off(Cy.WS_RECONNECTING,c),this.off("res-@".concat(r),s)};this.once(Cy.WS_CLOSED,c),this.once(Cy.WS_RECONNECTING,c),VC(NU("SIGNAL_REQUEST_TIMEOUT")).then((()=>{this.websocket.connectionID!==a||o||(YU.warning("[".concat(this.clientId,"] ws request timeout, type: ").concat(e)),this.emit(Cy.REQUEST_TIMEOUT,e,t))}))}));let l=null;try{l=await c}catch(i){if(this.connectionState===Ey.CLOSED||e===Iy.LEAVE)throw new Wy(ZE.WS_ABORT);return!this.spec.forceWaitGatewayResponse||n?i.throw():e===Iy.JOIN||e===Iy.REJOIN?null:(await s(),await this.request(e,t))}if(l.isSuccess)return l.message;const d=Number(l.message.error_code||l.message.code),u=Ob(d),h=new Wy(ZE.UNEXPECTED_RESPONSE,"".concat(u.desc,": ").concat(l.message.error_str),{code:d,data:l.message});return"success"===u.action?l.message:(YU.warning("[".concat(this.clientId,"] [").concat(this.websocket.connectionID,"] unexpected response from type ").concat(e,", error_code: ").concat(d,", message: ").concat(u.desc,", action: ").concat(u.action)),d===my.ERR_TOO_MANY_BROADCASTERS?e===Iy.JOIN||e===Iy.REJOIN?(this.initError=h,this.close(),h.throw()):h.throw():"failed"===u.action?h.throw():"quit"===u.action?(this.initError=h,this.close(),h.throw()):(d===my.ERR_JOIN_BY_MULTI_IP?(this.multiIpOption=l.message.option,YU.warning("[".concat(this.clientId,"] detect multi ip, recover")),this.reconnect("recover",dC.MULTI_IP)):this.reconnect(u.action,dC.SERVER_ERROR),e===Iy.JOIN||e===Iy.REJOIN?null:await this.request(e,t)))}waitMessage(e,t){return new tE((n=>{const i=r=>{(!t||t(r))&&(this.off(e,i),n(r))};this.on(e,i)}))}uploadWRTCStats(e){if(!this.store.sessionId)return void YU.warn("[".concat(this.clientId,"] no session id when upload wrtc stats"));const t={lts:Date.now(),sid:this.store.sessionId,uid:this.store.intUid,stats:e};this.upload(Qy.WRTC_STATS,t)}upload(e,t){const n={_type:e,_message:t};try{this.websocket.sendMessage(n)}catch(e){const t=NU("MAX_UPLOAD_CACHE")||50;this.uploadCache.push(n),this.uploadCache.length>t&&this.uploadCache.splice(0,1),this.uploadCache.length>0&&!this.uploadCacheInterval&&(this.uploadCacheInterval=window.setInterval((()=>{if(this.connectionState!==Ey.CONNECTED)return;const e=this.uploadCache.splice(0,1)[0];0===this.uploadCache.length&&(window.clearInterval(this.uploadCacheInterval),this.uploadCacheInterval=void 0),this.upload(e._type,e._message)}),NU("UPLOAD_CACHE_INTERVAL")||2e3))}}send(e,t){const n={_type:e,_message:t};this.websocket.sendMessage(n)}init(e,t){return this.initError=void 0,this.multiIpOption=void 0,this.joinResponse=void 0,this.reconnectToken=void 0,this.openConnectionTime=void 0,new tE(((t,n)=>{this.once(Cy.WS_CONNECTED,(()=>t(this.joinResponse))),this.once(Cy.WS_CLOSED,(()=>n(this.initError||new Wy(ZE.WS_ABORT)))),this.connectionState=Ey.CONNECTING,this.websocket.init(e).catch(n),this.wsInflateDataTimer&&window.clearInterval(this.wsInflateDataTimer),this.wsInflateDataTimer=window.setInterval((()=>{this.handleWsInflateData()}),2e4)}))}close(e){this.pingpongTimer&&(this.pingpongTimeoutCount=0,window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0),this.wsInflateDataTimer&&(this.handleWsInflateData(),window.clearInterval(this.wsInflateDataTimer),this.wsInflateDataTimer=void 0),this.reconnectToken=void 0,this.joinResponse=void 0,this._disconnectedReason=e||cC.LEAVE,this.connectionState=Ey.CLOSED,YU.debug("[".concat(this.clientId,"] ")+"will close websocket in signal"),this.websocket.close(),e===cC.FALLBACK&&(this.websocket.removeAllListeners(),this.websocket=new qb("gateway-".concat(this.clientId),this.spec.retryConfig,!0,NU("JOIN_GATEWAY_USE_DUAL_DOMAIN"),NU("JOIN_GATEWAY_USE_443PORT_ONLY"),this.store),this.handleWebsocketEvents())}async join(){if(!this.joinResponse){this.emit(Cy.ABORT_P2P_EXECUTION);const e=await mC(this,Cy.REQUEST_JOIN_INFO),t=await this.request(Iy.JOIN,e);if(!t)return this.emit(Cy.REPORT_JOIN_GATEWAY,nb.TIMEOUT,this.url||""),!1;this.joinResponse=t,this.emit(Cy.JOIN_RESPONSE,this.joinResponse),this.reconnectToken=this.joinResponse.rejoin_token}return this.connectionState=Ey.CONNECTED,this.pingpongTimer&&window.clearInterval(this.pingpongTimer),this.pingpongTimer=window.setInterval(this.handlePingPong.bind(this),3e3),!0}async rejoin(){if(!this.reconnectToken)throw new Wy(ZE.UNEXPECTED_ERROR,"can not rejoin, no rejoin token");const e=IC(this,Cy.REQUEST_REJOIN_INFO);e.token=this.reconnectToken;const t=await this.request(Iy.REJOIN,e);return!!t&&(this.connectionState=Ey.CONNECTED,this.pingpongTimer&&window.clearInterval(this.pingpongTimer),this.pingpongTimer=window.setInterval(this.handlePingPong.bind(this),3e3),t.peers&&t.peers.forEach((e=>{this.emit(Uy.ON_USER_ONLINE,{uid:e.uid}),e.audio&&this.emit(Uy.ON_ADD_AUDIO_STREAM,{uid:e.uid,uint_id:e.uint_id,audio:!0,ssrcId:e.audio_ssrc}),e.video&&this.emit(Uy.ON_ADD_VIDEO_STREAM,{uid:e.uid,uint_id:e.uint_id,video:!0,ssrcId:e.video_ssrc}),e.audio_mute?this.emit(Uy.MUTE_AUDIO,{uid:e.uid}):this.emit(Uy.UNMUTE_AUDIO,{uid:e.uid}),e.video_mute?this.emit(Uy.MUTE_VIDEO,{uid:e.uid}):this.emit(Uy.UNMUTE_VIDEO,{uid:e.uid}),e.audio_enable_local?this.emit(Uy.ENABLE_LOCAL_AUDIO,{uid:e.uid}):this.emit(Uy.DISABLE_LOCAL_AUDIO,{uid:e.uid}),e.video_enable_local?this.emit(Uy.ENABLE_LOCAL_VIDEO,{uid:e.uid}):this.emit(Uy.DISABLE_LOCAL_VIDEO,{uid:e.uid}),e.audio||e.video||this.emit(Uy.ON_REMOVE_STREAM,{uid:e.uid,uint_id:e.uint_id})})),!0)}reconnect(e,t){this.pingpongTimer&&(this.pingpongTimeoutCount=0,window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0),this.websocket.reconnect(e,t)}handleNotification(e){YU.debug("[".concat(this.clientId,"] receive notification: "),e);const t=Ob(e.code);if("success"!==t.action){if("failed"!==t.action)return"quit"===t.action?("ERR_REPEAT_JOIN_CHANNEL"===t.desc&&this.close(cC.UID_BANNED),void this.close()):void this.reconnect(t.action,dC.SERVER_ERROR);YU.error("[".concat(this.clientId,"] ignore error: "),t.desc)}}handlePingPong(){if(!this.websocket||"connected"!==this.websocket.state)return;this.pingpongTimeoutCount>0&&this.rttRolling.add(3e3),this.pingpongTimeoutCount+=1;const e=NU("PING_PONG_TIME_OUT"),t=Date.now();this.pingpongTimeoutCount>=e&&(YU.warning("[".concat(this.clientId,"] PING-PONG Timeout. Last Socket Message: ").concat(t-this.lastMsgTime,"ms")),t-this.lastMsgTime>NU("WEBSOCKET_TIMEOUT_MIN"))?this.reconnect("retry",dC.TIMEOUT):this.request(Iy.PING,void 0,!0).then((()=>{this.pingpongTimeoutCount=0;const e=Date.now()-t;this.rttRolling.add(e),NU("REPORT_STATS")&&this.send(Iy.PING_BACK,{pingpongElapse:e})})).catch((e=>{}))}handleWsInflateData(){const{wsInflateLength:e,wsDeflateLength:t}=this.websocket.getWsInflateData();0!==e&&0!==t&&this.upload(Qy.WS_INFLATE_DATA_LENGTH,{ws_deflate_length:t,ws_inflate_length:e})}handleWebsocketEvents(){this.websocket.on(vy.RECONNECT_WAITTING_FINISH,(e=>{this.emit(Cy.WS_RECONNECT_WAITTING_FINISH,e)})),this.websocket.on(vy.RECONNECT_CREATE_CONNECTION,(e=>{this.emit(Cy.WS_RECONNECT_CREATE_CONNECTION,e)})),this.websocket.on(vy.ON_MESSAGE,this.onWebsocketMessage),this.websocket.on(vy.CLOSED,(()=>{this.connectionState=Ey.CLOSED})),this.websocket.on(vy.FAILED,(()=>{this._disconnectedReason=cC.NETWORK_ERROR,this.connectionState=Ey.CLOSED})),this.websocket.on(vy.RECONNECTING,(e=>{this._websocketReconnectReason=e,this.joinResponse=void 0,this.connectionState===Ey.CONNECTED?this.connectionState=Ey.RECONNECTING:this.connectionState=Ey.CONNECTING})),this.websocket.on(vy.WILL_RECONNECT,((e,t,n)=>{const i=IC(this,Cy.IS_P2P_DISCONNECTED),r=i||"retry"!==e;i&&"retry"===e&&(YU.debug("".concat(this.clientId," reconnect mode is retry, but p2p lost, change to tryNext")),e="tryNext",t=nb.P2P_DISCONNECTED),r&&(YU.debug("".concat(this.clientId," will renewSession, reconnect mode: ").concat(e)),this.emit(Cy.REPORT_JOIN_GATEWAY,t||nb.UNKNOWN_REASON,this.url||""),this.reconnectToken=void 0,this.emit(Cy.NEED_RENEW_SESSION),this.emit(Cy.DISCONNECT_P2P)),n(e)})),this.websocket.on(vy.CONNECTED,(()=>{this.openConnectionTime=Date.now(),this.reconnectToken?this.rejoin().catch((e=>{YU.warning("[".concat(this.clientId,"] rejoin failed ").concat(e)),this.reconnect("tryNext",dC.SERVER_ERROR)})):this.join().catch((e=>{if(this.emit(Cy.REPORT_JOIN_GATEWAY,e.message||e.code||nb.UNKNOWN_REASON,this.url||""),e instanceof Wy&&e.code===ZE.UNEXPECTED_RESPONSE&&e.data.code===my.ERR_NO_AUTHORIZED)return YU.warning("[".concat(this.clientId,"] reconnect no authorized, recover")),void this.reconnect("recover",dC.SERVER_ERROR);YU.error("[".concat(this.clientId,"] join gateway request failed"),e.toString()),this.spec.forceWaitGatewayResponse?this.reconnect("tryNext",dC.SERVER_ERROR):(this.initError=e,this.close())}))})),this.websocket.on(vy.REQUEST_NEW_URLS,((e,t)=>{mC(this,Cy.REQUEST_RECOVER,this.multiIpOption).then(e).catch(t)})),this.websocket.on(vy.ON_TOKEN_PRIVILEGE_DID_EXPIRE,(()=>{this.emit(Uy.ON_TOKEN_PRIVILEGE_DID_EXPIRE)}))}}var tv="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff",nv=H,iv=pi,rv=tv,ov=d("".replace),av=RegExp("^["+rv+"]+"),sv=RegExp("(^|[^"+rv+"])["+rv+"]+$"),cv=function(e){return function(t){var n=iv(nv(t));return 1&e&&(n=ov(n,av,"")),2&e&&(n=ov(n,sv,"$1")),n}},lv={start:cv(1),end:cv(2),trim:cv(3)},dv=Kl.PROPER,uv=r,hv=tv,Av=lv.trim;Tn({target:"String",proto:!0,forced:function(e){return uv((function(){return!!hv[e]()||"\u200b\x85\u180e"!=="\u200b\x85\u180e"[e]()||dv&&hv[e].name!==e}))}("trim")},{trim:function(){return Av(this)}});var pv,gv,fv=Hn("String").trim,mv=u,Ev=fv,Cv=String.prototype,Iv=i((function(e){var t=e.trim;return"string"==typeof e||e===Cv||mv(Cv,e)&&t===Cv.trim?Ev:t}));function Qv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Uv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qv(Object(n),!0).forEach((function(t){ih(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yv(e){return e.match(/^[\.\:\d]+$/)?"".concat(e.replace(/[^\d]/g,"-"),".").concat(NU("TURN_DOMAIN")):(YU.info("Unidentified as ip: ".concat(e,", use as host")),e)}function bv(e,t){e.addresses||(e.addresses=[]);const n=function(e,t){if(NU("CONNECT_GATEWAY_WITHOUT_DOMAIN"))return e.map((e=>{let{ip:t,port:n}=e;return{address:"".concat(t,":").concat(n)}}));const n=NU("GATEWAY_DOMAINS");let i=n[1]&&Fi(t).call(t,n[1])?1:0;return e.map((e=>{let{domain_prefix:t,port:r,ip:o}=e;if(t)return{address:"".concat(t,".").concat(n[i++%n.length],":").concat(r)};const a=/^[\.\:\d]+$/.test(o),s=a?"".concat(o.replace(/[^\d]/g,"-"),".").concat(n[i++%n.length],":").concat(r):"".concat(o,":").concat(r);return a||YU.info("Unidentified as ip: ".concat(o,", use as host")),{ip:o,port:r,address:s}}))}(e.addresses,t),i=Array.isArray(e.detail)&&e.detail[18];if(i&&"string"==typeof i){const e=i.split(";");for(let t=0;t<e.length;t++){var r;const i=Iv(r=e[t]).call(r);n[t]&&i&&(n[t].ip6=i)}}return{gatewayAddrs:n,uid:e.uid,cid:e.cid,cert:e.cert,vid:e.detail&&e.detail[8],uni_lbs_ip:e.detail&&e.detail[1],res:e,csIp:e.detail&&e.detail[502]}}function vv(e){return"number"==typeof e?e:e.exact||e.ideal||e.max||e.min||0}function Rv(e){const t=e._encoderConfig;if(!t)return{};const n={resolution:t.width&&t.height?"".concat(vv(t.width),"x").concat(vv(t.height)):void 0,maxVideoBW:t.bitrateMax,minVideoBW:t.bitrateMin};return"number"==typeof t.frameRate?(n.maxFrameRate=t.frameRate,n.minFrameRate=t.frameRate):t.frameRate&&(n.maxFrameRate=t.frameRate.max||t.frameRate.ideal||t.frameRate.exact||t.frameRate.min,n.minFrameRate=t.frameRate.min||t.frameRate.ideal||t.frameRate.exact||t.frameRate.max),n}function Sv(e){return e>=0&&e<.17?1:e>=.17&&e<.36?2:e>=.36&&e<.59?3:e>=.59&&e<=1?4:e>1?5:0}function Fv(e,t){let n,i,r;switch(t){case pv.CHOOSE_SERVER:i=4096,r="choose server";break;case pv.CLOUD_PROXY:i=1048576,r="proxy";break;case pv.CLOUD_PROXY_5:i=4194304,r="proxy5";break;case pv.CLOUD_PROXY_FALLBACK:i=4194310,r="proxy fallback";break;default:throw new Wy(ZE.UNEXPECTED_ERROR,"multi unlibs response transformer get unknown service id",{csIp:e.detail&&e.detail[502],retry:!1})}if(e.response_body.forEach((t=>{t.buffer&&t.buffer.flag===i&&(n={code:t.buffer.code,addresses:(t.buffer.edges_services||[]).map((e=>Uv(Uv({},e),{},{ticket:t.buffer.cert}))),server_ts:e.enter_ts,uid:t.buffer.uid,cid:t.buffer.cid,cname:t.buffer.cname,detail:Uv(Uv({},t.buffer.detail),e.detail),flag:t.buffer.flag,opid:e.opid,cert:t.buffer.cert})})),!n)throw new Wy(ZE.MULTI_UNILBS_RESPONSE_ERROR,"cannot parse response ".concat(r," from multi unilbs response"),{csIp:e.detail&&e.detail[502]});return n}async function Bv(e,t){return await tE.all(e.addresses.map((async e=>({address:yv(e.ip),tcpport:e.port,udpport:e.port,username:t&&NU("ENCRYPT_PROXY_USERNAME_AND_PSW")&&window.isSecureContext?t.toString():sy.username,password:t&&NU("ENCRYPT_PROXY_USERNAME_AND_PSW")&&window.isSecureContext?await tC(t.toString()):sy.password}))))}function Tv(e,t){const n=t._videoHeight||t.getMediaStreamTrack(!0).getSettings().height;return n?Math.max(n/vv(e.height),1):(YU.warning("can't get ori-track's height, default scale down 4 times for low stream"),4)}function Nv(e){let{candidateType:t,relayProtocol:n,type:i,address:r,port:o,protocol:a}=e;return"local-candidate"===i?{candidateType:t,relayProtocol:n,protocol:a}:{candidateType:t,relayProtocol:n,address:r,port:o,protocol:a}}function _v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}!function(e){e[e.CHOOSE_SERVER=11]="CHOOSE_SERVER",e[e.CLOUD_PROXY=18]="CLOUD_PROXY",e[e.CLOUD_PROXY_5=20]="CLOUD_PROXY_5",e[e.CLOUD_PROXY_FALLBACK=26]="CLOUD_PROXY_FALLBACK"}(pv||(pv={}));class wv extends nC{get url(){return this._url?this._url:null}get reconnectMode(){return this._reconnectMode}set reconnectMode(e){var t;Fi(t=["tryNext","recover"]).call(t,e)&&this.resetReconnectCount(e),this._reconnectMode=e}get state(){return this._state}set state(e){e!==this._state&&(this._state=e,"reconnecting"===this._state?this.emit(yb.RECONNECTING,this.reconnectReason):"connected"===this._state?this.emit(yb.CONNECTED):"closed"===this._state?this.emit(yb.CLOSED):"failed"===this._state&&this.emit(yb.FAILED))}constructor(e,t,n,i){super(),ih(this,"connectionID",0),ih(this,"currentURLIndex",0),ih(this,"reconnectReason",void 0),ih(this,"_reconnectMode","tryNext"),ih(this,"_name",void 0),ih(this,"_state","closed"),ih(this,"_retryConfig",void 0),ih(this,"_reconnectCount",0),ih(this,"_forceCloseTimeout",5e3),ih(this,"_onlineReconnectListener",void 0),ih(this,"_closeEstablishingTransmitter",(()=>{})),ih(this,"_store",void 0),ih(this,"_joinChannelServiceRecordIndex",void 0),ih(this,"_useCompress",void 0),ih(this,"_inflateLength",0),ih(this,"_deflateLength",0),this._store=i,this._name=e,this._retryConfig=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_v(Object(n),!0).forEach((function(t){ih(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t),this._useCompress=n}resetReconnectCount(e){YU.debug("".concat(this._name," reset reconnect count, reason: ").concat(e)),this._reconnectCount=0}close(e,t){if(this.currentURLIndex=0,this.resetReconnectCount("close"),this._reconnectInterrupter&&this._reconnectInterrupter(),this._transmitter){this._transmitter.onclose=null,this._transmitter.onopen=null,this._transmitter.onmessage=null;const e=this._transmitter;t?setTimeout((()=>e.close()),500):e.close(),this._transmitter=void 0}this.state=e?"failed":"closed",this._closeEstablishingTransmitter&&this._closeEstablishingTransmitter()}reconnect(e,t){if(!this._transmitter)return void YU.warning("[".concat(this._name,"] can not reconnect, no websocket"));var n;void 0!==e&&(this.reconnectMode=e),YU.debug("[".concat(this._name,"] reconnect is triggered initiative")),"number"==typeof this._joinChannelServiceRecordIndex&&(null===(n=this._store)||void 0===n||n.recordJoinChannelService({status:"error",errors:[new Error(t)]},this._joinChannelServiceRecordIndex));const i=this._transmitter.onclose;this._transmitter.onclose=null,this._transmitter.close(),i&&i.bind(this._transmitter)({code:9999,reason:t})}getInflateData(){const e=this._inflateLength,t=this._deflateLength;return this.clearInflateData(),{inflateLength:e,deflateLength:t}}setInflateData(e){this._deflateLength=this._deflateLength+e.originLength,this._inflateLength=this._inflateLength+e.compressedLength}clearInflateData(){this._inflateLength=0,this._deflateLength=0}}!function(e){e[e.Default=0]="Default",e[e.Ack=1]="Ack"}(gv||(gv={}));class kv{constructor(e,t,n){ih(this,"version",1),ih(this,"initialRTO",void 0),ih(this,"maxBatchAckCount",void 0),ih(this,"maxRTO",void 0),ih(this,"initialRTT",void 0),ih(this,"ID",void 0),ih(this,"rtt",void 0),ih(this,"packetNumber",1),ih(this,"rtoRatioMap",new Map),ih(this,"timeoutMap",new Map),ih(this,"unorderedPacketQueue",[]),ih(this,"batchAckPacketQueue",[]),ih(this,"lastOrderedPacketNumber",0),ih(this,"batchAckTimer",void 0),ih(this,"sendImpl",void 0),ih(this,"receiveImpl",void 0),this.sendImpl=e,this.receiveImpl=t,this.ID=ZC(7,"transmitter-"),this.initialRTO=void 0!==(null==n?void 0:n.initialRTO)?n.initialRTO:NU("TRANSMITTER_INITIAL_RTO"),this.initialRTT=void 0!==(null==n?void 0:n.initialRTT)?n.initialRTT:NU("TRANSMITTER_INITIAL_RTT"),this.rtt=void 0!==(null==n?void 0:n.initialRTT)?n.initialRTT:NU("TRANSMITTER_INITIAL_RTT"),this.maxBatchAckCount=void 0!==(null==n?void 0:n.maxBatchAckCount)?n.maxBatchAckCount:NU("TRANSMITTER_MAX_BATCH_ACK_COUNT"),this.maxRTO=void 0!==(null==n?void 0:n.maxRTO)?n.maxRTO:NU("TRANSMITTER_MAX_RTO")}packetize(e,t){return{type:gv.Default,version:this.version,packetNumber:t,payload:e}}serialize(e){switch(e.type){case gv.Default:{let t;t="string"==typeof e.payload?(new TextEncoder).encode(e.payload):e.payload;const n=new ArrayBuffer(t.length+15),i=new DataView(n);return i.setUint16(0,e.version),i.setUint8(2,e.type),i.setUint32(3,e.packetNumber),XE(i,7,BigInt(e.sendTs)),new Uint8Array(i.buffer).set(t,15),n}case gv.Ack:{const t=new ArrayBuffer(16),n=new DataView(t);return n.setUint16(0,e.version),n.setUint8(2,e.type),n.setUint32(3,e.maxAckPacketNumber),n.setUint8(7,e.shift),XE(n,8,BigInt(e.ackSendTs)),t}}}deserialize(e){const t=new DataView(e),n=t.getUint16(0),i=t.getUint8(2);switch(i){case gv.Default:{const r=t.getUint32(3),o=jE(t,7),a=e.slice(15),s=(new TextDecoder).decode(a);return{version:n,type:i,packetNumber:r,sendTs:Number(o),payload:s}}case gv.Ack:{const e=t.getUint32(3),r=t.getUint8(7),o=jE(t,8);return{version:n,type:i,maxAckPacketNumber:e,shift:r,ackSendTs:Number(o)}}default:throw YU.error("[".concat(this.ID,"] Unrecognized packet type ").concat(i)),new Error("Unrecognized packet type ".concat(i))}}sendMessage(e){const t=this.packetize(e,this.packetNumber);this.packetNumber=4294967295===this.packetNumber?1:this.packetNumber+1;const n=this.calculateRTO(t),i=window.setTimeout((()=>{this.resendMessage(t)}),n);this.timeoutMap.set(t.packetNumber,i),this.sendPacket(t)}onData(e){const t=this.deserialize(e);t.type===gv.Default?this.ack(t):t.type===gv.Ack&&(this.updateRTT(t,Math.round(performance.now())),this.clearRTO(t))}close(){this.rtt=this.initialRTT,this.packetNumber=1,Array.from(this.timeoutMap.entries()).forEach((e=>{let[t,n]=e;window.clearTimeout(n)})),this.timeoutMap=new Map,this.rtoRatioMap=new Map,this.unorderedPacketQueue=[],this.batchAckPacketQueue=[],this.lastOrderedPacketNumber=0,void 0!==this.batchAckTimer&&window.clearTimeout(this.batchAckTimer)}resendMessage(e){const t=this.calculateRTO(e),n=window.setTimeout((()=>{this.resendMessage(e)}),t);this.timeoutMap.set(e.packetNumber,n),this.sendPacket(e)}calculateRTO(e){const t=this.rtoRatioMap.get(e.packetNumber);if(void 0===t)return this.rtoRatioMap.set(e.packetNumber,1),this.initialRTO;{const n=9*this.rtt/8*t;return this.rtoRatioMap.set(e.packetNumber,t+1),n>this.maxRTO?this.maxRTO:n}}updateRTT(e,t){const n=e.ackSendTs;this.rtt=this.rtt*(7/8)+(t-n-this.rtt)/8}ack(e){if(e.packetNumber===this.lastOrderedPacketNumber+1)for(this.batchAckPacketQueue.length>=this.maxBatchAckCount&&this.batchAck(),this.batchAckTimer?this.batchAckPacketQueue.push(e):(this.batchAckPacketQueue.push(e),this.batchAckTimer=window.setTimeout((()=>{this.batchAck()}),this.rtt/8)),this.lastOrderedPacketNumber+=1,this.receiveImpl(e.payload);;){const e=this.unorderedPacketQueue[0];if(!e){this.unorderedPacketQueue.shift();break}this.batchAckTimer&&this.batchAck(),this.receiveImpl(e.payload),this.unorderedPacketQueue.shift(),this.lastOrderedPacketNumber+=1}else if(e.packetNumber<=this.lastOrderedPacketNumber){const t={ackSendTs:e.sendTs,maxAckPacketNumber:e.packetNumber,shift:0,type:gv.Ack,version:this.version};this.sendPacket(t)}else if(e.packetNumber>this.lastOrderedPacketNumber){this.unorderedPacketQueue[e.packetNumber-this.lastOrderedPacketNumber-2]=e;const t={ackSendTs:e.sendTs,maxAckPacketNumber:e.packetNumber,shift:0,type:gv.Ack,version:this.version};this.sendPacket(t)}}batchAck(){window.clearTimeout(this.batchAckTimer),this.batchAckTimer=void 0;const e={ackSendTs:this.batchAckPacketQueue[this.batchAckPacketQueue.length-1].sendTs,maxAckPacketNumber:this.batchAckPacketQueue[this.batchAckPacketQueue.length-1].packetNumber,shift:this.batchAckPacketQueue.length-1,type:gv.Ack,version:this.version};this.sendPacket(e),this.batchAckPacketQueue=[]}sendPacket(e){e.type===gv.Default&&(e.sendTs=Math.round(performance.now()));const t=this.serialize(e);this.sendImpl(t)}clearRTO(e){for(let t=e.maxAckPacketNumber-e.shift;t<=e.maxAckPacketNumber;t++){const e=this.timeoutMap.get(t);void 0!==e&&window.clearTimeout(e),this.timeoutMap.delete(t),this.rtoRatioMap.delete(t)}}}class Dv extends wv{constructor(e,t){super(e,t,arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3?arguments[3]:void 0),ih(this,"_initMutex",void 0),ih(this,"_reconnectInterrupter",void 0),ih(this,"_url",void 0),ih(this,"_transmitter",void 0),ih(this,"_addresses",void 0),ih(this,"_reliableTransmission",void 0),this._initMutex=new YC("datachannel");const{timeout:n,timeoutFactor:i}=t,r=Math.max(300,Math.floor(3*n/5)),o=Math.max(1.2,Math.floor(8*i)/10);uC.ONLINE&&(this._retryConfig.timeout=r,this._retryConfig.timeoutFactor=o),QC.on(hC.NETWORK_STATE_CHANGE,((e,t)=>{e!==t&&(this.resetReconnectCount("network state change: ".concat(t," -> ").concat(e)),e===uC.ONLINE?(this._retryConfig.timeout=r,this._retryConfig.timeoutFactor=o):(this._retryConfig.timeout=n,this._retryConfig.timeoutFactor=i))}))}getConnection(){if(this._reliableTransmission)return this._reliableTransmission}async init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3;this._forceCloseTimeout=t;const n=(t,n)=>{this._addresses=e,this.currentURLIndex=this._addresses.findIndex((e=>e.fingerprint||NU("FINGERPRINT")));const i=this._addresses[this.currentURLIndex];this.state="connecting",this.createTransmitterConnection(i).then(t).catch(n),this.once(yb.CLOSED,(()=>n(new Wy(ZE.WS_DISCONNECT)))),this.once(yb.CONNECTED,(()=>t()))};return this._initMutex.lock().then((e=>new tE(((e,t)=>{n(e,t)})).then((()=>{e()})).catch((()=>{e()}))))}sendMessage(e){let t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!this._transmitter||!this._reliableTransmission)throw new Wy(ZE.WS_ABORT,"datachannel is not ready");try{t||(e=JSON.stringify(e)),this._reliableTransmission.sendMessage(e)}catch(e){throw new Wy(ZE.WS_ERR,"send datachannel signal message error"+e.toString())}}unbindDcCloseEventListener(){this._transmitter&&(this._transmitter.onclose=null)}sendMessageWithJSON(e){const t=JSON.stringify(e);return{compressed:t,compressedLength:t.length,origin:e}}sendMessageWithUint8Array(e){return{compressed:e,compressedLength:e.byteLength,origin:e}}createTransmitterConnection(e){return this.connectionID+=1,this._joinChannelServiceRecordIndex=void 0,this._url="dc://".concat(e.ip,":").concat(e.port),new tE(((t,n)=>{var i;const r=()=>{YU.debug("[".concat(this._name,"] datachannel opened:"),this._url),this.reconnectMode="retry",this.state="connected",this.resetReconnectCount("opened"),t()},o=async e=>{var i;if(null===(i=this._closeEstablishingTransmitter)||void 0===i||i.call(this),YU.debug("[".concat(this._name,"] datachannel close ").concat(this._url,", code: ").concat(e.code,", reason: ").concat(e.reason,", current mode: ").concat(this.reconnectMode)),this._reconnectCount<this._retryConfig.maxRetryCount){"connected"===this.state&&(this.reconnectReason=e.reason,this.state="reconnecting");const i=CC(this,yb.WILL_RECONNECT,this.reconnectMode)||this.reconnectMode,r=await this.reconnectWithAction(i);if("closed"===this.state)return void YU.debug("[".concat(this.connectionID,"] dc is closed, no need to reconnect"));if(!r)return n(new Wy(ZE.WS_DISCONNECT,"datachannel reconnect failed: ".concat(e.code))),void this.close(!0);t()}else n(new Wy(ZE.WS_DISCONNECT,"datachannel close: ".concat(e.code))),this.close()},a=e=>{var t;null===(t=this._reliableTransmission)||void 0===t||t.onData(e.data)};this._transmitter&&(this._transmitter.onclose=null,this._transmitter.close()),this._reliableTransmission&&(this._reliableTransmission.close(),this._reliableTransmission=void 0),YU.debug("[".concat(this._name,"] start connect, address: ").concat(JSON.stringify(e)));const s=null===(i=this._store)||void 0===i?void 0:i.recordJoinChannelService({startTs:Date.now(),status:"pending",service:"gateway"}),c=Date.now();mC(this,yb.TO_CONNECT_DATACHANNEL,e).then((e=>{var t,n;if(!e)throw new Error("transmissonInfo not exist yet");const{transmitter:i,close:l}=e;this._transmitter=i,null===(t=this._store)||void 0===t||t.signalChannelOpen();const d=Date.now()-c;YU.debug("[choose dc] dc open cost ".concat(d,"ms")),this._reliableTransmission=new kv((e=>{var t;this._transmitter&&"open"===this._transmitter.readyState&&(null===(t=this._transmitter)||void 0===t||t.send(e))}),(e=>{"string"==typeof e&&this.emit(yb.ON_MESSAGE,e)})),this._closeEstablishingTransmitter=()=>{var e;null===(e=this._reliableTransmission)||void 0===e||e.close(),this._reliableTransmission=void 0,l()},r&&r(),i.onclose=o,i.onmessage=a,null===(n=this._store)||void 0===n||n.recordJoinChannelService({endTs:Date.now(),status:"success"},s),this._joinChannelServiceRecordIndex=s})).catch((e=>{var t;if(null===(t=this._store)||void 0===t||t.recordJoinChannelService({endTs:Date.now(),status:e instanceof Wy&&e.code===ZE.WS_ABORT?"aborted":"error",errors:[e]},s),"closed"!==this.state){if(e instanceof Wy&&e.code===ZE.WS_ERR){const t=new Wy(ZE.WS_ERR,"init datachannel failed! Error: ".concat(e.toString()));return YU.error("[".concat(this._name,"]").concat(t)),void n(t)}o&&o(e)}else n(new Wy(ZE.WS_DISCONNECT,"datachannel is closed: ".concat(e.toString())))}))}))}async reconnectWithAction(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this._reconnectCount>=this._retryConfig.maxRetryCount)return!1;if(!this._addresses)return!1;if("closed"===this.state)return!1;this._onlineReconnectListener||QC.networkState!==uC.OFFLINE||(this._onlineReconnectListener=QC.onlineWaiter&&QC.onlineWaiter.then((()=>{this._onlineReconnectListener=void 0})));let n=!0;if(this._reconnectInterrupter=()=>{n=!1},t){const t=KC(this._reconnectCount,this._retryConfig);YU.debug("[".concat(this._name,"] wait ").concat(t,"ms to reconnect datachannel, mode: ").concat(e)),await tE.race([VC(t),this._onlineReconnectListener||new tE((()=>{}))])}if("closed"===this.state||!n)return!1;this._reconnectCount+=1;const i=async(e,t)=>{this.emit(yb.RECONNECT_CREATE_CONNECTION,t),await this.createTransmitterConnection(e)};try{if("retry"===e){const t=this._addresses[this.currentURLIndex];this.emit(yb.RECONNECT_WAITTING_FINISH,e),await i(t,e)}else if("tryNext"===e){this.currentURLIndex+=1;for(let e=this.currentURLIndex;e<this._addresses.length;e++){if(this._addresses[e].fingerprint||NU("FINGERPRINT")){this.currentURLIndex=e;break}this.currentURLIndex+=1}if(this.currentURLIndex>=this._addresses.length)return YU.debug("[".concat(this._name,"] the available addresses are exhausted, change to recover")),await this.reconnectWithAction("recover",!1);YU.debug("[".concat(this._name,"] datachannel url length: ").concat(this._addresses.length," current index: ").concat(this.currentURLIndex));const t=this._addresses[this.currentURLIndex];this.emit(yb.RECONNECT_WAITTING_FINISH,e),await i(t,e)}else"recover"===e&&(YU.debug("[".concat(this._name,"] start to failback to websocket")),this.resetReconnectCount("recover mode"),this.emit(yb.RECONNECT_WAITTING_FINISH,e),this.emit(yb.FAILBACK));return!0}catch(n){var r,o;return YU.error("[".concat(this._name,"] reconnect failed"),n.toString()),null!=n&&null!==(r=n.data)&&void 0!==r&&r.desc&&Array.isArray(n.data.desc)&&n.data.desc.length&&Fi(o=n.data.desc).call(o,"dynamic key expired")?(this.emit(yb.ON_TOKEN_PRIVILEGE_DID_EXPIRE),!1):await this.reconnectWithAction(e,t)}}}class Vv extends nC{get connectionState(){return this._connectionState}set connectionState(e){e!==this._connectionState&&(this._connectionState=e,e===Ey.CONNECTED?this.emit(Cy.WS_CONNECTED):e===Ey.RECONNECTING?this.emit(Cy.WS_RECONNECTING,this._websocketReconnectReason):e===Ey.CLOSED&&this.emit(Cy.WS_CLOSED,this._disconnectedReason))}get currentURLIndex(){return this.websocket.currentURLIndex}get url(){return this.websocket?this.websocket.url:null}get rtt(){return this.rttRolling.mean()}constructor(e,t){super(),ih(this,"_disconnectedReason",void 0),ih(this,"_websocketReconnectReason",void 0),ih(this,"_connectionState",Ey.CLOSED),ih(this,"reconnectToken",void 0),ih(this,"websocket",void 0),ih(this,"openConnectionTime",void 0),ih(this,"clientId",void 0),ih(this,"lastMsgTime",Date.now()),ih(this,"uploadCache",[]),ih(this,"uploadCacheInterval",void 0),ih(this,"rttRolling",new lI(5)),ih(this,"pingpongTimer",void 0),ih(this,"inflateDataTimer",void 0),ih(this,"pingpongTimeoutCount",0),ih(this,"joinResponse",void 0),ih(this,"multiIpOption",void 0),ih(this,"initError",void 0),ih(this,"spec",void 0),ih(this,"store",void 0),ih(this,"onWebsocketMessage",(e=>{if(e instanceof ArrayBuffer)return void this.emit(Cy.ON_BINARY_DATA,e);const t=JSON.parse(e);if(this.lastMsgTime=Date.now(),Object.prototype.hasOwnProperty.call(t,"_id")){const e="res-@".concat(t._id);this.emit(e,t._result,t._message)}else if(Object.prototype.hasOwnProperty.call(t,"_type")&&(this.emit(t._type,t._message),t._type===Uy.ON_NOTIFICATION&&this.handleNotification(t._message),t._type===Uy.ON_USER_BANNED))switch(t._message.error_code){case 14:this.close(cC.UID_BANNED);break;case 15:this.close(cC.IP_BANNED);break;case 16:this.close(cC.CHANNEL_BANNED)}})),this.clientId=e.clientId,this.spec=e,this.store=t,this.websocket=new Dv("gateway-".concat(this.clientId),this.spec.retryConfig,!0,t),this.handleWebsocketEvents(),window.addEventListener("offline",(()=>{this.connectionState===Ey.CONNECTED&&this.reconnect("retry",Ub.OFFLINE)}))}async request(e,t,n,i){const r=ZC(6,""),o={_id:r,_type:e,_message:t},a=this.websocket.connectionID,s=()=>new tE(((t,n)=>{if(this.connectionState===Ey.CONNECTED)return t();const i=()=>{this.off(Cy.WS_CLOSED,r),t()},r=()=>{this.off(Cy.WS_CONNECTED,i),n(new Wy(ZE.WS_ABORT))};this.once(Cy.WS_CONNECTED,i),this.once(Cy.WS_CLOSED,r),e!==Iy.PUBLISH&&e!==Iy.SUBSCRIBE&&e!==Iy.UNSUBSCRIBE&&e!==Iy.UNPUBLISH&&e!==Iy.CONTROL&&e!==Iy.RESTART_ICE||this.once(Cy.DISCONNECT_P2P,(()=>{n(new Wy(ZE.DISCONNECT_P2P))})),e!==Iy.PUBLISH&&e!==Iy.RESTART_ICE||this.once(Cy.ABORT_P2P_EXECUTION,(()=>{n(new Wy(ZE.DISCONNECT_P2P))}))}));if(this.connectionState!==Ey.CONNECTING&&this.connectionState!==Ey.RECONNECTING||e===Iy.JOIN||e===Iy.REJOIN||await s(),e===Iy.LEAVE&&(this.websocket.unbindDcCloseEventListener(),i=!0),this.websocket.sendMessage(o,!0,!1),i)return;const c=new tE(((n,i)=>{let o=!1;const s=(i,r)=>{o=!0,n({isSuccess:"success"===i,message:r||{}}),this.off(Cy.WS_CLOSED,c),this.off(Cy.WS_RECONNECTING,c),this.emit(Cy.REQUEST_SUCCESS,e,t)};this.once("res-@".concat(r),s);const c=()=>{i(new Wy(ZE.WS_ABORT,"type: ".concat(e))),this.off(Cy.WS_CLOSED,c),this.off(Cy.WS_RECONNECTING,c),this.off("res-@".concat(r),s)};this.once(Cy.WS_CLOSED,c),this.once(Cy.WS_RECONNECTING,c),VC(NU("SIGNAL_REQUEST_TIMEOUT")).then((()=>{this.websocket.connectionID!==a||o||(YU.warning("dc request timeout, type: ".concat(e)),this.emit(Cy.REQUEST_TIMEOUT,e,t))}))}));let l=null;try{l=await c}catch(i){if(this.connectionState===Ey.CLOSED||e===Iy.LEAVE)throw new Wy(ZE.WS_ABORT);return!this.spec.forceWaitGatewayResponse||n?i.throw():e===Iy.JOIN||e===Iy.REJOIN?null:(await s(),await this.request(e,t))}if(l.isSuccess)return l.message;const d=Number(l.message.error_code||l.message.code),u=Ob(d),h=new Wy(ZE.UNEXPECTED_RESPONSE,"".concat(u.desc,": ").concat(l.message.error_str),{code:d,data:l.message});return"success"===u.action?l.message:(YU.warning("[".concat(this.websocket.connectionID,"] unexpected response from type ").concat(e,", error_code: ").concat(d,", message: ").concat(u.desc,", action: ").concat(u.action)),d===my.ERR_TOO_MANY_BROADCASTERS?e===Iy.JOIN||e===Iy.REJOIN?(this.initError=h,this.close(),h.throw()):h.throw():"failed"===u.action?h.throw():"quit"===u.action?(this.initError=h,this.close(),h.throw()):(d===my.ERR_JOIN_BY_MULTI_IP?(this.multiIpOption=l.message.option,YU.warning("[".concat(this.clientId,"] detect multi ip, recover")),this.reconnect("recover",Ub.MULTI_IP)):this.reconnect(u.action,Ub.SERVER_ERROR),e===Iy.JOIN||e===Iy.REJOIN?null:await this.request(e,t)))}waitMessage(e,t){return new tE((n=>{const i=r=>{(!t||t(r))&&(this.off(e,i),n(r))};this.on(e,i)}))}uploadWRTCStats(e){if(!this.store.sessionId)return void YU.warn("[".concat(this.clientId,"] no session id when upload wrtc stats"));const t={lts:Date.now(),sid:this.store.sessionId,uid:this.store.intUid,stats:e};this.upload(Qy.WRTC_STATS,t)}upload(e,t){const n={_type:e,_message:t};try{this.websocket.sendMessage(n)}catch(e){const t=NU("MAX_UPLOAD_CACHE")||50;this.uploadCache.push(n),this.uploadCache.length>t&&this.uploadCache.splice(0,1),this.uploadCache.length>0&&!this.uploadCacheInterval&&(this.uploadCacheInterval=window.setInterval((()=>{if(this.connectionState!==Ey.CONNECTED)return;const e=this.uploadCache.splice(0,1)[0];0===this.uploadCache.length&&(window.clearInterval(this.uploadCacheInterval),this.uploadCacheInterval=void 0),this.upload(e._type,e._message)}),NU("UPLOAD_CACHE_INTERVAL")||2e3))}}send(e,t){const n={_type:e,_message:t};this.websocket.sendMessage(n)}init(e,t){return this.initError=void 0,this.multiIpOption=void 0,this.joinResponse=void 0,this.reconnectToken=void 0,this.openConnectionTime=void 0,new tE(((n,i)=>{this.once(Cy.WS_CONNECTED,(()=>n(this.joinResponse))),this.once(Cy.WS_CLOSED,(()=>i(this.initError||new Wy(ZE.WS_ABORT)))),this.connectionState=Ey.CONNECTING,this.websocket.init(e).catch(i),this.websocket.once(yb.FAILBACK,(()=>{void 0===this.openConnectionTime&&i(new Wy(ZE.INIT_DATACHANNEL_TIMEOUT))})),this.inflateDataTimer&&window.clearInterval(this.inflateDataTimer),this.inflateDataTimer=window.setInterval((()=>{this.handleInflateData()}),2e4),setTimeout((()=>{t&&void 0===this.openConnectionTime&&(YU.debug("[".concat(this.clientId,"] init datachannel timeout while join with failback to websocket")),i(new Wy(ZE.INIT_DATACHANNEL_TIMEOUT)))}),NU("DC_JOIN_WITH_FAILBACK"))}))}close(e){this.pingpongTimer&&(this.pingpongTimeoutCount=0,window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0),this.inflateDataTimer&&(this.handleInflateData(),window.clearInterval(this.inflateDataTimer),this.inflateDataTimer=void 0),this.reconnectToken=void 0,this.joinResponse=void 0,this._disconnectedReason=e||cC.LEAVE,this.connectionState=Ey.CLOSED,YU.debug("[".concat(this.clientId,"] ")+"will close datachannel in signal"),this.websocket.close(),e===cC.FALLBACK&&(this.websocket.removeAllListeners(),this.websocket=new Dv("gateway-".concat(this.clientId),this.spec.retryConfig,!0,this.store),this.handleWebsocketEvents())}async join(){if(!this.joinResponse){this.emit(Cy.ABORT_P2P_EXECUTION);const e=await mC(this,Cy.DATACHANNEL_CONNECTING),t=await this.request(Iy.JOIN,e);if(!t)return this.emit(Cy.REPORT_JOIN_GATEWAY,ZE.TIMEOUT,this.url||""),!1;this.joinResponse=t,this.emit(Cy.JOIN_RESPONSE,this.joinResponse),this.reconnectToken=this.joinResponse.rejoin_token}return this.connectionState=Ey.CONNECTED,this.pingpongTimer&&window.clearInterval(this.pingpongTimer),this.pingpongTimer=window.setInterval(this.handlePingPong.bind(this),3e3),!0}async rejoin(){if(!this.reconnectToken)throw new Wy(ZE.UNEXPECTED_ERROR,"can not rejoin, no rejoin token");const e=IC(this,Cy.REQUEST_REJOIN_INFO);e.token=this.reconnectToken;const t=await this.request(Iy.REJOIN,e);return!!t&&(this.connectionState=Ey.CONNECTED,this.pingpongTimer&&window.clearInterval(this.pingpongTimer),this.pingpongTimer=window.setInterval(this.handlePingPong.bind(this),3e3),t.peers&&t.peers.forEach((e=>{this.emit(Uy.ON_USER_ONLINE,{uid:e.uid}),e.audio&&this.emit(Uy.ON_ADD_AUDIO_STREAM,{uid:e.uid,uint_id:e.uint_id,audio:!0,ssrcId:e.audio_ssrc}),e.video&&this.emit(Uy.ON_ADD_VIDEO_STREAM,{uid:e.uid,uint_id:e.uint_id,video:!0,ssrcId:e.video_ssrc}),e.audio_mute?this.emit(Uy.MUTE_AUDIO,{uid:e.uid}):this.emit(Uy.UNMUTE_AUDIO,{uid:e.uid}),e.video_mute?this.emit(Uy.MUTE_VIDEO,{uid:e.uid}):this.emit(Uy.UNMUTE_VIDEO,{uid:e.uid}),e.audio_enable_local?this.emit(Uy.ENABLE_LOCAL_AUDIO,{uid:e.uid}):this.emit(Uy.DISABLE_LOCAL_AUDIO,{uid:e.uid}),e.video_enable_local?this.emit(Uy.ENABLE_LOCAL_VIDEO,{uid:e.uid}):this.emit(Uy.DISABLE_LOCAL_VIDEO,{uid:e.uid}),e.audio||e.video||this.emit(Uy.ON_REMOVE_STREAM,{uid:e.uid,uint_id:e.uint_id})})),!0)}reconnect(e,t){this.pingpongTimer&&(this.pingpongTimeoutCount=0,window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0),this.websocket.reconnect(e,t)}handleNotification(e){YU.debug("[".concat(this.clientId,"] receive notification: "),e);const t=Ob(e.code);if("success"!==t.action){if("failed"!==t.action)return"quit"===t.action?("ERR_REPEAT_JOIN_CHANNEL"===t.desc&&this.close(cC.UID_BANNED),void this.close()):void this.reconnect(t.action,Ub.SERVER_ERROR);YU.error("[".concat(this.clientId,"] ignore error: "),t.desc)}}handlePingPong(){if(!this.websocket||"connected"!==this.websocket.state)return;this.pingpongTimeoutCount>0&&this.rttRolling.add(3e3),this.pingpongTimeoutCount+=1;const e=NU("PING_PONG_TIME_OUT"),t=Date.now();this.pingpongTimeoutCount>=e&&(YU.warning("PINGPONG Timeout. Last Socket Message: ".concat(t-this.lastMsgTime,"ms")),t-this.lastMsgTime>NU("WEBSOCKET_TIMEOUT_MIN"))?this.reconnect("retry",Ub.TIMEOUT):this.request(Iy.PING,void 0,!0).then((()=>{this.pingpongTimeoutCount=0;const e=Date.now()-t;this.rttRolling.add(e),NU("REPORT_STATS")&&this.send(Iy.PING_BACK,{pingpongElapse:e})})).catch((e=>{}))}handleInflateData(){const{inflateLength:e,deflateLength:t}=this.websocket.getInflateData();0!==e&&0!==t&&this.upload(Qy.WS_INFLATE_DATA_LENGTH,{ws_deflate_length:t,ws_inflate_length:e})}handleWebsocketEvents(){this.websocket.on(yb.RECONNECT_WAITTING_FINISH,(e=>{this.emit(Cy.WS_RECONNECT_WAITTING_FINISH,e)})),this.websocket.on(yb.RECONNECT_CREATE_CONNECTION,(e=>{this.emit(Cy.WS_RECONNECT_CREATE_CONNECTION,e)})),this.websocket.on(yb.ON_MESSAGE,this.onWebsocketMessage),this.websocket.on(yb.CLOSED,(()=>{this.connectionState=Ey.CLOSED})),this.websocket.on(yb.FAILED,(()=>{this._disconnectedReason=cC.NETWORK_ERROR,this.connectionState=Ey.CLOSED})),this.websocket.on(yb.RECONNECTING,(e=>{this._websocketReconnectReason=e,this.joinResponse=void 0,this.connectionState===Ey.CONNECTED?this.connectionState=Ey.RECONNECTING:this.connectionState=Ey.CONNECTING})),this.websocket.on(yb.WILL_RECONNECT,((e,t)=>{if(IC(this,Cy.IS_P2P_DISCONNECTED)&&"retry"===e)return YU.debug("".concat(this.clientId," reconnect mode is retry, but p2p lost, change to tryNext")),this.reconnectToken=void 0,this.emit(Cy.NEED_RENEW_SESSION),this.emit(Cy.DISCONNECT_P2P),t("tryNext");"retry"!==e&&(YU.debug("".concat(this.clientId," websockt will_connect event, renewSession reconnectMode is ").concat(e)),this.reconnectToken=void 0,this.emit(Cy.NEED_RENEW_SESSION),this.emit(Cy.DISCONNECT_P2P)),t(e)})),this.websocket.on(yb.CONNECTED,(()=>{this.openConnectionTime=Date.now(),this.reconnectToken?this.rejoin().catch((e=>{YU.warning("[".concat(this.clientId,"] rejoin failed ").concat(e)),this.reconnect("tryNext",Ub.SERVER_ERROR)})):this.join().catch((e=>{if(this.emit(Cy.REPORT_JOIN_GATEWAY,e.message||e.code,this.url||""),e instanceof Wy&&e.code===ZE.UNEXPECTED_RESPONSE&&e.data.code===my.ERR_NO_AUTHORIZED)return YU.warning("[".concat(this.clientId,"] reconnect no authorized, recover")),void this.reconnect("recover",Ub.SERVER_ERROR);YU.error("[".concat(this.clientId,"] join gateway request failed"),e.toString()),this.spec.forceWaitGatewayResponse?this.reconnect("tryNext",Ub.SERVER_ERROR):(this.initError=e,this.close())}))})),this.websocket.on(yb.REQUEST_NEW_URLS,((e,t)=>{mC(this,Cy.REQUEST_RECOVER,this.multiIpOption).then(e).catch(t)})),this.websocket.on(yb.ON_TOKEN_PRIVILEGE_DID_EXPIRE,(()=>{this.emit(Uy.ON_TOKEN_PRIVILEGE_DID_EXPIRE)})),this.websocket.on(yb.TO_CONNECT_DATACHANNEL,(async(e,t,n)=>mC(this,Cy.DATACHANNEL_PRECONNECT,e).then(t).catch(n))),this.websocket.on(yb.FAILBACK,(()=>{void 0!==this.openConnectionTime&&this.emit(Cy.DATACHANNEL_FAILBACK)}))}}class Zv extends nC{constructor(e,t){super(),ih(this,"signal",void 0),ih(this,"token",void 0),ih(this,"tokenTimeout",void 0),ih(this,"tokenInterval",void 0),ih(this,"_sequence",0),ih(this,"userMap",new Map),ih(this,"encoder",new TextEncoder),this.signal=e,this.token=t;const n=()=>{this.signal.connectionState===Ey.CONNECTED&&this.check(),0===this.userMap.size?this.tokenInterval=window.setTimeout(n,1e3):this.tokenInterval=window.setTimeout(n,3*NU("P2P_TOKEN_INTERVAL"))};n()}async send(e,t,n,i,r){var o,a,s;if(0===this.userMap.size)return;const c=Array.from(Dy(o=this.userMap).call(o))[0].token;"string"!=typeof t&&(t=JSON.stringify(t)),i=null!==(a=i)&&void 0!==a?a:ZC(6,""),r=null!==(s=r)&&void 0!==s?s:this._sequence++;const l={_id:i,_type:e,_seq:r,_message:t,token:"".concat(this.token,"_").concat(c)};NU("SHOW_P2P_LOG")&&YU.debug("send message",l,"noNeedResponse : ".concat(n)),this.splitMessage(JSON.stringify(l)).forEach((e=>{this.signal.request(Iy.DATA_STREAM,{payload:_C(this.encoder.encode(e))})}));const d=new tE(((t,r)=>{const o=window.setTimeout((()=>{this.off("res-@".concat(i,"_ack"),a),this.off("res-@".concat(i),c),this.off(Tb.ABORT,s),YU.debug("[external-signal] request timeout, type: ".concat(e,", requestId: ").concat(i)),0===this.userMap.size?r(new WE(ZE.INVALID_REMOTE_USER)):r(new WE(ZE.TIMEOUT))}),NU("EXTERNAL_SIGNAL_REQUEST_TIMEOUT")),a=()=>{o&&window.clearTimeout(o),this.off(Tb.ABORT,s),n&&t()},s=()=>{o&&window.clearTimeout(o),this.off("res-@".concat(i,"_ack"),a),this.off("res-@".concat(i),c),r(new WE(ZE.EXTERNAL_SIGNAL_ABORT,"type: ".concat(e,", requestId: ").concat(i)))};this.once(Tb.ABORT,s),this.once("res-@".concat(i,"_ack"),a);const c=(n,c)=>{d=!0,o&&window.clearTimeout(o),this.off("res-@".concat(i,"_ack"),a),this.off(Tb.ABORT,s),"success"===n?t(c):r(new WE(ZE.P2P_MESSAGE_FAILED,"request ".concat(e," failed, requestId: ").concat(i)))};let d=!1;n||(this.once("res-@".concat(i),c),VC(NU("SIGNAL_REQUEST_TIMEOUT")).then((()=>{d||YU.warning("external_signal request timeout, type: ".concat(e,", requestId: ").concat(i,", ").concat(l))})))}));try{return await d}catch(o){if(o.code===ZE.TIMEOUT)return await this.send(e,t,n,i,r);throw o}}onMessage(e){var t;const{_uid:n}=e;let i,r=this.userMap.get(n);if(r)i=r.splitMessageMap;else{if(this.userMap.size>0||!("_type"in e)||e._type!==Bb.CHECK)return;const{token:t}=e;i=new Map,r={uid:n,isStart:!0,token:t,splitMessageMap:i,nextExpectedSequenceNumber:0,receivedMessagesMap:new Map},this.userMap.set(n,r),this.signal.emit(Uy.ON_USER_ONLINE,{uid:n}),this.handleUserOnline()}if("id"in e&&"total"in e){var o;const{id:t,total:r}=e,a=null!==(o=i.get(t))&&void 0!==o?o:[];if(a.push(e),i.has(t)||i.set(t,a),a.length!==r)return;{const r=qh(a).call(a,((e,t)=>e.index-t.index)).map((e=>e.payload)).join("");i.delete(t),(e=JSON.parse(r))._uid=n}}const{_type:a,token:s}=e;if(Fi(t=[Bb.ACK,Bb.CHECK]).call(t,a))return a===Bb.CHECK&&this.handleCheckToken(r,s),void this.receiveMessage(e);s==="".concat(r.token,"_").concat(this.token)?this.handleReceivedMessage(e):YU.debug('Receive unexpected message", '.concat(s,", cur_token: ").concat(r.token,"_").concat(this.token),e)}check(){const e={_id:ZC(6,""),token:this.token,_type:Bb.CHECK};NU("SHOW_P2P_LOG")&&YU.debug("send message",e),this.signal.request(Iy.DATA_STREAM,{payload:_C(this.encoder.encode(JSON.stringify(e)))})}ack(e){const t={_id:e,_type:Bb.ACK,token:this.token};NU("SHOW_P2P_LOG")&&YU.debug("send message",t),this.signal.request(Iy.DATA_STREAM,{payload:_C(this.encoder.encode(JSON.stringify(t)))})}response(e,t,n){this.send(Bb.RESPONSE,JSON.stringify({success:!n,message:t}),!0,e)}handleReceivedMessage(e){const t=()=>{this.userMap.forEach((e=>{const{receivedMessagesMap:t,nextExpectedSequenceNumber:n}=e;for(;t.has(n);){const i=t.get(n);t.delete(n),this.receiveMessage(i),e.nextExpectedSequenceNumber++}}))};if(!e)return void t();const{_uid:n,_seq:i}=e,r=this.userMap.get(n),{receivedMessagesMap:o,isStart:a,nextExpectedSequenceNumber:s}=r;if(i<s)return this.ack(e._id),void YU.debug("[external-signal] receive old message, seq: ".concat(i,", ").concat(e._message));o.set(i,e),a&&i===s&&(this.receiveMessage(e),o.delete(s),r.nextExpectedSequenceNumber++,t())}receiveMessage(e){const{_id:t,_type:n,_message:i,_uid:r}=e;if(NU("SHOW_P2P_LOG")&&YU.debug("receive message",e),t){let o;switch(e._type!==Bb.ACK&&(i&&(o=JSON.parse(i)),this.ack(e._id)),e._type){case Bb.CANDIDATE:case Bb.CONTROL:this.signal.emit(n,o,r);break;case Bb.PUBLISH:case Bb.UNPUBLISH:case Bb.RESTART_ICE:case Bb.CALL:o.uid=r,mC(this.signal,n,o).then((t=>{this.response(e._id,t)})).catch((()=>{this.response(e._id,void 0,!0)}));break;case Bb.ACK:this.getListeners("res-@".concat(t,"_ack")).length>0&&this.emit("res-@".concat(t,"_ack"));break;case Bb.RESPONSE:{const{success:e,message:n}=o;this.emit("res-@".concat(t),e?"success":"failed",n);break}}}}splitMessage(e){if(e.length<Zv.MAX_MESSAGE_SIZE)return[e];const t=[],{remoteToken:n}=JSON.parse(e),i=ZC(6,"");let r=0,o=800;const a=Math.ceil(e.length/o);for(;e.length>0;){r++;const s={id:i,index:r,total:a,payload:e.slice(0,o),token:"".concat(this.token,"_").concat(n)};JSON.stringify(s).length>Zv.MAX_MESSAGE_SIZE?o-=50:(t.push(s),e=e.slice(o))}return t.map((e=>JSON.stringify(e)))}handleCheckToken(e,t){return e.token!==t?(YU.debug("token changed, from ".concat(e.token," to ").concat(t)),this.reset(e.uid,t),!1):(this.tokenTimeout&&(window.clearTimeout(this.tokenTimeout),this.tokenTimeout=void 0),this.tokenTimeout=window.setTimeout((()=>{YU.debug("token timeout, ".concat(t)),this.reset(e.uid)}),NU("MAX_P2P_TIMEOUT")),!0)}async handleUserOnline(){const e=await mC(this.signal,Bb.CALL,void 0),t=await this.send(Bb.CALL,e);this.signal.emit(Cy.P2P_CONNECTION,t,!0)}async reset(e,t){const n=this.userMap.get(e);n&&(this.emit(Tb.ABORT),this.signal.emit(Uy.ON_USER_OFFLINE,{uid:n.uid,reason:wb.P2P_TOKEN_CHANGED}),this._sequence=0,this.userMap.clear(),t||(YU.debug("change local token from ".concat(t," to ").concat(t)),this.token=ZC(6,"")))}clear(){this._sequence=0,this.userMap.clear(),this.tokenInterval&&window.clearTimeout(this.tokenInterval),this.tokenInterval=void 0,this.tokenTimeout&&window.clearTimeout(this.tokenTimeout),this.tokenTimeout=void 0,this.emit(Tb.ABORT)}}ih(Zv,"MAX_SIZE",1),ih(Zv,"MAX_MESSAGE_SIZE",1024);class Wv extends nC{get connectionState(){return this._connectionState}set connectionState(e){e!==this._connectionState&&(this._connectionState=e,e===Ey.CONNECTED?this.emit(Cy.WS_CONNECTED):e===Ey.RECONNECTING?this.emit(Cy.WS_RECONNECTING,this._websocketReconnectReason):e===Ey.CLOSED&&this.emit(Cy.WS_CLOSED,this._disconnectedReason))}get currentURLIndex(){return this.websocket.currentURLIndex}get url(){return this.websocket&&this.websocket.url||null}get rtt(){return this.rttRolling.mean()}constructor(e,t){super(),ih(this,"_disconnectedReason",void 0),ih(this,"_websocketReconnectReason",void 0),ih(this,"_connectionState",Ey.CLOSED),ih(this,"reconnectToken",void 0),ih(this,"p2pToken",void 0),ih(this,"websocket",void 0),ih(this,"openConnectionTime",void 0),ih(this,"clientId",void 0),ih(this,"lastMsgTime",Date.now()),ih(this,"uploadCache",[]),ih(this,"uploadCacheInterval",void 0),ih(this,"rttRolling",new lI(5)),ih(this,"pingpongTimer",void 0),ih(this,"pingpongTimeoutCount",0),ih(this,"joinResponse",void 0),ih(this,"multiIpOption",void 0),ih(this,"initError",void 0),ih(this,"spec",void 0),ih(this,"store",void 0),ih(this,"_external_signal",void 0),ih(this,"onWebsocketMessage",(e=>{if(e.data instanceof ArrayBuffer)return void this.emit(Cy.ON_BINARY_DATA,e.data);const t=JSON.parse(e.data);if(this.lastMsgTime=Date.now(),Object.prototype.hasOwnProperty.call(t,"_id")){const e="res-@".concat(t._id);this.emit(e,t._result,t._message)}else if(Object.prototype.hasOwnProperty.call(t,"_type")){switch(t._type){case Uy.ON_DATA_STREAM:return void this.handleDataStream(t._message);case Uy.MUTE_AUDIO:case Uy.MUTE_VIDEO:case Uy.ON_P2P_LOST:case Uy.ON_USER_ONLINE:return;case Uy.ON_USER_OFFLINE:const{uid:e}=t._message;return YU.debug("[".concat(this.clientId,"] user-offline uid: ").concat(e)),void this._external_signal.reset(e)}if(this.emit(t._type,t._message),t._type===Uy.ON_NOTIFICATION&&this.handleNotification(t._message),t._type===Uy.ON_USER_BANNED)switch(t._message.error_code){case 14:this.close(cC.UID_BANNED);break;case 15:this.close(cC.IP_BANNED);break;case 16:this.close(cC.CHANNEL_BANNED)}if(t._type===Uy.ON_USER_LICENSE_BANNED)switch(t._message.error_code){case my.ERR_LICENSE_MISSING:this.close(cC.LICENSE_MISSING);break;case my.ERR_LICENSE_EXPIRED:this.close(cC.LICENSE_EXPIRED);break;case my.ERR_LICENSE_MINUTES_EXCEEDED:this.close(cC.LICENSE_MINUTES_EXCEEDED);break;case my.ERR_LICENSE_PERIOD_INVALID:this.close(cC.LICENSE_PERIOD_INVALID);break;case my.ERR_LICENSE_MULTIPLE_SDK_SERVICE:this.close(cC.LICENSE_MULTIPLE_SDK_SERVICE);break;case my.ERR_LICENSE_ILLEGAL:this.close(cC.LICENSE_ILLEGAL);break;default:this.close()}}})),this.clientId=e.clientId,this.spec=e,this.store=t,this.websocket=new qb("gateway-".concat(this.clientId),this.spec.retryConfig,!0,NU("JOIN_GATEWAY_USE_DUAL_DOMAIN"),NU("JOIN_GATEWAY_USE_443PORT_ONLY"),t),this.handleWebsocketEvents(),window.addEventListener("offline",(()=>{this.connectionState===Ey.CONNECTED&&this.reconnect("retry",dC.OFFLINE)})),this.p2pToken=ZC(6,""),this._external_signal=new Zv(this,this.p2pToken)}async request(e,t,n,i){const r=ZC(6,""),o={_id:r,_type:e,_message:t},a=this.websocket.connectionID,s=()=>new tE(((e,t)=>{if(this.connectionState===Ey.CONNECTED)return e();const n=()=>{this.off(Cy.WS_CLOSED,i),e()},i=()=>{this.off(Cy.WS_CONNECTED,n),t(new WE(ZE.WS_ABORT))};this.once(Cy.WS_CONNECTED,n),this.once(Cy.WS_CLOSED,i)}));if(this.connectionState!==Ey.CONNECTING&&this.connectionState!==Ey.RECONNECTING||e===Iy.JOIN||e===Iy.REJOIN||await s(),this.websocket.sendMessage(o,!0),i)return;const c=new tE(((n,i)=>{let o=!1;const s=(i,r)=>{o=!0,n({isSuccess:"success"===i,message:r||{}}),this.off(Cy.WS_CLOSED,c),this.off(Cy.WS_RECONNECTING,c),this.emit(Cy.REQUEST_SUCCESS,e,t)};this.once("res-@".concat(r),s);const c=()=>{i(new WE(ZE.WS_ABORT,"type: ".concat(e))),this.off(Cy.WS_CLOSED,c),this.off(Cy.WS_RECONNECTING,c),this.off("res-@".concat(r),s)};this.once(Cy.WS_CLOSED,c),this.once(Cy.WS_RECONNECTING,c),VC(NU("SIGNAL_REQUEST_TIMEOUT")).then((()=>{this.websocket.connectionID!==a||o||(YU.warning("[".concat(this.clientId,"] ws request timeout, type: ").concat(e)),this.emit(Cy.REQUEST_TIMEOUT,e,t))}))}));let l=null;try{l=await c}catch(i){if(this.connectionState===Ey.CLOSED||e===Iy.LEAVE)throw new WE(ZE.WS_ABORT);return!this.spec.forceWaitGatewayResponse||n?i.throw():e===Iy.JOIN||e===Iy.REJOIN?null:(await s(),await this.request(e,t))}if(l.isSuccess)return l.message;const d=Number(l.message.error_code||l.message.code),u=Ob(d),h=new WE(ZE.UNEXPECTED_RESPONSE,"".concat(u.desc,": ").concat(l.message.error_str),{code:d,data:l.message});return"success"===u.action?l.message:(YU.warning("[".concat(this.clientId,"] [").concat(this.websocket.connectionID,"] unexpected response from type ").concat(e,", error_code: ").concat(d,", message: ").concat(u.desc,", action: ").concat(u.action)),d===my.ERR_TOO_MANY_BROADCASTERS?e===Iy.JOIN||e===Iy.REJOIN?(this.initError=h,this.close(),h.throw()):h.throw():"failed"===u.action?h.throw():"quit"===u.action?(this.initError=h,this.close(),h.throw()):(d===my.ERR_JOIN_BY_MULTI_IP?(this.multiIpOption=l.message.option,YU.warning("[".concat(this.clientId,"] detect multi ip, recover")),this.reconnect("recover",dC.MULTI_IP)):this.reconnect(u.action,dC.SERVER_ERROR),e===Iy.JOIN||e===Iy.REJOIN?null:await this.request(e,t)))}waitMessage(e,t){return new tE((n=>{const i=r=>{(!t||t(r))&&(this.off(e,i),n(r))};this.on(e,i)}))}uploadWRTCStats(e){if(!this.store.sessionId)return void YU.warn("[".concat(this.clientId,"] no session id when upload wrtc stats"));const t={lts:Date.now(),sid:this.store.sessionId,uid:this.store.intUid,stats:e};this.upload(Qy.WRTC_STATS,t)}upload(e,t){const n={_type:e,_message:t};try{this.websocket.sendMessage(n)}catch(e){const t=NU("MAX_UPLOAD_CACHE")||50;this.uploadCache.push(n),this.uploadCache.length>t&&this.uploadCache.splice(0,1),this.uploadCache.length>0&&!this.uploadCacheInterval&&(this.uploadCacheInterval=window.setInterval((()=>{if(this.connectionState!==Ey.CONNECTED)return;const e=this.uploadCache.splice(0,1)[0];0===this.uploadCache.length&&(window.clearInterval(this.uploadCacheInterval),this.uploadCacheInterval=void 0),this.upload(e._type,e._message)}),NU("UPLOAD_CACHE_INTERVAL")||2e3))}}send(e,t){const n={_type:e,_message:t};this.websocket.sendMessage(n)}async sendExtensionMessage(e,t,n){return await this._external_signal.send(e,t,n)}init(e){return this.initError=void 0,this.multiIpOption=void 0,this.joinResponse=void 0,this.reconnectToken=void 0,this.openConnectionTime=void 0,new tE(((t,n)=>{this.once(Cy.WS_CONNECTED,(()=>t(this.joinResponse))),this.once(Cy.WS_CLOSED,(()=>n(this.initError||new WE(ZE.WS_ABORT)))),this.connectionState=Ey.CONNECTING,this.websocket.init(e).catch(n)}))}close(e){this.pingpongTimer&&(this.pingpongTimeoutCount=0,window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0),this.reconnectToken=void 0,this.joinResponse=void 0,this._external_signal.clear(),this._disconnectedReason=e||cC.LEAVE,this.connectionState=Ey.CLOSED,YU.debug("[".concat(this.clientId,"] ")+"will close websocket in signal"),this.websocket.close(),e===cC.FALLBACK&&(this.websocket.removeAllListeners(),this.websocket=new qb("gateway-".concat(this.clientId),this.spec.retryConfig,!0,NU("JOIN_GATEWAY_USE_DUAL_DOMAIN"),NU("JOIN_GATEWAY_USE_443PORT_ONLY"),this.store),this.handleWebsocketEvents()),this.p2pToken=ZC(6,""),this._external_signal.clear(),this._external_signal=new Zv(this,this.p2pToken)}async join(){if(!this.joinResponse){this.emit(Cy.ABORT_P2P_EXECUTION);const e=await mC(this,Cy.REQUEST_JOIN_INFO),t=await this.request(Iy.JOIN,e);if(!t)return this.emit(Cy.REPORT_JOIN_GATEWAY,ZE.TIMEOUT,this.url||""),!1;this.joinResponse=t,this.emit(Cy.JOIN_RESPONSE,this.joinResponse),this.reconnectToken=this.joinResponse.rejoin_token}return this.connectionState=Ey.CONNECTED,this.pingpongTimer&&window.clearInterval(this.pingpongTimer),this.pingpongTimer=window.setInterval(this.handlePingPong.bind(this),3e3),!0}reconnect(e,t){this.pingpongTimer&&(this.pingpongTimeoutCount=0,window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0),this.websocket.reconnect(e,t)}handleDataStream(e){try{var t;const n=NC(e.payload),i=(new TextDecoder).decode(n),r=JSON.parse(i);"total"in r&&"id"in r||Fi(t=Object.values(Bb)).call(t,r._type)?(r._uid=e.uid,this._external_signal.onMessage(r)):this.emit(Uy.ON_DATA_STREAM,e)}catch(t){this.emit(Uy.ON_DATA_STREAM,e)}}handleNotification(e){YU.debug("[".concat(this.clientId,"] receive notification: "),e);const t=Ob(e.code);if("success"!==t.action){if("failed"!==t.action)return"quit"===t.action?("ERR_REPEAT_JOIN_CHANNEL"===t.desc&&this.close(cC.UID_BANNED),void this.close()):void this.reconnect(t.action,dC.SERVER_ERROR);YU.error("[".concat(this.clientId,"] ignore error: "),t.desc)}}handlePingPong(){if(!this.websocket||"connected"!==this.websocket.state)return;this.pingpongTimeoutCount>0&&this.rttRolling.add(3e3),this.pingpongTimeoutCount+=1;const e=NU("PING_PONG_TIME_OUT"),t=Date.now();this.pingpongTimeoutCount>=e&&(YU.warning("[".concat(this.clientId,"] PINGPONG Timeout. Last Socket Message: ").concat(t-this.lastMsgTime,"ms")),t-this.lastMsgTime>NU("WEBSOCKET_TIMEOUT_MIN"))?this.reconnect("retry",dC.TIMEOUT):this.request(Iy.PING,void 0,!0).then((()=>{this.pingpongTimeoutCount=0;const e=Date.now()-t;this.rttRolling.add(e),NU("REPORT_STATS")&&this.send(Iy.PING_BACK,{pingpongElapse:e})})).catch((e=>{}))}handleWebsocketEvents(){this.websocket.on(vy.RECONNECT_WAITTING_FINISH,(e=>{this.emit(Cy.WS_RECONNECT_WAITTING_FINISH,e)})),this.websocket.on(vy.RECONNECT_CREATE_CONNECTION,(e=>{this.emit(Cy.WS_RECONNECT_CREATE_CONNECTION,e)})),this.websocket.on(vy.ON_MESSAGE,this.onWebsocketMessage),this.websocket.on(vy.CLOSED,(()=>{this.connectionState=Ey.CLOSED})),this.websocket.on(vy.FAILED,(()=>{this._disconnectedReason=cC.NETWORK_ERROR,this.connectionState=Ey.CLOSED})),this.websocket.on(vy.RECONNECTING,(e=>{this._websocketReconnectReason=e,this.joinResponse=void 0,this.connectionState===Ey.CONNECTED?this.connectionState=Ey.RECONNECTING:this.connectionState=Ey.CONNECTING})),this.websocket.on(vy.WILL_RECONNECT,((e,t,n)=>{"retry"!==e?(YU.debug("".concat(this.clientId," websocket will_connect event, renewSession reconnectMode is ").concat(e)),this.reconnectToken=void 0,this.emit(Cy.NEED_RENEW_SESSION)):YU.debug("".concat(this.clientId," reconnect mode is retry, no need to renew session")),n(e)})),this.websocket.on(vy.CONNECTED,(()=>{this.openConnectionTime=Date.now(),this.join().catch((e=>{if(this.emit(Cy.REPORT_JOIN_GATEWAY,e.message||e.code,this.url||""),e instanceof WE&&e.code===ZE.UNEXPECTED_RESPONSE&&e.data.code===my.ERR_NO_AUTHORIZED)return YU.warning("[".concat(this.clientId,"] reconnect no authorized, recover")),void this.reconnect("recover",dC.SERVER_ERROR);YU.error("[".concat(this.clientId,"] join gateway request failed"),e.toString()),this.spec.forceWaitGatewayResponse?this.reconnect("tryNext",dC.SERVER_ERROR):(this.initError=e,this.close())}))})),this.websocket.on(vy.REQUEST_NEW_URLS,((e,t)=>{mC(this,Cy.REQUEST_RECOVER,this.multiIpOption).then(e).catch(t)})),this.websocket.on(vy.ON_TOKEN_PRIVILEGE_DID_EXPIRE,(()=>{this.emit(Uy.ON_TOKEN_PRIVILEGE_DID_EXPIRE)}))}}function Ov(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Jv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ov(Object(n),!0).forEach((function(t){ih(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ov(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const xv=new Map;class Mv extends nC{get state(){return this._state}set state(e){if(e===this._state)return;const t=this._state;this._state=e,"DISCONNECTED"===e&&this._disconnectedReason?this.emit(tb.CONNECTION_STATE_CHANGE,e,t,this._disconnectedReason):this.emit(tb.CONNECTION_STATE_CHANGE,e,t)}get joinGatewayStartTime(){return this._joinGatewayStartTime}set joinGatewayStartTime(e){YU.debug("[".concat(this.store.clientId,"] set joinGatewayStartTime at ").concat(e)),this._joinGatewayStartTime=e}constructor(e,t){super(),ih(this,"store",void 0),ih(this,"joinInfo",void 0),ih(this,"key",void 0),ih(this,"ntpOffset",0),ih(this,"signal",void 0),ih(this,"role",void 0),ih(this,"inChannelInfo",{joinAt:null,duration:0}),ih(this,"spec",void 0),ih(this,"_state","DISCONNECTED"),ih(this,"_statsCollector",void 0),ih(this,"_disconnectedReason",void 0),ih(this,"isSignalRecover",!1),ih(this,"hasChangeBGPAddress",!1),ih(this,"trafficStatsInterval",void 0),ih(this,"networkQualityInterval",void 0),ih(this,"_joinGatewayStartTime",0),ih(this,"_signalTimeout",!1),ih(this,"_clientRoleOptions",void 0),ih(this,"_isProactiveJoin",!1),this.store=e,this.spec=t,this.signal=this.store.useP2P?new Wv(Jv(Jv({},t),{},{retryConfig:t.websocketRetryConfig}),e):this.store.useDataChannel?new Vv(Jv(Jv({},t),{},{retryConfig:t.websocketRetryConfig}),e):new ev(Jv(Jv({},t),{},{retryConfig:t.websocketRetryConfig}),e),this._statsCollector=t.statsCollector,this.role=t.role||"audience",this._clientRoleOptions=t.clientRoleOptions,this.handleSignalEvents()}async join(e,t,n){if(this.signal instanceof Vv){let t=!1;"disabled"!==e.cloudProxyServer?(YU.debug("[".concat(this.store.clientId,"] Dc is not supported, because cloudProxyServer are not supported (").concat(e.cloudProxyServer,")")),t=!0):"".concat(e.apResponse.cid,"_").concat(e.apResponse.cert).length>255||"".concat(e.apResponse.cid,"_").concat(e.apResponse.cert).length<22?(YU.debug("[".concat(this.store.clientId,"] Dc is not supported, because ticket length is incorrect, it has to be between 22 and 255")),t=!0):e.apResponse.addresses.some((e=>e.fingerprint))||NU("FINGERPRINT")||(YU.debug("[".concat(this.store.clientId,"] Dc is not supported, because fingerprint does not exist")),t=!0),t&&this.resetSignal()}this.store.joinGatewayStart(),"disabled"!==e.cloudProxyServer&&(this.hasChangeBGPAddress=!0);const i=Date.now();let r=xv.get(e.cname);if(r||(r=new Map,xv.set(e.cname,r)),this._isProactiveJoin=!0,r.has(e.uid)){const t=new Wy(ZE.UID_CONFLICT);throw oy.joinGateway(e.sid,{lts:i,succ:!1,ec:t.message,addr:null,uid:e.uid,cid:e.cid,firstSuccess:this._isProactiveJoin,avoidJoinStartTime:this.store.avoidJoinStart,isProxy:!!e.proxyServer,signalChannel:this.signal instanceof Vv?"1":"0"}),this._isProactiveJoin=!1,t}r.set(e.uid,!0),this.joinInfo=e,this.key=t;let o=0;this.joinGatewayStartTime=i;const a=e.proxyServer;try{let t;if(YU.debug("[".concat(this.store.clientId,"] use ").concat(this.signal instanceof Vv?"datachannel":"websocket"," join uid ").concat(o)),this.signal instanceof Vv)t=await this.signal.init(e.apResponse.addresses,n);else{const i=e.gatewayAddrs.map((t=>{let{address:n}=t;const[i,r]=n.split(":"),o={host:i,port:r};return e.proxyServer&&(o.proxy=e.proxyServer),o}));t=await this.signal.init(i,n)}o=t.uid,YU.debug("[".concat(this.store.clientId,"] ").concat(this.signal instanceof Vv?"datachannel":"websocket"," join uid ").concat(o," cost ").concat(Date.now()-this.joinGatewayStartTime))}catch(t){if(t&&t.code===ZE.INIT_WEBSOCKET_TIMEOUT)throw YU.warning("[".concat(this.store.clientId,"] User join failed"),t.toString()),t;if(t&&t.code===ZE.INIT_DATACHANNEL_TIMEOUT)throw YU.warning("[".concat(this.store.clientId,"] User join datachannel failed"),t.toString()),this.resetSignal(),t;throw YU.error("[".concat(this.store.clientId,"] User join failed"),t.toString()),oy.joinGateway(e.sid,{lts:i,succ:!1,ec:t.message,addr:this.signal.url,uid:e.uid,cid:e.cid,firstSuccess:this._isProactiveJoin,avoidJoinStartTime:this.store.avoidJoinStart,isProxy:!!a,signalChannel:this.signal instanceof Vv?"1":"0"}),this._isProactiveJoin=!1,r.delete(e.uid),this.signal.close(),t}return this.state="CONNECTED",this.inChannelInfo.joinAt=Date.now(),YU.debug("[".concat(this.store.clientId,"] Connected to gateway server")),this.trafficStatsInterval=window.setInterval((()=>{this.updateTrafficStats().catch((e=>{YU.warning("[".concat(this.store.clientId,"] get traffic stats error"),e.toString())}))}),3e3),this.networkQualityInterval=window.setInterval((()=>{navigator&&void 0!==navigator.onLine&&!navigator.onLine?this.emit(tb.NETWORK_QUALITY,{downlinkNetworkQuality:6,uplinkNetworkQuality:6}):this._signalTimeout?this.emit(tb.NETWORK_QUALITY,{downlinkNetworkQuality:5,uplinkNetworkQuality:5}):"CONNECTED"===this.state&&this._statsCollector.trafficStats?this.emit(tb.NETWORK_QUALITY,{uplinkNetworkQuality:Sv(this._statsCollector.trafficStats.B_unq),downlinkNetworkQuality:Sv(this._statsCollector.trafficStats.B_dnq)}):this.emit(tb.NETWORK_QUALITY,{uplinkNetworkQuality:0,downlinkNetworkQuality:0})}),2e3),this.store.joinGatewayEnd(),o}async leave(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;if("DISCONNECTED"!==this.state){t!==cC.FALLBACK&&(this.state="DISCONNECTING");try{e||this.signal.connectionState!==Ey.CONNECTED||await function(e,t){return t===1/0?e:tE.race([e,DC(t)])}(this.signal.request(Iy.LEAVE,void 0,!0),3e3)}catch(e){YU.warning("[".concat(this.store.clientId,"] leave request failed, ignore"),e)}this.signal.close(t),t!==cC.FALLBACK&&(this.state="DISCONNECTED"),this.reset()}}async publish(e,t,n){if("CONNECTED"!==this.state&&"RECONNECTING"!==this.state)throw new Wy(ZE.INVALID_OPERATION,"can not publish when connection state is ".concat(this.state));const i={state:"offer",p2p_id:this.store.p2pId,ortc:t,mode:this.spec.mode,extend:NU("PUB_EXTEND"),twcc:!!NU("PUBLISH_TWCC"),rtx:!!NU("USE_PUB_RTX")};try{return(await this.signal.request(Iy.PUBLISH,i,!0))._message}catch(i){if(n&&i.data&&i.data.code===my.ERR_PUBLISH_REQUEST_INVALID)return YU.warning("[".concat(this.store.clientId,"] receive publish error code, retry"),i.toString()),await this.tryUnpubBeforeRepub(e,t),this.publish(e,t,!1);throw i}}async publishDataChannel(e,t,n){var i;if("CONNECTED"!==this.state&&"RECONNECTING"!==this.state)throw new Wy(ZE.INVALID_OPERATION,"can not publish when connection state is ".concat(this.state));const r={stream_id:t.streamId,ordered:t.ordered?1:0,max_retrans_times:null!==(i=t.maxRetransmits)&&void 0!==i?i:10,channel_id:t.channelId,metadata:t.metadata};try{await this.signal.request(Iy.PUBLISH_DATASTREAM,r,!0)}catch(i){if(n&&i.data&&i.data.code===my.ERR_PUBLISH_REQUEST_INVALID)return YU.warning("[".concat(this.store.clientId,"] receive publish datachannels error code, retry"),i.toString()),await this.tryUnpubDataChannelBeforeRepub(e,t),this.publishDataChannel(e,t,!1);throw i}}async unpublish(e,t){try{if("CONNECTED"!==this.state&&"RECONNECTING"!==this.state)throw new Wy(ZE.INVALID_OPERATION,"can not publish when connection state is ".concat(this.state));await this.signal.request(Iy.UNPUBLISH,{stream_id:t,ortc:e},!0)}catch(e){YU.warning("[".concat(this.store.clientId,"] unpublish warning: "),e)}}async unpublishDataChannel(e){try{if("CONNECTED"!==this.state&&"RECONNECTING"!==this.state)throw new Wy(ZE.INVALID_OPERATION,"can not publish when connection state is ".concat(this.state));await tE.all(e.map((e=>this.signal.request(Iy.UNPUBLISH_DATASTREAM,{channel_id:e},!0))))}catch(e){YU.warning("unpublish datachannels warning: ",e)}}async presubscribe(e,t,n){if("CONNECTED"!==this.state&&"RECONNECTING"!==this.state)throw new Wy(ZE.INVALID_OPERATION,"can not presubscribe when connection state is ".concat(this.state));const i={stream_id:e,stream_type:t,mode:this.spec.mode,codec:this.spec.codec,p2p_id:this.store.p2pId,twcc:!!NU("SUBSCRIBE_TWCC"),rtx:!!NU("USE_SUB_RTX")||void 0,extend:NU("SUB_EXTEND"),svc:Array.isArray(NU("SVC"))&&0!==NU("SVC").length?NU("SVC"):void 0};try{return await this.signal.request(Iy.PRE_SUBSCRIBE,i,!0)}catch(i){if(n&&i.data&&i.data.code===my.ERR_SUBSCRIBE_REQUEST_INVALID)return YU.warning("[".concat(this.store.clientId,"] pre-subscribe error, retry"),i.toString()),this.presubscribe(e,t,!1);throw i}}async subscribe(e,t,n){if("CONNECTED"!==this.state&&"RECONNECTING"!==this.state)throw new Wy(ZE.INVALID_OPERATION,"can not subscribe when connection state is ".concat(this.state));const i={stream_id:e,stream_type:t.stream_type,mode:this.spec.mode,codec:this.spec.codec,p2p_id:this.store.p2pId,twcc:!!NU("SUBSCRIBE_TWCC"),rtx:!!NU("USE_SUB_RTX"),extend:NU("SUB_EXTEND"),ssrcId:t.ssrcId,svc:Array.isArray(NU("SVC"))&&0!==NU("SVC").length?NU("SVC"):void 0};try{return(await this.signal.request(Iy.SUBSCRIBE,i,!0))._message}catch(i){if(n&&i.data&&i.data.code===my.ERR_SUBSCRIBE_REQUEST_INVALID)return YU.warning("[".concat(this.store.clientId,"] receiver subscribe error code, retry"),i.toString()),await this.tryUnsubBeforeResub(e,t),await this.subscribe(e,t,!1);throw i}}async subscribeDataChannel(e,t,n){if("CONNECTED"!==this.state&&"RECONNECTING"!==this.state)throw new Wy(ZE.INVALID_OPERATION,"can not subscribe datachannel when connection state is ".concat(this.state));const i={uid:e,stream_id:t.id,channel_id:t.datachannelId};try{return void await this.signal.request(Iy.SUBSCRIBE_DATASTREAM,i,!0)}catch(i){if(n&&i.data&&i.data.code===my.ERR_SUBSCRIBE_REQUEST_INVALID)return YU.warning("[".concat(this.store.clientId,"] receiver subscribe datachannel error code, retry"),i.toString()),await this.tryUnsubDataChannelBeforeResub(e,t),await this.subscribeDataChannel(e,t,!1);throw i}}async subscribeAll(e,t){if("CONNECTED"!==this.state&&"RECONNECTING"!==this.state)throw new Wy(ZE.INVALID_OPERATION,"can not massSubscribe when connection state is ".concat(this.state));const n={p2p_id:this.store.p2pId,users:e,dtx:!1,rtx:!!NU("USE_SUB_RTX")};try{return await this.signal.request(Iy.SUBSCRIBE_STREAMS,n,!0)}catch(n){if(t&&n.data&&n.data.code===my.ERR_SUBSCRIBE_REQUEST_INVALID)return YU.warning("[".concat(this.store.clientId,"] receiver massSubscribe error code, retry"),n.toString()),await this.tryMassUnsubBeforeResub(e),await this.subscribeAll(e,!1);throw n}}async setVideoProfile(e){const t=function(e){if(!(e.bitrateMax&&e.bitrateMin&&e.frameRate&&e.height&&e.width))return;let t=e.frameRate,n=e.width,i=e.height,r=!0;return"number"!=typeof t&&(t=t.exact||t.ideal||t.max||t.min||0,t||(r=!1)),"number"!=typeof n&&(n=n.exact||n.ideal||n.max||n.min||0,n||(r=!1)),"number"!=typeof i&&(i=i.exact||i.ideal||i.max||i.min||0,t||(r=!1)),r?{stream_type:0,width:n,height:i,fps:t,start_bps:1e3*e.bitrateMax,min_bps:1e3*e.bitrateMin,target_bps:1e3*e.bitrateMax}:void 0}(e);if(t)return this.signal.request(Iy.SET_VIDEO_PROFILE,t);YU.debug("[".concat(this.store.clientId,"] encoder config is not complete, do not report to gateway"))}async unsubscribe(e,t){try{await this.signal.request(Iy.UNSUBSCRIBE,{p2p_id:this.store.p2pId,ortc:e,stream_id:t},!0)}catch(e){YU.warning("[".concat(this.store.clientId,"] unsubscribe warning: "),e)}}async unsubscribeDataChannel(e,t){try{if("CONNECTED"!==this.state&&"RECONNECTING"!==this.state)throw new Wy(ZE.INVALID_OPERATION,"can not publish when connection state is ".concat(this.state));await tE.all(e.map((e=>this.signal.request(Iy.UNSUBSCRIBE_DATASTREAM,{stream_id:e,uid:t},!0))))}catch(e){YU.warning("unsubscribeDataChannel warning: ",e)}}async massUnsubscribe(e){try{await this.signal.request(Iy.UNSUBSCRIBE_STREAMS,e,!0)}catch(e){YU.warning("[".concat(this.store.clientId,"] massUnsubscribeAll warning: "),e)}}async reconnectPC(e){const{iceParameters:t,dtlsParameters:n,rtpCapabilities:i}=e;return{gatewayEstablishParams:await this.signal.request(Iy.CONNECT_PC,{p2p_id:this.store.p2pId,stream_id:this.store.uid,ortc:{iceParameters:t,dtlsParameters:n,rtpCapabilities:i}},!0),gatewayAddress:this.getCurrentGatewayAddress()}}getGatewayInfo(){return this.signal.request(Iy.GATEWAY_INFO)}async renewToken(e){await this.signal.request(Iy.RENEW_TOKEN,e),this.key=e.token}async setClientRole(e,t){if(t&&(this._clientRoleOptions=Object.assign({},t)),"CONNECTED"!==this.state)return void(this.role=e);let n,i=0;"audience"===e?this._clientRoleOptions&&this._clientRoleOptions.delay?(n=this._clientRoleOptions.delay,i=1):i=this._clientRoleOptions&&this._clientRoleOptions.level?this._clientRoleOptions.level:2:i=0,await this.signal.request(Iy.SET_CLIENT_ROLE,{role:e,level:i,delay:n,client_ts:Date.now()}),this.role=e}async setRemoteVideoStreamType(e,t){await this.signal.request(Iy.SWITCH_VIDEO_STREAM,{stream_id:e,stream_type:t})}async setDefaultRemoteVideoStreamType(e){await this.signal.request(Iy.DEFAULT_VIDEO_STREAM,{stream_type:e})}async setStreamFallbackOption(e,t){await this.signal.request(Iy.SET_FALLBACK_OPTION,{stream_id:e,fallback_type:t})}async pickSVCLayer(e,t){await this.signal.request(Iy.PICK_SVC_LAYER,{stream_id:e,spatial_layer:t.spatialLayer,temporal_layer:t.temporalLayer})}async setRTM2Flag(e){await this.signal.request(Iy.SET_RTM2_FLAG,{rtm2_flag:e})}async sendExtensionMessage(e,t,n){if(this.signal instanceof Wv)return this.signal.sendExtensionMessage(e,t,n)}getInChannelInfo(){return this.inChannelInfo.joinAt&&(this.inChannelInfo.duration=Date.now()-this.inChannelInfo.joinAt),Jv({},this.inChannelInfo)}async getGatewayVersion(){return(await this.signal.request(Iy.GATEWAY_INFO)).version}reset(){if(this.inChannelInfo.joinAt&&(this.inChannelInfo.duration=Date.now()-this.inChannelInfo.joinAt,this.inChannelInfo.joinAt=null),this.trafficStatsInterval&&(window.clearInterval(this.trafficStatsInterval),this.trafficStatsInterval=void 0),this.joinInfo){const e=xv.get(this.joinInfo.cname);e&&e.delete(this.joinInfo.uid)}this.joinInfo=void 0,this.key=void 0,this.networkQualityInterval&&(window.clearInterval(this.networkQualityInterval),this.networkQualityInterval=void 0)}updateTurnConfigFromSignal(){if(!this.joinInfo)return;const e=function(e){let t;return t=e.startsWith("dc")?e.match(/(dc\:\/\/)?([^:]+):(\d+)/):e.match(/(wss\:\/\/)?([^:]+):(\d+)/),t?{username:sy.username,password:sy.password,turnServerURL:t[2],tcpport:parseInt(t[3])+30,udpport:parseInt(t[3])+30,forceturn:!1}:null}(("disabled"===this.joinInfo.cloudProxyServer?this.signal.url:this.joinInfo.gatewayAddrs[this.signal.currentURLIndex].address)||"");this.joinInfo.turnServer.serversFromGateway=[],e&&"off"!==this.joinInfo.turnServer.mode&&"disabled"===this.joinInfo.cloudProxyServer&&this.joinInfo.turnServer.serversFromGateway.push(Jv(Jv({},sy),{},{turnServerURL:e.turnServerURL,tcpport:e.tcpport,udpport:e.udpport,username:this.joinInfo.uid.toString(),password:this.joinInfo.token}))}async updateTrafficStats(){if("CONNECTED"!==this.state)return;const e=await this.signal.request(Iy.TRAFFIC_STATS,void 0,!0);e.timestamp=Date.now(),null!=e.ntp_offset&&(this.ntpOffset=e.ntp_offset),e.peer_delay.forEach((e=>{const t=this._statsCollector.trafficStats&&this._statsCollector.trafficStats.peer_delay.find((t=>t.peer_uid===e.peer_uid));t&&t.B_st!==e.B_st&&RC((()=>{this.emit(tb.STREAM_TYPE_CHANGE,e.peer_uid,e.B_st)}))})),this._statsCollector.updateTrafficStats(e)}getJoinMessage(e){if(!this.joinInfo||!this.key)throw new Wy(ZE.UNEXPECTED_ERROR,"can not generate join message, no join info");const t=Object.assign({},this.joinInfo.apResponse);let n=NU("REPORT_APP_SCENARIO");if("string"!=typeof n)try{n=JSON.stringify(n)}catch(e){n=void 0}n&&n.length>128&&(n=void 0);const i=Jv({license:this.joinInfo.license,p2p_id:this.store.p2pId,session_id:this.joinInfo.sid,app_id:this.joinInfo.appId,channel_key:this.key,channel_name:this.joinInfo.cname,sdk_version:vU,browser:navigator.userAgent,process_id:NU("PROCESS_ID"),mode:this.store.useP2P?"p2p":this.spec.mode,codec:this.spec.codec,role:this.role,has_changed_gateway:this.hasChangeBGPAddress,ap_response:t,extend:NU("JOIN_EXTEND"),details:{6:this.joinInfo.stringUid,cservice_map:"proxy3"===this.joinInfo.cloudProxyServer?"1":"proxy5"===this.joinInfo.cloudProxyServer?"2":void 0},features:{rejoin:!0},optionalInfo:this.joinInfo.optionalInfo,appScenario:n,attributes:{userAttributes:{enablePublishedUserList:NU("ENABLE_PUBLISHED_USER_LIST"),maxSubscription:NU("MAX_SUBSCRIPTION"),subscribeAudioFilterTopN:"number"==typeof NU("SUBSCRIBE_AUDIO_FILTER_TOPN")?NU("SUBSCRIBE_AUDIO_FILTER_TOPN"):void 0,enablePublishAudioFilter:"boolean"==typeof NU("ENABLE_PUBLISH_AUDIO_FILTER")?NU("ENABLE_PUBLISH_AUDIO_FILTER"):void 0,enableUserLicenseCheck:"boolean"==typeof NU("ENABLE_USER_LICENSE_CHECK")?NU("ENABLE_USER_LICENSE_CHECK"):void 0,enableRTX:!0===NU("USE_PUB_RTX")||!0===NU("USE_SUB_RTX")||void 0,disableFEC:NU("DISABLE_FEC"),enableNTPReport:!!NU("ENABLE_NTP_REPORT")||void 0,enableInstantVideo:!!NU("ENABLE_INSTANT_VIDEO")||void 0,enableDataStream2:"boolean"==typeof NU("ENABLE_DATASTREAM_2")?NU("ENABLE_DATASTREAM_2"):void 0,rtm2Flag:"number"==typeof this.joinInfo.rtmFlag?this.joinInfo.rtmFlag:void 0,enableUserAutoRebalanceCheck:!!NU("ENABLE_USER_AUTO_REBALANCE_CHECK"),enableXR:"boolean"==typeof NU("USE_XR")?NU("USE_XR"):void 0}},join_ts:this.joinGatewayStartTime},e);return this.joinInfo.stringUid&&(i.string_uid=this.joinInfo.stringUid),this.joinInfo.aesmode&&this.joinInfo.aespassword&&(i.aes_mode=this.joinInfo.aesmode,NU("ENCRYPT_AES")?(i.aes_secret=this.joinInfo.aespassword,i.aes_encrypt=!0):i.aes_secret=this.joinInfo.aespassword,this.joinInfo.aessalt&&(i.aes_salt=this.joinInfo.aessalt)),t.addresses[this.signal.websocket.currentURLIndex]&&(i.ap_response.ticket=t.addresses[this.signal.websocket.currentURLIndex].ticket,delete t.addresses),void 0!==this.joinInfo.defaultVideoStream&&(i.default_video_stream=this.joinInfo.defaultVideoStream),i}getRejoinMessage(){if(!this.joinInfo)throw new Wy(ZE.UNEXPECTED_ERROR,"can not generate rejoin message, no join info");return{session_id:this.joinInfo.sid,channel_name:this.joinInfo.cname,cid:this.joinInfo.cid,uid:this.joinInfo.uid,vid:Number(this.joinInfo.vid)}}handleSignalEvents(){this.signal.on(Cy.WS_RECONNECT_WAITTING_FINISH,(e=>{var t;Fi(t=["tryNext","recover"]).call(t,e)&&this.joinInfo&&oy.adjustSessionStartTime(this.joinInfo.sid)})),this.signal.on(Cy.WS_RECONNECT_CREATE_CONNECTION,(e=>{this.joinGatewayStartTime=Date.now()})),this.signal.on(Cy.WS_RECONNECTING,(e=>{this.joinInfo&&oy.WebSocketQuit(this.joinInfo.sid,{lts:Date.now(),succ:-1,cname:this.joinInfo.cname,uid:this.joinInfo.uid,cid:this.joinInfo.cid,errorCode:e||dC.NETWORK_ERROR}),this.joinInfo&&(this.state="RECONNECTING",oy.sessionInit(this.joinInfo.sid,{lts:(new Date).getTime(),extend:this.isSignalRecover?{recover:!0}:{rejoin:!0},cname:this.joinInfo.cname,appid:this.joinInfo.appId,mode:this.spec.mode,stringUid:this.joinInfo.stringUid,channelProfile:"live"===this.spec.mode?1:0,channelMode:0,lsid:this.joinInfo.sid,clientRole:"audience"===this.role?2:1}),this.isSignalRecover=!1,this.joinGatewayStartTime=Date.now())})),this.signal.on(Cy.WS_CLOSED,(e=>{let t;switch(e){case cC.LEAVE:t=dC.LEAVE;break;case cC.UID_BANNED:case cC.IP_BANNED:case cC.CHANNEL_BANNED:case cC.SERVER_ERROR:t=dC.SERVER_ERROR;break;case cC.FALLBACK:t=dC.FALLBACK;break;case cC.LICENSE_MISSING:case cC.LICENSE_EXPIRED:case cC.LICENSE_MINUTES_EXCEEDED:case cC.LICENSE_PERIOD_INVALID:case cC.LICENSE_MULTIPLE_SDK_SERVICE:case cC.LICENSE_ILLEGAL:case cC.TOKEN_EXPIRE:t=e;break;default:t=dC.NETWORK_ERROR}YU.debug("[".concat(this.store.clientId,"] [signal] websocket closed, reason: ").concat(t||"undefined -> "+dC.NETWORK_ERROR)),this.joinInfo&&oy.WebSocketQuit(this.joinInfo.sid,{lts:Date.now(),succ:e===cC.LEAVE?1:-1,cname:this.joinInfo.cname,uid:this.joinInfo.uid,cid:this.joinInfo.cid,errorCode:t}),this._disconnectedReason=e,e!==cC.FALLBACK&&(this.state="DISCONNECTED"),this.reset()})),this.signal.on(Cy.WS_CONNECTED,(()=>{if(this.updateTurnConfigFromSignal(),this.state="CONNECTED",this.joinInfo&&("audience"===this.role&&this._clientRoleOptions&&(this._clientRoleOptions.level||this._clientRoleOptions.delay)&&(YU.debug("[".concat(this.store.clientId,"] patch to send set client role, role: ").concat(this.role,", mode: ").concat(this.spec.mode,", level: ").concat(this._clientRoleOptions.level,", delay: ").concat(this._clientRoleOptions.delay)),this.setClientRole(this.role,this._clientRoleOptions)),oy.joinGateway(this.joinInfo.sid,{lts:this.joinGatewayStartTime,succ:!0,ec:null,vid:this.joinInfo.vid,addr:this.signal.url,uid:this.joinInfo.uid,cid:this.joinInfo.cid,firstSuccess:this._isProactiveJoin,avoidJoinStartTime:this.store.avoidJoinStart,isProxy:!!this.joinInfo.proxyServer,signalChannel:this.signal instanceof Vv?"1":"0"}),this._isProactiveJoin=!1,this.joinInfo.useLocalAccessPoint&&1===this.joinInfo.setLocalAPVersion)){const e=this.signal.url&&this.signal.url.match(/wss\:\/\/([^:]+):(\d+)/);if(!e)return void YU.error("[".concat(this.store.clientId,"] set local access point after joined failed: ").concat(e));TU("EVENT_REPORT_DOMAIN",e[1]),TU("EVENT_REPORT_BACKUP_DOMAIN",e[1]),TU("LOG_UPLOAD_SERVER","".concat(e[1],":6444"))}})),this.signal.on(Uy.ON_UPLINK_STATS,(e=>{this._statsCollector.updateUplinkStats(e)})),this.signal.on(Cy.REQUEST_RECOVER,((e,t,n)=>{if(!this.joinInfo)return n(new Wy(ZE.UNEXPECTED_ERROR,"gateway: can not recover, no join info"));e&&(this.joinInfo.multiIP=e,this.hasChangeBGPAddress=!0),this.isSignalRecover=!0,mC(this,tb.REQUEST_NEW_GATEWAY_LIST).then(t).catch(n)})),this.signal.on(Cy.REQUEST_JOIN_INFO,(async e=>{var t;if(this.updateTurnConfigFromSignal(),this.store.useP2P)return void e(this.getJoinMessage({ortc:{}}));const{iceParameters:n,dtlsParameters:i,rtpCapabilities:r}=await mC(this,tb.REQUEST_P2P_CONNECTION_PARAMS,{turnServer:null===(t=this.joinInfo)||void 0===t?void 0:t.turnServer});e(this.getJoinMessage({ortc:{iceParameters:n,dtlsParameters:i,rtpCapabilities:r,version:"2"}}))})),this.signal.on(Cy.REQUEST_REJOIN_INFO,(e=>{e(this.getRejoinMessage())})),this.signal.on(Cy.REPORT_JOIN_GATEWAY,((e,t)=>{this.joinInfo&&(oy.joinGateway(this.joinInfo.sid,{lts:this.joinGatewayStartTime,succ:!1,ec:e,addr:t,uid:this.joinInfo.uid,cid:this.joinInfo.cid,firstSuccess:this._isProactiveJoin,avoidJoinStartTime:this.store.avoidJoinStart,isProxy:!!this.joinInfo.proxyServer,signalChannel:this.signal instanceof Vv?"1":"0"}),this._isProactiveJoin=!1)})),this.signal.on(Cy.IS_P2P_DISCONNECTED,(e=>{e(IC(this,tb.IS_P2P_DISCONNECTED))})),this.signal.on(Cy.DISCONNECT_P2P,(()=>{this.emit(tb.DISCONNECT_P2P)})),this.signal.on(Cy.NEED_RENEW_SESSION,(()=>{this.emit(tb.NEED_RENEW_SESSION)})),this.signal.on(Cy.REQUEST_SUCCESS,(()=>{this._signalTimeout=!1})),this.signal.on(Cy.REQUEST_TIMEOUT,(()=>{this._signalTimeout=!0})),this.signal.on(Cy.JOIN_RESPONSE,(e=>{const t=this.getCurrentGatewayAddress();this.emit(tb.JOIN_RESPONSE,e,t)})),this.signal.on(Cy.DATACHANNEL_PRECONNECT,(async(e,t,n)=>{this.updateTurnConfigFromSignal();const i=this.getCurrentGatewayAddress();return mC(this,tb.DATACHANNEL_PRECONNECT,e,i).then(t).catch(n)})),this.signal.on(Cy.DATACHANNEL_CONNECTING,(async e=>{const{iceParameters:t,dtlsParameters:n,rtpCapabilities:i}=await mC(this,tb.REQUEST_DC_CONNECTION_PARAMS);e(this.getJoinMessage({ortc:{iceParameters:t,dtlsParameters:n,rtpCapabilities:i,version:"2"}}))})),this.signal.on(Cy.DATACHANNEL_FAILBACK,(()=>{YU.warning("[".concat(this.store.clientId,"] User join datachannel failed")),this.reset(),this.resetSignal(),this.emit(tb.DATACHANNEL_FAILBACK)}))}async tryUnsubBeforeResub(e,t){try{await this.signal.request(Iy.UNSUBSCRIBE,{p2p_id:this.store.p2pId,stream_id:e,ortc:[t]},!0)}catch(e){throw YU.warning("[".concat(this.store.clientId,"] tryUnsubBeforeResub warning"),e),e}}async tryUnsubDataChannelBeforeResub(e,t){try{await this.signal.request(Iy.UNSUBSCRIBE,{stream_id:t.id},!0)}catch(e){throw YU.warning("unsubscribe datachannel warning",e),e}}async tryUnpubBeforeRepub(e,t){try{await this.signal.request(Iy.UNPUBLISH,{stream_id:e,ortc:t},!0)}catch(e){throw YU.warning("[".concat(this.store.clientId,"] tryUnpubBeforeRepub warning: "),e),e}}async tryUnpubDataChannelBeforeRepub(e,t){try{await this.signal.request(Iy.UNPUBLISH_DATASTREAM,{channnel_id:t.channelId},!0)}catch(e){throw YU.warning("unpublish datastream warning: ",e),e}}async tryMassUnsubBeforeResub(e){const t={users:e.map((e=>({stream_id:e.stream_id,stream_type:e.stream_type})))};try{await this.signal.request(Iy.UNSUBSCRIBE_STREAMS,t,!0)}catch(e){throw YU.warning("[".concat(this.store.clientId,"] tryMassUnsubBeforeResub warning"),e),e}}async muteLocal(e,t){const n={action:e.find((e=>e.stream_type===eb.Audio))?"mute_local_audio":"mute_local_video",p2p_id:this.store.p2pId,ortc:e,stream_id:t};try{await this.signal.request(Iy.CONTROL,n,!0,!0)}catch(e){throw YU.warning("[".concat(this.store.clientId,"] gateway muteLocal warning: "),e),e}}async unmuteLocal(e,t){const n={action:e.find((e=>e.stream_type===eb.Audio))?"unmute_local_audio":"unmute_local_video",p2p_id:this.store.p2pId,ortc:e,stream_id:t};try{await this.signal.request(Iy.CONTROL,n,!0,!0)}catch(e){throw YU.warning("[".concat(this.store.clientId,"] gateway unmuteLocal warning: "),e),e}}async muteRemote(e,t){const n={action:e===hb.AUDIO?"mute_remote_audio":"mute_remote_video",p2p_id:this.store.p2pId,stream_id:t};try{await this.signal.request(Iy.CONTROL,n,!0,!0)}catch(e){throw YU.warning("[".concat(this.store.clientId,"] gateway muteRemote warning: "),e),e}}async unmuteRemote(e,t){const n={action:e===hb.AUDIO?"unmute_remote_audio":"unmute_remote_video",p2p_id:this.store.p2pId,stream_id:t};try{await this.signal.request(Iy.CONTROL,n,!0,!0)}catch(e){throw YU.warning("[".concat(this.store.clientId,"] gateway unmuteRemote warning: "),e),e}}uploadWRTCStats(e){this.signal.uploadWRTCStats(e)}upload(e,t){this.signal.upload(e,t)}getSignalRTT(){return this.signal.rtt}async restartICE(e){const t={p2p_id:this.store.p2pId,stream_id:this.store.uid,ortc:e};try{return await this.signal.request(Iy.RESTART_ICE,t,!0)}catch(e){throw YU.warning("[".concat(this.store.clientId,"] P2PChannel.restartICE warning: "),e),e}}reconnect(){"CONNECTED"===this.state&&this.signal.reconnect(void 0,dC.P2P_FAILED)}getCurrentGatewayAddress(){var e;if(!NU("GATEWAY_WSS_ADDRESS"))return null!==(e=this.joinInfo)&&void 0!==e&&e.gatewayAddrs?this.joinInfo.gatewayAddrs[this.signal.currentURLIndex]:void 0}async setPublishAudioFilterEnabled(e){await this.signal.request(Iy.SET_PARAMETER,{enablePublishAudioFilter:e})}resetSignal(){this.signal&&(this.signal.removeAllListeners(),this.signal.close(cC.FALLBACK)),this.store.useDataChannel=!1,this.signal=new ev(Jv(Jv({},this.spec),{},{retryConfig:this.spec.websocketRetryConfig}),this.store),this.handleSignalEvents(),this.emit(tb.RESET_SIGNAL,rb.websocket)}}let Lv=0,Pv=0;function Gv(e,t,n,i){return new tE(((r,o)=>{t.timeout=t.timeout||NU("HTTP_CONNECT_TIMEOUT"),t.responseType=t.responseType||"json",t.data&&!n?(t.data=JSON.stringify(t.data),Lv+=wC(t.data)):n&&(t.data.size?Lv+=t.data.size:t.data instanceof FormData?Lv+=kC(t.data):Lv+=wC(JSON.stringify(t.data))),t.headers=t.headers||{},t.headers["Content-Type"]=t.headers["Content-Type"]||"application/json",t.method="POST",t.url=e,gU.request(t).then((e=>{"string"==typeof e.data?Pv+=wC(e.data):e.data instanceof ArrayBuffer||e.data instanceof Uint8Array?Pv+=e.data.byteLength:Pv+=wC(JSON.stringify(e.data)),i&&r({data:e.data,headers:e.headers}),r(e.data)})).catch((e=>{gU.isCancel(e)?o(new Wy(ZE.OPERATION_ABORTED,"cancel token canceled")):"ECONNABORTED"===e.code?o(new Wy(ZE.NETWORK_TIMEOUT,e.message)):e.response?o(new Wy(ZE.NETWORK_RESPONSE_ERROR,e.response.status)):o(new Wy(ZE.NETWORK_ERROR,e.message))}))}))}!function(){var e;function n(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}var i,r="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e},o=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof t&&t];for(var n=0;n<e.length;++n){var i=e[n];if(i&&i.Math==Math)return i}throw Error("Cannot find global object")}(this);function a(e,t){if(t)e:{var n=o;e=e.split(".");for(var i=0;i<e.length-1;i++){var a=e[i];if(!(a in n))break e;n=n[a]}(t=t(i=n[e=e[e.length-1]]))!=i&&null!=t&&r(n,e,{configurable:!0,writable:!0,value:t})}}function s(e){return(e={next:e})[Symbol.iterator]=function(){return this},e}function c(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:n(e)}}if(a("Symbol",(function(e){function t(e,t){this.A=e,r(this,"description",{configurable:!0,writable:!0,value:t})}if(e)return e;t.prototype.toString=function(){return this.A};var n="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",i=0;return function e(r){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new t(n+(r||"")+"_"+i++,r)}})),a("Symbol.iterator",(function(e){if(e)return e;e=Symbol("Symbol.iterator");for(var t="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),i=0;i<t.length;i++){var a=o[t[i]];"function"==typeof a&&"function"!=typeof a.prototype[e]&&r(a.prototype,e,{configurable:!0,writable:!0,value:function(){return s(n(this))}})}return e})),"function"==typeof Object.setPrototypeOf)i=Object.setPrototypeOf;else{var l;e:{var d={};try{d.__proto__={a:!0},l=d.a;break e}catch(e){}l=!1}i=l?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+" is not extensible");return e}:null}var u=i;function h(){this.m=!1,this.j=null,this.v=void 0,this.h=1,this.u=this.C=0,this.l=null}function A(e){if(e.m)throw new TypeError("Generator is already running");e.m=!0}function p(e,t){return e.h=3,{value:t}}function g(e){this.g=new h,this.G=e}function f(e,t,n,i){try{var r=t.call(e.g.j,n);if(!(r instanceof Object))throw new TypeError("Iterator result "+r+" is not an object");if(!r.done)return e.g.m=!1,r;var o=r.value}catch(t){return e.g.j=null,e.g.s(t),m(e)}return e.g.j=null,i.call(e.g,o),m(e)}function m(e){for(;e.g.h;)try{var t=e.G(e.g);if(t)return e.g.m=!1,{value:t.value,done:!1}}catch(t){e.g.v=void 0,e.g.s(t)}if(e.g.m=!1,e.g.l){if(t=e.g.l,e.g.l=null,t.F)throw t.D;return{value:t.return,done:!0}}return{value:void 0,done:!0}}function E(e){this.next=function(t){return e.o(t)},this.throw=function(t){return e.s(t)},this.return=function(t){return function(e,t){A(e.g);var n=e.g.j;return n?f(e,"return"in n?n.return:function(e){return{value:e,done:!0}},t,e.g.return):(e.g.return(t),m(e))}(e,t)},this[Symbol.iterator]=function(){return this}}function C(e,t){return t=new E(new g(t)),u&&e.prototype&&u(t,e.prototype),t}if(h.prototype.o=function(e){this.v=e},h.prototype.s=function(e){this.l={D:e,F:!0},this.h=this.C||this.u},h.prototype.return=function(e){this.l={return:e},this.h=this.u},g.prototype.o=function(e){return A(this.g),this.g.j?f(this,this.g.j.next,e,this.g.o):(this.g.o(e),m(this))},g.prototype.s=function(e){return A(this.g),this.g.j?f(this,this.g.j.throw,e,this.g.o):(this.g.s(e),m(this))},a("Array.prototype.entries",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,i=!1,r={next:function(){if(!i&&n<e.length){var r=n++;return{value:t(r,e[r]),done:!1}}return i=!0,{done:!0,value:void 0}}};return r[Symbol.iterator]=function(){return r},r}(this,(function(e,t){return[e,t]}))}})),"undefined"!=typeof Blob&&("undefined"==typeof FormData||!FormData.prototype.keys)){var I=function(e,t){for(var n=0;n<e.length;n++)t(e[n])},Q=function(e){return e.replace(/\r?\n|\r/g,"\r\n")},U=function(e,t,n){return t instanceof Blob?(n=void 0!==n?String(n+""):"string"==typeof t.name?t.name:"blob",t.name===n&&"[object Blob]"!==Object.prototype.toString.call(t)||(t=new File([t],n)),[String(e),t]):[String(e),String(t)]},y=function(e,t){if(e.length<t)throw new TypeError(t+" argument required, but only "+e.length+" present.")},b="object"==typeof globalThis?globalThis:"object"==typeof window?window:"object"==typeof self?self:this,v=b.FormData,R=b.XMLHttpRequest&&b.XMLHttpRequest.prototype.send,S=b.Request&&b.fetch,F=b.navigator&&b.navigator.sendBeacon,B=b.Element&&b.Element.prototype,T=b.Symbol&&Symbol.toStringTag;T&&(Blob.prototype[T]||(Blob.prototype[T]="Blob"),"File"in b&&!File.prototype[T]&&(File.prototype[T]="File"));try{new File([],"")}catch(e){b.File=function(e,t,n){return e=new Blob(e,n||{}),Object.defineProperties(e,{name:{value:t},lastModified:{value:+(n&&void 0!==n.lastModified?new Date(n.lastModified):new Date)},toString:{value:function(){return"[object File]"}}}),T&&Object.defineProperty(e,T,{value:"File"}),e}}var N=function(e){return e.replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22")},_=function(e){this.i=[];var t=this;e&&I(e.elements,(function(e){if(e.name&&!e.disabled&&"submit"!==e.type&&"button"!==e.type&&!e.matches("form fieldset[disabled] *"))if("file"===e.type){var n=e.files&&e.files.length?e.files:[new File([],"",{type:"application/octet-stream"})];I(n,(function(n){t.append(e.name,n)}))}else"select-multiple"===e.type||"select-one"===e.type?I(e.options,(function(n){!n.disabled&&n.selected&&t.append(e.name,n.value)})):"checkbox"===e.type||"radio"===e.type?e.checked&&t.append(e.name,e.value):(n="textarea"===e.type?Q(e.value):e.value,t.append(e.name,n))}))};if((e=_.prototype).append=function(e,t,n){y(arguments,2),this.i.push(U(e,t,n))},e.delete=function(e){y(arguments,1);var t=[];e=String(e),I(this.i,(function(n){n[0]!==e&&t.push(n)})),this.i=t},e.entries=function e(){var t,n=this;return C(e,(function(e){if(1==e.h&&(t=0),3!=e.h)return t<n.i.length?e=p(e,n.i[t]):(e.h=0,e=void 0),e;t++,e.h=2}))},e.forEach=function(e,t){y(arguments,1);for(var n=c(this),i=n.next();!i.done;i=n.next()){var r=c(i.value);i=r.next().value,r=r.next().value,e.call(t,r,i,this)}},e.get=function(e){y(arguments,1);var t=this.i;e=String(e);for(var n=0;n<t.length;n++)if(t[n][0]===e)return t[n][1];return null},e.getAll=function(e){y(arguments,1);var t=[];return e=String(e),I(this.i,(function(n){n[0]===e&&t.push(n[1])})),t},e.has=function(e){y(arguments,1),e=String(e);for(var t=0;t<this.i.length;t++)if(this.i[t][0]===e)return!0;return!1},e.keys=function e(){var t,n,i,r=this;return C(e,(function(e){if(1==e.h&&(t=c(r),n=t.next()),3!=e.h)return n.done?void(e.h=0):(i=n.value,p(e,c(i).next().value));n=t.next(),e.h=2}))},e.set=function(e,t,n){y(arguments,2),e=String(e);var i=[],r=U(e,t,n),o=!0;I(this.i,(function(t){t[0]===e?o&&(o=!i.push(r)):i.push(t)})),o&&i.push(r),this.i=i},e.values=function e(){var t,n,i,r,o=this;return C(e,(function(e){if(1==e.h&&(t=c(o),n=t.next()),3!=e.h)return n.done?void(e.h=0):(i=n.value,(r=c(i)).next(),p(e,r.next().value));n=t.next(),e.h=2}))},_.prototype._asNative=function(){for(var e=new v,t=c(this),n=t.next();!n.done;n=t.next()){var i=c(n.value);n=i.next().value,i=i.next().value,e.append(n,i)}return e},_.prototype._blob=function(){var e="----formdata-polyfill-"+Math.random(),t=[],n="--"+e+'\r\nContent-Disposition: form-data; name="';return this.forEach((function(e,i){return"string"==typeof e?t.push(n+N(Q(i))+'"\r\n\r\n'+Q(e)+"\r\n"):t.push(n+N(Q(i))+'"; filename="'+N(e.name)+'"\r\nContent-Type: '+(e.type||"application/octet-stream")+"\r\n\r\n",e,"\r\n")})),t.push("--"+e+"--"),new Blob(t,{type:"multipart/form-data; boundary="+e})},_.prototype[Symbol.iterator]=function(){return this.entries()},_.prototype.toString=function(){return"[object FormData]"},B&&!B.matches&&(B.matches=B.matchesSelector||B.mozMatchesSelector||B.msMatchesSelector||B.oMatchesSelector||B.webkitMatchesSelector||function(e){for(var t=(e=(this.document||this.ownerDocument).querySelectorAll(e)).length;0<=--t&&e.item(t)!==this;);return-1<t}),T&&(_.prototype[T]="FormData"),R){var w=b.XMLHttpRequest.prototype.setRequestHeader;b.XMLHttpRequest.prototype.setRequestHeader=function(e,t){w.call(this,e,t),"content-type"===e.toLowerCase()&&(this.B=!0)},b.XMLHttpRequest.prototype.send=function(e){e instanceof _?(e=e._blob(),this.B||this.setRequestHeader("Content-Type",e.type),R.call(this,e)):R.call(this,e)}}S&&(b.fetch=function(e,t){return t&&t.body&&t.body instanceof _&&(t.body=t.body._blob()),S.call(this,e,t)}),F&&(b.navigator.sendBeacon=function(e,t){return t instanceof _&&(t=t._asNative()),F.call(this,e,t)}),b.FormData=_}}();const Yv=()=>{const e=NU("AREAS");return 0===e.length&&e.push(ob.GLOBAL),cI(e).call(e,((e,t,n)=>{const i=jv(t);return i?0===n?i:"".concat(e,",").concat(i):e}),"")},jv=e=>e===ob.OVERSEA?"".concat(cb.ASIA,",").concat(cb.EUROPE,",").concat(cb.AFRICA,",").concat(cb.NORTH_AMERICA,",").concat(cb.SOUTH_AMERICA,",").concat(cb.OCEANIA):cb[e],Xv=e=>{const t={CODE:"",WEBCS_DOMAIN:[],WEBCS_DOMAIN_BACKUP_LIST:[],PROXY_CS:[],CDS_AP:[],ACCOUNT_REGISTER:[],UAP_AP:[],EVENT_REPORT_DOMAIN:[],EVENT_REPORT_BACKUP_DOMAIN:[],LOG_UPLOAD_SERVER:[],PROXY_SERVER_TYPE3:[]};return e.map((e=>{const n=lb[e],i=Object.keys(n);i&&i.map((e=>{"CODE"!==e&&(t[e]=t[e].concat(n[e]))}))})),t},Kv={GLOBAL:{ASIA:[ob.CHINA,ob.JAPAN,ob.INDIA,ob.KOREA,ob.HKMC],EUROPE:[],NORTH_AMERICA:[ob.US],SOUTH_AMERICA:[],OCEANIA:[],AFRICA:[]}},Hv=Object.keys(Kv[ob.GLOBAL]),zv=[ob.CHINA,ob.NORTH_AMERICA,ob.EUROPE,ob.ASIA,ob.JAPAN,ob.INDIA,ob.OCEANIA,ob.SOUTH_AMERICA,ob.AFRICA,ob.KOREA,ob.HKMC,ob.US],qv=function(e,t){let n=[];if(Fi(e).call(e,ob.GLOBAL)){const o=[ob.GLOBAL,ob.OVERSEA],a=Object.keys(lb);if(t===ob.GLOBAL)throw new Wy(ZE.INVALID_PARAMS,"GLOBAL is an invalid excludedArea value");if(t===ob.CHINA)n=[ob.OVERSEA];else if(r=t,Fi(Hv).call(Hv,r)){const e=(i=t,Kv[ob.GLOBAL][i]||[]),r=[...o,t,...e];n=a.filter((e=>!Fi(r).call(r,e)))}else if(function(e){let t=!1;return Hv.forEach((n=>{var i;Fi(i=Kv[ob.GLOBAL][n]).call(i,e)&&(t=!0)})),t}(t)){const e=function(e){let t;return Hv.forEach((n=>{var i;Fi(i=Kv[ob.GLOBAL][n]).call(i,e)&&(t=n)})),t}(t),i=[...o,e,t];n=a.filter((e=>!Fi(i).call(i,e)))}else n=e;n=function(e){const t=[];return zv.forEach((n=>{Fi(e).call(e,n)&&t.push(n)})),t.concat(e.filter((e=>!Fi(zv).call(zv,e))))}(n)}else n=e;var i,r;return n};function $v(e){var t,n;if(!e&&Fi(t=NU("AREAS")).call(t,ob.EXTENSIONS))return YU.debug("update area from ap : reset"),void eR(ay,!0);if(!Fi(n=NU("AREAS")).call(n,ob.GLOBAL)||!e)return;let i=lb.EXTENSIONS;i&&(i={CODE:jv(ob.EXTENSIONS),WEBCS_DOMAIN:["ap-web-1-".concat(e,".agora.io")],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-".concat(e,".ap.sd-rtn.com")],PROXY_CS:["proxy-ap-web-".concat(e,".agora.io")],CDS_AP:["cds-ap-web-1-".concat(e,".agora.io"),"cds-ap-web-2-".concat(e,".ap.sd-rtn.com")],ACCOUNT_REGISTER:["sua-ap-web-1-".concat(e,".agora.io"),"sua-ap-web-2-".concat(e,".ap.sd-rtn.com")],UAP_AP:["uap-ap-web-1-".concat(e,".agora.io"),"uap-ap-web-2-".concat(e,".ap.sd-rtn.com")],EVENT_REPORT_DOMAIN:["statscollector-1-".concat(e,".agora.io")],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-".concat(e,".agora.io")],LOG_UPLOAD_SERVER:["logservice-".concat(e,".agora.io")],PROXY_SERVER_TYPE3:["webrtc-cloud-proxy-".concat(e,".agora.io")]},YU.debug("update area from ap success: ".concat(e,",config is "),i),TU("AREAS",[ob.EXTENSIONS],!0),Object.keys(i).map((e=>{TU(e,"LOG_UPLOAD_SERVER"===e||"EVENT_REPORT_DOMAIN"===e||"EVENT_REPORT_BACKUP_DOMAIN"===e||"PROXY_SERVER_TYPE3"===e?i[e][0]:i[e])})))}function eR(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=oy.reportApiInvoke(null,{name:oC.SET_AREA,options:e,tag:aC.TRACER});try{let i=[];if("string"==typeof e&&(i=[e]),Array.isArray(e)&&(e.forEach((e=>{if(!Fi(sb).call(sb,e))throw new Wy(ZE.INVALID_PARAMS,"invalid area code")})),i=e),"[object Object]"===Object.prototype.toString.call(e)){const{areaCode:t,excludedArea:n}=e;if(!t)throw new Wy(ZE.INVALID_PARAMS,"area code is needed");let r=t;"string"==typeof t&&(r=[t]),i=n?qv(r,n):r}if(!t){if(_U.AREAS){const e=new Wy(ZE.PROHIBITED_OPERATION,"setArea is prohibited because of config-distribute");return n.onError(e),void YU.warning("setArea is prohibited because of config-distribute")}if(Fi(i).call(i,ob.GLOBAL)&&NU("AREAS")===ob.EXTENSIONS){const e=new Wy(ZE.PROHIBITED_OPERATION,"setArea is prohibited because of ap extensions");return n.onError(e),void YU.warning("setArea is prohibited because of ap extensions")}}TU("AREAS",i,t);const r=Xv(i);Object.keys(r).map((e=>{TU(e,"LOG_UPLOAD_SERVER"===e||"EVENT_REPORT_DOMAIN"===e||"EVENT_REPORT_BACKUP_DOMAIN"===e||"PROXY_SERVER_TYPE3"===e?r[e][0]:r[e])})),YU.debug("set area success:",i.join(","))}catch(e){throw n.onError(e),e}n.onSuccess()}function tR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function nR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tR(Object(n),!0).forEach((function(t){ih(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tR(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}let iR=1;function rR(e,t,n,i,r){iR+=1;const o={sid:n.sid,command:"convergeAllocateEdge",uid:"666",appId:n.appId,ts:Math.floor(Date.now()/1e3),seq:iR,requestId:iR,version:vU,cname:n.cname},a={service_name:t,json_body:JSON.stringify(o)};let s,c,l=e[0];return HC((async()=>{s=Date.now();const e=await Gv(l,{data:a,cancelToken:i,headers:{"X-Packet-Service-Type":"0","X-Packet-URI":"61"}});if(c=Date.now()-s,0!==e.code){const t=new Wy(ZE.UNEXPECTED_RESPONSE,"live streaming ap error, code"+e.code,{retry:!0,responseTime:c});throw YU.error(t.toString()),t}const n=JSON.parse(e.json_body);if(200!==n.code){const e=new Wy(ZE.UNEXPECTED_RESPONSE,"live streaming app center error, code: ".concat(n.code,", reason: ").concat(n.reason),{code:n.code,responseTime:c});throw YU.error(e.toString()),e}if(!n.servers||0===n.servers.length){const e=new Wy(ZE.UNEXPECTED_RESPONSE,"live streaming app center empty server",{code:n.code,responseTime:c});throw YU.error(e.toString()),e}const r=function(e,t){return{addressList:e.servers.map((e=>"wss://".concat(e.address.replace(/\./g,"-"),".").concat(NU("WORKER_DOMAIN"),":").concat(e.wss,"?serviceName=").concat(encodeURIComponent(t)))),workerToken:e.workerToken,vid:e.vid}}(n,t);return NU("LIVE_STREAMING_ADDRESS")&&(r.addressList=NU("LIVE_STREAMING_ADDRESS")instanceof Array?NU("LIVE_STREAMING_ADDRESS"):[NU("LIVE_STREAMING_ADDRESS")]),nR(nR({},r),{},{responseTime:c})}),((i,r)=>(oy.apworkerEvent(n.sid,{success:!0,sc:200,serviceName:t,responseDetail:JSON.stringify(i.addressList),firstSuccess:0===r,responseTime:c,serverIp:e[r%e.length]}),!1)),((i,r)=>(oy.apworkerEvent(n.sid,{success:!1,sc:i.data&&i.data.code||200,serviceName:t,responseTime:c,serverIp:e[r%e.length]}),!!(i.code!==ZE.OPERATION_ABORTED&&i.code!==ZE.UNEXPECTED_RESPONSE||i.data&&i.data.retry)&&(l=e[(r+1)%e.length],!0))),r)}let oR=1;function aR(e,t,n,i){let{url:r,areaCode:o}=e;const a=Date.now();let s;const[c,l]=uR(t,o,[pv.CHOOSE_SERVER]);let d=QC.networkState;return HC((async()=>{d&&QC.networkState===uC.OFFLINE&&QC.onlineWaiter&&await tE.race([QC.onlineWaiter,VC(i&&i.maxRetryTimeout||XC.maxRetryTimeout)]),d=QC.networkState;const{data:e,headers:o}=await Gv(r,{data:c,cancelToken:n,headers:{"Content-Type":"multipart/form-data;"}},!0,!0);s="1"===o.http3?1:-1,oy.reportResourceTiming(r,t.sid),cR(e,r,t,a,[pv.CHOOSE_SERVER],s);const l=Fv(e,pv.CHOOSE_SERVER);return lR(l),bv(l,r)}),(e=>(e&&oy.joinChooseServer(t.sid,{lts:a,succ:!0,csAddr:r,opid:l,serverList:e.gatewayAddrs.map((e=>e.address)),ec:null,cid:e.cid.toString(),uid:e.uid.toString(),csIp:e.csIp,unilbsServerIds:[pv.CHOOSE_SERVER].toString(),isHttp3:s}),!1)),(e=>e.code!==ZE.OPERATION_ABORTED&&(e.code===ZE.CAN_NOT_GET_GATEWAY_SERVER?e.data.retry:(oy.joinChooseServer(t.sid,{lts:a,succ:!1,csAddr:r,serverList:null,opid:l,ec:e.code,csIp:e.data&&e.data.csIp,unilbsServerIds:[pv.CHOOSE_SERVER].toString(),extend:JSON.stringify({networkState:d}),isHttp3:s}),YU.warning("[".concat(t.clientId,"] Choose server network error, retry"),e),!0))),i)}function sR(e,t,n,i){let r,{url:o,areaCode:a,serviceIds:s}=e;const c=Date.now(),[l,d]=uR(t,a,s);let u;return HC((async()=>{u&&QC.networkState===uC.OFFLINE&&QC.onlineWaiter&&await tE.race([QC.onlineWaiter,VC(i&&i.maxRetryTimeout||XC.maxRetryTimeout)]),u=QC.networkState;const{data:e,headers:a}=await Gv(o,{data:l,cancelToken:n,headers:{"Content-Type":"multipart/form-data;"}},!0,!0);r="1"===a.http3?1:-1,oy.reportResourceTiming(o,t.sid),cR(e,o,t,c,s,r);const d=Fv(e,pv.CHOOSE_SERVER),h=Fv(e,"proxy5"===t.cloudProxyServer?pv.CLOUD_PROXY_5:"proxy3"===t.cloudProxyServer||"proxy4"===t.cloudProxyServer?pv.CLOUD_PROXY:pv.CLOUD_PROXY_FALLBACK);return lR(d),{gatewayInfo:bv(d,o),proxyInfo:h,url:o}}),(e=>(e.gatewayInfo&&oy.joinChooseServer(t.sid,{lts:c,succ:!0,csAddr:o,serverList:e.gatewayInfo.gatewayAddrs.map((e=>e.address)),ec:null,opid:d,cid:e.gatewayInfo.cid.toString(),uid:e.gatewayInfo.uid.toString(),csIp:e.gatewayInfo.csIp,unilbsServerIds:s.toString(),isHttp3:r}),e.proxyInfo&&oy.joinWebProxyAP(t.sid,{lts:c,sucess:1,apServerAddr:o,turnServerAddrList:e.proxyInfo.addresses.map((e=>e.ip)).join(","),errorCode:null,eventType:t.cloudProxyServer,unilbsServerIds:s.toString()}),!1)),(e=>e.code!==ZE.OPERATION_ABORTED&&(e.code===ZE.CAN_NOT_GET_GATEWAY_SERVER?e.data.retry:(oy.joinWebProxyAP(t.sid,{lts:c,sucess:0,apServerAddr:o,turnServerAddrList:null,errorCode:e.code,eventType:t.cloudProxyServer,unilbsServerIds:s.toString(),extend:JSON.stringify({networkState:u})}),YU.warning("[".concat(t.clientId,"] multi unilbs network error, retry"),e),!0))),i)}const cR=(e,t,n,i,r,o)=>{const a=[],s=a=>{4096===a.flag?oy.joinChooseServer(n.sid,{lts:i,succ:!1,csAddr:t,opid:e.opid,serverList:null,ec:a.error.message,csIp:a.error.data&&a.error.data.csIp,unilbsServerIds:r.toString(),isHttp3:o}):1048576!==a.flag&&4194304!==a.flag&&4194310!==a.flag||oy.joinWebProxyAP(n.sid,{lts:i,sucess:0,apServerAddr:t,turnServerAddrList:null,errorCode:a.error.code,eventType:n.cloudProxyServer,unilbsServerIds:r.toString()})};if(e.response_body.forEach((t=>{const n=t.buffer.code;if(23===t.uri&&0===n&&!t.buffer.edges_services)if(4194310===t.buffer.flag)YU.warning("no edge services in ap response of proxy fallback, will not set proxy in iceServers"),t.buffer.edges_services=[];else{const n={error:new Wy(ZE.CAN_NOT_GET_GATEWAY_SERVER,"no edge services in ap response",{retry:!0,csIp:e.detail[502]}),flag:t.buffer.flag};a.push(n),s(n)}if(0!==n){const i=Zb(n),r={error:new Wy(ZE.CAN_NOT_GET_GATEWAY_SERVER,i.desc,{desc:i.desc,retry:i.retry,csIp:e.detail[502]}),flag:t.buffer.flag};4194310===t.buffer.flag?YU.warning(r.error.toString()):a.push(r),s(r)}})),a.length)throw YU.warning("[".concat(n.clientId,"] multi unilbs ").concat(t," failed, ").concat(a.map((e=>"flag: ".concat(e.flag,", message: ").concat(e.error.message,", retry: ").concat(e.error.data.retry))).join(" | "))),new Wy(ZE.CAN_NOT_GET_GATEWAY_SERVER,a.map((e=>"flag: ".concat(e.flag,", message: ").concat(e.error.message))).join(" | "),{retry:!!a.find((e=>e.error.data.retry)),csIp:e.detail[502],desc:[...new Set(a.map((e=>{var t;return null==e||null===(t=e.error)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.desc})).filter((e=>!!e)))]})},lR=e=>{var t,n,i,r;if(e.addresses&&0===e.addresses.length&&0===e.code)throw new Wy(ZE.CAN_NOT_GET_GATEWAY_SERVER,"void gateway address",{retry:!0,csIp:e.detail&&e.detail[502]});if(NU("AP_AREA")&&(null!==(i=e.detail)&&void 0!==i&&i[23]&&"string"==typeof(null===(r=e.detail)||void 0===r?void 0:r[23])?$v(e.detail[23].toLowerCase()):$v()),null!==(t=e.detail)&&void 0!==t&&t[19]&&"string"==typeof(null===(n=e.detail)||void 0===n?void 0:n[19])){const t=e.detail[19],n=null==t?void 0:t.split(";");for(let i=0;i<n.length;i++){var o;const t=Iv(o=n[i]).call(o);e.addresses[i]&&n&&(e.addresses[i].fingerprint=t)}}if(NU("GATEWAY_ADDRESS")&&NU("GATEWAY_ADDRESS").length>0){YU.debug("assign gateway address to",NU("GATEWAY_ADDRESS"));const t=NU("GATEWAY_ADDRESS").map((t=>{var n,i;const r=null!==(n=null===(i=e.addresses.find((e=>e.ip===t.ip&&e.port===t.port)))||void 0===i?void 0:i.fingerprint)&&void 0!==n?n:"";return{ip:t.ip,port:t.port,ticket:e.addresses[0]&&e.addresses[0].ticket,fingerprint:r}}));e.addresses=t}},dR=(e,t)=>{if(e.response_body&&e.response_body.length){const t=e.response_body[0];if(0!==t.buffer.code){const e=Zb(t.buffer.code);throw new Wy(ZE.UPDATE_TICKET_FAILED,"[".concat(t.buffer.code,"]: ").concat(e.desc),{retry:e.retry})}return t.buffer.ticket}throw YU.debug("update ticket request received ap response without response body:",t),new Wy(ZE.UPDATE_TICKET_FAILED,"cannot find response body from ap response",{retry:!1})},uR=(e,t,n)=>{const i=Math.floor(Math.random()*10**12),r={appid:e.appId,client_ts:Date.now(),opid:i,sid:e.sid,request_bodies:[{uri:22,buffer:{cname:e.cname,detail:nR({6:e.stringUid,11:t,12:NU("USE_NEW_TOKEN")?"1":void 0,22:t},e.apRTM?{26:"RTM2"}:{}),key:e.token,service_ids:n,uid:e.uid||0}}]};r.request_bodies.forEach((t=>{e.multiIP&&e.multiIP.gateway_ip&&(t.buffer.detail[5]=JSON.stringify({vocs_ip:[e.multiIP.uni_lbs_ip],vos_ip:[e.multiIP.gateway_ip]}))}));const o=new FormData;return o.append("request",JSON.stringify(r)),[o,i]},hR=(e,t)=>{const n=Math.floor(Math.random()*10**12),i={appid:e.appId,client_ts:Date.now(),opid:n,sid:e.sid,request_bodies:[{uri:28,buffer:{cname:e.cname,detail:{1:"",6:e.stringUid,12:"1"},token:e.token,service_ids:t,uid:e.uid||0,edges_services:e.apResponse.addresses.map((e=>({ip:e.ip,port:e.port})))}}]},r=new FormData;return r.append("request",JSON.stringify(i)),[r,n]};let AR=0;function pR(e){return tE.all(e.map((e=>e.then((e=>{throw e}),(e=>e))))).then((e=>{throw e}),(e=>e))}const gR=async e=>{let{fragementLength:t,referenceList:n,asyncMapHandler:i,allFailedhandler:r,promisesCollector:o}=e,a=0;const s=t;let c,l=0;const d=async()=>{const e=(()=>{const e=a*s,t=e+s;return n.slice(e,t).map(i)})();o&&o.push(...e);try{c=await pR(e)}catch(e){if(l+=s,a++,!(l>=n.length))return void await d();r(e)}e.forEach((e=>e.cancel()))};return await d(),c};async function fR(e,t,n,i){const r=async function(e,t,n,i){let r=null;const o=[],a=async()=>{const r=NU("WEBCS_DOMAIN").slice(0,NU("AJAX_REQUEST_CONCURRENT")).map((t=>({url:e.proxyServer?"https://".concat(e.proxyServer,"/ap/?url=").concat(t+"/api/v2/transpond/webrtc?v=2"):"https://".concat(t,"/api/v2/transpond/webrtc?v=2"),areaCode:Yv()}))),a=i.recordJoinChannelService({startTs:Date.now(),status:"pending",service:"chooseServer",urls:r.map((e=>e.url))}),s=await gR({fragementLength:NU("FRAGEMENT_LENGTH"),referenceList:r,asyncMapHandler:i=>(YU.debug("[".concat(e.clientId,"] Connect to choose_server:"),i.url),aR(i,e,t,n)),allFailedhandler:e=>{throw i.recordJoinChannelService({endTs:Date.now(),status:"error",errors:e},a),e[0]},promisesCollector:o});return i.recordJoinChannelService({endTs:Date.now(),status:"success"},a),s},s=async()=>{if(await VC(1e3),null!==r)return r;const a=NU("WEBCS_DOMAIN_BACKUP_LIST").map((t=>({url:e.proxyServer?"https://".concat(e.proxyServer,"/ap/?url=").concat(t+"/api/v2/transpond/webrtc?v=2"):"https://".concat(t,"/api/v2/transpond/webrtc?v=2"),areaCode:Yv()}))),s=i.recordJoinChannelService({endTs:void 0,startTs:Date.now(),status:"pending",service:"chooseServer",urls:a.map((e=>e.url))}),c=await gR({fragementLength:NU("FRAGEMENT_LENGTH"),referenceList:a,asyncMapHandler:i=>(YU.debug("[".concat(e.clientId,"] Connect to backup choose_server:"),i.url),aR(i,e,t,n)),allFailedhandler:e=>{throw i.recordJoinChannelService({endTs:Date.now(),status:"error",errors:e},s),e[0]},promisesCollector:o});return i.recordJoinChannelService({endTs:Date.now(),status:"success"},s),c};try{return r=await pR([a(),s()]),o.length&&o.forEach((e=>e.cancel&&"function"==typeof e.cancel&&e.cancel())),r}catch(e){throw e[0]}}(e,t,n,i);return{gatewayInfo:await r}}async function mR(e,t,n,i,r){const o=e.cloudProxyServer;if("disabled"===o){if(!i)return;if(e.useLocalAccessPoint)return await fR(e,t,n,r);if(NU("JOIN_WITH_FALLBACK_MEDIA_PROXY")){const{gatewayInfo:i,proxyInfo:o}=await IR(e,t,n,r);if(e.turnServer&&"auto"!==e.turnServer.mode)return{gatewayInfo:i};const s=o.map((e=>({turnServerURL:e.address,tcpport:e.tcpport||sy.tcpport,udpport:e.udpport||sy.udpport,username:e.username||sy.username,password:e.password||sy.password,forceturn:!1,security:!0})));if(r.useP2P){var a;const t=null!==(a=e.uid)&&void 0!==a?a:i.uid,n="glb:".concat(t.toString()),r=await tC(n),c=o.map((e=>({turnServerURL:e.address,tcpport:e.tcpport||sy.tcpport,udpport:e.udpport||sy.udpport,username:n,password:r,forceturn:!1,security:!0})));s.push(...c)}return e.turnServer={mode:"manual",servers:s},{gatewayInfo:i}}return await fR(e,t,n,r)}const{proxyInfo:s,gatewayInfo:c}=await IR(e,t,n,r),l={gatewayInfo:c},d=s.map((e=>({turnServerURL:e.address,tcpport:"proxy3"===o?void 0:e.tcpport?e.tcpport:sy.tcpport,udpport:"proxy4"===o?void 0:e.udpport?e.udpport:sy.udpport,username:e.username||sy.username,password:e.password||sy.password,forceturn:"proxy4"!==o,security:"proxy5"===o})));if(r.useP2P){var u;const t=null!==(u=e.uid)&&void 0!==u?u:c.uid,n="glb:".concat(t.toString()),i=await tC(n),r=s.map((e=>({turnServerURL:e.address,tcpport:"proxy3"===o?void 0:e.tcpport||sy.tcpport,udpport:"proxy4"===o?void 0:e.udpport||sy.udpport,username:n,password:i,forceturn:"proxy4"!==o,security:"proxy5"===o})));d.push(...r)}return e.turnServer={mode:"manual",servers:d},YU.debug("[".concat(e.clientId,"] set proxy server: ").concat(e.proxyServer,", mode: ").concat(o)),l}async function ER(e,t,n,i,r){const o=NU("ACCOUNT_REGISTER").slice(0,NU("AJAX_REQUEST_CONCURRENT"));let a=[];a=t.proxyServer?o.map((e=>"https://".concat(t.proxyServer,"/ap/?url=").concat(e+"/api/v1"))):o.map((e=>"https://".concat(e,"/api/v1")));const s=null==r?void 0:r.recordJoinChannelService({startTs:Date.now(),status:"pending",service:"stringUID",urls:a});try{const o=await async function(e,t,n,i,r){const o=Date.now(),a={sid:n.sid,opid:10,appid:n.appId,string_uid:t};let s=e[0];const c=await HC((()=>Gv(s+"".concat(-1===s.indexOf("?")?"?":"&","action=stringuid"),{data:a,cancelToken:i,headers:{"X-Packet-Service-Type":0,"X-Packet-URI":72}})),((n,i)=>{if(0===n.code){if(n.uid<=0||n.uid>=Math.pow(2,32))throw YU.error("Invalid Uint Uid ".concat(t," => ").concat(n.uid),n),oy.reqUserAccount(a.sid,{lts:o,success:!1,serverAddr:s,stringUid:a.string_uid,uid:n.uid,errorCode:ZE.INVALID_UINT_UID_FROM_STRING_UID,extend:a}),new Wy(ZE.INVALID_UINT_UID_FROM_STRING_UID);return oy.reqUserAccount(a.sid,{lts:o,success:!0,serverAddr:s,stringUid:a.string_uid,uid:n.uid,errorCode:null,extend:a}),!1}const r=Zb(n.code);return r.retry&&(s=e[(i+1)%e.length]),oy.reqUserAccount(a.sid,{lts:o,success:!1,serverAddr:s,stringUid:a.string_uid,uid:n.uid,errorCode:r.desc,extend:a}),r.retry}),((t,n)=>t.code!==ZE.OPERATION_ABORTED&&(oy.reqUserAccount(a.sid,{lts:o,success:!1,serverAddr:s,stringUid:a.string_uid,uid:null,errorCode:t.code,extend:a}),s=e[(n+1)%e.length],!0)),r);if(0!==c.code){const e=Zb(c.code);throw new Wy(ZE.UNEXPECTED_RESPONSE,e.desc)}return c}(a,e,t,n,i);return null==r||r.recordJoinChannelService({status:"success",endTs:Date.now()},s),o.uid}catch(e){throw null==r||r.recordJoinChannelService({status:"error",endTs:Date.now(),errors:[e]},s),e}}async function CR(e,t,n){const i=NU("CDS_AP").slice(0,NU("AJAX_REQUEST_CONCURRENT")).map((t=>e.proxyServer?"https://".concat(e.proxyServer,"/ap/?url=").concat(t+"/api/v1"):"https://".concat(t,"/api/v1?action=config"))).map((i=>function(e,t,n,i){const r=AE(),o={flag:64,cipher_method:0,features:{device:r.name,system:r.os,system_general:navigator.userAgent,vendor:t.appId,version:vU,cname:t.cname,sid:t.sid,session_id:t.sid,detail:"",proxyServer:t.proxyServer}};return HC((()=>Gv(e,{data:o,timeout:1e3,cancelToken:n,headers:{"X-Packet-Service-Type":0,"X-Packet-URI":54}})),void 0,(e=>e.code!==ZE.OPERATION_ABORTED),i)}(i,e,t,n)));let r=null,o=null,a={};try{r=await pR(i)}catch(e){if(e.code===ZE.OPERATION_ABORTED)throw e;o=e}if(i.forEach((e=>e.cancel())),oy.reportApiInvoke(e.sid,{name:oC.REQUEST_CONFIG_DISTRIBUTE,options:{error:o,res:r}}).onSuccess(),r&&r.test_tags)try{a=function(e){if(!e.test_tags)return{};const t=e.test_tags,n=Object.keys(t),i={};return n.forEach((e=>{var n;const r=Iv(n=e.slice(4)).call(n),o=JSON.parse(t[e])[1];i[r]=o})),i}(r)}catch(e){}return a}async function IR(e,t,n,i){const r=NU("PROXY_SERVER_TYPE3"),o=(e,t,n)=>{let i=n||r;return Array.isArray(i)&&(i=t%2==0?r[1]:r[0]),"https://".concat(i,"/ap/?url=").concat(e)};let a=null;const s=[],c=async()=>{const r=NU("WEBCS_DOMAIN").slice(0,NU("AJAX_REQUEST_CONCURRENT")).map(((t,n)=>{let i;return i="disabled"===e.cloudProxyServer&&e.proxyServer?o("".concat(t,"/api/v2/transpond/webrtc?v=2"),n,e.proxyServer):"disabled"===e.cloudProxyServer||"fallback"===e.cloudProxyServer?"https://".concat(t,"/api/v2/transpond/webrtc?v=2"):o("".concat(t,"/api/v2/transpond/webrtc?v=2"),n),{url:i,areaCode:Yv(),serviceIds:[pv.CHOOSE_SERVER,"proxy5"===e.cloudProxyServer?pv.CLOUD_PROXY_5:"proxy3"===e.cloudProxyServer||"proxy4"===e.cloudProxyServer?pv.CLOUD_PROXY:pv.CLOUD_PROXY_FALLBACK]}})),a=i.recordJoinChannelService({startTs:Date.now(),status:"pending",service:"chooseServer",urls:r.map((e=>e.url))}),c=await gR({fragementLength:NU("FRAGEMENT_LENGTH"),referenceList:r,asyncMapHandler:i=>(YU.debug("[".concat(e.clientId,"] Connect to choose_server:"),i.url),sR(i,e,t,n)),allFailedhandler:e=>{throw i.recordJoinChannelService({endTs:Date.now(),status:"error",errors:e},a),e[0]},promisesCollector:s});return i.recordJoinChannelService({endTs:Date.now(),status:"success"},a),c},l=async()=>{if(await VC(1e3),null!==a)return a;const r=NU("WEBCS_DOMAIN_BACKUP_LIST").map(((t,n)=>{let i;return i="disabled"===e.cloudProxyServer&&e.proxyServer?o("".concat(t,"/api/v2/transpond/webrtc?v=2"),n,e.proxyServer):"disabled"===e.cloudProxyServer||"fallback"===e.cloudProxyServer?"https://".concat(t,"/api/v2/transpond/webrtc?v=2"):o("".concat(t,"/api/v2/transpond/webrtc?v=2"),n),{url:i,areaCode:Yv(),serviceIds:[pv.CHOOSE_SERVER,"proxy5"===e.cloudProxyServer?pv.CLOUD_PROXY_5:"proxy3"===e.cloudProxyServer||"proxy4"===e.cloudProxyServer?pv.CLOUD_PROXY:pv.CLOUD_PROXY_FALLBACK]}})),c=i.recordJoinChannelService({startTs:Date.now(),status:"pending",service:"chooseServer",urls:r.map((e=>e.url))}),l=await gR({fragementLength:NU("FRAGEMENT_LENGTH"),referenceList:r,asyncMapHandler:i=>(YU.debug("[".concat(e.clientId,"] Connect to backup choose_server:"),i.url),sR(i,e,t,n)),allFailedhandler:e=>{throw i.recordJoinChannelService({endTs:Date.now(),status:"error",errors:e},c),e[0]},promisesCollector:s});return i.recordJoinChannelService({endTs:Date.now(),status:"success"},c),l};let d,u,h;try{({gatewayInfo:d,proxyInfo:u,url:h}=await pR([c(),l()]))}catch(e){throw e[0]}if(s.length&&s.forEach((e=>e.cancel&&"function"==typeof e.cancel&&e.cancel())),!d||!u)throw new Wy(ZE.UNEXPECTED_ERROR,"missing gateway or proxy response").print();if(e.apUrl=h,"disabled"!==e.cloudProxyServer&&Array.isArray(r)&&h){const t=/^https?:\/\/(.+?)(\/.*)?$/.exec(h)[1];Fi(r).call(r,t)&&(e.proxyServer=t,YU.setProxyServer(t),oy.setProxyServer(t))}return a={gatewayInfo:d,proxyInfo:await Bv(u,d.uid)},a}async function QR(e,t,n,i){const r=NU("UAP_AP").slice(0,NU("AJAX_REQUEST_CONCURRENT")).map((e=>t.proxyServer?"https://".concat(t.proxyServer,"/ap/?url=").concat(e+"/api/v1?action=uap"):"https://".concat(e,"/api/v1?action=uap")));return await rR(r,e,t,n,i)}async function UR(e,t,n){const i=NU("UAP_AP").slice(0,NU("AJAX_REQUEST_CONCURRENT")).map((t=>e.proxyServer?"https://".concat(e.proxyServer,"/ap/?url=").concat(t+"/api/v1?action=uap"):"https://".concat(t,"/api/v1?action=uap"))).map((i=>function(e,t,n,i){const r={command:"convergeAllocateEdge",sid:t.sid,appId:t.appId,token:t.token,ts:Date.now(),version:vU,cname:t.cname,uid:t.uid.toString(),requestId:oR,seq:oR};oR+=1;const o={service_name:"tele_channel",json_body:JSON.stringify(r)};return HC((async()=>{const t=await Gv(e,{data:o,cancelToken:n,headers:{"X-Packet-Service-Type":0,"X-Packet-URI":61}});if(0!==t.code){const e=new Wy(ZE.UNEXPECTED_RESPONSE,"cross channel ap error, code"+t.code,{retry:!0});throw YU.error(e.toString()),e}const i=JSON.parse(t.json_body);if(200!==i.code){const e=new Wy(ZE.UNEXPECTED_RESPONSE,"cross channel app center error, code: ".concat(i.code,", reason: ").concat(i.reason));throw YU.error(e.toString()),e}if(!i.servers||0===i.servers.length){const e=new Wy(ZE.UNEXPECTED_RESPONSE,"cross channel app center empty server");throw YU.error(e.toString()),e}return{vid:i.vid,workerToken:i.workerToken,addressList:(NU("CHANNEL_MEDIA_RELAY_SERVERS")||i.servers).map((e=>"wss://".concat(e.address.replace(/\./g,"-"),".").concat(NU("WORKER_DOMAIN"),":").concat(e.wss)))}}),void 0,(e=>!!(e.code!==ZE.OPERATION_ABORTED&&e.code!==ZE.UNEXPECTED_RESPONSE||e.data&&e.data.retry)),i)}(i,e,t,n)));try{const e=await pR(i);return i.forEach((e=>e.cancel())),e}catch(e){throw e[0]}}async function yR(e,t,n){let i=null;const r=[],o=async o=>{const a=NU(o?"WEBCS_DOMAIN_BACKUP_LIST":"WEBCS_DOMAIN").map((t=>e.proxyServer?"https://".concat(e.proxyServer,"/ap/?url=").concat(t+"/api/v2/transpond/webrtc?v=2"):"https://".concat(t,"/api/v2/transpond/webrtc?v=2")));return o&&(await VC(1e3),null!==i)?i:await gR({fragementLength:NU("FRAGEMENT_LENGTH"),referenceList:a,asyncMapHandler:i=>(YU.debug("[".concat(e.clientId,"] update ticket, Connect to ").concat(o?"backup":""," choose_server:"),i),function(e,t,n,i){const[r]=hR(t,[pv.CHOOSE_SERVER]);let o=QC.networkState;return HC((async()=>{o&&QC.networkState===uC.OFFLINE&&QC.onlineWaiter&&await tE.race([QC.onlineWaiter,VC(i&&i.maxRetryTimeout||XC.maxRetryTimeout)]),o=QC.networkState;const t=await Gv(e,{data:r,cancelToken:n,headers:{"Content-Type":"multipart/form-data;"}},!0);return dR(t,e)}),(()=>!1),(e=>e.code!==ZE.OPERATION_ABORTED&&(e.code===ZE.UPDATE_TICKET_FAILED?e.data.retry:(YU.warning("[".concat(t.clientId,"] update ticket network error, retry"),e),!0))),i)}(i,e,t,n)),allFailedhandler:e=>{throw e[0]},promisesCollector:r})};try{return i=await pR([o(!1),o(!0)]),r.length&&r.forEach((e=>e.cancel&&"function"==typeof e.cancel&&e.cancel())),i}catch(e){throw e[0]}}function bR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function vR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bR(Object(n),!0).forEach((function(t){ih(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bR(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}class RR extends nC{get isSuccess(){return!!this.configs}constructor(){super(),ih(this,"configs",void 0),ih(this,"joinInfo",void 0),ih(this,"cancelToken",void 0),ih(this,"retryConfig",{timeout:3e3,timeoutFactor:1.5,maxRetryCount:1,maxRetryTimeout:1e4}),ih(this,"interval",void 0),ih(this,"mutex",new YC("config-distribute")),ih(this,"mutableParamsRead",!1)}startGetConfigDistribute(e,t){this.joinInfo=e,this.cancelToken=t,this.interval&&this.stopGetConfigDistribute(),NU("ENABLE_CONFIG_DISTRIBUTE")&&(this.updateConfigDistribute(),this.interval=window.setInterval((()=>{this.updateConfigDistribute()}),NU("CONFIG_DISTRIBUTE_INTERVAL")))}stopGetConfigDistribute(){this.interval&&clearInterval(this.interval),this.interval=void 0,this.joinInfo=void 0,this.cancelToken=void 0}async awaitConfigDistributeComplete(){this.mutex.isLocked&&(await this.mutex.lock())()}async updateConfigDistribute(){if(this.mutableParamsRead||(this.mutableParamsRead=!0,oy.reportApiInvoke(null,{options:void 0,name:oC.LOAD_CONFIG_FROM_LOCALSTORAGE,tag:aC.TRACER}).onSuccess(JSON.stringify(_U))),!this.joinInfo||!this.cancelToken||!this.retryConfig)return void YU.debug("[config-distribute] get config distribute interrupted have no joininfo");let e;const t=await this.mutex.lock();try{e=await CR(this.joinInfo,this.cancelToken,this.retryConfig),YU.debug("[config-distribute] get config distribute",JSON.stringify(e)),e.limit_bitrate&&this.handleBitrateLimit(e.limit_bitrate),this.cacheGlobalParameterConfig(e),this.configs=e}catch(e){const t=new Wy(ZE.NETWORK_RESPONSE_ERROR,e);YU.warning("[config-distribute] ".concat(t.toString()))}finally{t()}}getBitrateLimit(){return this.configs?this.configs.limit_bitrate:void 0}handleBitrateLimit(e){var t;(t=e)&&t.uplink&&t.id&&void 0!==t.uplink.max_bitrate&&void 0!==t.uplink.min_bitrate&&(this.configs&&this.configs.limit_bitrate?this.configs&&this.configs.limit_bitrate&&this.configs.limit_bitrate.id!==e.id&&this.emit(db.UPDATE_BITRATE_LIMIT,e):this.emit(db.UPDATE_BITRATE_LIMIT,e))}getLowStreamConfigDistribute(){return this.configs&&this.configs.limit_bitrate&&vR({},this.configs.limit_bitrate.low_stream_uplink)}cacheGlobalParameterConfig(e){var t;const n=qh(t=Object.keys(e).filter((e=>/^webrtc_ng_global_parameter/.test(e)))).call(t);for(let r=0;r<n.length;r++)for(let t=n.length-1;t>r;t--){const i=n[t];if("number"==typeof e[i].__priority){const r=e[i].__priority,o=n[t-1];if("number"==typeof e[o].__priority){if(!(r>e[o].__priority))continue;{const e=i;n[t]=n[t-1],n[t-1]=e}}else{const e=i;n[t]=n[t-1],n[t-1]=e}}}const i={};n.forEach((t=>{const n=e[t],r=n.__expires;Object.keys(n).forEach((e=>{"__priority"===e||"__expires"===e||Object.prototype.hasOwnProperty.call(i,e)||(i[e]=vR({value:n[e]},r&&{expires:r}))}))}));try{!function(e){try{const t=Date.now();Object.keys(e).forEach((n=>{switch(n){case"ENABLE_EVENT_REPORT":case"UPLOAD_LOG":if(Object.prototype.hasOwnProperty.call(BU,n)){const{value:i,expires:r}=e[n];if(r&&r<=t)return;_U[n]=i,BU[n]=i,YU.debug("Update global parameters from config distribute",n,i)}}}))}catch(t){YU.error("Error update config immediately: ".concat(e),t.message)}}(i);const e=JSON.stringify(i),t=window.btoa(e);window.localStorage.setItem("websdk_ng_global_parameter",t),YU.debug("Caching global parameters ".concat(e))}catch(e){YU.error("Error caching global parameters:",e.message)}}}const SR={getDisplayMedia:!1,getStreamFromExtension:!1,supportUnifiedPlan:!1,supportMinBitrate:!1,supportSetRtpSenderParameters:!1,supportDualStream:!0,webAudioMediaStreamDest:!1,supportReplaceTrack:!1,supportWebGL:!1,webAudioWithAEC:!1,supportRequestFrame:!1,supportShareAudio:!1,supportDualStreamEncoding:!1,supportDataChannel:!1,supportPCSetConfiguration:!1,supportWebRTCEncodedTransform:!1,supportWebRTCInsertableStream:!1};function FR(){return SR}var BR;function TR(e,t,n){return{sampleRate:e,stereo:t,bitrate:n}}function NR(e,t,n,i,r){return{width:e,height:t,frameRate:n,bitrateMin:i,bitrateMax:r}}function _R(e,t,n,i,r){return{width:{max:e},height:{max:t},frameRate:n,bitrateMin:i,bitrateMax:r}}function wR(e,t){return{numSpatialLayers:e,numTemporalLayers:t}}!function(e){e.IOS_15_16_INTERRUPTION_START="ios15_16-interruption-start",e.IOS_15_16_INTERRUPTION_END="ios15_16-interruption-end",e.IOS_INTERRUPTION_START="ios-interruption-start",e.IOS_INTERRUPTION_END="ios-interruption-end",e.STATE_CHANGE="state-change"}(BR||(BR={}));const kR={"90p":NR(160,90),"90p_1":NR(160,90),"120p":NR(160,120,15,30,65),"120p_1":NR(160,120,15,30,65),"120p_3":NR(120,120,15,30,50),"120p_4":NR(212,120),"180p":NR(320,180,15,30,140),"180p_1":NR(320,180,15,30,140),"180p_3":NR(180,180,15,30,100),"180p_4":NR(240,180,15,30,120),"240p":NR(320,240,15,40,200),"240p_1":NR(320,240,15,40,200),"240p_3":NR(240,240,15,40,140),"240p_4":NR(424,240,15,40,220),"360p":NR(640,360,15,80,400),"360p_1":NR(640,360,15,80,400),"360p_3":NR(360,360,15,80,260),"360p_4":NR(640,360,30,80,600),"360p_6":NR(360,360,30,80,400),"360p_7":NR(480,360,15,80,320),"360p_8":NR(480,360,30,80,490),"360p_9":NR(640,360,15,80,800),"360p_10":NR(640,360,24,80,800),"360p_11":NR(640,360,24,80,1e3),"480p":NR(640,480,15,100,500),"480p_1":NR(640,480,15,100,500),"480p_2":NR(640,480,30,100,1e3),"480p_3":NR(480,480,15,100,400),"480p_4":NR(640,480,30,100,750),"480p_6":NR(480,480,30,100,600),"480p_8":NR(848,480,15,100,610),"480p_9":NR(848,480,30,100,930),"480p_10":NR(640,480,10,100,400),"720p":NR(1280,720,15,120,1130),"720p_auto":NR(1280,720,30,900,3e3),"720p_1":NR(1280,720,15,120,1130),"720p_2":NR(1280,720,30,120,2e3),"720p_3":NR(1280,720,30,120,1710),"720p_5":NR(960,720,15,120,910),"720p_6":NR(960,720,30,120,1380),"1080p":NR(1920,1080,15,120,2080),"1080p_1":NR(1920,1080,15,120,2080),"1080p_2":NR(1920,1080,30,120,3e3),"1080p_3":NR(1920,1080,30,120,3150),"1080p_5":NR(1920,1080,60,120,4780),"1440p":NR(2560,1440,30,120,4850),"1440p_1":NR(2560,1440,30,120,4850),"1440p_2":NR(2560,1440,60,120,7350),"4k":NR(3840,2160,30,120,8910),"4k_1":NR(3840,2160,30,120,8910),"4k_3":NR(3840,2160,60,120,13500)},DR=[{scaleResolutionDownBy:2,width:1280,height:720,frameRate:30,bitrateMin:300,bitrateMax:900},{scaleResolutionDownBy:1.333333,width:1280,height:720,frameRate:30,bitrateMin:600,bitrateMax:2e3},{scaleResolutionDownBy:1,width:1280,height:720,frameRate:30,bitrateMin:900,bitrateMax:3e3}],VR={"480p":_R(640,480,5),"480p_1":_R(640,480,5),"480p_2":_R(640,480,30),"480p_3":_R(640,480,15),"720p":_R(1280,720,5),"720p_auto":NR(1280,720,30,900,3e3),"720p_1":_R(1280,720,5),"720p_2":_R(1280,720,30),"720p_3":_R(1280,720,15),"1080p":_R(1920,1080,5),"1080p_1":_R(1920,1080,5),"1080p_2":_R(1920,1080,30),"1080p_3":_R(1920,1080,15)},ZR={"1SL1TL":wR(1,1),"3SL3TL":wR(3,3),"2SL3TL":wR(2,3)};function WR(e){return e||(e="480p_1"),"string"==typeof e?Object.assign({},kR[e]):e}function OR(e){return"string"==typeof e?Object.assign({},VR[e]):e}function JR(e){return"string"==typeof e?Object.assign({},ZR[e]):e}const xR={speech_low_quality:TR(16e3,!1),speech_standard:TR(32e3,!1,18),music_standard:TR(48e3,!1),standard_stereo:TR(48e3,!0,56),high_quality:TR(48e3,!1,128),high_quality_stereo:TR(48e3,!0,192)};function MR(e){return"string"==typeof e?Object.assign({},xR[e]):e}const LR=[];function PR(e){return JE(e,"mediaSource",["screen","window","application"]),!0}var GR,YR,jR,XR,KR,HR,zR,qR,$R,eS;!function(e){e.NEED_RENEGOTIATE="@need_renegotiate",e.NEED_REPLACE_TRACK="@need_replace_track",e.NEED_CLOSE="@need_close",e.NEED_ENABLE_TRACK="@need_enable_track",e.NEED_DISABLE_TRACK="@need_disable_track",e.NEED_SESSION_ID="@need_sid",e.SET_OPTIMIZATION_MODE="@set_optimization_mode",e.GET_STATS="@get_stats",e.GET_RTC_STATS="@get_rtc_stats",e.GET_LOW_VIDEO_TRACK="@get_low_video_track",e.NEED_RESET_REMOTE_SDP="@need_reset_remote_sdp",e.NEED_UPDATE_VIDEO_ENCODER="@need_update_video_encoder",e.NEED_MUTE_TRACK="@need_mute_track",e.NEED_UNMUTE_TRACK="@need_unmute_track"}(GR||(GR={})),function(e){e.SCREEN_TRACK="screen_track",e.CUSTOM_TRACK="custome_track",e.LOW_STREAM="low_stream"}(YR||(YR={})),function(e){e[e.HIGH_STREAM=0]="HIGH_STREAM",e[e.LOW_STREAM=1]="LOW_STREAM"}(jR||(jR={})),function(e){e[e.HIGH_STREAM=0]="HIGH_STREAM",e[e.LOW_STREAM=1]="LOW_STREAM"}(XR||(XR={})),function(e){e[e.DISABLE=0]="DISABLE",e[e.LOW_STREAM=1]="LOW_STREAM",e[e.AUDIO_ONLY=2]="AUDIO_ONLY"}(KR||(KR={})),function(e){e.TRANSCEIVER_UPDATED="transceiver-updated"}(HR||(HR={})),function(e){e.SOURCE_STATE_CHANGE="source-state-change",e.TRACK_ENDED="track-ended",e.BEAUTY_EFFECT_OVERLOAD="beauty-effect-overload",e.VIDEO_ELEMENT_VISIBLE_STATUS="video-element-visible-status",e.CLOSED="closed"}(zR||(zR={})),function(e){e.FIRST_FRAME_DECODED="first-frame-decoded",e.VIDEO_ELEMENT_VISIBLE_STATUS="video-element-visible-status"}(qR||(qR={})),function(e){e.AUDIO_SOURCE_STATE_CHANGE="audio_source_state_change",e.RECEIVE_TRACK_BUFFER="receive_track_buffer",e.ON_AUDIO_BUFFER="on_audio_buffer",e.UPDATE_SOURCE="update_source"}($R||($R={})),function(e){e.UPDATE_TRACK_SOURCE="update-track-source"}(eS||(eS={}));const tS={sendVolumeLevel:0,sendBitrate:0,sendBytes:0,sendPackets:0,sendPacketsLost:0,sendJitterMs:0,sendRttMs:0,currentPacketLossRate:0},nS={sendBytes:0,sendBitrate:0,sendPackets:0,sendPacketsLost:0,sendJitterMs:0,sendRttMs:0,sendResolutionHeight:0,sendResolutionWidth:0,captureResolutionHeight:0,captureResolutionWidth:0,targetSendBitrate:0,totalDuration:0,totalFreezeTime:0,currentPacketLossRate:0},iS={transportDelay:0,end2EndDelay:0,receiveBitrate:0,receiveLevel:0,receiveBytes:0,receiveDelay:0,receivePackets:0,receivePacketsLost:0,totalDuration:0,totalFreezeTime:0,freezeRate:0,packetLossRate:0,currentPacketLossRate:0,publishDuration:-1},rS={uplinkNetworkQuality:0,downlinkNetworkQuality:0},oS={transportDelay:0,end2EndDelay:0,receiveBitrate:0,receiveBytes:0,receiveDelay:0,receivePackets:0,receivePacketsLost:0,receiveResolutionHeight:0,receiveResolutionWidth:0,totalDuration:0,totalFreezeTime:0,freezeRate:0,packetLossRate:0,currentPacketLossRate:0,publishDuration:-1};var aS,sS,cS,lS,dS;!function(e){e.ON_TRACK="on_track",e.ON_NODE="on_node"}(aS||(aS={})),function(e){e.REQUEST_UPDATE_CONSTRAINTS="request_update_constraints",e.REQUEST_CONSTRAINTS="request_constraints"}(sS||(sS={})),function(e){e.IDLE="IDLE",e.INITING="INITING",e.INITEND="INITEND"}(cS||(cS={})),function(e){e.STATE_CHANGE="state_change",e.RECORDING_DEVICE_CHANGED="recordingDeviceChanged",e.PLAYOUT_DEVICE_CHANGED="playoutDeviceChanged",e.CAMERA_DEVICE_CHANGED="cameraDeviceChanged"}(lS||(lS={})),function(e){e.NONE="none",e.INIT="init",e.CANPLAY="canplay",e.PLAYING="playing",e.PAUSED="paused",e.SUSPEND="suspend",e.STALLED="stalled",e.WAITING="waiting",e.ERROR="error",e.DESTROYED="destroyed",e.ABORT="abort",e.ENDED="ended",e.EMPTIED="emptied",e.LOADEDDATA="loadeddata"}(dS||(dS={}));const uS={uninit:100,none:110,init:120,loadeddata:130,canplay:200,playing:210,paused:220,suspend:300,stalled:310,waiting:320,error:330,destroyed:340,abort:350,ended:360,emptied:370};var hS;!function(e){e.OPEN="open",e.MESSAGE="message",e.CLOSE="close",e.CLOSING="closing",e.ERROR="error"}(hS||(hS={}));class AS extends nC{constructor(e,t){super(),ih(this,"_ID",void 0),ih(this,"_rtpTransceiver",void 0),ih(this,"_lowRtpTransceiver",void 0),ih(this,"_hints",[]),ih(this,"_isClosed",!1),ih(this,"_originMediaStreamTrack",void 0),ih(this,"_mediaStreamTrack",void 0),ih(this,"_external",{}),this._ID=t||ZC(8,"track-"),this._originMediaStreamTrack=e,this._mediaStreamTrack=e,function(e){Fi(LR).call(LR,e)||LR.push(e)}(this)}toString(){return this._ID}getTrackId(){return this._ID}getMediaStreamTrack(e){if(!e){const e=oy.reportApiInvoke(null,{name:oC.GET_MEDIA_STREAM_TRACK,options:[],tag:aC.TRACER});this._mediaStreamTrack&&"string"==typeof this._mediaStreamTrack.label?e.onSuccess(this._mediaStreamTrack.label):e.onSuccess("")}return this._mediaStreamTrack}getRTCRtpTransceiver(e){return e===jR.LOW_STREAM?this._lowRtpTransceiver:this._rtpTransceiver}getMediaStreamTrackSettings(){return this.getMediaStreamTrack(!0).getSettings()}close(){this._isClosed=!0,this._lowRtpTransceiver=void 0,this._rtpTransceiver=void 0,function(e){const t=LR.indexOf(e);-1!==t&&LR.splice(t,1)}(this),this.emit(zR.CLOSED)}_updateRtpTransceiver(e,t){if(t===jR.LOW_STREAM){if(this._lowRtpTransceiver===e)return;this._lowRtpTransceiver=e}else{if(this._rtpTransceiver===e)return;this._rtpTransceiver=e}this.emit(HR.TRANSCEIVER_UPDATED,e,t)}}class pS extends AS{get isExternalTrack(){return this._isExternalTrack}get muted(){return this._muted}get enabled(){return this._enabled}get processorContext(){return this._processorContext}set processorContext(e){this._processorContext=e}constructor(e,t){super(e,t),ih(this,"_enabled",!0),ih(this,"_muted",!1),ih(this,"_isExternalTrack",!1),ih(this,"_isClosed",!1),ih(this,"_enabledMutex",void 0),ih(this,"processor",void 0),ih(this,"_handleTrackEnded",(()=>{this.onTrackEnded()})),this._enabledMutex=new YC("".concat(this.getTrackId())),e.addEventListener("ended",this._handleTrackEnded)}getTrackLabel(){var e,t;return null!==(e=null===(t=this._originMediaStreamTrack)||void 0===t?void 0:t.label)&&void 0!==e?e:""}close(){this._isClosed||(this.stop(),this._originMediaStreamTrack.stop(),this._mediaStreamTrack!==this._originMediaStreamTrack&&(this._mediaStreamTrack.stop(),this._mediaStreamTrack=null),this._originMediaStreamTrack=null,this._enabledMutex=null,YU.debug("[".concat(this.getTrackId(),"] close")),this.emit(GR.NEED_CLOSE),super.close())}async _updateOriginMediaStreamTrack(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._isExternalTrack=n,e!==this._originMediaStreamTrack&&(this._originMediaStreamTrack&&(this._originMediaStreamTrack.removeEventListener("ended",this._handleTrackEnded),t&&this._originMediaStreamTrack.stop()),e.addEventListener("ended",this._handleTrackEnded),this._originMediaStreamTrack=e,this._muted&&(this._originMediaStreamTrack.enabled=!1),this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource(),await EC(this,GR.NEED_REPLACE_TRACK,this),this.processor&&this.processor.updateInput({track:this._originMediaStreamTrack,context:this.processorContext}))}_getDefaultPlayerConfig(){return{}}onTrackEnded(){YU.debug("[".concat(this.getTrackId(),"] track ended")),this.safeEmit(zR.TRACK_ENDED)}stateCheck(e,t){if(YU.debug("check track state, [muted: ".concat(this._muted,", enabled: ").concat(this._enabled,"] to [").concat(e,": ").concat(t,"]")),OE(t,e),this._enabled&&this._muted&&"enabled"===e&&!1===t)throw new WE(ZE.TRACK_STATE_UNREACHABLE,"cannot set enabled while the track is muted").print("error",YU);if(!this._enabled&&!this._muted&&"muted"===e&&!0===t)throw new WE(ZE.TRACK_STATE_UNREACHABLE,"cannot set muted while the track is disabled").print("error",YU)}getProcessorStats(){return this.processorContext.gatherStats()}getProcessorUsage(){return this.processorContext.gatherUsage()}}function gS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}const fS=window.AudioContext||window.webkitAudioContext;let mS=null;const ES=new class extends nC{constructor(){super(...arguments),ih(this,"prevState",void 0),ih(this,"curState",void 0),ih(this,"currentTime",void 0),ih(this,"currentTimeStuckAt",void 0),ih(this,"interruptDetectorTrack",void 0),ih(this,"onLocalAudioTrackMute",(()=>{YU.info("ios15-interruption-start"),this.emit(BR.IOS_15_16_INTERRUPTION_START)})),ih(this,"onLocalAudioTrackUnmute",(async()=>{YU.info("ios15-interruption-end"),"running"!==this.curState||this.duringInterruption?YU.info("ios15-interruption-end-canceled"):(mS&&await mS.suspend(),this.emit(BR.IOS_15_16_INTERRUPTION_END))}))}get duringInterruption(){return"running"===this.prevState&&"interrupted"===this.curState}bindInterruptDetectorTrack(e){YU.debug("webaudio bindInterruptDetectorTrack ".concat(e.getTrackId())),this.interruptDetectorTrack||(this.interruptDetectorTrack=e,this.interruptDetectorTrack._mediaStreamTrack.onmute=this.onLocalAudioTrackMute,this.interruptDetectorTrack._mediaStreamTrack.onunmute=this.onLocalAudioTrackUnmute)}unbindInterruptDetectorTrack(e){YU.debug("webaudio unbindInterruptDetectorTrack ".concat(e.getTrackId())),this.interruptDetectorTrack&&this.interruptDetectorTrack===e&&(this.interruptDetectorTrack._mediaStreamTrack&&(this.interruptDetectorTrack._mediaStreamTrack.onmute=null,this.interruptDetectorTrack._mediaStreamTrack.onunmute=null),this.interruptDetectorTrack=void 0)}};function CS(){if(!fS)return void YU.error("your browser is not support web audio");YU.info("create audio context");const e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gS(Object(n),!0).forEach((function(t){ih(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gS(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},NU("WEBAUDIO_INIT_OPTIONS"));YU.debug("audio context init option:",JSON.stringify(e)),mS=new fS(e),ES.curState=mS.state,mS.onstatechange=()=>{ES.prevState=ES.curState,ES.curState=mS?mS.state:void 0;const{prevState:e,curState:t}=ES,n="running"===t,i="interrupted"===t,r="running"===e,o="suspended"===e,a="interrupted"===e,s=AE().osVersion;(UE()||NE())&&r&&i&&(YU.info("ios".concat(s,"-interruption-start")),ES.emit(BR.IOS_INTERRUPTION_START)),(UE()||NE())&&(o||a)&&n&&(YU.info("ios".concat(s,"-interruption-end")),ES.emit(BR.IOS_INTERRUPTION_END)),e!==t&&ES.emit(BR.STATE_CHANGE,t,e)},setInterval((()=>{var e;const t=null===(e=mS)||void 0===e?void 0:e.currentTime;ES.currentTime!==t?(ES.currentTimeStuckAt&&(YU.debug("AudioContext current time resume at ".concat(t)),ES.currentTimeStuckAt=void 0),ES.currentTime=t):(t!==ES.currentTimeStuckAt&&(oy.reportApiInvoke(null,{name:"WEB_AUDIO_CURRENT_TIME_STUCK",options:{currentTime:t},tag:aC.TRACER}).onSuccess(),YU.warning("AudioContext current time stuck at ".concat(t))),ES.currentTimeStuckAt=t)}),5e3),async function(e){const t=["click","contextmenu","auxclick","dblclick","mousedown","mouseup","touchend","keydown","keyup"];let n,i=!1,r=!1,o=!1;function a(t){"running"===e.state?s(!1):UE()||NE()?"suspended"===e.state&&(s(!0),t&&e.resume().then(l,l)):"closed"!==e.state&&(s(!0),t&&e.resume().then(l,l))}function s(e){if(i!==e){i=e;for(let n=0,i=t;n<i.length;n+=1){const t=i[n];e?window.addEventListener(t,d,{capture:!0,passive:!0}):window.removeEventListener(t,d,{capture:!0,passive:!0})}}}function c(){a(!0)}function l(){a(!1)}function d(){a(!0)}function u(e){if(!o)if(n.paused)if(e){let t;h(!1),o=!0;try{t=n.play(),t?t.then(A,A):(n.addEventListener("playing",A),n.addEventListener("abort",A),n.addEventListener("error",A))}catch(e){A()}}else h(!0);else h(!1)}function h(e){if(r!==e){r=e;for(let n=0,i=t;n<i.length;n++){const t=i[n];e?window.addEventListener(t,p,{capture:!0,passive:!0}):window.removeEventListener(t,p,{capture:!0,passive:!0})}}}function A(){n.removeEventListener("playing",A),n.removeEventListener("abort",A),n.removeEventListener("error",A),o=!1,u(!1)}function p(){u(!0)}if(UE()){const t=e.createMediaStreamDestination(),i=document.createElement("div");i.innerHTML="<audio x-webkit-airplay='deny'></audio>",n=i.children.item(0),n.controls=!1,n.disableRemotePlayback=!0,n.preload="auto",n.srcObject=t.stream,u(!0)}ES.on(BR.STATE_CHANGE,c),a(!1)}(mS)}function IS(){if(!mS){if(CS(),!mS)throw new WE(ZE.NOT_SUPPORTED,"can not create audio context");return mS}return mS}function QS(){return!!mS}function US(e){if(function(){if(null!==yS)return yS;const e=IS(),t=e.createBufferSource(),n=e.createGain(),i=e.createGain();t.connect(n),t.connect(i),t.disconnect(n);let r=!1;try{t.disconnect(n)}catch(e){r=!0}return t.disconnect(),yS=r,r}())return;const t=e.connect,n=e.disconnect;e.connect=(n,i,r)=>{var o;return e._inputNodes||(e._inputNodes=[]),Fi(o=e._inputNodes).call(o,n)||(n instanceof AudioNode?(e._inputNodes.push(n),t.call(e,n,i,r)):t.call(e,n,i)),e},e.disconnect=(i,r,o)=>{n.call(e),i?bC(e._inputNodes,i):e._inputNodes=[];for(const n of e._inputNodes)t.call(e,n)}}let yS=null;function bS(e,t){let n=!1;const i=1/t;if(NU("DISABLE_WEBAUDIO")){const t=window.setInterval((()=>{n?window.clearInterval(t):e(performance.now()/1e3)}),1e3*i)}else{const t=IS();let r=t.createGain();r.gain.value=0,r.connect(t.destination);const o=()=>{if(n)return void(r=null);const a=t.createOscillator();a.onended=o,a.connect(r),a.start(0),a.stop(t.currentTime+i),e(t.currentTime)};o()}return()=>{n=!0}}class vS{constructor(){ih(this,"context",void 0),ih(this,"analyserNode",void 0),ih(this,"sourceNode",void 0),this.context=IS(),this.analyserNode=this.context.createAnalyser(),this.analyserNode.fftSize=2048,this.analyserNode.smoothingTimeConstant=.4}updateSource(e){if(e!==this.sourceNode){if(this.sourceNode)try{this.sourceNode.disconnect(this.analyserNode)}catch(e){}this.sourceNode=e,null==e||e.connect(this.analyserNode)}}getVolumeLevel(){if(!this.sourceNode)return 0;if(!this.context||UE()||NE()||"running"!==this.context.state&&this.context.resume(),!this.analyserNode)return 0;const e=new Float32Array(this.analyserNode.fftSize);if(this.analyserNode.getFloatTimeDomainData)this.analyserNode.getFloatTimeDomainData(e);else{const t=new Uint8Array(this.analyserNode.fftSize);this.analyserNode.getByteTimeDomainData(t);for(let n=0;n<e.length;++n)e[n]=t[n]/128-1}const t=cI(e).call(e,((e,t)=>e+t*t),0)/e.length;return Math.max(10*Math.log10(t)+100,0)/100}getAnalyserNode(){return this.analyserNode}rebuildAnalyser(){try{var e,t;null===(e=this.sourceNode)||void 0===e||e.disconnect(this.analyserNode),this.analyserNode=this.context.createAnalyser(),this.analyserNode.fftSize=2048,this.analyserNode.smoothingTimeConstant=.4,null===(t=this.sourceNode)||void 0===t||t.connect(this.analyserNode)}catch(e){YU.warning("rebuild analyser node failed.")}}destroy(){this.updateSource(void 0)}}class RS extends nC{get processSourceNode(){return this.sourceNode}set processedNode(e){var t;if(!this.isDestroyed&&this._processedNode!==e){try{var n;null===(n=this.sourceNode)||void 0===n||n.disconnect(this.outputNode)}catch(e){}null===(t=this._processedNode)||void 0===t||t.disconnect(),this._processedNode=e,this.connect()}}get processedNode(){return this._processedNode}constructor(){super(),ih(this,"outputNode",void 0),ih(this,"outputTrack",void 0),ih(this,"isPlayed",!1),ih(this,"context",void 0),ih(this,"audioBufferNode",void 0),ih(this,"destNode",void 0),ih(this,"audioOutputLevel",0),ih(this,"volumeLevelAnalyser",void 0),ih(this,"_processedNode",void 0),ih(this,"playNode",void 0),ih(this,"isDestroyed",!1),ih(this,"onNoAudioInput",void 0),ih(this,"isNoAudioInput",!1),ih(this,"_noAudioInputCount",0),this.context=IS(),this.playNode=this.context.destination,this.outputNode=this.context.createGain(),US(this.outputNode),this.volumeLevelAnalyser=new vS}startGetAudioBuffer(e){this.audioBufferNode||(this.audioBufferNode=this.context.createScriptProcessor(e),this.outputNode.connect(this.audioBufferNode),this.audioBufferNode.connect(this.context.destination),this.audioBufferNode.onaudioprocess=e=>{this.emit($R.ON_AUDIO_BUFFER,function(e){for(let t=0;t<e.outputBuffer.numberOfChannels;t+=1){const n=e.outputBuffer.getChannelData(t);for(let e=0;e<n.length;e+=1)n[e]=0}return e.inputBuffer}(e))})}stopGetAudioBuffer(){this.audioBufferNode&&(this.audioBufferNode.onaudioprocess=null,this.outputNode.disconnect(this.audioBufferNode),this.audioBufferNode=void 0)}createOutputTrack(){if(!FR().webAudioMediaStreamDest)throw new WE(ZE.NOT_SUPPORTED,"your browser is not support audio processor");return this.destNode&&this.outputTrack||(this.destNode=this.context.createMediaStreamDestination(),this.outputNode.connect(this.destNode),this.outputTrack=this.destNode.stream.getAudioTracks()[0]),this.outputTrack}play(e){"running"!==this.context.state&&RC((()=>{ES.emit("autoplay-failed")})),this.isPlayed=!0,this.playNode=e||this.context.destination,this.outputNode.connect(this.playNode)}stop(){if(this.isPlayed)try{this.outputNode.disconnect(this.playNode)}catch(e){}this.isPlayed=!1}getAccurateVolumeLevel(){return this.volumeLevelAnalyser.getVolumeLevel()}async checkHasAudioInput(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(e>5)return this.isNoAudioInput=!0,this.onNoAudioInput&&this.onNoAudioInput(),!1;UE()||NE()?"suspended"===this.context.state&&this.context.resume():"running"!==this.context.state&&this.context.resume();const t=this.volumeLevelAnalyser.getAnalyserNode();let n;t.getFloatTimeDomainData?(n=new Float32Array(t.fftSize),t.getFloatTimeDomainData(n)):(n=new Uint8Array(t.fftSize),t.getByteTimeDomainData(n));let i=!1;for(let r=0;r<n.length;r++)0!==n[r]&&(i=!0);return i?(this.isNoAudioInput=!1,!0):(await VC(200),await this.checkHasAudioInput(e?e+1:1)&&i)}getAudioVolume(){return this.outputNode.gain.value}setVolume(e){this.outputNode.gain.setValueAtTime(e,this.context.currentTime)}destroy(){this.disconnect(),this.stop(),this.isDestroyed=!0,this.onNoAudioInput=void 0}disconnect(){var e,t;null===(e=this.processedNode)||void 0===e||e.disconnect(),null===(t=this.sourceNode)||void 0===t||t.disconnect(),this.outputNode&&this.outputNode.disconnect()}connect(){var e;this.processedNode?null===(e=this.processedNode)||void 0===e||e.connect(this.outputNode):this.sourceNode&&this.sourceNode.connect(this.outputNode),this.volumeLevelAnalyser.updateSource(this.outputNode)}}class SS extends RS{get isFreeze(){return!1}constructor(e,t,n){var i;if(super(),ih(this,"sourceNode",void 0),ih(this,"track",void 0),ih(this,"clonedTrack",void 0),ih(this,"audioElement",void 0),ih(this,"isCurrentTrackCloned",!1),ih(this,"isRemoteTrack",!1),ih(this,"originVolumeLevelAnalyser",void 0),ih(this,"rebuildWebAudio",(async()=>{if(YU.debug("ready to rebuild web audio, state:",this.context.state),this.isNoAudioInput&&await this.checkHasAudioInput(),!this.isNoAudioInput||this.isDestroyed)return document.body.removeEventListener("click",this.rebuildWebAudio,!0),void YU.debug("rebuild web audio success, current volume status",this.getAccurateVolumeLevel());this.context.resume().then((()=>YU.info("resume success"))),YU.debug("rebuild web audio because of ios 12 bugs"),this.disconnect();const e=this.track;this.track=this.track.clone(),this.isCurrentTrackCloned?e.stop():this.isCurrentTrackCloned=!0;const t=new MediaStream([this.track]);this.sourceNode=this.context.createMediaStreamSource(t),US(this.sourceNode),this.volumeLevelAnalyser.rebuildAnalyser();const n=this.outputNode.gain.value;this.outputNode=this.context.createGain(),this.outputNode.gain.setValueAtTime(n,this.context.currentTime),US(this.outputNode),this.emit($R.UPDATE_SOURCE),this.connect(),this.audioElement.srcObject=t,this.isPlayed&&this.play(this.playNode),this.checkHasAudioInput()})),"audio"!==e.kind)throw new WE(ZE.UNEXPECTED_ERROR);this.track=e;const r=new MediaStream([this.track]);if(this.isRemoteTrack=!!t,this.sourceNode=this.context.createMediaStreamSource(r),US(this.sourceNode),n){const e=n.clone();e.enabled=!0,this.clonedTrack=e,YU.debug("create an unmuted track ".concat(e.id," from the original track ").concat(n.id," to get the volume"));const t=this.context.createMediaStreamSource(new MediaStream([e]));US(t),this.originVolumeLevelAnalyser=new vS,this.originVolumeLevelAnalyser.updateSource(t)}this.connect(),this.audioElement=document.createElement("audio"),this.audioElement.srcObject=r;const o=AE();t&&o.os===sE.IOS&&Number(null===(i=o.osVersion)||void 0===i?void 0:i.split(".")[0])<15&&(ES.on(BR.STATE_CHANGE,(()=>{"suspended"===this.context.state?document.body.addEventListener("click",this.rebuildWebAudio,!0):"running"===this.context.state&&this.rebuildWebAudio()})),this.checkHasAudioInput().then((e=>{e||document.body.addEventListener("click",this.rebuildWebAudio,!0)})))}updateTrack(e){this.sourceNode.disconnect(),this.track=e,this.isCurrentTrackCloned=!1;const t=new MediaStream([e]);this.sourceNode=this.context.createMediaStreamSource(t),US(this.sourceNode),this.processedNode||this.sourceNode.connect(this.outputNode),this.emit($R.UPDATE_SOURCE),this.audioElement.srcObject=t}destroy(){var e;this.audioElement.srcObject=null,this.audioElement.remove(),ES.off("state-change",this.rebuildWebAudio),null===(e=this.originVolumeLevelAnalyser)||void 0===e||e.destroy(),this.clonedTrack=void 0,super.destroy()}createMediaStreamSourceNode(e){return this.context.createMediaStreamSource(new MediaStream([e]))}updateOriginTrack(e){const t=e.clone();t.enabled=!0,this.clonedTrack&&(this.clonedTrack.stop(),this.clonedTrack=t),YU.debug("create an unmuted track ".concat(t.id," from the original track ").concat(e.id," to get the volume"));const n=this.context.createMediaStreamSource(new MediaStream([t]));US(n),this.originVolumeLevelAnalyser&&this.originVolumeLevelAnalyser.updateSource(n)}getOriginVolumeLevel(){return this.originVolumeLevelAnalyser?this.originVolumeLevelAnalyser.getVolumeLevel():this.getAccurateVolumeLevel()}}async function FS(e,t,n){const i=(e,t)=>e?"number"!=typeof e?e.max||e.exact||e.ideal||e.min||t:e:t,r={audio:!!n&&{mandatory:{chromeMediaSource:"desktop"}},video:{mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:e,maxHeight:i(t.height,1080),maxWidth:i(t.width,1920)}}};return t.frameRate&&"number"!=typeof t.frameRate?(r.video.mandatory.maxFrameRate=t.frameRate.max,r.video.mandatory.minFrameRate=t.frameRate.min):"number"==typeof t.frameRate&&(r.video.mandatory.maxFrameRate=t.frameRate),await navigator.mediaDevices.getUserMedia(r)}async function BS(e,t){const n=await TS(e.mediaSource),{sourceId:i,audio:r}=await function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new tE(((n,i)=>{const r=document.createElement("div");r.innerText="share screen",r.setAttribute("style","text-align: center; height: 25px; line-height: 25px; border-radius: 4px 4px 0 0; background: #D4D2D4; border-bottom:  solid 1px #B9B8B9;");const o=document.createElement("div");o.setAttribute("style","width: 100%; height: 500px; padding: 15px 25px ; box-sizing: border-box;");const a=document.createElement("div");a.innerText="Agora Web Screensharing wants to share the contents of your screen with webdemo.agorabeckon.com. Choose what you'd like to share.",a.setAttribute("style","height: 12%;");const s=document.createElement("div");s.setAttribute("style","width: 100%; height: 80%; background: #FFF; border:  solid 1px #CBCBCB; display: flex; flex-wrap: wrap; justify-content: space-around; overflow-y: scroll; padding: 0 15px; box-sizing: border-box;");const c=document.createElement("div");c.setAttribute("style","display: flex; justify-content: space-between; padding: 16px 0;");const l=document.createElement("button");l.innerHTML="cancel",l.setAttribute("style","width: 85px;"),l.onclick=()=>{document.body.removeChild(h);const e=new Error("NotAllowedError");e.name="NotAllowedError",i(e)};let d=t;const u=document.createElement("div");if(t){const e=document.createElement("input");e.setAttribute("type","checkbox");const t=document.createElement("span");e.setAttribute("style","margin-right: 6px;"),t.innerText="Share audio",e.checked=d,e.onchange=()=>{d=e.checked},u.appendChild(e),u.appendChild(t)}c.appendChild(u),c.appendChild(l),o.appendChild(a),o.appendChild(s),o.appendChild(c);const h=document.createElement("div");h.setAttribute("style","position: fixed; z-index: 99999999; top: 50%; left: 50%; width: 620px; height: 525px; background: #ECECEC; border-radius: 4px; -webkit-transform: translate(-50%,-50%); transform: translate(-50%,-50%);"),h.appendChild(r),h.appendChild(o),document.body.appendChild(h),e.map((e=>{if(e.id){const t=document.createElement("div");t.setAttribute("style","width: 30%; height: 160px; padding: 20px 0; text-align: center;box-sizing: content-box;");let i=e.thumbnail;try{const{width:e}=i.getSize();e>1920&&(i=i.resize({width:1920}))}catch(e){throw e&&e.message.startsWith("Illegal invocation")&&console.error("Operate thumbnail error, please try to set contextIsolation: false. (https://github.com/electron/electron/issues/34953)"),e}t.innerHTML='<div style="height: 120px; display: table-cell; vertical-align: middle;"><img style="width: 100%; background: #333333; box-shadow: 1px 1px 1px 1px rgba(0, 0, 0, 0.2);" src='+i.toDataURL()+' /></div><span style="\theight: 40px; line-height: 40px; display: inline-block; width: 70%; word-break: keep-all; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">'+e.name.replace(/[\u00A0-\u9999<>\&]/g,(function(e){return"&#"+e.charCodeAt(0)+";"}))+"</span>",t.onclick=()=>{document.body.removeChild(h),n({sourceId:e.id,audio:d})},s.appendChild(t)}}))}))}(n,t);return await FS(i,e,r)}async function TS(e){let t=["window","screen"];"application"!==e&&"window"!==e||(t=["window"]),"screen"===e&&(t=["screen"]);const n=rC();if(!n)throw console.error("failed to fetch electron, please mount it to window"),new WE(ZE.ELECTRON_IS_NULL);let i=null;try{var r;i=(null===(r=n.desktopCapturer)||void 0===r?void 0:r.getSources({types:t}))||n.ipcRenderer.invoke("DESKTOP_CAPTURER_GET_SOURCES",{types:t})}catch(e){i=null}i&&i.then||(i=new tE(((e,i)=>{n.desktopCapturer.getSources({types:t},((t,n)=>{t?i(t):e(n)}))})));try{return await i}catch(e){throw new WE(ZE.ELECTRON_DESKTOP_CAPTURER_GET_SOURCES_ERROR,e.toString())}}function NS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}const _S=new YC("safari");let wS=!1,kS=!1;async function DS(e,t){let n=0,i=null;for(;n<2;)try{i=await VS(e,t,n>0);break}catch(e){if(e instanceof WE)throw YU.error("[".concat(t,"] ").concat(e.toString())),e;const i=ZS(e.name||e.code||e,e.message);if(i.code===ZE.MEDIA_OPTION_INVALID){YU.debug("[".concat(t,"] detect media option invalid, retry")),n+=1,await VC(500);continue}throw YU.error("[".concat(t,"] ").concat(i.toString())),i}if(!i)throw new WE(ZE.UNEXPECTED_ERROR,"can not find stream after getUserMedia");return i}async function VS(e,t,n){if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new WE(ZE.NOT_SUPPORTED,"can not find getUserMedia");n&&(e.video&&(delete e.video.width,delete e.video.height),e.screen&&(delete e.screen.width,delete e.screen.height));const i=FR(),r=new MediaStream;if(e.audioSource&&r.addTrack(e.audioSource),e.videoSource&&r.addTrack(e.videoSource),!e.audio&&!e.video&&!e.screen)return YU.debug("Using Video Source/ Audio Source"),r;if(e.screen)if(rC())e.screen.sourceId?WS(r,await FS(e.screen.sourceId,e.screen,e.screenAudio)):WS(r,await BS(e.screen,e.screenAudio));else if(CE()&&e.screen.extensionId&&e.screen.mandatory){if(!i.getStreamFromExtension)throw new WE(ZE.NOT_SUPPORTED,"This browser does not support screen sharing");YU.debug("[".concat(t,'] Screen access on chrome stable, looking for extension"'));const n=await(a=e.screen.extensionId,s=t,new tE(((e,t)=>{try{chrome.runtime.sendMessage(a,{getStream:!0},(n=>{if(!n||!n.streamId)return YU.error("[".concat(s,"] No response from Chrome Plugin. Plugin not installed properly"),n),void t(new WE(ZE.CHROME_PLUGIN_NO_RESPONSE,"No response from Chrome Plugin. Plugin not installed properly"));e(n.streamId)}))}catch(e){YU.error("[".concat(s,"] AgoraRTC screensharing plugin is not accessible(").concat(a,")"),e.toString()),t(new WE(ZE.CHROME_PLUGIN_NOT_INSTALL))}})));e.screen.mandatory.chromeMediaSourceId=n,WS(r,await navigator.mediaDevices.getUserMedia({video:{mandatory:e.screen.mandatory}}))}else if(i.getDisplayMedia){var o;e.screen.mediaSource&&PR(e.screen.mediaSource);const n={width:e.screen.width,height:e.screen.height,frameRate:e.screen.frameRate,displaySurface:null!==(o=e.screen.displaySurface)&&void 0!==o?o:"screen"===e.screen.mediaSource?"monitor":e.screen.mediaSource},{selfBrowserSurface:i,surfaceSwitching:a,systemAudio:s}=e.screen,c={selfBrowserSurface:i,surfaceSwitching:a,systemAudio:s};!i&&delete c.selfBrowserSurface,!a&&delete c.surfaceSwitching,!s&&delete c.systemAudio,YU.debug("[".concat(t,"] getDisplayMedia:"),JSON.stringify({video:n,audio:!!e.screenAudio,controls:c}));const l=await navigator.mediaDevices.getDisplayMedia(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?NS(Object(n),!0).forEach((function(t){ih(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NS(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({video:n,audio:!!e.screenAudio},c));WS(r,l)}else{if(!QE())throw YU.error("[".concat(t,"] This browser does not support screenSharing")),new WE(ZE.NOT_SUPPORTED,"This browser does not support screen sharing");{e.screen.mediaSource&&PR(e.screen.mediaSource);const n={video:{mediaSource:e.screen.mediaSource,width:e.screen.width,height:e.screen.height,frameRate:e.screen.frameRate}};YU.debug("[".concat(t,"] getUserMedia: ").concat(JSON.stringify(n))),WS(r,await navigator.mediaDevices.getUserMedia(n))}}var a,s;if(!e.video&&!e.audio)return r;let c={video:e.video,audio:e.audio},l=NU("MEDIA_DEVICE_CONSTRAINTS");if(l)try{"string"==typeof l&&(l=JSON.parse(l)),c=LC(c,l)}catch(e){}YU.debug("[".concat(t,"] GetUserMedia"),JSON.stringify(c)),AE();let d,u=null;(IE()||UE()||fE())&&(u=await _S.lock());try{d=await navigator.mediaDevices.getUserMedia(c)}catch(e){throw u&&u(),e}return c.audio&&(wS=!0),c.video&&(kS=!0),WS(r,d),u&&u(),r}function ZS(e,t){switch(e){case"Starting video failed":case"OverconstrainedError":case"TrackStartError":return new WE(ZE.MEDIA_OPTION_INVALID,"".concat(e,": ").concat(t));case"NotFoundError":case"DevicesNotFoundError":return new WE(ZE.DEVICE_NOT_FOUND,"".concat(e,": ").concat(t));case"NotSupportedError":return new WE(ZE.NOT_SUPPORTED,"".concat(e,": ").concat(t));case"NotReadableError":return new WE(ZE.NOT_READABLE,"".concat(e,": ").concat(t));case"InvalidStateError":case"NotAllowedError":case"PERMISSION_DENIED":case"PermissionDeniedError":return new WE(ZE.PERMISSION_DENIED,"".concat(e,": ").concat(t));case"ConstraintNotSatisfiedError":return new WE(ZE.CONSTRAINT_NOT_SATISFIED,"".concat(e,": ").concat(t));default:return YU.error("getUserMedia unexpected error",e),new WE(ZE.UNEXPECTED_ERROR,"".concat(e,": ").concat(t))}}function WS(e,t){const n=e.getVideoTracks()[0],i=e.getAudioTracks()[0],r=t.getVideoTracks()[0],o=t.getAudioTracks()[0];o&&(i&&e.removeTrack(i),e.addTrack(o)),r&&(n&&e.removeTrack(n),e.addTrack(r))}const OS=new class extends nC{get state(){return this._state}set state(e){e!==this._state&&(this.emit(lS.STATE_CHANGE,e),this._state=e)}constructor(){super(),ih(this,"_state",cS.IDLE),ih(this,"isAccessMicrophonePermission",!1),ih(this,"isAccessCameraPermission",!1),ih(this,"lastAccessMicrophonePermission",!1),ih(this,"lastAccessCameraPermission",!1),ih(this,"checkdeviceMatched",!1),ih(this,"deviceInfoMap",new Map),this.init().then((()=>{navigator.mediaDevices.addEventListener&&navigator.mediaDevices.addEventListener("devicechange",this.updateDevicesInfo.bind(this)),window.setInterval((()=>{(NU("ENUMERATE_DEVICES_INTERVAL")||(DE()||pE()===sE.HARMONY_OS)&&kE())&&this.updateDevicesInfo()}),NU("ENUMERATE_DEVICES_INTERVAL_TIME"))})).catch((e=>YU.error(e.toString())))}async enumerateDevices(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!navigator.mediaDevices||!navigator.mediaDevices.enumerateDevices)return new WE(ZE.NOT_SUPPORTED,"enumerateDevices() not supported.").throw();const i=await navigator.mediaDevices.enumerateDevices(),r=this.checkMediaDeviceInfoIsOk(i);let o=!this.isAccessMicrophonePermission&&e,a=!this.isAccessCameraPermission&&t;r.audio&&(o=!1),r.video&&(a=!1);let s=null,c=null,l=null;if(!n&&(o||a)){if(_S.isLocked&&(YU.debug("[device manager] wait GUM lock"),(await _S.lock())(),YU.debug("[device manager] GUM unlock")),wS&&(o=!1,this.isAccessMicrophonePermission=!0),kS&&(a=!1,this.isAccessCameraPermission=!0),YU.debug("[device manager] check media device permissions",e,t,o,a),o&&a){try{l=await navigator.mediaDevices.getUserMedia({audio:!0,video:!0})}catch(e){const t=ZS(e.name||e.code||e,e.message);if(t.code===ZE.PERMISSION_DENIED)throw t;YU.warning("getUserMedia failed in getDevices",t)}this.isAccessCameraPermission=!0,this.isAccessMicrophonePermission=!0}else if(o){try{s=await navigator.mediaDevices.getUserMedia({audio:e})}catch(e){const t=ZS(e.name||e.code||e,e.message);if(t.code===ZE.PERMISSION_DENIED)throw t;YU.warning("getUserMedia failed in getDevices",t)}this.isAccessMicrophonePermission=!0}else if(a){try{c=await navigator.mediaDevices.getUserMedia({video:t})}catch(e){const t=ZS(e.name||e.code||e,e.message);if(t.code===ZE.PERMISSION_DENIED)throw t;YU.warning("getUserMedia failed in getDevices",t)}this.isAccessCameraPermission=!0}YU.debug("[device manager] mic permission",e,"cam permission",t)}try{const e=await navigator.mediaDevices.enumerateDevices();return s&&s.getTracks().forEach((e=>e.stop())),c&&c.getTracks().forEach((e=>e.stop())),l&&l.getTracks().forEach((e=>e.stop())),s=null,c=null,l=null,e}catch(e){return s&&s.getTracks().forEach((e=>e.stop())),c&&c.getTracks().forEach((e=>e.stop())),l&&l.getTracks().forEach((e=>e.stop())),s=null,c=null,l=null,new WE(ZE.ENUMERATE_DEVICES_FAILED,e.toString()).throw()}}async getRecordingDevices(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(await this.enumerateDevices(!0,!1,e)).filter((e=>"audioinput"===e.kind))}async getCamerasDevices(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(await this.enumerateDevices(!1,!0,e)).filter((e=>"videoinput"===e.kind))}async getSpeakers(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(await this.enumerateDevices(!0,!1,e)).filter((e=>"audiooutput"===e.kind))}searchDeviceIdByName(e){let t=null;return this.deviceInfoMap.forEach((n=>{n.device.label===e&&(t=n.device.deviceId)})),t}async getDeviceById(e){const t=(await this.enumerateDevices(!0,!0,!0)).find((t=>t.deviceId===e));if(!t)throw new WE(ZE.DEVICE_NOT_FOUND,"deviceId: ".concat(e));return t}async init(){this.state=cS.INITING;try{await this.updateDevicesInfo(),this.state=cS.INITEND}catch(e){throw YU.warning("Device Detection functionality cannot start properly.",e.toString()),this.state=cS.IDLE,("boolean"==typeof isSecureContext?isSecureContext:"https:"===location.protocol||"file:"===location.protocol||"localhost"===location.hostname||"127.0.0.1"===location.hostname||"::1"===location.hostname)||new WE(ZE.WEB_SECURITY_RESTRICT,"Your context is limited by web security, please try using https protocol or localhost.").throw(),e}}async updateDevicesInfo(){const e=await this.enumerateDevices(!0,!0,!0),t=Date.now(),n=[];if(e[0]&&e[0].label&&!1===this.checkdeviceMatched){this.checkdeviceMatched=!0;const t=e.find((e=>"audioinput"===e.kind&&"default"===e.deviceId)),n=e.find((e=>"audiooutput"===e.kind&&"default"===e.deviceId));t&&n?n.groupId===t.groupId?YU.debug("[device-check] default input ".concat(t.label," and output ").concat(n.label," is the same group")):YU.warning("[device-check] default input ".concat(t.label," and output ").concat(n.label," is not the same group")):YU.debug("[device-check] default input or output not found")}const i=this.checkMediaDeviceInfoIsOk(e);if(e.forEach((e=>{if(!e.deviceId)return;const i=this.deviceInfoMap.get("".concat(e.kind,"_").concat(e.deviceId));if("ACTIVE"!==(i?i.state:"INACTIVE")){const i={initAt:t,updateAt:t,device:e,state:"ACTIVE"};this.deviceInfoMap.set("".concat(e.kind,"_").concat(e.deviceId),i),n.push(i)}i&&(i.updateAt=t)})),this.deviceInfoMap.forEach(((e,i)=>{"ACTIVE"===e.state&&e.updateAt!==t&&(e.state="INACTIVE",n.push(e))})),this.state!==cS.INITEND)return i.audio&&(this.lastAccessMicrophonePermission=!0,this.isAccessMicrophonePermission=!0),void(i.video&&(this.lastAccessCameraPermission=!0,this.isAccessCameraPermission=!0));n.forEach((e=>{switch(e.device.kind){case"audioinput":this.lastAccessMicrophonePermission&&this.isAccessMicrophonePermission&&this.emit(lS.RECORDING_DEVICE_CHANGED,e);break;case"videoinput":this.lastAccessCameraPermission&&this.isAccessCameraPermission&&this.emit(lS.CAMERA_DEVICE_CHANGED,e);break;case"audiooutput":this.lastAccessMicrophonePermission&&this.isAccessMicrophonePermission&&this.emit(lS.PLAYOUT_DEVICE_CHANGED,e)}})),i.audio&&(this.lastAccessMicrophonePermission=!0,this.isAccessMicrophonePermission=!0),i.video&&(this.lastAccessCameraPermission=!0,this.isAccessCameraPermission=!0)}checkMediaDeviceInfoIsOk(e){const t=e.filter((e=>"audioinput"===e.kind)),n=e.filter((e=>"videoinput"===e.kind)),i={audio:!1,video:!1};for(const r of t)if(r.label&&r.deviceId){i.audio=!0;break}for(const r of n)if(r.label&&r.deviceId){i.video=!0;break}return i}};let JS=!1;const xS=new class extends nC{constructor(){super(...arguments),ih(this,"onAutoplayFailed",void 0),ih(this,"onAudioAutoplayFailed",void 0)}};function MS(){if(AE(),!JS){const e=t=>{t.preventDefault(),JS=!1,VE()?document.body.removeEventListener("click",e,!0):(document.body.removeEventListener("touchstart",e,!0),document.body.removeEventListener("mousedown",e,!0))};JS=!0,VE()?document.body.addEventListener("click",e,!0):(document.body.addEventListener("touchstart",e,!0),document.body.addEventListener("mousedown",e,!0)),YU.info("detect media autoplay failed, document: https://docs.agora.io/cn/Voice/autoplay_policy_web_ng?platform=Web"),xS.onAutoplayFailed?xS.onAutoplayFailed():xS.onAudioAutoplayFailed?YU.warning("AgoraRTC.onAudioAutoplayFailed has been deprecated in favor of AgoraRTC.onAutoplayFailed.\n\n  Please refer to the Agora document to migrate the newer API, https://docs.agora.io/en/Voice/autoplay_policy_web_ng?platform=Web ."):YU.warning("We have detected a media autoplay failed event, and found out that you haven't implemented AgoraRTC.onAutoplayFailed callback yet.\n\n  It will cause audio/video element not playing automatically on some browsers without user interaction, possibly hurting user experiences.\n\n  Please refer to the Agora document to properly handle autoplay failed event, https://docs.agora.io/en/Voice/autoplay_policy_web_ng?platform=Web ."),xS.emit("autoplay-failed")}}function LS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function PS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?LS(Object(n),!0).forEach((function(t){ih(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LS(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function GS(e,t,n,i){if(!e)return;const r=oy.getBaseInfoBySessionId(e);if(!r)return;const o=r.info,a=Date.now(),s=PS(PS({},o),{},{vid:void 0===o.vid?0:Number(o.vid),lts:a,elapse:a-r.startTime,cbRegistered:xS.onAutoplayFailed||xS.onAudioAutoplayFailed?1:-1,errorMsg:n,mediaType:t,trackId:i,extend:void 0});oy.send({type:qU.AUTOPLAY_FAILED,data:s},!0)}const YS=["play","playing","loadeddata","canplay","pause","stalled","suspend","waiting","abort","emptied","ended","error"],jS=new class{constructor(){ih(this,"onAutoplayFailed",void 0),ih(this,"elementMap",new Map),ih(this,"elementStateMap",new Map),ih(this,"elementsNeedToResume",[]),ih(this,"sinkIdMap",new Map),ih(this,"autoResumeAfterInterruption",(e=>{Array.from(this.elementMap.entries()).forEach((t=>{let[n,i]=t;const r=this.elementStateMap.get(n),o=i.srcObject.getAudioTracks()[0],a=o&&o.readyState;if(YU.debug("resume after interrupted, ele: ".concat(r," audio: ").concat(a," ").concat(e)),"live"===a){if(e)return i.pause(),void i.play();if("running"===ES.curState)return FE()?(i.pause(),void i.play()):void(r&&"paused"===r&&i.play())}}))})),ih(this,"autoResumeAfterInterruptionOnIOS15_16",(()=>{Array.from(this.elementMap.entries()).forEach((e=>{let[t,n]=e;const i=n.srcObject.getAudioTracks()[0];i&&"live"===i.readyState&&(YU.debug("auto resume after interruption inside autoResumeAfterInterruptionOnIOS15"),n.pause(),n.play())}))})),this.autoResumeAudioElement(),ES.on(BR.IOS_INTERRUPTION_END,this.autoResumeAfterInterruption),ES.on(BR.IOS_15_16_INTERRUPTION_END,this.autoResumeAfterInterruptionOnIOS15_16),ES.on(BR.STATE_CHANGE,(()=>{UE()&&"suspended"===ES.prevState&&"running"===ES.curState&&this.autoResumeAfterInterruption()}))}async setSinkID(e,t){const n=this.elementMap.get(e);if(this.sinkIdMap.set(e,t),n)try{await n.setSinkId(t)}catch(e){throw new WE(ZE.PERMISSION_DENIED,"can not set sink id: "+e.toString())}}play(e,t,n,i){if(this.elementMap.has(t))return;const r=document.createElement("audio");r.autoplay=!0,r.srcObject=new MediaStream([e]),this.bindAudioElementEvents(t,r),this.elementMap.set(t,r),this.elementStateMap.set(t,dS.INIT),this.setVolume(t,n);const o=this.sinkIdMap.get(t);if(o)try{r.setSinkId(o).catch((e=>{YU.warning("[".concat(t,"] set sink id failed"),e.toString())}))}catch(e){YU.warning("[".concat(t,"] set sink id failed"),e.toString())}const a=r.play();a&&a.then&&a.catch((e=>{i&&GS(i,"audio",e.message,t),YU.warning("audio element play warning",e.toString()),this.elementMap.has(t)&&"NotAllowedError"===e.name&&(YU.warning("detected audio element autoplay failed"),this.elementsNeedToResume.push(r),RC((()=>{this.onAutoplayFailed&&this.onAutoplayFailed(),MS()})))}))}updateTrack(e,t){const n=this.elementMap.get(e);n&&(n.srcObject=new MediaStream([t]))}isPlaying(e){return this.elementMap.has(e)&&"playing"===this.elementStateMap.get(e)}setVolume(e,t){const n=this.elementMap.get(e);n&&(t=Math.max(0,Math.min(100,t)),n.volume=t/100)}stop(e){const t=this.elementMap.get(e);if(this.sinkIdMap.delete(e),!t)return;const n=this.elementsNeedToResume.indexOf(t);this.elementsNeedToResume.splice(n,1),t.srcObject=null,t.remove(),this.elementMap.delete(e),this.elementStateMap.delete(e)}bindAudioElementEvents(e,t){YS.forEach((n=>{t.addEventListener(n,(n=>{const i=this.elementStateMap.get(e),r="pause"===n.type?"paused":n.type;if(YU.debug("[".concat(e,"] audio-element-status change ").concat(i," => ").concat(r)),"error"===n.type){const n=null==t?void 0:t.error;n&&YU.error("[".concat(e,"] media error, code: ").concat(n.code,", message: ").concat(n.message))}this.elementStateMap.set(e,r)}))}))}getPlayerState(e){return this.elementStateMap.get(e)||"uninit"}autoResumeAudioElement(){const e=()=>{this.elementsNeedToResume.forEach((e=>{e.play().then((e=>{YU.debug("Auto resume audio element success")})).catch((e=>{YU.warning("Auto resume audio element failed!",e)}))})),this.elementsNeedToResume=[]};new tE((e=>{document.body?e():window.addEventListener("load",(()=>e()))})).then((()=>{VE()?document.body.addEventListener("click",e,!0):(document.body.addEventListener("touchstart",e,!0),document.body.addEventListener("mousedown",e,!0))}))}};function XS(){return function(e,t,n){const i=n.value;return"function"==typeof i&&(n.value=function(){this._isClosed&&new WE(ZE.INVALID_OPERATION,"[".concat(this.getTrackId(),"] cannot operate a closed track")).print("warning",YU);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=i.apply(this,t);return r instanceof tE?new tE(((e,t)=>{r.then(e).catch(t)})):r}),n}}function KS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function HS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?KS(Object(n),!0).forEach((function(t){ih(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KS(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}class zS extends nC{constructor(e){super(),ih(this,"name","VideoProcessorDestination"),ih(this,"ID","0"),ih(this,"_source",void 0),ih(this,"videoContext",void 0),ih(this,"inputTrack",void 0),this.videoContext=e}get kind(){return"video"}get enabled(){return!0}pipe(){throw new WE(ZE.NOT_SUPPORTED,"VideoProcessor cannot pipe to any other Processor")}unpipe(){throw new WE(ZE.NOT_SUPPORTED,"VideoProcessor cannot unpipe to any other Processor")}enable(){}disable(){}updateInput(e){if(e.context!==this.videoContext)throw new Error("ProcessorContext passed to VideoTrack.processorDestination doesn't match it's belonging VideoTrack's context.\nProbably you are making pipeline like this:\nvideoTrack1.pipe(processor).pipe(videoTrack2.processorDestination).");e.track&&e.track!==this.inputTrack&&(this.videoContext.chained=!0,this.inputTrack=e.track,this.emit(aS.ON_TRACK,e.track))}reset(){this.inputTrack=void 0,this.videoContext.chained=!1,this.emit(aS.ON_TRACK,void 0)}}class qS extends nC{set chained(e){this._chained=e}get chained(){return this._chained}constructor(e,t){super(),ih(this,"constraintsMap",new Map),ih(this,"statsRegistry",[]),ih(this,"usageRegistry",[]),ih(this,"trackId",void 0),ih(this,"direction",void 0),ih(this,"_chained",!1),this.trackId=e,this.direction=t}async getConstraints(){return await mC(this,sS.REQUEST_CONSTRAINTS)}async requestApplyConstraints(e,t){var n;return YU.info("processor ".concat(t.name," requestApplyConstraints for ").concat(this.trackId)),e&&this.constraintsMap.set(t,e),EC(this,sS.REQUEST_UPDATE_CONSTRAINTS,Array.from(Dy(n=this.constraintsMap).call(n)))}async requestRevertConstraints(e){var t;if(this.constraintsMap.has(e))return YU.info("processor ".concat(e.name," requestRevertConstraints for ").concat(this.trackId)),this.constraintsMap.delete(e),EC(this,sS.REQUEST_UPDATE_CONSTRAINTS,Array.from(Dy(t=this.constraintsMap).call(t)))}registerStats(e,t,n){this.statsRegistry.find((n=>n.processorID===e.ID&&n.processorName===e.name&&n.type===t))||this.statsRegistry.push({processorName:e.name,processorID:e.ID,type:t,cb:n})}unregisterStats(e,t){const n=this.statsRegistry.findIndex((n=>n.processorID===e.ID&&n.processorName===e.name&&n.type===t));-1!==n&&this.statsRegistry.splice(n,1)}gatherStats(){const e=[];for(const{processorID:t,processorName:n,type:i,cb:r}of this.statsRegistry)try{const o=r();e.push({processorID:t,processorName:n,type:i,stats:o})}catch(e){YU.error(new WE(ZE.UNEXPECTED_ERROR,e.message))}return e}registerUsage(e,t){this.usageRegistry.find((t=>t.processorID===e.ID&&t.processorName===e.name))||this.usageRegistry.push({processorID:e.ID,processorName:e.name,cb:t})}unregisterUsage(e){const t=this.usageRegistry.findIndex((t=>t.processorID===e.ID&&t.processorName===e.name));-1!==t&&this.usageRegistry.splice(t,1)}async gatherUsage(){const e=[];if(!this.chained)return[];for(const{cb:t}of this.usageRegistry)try{let n=t();n instanceof tE&&(n=await n),e.push(HS(HS({},n),{},{direction:this.direction}))}catch(e){YU.error("gather extension usage error",e)}return e}getDirection(){return this.direction}}class $S extends nC{constructor(e){super(),ih(this,"name","AudioProcessorDestination"),ih(this,"ID","0"),ih(this,"inputTrack",void 0),ih(this,"inputNode",void 0),ih(this,"audioProcessorContext",void 0),ih(this,"_source",void 0),this.audioProcessorContext=e}get kind(){return"audio"}get enabled(){return!0}pipe(){throw new WE(ZE.NOT_SUPPORTED,"AudioProcessorDestination cannot pipe to any other Processor")}unpipe(){throw new WE(ZE.NOT_SUPPORTED,"AudioProcessor cannot unpipe to any other Processor")}enable(){}disable(){}reset(){this.inputTrack=void 0,this.inputNode=void 0,this.audioProcessorContext.chained=!1,this.emit(aS.ON_TRACK,void 0),this.emit(aS.ON_NODE,void 0)}updateInput(e){if(e.context!==this.audioProcessorContext)throw new Error("ProcessorContext passed to AudioTrack.processorDestination doesn't match it's belonging AudioTrack's context.\n        Probably you are making pipeline like this: audioTrack1.pipe(processor).pipe(audioTrack2.processorDestination).");e.track&&this.inputTrack!==e.track&&(this.audioProcessorContext.chained=!0,this.inputTrack=e.track,this.emit(aS.ON_TRACK,this.inputTrack)),e.node&&this.inputNode!==e.node&&(this.audioProcessorContext.chained=!0,this.inputNode=e.node,this.emit(aS.ON_NODE,this.inputNode))}}class eF extends nC{set chained(e){this._chained=e}get chained(){return this._chained}constructor(e,t,n){super(),ih(this,"constraintsMap",new Map),ih(this,"statsRegistry",[]),ih(this,"audioContext",void 0),ih(this,"trackId",void 0),ih(this,"direction",void 0),ih(this,"usageRegistry",[]),ih(this,"_chained",!1),this.audioContext=e,this.trackId=t,this.direction=n}async getConstraints(){return mC(this,sS.REQUEST_CONSTRAINTS)}getAudioContext(){return this.audioContext}async requestApplyConstraints(e,t){var n;return YU.info("processor ".concat(t.name," requestApplyConstraints for ").concat(this.trackId)),e&&this.constraintsMap.set(t,e),EC(this,sS.REQUEST_UPDATE_CONSTRAINTS,Array.from(Dy(n=this.constraintsMap).call(n)))}async requestRevertConstraints(e){var t;if(this.constraintsMap.has(e))return this.constraintsMap.delete(e),EC(this,sS.REQUEST_UPDATE_CONSTRAINTS,Array.from(Dy(t=this.constraintsMap).call(t)))}registerStats(e,t,n){this.statsRegistry.find((n=>n.processorID===e.ID&&n.processorName===e.name&&n.type===t))||this.statsRegistry.push({processorName:e.name,processorID:e.ID,type:t,cb:n})}unregisterStats(e,t){const n=this.statsRegistry.findIndex((n=>n.processorID===e.ID&&n.processorName===e.name&&n.type===t));-1!==n&&this.statsRegistry.splice(n,1)}gatherStats(){const e=[];for(const{processorID:t,processorName:n,type:i,cb:r}of this.statsRegistry)try{const o=r();e.push({processorID:t,processorName:n,type:i,stats:o})}catch(e){YU.error(new WE(ZE.UNEXPECTED_ERROR,e.message))}return e}registerUsage(e,t){this.usageRegistry.find((t=>t.processorID===e.ID&&t.processorName===e.name))||this.usageRegistry.push({processorID:e.ID,processorName:e.name,cb:t})}unregisterUsage(e){const t=this.usageRegistry.findIndex((t=>t.processorID===e.ID&&t.processorName===e.name));-1!==t&&this.usageRegistry.splice(t,1)}async gatherUsage(){const e=[];if(!this.chained)return[];for(const{cb:t}of this.usageRegistry)try{let n=t();n instanceof tE&&(n=await n),e.push(HS(HS({},n),{},{direction:this.direction}))}catch(e){YU.error("gather extension usage error",e)}return e}getDirection(){return this.direction}}class tF extends nC{get isPlayed(){return!0}get isFreeze(){return!1}constructor(){super(),ih(this,"context",void 0),ih(this,"processSourceNode",void 0),ih(this,"outputTrack",void 0),ih(this,"processedNode",void 0),ih(this,"clonedTrack",void 0),ih(this,"outputNode",void 0),this.outputNode=new nF}setVolume(){}createOutputTrack(){throw new WE(ZE.NOT_SUPPORTED,"can not create output MediaStreamTrack when WebAudio disabled")}getOriginVolumeLevel(){return 0}getAccurateVolumeLevel(){return 0}stopGetAudioBuffer(){}startGetAudioBuffer(){}play(){}stop(){}destroy(){}updateTrack(){}updateOriginTrack(){}createMediaStreamSourceNode(){}}class nF{disconnect(){}connect(){}}let iF=null;class rF{constructor(){ih(this,"state","open"),ih(this,"trigger",void 0),ih(this,"tasks",[]),YU.debug("[macro-task-queue] is created."),this.trigger=window.setTimeout((()=>{this.state="closed",YU.debug("[macro-task-queue] will be closed, all remaining tasks will execute. [".concat(this.tasks.map((e=>e.key)),"]")),this.trigger=void 0,this.tasks.forEach((e=>{let{func:t}=e;return t()})),this.tasks.length=0,YU.debug("[macro-task-queue] is closed.")}))}enqueue(e,t){"closed"!==this.state&&(this.tasks.push({key:e,func:t}),YU.debug("[macro-task-queue] is queued, current queue ".concat(this.tasks.length,". ").concat("string"==typeof e?e:"")))}runTask(e){if("closed"===this.state)return;const t=this.tasks.findIndex((t=>t.key===e));if(-1!==t){const n=this.tasks.splice(t,1);YU.debug("[macro-task-queue] is unqueued, current queue ".concat(this.tasks.length,". ").concat("string"==typeof e?e:"")),n[0].func()}}release(){this.trigger&&(this.state="closed",clearTimeout(this.trigger),this.trigger=void 0,this.tasks.length=0,YU.debug("[macro-task-queue] is closed."))}}function oF(e){return function(t,n,i){var r;const o=null!==(r=i.value)&&void 0!==r?r:i.get,a=function(){iF&&"open"===iF.state&&iF.runTask(e);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return null==o?void 0:o.apply(this,...n)};return i.value?i.value=a:i.get=a,i}}function aF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function sF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?aF(Object(n),!0).forEach((function(t){ih(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aF(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}class cF extends pS{get _source(){return this._trackSource}set _source(e){this._trackSource=e}get processorContext(){return this._processorContext}set processorContext(e){this._processorContext=e}get processorDestination(){return this._processorDestination}set processorDestination(e){this._processorDestination=e}get isPlaying(){return this._useAudioElement?jS.isPlaying(this.getTrackId()):this._source.isPlayed}get __className__(){return"LocalAudioTrack"}constructor(e,t,n,i,r){super(e,n),ih(this,"trackMediaType","audio"),ih(this,"_encoderConfig",void 0),ih(this,"_trackSource",void 0),ih(this,"_enabled",!0),ih(this,"_volume",100),ih(this,"_useAudioElement",!1),ih(this,"_bypassWebAudio",!1),ih(this,"processor",void 0),ih(this,"_processorContext",void 0),ih(this,"_processorDestination",void 0),ih(this,"_getOriginVolumeLevel",void 0),this._encoderConfig=t,this._getOriginVolumeLevel=!!i;const o=()=>{this.processorContext=new eF(this._source.context,this.getTrackId(),"local"),this.processorDestination=new $S(this.processorContext),this.bindProcessorDestinationEvents(),this._source.on($R.UPDATE_SOURCE,(()=>{this.processor&&this.processor.updateInput({node:this._source.processSourceNode,context:this.processorContext})}))},a=r&&IE()&&!QS();NU("DISABLE_WEBAUDIO")?(this._source=new tF,this._useAudioElement=!0,this._bypassWebAudio=!0):a?this._source=new tF:(this._source=new SS(e,!1,this._getOriginVolumeLevel?e:void 0),NU("LOCAL_AUDIO_TRACK_USES_WEB_AUDIO")||(this._useAudioElement=!0)),o(),!NU("DISABLE_WEBAUDIO")&&a&&(iF||(iF=new rF),iF).enqueue("INIT_WEBAUDIO",(()=>{this._source=new SS(e,!1,this._getOriginVolumeLevel?e:void 0),NU("LOCAL_AUDIO_TRACK_USES_WEB_AUDIO")||(this._useAudioElement=!0),o(),this.emit(eS.UPDATE_TRACK_SOURCE)}))}setVolume(e){xE(e,"volume",0,1e3),this._volume=e,this._source.setVolume(e/100),this._useAudioElement&&jS.setVolume(this.getTrackId(),e);try{if(this._bypassWebAudio)return void YU.debug("[".concat(this.getTrackId(),"] setVolume returned because no pass through WebAudio."));const e=this._source.createOutputTrack();this._mediaStreamTrack!==e&&(this._mediaStreamTrack=e,EC(this,GR.NEED_REPLACE_TRACK,this).then((()=>{YU.debug("[".concat(this.getTrackId(),"] replace web audio track success"))})).catch((e=>{YU.warning("[".concat(this.getTrackId(),"] replace web audio track failed"),e)})))}catch(e){}}getVolumeLevel(){return this._muted&&this.enabled&&this._getOriginVolumeLevel?this._source.getOriginVolumeLevel():this._source.getAccurateVolumeLevel()}async setPlaybackDevice(e){if(!this._useAudioElement||!CE()&&NU("RESTRICTION_SET_PLAYBACK_DEVICE"))throw new WE(ZE.NOT_SUPPORTED,"your browser does not support setting the audio output device");await jS.setSinkID(this.getTrackId(),e)}async setEnabled(e,t,n){return this._setEnabled(e,t,n)}async _setEnabled(e,t,n){if(!n){if(e===this._enabled)return;this.stateCheck("enabled",e)}if(YU.info("[".concat(this.getTrackId(),"] start setEnabled"),e),e){this._originMediaStreamTrack.enabled=!0;try{n||(this._enabled=!0),await EC(this,GR.NEED_ENABLE_TRACK,this),YU.info("[".concat(this.getTrackId(),"] setEnabled to ").concat(e," success"))}catch(e){throw n||(this._enabled=!1),YU.error("[".concat(this.getTrackId(),"] setEnabled to true error"),e.toString()),e}}else{this._originMediaStreamTrack.enabled=!1,n||(this._enabled=!1);try{await EC(this,GR.NEED_DISABLE_TRACK,this)}catch(e){throw n||(this._enabled=!0),YU.error("[".concat(this.getTrackId(),"] setEnabled to false error"),e.toString()),e}}}async setMuted(e){e!==this._muted&&(this.stateCheck("muted",e),this._muted=e,this._originMediaStreamTrack.enabled=!e,YU.debug("[".concat(this.getTrackId(),"] start set muted: ").concat(e)),e?await EC(this,GR.NEED_MUTE_TRACK,this):await EC(this,GR.NEED_UNMUTE_TRACK,this))}getStats(){return TC((()=>{YU.warning("[deprecated] LocalAudioTrack.getStats will be removed in the future, use AgoraRTCClient.getLocalAudioStats instead")}),"localAudioTrackGetStatsWarning"),CC(this,GR.GET_STATS)||sF({},tS)}setAudioFrameCallback(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4096;if(!e)return this._source.removeAllListeners($R.ON_AUDIO_BUFFER),void this._source.stopGetAudioBuffer();this._source.startGetAudioBuffer(t),this._source.removeAllListeners($R.ON_AUDIO_BUFFER),this._source.on($R.ON_AUDIO_BUFFER,(t=>e(t)))}play(){YU.debug("[".concat(this.getTrackId(),"] start audio playback")),this._useAudioElement?(YU.debug("[".concat(this.getTrackId(),"] start audio playback in element")),jS.play(this._mediaStreamTrack,this.getTrackId(),this._volume)):this._source.play()}stop(){YU.debug("[".concat(this.getTrackId(),"] stop audio playback")),this._useAudioElement?jS.stop(this.getTrackId()):this._source.stop()}close(){super.close(),this.unbindProcessorDestinationEvents(),this.unbindProcessorContextEvents(),this.unpipe(),this.processorDestination._source&&this.processorDestination._source.unpipe(),this._source.destroy()}_updatePlayerSource(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];YU.debug("[".concat(this.getTrackId(),"] update player source track")),e&&this._source.updateTrack(this._mediaStreamTrack),this._useAudioElement&&jS.updateTrack(this.getTrackId(),this._mediaStreamTrack)}async _updateOriginMediaStreamTrack(e,t){this._originMediaStreamTrack!==e&&(this._originMediaStreamTrack&&(this._originMediaStreamTrack.removeEventListener("ended",this._handleTrackEnded),t&&this._originMediaStreamTrack.stop()),e.addEventListener("ended",this._handleTrackEnded),this._originMediaStreamTrack=e,this._muted&&(this._originMediaStreamTrack.enabled=!1),this.processor&&this.processor.updateInput({track:e,context:this.processorContext}),this._mediaStreamTrack!==this._source.outputTrack?(this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource(),await EC(this,GR.NEED_REPLACE_TRACK,this)):this._source.updateTrack(this._originMediaStreamTrack),this._getOriginVolumeLevel&&this._source.updateOriginTrack(e))}renewMediaStreamTrack(e){return tE.resolve(void 0)}pipe(e){if(this._bypassWebAudio)throw new WE(ZE.INVALID_OPERATION,"Can not process AudioTrack when bypassWebAudio set to true.");if(this.processor===e)return e;if(e._source)throw new WE(ZE.INVALID_OPERATION,"Processor ".concat(e.name," already piped, please call unpipe beforehand."));return this.unpipe(),this.processor=e,this.processor._source=this,e.updateInput({track:this._originMediaStreamTrack,node:this._source.processSourceNode,context:this.processorContext}),e}unpipe(){var e;if(!this.processor)return;const t=this.processor;null===(e=this._source.processSourceNode)||void 0===e||e.disconnect(),this.processor._source=!1,this.processor=void 0,t.reset()}bindProcessorDestinationEvents(){this.processorDestination.on(aS.ON_TRACK,(async e=>{e?e!==this._mediaStreamTrack&&(this._mediaStreamTrack=e,this._updatePlayerSource(!1),this._source.processedNode=this._source.createMediaStreamSourceNode(e),await EC(this,GR.NEED_REPLACE_TRACK,this)):this._mediaStreamTrack!==this._originMediaStreamTrack&&(this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource(),await EC(this,GR.NEED_REPLACE_TRACK,this))})),this.processorDestination.on(aS.ON_NODE,(e=>{this._source.processedNode=e}))}unbindProcessorDestinationEvents(){this.processorDestination.removeAllListeners(aS.ON_TRACK),this.processorDestination.removeAllListeners(aS.ON_NODE)}unbindProcessorContextEvents(){this.processorContext.removeAllListeners(sS.REQUEST_UPDATE_CONSTRAINTS),this.processorContext.removeAllListeners(sS.REQUEST_CONSTRAINTS)}}Vy([oF("INIT_WEBAUDIO"),Zy("design:type",Object),Zy("design:paramtypes",[Object])],cF.prototype,"_source",null),Vy([oF("INIT_WEBAUDIO"),Zy("design:type",eF),Zy("design:paramtypes",[eF])],cF.prototype,"processorContext",null),Vy([oF("INIT_WEBAUDIO"),Zy("design:type",$S),Zy("design:paramtypes",[$S])],cF.prototype,"processorDestination",null),Vy([ry({argsMap:(e,t)=>[e.getTrackId(),t],throttleTime:300}),Zy("design:type",Function),Zy("design:paramtypes",[Number]),Zy("design:returntype",void 0)],cF.prototype,"setVolume",null),Vy([ry({argsMap:(e,t)=>[e.getTrackId(),t]}),XS(),Zy("design:type",Function),Zy("design:paramtypes",[String]),Zy("design:returntype",tE)],cF.prototype,"setPlaybackDevice",null),Vy([jC("LocalAudioTrack","_enabledMutex"),ry({argsMap:(e,t)=>[e.getTrackId(),t]}),XS(),Zy("design:type",Function),Zy("design:paramtypes",[Boolean,Object,Boolean]),Zy("design:returntype",tE)],cF.prototype,"setEnabled",null),Vy([jC("LocalAudioTrack","_enabledMutex"),ry({argsMap:(e,t)=>[e.getTrackId(),t]}),XS(),Zy("design:type",Function),Zy("design:paramtypes",[Boolean]),Zy("design:returntype",tE)],cF.prototype,"setMuted",null),Vy([XS(),Zy("design:type",Function),Zy("design:paramtypes",[]),Zy("design:returntype",Object)],cF.prototype,"getStats",null),Vy([XS(),Zy("design:type",Function),Zy("design:paramtypes",[Object,Number]),Zy("design:returntype",void 0)],cF.prototype,"setAudioFrameCallback",null),Vy([ry({argsMap:e=>[e.getTrackId()]}),XS(),Zy("design:type",Function),Zy("design:paramtypes",[]),Zy("design:returntype",void 0)],cF.prototype,"play",null),Vy([ry({argsMap:e=>[e.getTrackId()]}),XS(),Zy("design:type",Function),Zy("design:paramtypes",[]),Zy("design:returntype",void 0)],cF.prototype,"stop",null),Vy([ry({argsMap:e=>[e.getTrackId()]}),Zy("design:type",Function),Zy("design:paramtypes",[]),Zy("design:returntype",void 0)],cF.prototype,"close",null),Vy([ry({argsMap:(e,t)=>[e.getTrackId(),t.name]}),Zy("design:type",Function),Zy("design:paramtypes",[Object]),Zy("design:returntype",Object)],cF.prototype,"pipe",null),Vy([ry({argsMap:e=>[e.getTrackId()]}),Zy("design:type",Function),Zy("design:paramtypes",[]),Zy("design:returntype",void 0)],cF.prototype,"unpipe",null);class lF extends cF{get __className__(){return"MicrophoneAudioTrack"}constructor(e,t,n,i){super(e,t.encoderConfig?MR(t.encoderConfig):{},i,NU("GET_VOLUME_OF_MUTED_AUDIO_TRACK"),!0),ih(this,"_config",void 0),ih(this,"_deviceName","default"),ih(this,"_constraints",void 0),ih(this,"_originalConstraints",void 0),ih(this,"_enabled",!0),this._config=t,this._constraints=n,this._originalConstraints=n,this._deviceName=e.label,"boolean"==typeof t.bypassWebAudio&&(this._bypassWebAudio=t.bypassWebAudio),(FE()||BE())&&ES.bindInterruptDetectorTrack(this),this.on(eS.UPDATE_TRACK_SOURCE,(()=>{this.bindProcessorContextEvents()})),QS()&&this.bindProcessorContextEvents()}async setDevice(e){if(YU.info("[".concat(this.getTrackId(),"] start set device to ").concat(e)),this._enabled)try{const t=await OS.getDeviceById(e),n={};n.audio=sF({},this._constraints),n.audio.deviceId={exact:e},this._originMediaStreamTrack.stop();let i=null;try{i=await DS(n,this.getTrackId())}catch(e){throw YU.error("[".concat(this.getTrackId(),"] setDevice failed"),e.toString()),i=await DS({audio:this._constraints},this.getTrackId()),await this._updateOriginMediaStreamTrack(i.getAudioTracks()[0],!1),e}await this._updateOriginMediaStreamTrack(i.getAudioTracks()[0],!1),this._deviceName=t.label,this._config.microphoneId=e,this._constraints.deviceId={exact:e}}catch(e){throw YU.error("[".concat(this.getTrackId(),"] setDevice error"),e.toString()),e}else try{const t=await OS.getDeviceById(e);this._deviceName=t.label,this._config.microphoneId=e,this._constraints.deviceId={exact:e}}catch(e){throw YU.error("[".concat(this.getTrackId(),"] setDevice error"),e.toString()),e}YU.info("[".concat(this.getTrackId(),"] set device to ").concat(e," success"))}async setEnabled(e,t,n){if(t)return YU.debug("[".concat(this.getTrackId(),"] setEnabled false (do not close microphone)")),await super._setEnabled(e);if(!n){if(e===this._enabled)return;this.stateCheck("enabled",e)}if(YU.info("[".concat(this.getTrackId(),"] start setEnabled"),e),!e){var i;this._originMediaStreamTrack.onended=null,this._originMediaStreamTrack.stop(),null===(i=this._source.clonedTrack)||void 0===i||i.stop(),n||(this._enabled=!1);try{await EC(this,GR.NEED_DISABLE_TRACK,this)}catch(e){throw YU.error("[".concat(this.getTrackId(),"] setEnabled false failed"),e.toString()),e}return}const r=sF({},this._constraints),o=OS.searchDeviceIdByName(this._deviceName);o&&!r.deviceId&&(r.deviceId=o);try{n||(this._enabled=!0);const e=await DS({audio:this._constraints},this.getTrackId());await this._updateOriginMediaStreamTrack(e.getAudioTracks()[0],!1),await EC(this,GR.NEED_ENABLE_TRACK,this)}catch(e){throw n||(this._enabled=!1),YU.error("[".concat(this.getTrackId(),"] setEnabled true failed"),e.toString()),e}YU.info("[".concat(this.getTrackId(),"] setEnabled success"))}close(){super.close(),(FE()||BE())&&ES.unbindInterruptDetectorTrack(this)}onTrackEnded(){if((UE()||NE())&&this._enabled&&!this._isClosed&&ES.duringInterruption){const e=async()=>{ES.off(BR.IOS_INTERRUPTION_END,e),this._enabled&&!this._isClosed&&(YU.debug("[".concat(this.getTrackId(),"] try capture microphone media device for interrupted iOS device.")),await this.setEnabled(!1),await this.setEnabled(!0))};ES.on(BR.IOS_INTERRUPTION_END,e)}else YU.debug("[".concat(this.getTrackId(),"] track ended")),this.safeEmit(zR.TRACK_ENDED)}async renewMediaStreamTrack(e){const t=e||this._constraints,n=OS.searchDeviceIdByName(this._deviceName);if(n&&!t.deviceId&&(t.deviceId=n),this._constraints=t,this._enabled){this._originMediaStreamTrack.stop();const e=await DS({audio:this._constraints},this.getTrackId());await this._updateOriginMediaStreamTrack(e.getAudioTracks()[0],!0)}}bindProcessorContextEvents(){this.processorContext.on(sS.REQUEST_UPDATE_CONSTRAINTS,(async(e,t,n)=>{try{const n=Object.assign({},this._originalConstraints,...e);await this.renewMediaStreamTrack(n),t()}catch(e){n(e)}})),this.processorContext.on(sS.REQUEST_CONSTRAINTS,(async e=>{e(this._originMediaStreamTrack.getSettings())}))}}Vy([ry({argsMap:(e,t)=>[e.getTrackId(),t]}),XS(),Zy("design:type",Function),Zy("design:paramtypes",[String]),Zy("design:returntype",tE)],lF.prototype,"setDevice",null),Vy([jC("MicrophoneAudioTrack","_enabledMutex"),ry({argsMap:(e,t,n)=>[e.getTrackId(),t,n]}),XS(),Zy("design:type",Function),Zy("design:paramtypes",[Boolean,Boolean,Boolean]),Zy("design:returntype",tE)],lF.prototype,"setEnabled",null),Vy([ry({argsMap:e=>[e.getTrackId()]}),Zy("design:type",Function),Zy("design:paramtypes",[]),Zy("design:returntype",void 0)],lF.prototype,"close",null);class dF extends cF{get __className__(){return"BufferSourceAudioTrack"}constructor(e,t,n,i){super(t.createOutputTrack(),n,i),ih(this,"source",void 0),ih(this,"_bufferSource",void 0),this.source=e,this._bufferSource=t,this._bufferSource.on($R.AUDIO_SOURCE_STATE_CHANGE,(e=>{this.safeEmit(zR.SOURCE_STATE_CHANGE,e)}));try{this._mediaStreamTrack=this._source.createOutputTrack()}catch(e){}}get currentState(){return this._bufferSource.currentState}get duration(){return this._bufferSource.duration}get playbackSpeed(){return this._bufferSource.playbackSpeed}getCurrentTime(){return this._bufferSource.currentTime}startProcessAudioBuffer(e){e&&this._bufferSource.updateOptions(e),this._bufferSource.startProcessAudioBuffer()}pauseProcessAudioBuffer(){this._bufferSource.pauseProcessAudioBuffer()}seekAudioBuffer(e){this._bufferSource.seekAudioBuffer(e)}resumeProcessAudioBuffer(){this._bufferSource.resumeProcessAudioBuffer()}stopProcessAudioBuffer(){this._bufferSource.stopProcessAudioBuffer()}close(){this.source=null,this._bufferSource.destroy(),super.close()}setAudioBufferPlaybackSpeed(e){xE(e,"speed",0),this._bufferSource.setAudioBufferPlaybackSpeed(e)}}Vy([ry({argsMap:(e,t)=>[e.getTrackId(),t,e.duration]}),XS(),Zy("design:type",Function),Zy("design:paramtypes",[Object]),Zy("design:returntype",void 0)],dF.prototype,"startProcessAudioBuffer",null),Vy([ry({argsMap:e=>[e.getTrackId()]}),XS(),Zy("design:type",Function),Zy("design:paramtypes",[]),Zy("design:returntype",void 0)],dF.prototype,"pauseProcessAudioBuffer",null),Vy([ry({argsMap:e=>[e.getTrackId()]}),XS(),Zy("design:type",Function),Zy("design:paramtypes",[Number]),Zy("design:returntype",void 0)],dF.prototype,"seekAudioBuffer",null),Vy([ry({argsMap:e=>[e.getTrackId()]}),XS(),Zy("design:type",Function),Zy("design:paramtypes",[]),Zy("design:returntype",void 0)],dF.prototype,"resumeProcessAudioBuffer",null),Vy([ry({argsMap:e=>[e.getTrackId()]}),XS(),Zy("design:type",Function),Zy("design:paramtypes",[]),Zy("design:returntype",void 0)],dF.prototype,"stopProcessAudioBuffer",null),Vy([ry({argsMap:e=>[e.getTrackId()]}),Zy("design:type",Function),Zy("design:paramtypes",[]),Zy("design:returntype",void 0)],dF.prototype,"close",null),Vy([ry({argsMap:e=>[e.getTrackId()]}),XS(),Zy("design:type",Function),Zy("design:paramtypes",[Number]),Zy("design:returntype",void 0)],dF.prototype,"setAudioBufferPlaybackSpeed",null);class uF extends cF{get __className__(){return"MixingAudioTrack"}get isActive(){for(const e of this.trackList)if(e._enabled&&!e._isClosed&&!e.muted)return!0;return!1}constructor(){const e=IS().createMediaStreamDestination();super(e.stream.getAudioTracks()[0],void 0,ZC(8,"track-mix-")),ih(this,"trackList",void 0),ih(this,"destNode",void 0);try{this._mediaStreamTrack=this._source.createOutputTrack()}catch(e){}this.destNode=e,this.trackList=[]}hasAudioTrack(e){return-1!==this.trackList.indexOf(e)}addAudioTrack(e){-1===this.trackList.indexOf(e)?(YU.debug("add ".concat(e.getTrackId()," to mixing track")),e._source.outputNode.connect(this.destNode),this.trackList.push(e),this.updateEncoderConfig()):YU.debug("track ".concat(e.getTrackId()," is already added"))}removeAudioTrack(e){if(-1!==this.trackList.indexOf(e)){YU.debug("remove ".concat(e.getTrackId()," from mixing track"));try{e._source.outputNode.disconnect(this.destNode)}catch(e){}bC(this.trackList,e),this.updateEncoderConfig()}}updateEncoderConfig(){const e={};this.trackList.forEach((t=>{t._encoderConfig&&((t._encoderConfig.bitrate||0)>(e.bitrate||0)&&(e.bitrate=t._encoderConfig.bitrate),(t._encoderConfig.sampleRate||0)>(e.sampleRate||0)&&(e.sampleRate=t._encoderConfig.sampleRate),(t._encoderConfig.sampleSize||0)>(e.sampleSize||0)&&(e.sampleSize=t._encoderConfig.sampleSize),t._encoderConfig.stereo&&(e.stereo=!0))})),this._encoderConfig=e}_updateRtpTransceiver(e){this._rtpTransceiver!==e&&(this._rtpTransceiver=e,this.trackList.forEach((t=>{t instanceof uF?t.emit(HR.TRANSCEIVER_UPDATED,e):t._updateRtpTransceiver(e)})))}}function hF(e){const t={};e.facingMode&&(t.facingMode=e.facingMode),e.cameraId&&(t.deviceId={exact:e.cameraId});const n=WR(e.encoderConfig);return null!=n.width&&(t.width=n.width),null!=n.height&&(t.height=n.height),!wE()&&n.frameRate&&(t.frameRate=n.frameRate),AE().name===cE.EDGE&&"object"==typeof t.frameRate&&(t.frameRate.max=60),QE()&&(t.frameRate={ideal:30,max:30}),t}function AF(e){const t={};if(wE()||(void 0!==e.AGC&&(t.autoGainControl=e.AGC),void 0!==e.AEC&&(t.echoCancellation=e.AEC),void 0!==e.ANS&&(t.noiseSuppression=e.ANS,CE()&&e.ANS&&(t.googHighpassFilter=e.ANS))),e.encoderConfig){const n=MR(e.encoderConfig);t.channelCount=n.stereo?2:1,t.sampleRate=n.sampleRate,t.sampleSize=n.sampleSize}return e.microphoneId&&(t.deviceId={exact:e.microphoneId}),DE()&&(t.sampleRate=void 0),t}class pF extends RS{set currentState(e){e!==this._currentState&&(this._currentState=e,this.safeEmit($R.AUDIO_SOURCE_STATE_CHANGE,this._currentState))}get currentState(){return this._currentState}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),ih(this,"audioBuffer",void 0),ih(this,"sourceNode",void 0),ih(this,"startPlayTime",0),ih(this,"startPlayOffset",0),ih(this,"pausePlayTime",0),ih(this,"options",void 0),ih(this,"currentLoopCount",0),ih(this,"currentPlaybackSpeed",100),ih(this,"_currentState","stopped"),this.audioBuffer=e,this.options=t,this.startPlayOffset=this.options.startPlayTime||0}createWebAudioDiagram(){return this.context.createGain()}get duration(){return this.audioBuffer?this.audioBuffer.duration:0}get playbackSpeed(){return this.currentPlaybackSpeed}get currentTime(){return this.audioBuffer?"stopped"===this.currentState?0:"paused"===this.currentState?this.pausePlayTime:((this.context.currentTime-this.startPlayTime)*(this.playbackSpeed/100)+this.startPlayOffset)%this.audioBuffer.duration:0}updateOptions(e){"stopped"===this.currentState?(this.options=e,this.startPlayOffset=this.options.startPlayTime||0):YU.warning("can not set audio source options")}startProcessAudioBuffer(){this.sourceNode&&this.stopProcessAudioBuffer(),this.sourceNode=this.createSourceNode(),this.startSourceNode(),this.currentState="playing"}pauseProcessAudioBuffer(){this.sourceNode&&"playing"===this.currentState&&(this.pausePlayTime=this.currentTime,this.sourceNode.onended=null,this.sourceNode.stop(),this.sourceNode.buffer=null,this.sourceNode=this.createSourceNode(),this.currentState="paused")}seekAudioBuffer(e){this.sourceNode&&(this.sourceNode.onended=null,"playing"===this.currentState&&this.sourceNode.stop(),this.sourceNode=this.createSourceNode(),"playing"===this.currentState?(this.startPlayOffset=e,this.startSourceNode()):"paused"===this.currentState&&(this.pausePlayTime=e))}resumeProcessAudioBuffer(){"paused"===this.currentState&&this.sourceNode&&(this.startPlayOffset=this.pausePlayTime,this.pausePlayTime=0,this.startSourceNode(),this.currentState="playing")}stopProcessAudioBuffer(){if(this.sourceNode){this.sourceNode.onended=null;try{this.sourceNode.stop()}catch(e){}this.reset()}}destroy(){this.audioBuffer=null,super.destroy()}setAudioBufferPlaybackSpeed(e){this.sourceNode&&("playing"===this.currentState&&(this.startPlayOffset=this.currentTime,this.startPlayTime=this.context.currentTime),this.sourceNode.playbackRate.value=e/100),this.currentPlaybackSpeed=e}startSourceNode(){this.sourceNode&&this.sourceNode.buffer&&(this.sourceNode.start(0,this.startPlayOffset),this.startPlayTime=this.context.currentTime,this.sourceNode.onended=this.handleSourceNodeEnded.bind(this))}createSourceNode(){const e=this.context.createBufferSource();return e.buffer=this.audioBuffer,e.loop=!!this.options.loop,e.connect(this.outputNode),e.playbackRate.value=this.currentPlaybackSpeed/100,e}handleSourceNodeEnded(){if(this.currentLoopCount+=1,this.options.cycle&&this.options.cycle>this.currentLoopCount)return this.startPlayOffset=0,this.sourceNode=void 0,void this.startProcessAudioBuffer();this.reset()}reset(){this.startPlayOffset=this.options.startPlayTime||0,this.currentState="stopped",this.sourceNode&&(this.sourceNode.disconnect(),this.sourceNode=void 0),this.currentLoopCount=0}}const gF=new Map;async function fF(e,t){let n=null;if("string"==typeof e){const t=gF.get(e);if(t)return YU.debug("use cached audio resource: ",e),t;try{n=(await HC((()=>gU.get(e,{responseType:"arraybuffer"})),void 0,void 0,{maxRetryCount:3})).data}catch(e){throw new WE(ZE.FETCH_AUDIO_FILE_FAILED,e.toString())}}else{const t=new tE(((t,n)=>{const i=new FileReader;i.onload=e=>{e.target?t(e.target.result):n(new WE(ZE.READ_LOCAL_AUDIO_FILE_ERROR))},i.onerror=()=>{n(new WE(ZE.READ_LOCAL_AUDIO_FILE_ERROR))},i.readAsArrayBuffer(e)}));n=await t}const i=await function(e){const t=IS();return new tE(((n,i)=>{t.decodeAudioData(e,(e=>{n(e)}),(e=>{i(new WE(ZE.DECODE_AUDIO_FILE_FAILED,e.toString()))}))}))}(n);return"string"==typeof e&&t&&gF.set(e,i),i}const mF=e=>{const t=document.createElement("canvas");return t.width=2,t.height=2,new tE(((n,i)=>{t.toBlob((async e=>{if(t.remove(),e){const i=await EF(e);n({buffer:i,width:t.width,height:t.height})}else i(new WE(ZE.CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED))}),e,1)}))},EF=async e=>{const t=await e.arrayBuffer();return new Uint8Array(t)},CF=new class extends nC{get visibility(){return document.visibilityState}get lastHiddenTime(){return this._lastHiddenTime}get lastVisibleTime(){return this._lastVisibleTime}constructor(){super(),ih(this,"_lastHiddenTime",0),ih(this,"_lastVisibleTime",0),document.addEventListener("visibilitychange",(()=>{"hidden"===document.visibilityState?this._lastHiddenTime=performance.now():this._lastVisibleTime=performance.now(),YU.debug("document visibility went ".concat(document.visibilityState)),this.emit("VISIBILITY_CHANGE",document.visibilityState)}))}};function IF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function QF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?IF(Object(n),!0).forEach((function(t){ih(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IF(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}class UF{get videoElementStatus(){return this._videoElementStatus}set videoElementStatus(e){e!==this._videoElementStatus&&(YU.debug("[".concat(this.trackId,"] video-element-status change ").concat(this._videoElementStatus," => ").concat(e)),this._videoElementStatus=e)}constructor(e){ih(this,"trackId",void 0),ih(this,"config",void 0),ih(this,"onFirstVideoFrameDecoded",void 0),ih(this,"freezeTimeCounterList",[]),ih(this,"renderFreezeAccTime",0),ih(this,"isKeepLastFrame",!1),ih(this,"timeUpdatedCount",0),ih(this,"freezeTime",0),ih(this,"playbackTime",0),ih(this,"lastTimeUpdatedTime",0),ih(this,"autoplayFailed",!1),ih(this,"videoTrack",void 0),ih(this,"videoElement",void 0),ih(this,"cacheVideoElement",void 0),ih(this,"videoElementCheckInterval",void 0),ih(this,"_videoElementStatus",dS.NONE),ih(this,"isGettingVideoDimensions",!1),ih(this,"startGetVideoDimensions",(()=>{const e=()=>{if(this.isGettingVideoDimensions=!0,this.videoElement.videoWidth*this.videoElement.videoHeight>4)return YU.debug("[".concat(this.trackId,"] current video dimensions:"),this.videoElement.videoWidth,this.videoElement.videoHeight),void(this.isGettingVideoDimensions=!1);setTimeout(e,500)};!this.isGettingVideoDimensions&&e()})),ih(this,"autoResumeAfterInterruption",(()=>{this.videoTrack&&"live"===this.videoTrack.readyState&&"running"===ES.curState&&(YU.debug("[track-".concat(this.trackId,"] video element paused, auto resume for ").concat(gE())),TE()?(this.videoElement.srcObject=null,this.videoElement.srcObject=new MediaStream([this.videoTrack]),this.videoElement.play()):(this.videoElement.pause(),this.videoElement.play()))})),ih(this,"handleVideoEvents",(e=>{switch(e.type){case"play":case"playing":this.startGetVideoDimensions(),this.videoElementStatus=dS.PLAYING;break;case"loadeddata":if(this.onFirstVideoFrameDecoded&&this.onFirstVideoFrameDecoded(),this.cacheVideoElement){try{this.cacheVideoElement.srcObject=null,this.cacheVideoElement.remove()}catch(e){}this.cacheVideoElement=void 0}break;case"canplay":this.videoElementStatus=dS.CANPLAY;break;case"stalled":this.videoElementStatus=dS.STALLED;break;case"suspend":this.videoElementStatus=dS.SUSPEND;break;case"pause":this.videoElementStatus=dS.PAUSED,UE()||NE()||IE()&&this.autoplayFailed||!this.videoTrack||"live"!==this.videoTrack.readyState||(YU.debug("[track-".concat(this.trackId,"] video element paused, auto resume")),this.videoElement.play());break;case"waiting":this.videoElementStatus=dS.WAITING;break;case"abort":this.videoElementStatus=dS.ABORT;break;case"ended":this.videoElementStatus=dS.ENDED;break;case"emptied":this.videoElementStatus=dS.EMPTIED;break;case"error":{this.videoElementStatus=dS.ERROR;const e=this.videoElement.error;e&&YU.error("[".concat(this.trackId,"] media error, code: ").concat(e.code,", message: ").concat(e.message));break}case"timeupdate":{const e=performance.now();if(this.timeUpdatedCount+=1,this.timeUpdatedCount<10)return void(this.lastTimeUpdatedTime=e);const t=e-this.lastTimeUpdatedTime,n=this.lastTimeUpdatedTime;if(this.lastTimeUpdatedTime=e,CF.lastVisibleTime<CF.lastHiddenTime||n<CF.lastHiddenTime||n<CF.lastVisibleTime)return;for(t>NU("VIDEO_FREEZE_DURATION")&&(this.freezeTime+=t),this.playbackTime+=t;this.playbackTime>=6e3;){this.playbackTime-=6e3;const e=Math.min(6e3,this.freezeTime);this.freezeTimeCounterList.push(e),this.freezeTime=Math.max(0,this.freezeTime-6e3)}break}}})),ih(this,"autoResumeAfterInterruptionOnIOS15_16",(()=>{this.videoTrack&&"live"===this.videoTrack.readyState&&(YU.debug("[track-".concat(this.trackId,"] video element paused, auto resume for ").concat(gE())),TE()?(this.videoElement.srcObject=null,this.videoElement.srcObject=new MediaStream([this.videoTrack]),this.videoElement.play()):(this.videoElement.pause(),this.videoElement.play()))})),this.trackId=e.trackId,this.config=e,e.element instanceof HTMLVideoElement?this.videoElement=e.element:this.videoElement=document.createElement("video"),ES.on(BR.IOS_INTERRUPTION_END,this.autoResumeAfterInterruption),ES.on(BR.IOS_15_16_INTERRUPTION_END,this.autoResumeAfterInterruptionOnIOS15_16)}getVideoElement(){return this.videoElement}getContainerElement(){var e;return null!==(e=this.videoElement.parentElement)&&void 0!==e?e:void 0}updateConfig(e){this.config=e,this.trackId=e.trackId,e.element!==this.videoElement&&(this.destroy(),this.videoElement=e.element),this.videoTrack&&this.initVideoElement()}updateVideoTrack(e){this.videoTrack!==e&&(this.videoTrack=e,this.initVideoElement())}play(e){const t=this.videoElement.play();t&&t.catch&&t.catch((t=>{e&&GS(e,"video",t.message,this.trackId),"NotAllowedError"===t.name?(YU.warning("detected video element autoplay failed",t),this.autoplayFailed=!0,this.handleAutoPlayFailed()):YU.warning("[".concat(this.trackId,"] play warning: "),t)}));const n=AE();if(("Safari"===n.name&&15===Number(n.version)||FE())&&t&&t.then){const e=()=>{this.config.mirror&&(this.videoElement.style.transform="rotateY(180deg)")};t.then(e).catch(e)}}getCurrentFrame(){const e=document.createElement("canvas");e.width=this.videoElement.videoWidth,e.height=this.videoElement.videoHeight;const t=e.getContext("2d");if(!t)return YU.error("create canvas context failed!"),new ImageData(2,2);t.drawImage(this.videoElement,0,0,e.width,e.height);const n=t.getImageData(0,0,e.width,e.height);return e.remove(),n}async getCurrentFrameToUint8Array(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const n=document.createElement("canvas");n.width=this.videoElement.videoWidth,n.height=this.videoElement.videoHeight;const i=n.getContext("2d");return i?(i.drawImage(this.videoElement,0,0,n.width,n.height),new tE(((i,r)=>{n.toBlob((async e=>{if(n.remove(),e){const t=await EF(e);i({buffer:t,width:n.width,height:n.height})}else r(new WE(ZE.CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED))}),e,t<0?.1:t>1?1:t)}))):await mF(e)}destroy(){ES.off(BR.IOS_INTERRUPTION_END,this.autoResumeAfterInterruption),ES.off(BR.IOS_15_16_INTERRUPTION_END,this.autoResumeAfterInterruptionOnIOS15_16),this.videoElement.srcObject=null,this.resetVideoElement(),this.freezeTimeCounterList=[]}initVideoElement(){if(this.videoElementStatus=dS.INIT,!this.videoElementCheckInterval&&(yF.forEach((e=>{this.videoElement.addEventListener(e,this.handleVideoEvents)})),this.videoElementCheckInterval=window.setInterval((()=>{(function(e){return e!==document.body&&document.body.contains(e)})(this.videoElement)||(this.videoElementStatus=dS.DESTROYED)}),1e3),NU("ENABLE_VIDEO_FRAME_CALLBACK"))){var e,t;let n;const i=(e,t)=>{if(this.videoElementStatus===dS.PLAYING){if(n){const e=t.presentationTime-n.presentationTime;e>NU("VIDEO_FREEZE_DURATION")&&CF.lastVisibleTime>=CF.lastHiddenTime&&n.timestamp>CF.lastVisibleTime&&n.timestamp>CF.lastHiddenTime&&(this.renderFreezeAccTime+=e)}n=QF(QF({},t),{},{timestamp:e})}var r,o;NU("ENABLE_VIDEO_FRAME_CALLBACK")&&(null===(r=(o=this.videoElement).requestVideoFrameCallback)||void 0===r||r.call(o,i))};null===(e=(t=this.videoElement).requestVideoFrameCallback)||void 0===e||e.call(t,i)}this.videoElement.controls=!1,this.videoElement.setAttribute("playsinline",""),DE()&&(this.videoElement.poster="noposter");const n=AE();"Safari"===n.name&&15===Number(n.version)||FE()||!this.config.mirror||(this.videoElement.style.transform="rotateY(180deg)"),this.config.fit?this.videoElement.style.objectFit=this.config.fit:this.videoElement.style.objectFit="cover",this.videoElement.setAttribute("muted",""),this.videoElement.muted=!0,this.videoElement.srcObject&&this.videoElement.srcObject instanceof MediaStream?this.videoElement.srcObject.getVideoTracks()[0]!==this.videoTrack&&(this.videoElement.srcObject=this.videoTrack?new MediaStream([this.videoTrack]):null,QE()&&this.videoElement.load()):(this.videoElement.srcObject=this.videoTrack?new MediaStream([this.videoTrack]):null,QE()&&this.videoElement.load());const i=this.videoElement.play();void 0!==i&&i.catch((e=>{YU.debug("[".concat(this.trackId,"] playback interrupted"),e.toString())}))}resetVideoElement(){yF.forEach((e=>{this.videoElement&&this.videoElement.removeEventListener(e,this.handleVideoEvents)})),this.videoElementCheckInterval&&(window.clearInterval(this.videoElementCheckInterval),this.videoElementCheckInterval=void 0),this.videoElementStatus=dS.NONE}handleAutoPlayFailed(){const e=t=>{t.preventDefault(),this.videoElement.play().then((()=>{YU.debug("[".concat(this.trackId,"] Video element for trackId:").concat(this.trackId," autoplay resumed."))})).catch((e=>{YU.error(e)})),this.autoplayFailed=!1,VE()?document.body.removeEventListener("click",e,!0):(document.body.removeEventListener("touchstart",e,!0),document.body.removeEventListener("mousedown",e,!0))};VE()?document.body.addEventListener("click",e,!0):(document.body.addEventListener("touchstart",e,!0),document.body.addEventListener("mousedown",e,!0)),MS()}}const yF=["play","playing","loadeddata","canplay","pause","stalled","suspend","waiting","abort","emptied","ended","timeupdate","error"];class bF extends UF{constructor(e){super(e),ih(this,"container",void 0),ih(this,"slot",void 0),this.slot=e.element,this.updateConfig(e)}updateConfig(e){this.config=e,this.trackId=e.trackId;const t=e.element;t!==this.slot&&(this.destroy(),this.slot=t),this.createElements()}updateVideoTrack(e){this.videoTrack!==e&&(this.videoTrack=e,this.createElements())}play(e){var t;null!==(t=this.container)&&void 0!==t&&t.contains(this.videoElement)&&super.play(e)}getCurrentFrame(){var e;return null!==(e=this.container)&&void 0!==e&&e.contains(this.videoElement)?super.getCurrentFrame():new ImageData(2,2)}async getCurrentFrameToUint8Array(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return null!==(t=this.container)&&void 0!==t&&t.contains(this.videoElement)?await super.getCurrentFrameToUint8Array(e,n):await mF(e)}destroy(){if(super.destroy(),this.videoElement.remove(),this.videoElement=document.createElement("video"),this.container){try{this.container.remove(),this.slot.removeChild(this.container)}catch(e){}this.container=void 0}}createElements(){this.container||(this.container=document.createElement("div")),this.container.id="agora-video-player-".concat(this.trackId),this.container.style.width="100%",this.container.style.height="100%",this.container.style.position="relative",this.container.style.overflow="hidden",this.videoTrack?(this.container.style.backgroundColor="black",NU("KEEP_LAST_FRAME")&&this.isKeepLastFrame&&this.videoElement.paused&&this.resetVideoElement(),this.mountedVideoElement()):this.unmountedVideoElement(),this.slot.appendChild(this.container)}mountedVideoElement(){var e;!this.container||null!==(e=this.container)&&void 0!==e&&e.contains(this.videoElement)||this.container.appendChild(this.videoElement),super.initVideoElement(),this.videoElement.id="video_".concat(this.trackId),this.videoElement.className="agora_video_player",this.videoElement.style.width="100%",this.videoElement.style.height="100%",this.videoElement.style.position="absolute",this.videoElement.style.left="0",this.videoElement.style.top="0"}unmountedVideoElement(){var e;if(null!==(e=this.container)&&void 0!==e&&e.contains(this.videoElement)){super.resetVideoElement();try{this.container&&this.container.removeChild(this.videoElement)}catch(e){}this.videoElement=document.createElement("video")}}resetVideoElement(){var e;null!==(e=this.container)&&void 0!==e&&e.contains(this.videoElement)&&(super.resetVideoElement(),this.cacheVideoElement=this.videoElement,this.videoElement=document.createElement("video"))}getContainerElement(){return this.container}}function vF(e){return new tE(((t,n)=>{let i=!1;const r=document.createElement("video");r.setAttribute("autoplay",""),r.setAttribute("muted",""),r.muted=!0,r.autoplay=!0,r.setAttribute("playsinline",""),r.setAttribute("style","position: fixed; top: 0; left: 0; width: 1px; height: 1px"),document.body.appendChild(r);const o=UE()?"canplay":"playing";r.addEventListener(o,(()=>{const e=r.videoWidth,n=r.videoHeight;!e&&QE()||(i=!0,r.srcObject=null,r.remove(),t([e,n]))})),r.srcObject=new MediaStream([e]),r.play().catch(OC),setTimeout((()=>{i||(r.srcObject=null,r.remove(),t([r.videoWidth,r.videoHeight]))}),4e3)}))}const RF=async(e,t,n)=>{const i=function(e){const t=[];for(let n=0;n<e.length;n+=2)t.push(parseInt(e.slice(n,n+2),16));return Uint8Array.from(t)}(function(e){const t="0123456789abcdef";function n(e){let n,i="";for(n=0;n<=3;n++)i+=t.charAt(e>>8*n+4&15)+t.charAt(e>>8*n&15);return i}function i(e,t){const n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function r(e,t,n,r,o,a){return i(function(e,t){return e<<t|e>>>32-t}(i(i(t,e),i(r,a)),o),n)}function o(e,t,n,i,o,a,s){return r(t&n|~t&i,e,t,o,a,s)}function a(e,t,n,i,o,a,s){return r(t&i|n&~i,e,t,o,a,s)}function s(e,t,n,i,o,a,s){return r(t^n^i,e,t,o,a,s)}function c(e,t,n,i,o,a,s){return r(n^(t|~i),e,t,o,a,s)}const l=function(e){let t;const n=1+(e.length+8>>6),i=new Array(16*n);for(t=0;t<16*n;t++)i[t]=0;for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<t%4*8;return i[t>>2]|=128<<t%4*8,i[16*n-2]=8*e.length,i}(e);let d,u,h,A,p,g=1732584193,f=-271733879,m=-1732584194,E=271733878;for(d=0;d<l.length;d+=16)u=g,h=f,A=m,p=E,g=o(g,f,m,E,l[d+0],7,-680876936),E=o(E,g,f,m,l[d+1],12,-389564586),m=o(m,E,g,f,l[d+2],17,606105819),f=o(f,m,E,g,l[d+3],22,-1044525330),g=o(g,f,m,E,l[d+4],7,-176418897),E=o(E,g,f,m,l[d+5],12,1200080426),m=o(m,E,g,f,l[d+6],17,-1473231341),f=o(f,m,E,g,l[d+7],22,-45705983),g=o(g,f,m,E,l[d+8],7,1770035416),E=o(E,g,f,m,l[d+9],12,-1958414417),m=o(m,E,g,f,l[d+10],17,-42063),f=o(f,m,E,g,l[d+11],22,-1990404162),g=o(g,f,m,E,l[d+12],7,1804603682),E=o(E,g,f,m,l[d+13],12,-40341101),m=o(m,E,g,f,l[d+14],17,-1502002290),f=o(f,m,E,g,l[d+15],22,1236535329),g=a(g,f,m,E,l[d+1],5,-165796510),E=a(E,g,f,m,l[d+6],9,-1069501632),m=a(m,E,g,f,l[d+11],14,643717713),f=a(f,m,E,g,l[d+0],20,-373897302),g=a(g,f,m,E,l[d+5],5,-701558691),E=a(E,g,f,m,l[d+10],9,38016083),m=a(m,E,g,f,l[d+15],14,-660478335),f=a(f,m,E,g,l[d+4],20,-405537848),g=a(g,f,m,E,l[d+9],5,568446438),E=a(E,g,f,m,l[d+14],9,-1019803690),m=a(m,E,g,f,l[d+3],14,-187363961),f=a(f,m,E,g,l[d+8],20,1163531501),g=a(g,f,m,E,l[d+13],5,-1444681467),E=a(E,g,f,m,l[d+2],9,-51403784),m=a(m,E,g,f,l[d+7],14,1735328473),f=a(f,m,E,g,l[d+12],20,-1926607734),g=s(g,f,m,E,l[d+5],4,-378558),E=s(E,g,f,m,l[d+8],11,-2022574463),m=s(m,E,g,f,l[d+11],16,1839030562),f=s(f,m,E,g,l[d+14],23,-35309556),g=s(g,f,m,E,l[d+1],4,-1530992060),E=s(E,g,f,m,l[d+4],11,1272893353),m=s(m,E,g,f,l[d+7],16,-155497632),f=s(f,m,E,g,l[d+10],23,-1094730640),g=s(g,f,m,E,l[d+13],4,681279174),E=s(E,g,f,m,l[d+0],11,-358537222),m=s(m,E,g,f,l[d+3],16,-722521979),f=s(f,m,E,g,l[d+6],23,76029189),g=s(g,f,m,E,l[d+9],4,-640364487),E=s(E,g,f,m,l[d+12],11,-421815835),m=s(m,E,g,f,l[d+15],16,530742520),f=s(f,m,E,g,l[d+2],23,-995338651),g=c(g,f,m,E,l[d+0],6,-198630844),E=c(E,g,f,m,l[d+7],10,1126891415),m=c(m,E,g,f,l[d+14],15,-1416354905),f=c(f,m,E,g,l[d+5],21,-57434055),g=c(g,f,m,E,l[d+12],6,1700485571),E=c(E,g,f,m,l[d+3],10,-1894986606),m=c(m,E,g,f,l[d+10],15,-1051523),f=c(f,m,E,g,l[d+1],21,-2054922799),g=c(g,f,m,E,l[d+8],6,1873313359),E=c(E,g,f,m,l[d+15],10,-30611744),m=c(m,E,g,f,l[d+6],15,-1560198380),f=c(f,m,E,g,l[d+13],21,1309151649),g=c(g,f,m,E,l[d+4],6,-145523070),E=c(E,g,f,m,l[d+11],10,-1120210379),m=c(m,E,g,f,l[d+2],15,718787259),f=c(f,m,E,g,l[d+9],21,-343485551),g=i(g,u),f=i(f,h),m=i(m,A),E=i(E,p);return n(g)+n(f)+n(m)+n(E)}(""+t+n)).slice(0,16),r=i.slice(0,12),o=await window.crypto.subtle.importKey("raw",i,"AES-GCM",!0,["encrypt"]);return new Uint8Array(await window.crypto.subtle.encrypt({name:"AES-GCM",iv:r},o,e))},SF=async(e,t,n)=>await RF(e.buffer,t,n);function FF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function BF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?FF(Object(n),!0).forEach((function(t){ih(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FF(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}class TF extends pS{get isPlaying(){return!(!this._player||this._player.videoElementStatus!==dS.PLAYING)}get processorContext(){return this._processorContext}set processorContext(e){this._processorContext=e}get __className__(){return"LocalVideoTrack"}constructor(e,t,n,i,r,o){if(super(e,r),ih(this,"trackMediaType","video"),ih(this,"_player",void 0),ih(this,"isUseScaleResolutionDownBy",!1),ih(this,"_videoVisibleTimer",null),ih(this,"_statsTimer",null),ih(this,"_previousVideoVisibleStatus",void 0),ih(this,"_clearPreviousVideoVisibleStatus",(()=>this._previousVideoVisibleStatus=void 0)),ih(this,"_encoderConfig",void 0),ih(this,"_scalabilityMode",{numSpatialLayers:1,numTemporalLayers:1}),ih(this,"_optimizationMode",void 0),ih(this,"_videoHeight",void 0),ih(this,"_videoWidth",void 0),ih(this,"_forceBitrateLimit",void 0),ih(this,"_enabled",!0),ih(this,"processorDestination",void 0),ih(this,"_processorContext",void 0),IE()){const{width:t,height:n}=e.getSettings();this._videoWidth=t,this._videoHeight=n}else this.updateMediaStreamTrackResolution();if(this._encoderConfig=t,this._scalabilityMode=n,this._optimizationMode=i,this._hints=o||[],-1===this._hints.indexOf(YR.SCREEN_TRACK))this.updateBitrateFromProfile();else if(function(e,t,n){const i=AE();return!(i.name!==e||!i.osVersion)&&(n?Number(i.version)>=t&&Number(i.version)<=n:Number(i.version)===t)}(cE.CHROME,115)&&-1!==pE().indexOf("Windows")){const t=function(e,t){if("VideoFrame"in window&&"TransformStream"in window&&FR().supportWebRTCInsertableStream){const n=new MediaStreamTrackProcessor(e),i=new MediaStreamTrackGenerator({kind:"video"});let r,o,a=Date.now();const s=()=>{c&&(clearInterval(c),c=void 0),r&&(r.close(),r=void 0),e.stop(),o=void 0,i.removeEventListener("ended",s)};let c=window.setInterval((()=>{if(o&&r&&Date.now()-a>(null!=t?t:1e3))try{"live"===i.readyState?o.enqueue(r.clone()):s()}catch(e){s()}}),null!=t?t:1e3);const l=new TransformStream({transform:(e,t)=>{"live"===i.readyState?(o=t,a=Date.now(),void 0===r?(r=e,t.enqueue(e.clone())):(t.enqueue(r),r=e)):e.close()}});return i.addEventListener("ended",s),n.readable.pipeThrough(l).pipeTo(i.writable),i}}(e);t&&(YU.info("local screen video track begin to inject frame"),this._mediaStreamTrack=t)}t&&-1!==this._hints.indexOf(YR.CUSTOM_TRACK)&&this.setEncoderConfiguration(t),this.processorContext=new qS(this.getTrackId(),"local"),this.processorDestination=new zS(this.processorContext),this.bindProcessorDestinationEvents()}play(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"==typeof e){const t=document.getElementById(e);t?e=t:(YU.warning("[".concat(this.getTrackId(),'] can not find "#').concat(e,'" element, use document.body')),e=document.body)}YU.debug("[".concat(this.getTrackId(),"] start video playback in ").concat(e instanceof HTMLVideoElement?"HTMLVideoElement":"HTMLElement"),JSON.stringify(t));const n=BF(BF(BF({},this._getDefaultPlayerConfig()),t),{},{trackId:this.getTrackId(),element:e});this._player?this._player.updateConfig(n):(e instanceof HTMLVideoElement?this._player=new UF(n):this._player=new bF(n),this._player.updateVideoTrack(this._mediaStreamTrack)),this._player.play(),this._videoVisibleTimer&&window.clearInterval(this._videoVisibleTimer),this._clearPreviousVideoVisibleStatus(),this._videoVisibleTimer=window.setInterval((()=>{try{const e=this.getVideoElementVisibleStatus();this.safeEmit(zR.VIDEO_ELEMENT_VISIBLE_STATUS,e)}catch(e){}}),NU("CHECK_VIDEO_VISIBLE_INTERVAL"))}stop(){this._player&&(this._videoVisibleTimer&&(window.clearInterval(this._videoVisibleTimer),this._videoVisibleTimer=null),this._statsTimer&&(this.isUseScaleResolutionDownBy=!1,window.clearInterval(this._statsTimer),this._statsTimer=null),this._clearPreviousVideoVisibleStatus(),this._player.destroy(),this._player=void 0,YU.debug("[".concat(this.getTrackId(),"] stop video playback")))}async setEnabled(e,t){if(!t){if(e===this._enabled)return;this.stateCheck("enabled",e)}if(YU.info("[".concat(this.getTrackId(),"] start setEnabled"),e),!e){this._originMediaStreamTrack.enabled=!1;try{await EC(this,GR.NEED_DISABLE_TRACK,this)}catch(e){throw YU.error("[".concat(this.getTrackId(),"] setEnabled to false error"),e.toString()),e}return t||(this._enabled=!1),void YU.info("[".concat(this.getTrackId(),"] setEnabled to false success"))}this._originMediaStreamTrack.enabled=!0;try{await EC(this,GR.NEED_ENABLE_TRACK,this)}catch(e){throw YU.error("[".concat(this.getTrackId(),"] setEnabled to true error"),e.toString()),e}YU.info("[".concat(this.getTrackId(),"] setEnabled to true success")),t||(this._enabled=!0)}async setMuted(e){e!==this._muted&&(this.stateCheck("muted",e),this._muted=e,this._originMediaStreamTrack.enabled=!e,YU.debug("[".concat(this.getTrackId(),"] start set muted: ").concat(e)),e?await EC(this,GR.NEED_MUTE_TRACK,this):await EC(this,GR.NEED_UNMUTE_TRACK,this))}async setEncoderConfiguration(e,t){if(!this._enabled)throw new WE(ZE.TRACK_IS_DISABLED,"can not set encoder configuration when track is disabled");if("720p_auto"===e?this.startMonitorStats():this._statsTimer&&(window.clearInterval(this._statsTimer),this._statsTimer=null),e=WR(e),this._forceBitrateLimit&&(e.bitrateMax=this._forceBitrateLimit.max_bitrate?this._forceBitrateLimit.max_bitrate:e.bitrateMax,e.bitrateMin=this._forceBitrateLimit.min_bitrate?this._forceBitrateLimit.min_bitrate:e.bitrateMin),e.width||e.height||e.frameRate){const t=hF({encoderConfig:e});(IE()||UE()||NE())&&(t.deviceId=void 0),YU.debug("[".concat(this.getTrackId(),"] setEncoderConfiguration applyConstraints"),JSON.stringify(e),JSON.stringify(t));try{await this._originMediaStreamTrack.applyConstraints(t),this.updateMediaStreamTrackResolution()}catch(e){const t=new WE(ZE.UNEXPECTED_ERROR,e.toString());throw YU.error("[".concat(this.getTrackId(),"] applyConstraints error"),t.toString()),t}}this._encoderConfig=e,-1===this._hints.indexOf(YR.SCREEN_TRACK)&&this.updateBitrateFromProfile();try{await EC(this,GR.NEED_UPDATE_VIDEO_ENCODER,this)}catch(e){return e.throw(YU)}}getStats(){return TC((()=>{YU.warning("[deprecated] LocalVideoTrack.getStats will be removed in the future, use AgoraRTCClient.getLocalVideoStats instead")}),"localVideoTrackGetStatsWarning"),CC(this,GR.GET_STATS)||BF({},nS)}async setBeautyEffect(e){YU.error("LocalVideoTrack.setBeautyEffect was deprecated, please migrate to agora-extension-beauty-effect")}getCurrentFrameData(){return this._player?this._player.getCurrentFrame():new ImageData(2,2)}async getCurrentFrameImage(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this._player?this._player.getCurrentFrameToUint8Array(e,t):await mF(e)}async setBitrateLimit(e){if(YU.debug("[".concat(this.getTrackId(),"] set bitrate limit, ").concat(JSON.stringify(e))),e){this._forceBitrateLimit=e,this._encoderConfig&&(this._encoderConfig.bitrateMax?this._encoderConfig.bitrateMax=this._encoderConfig.bitrateMax<e.max_bitrate?this._encoderConfig.bitrateMax:e.max_bitrate:this._encoderConfig.bitrateMax=e.max_bitrate,this._encoderConfig.bitrateMin,this._encoderConfig.bitrateMin=e.min_bitrate);try{await EC(this,GR.NEED_UPDATE_VIDEO_ENCODER,this)}catch(e){return e.throw(YU)}}}async setOptimizationMode(e){if("motion"!==e&&"detail"!==e&&"balanced"!==e)return void YU.error(ZE.INVALID_PARAMS,"optimization mode must be motion, detail or balanced");const t=this._optimizationMode;try{this._optimizationMode=e,await EC(this,GR.SET_OPTIMIZATION_MODE,this)}catch(e){throw this._optimizationMode=t,YU.error("[".concat(this.getTrackId(),"] set optimization mode failed"),e.toString()),e}YU.info("[".concat(this.getTrackId(),"] set optimization mode success (").concat(e,")"))}setScalabiltyMode(e){if(1===e.numSpatialLayers&&1!==e.numTemporalLayers)return YU.error(ZE.INVALID_PARAMS,"scalability mode currently not supported, no SVC."),void(this._scalabilityMode={numSpatialLayers:1,numTemporalLayers:1});this._scalabilityMode=e,YU.info("[".concat(this.getTrackId(),"] set scalability mode success (").concat(e,")"))}updateMediaStreamTrackResolution(){vF(this._originMediaStreamTrack).then((e=>{let[t,n]=e;this._videoHeight=n,this._videoWidth=t})).catch(OC)}_updatePlayerSource(){this._player&&this._player.updateVideoTrack(this._mediaStreamTrack)}_getDefaultPlayerConfig(){return{fit:"contain"}}async setSenderConfiguration(e){if(!this._enabled)throw new WE(ZE.TRACK_IS_DISABLED,"can not set encoder configuration when track is disabled");YU.debug("[".concat(this.getTrackId(),"] setSenderConfiguration applyConstraints"),JSON.stringify(e)),e=WR(e),this._forceBitrateLimit&&(e.bitrateMax=this._forceBitrateLimit.max_bitrate?this._forceBitrateLimit.max_bitrate:e.bitrateMax,e.bitrateMin=this._forceBitrateLimit.min_bitrate?this._forceBitrateLimit.min_bitrate:e.bitrateMin),this._encoderConfig=e,-1===this._hints.indexOf(YR.SCREEN_TRACK)&&this.updateBitrateFromProfile();try{await EC(this,GR.NEED_UPDATE_VIDEO_ENCODER,this)}catch(e){return e.throw(YU)}}updateBitrateFromProfile(){if(!this._encoderConfig)return;const{width:e,height:t,frameRate:n}=this.getMediaStreamTrackSettings();if(!e||!t||!n)return;const[i,r]=function(e,t,n,i){let r;const o=200*Math.pow(n/15,.6)*Math.pow(e*t/640/360,.75),a=o;if("STANDARD_BITRATE"===i)r=4*o;else{if("COMPATIABLE_BITRATE"!==i)return;r=2*o}return[Math.floor(r),Math.floor(a)]}(e,t,n,NU("BITRATE_ADAPTER_TYPE"))||[void 0,void 0];this._encoderConfig.bitrateMin||this._encoderConfig.bitrateMax||(this._encoderConfig.bitrateMin=r,this._encoderConfig.bitrateMax=i,YU.debug("[".concat(this.getTrackId(),"] update bitrate from profile, [w: ").concat(e,", h: ").concat(t,", fps: ").concat(n,"] => [brMax: ").concat(i,", brMin: ").concat(r,"]")))}getVideoElementVisibleStatus(){try{var e,t;const n=null==this||null===(e=this._player)||void 0===e?void 0:e.getContainerElement(),i={track:this,element:null==this||null===(t=this._player)||void 0===t?void 0:t.getVideoElement(),slot:null==n?void 0:n.parentElement},{element:r,slot:o}=i;if(this.isPlaying&&r instanceof HTMLVideoElement&&o instanceof HTMLElement){const e=zE.checkOneElementVisible(r),t=Object.assign({},e);if(t.visible!==this._previousVideoVisibleStatus){this._previousVideoVisibleStatus=t.visible;const e=oy.reportApiInvoke(null,{tag:aC.TRACER,name:oC.LOCAL_VIDEO_TRACK_GET_VIDEO_VISIBLE,options:[this.getTrackId()]});t.visible?e.onSuccess("Video is visible"):e.onSuccess("Invisible because of ".concat(t.reason))}return t}return}catch(e){throw new WE(ZE.GET_VIDEO_ELEMENT_VISIBLE_ERROR,e.message)}}async renewMediaStreamTrack(e){}pipe(e){if(this.processor===e)return e;if(e._source)throw new WE(ZE.INVALID_OPERATION,"Processor ".concat(e.name," already piped, please call unpipe beforehand."));return this.unpipe(),this.processor=e,this.processor._source=this,e.updateInput({track:this._originMediaStreamTrack,context:this.processorContext}),e}unpipe(){if(!this.processor)return;const e=this.processor;this.processor._source=void 0,this.processor=void 0,e.reset()}close(){super.close(),this.unbindProcessorDestinationEvents(),this.unbindProcessorContextEvents(),this.unpipe(),this.processorDestination._source&&this.processorDestination._source.unpipe()}clone(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this._encoderConfig;e&&(n=BF(BF({},n),WR(e))),n=FC(n);const i=ZC(8,"track-video-cloned-"),r=new TF(t?this._mediaStreamTrack.clone():this._mediaStreamTrack,n,FC(this._scalabilityMode),this._optimizationMode,i,FC(this._hints));return e&&n&&r.setEncoderConfiguration(n),YU.debug("clone video track from ".concat(this.getTrackId()," to ").concat(i,", clone ").concat(t)),r}async replaceTrack(e,t){if(!(e instanceof MediaStreamTrack))throw new WE(ZE.INVALID_PARAMS,"track should be an instance of MediaStreamTrack");if("video"!==e.kind)throw new WE(ZE.INVALID_PARAMS,"track should be a video MediaStreamTrack");await this._updateOriginMediaStreamTrack(e,t,!0),this.updateMediaStreamTrackResolution()}startMonitorStats(){if(!IE()&&!UE())return;this._statsTimer&&window.clearInterval(this._statsTimer);let e=2,t=DR[e],n=-1,i=Date.now();const r=e=>{e>2||e<0||(i=Date.now(),t=DR[e],this.setSenderConfiguration(t))};this.isUseScaleResolutionDownBy=!0,this._statsTimer=window.setInterval((()=>{const o=this.getStats(),a=CC(this,GR.GET_RTC_STATS);if(o.sendPackets>0&&a){-1===n&&(n=Date.now());const s=Date.now();if(s-n<1e3||s-i<NU("PROFILE_SWITCH_INTERVAL"))return;const c=o.sendFrameRate,l=.6*t.frameRate,d=.9*t.frameRate;"number"==typeof c&&c>0&&c<l?e>0&&(e--,r(e),YU.debug("[".concat(this.getTrackId(),"] step down for fps ").concat(c,", switchProfile to ").concat(e))):a.OutgoingAvailableBandwidth<t.bitrateMin?e>0&&(e--,r(e),YU.debug("[".concat(this.getTrackId(),"] step down for OutgoingAvailableBandwidth ").concat(a.OutgoingAvailableBandwidth,", bitrateMin ").concat(t.bitrateMin,", switchProfile to ").concat(e))):"number"==typeof c&&c>d&&e<DR.length-1&&a.OutgoingAvailableBandwidth>1.2*DR[e+1].bitrateMin&&(e++,r(e),YU.debug("[".concat(this.getTrackId(),"] step up for fps ").concat(c,", OutgoingAvailableBandwidth ").concat(a.OutgoingAvailableBandwidth,", switchProfile to ").concat(e)))}}),NU("CHECK_LOCAL_STATS_INTERVAL"))}bindProcessorDestinationEvents(){this.processorDestination.on(aS.ON_TRACK,(async e=>{e?e!==this._mediaStreamTrack&&(this._mediaStreamTrack=e,this._updatePlayerSource(),await EC(this,GR.NEED_REPLACE_TRACK,this)):this._mediaStreamTrack!==this._originMediaStreamTrack&&(this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource(),await EC(this,GR.NEED_REPLACE_TRACK,this))}))}unbindProcessorDestinationEvents(){this.processorDestination.removeAllListeners(aS.ON_TRACK)}unbindProcessorContextEvents(){this.processorContext.removeAllListeners(sS.REQUEST_UPDATE_CONSTRAINTS),this.processorContext.removeAllListeners(sS.REQUEST_CONSTRAINTS)}}Vy([ry({argsMap:(e,t,n)=>[e.getTrackId(),"string"==typeof t?t:t instanceof HTMLVideoElement?"HTMLVideoElement":"HTMLElement",n]}),XS(),Zy("design:type",Function),Zy("design:paramtypes",[Object,Object]),Zy("design:returntype",void 0)],TF.prototype,"play",null),Vy([ry({argsMap:e=>[e.getTrackId()]}),Zy("design:type",Function),Zy("design:paramtypes",[]),Zy("design:returntype",void 0)],TF.prototype,"stop",null),Vy([jC("LocalVideoTrack","_enabledMutex"),ry({argsMap:(e,t)=>[e.getTrackId(),t]}),XS(),Zy("design:type",Function),Zy("design:paramtypes",[Boolean,Boolean]),Zy("design:returntype",tE)],TF.prototype,"setEnabled",null),Vy([jC("LocalVideoTrack","_enabledMutex"),ry({argsMap:(e,t)=>[e.getTrackId(),t]}),XS(),Zy("design:type",Function),Zy("design:paramtypes",[Boolean]),Zy("design:returntype",tE)],TF.prototype,"setMuted",null),Vy([ry({argsMap:(e,t)=>[e.getTrackId(),t]}),XS(),Zy("design:type",Function),Zy("design:paramtypes",[Object,Boolean]),Zy("design:returntype",tE)],TF.prototype,"setEncoderConfiguration",null),Vy([XS(),Zy("design:type",Function),Zy("design:paramtypes",[]),Zy("design:returntype",Object)],TF.prototype,"getStats",null),Vy([ry({argsMap:(e,t,n)=>[e.getTrackId(),t,n]}),XS(),Zy("design:type",Function),Zy("design:paramtypes",[Boolean,Object]),Zy("design:returntype",tE)],TF.prototype,"setBeautyEffect",null),Vy([XS(),Zy("design:type",Function),Zy("design:paramtypes",[]),Zy("design:returntype",ImageData)],TF.prototype,"getCurrentFrameData",null),Vy([XS(),Zy("design:type",Function),Zy("design:paramtypes",[String,Number]),Zy("design:returntype",tE)],TF.prototype,"getCurrentFrameImage",null),Vy([XS(),Zy("design:type",Function),Zy("design:paramtypes",[Object]),Zy("design:returntype",tE)],TF.prototype,"setBitrateLimit",null),Vy([XS(),Zy("design:type",Function),Zy("design:paramtypes",[String]),Zy("design:returntype",tE)],TF.prototype,"setOptimizationMode",null),Vy([XS(),Zy("design:type",Function),Zy("design:paramtypes",[Object]),Zy("design:returntype",void 0)],TF.prototype,"setScalabiltyMode",null),Vy([XS(),Zy("design:type",Function),Zy("design:paramtypes",[]),Zy("design:returntype",void 0)],TF.prototype,"updateMediaStreamTrackResolution",null),Vy([ry({argsMap:(e,t)=>[e.getTrackId(),t.name]}),Zy("design:type",Function),Zy("design:paramtypes",[Object]),Zy("design:returntype",Object)],TF.prototype,"pipe",null),Vy([ry({argsMap:e=>[e.getTrackId()]}),Zy("design:type",Function),Zy("design:paramtypes",[]),Zy("design:returntype",void 0)],TF.prototype,"unpipe",null),Vy([ry({argsMap:e=>[e.getTrackId()]}),Zy("design:type",Function),Zy("design:paramtypes",[]),Zy("design:returntype",void 0)],TF.prototype,"close",null),Vy([ry({argsMap:(e,t,n)=>[e.getTrackId(),t.label,n]}),Zy("design:type",Function),Zy("design:paramtypes",[MediaStreamTrack,Boolean]),Zy("design:returntype",tE)],TF.prototype,"replaceTrack",null),Vy([ry(),Zy("design:type",Function),Zy("design:paramtypes",[]),Zy("design:returntype",void 0)],TF.prototype,"startMonitorStats",null);class NF extends TF{get __className__(){return"CameraVideoTrack"}constructor(e,t,n,i,r,o){super(e,WR(t.encoderConfig),i,r,o),ih(this,"_config",void 0),ih(this,"_originalConstraints",void 0),ih(this,"_constraints",void 0),ih(this,"_enabled",!0),ih(this,"_deviceName","default"),ih(this,"tryResumeVideoForIOS15_16WeChat",(async()=>{(FE()||BE())&&!function(){const e=AE();if(e.os!==sE.IOS||!e.osVersion)return!1;const t=e.osVersion.split(".");return 15===Number(t[0])&&Number(t[1])>=2}()&&_E()&&this._enabled&&!this._isClosed&&(YU.debug("[".concat(this.getTrackId(),"] try capture camera media device for interrupted iOS 15 device on WeChat.")),await this.renewMediaStreamTrack())})),this._config=t,this._originalConstraints=n,this._constraints=n,this._deviceName=e.label,this._encoderConfig=WR(this._config.encoderConfig),ES.on(BR.IOS_15_16_INTERRUPTION_END,this.tryResumeVideoForIOS15_16WeChat),ES.on(BR.IOS_INTERRUPTION_END,this.tryResumeVideoForIOS15_16WeChat),this.bindProcessorContextEvents()}async setDevice(e){return"string"==typeof e?this._setDeviceById(e):e.deviceId?this._setDeviceById(e.deviceId):e.facingMode?this._setDeviceByFacingModel(e.facingMode):void 0}async _setDeviceById(e){if(YU.info("[".concat(this.getTrackId(),"] set device to ").concat(e)),this._enabled)try{const t=await OS.getDeviceById(e),n={};n.video=BF({},this._constraints),n.video.deviceId={exact:e},n.video.facingMode=void 0,this._originMediaStreamTrack.stop();let i=null;try{i=await DS(n,this.getTrackId())}catch(e){throw YU.error("[".concat(this.getTrackId(),"] setDevice failed"),e.toString()),i=await DS({video:this._constraints},this.getTrackId()),await this._updateOriginMediaStreamTrack(i.getVideoTracks()[0],!1),e}await this._updateOriginMediaStreamTrack(i.getVideoTracks()[0],!1),this.updateMediaStreamTrackResolution(),this._deviceName=t.label,this._config.cameraId=e,this._constraints.deviceId={exact:e}}catch(e){throw YU.error("[".concat(this.getTrackId(),"] setDevice error"),e.toString()),e}else try{const t=await OS.getDeviceById(e);this._deviceName=t.label,this._config.cameraId=e,this._constraints.deviceId={exact:e}}catch(e){throw YU.error("[".concat(this.getTrackId(),"] setDevice error"),e.toString()),e}YU.info("[".concat(this.getTrackId(),"] setDevice success"))}async _setDeviceByFacingModel(e){YU.info("[".concat(this.getTrackId(),"] set facingMode ").concat(e));const t={video:BF(BF({},this._constraints),{},{deviceId:void 0,facingMode:{exact:e}})};if(this._enabled){this._originMediaStreamTrack.stop();let e=null;try{e=await DS(t,this.getTrackId())}catch(t){throw YU.error("[".concat(this.getTrackId(),"] setDeviceByFacingModel failed"),t.toString()),e=await DS({video:this._constraints},this.getTrackId()),await this._updateOriginMediaStreamTrack(e.getVideoTracks()[0],!1),t}await this._updateOriginMediaStreamTrack(e.getVideoTracks()[0],!1),this.updateMediaStreamTrackResolution()}this._deviceName="",this._config.facingMode=e,this._config.cameraId=void 0,this._constraints=BF({},t.video),YU.info("[".concat(this.getTrackId(),"] setDeviceByFacingModel success"))}async setEnabled(e,t){if(!t){if(e===this._enabled)return;this.stateCheck("enabled",e)}if(YU.info("[".concat(this.getTrackId(),"] start setEnabled"),e),e){try{if(this.isExternalTrack)this._originMediaStreamTrack.enabled=!0;else{const e=await DS({video:this._constraints},this.getTrackId());await this._updateOriginMediaStreamTrack(e.getVideoTracks()[0],!1)}await EC(this,GR.NEED_ENABLE_TRACK,this)}catch(e){throw YU.error("[".concat(this.getTrackId(),"] setEnabled true error"),e.toString()),e}this.updateMediaStreamTrackResolution(),YU.info("[".concat(this.getTrackId(),"] setEnabled to true success")),t||(this._enabled=!0)}else{this.isExternalTrack?this._originMediaStreamTrack.enabled=!1:(this._originMediaStreamTrack.onended=null,this._originMediaStreamTrack.stop()),t||(this._enabled=!1);try{await EC(this,GR.NEED_DISABLE_TRACK,this)}catch(e){throw YU.error("[".concat(this.getTrackId(),"] setEnabled to false error"),e.toString()),e}YU.info("[".concat(this.getTrackId(),"] setEnabled to false success"))}}async setEncoderConfiguration(e,t){if(!this._enabled)throw new WE(ZE.TRACK_IS_DISABLED,"can not set encoder configuration when track is disabled");"720p_auto"===e?this.startMonitorStats():this._statsTimer&&(window.clearInterval(this._statsTimer),this._statsTimer=null),e=WR(e),this._forceBitrateLimit&&(e.bitrateMax=this._forceBitrateLimit.max_bitrate?this._forceBitrateLimit.max_bitrate:e.bitrateMax,e.bitrateMin=this._forceBitrateLimit.min_bitrate?this._forceBitrateLimit.min_bitrate:e.bitrateMin);const n=SC(this._config);n.encoderConfig=e;const i=hF(n);(IE()||UE()||NE())&&(i.deviceId=void 0),YU.debug("[".concat(this.getTrackId(),"] setEncoderConfiguration applyConstraints"),JSON.stringify(e),JSON.stringify(i));try{await this._originMediaStreamTrack.applyConstraints(i),this.updateMediaStreamTrackResolution()}catch(e){const t=new WE(ZE.UNEXPECTED_ERROR,e.toString());throw YU.error("[".concat(this.getTrackId(),"] applyConstraints error"),t.toString()),t}this._config=n,this._constraints=i,this._originalConstraints=i,this._encoderConfig=e,-1===this._hints.indexOf(YR.SCREEN_TRACK)&&this.updateBitrateFromProfile();try{await EC(this,GR.NEED_UPDATE_VIDEO_ENCODER,this)}catch(e){return e.throw(YU)}}_getDefaultPlayerConfig(){return{mirror:!0,fit:"cover"}}onTrackEnded(){if((UE()||NE())&&this._enabled&&!this._isClosed&&ES.duringInterruption){const e=async()=>{ES.off(BR.IOS_INTERRUPTION_END,e),this._enabled&&!this._isClosed&&(YU.debug("[".concat(this.getTrackId(),"] try capture camera media device for interrupted iOS device.")),await this.setEnabled(!1),await this.setEnabled(!0))};ES.on(BR.IOS_INTERRUPTION_END,e)}else YU.debug("[".concat(this.getTrackId(),"] track ended")),this.safeEmit(zR.TRACK_ENDED)}async renewMediaStreamTrack(e){const t=e||this._constraints,n=OS.searchDeviceIdByName(this._deviceName);if(n&&!t.deviceId&&(t.deviceId={exact:n}),this._enabled){const e=await DS({video:t},this.getTrackId());this._constraints=t,await this._updateOriginMediaStreamTrack(e.getVideoTracks()[0],!0),this.updateMediaStreamTrackResolution()}}close(){super.close(),ES.off(BR.IOS_15_16_INTERRUPTION_END,this.tryResumeVideoForIOS15_16WeChat),ES.off(BR.IOS_INTERRUPTION_END,this.tryResumeVideoForIOS15_16WeChat)}clone(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this._encoderConfig;e&&(n=BF(BF({},n),WR(e))),n=FC(n);const i=ZC(8,"track-cam-cloned-"),r=new NF(t?this._mediaStreamTrack.clone():this._mediaStreamTrack,FC(BF(BF({},this._config),{},{encoderConfig:n})),FC(this._constraints),FC(this._scalabilityMode),this._optimizationMode,i);return e&&n&&r.setEncoderConfiguration(n),YU.debug("clone track from ".concat(this.getTrackId()," to ").concat(i,", clone ").concat(t)),r}bindProcessorContextEvents(){this.processorContext.on(sS.REQUEST_UPDATE_CONSTRAINTS,(async(e,t,n)=>{try{const n=Object.assign({},this._originalConstraints,...e);await this.renewMediaStreamTrack(n),t()}catch(e){n(e)}})),this.processorContext.on(sS.REQUEST_CONSTRAINTS,(async e=>{e(this._originMediaStreamTrack.getSettings())}))}}function _F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function wF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_F(Object(n),!0).forEach((function(t){ih(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function kF(e,t,n,i){n.optimizationMode&&(i&&i.width&&i.height?(n.encoderConfig=wF(wF({},i),{},{bitrateMin:i.bitrateMin,bitrateMax:i.bitrateMax}),"motion"!==n.optimizationMode&&"detail"!==n.optimizationMode||(t.contentHint=n.optimizationMode,t.contentHint===n.optimizationMode?YU.debug("[".concat(e,"] set content hint to"),n.optimizationMode):YU.debug("[".concat(e,"] set content hint failed")))):YU.warning("[".concat(e,"] can not apply optimization mode bitrate config, no encoderConfig")))}function DF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function VF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?DF(Object(n),!0).forEach((function(t){ih(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DF(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Vy([ry({argsMap:(e,t)=>[e.getTrackId(),t]}),XS(),Zy("design:type",Function),Zy("design:paramtypes",[Object]),Zy("design:returntype",tE)],NF.prototype,"setDevice",null),Vy([jC("CameraVideoTrack","_enabledMutex"),ry({argsMap:(e,t)=>[e.getTrackId(),t]}),XS(),Zy("design:type",Function),Zy("design:paramtypes",[Boolean,Boolean]),Zy("design:returntype",tE)],NF.prototype,"setEnabled",null),Vy([ry({argsMap:(e,t)=>[e.getTrackId(),t]}),XS(),Zy("design:type",Function),Zy("design:paramtypes",[Object,Boolean]),Zy("design:returntype",tE)],NF.prototype,"setEncoderConfiguration",null),Vy([ry({argsMap:e=>[e.getTrackId()]}),Zy("design:type",Function),Zy("design:paramtypes",[]),Zy("design:returntype",void 0)],NF.prototype,"close",null);class ZF extends AS{getUserId(){return this._userId}constructor(e,t,n,i){super(e,"track-".concat(e.kind,"-").concat(t,"-").concat(i.clientId,"_").concat(ZC(5,""))),ih(this,"_userId",void 0),ih(this,"_uintId",void 0),ih(this,"_isDestroyed",!1),ih(this,"store",void 0),ih(this,"processor",void 0),this._userId=t,this._uintId=n,this.store=i}_updateOriginMediaStreamTrack(e){this._originMediaStreamTrack=e,this._mediaStreamTrack=e,this._updatePlayerSource(),this.processor&&this.processor.updateInput({track:this._originMediaStreamTrack,context:this.processorContext})}_destroy(){this._isDestroyed=!0,YU.info("[".concat(this.getTrackId(),"] is destroyed")),this.stop(),super.close()}getProcessorStats(){return this.processorContext.gatherStats()}getProcessorUsage(){return this.processorContext.gatherUsage()}}class WF extends ZF{get isPlaying(){return!(!this._player||this._player.videoElementStatus!==dS.PLAYING)}get __className__(){return"RemoteVideoTrack"}constructor(e,t,n,i){super(e,t,n,i),ih(this,"_videoVisibleTimer",null),ih(this,"_previousVideoVisibleStatus",void 0),ih(this,"_clearPreviousVideoVisibleStatus",(()=>this._previousVideoVisibleStatus=void 0)),ih(this,"trackMediaType","video"),ih(this,"_videoWidth",void 0),ih(this,"_videoHeight",void 0),ih(this,"_player",void 0),ih(this,"processorDestination",void 0),ih(this,"processorContext",void 0),this.updateMediaStreamTrackResolution(),this.processorContext=new qS(this.getTrackId(),"remote"),this.processorDestination=new zS(this.processorContext),this.bindProcessorDestinationEvents()}getStats(){return TC((()=>{YU.warning("[deprecated] RemoteVideoTrack.getStats will be removed in the future, use AgoraRTCClient.getRemoteVideoStats instead")}),"remoteVideoTrackGetStatsWarning"),CC(this,GR.GET_STATS)||VF({},oS)}play(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"==typeof e){const t=document.getElementById(e);t?e=t:(YU.warning("[".concat(this.getTrackId(),'] can not find "#').concat(e,'" element, use document.body')),e=document.body)}YU.debug("[".concat(this.getTrackId(),"] start video playback in ").concat(e instanceof HTMLVideoElement?"HTMLVideoElement":"HTMLElement"),JSON.stringify(t));const n=VF(VF({fit:"cover"},t),{},{trackId:this.getTrackId(),element:e});this._player?this._player.updateConfig(n):(e instanceof HTMLVideoElement?this._player=new UF(n):this._player=new bF(n),this._player.updateVideoTrack(this._mediaStreamTrack),this._player.onFirstVideoFrameDecoded=()=>{this.store.subscribe(this.getUserId(),"video",void 0,void 0,Date.now()),this.safeEmit(qR.FIRST_FRAME_DECODED)}),this._player.play(this.store.sessionId||void 0),this._videoVisibleTimer&&window.clearInterval(this._videoVisibleTimer),this._clearPreviousVideoVisibleStatus(),this._videoVisibleTimer=window.setInterval((()=>{try{const e=this.getVideoElementVisibleStatus();this.safeEmit(qR.VIDEO_ELEMENT_VISIBLE_STATUS,e)}catch(e){}}),NU("CHECK_VIDEO_VISIBLE_INTERVAL"))}stop(){this._player&&(this._videoVisibleTimer&&(window.clearInterval(this._videoVisibleTimer),this._videoVisibleTimer=null),this._clearPreviousVideoVisibleStatus(),this._player.destroy(),this._player=void 0,YU.debug("[".concat(this.getTrackId(),"] stop video playback")))}getCurrentFrameData(){return this._player?this._player.getCurrentFrame():new ImageData(2,2)}updateMediaStreamTrackResolution(){vF(this._originMediaStreamTrack).then((e=>{let[t,n]=e;this._videoHeight=n,this._videoWidth=t})).catch(OC)}_updatePlayerSource(){YU.debug("[".concat(this.getTrackId(),"] update player source track")),this._player&&this._player.updateVideoTrack(this._mediaStreamTrack)}getVideoElementVisibleStatus(){try{var e,t;const n=null==this||null===(e=this._player)||void 0===e?void 0:e.getContainerElement(),i={track:this,element:null==this||null===(t=this._player)||void 0===t?void 0:t.getVideoElement(),slot:null==n?void 0:n.parentElement},{element:r,slot:o}=i;if(this.isPlaying&&r instanceof HTMLVideoElement&&o instanceof HTMLElement){const e=zE.checkOneElementVisible(r),t=Object.assign({},e);if(t.visible!==this._previousVideoVisibleStatus){this._previousVideoVisibleStatus=t.visible;const e=oy.reportApiInvoke(null,{tag:aC.TRACER,name:oC.REMOTE_VIDEO_TRACK_GET_VIDEO_VISIBLE,options:[this.getTrackId()]});t.visible?e.onSuccess("Video is visible"):e.onSuccess("Invisible because of ".concat(t.reason))}return t}return}catch(e){throw new WE(ZE.GET_VIDEO_ELEMENT_VISIBLE_ERROR,e.message)}}pipe(e){if(this.processor===e)return e;if(e._source)throw new WE(ZE.INVALID_OPERATION,"Processor ".concat(e.name," already piped, please call unpipe beforehand."));return this.unpipe(),this.processor=e,this.processor._source=this,e.updateInput({track:this._originMediaStreamTrack,context:this.processorContext}),e}unpipe(){if(!this.processor)return;const e=this.processor;this.processor._source=void 0,this.processor=void 0,e.reset()}bindProcessorDestinationEvents(){this.processorDestination.on(aS.ON_TRACK,(async e=>{e?e!==this._mediaStreamTrack&&(this._mediaStreamTrack=e,this._updatePlayerSource()):this._mediaStreamTrack!==this._originMediaStreamTrack&&(this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource())}))}unbindProcessorDestinationEvents(){this.processorDestination.removeAllListeners(aS.ON_TRACK)}_destroy(){super._destroy(),this.unbindProcessorDestinationEvents()}}Vy([ry({argsMap:(e,t,n)=>[e.getTrackId(),"string"==typeof t?t:t instanceof HTMLVideoElement?"HTMLVideoElement":"HTMLElement",n]}),Zy("design:type",Function),Zy("design:paramtypes",[Object,Object]),Zy("design:returntype",void 0)],WF.prototype,"play",null),Vy([ry({argsMap:e=>[e.getTrackId()]}),Zy("design:type",Function),Zy("design:paramtypes",[]),Zy("design:returntype",void 0)],WF.prototype,"stop",null),Vy([ry({argsMap:(e,t)=>[e.getTrackId(),t.name]}),Zy("design:type",Function),Zy("design:paramtypes",[Object]),Zy("design:returntype",Object)],WF.prototype,"pipe",null),Vy([ry({argsMap:e=>[e.getTrackId()]}),Zy("design:type",Function),Zy("design:paramtypes",[]),Zy("design:returntype",void 0)],WF.prototype,"unpipe",null);class OF extends ZF{get isPlaying(){return this._useAudioElement?jS.isPlaying(this.getTrackId()):this._source.isPlayed}get __className__(){return"RemoteAudioTrack"}constructor(e,t,n,i){super(e,t,n,i),ih(this,"trackMediaType","audio"),ih(this,"_source",void 0),ih(this,"_useAudioElement",!0),ih(this,"_volume",100),ih(this,"processorContext",void 0),ih(this,"processorDestination",void 0),ih(this,"_played",!1),ih(this,"_bypassWebAudio",!1),NU("DISABLE_WEBAUDIO")?(this._source=new tF,this._bypassWebAudio=!0,this._useAudioElement=!0):(this._source=new SS(e,!0),NU("REMOTE_AUDIO_TRACK_USES_WEB_AUDIO")&&(this._useAudioElement=!1)),this._source.once($R.RECEIVE_TRACK_BUFFER,(()=>{this.safeEmit(qR.FIRST_FRAME_DECODED)})),this.processorContext=new eF(this._source.context,this.getTrackId(),"remote"),this.processorDestination=new $S(this.processorContext),this.bindProcessorDestinationEvents(),this._source.on($R.UPDATE_SOURCE,(()=>{this.processor&&this.processor.updateInput({node:this._source.processSourceNode,context:this.processorContext})}))}setAudioFrameCallback(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4096;if(!e)return this._source.removeAllListeners($R.ON_AUDIO_BUFFER),void this._source.stopGetAudioBuffer();this._source.startGetAudioBuffer(t),this._source.removeAllListeners($R.ON_AUDIO_BUFFER),this._source.on($R.ON_AUDIO_BUFFER,(t=>e(t)))}setVolume(e){this._volume=e,this._useAudioElement?jS.setVolume(this.getTrackId(),e):this._source.setVolume(e/100)}async setPlaybackDevice(e){if(!this._useAudioElement||!CE()&&NU("RESTRICTION_SET_PLAYBACK_DEVICE"))throw new WE(ZE.NOT_SUPPORTED,"your browser does not support setting the audio output device");await jS.setSinkID(this.getTrackId(),e)}getVolumeLevel(){return this._source.getAccurateVolumeLevel()}getStats(){return TC((()=>{YU.warning("[deprecated] RemoteAudioTrack.getStats will be removed in the future, use AgoraRTCClient.getRemoteAudioStats instead")}),"remoteAudioTrackGetStatsWarning"),CC(this,GR.GET_STATS)||VF({},iS)}play(){YU.debug("[".concat(this.getTrackId(),"] start audio playback")),this._played=!0,this._useAudioElement?(YU.debug("[".concat(this.getTrackId(),"] use audio element to play")),jS.play(this._mediaStreamTrack,this.getTrackId(),this._volume,this.store.sessionId||void 0)):this._source.play()}stop(){YU.debug("[".concat(this.getTrackId(),"] stop audio playback")),this._played=!1,this._useAudioElement?jS.stop(this.getTrackId()):this._source.stop()}_destroy(){super._destroy(),this._played=!1,this.unbindProcessorDestinationEvents(),this._source.destroy()}_isFreeze(){return this._source.isFreeze}_updatePlayerSource(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];YU.debug("[".concat(this.getTrackId(),"] update player source track")),e&&this._source.updateTrack(this._mediaStreamTrack),this._useAudioElement&&jS.updateTrack(this.getTrackId(),this._mediaStreamTrack)}pipe(e){if(this._bypassWebAudio)throw new WE(ZE.NOT_SUPPORTED,"can not pipe extension when WebAudio disabled");if(this.processor===e)return e;if(e._source)throw new WE(ZE.INVALID_OPERATION,"Processor ".concat(e.name," already piped, please call unpipe beforehand."));return this.unpipe(),this.processor=e,this.processor._source=this,e.updateInput({track:this._originMediaStreamTrack,node:this._source.processSourceNode,context:this.processorContext}),e}unpipe(){var e;if(this._bypassWebAudio)throw new WE(ZE.NOT_SUPPORTED,"can not unpipe extension when WebAudio disabled");if(!this.processor)return;const t=this.processor;null===(e=this._source.processSourceNode)||void 0===e||e.disconnect(),this.processor._source=!1,this.processor=void 0,t.reset()}bindProcessorDestinationEvents(){this.processorDestination.on(aS.ON_TRACK,(async e=>{e?e!==this._mediaStreamTrack&&(this._mediaStreamTrack=e,this._updatePlayerSource(!1),this._source.processedNode=this._source.createMediaStreamSourceNode(e)):this._mediaStreamTrack!==this._originMediaStreamTrack&&(this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource())})),this.processorDestination.on(aS.ON_NODE,(e=>{this._source.processedNode=e;const t=!e;this._useAudioElement!==t&&(this._played?(this.stop(),this._useAudioElement=t,this.play()):this._useAudioElement=t)}))}unbindProcessorDestinationEvents(){this.processorDestination.removeAllListeners(aS.ON_TRACK),this.processorDestination.removeAllListeners(aS.ON_NODE)}}function JF(e){let t=e.length;for(;--t>=0;)e[t]=0}Vy([ry({argsMap:(e,t)=>[e.getTrackId(),t],throttleTime:300}),Zy("design:type",Function),Zy("design:paramtypes",[Number]),Zy("design:returntype",void 0)],OF.prototype,"setVolume",null),Vy([ry({argsMap:(e,t)=>[e.getTrackId(),t]}),Zy("design:type",Function),Zy("design:paramtypes",[String]),Zy("design:returntype",tE)],OF.prototype,"setPlaybackDevice",null),Vy([ry({argsMap:e=>[e.getTrackId()]}),Zy("design:type",Function),Zy("design:paramtypes",[]),Zy("design:returntype",void 0)],OF.prototype,"play",null),Vy([ry({argsMap:e=>[e.getTrackId()]}),Zy("design:type",Function),Zy("design:paramtypes",[]),Zy("design:returntype",void 0)],OF.prototype,"stop",null),Vy([ry({argsMap:(e,t)=>[e.getTrackId(),t.name]}),Zy("design:type",Function),Zy("design:paramtypes",[Object]),Zy("design:returntype",Object)],OF.prototype,"pipe",null),Vy([ry({argsMap:e=>[e.getTrackId()]}),Zy("design:type",Function),Zy("design:paramtypes",[]),Zy("design:returntype",void 0)],OF.prototype,"unpipe",null);const xF=256,MF=286,LF=30,PF=15,GF=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),YF=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),jF=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),XF=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),KF=new Array(576);JF(KF);const HF=new Array(60);JF(HF);const zF=new Array(512);JF(zF);const qF=new Array(256);JF(qF);const $F=new Array(29);JF($F);const eB=new Array(LF);function tB(e,t,n,i,r){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=i,this.max_length=r,this.has_stree=e&&e.length}let nB,iB,rB;function oB(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}JF(eB);const aB=e=>e<256?zF[e]:zF[256+(e>>>7)],sB=(e,t)=>{e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255},cB=(e,t,n)=>{e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,sB(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},lB=(e,t,n)=>{cB(e,n[2*t],n[2*t+1])},dB=(e,t)=>{let n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1},uB=(e,t,n)=>{const i=new Array(16);let r,o,a=0;for(r=1;r<=PF;r++)a=a+n[r-1]<<1,i[r]=a;for(o=0;o<=t;o++){let t=e[2*o+1];0!==t&&(e[2*o]=dB(i[t]++,t))}},hB=e=>{let t;for(t=0;t<MF;t++)e.dyn_ltree[2*t]=0;for(t=0;t<LF;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},AB=e=>{e.bi_valid>8?sB(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},pB=(e,t,n,i)=>{const r=2*t,o=2*n;return e[r]<e[o]||e[r]===e[o]&&i[t]<=i[n]},gB=(e,t,n)=>{const i=e.heap[n];let r=n<<1;for(;r<=e.heap_len&&(r<e.heap_len&&pB(t,e.heap[r+1],e.heap[r],e.depth)&&r++,!pB(t,i,e.heap[r],e.depth));)e.heap[n]=e.heap[r],n=r,r<<=1;e.heap[n]=i},fB=(e,t,n)=>{let i,r,o,a,s=0;if(0!==e.sym_next)do{i=255&e.pending_buf[e.sym_buf+s++],i+=(255&e.pending_buf[e.sym_buf+s++])<<8,r=e.pending_buf[e.sym_buf+s++],0===i?lB(e,r,t):(o=qF[r],lB(e,o+xF+1,t),a=GF[o],0!==a&&(r-=$F[o],cB(e,r,a)),i--,o=aB(i),lB(e,o,n),a=YF[o],0!==a&&(i-=eB[o],cB(e,i,a)))}while(s<e.sym_next);lB(e,256,t)},mB=(e,t)=>{const n=t.dyn_tree,i=t.stat_desc.static_tree,r=t.stat_desc.has_stree,o=t.stat_desc.elems;let a,s,c,l=-1;for(e.heap_len=0,e.heap_max=573,a=0;a<o;a++)0!==n[2*a]?(e.heap[++e.heap_len]=l=a,e.depth[a]=0):n[2*a+1]=0;for(;e.heap_len<2;)c=e.heap[++e.heap_len]=l<2?++l:0,n[2*c]=1,e.depth[c]=0,e.opt_len--,r&&(e.static_len-=i[2*c+1]);for(t.max_code=l,a=e.heap_len>>1;a>=1;a--)gB(e,n,a);c=o;do{a=e.heap[1],e.heap[1]=e.heap[e.heap_len--],gB(e,n,1),s=e.heap[1],e.heap[--e.heap_max]=a,e.heap[--e.heap_max]=s,n[2*c]=n[2*a]+n[2*s],e.depth[c]=(e.depth[a]>=e.depth[s]?e.depth[a]:e.depth[s])+1,n[2*a+1]=n[2*s+1]=c,e.heap[1]=c++,gB(e,n,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],((e,t)=>{const n=t.dyn_tree,i=t.max_code,r=t.stat_desc.static_tree,o=t.stat_desc.has_stree,a=t.stat_desc.extra_bits,s=t.stat_desc.extra_base,c=t.stat_desc.max_length;let l,d,u,h,A,p,g=0;for(h=0;h<=PF;h++)e.bl_count[h]=0;for(n[2*e.heap[e.heap_max]+1]=0,l=e.heap_max+1;l<573;l++)d=e.heap[l],h=n[2*n[2*d+1]+1]+1,h>c&&(h=c,g++),n[2*d+1]=h,d>i||(e.bl_count[h]++,A=0,d>=s&&(A=a[d-s]),p=n[2*d],e.opt_len+=p*(h+A),o&&(e.static_len+=p*(r[2*d+1]+A)));if(0!==g){do{for(h=c-1;0===e.bl_count[h];)h--;e.bl_count[h]--,e.bl_count[h+1]+=2,e.bl_count[c]--,g-=2}while(g>0);for(h=c;0!==h;h--)for(d=e.bl_count[h];0!==d;)u=e.heap[--l],u>i||(n[2*u+1]!==h&&(e.opt_len+=(h-n[2*u+1])*n[2*u],n[2*u+1]=h),d--)}})(e,t),uB(n,l,e.bl_count)},EB=(e,t,n)=>{let i,r,o=-1,a=t[1],s=0,c=7,l=4;for(0===a&&(c=138,l=3),t[2*(n+1)+1]=65535,i=0;i<=n;i++)r=a,a=t[2*(i+1)+1],++s<c&&r===a||(s<l?e.bl_tree[2*r]+=s:0!==r?(r!==o&&e.bl_tree[2*r]++,e.bl_tree[32]++):s<=10?e.bl_tree[34]++:e.bl_tree[36]++,s=0,o=r,0===a?(c=138,l=3):r===a?(c=6,l=3):(c=7,l=4))},CB=(e,t,n)=>{let i,r,o=-1,a=t[1],s=0,c=7,l=4;for(0===a&&(c=138,l=3),i=0;i<=n;i++)if(r=a,a=t[2*(i+1)+1],!(++s<c&&r===a)){if(s<l)do{lB(e,r,e.bl_tree)}while(0!=--s);else 0!==r?(r!==o&&(lB(e,r,e.bl_tree),s--),lB(e,16,e.bl_tree),cB(e,s-3,2)):s<=10?(lB(e,17,e.bl_tree),cB(e,s-3,3)):(lB(e,18,e.bl_tree),cB(e,s-11,7));s=0,o=r,0===a?(c=138,l=3):r===a?(c=6,l=3):(c=7,l=4)}};let IB=!1;const QB=(e,t,n,i)=>{cB(e,0+(i?1:0),3),AB(e),sB(e,n),sB(e,~n),n&&e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n};var UB=e=>{IB||((()=>{let e,t,n,i,r;const o=new Array(16);for(n=0,i=0;i<28;i++)for($F[i]=n,e=0;e<1<<GF[i];e++)qF[n++]=i;for(qF[n-1]=i,r=0,i=0;i<16;i++)for(eB[i]=r,e=0;e<1<<YF[i];e++)zF[r++]=i;for(r>>=7;i<LF;i++)for(eB[i]=r<<7,e=0;e<1<<YF[i]-7;e++)zF[256+r++]=i;for(t=0;t<=PF;t++)o[t]=0;for(e=0;e<=143;)KF[2*e+1]=8,e++,o[8]++;for(;e<=255;)KF[2*e+1]=9,e++,o[9]++;for(;e<=279;)KF[2*e+1]=7,e++,o[7]++;for(;e<=287;)KF[2*e+1]=8,e++,o[8]++;for(uB(KF,287,o),e=0;e<LF;e++)HF[2*e+1]=5,HF[2*e]=dB(e,5);nB=new tB(KF,GF,257,MF,PF),iB=new tB(HF,YF,0,LF,PF),rB=new tB(new Array(0),jF,0,19,7)})(),IB=!0),e.l_desc=new oB(e.dyn_ltree,nB),e.d_desc=new oB(e.dyn_dtree,iB),e.bl_desc=new oB(e.bl_tree,rB),e.bi_buf=0,e.bi_valid=0,hB(e)},yB=(e,t,n,i)=>{let r,o,a=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=(e=>{let t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<xF;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0})(e)),mB(e,e.l_desc),mB(e,e.d_desc),a=(e=>{let t;for(EB(e,e.dyn_ltree,e.l_desc.max_code),EB(e,e.dyn_dtree,e.d_desc.max_code),mB(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*XF[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t})(e),r=e.opt_len+3+7>>>3,o=e.static_len+3+7>>>3,o<=r&&(r=o)):r=o=n+5,n+4<=r&&-1!==t?QB(e,t,n,i):4===e.strategy||o===r?(cB(e,2+(i?1:0),3),fB(e,KF,HF)):(cB(e,4+(i?1:0),3),((e,t,n,i)=>{let r;for(cB(e,t-257,5),cB(e,n-1,5),cB(e,i-4,4),r=0;r<i;r++)cB(e,e.bl_tree[2*XF[r]+1],3);CB(e,e.dyn_ltree,t-1),CB(e,e.dyn_dtree,n-1)})(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),fB(e,e.dyn_ltree,e.dyn_dtree)),hB(e),i&&AB(e)},bB=(e,t,n)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=n,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(qF[n]+xF+1)]++,e.dyn_dtree[2*aB(t)]++),e.sym_next===e.sym_end),vB={_tr_init:UB,_tr_stored_block:QB,_tr_flush_block:yB,_tr_tally:bB,_tr_align:e=>{cB(e,2,3),lB(e,256,KF),(e=>{16===e.bi_valid?(sB(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)})(e)}},RB=(e,t,n,i)=>{let r=65535&e|0,o=e>>>16&65535|0,a=0;for(;0!==n;){a=n>2e3?2e3:n,n-=a;do{r=r+t[i++]|0,o=o+r|0}while(--a);r%=65521,o%=65521}return r|o<<16|0};const SB=new Uint32Array((()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var i=0;i<8;i++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t})());var FB=(e,t,n,i)=>{const r=SB,o=i+n;e^=-1;for(let a=i;a<o;a++)e=e>>>8^r[255&(e^t[a])];return-1^e},BB={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},TB={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:NB,_tr_stored_block:_B,_tr_flush_block:wB,_tr_tally:kB,_tr_align:DB}=vB,{Z_NO_FLUSH:VB,Z_PARTIAL_FLUSH:ZB,Z_FULL_FLUSH:WB,Z_FINISH:OB,Z_BLOCK:JB,Z_OK:xB,Z_STREAM_END:MB,Z_STREAM_ERROR:LB,Z_DATA_ERROR:PB,Z_BUF_ERROR:GB,Z_DEFAULT_COMPRESSION:YB,Z_FILTERED:jB,Z_HUFFMAN_ONLY:XB,Z_RLE:KB,Z_FIXED:HB,Z_DEFAULT_STRATEGY:zB,Z_UNKNOWN:qB,Z_DEFLATED:$B}=TB,eT=286,tT=30,nT=19,iT=2*eT+1,rT=15,oT=258,aT=262,sT=42,cT=113,lT=666,dT=(e,t)=>(e.msg=BB[t],t),uT=e=>2*e-(e>4?9:0),hT=e=>{let t=e.length;for(;--t>=0;)e[t]=0},AT=e=>{let t,n,i,r=e.w_size;t=e.hash_size,i=t;do{n=e.head[--i],e.head[i]=n>=r?n-r:0}while(--t);t=r,i=t;do{n=e.prev[--i],e.prev[i]=n>=r?n-r:0}while(--t)};let pT=(e,t,n)=>(t<<e.hash_shift^n)&e.hash_mask;const gT=e=>{const t=e.state;let n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))},fT=(e,t)=>{wB(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,gT(e.strm)},mT=(e,t)=>{e.pending_buf[e.pending++]=t},ET=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t},CT=(e,t,n,i)=>{let r=e.avail_in;return r>i&&(r=i),0===r?0:(e.avail_in-=r,t.set(e.input.subarray(e.next_in,e.next_in+r),n),1===e.state.wrap?e.adler=RB(e.adler,t,r,n):2===e.state.wrap&&(e.adler=FB(e.adler,t,r,n)),e.next_in+=r,e.total_in+=r,r)},IT=(e,t)=>{let n,i,r=e.max_chain_length,o=e.strstart,a=e.prev_length,s=e.nice_match;const c=e.strstart>e.w_size-aT?e.strstart-(e.w_size-aT):0,l=e.window,d=e.w_mask,u=e.prev,h=e.strstart+oT;let A=l[o+a-1],p=l[o+a];e.prev_length>=e.good_match&&(r>>=2),s>e.lookahead&&(s=e.lookahead);do{if(n=t,l[n+a]===p&&l[n+a-1]===A&&l[n]===l[o]&&l[++n]===l[o+1]){o+=2,n++;do{}while(l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&o<h);if(i=oT-(h-o),o=h-oT,i>a){if(e.match_start=t,a=i,i>=s)break;A=l[o+a-1],p=l[o+a]}}}while((t=u[t&d])>c&&0!=--r);return a<=e.lookahead?a:e.lookahead},QT=e=>{const t=e.w_size;let n,i,r;do{if(i=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-aT)&&(e.window.set(e.window.subarray(t,t+t-i),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),AT(e),i+=t),0===e.strm.avail_in)break;if(n=CT(e.strm,e.window,e.strstart+e.lookahead,i),e.lookahead+=n,e.lookahead+e.insert>=3)for(r=e.strstart-e.insert,e.ins_h=e.window[r],e.ins_h=pT(e,e.ins_h,e.window[r+1]);e.insert&&(e.ins_h=pT(e,e.ins_h,e.window[r+3-1]),e.prev[r&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=r,r++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<aT&&0!==e.strm.avail_in)},UT=(e,t)=>{let n,i,r,o=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,a=0,s=e.strm.avail_in;do{if(n=65535,r=e.bi_valid+42>>3,e.strm.avail_out<r)break;if(r=e.strm.avail_out-r,i=e.strstart-e.block_start,n>i+e.strm.avail_in&&(n=i+e.strm.avail_in),n>r&&(n=r),n<o&&(0===n&&t!==OB||t===VB||n!==i+e.strm.avail_in))break;a=t===OB&&n===i+e.strm.avail_in?1:0,_B(e,0,0,a),e.pending_buf[e.pending-4]=n,e.pending_buf[e.pending-3]=n>>8,e.pending_buf[e.pending-2]=~n,e.pending_buf[e.pending-1]=~n>>8,gT(e.strm),i&&(i>n&&(i=n),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+i),e.strm.next_out),e.strm.next_out+=i,e.strm.avail_out-=i,e.strm.total_out+=i,e.block_start+=i,n-=i),n&&(CT(e.strm,e.strm.output,e.strm.next_out,n),e.strm.next_out+=n,e.strm.avail_out-=n,e.strm.total_out+=n)}while(0===a);return s-=e.strm.avail_in,s&&(s>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=s&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-s,e.strm.next_in),e.strstart),e.strstart+=s,e.insert+=s>e.w_size-e.insert?e.w_size-e.insert:s),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),a?4:t!==VB&&t!==OB&&0===e.strm.avail_in&&e.strstart===e.block_start?2:(r=e.window_size-e.strstart,e.strm.avail_in>r&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,r+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),r>e.strm.avail_in&&(r=e.strm.avail_in),r&&(CT(e.strm,e.window,e.strstart,r),e.strstart+=r,e.insert+=r>e.w_size-e.insert?e.w_size-e.insert:r),e.high_water<e.strstart&&(e.high_water=e.strstart),r=e.bi_valid+42>>3,r=e.pending_buf_size-r>65535?65535:e.pending_buf_size-r,o=r>e.w_size?e.w_size:r,i=e.strstart-e.block_start,(i>=o||(i||t===OB)&&t!==VB&&0===e.strm.avail_in&&i<=r)&&(n=i>r?r:i,a=t===OB&&0===e.strm.avail_in&&n===i?1:0,_B(e,e.block_start,n,a),e.block_start+=n,gT(e.strm)),a?3:1)},yT=(e,t)=>{let n,i;for(;;){if(e.lookahead<aT){if(QT(e),e.lookahead<aT&&t===VB)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=pT(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-aT&&(e.match_length=IT(e,n)),e.match_length>=3)if(i=kB(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=pT(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=pT(e,e.ins_h,e.window[e.strstart+1]);else i=kB(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(i&&(fT(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,t===OB?(fT(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(fT(e,!1),0===e.strm.avail_out)?1:2},bT=(e,t)=>{let n,i,r;for(;;){if(e.lookahead<aT){if(QT(e),e.lookahead<aT&&t===VB)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=pT(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-aT&&(e.match_length=IT(e,n),e.match_length<=5&&(e.strategy===jB||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){r=e.strstart+e.lookahead-3,i=kB(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=r&&(e.ins_h=pT(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,i&&(fT(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if(i=kB(e,0,e.window[e.strstart-1]),i&&fT(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(i=kB(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,t===OB?(fT(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(fT(e,!1),0===e.strm.avail_out)?1:2};function vT(e,t,n,i,r){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=i,this.func=r}const RT=[new vT(0,0,0,0,UT),new vT(4,4,8,4,yT),new vT(4,5,16,8,yT),new vT(4,6,32,32,yT),new vT(4,4,16,16,bT),new vT(8,16,32,32,bT),new vT(8,16,128,128,bT),new vT(8,32,128,256,bT),new vT(32,128,258,1024,bT),new vT(32,258,258,4096,bT)];function ST(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=$B,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(2*iT),this.dyn_dtree=new Uint16Array(2*(2*tT+1)),this.bl_tree=new Uint16Array(2*(2*nT+1)),hT(this.dyn_ltree),hT(this.dyn_dtree),hT(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(rT+1),this.heap=new Uint16Array(2*eT+1),hT(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*eT+1),hT(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const FT=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==sT&&57!==t.status&&69!==t.status&&73!==t.status&&91!==t.status&&103!==t.status&&t.status!==cT&&t.status!==lT?1:0},BT=e=>{if(FT(e))return dT(e,LB);e.total_in=e.total_out=0,e.data_type=qB;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=2===t.wrap?57:t.wrap?sT:cT,e.adler=2===t.wrap?0:1,t.last_flush=-2,NB(t),xB},TT=e=>{const t=BT(e);var n;return t===xB&&((n=e.state).window_size=2*n.w_size,hT(n.head),n.max_lazy_match=RT[n.level].max_lazy,n.good_match=RT[n.level].good_length,n.nice_match=RT[n.level].nice_length,n.max_chain_length=RT[n.level].max_chain,n.strstart=0,n.block_start=0,n.lookahead=0,n.insert=0,n.match_length=n.prev_length=2,n.match_available=0,n.ins_h=0),t},NT=(e,t,n,i,r,o)=>{if(!e)return LB;let a=1;if(t===YB&&(t=6),i<0?(a=0,i=-i):i>15&&(a=2,i-=16),r<1||r>9||n!==$B||i<8||i>15||t<0||t>9||o<0||o>HB||8===i&&1!==a)return dT(e,LB);8===i&&(i=9);const s=new ST;return e.state=s,s.strm=e,s.status=sT,s.wrap=a,s.gzhead=null,s.w_bits=i,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=r+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+3-1)/3),s.window=new Uint8Array(2*s.w_size),s.head=new Uint16Array(s.hash_size),s.prev=new Uint16Array(s.w_size),s.lit_bufsize=1<<r+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new Uint8Array(s.pending_buf_size),s.sym_buf=s.lit_bufsize,s.sym_end=3*(s.lit_bufsize-1),s.level=t,s.strategy=o,s.method=n,TT(e)};var _T=(e,t)=>{if(FT(e)||t>JB||t<0)return e?dT(e,LB):LB;const n=e.state;if(!e.output||0!==e.avail_in&&!e.input||n.status===lT&&t!==OB)return dT(e,0===e.avail_out?GB:LB);const i=n.last_flush;if(n.last_flush=t,0!==n.pending){if(gT(e),0===e.avail_out)return n.last_flush=-1,xB}else if(0===e.avail_in&&uT(t)<=uT(i)&&t!==OB)return dT(e,GB);if(n.status===lT&&0!==e.avail_in)return dT(e,GB);if(n.status===sT&&0===n.wrap&&(n.status=cT),n.status===sT){let t=$B+(n.w_bits-8<<4)<<8,i=-1;if(i=n.strategy>=XB||n.level<2?0:n.level<6?1:6===n.level?2:3,t|=i<<6,0!==n.strstart&&(t|=32),t+=31-t%31,ET(n,t),0!==n.strstart&&(ET(n,e.adler>>>16),ET(n,65535&e.adler)),e.adler=1,n.status=cT,gT(e),0!==n.pending)return n.last_flush=-1,xB}if(57===n.status)if(e.adler=0,mT(n,31),mT(n,139),mT(n,8),n.gzhead)mT(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),mT(n,255&n.gzhead.time),mT(n,n.gzhead.time>>8&255),mT(n,n.gzhead.time>>16&255),mT(n,n.gzhead.time>>24&255),mT(n,9===n.level?2:n.strategy>=XB||n.level<2?4:0),mT(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(mT(n,255&n.gzhead.extra.length),mT(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=FB(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=69;else if(mT(n,0),mT(n,0),mT(n,0),mT(n,0),mT(n,0),mT(n,9===n.level?2:n.strategy>=XB||n.level<2?4:0),mT(n,3),n.status=cT,gT(e),0!==n.pending)return n.last_flush=-1,xB;if(69===n.status){if(n.gzhead.extra){let t=n.pending,i=(65535&n.gzhead.extra.length)-n.gzindex;for(;n.pending+i>n.pending_buf_size;){let r=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+r),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>t&&(e.adler=FB(e.adler,n.pending_buf,n.pending-t,t)),n.gzindex+=r,gT(e),0!==n.pending)return n.last_flush=-1,xB;t=0,i-=r}let r=new Uint8Array(n.gzhead.extra);n.pending_buf.set(r.subarray(n.gzindex,n.gzindex+i),n.pending),n.pending+=i,n.gzhead.hcrc&&n.pending>t&&(e.adler=FB(e.adler,n.pending_buf,n.pending-t,t)),n.gzindex=0}n.status=73}if(73===n.status){if(n.gzhead.name){let t,i=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(e.adler=FB(e.adler,n.pending_buf,n.pending-i,i)),gT(e),0!==n.pending)return n.last_flush=-1,xB;i=0}t=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,mT(n,t)}while(0!==t);n.gzhead.hcrc&&n.pending>i&&(e.adler=FB(e.adler,n.pending_buf,n.pending-i,i)),n.gzindex=0}n.status=91}if(91===n.status){if(n.gzhead.comment){let t,i=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(e.adler=FB(e.adler,n.pending_buf,n.pending-i,i)),gT(e),0!==n.pending)return n.last_flush=-1,xB;i=0}t=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,mT(n,t)}while(0!==t);n.gzhead.hcrc&&n.pending>i&&(e.adler=FB(e.adler,n.pending_buf,n.pending-i,i))}n.status=103}if(103===n.status){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(gT(e),0!==n.pending))return n.last_flush=-1,xB;mT(n,255&e.adler),mT(n,e.adler>>8&255),e.adler=0}if(n.status=cT,gT(e),0!==n.pending)return n.last_flush=-1,xB}if(0!==e.avail_in||0!==n.lookahead||t!==VB&&n.status!==lT){let i=0===n.level?UT(n,t):n.strategy===XB?((e,t)=>{let n;for(;;){if(0===e.lookahead&&(QT(e),0===e.lookahead)){if(t===VB)return 1;break}if(e.match_length=0,n=kB(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(fT(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===OB?(fT(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(fT(e,!1),0===e.strm.avail_out)?1:2})(n,t):n.strategy===KB?((e,t)=>{let n,i,r,o;const a=e.window;for(;;){if(e.lookahead<=oT){if(QT(e),e.lookahead<=oT&&t===VB)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(r=e.strstart-1,i=a[r],i===a[++r]&&i===a[++r]&&i===a[++r])){o=e.strstart+oT;do{}while(i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&r<o);e.match_length=oT-(o-r),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=kB(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=kB(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(fT(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===OB?(fT(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(fT(e,!1),0===e.strm.avail_out)?1:2})(n,t):RT[n.level].func(n,t);if(3!==i&&4!==i||(n.status=lT),1===i||3===i)return 0===e.avail_out&&(n.last_flush=-1),xB;if(2===i&&(t===ZB?DB(n):t!==JB&&(_B(n,0,0,!1),t===WB&&(hT(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),gT(e),0===e.avail_out))return n.last_flush=-1,xB}return t!==OB?xB:n.wrap<=0?MB:(2===n.wrap?(mT(n,255&e.adler),mT(n,e.adler>>8&255),mT(n,e.adler>>16&255),mT(n,e.adler>>24&255),mT(n,255&e.total_in),mT(n,e.total_in>>8&255),mT(n,e.total_in>>16&255),mT(n,e.total_in>>24&255)):(ET(n,e.adler>>>16),ET(n,65535&e.adler)),gT(e),n.wrap>0&&(n.wrap=-n.wrap),0!==n.pending?xB:MB)},wT=(e,t)=>{let n=t.length;if(FT(e))return LB;const i=e.state,r=i.wrap;if(2===r||1===r&&i.status!==sT||i.lookahead)return LB;if(1===r&&(e.adler=RB(e.adler,t,n,0)),i.wrap=0,n>=i.w_size){0===r&&(hT(i.head),i.strstart=0,i.block_start=0,i.insert=0);let e=new Uint8Array(i.w_size);e.set(t.subarray(n-i.w_size,n),0),t=e,n=i.w_size}const o=e.avail_in,a=e.next_in,s=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,QT(i);i.lookahead>=3;){let e=i.strstart,t=i.lookahead-2;do{i.ins_h=pT(i,i.ins_h,i.window[e+3-1]),i.prev[e&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=e,e++}while(--t);i.strstart=e,i.lookahead=2,QT(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=2,i.match_available=0,e.next_in=a,e.input=s,e.avail_in=o,i.wrap=r,xB},kT={deflateInit:(e,t)=>NT(e,t,$B,15,8,zB),deflateInit2:NT,deflateReset:TT,deflateResetKeep:BT,deflateSetHeader:(e,t)=>FT(e)||2!==e.state.wrap?LB:(e.state.gzhead=t,xB),deflate:_T,deflateEnd:e=>{if(FT(e))return LB;const t=e.state.status;return e.state=null,t===cT?dT(e,PB):xB},deflateSetDictionary:wT,deflateInfo:"pako deflate (from Nodeca project)"};const DT=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var VT={assign:function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(const t in n)DT(n,t)&&(e[t]=n[t])}}return e},flattenChunks:e=>{let t=0;for(let i=0,r=e.length;i<r;i++)t+=e[i].length;const n=new Uint8Array(t);for(let i=0,r=0,o=e.length;i<o;i++){let t=e[i];n.set(t,r),r+=t.length}return n}};let ZT=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){ZT=!1}const WT=new Uint8Array(256);for(let n=0;n<256;n++)WT[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;WT[254]=WT[254]=1;var OT={string2buf:e=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(e);let t,n,i,r,o,a=e.length,s=0;for(r=0;r<a;r++)n=e.charCodeAt(r),55296==(64512&n)&&r+1<a&&(i=e.charCodeAt(r+1),56320==(64512&i)&&(n=65536+(n-55296<<10)+(i-56320),r++)),s+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(s),o=0,r=0;o<s;r++)n=e.charCodeAt(r),55296==(64512&n)&&r+1<a&&(i=e.charCodeAt(r+1),56320==(64512&i)&&(n=65536+(n-55296<<10)+(i-56320),r++)),n<128?t[o++]=n:n<2048?(t[o++]=192|n>>>6,t[o++]=128|63&n):n<65536?(t[o++]=224|n>>>12,t[o++]=128|n>>>6&63,t[o++]=128|63&n):(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63,t[o++]=128|n>>>6&63,t[o++]=128|63&n);return t},buf2string:(e,t)=>{const n=t||e.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(e.subarray(0,t));let i,r;const o=new Array(2*n);for(r=0,i=0;i<n;){let t=e[i++];if(t<128){o[r++]=t;continue}let a=WT[t];if(a>4)o[r++]=65533,i+=a-1;else{for(t&=2===a?31:3===a?15:7;a>1&&i<n;)t=t<<6|63&e[i++],a--;a>1?o[r++]=65533:t<65536?o[r++]=t:(t-=65536,o[r++]=55296|t>>10&1023,o[r++]=56320|1023&t)}}return((e,t)=>{if(t<65534&&e.subarray&&ZT)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let n="";for(let i=0;i<t;i++)n+=String.fromCharCode(e[i]);return n})(o,r)},utf8border:(e,t)=>{(t=t||e.length)>e.length&&(t=e.length);let n=t-1;for(;n>=0&&128==(192&e[n]);)n--;return n<0||0===n?t:n+WT[e[n]]>t?n:t}},JT=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const xT=Object.prototype.toString,{Z_NO_FLUSH:MT,Z_SYNC_FLUSH:LT,Z_FULL_FLUSH:PT,Z_FINISH:GT,Z_OK:YT,Z_STREAM_END:jT,Z_DEFAULT_COMPRESSION:XT,Z_DEFAULT_STRATEGY:KT,Z_DEFLATED:HT}=TB;function zT(e){this.options=VT.assign({level:XT,method:HT,chunkSize:16384,windowBits:15,memLevel:8,strategy:KT},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new JT,this.strm.avail_out=0;let n=kT.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==YT)throw new Error(BB[n]);if(t.header&&kT.deflateSetHeader(this.strm,t.header),t.dictionary){let e;if(e="string"==typeof t.dictionary?OT.string2buf(t.dictionary):"[object ArrayBuffer]"===xT.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,n=kT.deflateSetDictionary(this.strm,e),n!==YT)throw new Error(BB[n]);this._dict_set=!0}}function qT(e,t){const n=new zT(t);if(n.push(e,!0),n.err)throw n.msg||BB[n.err];return n.result}zT.prototype.push=function(e,t){const n=this.strm,i=this.options.chunkSize;let r,o;if(this.ended)return!1;for(o=t===~~t?t:!0===t?GT:MT,"string"==typeof e?n.input=OT.string2buf(e):"[object ArrayBuffer]"===xT.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;)if(0===n.avail_out&&(n.output=new Uint8Array(i),n.next_out=0,n.avail_out=i),(o===LT||o===PT)&&n.avail_out<=6)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else{if(r=kT.deflate(n,o),r===jT)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),r=kT.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===YT;if(0!==n.avail_out){if(o>0&&n.next_out>0)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else if(0===n.avail_in)break}else this.onData(n.output)}return!0},zT.prototype.onData=function(e){this.chunks.push(e)},zT.prototype.onEnd=function(e){e===YT&&(this.result=VT.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var $T={Deflate:zT,deflate:qT,deflateRaw:function(e,t){return(t=t||{}).raw=!0,qT(e,t)},gzip:function(e,t){return(t=t||{}).gzip=!0,qT(e,t)},constants:TB};const eN=16209;var tN=function(e,t){let n,i,r,o,a,s,c,l,d,u,h,A,p,g,f,m,E,C,I,Q,U,y,b,v;const R=e.state;n=e.next_in,b=e.input,i=n+(e.avail_in-5),r=e.next_out,v=e.output,o=r-(t-e.avail_out),a=r+(e.avail_out-257),s=R.dmax,c=R.wsize,l=R.whave,d=R.wnext,u=R.window,h=R.hold,A=R.bits,p=R.lencode,g=R.distcode,f=(1<<R.lenbits)-1,m=(1<<R.distbits)-1;e:do{A<15&&(h+=b[n++]<<A,A+=8,h+=b[n++]<<A,A+=8),E=p[h&f];t:for(;;){if(C=E>>>24,h>>>=C,A-=C,C=E>>>16&255,0===C)v[r++]=65535&E;else{if(!(16&C)){if(0==(64&C)){E=p[(65535&E)+(h&(1<<C)-1)];continue t}if(32&C){R.mode=16191;break e}e.msg="invalid literal/length code",R.mode=eN;break e}I=65535&E,C&=15,C&&(A<C&&(h+=b[n++]<<A,A+=8),I+=h&(1<<C)-1,h>>>=C,A-=C),A<15&&(h+=b[n++]<<A,A+=8,h+=b[n++]<<A,A+=8),E=g[h&m];n:for(;;){if(C=E>>>24,h>>>=C,A-=C,C=E>>>16&255,!(16&C)){if(0==(64&C)){E=g[(65535&E)+(h&(1<<C)-1)];continue n}e.msg="invalid distance code",R.mode=eN;break e}if(Q=65535&E,C&=15,A<C&&(h+=b[n++]<<A,A+=8,A<C&&(h+=b[n++]<<A,A+=8)),Q+=h&(1<<C)-1,Q>s){e.msg="invalid distance too far back",R.mode=eN;break e}if(h>>>=C,A-=C,C=r-o,Q>C){if(C=Q-C,C>l&&R.sane){e.msg="invalid distance too far back",R.mode=eN;break e}if(U=0,y=u,0===d){if(U+=c-C,C<I){I-=C;do{v[r++]=u[U++]}while(--C);U=r-Q,y=v}}else if(d<C){if(U+=c+d-C,C-=d,C<I){I-=C;do{v[r++]=u[U++]}while(--C);if(U=0,d<I){C=d,I-=C;do{v[r++]=u[U++]}while(--C);U=r-Q,y=v}}}else if(U+=d-C,C<I){I-=C;do{v[r++]=u[U++]}while(--C);U=r-Q,y=v}for(;I>2;)v[r++]=y[U++],v[r++]=y[U++],v[r++]=y[U++],I-=3;I&&(v[r++]=y[U++],I>1&&(v[r++]=y[U++]))}else{U=r-Q;do{v[r++]=v[U++],v[r++]=v[U++],v[r++]=v[U++],I-=3}while(I>2);I&&(v[r++]=v[U++],I>1&&(v[r++]=v[U++]))}break}}break}}while(n<i&&r<a);I=A>>3,n-=I,A-=I<<3,h&=(1<<A)-1,e.next_in=n,e.next_out=r,e.avail_in=n<i?i-n+5:5-(n-i),e.avail_out=r<a?a-r+257:257-(r-a),R.hold=h,R.bits=A};const nN=15,iN=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),rN=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),oN=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),aN=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var sN=(e,t,n,i,r,o,a,s)=>{const c=s.bits;let l,d,u,h,A,p,g=0,f=0,m=0,E=0,C=0,I=0,Q=0,U=0,y=0,b=0,v=null;const R=new Uint16Array(16),S=new Uint16Array(16);let F,B,T,N=null;for(g=0;g<=nN;g++)R[g]=0;for(f=0;f<i;f++)R[t[n+f]]++;for(C=c,E=nN;E>=1&&0===R[E];E--);if(C>E&&(C=E),0===E)return r[o++]=20971520,r[o++]=20971520,s.bits=1,0;for(m=1;m<E&&0===R[m];m++);for(C<m&&(C=m),U=1,g=1;g<=nN;g++)if(U<<=1,U-=R[g],U<0)return-1;if(U>0&&(0===e||1!==E))return-1;for(S[1]=0,g=1;g<nN;g++)S[g+1]=S[g]+R[g];for(f=0;f<i;f++)0!==t[n+f]&&(a[S[t[n+f]]++]=f);if(0===e?(v=N=a,p=20):1===e?(v=iN,N=rN,p=257):(v=oN,N=aN,p=0),b=0,f=0,g=m,A=o,I=C,Q=0,u=-1,y=1<<C,h=y-1,1===e&&y>852||2===e&&y>592)return 1;for(;;){F=g-Q,a[f]+1<p?(B=0,T=a[f]):a[f]>=p?(B=N[a[f]-p],T=v[a[f]-p]):(B=96,T=0),l=1<<g-Q,d=1<<I,m=d;do{d-=l,r[A+(b>>Q)+d]=F<<24|B<<16|T|0}while(0!==d);for(l=1<<g-1;b&l;)l>>=1;if(0!==l?(b&=l-1,b+=l):b=0,f++,0==--R[g]){if(g===E)break;g=t[n+a[f]]}if(g>C&&(b&h)!==u){for(0===Q&&(Q=C),A+=m,I=g-Q,U=1<<I;I+Q<E&&(U-=R[I+Q],!(U<=0));)I++,U<<=1;if(y+=1<<I,1===e&&y>852||2===e&&y>592)return 1;u=b&h,r[u]=C<<24|I<<16|A-o|0}}return 0!==b&&(r[A+b]=g-Q<<24|64<<16|0),s.bits=C,0};const{Z_FINISH:cN,Z_BLOCK:lN,Z_TREES:dN,Z_OK:uN,Z_STREAM_END:hN,Z_NEED_DICT:AN,Z_STREAM_ERROR:pN,Z_DATA_ERROR:gN,Z_MEM_ERROR:fN,Z_BUF_ERROR:mN,Z_DEFLATED:EN}=TB,CN=16180,IN=16190,QN=16191,UN=16192,yN=16194,bN=16199,vN=16200,RN=16206,SN=16209,FN=e=>(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24);function BN(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const TN=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<CN||t.mode>16211?1:0},NN=e=>{if(TN(e))return pN;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=CN,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,uN},_N=e=>{if(TN(e))return pN;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,NN(e)},wN=(e,t)=>{let n;if(TN(e))return pN;const i=e.state;return t<0?(n=0,t=-t):(n=5+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?pN:(null!==i.window&&i.wbits!==t&&(i.window=null),i.wrap=n,i.wbits=t,_N(e))},kN=(e,t)=>{if(!e)return pN;const n=new BN;e.state=n,n.strm=e,n.window=null,n.mode=CN;const i=wN(e,t);return i!==uN&&(e.state=null),i};let DN,VN,ZN=!0;const WN=e=>{if(ZN){DN=new Int32Array(512),VN=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(sN(1,e.lens,0,288,DN,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;sN(2,e.lens,0,32,VN,0,e.work,{bits:5}),ZN=!1}e.lencode=DN,e.lenbits=9,e.distcode=VN,e.distbits=5},ON=(e,t,n,i)=>{let r;const o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),i>=o.wsize?(o.window.set(t.subarray(n-o.wsize,n),0),o.wnext=0,o.whave=o.wsize):(r=o.wsize-o.wnext,r>i&&(r=i),o.window.set(t.subarray(n-i,n-i+r),o.wnext),(i-=r)?(o.window.set(t.subarray(n-i,n),0),o.wnext=i,o.whave=o.wsize):(o.wnext+=r,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=r))),0};var JN=(e,t)=>{let n,i,r,o,a,s,c,l,d,u,h,A,p,g,f,m,E,C,I,Q,U,y,b=0;const v=new Uint8Array(4);let R,S;const F=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(TN(e)||!e.output||!e.input&&0!==e.avail_in)return pN;n=e.state,n.mode===QN&&(n.mode=UN),a=e.next_out,r=e.output,c=e.avail_out,o=e.next_in,i=e.input,s=e.avail_in,l=n.hold,d=n.bits,u=s,h=c,y=uN;e:for(;;)switch(n.mode){case CN:if(0===n.wrap){n.mode=UN;break}for(;d<16;){if(0===s)break e;s--,l+=i[o++]<<d,d+=8}if(2&n.wrap&&35615===l){0===n.wbits&&(n.wbits=15),n.check=0,v[0]=255&l,v[1]=l>>>8&255,n.check=FB(n.check,v,2,0),l=0,d=0,n.mode=16181;break}if(n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&l)<<8)+(l>>8))%31){e.msg="incorrect header check",n.mode=SN;break}if((15&l)!==EN){e.msg="unknown compression method",n.mode=SN;break}if(l>>>=4,d-=4,U=8+(15&l),0===n.wbits&&(n.wbits=U),U>15||U>n.wbits){e.msg="invalid window size",n.mode=SN;break}n.dmax=1<<n.wbits,n.flags=0,e.adler=n.check=1,n.mode=512&l?16189:QN,l=0,d=0;break;case 16181:for(;d<16;){if(0===s)break e;s--,l+=i[o++]<<d,d+=8}if(n.flags=l,(255&n.flags)!==EN){e.msg="unknown compression method",n.mode=SN;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=SN;break}n.head&&(n.head.text=l>>8&1),512&n.flags&&4&n.wrap&&(v[0]=255&l,v[1]=l>>>8&255,n.check=FB(n.check,v,2,0)),l=0,d=0,n.mode=16182;case 16182:for(;d<32;){if(0===s)break e;s--,l+=i[o++]<<d,d+=8}n.head&&(n.head.time=l),512&n.flags&&4&n.wrap&&(v[0]=255&l,v[1]=l>>>8&255,v[2]=l>>>16&255,v[3]=l>>>24&255,n.check=FB(n.check,v,4,0)),l=0,d=0,n.mode=16183;case 16183:for(;d<16;){if(0===s)break e;s--,l+=i[o++]<<d,d+=8}n.head&&(n.head.xflags=255&l,n.head.os=l>>8),512&n.flags&&4&n.wrap&&(v[0]=255&l,v[1]=l>>>8&255,n.check=FB(n.check,v,2,0)),l=0,d=0,n.mode=16184;case 16184:if(1024&n.flags){for(;d<16;){if(0===s)break e;s--,l+=i[o++]<<d,d+=8}n.length=l,n.head&&(n.head.extra_len=l),512&n.flags&&4&n.wrap&&(v[0]=255&l,v[1]=l>>>8&255,n.check=FB(n.check,v,2,0)),l=0,d=0}else n.head&&(n.head.extra=null);n.mode=16185;case 16185:if(1024&n.flags&&(A=n.length,A>s&&(A=s),A&&(n.head&&(U=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(i.subarray(o,o+A),U)),512&n.flags&&4&n.wrap&&(n.check=FB(n.check,i,A,o)),s-=A,o+=A,n.length-=A),n.length))break e;n.length=0,n.mode=16186;case 16186:if(2048&n.flags){if(0===s)break e;A=0;do{U=i[o+A++],n.head&&U&&n.length<65536&&(n.head.name+=String.fromCharCode(U))}while(U&&A<s);if(512&n.flags&&4&n.wrap&&(n.check=FB(n.check,i,A,o)),s-=A,o+=A,U)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=16187;case 16187:if(4096&n.flags){if(0===s)break e;A=0;do{U=i[o+A++],n.head&&U&&n.length<65536&&(n.head.comment+=String.fromCharCode(U))}while(U&&A<s);if(512&n.flags&&4&n.wrap&&(n.check=FB(n.check,i,A,o)),s-=A,o+=A,U)break e}else n.head&&(n.head.comment=null);n.mode=16188;case 16188:if(512&n.flags){for(;d<16;){if(0===s)break e;s--,l+=i[o++]<<d,d+=8}if(4&n.wrap&&l!==(65535&n.check)){e.msg="header crc mismatch",n.mode=SN;break}l=0,d=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=QN;break;case 16189:for(;d<32;){if(0===s)break e;s--,l+=i[o++]<<d,d+=8}e.adler=n.check=FN(l),l=0,d=0,n.mode=IN;case IN:if(0===n.havedict)return e.next_out=a,e.avail_out=c,e.next_in=o,e.avail_in=s,n.hold=l,n.bits=d,AN;e.adler=n.check=1,n.mode=QN;case QN:if(t===lN||t===dN)break e;case UN:if(n.last){l>>>=7&d,d-=7&d,n.mode=RN;break}for(;d<3;){if(0===s)break e;s--,l+=i[o++]<<d,d+=8}switch(n.last=1&l,l>>>=1,d-=1,3&l){case 0:n.mode=16193;break;case 1:if(WN(n),n.mode=bN,t===dN){l>>>=2,d-=2;break e}break;case 2:n.mode=16196;break;case 3:e.msg="invalid block type",n.mode=SN}l>>>=2,d-=2;break;case 16193:for(l>>>=7&d,d-=7&d;d<32;){if(0===s)break e;s--,l+=i[o++]<<d,d+=8}if((65535&l)!=(l>>>16^65535)){e.msg="invalid stored block lengths",n.mode=SN;break}if(n.length=65535&l,l=0,d=0,n.mode=yN,t===dN)break e;case yN:n.mode=16195;case 16195:if(A=n.length,A){if(A>s&&(A=s),A>c&&(A=c),0===A)break e;r.set(i.subarray(o,o+A),a),s-=A,o+=A,c-=A,a+=A,n.length-=A;break}n.mode=QN;break;case 16196:for(;d<14;){if(0===s)break e;s--,l+=i[o++]<<d,d+=8}if(n.nlen=257+(31&l),l>>>=5,d-=5,n.ndist=1+(31&l),l>>>=5,d-=5,n.ncode=4+(15&l),l>>>=4,d-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=SN;break}n.have=0,n.mode=16197;case 16197:for(;n.have<n.ncode;){for(;d<3;){if(0===s)break e;s--,l+=i[o++]<<d,d+=8}n.lens[F[n.have++]]=7&l,l>>>=3,d-=3}for(;n.have<19;)n.lens[F[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,R={bits:n.lenbits},y=sN(0,n.lens,0,19,n.lencode,0,n.work,R),n.lenbits=R.bits,y){e.msg="invalid code lengths set",n.mode=SN;break}n.have=0,n.mode=16198;case 16198:for(;n.have<n.nlen+n.ndist;){for(;b=n.lencode[l&(1<<n.lenbits)-1],f=b>>>24,m=b>>>16&255,E=65535&b,!(f<=d);){if(0===s)break e;s--,l+=i[o++]<<d,d+=8}if(E<16)l>>>=f,d-=f,n.lens[n.have++]=E;else{if(16===E){for(S=f+2;d<S;){if(0===s)break e;s--,l+=i[o++]<<d,d+=8}if(l>>>=f,d-=f,0===n.have){e.msg="invalid bit length repeat",n.mode=SN;break}U=n.lens[n.have-1],A=3+(3&l),l>>>=2,d-=2}else if(17===E){for(S=f+3;d<S;){if(0===s)break e;s--,l+=i[o++]<<d,d+=8}l>>>=f,d-=f,U=0,A=3+(7&l),l>>>=3,d-=3}else{for(S=f+7;d<S;){if(0===s)break e;s--,l+=i[o++]<<d,d+=8}l>>>=f,d-=f,U=0,A=11+(127&l),l>>>=7,d-=7}if(n.have+A>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=SN;break}for(;A--;)n.lens[n.have++]=U}}if(n.mode===SN)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=SN;break}if(n.lenbits=9,R={bits:n.lenbits},y=sN(1,n.lens,0,n.nlen,n.lencode,0,n.work,R),n.lenbits=R.bits,y){e.msg="invalid literal/lengths set",n.mode=SN;break}if(n.distbits=6,n.distcode=n.distdyn,R={bits:n.distbits},y=sN(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,R),n.distbits=R.bits,y){e.msg="invalid distances set",n.mode=SN;break}if(n.mode=bN,t===dN)break e;case bN:n.mode=vN;case vN:if(s>=6&&c>=258){e.next_out=a,e.avail_out=c,e.next_in=o,e.avail_in=s,n.hold=l,n.bits=d,tN(e,h),a=e.next_out,r=e.output,c=e.avail_out,o=e.next_in,i=e.input,s=e.avail_in,l=n.hold,d=n.bits,n.mode===QN&&(n.back=-1);break}for(n.back=0;b=n.lencode[l&(1<<n.lenbits)-1],f=b>>>24,m=b>>>16&255,E=65535&b,!(f<=d);){if(0===s)break e;s--,l+=i[o++]<<d,d+=8}if(m&&0==(240&m)){for(C=f,I=m,Q=E;b=n.lencode[Q+((l&(1<<C+I)-1)>>C)],f=b>>>24,m=b>>>16&255,E=65535&b,!(C+f<=d);){if(0===s)break e;s--,l+=i[o++]<<d,d+=8}l>>>=C,d-=C,n.back+=C}if(l>>>=f,d-=f,n.back+=f,n.length=E,0===m){n.mode=16205;break}if(32&m){n.back=-1,n.mode=QN;break}if(64&m){e.msg="invalid literal/length code",n.mode=SN;break}n.extra=15&m,n.mode=16201;case 16201:if(n.extra){for(S=n.extra;d<S;){if(0===s)break e;s--,l+=i[o++]<<d,d+=8}n.length+=l&(1<<n.extra)-1,l>>>=n.extra,d-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=16202;case 16202:for(;b=n.distcode[l&(1<<n.distbits)-1],f=b>>>24,m=b>>>16&255,E=65535&b,!(f<=d);){if(0===s)break e;s--,l+=i[o++]<<d,d+=8}if(0==(240&m)){for(C=f,I=m,Q=E;b=n.distcode[Q+((l&(1<<C+I)-1)>>C)],f=b>>>24,m=b>>>16&255,E=65535&b,!(C+f<=d);){if(0===s)break e;s--,l+=i[o++]<<d,d+=8}l>>>=C,d-=C,n.back+=C}if(l>>>=f,d-=f,n.back+=f,64&m){e.msg="invalid distance code",n.mode=SN;break}n.offset=E,n.extra=15&m,n.mode=16203;case 16203:if(n.extra){for(S=n.extra;d<S;){if(0===s)break e;s--,l+=i[o++]<<d,d+=8}n.offset+=l&(1<<n.extra)-1,l>>>=n.extra,d-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=SN;break}n.mode=16204;case 16204:if(0===c)break e;if(A=h-c,n.offset>A){if(A=n.offset-A,A>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=SN;break}A>n.wnext?(A-=n.wnext,p=n.wsize-A):p=n.wnext-A,A>n.length&&(A=n.length),g=n.window}else g=r,p=a-n.offset,A=n.length;A>c&&(A=c),c-=A,n.length-=A;do{r[a++]=g[p++]}while(--A);0===n.length&&(n.mode=vN);break;case 16205:if(0===c)break e;r[a++]=n.length,c--,n.mode=vN;break;case RN:if(n.wrap){for(;d<32;){if(0===s)break e;s--,l|=i[o++]<<d,d+=8}if(h-=c,e.total_out+=h,n.total+=h,4&n.wrap&&h&&(e.adler=n.check=n.flags?FB(n.check,r,h,a-h):RB(n.check,r,h,a-h)),h=c,4&n.wrap&&(n.flags?l:FN(l))!==n.check){e.msg="incorrect data check",n.mode=SN;break}l=0,d=0}n.mode=16207;case 16207:if(n.wrap&&n.flags){for(;d<32;){if(0===s)break e;s--,l+=i[o++]<<d,d+=8}if(4&n.wrap&&l!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=SN;break}l=0,d=0}n.mode=16208;case 16208:y=hN;break e;case SN:y=gN;break e;case 16210:return fN;default:return pN}return e.next_out=a,e.avail_out=c,e.next_in=o,e.avail_in=s,n.hold=l,n.bits=d,(n.wsize||h!==e.avail_out&&n.mode<SN&&(n.mode<RN||t!==cN))&&ON(e,e.output,e.next_out,h-e.avail_out),u-=e.avail_in,h-=e.avail_out,e.total_in+=u,e.total_out+=h,n.total+=h,4&n.wrap&&h&&(e.adler=n.check=n.flags?FB(n.check,r,h,e.next_out-h):RB(n.check,r,h,e.next_out-h)),e.data_type=n.bits+(n.last?64:0)+(n.mode===QN?128:0)+(n.mode===bN||n.mode===yN?256:0),(0===u&&0===h||t===cN)&&y===uN&&(y=mN),y},xN={inflateReset:_N,inflateReset2:wN,inflateResetKeep:NN,inflateInit:e=>kN(e,15),inflateInit2:kN,inflate:JN,inflateEnd:e=>{if(TN(e))return pN;let t=e.state;return t.window&&(t.window=null),e.state=null,uN},inflateGetHeader:(e,t)=>{if(TN(e))return pN;const n=e.state;return 0==(2&n.wrap)?pN:(n.head=t,t.done=!1,uN)},inflateSetDictionary:(e,t)=>{const n=t.length;let i,r,o;return TN(e)?pN:(i=e.state,0!==i.wrap&&i.mode!==IN?pN:i.mode===IN&&(r=1,r=RB(r,t,n,0),r!==i.check)?gN:(o=ON(e,t,n,n),o?(i.mode=16210,fN):(i.havedict=1,uN)))},inflateInfo:"pako inflate (from Nodeca project)"},MN=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const LN=Object.prototype.toString,{Z_NO_FLUSH:PN,Z_FINISH:GN,Z_OK:YN,Z_STREAM_END:jN,Z_NEED_DICT:XN,Z_STREAM_ERROR:KN,Z_DATA_ERROR:HN,Z_MEM_ERROR:zN}=TB;function qN(e){this.options=VT.assign({chunkSize:65536,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new JT,this.strm.avail_out=0;let n=xN.inflateInit2(this.strm,t.windowBits);if(n!==YN)throw new Error(BB[n]);if(this.header=new MN,xN.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=OT.string2buf(t.dictionary):"[object ArrayBuffer]"===LN.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=xN.inflateSetDictionary(this.strm,t.dictionary),n!==YN)))throw new Error(BB[n])}function $N(e,t){const n=new qN(t);if(n.push(e),n.err)throw n.msg||BB[n.err];return n.result}qN.prototype.push=function(e,t){const n=this.strm,i=this.options.chunkSize,r=this.options.dictionary;let o,a,s;if(this.ended)return!1;for(a=t===~~t?t:!0===t?GN:PN,"[object ArrayBuffer]"===LN.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(0===n.avail_out&&(n.output=new Uint8Array(i),n.next_out=0,n.avail_out=i),o=xN.inflate(n,a),o===XN&&r&&(o=xN.inflateSetDictionary(n,r),o===YN?o=xN.inflate(n,a):o===HN&&(o=XN));n.avail_in>0&&o===jN&&n.state.wrap>0&&0!==e[n.next_in];)xN.inflateReset(n),o=xN.inflate(n,a);switch(o){case KN:case HN:case XN:case zN:return this.onEnd(o),this.ended=!0,!1}if(s=n.avail_out,n.next_out&&(0===n.avail_out||o===jN))if("string"===this.options.to){let e=OT.utf8border(n.output,n.next_out),t=n.next_out-e,r=OT.buf2string(n.output,e);n.next_out=t,n.avail_out=i-t,t&&n.output.set(n.output.subarray(e,e+t),0),this.onData(r)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(o!==YN||0!==s){if(o===jN)return o=xN.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(0===n.avail_in)break}}return!0},qN.prototype.onData=function(e){this.chunks.push(e)},qN.prototype.onEnd=function(e){e===YN&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=VT.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var e_={Inflate:qN,inflate:$N,inflateRaw:function(e,t){return(t=t||{}).raw=!0,$N(e,t)},ungzip:$N,constants:TB};const{Deflate:t_,deflate:n_,deflateRaw:i_,gzip:r_}=$T,{Inflate:o_,inflate:a_,inflateRaw:s_,ungzip:c_}=e_;var l_,d_=n_,u_=a_;!function(e){e[e.ONE_BYTE=0]="ONE_BYTE",e[e.TWO_BYTE=1]="TWO_BYTE"}(l_||(l_={}));class h_{constructor(){ih(this,"_sequence",0),ih(this,"_startTime",Date.now()),ih(this,"isUseOneByte",!0)}get startTime(){const e=Date.now()-this._startTime;return e<Math.pow(2,16)?e:(this._startTime+=Math.pow(2,16),this.startTime)}get sequence(){return this._sequence<Math.pow(2,32)?this._sequence++:(this._sequence-=Math.pow(2,32),this.sequence)}serialize(e){const t={commonPacketHeader:{length:0,reserved:0,extension:0,sequence:this.sequence},commonStreamHeader:this.startTime,extension:void 0,payload:e};if(e.byteLength>128){const n=new Uint8Array(4);n.set([1,0,0,0]);const i={id:0,length:4,data:n.buffer},r={profile:this.isUseOneByte?0:1,length:this.isUseOneByte?5:6,datas:[i]};t.commonPacketHeader.extension=1,t.extension=r,t.payload=this.compress(e),t.commonPacketHeader.length=8+(t.extension.length+2)+t.payload.byteLength}else t.commonPacketHeader.length=8+t.payload.byteLength;NU("SHOW_DATASTREAM2_LOG")&&YU.debug("send data header: ".concat(JSON.stringify(t.commonPacketHeader)));const n=new ArrayBuffer(t.commonPacketHeader.length),i=new Uint8Array(n),r=new DataView(n);let o=0;if(r.setUint16(o,t.commonPacketHeader.extension<<15|t.commonPacketHeader.reserved<<14|t.commonPacketHeader.length,!0),o+=2,r.setUint32(o,t.commonPacketHeader.sequence,!0),o+=4,r.setUint16(o,t.commonStreamHeader,!0),o+=2,t.extension){const e=this.serializeExtension(t.extension);i.set(new Uint8Array(e),o),o+=e.byteLength}if(i.set(new Uint8Array(t.payload),o),o+=t.payload.byteLength,o!==t.commonPacketHeader.length)throw Error("serialize error!");return n}deserialize(e){if(e.byteLength<4)return new ArrayBuffer(0);const t=new DataView(e);let n=0;const i=t.getUint16(n,!0);n+=2;const r={length:16383&i,reserved:(16384&i)>>14,extension:(32768&i)>>15,sequence:t.getUint16(n+2,!0)<<16|t.getUint16(n,!0)};let o,a;if(n+=4,NU("SHOW_DATASTREAM2_LOG")&&YU.debug("receive data header: ".concat(JSON.stringify(r))),t.getUint16(n,!0),n+=2,r.extension){a=this.deserializeExtension(e.slice(n)),n+=2+a.length,o=e.slice(n);let t=!1;if(a.datas.length>0){const e=a.datas.find((e=>0===e.id));e&&(t=1==(1&new DataView(e.data).getUint32(0,!0)))}o=t?this.decompress(o):o}else o=e.slice(8);return o}serializeExtension(e){const{profile:t,length:n,datas:i}=e,r=new ArrayBuffer(n+2),o=new Uint8Array(r),a=new DataView(r);let s=0;if(a.setUint8(s++,t),a.setUint8(s++,n),i.forEach((e=>{t?(a.setUint8(s++,e.id),a.setUint8(s++,e.length),o.set(new Uint8Array(e.data),s),s+=e.data.byteLength):(a.setUint8(s++,e.id|e.length<<4),o.set(new Uint8Array(e.data),s),s+=e.data.byteLength)})),s!==n+2)throw Error("serialize extension error, is ".concat(s,"!==").concat(n+2));return r}deserializeExtension(e){const t=new DataView(e);let n=0;const i=t.getUint8(n);n++;const r=t.getUint8(n);n++;const o=i===l_.TWO_BYTE,a=[],s=new DataView(e,2);let c=0;for(;c<r;){let e=0,t=0,n=new ArrayBuffer(0);o?(e=s.getUint8(c),c++,t=s.getUint8(c),c++):(e=15&s.getUint8(c),t=s.getUint8(c)>>4,c++),t>0&&(n=s.buffer.slice(c+2,c+2+t),c+=n.byteLength),a.push({id:e,length:t,data:n})}if(c!==r)throw Error("parse error");return{profile:i,length:r,datas:a}}decompress(e){return u_(new Uint8Array(e))}compress(e){return d_(new Uint8Array(e))}}class A_ extends nC{constructor(e,t){super(),ih(this,"_version",1),ih(this,"_type",3),ih(this,"_config",void 0),ih(this,"_originDataChannel",void 0),ih(this,"_dataStreamPacketHeader",new ArrayBuffer(4)),ih(this,"_dataStreamPacketHandler",void 0),ih(this,"_datachannelEventMap",new Map),this._config=e,t&&(this._originDataChannel=t,this._bandDataChannelEvents(t)),this._initPacketHeader(),this._dataStreamPacketHandler=new h_}get id(){return this._config.id}get ordered(){return this._config.ordered}get maxRetransmits(){return NU("DATASTREAM_MAX_RETRANSMITS")}get metadata(){return this._config.metadata}get readyState(){var e,t;return null!==(e=null===(t=this._originDataChannel)||void 0===t?void 0:t.readyState)&&void 0!==e?e:"connecting"}get _originDataChannelId(){var e,t;return null!==(e=null===(t=this._originDataChannel)||void 0===t?void 0:t.id)&&void 0!==e?e:null}getChannelId(){return this.id}getConfig(){return this._config}_close(){this._originDataChannel&&(this._unbindDataChannelEvents(this._originDataChannel),this._originDataChannel=void 0)}async _waitTillOpen(){return new tE(((e,t)=>{if(this._originDataChannel){"open"===this._originDataChannel.readyState&&e();const n=setTimeout((()=>{var e;t(new WE(ZE.DATACHANNEL_CONNECTION_TIMEOUT,"Cannot create datachannel, id: ".concat(null===(e=this._originDataChannel)||void 0===e?void 0:e.id)))}),1e4);this._originDataChannel.onopen=()=>{clearTimeout(n),this._originDataChannel&&this._bandDataChannelEvents(this._originDataChannel),e()},this._originDataChannel.onerror=()=>{throw clearTimeout(n),new WE(ZE.DATACHANNEL_CONNECTION_TIMEOUT)}}else t(new WE(ZE.DATACHANNEL_CONNECTION_TIMEOUT,"cannot find dataChannel"))}))}_updateOriginDataChannel(e){this._originDataChannel=e,this._bandDataChannelEvents(e)}_initPacketHeader(){const e=new DataView(this._dataStreamPacketHeader);e.setUint16(0,this._version),e.setUint8(2,this._type),e.setUint8(3,this._config.id)}_bandDataChannelEvents(e){this._unbindDataChannelEvents(e),[hS.OPEN,hS.CLOSE,hS.ERROR].forEach((t=>{const n=()=>{this.emit(t)};this._datachannelEventMap.set(t,n),e.addEventListener(t,n)}))}_unbindDataChannelEvents(e){Array.from(this._datachannelEventMap.entries()).forEach((t=>{let[n,i]=t;e.removeEventListener(n,i)})),this._datachannelEventMap.clear()}}class p_ extends A_{constructor(e){super(e),ih(this,"_messageListener",void 0),this._messageListener=e=>{if(e.data.byteLength<this._dataStreamPacketHeader.byteLength)throw Error("invalid byteLength: the byte length must exceed "+this._dataStreamPacketHeader.byteLength);const t=e.data.slice(0,this._dataStreamPacketHeader.byteLength),n=new DataView(t).getUint8(3);if(n!==this.id)return void(NU("SHOW_DATASTREAM2_LOG")&&YU.debug("invalid datachannel id: ".concat(n," !== ").concat(this.id)));let i=e.data.slice(this._dataStreamPacketHeader.byteLength);i=this._dataStreamPacketHandler.deserialize(i),this.emit(hS.MESSAGE,i)}}_updateOriginDataChannel(e){super._updateOriginDataChannel(e),this._bandRemoteDataChannelEvents()}_close(){this._originDataChannel&&(this._originDataChannel.removeEventListener("message",this._messageListener),super._close())}_bandRemoteDataChannelEvents(){this._originDataChannel&&this._originDataChannel.addEventListener("message",this._messageListener)}}class g_ extends A_{send(e){if(this._originDataChannel){let t=e;t=this._dataStreamPacketHandler.serialize(e);const n=new Uint8Array(this._dataStreamPacketHeader.byteLength+t.byteLength);n.set(new Uint8Array(this._dataStreamPacketHeader),0),n.set(new Uint8Array(t),this._dataStreamPacketHeader.byteLength),this._originDataChannel.send(n.buffer)}}}!function(){const e=AE();SR.getDisplayMedia=!(!navigator.mediaDevices||!navigator.mediaDevices.getDisplayMedia),SR.getStreamFromExtension=e.name===cE.CHROME&&Number(e.version)>34,SR.supportUnifiedPlan=function(){if(!window.RTCRtpTransceiver)return!1;if(!("currentDirection"in RTCRtpTransceiver.prototype))return!1;const e=new RTCPeerConnection;let t=!1;try{e.addTransceiver("audio"),t=!0}catch(e){}return e.close(),t}(),SR.supportMinBitrate=e.name===cE.CHROME||e.name===cE.EDGE,SR.supportSetRtpSenderParameters=function(){const e=AE();return!!(window.RTCRtpSender&&window.RTCRtpSender.prototype.setParameters&&window.RTCRtpSender.prototype.getParameters)&&(!!kE()||!(!IE()&&!fE())||e.name===cE.FIREFOX&&Number(e.version)>=64)}(),e.name===cE.SAFARI&&(Number(e.version)>=14?SR.supportDualStream=!0:SR.supportDualStream=!1),SR.webAudioMediaStreamDest=function(){const e=AE();return!(e.name===cE.SAFARI&&Number(e.version)<12)}(),SR.supportReplaceTrack=!!window.RTCRtpSender&&"function"==typeof RTCRtpSender.prototype.replaceTrack,SR.supportWebGL="undefined"!=typeof WebGLRenderingContext,SR.supportRequestFrame=!!window.CanvasCaptureMediaStreamTrack,kE()||(SR.webAudioWithAEC=!0),SR.supportShareAudio=function(){const e=AE();return(e.os===sE.WIN_10||e.os===sE.WIN_81||e.os===sE.WIN_7||e.os===sE.LINUX||e.os===sE.MAC_OS||e.os===sE.CHROMIUM_OS)&&e.name===cE.CHROME&&Number(e.version)>=74}(),SR.supportDataChannel=!!(yE(76)||function(e){const t=AE();return!(t.name!==cE.FIREFOX||!t.osVersion)&&Number(t.version)>=e}(68)||function(e){const t=AE();return!(t.name!==cE.SAFARI||!t.osVersion)&&Number(t.version)>=e}(14)),SR.supportPCSetConfiguration=function(){const e=window.RTCPeerConnection;return!QE()&&!!e&&e.prototype.setConfiguration instanceof Function}(),SR.supportWebRTCEncodedTransform=function(){const e=AE();return"Chrome"===e.name&&Number(e.version)>=86}(),SR.supportWebRTCInsertableStream=function(){const e=AE();return(e.name===cE.CHROME||e.name===cE.EDGE)&&Number(e.version)>=94&&"MediaStreamTrackGenerator"in window&&"MediaStreamTrackProcessor"in window}(),RC((()=>{SR.supportDualStreamEncoding=function(){const e=AE();return!!NU("DISABLE_WEBAUDIO")||"Safari"===e.name&&Number(e.version)>=14||!!("Chrome"===e.name&&/Windows/i.test(e.os||"")&&Number(e.version)>=100&&NU("CHROME_DUAL_STREAM_USE_ENCODING"))}(),YU.info("browser compatibility",JSON.stringify(SR),JSON.stringify(e))}))}();class f_ extends nC{constructor(){super(...arguments),ih(this,"resultStorage",new Map)}setLocalAudioStats(e,t,n){this.record("AUDIO_INPUT_LEVEL_TOO_LOW",e,this.checkAudioInputLevel(n,t)),this.record("SEND_AUDIO_BITRATE_TOO_LOW",e,this.checkSendAudioBitrate(n,t))}setLocalVideoStats(e,t,n){this.record("SEND_VIDEO_BITRATE_TOO_LOW",e,this.checkSendVideoBitrate(n,t)),this.record("FRAMERATE_INPUT_TOO_LOW",e,this.checkFramerateInput(n,t)),this.record("FRAMERATE_SENT_TOO_LOW",e,this.checkFramerateSent(n))}setRemoteAudioStats(e,t){const n=e.getUserId();this.record("AUDIO_OUTPUT_LEVEL_TOO_LOW",n,this.checkAudioOutputLevel(t))}setRemoteVideoStats(e,t){const n=e.getUserId();this.record("RECV_VIDEO_DECODE_FAILED",n,this.checkVideoDecode(t))}record(e,t,n){if(NU("STATS_UPDATE_INTERVAL")>500)return;this.resultStorage.has(e)||this.resultStorage.set(e,{result:[],isPrevNormal:!0});const i=this.resultStorage.get(e);if(i&&(i.result.push(n),i.result.length>=5)){var r;const n=Fi(r=i.result).call(r,!0);i.isPrevNormal&&!n&&this.emit("exception",m_[e],e,t),!i.isPrevNormal&&n&&this.emit("exception",m_[e]+2e3,e+"_RECOVER",t),i.isPrevNormal=n,i.result=[]}}checkAudioOutputLevel(e){return!(e.receiveBitrate>0&&0===e.receiveLevel)}checkAudioInputLevel(e,t){return t instanceof uF&&!t.isActive||!!t.muted||0!==e.sendVolumeLevel}checkFramerateInput(e,t){let n=null;t._encoderConfig&&t._encoderConfig.frameRate&&(n=vv(t._encoderConfig.frameRate));const i=e.captureFrameRate;return!n||!i||!(n>10&&i<5||n<10&&n>=5&&i<=1)}checkFramerateSent(e){return!(e.captureFrameRate&&e.sendFrameRate&&e.captureFrameRate>5&&e.sendFrameRate<=1)}checkSendVideoBitrate(e,t){return!!t.muted||0!==e.sendBitrate}checkSendAudioBitrate(e,t){return t instanceof uF&&!t.isActive||!!t.muted||0!==e.sendBitrate}checkVideoDecode(e){return 0===e.receiveBitrate||0!==e.decodeFrameRate}}const m_={FRAMERATE_INPUT_TOO_LOW:1001,FRAMERATE_SENT_TOO_LOW:1002,SEND_VIDEO_BITRATE_TOO_LOW:1003,RECV_VIDEO_DECODE_FAILED:1005,AUDIO_INPUT_LEVEL_TOO_LOW:2001,AUDIO_OUTPUT_LEVEL_TOO_LOW:2002,SEND_AUDIO_BITRATE_TOO_LOW:2003},E_=new class{markSubscribeStart(e,t){performance.mark("agora-web-sdk/".concat(e,"/subscribe-").concat(t))}markPublishStart(e,t){performance.mark("agora-web-sdk/".concat(e,"/publish-").concat(t))}measureFromSubscribeStart(e,t){const n=performance.getEntriesByName("agora-web-sdk/".concat(e,"/subscribe-").concat(t));if(n.length>0){const e=n[n.length-1];return Math.round(performance.now()-e.startTime)}return 0}measureFromPublishStart(e,t){const n=performance.getEntriesByName("agora-web-sdk/".concat(e,"/publish-").concat(t));if(n.length>0){const e=n[n.length-1];return Math.round(performance.now()-e.startTime)}return 0}};function C_(e,t){this.v=e,this.k=t}function I_(e){return new C_(e,0)}var Q_=eE,U_=of;Tn({target:"Promise",stat:!0,forced:!0},{withResolvers:function(){var e=U_.f(this);return{promise:e.promise,resolve:e.resolve,reject:e.reject}}});var y_=of,b_=Og;Tn({target:"Promise",stat:!0,forced:!0},{try:function(e){var t=y_.f(this),n=b_(e);return(n.error?t.reject:t.resolve)(n.value),t.promise}});var v_=i(Q_),R_=Ja.f("asyncIterator"),S_=i(R_);function F_(e){var t,n;function i(t,n){try{var o=e[t](n),a=o.value,s=a instanceof C_;v_.resolve(s?a.v:a).then((function(n){if(s){var c="return"===t?"return":"next";if(!a.k||n.done)return i(c,n);n=e[c](n).value}r(o.done?"return":"normal",n)}),(function(e){i("throw",e)}))}catch(e){r("throw",e)}}function r(e,r){switch(e){case"return":t.resolve({value:r,done:!0});break;case"throw":t.reject(r);break;default:t.resolve({value:r,done:!1})}(t=t.next)?i(t.key,t.arg):n=null}this._invoke=function(e,r){return new v_((function(o,a){var s={key:e,arg:r,resolve:o,reject:a,next:null};n?n=n.next=s:(t=n=s,i(e,r))}))},"function"!=typeof e.return&&(this.return=void 0)}function B_(e){return function(){return new F_(e.apply(this,arguments))}}F_.prototype["function"==typeof Vu&&S_||"@@asyncIterator"]=function(){return this},F_.prototype.next=function(e){return this._invoke("next",e)},F_.prototype.throw=function(e){return this._invoke("throw",e)},F_.prototype.return=function(e){return this._invoke("return",e)};var T_=i(ie.Object.getOwnPropertySymbols),N_=Tn,__=jn.indexOf,w_=Qh,k_=v([].indexOf),D_=!!k_&&1/k_([1],1,-0)<0;N_({target:"Array",proto:!0,forced:D_||!w_("indexOf")},{indexOf:function(e){var t=arguments.length>1?arguments[1]:void 0;return D_?k_(this,e,t)||0:__(this,e,t)}});var V_=Hn("Array").indexOf,Z_=u,W_=V_,O_=Array.prototype,J_=i((function(e){var t=e.indexOf;return e===O_||Z_(O_,e)&&t===O_.indexOf?W_:t})),x_=He,M_=Xo;Tn({target:"Object",stat:!0,forced:r((function(){M_(1)}))},{keys:function(e){return M_(x_(e))}});var L_=i(ie.Object.keys);function P_(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=L_(e);for(i=0;i<o.length;i++)n=o[i],J_(t).call(t,n)>=0||(r[n]=e[n]);return r}(e,t);if(T_){var o=T_(e);for(i=0;i<o.length;i++)n=o[i],J_(t).call(t,n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var G_={exports:{}};!function(e,t){e.exports=(()=>{var e={8:(e,t,n)=>{n.r(t),n.d(t,{Parser:()=>U,Printer:()=>S,parse:()=>N,print:()=>_});const i="\n",r="".concat("\r").concat(i),o=" ";let a;function s(e){return e>="0"&&e<="9"}function c(e){return e>="!"&&e<="~"}function l(e){return c(e)||e>="\x80"&&e<="\xff"}function d(e){return"!"===e||e>="#"&&e<="'"||e>="*"&&e<="+"||e>="-"&&e<="."||e>="0"&&e<="9"||e>="A"&&e<="Z"||e>="^"&&e<="~"}function u(e){return e>="1"&&e<="9"}function h(e){return e>="A"&&e<="Z"||e>="a"&&e<="z"}function A(e){return"d"===e||"h"===e||"m"===e||"s"===e}function p(e){return e>"\x01"&&e<"\t"||e>"\v"&&e<"\f"||e>"\x0e"&&e<"\xff"}function g(e){return h(e)||s(e)||"+"===e||"/"===e}function f(e){return s(e)||h(e)||"+"===e||"/"===e||"-"===e||"_"===e}function m(e){return h(e)||s(e)||"+"===e||"/"===e}function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){I(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e){e.VERSION="v",e.ORIGIN="o",e.SESSION_NAME="s",e.INFORMATION="i",e.URI="u",e.EMAIL="e",e.PHONE="p",e.CONNECTION="c",e.BANDWIDTH="b",e.TIME="t",e.REPEAT="r",e.ZONE_ADJUSTMENTS="z",e.KEY="k",e.ATTRIBUTE="a",e.MEDIA="m"}(a||(a={}));class Q{consumeText(e,t){let n=t;for(;n<e.length;){const t=e[n];if("\0"===t||"\r"===t||t===i)break;n+=1}if(n-t==0)throw new Error("Invalid text, at ".concat(e));return n}consumeUnicastAddress(e,t,n){return this.consumeTill(e,t,o)}consumeOneOrMore(e,t,n){let i=t;for(;n(e[i]);)i++;if(i-t==0)throw new Error("Invalid rule at ".concat(t,"."));return i}consumeSpace(e,t){if(e[t]===o)return t+1;throw new Error("Invalid space at ".concat(t,"."))}consumeIP4Address(e,t){let n=t;for(let i=0;i<4;i++)if(n=this.consumeDecimalUChar(e,n),3!==i){if("."!==e[n])throw new Error("Invalid IP4 address.");n++}return n}consumeDecimalUChar(e,t){let n=t;for(let r=0;r<3&&s(e[n]);r++,n++);if(n-t==0)throw new Error("Invalid decimal uchar.");const i=parseInt(e.slice(t,n));if(i>=0&&i<=255)return n;throw new Error("Invalid decimal uchar")}consumeIP6Address(e,t){let n=this.consumeHexpart(e,t);return":"===e[n]?(n+=1,n=this.consumeIP4Address(e,n),n):n}consumeHexpart(e,t){let n=t;if(":"===e[n]&&":"===e[n+1]){n+=2;try{n=this.consumeHexseq(e,n)}catch(e){}return n}if(n=this.consumeHexseq(e,n),":"===e[n]&&":"===e[n+1]){n+=2;try{n=this.consumeHexseq(e,n)}catch(e){}return n}return n}consumeHexseq(e,t){let n=t;for(;n=this.consumeHex4(e,n),":"===e[n]&&":"!==e[n+1];)n+=1;return n}consumeHex4(e,t){let n=0;for(;n<4;n++)if(!((i=e[t+n])>="0"&&i<="9"||i>="a"&&i<="f"||i>="A"&&i<="F")){if(0===n)throw new Error("Invalid hex 4");break}var i;return t+n}consumeFQDN(e,t){let n=t;for(;s(e[n])||h(e[n])||"-"===e[n]||"."===e[n];)n+=1;if(n-t<4)throw new Error("Invalid FQDN");return n}consumeExtnAddr(e,t){return this.consumeOneOrMore(e,t,l)}consumeMulticastAddress(e,t,n){switch(n){case"IP4":case"ip4":return this.consumeIP4MulticastAddress(e,t);case"IP6":case"ip6":return this.consumeIP6MulticastAddress(e,t);default:try{return this.consumeFQDN(e,t)}catch(n){return this.consumeExtnAddr(e,t)}}}consumeIP6MulticastAddress(e,t){const n=this.consumeHexpart(e,t);return"/"===e[n]?this.consumeInteger(e,n+1):n}consumeIP4MulticastAddress(e,t){let n=t+3;const i=e.slice(t,n),r=parseInt(i);if(r<224||r>239)throw new Error("Invalid IP4 multicast address, IPv4 multicast addresses may be in the range 224.0.0.0 to 239.255.255.255.");for(let o=0;o<3;o++){if("."!==e[n])throw new Error("Invalid IP4 multicast address.");n+=1,n=this.consumeDecimalUChar(e,n)}return"/"===e[n]&&(n+=1),n=this.consumeTTL(e,n),"/"===e[n]&&(n=this.consumeInteger(e,n)),n}consumeInteger(e,t){if(!u(e[t]))throw new Error("Invalid integer.");for(t+=1;s(e[t]);)t+=1;return t}consumeTTL(e,t){if("0"===e[t])return t+1;if(!u(e[t]))throw new Error("Invalid TTL.");t+=1;for(let n=0;n<2&&s(e[t]);n++)t+=1;return t}consumeToken(e,t){return this.consumeOneOrMore(e,t,d)}consumeTime(e,t){let n=t;if("0"===e[n])return n+1;for(u(e[n])&&(n+=1);s(e[n]);)n++;if(n-t<10)throw new Error("Invalid time");return n}consumeAddress(e,t){return this.consumeTill(e,t,o)}consumeTypedTime(e,t){let n=t;return n=this.consumeOneOrMore(e,n,s),A(e[n])?n+1:n}consumeRepeatInterval(e,t){if(!u(e[t]))throw new Error("Invalid repeat interval");for(t+=1;s(e[t]);)t+=1;return A(e[t])&&(t+=1),t}consumePort(e,t){return this.consumeOneOrMore(e,t,s)}consume(e,t,n){for(let i=0;i<n.length;i++){if(t+i>=e.length)throw new Error("consume exceeding value length");if(e[t+i]!==n[i])throw new Error("consume ".concat(n," failed at ").concat(i))}return t+n.length}consumeTill(e,t,n){let i=t;for(;i<e.length&&("string"!=typeof n||e[i]!==n)&&("function"!=typeof n||!n(e[i]));)i++;return i}}class U extends Q{constructor(){super(),I(this,"records",[]),I(this,"currentLine",0)}parse(e){const t=this.probeEOL(e);this.records=e.split(t).filter((e=>!!e.trim())).map(this.parseLine),this.currentLine=0;const n=this.parseVersion(),i=this.parseOrigin(),r=this.parseSessionName(),o=this.parseInformation(),a=this.parseUri(),s=this.parseEmail(),c=this.parsePhone(),l=this.parseConnection(),d=this.parseBandWidth(),u=this.parseTimeFields(),h=this.parseKey(),A=this.parseSessionAttribute(),p=this.parseMediaDescription();if(this.currentLine!==this.records.length)throw new Error("parsing failed, non exhaustive sdp lines.");return{version:n,origin:i,sessionName:r,information:o,uri:a,emails:s,phones:c,connection:l,bandwidths:d,timeFields:u,key:h,attributes:A,mediaDescriptions:p}}getCurrentRecord(){const e=this.records[this.currentLine];if(!e)throw new Error("Record doesn't exit.");return e}probeEOL(e){for(let t=0;t<e.length;t++)if(e[t]===i)return"\r"===e[t-1]?r:i;throw new Error("Invalid newline character.")}parseLine(e,t){if(e.length<2)throw new Error("Invalid sdp line, sdp line should be of form <type>=<value>.");const n=e[0];if("="!==e[1])throw new Error('Invalid sdp line, <type> should be a single character followed by an "=" sign.');return{type:n,value:e.slice(2),line:t,cur:0}}parseSessionAttribute(){const e=new b;for(;this.currentLine<this.records.length;){const t=this.getCurrentRecord();if(t.type!==a.ATTRIBUTE)break;const n={attField:this.extractOneOrMore(t,(e=>d(e)&&":"!==e)),_cur:0};":"===t.value[t.cur]&&(t.cur+=1,n.attValue=this.extractOneOrMore(t,p)),e.parse(n),this.currentLine++}return e.digest()}parseMediaAttributes(e){const t=new v(e);for(;this.currentLine<this.records.length;){const e=this.getCurrentRecord();if(e.type!==a.ATTRIBUTE)break;const n={attField:this.extractOneOrMore(e,(e=>d(e)&&":"!==e)),_cur:0};":"===e.value[e.cur]&&(e.cur+=1,n.attValue=this.extractOneOrMore(e,p)),t.parse(n),this.currentLine++}return t.digest()}parseKey(){const e=this.getCurrentRecord();if(e.type===a.KEY){if("prompt"===e.value||"clear:"===e.value||"base64:"===e.value||"uri:"===e.value)return e.value;throw this.currentLine++,new Error("Invalid key.")}}parseZone(){const e=this.getCurrentRecord();if(e.type===a.ZONE_ADJUSTMENTS){const t=[];for(;;)try{const n=this.extract(e,this.consumeTime);this.consumeSpaceForRecord(e);let i=!1;"-"===e.value[e.cur]&&(i=!0,e.cur+=1);const r=this.extract(e,this.consumeTypedTime);t.push({time:n,typedTime:r,back:i})}catch(e){break}if(0===t.length)throw new Error("Invalid zone adjustments");return this.currentLine++,t}return[]}parseRepeat(){const e=[];for(;;){const t=this.getCurrentRecord();if(t.type!==a.REPEAT)break;{const n=this.extract(t,this.consumeRepeatInterval),i=this.parseTypedTime(t);e.push({repeatInterval:n,typedTimes:i}),this.currentLine++}}return e}parseTypedTime(e){const t=[];for(;;)try{this.consumeSpaceForRecord(e),t.push(this.extract(e,this.consumeTypedTime))}catch(e){break}if(0===t.length)throw new Error("Invalid typed time.");return t}parseTime(){const e=this.getCurrentRecord(),t=this.extract(e,this.consumeTime);this.consumeSpaceForRecord(e);const n=this.extract(e,this.consumeTime);return this.currentLine++,{startTime:t,stopTime:n}}parseBandWidth(){const e=[];for(;this.currentLine<this.records.length;){const t=this.getCurrentRecord();if(t.type!==a.BANDWIDTH)break;{const n=this.extractOneOrMore(t,d);if(":"!==t.value[t.cur])throw new Error("Invalid bandwidth field.");t.cur++;const i=this.extractOneOrMore(t,s);e.push({bwtype:n,bandwidth:i}),this.currentLine++}}return e}parseVersion(){const e=this.getCurrentRecord();if(e.type!==a.VERSION)throw new Error("first sdp record must be version");const t=e.value.slice(0,this.consumeOneOrMore(e.value,0,s));if(t.length!==e.value.length)throw new Error('invalid proto version, "v='.concat(e.value,'"'));return this.currentLine++,t}parseOrigin(){const e=this.getCurrentRecord();if(e.type!==a.ORIGIN)throw new Error("second line of sdp must be origin");const t=this.extractOneOrMore(e,l);this.consumeSpaceForRecord(e);const n=this.extractOneOrMore(e,s);this.consumeSpaceForRecord(e);const i=this.extractOneOrMore(e,s);this.consumeSpaceForRecord(e);const r=this.extractOneOrMore(e,d);this.consumeSpaceForRecord(e);const o=this.extractOneOrMore(e,d);this.consumeSpaceForRecord(e);const c=this.extract(e,this.consumeUnicastAddress);return this.currentLine++,{username:t,sessId:n,sessVersion:i,nettype:r,addrtype:o,unicastAddress:c}}parseSessionName(){const e=this.getCurrentRecord();if(e.type===a.SESSION_NAME){const t=this.extract(e,this.consumeText);return this.currentLine++,t}}parseInformation(){const e=this.getCurrentRecord();if(e.type!==a.INFORMATION)return;const t=this.extract(e,this.consumeText);return this.currentLine++,t}parseUri(){const e=this.getCurrentRecord();if(e.type===a.URI)return this.currentLine++,e.value}parseEmail(){const e=[];for(;;){const t=this.getCurrentRecord();if(t.type!==a.EMAIL)break;e.push(t.value),this.currentLine++}return e}parsePhone(){const e=[];for(;;){const t=this.getCurrentRecord();if(t.type!==a.PHONE)break;e.push(t.value),this.currentLine++}return e}parseConnection(){const e=this.getCurrentRecord();if(e.type===a.CONNECTION){const t=this.extractOneOrMore(e,d);this.consumeSpaceForRecord(e);const n=this.extractOneOrMore(e,d);this.consumeSpaceForRecord(e);const i=this.extract(e,this.consumeAddress);return this.currentLine++,{nettype:t,addrtype:n,address:i}}}parseMedia(){const e=this.getCurrentRecord(),t=this.extract(e,this.consumeToken);this.consumeSpaceForRecord(e);let n=this.extract(e,this.consumePort);"/"===e.value[e.cur]&&(e.cur+=1,n+=this.extract(e,this.consumeInteger)),this.consumeSpaceForRecord(e);const i=[];for(i.push(this.extract(e,this.consumeToken));"/"===e.value[e.cur];)e.cur+=1,i.push(this.extract(e,this.consumeToken));if(0===i.length)throw new Error("Invalid proto");const r=this.parseFmt(e);return this.currentLine++,{mediaType:t,port:n,protos:i,fmts:r}}parseTimeFields(){const e=[];for(;this.getCurrentRecord().type===a.TIME;){const t=this.parseTime(),n=this.parseRepeat(),i=this.parseZone();e.push({time:t,repeats:n,zones:i})}return e}parseMediaDescription(){const e=[];for(;this.currentLine<this.records.length&&this.getCurrentRecord().type===a.MEDIA;){const t=this.parseMedia(),n=this.parseInformation(),i=this.parseConnections(),r=this.parseBandWidth(),o=this.parseKey(),a=this.parseMediaAttributes(t);e.push({media:t,information:n,connections:i,bandwidths:r,key:o,attributes:a})}return e}parseConnections(){const e=[];for(;this.currentLine<this.records.length&&this.getCurrentRecord().type===a.CONNECTION;)e.push(this.parseConnection());return e}parseFmt(e){const t=[];for(;;)try{this.consumeSpaceForRecord(e),t.push(this.extract(e,this.consumeToken))}catch(e){break}if(0===t.length)throw new Error("Invalid fmts");return t}extract(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];const o=t.call(this,e.value,e.cur,...i),a=e.value.slice(e.cur,o);return e.cur=o,a}extractOneOrMore(e,t){const n=this.consumeOneOrMore(e.value,e.cur,t),i=e.value.slice(e.cur,n);return e.cur=n,i}consumeSpaceForRecord(e){if(e.value[e.cur]!==o)throw new Error("Invalid space at ".concat(e.cur,"."));e.cur+=1}}class y extends Q{constructor(){super(...arguments),I(this,"attributes",void 0),I(this,"digested",!1)}extractOneOrMore(e,t,n){const i=this.consumeOneOrMore(e.attValue,e._cur,t),r=e.attValue.slice(e._cur,i),[o,a]=n||[];if("number"==typeof o&&r.length<o)throw new Error("error in length, should be more or equal than ".concat(o," characters."));if("number"==typeof a&&r.length>a)throw new Error("error in length, should be less or equal than ".concat(a," characters."));return e._cur=i,r}consumeAttributeSpace(e){if(e.attValue[e._cur]!==o)throw new Error("Invalid space at ".concat(e._cur,"."));e._cur+=1}extract(e,t){if(!e.attValue)throw new Error("Nothing to extract from attValue.");for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];const o=t.call(this,e.attValue,e._cur,...i),a=e.attValue.slice(e._cur,o);return e._cur=o,a}atEnd(e){if(!e.attValue)throw new Error;return e._cur>=e.attValue.length}peekChar(e){if(!e.attValue)throw new Error;return e.attValue[e._cur]}peek(e,t){if(!e.attValue)throw new Error;for(let n=0;n<t.length;n++)if(t[n]!==e.attValue[e._cur+n])return!1;return!0}parseIceUfrag(e){if(this.attributes.iceUfrag)throw new Error("Invalid ice-ufrag, should be only a single line if 'a=ice-ufrag'");this.attributes.iceUfrag=this.extractOneOrMore(e,g,[4,256])}parseIcePwd(e){if(this.attributes.icePwd)throw new Error("Invalid ice-pwd, should be only a single line if 'a=ice-pwd'");this.attributes.icePwd=this.extractOneOrMore(e,g,[22,256])}parseIceOptions(e){if(this.attributes.iceOptions)throw new Error("Invalid ice-options, should be only one 'ice-options' line");const t=[];for(;!this.atEnd(e);){t.push(this.extractOneOrMore(e,g));try{this.consumeAttributeSpace(e)}catch(t){if(this.atEnd(e))break;throw t}}this.attributes.iceOptions=t}parseFingerprint(e){const t=this.extract(e,this.consumeToken);this.consumeAttributeSpace(e);const n=this.extract(e,this.consumeTill);this.attributes.fingerprints.push({hashFunction:t,fingerprint:n})}parseExtmap(e){const t=this.extractOneOrMore(e,s);let n;"/"===this.peekChar(e)&&(this.extract(e,this.consume,"/"),n=this.extract(e,this.consumeToken)),this.consumeAttributeSpace(e);const i=this.extract(e,this.consumeTill,o),r=C(C({entry:parseInt(t,10)},n&&{direction:n}),{},{extensionName:i});this.peekChar(e)===o&&(this.consumeAttributeSpace(e),r.extensionAttributes=this.extract(e,this.consumeTill)),this.attributes.extmaps.push(r)}parseSetup(e){if(this.attributes.setup)throw new Error("must only be one single 'a=setup' line.");const t=this.extract(e,this.consumeTill);if("active"!==t&&"passive"!==t&&"actpass"!==t&&"holdconn"!==t)throw new Error("role must be one of 'active', 'passive', 'actpass', 'holdconn'.");this.attributes.setup=t}}class b extends y{constructor(){super(...arguments),I(this,"attributes",{unrecognized:[],groups:[],extmaps:[],fingerprints:[],identities:[]})}parse(e){if(this.digested)throw new Error("already digested");try{switch(e.attField){case"group":this.parseGroup(e);break;case"ice-lite":this.parseIceLite();break;case"ice-ufrag":this.parseIceUfrag(e);break;case"ice-pwd":this.parseIcePwd(e);break;case"ice-options":this.parseIceOptions(e);break;case"fingerprint":this.parseFingerprint(e);break;case"setup":this.parseSetup(e);break;case"tls-id":this.parseTlsId(e);break;case"identity":this.parseIdentity(e);break;case"extmap":this.parseExtmap(e);break;case"msid-semantic":this.parseMsidSemantic(e);break;default:e.ignored=!0,this.attributes.unrecognized.push(e)}}catch(t){throw console.error("parsing session attribute ".concat(e.attField,' error, "a=').concat(e.attField,":").concat(e.attValue,'"')),t}if(!e.ignored&&e.attValue&&!this.atEnd(e))throw new Error("attribute parsing error")}digest(){return this.digested=!0,this.attributes}parseGroup(e){const t=this.extract(e,this.consumeToken),n=[];for(;!this.atEnd(e)&&this.peekChar(e)===o;)this.consumeAttributeSpace(e),n.push(this.extract(e,this.consumeToken));this.attributes.groups.push({semantic:t,identificationTag:n})}parseIceLite(){if(this.attributes.iceLite)throw new Error("Invalid ice-lite, should be only a single line of 'a=ice-lite'");this.attributes.iceLite=!0}parseTlsId(e){if(this.attributes.tlsId)throw new Error("must be only one tld-id line");this.attributes.tlsId=this.extractOneOrMore(e,f)}parseIdentity(e){const t=this.extractOneOrMore(e,m),n=[];for(;!this.atEnd(e)&&this.peekChar(e)===o;){this.consumeAttributeSpace(e);const t=this.extract(e,this.consumeToken);this.extract(e,this.consume,"=");const i=this.extractOneOrMore(e,(e=>e!==o&&p(e)));n.push({name:t,value:i})}this.attributes.identities.push({assertionValue:t,extensions:n})}parseMsidSemantic(e){this.peekChar(e)===o&&this.consumeAttributeSpace(e);const t={semantic:this.extract(e,this.consumeToken),identifierList:[]};for(;;){try{this.consumeAttributeSpace(e)}catch(e){break}if("*"===this.peekChar(e)){this.extract(e,this.consume,"*"),t.applyForAll=!0;break}{const n=this.extract(e,this.consumeTill,o);t.identifierList.push(n)}}this.attributes.msidSemantic=t}}class v extends y{constructor(e){super(),I(this,"attributes",void 0),-1!==e.protos.indexOf("RTP")||e.protos.indexOf("rtp"),this.attributes={unrecognized:[],candidates:[],extmaps:[],fingerprints:[],imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:[],ssrcGroups:[],rtcpFeedbackWildcards:[],payloads:[]}}parse(e){if(this.digested)throw new Error("already digested");try{switch(e.attField){case"extmap":this.parseExtmap(e);break;case"setup":this.parseSetup(e);break;case"ice-ufrag":this.parseIceUfrag(e);break;case"ice-pwd":this.parseIcePwd(e);break;case"ice-options":this.parseIceOptions(e);break;case"candidate":this.parseCandidate(e);break;case"remote-candidate":this.parseRemoteCandidate(e);break;case"end-of-candidates":this.parseEndOfCandidates();break;case"fingerprint":this.parseFingerprint(e);break;case"rtpmap":this.parseRtpmap(e);break;case"ptime":this.parsePtime(e);break;case"maxptime":this.parseMaxPtime(e);break;case"sendrecv":case"recvonly":case"sendonly":case"inactive":this.parseDirection(e);break;case"ssrc":this.parseSSRC(e);break;case"fmtp":this.parseFmtp(e);break;case"rtcp-fb":this.parseRtcpFb(e);break;case"rtcp-mux":this.parseRTCPMux();break;case"rtcp-mux-only":this.parseRTCPMuxOnly();break;case"rtcp-rsize":this.parseRTCPRsize();break;case"rtcp":this.parseRTCP(e);break;case"mid":this.parseMid(e);break;case"msid":this.parseMsid(e);break;case"imageattr":this.parseImageAttr(e);break;case"rid":this.parseRid(e);break;case"simulcast":this.parseSimulcast(e);break;case"sctp-port":this.parseSctpPort(e);break;case"max-message-size":this.parseMaxMessageSize(e);break;case"ssrc-group":this.parseSSRCGroup(e);break;default:e.ignored=!0,this.attributes.unrecognized.push(e)}}catch(t){throw console.error("parsing media attribute ".concat(e.attField,' error, "a=').concat(e.attField,":").concat(e.attValue,'"')),t}if(!e.ignored&&e.attValue&&!this.atEnd(e))throw new Error("attribute parsing error")}parseCandidate(e){const t=this.extractOneOrMore(e,g,[1,32]);this.consumeAttributeSpace(e);const n=this.extractOneOrMore(e,s,[1,5]);this.consumeAttributeSpace(e);const i=this.extract(e,this.consumeToken);this.consumeAttributeSpace(e);const r=this.extractOneOrMore(e,s,[1,10]);this.consumeAttributeSpace(e);const a=this.extract(e,this.consumeAddress);this.consumeAttributeSpace(e);const l=this.extract(e,this.consumePort);this.consumeAttributeSpace(e),this.extract(e,this.consume,"typ"),this.consumeAttributeSpace(e);const d={foundation:t,componentId:n,transport:i,priority:r,connectionAddress:a,port:l,type:this.extract(e,this.consumeToken),extension:{}};for(this.peek(e," raddr")&&(this.extract(e,this.consume," raddr"),this.consumeAttributeSpace(e),d.relAddr=this.extract(e,this.consumeAddress)),this.peek(e," rport")&&(this.extract(e,this.consume," rport"),this.consumeAttributeSpace(e),d.relPort=this.extract(e,this.consumePort));this.peekChar(e)===o;){this.consumeAttributeSpace(e);const t=this.extract(e,this.consumeToken);this.consumeAttributeSpace(e),d.extension[t]=this.extractOneOrMore(e,c)}this.attributes.candidates.push(d)}parseRemoteCandidate(e){const t=[];for(;;){const n=this.extractOneOrMore(e,s,[1,5]);this.consumeAttributeSpace(e);const i=this.extract(e,this.consumeAddress);this.consumeAttributeSpace(e);const r=this.extract(e,this.consumePort);t.push({componentId:n,connectionAddress:i,port:r});try{this.consumeAttributeSpace(e)}catch(e){break}}this.attributes.remoteCandidatesList.push(t)}parseEndOfCandidates(){if(this.attributes.endOfCandidates)throw new Error("must be only one line of end-of-candidates");this.attributes.endOfCandidates=!0}parseRtpmap(e){const t=this.extract(e,this.consumeToken);this.consumeAttributeSpace(e);const n=this.extract(e,this.consumeTill,"/");this.extract(e,this.consume,"/");const i={encodingName:n,clockRate:this.extractOneOrMore(e,s)};this.atEnd(e)||"/"!==this.peekChar(e)||(this.extract(e,this.consume,"/"),i.encodingParameters=parseInt(this.extract(e,this.consumeTill),10));const r=this.attributes.payloads.find((e=>e.payloadType===parseInt(t,10)));r?r.rtpMap=i:this.attributes.payloads.push({payloadType:parseInt(t,10),rtpMap:i,rtcpFeedbacks:[]})}parsePtime(e){if(this.attributes.ptime)throw new Error("must be only one line of ptime");this.attributes.ptime=this.extract(e,this.consumeTill)}parseMaxPtime(e){if(this.attributes.maxPtime)throw new Error("must be only one line of ptime");this.attributes.maxPtime=this.extract(e,this.consumeTill)}parseDirection(e){if(this.attributes.direction)throw new Error("must be only one line of direction info");this.attributes.direction=e.attField}parseSSRC(e){const t=this.extractOneOrMore(e,s);this.consumeAttributeSpace(e);const n=this.extract(e,this.consumeTill,":");let i;":"===this.peekChar(e)&&(this.extract(e,this.consume,":"),i=this.extract(e,this.consumeTill));const r=this.attributes.ssrcs.find((e=>e.ssrcId===parseInt(t,10)));r?r.attributes[n]=i:this.attributes.ssrcs.push({ssrcId:parseInt(t,10),attributes:{[n]:i}})}parseFmtp(e){const t=this.extract(e,this.consumeTill,o);this.consumeAttributeSpace(e);const n=this.extract(e,this.consumeTill),i={};n.split(";").forEach((e=>{let[t,n]=e.split("=");t=t.trim();const r="string"==typeof n?n.trim():null;"string"==typeof t&&t.length>0&&(i[t]=r)}));const r=this.attributes.payloads.find((e=>e.payloadType===parseInt(t,10)));r?r.fmtp={parameters:i}:this.attributes.payloads.push({payloadType:parseInt(t,10),rtcpFeedbacks:[],fmtp:{parameters:i}})}parseFmtParameters(e){const t={},n=this.extract(e,this.consumeTill,"=");e._cur++;const i=this.extract(e,this.consumeTill,";");for(t[n]=i;";"===e.attValue[e._cur];){const n=this.extract(e,this.consumeTill,"=");e._cur++;const i=this.extract(e,this.consumeTill,";");t[n]=i}return t}parseRtcpFb(e){let t="";t="*"===this.peekChar(e)?this.extract(e,this.consume,"*"):this.extract(e,this.consumeTill,o),this.consumeAttributeSpace(e);const n=this.extract(e,this.consumeTill,o);let i;if("trr-int"===n)i={type:n,interval:this.extract(e,this.consumeTill)};else{const t={type:n};this.peekChar(e)===o&&(this.consumeAttributeSpace(e),t.parameter=this.extract(e,this.consumeToken),this.peekChar(e)===o&&(t.additional=this.extract(e,this.consumeTill))),i=t}if("*"===t)this.attributes.rtcpFeedbackWildcards.push(i);else{const e=this.attributes.payloads.find((e=>e.payloadType===parseInt(t,10)));e?e.rtcpFeedbacks.push(i):this.attributes.payloads.push({payloadType:parseInt(t,10),rtcpFeedbacks:[i]})}}parseRTCPMux(){if(this.attributes.rtcpMux)throw new Error("must be single line of rtcp-mux");this.attributes.rtcpMux=!0}parseRTCPMuxOnly(){if(this.attributes.rtcpMuxOnly)throw new Error("must be single line of rtcp-only");this.attributes.rtcpMuxOnly=!0}parseRTCPRsize(){if(this.attributes.rtcpRsize)throw new Error("must be single line of rtcp-rsize");this.attributes.rtcpRsize=!0}parseRTCP(e){if(this.attributes.rtcp)throw new Error("must be single line of rtcp");const t={port:this.extract(e,this.consumePort)};this.peekChar(e)===o&&(this.consumeAttributeSpace(e),t.netType=this.extractOneOrMore(e,d),this.consumeAttributeSpace(e),t.addressType=this.extractOneOrMore(e,d),this.consumeAttributeSpace(e),t.address=this.extract(e,this.consumeAddress)),this.attributes.rtcp=t}parseMsid(e){const t={id:this.extractOneOrMore(e,d,[1,64])};this.peekChar(e)===o&&(this.consumeAttributeSpace(e),t.appdata=this.extractOneOrMore(e,d,[1,64])),this.attributes.msids.push(t)}parseImageAttr(e){this.attributes.imageattr.push(e.attValue)}parseRid(e){const t=this.extractOneOrMore(e,(e=>h(e)||s(e)||"_"===e||"-"===e));this.consumeAttributeSpace(e);const n={id:t,direction:this.extract(e,this.consumeToken),params:[]};if(this.peekChar(e)===o){if(this.consumeAttributeSpace(e),this.peek(e,"pt=")){this.extract(e,this.consume,"pt=");const t=[];for(;;){const n=this.extract(e,this.consumeToken);t.push(n);try{this.extract(e,this.consume,",")}catch(e){break}}n.payloads=t,this.peekChar(e)===o&&this.extract(e,this.consume,o)}for(;;){const t=this.extract(e,this.consumeToken);switch(t){case"depend":{const i={type:t,rids:this.extract(e,this.consume,"=").split(",")};n.params.push(i);break}default:{const i={type:t};"="===this.peekChar(e)&&(this.extract(e,this.consume,"="),i.val=this.extract(e,this.consumeTill,";")),n.params.push(i)}}try{this.extract(e,this.consume,";")}catch(e){break}}}this.attributes.rids.push(n)}parseSimulcast(e){if(this.attributes.simulcast)throw new Error("must be single line of simulcast");this.attributes.simulcast=e.attValue,this.extract(e,this.consumeTill)}parseSctpPort(e){this.attributes.sctpPort=this.extractOneOrMore(e,s,[1,5])}parseMaxMessageSize(e){this.attributes.maxMessageSize=this.extractOneOrMore(e,s,[1,void 0])}digest(){return this.digested=!0,this.attributes}parseMid(e){this.attributes.mid=this.extract(e,this.consumeToken)}parseSSRCGroup(e){const t=this.extract(e,this.consumeToken),n=[];for(;;)try{this.consumeAttributeSpace(e);const t=this.extract(e,this.consumeInteger);n.push(parseInt(t,10))}catch(e){break}this.attributes.ssrcGroups.push({semantic:t,ssrcIds:n})}}function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class S{constructor(){R(this,"eol",r)}print(e,t){let n="";return t&&(this.eol=t),n+=this.printVersion(e.version),n+=this.printOrigin(e.origin),n+=this.printSessionName(e.sessionName),n+=this.printInformation(e.information),n+=this.printUri(e.uri),n+=this.printEmail(e.emails),n+=this.printPhone(e.phones),n+=this.printConnection(e.connection),n+=this.printBandwidth(e.bandwidths),n+=this.printTimeFields(e.timeFields),n+=this.printKey(e.key),n+=this.printSessionAttributes(e.attributes),n+=this.printMediaDescription(e.mediaDescriptions),n}printVersion(e){return"v=".concat(e).concat(this.eol)}printOrigin(e){return"o=".concat(e.username," ").concat(e.sessId," ").concat(e.sessVersion," ").concat(e.nettype," ").concat(e.addrtype," ").concat(e.unicastAddress).concat(this.eol)}printSessionName(e){return e?"s=".concat(e).concat(this.eol):""}printInformation(e){return e?"i=".concat(e).concat(this.eol):""}printUri(e){return e?"u=".concat(e).concat(this.eol):""}printEmail(e){let t="";for(const n of e)t+="e=".concat(n).concat(this.eol);return t}printPhone(e){let t="";for(const n of e)t+="e=".concat(n).concat(this.eol);return t}printConnection(e){return e?"c=".concat(e.nettype," ").concat(e.addrtype," ").concat(e.address).concat(this.eol):""}printBandwidth(e){let t="";for(const n of e)t+="b=".concat(n.bwtype,":").concat(n.bandwidth).concat(this.eol);return t}printTimeFields(e){let t="";for(const n of e){t+="t=".concat(n.time.startTime," ").concat(n.time.startTime).concat(this.eol);for(const e of n.repeats)t+="r=".concat(e.repeatInterval," ").concat(e.typedTimes.join(" ")).concat(this.eol);n.zoneAdjustments&&(t+="z=",t+="z=".concat(n.zoneAdjustments.map((e=>"".concat(e.time," ").concat(e.back?"-":""," ").concat(e.typedTime))).join(" ")).concat(this.eol),t+=this.eol)}return t}printKey(e){return e?"k=".concat(e).concat(this.eol):""}printAttributes(e){let t="";for(const n of e)t+="a=".concat(n.attField).concat(n.attValue?":".concat(n.attValue):"").concat(this.eol);return t}printMediaDescription(e){let t="";for(const n of e)t+=this.printMedia(n.media),t+=this.printInformation(n.information),t+=this.printConnections(n.connections),t+=this.printBandwidth(n.bandwidths),t+=this.printKey(n.key),t+=this.printMediaAttributes(n);return t}printConnections(e){let t="";for(const n of e)t+=this.printConnection(n);return t}printMedia(e){return"m=".concat(e.mediaType," ").concat(e.port," ").concat(e.protos.join("/")," ").concat(e.fmts.join(" ")).concat(this.eol)}printSessionAttributes(e){return new B(this.eol).print(e)}printMediaAttributes(e){return new T(this.eol).print(e)}}class F{constructor(e){R(this,"eol",void 0),this.eol=e}printIceUfrag(e){return void 0===e?"":"a=ice-ufrag:".concat(e).concat(this.eol)}printIcePwd(e){return void 0===e?"":"a=ice-pwd:".concat(e).concat(this.eol)}printIceOptions(e){return void 0===e?"":"a=ice-options:".concat(e.join(o)).concat(this.eol)}printFingerprints(e){return e.length>0?e.map((e=>"a=fingerprint:".concat(e.hashFunction).concat(o).concat(e.fingerprint))).join(this.eol)+this.eol:""}printExtmap(e){return e.map((e=>"a=extmap:".concat(e.entry).concat(e.direction?"/".concat(e.direction):"").concat(o).concat(e.extensionName).concat(e.extensionAttributes?"".concat(o).concat(e.extensionAttributes):"").concat(this.eol))).join("")}printSetup(e){return void 0===e?"":"a=setup:".concat(e).concat(this.eol)}printUnrecognized(e){return e.map((e=>"a=".concat(e.attField).concat(e.attValue?":".concat(e.attValue):"").concat(this.eol))).join("")}}class B extends F{print(e){let t="";return t+=this.printGroups(e.groups),t+=this.printMsidSemantic(e.msidSemantic),t+=this.printIceLite(e.iceLite),t+=this.printIceUfrag(e.iceUfrag),t+=this.printIcePwd(e.icePwd),t+=this.printIceOptions(e.iceOptions),t+=this.printFingerprints(e.fingerprints),t+=this.printSetup(e.setup),t+=this.printTlsId(e.tlsId),t+=this.printIdentity(e.identities),t+=this.printExtmap(e.extmaps),t+=this.printUnrecognized(e.unrecognized),t}printGroups(e){let t="";return e.length>0&&(t+=e.map((e=>"a=group:".concat(e.semantic).concat(e.identificationTag.map((e=>"".concat(o).concat(e))).join("")).concat(this.eol))).join("")),t}printIceLite(e){return void 0===e?"":"a=ice-lite"+this.eol}printTlsId(e){return e?"a=tls-id:".concat(e).concat(this.eol):""}printIdentity(e){return 0===e.length?"":e.map((e=>"a=identity:".concat(e.assertionValue).concat(e.extensions.map((e=>"".concat(o).concat(e.name).concat(e.value?"=".concat(e.value):"")))))).join(this.eol)+this.eol}printMsidSemantic(e){if(!e)return"";let t="a=msid-semantic:".concat(e.semantic);return e.applyForAll?t+="".concat(o,"*"):e.identifierList.length>0&&(t+=e.identifierList.map((e=>"".concat(o).concat(e)))),t+this.eol}}class T extends F{print(e){const t=e.attributes;let n="";return n+=this.printRTCP(t.rtcp),n+=this.printIceUfrag(t.iceUfrag),n+=this.printIcePwd(t.icePwd),n+=this.printIceOptions(t.iceOptions),n+=this.printCandidates(t.candidates),n+=this.printRemoteCandidatesList(t.remoteCandidatesList),n+=this.printEndOfCandidates(t.endOfCandidates),n+=this.printFingerprints(t.fingerprints),n+=this.printSetup(t.setup),n+=this.printMid(t.mid),n+=this.printExtmap(t.extmaps),n+=this.printRTPRelated(t),n+=this.printPtime(t.ptime),n+=this.printMaxPtime(t.maxPtime),n+=this.printDirection(t.direction),n+=this.printSSRCGroups(t.ssrcGroups),n+=this.printSSRC(t.ssrcs),n+=this.printRTCPMux(t.rtcpMux),n+=this.printRTCPMuxOnly(t.rtcpMuxOnly),n+=this.printRTCPRsize(t.rtcpRsize),n+=this.printMSId(t.msids),n+=this.printImageattr(t.imageattr),n+=this.printRid(t.rids),n+=this.printSimulcast(t.simulcast),n+=this.printSCTPPort(t.sctpPort),n+=this.printMaxMessageSize(t.maxMessageSize),n+=this.printUnrecognized(t.unrecognized),n}printCandidates(e){return e.map((e=>"a=candidate:".concat(e.foundation).concat(o).concat(e.componentId).concat(o).concat(e.transport).concat(o).concat(e.priority).concat(o).concat(e.connectionAddress).concat(o).concat(e.port).concat(o,"typ").concat(o).concat(e.type).concat(e.relAddr?"".concat(o,"raddr").concat(o).concat(e.relAddr):"").concat(e.relPort?"".concat(o,"rport").concat(o).concat(e.relPort):"").concat(Object.keys(e.extension).map((t=>"".concat(o).concat(t).concat(o).concat(e.extension[t]))).join("")).concat(this.eol))).join("")}printRemoteCandidatesList(e){return e.map((e=>"a=remote-candidates:".concat(e.join(o)).concat(this.eol))).join("")}printEndOfCandidates(e){return void 0===e?"":"a=end-of-candidates"+this.eol}printRTPRelated(e){if(!e.payloads)return"";const t=e.payloads;let n="";n+=e.rtcpFeedbackWildcards.map((e=>this.printRTCPFeedback("*",e))).join("");for(const i of t)n+=this.printRtpMap(i.payloadType,i.rtpMap),n+=this.printFmtp(i.payloadType,i.fmtp),n+=i.rtcpFeedbacks.map((e=>this.printRTCPFeedback(i.payloadType,e))).join("");return n}printFmtp(e,t){if(!t)return"";const n=Object.keys(t.parameters);return 1===n.length&&null===t.parameters[n[0]]?"a=fmtp:".concat(e).concat(o).concat(n[0]).concat(this.eol):"a=fmtp:".concat(e).concat(o).concat(Object.keys(t.parameters).map((e=>"".concat(e,"=").concat(t.parameters[e]))).join(";")).concat(this.eol)}printRtpMap(e,t){return t?"a=rtpmap:".concat(e).concat(o).concat(t.encodingName,"/").concat(t.clockRate).concat(t.encodingParameters?"/".concat(t.encodingParameters):"").concat(this.eol):""}printRTCPFeedback(e,t){let n="a=rtcp-fb:".concat(e).concat(o),i=t;return"trr-int"===i.type?n+="ttr-int".concat(o).concat(i.interval):(n+="".concat(i.type),i.parameter&&(n+="".concat(o).concat(i.parameter),i.additional&&(n+="".concat(o).concat(i.additional)))),n+this.eol}printPtime(e){return void 0===e?"":"a=ptime:".concat(e).concat(this.eol)}printMaxPtime(e){return void 0===e?"":"a=maxptime:".concat(e).concat(this.eol)}printDirection(e){return void 0===e?"":"a=".concat(e).concat(this.eol)}printSSRC(e){return e.map((e=>Object.keys(e.attributes).map((t=>"a=ssrc:".concat(e.ssrcId.toString(10)).concat(o).concat(t).concat(e.attributes[t]?":".concat(e.attributes[t]):"").concat(this.eol))).join(""))).join("")}printRTCPMux(e){return void 0===e?"":"a=rtcp-mux".concat(this.eol)}printRTCPMuxOnly(e){return void 0===e?"":"a=rtcp-mux-only".concat(this.eol)}printRTCPRsize(e){return void 0===e?"":"a=rtcp-rsize".concat(this.eol)}printRTCP(e){if(void 0===e)return"";let t="a=rtcp:".concat(e.port);return e.netType&&(t+="".concat(o).concat(e.netType)),e.addressType&&(t+="".concat(o).concat(e.addressType)),e.address&&(t+="".concat(o).concat(e.address)),t+this.eol}printMSId(e){return e.map((e=>"a=msid:".concat(e.id).concat(e.appdata?"".concat(o).concat(e.appdata):"").concat(this.eol))).join("")}printImageattr(e){return e.map((e=>"a=imageattr:".concat(e).concat(this.eol))).join("")}printRid(e){return e.map((e=>{let t="a=rid:".concat(e.id).concat(o).concat(e.direction);return e.payloads&&(t+="".concat(o,"pt=").concat(e.payloads.join(","))),e.params.length>0&&(t+="".concat(o).concat(e.params.map((e=>"depend"===e.type?"depend=".concat(e.rids.join(",")):"".concat(e.type,"=").concat(e.val))).join(";"))),t+this.eol})).join("")}printSimulcast(e){return void 0===e?"":"a=simulcast:".concat(e).concat(this.eol)}printSCTPPort(e){return void 0===e?"":"a=sctp-port:".concat(e).concat(this.eol)}printMaxMessageSize(e){return void 0===e?"":"a=max-message-size:".concat(e).concat(this.eol)}printMid(e){return void 0===e?"":"a=mid:".concat(e).concat(this.eol)}printSSRCGroups(e){return e.map((e=>"a=ssrc-group:".concat(e.semantic).concat(e.ssrcIds.map((e=>"".concat(o).concat(e.toString(10)))).join("")).concat(this.eol))).join("")}}function N(e){return(new U).parse(e)}function _(e,t){return(new S).print(e,t)}}},t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={exports:{}};return e[i](r,r.exports,n),r.exports}return n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n(8)})()}(G_);var Y_=G_.exports;function j_(e){if(Array.isArray(e))return e.map((e=>e));if(!X_(e))return e;const t={};for(const n in e){const i=e[n];X_(i)||Array.isArray(i)?t[n]=j_(i):t[n]=i}return t}function X_(e){return!("object"!=typeof e||Array.isArray(e)||!e)}class K_{constructor(e){ih(this,"input",[]),ih(this,"size",void 0),this.size=e}add(e){this.input.push(e),this.input.length>this.size&&this.input.splice(0,1)}diffMean(){return 0===this.input.length?0:(this.input[this.input.length-1]-this.input[0])/this.input.length}}const H_={address:"unknown",candidateType:"unknown",id:"unknown",port:0,priority:0,protocol:"unknown",type:"unknown"},z_={timestamp:0,bitrate:{actualEncoded:0,transmit:0},sendPacketLossRate:0,recvPacketLossRate:0,videoRecv:[],videoSend:[],audioRecv:[],audioSend:[],selectedCandidatePair:{id:"unknown",localCandidate:H_,remoteCandidate:H_}},q_={firsCount:0,nacksCount:0,plisCount:0,framesDecodeCount:0,framesDecodeInterval:0,framesDecodeFreezeTime:0,decodeFrameRate:0,bytes:0,packetsLost:0,packetLostRate:0,packets:0,ssrc:0,qpSumPerFrame:0},$_={firsCount:0,nacksCount:0,plisCount:0,frameCount:0,bytes:0,packets:0,packetsLost:0,packetLostRate:0,ssrc:0,rttMs:0,jitterMs:0,qpSumPerFrame:0},ew={bytes:0,packets:0,packetsLost:0,packetLostRate:0,ssrc:0,rttMs:0,jitterMs:0},tw={jitterBufferMs:0,jitterMs:0,bytes:0,packetsLost:0,packetLostRate:0,packets:0,ssrc:0,receivedFrames:0,droppedFrames:0,concealedSamples:0};function nw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function iw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nw(Object(n),!0).forEach((function(t){ih(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nw(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}class rw{constructor(e,t){ih(this,"onFirstVideoReceived",void 0),ih(this,"onFirstVideoDecoded",void 0),ih(this,"onFirstAudioReceived",void 0),ih(this,"onFirstVideoDecodedTimeout",void 0),ih(this,"onFirstAudioDecoded",void 0),ih(this,"onSelectedLocalCandidateChanged",void 0),ih(this,"onSelectedRemoteCandidateChanged",void 0),ih(this,"videoIsReady",!1),ih(this,"videoIsReady2",{}),ih(this,"pc",void 0),ih(this,"options",void 0),ih(this,"intervalTimer",void 0),ih(this,"stats",j_(z_)),ih(this,"isFirstVideoReceived",{}),ih(this,"isFirstVideoDecoded",{}),ih(this,"isFirstAudioReceived",{}),ih(this,"isFirstAudioDecoded",{}),ih(this,"isFirstVideoDecodedTimeout",{}),ih(this,"lossRateWindowStats",[]),this.pc=e,this.options=t,this.intervalTimer=window.setInterval((async()=>{this.updateStats()}),this.options.updateInterval)}getStats(){return this.stats}getSelectedCandidatePair(){return new tE((e=>{e({local:iw({},H_),remote:iw({},H_)})}))}setVideoIsReady(e){this.videoIsReady=e}setVideoIsReady2(e,t){this.videoIsReady2[e]=t}getVideoIsReady(e){return this.videoIsReady2[e]||!1}setIsFirstAudioDecoded(e){}destroy(){window.clearInterval(this.intervalTimer),this.pc=void 0}calcLossRate(e){this.lossRateWindowStats.push(e),this.lossRateWindowStats.length>this.options.lossRateInterval&&this.lossRateWindowStats.splice(0,1);const t=this.lossRateWindowStats.length,n=["videoSend","audioSend","videoRecv","audioRecv"];let i=0,r=0,o=0,a=0;for(const s of n)e[s].forEach(((e,n)=>{if(!this.lossRateWindowStats[t-1][s][n]||!this.lossRateWindowStats[0][s][n])return;const c=this.lossRateWindowStats[t-1][s][n].packets-this.lossRateWindowStats[0][s][n].packets,l=this.lossRateWindowStats[t-1][s][n].packetsLost-this.lossRateWindowStats[0][s][n].packetsLost;"videoSend"===s||"audioSend"===s?(i+=c,o+=l):(r+=c,a+=l),Number.isNaN(c)||Number.isNaN(c)?e.packetLostRate=0:e.packetLostRate=c<=0||l<=0?0:l/(c+l)}));e.sendPacketLossRate=i<=0||o<=0?0:o/(i+o),e.recvPacketLossRate=r<=0||a<=0?0:a/(r+a)}}function ow(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function aw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ow(Object(n),!0).forEach((function(t){ih(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ow(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}class sw extends rw{constructor(){super(...arguments),ih(this,"_stats",z_),ih(this,"lastDecodeVideoReceiverStats",new Map)}async updateStats(){const e=await this._getStats(),t=this.statsResponsesToObjects(e);this._stats=j_(z_);const n=t.filter((e=>"ssrc"===e.type));this.processSSRCStats(n);const i=t.find((e=>"VideoBwe"===e.type));i&&this.processBandwidthStats(i),this._stats.timestamp=Date.now(),this.calcLossRate(this._stats),this.stats=this._stats}processBandwidthStats(e){this._stats.bitrate={actualEncoded:Number(e.googActualEncBitrate),targetEncoded:Number(e.googTargetEncBitrate),retransmit:Number(e.googRetransmitBitrate),transmit:Number(e.googTransmitBitrate)},this._stats.sendBandwidth=Number(e.googAvailableSendBandwidth)}processSSRCStats(e){e.forEach((e=>{var t;const n=Fi(t=e.id).call(t,"send");switch("".concat(e.mediaType,"_").concat(n?"send":"recv")){case"video_send":{const t=j_($_);t.codec=e.googCodecName,t.adaptionChangeReason="none",e.googCpuLimitedResolution&&(t.adaptionChangeReason="cpu"),e.googBandwidthLimitedResolution&&(t.adaptionChangeReason="bandwidth"),t.avgEncodeMs=Number(e.googAvgEncodeMs),t.inputFrame={width:Number(e.googFrameWidthInput)||Number(e.googFrameWidthSent),height:Number(e.googFrameHeightInput)||Number(e.googFrameHeightSent),frameRate:Number(e.googFrameRateInput)},t.sentFrame={width:Number(e.googFrameWidthSent),height:Number(e.googFrameHeightSent),frameRate:Number(e.googFrameRateInput)},t.firsCount=Number(e.googFirReceived),t.nacksCount=Number(e.googNacksReceived),t.plisCount=Number(e.googPlisReceived),t.frameCount=Number(e.framesEncoded),t.bytes=Number(e.bytesSent),t.packets=Number(e.packetsSent),t.packetsLost=Number(e.packetsLost),t.ssrc=Number(e.ssrc),t.rttMs=Number(e.googRtt||0),this._stats.videoSend.push(t),this._stats.rtt=t.rttMs;break}case"video_recv":{const t=j_(q_),n=this.lastDecodeVideoReceiverStats.get(Number(e.ssrc));if(t.codec=e.googCodecName,t.targetDelayMs=Number(e.googTargetDelayMs),t.renderDelayMs=Number(e.googRenderDelayMs),t.currentDelayMs=Number(e.googCurrentDelayMs),t.minPlayoutDelayMs=Number(e.googMinPlayoutDelayMs),t.decodeMs=Number(e.googDecodeMs),t.maxDecodeMs=Number(e.googMaxDecodeMs),t.receivedFrame={width:Number(e.googFrameWidthReceived),height:Number(e.googFrameHeightReceived),frameRate:Number(e.googFrameRateReceived)},t.decodedFrame={width:Number(e.googFrameWidthReceived),height:Number(e.googFrameHeightReceived),frameRate:Number(e.googFrameRateDecoded)},t.decodeFrameRate=Number(e.googFrameRateDecoded),t.outputFrame={width:Number(e.googFrameWidthReceived),height:Number(e.googFrameHeightReceived),frameRate:Number(e.googFrameRateOutput)},t.jitterBufferMs=Number(e.googJitterBufferMs),t.firsCount=Number(e.googFirsSent),t.nacksCount=Number(e.googNacksSent),t.plisCount=Number(e.googPlisSent),t.framesDecodeCount=Number(e.framesDecoded),t.bytes=Number(e.bytesReceived),t.packets=Number(e.packetsReceived),t.packetsLost=Number(e.packetsLost),t.ssrc=Number(e.ssrc),t.packets>0&&!this.isFirstVideoReceived[t.ssrc]&&(this.onFirstVideoReceived&&this.onFirstVideoReceived(t.ssrc),this.isFirstVideoReceived[t.ssrc]=!0),t.framesDecodeCount>0&&!this.isFirstVideoDecoded[t.ssrc]&&(this.onFirstVideoDecoded&&this.onFirstVideoDecoded(t.ssrc,t.decodedFrame.width,t.decodedFrame.height),this.isFirstVideoDecoded[t.ssrc]=!0),n){const i=n.stats,r=Date.now()-n.lts;t.framesDecodeFreezeTime=i.framesDecodeFreezeTime,t.framesDecodeInterval=i.framesDecodeInterval,t.framesDecodeCount>i.framesDecodeCount&&this.isFirstVideoDecoded[t.ssrc]?(n.lts=Date.now(),t.framesDecodeInterval=r,t.framesDecodeInterval>=this.options.freezeRateLimit&&(this.getVideoIsReady(parseInt(e.ssrc,10))?t.framesDecodeFreezeTime+=t.framesDecodeInterval:this.setVideoIsReady2(parseInt(e.ssrc,10),!0))):t.framesDecodeCount<n.stats.framesDecodeCount&&(t.framesDecodeInterval=0)}this.lastDecodeVideoReceiverStats.set(t.ssrc,{stats:aw({},t),lts:Date.now()}),this._stats.videoRecv.push(t);break}case"audio_recv":{const t=j_(tw);t.codec=e.googCodecName,t.outputLevel=Math.abs(Number(e.audioOutputLevel))/32767,t.decodingCNG=Number(e.googDecodingCNG),t.decodingCTN=Number(e.googDecodingCTN),t.decodingCTSG=Number(e.googDecodingCTSG),t.decodingNormal=Number(e.googDecodingNormal),t.decodingPLC=Number(e.googDecodingPLC),t.decodingPLCCNG=Number(e.googDecodingPLCCNG),t.expandRate=Number(e.googExpandRate),t.accelerateRate=Number(e.googAccelerateRate),t.preemptiveExpandRate=Number(e.googPreemptiveExpandRate),t.secondaryDecodedRate=Number(e.googSecondaryDecodedRate),t.speechExpandRate=Number(e.googSpeechExpandRate),t.preferredJitterBufferMs=Number(e.googPreferredJitterBufferMs),t.jitterBufferMs=Number(e.googJitterBufferMs),t.jitterMs=Number(e.googJitterReceived),t.bytes=Number(e.bytesReceived),t.packets=Number(e.packetsReceived),t.packetsLost=Number(e.packetsLost),t.ssrc=Number(e.ssrc),t.receivedFrames=Number(e.googDecodingCTN)||Number(e.packetsReceived),t.droppedFrames=Number(e.googDecodingPLC)+Number(e.googDecodingPLCCNG)||Number(e.packetsLost),t.receivedFrames>0&&!this.isFirstAudioReceived[t.ssrc]&&(this.onFirstAudioReceived&&this.onFirstAudioReceived(t.ssrc),this.isFirstAudioReceived[t.ssrc]=!0),t.decodingNormal>0&&!this.isFirstAudioDecoded[t.ssrc]&&(this.onFirstAudioDecoded&&this.onFirstAudioDecoded(t.ssrc),this.isFirstAudioDecoded[t.ssrc]=!0),this._stats.audioRecv.push(t);break}case"audio_send":{const t=j_(ew);t.codec=e.googCodecName,t.inputLevel=Math.abs(Number(e.audioInputLevel))/32767,t.aecReturnLoss=Number(e.googEchoCancellationReturnLoss||0),t.aecReturnLossEnhancement=Number(e.googEchoCancellationReturnLossEnhancement||0),t.residualEchoLikelihood=Number(e.googResidualEchoLikelihood||0),t.residualEchoLikelihoodRecentMax=Number(e.googResidualEchoLikelihoodRecentMax||0),t.bytes=Number(e.bytesSent),t.packets=Number(e.packetsSent),t.packetsLost=Number(e.packetsLost),t.ssrc=Number(e.ssrc),t.rttMs=Number(e.googRtt||0),this._stats.rtt=t.rttMs,this._stats.audioSend.push(t);break}}}))}_getStats(){return new tE(((e,t)=>{this.pc.getStats(e,t)}))}statsResponsesToObjects(e){const t=[];return e.result().forEach((e=>{const n={id:e.id,timestamp:e.timestamp.valueOf().toString(),type:e.type};e.names().forEach((t=>{n[t]=e.stat(t)})),t.push(n)})),t}}function cw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function lw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cw(Object(n),!0).forEach((function(t){ih(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cw(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}class dw extends rw{constructor(){super(...arguments),ih(this,"_stats",z_),ih(this,"report",void 0),ih(this,"lastDecodeVideoReceiverStats",new Map),ih(this,"lastVideoFramesRecv",new Map),ih(this,"lastVideoFramesSent",new Map),ih(this,"lastVideoFramesDecode",new Map),ih(this,"lastVideoJBDelay",new Map),ih(this,"lastAudioJBDelay",new Map),ih(this,"mediaBytesSent",new Map),ih(this,"mediaBytesRetransmit",new Map),ih(this,"mediaBytesTargetEncode",new Map),ih(this,"lastEncoderMs",new Map)}async updateStats(){this.report=await this.pc.getStats(),this._stats=j_(z_),this.report.forEach((e=>{switch(e.type){case hy.OUTBOUND:case hy.INBOUND:{const t=e.mediaType||e.kind,n=!t&&"frameWidth"in e,i=!t&&!("frameWidth"in e);e.type===hy.OUTBOUND?"audio"===t||i?this.processAudioOutboundStats(e):("video"===t||n)&&this.processVideoOutboundStats(e):e.type===hy.INBOUND&&("audio"===t||i?this.processAudioInboundStats(e):("video"===t||n)&&this.processVideoInboundStats(e));break}case hy.TRANSPORT:{const t=this.report.get(e.selectedCandidatePairId);t&&this.processCandidatePairStats(t);break}case hy.CANDIDATE_PAIR:e.selected&&this.processCandidatePairStats(e)}})),this.updateSendBitrate(),this._stats.timestamp=Date.now(),this.calcLossRate(this._stats),this.stats=this._stats}async getSelectedCandidatePair(){const e=await this.pc.getStats(),t={local:lw({},H_),remote:lw({},H_)};return e.forEach((n=>{let i;if(n.type===hy.TRANSPORT&&(i=e.get(n.selectedCandidatePairId)),n.type===hy.CANDIDATE_PAIR&&n.selected&&(i=n),i){const n=(e,t)=>{e.type=t.type,e.id=t.id,t.address&&(e.address=t.address),t.candidateType&&(e.candidateType=t.candidateType),t.port&&(e.port=t.port),t.priority&&(e.priority=t.priority),t.protocol&&(e.protocol=t.protocol),t.relayProtocol&&(e.relayProtocol=t.relayProtocol)};if(i.localCandidateId){const r=e.get(i.localCandidateId);r&&n(t.local,r)}if(i.remoteCandidateId){const r=e.get(i.remoteCandidateId);r&&n(t.remote,r)}}})),t}processCandidatePairStats(e){if(this._stats.sendBandwidth=e.availableOutgoingBitrate||0,e.currentRoundTripTime&&(this._stats.rtt=1e3*e.currentRoundTripTime),this._stats.videoSend.forEach((t=>{e.currentRoundTripTime&&(t.rttMs=1e3*e.currentRoundTripTime)})),this._stats.audioSend.forEach((t=>{e.currentRoundTripTime&&(t.rttMs=1e3*e.currentRoundTripTime)})),this._stats.selectedCandidatePair.id=e.id,e.localCandidateId){const t=this.report.get(e.localCandidateId);t&&this.processCandidateStats(t)}if(e.remoteCandidateId){const t=this.report.get(e.remoteCandidateId);t&&this.processCandidateStats(t)}}processCandidateStats(e){let t;e.type===hy.LOCAL_CANDIDATE&&(t=this._stats.selectedCandidatePair.localCandidate),e.type===hy.REMOTE_CANDIDATE&&(t=this._stats.selectedCandidatePair.remoteCandidate),t&&(t.type=e.type,t.id=e.id,e.address&&(t.address=e.address),e.candidateType&&(t.candidateType=e.candidateType),e.port&&(t.port=e.port),e.priority&&(t.priority=e.priority),e.protocol&&(t.protocol=e.protocol),e.relayProtocol&&(t.relayProtocol=e.relayProtocol),e.type===hy.LOCAL_CANDIDATE&&this.stats.selectedCandidatePair.localCandidate.id!==t.id&&this.onSelectedLocalCandidateChanged&&this.onSelectedLocalCandidateChanged(lw({},t),lw({},this.stats.selectedCandidatePair.localCandidate)),e.type===hy.REMOTE_CANDIDATE&&this.stats.selectedCandidatePair.remoteCandidate.id!==t.id&&this.onSelectedRemoteCandidateChanged&&this.onSelectedRemoteCandidateChanged(lw({},t),lw({},this.stats.selectedCandidatePair.remoteCandidate)))}processAudioInboundStats(e){let t=this._stats.audioRecv.find((t=>t.ssrc===e.ssrc));t||(t=j_(tw),this._stats.audioRecv.push(t)),t.ssrc=e.ssrc,t.packets=e.packetsReceived,t.packetsLost=e.packetsLost,t.bytes=e.bytesReceived,t.jitterMs=1e3*e.jitter,this.processAudioTrackReceiverStats(e,e.trackId,t),e.codecId&&(t.codec=this.getCodecFromCodecStats(e.codecId)),t.receivedFrames||(t.receivedFrames=e.packetsReceived),t.droppedFrames||(t.droppedFrames=e.packetsLost),t.receivedFrames>0&&!this.isFirstAudioReceived[t.ssrc]&&(this.onFirstAudioReceived&&this.onFirstAudioReceived(t.ssrc),this.isFirstAudioReceived[t.ssrc]=!0),t.outputLevel&&t.outputLevel>0&&!this.isFirstAudioDecoded[t.ssrc]&&(this.onFirstAudioDecoded&&this.onFirstAudioDecoded(t.ssrc),this.isFirstAudioDecoded[t.ssrc]=!0),"number"==typeof e.concealedSamples&&(t.concealedSamples=e.concealedSamples)}processVideoInboundStats(e){let t=this._stats.videoRecv.find((t=>t.ssrc===e.ssrc));t||(t=j_(q_),this._stats.videoRecv.push(t)),t.ssrc=e.ssrc,t.packets=e.packetsReceived,t.packetsLost=e.packetsLost,t.bytes=e.bytesReceived,t.firsCount=e.firCount,t.nacksCount=e.nackCount,t.plisCount=e.pliCount,t.framesDecodeCount=e.framesDecoded,t.totalInterFrameDelay=e.totalInterFrameDelay,t.totalSquaredInterFrameDelay=e.totalSquaredInterFrameDelay;const n=this.lastDecodeVideoReceiverStats.get(t.ssrc),i=this.lastVideoFramesDecode.get(t.ssrc),r=Date.now();if(t.framesDecodeCount>0&&!this.isFirstVideoDecoded[t.ssrc]){const e=t.decodedFrame?t.decodedFrame.width:0,n=t.decodedFrame?t.decodedFrame.height:0;this.onFirstVideoDecoded&&this.onFirstVideoDecoded(t.ssrc,e,n),this.isFirstVideoDecoded[t.ssrc]=!0}if(n){const i=n.stats,o=r-n.lts;t.framesDecodeFreezeTime=i.framesDecodeFreezeTime,t.framesDecodeInterval=i.framesDecodeInterval,!this.isFirstVideoDecoded[t.ssrc]&&o>this.options.firstVideoDecodedTimeout&&!this.isFirstVideoDecodedTimeout[t.ssrc]&&(this.onFirstVideoDecodedTimeout&&this.onFirstVideoDecodedTimeout(t.ssrc),this.isFirstVideoDecodedTimeout[t.ssrc]=!0),t.framesDecodeCount>i.framesDecodeCount&&this.isFirstVideoDecoded[t.ssrc]?(n.lts=Date.now(),t.framesDecodeInterval=o,t.framesDecodeInterval>=this.options.freezeRateLimit&&(this.getVideoIsReady(parseInt(e.ssrc))?t.framesDecodeFreezeTime+=t.framesDecodeInterval:this.setVideoIsReady2(parseInt(e.ssrc,10),!0))):t.framesDecodeCount<i.framesDecodeCount&&(t.framesDecodeInterval=0),e.framesDecoded&&e.qpSum&&(n.stats.framesDecodeCount>e.framesDecoded?t.qpSumPerFrame=e.qpSum/e.framesDecoded:t.qpSumPerFrame=(e.qpSum-n.qpSum)/(e.framesDecoded-n.stats.framesDecodeCount))}i&&r-i.lts>=800?(t.decodeFrameRate=Math.round((t.framesDecodeCount-i.count)/((r-i.lts)/1e3)),this.lastVideoFramesDecode.set(t.ssrc,{count:t.framesDecodeCount,lts:r,rate:t.decodeFrameRate})):i?t.decodeFrameRate=i.rate:this.lastVideoFramesDecode.set(t.ssrc,{count:t.framesDecodeCount,lts:r,rate:0}),e.totalDecodeTime&&(t.decodeMs=1e3*e.totalDecodeTime),this.processVideoTrackReceiverStats(e,e.trackId,t),e.codecId&&(t.codec=this.getCodecFromCodecStats(e.codecId)),e.framerateMean&&(t.framesRateFirefox=e.framerateMean),t.packets>0&&!this.isFirstVideoReceived[t.ssrc]&&(this.onFirstVideoReceived&&this.onFirstVideoReceived(t.ssrc),this.isFirstVideoReceived[t.ssrc]=!0),this.lastDecodeVideoReceiverStats.set(t.ssrc,{stats:lw({},t),lts:n?n.lts:Date.now(),qpSum:e.qpSum})}processVideoOutboundStats(e){let t=this._stats.videoSend.find((t=>t.ssrc===e.ssrc));t||(t=j_($_),this._stats.videoSend.push(t));const n=this.mediaBytesSent.get(e.ssrc);if(n)n.add(e.bytesSent);else{const t=new K_(10);t.add(e.bytesSent),this.mediaBytesSent.set(e.ssrc,t)}if(void 0!==e.retransmittedBytesSent){const t=this.mediaBytesRetransmit.get(e.ssrc);if(t)t.add(e.retransmittedBytesSent);else{const t=new K_(10);t.add(e.retransmittedBytesSent),this.mediaBytesRetransmit.set(e.ssrc,t)}}if(e.totalEncodedBytesTarget){const t=this.mediaBytesTargetEncode.get(e.ssrc);if(t)t.add(e.totalEncodedBytesTarget);else{const t=new K_(10);t.add(e.totalEncodedBytesTarget),this.mediaBytesTargetEncode.set(e.ssrc,t)}}if(t.ssrc=e.ssrc,t.bytes=e.bytesSent,t.packets=e.packetsSent,t.firsCount=e.firCount,t.nacksCount=e.nackCount,t.plisCount=e.pliCount,t.frameCount=e.framesEncoded,t.adaptionChangeReason=e.qualityLimitationReason,t.scalabilityMode=e.scalabilityMode,e.totalEncodeTime&&e.framesEncoded){const n=this.lastEncoderMs.get(e.ssrc);if(!n||n.lastFrameCount>e.framesEncoded)t.avgEncodeMs=1e3*e.totalEncodeTime/e.framesEncoded;else{const i=e.framesEncoded-n.lastFrameCount,r=e.totalEncodeTime-n.lastEncoderTime;t.avgEncodeMs=1e3*r/i}}if(e.framesEncoded&&e.qpSum){const n=this.lastEncoderMs.get(e.ssrc);!n||n.lastFrameCount>e.framesEncoded?t.qpSumPerFrame=e.qpSum/e.framesEncoded:t.qpSumPerFrame=(e.qpSum-n.lastQpSum)/(e.framesEncoded-n.lastFrameCount)}if(this.lastEncoderMs.set(e.ssrc,{lastFrameCount:e.framesEncoded,lastEncoderTime:e.totalEncodeTime,lastQpSum:e.qpSum,lts:Date.now()}),e.codecId&&(t.codec=this.getCodecFromCodecStats(e.codecId)),e.mediaSourceId&&this.processVideoMediaSource(e.mediaSourceId,t),this.processVideoTrackSenderStats(e,e.trackId,t),e.remoteId)this.processRemoteInboundStats(e.remoteId,t);else{const n=this.findRemoteStatsId(e.ssrc,hy.REMOTE_INBOUND);n&&this.processRemoteInboundStats(n,t)}}processAudioOutboundStats(e){let t=this._stats.audioSend.find((t=>t.ssrc===e.ssrc));if(t||(t=j_(ew),this._stats.audioSend.push(t)),t.ssrc=e.ssrc,t.packets=e.packetsSent,t.bytes=e.bytesSent,e.mediaSourceId&&this.processAudioMediaSource(e.mediaSourceId,t),e.codecId&&(t.codec=this.getCodecFromCodecStats(e.codecId)),this.processAudioTrackSenderStats(e,e.trackId,t),e.remoteId)this.processRemoteInboundStats(e.remoteId,t);else{const n=this.findRemoteStatsId(e.ssrc,hy.REMOTE_INBOUND);n&&this.processRemoteInboundStats(n,t)}}findRemoteStatsId(e,t){var n;const i=Array.from(Dy(n=this.report).call(n)).find((n=>n.type===t&&n.ssrc===e));return i?i.id:null}processVideoMediaSource(e,t){const n=this.report.get(e);n&&n.width&&n.height&&n.framesPerSecond&&(t.inputFrame={width:n.width,height:n.height,frameRate:n.framesPerSecond})}processAudioMediaSource(e,t){const n=this.report.get(e);n&&(t.inputLevel=n.audioLevel)}processVideoTrackSenderStats(e,t,n){var i,r,o,a;const s=t?this.report.get(t):void 0,c=null!==(i=null==s?void 0:s.framesSent)&&void 0!==i?i:e.framesSent;if("number"!=typeof c)return;let l=null!==(r=null==s?void 0:s.frameWidth)&&void 0!==r?r:e.frameWidth,d=null!==(o=null==s?void 0:s.frameHeight)&&void 0!==o?o:e.frameHeight,u=null!==(a=null==s?void 0:s.framesPerSecond)&&void 0!==a?a:e.framesPerSecond;if("number"==typeof l&&"number"==typeof d||(l=0,d=0),null==u){const e=Date.now(),t=this.lastVideoFramesSent.get(n.ssrc);t&&e-t.lts>=800?(u=Math.round((c-t.count)/((e-t.lts)/1e3)),this.lastVideoFramesSent.set(n.ssrc,{count:c,lts:e,rate:u})):t?u=t.rate:this.lastVideoFramesSent.set(n.ssrc,{count:c,lts:e,rate:0})}n.sentFrame={width:l,height:d,frameRate:Math.max(0,u)}}processVideoTrackReceiverStats(e,t,n){var i,r,o,a,s;const c=t?this.report.get(t):void 0,l=null!==(i=null==c?void 0:c.framesReceived)&&void 0!==i?i:e.framesReceived,d=null!==(r=null==c?void 0:c.frameWidth)&&void 0!==r?r:e.frameWidth,u=null!==(o=null==c?void 0:c.frameHeight)&&void 0!==o?o:e.frameHeight,h=null!==(a=null==c?void 0:c.jitterBufferDelay)&&void 0!==a?a:e.jitterBufferDelay,A=null!==(s=null==c?void 0:c.jitterBufferEmittedCount)&&void 0!==s?s:e.jitterBufferEmittedCount;if("number"==typeof l){const e=this.lastVideoFramesRecv.get(n.ssrc),t=Date.now();n.framesReceivedCount=l;let i=0;e&&t-e.lts>=800?(i=Math.round((l-e.count)/((t-e.lts)/1e3)),this.lastVideoFramesRecv.set(n.ssrc,{count:l,lts:t,rate:i})):e?i=e.rate:this.lastVideoFramesRecv.set(n.ssrc,{count:l,lts:t,rate:0}),n.receivedFrame={width:d||0,height:u||0,frameRate:i||0},n.decodedFrame={width:d||0,height:u||0,frameRate:n.decodeFrameRate||0},n.outputFrame={width:d||0,height:u||0,frameRate:n.decodeFrameRate||0}}if(h&&A){const e=this.lastVideoJBDelay.get(n.ssrc)||{jitterBufferDelay:0,jitterBufferEmittedCount:0,jitterBufferMs:0};let t=e.jitterBufferMs;const i=A-e.jitterBufferEmittedCount;i>0&&(t=1e3*(h-e.jitterBufferDelay)/i),n.jitterBufferMs=t,n.currentDelayMs=Math.round(t),this.lastVideoJBDelay.set(n.ssrc,{jitterBufferDelay:h,jitterBufferEmittedCount:A,jitterBufferMs:n.currentDelayMs})}}processAudioTrackSenderStats(e,t,n){var i,r,o,a;const s=t?this.report.get(t):void 0,c=null!==(i=null!==(r=null==s?void 0:s.echoReturnLoss)&&void 0!==r?r:e.echoReturnLoss)&&void 0!==i?i:0,l=null!==(o=null!==(a=null==s?void 0:s.echoReturnLossEnhancement)&&void 0!==a?a:e.echoReturnLossEnhancement)&&void 0!==o?o:0;n.aecReturnLoss=c,n.aecReturnLossEnhancement=l}processAudioTrackReceiverStats(e,t,n){var i,r,o,a,s,c,l;const d=t?this.report.get(t):void 0,u=null!==(i=null==d?void 0:d.removedSamplesForAcceleration)&&void 0!==i?i:e.removedSamplesForAcceleration,h=null!==(r=null==d?void 0:d.totalSamplesReceived)&&void 0!==r?r:e.totalSamplesReceived,A=null!==(o=null==d?void 0:d.jitterBufferDelay)&&void 0!==o?o:e.jitterBufferDelay,p=null!==(a=null==d?void 0:d.jitterBufferEmittedCount)&&void 0!==a?a:e.jitterBufferEmittedCount,g=null!==(s=null==d?void 0:d.audioLevel)&&void 0!==s?s:null==e?void 0:e.audioLevel,f=null!==(c=null==d?void 0:d.totalSamplesDuration)&&void 0!==c?c:null==e?void 0:e.totalSamplesDuration,m=null!==(l=null==d?void 0:d.concealedSamples)&&void 0!==l?l:e.concealedSamples;if(u&&h&&(n.accelerateRate=u/h),A&&p){const e=this.lastAudioJBDelay.get(n.ssrc)||{jitterBufferDelay:0,jitterBufferEmittedCount:0,jitterBufferMs:0};let t=e.jitterBufferMs;const i=p-e.jitterBufferEmittedCount;i>0&&(t=1e3*(A-e.jitterBufferDelay)/i),n.jitterBufferMs=Math.round(t),this.lastAudioJBDelay.set(n.ssrc,{jitterBufferDelay:A,jitterBufferEmittedCount:p,jitterBufferMs:n.jitterBufferMs})}n.outputLevel=g;let E=1920;f&&h&&(E=h/f/50,n.receivedFrames=Math.round(h/E)),m&&(n.droppedFrames=Math.round(m/E))}processRemoteInboundStats(e,t){const n=this.report.get(e);n&&(t.packetsLost=n.packetsLost,n.roundTripTime&&(t.rttMs=1e3*n.roundTripTime),n.jitter&&(t.jitterMs=1e3*n.jitter),n.timestamp&&(t.timestamp=n.timestamp))}getCodecFromCodecStats(e){const t=this.report.get(e);if(!t)return"";const n=t.mimeType.match(/\/(.*)$/);return n&&n[1]?n[1]:""}updateSendBitrate(){let e=0,t=null,n=null;this.mediaBytesSent.forEach((t=>{e+=t.diffMean()})),this.mediaBytesRetransmit.forEach((e=>{t=null===t?e.diffMean():t+e.diffMean()})),this.mediaBytesTargetEncode.forEach((e=>{n=null===n?e.diffMean():n+e.diffMean()}));const i=null!==t?e-t:e;this._stats.bitrate={actualEncoded:8*i/(this.options.updateInterval/1e3),transmit:8*e/(this.options.updateInterval/1e3)},null!==t&&(this._stats.bitrate.retransmit=8*t/(this.options.updateInterval/1e3)),null!==n&&(this._stats.bitrate.targetEncoded=8*n/(this.options.updateInterval/1e3))}}class uw extends rw{updateStats(){return tE.resolve()}}function hw(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1e4;const o=function(){const e=navigator.userAgent.toLocaleLowerCase().match(/chrome\/[\d]*/i);return e&&e[0]?Number(e[0].split("/")[1]):null}();return o?o<76?new sw(e,{updateInterval:t,lossRateInterval:n,freezeRateLimit:i,firstVideoDecodedTimeout:r}):new dw(e,{updateInterval:t,lossRateInterval:n,freezeRateLimit:i,firstVideoDecodedTimeout:r}):function(e){return!!window.RTCStatsReport&&e.getStats()instanceof tE}(e)?new dw(e,{updateInterval:t,lossRateInterval:n,freezeRateLimit:i,firstVideoDecodedTimeout:r}):new uw(e,{updateInterval:t,lossRateInterval:n,freezeRateLimit:i,firstVideoDecodedTimeout:r})}function Aw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function pw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Aw(Object(n),!0).forEach((function(t){ih(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Aw(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gw(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;const{filterRTX:r,filterVideoFec:o,filterAudioFec:a,filterAudioCodec:s,filterVideoCodec:c}=t,{useXR:l}=n;let d=[],u=[],h=[],A=[],p=!1,g=!1;if(Y_.parse(e).mediaDescriptions.forEach((e=>{i&&i!==e.attributes.direction||("video"!==e.media.mediaType||p||(u=e.attributes.payloads,A=e.attributes.extmaps,p=!0),"audio"!==e.media.mediaType||g||(d=e.attributes.payloads,h=e.attributes.extmaps,g=!0))})),!A||0===u.length)throw new Error("Cannot get video capabilities from SDP.");if(!h||0===d.length)throw new Error("Cannot get audio capabilities from SDP.");u.forEach((e=>{var t;null!==(t=e.rtpMap)&&void 0!==t&&t.clockRate&&(e.rtpMap.clockRate=parseInt(e.rtpMap.clockRate)),l&&e.rtcpFeedbacks.push({type:"rrtr"})})),d.forEach((e=>{var t;null!==(t=e.rtpMap)&&void 0!==t&&t.clockRate&&(e.rtpMap.clockRate=parseInt(e.rtpMap.clockRate)),l&&e.rtcpFeedbacks.push({type:"rrtr"})})),r&&(d=d.filter((e=>{var t;return"rtx"!==(null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLowerCase())})),u=u.filter((e=>{var t;return"rtx"!==(null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLowerCase())}))),o&&(u=u.filter((e=>{var t;return!/(red)|(ulpfec)|(flexfec)/i.test((null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName)||"")}))),a&&(d=d.filter((e=>{var t;return!/(red)|(ulpfec)|(flexfec)/i.test((null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName)||"")}))),s&&(null==s?void 0:s.length)>0&&(d=d.filter((e=>{var t;return Fi(s).call(s,(null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLowerCase())||"")}))),c&&(null==c?void 0:c.length)>0&&(u=u.filter((e=>{var t;return Fi(c).call(c,(null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLowerCase())||"")})));const f=NU("UNSUPPORTED_VIDEO_CODEC");return f&&f.length>0&&(u=u.filter((e=>!(e.rtpMap&&Fi(f).call(f,e.rtpMap.encodingName.toLowerCase()))))),{audioCodecs:d,videoCodecs:u,audioExtensions:h,videoExtensions:A}}function fw(e){const t=Y_.parse(e);let n,i;for(const r of t.mediaDescriptions){if(!n){const e=r.attributes.iceUfrag,t=r.attributes.icePwd;if(!e||!t)throw new Error("Cannot get iceUfrag or icePwd from SDP.");n={iceUfrag:e,icePwd:t}}if(!i){const e=r.attributes.fingerprints;e.length>0&&(i={fingerprints:e})}}if(!i&&t.attributes.fingerprints.length>0&&(i={fingerprints:t.attributes.fingerprints}),!i||!n)throw new Error("Cannot get iceParameters or dtlsParameters from SDP.");return{iceParameters:n,dtlsParameters:i}}function mw(e,t){const n=[],i=e.attributes.ssrcGroups.filter((e=>"FID"===e.semantic)),r=e.attributes.ssrcGroups.find((e=>"SIM"===e.semantic)),o=e.attributes.ssrcs;if(r)r.ssrcIds.forEach((e=>{var r;const o=null===(r=i.find((t=>t.ssrcIds[0]===e)))||void 0===r?void 0:r.ssrcIds[1];n.push({ssrcId:e,rtx:t?o:void 0})}));else if(i.length>0){const e=i[0].ssrcIds[0],r=i[0].ssrcIds[1];n.push({ssrcId:e,rtx:t?r:void 0})}else{if(0===o.length)throw new Error("No ssrcs found on local media description.");n.push({ssrcId:o[0].ssrcId})}return n}function Ew(e,t){const{cname:n}=e;let i;t&&t.ip&&"number"==typeof t.port?(i=[{foundation:"udpcandidate",componentId:"1",transport:"udp",priority:"2103266323",connectionAddress:t.ip,port:t.port.toString(),type:"host",extension:{}}],YU.debug("Using remote candidate from AP ".concat(t.ip,":").concat(t.port)),t.ip6&&(i.push({foundation:"udpcandidate",componentId:"1",transport:"udp",priority:"2103266323",connectionAddress:t.ip6,port:t.port.toString(),type:"host",extension:{}}),YU.debug("Using IPV6 remote candidate from AP ".concat(t.ip6,":").concat(t.port)))):i=e.iceParameters.candidates.map((e=>({foundation:e.foundation,componentId:"1",transport:e.protocol,priority:e.priority.toString(),connectionAddress:e.ip,port:e.port.toString(),type:e.type,extension:{}})));const r={fingerprints:e.dtlsParameters.fingerprints.map((e=>({hashFunction:e.algorithm,fingerprint:e.fingerprint})))},o={iceUfrag:e.iceParameters.iceUfrag,icePwd:e.iceParameters.icePwd};let a;switch(e.dtlsParameters.role){case"server":a="passive";break;case"client":a="active";break;case"auto":a="actpass"}return{dtlsParameters:r,iceParameters:o,candidates:i,rtpCapabilities:Bw(e.rtpCapabilities),setup:a,cname:n}}function Cw(e,t,n){const i=[],r=[];return e.forEach((e=>{let{ssrcId:o,rtx:a}=e;const s=ZC(8,"track-"),c={ssrcId:o,attributes:pw({label:s,mslabel:n=n||ZC(10,""),msid:"".concat(n," ").concat(s)},t&&{cname:t})};if(i.push(c),void 0!==a){const e={ssrcId:a,attributes:pw({label:s,mslabel:n,msid:"".concat(n," ").concat(s)},t&&{cname:t})};i.push(e),r.push({semantic:"FID",ssrcIds:[o,a]})}})),e.length>1&&r.push({semantic:"SIM",ssrcIds:e.map((e=>{let{ssrcId:t}=e;return t}))}),{ssrcs:i,ssrcGroups:r}}function Iw(e,t){t instanceof cF&&e.attributes.payloads.forEach((e=>{var n;const i=null===(n=e.rtpMap)||void 0===n?void 0:n.encodingName.toLowerCase();if(!i||-1===["opus","pcmu","pcma","g722"].indexOf(i))return;e.fmtp||(e.fmtp={parameters:{}}),e.fmtp.parameters.minptime="10",e.fmtp.parameters.useinbandfec="1";const r=t._encoderConfig;r&&"pcmu"!==i&&"pcma"!==i&&"g722"!==i&&(r.bitrate&&!QE()&&(e.fmtp.parameters.maxaveragebitrate="".concat(Math.floor(1e3*r.bitrate))),r.sampleRate&&(e.fmtp.parameters.maxplaybackrate="".concat(r.sampleRate),e.fmtp.parameters["sprop-maxcapturerate"]="".concat(r.sampleRate)),r.stereo&&(e.fmtp.parameters.stereo="1",e.fmtp.parameters["sprop-stereo"]="1"))}))}function Qw(e){const t=e.attributes.unrecognized.findIndex((e=>"x-google-flag"===e.attField&&"conference"===e.attValue));-1!==t&&e.attributes.unrecognized.splice(t,1)}function Uw(e,t){var n;if(!(t instanceof TF&&t._encoderConfig&&-1===t._hints.indexOf(YR.SCREEN_TRACK)))return;const i=t._encoderConfig;FR().supportMinBitrate&&i.bitrateMin&&e.attributes.payloads.forEach((e=>{var t,n;Fi(t=["h264","h265","vp8","vp9","av1"]).call(t,(null===(n=e.rtpMap)||void 0===n?void 0:n.encodingName.toLowerCase())||"")&&(e.fmtp||(e.fmtp={parameters:{}}),e.fmtp.parameters["x-google-min-bitrate"]="".concat(i.bitrateMin))})),FR().supportMinBitrate&&!Fi(n=t._hints).call(n,YR.LOW_STREAM)&&i.bitrateMax&&e.attributes.payloads.forEach((e=>{var t,n;Fi(t=["h264","h265","vp8","vp9","av1"]).call(t,(null===(n=e.rtpMap)||void 0===n?void 0:n.encodingName.toLowerCase())||"")&&(e.fmtp||(e.fmtp={parameters:{}}),e.fmtp.parameters["x-google-start-bitrate"]="".concat(NU("X_GOOGLE_START_BITRATE")||Math.floor(i.bitrateMax)))}))}function yw(e){if("video"!==e.media.mediaType)return;const t=AE();if(t.name!==cE.SAFARI&&t.os!==sE.IOS)return;const n=e.attributes.extmaps.findIndex((e=>/video-orientation/g.test(e.extensionName)));-1!==n&&e.attributes.extmaps.splice(n,1)}function bw(e,t,n){if(!t)return;let i,r;if("video"===e.media.mediaType?(i=n.videoExtensions,r=n.videoCodecs):(i=n.audioExtensions,r=n.audioCodecs),!0===t.twcc){const t=i.find((e=>"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01"===e.extensionName));if(t){e.attributes.extmaps.find((e=>"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01"===e.extensionName))||e.attributes.extmaps.push({entry:t.entry,extensionName:"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01"});const n=function(e,t){return t.filter((t=>!!e.find((e=>e.payloadType===t.payloadType&&!!e.rtcpFeedbacks.find((e=>"transport-cc"===e.type))))))}(r,e.attributes.payloads);n.forEach((e=>{e.rtcpFeedbacks.find((e=>"transport-cc"===e.type))||e.rtcpFeedbacks.push({type:"transport-cc"})}))}}else if(!1===t.twcc){const t=e.attributes.extmaps.findIndex((e=>"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01"===e.extensionName));-1!==t&&e.attributes.extmaps.splice(t,1),e.attributes.payloads.forEach((e=>{const t=e.rtcpFeedbacks.findIndex((e=>"transport-cc"===e.type));-1!==t&&e.rtcpFeedbacks.splice(t,1)}))}if(!0===t.remb){const t=i.find((e=>"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time"===e.extensionName));if(t){e.attributes.extmaps.find((e=>"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time"===e.extensionName))||e.attributes.extmaps.push({entry:t.entry,extensionName:"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time"});const n=function(e,t){return t.filter((t=>!!e.find((e=>e.payloadType===t.payloadType&&!!e.rtcpFeedbacks.find((e=>"goog-remb"===e.type))))))}(r,e.attributes.payloads);n.forEach((e=>{e.rtcpFeedbacks.find((e=>"goog-remb"===e.type))||e.rtcpFeedbacks.push({type:"goog-remb"})}))}}else if(!1===t.remb){const t=e.attributes.extmaps.findIndex((e=>"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time"===e.extensionName));-1!==t&&e.attributes.extmaps.splice(t,1),e.attributes.payloads.forEach((e=>{const t=e.rtcpFeedbacks.findIndex((e=>"goog-remb"===e.type));-1!==t&&e.rtcpFeedbacks.splice(t,1)}))}}function vw(e,t,n){if(QE())return;if("video"!==e.media.mediaType)return;if(!(t instanceof TF))return;if("vp9"!==n&&"vp8"!==n)return;if("vp8"===n&&!NU("SIMULCAST"))return;if(void 0===t._scalabilityMode||t._scalabilityMode.numSpatialLayers<=1)return;const i="vp8"===n?2:t._scalabilityMode.numSpatialLayers,r=e.attributes.ssrcs[0],o=e.attributes.ssrcGroups.find((e=>"FID"===e.semantic&&e.ssrcIds[0]===r.ssrcId)),a={semantic:"SIM",ssrcIds:[r.ssrcId]};for(let s=1;s<i;s++)e.attributes.ssrcs.push({ssrcId:r.ssrcId+s,attributes:SC(r.attributes)}),a.ssrcIds.push(r.ssrcId+s),o&&(e.attributes.ssrcs.push({ssrcId:o.ssrcIds[1]+s,attributes:SC(r.attributes)}),e.attributes.ssrcGroups.push({semantic:"FID",ssrcIds:[r.ssrcId+s,o.ssrcIds[1]+s]}));e.attributes.ssrcGroups.unshift(a)}async function Rw(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=new RTCPeerConnection;n.addTransceiver("video",{direction:"sendonly"}),n.addTransceiver("audio",{direction:"sendonly"}),n.addTransceiver("video",{direction:"recvonly"}),n.addTransceiver("audio",{direction:"recvonly"});const i=(await n.createOffer()).sdp,{send:r,recv:o,sendrecv:a}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;const i=gw(n,e,t,"sendonly"),r=gw(n,e,t,"recvonly"),o={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},a={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},s={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]};if(Fw(i,r,"videoExtensions",o,a,s),Fw(i,r,"videoCodecs",o,a,s),Fw(i,r,"audioExtensions",o,a,s),Fw(i,r,"audioCodecs",o,a,s),NU("RAISE_H264_BASELINE_PRIORITY")){const e=s.videoCodecs.findIndex((e=>{var t,n;return"h264"===(null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLocaleLowerCase())&&"42001f"===(null===(n=e.fmtp)||void 0===n?void 0:n.parameters["profile-level-id"])}));if(-1!==e){const t=s.videoCodecs.findIndex((e=>{var t;return"h264"===(null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLocaleLowerCase())}));if(t<e){YU.debug("raising H264 baseline profile priority");const n=s.videoCodecs[e];s.videoCodecs.splice(e,1),s.videoCodecs.splice(t,0,n)}-1!==t&&(a.videoCodecs=a.videoCodecs.filter((e=>{var t,n;return!("h264"===(null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLocaleLowerCase())&&"42001f"!==(null===(n=e.fmtp)||void 0===n?void 0:n.parameters["profile-level-id"]))}))),-1!==t&&NU("FILTER_SEND_H264_BASELINE")&&(o.videoCodecs=o.videoCodecs.filter((e=>{var t,n;return!("h264"===(null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLocaleLowerCase())&&"42001f"!==(null===(n=e.fmtp)||void 0===n?void 0:n.parameters["profile-level-id"]))})))}}return{send:o,recv:a,sendrecv:s}}(e,t,i);try{n.close()}catch(e){}return{send:r,recv:o,sendrecv:a}}function Sw(){const e={audioCodecs:[],videoCodecs:[],audioExtensions:[],videoExtensions:[]},t=gw(arguments.length>2?arguments[2]:void 0,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},"recvonly"),n={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},i={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},r={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]};if(Fw(e,t,"videoExtensions",n,i,r),Fw(e,t,"videoCodecs",n,i,r),Fw(e,t,"audioExtensions",n,i,r),Fw(e,t,"audioCodecs",n,i,r),NU("RAISE_H264_BASELINE_PRIORITY")){const e=r.videoCodecs.findIndex((e=>e.rtpMap&&"h264"===e.rtpMap.encodingName.toLocaleLowerCase()&&e.fmtp&&"42001f"===e.fmtp.parameters["profile-level-id"]));if(-1!==e){const t=r.videoCodecs.findIndex((e=>e.rtpMap&&"h264"===e.rtpMap.encodingName.toLocaleLowerCase()));if(t<e){YU.debug("raising H264 baseline profile priority");const n=r.videoCodecs[e];r.videoCodecs.splice(e,1),r.videoCodecs.splice(t,0,n)}-1!==t&&(i.videoCodecs=i.videoCodecs.filter((e=>!(e.rtpMap&&"h264"===e.rtpMap.encodingName.toLocaleLowerCase()&&e.fmtp&&"42001f"!==e.fmtp.parameters["profile-level-id"]))))}}return{send:n,recv:i,sendrecv:r}}function Fw(e,t,n,i,r,o){if("videoExtensions"===n||"audioExtensions"===n){const a=[];return e[n].forEach((e=>{t[n].some(((t,n)=>{if(e.entry===t.entry&&e.extensionName===t.extensionName)return a.push(n),!0}))?o[n].push(e):i[n].push(e)})),void t[n].forEach(((e,t)=>{-1===a.indexOf(t)&&r[n].push(e)}))}if("videoCodecs"===n||"audioCodecs"===n){const a=[];return e[n].forEach((e=>{t[n].some(((t,n)=>{if(e.payloadType===t.payloadType&&JSON.stringify(e)===JSON.stringify(t))return a.push(n),!0}))?o[n].push(e):i[n].push(e)})),void t[n].forEach(((e,t)=>{-1===a.indexOf(t)&&r[n].push(e)}))}}function Bw(e){const{send:t,recv:n,sendrecv:i}=e;if(!i){if(!t||!n)throw new Error("cannot merge rtp capabilities because one of send or recv is empty!");return{send:t,recv:n}}let r,o;return t?(r={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},r.audioCodecs=[...t.audioCodecs,...i.audioCodecs],r.videoCodecs=[...t.videoCodecs,...i.videoCodecs],r.audioExtensions=[...t.audioExtensions,...i.audioExtensions],r.videoExtensions=[...t.videoExtensions,...i.videoExtensions]):r=i,n?(o={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},o.audioCodecs=[...n.audioCodecs,...i.audioCodecs],o.videoCodecs=[...n.videoCodecs,...i.videoCodecs],o.audioExtensions=[...n.audioExtensions,...i.audioExtensions],o.videoExtensions=[...n.videoExtensions,...i.videoExtensions]):o=i,{send:r,recv:o}}function Tw(e){"audio"===e.media.mediaType&&e.attributes.payloads.filter((e=>{var t;return"opus"===(null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLowerCase())})).forEach((e=>{e.fmtp||(e.fmtp={parameters:{}}),e.fmtp.parameters.stereo="1",e.fmtp.parameters["sprop-stereo"]="1"}))}function Nw(e){e.mediaDescriptions.forEach((e=>{"video"!==e.media.mediaType&&"audio"!==e.media.mediaType||e.attributes.payloads.forEach((e=>{-1===e.rtcpFeedbacks.findIndex((e=>"rrtr"===e.type))&&e.rtcpFeedbacks.push({type:"rrtr"})}))}))}function _w(e,t,n,i){let r=[];if(e===hb.VIDEO){if(NU("H264_PROFILE_LEVEL_ID")&&"h264"===i&&(r=t.videoCodecs.filter((e=>{var t;return Fi(t=e.rtpMap&&e.rtpMap.encodingName.toLowerCase()||"").call(t,i)&&e&&e.fmtp&&e.fmtp.parameters["profile-level-id"]===NU("H264_PROFILE_LEVEL_ID")}))),!Array.isArray(r)||0===r.length){let e=[];const o=[],a=[];n.videoCodecs.forEach((t=>{var n,r,s;Fi(n=t.rtpMap&&t.rtpMap.encodingName.toLowerCase()||"").call(n,i)&&e.push(t),Fi(r=t.rtpMap&&t.rtpMap.encodingName.toLowerCase()||"").call(r,"vp8")&&o.push(t),Fi(s=t.rtpMap&&t.rtpMap.encodingName.toLowerCase()||"").call(s,"h264")&&a.push(t)})),0===e.length&&(0!==o.length?(e=o,YU.warning("codec ".concat(i," not included in rtpCapabilities, fallback to default payloads: vp8"))):0!==a.length&&(e=a,YU.warning("codec ".concat(i," not included in rtpCapabilities, fallback to default payloads: h264")))),0!==e.length&&(r=t.videoCodecs.filter((t=>e.some((e=>e.payloadType===t.payloadType)))))}if(NU("USE_PUB_RTX")){const e=r.map((e=>e.payloadType.toString())),n=t.videoCodecs.filter((t=>t.rtpMap&&"rtx"===t.rtpMap.encodingName&&Fi(e).call(e,t.fmtp&&t.fmtp.parameters.apt||"")));r=[...r,...n]}0===r.length&&(YU.warning("codec ".concat(i," not included in rtpCapabilities, fallback to default payloads: ").concat(t.videoCodecs[0].rtpMap&&t.videoCodecs[0].rtpMap.encodingName)),r=t.videoCodecs)}else r=t.audioCodecs.filter((e=>{var t;return Fi(t=e.rtpMap&&e.rtpMap.encodingName.toLowerCase()||"").call(t,i)})),0===r.length&&(YU.warning("codec ".concat(i," not included in rtpCapabilities, fallback to opus")),r=t.audioCodecs.filter((e=>{var t;return Fi(t=e.rtpMap&&e.rtpMap.encodingName.toLowerCase()||"").call(t,"opus")})));return r}let ww=class{get localCapabilities(){return SC(this._localCapabilities)}get rtpCapabilities(){return SC(this._rtpCapabilities)}get candidates(){return SC(this._candidates)}get iceParameters(){return SC(this._iceParameters)}get dtlsParameters(){return SC(this._dtlsParameters)}constructor(e){ih(this,"sessionDesc",void 0),ih(this,"_localCapabilities",void 0),ih(this,"_rtpCapabilities",void 0),ih(this,"_candidates",void 0),ih(this,"_iceParameters",void 0),ih(this,"_dtlsParameters",void 0),ih(this,"setup",void 0),ih(this,"currentMidIndex",void 0),ih(this,"cname","o/i14u9pJrxRKAsu"),ih(this,"firefoxSsrcMidMap",new Map),e=SC(e);const{remoteIceParameters:t,remoteDtlsParameters:n,candidates:i,remoteRTPCapabilities:r,localCapabilities:o,direction:a,setup:s,videoCodec:c,audioCodec:l}=e;let d;this.setup=s,d=a===by.RECEIVE_ONLY?Y_.parse("v=0\no=- 0 0 IN IP4 127.0.0.1\ns=AgoraGateway\nt=0 0\na=group:BUNDLE 0 1\na=msid-semantic: WMS\na=extmap-allow-mixed\nm=video 9 UDP/TLS/RTP/SAVPF 0\nc=IN IP4 127.0.0.1\na=rtcp:9 IN IP4 0.0.0.0\na=sendonly\na=rtcp-mux\na=rtcp-rsize\na=mid:0\nm=audio 9 UDP/TLS/RTP/SAVPF 0\nc=IN IP4 127.0.0.1\na=rtcp:9 IN IP4 0.0.0.0\na=sendonly\na=rtcp-mux\na=rtcp-rsize\na=mid:1\n"):Y_.parse("v=0\no=- 0 0 IN IP4 127.0.0.1\ns=AgoraGateway\nt=0 0\na=group:BUNDLE 0 1\na=msid-semantic: WMS\na=extmap-allow-mixed\nm=video 9 UDP/TLS/RTP/SAVPF 0\nc=IN IP4 127.0.0.1\na=rtcp:9 IN IP4 0.0.0.0\na=recvonly\na=rtcp-mux\na=rtcp-rsize\na=mid:0\nm=audio 9 UDP/TLS/RTP/SAVPF 0\nc=IN IP4 127.0.0.1\na=rtcp:9 IN IP4 0.0.0.0\na=recvonly\na=rtcp-mux\na=rtcp-rsize\na=mid:1\n"),this._rtpCapabilities=r,this._candidates=i,this._iceParameters=t,this._dtlsParameters=n,this._localCapabilities=o;const u=a===by.RECEIVE_ONLY?this.rtpCapabilities.send:this.rtpCapabilities.recv,h=a===by.RECEIVE_ONLY?this._localCapabilities.recv:this._localCapabilities.send,A=a===by.RECEIVE_ONLY?r.send.videoCodecs:_w(hb.VIDEO,u,h,c),p=a===by.RECEIVE_ONLY?r.send.audioCodecs:_w(hb.AUDIO,u,h,l);for(const g of d.mediaDescriptions){if(g.attributes.iceUfrag=t.iceUfrag,g.attributes.icePwd=t.icePwd,g.attributes.fingerprints=n.fingerprints,g.attributes.candidates=i,g.attributes.setup=this.setup,"application"===g.media.mediaType&&(g.attributes.sctpPort="5000"),"video"===g.media.mediaType&&(g.media.fmts=A.map((e=>e.payloadType.toString(10))),g.attributes.payloads=A,g.attributes.extmaps=u.videoExtensions,NU("PRELOAD_MEDIA_COUNT")>0)){const{ssrcs:e,ssrcGroups:t}=Cw([{ssrcId:4e4,rtx:NU("USE_SUB_RTX")?40001:void 0}],this.cname);g.attributes.ssrcs=e,g.attributes.ssrcGroups=t}if("audio"===g.media.mediaType&&(g.media.fmts=p.map((e=>e.payloadType.toString(10))),g.attributes.payloads=p,g.attributes.extmaps=u.audioExtensions,Tw(g),NU("PRELOAD_MEDIA_COUNT")>0)){const{ssrcs:e,ssrcGroups:t}=Cw([{ssrcId:2e4}],this.cname);g.attributes.ssrcs=e,g.attributes.ssrcGroups=t}}this.sessionDesc=d,this.currentMidIndex=d.mediaDescriptions.length-1}toString(){return Y_.print(this.sessionDesc)}hasMid(e){return Array.isArray(e)?e.every((e=>this.hasMid(e))):this.sessionDesc.mediaDescriptions.some((t=>t.attributes.mid===e))}send(e,t,n,i,r){n=n.replace(/ /g,"-");const{ssrcs:o,ssrcGroups:a}=Cw(t,this.cname,NU("SYNC_GROUP")?n:void 0),s=this.findPreloadMediaDesc(o);if(s){if(QE()&&this.firefoxSsrcMidMap.set(o[0].ssrcId,s.attributes.mid),r&&(r.twcc||r.remb)){const e=this.sessionDesc.mediaDescriptions.indexOf(s);return this.sessionDesc.mediaDescriptions[e]=this.mungSendMediaDesc(s,r),{mid:s.attributes.mid,needExchangeSDP:!0}}return{mid:s.attributes.mid,needExchangeSDP:!1}}{const t=this.findAvailableMediaIndex(e,o,i);let n;return-1===t?(n=this.createOrRecycleSendMedia(e,o,a,"sendonly",i,r),this.updateBundleMids()):(n=SC(this.sessionDesc.mediaDescriptions[t]),n.attributes.direction="sendonly",n.attributes.ssrcs=o,n.attributes.ssrcGroups=a,this.sessionDesc.mediaDescriptions[t]=this.mungSendMediaDesc(n,r)),QE()&&this.firefoxSsrcMidMap.set(o[0].ssrcId,n.attributes.mid),{needExchangeSDP:!0,mid:n.attributes.mid}}}stopSending(e){const t=this.sessionDesc.mediaDescriptions.filter((t=>t.attributes.mid&&-1!==e.indexOf(t.attributes.mid)));if(t.length!==e.length)throw new Error("mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.stopSending.");t.forEach((e=>{e.attributes.ssrcs=[]})),this.updateBundleMids()}receive(e,t,n){const i=[];return e.forEach((e=>{const r=e._mediaStreamTrack.kind,o=this.findAvailableRecvMediaIndex(r);let a,s=!1;-1===o?(s=!0,a=this.createOrRecycleRecvMedia(e,[],"recvonly",t,n),this.updateBundleMids()):(a=SC(this.sessionDesc.mediaDescriptions[o]),a.attributes.direction="recvonly"),i.push({mid:a.attributes.mid,needCreateTransceiver:s})})),i}stopReceiving(e){const t=this.sessionDesc.mediaDescriptions.filter((t=>-1!==e.indexOf(t.attributes.mid)));if(t.length!==e.length)throw new Error("MediaDescriptions' length doesn't match mids's length when calling RemoteSDP.receive.");t.forEach((e=>{e.media.port="0",e.attributes.direction="inactive"})),this.updateBundleMids()}addRemoteCandidate(e){const{foundation:t,protocol:n,address:i,port:r,type:o,relatedAddress:a,relatedPort:s,priority:c}=new RTCIceCandidate(e),l={foundation:null!=t?t:"",componentId:"1",transport:null!=n?n:"",priority:c?c+"":"",connectionAddress:null!=i?i:"",port:r?r+"":"",type:o?o+"":"",relAddr:null!=a?a:"",relPort:s?s+"":"",extension:{}};this.candidates.some((e=>e.priority===l.priority&&e.connectionAddress===l.connectionAddress&&e.port===l.port))||(this._candidates.push(l),this.sessionDesc.mediaDescriptions.forEach((e=>{e.attributes.candidates=this.candidates})))}clearRemoteCandidate(){this._candidates=[],this.sessionDesc.mediaDescriptions[0].attributes.candidates=this._candidates}createOrRecycleRecvMedia(e,t,n,i,r){const o=e._mediaStreamTrack.kind,a=this.rtpCapabilities.recv,s=_w(o,a,this.localCapabilities.send,o===hb.AUDIO?r:i),c=o===hb.VIDEO?a.videoExtensions:a.audioExtensions,l="".concat(++this.currentMidIndex);let d={media:{mediaType:o,port:"9",protos:["UDP","TLS","RTP","SAVPF"],fmts:s.map((e=>e.payloadType.toString(10)))},connections:[{nettype:"IN",addrtype:"IP4",address:"127.0.0.1"}],bandwidths:[],attributes:{iceUfrag:this.iceParameters.iceUfrag,icePwd:this.iceParameters.icePwd,unrecognized:[],candidates:[],extmaps:c,fingerprints:this.dtlsParameters.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:t,ssrcGroups:[],rtcpFeedbackWildcards:[],payloads:s,rtcp:{port:"9",netType:"IN",addressType:"IP4",address:"0.0.0.0"},setup:this.setup,direction:n,rtcpMux:!0,rtcpRsize:!0,mid:"".concat(l)}};d=this.mungRecvMediaDsec(d,e);const u=this.findFirstClosedMedia(o);if(u){const e=this.sessionDesc.mediaDescriptions.indexOf(u);this.sessionDesc.mediaDescriptions[e]=d}else this.sessionDesc.mediaDescriptions.push(d);return d}muteRemote(e){const t=this.sessionDesc.mediaDescriptions.filter((t=>Fi(e).call(e,t.attributes.mid||"")));if(t.length!==e.length)throw new Error("mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.muteRemote.");t.forEach((e=>{e.attributes.direction="inactive"}))}unmuteRemote(e){const t=this.sessionDesc.mediaDescriptions.filter((t=>Fi(e).call(e,t.attributes.mid||"")));if(t.length!==e.length)throw new Error("mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.muteRemote.");t.forEach((e=>{e.attributes.direction="recvonly"}))}findAvailableMediaIndex(e,t,n){return this.sessionDesc.mediaDescriptions.findIndex((i=>{const r=i.media.mediaType===e&&"0"!==i.media.port&&("sendonly"===i.attributes.direction||"sendrecv"===i.attributes.direction)&&0===i.attributes.ssrcs.length;if(QE()){if(r){const e=this.firefoxSsrcMidMap.get(t[0].ssrcId);return!(e||"0"!==i.attributes.mid&&"1"!==i.attributes.mid)||!(!e||e!==i.attributes.mid)}return!1}return r&&i.attributes.mid===n}))}findAvailableRecvMediaIndex(e){return this.sessionDesc.mediaDescriptions.findIndex((t=>{const n=t.media.mediaType===e&&"0"!==t.media.port&&("recvonly"===t.attributes.direction||"sendrecv"===t.attributes.direction);return"0"!==t.attributes.mid&&"1"!==t.attributes.mid&&n}))}predictReceivingMids(e){const t=[];for(let n=0;n<e;n++)t.push((this.currentMidIndex+n+1).toString(10));return t}restartICE(e){e=SC(e),this._iceParameters=e,this.sessionDesc.mediaDescriptions.forEach((t=>{t.attributes.iceUfrag=e.iceUfrag,t.attributes.icePwd=e.icePwd}))}createOrRecycleSendMedia(e,t,n,i,r,o){const a=this.rtpCapabilities.send,s=e===hb.VIDEO?a.videoCodecs:a.audioCodecs,c=e===hb.VIDEO?a.videoExtensions:a.audioExtensions;QE()&&(r="".concat(++this.currentMidIndex));let l={media:{mediaType:e,port:"9",protos:["UDP","TLS","RTP","SAVPF"],fmts:s.map((e=>e.payloadType.toString(10)))},connections:[{nettype:"IN",addrtype:"IP4",address:"127.0.0.1"}],bandwidths:[],attributes:{iceUfrag:this.iceParameters.iceUfrag,icePwd:this.iceParameters.icePwd,unrecognized:[],candidates:[],extmaps:c,fingerprints:this.dtlsParameters.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:t,ssrcGroups:n,rtcpFeedbackWildcards:[],payloads:s,rtcp:{port:"9",netType:"IN",addressType:"IP4",address:"0.0.0.0"},setup:this.setup,direction:i,rtcpMux:!0,rtcpRsize:!0,mid:r}};l=this.mungSendMediaDesc(l,o);const d=this.findFirstClosedMedia(e);if(d){const e=this.sessionDesc.mediaDescriptions.indexOf(d);this.sessionDesc.mediaDescriptions[e]=l}else this.sessionDesc.mediaDescriptions.push(l);return l}mungRecvMediaDsec(e,t,n){const i=SC(e);return Qw(i),Iw(i,t),Uw(i,t),yw(i),bw(i,n,this.localCapabilities.send),i}mungSendMediaDesc(e,t){const n=SC(e);return bw(n,t,this.localCapabilities.recv),Tw(n),n}updateRecvMedia(e,t){const n=this.sessionDesc.mediaDescriptions.findIndex((t=>t.attributes.mid===e));if(-1!==n){const e=this.mungRecvMediaDsec(this.sessionDesc.mediaDescriptions[n],t);this.sessionDesc.mediaDescriptions[n]=e}}updateBundleMids(){this.sessionDesc.attributes.groups[0].identificationTag=this.sessionDesc.mediaDescriptions.filter((e=>"0"!==e.media.port)).map((e=>e.attributes.mid))}findPreloadMediaDesc(e){return this.sessionDesc.mediaDescriptions.find((t=>{var n;return(null===(n=t.attributes)||void 0===n||null===(n=n.ssrcs[0])||void 0===n?void 0:n.ssrcId)===e[0].ssrcId}))}findFirstClosedMedia(e){return this.sessionDesc.mediaDescriptions.find((t=>QE()?"0"===t.media.port&&t.media.mediaType===e:"0"===t.media.port))}};const kw=["sdp"];function Dw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Vw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dw(Object(n),!0).forEach((function(t){ih(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dw(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}let Zw=class e extends kb{get currentLocalDescription(){return this.peerConnection.currentLocalDescription}get currentRemoteDescription(){return this.peerConnection.currentRemoteDescription}get peerConnectionState(){return this.peerConnection.connectionState}get iceConnectionState(){return this.peerConnection.iceConnectionState}get dtlsTransportState(){var e,t;return null!==(e=null===(t=this.peerConnection.getReceivers()[0])||void 0===t||null===(t=t.transport)||void 0===t?void 0:t.state)&&void 0!==e?e:null}get localCodecs(){return[]}set isInRestartIce(e){this._isInRestartIce=e}get isInRestartIce(){return this._isInRestartIce}constructor(t,n,i){super(t,n),ih(this,"direction",void 0),ih(this,"name",void 0),ih(this,"store",void 0),ih(this,"spec",void 0),ih(this,"peerConnection",void 0),ih(this,"initialOffer",void 0),ih(this,"transport",void 0),ih(this,"statsFilter",void 0),ih(this,"localCandidateCount",0),ih(this,"allCandidatesReceived",!1),ih(this,"localCandidateAddress",null),ih(this,"useXR",NU("USE_XR")),ih(this,"filter",{filterRTX:!NU("USE_PUB_RTX")&&!NU("USE_SUB_RTX"),filterVideoFec:NU("FILTER_VIDEO_FEC"),filterAudioFec:NU("FILTER_AUDIO_FEC")}),ih(this,"extension",{useXR:this.useXR}),ih(this,"_isInRestartIce",!1),ih(this,"mutex",new YC("P2PConnection-mutex")),ih(this,"onLocalCandidate",void 0),ih(this,"remoteSDP",void 0),ih(this,"pendingCandidates",[]),ih(this,"localCapabilities",void 0),ih(this,"isReady",!1),ih(this,"restartCnt",0),ih(this,"curTurnServerIndex",0),this.store=n,this.spec=t,this.peerConnection=new RTCPeerConnection(e.resolvePCConfiguration(t,n.p2pTransport),{optional:[{googDscp:!0}]}),this.direction=null!=i?i:by.SEND_ONLY,this.name=this.direction===by.SEND_ONLY?"sendP2PConnection":"recvP2PConnection",this.statsFilter=hw(this.peerConnection,NU("STATS_UPDATE_INTERVAL"),void 0,QE()?1200:void 0),this.bindPCEvents(),this.bindStatsEvents(),this.store.p2pId=this.store.p2pId+1}async establish(e){try{const t=await Rw(this.filter,this.extension);if(this.localCapabilities=Bw(t),e){const{sdp:t}=e,n=P_(e,kw),i=function(){const e={audioCodecs:[],videoCodecs:[],audioExtensions:[],videoExtensions:[]},t=gw(arguments.length>2?arguments[2]:void 0,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},"sendonly"),n={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},i={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},r={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]};if(Fw(t,e,"videoExtensions",n,i,r),Fw(t,e,"videoCodecs",n,i,r),Fw(t,e,"audioExtensions",n,i,r),Fw(t,e,"audioCodecs",n,i,r),NU("RAISE_H264_BASELINE_PRIORITY")){const e=r.videoCodecs.findIndex((e=>e.rtpMap&&"h264"===e.rtpMap.encodingName.toLocaleLowerCase()&&e.fmtp&&"42001f"===e.fmtp.parameters["profile-level-id"]));if(-1!==e){const t=r.videoCodecs.findIndex((e=>e.rtpMap&&"h264"===e.rtpMap.encodingName.toLocaleLowerCase()));if(t<e){YU.debug("raising H264 baseline profile priority");const n=r.videoCodecs[e];r.videoCodecs.splice(e,1),r.videoCodecs.splice(t,0,n)}-1!==t&&NU("FILTER_SEND_H264_BASELINE")&&(n.videoCodecs=n.videoCodecs.filter((e=>!(e.rtpMap&&"h264"===e.rtpMap.encodingName.toLocaleLowerCase()&&e.fmtp&&"42001f"!==e.fmtp.parameters["profile-level-id"]))))}}return{send:n,recv:i,sendrecv:r}}(this.filter,this.extension,t);this.remoteSDP=new ww({remoteIceParameters:n.iceParameters,remoteDtlsParameters:n.dtlsParameters,candidates:[],remoteRTPCapabilities:i,localCapabilities:this.localCapabilities,direction:this.direction,setup:"actpass",videoCodec:this.store.codec,audioCodec:this.store.audioCodec}),await this.setRemoteDescription({type:"offer",sdp:this.remoteSDP.toString()}),this.isReady=!0;const r=await this.peerConnection.createAnswer();if(!r.sdp)throw new Error("Cannot get answer sdp when trying to establish PeerConnection.");const o=fw(r.sdp);await this.peerConnection.setLocalDescription(r);const a=await Sw(this.filter,this.extension,r.sdp);this.localCapabilities=Bw(a);const s=this.peerConnection.getTransceivers()[0];return null!=s&&s.receiver&&s.receiver.transport&&this.tryBindTransportEvents(s.receiver.transport),Vw(Vw({},o),{},{sdp:r.sdp})}{this.peerConnection.addTransceiver("video",{direction:"sendonly"}),this.peerConnection.addTransceiver("audio",{direction:"sendonly"});const e=await this.peerConnection.createOffer();if(!e.sdp)throw new Error("Cannot get initialOffer.sdp when trying to establish PeerConnection.");const t=fw(e.sdp);return this.initialOffer=e,Vw(Vw({},t),{},{sdp:e.sdp})}}catch(e){throw new WE(ZE.GET_LOCAL_CONNECTION_PARAMS_FAILED,e.toString())}}async connect(e){try{if(!this.initialOffer)throw new Error("Cannot establish P2PConnection without initial offer.");await this.peerConnection.setLocalDescription(this.initialOffer);const{sdp:t,iceParameters:n,dtlsParameters:i}=e,r=await Sw(this.filter,this.extension,t);this.remoteSDP=new ww({remoteIceParameters:n,remoteDtlsParameters:i,candidates:[],remoteRTPCapabilities:r,localCapabilities:this.localCapabilities,direction:this.direction,setup:"active",videoCodec:this.store.codec,audioCodec:this.store.audioCodec}),await this.setRemoteDescription({type:"answer",sdp:this.remoteSDP.toString()});const o=this.peerConnection.getTransceivers()[0];null!=o&&o.sender&&o.sender.transport&&this.tryBindTransportEvents(o.sender.transport)}catch(e){throw new WE(ZE.EXCHANGE_SDP_FAILED,"P2PConnection.connect failed; ".concat(e.toString()))}}async addRemoteCandidate(e){try{e&&this.pendingCandidates.push(e),this.peerConnection.remoteDescription&&this.isReady&&(this.pendingCandidates.forEach((e=>{this.peerConnection.addIceCandidate(e)})),this.pendingCandidates=[])}catch(e){throw new WE(ZE.ADD_CANDIDATE_FAILED,"P2PConnection.addRemoteCandidate failed; ".concat(e.toString()))}}send(e,t,n){var i=this;return B_((function*(){const r=yield I_(i.mutex.lock("From P2PConnection.send"));try{if(!i.remoteSDP)throw new Error("Cannot call P2PConnection.send before remote SDP created");const r=[],o=i.remoteSDP.receive(e,t,n);e.forEach(((e,t)=>{if(o[t].needCreateTransceiver){const t=i.peerConnection.addTransceiver(e._mediaStreamTrack,{direction:"sendonly"});r.push(t),e._updateRtpTransceiver(t)}else{const n=i.peerConnection.getTransceivers().find((e=>e.mid===o[t].mid));if(!n)throw new Error("cannot find transceiver when sendPeerconnection send, mid is ".concat(o[t].mid));r.push(n),e._updateRtpTransceiver(n)}})),QE()&&!0===NU("SIMULCAST")&&(yield I_(i.applySimulcastForFirefox(r,e)));const a=o.map((e=>e.mid)),s=yield I_(i.peerConnection.createOffer()),c=i.mungSendOfferSDP(s.sdp,e,a),l=Y_.parse(c),d=a.map((e=>{const t=l.mediaDescriptions.find((t=>t.attributes.mid===e));if(!t)throw new Error("Cannot extract ssrc from mediaDescription.");return mw(t,NU("USE_PUB_RTX"))})),u=r.map(((e,t)=>{const n=a[t];return{localSSRC:d[t],id:n}}));yield I_(i.peerConnection.setLocalDescription({type:"offer",sdp:c}));try{yield u}catch(e){const n=i.remoteSDP.toString();throw yield I_(i.peerConnection.setLocalDescription({type:"offer",sdp:c})),yield I_(i.peerConnection.setRemoteDescription({type:"answer",sdp:n})),yield I_(i.stopSending(a,!0)),e}yield I_(i.applySimulcastEncodings(r,e)),yield I_(i.applySendEncodings(r,e));const h=i.remoteSDP.toString(),A=i.logSDPExchange(c,"offer","local","send");return null==A||A(h),yield I_(i.setRemoteDescription({type:"answer",sdp:h})),r.map(((e,t)=>{const n=a[t];return{localSSRC:d[t],id:n}}))}catch(e){throw e instanceof WE?e:new WE(ZE.EXCHANGE_SDP_FAILED,"P2PConnection.send failed; ".concat(e.toString()))}finally{r()}}))()}async stopSending(e,t){const n=t?void 0:await this.mutex.lock("From P2PConnection.stopSending");try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.stopSending before remote SDP created");const t=this.peerConnection.getTransceivers().filter((t=>-1!==e.indexOf(t.mid)));if(t.length!==e.length)throw new Error("Transceivers' length (".concat(t.length,") doesn't match mids' length (").concat(e.length,") when trying to call P2PConnection.stopSending."));t.map((e=>{var t;e.direction="inactive",null===(t=e.stop)||void 0===t||t.call(e)}));const n=await this.peerConnection.createOffer(),i=this.logSDPExchange(n.sdp||"","offer","local","stopSending");await this.peerConnection.setLocalDescription(n),this.remoteSDP.stopReceiving(e);const r=this.remoteSDP.toString();null==i||i(r),await this.setRemoteDescription({type:"answer",sdp:r})}catch(e){throw new WE(ZE.EXCHANGE_SDP_FAILED,"P2PConnection.stopSending failed; ".concat(e.toString()))}finally{n&&n()}}async receive(e,t,n,i){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.receive ".concat(e," before remoteSDP created."));const{mid:r,needExchangeSDP:o}=this.remoteSDP.send(e,t,n,i);if(o){const t=this.remoteSDP.toString(),n=this.logSDPExchange(t,"offer","remote","receive");await this.setRemoteDescription({type:"offer",sdp:t});const i=await this.peerConnection.createAnswer(),o=this.mungReceiveAnswerSDP(i.sdp,r,e);null==n||n(o||""),await this.peerConnection.setLocalDescription({type:"answer",sdp:o}),YU.debug("[".concat(this.store.clientId,"] [P2PConnection] receive ").concat(e," by exchanging SDP."))}else YU.debug("[".concat(this.store.clientId,"] [P2PConnection] receive ").concat(e," no need to exchange SDP."));const a=this.peerConnection.getTransceivers().find((e=>e.mid===r));if(!a||null===a.mid)throw new Error("Cannot get transceiver after setLocalDescription.");return{track:a.receiver.track,mid:a.mid,transceiver:a}}catch(e){throw new WE(ZE.EXCHANGE_SDP_FAILED,"P2PConnection.receive failed; ".concat(e.toString()))}}async mockReceive(e,t,n,i){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.receive ".concat(e," before remoteSDP created."));const{mid:r,needExchangeSDP:o}=this.remoteSDP.send(e,t,n,i);if(o){const t=this.remoteSDP.toString(),n=this.logSDPExchange(t,"offer","remote","receive");await this.setRemoteDescription({type:"offer",sdp:t});const i=await this.peerConnection.createAnswer(),o=this.mungReceiveAnswerSDP(i.sdp,r,e);null==n||n(o||""),await this.peerConnection.setLocalDescription({type:"answer",sdp:o}),YU.debug("[".concat(this.store.clientId,"] [P2PConnection] receive ").concat(e," by exchanging SDP."))}else YU.debug("[".concat(this.store.clientId,"] [P2PConnection] receive ").concat(e," no need to exchange SDP."))}catch(e){throw new WE(ZE.EXCHANGE_SDP_FAILED,"P2PConnection.receive failed; ".concat(e.toString()))}}async stopReceiving(e){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.stopReceiving before remote SDP created.");this.remoteSDP.stopSending(e);const t=this.remoteSDP.toString(),n=this.logSDPExchange(t,"offer","remote","stopReceiving");await this.setRemoteDescription({type:"offer",sdp:t});const i=await this.peerConnection.createAnswer();null==n||n(i.sdp||""),await this.peerConnection.setLocalDescription(i)}catch(e){throw new WE(ZE.EXCHANGE_SDP_FAILED,"P2PConnection stopReceiving failed; ".concat(e.toString()))}}async restartICE(t){try{if(this.store.p2pTransport===SU.Auto&&(this.store.p2pTransport=SU.SdRtn,FR().supportPCSetConfiguration&&this.peerConnection.setConfiguration(e.resolvePCConfiguration(this.spec,this.store.p2pTransport))),this.restartCnt>3&&(this.restartCnt=0,FR().supportPCSetConfiguration&&this.peerConnection.setConfiguration(e.resolvePCConfiguration(this.spec,this.store.p2pTransport,++this.curTurnServerIndex))),!t){this.restartCnt++,this.isReady=!1;const e=await this.peerConnection.createOffer({iceRestart:!0});if(!e.sdp)throw new Error("Cannot restartICE because restart offer SDP does not exist.");const{iceParameters:t}=fw(e.sdp);return this.store.descriptionStart(),this.direction===by.SEND_ONLY&&await this.peerConnection.setLocalDescription(e),t}if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.stopReceiving before remote SDP created.");if(this.remoteSDP.restartICE(t),this.store.descriptionStart(),this.direction===by.RECEIVE_ONLY){this.restartCnt++,await this.setRemoteDescription({type:"offer",sdp:this.remoteSDP.toString()});const e=await this.peerConnection.createAnswer();if(!e.sdp)throw new Error("Cannot get answer sdp when trying to iceRestart.");const{iceParameters:t}=fw(e.sdp);return await this.peerConnection.setLocalDescription(e),t}await this.setRemoteDescription({type:"answer",sdp:this.remoteSDP.toString()}),this.isReady=!0}catch(e){throw new WE(ZE.EXCHANGE_SDP_FAILED,"P2PConnection stopReceiving failed; ".concat(e.toString()))}}close(){var e;this.peerConnection.close(),this.peerConnection.onicecandidate=null,null===(e=this.onConnectionStateChange)||void 0===e||e.call(this,"closed"),this.tryUnbindTransportEvents(),this.unbindPCEvents(),this.unbindStatsEvents(),this.transport=void 0,this.statsFilter.destroy()}getStats(){return this.statsFilter.getStats()}getRemoteVideoIsReady(e){return this.statsFilter.getVideoIsReady(e)}async updateEncoderConfig(e,t){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.updateEncoderConfig before remote SDP created.");const n=await this.peerConnection.createOffer(),i=this.mungSendOfferSDP(n.sdp,[t],[e]);this.remoteSDP.updateRecvMedia(e,t);const r=this.remoteSDP.toString(),o=this.logSDPExchange(i,"offer","local","updateEncoderConfig");await this.peerConnection.setLocalDescription({type:"offer",sdp:i}),null==o||o(r),await this.peerConnection.setRemoteDescription({type:"answer",sdp:r})}catch(e){throw new WE(ZE.EXCHANGE_SDP_FAILED,e.toString())}}async updateSendParameters(e,t){const n=this.peerConnection.getTransceivers().filter((t=>t.mid===e));1===n.length&&(this.isVP8Simulcast(t)?QE()||await this.applySimulcastEncodings(n,[t]):await this.applySendEncodings(n,[t]))}setStatsRemoteVideoIsReady(e,t){this.statsFilter.setVideoIsReady2(e,t)}async replaceTrack(e,t){const n=this.peerConnection.getTransceivers().find((e=>e.mid===t));n&&await n.sender.replaceTrack(e._mediaStreamTrack)}async getSelectedCandidatePair(){const e=this.peerConnection.getReceivers();if(e.length>0&&e[0].transport&&e[0].transport.iceTransport&&e[0].transport.iceTransport.getSelectedCandidatePair&&e[0].transport.iceTransport.getSelectedCandidatePair()){const t=e[0].transport.iceTransport,{local:n,remote:i}=t.getSelectedCandidatePair();return{local:Vw(Vw({},H_),{},{candidateType:n.type,protocol:n.protocol,address:n.address,port:n.port}),remote:Vw(Vw({},H_),{},{candidateType:i.type,protocol:i.protocol,address:i.address,port:i.port})}}return this.statsFilter.getSelectedCandidatePair()}bindPCEvents(){this.peerConnection.oniceconnectionstatechange=()=>{var e,t;Fi(e=["connected","completed"]).call(e,this.peerConnection.iceConnectionState)&&(this.isReady=!1),null===(t=this.onICEConnectionStateChange)||void 0===t||t.call(this,this.peerConnection.iceConnectionState)},this.peerConnection.onconnectionstatechange=()=>{var e;"connected"===this.peerConnection.connectionState&&(this.restartCnt=0),null===(e=this.onConnectionStateChange)||void 0===e||e.call(this,this.peerConnection.connectionState)},this.startICECandidate()}startICECandidate(){this.peerConnection.onicecandidate||(this.localCandidateCount=0,this.peerConnection.onicecandidate=e=>{var t;e.candidate?(e.candidate.candidate&&(this.localCandidateAddress=e.candidate.address,null===(t=this.onLocalCandidate)||void 0===t||t.call(this,e.candidate.toJSON())),this.localCandidateCount+=1):(this.allCandidatesReceived=!0,YU.debug("[".concat(this.store.clientId,"] [pc-").concat(this.store.p2pId,"] local candidate count"),this.localCandidateCount))})}unbindPCEvents(){this.peerConnection.oniceconnectionstatechange=null,this.peerConnection.onconnectionstatechange=null,this.peerConnection.onsignalingstatechange=null,this.peerConnection.onicecandidateerror=null,this.peerConnection.onicecandidate=null,this.peerConnection.ontrack=null}static resolvePCConfiguration(t,n){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r={iceServers:[]};var o;return t.iceServers?r.iceServers=t.iceServers:t.turnServer&&"off"!==t.turnServer.mode&&(pC(t.turnServer.servers)?r.iceServers=t.turnServer.servers:(r.iceServers&&r.iceServers.push(...e.turnServerConfigToIceServers(t.turnServer.servers,n,i)),NU("USE_TURN_SERVER_OF_GATEWAY")&&r.iceServers&&t.turnServer.serversFromGateway&&r.iceServers.push(...e.turnServerConfigToIceServers(t.turnServer.serversFromGateway,n,i)),Fi(o=[SU.Relay,SU.SdRtn]).call(o,n)&&(r.iceTransportPolicy="relay"),NU("FORCE_TURN_TCP")?r.iceTransportPolicy="relay":t.turnServer.servers.concat(t.turnServer.serversFromGateway||[]).forEach((e=>{e.forceturn&&(r.iceTransportPolicy="relay")})))),NU("ENABLE_ENCODED_TRANSFORM")&&FR().supportWebRTCEncodedTransform&&(r.encodedInsertableStreams=!0),YU.debug("P2PConnection p2pTransport is ".concat(n)),r}static turnServerConfigToIceServers(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const i=[],r=e.filter((e=>e.tcpport));YU.debug("P2PConnection turnServers is ".concat(r,", current index is ").concat(n));const o=r.length>n?r[n]:r[0];switch(t){case SU.SdRtn:const t=e.filter((e=>{var t;return Fi(t=e.username).call(t,"glb:")&&e.turnServerURL==e.turnServerURL})),r=t.length>n?t[n]:t[0];r&&(i.push({username:r.username,credential:r.password,credentialType:"password",urls:"turn:".concat(yv(r.turnServerURL),":").concat(r.tcpport,"?transport=udp")}),i.push({username:r.username,credential:r.password,credentialType:"password",urls:"turns:".concat(yv(r.turnServerURL),":").concat(r.tcpport,"?transport=tcp")}));break;case SU.Relay:o&&(i.push({username:o.username,credential:o.password,credentialType:"password",urls:"turn:".concat(o.turnServerURL,":").concat(o.tcpport,"?transport=udp")}),i.push({username:o.username,credential:o.password,credentialType:"password",urls:"turns:".concat(yv(o.turnServerURL),":").concat(o.tcpport,"?transport=tcp")}));break;default:o&&(i.push({username:o.username,credential:o.password,credentialType:"password",urls:"turn:".concat(o.turnServerURL,":").concat(o.tcpport,"?transport=udp")}),i.push({username:o.username,credential:o.password,credentialType:"password",urls:"turns:".concat(yv(o.turnServerURL),":").concat(o.tcpport,"?transport=tcp")}),i.push({username:o.username,credential:o.password,credentialType:"password",urls:"stun:".concat(o.turnServerURL,":").concat(o.tcpport)}))}return i}tryBindTransportEvents(e){if(e){this.transport=e,e.onstatechange=()=>{var t;null!=e&&e.state&&(null===(t=this.onDTLSTransportStateChange)||void 0===t||t.call(this,e.state))},e.onerror=e=>{var t;null===(t=this.onDTLSTransportError)||void 0===t||t.call(this,"error"in e?e.error:e)};const t=e.iceTransport;t&&(t.onstatechange=()=>{const t=null==e?void 0:e.iceTransport.state;var n;t&&(null===(n=this.onICETransportStateChange)||void 0===n||n.call(this,t))},t.getSelectedCandidatePair&&(t.onselectedcandidatepairchange=()=>{if(t.getSelectedCandidatePair()){const{local:e,remote:n}=t.getSelectedCandidatePair();YU.info("[".concat(this.store.clientId,"] [pc-").concat(this.store.p2pId,"] selectedcandidatepairchange: local ").concat(JSON.stringify({candidateType:e.type,protocol:e.protocol}),", remote ").concat(JSON.stringify({candidateType:n.type,protocol:n.protocol,address:n.address,port:n.port})," )"))}}))}}tryUnbindTransportEvents(){this.transport&&(this.transport.onstatechange=null,this.transport.onerror=null,this.transport.iceTransport&&(this.transport.iceTransport.onstatechange=null))}async updateRtpSenderEncodings(e,t){var n;if(t||(t=this.peerConnection.getSenders().find((t=>t.track===e._mediaStreamTrack))),!t)return YU.warn("[".concat(e.getTrackId(),"] no rtpSender found}"));if(this.isVP8Simulcast(e))return YU.warn("[updateRtpSenderEncodings] Track is VP8 simulcast, please apply simulcast encodings");if(!FR().supportSetRtpSenderParameters)return YU.warn("[updateRtpSenderEncodings] Browser not support set rtp-sender parameters");const i={},r={};switch(e._optimizationMode){case"motion":i.degradationPreference="maintain-framerate";break;case"detail":i.degradationPreference="maintain-resolution";break;default:i.degradationPreference="balanced"}if(e._encoderConfig){var o;const{bitrateMax:t,frameRate:n,scaleResolutionDownBy:i}=e._encoderConfig;t&&(r.maxBitrate=1e3*t),Fi(o=e._hints).call(o,YR.LOW_STREAM)&&(n&&(r.maxFramerate=vv(n)),i&&i>=1&&(r.scaleResolutionDownBy=i))}if(NU("DSCP_TYPE")&&kE()){var a;const e=NU("DSCP_TYPE");Fi(a=["very-low","low","medium","high"]).call(a,e)&&(r.networkPriority=e)}const s=t.getParameters(),c=null===(n=s.encodings)||void 0===n?void 0:n[0];QE()&&!c&&(i.encodings=[r]),c&&Object.assign(c,r),Object.assign(s,i),YU.debug("[".concat(e.getTrackId(),"] updateRtpSenderEncodings: ").concat(JSON.stringify(s.encodings))),await t.setParameters(s)}async applySendEncodings(e,t){try{if(!FR().supportSetRtpSenderParameters)return;if(e.length!==t.length)return;for(let n=0;n<e.length;n++){const i=e[n],r=t[n];r instanceof TF&&!this.isVP8Simulcast(r)&&await this.updateRtpSenderEncodings(r,i.sender)}}catch(e){YU.debug("[".concat(this.store.clientId,"] Apply RTPSendEncodings failed."))}}mungSendOfferSDP(e,t,n){const i=Y_.parse(e);return t.forEach(((e,t)=>{const r=n[t],o=i.mediaDescriptions.find((e=>e.attributes.mid===r));o&&(Iw(o,e),vw(o,e,this.store.codec))})),Y_.print(i)}bindStatsEvents(){this.statsFilter.onFirstAudioReceived=e=>{var t;null===(t=this.onFirstAudioReceived)||void 0===t||t.call(this,e)},this.statsFilter.onFirstVideoReceived=e=>{var t;null===(t=this.onFirstVideoReceived)||void 0===t||t.call(this,e)},this.statsFilter.onFirstAudioDecoded=e=>{var t;null===(t=this.onFirstAudioDecoded)||void 0===t||t.call(this,e)},this.statsFilter.onFirstVideoDecoded=(e,t,n)=>{var i;null===(i=this.onFirstVideoDecoded)||void 0===i||i.call(this,e,t,n)},this.statsFilter.onSelectedLocalCandidateChanged=(e,t)=>{var n;null===(n=this.onSelectedLocalCandidateChanged)||void 0===n||n.call(this,e,t)},this.statsFilter.onSelectedRemoteCandidateChanged=(e,t)=>{var n;null===(n=this.onSelectedRemoteCandidateChanged)||void 0===n||n.call(this,e,t)},this.statsFilter.onFirstVideoDecodedTimeout=e=>{var t;null===(t=this.onFirstVideoDecodedTimeout)||void 0===t||t.call(this,e)}}unbindStatsEvents(){this.statsFilter.onFirstAudioReceived=void 0,this.statsFilter.onFirstVideoReceived=void 0,this.statsFilter.onFirstAudioDecoded=void 0,this.statsFilter.onFirstVideoDecoded=void 0,this.statsFilter.onSelectedLocalCandidateChanged=void 0,this.statsFilter.onSelectedRemoteCandidateChanged=void 0,this.statsFilter.onFirstVideoDecodedTimeout=void 0}async applySimulcastForFirefox(e,t){if(e.length===t.length)for(let s=0;s<e.length;s++){var n,i,r,o,a;const c=e[s],l=t[s];if(l instanceof TF&&!Fi(n=l._hints).call(n,YR.LOW_STREAM)&&null!==(i=l._encoderConfig)&&void 0!==i&&i.bitrateMax&&(null===(r=l._encoderConfig)||void 0===r?void 0:r.bitrateMax)>200&&null!==(o=l._scalabilityMode)&&void 0!==o&&o.numSpatialLayers&&(null===(a=l._scalabilityMode)||void 0===a?void 0:a.numSpatialLayers)>1&&"vp8"===this.store.codec){const e={},t={high:1e3*(l._encoderConfig.bitrateMax-50),medium:5e4};e.encodings=[{rid:"m",active:!0,maxBitrate:t.medium,scaleResolutionDownBy:4},{rid:"h",active:!0,maxBitrate:t.high}];const n=c.sender.getParameters();await c.sender.setParameters(Object.assign(n,e))}}}async applySimulcastEncodings(e,t){if(!QE()&&e.length===t.length)for(let n=0;n<e.length;n++){const i=t[n];if(i instanceof TF&&this.isVP8Simulcast(i)){const t=e[n],r={},o={high:1e3*(i._encoderConfig.bitrateMax-50),medium:5e4};r.encodings=[{active:!0,adaptivePtime:!1,networkPriority:"high",priority:"high",maxBitrate:o.high},{active:!0,adaptivePtime:!1,networkPriority:"low",priority:"low",maxBitrate:o.medium,scaleResolutionDownBy:4}];const a=t.sender.getParameters();await t.sender.setParameters(Object.assign(a,r))}}}isVP8Simulcast(e){var t,n,i,r,o;return!!(e instanceof TF&&NU("SIMULCAST")&&"vp8"===this.store.codec&&!Fi(t=e._hints).call(t,YR.LOW_STREAM)&&null!==(n=e._encoderConfig)&&void 0!==n&&n.bitrateMax&&(null===(i=e._encoderConfig)||void 0===i?void 0:i.bitrateMax)>200&&null!==(r=e._scalabilityMode)&&void 0!==r&&r.numSpatialLayers&&(null===(o=e._scalabilityMode)||void 0===o?void 0:o.numSpatialLayers)>1)}logSDPExchange(e,t,n,i){if(NU("SDP_LOGGING"))return YU.upload("[".concat(this.store.clientId,"] exchanging ").concat(n," ").concat(t," SDP during P2PConnection.").concat(i,"\n"),e),"offer"===t?e=>{this.logSDPExchange(e,"answer","local"===n?"remote":"local",i)}:void 0}async muteLocal(e){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.muteLocal before remote SDP created.");const t=this.peerConnection.getTransceivers().filter((t=>t.mid&&-1!==e.indexOf(t.mid)));if(t.length!==e.length)throw new Error("Transceivers' length doesn't match mids' length.");t.map((e=>{e.direction="inactive"}));const n=await this.peerConnection.createOffer(),i=this.logSDPExchange(n.sdp||"","offer","local","muteLocal");await this.peerConnection.setLocalDescription(n),this.remoteSDP.muteRemote(e);const r=this.remoteSDP.toString();null==i||i(r),await this.setRemoteDescription({type:"answer",sdp:r})}catch(e){throw new WE(ZE.EXCHANGE_SDP_FAILED,"P2PConnection.muteLocal failed; ".concat(e.toString()))}}async unmuteLocal(e){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.unmuteLocal before remote SDP created.");const t=this.peerConnection.getTransceivers().filter((t=>t.mid&&-1!==e.indexOf(t.mid)));if(t.length!==e.length)throw new Error("Transceivers' length doesn't match mids' length.");t.map((async e=>{e.direction="sendonly"}));const n=await this.peerConnection.createOffer(),i=this.logSDPExchange(n.sdp||"","offer","local","unmuteLocal");await this.peerConnection.setLocalDescription(n),this.remoteSDP.unmuteRemote(e);const r=this.remoteSDP.toString();null==i||i(r),await this.setRemoteDescription({type:"answer",sdp:r})}catch(e){throw new WE(ZE.EXCHANGE_SDP_FAILED,"P2PConnection.unmuteLocal failed; ".concat(e.toString()))}}async getRemoteSSRC(e,t){var n,i;if(t=null!==(n=t)&&void 0!==n?n:null===(i=this.currentRemoteDescription)||void 0===i?void 0:i.sdp){var r;const n=null===(r=Y_.parse(t).mediaDescriptions.find((t=>t.attributes.mid===e)))||void 0===r?void 0:r.attributes.ssrcs;return null==n?void 0:n[0].ssrcId}}async setRemoteDescription(e){var t;await this.peerConnection.setRemoteDescription(e),Fi(t=["connected","completed"]).call(t,this.peerConnection.iceConnectionState)||(this.isReady=!0,this.addRemoteCandidate())}mungReceiveAnswerSDP(e,t,n){const i=Y_.parse(e),r=i.mediaDescriptions.find((e=>e.attributes.mid===t));return r&&(n===hb.AUDIO&&"audio"===r.media.mediaType&&Tw(r),this.useXR&&Nw(i)),Y_.print(i)}};function Ww(e,t,n){const i=e[t];if("function"!=typeof i)throw new Error("Cannot use mutex on object property.");return n.value=async function(){const e=this.mutex,n=await e.lock("From P2PConnection.".concat(t));try{for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return await i.apply(this,o)}finally{n()}},n}function Ow(e,t){let n=document.createElement("video"),i=document.createElement("canvas");n.setAttribute("style","display:none"),i.setAttribute("style","display:none"),n.setAttribute("muted",""),n.muted=!0,n.setAttribute("autoplay",""),n.autoplay=!0,n.setAttribute("playsinline",""),i.width=vv(t.width),i.height=vv(t.height);const r=vv(t.framerate||15);document.body.append(n),document.body.append(i);let o=e._mediaStreamTrack;n.srcObject=new MediaStream([o]),n.play();const a=i.getContext("2d");if(!a)throw new Wy(ZE.UNEXPECTED_ERROR,"can not get canvas context");const s=FR(),c=i.captureStream(s.supportRequestFrame?0:r).getVideoTracks()[0];c.canvas||(c.canvas=i),i.startCapture=()=>{if(!n)return i.stopCapture&&i.stopCapture();if(n.paused&&n.play(),n.videoHeight>2&&n.videoWidth>2){const e=n.videoWidth,t=n.videoHeight/e,r=i.width*t;Math.abs(r-i.height)>=2&&(YU.debug("adjust low stream resolution","".concat(i.width,"x").concat(i.height," -> ").concat(i.width,"x").concat(r)),i.height=r)}a.drawImage(n,0,0,i.width,i.height),c.requestFrame&&c.requestFrame(),o!==e._mediaStreamTrack&&(o=e._mediaStreamTrack,n.srcObject=new MediaStream([o]))},i.stopCapture=bS((()=>i.startCapture&&i.startCapture()),r);const l=c.stop;return c.stop=()=>{l.call(c),n&&(n.remove(),n.srcObject=null,n=null),i&&(i.width=0,i.remove(),i.stopCapture&&i.stopCapture(),i.startCapture=void 0,i.stopCapture=void 0,i=null),YU.debug("clean low stream renderer")},c}var Jw,xw,Mw,Lw,Pw,Gw,Yw,jw,Xw,Kw,Hw;Vy([Ww,Zy("design:type",Function),Zy("design:paramtypes",[Object]),Zy("design:returntype",tE)],Zw.prototype,"establish",null),Vy([Ww,Zy("design:type",Function),Zy("design:paramtypes",[Object]),Zy("design:returntype",tE)],Zw.prototype,"connect",null),Vy([Ww,Zy("design:type",Function),Zy("design:paramtypes",[String,Array,String,String]),Zy("design:returntype",tE)],Zw.prototype,"receive",null),Vy([Ww,Zy("design:type",Function),Zy("design:paramtypes",[String,Array,String,String]),Zy("design:returntype",tE)],Zw.prototype,"mockReceive",null),Vy([Ww,Zy("design:type",Function),Zy("design:paramtypes",[Array]),Zy("design:returntype",tE)],Zw.prototype,"stopReceiving",null),Vy([Ww,Zy("design:type",Function),Zy("design:paramtypes",[Object]),Zy("design:returntype",tE)],Zw.prototype,"restartICE",null),Vy([Ww,Zy("design:type",Function),Zy("design:paramtypes",[]),Zy("design:returntype",void 0)],Zw.prototype,"close",null),Vy([Ww,Zy("design:type",Function),Zy("design:paramtypes",[String,pS]),Zy("design:returntype",tE)],Zw.prototype,"updateEncoderConfig",null),Vy([Ww,Zy("design:type",Function),Zy("design:paramtypes",[String,pS]),Zy("design:returntype",tE)],Zw.prototype,"updateSendParameters",null),Vy([Ww,Zy("design:type",Function),Zy("design:paramtypes",[pS,String]),Zy("design:returntype",tE)],Zw.prototype,"replaceTrack",null),Vy([Ww,Zy("design:type",Function),Zy("design:paramtypes",[Array]),Zy("design:returntype",tE)],Zw.prototype,"muteLocal",null),Vy([Ww,Zy("design:type",Function),Zy("design:paramtypes",[Array]),Zy("design:returntype",tE)],Zw.prototype,"unmuteLocal",null),function(e){e[e.HEIGHT=2033]="HEIGHT",e[e.FRAME_RATE=2034]="FRAME_RATE",e[e.WIDTH=2035]="WIDTH"}(Jw||(Jw={})),function(e){e[e.HEIGHT=2072]="HEIGHT",e[e.FRAME_RATE=2074]="FRAME_RATE",e[e.WIDTH=2076]="WIDTH"}(xw||(xw={})),function(e){e[e.FRAME_RATE=2002]="FRAME_RATE",e[e.WIDTH=2003]="WIDTH",e[e.HEIGHT=2004]="HEIGHT",e[e.PACKAGE_LOST=2005]="PACKAGE_LOST",e[e.AVG_ENCODE=2007]="AVG_ENCODE",e[e.NACKS=2009]="NACKS",e[e.PLIS=2010]="PLIS",e[e.FIRS=2011]="FIRS",e[e.BITRATE=2012]="BITRATE",e[e.PACKAGE_RATE=2031]="PACKAGE_RATE",e[e.ADAPTATION=2032]="ADAPTATION",e[e.ACTUAL_ENCODED=2060]="ACTUAL_ENCODED",e[e.BANDWIDTH=2061]="BANDWIDTH",e[e.RETRANSMIT=2062]="RETRANSMIT",e[e.TARGET_ENCODED=2064]="TARGET_ENCODED",e[e.TRANSMIT=2066]="TRANSMIT",e[e.FREEZE=2082]="FREEZE",e[e.DISABLED=2095]="DISABLED",e[e.PLAYER_STATUS=2128]="PLAYER_STATUS",e[e.QP_SUM=2143]="QP_SUM"}(Mw||(Mw={})),function(e){e[e.BITRATE=2069]="BITRATE",e[e.PACKAGE_LOST=2070]="PACKAGE_LOST",e[e.PACKAGE_RATE=2071]="PACKAGE_RATE",e[e.HEIGHT=2073]="HEIGHT",e[e.FRAME_RATE=2075]="FRAME_RATE",e[e.WIDTH=2077]="WIDTH"}(Lw||(Lw={})),function(e){e[e.JITTER=-1]="JITTER",e[e.PACKAGE_LOST=2014]="PACKAGE_LOST",e[e.WIDTH=2018]="WIDTH",e[e.HEIGHT=2019]="HEIGHT",e[e.FRAME_RATE=2020]="FRAME_RATE",e[e.JITTER_BUFFER=2023]="JITTER_BUFFER",e[e.CURRENT_DELAY=2024]="CURRENT_DELAY",e[e.NACKS=2026]="NACKS",e[e.PLIS=2027]="PLIS",e[e.FIRS=2028]="FIRS",e[e.BITRATE=2029]="BITRATE",e[e.PACKAGE_RATE=2078]="PACKAGE_RATE",e[e.FREEZE=2084]="FREEZE",e[e.DISABLED=2101]="DISABLED",e[e.PLAYER_STATUS=2129]="PLAYER_STATUS",e[e.QP_SUM=2144]="QP_SUM",e[e.I_FRAME_DELAY=2149]="I_FRAME_DELAY"}(Pw||(Pw={})),function(e){e[e.FRAME_RATE_DECODE=2021]="FRAME_RATE_DECODE",e[e.FRAME_RATE_RENDER=2022]="FRAME_RATE_RENDER",e[e.FREEZE_TIME=2109]="FREEZE_TIME",e[e.FREEZE_TIME_RENDER=2147]="FREEZE_TIME_RENDER"}(Gw||(Gw={})),function(e){e[e.PCM_LEVEL=2104]="PCM_LEVEL"}(Yw||(Yw={})),function(e){e[e.PACKAGE_LOST=-1]="PACKAGE_LOST",e[e.LEVEL=2038]="LEVEL",e[e.BITRATE=2039]="BITRATE",e[e.PACKAGE_RATE=2040]="PACKAGE_RATE",e[e.AEC_RETURN_LOSS=2041]="AEC_RETURN_LOSS",e[e.AEC_RETURN_LOSS_ENH=2042]="AEC_RETURN_LOSS_ENH",e[e.FREEZE=2081]="FREEZE",e[e.DISABLED=2096]="DISABLED"}(jw||(jw={})),function(e){e[e.BITRATE=2044]="BITRATE",e[e.PACKAGE_LOST=2045]="PACKAGE_LOST",e[e.PACKAGE_RATE=2046]="PACKAGE_RATE",e[e.CURRENT_DELAY=2047]="CURRENT_DELAY",e[e.JITTER_BUFFER=2054]="JITTER_BUFFER",e[e.JITTER=2055]="JITTER",e[e.FREEZE=2083]="FREEZE",e[e.DISABLED=2102]="DISABLED",e[e.PCM_LEVEL=2105]="PCM_LEVEL",e[e.PLAYER_STATUS=2130]="PLAYER_STATUS",e[e.CONCEALED_SAMPLES=2148]="CONCEALED_SAMPLES"}(Xw||(Xw={})),function(e){e[e.FREEZE_TIME=-1]="FREEZE_TIME",e[e.LEVEL=2043]="LEVEL"}(Kw||(Kw={})),function(e){e[e.RTT=2006]="RTT",e[e.CONN_TYPE=801]="CONN_TYPE"}(Hw||(Hw={}));const zw=1e3,qw=3;function $w(e,t,n){null!=n&&Number.isFinite(n)&&(e[t]=Math.round(Math.max(0,n)))}function ek(e){const t={[Hw.CONN_TYPE]:0,[Hw.RTT]:e.rtt};switch(e.selectedCandidatePair.localCandidate.candidateType){case"relay":{const n=e.selectedCandidatePair.localCandidate.relayProtocol;"udp"===n&&(t[Hw.CONN_TYPE]=1),"tcp"===n&&(t[Hw.CONN_TYPE]=3),"tls"===n&&(t[Hw.CONN_TYPE]=4);break}case"srflx":t[Hw.CONN_TYPE]=2}return t}class tk extends nC{constructor(e){super(),ih(this,"store",void 0),ih(this,"uploadWRTCStatsTimer",void 0),ih(this,"uploadOutboundDenoiserStatsTimer",void 0),ih(this,"uploadExtStatsTimer",void 0),ih(this,"uploadExtUsageStatsTimer",void 0),ih(this,"uploadInboundExtStatsTimer",void 0),ih(this,"requestStats",void 0),ih(this,"requestTransportStats",void 0),ih(this,"requestLocalMedia",void 0),ih(this,"requestRemoteMedia",void 0),ih(this,"requestAllTracks",void 0),ih(this,"requestVideoIsReady",void 0),ih(this,"requestUploadStats",void 0),ih(this,"requestUpload",void 0),ih(this,"uploadOutboundStarted",!1),ih(this,"uploadInboundStarted",!1),ih(this,"uploadTransportStarted",!1),ih(this,"uploadExtensionUsageStarted",!1),ih(this,"lastRecvStats",void 0),ih(this,"lastSendStats",void 0),ih(this,"lastFullRecvStats",void 0),ih(this,"lastFullSendStats",void 0),ih(this,"needUploadRenderFreezeTime",!0),this.store=e}uploadWRTCStats(e){if(!this.requestStats||!this.requestUploadStats)return;let t,n;if(this.uploadTransportStarted&&(t=this.requestStats(),this.store.useP2P&&(n=this.requestStats(!0))),!t&&this.uploadOutboundStarted&&(t=this.requestStats()),!n&&this.uploadInboundStarted&&(n=this.requestStats(!0)),t||n){const i={};if(this.uploadTransportStarted&&t){const r=this.getTransportStats(t,n,e);r&&(i.misc=[r])}if(this.uploadOutboundStarted&&t){const n=this.getOutboundStats(t,e?this.lastSendStats:this.lastFullSendStats,e);n&&(i.outbound=[n])}if(this.uploadInboundStarted&&n){const t=this.getInboundStats(n,e?this.lastRecvStats:this.lastFullRecvStats,e);t&&(i.inbound=t)}this.requestUploadStats(i)}this.lastRecvStats=n,this.lastSendStats=t,e||(this.lastFullRecvStats=n,this.lastFullSendStats=t)}startUploadWRTCStats(){if(this.uploadWRTCStatsTimer)return;let e=1;this.uploadWRTCStatsTimer=window.setInterval((()=>{if(!this.uploadTransportStarted&&!this.uploadInboundStarted&&!this.uploadOutboundStarted)return this.stopUploadWRTCStats();this.uploadWRTCStats(e!==qw),++e===qw+1&&(e=1)}),zw)}stopUploadWRTCStats(){window.clearInterval(this.uploadWRTCStatsTimer),this.uploadWRTCStatsTimer=void 0,this.lastSendStats&&(this.lastSendStats.videoSend=[],this.lastSendStats.audioSend=[],this.lastSendStats=void 0),this.lastRecvStats&&(this.lastRecvStats.videoRecv=[],this.lastRecvStats.audioRecv=[],this.lastRecvStats=void 0)}getTransportStats(e,t,n){if(!this.requestStats)return;if(n)return null==e.rtt?void 0:{addition:{[Hw.RTT]:e.rtt,[Hw.CONN_TYPE]:void 0}};const i=ek(e);if(this.store.useP2P){if(t){const e=ek(t);i[Hw.CONN_TYPE]+=e[Hw.CONN_TYPE]<<3}i[Hw.CONN_TYPE]+=110}else i[Hw.CONN_TYPE]+=100;return{addition:i}}getOutboundStats(e,t,n){if(!this.requestUploadStats||!this.requestLocalMedia)return;const i=this.requestLocalMedia();if(!i||0===i.length)return;let r,o,a;return i.forEach((i=>{let[s,{track:c,ssrcs:l}]=i;switch(s){case gb.LocalVideoLowTrack:case gb.LocalVideoTrack:if(s===gb.LocalVideoTrack){const i=function(e,t,n,i,r){const o=t.videoSend.find((t=>t.ssrc===e));if(!o)return;const a={},{sentFrame:s,inputFrame:c}=o;if(c&&s){const e=c.frameRate,t=s.frameRate;a[Mw.FREEZE]=function(e,t){let n=!0;return n=!(e<=5)&&(e<=10?t<3:e<=20?t<4:t<5),n}(e,t)?1:0}if($w(a,Mw.QP_SUM,o.qpSumPerFrame),r)return a;switch(s&&($w(a,Mw.HEIGHT,s.height),$w(a,Mw.WIDTH,s.width),$w(a,Mw.FRAME_RATE,s.frameRate)),a[Mw.DISABLED]=i._originMediaStreamTrack&&!i._originMediaStreamTrack.enabled||i._mediaStreamTrack&&!i._mediaStreamTrack.enabled?1:0,o.adaptionChangeReason){case"none":a[Mw.ADAPTATION]=0;break;case"cpu":a[Mw.ADAPTATION]=1;break;case"bandwidth":a[Mw.ADAPTATION]=2;break;case"other":a[Mw.ADAPTATION]=3}a[Mw.PLAYER_STATUS]=uS[i._player?i._player.videoElementStatus:"uninit"],$w(a,Mw.NACKS,o.nacksCount),$w(a,Mw.PLIS,o.plisCount),$w(a,Mw.FIRS,o.firsCount),$w(a,Mw.AVG_ENCODE,o.avgEncodeMs);const l=n&&n.videoSend.find((t=>t.ssrc===e));if(l){let e=r?zw:zw*qw;l.timestamp&&o.timestamp&&(e=o.timestamp-l.timestamp),null!=l.packets&&null!=o.packets&&$w(a,Mw.PACKAGE_RATE,1e3*(o.packets-l.packets)/e),null!=o.packetsLost&&null!=l.packetsLost&&$w(a,Mw.PACKAGE_LOST,o.packetsLost-l.packetsLost),null!=l.bytes&&null!=o.bytes&&$w(a,Mw.BITRATE,8*(o.bytes-l.bytes)/e)}return a}(l[0].ssrcId,e,t,c,n),r=n?null:function(e,t,n){const i=t.videoSend.find((t=>t.ssrc===e));if(!i)return null;const r={},o=i.inputFrame,a=o&&o.height||n&&n._videoHeight||0,s=o&&o.width||n&&n._videoWidth||0,c=o&&o.frameRate||0;return $w(r,Jw.HEIGHT,a),$w(r,Jw.WIDTH,s),$w(r,Jw.FRAME_RATE,c),r}(l[0].ssrcId,e,c),a=n?null:function(e){const t={};return $w(t,Mw.RETRANSMIT,e.bitrate.retransmit),$w(t,Mw.TARGET_ENCODED,e.bitrate.targetEncoded),$w(t,Mw.ACTUAL_ENCODED,e.bitrate.actualEncoded),$w(t,Mw.TRANSMIT,e.bitrate.transmit),$w(t,Mw.BANDWIDTH,e.sendBandwidth),t}(e);o=Object.assign({},i,r,a)}else a=n?void 0:function(e,t,n){const i=t.videoSend.find((t=>t.ssrc===e));if(!i)return;const r={},o=i.sentFrame;if(o&&($w(r,Lw.HEIGHT,o.height),$w(r,Lw.WIDTH,o.width),$w(r,Lw.FRAME_RATE,o.frameRate)),n){const t=n.videoSend.find((t=>t.ssrc===e));if(t){let e=zw*qw;t.timestamp&&i.timestamp&&(e=i.timestamp-t.timestamp),null!=t.packets&&null!=i.packets&&$w(r,Lw.PACKAGE_RATE,1e3*(i.packets-t.packets)/e),null!=i.packetsLost&&null!=t.packetsLost&&$w(r,Lw.PACKAGE_LOST,i.packetsLost-t.packetsLost),null!=t.bytes&&null!=i.bytes&&$w(r,Lw.BITRATE,8*(i.bytes-t.bytes)/e)}}return r}(l[0].ssrcId,e,t);break;case gb.LocalAudioTrack:r=n?void 0:function(e,t,n,i){const r=t.audioSend.find((t=>t.ssrc===e));if(!r)return;const o={};o[jw.DISABLED]=i._originMediaStreamTrack&&!i._originMediaStreamTrack.enabled||i._mediaStreamTrack&&!i._mediaStreamTrack.enabled?1:0;const a=i._source.getAccurateVolumeLevel(),s=r.inputLevel;$w(o,jw.LEVEL,100*(null==s?a:s)),$w(o,Yw.PCM_LEVEL,100*a),$w(o,jw.AEC_RETURN_LOSS,r.aecReturnLoss),$w(o,jw.AEC_RETURN_LOSS_ENH,r.aecReturnLossEnhancement),o[jw.FREEZE]=0;const c=n&&n.audioSend.find((t=>t.ssrc===e));if(c){let e=zw*qw;c.timestamp&&r.timestamp&&(e=r.timestamp-c.timestamp),null!=c.bytes&&null!=r.bytes&&$w(o,jw.BITRATE,8*(r.bytes-c.bytes)/e),null!=c.packets&&null!=r.packets&&$w(o,jw.PACKAGE_RATE,1e3*(r.packets-c.packets)/e)}return o}(l[0].ssrcId,e,t,c)}})),{high:o,low:a,audio:r}}getInboundStats(e,t,n){if(!this.requestRemoteMedia)return;const i=this.requestRemoteMedia()||[],r=[];return i.forEach((i=>{let[o,a]=i;const s={peer:o.uid};if(a.has(hb.VIDEO)&&o.videoTrack){const i=o._videoSSRC&&this.requestVideoIsReady&&this.requestVideoIsReady(o._videoSSRC)||!1,r=o.videoTrack?function(e,t,n,i,r,o,a){const s=t.videoRecv.find((t=>t.ssrc===e));if(!s)return;const c={},{receivedFrame:l,outputFrame:d,decodeFrameRate:u}=s,h=n&&n.videoRecv.find((t=>t.ssrc===e));if(c[Pw.FREEZE]=r&&uk.isRemoteVideoFreeze(i,s,h)?1:0,$w(c,Gw.FRAME_RATE_DECODE,u),$w(c,Pw.QP_SUM,s.qpSumPerFrame),s.framesRateFirefox&&$w(c,Pw.FRAME_RATE,s.framesRateFirefox),l&&$w(c,Pw.FRAME_RATE,l.frameRate),h){const e=t.timestamp-n.timestamp||(a?zw:qw*zw);null!=s.packetsLost&&null!=h.packetsLost&&$w(c,Pw.PACKAGE_LOST,s.packetsLost-h.packetsLost),null!=h.bytes&&null!=s.bytes&&$w(c,Pw.BITRATE,8*(s.bytes-h.bytes)/e),null!=h.packets&&null!=s.packets&&$w(c,Pw.PACKAGE_RATE,1e3*(s.packets-h.packets)/e)}if(a)return c;if(l?($w(c,Pw.HEIGHT,l.height),$w(c,Pw.WIDTH,l.width)):i&&($w(c,Pw.HEIGHT,i._videoHeight||0),$w(c,Pw.WIDTH,i._videoWidth||0)),d&&$w(c,Gw.FRAME_RATE_RENDER,d.frameRate),$w(c,Pw.JITTER_BUFFER,s.jitterBufferMs),$w(c,Pw.CURRENT_DELAY,s.currentDelayMs),$w(c,Pw.FIRS,s.firsCount),$w(c,Pw.NACKS,s.nacksCount),$w(c,Pw.PLIS,s.plisCount),i){c[Pw.DISABLED]=i._originMediaStreamTrack.enabled&&i._mediaStreamTrack.enabled?0:1;const e=i._player;if(e){const{freezeTimeCounterList:t,renderFreezeAccTime:n}=e;if(t&&t.length>0&&$w(c,Gw.FREEZE_TIME,t.splice(0,1)[0]),o&&"visible"===CF.visibility){const t=Math.min(6e3,n);e.renderFreezeAccTime=Math.max(0,n-t),$w(c,Gw.FREEZE_TIME_RENDER,t)}}}if(c[Pw.PLAYER_STATUS]=uS[i._player?i._player.videoElementStatus:"uninit"],h&&void 0!==s.totalInterFrameDelay&&void 0!==s.totalSquaredInterFrameDelay&&void 0!==h.totalInterFrameDelay&&void 0!==h.totalSquaredInterFrameDelay){const e=s.totalInterFrameDelay-h.totalInterFrameDelay,t=s.totalSquaredInterFrameDelay-h.totalSquaredInterFrameDelay,n=s.framesDecodeCount-h.framesDecodeCount,i=e/n*1e3,r=Math.round(1e3*Math.sqrt((t-Math.pow(e,2)/n)/n));!isNaN(r)&&i+r>Math.max(3*i,i+150)&&(c[Pw.I_FRAME_DELAY]=r)}return c}(o._videoSSRC,e,t,o.videoTrack,!0===i,this.needUploadRenderFreezeTime,n):void 0;r&&(s.video=r)}if(a.has(hb.AUDIO)&&o.audioTrack){const i=o.audioTrack?function(e,t,n,i,r){const o=t.audioRecv.find((t=>t.ssrc===e));if(!o)return;const a={},s=n&&n.audioRecv.find((t=>t.ssrc===e)),{receivedFrames:c,droppedFrames:l}=o;var d;if($w(a,Xw.JITTER,o.jitterMs),null!=c&&null!=l&&(a[Xw.FREEZE]=0===(d=c)||100*l/d>20?1:0),s){const e=t.timestamp-n.timestamp||(r?zw:zw*qw);null!=o.packets&&null!=s.packets&&$w(a,Xw.PACKAGE_RATE,1e3*(o.packets-s.packets)/e),null!=s.bytes&&null!=o.bytes&&$w(a,Xw.BITRATE,8*(o.bytes-s.bytes)/e),null!=o.packetsLost&&null!=s.packetsLost&&$w(a,Xw.PACKAGE_LOST,o.packetsLost-s.packetsLost)}if(r)return a;const u=i._source.getAccurateVolumeLevel(),h=o.outputLevel;if($w(a,Kw.LEVEL,100*(null==h?u:h)),$w(a,Xw.PCM_LEVEL,100*u),i&&(a[Xw.DISABLED]=i._originMediaStreamTrack.enabled&&i._mediaStreamTrack.enabled?0:1),$w(a,Xw.JITTER_BUFFER,o.jitterBufferMs),$w(a,Xw.CURRENT_DELAY,o.jitterBufferMs),a[Xw.PLAYER_STATUS]=uS[jS.getPlayerState(i.getTrackId())],s){const e=o.concealedSamples-s.concealedSamples;e>0&&$w(a,Xw.CONCEALED_SAMPLES,e)}return a}(o._audioSSRC,e,t,o.audioTrack,n):void 0;i&&(s.audio=i)}(s.video||s.audio)&&r.push(s)})),this.needUploadRenderFreezeTime=!this.needUploadRenderFreezeTime,r}startUploadTransportStats(){this.uploadTransportStarted=!0,this.uploadWRTCStatsTimer||this.startUploadWRTCStats()}stopUploadTransportStats(){this.uploadTransportStarted=!1}startUploadOutboundStats(){this.uploadOutboundStarted||(this.uploadOutboundStarted=!0,this.uploadWRTCStatsTimer||this.startUploadWRTCStats(),this.uploadOutboundDenoiserStatsTimer&&window.clearInterval(this.uploadOutboundDenoiserStatsTimer),this.uploadOutboundDenoiserStatsTimer=window.setInterval((()=>{if(!this.requestAllTracks||!this.requestUpload)return;const e=(this.requestAllTracks()||[]).find((e=>e instanceof lF));if(e&&e._external.getDenoiserStats){const t=e._external.getDenoiserStats();t&&this.requestUpload(Qy.DENOISER_STATS,t)}}),2e3),this.uploadExtStatsTimer&&window.clearInterval(this.uploadExtStatsTimer),this.uploadExtStatsTimer=window.setInterval((()=>{this.requestAllTracks&&this.requestUpload&&this.requestAllTracks().forEach((e=>{e.getProcessorStats().forEach((e=>{this.requestUpload&&this.requestUpload(e.type,e.stats)}))}))}),2e3))}stopUploadOutboundStats(){this.uploadOutboundStarted&&(this.uploadOutboundStarted=!1,this.lastSendStats&&(this.lastSendStats.videoSend=[],this.lastSendStats.audioSend=[],this.lastSendStats=void 0),this.uploadOutboundDenoiserStatsTimer&&window.clearInterval(this.uploadOutboundDenoiserStatsTimer),this.uploadOutboundDenoiserStatsTimer=void 0)}startUploadInboundStats(){this.uploadInboundStarted||(this.uploadInboundStarted=!0,this.uploadWRTCStatsTimer||this.startUploadWRTCStats(),this.uploadInboundExtStatsTimer&&window.clearInterval(this.uploadInboundExtStatsTimer),this.uploadInboundExtStatsTimer=window.setInterval((()=>{this.requestUpload&&this.requestRemoteMedia&&(this.requestRemoteMedia()||[]).forEach((e=>{let[t,n]=e;n.has(hb.VIDEO)&&t.videoTrack&&t.videoTrack.getProcessorStats().forEach((e=>{this.requestUpload&&this.requestUpload(e.type,e.stats)})),n.has(hb.AUDIO)&&t.audioTrack&&t.audioTrack.getProcessorStats().forEach((e=>{this.requestUpload&&this.requestUpload(e.type,e.stats)}))}))}),2e3))}stopUploadInboundStats(){this.uploadInboundStarted&&(this.uploadInboundStarted=!1,this.lastRecvStats&&(this.lastRecvStats.videoRecv=[],this.lastRecvStats.audioRecv=[],this.lastRecvStats=void 0))}startUploadExtensionUsageStats(){if(this.uploadExtensionUsageStarted)return;this.uploadExtensionUsageStarted=!0,this.uploadExtUsageStatsTimer&&window.clearInterval(this.uploadExtUsageStatsTimer);const e=new Map;this.uploadExtUsageStatsTimer=window.setInterval((async()=>{const t=Date.now(),n={connectionInterval:NU("EXTENSION_USAGE_UPLOAD_INTERVAL")/1e3,details:[],lts:t};let i=[];const r=this.requestAllTracks&&this.requestAllTracks()||[];for(const e of r)!e.muted&&e.enabled&&(i=i.concat(await e.getProcessorUsage()));const o=this.requestRemoteMedia&&this.requestRemoteMedia()||[];for(const[e,c]of o)c.has(hb.VIDEO)&&e.videoTrack&&(i=i.concat(await e.videoTrack.getProcessorUsage())),c.has(hb.AUDIO)&&e.audioTrack&&(i=i.concat(await e.audioTrack.getProcessorUsage()));if(0===i.length)return;n.details=function(e,t){const n={};for(const{id:a,value:s,level:c,direction:l}of e){var i;const e=null!==(i=t.get(a))&&void 0!==i?i:0,d=2===s?e+NU("EXTENSION_USAGE_UPLOAD_INTERVAL")/1e3:e;var r,o;t.set(a,d),n[a]?(2===s&&(n[a].value=s),c>n[a].level&&(n[a].level=c),"remote"===l&&(n[a].remoteUidCount+=1),n[a].totalTs=null!==(r=t.get(a))&&void 0!==r?r:0):n[a]={value:s,level:c,remoteUidCount:"local"===l?0:1,totalTs:null!==(o=t.get(a))&&void 0!==o?o:0}}return Object.keys(n).map((e=>{const{level:t,value:i,totalTs:r}=n[e];return{id:e,level:t,value:i,totalTs:r}}))}(i,e);const a=Date.now(),s=a>t?a:t+1;this.requestUpload&&this.requestUpload(Qy.EXTENSION_USAGE_STATS,{usageStats:n,sendTs:s})}),NU("EXTENSION_USAGE_UPLOAD_INTERVAL"))}stopUploadExtensionUsageStats(){this.uploadExtensionUsageStarted&&(this.uploadExtensionUsageStarted=!1,this.uploadExtUsageStatsTimer&&window.clearInterval(this.uploadExtUsageStatsTimer),this.uploadExtUsageStatsTimer=void 0)}}class nk{get hasVideo(){return this._video_enabled_&&!this._video_muted_&&this._video_added_}get hasAudio(){return this._audio_enabled_&&!this._audio_muted_&&this._audio_added_}get audioTrack(){if(this.hasAudio||this._audio_pre_subscribed)return this._audioTrack}get videoTrack(){if(this.hasVideo||this._video_pre_subscribed)return this._videoTrack}get dataChannels(){return this._dataChannels}constructor(e,t){ih(this,"uid",void 0),ih(this,"_uintid",void 0),ih(this,"_trust_in_room_",!0),ih(this,"_trust_audio_enabled_state_",!0),ih(this,"_trust_video_enabled_state_",!0),ih(this,"_trust_audio_mute_state_",!0),ih(this,"_trust_video_mute_state_",!0),ih(this,"_audio_muted_",!1),ih(this,"_video_muted_",!1),ih(this,"_audio_enabled_",!0),ih(this,"_video_enabled_",!0),ih(this,"_audio_added_",!1),ih(this,"_video_added_",!1),ih(this,"_is_pre_created",!1),ih(this,"_video_pre_subscribed",!1),ih(this,"_audio_pre_subscribed",!1),ih(this,"_trust_video_stream_added_state_",!0),ih(this,"_trust_audio_stream_added_state_",!0),ih(this,"_audioTrack",void 0),ih(this,"_videoTrack",void 0),ih(this,"_dataChannels",[]),ih(this,"_audioSSRC",void 0),ih(this,"_videoSSRC",void 0),ih(this,"_audioOrtc",void 0),ih(this,"_videoOrtc",void 0),ih(this,"_cname",void 0),ih(this,"_rtxSsrcId",void 0),ih(this,"_videoMid",void 0),ih(this,"_audioMid",void 0),this.uid=e,this._uintid=t}}var ik;function rk(e,t){var n;let i;switch(t){case gb.LocalAudioTrack:i=eb.Audio;break;case gb.LocalVideoTrack:i=Fi(n=e._hints).call(n,YR.SCREEN_TRACK)?eb.Screen:eb.High;break;case gb.LocalVideoLowTrack:i=eb.Low}return i}function ok(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ak(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ok(Object(n),!0).forEach((function(t){ih(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ok(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(e){e.SEND_ONLY="SEND_ONLY",e.RECEIVE_ONLY="RECEIVE_ONLY"}(ik||(ik={}));class sk extends nC{get state(){return this._state}set state(e){const t=this._state;this._state=e,this.emit(mb.StateChange,t,this._state)}constructor(e,t){super(),ih(this,"store",void 0),ih(this,"statsUploader",void 0),ih(this,"sendConnection",void 0),ih(this,"recvConnection",void 0),ih(this,"localTrackMap",new Map),ih(this,"remoteUserMap",new Map),ih(this,"localDataChannels",[]),ih(this,"pendingLocalTracks",[]),ih(this,"pendingRemoteTracks",[]),ih(this,"statsCollector",void 0),ih(this,"dtlsFailedCount",0),ih(this,"sendMutex",new YC("P2PChannel2-send-mutex")),ih(this,"recvMutex",new YC("P2PChannel2-recv-mutex")),ih(this,"_state",fb.Disconnected),ih(this,"_restartStates",["disconnected","failed"]),ih(this,"reconnectInterval",void 0),ih(this,"uploadUnplinkStarted",!1),ih(this,"uploadDownlinkStarted",!1),ih(this,"uplinkStateUploadInterval",void 0),ih(this,"downlinkStatsUploadInterval",void 0),ih(this,"handleMuteLocalTrack",(async(e,t,n)=>{const i=await this.sendMutex.lock("Locking from P2PChannel2.handleMuteLocalTrack");try{if(!this.sendConnection||this.state!==fb.Connected)return void n(new WE(ZE.INVALID_OPERATION,"Cannot call P2PChannel2.handleMuteLocalTrack before sendConnection established."));const i=this.filterTobeMutedTracks(e);if(0===i.length)return void t();const a=i.find((e=>"videoLowTrack"===e[0]));a&&a[1].track._originMediaStreamTrack.stop(),await this.sendConnection.muteLocal(i.map((e=>{let[,{id:t}]=e;return t})));let s=!1;var r,o;s="video"===e.trackMediaType?!(null===(r=this.localTrackMap.get(gb.LocalAudioTrack))||void 0===r||!r.track._muted):void 0===(null===(o=this.localTrackMap.get(gb.LocalVideoTrack))||void 0===o?void 0:o.id);const c=this.createMuteMessage(i);await EC(this,mb.RequestMuteLocal,c);const l="video"===e.trackMediaType?Nb.MUTE_LOCAL_VIDEO:Nb.MUTE_LOCAL_AUDIO;await EC(this,mb.RequestP2PMuteLocal,{action:l,message:c,isMuteAll:s}),t()}catch(e){n(e)}finally{i()}})),ih(this,"handleUnmuteLocalTrack",(async(e,t,n)=>{const i=await this.sendMutex.lock("Locking from P2PChannel2.handleUnmuteLocalTrack");try{if(!this.sendConnection||this.state!==fb.Connected)return void n(new WE(ZE.INVALID_OPERATION,"Cannot call P2PChannel2.handleUnmuteLocalTrack before sendConnection established."));const i=this.filterTobeUnmutedTracks(e);if(0===i.length)return void t();await this.sendConnection.unmuteLocal(i.map((e=>{let[,{id:t}]=e;return t})));const r=this.createUnmuteMessage(i),o="video"===e.trackMediaType?Nb.UNMUTE_LOCAL_VIDEO:Nb.UNMUTE_LOCAL_AUDIO;await EC(this,mb.RequestP2PMuteLocal,{action:o,message:r}),t()}catch(e){n(e)}finally{i()}})),ih(this,"handleUpdateVideoEncoder",(async(e,t,n)=>{const i=await this.sendMutex.lock("Locking from P2PChannel2.handleSetVideoEncoder");try{const n=this.localTrackMap.get(gb.LocalVideoTrack);if(!this.sendConnection||!n||n.track!==e||this.state!==fb.Connected)return void t();const{id:i,track:r}=n;i&&(await this.sendConnection.updateSendParameters(i,r),await this.sendConnection.updateEncoderConfig(i,r),this.emit(mb.UpdateVideoEncoder,r)),t()}catch(e){n(e)}finally{i()}})),ih(this,"handleSetOptimizationMode",(async(e,t,n)=>{const i=await this.sendMutex.lock("Locking from P2PChannel2.handleSetOptimizationMode");try{const n=this.localTrackMap.get(gb.LocalVideoTrack);if(!this.sendConnection||!n||n.track!==e||this.state!==fb.Connected)return;const{id:i,track:r}=n;i&&await this.sendConnection.updateSendParameters(i,r),t()}catch(e){n(e)}finally{i()}})),ih(this,"handleReplaceTrack",(async(e,t,n,i)=>{let r;YU.debug("[".concat(this.store.clientId,"] P2PChannel2 handleReplaceTrack for [track-id-").concat(e.getTrackId(),"]")),"boolean"==typeof i&&i||(r=await this.sendMutex.lock("From P2PChannel2.handleReplaceTrack"));try{var o;const n=Array.from(this.localTrackMap.entries()).find((t=>{let[,{track:n}]=t;return e===n}));if(!this.sendConnection||!n||void 0===n[1].id||this.state!==fb.Connected)return void t();if(await(null===(o=this.sendConnection)||void 0===o?void 0:o.replaceTrack(e,n[1].id)),n[0]===gb.LocalVideoTrack&&FR().supportDualStreamEncoding){const t=this.localTrackMap.get(gb.LocalVideoLowTrack);if(t){const n=e._mediaStreamTrack.clone();t.track._originMediaStreamTrack.stop(),t.track._mediaStreamTrack=n,t.track._originMediaStreamTrack=n,await new tE(((e,n)=>{this.handleReplaceTrack(t.track,e,n,!0)}))}}t()}catch(e){n(e)}finally{var a;null===(a=r)||void 0===a||a()}})),ih(this,"handleGetLocalVideoStats",(e=>{e(this.statsCollector.getLocalVideoTrackStats())})),ih(this,"handleGetLocalAudioStats",(e=>{e(this.statsCollector.getLocalAudioTrackStats())})),ih(this,"handleGetRemoteVideoStats",(e=>this.statsCollector.getRemoteVideoTrackStats(e.uid)[e.uid])),ih(this,"handleGetRemoteAudioStats",(e=>this.statsCollector.getRemoteAudioTrackStats(e.uid)[e.uid])),this.store=e,this.statsCollector=t,this.statsCollector.addP2PChannel(this),this.statsUploader=new tk(e),this.bindStatsUploaderEvents(),this.reconnectInterval=window.setInterval((()=>{[this.sendConnection,this.recvConnection].forEach((e=>{e&&("disconnected"!==e.iceConnectionState&&"failed"!==e.iceConnectionState||this.handleDisconnect(e.direction))}))}),NU("ICE_RESTART_INTERVAL"))}async startP2PConnection(e,t){throw new WE(ZE.NOT_SUPPORTED,"p2p mode does not support startP2PConnection.")}async connect(e,t,n,i,r,o){throw new WE(ZE.NOT_SUPPORTED,"p2p mode does not support connect.")}async startP2P(e,t){let n;try{if(t){this.recvConnection&&(YU.warning("[".concat(this.store.clientId,"] P2PChannel.startP2P reset recvConnection.")),this.recvConnection.close(),this.unbindConnectionEvents(this.recvConnection)),n=await this.recvMutex.lock("From P2PChannel.startP2P"),this.recvConnection=new Zw(e,this.store,by.RECEIVE_ONLY),this.bindConnectionEvents(this.recvConnection);const i=await this.recvConnection.establish(t);return{iceParameters:i.iceParameters,dtlsParameters:i.dtlsParameters,sdp:i.sdp}}{this.state=fb.New,this.sendConnection&&(YU.warning("[".concat(this.store.clientId,"] P2PChannel.startP2P reset sendConnection.")),this.sendConnection.close(),this.unbindConnectionEvents(this.sendConnection)),n=await this.sendMutex.lock("From P2PChannel.startP2P"),this.sendConnection=new Zw(e,this.store),this.store.peerConnectionStart(),this.bindConnectionEvents(this.sendConnection);const t=await this.sendConnection.establish();return{iceParameters:t.iceParameters,dtlsParameters:t.dtlsParameters,sdp:t.sdp}}}finally{n&&n()}}async p2pConnect(e){if(!this.sendConnection)throw new WE(ZE.UNEXPECTED_ERROR,"Cannot P2PChannel2.p2pConnect before P2PChannel2.startP2PConnection .");this.store.peerConnectionStart(),await this.sendConnection.connect(e),this.statsUploader.startUploadTransportStats(),this.statsUploader.startUploadExtensionUsageStats(),this.state=fb.Connected}async addRemoteCandidate(e,t){if(t===by.RECEIVE_ONLY){if(!this.sendConnection)throw new WE(ZE.UNEXPECTED_ERROR,"Cannot P2PChannel2.connect before P2PChannel2.addRemoteCandidate .");await this.sendConnection.addRemoteCandidate(e)}else{if(!this.recvConnection)throw new WE(ZE.UNEXPECTED_ERROR,"Cannot P2PChannel2.connect before P2PChannel2.addRemoteCandidate .");await this.recvConnection.addRemoteCandidate(e)}}publish(e,t,n){var i=this;return B_((function*(){const r=yield I_(i.sendMutex.lock("From P2PChannel.publish"));try{if(!i.sendConnection||i.state!==fb.Connected){i.throwIfTrackTypeNotMatch(e);const t=e.filter((e=>-1===i.pendingLocalTracks.indexOf(e)));return void(i.pendingLocalTracks=i.pendingLocalTracks.concat(t))}i.store.pubId=i.store.pubId+1,E_.markPublishStart(i.store.clientId,i.store.pubId);const r=i.filterTobePublishedTracks(e,t,n);if(0===r.length)return void(yield I_(i.tryToUnmuteAudio(e)));r.forEach((e=>{let{track:t,type:n}=e;const r=Date.now();i.store.publish(t.getTrackId(),n===gb.LocalAudioTrack?"audio":"video",r)})),i.bindLocalTrackEvents(r);const o=yield I_(i.sendConnection.send(r.map((e=>{let{track:t}=e;return t})),i.store.codec,i.store.audioCodec)),a=(yield I_(o.next())).value,s=i.createGatewayPublishMessage(r,a);try{yield s}catch(e){throw o.throw(e),(null==e?void 0:e.code)===ZE.WS_ABORT&&r.forEach((e=>{let{track:t}=e;-1===i.pendingLocalTracks.indexOf(t)&&i.pendingLocalTracks.push(t)})),i.unbindLocalTrackEvents(r),e}yield I_(o.next()),r.forEach((e=>{let{type:t}=e;i.statsCollector.addLocalStats(t)})),i.statsUploader.startUploadOutboundStats(),i.assignLocalTracks(r,a),r.forEach((e=>{let{track:t,type:n}=e;const r=Date.now();i.store.publish(t.getTrackId(),n===gb.LocalAudioTrack?"audio":"video",void 0,r)})),i.startUploadUplinkState()}finally{r()}}))()}async unpublish(e){if(!this.sendConnection||this.state!==fb.Connected)return void(0===e.length?this.pendingLocalTracks.length=0:this.pendingLocalTracks=this.pendingLocalTracks.filter((t=>!Fi(e).call(e,t))));const t=this.filterTobeUnpublishedTracks(e);if(0===t.length)return;const n=t.find((e=>"videoLowTrack"===e[0]));n&&n[1].track.close();const i=this.createGatewayUnpublishMessage(t);if(await this.sendConnection.stopSending(t.map((e=>{let[,{id:t}]=e;return t}))),this.withdrawLocalTracks(t),this.unbindLocalTrackEvents(t.map((e=>{let[t,{track:n}]=e;return{type:t,track:n}}))),t.forEach((e=>{let[t]=e;this.statsCollector.removeLocalStats(t)})),0===this.localTrackMap.size&&(this.statsUploader.stopUploadOutboundStats(),this.stopUploadUplinkState()),this.sendConnection&&this.state===fb.Connected)return n&&n[1].track.close(),i;e.forEach((e=>{const t=this.pendingLocalTracks.indexOf(e);-1!==t&&this.pendingLocalTracks.splice(t,1)}))}startUploadUplinkState(){if(this.uploadUnplinkStarted)return;this.uploadUnplinkStarted=!0,this.uplinkStateUploadInterval&&window.clearInterval(this.uplinkStateUploadInterval);const e=()=>{const e=[],t=[];Array.from(this.localTrackMap.entries()).forEach((n=>{let[i,{track:r,ssrcs:o}]=n;const a={stream_type:rk(r,i),ssrcs:o};r._muted||!r._enabled?e.push(a):t.push(a)})),e.length>0&&e.forEach((e=>{EC(this,mb.RequestMuteLocal,[e])})),t.length>0&&t.forEach((e=>{EC(this,mb.RequestUnmuteLocal,[e])}))};e(),this.uplinkStateUploadInterval=window.setInterval((()=>{e()}),3e3)}stopUploadUplinkState(){this.uploadUnplinkStarted&&(this.uploadUnplinkStarted=!1,this.uplinkStateUploadInterval&&window.clearInterval(this.uplinkStateUploadInterval))}publishLowStream(e){return B_((function*(){throw new WE(ZE.NOT_SUPPORTED,"p2p mode does not support publishLowStream.")}))()}async republish(){this.pendingLocalTracks.length>0&&(YU.debug("[".concat(this.store.clientId,"] Emit P2PChannelEvents.RequestRePublish to republish tracks.")),await mC(this,mb.RequestRePublish,this.pendingLocalTracks),this.emit(mb.MediaReconnectEnd,this.store.uid),this.pendingLocalTracks=[])}async unpublishLowStream(){throw new WE(ZE.NOT_SUPPORTED,"p2p mode does not support unpublishLowStream.")}async subscribe(e,t,n,i){var r;if(!this.recvConnection)throw new WE(ZE.INVALID_OPERATION,"Cannot subscribe remote user when recvConnection disconnected.");if(null!==(r=this.remoteUserMap.get(e))&&void 0!==r&&r.has(t))return;const{track:o,mid:a,transceiver:s}=await this.recvConnection.receive(t,[{ssrcId:n}],String(e.uid),i);t===hb.AUDIO?(e._audioTrack?e._audioTrack._updateOriginMediaStreamTrack(o):(e._audioTrack=new OF(o,e.uid,e._uintid,this.store),YU.info("[".concat(this.store.clientId,"] [").concat(this.store.p2pId,"] create remote audio track: ").concat(e._audioTrack.getTrackId()))),s&&e._audioTrack._updateRtpTransceiver(s),this.bindRemoteTrackEvents(e,e._audioTrack)):(e._videoSSRC=n,e._videoTrack?e._videoTrack._updateOriginMediaStreamTrack(o):(e._videoTrack=new WF(o,e.uid,e._uintid,this.store),YU.info("[".concat(this.store.clientId,"] [").concat(this.store.p2pId,"] create remote video track: ").concat(e._videoTrack.getTrackId()))),s&&e._videoTrack._updateRtpTransceiver(s),this.bindRemoteTrackEvents(e,e._videoTrack));const c=this.remoteUserMap.get(e);c?c.set(t,a):this.remoteUserMap.set(e,new Map([[t,a]])),this.statsCollector.addRemoteStats(e.uid),this.statsUploader.startUploadInboundStats(),this.startUploadDownlinkState();const l=this.pendingRemoteTracks.findIndex((n=>{let{user:i,kind:r}=n;return i.uid===e.uid&&t===r}));-1!==l&&(this.pendingRemoteTracks.splice(l,1),this.emit(mb.MediaReconnectEnd,e.uid))}async mockSubscribe(e,t,n,i){if(!this.recvConnection)throw new WE(ZE.INVALID_OPERATION,"Cannot subscribe remote user when recvConnection disconnected.");await this.recvConnection.mockReceive(t,[{ssrcId:n}],String(e.uid),i)}async unsubscribe(e,t,n){const i=this.pendingRemoteTracks.filter((n=>{let{user:i,kind:r}=n;return void 0!==t?i.uid===e.uid&&t===r:i.uid===e.uid}));if(i.forEach((e=>{const t=this.pendingRemoteTracks.indexOf(e);this.pendingRemoteTracks.splice(t,1)})),this.recvConnection||n||i.forEach((t=>{let{kind:n}=t;var i;if(n===hb.AUDIO)null===(i=e._audioTrack)||void 0===i||i._destroy(),e._audioTrack=void 0;else if(n===hb.VIDEO){var r;null===(r=e._videoTrack)||void 0===r||r._destroy(),e._videoTrack=void 0}})),!this.recvConnection)return;const r=this.filterTobeUnSubscribedTracks(e,t);0!==r.length&&(await this.recvConnection.stopReceiving(r.map((e=>{let[,{id:t}]=e;return t}))),this.withdrawRemoteTracks(r),0===this.remoteUserMap.size&&(this.statsUploader.stopUploadInboundStats(),this.stopUploadDownlinkState()),r.forEach((e=>{let[t,{kind:i}]=e;var r,o;if(i===hb.VIDEO&&t._videoSSRC&&(null===(r=this.recvConnection)||void 0===r||r.setStatsRemoteVideoIsReady(t._videoSSRC,!1)),i===hb.VIDEO)this.unbindRemoteTrackEvents(t._videoTrack),n||(null===(o=t._videoTrack)||void 0===o||o._destroy(),t._videoTrack=void 0);else if(i===hb.AUDIO){var a;this.unbindRemoteTrackEvents(t._audioTrack),n||(null===(a=t._audioTrack)||void 0===a||a._destroy(),t._audioTrack=void 0)}})),r.forEach((e=>{let[,{kind:t}]=e;EC(this,mb.RequestP2PMuteRemote,t)})))}startUploadDownlinkState(){if(this.uploadDownlinkStarted)return;this.uploadDownlinkStarted=!0,this.downlinkStatsUploadInterval&&window.clearInterval(this.downlinkStatsUploadInterval);const e=()=>Array.from(this.remoteUserMap.entries()).forEach((e=>{let[,t]=e;[hb.VIDEO,hb.AUDIO].forEach((e=>{t.has(e)?EC(this,mb.RequestP2PUnmuteRemote,e):EC(this,mb.RequestP2PMuteRemote,e)}))}));e(),this.downlinkStatsUploadInterval=window.setInterval((()=>{e()}),3e3)}stopUploadDownlinkState(){this.uploadDownlinkStarted&&(this.uploadDownlinkStarted=!1,this.downlinkStatsUploadInterval&&window.clearInterval(this.downlinkStatsUploadInterval))}getAllDataChannels(){return this.localDataChannels}async massSubscribe(e){throw new WE(ZE.NOT_SUPPORTED,"p2p mode does not support massSubscribe.")}async massSubscribeNoLock(e){throw new WE(ZE.NOT_SUPPORTED,"p2p mode does not support massSubscribeNoLock.")}async massUnsubscribe(e){throw new WE(ZE.NOT_SUPPORTED,"p2p mode does not support massUnsubscribe.")}async massUnsubscribeNoLock(e){throw new WE(ZE.NOT_SUPPORTED,"p2p mode does not support massUnsubscribeNoLock.")}async muteRemote(e,t){if(!this.recvConnection)return;const n=this.remoteUserMap.get(e);if(!n)return void YU.warning("[".concat(this.store.clientId,"] P2PChannel2.muteRemote has no remote user ").concat(e.uid,"."));if(!n.get(t))return void YU.warning("[".concat(this.store.clientId,"] P2PChannel2.muteRemote has no remote user ").concat(e.uid," media type ").concat(t,"."));const i=t===hb.VIDEO?e._videoSSRC:e._audioSSRC;void 0!==i&&this.recvConnection.setStatsRemoteVideoIsReady(i,!1)}async unmuteRemote(e,t){return this.unmuteRemoteNoLock(e,t)}async unmuteRemoteNoLock(e,t){if(!this.recvConnection)return;const n=this.remoteUserMap.get(e);n?n.get(t)||YU.warning("[".concat(this.store.clientId,"] P2PChannel2.unmuteRemote has no remote user ").concat(e.uid," media type ").concat(t,".")):YU.warning("[".concat(this.store.clientId,"] P2PChannel2.unmuteRemote has no remote user ").concat(e.uid,"."))}getAllTracks(e){const t=this.localTrackMap.get(gb.LocalAudioTrack);if((null==t?void 0:t.track)instanceof uF){const n=t.track;return Array.from(this.localTrackMap.entries()).filter((e=>{let[t]=e;return t!==gb.LocalAudioTrack})).filter((t=>{let[n]=t;return!(e&&n===gb.LocalVideoLowTrack)})).map((e=>{let[,{track:t}]=e;return t})).concat(n.trackList)}return Array.from(this.localTrackMap.entries()).filter((t=>{let[n]=t;return!(e&&n===gb.LocalVideoLowTrack)})).map((e=>{let[,{track:t}]=e;return t}))}reportPublishEvent(e,t,n,i,r){if(e){const n=this.localTrackMap.get(gb.LocalAudioTrack),o=i?this.localTrackMap.get(gb.LocalVideoLowTrack):this.localTrackMap.get(gb.LocalVideoTrack);oy.publish(this.store.sessionId,{eventElapse:E_.measureFromPublishStart(this.store.clientId,this.store.pubId),succ:e,ec:t,audioName:null==n?void 0:n.track.getTrackLabel(),videoName:null==o?void 0:o.track.getTrackLabel(),screenshare:-1!==(null==o?void 0:o.track._hints.indexOf(YR.SCREEN_TRACK)),audio:!!n,video:!!o,p2pid:this.store.p2pId,publishRequestid:this.store.pubId,extend:r})}else{var o;n||(n=[]);const a=n.find((e=>e instanceof cF)),s=i?null===(o=this.localTrackMap.get(gb.LocalVideoTrack))||void 0===o?void 0:o.track:n.find((e=>e instanceof TF));oy.publish(this.store.sessionId,{eventElapse:E_.measureFromPublishStart(this.store.clientId,this.store.pubId),succ:e,ec:t,audioName:null==a?void 0:a.getTrackLabel(),videoName:null==s?void 0:s.getTrackLabel(),screenshare:-1!==(null==s?void 0:s._hints.indexOf(YR.SCREEN_TRACK)),audio:!!a,video:!!s,p2pid:this.store.p2pId,publishRequestid:this.store.pubId,extend:r})}}reportSubscribeEvent(e,t,n,i){const r=i===hb.VIDEO?n._videoSSRC:n._audioSSRC;r&&oy.subscribe(this.store.sessionId,{succ:e,ec:t,video:i===hb.VIDEO,audio:i===hb.AUDIO,peerid:n.uid,subscribeRequestid:i===hb.VIDEO?n._videoSSRC:n._audioSSRC,p2pid:this.store.p2pId,eventElapse:E_.measureFromSubscribeStart(this.store.clientId,r)})}reset(){YU.debug("[".concat(this.store.clientId,"] P2PChannel2.reset")),this.sendMutex=new YC("P2PChannel2-send-mutex"),this.sendMutex=new YC("P2PChannel2-recv-mutex"),this.sendConnection&&(this.sendConnection.close(),this.unbindConnectionEvents(this.sendConnection),this.sendConnection=void 0),this.recvConnection&&(this.recvConnection.close(),this.unbindConnectionEvents(this.recvConnection),this.recvConnection=void 0),this.statsUploader.stopUploadOutboundStats(),this.statsUploader.stopUploadInboundStats(),this.statsUploader.stopUploadTransportStats(),this.statsUploader.stopUploadExtensionUsageStats(),this.stopUploadUplinkState(),this.stopUploadDownlinkState(),this.unbindLocalTrackEvents(),this.unbindAllRemoteTrackEvents(),this.unbindRtpTransceiver();const e=this.localTrackMap.get(gb.LocalAudioTrack);if((null==e?void 0:e.track)instanceof uF){if(e.track.trackList.length>0){const t=e.track;e.track.trackList.forEach((e=>{t.removeAudioTrack(e)}))}e.track.close()}this.localTrackMap.clear(),this.remoteUserMap.clear(),this.statsCollector.removeRemoteStats(),this.statsCollector.removeLocalStats(),this.dtlsFailedCount=0,this.pendingLocalTracks=[],this.pendingRemoteTracks=[],this.reconnectInterval&&(window.clearInterval(this.reconnectInterval),this.reconnectInterval=void 0),this.state=fb.Disconnected}getStats(e){var t,n;return e?null===(n=this.recvConnection)||void 0===n?void 0:n.getStats():null===(t=this.sendConnection)||void 0===t?void 0:t.getStats()}getRemoteVideoIsReady(e){var t;return(null===(t=this.recvConnection)||void 0===t?void 0:t.getRemoteVideoIsReady(e))||!1}getLocalAudioVolume(){const e=this.localTrackMap.get(gb.LocalAudioTrack);if(e)return e.track.getVolumeLevel()}getLocalVideoSize(){const e=this.localTrackMap.get(gb.LocalVideoTrack);if(e)return{width:e.track._videoWidth||0,height:e.track._videoHeight||0}}getEncoderConfig(e){const t=this.localTrackMap.get(e);return t&&t.track instanceof TF||t&&t.track instanceof cF?t.track._encoderConfig:void 0}getLocalMedia(e){return this.localTrackMap.get(e)}hasLocalMedia(){return this.localTrackMap.size>0}hasRemoteMedia(e,t){if(!e)return this.remoteUserMap.size>0;const n=this.remoteUserMap.get(e);return!!n&&(!t||n.has(t))}async hasRemoteMediaWithLock(e,t){if(!e)return this.remoteUserMap.size>0;const n=this.remoteUserMap.get(e);return!!n&&(!t||n.has(t))}getRemoteMedia(e){var t;const n=Array.from(uh(t=this.remoteUserMap).call(t)).find((t=>t.uid===e));return n?{audioTrack:n.audioTrack,audioSSRC:n._audioSSRC,videoTrack:n.videoTrack,videoSSRC:n._videoSSRC}:{}}getAudioLevels(){let e=Array.from(this.remoteUserMap.entries()).map((e=>{let[t]=e;return{uid:t.uid,level:t.audioTrack?100*t.audioTrack._source.getAccurateVolumeLevel():0}}));const t=this.localTrackMap.get(gb.LocalAudioTrack);return t&&e.push({level:100*t.track._source.getAccurateVolumeLevel(),uid:this.store.uid}),e=qh(e).call(e,((e,t)=>e.level-t.level)),e}async disconnectForReconnect(){this.sendConnection&&this.recvConnection&&(YU.debug("[".concat(this.store.clientId,"] P2PChannel2.disconnectForReconnect closing P2PConnection")),this.state=fb.Reconnecting,NU("KEEP_LAST_FRAME")&&0!==this.remoteUserMap.size&&Array.from(this.remoteUserMap.entries()).forEach((e=>{let[t]=e;var n;t._videoTrack&&t._videoTrack._player&&(null===(n=t._videoTrack._player.getVideoElement())||void 0===n||n.pause(),t._videoTrack._player.isKeepLastFrame=!0,t._videoTrack._originMediaStreamTrack.stop())})),this.sendConnection.close(),this.unbindConnectionEvents(this.sendConnection),this.sendConnection=void 0,this.recvConnection.close(),this.unbindConnectionEvents(this.recvConnection),this.recvConnection=void 0,0!==this.localTrackMap.size&&(Array.from(this.localTrackMap.entries()).forEach((e=>{var t;let[n,{track:i}]=e;switch(n){case gb.LocalVideoTrack:Fi(t=i._hints).call(t,YR.LOW_STREAM)?i.close():this.pendingLocalTracks.push(i);break;case gb.LocalAudioTrack:i instanceof uF?this.pendingLocalTracks=this.pendingLocalTracks.concat(i.trackList):this.pendingLocalTracks.push(i);case gb.LocalVideoLowTrack:}})),this.emit(mb.MediaReconnectStart,this.store.uid)),this.unbindLocalTrackEvents(),this.localTrackMap.clear(),0!==this.remoteUserMap.size&&Array.from(this.remoteUserMap.entries()).forEach((e=>{let[t,n]=e;Array.from(uh(n).call(n)).forEach((e=>{this.setPendingRemoteMedia(t,e)})),this.emit(mb.MediaReconnectStart,t.uid)})),this.unbindAllRemoteTrackEvents(),this.remoteUserMap.clear(),this.stopUploadUplinkState(),this.stopUploadDownlinkState(),this.statsUploader.stopUploadOutboundStats(),this.statsUploader.stopUploadInboundStats(),this.statsUploader.stopUploadTransportStats(),YU.debug("[".concat(this.store.clientId,"] P2PChannel2 disconnected, waiting to reconnect.")))}hasPendingRemoteMedia(e,t){for(const n of this.pendingRemoteTracks){const{user:i,kind:r}=n;if((e instanceof nk?e.uid:e)===i.uid&&t===r)return!0}return!1}setPendingRemoteMedia(e,t){this.hasPendingRemoteMedia(e,t)||this.pendingRemoteTracks.push({user:e,kind:t})}async restartICE(e,t){let n,i;if(e===by.SEND_ONLY){if(!this.sendConnection)throw new WE(ZE.INVALID_OPERATION,"Cannot call P2PChannel2.handleMuteLocalTrack before sendConnection established.");n=await this.sendMutex.lock("From P2PChannel.restartICE"),i=this.sendConnection}else{if(!this.recvConnection)throw new WE(ZE.INVALID_OPERATION,"Cannot call P2PChannel2.handleMuteLocalTrack before recvConnection established.");n=await this.recvMutex.lock("From P2PChannel.restartICE"),i=this.recvConnection}try{if(t){const e=await i.restartICE(t);return i.isInRestartIce=!1,e}{const e=await i.restartICE();if(e){const t=await mC(this,mb.RequestP2PRestartICE,{direction:by.RECEIVE_ONLY,iceParameter:e});await i.restartICE(t),i.isInRestartIce=!1}}}finally{n()}}getUplinkNetworkQuality(){if(!this.sendConnection)return 0;const e=this.sendConnection.getStats(),t=this.localTrackMap.get(gb.LocalVideoTrack),n=this.localTrackMap.get(gb.LocalAudioTrack),i=e.videoSend.find((e=>{var n;return e.ssrc===(null==t||null===(n=t.ssrcs)||void 0===n?void 0:n[0].ssrcId)})),r=e.audioSend.find((e=>{var t;return e.ssrc===(null==n||null===(t=n.ssrcs)||void 0===t?void 0:t[0].ssrcId)}));if(!i||!r)return 1;const o=CC(this,mb.NeedSignalRTT),a=i?i.rttMs:void 0,s=r?r.rttMs:void 0,c=a&&s?(a+s)/2:a||s,l=(c&&o?(c+o)/2:c||o)||0,d=100*e.sendPacketLossRate*.7/50+.3*l/1500,u=d<.17?1:d<.36?2:d<.59?3:d<.1?4:5,h=null==t?void 0:t.track;if(h&&h._encoderConfig&&-1===h._hints.indexOf(YR.SCREEN_TRACK)){const t=h._encoderConfig.bitrateMax,n=e.bitrate.actualEncoded;if(t&&n){const e=(1e3*t-n)/(1e3*t);return cy[e<.15?0:e<.3?1:e<.45?2:e<.6?3:4][u]}}return u}getDownlinkNetworkQuality(){if(!this.recvConnection)return 0;const e=this.recvConnection.getStats();let t=0;return Array.from(this.remoteUserMap.entries()).forEach((n=>{let[i]=n;const r=i._audioSSRC,o=i._videoSSRC,a=e.audioRecv.find((e=>e.ssrc===r)),s=e.videoRecv.find((e=>e.ssrc===o));if(!a&&!s)return void(t+=1);const c=CC(this,mb.NeedSignalRTT),l=e.rtt,d=(l&&c?(l+c)/2:l||c)||0,u=a?a.jitterMs:void 0,h=e.recvPacketLossRate;let A=.7*h*100/50+.3*d/1500;u&&(A=.6*h*100/50+.2*d/1500+.2*u/400),t+=A<.1?1:A<.17?2:A<.36?3:A<.59?4:5})),this.remoteUserMap.size>0?Math.round(t/this.remoteUserMap.size):t}async muteLocalTrack(e){return new tE(((t,n)=>{this.handleMuteLocalTrack(e,t,n)}))}filterTobePublishedTracks(e,t,n){const i=[],r=FR(),o=this.getAllTracks();e=vC(e=e.filter((e=>-1===o.indexOf(e))));let a=!1,s=!1;for(const c of e){if(c instanceof TF&&(this.localTrackMap.has(gb.LocalVideoTrack)||a?new WE(ZE.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS).throw():(i.push({track:c,type:gb.LocalVideoTrack}),a=!0),t)){const e=this.getLowVideoTrack(c,n);i.push({track:e,type:gb.LocalVideoLowTrack})}if(c instanceof cF){const e=this.localTrackMap.get(gb.LocalAudioTrack);if(e){if(!(e.track instanceof uF))throw new WE(ZE.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser does not support audio mixing");if(c._bypassWebAudio)throw new WE(ZE.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio");e.track.addAudioTrack(c),this.bindLocalAudioTrackEvents(c,!0)}else if(s){const e=i.find((e=>{let{type:t}=e;return t===gb.LocalAudioTrack}));if(!(e.track instanceof uF))throw new WE(ZE.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser does not support audio mixing");if(c._bypassWebAudio)throw new WE(ZE.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio");e.track.addAudioTrack(c)}else{if(!r.webAudioMediaStreamDest||c instanceof uF||c._bypassWebAudio)i.push({track:c,type:gb.LocalAudioTrack});else{const e=new uF;e.addAudioTrack(c),i.push({track:e,type:gb.LocalAudioTrack})}s=!0}}}return i}filterTobeUnpublishedTracks(e){const t=[],n=this.getAllTracks();e=vC(e=e.filter((e=>-1!==n.indexOf(e))));for(const i of e){if(i instanceof cF){const e=this.localTrackMap.get(gb.LocalAudioTrack);if(!e)continue;e.track instanceof uF?(e.track.removeAudioTrack(i),this.unbindLocalAudioTrackEvents(i),0===e.track.trackList.length&&(t.push([gb.LocalAudioTrack,e]),e.track.close())):t.push([gb.LocalAudioTrack,e])}if(i instanceof TF){const e=this.localTrackMap.get(gb.LocalVideoTrack);if(!e)continue;t.push([gb.LocalVideoTrack,e]);const n=this.localTrackMap.get(gb.LocalVideoLowTrack);n&&t.push([gb.LocalVideoLowTrack,n])}}return t}bindLocalTrackEvents(e){e.forEach((e=>{let{track:t,type:n}=e;switch(n){case gb.LocalVideoTrack:t.addListener(GR.GET_STATS,this.handleGetLocalVideoStats),t.addListener(GR.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),t.addListener(GR.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),t.addListener(GR.NEED_UPDATE_VIDEO_ENCODER,this.handleUpdateVideoEncoder),t.addListener(GR.SET_OPTIMIZATION_MODE,this.handleSetOptimizationMode),t.addListener(GR.NEED_REPLACE_TRACK,this.handleReplaceTrack),t.addListener(GR.NEED_MUTE_TRACK,this.handleMuteLocalTrack),t.addListener(GR.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack);break;case gb.LocalAudioTrack:this.bindLocalAudioTrackEvents(t);case gb.LocalVideoLowTrack:}}))}bindLocalAudioTrackEvents(e,t){e instanceof uF?e.trackList.forEach((e=>{e.addListener(GR.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),e.addListener(GR.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),e.addListener(GR.GET_STATS,this.handleGetLocalAudioStats),e.addListener(GR.NEED_MUTE_TRACK,this.handleMuteLocalTrack),e.addListener(GR.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack)})):(e.addListener(GR.GET_STATS,this.handleGetLocalAudioStats),e.addListener(GR.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),e.addListener(GR.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),e.addListener(GR.NEED_MUTE_TRACK,this.handleMuteLocalTrack),e.addListener(GR.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack),t||e.addListener(GR.NEED_REPLACE_TRACK,this.handleReplaceTrack))}unbindLocalTrackEvents(e){e||(e=Array.from(this.localTrackMap.entries()).map((e=>{let[t,{track:n}]=e;return{track:n,type:t}}))),e.forEach((e=>{let{track:t,type:n}=e;switch(n){case gb.LocalVideoTrack:t.off(GR.GET_STATS,this.handleGetLocalVideoStats),t.off(GR.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),t.off(GR.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),t.off(GR.NEED_UPDATE_VIDEO_ENCODER,this.handleUpdateVideoEncoder),t.off(GR.SET_OPTIMIZATION_MODE,this.handleSetOptimizationMode),t.off(GR.NEED_REPLACE_TRACK,this.handleReplaceTrack),t.off(GR.NEED_MUTE_TRACK,this.handleMuteLocalTrack),t.off(GR.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack);break;case gb.LocalAudioTrack:this.unbindLocalAudioTrackEvents(t);case gb.LocalVideoLowTrack:}}))}unbindLocalAudioTrackEvents(e){e instanceof uF?e.trackList.forEach((e=>{e.off(GR.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),e.off(GR.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),e.off(GR.GET_STATS,this.handleGetLocalAudioStats),e.off(GR.NEED_MUTE_TRACK,this.handleMuteLocalTrack),e.off(GR.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack)})):(e.off(GR.GET_STATS,this.handleGetLocalAudioStats),e.off(GR.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),e.off(GR.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),e.off(GR.NEED_REPLACE_TRACK,this.handleReplaceTrack),e.off(GR.NEED_MUTE_TRACK,this.handleMuteLocalTrack),e.off(GR.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack))}bindRemoteTrackEvents(e,t){t instanceof WF&&t.addListener(GR.GET_STATS,(t=>{t(this.handleGetRemoteVideoStats(e))})),t instanceof OF&&t.addListener(GR.GET_STATS,(t=>{t(this.handleGetRemoteAudioStats(e))}))}unbindRemoteTrackEvents(e){e&&e.removeAllListeners(GR.GET_STATS)}unbindAllRemoteTrackEvents(){Array.from(this.remoteUserMap.entries()).forEach((e=>{let[t,n]=e;n.has(hb.AUDIO)&&this.unbindRemoteTrackEvents(t._audioTrack),n.has(hb.VIDEO)&&this.unbindRemoteTrackEvents(t._videoTrack)}))}createGatewayPublishMessage(e,t){return e.map(((e,n)=>{var i;let r,{track:o,type:a}=e;switch(a){case gb.LocalAudioTrack:r=eb.Audio;break;case gb.LocalVideoTrack:r=Fi(i=o._hints).call(i,YR.SCREEN_TRACK)?eb.Screen:eb.High;break;case gb.LocalVideoLowTrack:r=eb.Low}return{kind:a===gb.LocalAudioTrack?hb.AUDIO:hb.VIDEO,stream_type:r,mid:t[n].id,ssrcs:t[n].localSSRC,isMuted:o.muted||!o.enabled}}))}createGatewayUnpublishMessage(e){return e.map((e=>{var t;let n,[i,{track:r,ssrcs:o,id:a}]=e;switch(i){case gb.LocalVideoTrack:n=Fi(t=r._hints).call(t,YR.SCREEN_TRACK)?eb.Screen:eb.High;break;case gb.LocalAudioTrack:n=eb.Audio;break;case gb.LocalVideoLowTrack:n=eb.Low}return{stream_type:n,ssrcs:o,mid:a}}))}assignLocalTracks(e,t){e.forEach(((e,n)=>{let{track:i,type:r}=e;this.localTrackMap.set(r,{track:i,id:t[n].id,ssrcs:t[n].localSSRC})}))}withdrawLocalTracks(e){e.forEach((e=>{let[t]=e;this.localTrackMap.delete(t)}))}bindConnectionEvents(e){e.onConnectionStateChange=async t=>{var n;YU.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: ").concat(e.name,".onConnectionStateChange(").concat(t,")")),this.emit(mb.PeerConnectionStateChange,t),"connected"!==t||this.store.keyMetrics.peerConnectionEnd||this.store.peerConnectionEnd(),"connected"===t&&(e.isInRestartIce=!1),Fi(n=this._restartStates).call(n,t)&&!e.isInRestartIce&&("disconnected"===t&&await VC(800),"disconnected"!==e.iceConnectionState&&"failed"!==e.iceConnectionState||this.handleDisconnect(e.direction))},e.onICEConnectionStateChange=e=>{"connected"!==e||this.store.keyMetrics.iceConnectionEnd||this.store.iceConnectionEnd(),YU.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.onICEConnectionStateChange(").concat(e,")")),oy.reportApiInvoke(this.store.sessionId,{name:"ICEConnectionStateChange",options:e,tag:aC.TRACER}).onSuccess(),this.emit(mb.IceConnectionStateChange,e)},e.onICETransportStateChange=e=>{YU.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.onICETransportStateChange(").concat(e,")"))},e.onDTLSTransportStateChange=e=>{YU.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.onDTLSTransportStateChange(").concat(e,")"))},e.onDTLSTransportError=e=>{YU.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.onDTLSTransportError(").concat(e,")"))},e.onFirstAudioDecoded=e=>{var t;const n=Array.from(uh(t=this.remoteUserMap).call(t)).find((t=>t._audioSSRC===e));var i;n&&(this.store.subscribe(n.uid,"audio",void 0,void 0,void 0,Date.now()),null===(i=n.audioTrack)||void 0===i||i.emit(qR.FIRST_FRAME_DECODED),oy.firstRemoteFrame(this.store.sessionId,zU.FIRST_AUDIO_DECODE,qU.FIRST_AUDIO_DECODE,{peer:n._uintid,subscribeElapse:E_.measureFromSubscribeStart(this.store.clientId,e),subscribeRequestid:e,p2pid:this.store.p2pId}))},e.onFirstAudioReceived=e=>{var t;const n=Array.from(uh(t=this.remoteUserMap).call(t)).find((t=>t._audioSSRC===e));n&&oy.firstRemoteFrame(this.store.sessionId,zU.FIRST_AUDIO_RECEIVED,qU.FIRST_AUDIO_RECEIVED,{peer:n._uintid,subscribeElapse:E_.measureFromSubscribeStart(this.store.clientId,e),subscribeRequestid:e,p2pid:this.store.p2pId})},e.onFirstVideoDecoded=(e,t,n)=>{this.reportVideoFirstFrameDecoded(e,t,n)},e.onFirstVideoReceived=e=>{var t;const n=Array.from(uh(t=this.remoteUserMap).call(t)).find((t=>t._videoSSRC===e));n&&oy.firstRemoteFrame(this.store.sessionId,zU.FIRST_VIDEO_RECEIVED,qU.FIRST_VIDEO_RECEIVED,{peer:n._uintid,subscribeElapse:E_.measureFromSubscribeStart(this.store.clientId,e),subscribeRequestid:e,p2pid:this.store.p2pId})},e.onSelectedLocalCandidateChanged=(e,t)=>{const n="relay"===e.candidateType,i="relay"===t.candidateType;"unknown"!==t.candidateType&&n===i||this.emit(mb.ConnectionTypeChange,n),YU.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.SelectedLocalCandidateChanged(").concat(JSON.stringify(Nv(t))," -> ").concat(JSON.stringify(Nv(e)),")"))},e.onSelectedRemoteCandidateChanged=(e,t)=>{YU.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.SelectedRemoteCandidateChanged(").concat(JSON.stringify(Nv(t))," -> ").concat(JSON.stringify(Nv(e)),")"))},e.onFirstVideoDecodedTimeout=e=>{this.reportVideoFirstFrameDecoded(e,void 0,void 0,!0)},e.onLocalCandidate=t=>{this.emit(mb.LocalCandidate,{candidate:t,direction:e.direction})}}unbindConnectionEvents(e){e.onConnectionStateChange=void 0,e.onICEConnectionStateChange=void 0,e.onICETransportStateChange=void 0,e.onDTLSTransportStateChange=void 0,e.onDTLSTransportError=void 0,e.onFirstAudioDecoded=void 0,e.onFirstAudioReceived=void 0,e.onFirstVideoDecoded=void 0,e.onFirstVideoReceived=void 0,e.onSelectedLocalCandidateChanged=void 0,e.onSelectedRemoteCandidateChanged=void 0,e.onFirstVideoDecodedTimeout=void 0,e.onLocalCandidate=void 0}async handleDisconnect(e){const t=e===by.SEND_ONLY?this.sendConnection:this.recvConnection;t&&!t.isInRestartIce&&(t.isInRestartIce=!0,YU.debug("[".concat(this.store.clientId,"] [P2PChannel-").concat(t.name,"] start use restartICE")),e===by.SEND_ONLY?this.restartICE(e):mC(this,mb.RequestP2PRestartICE,{direction:by.SEND_ONLY}))}filterTobeMutedTracks(e){const t=[];if(-1===this.getAllTracks().indexOf(e))return t;const n=this.localTrackMap.get(gb.LocalAudioTrack);if(e instanceof cF&&(null==n?void 0:n.track)instanceof uF)return n.track.isActive||t.push([gb.LocalAudioTrack,n]),t;const i=Array.from(this.localTrackMap.entries()).find((t=>{let[,{track:n}]=t;return e===n}));if(i&&(t.push(i),i[0]===gb.LocalVideoTrack)){const e=this.localTrackMap.get(gb.LocalVideoLowTrack);e&&t.push([gb.LocalVideoLowTrack,e])}return t}filterTobeUnmutedTracks(e){const t=[],n=this.localTrackMap.get(gb.LocalAudioTrack);if(e instanceof cF&&(null==n?void 0:n.track)instanceof uF)return n.track.isActive&&t.push([gb.LocalAudioTrack,n]),t;const i=Array.from(this.localTrackMap.entries()).find((t=>{let[,{track:n}]=t;return e===n}));if(i)if(i[0]===gb.LocalVideoTrack){t.push(i);const e=this.localTrackMap.get(gb.LocalVideoLowTrack);e&&t.push([gb.LocalVideoLowTrack,e])}else t.push(i);return t}createMuteMessage(e){return e.map((e=>{var t;let n,[i,{track:r,ssrcs:o,id:a}]=e;switch(i){case gb.LocalAudioTrack:n=eb.Audio;break;case gb.LocalVideoTrack:n=Fi(t=r._hints).call(t,YR.SCREEN_TRACK)?eb.Screen:eb.High;break;case gb.LocalVideoLowTrack:n=eb.Low}return{stream_type:n,ssrcs:o,mid:a}}))}createUnmuteMessage(e){return e.map((e=>{var t;let n,[i,{track:r,ssrcs:o,id:a}]=e;switch(i){case gb.LocalAudioTrack:n=eb.Audio;break;case gb.LocalVideoTrack:n=Fi(t=r._hints).call(t,YR.SCREEN_TRACK)?eb.Screen:eb.High;break;case gb.LocalVideoLowTrack:n=eb.Low}return{stream_type:n,ssrcs:o,mid:a}}))}filterTobeUnSubscribedTracks(e,t){const n=[],i=this.remoteUserMap.get(e);if(!i)return n;if(t){const r=i.get(t);if(!r)return n;n.push([e,{kind:t,id:r}])}else Array.from(i.entries()).forEach((t=>{let[i,r]=t;n.push([e,{kind:i,id:r}])}));return n}createUnsubscribeMessage(e){const t=[];return e.forEach((e=>{let[n,{kind:i,id:r}]=e;switch(i){case hb.VIDEO:return void(n._videoSSRC&&t.push({stream_type:hb.VIDEO,ssrcId:n._videoSSRC}));case hb.AUDIO:return void(n._audioSSRC&&t.push({stream_type:hb.AUDIO,ssrcId:n._audioSSRC}))}})),t}withdrawRemoteTracks(e){e.forEach((e=>{let[t,{kind:n}]=e;const i=this.remoteUserMap.get(t);i&&(i.delete(n),0===Array.from(i.entries()).length&&this.remoteUserMap.delete(t))}))}async updateBitrateLimit(e){const t=this.localTrackMap.get(gb.LocalVideoTrack),n=this.localTrackMap.get(gb.LocalVideoLowTrack);t&&await t.track.setBitrateLimit(e.uplink),n&&e.low_stream_uplink&&await n.track.setBitrateLimit({max_bitrate:e.low_stream_uplink.bitrate,min_bitrate:e.low_stream_uplink.bitrate||0})}isP2PDisconnected(){if(this.sendConnection&&this.recvConnection){const e=this.sendConnection.peerConnectionState,t=this.recvConnection.peerConnectionState;return"connected"!==e&&"connected"!==t}return!0}async tryToUnmuteAudio(e){for(let t=0;t<e.length;t++)if(e[t]instanceof cF){const n=this.filterTobeUnmutedTracks(e[t]);if(0===n.length)continue;const i=this.createUnmuteMessage(n);return void await EC(this,mb.RequestUnmuteLocal,i)}}bindStatsUploaderEvents(){this.statsUploader.requestStats=e=>this.getStats(e),this.statsUploader.requestLocalMedia=()=>Array.from(this.localTrackMap.entries()).filter((e=>{let[,{ssrcs:t}]=e;return!!t})),this.statsUploader.requestRemoteMedia=()=>Array.from(this.remoteUserMap.entries()),this.statsUploader.requestVideoIsReady=e=>{var t;return!(null===(t=this.recvConnection)||void 0===t||!t.getRemoteVideoIsReady(e))},this.statsUploader.requestUpload=(e,t)=>this.emit(mb.RequestUpload,e,t),this.statsUploader.requestUploadStats=e=>this.emit(mb.RequestUploadStats,e),this.statsUploader.requestAllTracks=()=>this.getAllTracks()}unbindStatsUploaderEvents(){this.statsUploader.requestStats=void 0,this.statsUploader.requestLocalMedia=void 0,this.statsUploader.requestRemoteMedia=void 0,this.statsUploader.requestVideoIsReady=void 0}async requestReconnect(){this.dtlsFailedCount+=1,await VC(KC(this.dtlsFailedCount,XC)),this.emit(mb.RequestReconnect)}async reconnectP2P(){}canPublishLowStream(){return this.localTrackMap.has(gb.LocalVideoTrack)||this.pendingLocalTracks.some((e=>e instanceof TF))}throwIfTrackTypeNotMatch(e){if(e.filter((e=>e instanceof TF)).length>1)throw new WE(ZE.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS);if(e.filter((e=>e instanceof cF)).length>1&&(e.some((e=>e instanceof cF&&e._bypassWebAudio))||!FR().webAudioMediaStreamDest))throw new WE(ZE.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser doesn't support MediaStreamDestNode");for(const t of e){if(t instanceof TF&&this.pendingLocalTracks.some((e=>e instanceof TF)))throw new WE(ZE.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS);if(t instanceof cF&&this.pendingLocalTracks.some((e=>e instanceof cF))&&(!FR().webAudioMediaStreamDest||t._bypassWebAudio||this.pendingLocalTracks.some((e=>e instanceof cF&&e._bypassWebAudio))))throw new WE(ZE.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser doesn't support MediaStreamDestNode")}}getLowVideoTrack(e,t){const n=!NU("DISABLE_DUAL_STREAM_USE_ENCODING")&&FR().supportDualStreamEncoding,i=ak(ak({},{width:160,height:120,framerate:15,bitrate:50}),t);let r;r=n?e._mediaStreamTrack.clone():Ow(e,i);const o=ZC(8,"track-low-"),a=new TF(r,ak(ak({},n&&{scaleResolutionDownBy:Tv(i,e)}),{},{frameRate:i.framerate,bitrateMax:i.bitrate,bitrateMin:i.bitrate}),void 0,void 0,o);return a.on(HR.TRANSCEIVER_UPDATED,(t=>{e._updateRtpTransceiver(t,jR.LOW_STREAM)})),a._hints.push(YR.LOW_STREAM),e.addListener(GR.NEED_CLOSE,(()=>{a.close()})),a}async globalLock(){return this.recvMutex.lock("From P2PChannel2.globalLock")}reportVideoFirstFrameDecoded(e,t,n,i){var r;const o=Array.from(uh(r=this.remoteUserMap).call(r)).find((t=>t._videoSSRC===e));if(o){i||this.store.subscribe(o.uid,"video",void 0,void 0,void 0,void 0,Date.now());const r=this.store.keyMetrics,a=r.subscribe.find((e=>e.userId===o.uid&&"video"===e.type));oy.firstRemoteVideoDecode(this.store.sessionId,zU.FIRST_VIDEO_DECODE,qU.FIRST_VIDEO_DECODE,{peer:o._uintid,videowidth:t,videoheight:n,subscribeElapse:E_.measureFromSubscribeStart(this.store.clientId,e),subscribeRequestid:e,p2pid:this.store.p2pId,apEnd:r.requestAPEnd||0,apStart:r.requestAPStart||0,joinGwEnd:r.joinGatewayEnd||0,joinGwStart:r.joinGatewayStart||0,pcEnd:r.peerConnectionEnd||0,pcStart:r.peerConnectionStart||0,subscriberEnd:(null==a?void 0:a.subscribeEnd)||0,subscriberStart:(null==a?void 0:a.subscribeStart)||0,videoAddNotify:(null==a?void 0:a.streamAdded)||0,state:i?1:0})}}async remoteMediaSsrcChanged(e,t,n){if(!this.recvConnection)return!1;const i=this.remoteUserMap.get(e);if(!i)return!1;const r=i.get(t);if(!r)return!1;const o=await this.recvConnection.getRemoteSSRC(r);return void 0!==o&&o!==n}resetConnection(e){YU.debug("[".concat(this.store.clientId,"] [P2PChannel2] reset connection to ").concat(e)),this.state===fb.Connected?(YU.debug("[".concat(this.store.clientId,"] [P2PChannel2] fallback to websocket but P2PChannel2 state still connected, disconnect first")),this.disconnectForReconnect()):(this.sendConnection&&(this.sendConnection.close(),this.unbindConnectionEvents(this.sendConnection),this.sendConnection=void 0),this.recvConnection&&(this.recvConnection.close(),this.unbindConnectionEvents(this.recvConnection),this.recvConnection=void 0))}async publishDataChannel(e){throw new WE(ZE.NOT_SUPPORTED)}async unpublishDataChannel(e){throw new WE(ZE.NOT_SUPPORTED)}async subscribeDataChannel(e,t){throw new WE(ZE.NOT_SUPPORTED)}async unsubscribeDataChannel(e,t){throw new WE(ZE.NOT_SUPPORTED)}hasPendingRemoteDataChannel(e,t){throw new WE(ZE.NOT_SUPPORTED)}setPendingRemoteDataChannel(e,t){throw new WE(ZE.NOT_SUPPORTED)}async preConnect(e,t,n,i,r,o){throw new WE(ZE.NOT_SUPPORTED)}getEstablishParams(){throw new WE(ZE.NOT_SUPPORTED)}async reSubscribe(e){throw new WE(ZE.NOT_SUPPORTED)}async updateVideoStreamParameter(e,t){throw new WE(ZE.NOT_SUPPORTED)}unbindRtpTransceiver(){0!==this.localTrackMap.size&&Array.from(this.localTrackMap.entries()).forEach((e=>{let[t,{track:n}]=e;t===gb.LocalVideoLowTrack?n._updateRtpTransceiver(void 0,jR.LOW_STREAM):n._updateRtpTransceiver(void 0)}))}}function ck(e){return function(t,n,i){const r=t[n];if("function"!=typeof r)throw new Error("Cannot use mutex on object property.");return i.value=async function(){for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];switch(e){case ik.SEND_ONLY:{const e=await this.sendMutex.lock("From P2PChannel2.".concat(n));try{return await r.apply(this,i)}finally{e()}}case ik.RECEIVE_ONLY:{const e=await this.recvMutex.lock("From P2PChannel2.".concat(n));try{return await r.apply(this,i)}finally{e()}}default:{const e=await this.sendMutex.lock("From P2PChannel2.".concat(n)),t=await this.recvMutex.lock("From P2PChannel2.".concat(n));try{return await r.apply(this,i)}finally{e(),t()}}}},i}}function lk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function dk(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lk(Object(n),!0).forEach((function(t){ih(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lk(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Vy([ck(ik.SEND_ONLY),Zy("design:type",Function),Zy("design:paramtypes",[Object]),Zy("design:returntype",tE)],sk.prototype,"p2pConnect",null),Vy([ck(ik.SEND_ONLY),Zy("design:type",Function),Zy("design:paramtypes",[Array]),Zy("design:returntype",tE)],sk.prototype,"unpublish",null),Vy([ck(),Zy("design:type",Function),Zy("design:paramtypes",[]),Zy("design:returntype",tE)],sk.prototype,"unpublishLowStream",null),Vy([ck(ik.RECEIVE_ONLY),Zy("design:type",Function),Zy("design:paramtypes",[nk,String,Number,String]),Zy("design:returntype",tE)],sk.prototype,"subscribe",null),Vy([ck(ik.RECEIVE_ONLY),Zy("design:type",Function),Zy("design:paramtypes",[nk,String,Number,String]),Zy("design:returntype",tE)],sk.prototype,"mockSubscribe",null),Vy([ck(ik.RECEIVE_ONLY),Zy("design:type",Function),Zy("design:paramtypes",[nk,String,Boolean]),Zy("design:returntype",tE)],sk.prototype,"unsubscribe",null),Vy([ck(ik.RECEIVE_ONLY),Zy("design:type",Function),Zy("design:paramtypes",[nk,String]),Zy("design:returntype",tE)],sk.prototype,"muteRemote",null),Vy([ck(ik.RECEIVE_ONLY),Zy("design:type",Function),Zy("design:paramtypes",[nk,String]),Zy("design:returntype",tE)],sk.prototype,"unmuteRemote",null),Vy([ck(ik.RECEIVE_ONLY),Zy("design:type",Function),Zy("design:paramtypes",[nk,String]),Zy("design:returntype",tE)],sk.prototype,"hasRemoteMediaWithLock",null),Vy([ck(),Zy("design:type",Function),Zy("design:paramtypes",[]),Zy("design:returntype",tE)],sk.prototype,"disconnectForReconnect",null),Vy([ck(ik.RECEIVE_ONLY),Zy("design:type",Function),Zy("design:paramtypes",[nk,String,Number]),Zy("design:returntype",tE)],sk.prototype,"remoteMediaSsrcChanged",null);class uk{constructor(e){ih(this,"store",void 0),ih(this,"onStatsException",void 0),ih(this,"onUploadPublishDuration",void 0),ih(this,"onStatsChanged",void 0),ih(this,"localStats",new Map),ih(this,"remoteStats",new Map),ih(this,"updateStatsInterval",void 0),ih(this,"trafficStats",void 0),ih(this,"trafficStatsPeerList",[]),ih(this,"uplinkStats",void 0),ih(this,"exceptionMonitor",void 0),ih(this,"p2pChannel",void 0),ih(this,"scalabilityMode",uy.L1T1),ih(this,"updateStats",(()=>{this.p2pChannel&&(this.updateRemoteStats(this.p2pChannel),this.updateLocalStats(this.p2pChannel))})),this.store=e,this.updateStatsInterval=window.setInterval(this.updateStats,1e3),this.exceptionMonitor=new f_,this.exceptionMonitor.on("exception",((e,t,n)=>{this.onStatsException&&this.onStatsException(e,t,n)}))}reset(){this.localStats=new Map,this.remoteStats=new Map,this.trafficStats=void 0,this.trafficStatsPeerList=[],this.uplinkStats=void 0}getLocalAudioTrackStats(){return this.localStats.get(gb.LocalAudioTrack)||dk({},tS)}getLocalVideoTrackStats(){return this.localStats.get(gb.LocalVideoTrack)||dk({},nS)}getRemoteAudioTrackStats(e){const t=(e,t)=>{if(!this.trafficStats)return t;const n=this.trafficStats.peer_delay.find((t=>t.peer_uid===e));return n&&(t.publishDuration=n.B_ppad+(Date.now()-this.trafficStats.timestamp)),t},n={};if(e){var i;const r=null===(i=this.remoteStats.get(e))||void 0===i?void 0:i.audioStats;r&&(n[e]=t(e,r))}else Array.from(this.remoteStats.entries()).forEach((e=>{let[i,{audioStats:r}]=e;r&&(n[i]=t(i,r))}));return n}getRemoteNetworkQualityStats(e){const t={};if(e){var n;const i=null===(n=this.remoteStats.get(e))||void 0===n?void 0:n.networkStats;i&&(t[e]=i)}else Array.from(this.remoteStats.entries()).forEach((e=>{let[n,{networkStats:i}]=e;i&&(t[n]=i)}));return t}getRemoteVideoTrackStats(e){const t=(e,t)=>{if(!this.trafficStats)return t;const n=this.trafficStats.peer_delay.find((t=>t.peer_uid===e));return n&&(t.publishDuration=n.B_ppvd+(Date.now()-this.trafficStats.timestamp)),t},n={};if(e){var i;const r=null===(i=this.remoteStats.get(e))||void 0===i?void 0:i.videoStats;r&&(n[e]=t(e,r))}else Array.from(this.remoteStats.entries()).forEach((e=>{let[i,{videoStats:r}]=e;r&&(n[i]=t(i,r))}));return n}getRTCStats(){let e=0,t=0,n=0,i=0;const r=this.localStats.get(gb.LocalAudioTrack);r&&(e+=r.sendBytes,t+=r.sendBitrate);const o=this.localStats.get(gb.LocalVideoTrack);o&&(e+=o.sendBytes,t+=o.sendBitrate);const a=this.localStats.get(gb.LocalVideoLowTrack);a&&(e+=a.sendBytes,t+=a.sendBitrate),this.remoteStats.forEach((e=>{let{audioStats:t,videoStats:r}=e;t&&(n+=t.receiveBytes,i+=t.receiveBitrate),r&&(n+=r.receiveBytes,i+=r.receiveBitrate)}));let s=1;return this.trafficStats&&(s+=this.trafficStats.peer_delay.length),{Duration:0,UserCount:s,SendBitrate:t,SendBytes:e,RecvBytes:n,RecvBitrate:i,OutgoingAvailableBandwidth:this.uplinkStats?this.uplinkStats.B_uab/1e3:0,RTT:this.trafficStats?2*this.trafficStats.B_acd:0}}addLocalStats(e){this.localStats.set(e,void 0)}removeLocalStats(e){e?this.localStats.delete(e):this.localStats.clear()}addRemoteStats(e){this.remoteStats.set(e,{})}removeRemoteStats(e){e?this.remoteStats.delete(e):this.remoteStats.clear()}addP2PChannel(e){this.p2pChannel=e}updateTrafficStats(e){e.peer_delay=e.peer_delay.filter((e=>void 0!==e.B_ppad||void 0!==e.B_ppvd)),e.peer_delay.filter((e=>-1===this.trafficStatsPeerList.indexOf(e.peer_uid))).forEach((e=>{var t;const n=null===(t=this.p2pChannel)||void 0===t?void 0:t.getRemoteMedia(e.peer_uid),i=null!=n&&n.videoSSRC?E_.measureFromSubscribeStart(this.store.clientId,n.videoSSRC):0,r=null!=n&&n.audioSSRC?E_.measureFromSubscribeStart(this.store.clientId,n.audioSSRC):0;void 0!==e.B_ppad&&void 0!==e.B_ppvd&&(this.onUploadPublishDuration&&this.onUploadPublishDuration(e.peer_uid,e.B_ppad,e.B_ppvd,i>r?i:r),this.trafficStatsPeerList.push(e.peer_uid))})),this.trafficStats=e}updateUplinkStats(e){this.uplinkStats&&this.uplinkStats.B_fir!==e.B_fir&&YU.debug("[".concat(this.store.clientId,"]: Period fir changes to ").concat(e.B_fir)),this.uplinkStats=e}static isRemoteVideoFreeze(e,t,n){if(!e)return!1;const i=!!n&&t.framesDecodeFreezeTime>n.framesDecodeFreezeTime,r=!n||t.framesDecodeCount>n.framesDecodeCount;return i||!r}static isRemoteAudioFreeze(e){return!!e&&e._isFreeze()}isLocalVideoFreeze(e){return!(!e.inputFrame||!e.sentFrame)&&e.inputFrame.frameRate>5&&e.sentFrame.frameRate<3}updateLocalStats(e){Array.from(this.localStats.entries()).forEach((t=>{let[n,i]=t;switch(n){case gb.LocalVideoTrack:case gb.LocalVideoLowTrack:{const t=i,o=dk({},nS),a=e.getStats(),s=e.getLocalMedia(n);if(a){const n=a.videoSend.find((e=>e.ssrc===(null==s?void 0:s.ssrcs[0].ssrcId)));if(n){const i=e.getLocalVideoSize(),r=e.getEncoderConfig(gb.LocalVideoTrack);"H264"!==n.codec&&"H265"!==n.codec&&"VP8"!==n.codec&&"VP9"!==n.codec&&"AV1X"!==n.codec&&"AV1"!==n.codec||(o.codecType=n.codec),o.sendBytes=n.bytes,o.sendBitrate=t?8*Math.max(0,o.sendBytes-t.sendBytes):0,n.inputFrame?(o.captureFrameRate=n.inputFrame.frameRate,o.captureResolutionHeight=n.inputFrame.height,o.captureResolutionWidth=n.inputFrame.width):i&&(o.captureResolutionWidth=i.width,o.captureResolutionHeight=i.height),n.sentFrame?(o.sendFrameRate=n.sentFrame.frameRate,o.sendResolutionHeight=n.sentFrame.height,o.sendResolutionWidth=n.sentFrame.width):i&&(o.sendResolutionWidth=i.width,o.sendResolutionHeight=i.height),n.avgEncodeMs&&(o.encodeDelay=n.avgEncodeMs),r&&r.bitrateMax&&(o.targetSendBitrate=1e3*r.bitrateMax),o.sendPackets=n.packets,o.sendPacketsLost=n.packetsLost,o.sendJitterMs=n.jitterMs,o.sendRttMs=n.rttMs,o.totalDuration=t?t.totalDuration+1:1,o.totalFreezeTime=t?t.totalFreezeTime:0,this.isLocalVideoFreeze(n)&&(o.totalFreezeTime+=1),n.scalabilityMode&&this.scalabilityMode!==n.scalabilityMode&&(YU.debug("[".concat(this.store.clientId,"]: The scalabilityMode of the video sending stream is ").concat(n.scalabilityMode)),this.scalabilityMode=n.scalabilityMode)}this.trafficStats&&(o.currentPacketLossRate=(this.trafficStats.B_pvlr4||0)/100)}var r;this.localStats.set(n,o),((null==t?void 0:t.sendResolutionWidth)!==o.sendResolutionWidth||(null==t?void 0:t.sendResolutionHeight)!==o.sendResolutionHeight)&&(null===(r=this.onStatsChanged)||void 0===r||r.call(this,"resolution",{width:o.sendResolutionWidth,height:o.sendResolutionHeight})),o&&s&&this.exceptionMonitor.setLocalVideoStats(this.store.uid,s.track,o);break}case gb.LocalAudioTrack:{const t=i,r=dk({},tS),o=e.getStats(),a=e.getLocalMedia(n);if(o){const n=o.audioSend.find((e=>e.ssrc===(null==a?void 0:a.ssrcs[0].ssrcId)));if(n){if("opus"!==n.codec&&"aac"!==n.codec&&"PCMU"!==n.codec&&"PCMA"!==n.codec&&"G722"!==n.codec||(r.codecType=n.codec),n.inputLevel)r.sendVolumeLevel=Math.round(32767*n.inputLevel);else{const t=e.getLocalAudioVolume();t&&(r.sendVolumeLevel=Math.round(32767*t))}r.sendBytes=n.bytes,r.sendPackets=n.packets,r.sendPacketsLost=n.packetsLost,r.sendJitterMs=n.jitterMs,r.sendRttMs=n.rttMs,r.sendBitrate=t?8*Math.max(0,r.sendBytes-t.sendBytes):0}}this.trafficStats&&(r.currentPacketLossRate=(this.trafficStats.B_palr4||0)/100),this.localStats.set(gb.LocalAudioTrack,r),r&&a&&this.exceptionMonitor.setLocalAudioStats(this.store.uid,a.track,r);break}}}))}updateRemoteStats(e){Array.from(this.remoteStats.entries()).forEach((t=>{var n,i;let[r,{videoStats:o,audioStats:a,videoPcStats:s}]=t;const c=a,l=o,d=s,u=dk({},iS),h=dk({},oS),A=dk({},rS),{audioTrack:p,videoTrack:g,audioSSRC:f,videoSSRC:m}=e.getRemoteMedia(r);let E;E=e instanceof sk?e.getStats(!0):e.getStats();const C=null===(n=E)||void 0===n?void 0:n.audioRecv.find((e=>e.ssrc===f)),I=null===(i=E)||void 0===i?void 0:i.videoRecv.find((e=>e.ssrc===m)),Q=this.trafficStats&&this.trafficStats.peer_delay.find((e=>e.peer_uid===r));if(C&&("opus"!==C.codec&&"aac"!==C.codec&&"PCMU"!==C.codec&&"PCMA"!==C.codec&&"G722"!==C.codec||(u.codecType=C.codec),C.outputLevel?u.receiveLevel=Math.round(32767*C.outputLevel):p&&(u.receiveLevel=Math.round(32767*p.getVolumeLevel())),u.receiveBytes=C.bytes,u.receivePackets=C.packets,u.receivePacketsLost=C.packetsLost,u.packetLossRate=u.receivePacketsLost/(u.receivePackets+u.receivePacketsLost),u.receiveBitrate=c?8*Math.max(0,u.receiveBytes-c.receiveBytes):0,u.totalDuration=c?c.totalDuration+1:1,u.totalFreezeTime=c?c.totalFreezeTime:0,u.freezeRate=u.totalFreezeTime/u.totalDuration,u.receiveDelay=C.jitterBufferMs,u.totalDuration>10&&uk.isRemoteAudioFreeze(p)&&(u.totalFreezeTime+=1)),I){"H264"!==I.codec&&"H265"!==I.codec&&"VP8"!==I.codec&&"VP9"!==I.codec&&"AV1X"!==I.codec&&"AV1"!==I.codec||(h.codecType=I.codec),h.receiveBytes=I.bytes,h.receiveBitrate=l?8*Math.max(0,h.receiveBytes-l.receiveBytes):0,h.decodeFrameRate=I.decodeFrameRate<0?0:I.decodeFrameRate,h.renderFrameRate=I.decodeFrameRate<0?0:I.decodeFrameRate,I.outputFrame&&(h.renderFrameRate=I.outputFrame.frameRate),I.receivedFrame?(h.receiveFrameRate=I.receivedFrame.frameRate,h.receiveResolutionHeight=I.receivedFrame.height,h.receiveResolutionWidth=I.receivedFrame.width):g&&(h.receiveResolutionHeight=g._videoHeight||0,h.receiveResolutionWidth=g._videoWidth||0),void 0!==I.framesRateFirefox&&(h.receiveFrameRate=Math.round(I.framesRateFirefox)),h.receivePackets=I.packets,h.receivePacketsLost=I.packetsLost,h.packetLossRate=h.receivePacketsLost/(h.receivePackets+h.receivePacketsLost),h.totalDuration=l?l.totalDuration+1:1,h.totalFreezeTime=l?l.totalFreezeTime:0,h.receiveDelay=I.jitterBufferMs||0;const t=!!m&&e.getRemoteVideoIsReady(m);g&&t&&uk.isRemoteVideoFreeze(g,I,d)&&(h.totalFreezeTime+=1),h.freezeRate=h.totalFreezeTime/h.totalDuration}Q&&(u.end2EndDelay=Q.B_ad,h.end2EndDelay=Q.B_vd,u.transportDelay=Q.B_ed,h.transportDelay=Q.B_ed,u.currentPacketLossRate=Q.B_ealr4/100,h.currentPacketLossRate=Q.B_evlr4/100,A.uplinkNetworkQuality=Q.B_punq?Q.B_punq:0,A.downlinkNetworkQuality=Q.B_pdnq?Q.B_pdnq:0),this.remoteStats.set(r,{audioStats:u,videoStats:h,videoPcStats:I,networkStats:A}),p&&this.exceptionMonitor.setRemoteAudioStats(p,u),g&&this.exceptionMonitor.setRemoteVideoStats(g,h)}))}}function hk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Ak(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hk(Object(n),!0).forEach((function(t){ih(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hk(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}class pk extends nC{constructor(e,t,n,i){super(),ih(this,"spec",void 0),ih(this,"token",void 0),ih(this,"websocket",void 0),ih(this,"pingpongTimer",void 0),ih(this,"reconnectMode","retry"),ih(this,"serviceMode",void 0),ih(this,"reqId",0),ih(this,"commandReqId",0),ih(this,"handleWebSocketOpen",(()=>{this.reconnectMode="retry",this.startPingPong()})),ih(this,"handleWebSocketMessage",(e=>{if(!e.data)return;const t=JSON.parse(e.data);t.requestId?this.emit("@".concat(t.requestId,"-").concat(t.sid),t):this.serviceMode===Ry.INJECT?this.emit(Yy.INJECT_STREAM_STATUS,t):(oy.workerEvent(this.spec.sid,{actionType:"status",serverCode:t.code,workerType:this.serviceMode===Ry.TRANSCODE?1:2}),this.emit(Yy.PUBLISH_STREAM_STATUS,t))})),this.spec=t,this.token=e,this.serviceMode=i,this.websocket=new $b("live-streaming",n),this.websocket.on(vy.CONNECTED,this.handleWebSocketOpen),this.websocket.on(vy.ON_MESSAGE,this.handleWebSocketMessage),this.websocket.on(vy.REQUEST_NEW_URLS,((e,t)=>{mC(this,Yy.REQUEST_NEW_ADDRESS).then(e).catch(t)})),this.websocket.on(vy.RECONNECTING,(()=>{this.websocket.reconnectMode=this.reconnectMode}))}init(e){return this.websocket.init(e)}async request(e,t,n,i){this.reqId+=1,"request"===e&&(this.commandReqId+=1);const r=this.commandReqId,o=this.reqId;if(!o||!this.websocket)throw new Wy(ZE.UNEXPECTED_ERROR);const a=Ak({command:e,sdkVersion:"4.20.0"===vU?"0.0.1":vU,seq:o,requestId:o,allocate:n,cname:this.spec.cname,appId:this.spec.appId,sid:this.spec.sid,uid:this.spec.uid.toString(),ts:Math.floor(Date.now()/1e3)},t);if("closed"===this.websocket.state)throw new Wy(ZE.WS_DISCONNECT);const s=()=>new tE(((e,t)=>{this.websocket.once(vy.CLOSED,(()=>t(new Wy(ZE.WS_ABORT)))),this.websocket.once(vy.CONNECTED,e)}));"connected"!==this.websocket.state&&await s(),a.clientRequest&&(a.clientRequest.workerToken=this.token);const c=new tE(((e,t)=>{const n=()=>{t(new Wy(ZE.WS_ABORT))};this.websocket.once(vy.RECONNECTING,n),this.websocket.once(vy.CLOSED,n),this.once("@".concat(o,"-").concat(this.spec.sid),(t=>{e(t)}))}));i&&oy.workerEvent(this.spec.sid,Ak(Ak({},i),{},{requestId:r,actionType:"request",payload:JSON.stringify(t.clientRequest),serverCode:0,code:0}));const l=Date.now();this.websocket.sendMessage(a);let d=null;try{d=await c}catch(i){if("closed"===this.websocket.state)throw i;return await s(),await this.request(e,t,n)}return i&&oy.workerEvent(this.spec.sid,Ak(Ak({},i),{},{requestId:r,actionType:"response",payload:JSON.stringify(d.serverResponse),serverCode:d.code,success:200===d.code,responseTime:Date.now()-l})),200!==d.code&&this.handleResponseError(d),d}tryNextAddress(){this.reconnectMode="tryNext",this.websocket.reconnect("tryNext")}close(){const e="4.20.0"===vU?"0.0.1":vU;this.reqId+=1,"connected"===this.websocket.state?(this.websocket.sendMessage({command:"request",appId:this.spec.appId,cname:this.spec.cname,uid:this.spec.uid.toString(),sdkVersion:e,sid:this.spec.sid,seq:this.reqId,ts:Math.floor(Date.now()/1e3),requestId:this.reqId,clientRequest:{command:"DestroyWorker"}}),this.websocket.close(!1,!0)):this.websocket.close(!1),this.pingpongTimer&&(window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0)}handleResponseError(e){switch(e.code){case Xy.LIVE_STREAM_RESPONSE_ALREADY_EXISTS_STREAM:return void YU.warning("live stream response already exists stream");case Xy.LIVE_STREAM_RESPONSE_TRANSCODING_PARAMETER_ERROR:case Xy.LIVE_STREAM_RESPONSE_BAD_STREAM:case Xy.LIVE_STREAM_RESPONSE_WM_PARAMETER_ERROR:return new Wy(ZE.LIVE_STREAMING_INVALID_ARGUMENT,"",{code:e.code}).throw();case Xy.LIVE_STREAM_RESPONSE_WM_WORKER_NOT_EXIST:if("UnpublishStream"===e.serverResponse.command||"UninjectStream"===e.serverResponse.command)return;throw new Wy(ZE.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"live stream response wm worker not exist",{retry:!0});case Xy.LIVE_STREAM_RESPONSE_NOT_AUTHORIZED:return new Wy(ZE.LIVE_STREAMING_PUBLISH_STREAM_NOT_AUTHORIZED,"",{code:e.code}).throw();case Xy.LIVE_STREAM_RESPONSE_FAILED_LOAD_IMAGE:{const t=new Wy(ZE.LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE);return this.emit(Yy.WARNING,t,e.serverResponse.url)}case Xy.LIVE_STREAM_RESPONSE_REQUEST_TOO_OFTEN:{const t=new Wy(ZE.LIVE_STREAMING_WARN_FREQUENT_REQUEST);return this.emit(Yy.WARNING,t,e.serverResponse.url)}case Xy.LIVE_STREAM_RESPONSE_NOT_FOUND_PUBLISH:throw new Wy(ZE.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"live stream response wm worker not exist",{retry:!0});case Xy.LIVE_STREAM_RESPONSE_NOT_SUPPORTED:return new Wy(ZE.LIVE_STREAMING_TRANSCODING_NOT_SUPPORTED,"",{code:e.code}).throw();case Xy.LIVE_STREAM_RESPONSE_MAX_STREAM_NUM:{const t=new Wy(ZE.LIVE_STREAMING_WARN_STREAM_NUM_REACH_LIMIT);return this.emit(Yy.WARNING,t,e.serverResponse.url)}case Xy.LIVE_STREAM_RESPONSE_INTERNAL_SERVER_ERROR:return new Wy(ZE.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"",{code:e.code}).throw();case Xy.LIVE_STREAM_RESPONSE_RESOURCE_LIMIT:throw new Wy(ZE.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"live stream resource limit",{retry:!0,changeAddress:!0});case Xy.LIVE_STREAM_RESPONSE_WORKER_LOST:case Xy.LIVE_STREAM_RESPONSE_WORKER_QUIT:if("UnpublishStream"===e.serverResponse.command||"UninjectStream"===e.serverResponse.command)return;throw new Wy(ZE.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"error fail send message",{retry:!0,changeAddress:!0});case Xy.ERROR_FAIL_SEND_MESSAGE:if("UnpublishStream"===e.serverResponse.command||"UninjectStream"===e.serverResponse.command)return;if("UpdateTranscoding"===e.serverResponse.command||"ControlStream"===e.serverResponse.command)return new Wy(ZE.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"error fail send message",{code:e.code}).throw();throw new Wy(ZE.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"error fail send message",{retry:!0,changeAddress:!0});case Xy.PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN:case Xy.PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT:case Xy.PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE:case Xy.PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH:return new Wy(ZE.LIVE_STREAMING_CDN_ERROR,"",{code:e.code}).throw()}}startPingPong(){this.pingpongTimer&&window.clearInterval(this.pingpongTimer),this.pingpongTimer=window.setInterval((()=>{"connected"===this.websocket.state&&this.request("ping",{}).catch(OC)}),6e3)}}function gk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function fk(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gk(Object(n),!0).forEach((function(t){ih(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gk(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}class mk extends nC{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:XC,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:XC;super(),ih(this,"onLiveStreamWarning",void 0),ih(this,"onLiveStreamError",void 0),ih(this,"onInjectStatusChange",void 0),ih(this,"spec",void 0),ih(this,"retryTimeout",1e4),ih(this,"connection",void 0),ih(this,"httpRetryConfig",void 0),ih(this,"wsRetryConfig",void 0),ih(this,"streamingTasks",new Map),ih(this,"isStartingStreamingTask",!1),ih(this,"taskMutex",new YC("live-streaming")),ih(this,"cancelToken",gU.CancelToken.source()),ih(this,"transcodingConfig",void 0),ih(this,"injectConfig",fk({},Gy)),ih(this,"injectLoopTimes",0),ih(this,"uapResponse",void 0),ih(this,"lastTaskId",1),ih(this,"statusError",new Map),this.spec=e,this.httpRetryConfig=n,this.wsRetryConfig=t}async setTranscodingConfig(e){const t=fk(fk({},Py),e);66!==t.videoCodecProfile&&77!==t.videoCodecProfile&&100!==t.videoCodecProfile&&(YU.debug("[".concat(this.spec.clientId,"] set transcoding config, fix video codec profile: ").concat(t.videoCodecProfile," -> 100")),t.videoCodecProfile=100),t.transcodingUsers||(t.transcodingUsers=t.userConfigs),t.transcodingUsers&&(t.transcodingUsers=t.transcodingUsers.map((e=>fk(fk(fk({},xy),e),{},{zOrder:e.zOrder?e.zOrder+1:1})))),function(e){GE(e.width)||xE(e.width,"config.width",0,1e4),GE(e.height)||xE(e.height,"config.height",0,1e4),GE(e.videoBitrate)||xE(e.videoBitrate,"config.videoBitrate",1,1e6),GE(e.videoFrameRate)||xE(e.videoFrameRate,"config.videoFrameRate"),GE(e.lowLatency)||OE(e.lowLatency,"config.lowLatency"),GE(e.audioSampleRate)||JE(e.audioSampleRate,"config.audioSampleRate",[32e3,44100,48e3]),GE(e.audioBitrate)||xE(e.audioBitrate,"config.audioBitrate",1,128),GE(e.audioChannels)||JE(e.audioChannels,"config.audioChannels",[1,2,3,4,5]),GE(e.videoGop)||xE(e.videoGop,"config.videoGop"),GE(e.videoCodecProfile)||JE(e.videoCodecProfile,"config.videoCodecProfile",[66,77,100]),GE(e.userCount)||xE(e.userCount,"config.userCount",0,17),GE(e.backgroundColor)||xE(e.backgroundColor,"config.backgroundColor",0,16777215),GE(e.userConfigExtraInfo)||LE(e.userConfigExtraInfo,"config.userConfigExtraInfo",0,4096,!1),e.transcodingUsers&&!GE(e.transcodingUsers)&&(PE(e.transcodingUsers,"config.transcodingUsers"),e.transcodingUsers.forEach(((e,t)=>{Jy(e.uid),GE(e.x)||xE(e.x,"transcodingUser[".concat(t,"].x"),0,1e4),GE(e.y)||xE(e.y,"transcodingUser[".concat(t,"].y"),0,1e4),GE(e.width)||xE(e.width,"transcodingUser[".concat(t,"].width"),0,1e4),GE(e.height)||xE(e.height,"transcodingUser[".concat(t,"].height"),0,1e4),GE(e.zOrder)||xE(e.zOrder-1,"transcodingUser[".concat(t,"].zOrder"),0,100),GE(e.alpha)||xE(e.alpha,"transcodingUser[".concat(t,"].alpha"),0,1,!1)}))),GE(e.watermark)||Ly(e.watermark,"watermark"),GE(e.backgroundImage)||Ly(e.backgroundImage,"backgroundImage"),e.images&&!GE(e.images)&&(PE(e.images,"config.images"),e.images.forEach(((e,t)=>{Ly(e,"images[".concat(t,"]"))})))}(t);const n=[];t.images&&n.push(...t.images.map((e=>fk(fk(fk({},My),e),{},{zOrder:255})))),t.backgroundImage&&(n.push(fk(fk(fk({},My),t.backgroundImage),{},{zOrder:0})),delete t.backgroundImage),t.watermark&&(n.push(fk(fk(fk({},My),t.watermark),{},{zOrder:255})),delete t.watermark),t.images=n,t.transcodingUsers&&(t.userConfigs=t.transcodingUsers.map((e=>fk({},e))),t.userCount=t.transcodingUsers.length,delete t.transcodingUsers);const i=(t.userConfigs||[]).map((e=>"number"==typeof e.uid?tE.resolve(e.uid):ER(e.uid,this.spec,this.cancelToken.token,this.httpRetryConfig)));if((await tE.all(i)).forEach(((e,n)=>{t.userConfigs&&t.userConfigs[n]&&(t.userConfigs[n].uid=e)})),this.transcodingConfig=t,this.connection)try{var r;const e=await this.connection.request("request",{clientRequest:{command:"UpdateTranscoding",transcodingConfig:this.transcodingConfig}},!1,{command:"UpdateTranscoding",workerType:1,requestByUser:!0,tid:Array.from(Dy(r=this.streamingTasks).call(r)).map((e=>e.taskId)).join("#")});YU.debug("[".concat(this.spec.clientId,"] update live transcoding config success, code: ").concat(e.code,", config:"),JSON.stringify(this.transcodingConfig))}catch(e){if(!e.data||!e.data.retry)throw e;e.data.changeAddress&&this.connection.tryNextAddress(),this.streamingTasks.forEach((t=>{YU.warning("[".concat(this.spec.clientId,"] live streaming receive error"),e.toString(),"try to republish",t.url),this.startLiveStreamingTask(t.url,t.mode,e).then((()=>{YU.debug("[".concat(this.spec.clientId,"] live streaming republish ").concat(t.url," success"))})).catch((e=>{YU.error("[".concat(this.spec.clientId,"] live streaming republish failed"),t.url,e.toString()),this.onLiveStreamError&&this.onLiveStreamError(t.url,e)}))}))}}setInjectStreamConfig(e,t){this.injectConfig=Object.assign({},this.injectConfig,e),this.injectLoopTimes=t}async startLiveStreamingTask(e,t,n){var i;if(Array.from(Dy(i=this.streamingTasks).call(i)).find((e=>e.mode===Ry.INJECT))&&t===Ry.INJECT)return new Wy(ZE.LIVE_STREAMING_TASK_CONFLICT,"inject stream over limit").throw();if(!this.transcodingConfig&&t===Ry.TRANSCODE)throw new Wy(ZE.INVALID_OPERATION,"[LiveStreaming] no transcoding config found, can not start transcoding streaming task");let r={command:"PublishStream",ts:Date.now(),url:e,uid:this.spec.uid.toString(),autoDestroyTime:100,acceptImageTimeout:!0};YU.debug("[".concat(this.spec.clientId,"] start live streaming ").concat(e,", mode: ").concat(t));const o=await this.taskMutex.lock();if(!this.connection&&n)return void o();if(this.streamingTasks.get(e)&&!n)return o(),new Wy(ZE.LIVE_STREAMING_TASK_CONFLICT).throw();try{this.connection||(this.connection=await this.connect(t))}catch(e){throw o(),e}switch(t){case Ry.TRANSCODE:r.transcodingConfig=fk({},this.transcodingConfig);break;case Ry.RAW:break;case Ry.INJECT:r={cname:this.spec.cname,command:"InjectStream",sid:this.spec.sid,transcodingConfig:this.injectConfig,ts:Date.now(),url:e,loopTimes:this.injectLoopTimes}}this.uapResponse&&this.uapResponse.vid&&(r.vid=this.uapResponse.vid),this.isStartingStreamingTask=!0;const a=this.lastTaskId++;try{const i=new tE(((t,i)=>{VC(this.retryTimeout).then((()=>{if(n)return i(n);const t=this.statusError.get(e);return t?(this.statusError.delete(e),i(t)):void 0}))})),s=await tE.race([this.connection.request("request",{clientRequest:r},!0,{url:e,command:"PublishStream",workerType:t===Ry.TRANSCODE?1:2,requestByUser:!n,tid:a.toString()}),i]);this.isStartingStreamingTask=!1,YU.debug("[".concat(this.spec.clientId,"] live streaming started, code: ").concat(s.code)),this.streamingTasks.set(e,{clientRequest:r,mode:t,url:e,taskId:a}),o()}catch(i){if(o(),this.isStartingStreamingTask=!1,!i.data||!i.data.retry||n)throw i;return i.data.changeAddress?(this.connection.tryNextAddress(),await this.startLiveStreamingTask(e,t,i)):await this.startLiveStreamingTask(e,t,i)}}stopLiveStreamingTask(e){return new tE(((t,n)=>{const i=this.streamingTasks.get(e);if(!i||!this.connection)return new Wy(ZE.UNEXPECTED_ERROR,"can not find streaming task to stop").throw();const r=i.mode;i.abortTask=()=>{YU.debug("[".concat(this.spec.clientId,"] stop live streaming success(worker exception)")),this.streamingTasks.delete(e),t()},this.connection.request("request",{clientRequest:{command:r===Ry.INJECT?"UninjectStream":"UnpublishStream",url:i.url}},!1,{url:e,command:"UnPublishStream",workerType:r===Ry.TRANSCODE?1:2,requestByUser:!0,tid:(this.lastTaskId++).toString()}).then((n=>{YU.debug("[".concat(this.spec.clientId,"] stop live streaming success, code: ").concat(n.code)),this.streamingTasks.delete(e),0===this.streamingTasks.size&&r!==Ry.INJECT&&(this.connection&&this.connection.close(),this.connection=void 0),t(),r===Ry.INJECT&&this.onInjectStatusChange&&this.onInjectStatusChange(Sy.INJECT_STREAM_STATUS_STOP_SUCCESS,this.spec.uid,e)})).catch(n)}))}async controlInjectStream(e,t,n,i){const r=this.streamingTasks.get(e);if(!r||!this.connection||r.mode!==Ry.INJECT)throw new Wy(ZE.INVALID_OPERATION,"can not find inject stream task to control");return(await this.connection.request("request",{clientRequest:{command:"ControlStream",url:e,control:t,audioVolume:n,position:i}})).serverResponse}resetAllTask(){var e;const t=Array.from(Dy(e=this.streamingTasks).call(e));this.terminate();for(const n of t)this.startLiveStreamingTask(n.url,n.mode).catch((e=>{this.onLiveStreamError&&this.onLiveStreamError(n.url,e)}))}terminate(){this.cancelToken&&this.cancelToken.cancel(),this.streamingTasks=new Map,this.isStartingStreamingTask=!1,this.statusError=new Map,this.cancelToken=gU.CancelToken.source(),this.uapResponse=void 0,this.connection&&this.connection.close(),this.connection=void 0}async connect(e){if(this.connection)throw new Wy(ZE.UNEXPECTED_ERROR,"live streaming connection has already connected");const t=await mC(this,jy.REQUEST_WORKER_MANAGER_LIST,e);return this.uapResponse=t,this.connection=new pk(t.workerToken,this.spec,this.wsRetryConfig,e),this.connection.on(Yy.WARNING,((e,t)=>this.onLiveStreamWarning&&this.onLiveStreamWarning(t,e))),this.connection.on(Yy.PUBLISH_STREAM_STATUS,(e=>this.handlePublishStreamServer(e))),this.connection.on(Yy.INJECT_STREAM_STATUS,(e=>this.handleInjectStreamServerStatus(e))),this.connection.on(Yy.REQUEST_NEW_ADDRESS,((t,n)=>{if(!this.connection)return n(new Wy(ZE.UNEXPECTED_ERROR,"can not get new live streaming address list"));mC(this,jy.REQUEST_WORKER_MANAGER_LIST,e).then((e=>{this.uapResponse=e,t(e.addressList)})).catch(n)})),await this.connection.init(t.addressList),this.connection}handlePublishStreamServer(e){const t=e.serverStatus&&e.serverStatus.url||"empty_url",n=this.streamingTasks.get(t),i=e.reason;switch(e.code){case Xy.PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN:case Xy.PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT:case Xy.PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE:case Xy.PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH:{const i=new Wy(ZE.LIVE_STREAMING_CDN_ERROR,"",{code:e.code});if(n)return YU.error(i.toString()),this.onLiveStreamError&&this.onLiveStreamError(t,i);if(!this.isStartingStreamingTask)return;this.statusError.set(t,i)}case Xy.LIVE_STREAM_RESPONSE_FAILED_LOAD_IMAGE:{const e=new Wy(ZE.LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE,i);return this.onLiveStreamWarning&&this.onLiveStreamWarning(t,e)}case Xy.LIVE_STREAM_RESPONSE_WORKER_LOST:case Xy.LIVE_STREAM_RESPONSE_WORKER_QUIT:{var r;if(!this.connection)return;this.connection.tryNextAddress();const t=Array.from(Dy(r=this.streamingTasks).call(r));for(const n of t)n.abortTask?n.abortTask():(YU.warning("[".concat(this.spec.clientId,"] publish stream status code"),e.code,"try to republish",n.url),this.startLiveStreamingTask(n.url,n.mode,new Wy(ZE.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"",{code:e.code})).then((()=>{YU.debug("[".concat(this.spec.clientId,"] republish live stream success"),n.url)})).catch((e=>{YU.error(e.toString()),this.onLiveStreamError&&this.onLiveStreamError(n.url,e)})));return}}}handleInjectStreamServerStatus(e){const t=Number(e.uid),n=e.serverStatus&&e.serverStatus.url;switch(e.code){case 200:return void(this.onInjectStatusChange&&this.onInjectStatusChange(Sy.INJECT_STREAM_STATUS_START_SUCCESS,t,n));case 451:return this.onInjectStatusChange&&this.onInjectStatusChange(Sy.INJECT_STREAM_STATUS_START_ALREADY_EXISTS,t,n),void this.streamingTasks.delete(n);case 453:return this.onInjectStatusChange&&this.onInjectStatusChange(Sy.INJECT_STREAM_STATUS_START_UNAUTHORIZED,t,n),void this.streamingTasks.delete(n);case 470:return this.onInjectStatusChange&&this.onInjectStatusChange(Sy.INJECT_STREAM_STATUS_BROKEN,t,n),void this.streamingTasks.delete(n);case 499:return this.onInjectStatusChange&&this.onInjectStatusChange(Sy.INJECT_STREAM_STATUS_START_TIMEOUT,t,n),void this.streamingTasks.delete(n);default:return void YU.debug("inject stream server status",e)}}hasUrl(e){return this.streamingTasks.has(e)}}class Ek{constructor(){ih(this,"destChannelMediaInfos",new Map),ih(this,"srcChannelMediaInfo",void 0)}setSrcChannelInfo(e){ab(e),this.srcChannelMediaInfo=e}addDestChannelInfo(e){ab(e),this.destChannelMediaInfos.set(e.channelName,e)}removeDestChannelInfo(e){Oy(e),this.destChannelMediaInfos.delete(e)}getSrcChannelMediaInfo(){return this.srcChannelMediaInfo}getDestChannelMediaInfo(){return this.destChannelMediaInfos}}function Ck(e){if(!(e instanceof Ek))return new Wy(ZE.INVALID_PARAMS,"Config should be instance of [ChannelMediaRelayConfiguration]").throw();const t=e.getSrcChannelMediaInfo(),n=e.getDestChannelMediaInfo();return t?0===n.size?new Wy(ZE.INVALID_PARAMS,"destChannelMediaInfo should not be empty").throw():void 0:new Wy(ZE.INVALID_PARAMS,"srcChannelMediaInfo should not be empty").throw()}class Ik extends nC{constructor(e,t,n){super(),ih(this,"ws",void 0),ih(this,"requestId",1),ih(this,"heartBeatTimer",void 0),ih(this,"joinInfo",void 0),ih(this,"clientId",void 0),ih(this,"onOpen",(()=>{this.emit("open"),this.startHeartBeatCheck()})),ih(this,"onClose",(e=>{this.emit("close"),this.dispose()})),ih(this,"onMessage",(e=>{const t=JSON.parse(e.data);if(!t||"serverResponse"!==t.command||!t.requestId)return t&&"serverStatus"===t.command&&t.serverStatus&&t.serverStatus.command?(this.emit("status",t.serverStatus),void this.emit(t.serverStatus.command,t.serverStatus)):void 0;this.emit("req_".concat(t.requestId),t)})),this.joinInfo=e,this.clientId=t,this.ws=new $b("cross-channel-".concat(this.clientId),n),this.ws.on(vy.RECONNECTING,(()=>{this.ws.reconnectMode="retry",this.emit("reconnecting")})),this.ws.on(vy.CONNECTED,this.onOpen),this.ws.on(vy.ON_MESSAGE,this.onMessage),this.ws.on(vy.CLOSED,this.onClose)}isConnect(){return"connected"===this.ws.state}sendMessage(e){const t=this.requestId++;return e.requestId=t,e.seq=t,this.ws.sendMessage(e),t}waitStatus(e){return new tE(((t,n)=>{const i=window.setTimeout((()=>{n(new Wy(ZE.TIMEOUT,"wait status timeout, status: ".concat(e)))}),5e3);this.once(e,(r=>{window.clearTimeout(i),r.state&&0!==r.state?n(new Wy(ZE.CROSS_CHANNEL_WAIT_STATUS_ERROR,"wait status error, status: ".concat(e))):t(void 0)})),this.once("dispose",(()=>{window.clearTimeout(i),n(new Wy(ZE.WS_ABORT))}))}))}async request(e){if("closed"===this.ws.state)throw new Wy(ZE.WS_DISCONNECT);const t=()=>new tE(((e,t)=>{this.ws.once(vy.CLOSED,(()=>t(new Wy(ZE.WS_ABORT)))),this.ws.once(vy.CONNECTED,e)}));"connected"!==this.ws.state&&await t();const n=this.sendMessage(e),i=new tE(((e,t)=>{const i=()=>{t(new Wy(ZE.WS_ABORT))};this.ws.once(vy.RECONNECTING,i),this.ws.once(vy.CLOSED,i),this.once("req_".concat(n),e),VC(3e3).then((()=>{this.removeAllListeners("req_".concat(n)),this.ws.off(vy.RECONNECTING,i),this.ws.off(vy.CLOSED,i),t(new Wy(ZE.TIMEOUT,"cross channel ws request timeout"))}))})),r=await i;if(!r||200!==r.code)throw new Wy(ZE.CROSS_CHANNEL_SERVER_ERROR_RESPONSE,"response: ".concat(JSON.stringify(r)));return r}async connect(e){this.ws.removeAllListeners(vy.REQUEST_NEW_URLS),this.ws.on(vy.REQUEST_NEW_URLS,(t=>{t(e)})),await this.ws.init(e)}dispose(){this.clearHeartBeatCheck(),this.emit("dispose"),this.removeAllListeners(),this.ws.close()}sendPing(e){const t=this.requestId++;return e.requestId=t,this.ws.sendMessage(e),t}startHeartBeatCheck(){this.heartBeatTimer&&window.clearInterval(this.heartBeatTimer),this.heartBeatTimer=window.setInterval((()=>{this.sendPing({command:"ping",appId:this.joinInfo.appId,cname:this.joinInfo.cname,uid:this.joinInfo.uid.toString(),sid:this.joinInfo.sid,ts:+new Date,requestId:0})}),3e3)}clearHeartBeatCheck(){window.clearInterval(this.heartBeatTimer),this.heartBeatTimer=void 0}}class Qk extends nC{set state(e){e!==this._state&&(e!==qy.RELAY_STATE_FAILURE&&(this.errorCode=$y.RELAY_OK),this.emit("state",e,this.errorCode),this._state=e)}get state(){return this._state}constructor(e,t,n,i,r){super(),ih(this,"joinInfo",void 0),ih(this,"sid",void 0),ih(this,"clientId",void 0),ih(this,"cancelToken",gU.CancelToken.source()),ih(this,"workerToken",void 0),ih(this,"requestId",0),ih(this,"signal",void 0),ih(this,"prevChannelMediaConfig",void 0),ih(this,"httpRetryConfig",void 0),ih(this,"_resolution",void 0),ih(this,"_state",qy.RELAY_STATE_IDLE),ih(this,"errorCode",$y.RELAY_OK),ih(this,"onStatus",(e=>{YU.debug("[".concat(this.clientId,"] ChannelMediaStatus: ").concat(JSON.stringify(e))),e&&e.command&&("onAudioPacketReceived"===e.command&&this.emit("event",zy.PACKET_RECEIVED_AUDIO_FROM_SRC),"onVideoPacketReceived"===e.command&&this.emit("event",zy.PACKET_RECEIVED_VIDEO_FROM_SRC),"onSrcTokenPrivilegeDidExpire"===e.command&&(this.errorCode=$y.SRC_TOKEN_EXPIRED,this.state=qy.RELAY_STATE_FAILURE),"onDestTokenPrivilegeDidExpire"===e.command&&(this.errorCode=$y.DEST_TOKEN_EXPIRED,this.state=qy.RELAY_STATE_FAILURE))})),ih(this,"onReconnect",(async()=>{YU.debug("[".concat(this.clientId,"] ChannelMediaSocket disconnect, reconnecting")),this.emit("event",zy.NETWORK_DISCONNECTED),this.state=qy.RELAY_STATE_IDLE,this.prevChannelMediaConfig&&this.sendStartRelayMessage(this.prevChannelMediaConfig).catch((e=>{this.state!==qy.RELAY_STATE_IDLE&&(YU.error("auto restart channel media relay failed",e.toString()),this.errorCode=$y.SERVER_CONNECTION_LOST,this.state=qy.RELAY_STATE_FAILURE)}))})),this.joinInfo=e,this.clientId=t,this.sid=WC(),this.signal=new Ik(this.joinInfo,this.clientId,n),this.httpRetryConfig=i,this._resolution=r}async startChannelMediaRelay(e){if(this.state!==qy.RELAY_STATE_IDLE)throw new Wy(ZE.INVALID_OPERATION);this.state=qy.RELAY_STATE_CONNECTING,await this.connect(),YU.debug("[".concat(this.clientId,"] startChannelMediaRelay: connect success"));try{await this.sendStartRelayMessage(e)}catch(e){if(e.data&&e.data.serverResponse&&"SetSourceChannel"===e.data.serverResponse.command)throw new Wy(ZE.CROSS_CHANNEL_FAILED_JOIN_SRC);if(e.data&&e.data.serverResponse&&"SetDestChannelStatus"===e.serverResponse.command)throw new Wy(ZE.CROSS_CHANNEL_FAILED_JOIN_DEST);if(e.data&&e.data.serverResponse&&"StartPacketTransfer"===e.serverResponse.command)throw new Wy(ZE.CROSS_CHANNEL_FAILED_PACKET_SENT_TO_DEST);throw e}this.prevChannelMediaConfig=e}async updateChannelMediaRelay(e){if(this.state!==qy.RELAY_STATE_RUNNING)throw new Wy(ZE.INVALID_OPERATION);await this.sendUpdateMessage(e),this.prevChannelMediaConfig=e}async setVideoProfile(e){if(this._resolution=e,this.state!==qy.RELAY_STATE_RUNNING)throw new Wy(ZE.INVALID_OPERATION);const t=this.genMessage(Hy.SetVideoProfile);await this.signal.request(t),YU.debug("[".concat(this.clientId,"] startChannelMediaRelay: setVideoProfile success"))}async stopChannelMediaRelay(){await this.sendStopRelayMessage(),YU.debug("[".concat(this.clientId,"] stopChannelMediaRelay: send stop message success")),this.state=qy.RELAY_STATE_IDLE,this.dispose()}dispose(){YU.debug("[".concat(this.clientId,"] disposeChannelMediaRelay")),this.cancelToken.cancel(),this.cancelToken=gU.CancelToken.source(),this.state=qy.RELAY_STATE_IDLE,this.emit("dispose"),this.signal.dispose(),this.prevChannelMediaConfig=void 0}async connect(){const e=await UR(this.joinInfo,this.cancelToken.token,this.httpRetryConfig);this.workerToken=e.workerToken,await this.signal.connect(e.addressList),this.emit("event",zy.NETWORK_CONNECTED),this.signal.on("status",this.onStatus),this.signal.on("reconnecting",this.onReconnect)}async sendStartRelayMessage(e){const t=this.genMessage(Hy.StopPacketTransfer);await this.signal.request(t),await this.signal.waitStatus("Normal Quit"),YU.debug("[".concat(this.clientId,"] startChannelMediaRelay: StopPacketTransfer success"));const n=this.genMessage(Hy.SetSdkProfile,e);await this.signal.request(n),YU.debug("[".concat(this.clientId,"] startChannelMediaRelay: SetSdkProfile success"));const i=this.genMessage(Hy.SetSourceChannel,e);await this.signal.request(i),await this.signal.waitStatus("SetSourceChannelStatus"),this.emit("event",zy.PACKET_JOINED_SRC_CHANNEL),YU.debug("[".concat(this.clientId,"] startChannelMediaRelay: SetSourceChannel success"));const r=this.genMessage(Hy.SetSourceUserId,e);await this.signal.request(r),YU.debug("[".concat(this.clientId,"] startChannelMediaRelay: SetSourceUserId success"));const o=this.genMessage(Hy.SetDestChannel,e);await this.signal.request(o),await this.signal.waitStatus("SetDestChannelStatus"),this.emit("event",zy.PACKET_JOINED_DEST_CHANNEL),YU.debug("[".concat(this.clientId,"] startChannelMediaRelay: SetDestChannel success"));const a=this.genMessage(Hy.StartPacketTransfer,e);await this.signal.request(a),this.emit("event",zy.PACKET_SENT_TO_DEST_CHANNEL),this.state=qy.RELAY_STATE_RUNNING,YU.debug("[".concat(this.clientId,"] startChannelMediaRelay: StartPacketTransfer success")),this.setVideoProfile(this._resolution)}async sendUpdateMessage(e){const t=this.genMessage(Hy.UpdateDestChannel,e);await this.signal.request(t),this.emit("event",zy.PACKET_UPDATE_DEST_CHANNEL),YU.debug("[".concat(this.clientId,"] sendUpdateMessage: UpdateDestChannel success"))}async sendStopRelayMessage(){const e=this.genMessage(Hy.StopPacketTransfer);await this.signal.request(e),YU.debug("[".concat(this.clientId,"] sendStopRelayMessage: StopPacketTransfer success"))}genMessage(e,t){const n=[],i=[],r=[];this.requestId+=1;const o={appId:this.joinInfo.appId,cname:this.joinInfo.cname,uid:this.joinInfo.uid.toString(),sdkVersion:vU,sid:this.sid,ts:Date.now(),requestId:this.requestId,seq:this.requestId,allocate:!0,clientRequest:{}};"4.20.0"===o.sdkVersion&&(o.sdkVersion="0.0.1");let a=null,s=null;switch(e){case Hy.SetSdkProfile:return o.clientRequest={command:"SetSdkProfile",type:"multi_channel"},o;case Hy.SetSourceChannel:if(s=t&&t.getSrcChannelMediaInfo(),!s)throw new Wy(ZE.UNEXPECTED_ERROR,"can not find source config");return o.clientRequest={command:"SetSourceChannel",uid:"0",channelName:s.channelName,token:s.token||this.joinInfo.appId},o;case Hy.SetSourceUserId:if(s=t&&t.getSrcChannelMediaInfo(),!s)throw new Wy(ZE.UNEXPECTED_ERROR,"can not find source config");return o.clientRequest={command:"SetSourceUserId",uid:s.uid+""},o;case Hy.SetDestChannel:if(a=t&&t.getDestChannelMediaInfo(),!a)throw new Wy(ZE.UNEXPECTED_ERROR,"can not find dest config");return a.forEach((e=>{n.push(e.channelName),i.push(e.uid+""),r.push(e.token||this.joinInfo.appId)})),o.clientRequest={command:"SetDestChannel",channelName:n,uid:i,token:r},o;case Hy.StartPacketTransfer:return o.clientRequest={command:"StartPacketTransfer"},o;case Hy.Reconnect:return o.clientRequest={command:"Reconnect"},o;case Hy.StopPacketTransfer:return o.clientRequest={command:"StopPacketTransfer"},o;case Hy.UpdateDestChannel:if(a=t&&t.getDestChannelMediaInfo(),!a)throw new Wy(ZE.UNEXPECTED_ERROR,"can not find dest config");return a.forEach((e=>{n.push(e.channelName),i.push(e.uid+""),r.push(e.token||this.joinInfo.appId)})),o.clientRequest={command:"UpdateDestChannel",channelName:n,uid:i,token:r},o;case Hy.SetVideoProfile:o.clientRequest={command:"SetVideoProfile",width:this._resolution.width,height:this._resolution.height}}return o}}function Uk(e){var t={},n=!1;function i(t,i){return n=!0,{done:!1,value:new C_(i=new v_((function(n){n(e[t](i))})),1)}}return t[void 0!==Vu&&$u||"@@iterator"]=function(){return this},t.next=function(e){return n?(n=!1,e):i("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(n)throw n=!1,e;return i("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return n?(n=!1,e):i("return",e)}),t}var yk=i(R_);function bk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function vk(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bk(Object(n),!0).forEach((function(t){ih(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bk(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Rk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Sk(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rk(Object(n),!0).forEach((function(t){ih(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rk(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}class Fk extends Db{get peerConnectionState(){return this.peerConnection.connectionState}get iceConnectionState(){return this.peerConnection.iceConnectionState}get currentLocalDescription(){return this.peerConnection.currentLocalDescription}get currentRemoteDescription(){return this.peerConnection.currentRemoteDescription}get localCodecs(){return[...new Set(this.localCapabilities&&this.localCapabilities.videoCodecs.map((e=>e.rtpMap&&e.rtpMap.encodingName.toLowerCase()||"")).filter((e=>{var t;return Fi(t=Object.keys(VU)).call(t,e)})))]}constructor(e,t){super(e,t),ih(this,"store",void 0),ih(this,"peerConnection",void 0),ih(this,"remoteSDP",void 0),ih(this,"initialOffer",void 0),ih(this,"statsFilter",void 0),ih(this,"useRTX",!1),ih(this,"localCapabilities",void 0),ih(this,"localCandidateCount",0),ih(this,"allCandidatesReceived",!1),ih(this,"establishPromise",void 0),ih(this,"mutex",new YC("P2PConnection-mutex")),this.store=t,this.peerConnection=new RTCPeerConnection(Fk.resolvePCConfiguration(e),{optional:[{googDscp:!0}]}),this.statsFilter=hw(this.peerConnection,NU("STATS_UPDATE_INTERVAL"),void 0,QE()?1200:void 0),this.bindPCEvents(),this.bindStatsEvents(),this.store.p2pId=this.store.p2pId+1,this.establishPromise=this.establish()}async establish(){try{const e=await this.peerConnection.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});if(!e.sdp)throw new Error("Cannot get initialOffer.sdp when trying to establish PeerConnection.");const t=fw(e.sdp),n=gw(e.sdp,{filterRTX:!this.useRTX,filterVideoFec:NU("FILTER_VIDEO_FEC"),filterAudioFec:NU("FILTER_AUDIO_FEC"),filterAudioCodec:["opus"]});return this.localCapabilities=n,this.initialOffer=e,Sk(Sk({},t),{},{rtpCapabilities:{send:{audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},recv:{audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},sendrecv:n},offerSDP:e.sdp})}catch(e){throw new WE(ZE.GET_LOCAL_CONNECTION_PARAMS_FAILED,e.toString())}}async connect(e,t,n,i,r,o){try{if(!this.initialOffer)throw new Error("Cannot establish P2PConnection without initial offer.");this.remoteSDP=new class{constructor(e){ih(this,"sessionDesc",void 0),ih(this,"localCapabilities",void 0),ih(this,"rtpCapabilities",void 0),ih(this,"candidates",void 0),ih(this,"iceParameters",void 0),ih(this,"dtlsParameters",void 0),ih(this,"setup",void 0),ih(this,"currentMidIndex",void 0),ih(this,"cname",void 0),e=SC(e);const{remoteIceParameters:t,remoteDtlsParameters:n,candidates:i,remoteRTPCapabilities:r,remoteSetup:o,localCapabilities:a,sdkCodec:s,cname:c}=e,l=Y_.parse("v=0\no=- 0 0 IN IP4 127.0.0.1\ns=AgoraGateway\nt=0 0\na=group:BUNDLE audio video\na=msid-semantic: WMS\na=ice-lite\nm=audio 9 UDP/TLS/RTP/SAVPF 0\nc=IN IP4 127.0.0.1\na=rtcp:9 IN IP4 0.0.0.0\na=sendrecv\na=rtcp-mux\na=rtcp-rsize\na=mid:audio\nm=video 9 UDP/TLS/RTP/SAVPF 0\nc=IN IP4 127.0.0.1\na=rtcp:9 IN IP4 0.0.0.0\na=sendrecv\na=rtcp-mux\na=rtcp-rsize\na=mid:video\n");this.rtpCapabilities=r,this.candidates=i,this.iceParameters=t,this.dtlsParameters=n,this.setup=o,this.localCapabilities=a,this.cname=c;for(let d=0;d<l.mediaDescriptions.length;d++){const e=l.mediaDescriptions[d];if(e.attributes.iceUfrag=t.iceUfrag,e.attributes.icePwd=t.icePwd,e.attributes.fingerprints=n.fingerprints,e.attributes.candidates=i,e.attributes.setup=o,"video"===e.media.mediaType){e.media.fmts=r.videoCodecs.map((e=>e.payloadType.toString(10)));let t=r.videoCodecs.filter((e=>{var t,n;return null===(t=e.rtpMap)||void 0===t?void 0:Fi(n=t.encodingName.toLowerCase()).call(n,s)}));0===t.length&&(t=r.videoCodecs),e.attributes.payloads=t,e.attributes.extmaps=r.videoExtensions}"audio"===e.media.mediaType&&(e.media.fmts=r.audioCodecs.map((e=>e.payloadType.toString(10))),e.attributes.payloads=r.audioCodecs,e.attributes.extmaps=r.audioExtensions),l.mediaDescriptions[d]=this.mungMediaDesc(e)}this.sessionDesc=l,this.currentMidIndex=l.mediaDescriptions.length-1}toString(){return Y_.print(this.sessionDesc)}send(e,t,n){const{ssrcs:i,ssrcGroups:r}=Cw(t,this.cname),o=this.sessionDesc.mediaDescriptions.find((t=>e===hb.VIDEO?"video"===t.media.mediaType:"audio"===t.media.mediaType)),a=i[0].attributes.label,s=i[0].attributes.mslabel;return o.attributes.ssrcs=o.attributes.ssrcs.concat(i),o.attributes.ssrcGroups=o.attributes.ssrcGroups.concat(r),{id:a,mslabel:s}}batchSend(e){return e.map((e=>{let{kind:t,ssrcMsg:n}=e;return this.send(t,n,void 0)}))}stopSending(e){this.sessionDesc.mediaDescriptions.forEach((t=>{const n=[],i=[],r=[];t.attributes.ssrcs.forEach((t=>{Fi(e).call(e,t.attributes.label||"")?r.push(t):n.push(t)})),t.attributes.ssrcGroups.forEach((e=>{var t;Fi(t=r.map((e=>e.ssrcId))).call(t,e.ssrcIds[0])||i.push(e)})),t.attributes.ssrcs=n,t.attributes.ssrcGroups=i}))}mute(e){const t=this.sessionDesc.mediaDescriptions.find((t=>t.attributes.mid===e));if(!t)throw new Error("mediaDescription not found with ".concat(e," in remote SDP when calling RemoteSDP.mute."));t.attributes.direction="inactive"}unmute(e){const t=this.sessionDesc.mediaDescriptions.find((t=>t.attributes.mid===e));if(!t)throw new Error("mediaDescription not found with ".concat(e," in remote SDP when calling RemoteSDP.unmute."));t.attributes.direction="sendonly"}receive(e,t,n){e.forEach(((e,t)=>{const n=e._mediaStreamTrack,i=this.sessionDesc.mediaDescriptions.findIndex((e=>e.attributes.mid===n.kind)),r=this.mungRecvMediaDsec(this.sessionDesc.mediaDescriptions[i],e);this.sessionDesc.mediaDescriptions[i]=r}))}stopReceiving(e){}updateCandidates(e){e===Ab.TCP?this.candidates.forEach((e=>{-1===this.candidates.findIndex((t=>"tcp"===t.transport&&t.connectionAddress===e.connectionAddress&&t.port===e.port))&&this.candidates.push(vk(vk({},e),{},{foundation:"tcpcandidate",priority:Number(e.priority)-1+"",transport:"tcp",port:Number(e.port)+90+""}))})):this.candidates=this.candidates.filter((e=>"tcp"!==e.transport));for(const t of this.sessionDesc.mediaDescriptions)t.attributes.candidates=this.candidates}restartICE(e){e=SC(e),this.iceParameters=e,this.sessionDesc.mediaDescriptions.forEach((t=>{t.attributes.iceUfrag=e.iceUfrag,t.attributes.icePwd=e.icePwd}))}predictReceivingMids(e){const t=[];for(let n=0;n<e;n++)t.push((this.currentMidIndex+n+1).toString(10));return t}mungRecvMediaDsec(e,t){const n=SC(e);return Iw(n,t),Uw(n,t),n}updateRecvMedia(e,t){const n=this.sessionDesc.mediaDescriptions.findIndex((t=>t.attributes.mid===e));if(-1!==n){const e=this.mungRecvMediaDsec(this.sessionDesc.mediaDescriptions[n],t);this.sessionDesc.mediaDescriptions[n]=e}}bumpMid(e){this.currentMidIndex+=e}updateTrackLabel(e,t,n){const i=this.sessionDesc.mediaDescriptions.find((t=>e===hb.VIDEO?"video"===t.attributes.mid:"audio"===t.attributes.mid));if(i){const e=i.attributes.ssrcs.find((e=>e.attributes.label===t));var r;e&&(e.attributes.label=n,null===(r=e.attributes.msid)||void 0===r||r.replace(t,n))}}mungMediaDesc(e){const t=SC(e);return Qw(t),function(e){const t=e.attributes.extmaps.find((e=>"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01"===e.extensionName));t&&e.attributes.extmaps.splice(e.attributes.extmaps.indexOf(t),1),e.attributes.payloads.forEach((e=>{const t=e.rtcpFeedbacks.findIndex((e=>"transport-cc"===e.type));-1!==t&&e.rtcpFeedbacks.splice(t,1)}))}(t),t}getSSRC(e){for(const t of this.sessionDesc.mediaDescriptions)for(const n of t.attributes.ssrcs)if(n.attributes.label===e)return[n]}}({remoteIceParameters:e,remoteDtlsParameters:t,candidates:n,remoteRTPCapabilities:i.send,remoteSetup:r,localCapabilities:this.localCapabilities,sdkCodec:this.store.codec,cname:o});const a=this.remoteSDP.toString();await this.peerConnection.setLocalDescription(this.initialOffer),await this.peerConnection.setRemoteDescription({type:"answer",sdp:a})}catch(e){throw new WE(ZE.EXCHANGE_SDP_FAILED,"P2PConnection.connect failed; ".concat(e.toString()))}}async updateRemoteRTPCapabilities(e,t){throw new WE(ZE.NOT_SUPPORTED,"Planb mode does not support createDataChannels.")}send(e,t){var n=this;return B_((function*(){const i=yield I_(n.mutex.lock());try{if(!n.remoteSDP)throw new Error("Cannot call P2PConnection.send before remote SDP created");const i=e.map((e=>n.peerConnection.addTrack(e._mediaStreamTrack))),r=yield I_(n.peerConnection.createOffer()),o=Y_.parse(r.sdp),a=e.map((e=>{const t=e._mediaStreamTrack,i=o.mediaDescriptions.find((e=>e.attributes.mid===t.kind));if(!i)throw new Error("Cannot extract ssrc from mediaDescription.");return function(e,t,n){const i=e.attributes.ssrcs.filter((e=>e.attributes.label===t)),r=e.attributes.ssrcGroups;if(0===i.length)throw new Error("Cannot extract ssrc from plan-b SDP.");if(r&&i.length>1){const e=r.find((e=>-1!==e.ssrcIds.indexOf(i[0].ssrcId)));return e?[{ssrcId:e.ssrcIds[0],rtx:n?e.ssrcIds[1]:void 0}]:[{ssrcId:i[0].ssrcId}]}return[{ssrcId:i[0].ssrcId}]}(i,t.id,n.useRTX)}));let s;try{s=yield a}catch(e){throw i.forEach((e=>{IE()&&e.replaceTrack(null),n.peerConnection.removeTrack(e)})),e}const c=n.mungSendOfferSDP(r.sdp,e);n.remoteSDP.receive(e,t,s);const l=n.remoteSDP.toString();return yield I_(n.peerConnection.setLocalDescription({type:"offer",sdp:c})),yield I_(n.applySendEncodings(i,e)),yield I_(n.peerConnection.setRemoteDescription({type:"answer",sdp:l})),e.map(((e,t)=>{const n=e._mediaStreamTrack.id;return{localSSRC:a[t],id:n}}))}catch(e){throw new WE(ZE.EXCHANGE_SDP_FAILED,"P2PConnection.send failed; ".concat(e.toString()))}finally{i()}}))()}async stopSending(e){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.stopSending before remote SDP created");const t=this.peerConnection.getSenders().filter((t=>{var n;return-1!==e.indexOf((null===(n=t.track)||void 0===n?void 0:n.id)||"")}));if(t.length!==e.length)throw new Error("Transceivers' length doesn't match mids' length when trying to call P2PConnection.stopSending.");t.map((e=>{IE()&&e.replaceTrack(null),this.peerConnection.removeTrack(e)}));const n=await this.peerConnection.createOffer();await this.peerConnection.setLocalDescription(n),this.remoteSDP.stopReceiving(e);const i=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:"answer",sdp:i})}catch(e){throw new WE(ZE.EXCHANGE_SDP_FAILED,"P2PConnection.stopSending failed; ".concat(e.toString()))}}async receive(e,t,n,i){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.receive ".concat(e," before remoteSDP created."));const{id:n,mslabel:r}=this.remoteSDP.send(e,t,i),o=new tE(((t,i)=>{const o=setTimeout((()=>{i(new Error("Cannot receive track, id: ".concat(n)))}),1e4),a=i=>{const s=AE();if(("Safari"===s.name&&11===Number(s.version)||UE())&&i.track.id!==n&&i.streams[0].id===r){var c;const r=i.streams[0].getTracks()[0];return null===(c=this.remoteSDP)||void 0===c||c.updateTrackLabel(e,n,i.track.id),this.peerConnection.removeEventListener("track",a),clearTimeout(o),void t(r)}if(i.track.id===n)return this.peerConnection.removeEventListener("track",a),clearTimeout(o),void t(i.track)};this.peerConnection.addEventListener("track",a)})),a=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:"offer",sdp:a});const s=await this.peerConnection.createAnswer();return await this.peerConnection.setLocalDescription(s),{track:await o,id:n}}catch(e){throw new WE(ZE.EXCHANGE_SDP_FAILED,"P2PConnection.receive failed; ".concat(e.toString()))}}async stopReceiving(e){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.stopReceiving before remote SDP created.");this.remoteSDP.stopSending(e);const t=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:"offer",sdp:t});const n=await this.peerConnection.createAnswer();await this.peerConnection.setLocalDescription(n)}catch(e){throw new WE(ZE.EXCHANGE_SDP_FAILED,"P2PConnection stopReceiving failed; ".concat(e.toString()))}}async muteRemote(e){}async unmuteRemote(e){}async muteLocal(e){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.muteLocal before remote SDP created.");const t=this.peerConnection.getSenders().filter((t=>{var n;return-1!==e.indexOf((null===(n=t.track)||void 0===n?void 0:n.id)||"")}));if(t.length!==e.length)throw new Error("sender' length doesn't match mids' length.");t.map((e=>{if(IE()&&e.track)e.track.enabled=!1;else{const t=e.getParameters();t.encodings.forEach((e=>e.active=!1)),e.setParameters(t)}}))}catch(e){throw new WE(ZE.EXCHANGE_SDP_FAILED,"P2PConnection.muteLocal failed; ".concat(e.toString()))}}async unmuteLocal(e){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.unmuteLocal before remote SDP created.");const t=this.peerConnection.getSenders().filter((t=>{var n;return-1!==e.indexOf((null===(n=t.track)||void 0===n?void 0:n.id)||"")}));if(t.length!==e.length)throw new Error("Senders' length doesn't match mids' length.");t.map((async e=>{if(IE()&&e.track)e.track.enabled=!0;else{const t=e.getParameters();t.encodings.forEach((e=>e.active=!0)),await e.setParameters(t)}}));const n=await this.peerConnection.createOffer();await this.peerConnection.setLocalDescription(n);const i=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:"answer",sdp:i})}catch(e){throw new WE(ZE.EXCHANGE_SDP_FAILED,"P2PConnection.unmuteLocal failed; ".concat(e.toString()))}}restartICE(e){var t=this;return B_((function*(){const n=yield I_(t.mutex.lock("From P2PConnection.restartICE"));try{if(!t.remoteSDP)throw new Error("Cannot restartICE before remoteSDP created.");if(FR().supportPCSetConfiguration){const n=t.peerConnection.getConfiguration(),i=e===Ab.RELAY?"relay":"all";n.iceTransportPolicy!==i&&(YU.debug("[".concat(t.store.clientId,"] restartICE change iceTransportPolicy from [").concat(n.iceTransportPolicy,"] to [").concat(i,"]")),n.iceTransportPolicy=i,t.peerConnection.setConfiguration(n))}else if(e===Ab.RELAY)return;e!==Ab.RELAY&&t.remoteSDP.updateCandidates(e);const n=yield I_(t.peerConnection.createOffer({iceRestart:!0}));if(!n.sdp)throw new Error("Cannot restartICE because restart offer SDP does not exist.");const i=fw(n.sdp),{remoteIceParameters:r}=yield i.iceParameters;t.remoteSDP.restartICE(r);const o=t.remoteSDP.toString();yield I_(t.peerConnection.setLocalDescription(n)),yield I_(t.peerConnection.setRemoteDescription({type:"answer",sdp:o}))}catch(e){YU.warning("[".concat(t.store.clientId,"] restart ICE failed, abort operation"),e)}finally{n()}}))()}close(){var e;this.peerConnection.close(),null===(e=this.onConnectionStateChange)||void 0===e||e.call(this,"closed"),this.unbindPCEvents(),this.unbindStatsEvents(),this.removeAllListeners(),this.statsFilter.destroy()}getStats(){return this.statsFilter.getStats()}getRemoteVideoIsReady(e){return this.statsFilter.getVideoIsReady(e)}async updateEncoderConfig(e,t){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.updateEncoderConfig before remote SDP created.");const e=await this.peerConnection.createOffer(),n=this.mungSendOfferSDP(e.sdp,[t]);this.remoteSDP.updateRecvMedia(t._mediaStreamTrack.kind,t);const i=this.remoteSDP.toString();await this.peerConnection.setLocalDescription({type:"offer",sdp:n}),await this.peerConnection.setRemoteDescription({type:"answer",sdp:i})}catch(e){throw new WE(ZE.EXCHANGE_SDP_FAILED,e.toString())}}async updateSendParameters(e,t){const n=this.peerConnection.getSenders().filter((t=>{var n;return(null===(n=t.track)||void 0===n?void 0:n.id)===e}));1===n.length&&await this.applySendEncodings(n,[t])}setStatsRemoteVideoIsReady(e,t){this.statsFilter.setVideoIsReady2(e,t)}async replaceTrack(e,t){const n=this.peerConnection.getSenders().find((e=>{var n;return(null===(n=e.track)||void 0===n?void 0:n.id)===t}));n&&await n.replaceTrack(e._mediaStreamTrack)}createDataChannels(e,t){throw new WE(ZE.NOT_SUPPORTED,"Planb mode does not support createDataChannels.")}stopDataChannels(e){throw new WE(ZE.NOT_SUPPORTED,"Planb mode does not support stopDataChannels.")}bindPCEvents(){this.peerConnection.oniceconnectionstatechange=()=>{var e;null===(e=this.onICEConnectionStateChange)||void 0===e||e.call(this,this.peerConnection.iceConnectionState)},this.peerConnection.onconnectionstatechange=()=>{var e;null===(e=this.onConnectionStateChange)||void 0===e||e.call(this,this.peerConnection.connectionState)},this.peerConnection.onicecandidate=e=>{e.candidate?this.localCandidateCount+=1:(this.peerConnection.onicecandidate=null,this.allCandidatesReceived=!0,YU.debug("[".concat(this.store.clientId,"] [pc-").concat(this.store.p2pId,"] local candidate count"),this.localCandidateCount))},setTimeout((()=>{this.allCandidatesReceived||(this.allCandidatesReceived=!0,YU.debug("[".concat(this.store.clientId,"] [pc-").concat(this.store.p2pId,"] onicecandidate timeout, local candidate count"),this.localCandidateCount))}),NU("CANDIDATE_TIMEOUT"))}unbindPCEvents(){this.peerConnection.oniceconnectionstatechange=null,this.peerConnection.onconnectionstatechange=null,this.peerConnection.onsignalingstatechange=null,this.peerConnection.onicecandidateerror=null,this.peerConnection.onicecandidate=null,this.peerConnection.ontrack=null}static resolvePCConfiguration(e){const t={iceServers:[],sdpSemantics:"plan-b"};return e.iceServers?t.iceServers=e.iceServers:e.turnServer&&"off"!==e.turnServer.mode&&(pC(e.turnServer.servers)?t.iceServers=e.turnServer.servers:(t.iceServers&&t.iceServers.push(...Fk.turnServerConfigToIceServers(e.turnServer.servers)),NU("USE_TURN_SERVER_OF_GATEWAY")&&t.iceServers&&e.turnServer.serversFromGateway&&t.iceServers.push(...Fk.turnServerConfigToIceServers(e.turnServer.serversFromGateway)),e.turnServer.servers.concat(e.turnServer.serversFromGateway||[]).forEach((e=>{e.forceturn&&(t.iceTransportPolicy="relay")})))),t}static turnServerConfigToIceServers(e){const t=[];return e.forEach((e=>{e.security?e.tcpport&&t.push({username:e.username,credential:e.password,credentialType:"password",urls:"turns:".concat(e.turnServerURL,":").concat(e.tcpport,"?transport=tcp")}):(e.udpport&&t.push({username:e.username,credential:e.password,credentialType:"password",urls:"turn:".concat(e.turnServerURL,":").concat(e.udpport,"?transport=udp")}),e.tcpport&&t.push({username:e.username,credential:e.password,credentialType:"password",urls:"turn:".concat(e.turnServerURL,":").concat(e.tcpport,"?transport=tcp")}))})),t}async updateRtpSenderEncodings(e,t){var n;if(t||(t=this.peerConnection.getSenders().find((t=>{var n;return(null===(n=t.track)||void 0===n?void 0:n.id)===e._mediaStreamTrack.id}))),!t)return YU.warn("[".concat(e.getTrackId(),"] no rtpSender found}"));if(!FR().supportSetRtpSenderParameters)return YU.warn("Browser not support set rtp-sender parameters");const i={},r={};if(e instanceof TF)switch(e._optimizationMode){case"motion":i.degradationPreference="maintain-framerate";break;case"detail":i.degradationPreference="maintain-resolution";break;default:i.degradationPreference="balanced"}if(NU("DSCP_TYPE")&&kE()){var o;const e=NU("DSCP_TYPE");Fi(o=["very-low","low","medium","high"]).call(o,e)&&(r.networkPriority=e)}const a=t.getParameters(),s=null===(n=a.encodings)||void 0===n?void 0:n[0];s&&Object.assign(s,r),Object.assign(a,i),YU.debug("[".concat(e.getTrackId(),"] updateRtpSenderEncodings: ").concat(JSON.stringify(a.encodings))),await t.setParameters(a)}async applySendEncodings(e,t){try{if(!FR().supportSetRtpSenderParameters)return;if(e.length!==t.length)return;for(let n=0;n<e.length;n++){const i=e[n],r=t[n];i&&r&&await this.updateRtpSenderEncodings(r,i)}}catch(e){YU.debug("[".concat(this.store.clientId,"] Apply RTPSendEncodings failed."))}}mungSendOfferSDP(e,t){const n=Y_.parse(e);return t.forEach(((e,t)=>{const i=e._mediaStreamTrack,r=n.mediaDescriptions.find((e=>e.attributes.mid===i.kind));r&&Iw(r,e)})),Y_.print(n)}bindStatsEvents(){this.statsFilter.onFirstAudioReceived=e=>{var t;null===(t=this.onFirstAudioReceived)||void 0===t||t.call(this,e)},this.statsFilter.onFirstVideoReceived=e=>{var t;null===(t=this.onFirstVideoReceived)||void 0===t||t.call(this,e)},this.statsFilter.onFirstAudioDecoded=e=>{var t;null===(t=this.onFirstAudioDecoded)||void 0===t||t.call(this,e)},this.statsFilter.onFirstVideoDecoded=(e,t,n)=>{var i;null===(i=this.onFirstVideoDecoded)||void 0===i||i.call(this,e,t,n)},this.statsFilter.onSelectedLocalCandidateChanged=(e,t)=>{var n;null===(n=this.onSelectedLocalCandidateChanged)||void 0===n||n.call(this,e,t)},this.statsFilter.onSelectedRemoteCandidateChanged=(e,t)=>{var n;null===(n=this.onSelectedRemoteCandidateChanged)||void 0===n||n.call(this,e,t)}}unbindStatsEvents(){this.statsFilter.onFirstAudioReceived=void 0,this.statsFilter.onFirstVideoReceived=void 0,this.statsFilter.onFirstAudioDecoded=void 0,this.statsFilter.onFirstVideoDecoded=void 0,this.statsFilter.onSelectedLocalCandidateChanged=void 0,this.statsFilter.onSelectedRemoteCandidateChanged=void 0}async batchReceive(e){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.batchReceive before remoteSDP created.");const t=this.remoteSDP.batchSend(e).map(((t,n)=>{let{id:i,mslabel:r}=t;const{kind:o}=e[n];return new tE(((e,t)=>{const n=setTimeout((()=>{t(new Error("Cannot receive track, id: ".concat(i)))}),1e4),a=t=>{const s=AE();if("Safari"===s.name&&11===Number(s.version)&&t.track.id!==i&&t.streams[0].id===r){var c;const r=t.streams[0].getTracks()[0];return null===(c=this.remoteSDP)||void 0===c||c.updateTrackLabel(o,i,t.track.id),this.peerConnection.removeEventListener("track",a),clearTimeout(n),void e({track:r,id:i})}if(t.track.id===i)return this.peerConnection.removeEventListener("track",a),clearTimeout(n),void e({track:t.track,id:i})};this.peerConnection.addEventListener("track",a)}))})),n=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:"offer",sdp:n});const i=await this.peerConnection.createAnswer();return await this.peerConnection.setLocalDescription(i),await tE.all(t)}catch(e){throw new WE(ZE.EXCHANGE_SDP_FAILED,"P2PConnection.receive failed; ".concat(e.toString()))}}async getRemoteSSRC(e){if(!this.remoteSDP)return;const t=this.remoteSDP.getSSRC(e);return null==t?void 0:t[0].ssrcId}setConfiguration(e){if(FR().supportPCSetConfiguration){const t=Fk.resolvePCConfiguration(e);this.peerConnection.setConfiguration(t)}}}function Bk(e,t,n){const i=e[t];if("function"!=typeof i)throw new Error("Cannot use mutex on object property.");return n.value=async function(){const e=this.mutex,n=await e.lock("Locking from P2PConnection.".concat(t));try{for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return await i.apply(this,o)}finally{n()}},n}function Tk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Nk(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tk(Object(n),!0).forEach((function(t){ih(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tk(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Vy([Bk,Zy("design:type",Function),Zy("design:paramtypes",[Object,Object,Array,Object,String,String]),Zy("design:returntype",tE)],Fk.prototype,"connect",null),Vy([Bk,Zy("design:type",Function),Zy("design:paramtypes",[Array]),Zy("design:returntype",tE)],Fk.prototype,"stopSending",null),Vy([Bk,Zy("design:type",Function),Zy("design:paramtypes",[String,Array,String,Object]),Zy("design:returntype",tE)],Fk.prototype,"receive",null),Vy([Bk,Zy("design:type",Function),Zy("design:paramtypes",[Array]),Zy("design:returntype",tE)],Fk.prototype,"stopReceiving",null),Vy([Bk,Zy("design:type",Function),Zy("design:paramtypes",[String]),Zy("design:returntype",tE)],Fk.prototype,"muteRemote",null),Vy([Bk,Zy("design:type",Function),Zy("design:paramtypes",[String]),Zy("design:returntype",tE)],Fk.prototype,"unmuteRemote",null),Vy([Bk,Zy("design:type",Function),Zy("design:paramtypes",[Array]),Zy("design:returntype",tE)],Fk.prototype,"muteLocal",null),Vy([Bk,Zy("design:type",Function),Zy("design:paramtypes",[Array]),Zy("design:returntype",tE)],Fk.prototype,"unmuteLocal",null),Vy([Bk,Zy("design:type",Function),Zy("design:paramtypes",[]),Zy("design:returntype",void 0)],Fk.prototype,"close",null),Vy([Bk,Zy("design:type",Function),Zy("design:paramtypes",[String,pS]),Zy("design:returntype",tE)],Fk.prototype,"updateEncoderConfig",null),Vy([Bk,Zy("design:type",Function),Zy("design:paramtypes",[String,pS]),Zy("design:returntype",tE)],Fk.prototype,"updateSendParameters",null),Vy([Bk,Zy("design:type",Function),Zy("design:paramtypes",[pS,String]),Zy("design:returntype",tE)],Fk.prototype,"replaceTrack",null),Vy([Bk,Zy("design:type",Function),Zy("design:paramtypes",[String]),Zy("design:returntype",tE)],Fk.prototype,"getRemoteSSRC",null);const _k="9",wk=4e4;function kk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Dk(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kk(Object(n),!0).forEach((function(t){ih(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kk(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}class Vk extends Db{get currentLocalDescription(){return this.peerConnection.currentLocalDescription}get currentRemoteDescription(){return this.peerConnection.currentRemoteDescription}get peerConnectionState(){return this.peerConnection.connectionState}get iceConnectionState(){return this.peerConnection.iceConnectionState}get dtlsTransportState(){var e,t;return null!==(e=null===(t=this.peerConnection.getReceivers()[0])||void 0===t||null===(t=t.transport)||void 0===t?void 0:t.state)&&void 0!==e?e:null}get localCodecs(){return[...new Set(this.localCapabilities&&this.localCapabilities.send.videoCodecs.map((e=>e.rtpMap&&e.rtpMap.encodingName.toLowerCase()||"")).filter((e=>{var t;return Fi(t=Object.keys(VU)).call(t,e)})))]}constructor(e,t){super(e,t),ih(this,"store",void 0),ih(this,"peerConnection",void 0),ih(this,"remoteSDP",void 0),ih(this,"initialOffer",void 0),ih(this,"transportEventReceiver",void 0),ih(this,"statsFilter",void 0),ih(this,"useXR",NU("USE_XR")),ih(this,"localCapabilities",void 0),ih(this,"remoteCodecs",void 0),ih(this,"localCandidateCount",0),ih(this,"allCandidatesReceived",!1),ih(this,"dataStreamChannelMap",new Map),ih(this,"establishPromise",void 0),ih(this,"mutex",new YC("P2PConnection-mutex")),this.store=t,this.peerConnection=new RTCPeerConnection(Vk.resolvePCConfiguration(e),{optional:[{googDscp:!0}]}),this.statsFilter=hw(this.peerConnection,NU("STATS_UPDATE_INTERVAL"),void 0,QE()?1200:void 0),this.bindPCEvents(),this.bindStatsEvents(),this.store.p2pId=this.store.p2pId+1,this.establishPromise=this.establish()}async updateRemoteRTPCapabilities(e,t){if(this.remoteCodecs=t,this.remoteSDP)if(this.remoteSDP.updateRemoteCodec(e,t,this.store.codec)){const e=await this.peerConnection.createOffer(),t=this.logSDPExchange(e.sdp||"","offer","local","muteLocal");await this.peerConnection.setLocalDescription(e);const n=this.remoteSDP.toString();null==t||t(n),await this.peerConnection.setRemoteDescription({type:"answer",sdp:n})}else YU.debug("[P2PConnection] updateRemoteRTPCapabilities no need to exchange SDP.");else YU.debug("[P2PConnection] cannot updateRemoteRTPCapabilities before remote SDP created, local codecs: ".concat(this.localCodecs,", codecs: ").concat(t))}async establish(){try{this.peerConnection.addTransceiver("video",{direction:"recvonly"}),this.peerConnection.addTransceiver("audio",{direction:"recvonly"});const e=await this.peerConnection.createOffer();if(!e.sdp)throw new Error("Cannot get initialOffer.sdp when trying to establish PeerConnection.");const t=fw(e.sdp),n=await Rw({filterRTX:!NU("USE_PUB_RTX")&&!NU("USE_SUB_RTX"),filterVideoFec:NU("FILTER_VIDEO_FEC"),filterAudioFec:NU("FILTER_AUDIO_FEC"),filterVideoCodec:NU("FILTER_VIDEO_CODEC")},{useXR:this.useXR});return this.localCapabilities=Bw(n),this.initialOffer=e,Dk(Dk({},t),{},{rtpCapabilities:n,offerSDP:e.sdp})}catch(e){throw new WE(ZE.GET_LOCAL_CONNECTION_PARAMS_FAILED,e.toString())}}async connect(e,t,n,i,r,o){try{if(!this.initialOffer)throw new Error("Cannot establish P2PConnection without initial offer.");this.remoteSDP=new class{get localCapabilities(){return SC(this._localCapabilities)}get rtpCapabilities(){return SC(this._rtpCapabilities)}get candidates(){return SC(this._candidates)}get iceParameters(){return SC(this._iceParameters)}get dtlsParameters(){return SC(this._dtlsParameters)}constructor(e){ih(this,"sessionDesc",void 0),ih(this,"_localCapabilities",void 0),ih(this,"_rtpCapabilities",void 0),ih(this,"_candidates",void 0),ih(this,"_iceParameters",void 0),ih(this,"_dtlsParameters",void 0),ih(this,"setup",void 0),ih(this,"currentMidIndex",void 0),ih(this,"cname",void 0),ih(this,"firefoxSsrcMidMap",new Map),e=SC(e);const{remoteIceParameters:t,remoteDtlsParameters:n,candidates:i,remoteRTPCapabilities:r,remoteSetup:o,localCapabilities:a,cname:s}=e,c=Y_.parse("v=0\no=- 0 0 IN IP4 127.0.0.1\ns=AgoraGateway\nt=0 0\na=group:BUNDLE 0 1\na=msid-semantic: WMS\na=ice-lite\nm=video 9 UDP/TLS/RTP/SAVPF 0\nc=IN IP4 127.0.0.1\na=rtcp:9 IN IP4 0.0.0.0\na=sendonly\na=rtcp-mux\na=rtcp-rsize\na=mid:0\nm=audio 9 UDP/TLS/RTP/SAVPF 0\nc=IN IP4 127.0.0.1\na=rtcp:9 IN IP4 0.0.0.0\na=sendonly\na=rtcp-mux\na=rtcp-rsize\na=mid:1\n");this._rtpCapabilities=r,this._candidates=i,this._iceParameters=t,this._dtlsParameters=n,this._localCapabilities=a,this.setup=o,this.cname=s;const l=this.rtpCapabilities.send;for(const d of c.mediaDescriptions){if(d.attributes.iceUfrag=t.iceUfrag,d.attributes.icePwd=t.icePwd,d.attributes.fingerprints=n.fingerprints,d.attributes.candidates=i,d.attributes.setup=o,"video"===d.media.mediaType&&(d.media.fmts=l.videoCodecs.map((e=>e.payloadType.toString(10))),d.attributes.payloads=l.videoCodecs,d.attributes.extmaps=l.videoExtensions,NU("PRELOAD_MEDIA_COUNT")>0)){const{ssrcs:e,ssrcGroups:t}=Cw([{ssrcId:wk,rtx:NU("USE_SUB_RTX")?40001:void 0}],this.cname);d.attributes.ssrcs=e,d.attributes.ssrcGroups=t}if("audio"===d.media.mediaType&&(d.media.fmts=l.audioCodecs.map((e=>e.payloadType.toString(10))),d.attributes.payloads=l.audioCodecs,d.attributes.extmaps=l.audioExtensions,Tw(d),NU("PRELOAD_MEDIA_COUNT")>0)){const{ssrcs:e,ssrcGroups:t}=Cw([{ssrcId:2e4}],this.cname);d.attributes.ssrcs=e,d.attributes.ssrcGroups=t}}this.sessionDesc=c,this.currentMidIndex=c.mediaDescriptions.length-1}preloadRemoteMedia(){const e=NU("PRELOAD_MEDIA_COUNT");this.rtpCapabilities;const t=this.candidates,n=this.dtlsParameters,i=this.iceParameters,r=this.rtpCapabilities.send;for(let o=1;o<e;o++){const e=2*o+2e4,a=2*o+wk,{ssrcs:s,ssrcGroups:c}=Cw([{ssrcId:e}],this.cname),{ssrcs:l,ssrcGroups:d}=Cw([{ssrcId:a,rtx:NU("USE_SUB_RTX")?a+1:void 0}],this.cname);this.sessionDesc.mediaDescriptions.push({media:{mediaType:"video",port:_k,protos:["UDP","TLS","RTP","SAVPF"],fmts:r.videoCodecs.map((e=>e.payloadType.toString(10)))},connections:[{nettype:"IN",addrtype:"IP4",address:"127.0.0.1"}],bandwidths:[],attributes:{iceUfrag:i.iceUfrag,icePwd:i.icePwd,unrecognized:[],candidates:t,extmaps:r.videoExtensions,fingerprints:n.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:l,ssrcGroups:d,rtcpFeedbackWildcards:[],payloads:r.videoCodecs,rtcp:{port:"9",netType:"IN",addressType:"IP4",address:"0.0.0.0"},setup:this.setup,direction:"sendonly",rtcpMux:!0,rtcpRsize:!0,mid:"".concat(2*o)}}),this.sessionDesc.mediaDescriptions.push({media:{mediaType:"audio",port:_k,protos:["UDP","TLS","RTP","SAVPF"],fmts:r.audioCodecs.map((e=>e.payloadType.toString(10)))},connections:[{nettype:"IN",addrtype:"IP4",address:"127.0.0.1"}],bandwidths:[],attributes:{iceUfrag:i.iceUfrag,icePwd:i.icePwd,unrecognized:[],candidates:t,extmaps:r.audioExtensions,fingerprints:n.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:s,ssrcGroups:c,rtcpFeedbackWildcards:[],payloads:r.audioCodecs,rtcp:{port:"9",netType:"IN",addressType:"IP4",address:"0.0.0.0"},setup:this.setup,direction:"sendonly",rtcpMux:!0,rtcpRsize:!0,mid:"".concat(2*o+1)}}),this.currentMidIndex+=2}this.updateBundleMids()}toString(){return Y_.print(this.sessionDesc)}send(e,t,n,i){const{ssrcs:r,ssrcGroups:o}=Cw(t,this.cname,NU("SYNC_GROUP")?n:void 0),a=this.findPreloadMediaDesc(r);if(a){if(QE()&&this.firefoxSsrcMidMap.set(r[0].ssrcId,a.attributes.mid),i&&(i.twcc||i.remb)){const e=this.sessionDesc.mediaDescriptions.indexOf(a);return this.sessionDesc.mediaDescriptions[e]=this.mungSendMediaDesc(a,i),{mid:a.attributes.mid,needExchangeSDP:!0}}return{mid:a.attributes.mid,needExchangeSDP:!1}}{const t=this.findAvailableMediaIndex(e,r);let n;return-1===t||1===t&&(IE()||RE())||0===t&&NU("USE_SUB_RTX")||SE()?(n=this.createOrRecycleSendMedia(e,r,o,"sendonly",i),this.updateBundleMids()):(n=SC(this.sessionDesc.mediaDescriptions[t]),n.attributes.direction="sendonly",n.attributes.ssrcs=r,n.attributes.ssrcGroups=o,this.sessionDesc.mediaDescriptions[t]=this.mungSendMediaDesc(n,i)),QE()&&this.firefoxSsrcMidMap.set(r[0].ssrcId,n.attributes.mid),{mid:n.attributes.mid,needExchangeSDP:!0}}}sendDataChannel(){const{mediaDesc:e,needExchangeSDP:t}=this.createOrRecycleDataChannel();return this.updateBundleMids(),{mid:e.attributes.mid,needExchangeSDP:t}}batchSend(e){const t=e.map((e=>{let{kind:t,ssrcMsg:n,mslabel:i}=e;return this.send(t,n,i)})),n=[];let i=!1;return t.forEach((e=>{let{mid:t,needExchangeSDP:r}=e;r&&(i=!0),n.push(t)})),{mids:n,needExchangeSDP:i}}stopSending(e){const t=this.sessionDesc.mediaDescriptions.filter((t=>t.attributes.mid&&-1!==e.indexOf(t.attributes.mid)));if(t.length!==e.length)throw new Error("mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.stopSending.");t.forEach((e=>{"0"===e.attributes.mid||QE()||SE()?e.attributes.ssrcs=[]:(e.attributes.ssrcs=[],e.attributes.direction="inactive",e.media.port="0")})),this.updateBundleMids()}mute(e){const t=this.sessionDesc.mediaDescriptions.find((t=>t.attributes.mid===e));if(!t)throw new Error("mediaDescription not found with ".concat(e," in remote SDP when calling RemoteSDP.mute."));t.attributes.direction="inactive"}unmute(e){const t=this.sessionDesc.mediaDescriptions.find((t=>t.attributes.mid===e));if(!t)throw new Error("mediaDescription not found with ".concat(e," in remote SDP when calling RemoteSDP.unmute."));t.attributes.direction="sendonly"}muteRemote(e){const t=this.sessionDesc.mediaDescriptions.filter((t=>Fi(e).call(e,t.attributes.mid||"")));if(t.length!==e.length)throw new Error("mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.muteRemote.");t.forEach((e=>{e.attributes.direction="inactive"}))}unmuteRemote(e){const t=this.sessionDesc.mediaDescriptions.filter((t=>Fi(e).call(e,t.attributes.mid||"")));if(t.length!==e.length)throw new Error("mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.muteRemote.");t.forEach((e=>{e.attributes.direction="recvonly"}))}receive(e,t,n,i){e.forEach(((e,r)=>{this.createOrRecycleRecvMedia(e,[],"recvonly",t,n,i[r])})),this.updateBundleMids()}stopReceiving(e){const t=this.sessionDesc.mediaDescriptions.filter((t=>-1!==e.indexOf(t.attributes.mid)));if(t.length!==e.length)throw new Error("MediaDescriptions' length doesn't match mids's length when calling RemoteSDP.receive.");t.forEach((e=>{e.media.port="0",e.attributes.direction="inactive"})),this.updateBundleMids()}updateCandidates(e){const t=this._candidates.filter((e=>"udp"===e.transport));if(e===Ab.TCP){if(0===t.length)return;if(NU("TCP_CANDIDATE_ONLY")){const e=this._candidates.filter((e=>"tcp"===e.transport));t.forEach((t=>{-1===e.findIndex((e=>e.connectionAddress===t.connectionAddress))&&e.push(Nk(Nk({},t),{},{foundation:"tcpcandidate",priority:Number(t.priority)-1+"",transport:"tcp",port:Number(t.port)+90+""}))})),this._candidates=e}else{const e=[];t.forEach((t=>{e.push(Nk(Nk({},t),{},{foundation:"tcpcandidate",priority:Number(t.priority)-1+"",transport:"tcp",port:Number(t.port)+90+""}))})),this._candidates=[...t,...e]}}else if(e===Ab.RELAY){if(0!==t.length)return;{const e=this._candidates.filter((e=>"tcp"===e.transport));e.forEach((e=>{t.push(Nk(Nk({},e),{},{foundation:"udpcandidate",priority:Number(e.priority)+1+"",transport:"udp",port:Number(e.port)-90+""}))})),this._candidates=[...t,...e]}}else 0===t.length?(this._candidates.filter((e=>"tcp"===e.transport)).forEach((e=>{t.push(Nk(Nk({},e),{},{foundation:"udpcandidate",priority:Number(e.priority)+1+"",transport:"udp",port:Number(e.port)-90+""}))})),this._candidates=t):this._candidates=this._candidates.filter((e=>"tcp"!==e.transport));for(const n of this.sessionDesc.mediaDescriptions)n.attributes.candidates=this.candidates}restartICE(e){e=SC(e),this._iceParameters=e,this.sessionDesc.mediaDescriptions.forEach((t=>{t.attributes.iceUfrag=e.iceUfrag,t.attributes.icePwd=e.icePwd}))}predictReceivingMids(e){const t=[];for(let n=0;n<e;n++)t.push((this.currentMidIndex+n+1).toString(10));return t}findAvailableMediaIndex(e,t){return this.sessionDesc.mediaDescriptions.findIndex((n=>{const i=n.media.mediaType===e&&"0"!==n.media.port&&("sendonly"===n.attributes.direction||"sendrecv"===n.attributes.direction)&&0===n.attributes.ssrcs.length;if(QE()){if(i){const e=this.firefoxSsrcMidMap.get(t[0].ssrcId);return!(e||"0"!==n.attributes.mid&&"1"!==n.attributes.mid)||!(!e||e!==n.attributes.mid)}return!1}return i}))}createOrRecycleDataChannel(){for(const n of this.sessionDesc.mediaDescriptions)if("application"===n.media.mediaType)return{mediaDesc:n,needExchangeSDP:!1};this.currentMidIndex+=1;const e="".concat(this.currentMidIndex),t={media:{mediaType:"application",port:_k,protos:["UDP","DTLS","SCTP"],fmts:["webrtc-datachannel"]},connections:[{nettype:"IN",addrtype:"IP4",address:"127.0.0.1"}],bandwidths:[],attributes:{iceUfrag:this.iceParameters.iceUfrag,icePwd:this.iceParameters.icePwd,unrecognized:[],candidates:this.candidates,extmaps:[],fingerprints:this.dtlsParameters.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:[],ssrcGroups:[],rtcpFeedbackWildcards:[],payloads:[],rtcp:{port:"9",netType:"IN",addressType:"IP4",address:"0.0.0.0"},setup:this.setup,mid:"".concat(e),sctpPort:"5000"}};return this.sessionDesc.mediaDescriptions.push(t),{mediaDesc:t,needExchangeSDP:!0}}createOrRecycleRecvMedia(e,t,n,i,r,o){const a=e._mediaStreamTrack.kind,s=this.rtpCapabilities.recv,c=_w(a,s,this.localCapabilities.send,a===hb.VIDEO?i:r),l=a===hb.VIDEO?s.videoExtensions:s.audioExtensions;this.currentMidIndex+=1;const d="".concat(this.currentMidIndex);let u={media:{mediaType:a,port:_k,protos:["UDP","TLS","RTP","SAVPF"],fmts:c.map((e=>e.payloadType.toString(10)))},connections:[{nettype:"IN",addrtype:"IP4",address:"127.0.0.1"}],bandwidths:[],attributes:{iceUfrag:this.iceParameters.iceUfrag,icePwd:this.iceParameters.icePwd,unrecognized:[],candidates:this.candidates,extmaps:l,fingerprints:this.dtlsParameters.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:t,ssrcGroups:[],rtcpFeedbackWildcards:[],payloads:c,rtcp:{port:"9",netType:"IN",addressType:"IP4",address:"0.0.0.0"},setup:this.setup,direction:n,rtcpMux:!0,rtcpRsize:!0,mid:"".concat(d)}};u=this.mungRecvMediaDsec(u,e,o);const h=this.findFirstClosedMedia(a);if(h){const e=this.sessionDesc.mediaDescriptions.indexOf(h);this.sessionDesc.mediaDescriptions[e]=u}else this.sessionDesc.mediaDescriptions.push(u);return u}updateRemoteCodec(e,t,n){const i=[...new Set(this._rtpCapabilities.recv.videoCodecs.map((e=>e.rtpMap&&e.rtpMap.encodingName.toLowerCase()||"")).filter((e=>{var t;return Fi(t=Object.keys(VU)).call(t,e)})))],r=new Set(t);if(i.every((e=>r.has(e))))return YU.debug("codecs has not changed, no need to updateRemoteCodec, codecs: ".concat(t)),!1;const o=this._rtpCapabilities.recv.videoCodecs.filter((e=>t.some((t=>{var n;return Fi(n=e.rtpMap&&e.rtpMap.encodingName.toLowerCase()||"").call(n,t)}))));if(0===o.length)return YU.debug("updateRemoteCodec failed, because cannot find matched codec, remoteCapabilities codecs: ".concat(i," codecs: ").concat(t)),!1;const a=[...new Set(o.map((e=>e.rtpMap&&e.rtpMap.encodingName.toLowerCase()||"")))];let s;if(YU.debug("updateRemoteCodec, from ".concat(i," to ").concat(a)),0===e.length)s=this.sessionDesc.mediaDescriptions.filter((e=>"video"===e.media.mediaType&&"recvonly"===e.attributes.direction));else if(s=this.sessionDesc.mediaDescriptions.filter((t=>t.attributes.mid&&Fi(e).call(e,t.attributes.mid)&&"recvonly"===t.attributes.direction)),s.length!==e.length)return YU.debug("updateRemoteCodec failed, because cannot find mids, mids: ".concat(e,", codecs: ").concat(t)),!1;this._rtpCapabilities.recv.videoCodecs=o;const c=this.localCapabilities.send,l=this.rtpCapabilities.recv,d=_w(hb.VIDEO,l,c,n);return s.forEach((e=>{const t=d.map((e=>e.payloadType.toString(10)));YU.debug("updateRemoteCodec mid: ".concat(e.attributes.mid,", from ").concat(e.attributes.payloads," to ").concat(d)),e.attributes.payloads=d,e.media.fmts=t})),!0}createOrRecycleSendMedia(e,t,n,i,r){const o=this.rtpCapabilities.send,a=e===hb.VIDEO?o.videoCodecs:o.audioCodecs,s=e===hb.VIDEO?o.videoExtensions:o.audioExtensions;this.currentMidIndex+=1;const c="".concat(this.currentMidIndex);let l={media:{mediaType:e,port:_k,protos:["UDP","TLS","RTP","SAVPF"],fmts:a.map((e=>e.payloadType.toString(10)))},connections:[{nettype:"IN",addrtype:"IP4",address:"127.0.0.1"}],bandwidths:[],attributes:{iceUfrag:this.iceParameters.iceUfrag,icePwd:this.iceParameters.icePwd,unrecognized:[],candidates:this.candidates,extmaps:s,fingerprints:this.dtlsParameters.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:t,ssrcGroups:n,rtcpFeedbackWildcards:[],payloads:a,rtcp:{port:"9",netType:"IN",addressType:"IP4",address:"0.0.0.0"},setup:this.setup,direction:i,rtcpMux:!0,rtcpRsize:!0,mid:"".concat(c)}};l=this.mungSendMediaDesc(l,r);const d=this.findFirstClosedMedia(e);if(d){const e=this.sessionDesc.mediaDescriptions.indexOf(d);this.sessionDesc.mediaDescriptions[e]=l}else this.sessionDesc.mediaDescriptions.push(l);return l}updateBundleMids(){this.sessionDesc.attributes.groups[0].identificationTag=this.sessionDesc.mediaDescriptions.filter((e=>"0"!==e.media.port)).map((e=>e.attributes.mid))}mungRecvMediaDsec(e,t,n){const i=SC(e);return Qw(i),Iw(i,t),Uw(i,t),yw(i),bw(i,n,this.localCapabilities.send),i}mungSendMediaDesc(e,t){const n=SC(e);return bw(n,t,this.localCapabilities.recv),Tw(n),n}updateRecvMedia(e,t){const n=this.sessionDesc.mediaDescriptions.findIndex((t=>t.attributes.mid===e));if(-1!==n){const e=this.mungRecvMediaDsec(this.sessionDesc.mediaDescriptions[n],t);this.sessionDesc.mediaDescriptions[n]=e}}bumpMid(e){this.currentMidIndex+=e}findFirstClosedMedia(e){return this.sessionDesc.mediaDescriptions.find((t=>QE()?"0"===t.media.port&&t.media.mediaType===e:"0"===t.media.port))}findPreloadMediaDesc(e){return this.sessionDesc.mediaDescriptions.find((t=>{var n;return(null===(n=t.attributes)||void 0===n||null===(n=n.ssrcs[0])||void 0===n?void 0:n.ssrcId)===e[0].ssrcId}))}getSSRC(e){var t;return null===(t=this.sessionDesc.mediaDescriptions.find((t=>t.attributes.mid===e)))||void 0===t?void 0:t.attributes.ssrcs}}({remoteIceParameters:e,remoteDtlsParameters:t,candidates:n,remoteRTPCapabilities:i,remoteSetup:r,localCapabilities:this.localCapabilities,cname:o}),Array.isArray(this.remoteCodecs)&&this.remoteCodecs.length>0&&this.remoteSDP.updateRemoteCodec([],this.remoteCodecs,this.store.codec);const a=this.remoteSDP.toString(),s=Y_.parse(this.initialOffer.sdp),c=s.mediaDescriptions.find((e=>"audio"===e.media.mediaType));c&&Tw(c),this.useXR&&Nw(s);const l=Y_.print(s),d=this.logSDPExchange(l||"","offer","local","connect");this.store.descriptionStart(),await this.peerConnection.setLocalDescription({type:"offer",sdp:l}),null==d||d(a),await this.peerConnection.setRemoteDescription({type:"answer",sdp:a});const u=this.peerConnection.getTransceivers()[0];if(null!=u&&u.receiver&&this.tryBindTransportEvents(u.receiver),NU("PRELOAD_MEDIA_COUNT")>0){this.remoteSDP.preloadRemoteMedia();const e=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:"offer",sdp:e});const t=await this.peerConnection.createAnswer();await this.peerConnection.setLocalDescription(t)}}catch(e){throw new WE(ZE.EXCHANGE_SDP_FAILED,"P2PConnection.connect failed; ".concat(e.toString()))}}send(e,t,n){var i=this;return B_((function*(){const r=yield I_(i.mutex.lock("From P2PConnection.send"));try{if(!i.remoteSDP)throw new Error("Cannot call P2PConnection.send before remote SDP created");const o=[];e.forEach((e=>{const t=i.peerConnection.addTransceiver(e._mediaStreamTrack,{direction:"sendonly"});o.push(t),e._updateRtpTransceiver(t)})),QE()&&!0===NU("SIMULCAST")&&(yield I_(i.applySimulcastForFirefox(o,e)));const a=yield I_(i.peerConnection.createOffer()),s=i.remoteSDP.predictReceivingMids(e.length),c=i.mungSendOfferSDP(a.sdp,e,s),l=Y_.parse(c),d=s.map((e=>{const t=l.mediaDescriptions.find((t=>t.attributes.mid===e));if(!t)throw new Error("Cannot extract ssrc from mediaDescription.");return mw(t,NU("USE_PUB_RTX"))}));let u;try{u=yield d}catch(r){u=[],i.remoteSDP.receive(e,t,n,u);const o=i.remoteSDP.toString();throw yield I_(i.peerConnection.setLocalDescription({type:"offer",sdp:c})),yield I_(i.peerConnection.setRemoteDescription({type:"answer",sdp:o})),yield I_(i.stopSending(s,!0)),r}i.remoteSDP.receive(e,t,n,u);const h=i.remoteSDP.toString(),A=i.logSDPExchange(c,"offer","local","send");return yield I_(i.peerConnection.setLocalDescription({type:"offer",sdp:c})),yield I_(i.applySimulcastEncodings(o,e)),yield I_(i.applySendEncodings(o,e)),null==A||A(h),yield I_(i.peerConnection.setRemoteDescription({type:"answer",sdp:h})),o.map(((e,t)=>{const n=s[t];return{localSSRC:d[t],id:n,transceiver:e}}))}catch(e){throw e instanceof WE?e:new WE(ZE.EXCHANGE_SDP_FAILED,"P2PConnection.send failed; ".concat(e.toString()))}finally{r()}}))()}async createDataChannels(e,t){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.createDataChannels before remote SDP created");let n=this.dataStreamChannelMap.get(e);n&&"open"===n.readyState?YU.debug("[P2PConnection] Channels are already available and can be reused directly."):(n=this.peerConnection.createDataChannel("datastream-channel",{ordered:!1,maxRetransmits:NU("DATASTREAM_MAX_RETRANSMITS")}),n.binaryType="arraybuffer",this.dataStreamChannelMap.set(e,n)),t.forEach((e=>{e._updateOriginDataChannel(n)}));const{needExchangeSDP:i}=this.remoteSDP.sendDataChannel();if(i){const e=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:"offer",sdp:e});const t=await this.peerConnection.createAnswer();await this.peerConnection.setLocalDescription(t),YU.debug("[P2PConnection] createDataChannels by exchanging SDP.")}else YU.debug("[P2PConnection] createDataChannels no need to exchange SDP.");return}catch(e){throw e instanceof WE?e:new WE(ZE.EXCHANGE_SDP_FAILED,"P2PConnection.createDataChannels failed; ".concat(e.toString()))}}async stopDataChannels(e){try{const t=this.dataStreamChannelMap.get(e);return null==t||t.close(),void this.dataStreamChannelMap.delete(e)}catch(e){throw e instanceof WE?e:new WE(ZE.DATACHANNEL_FAILED,"P2PConnection.stopDataChannels failed; ".concat(e.toString()))}}async stopSending(e,t){const n=t?void 0:await this.mutex.lock("From P2PConnection.stopSending");try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.stopSending before remote SDP created");const t=this.peerConnection.getTransceivers().filter((t=>-1!==e.indexOf(t.mid)));if(t.length!==e.length)throw new Error("Transceivers' length doesn't match mids' length when trying to call P2PConnection.stopSending.");t.map((e=>{var t;e.direction="inactive",null===(t=e.stop)||void 0===t||t.call(e)}));const n=await this.peerConnection.createOffer(),i=this.logSDPExchange(n.sdp||"","offer","local","stopSending");await this.peerConnection.setLocalDescription(n),this.remoteSDP.stopReceiving(e);const r=this.remoteSDP.toString();null==i||i(r),await this.peerConnection.setRemoteDescription({type:"answer",sdp:r})}catch(e){throw new WE(ZE.EXCHANGE_SDP_FAILED,"P2PConnection.stopSending failed; ".concat(e.toString()))}finally{n&&n()}}async receive(e,t,n,i){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.receive ".concat(e," before remoteSDP created."));const{mid:r,needExchangeSDP:o}=this.remoteSDP.send(e,t,n,i);if(o){const t=this.remoteSDP.toString(),n=this.logSDPExchange(t,"offer","remote","receive");await this.peerConnection.setRemoteDescription({type:"offer",sdp:t});const i=await this.peerConnection.createAnswer(),o=this.mungReceiveAnswerSDP(i.sdp,r,e);null==n||n(o||""),await this.peerConnection.setLocalDescription({type:"answer",sdp:o}),YU.debug("[".concat(this.store.clientId,"] [P2PConnection] receive ").concat(e," by exchanging SDP."))}else YU.debug("[".concat(this.store.clientId,"] [P2PConnection] receive ").concat(e," no need to exchange SDP."));const a=this.peerConnection.getTransceivers().find((e=>e.mid===r));if(!a)throw new Error("Cannot get transceiver after setLocalDescription.");return{track:a.receiver.track,id:r,transceiver:a}}catch(e){throw new WE(ZE.EXCHANGE_SDP_FAILED,"P2PConnection.receive failed; ".concat(e.toString()))}}async batchReceive(e){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.batchReceive before remoteSDP created.");const{mids:t,needExchangeSDP:n}=this.remoteSDP.batchSend(e);if(n){const e=this.remoteSDP.toString(),t=this.logSDPExchange(e,"offer","remote","receive");await this.peerConnection.setRemoteDescription({type:"offer",sdp:e});const n=await this.peerConnection.createAnswer();null==t||t(n.sdp||""),await this.peerConnection.setLocalDescription(n),YU.debug("[".concat(this.store.clientId,"] [P2PConnection] batchReceive by exchanging SDP."))}else YU.debug("[".concat(this.store.clientId,"] [P2PConnection] batchReceive no need to exchange SDP."));return t.map((e=>{const t=this.peerConnection.getTransceivers().find((t=>t.mid===e));if(!t)throw new Error("Cannot get transceiver after setLocalDescription.");return{track:t.receiver.track,id:e,transceiver:t}}))}catch(e){throw new WE(ZE.EXCHANGE_SDP_FAILED,"P2PConnection.receive failed; ".concat(e.toString()))}}async stopReceiving(e){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.stopReceiving before remote SDP created.");this.remoteSDP.stopSending(e);const t=this.remoteSDP.toString(),n=this.logSDPExchange(t,"offer","remote","stopReceiving");await this.peerConnection.setRemoteDescription({type:"offer",sdp:t});const i=await this.peerConnection.createAnswer();null==n||n(i.sdp||""),await this.peerConnection.setLocalDescription(i)}catch(e){throw new WE(ZE.EXCHANGE_SDP_FAILED,"P2PConnection stopReceiving failed; ".concat(e.toString()))}}async muteRemote(e){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.muteRemote mid=".concat(e," before remote SDP created."));this.remoteSDP.mute(e);const t=this.remoteSDP.toString(),n=this.logSDPExchange(t,"offer","remote","muteRemote");await this.peerConnection.setRemoteDescription({type:"offer",sdp:t});const i=await this.peerConnection.createAnswer();null==n||n(i.sdp||""),await this.peerConnection.setLocalDescription(i)}catch(e){throw new WE(ZE.EXCHANGE_SDP_FAILED,"P2PConnection.muteRemote failed; ".concat(e.toString()))}}async unmuteRemote(e){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.unmuteRemote mid=".concat(e," before remote SDP created."));this.remoteSDP.unmute(e);const t=this.remoteSDP.toString(),n=this.logSDPExchange(t,"offer","remote","unmuteRemote");await this.peerConnection.setRemoteDescription({type:"offer",sdp:t});const i=await this.peerConnection.createAnswer();null==n||n(i.sdp||""),await this.peerConnection.setLocalDescription(i)}catch(e){throw new WE(ZE.EXCHANGE_SDP_FAILED,"P2PConnection.unmuteRemote failed; ".concat(e.toString()))}}async muteLocal(e){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.muteLocal before remote SDP created.");const t=this.peerConnection.getTransceivers().filter((t=>t.mid&&-1!==e.indexOf(t.mid)));if(t.length!==e.length)throw new Error("Transceivers' length doesn't match mids' length.");t.map((e=>{e.direction="inactive"}));const n=await this.peerConnection.createOffer(),i=this.logSDPExchange(n.sdp||"","offer","local","muteLocal");await this.peerConnection.setLocalDescription(n),this.remoteSDP.muteRemote(e);const r=this.remoteSDP.toString();null==i||i(r),await this.peerConnection.setRemoteDescription({type:"answer",sdp:r})}catch(e){throw new WE(ZE.EXCHANGE_SDP_FAILED,"P2PConnection.muteLocal failed; ".concat(e.toString()))}}async unmuteLocal(e){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.unmuteLocal before remote SDP created.");const t=this.peerConnection.getTransceivers().filter((t=>t.mid&&-1!==e.indexOf(t.mid)));if(t.length!==e.length)throw new Error("Transceivers' length doesn't match mids' length.");t.map((async(e,t)=>{e.direction="sendonly"}));const n=await this.peerConnection.createOffer(),i=this.logSDPExchange(n.sdp||"","offer","local","unmuteLocal");await this.peerConnection.setLocalDescription(n),this.remoteSDP.unmuteRemote(e);const r=this.remoteSDP.toString();null==i||i(r),await this.peerConnection.setRemoteDescription({type:"answer",sdp:r})}catch(e){throw new WE(ZE.EXCHANGE_SDP_FAILED,"P2PConnection.unmuteLocal failed; ".concat(e.toString()))}}restartICE(e){var t=this;return B_((function*(){const n=yield I_(t.mutex.lock("From P2PConnection.restartICE"));try{if(!t.remoteSDP)throw new Error("Cannot restartICE before remoteSDP created.");if(FR().supportPCSetConfiguration){const n=t.peerConnection.getConfiguration(),i=e===Ab.RELAY?"relay":"all";n.iceTransportPolicy!==i&&(YU.debug("[".concat(t.store.clientId,"] restartICE change iceTransportPolicy from [").concat(n.iceTransportPolicy,"] to [").concat(i,"]")),n.iceTransportPolicy=i,t.peerConnection.setConfiguration(n))}else if(e===Ab.RELAY)return;t.remoteSDP.updateCandidates(e);const n=yield I_(t.peerConnection.createOffer({iceRestart:!0}));if(!n.sdp)throw new Error("Cannot restartICE because restart offer SDP does not exist.");const i=fw(n.sdp),{remoteIceParameters:r}=yield i.iceParameters;t.remoteSDP.restartICE(r);const o=t.remoteSDP.toString(),a=t.logSDPExchange(n.sdp||"","offer","local","restartICE");t.store.descriptionStart(),yield I_(t.peerConnection.setLocalDescription(n)),null==a||a(o),yield I_(t.peerConnection.setRemoteDescription({type:"answer",sdp:o}))}catch(e){YU.warning("[".concat(t.store.clientId,"] restart ICE failed, abort operation"),e)}finally{n()}}))()}close(){var e;this.peerConnection.close(),null===(e=this.onConnectionStateChange)||void 0===e||e.call(this,"closed"),this.tryUnbindTransportEvents(),this.unbindPCEvents(),this.unbindStatsEvents(),this.removeAllListeners(),this.transportEventReceiver=void 0,this.statsFilter.destroy(),this.dataStreamChannelMap.clear()}getStats(){return this.statsFilter.getStats()}getRemoteVideoIsReady(e){return this.statsFilter.getVideoIsReady(e)}async updateEncoderConfig(e,t){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.updateEncoderConfig before remote SDP created.");const n=await this.peerConnection.createOffer(),i=this.mungSendOfferSDP(n.sdp,[t],[e]);this.remoteSDP.updateRecvMedia(e,t);const r=this.remoteSDP.toString(),o=this.logSDPExchange(i,"offer","local","updateEncoderConfig");await this.peerConnection.setLocalDescription({type:"offer",sdp:i}),null==o||o(r),await this.peerConnection.setRemoteDescription({type:"answer",sdp:r})}catch(e){throw new WE(ZE.EXCHANGE_SDP_FAILED,e.toString())}}async updateSendParameters(e,t){const n=this.peerConnection.getTransceivers().filter((t=>t.mid===e));1===n.length&&(this.isVP8Simulcast(t)?QE()||await this.applySimulcastEncodings(n,[t]):await this.applySendEncodings(n,[t]))}setStatsRemoteVideoIsReady(e,t){this.statsFilter.setVideoIsReady2(e,t)}async replaceTrack(e,t){const n=this.peerConnection.getTransceivers().find((e=>e.mid===t));n&&await n.sender.replaceTrack(e._mediaStreamTrack)}async getSelectedCandidatePair(){const e=this.peerConnection.getReceivers();if(e.length>0&&e[0].transport&&e[0].transport.iceTransport&&e[0].transport.iceTransport.getSelectedCandidatePair&&e[0].transport.iceTransport.getSelectedCandidatePair()){const t=e[0].transport.iceTransport,{local:n,remote:i}=t.getSelectedCandidatePair();return{local:Dk(Dk({},H_),{},{candidateType:n.type,protocol:n.protocol,address:n.address,port:n.port}),remote:Dk(Dk({},H_),{},{candidateType:i.type,protocol:i.protocol,address:i.address,port:i.port})}}return this.statsFilter.getSelectedCandidatePair()}bindPCEvents(){this.peerConnection.oniceconnectionstatechange=()=>{var e;null===(e=this.onICEConnectionStateChange)||void 0===e||e.call(this,this.peerConnection.iceConnectionState)},this.peerConnection.onconnectionstatechange=()=>{var e;null===(e=this.onConnectionStateChange)||void 0===e||e.call(this,this.peerConnection.connectionState)},this.peerConnection.onicecandidate=e=>{e.candidate?this.localCandidateCount+=1:(this.peerConnection.onicecandidate=null,this.allCandidatesReceived=!0,YU.debug("[".concat(this.store.clientId,"] [pc-").concat(this.store.p2pId,"] local candidate count"),this.localCandidateCount))},setTimeout((()=>{this.allCandidatesReceived||(this.allCandidatesReceived=!0,YU.debug("[".concat(this.store.clientId,"] [pc-").concat(this.store.p2pId,"] onicecandidate timeout, local candidate count"),this.localCandidateCount))}),NU("CANDIDATE_TIMEOUT"))}unbindPCEvents(){this.peerConnection.oniceconnectionstatechange=null,this.peerConnection.onconnectionstatechange=null,this.peerConnection.onsignalingstatechange=null,this.peerConnection.onicecandidateerror=null,this.peerConnection.onicecandidate=null,this.peerConnection.ontrack=null}static resolvePCConfiguration(e){const t={iceServers:[]};return e.iceServers?t.iceServers=e.iceServers:e.turnServer&&"off"!==e.turnServer.mode&&(pC(e.turnServer.servers)?t.iceServers=e.turnServer.servers:(t.iceServers&&t.iceServers.push(...Vk.turnServerConfigToIceServers(e.turnServer.servers)),NU("USE_TURN_SERVER_OF_GATEWAY")&&t.iceServers&&e.turnServer.serversFromGateway&&t.iceServers.push(...Vk.turnServerConfigToIceServers(e.turnServer.serversFromGateway)),NU("FORCE_TURN_TCP")?t.iceTransportPolicy="relay":e.turnServer.servers.concat(e.turnServer.serversFromGateway||[]).forEach((e=>{e.forceturn&&(t.iceTransportPolicy="relay")})))),NU("ENABLE_ENCODED_TRANSFORM")&&FR().supportWebRTCEncodedTransform&&(t.encodedInsertableStreams=!0),t}static turnServerConfigToIceServers(e){const t=[];return e.forEach((e=>{e.security?e.tcpport&&t.push({username:e.username,credential:e.password,credentialType:"password",urls:"turns:".concat(yv(e.turnServerURL),":").concat(e.tcpport,"?transport=tcp")}):(e.udpport&&!NU("FORCE_TURN_TCP")&&t.push({username:e.username,credential:e.password,credentialType:"password",urls:"turn:".concat(e.turnServerURL,":").concat(e.udpport,"?transport=udp")}),e.tcpport&&t.push({username:e.username,credential:e.password,credentialType:"password",urls:"turn:".concat(e.turnServerURL,":").concat(e.tcpport,"?transport=tcp")}))})),t}tryBindTransportEvents(e){const t=e.transport;if(t){this.transportEventReceiver=e,t.onstatechange=()=>{var e;null!=t&&t.state&&(null===(e=this.onDTLSTransportStateChange)||void 0===e||e.call(this,t.state))},t.onerror=e=>{var t;null===(t=this.onDTLSTransportError)||void 0===t||t.call(this,"error"in e?e.error:e)};const n=t.iceTransport;n&&(n.onstatechange=()=>{const e=null==t?void 0:t.iceTransport.state;var n;e&&(null===(n=this.onICETransportStateChange)||void 0===n||n.call(this,e))},n.getSelectedCandidatePair&&(n.onselectedcandidatepairchange=()=>{if(n.getSelectedCandidatePair()){const{local:e,remote:t}=n.getSelectedCandidatePair();YU.info("[".concat(this.store.clientId,"] [pc-").concat(this.store.p2pId,"] selectedcandidatepairchange: local ").concat(JSON.stringify({candidateType:e.type,protocol:e.protocol}),", remote ").concat(JSON.stringify({candidateType:t.type,protocol:t.protocol,address:t.address,port:t.port})," )"))}}))}}tryUnbindTransportEvents(){this.transportEventReceiver&&this.transportEventReceiver.transport&&(this.transportEventReceiver.transport.onstatechange=null,this.transportEventReceiver.transport.onerror=null,this.transportEventReceiver.transport.iceTransport&&(this.transportEventReceiver.transport.iceTransport.onstatechange=null))}async updateRtpSenderEncodings(e,t){var n;if(t||(t=this.peerConnection.getSenders().find((t=>t.track===e._mediaStreamTrack))),!t)return YU.warn("[".concat(e.getTrackId(),"] no rtpSender found}"));if(this.isVP8Simulcast(e))return YU.warn("[updateRtpSenderEncodings] Track is VP8 simulcast, please apply simulcast encodings");if(!FR().supportSetRtpSenderParameters)return YU.warn("[updateRtpSenderEncodings] Browser not support set rtp-sender parameters");const i={},r={};switch(e._optimizationMode){case"motion":i.degradationPreference="maintain-framerate";break;case"detail":i.degradationPreference="maintain-resolution";break;default:i.degradationPreference="balanced"}if(e._encoderConfig){var o;const{bitrateMax:t,frameRate:n,scaleResolutionDownBy:i}=e._encoderConfig;t&&(r.maxBitrate=1e3*t),(Fi(o=e._hints).call(o,YR.LOW_STREAM)||e.isUseScaleResolutionDownBy)&&(n&&(r.maxFramerate=vv(n)),i&&i>=1&&(r.scaleResolutionDownBy=i))}if(NU("DSCP_TYPE")&&kE()){var a;const e=NU("DSCP_TYPE");Fi(a=["very-low","low","medium","high"]).call(a,e)&&(r.networkPriority=e)}const s=t.getParameters(),c=null===(n=s.encodings)||void 0===n?void 0:n[0];QE()&&!c&&(i.encodings=[r]),c&&Object.assign(c,r),Object.assign(s,i),YU.debug("[".concat(e.getTrackId(),"] updateRtpSenderEncodings: ").concat(JSON.stringify(s.encodings))),await t.setParameters(s)}async applySendEncodings(e,t){try{if(!FR().supportSetRtpSenderParameters)return;if(e.length!==t.length)return;for(let n=0;n<e.length;n++){const i=e[n],r=t[n];r instanceof TF&&!this.isVP8Simulcast(r)&&await this.updateRtpSenderEncodings(r,i.sender)}}catch(e){YU.debug("[".concat(this.store.clientId,"] Apply RTPSendEncodings failed."))}}mungSendOfferSDP(e,t,n){const i=Y_.parse(e);return t.forEach(((e,t)=>{const r=n[t],o=i.mediaDescriptions.find((e=>e.attributes.mid===r));o&&(Iw(o,e),vw(o,e,this.store.codec))})),Y_.print(i)}mungReceiveAnswerSDP(e,t,n){const i=Y_.parse(e),r=i.mediaDescriptions.find((e=>e.attributes.mid===t));return r&&(n===hb.AUDIO&&"audio"===r.media.mediaType&&Tw(r),this.useXR&&Nw(i)),Y_.print(i)}bindStatsEvents(){this.statsFilter.onFirstAudioReceived=e=>{var t;null===(t=this.onFirstAudioReceived)||void 0===t||t.call(this,e)},this.statsFilter.onFirstVideoReceived=e=>{var t;null===(t=this.onFirstVideoReceived)||void 0===t||t.call(this,e)},this.statsFilter.onFirstAudioDecoded=e=>{var t;null===(t=this.onFirstAudioDecoded)||void 0===t||t.call(this,e)},this.statsFilter.onFirstVideoDecoded=(e,t,n)=>{var i;null===(i=this.onFirstVideoDecoded)||void 0===i||i.call(this,e,t,n)},this.statsFilter.onSelectedLocalCandidateChanged=(e,t)=>{var n;null===(n=this.onSelectedLocalCandidateChanged)||void 0===n||n.call(this,e,t)},this.statsFilter.onSelectedRemoteCandidateChanged=(e,t)=>{var n;null===(n=this.onSelectedRemoteCandidateChanged)||void 0===n||n.call(this,e,t)},this.statsFilter.onFirstVideoDecodedTimeout=e=>{var t;null===(t=this.onFirstVideoDecodedTimeout)||void 0===t||t.call(this,e)}}unbindStatsEvents(){this.statsFilter.onFirstAudioReceived=void 0,this.statsFilter.onFirstVideoReceived=void 0,this.statsFilter.onFirstAudioDecoded=void 0,this.statsFilter.onFirstVideoDecoded=void 0,this.statsFilter.onSelectedLocalCandidateChanged=void 0,this.statsFilter.onSelectedRemoteCandidateChanged=void 0,this.statsFilter.onFirstVideoDecodedTimeout=void 0}async applySimulcastForFirefox(e,t){if(e.length===t.length)for(let s=0;s<e.length;s++){var n,i,r,o,a;const c=e[s],l=t[s];if(l instanceof TF&&!Fi(n=l._hints).call(n,YR.LOW_STREAM)&&null!==(i=l._encoderConfig)&&void 0!==i&&i.bitrateMax&&(null===(r=l._encoderConfig)||void 0===r?void 0:r.bitrateMax)>200&&null!==(o=l._scalabilityMode)&&void 0!==o&&o.numSpatialLayers&&(null===(a=l._scalabilityMode)||void 0===a?void 0:a.numSpatialLayers)>1&&"vp8"===this.store.codec){const e={},t={high:1e3*(l._encoderConfig.bitrateMax-50),medium:5e4};e.encodings=[{rid:"m",active:!0,maxBitrate:t.medium,scaleResolutionDownBy:4},{rid:"h",active:!0,maxBitrate:t.high}];const n=c.sender.getParameters();await c.sender.setParameters(Object.assign(n,e))}}}async applySimulcastEncodings(e,t){if(!QE()&&e.length===t.length)for(let n=0;n<e.length;n++){const i=t[n];if(i instanceof TF&&this.isVP8Simulcast(i)){const t=e[n],r={},o={high:1e3*(i._encoderConfig.bitrateMax-50),medium:5e4};r.encodings=[{active:!0,adaptivePtime:!1,networkPriority:"high",priority:"high",maxBitrate:o.high},{active:!0,adaptivePtime:!1,networkPriority:"low",priority:"low",maxBitrate:o.medium,scaleResolutionDownBy:4}];const a=t.sender.getParameters();await t.sender.setParameters(Object.assign(a,r))}}}isVP8Simulcast(e){var t,n,i,r,o;return!!(e instanceof TF&&NU("SIMULCAST")&&"vp8"===this.store.codec&&!Fi(t=e._hints).call(t,YR.LOW_STREAM)&&null!==(n=e._encoderConfig)&&void 0!==n&&n.bitrateMax&&(null===(i=e._encoderConfig)||void 0===i?void 0:i.bitrateMax)>200&&null!==(r=e._scalabilityMode)&&void 0!==r&&r.numSpatialLayers&&(null===(o=e._scalabilityMode)||void 0===o?void 0:o.numSpatialLayers)>1)}logSDPExchange(e,t,n,i){if(NU("SDP_LOGGING"))return YU.upload("[".concat(this.store.clientId,"] exchanging ").concat(n," ").concat(t," SDP during P2PConnection.").concat(i,"\n"),e),"offer"===t?e=>{this.logSDPExchange(e,"answer","local"===n?"remote":"local",i)}:void 0}async getRemoteSSRC(e){if(!this.remoteSDP)return;const t=this.remoteSDP.getSSRC(e);return null==t?void 0:t[0].ssrcId}setConfiguration(e){if(FR().supportPCSetConfiguration){const t=Vk.resolvePCConfiguration(e);this.peerConnection.setConfiguration(t)}}}function Zk(e,t,n){const i=e[t];if("function"!=typeof i)throw new Error("Cannot use mutex on object property.");return n.value=async function(){const e=this.mutex,n=await e.lock("From P2PConnection.".concat(t));try{for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return await i.apply(this,o)}finally{n()}},n}function Wk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Ok(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wk(Object(n),!0).forEach((function(t){ih(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wk(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Vy([Zk,Zy("design:type",Function),Zy("design:paramtypes",[Array,Array]),Zy("design:returntype",tE)],Vk.prototype,"updateRemoteRTPCapabilities",null),Vy([Zk,Zy("design:type",Function),Zy("design:paramtypes",[Object,Object,Array,Object,String,String]),Zy("design:returntype",tE)],Vk.prototype,"connect",null),Vy([Zk,Zy("design:type",Function),Zy("design:paramtypes",[Object,Array]),Zy("design:returntype",tE)],Vk.prototype,"createDataChannels",null),Vy([Zk,Zy("design:type",Function),Zy("design:paramtypes",[String,Array,String,Object]),Zy("design:returntype",tE)],Vk.prototype,"receive",null),Vy([Zk,Zy("design:type",Function),Zy("design:paramtypes",[Array]),Zy("design:returntype",tE)],Vk.prototype,"batchReceive",null),Vy([Zk,Zy("design:type",Function),Zy("design:paramtypes",[Array]),Zy("design:returntype",tE)],Vk.prototype,"stopReceiving",null),Vy([Zk,Zy("design:type",Function),Zy("design:paramtypes",[String]),Zy("design:returntype",tE)],Vk.prototype,"muteRemote",null),Vy([Zk,Zy("design:type",Function),Zy("design:paramtypes",[String]),Zy("design:returntype",tE)],Vk.prototype,"unmuteRemote",null),Vy([Zk,Zy("design:type",Function),Zy("design:paramtypes",[Array]),Zy("design:returntype",tE)],Vk.prototype,"muteLocal",null),Vy([Zk,Zy("design:type",Function),Zy("design:paramtypes",[Array]),Zy("design:returntype",tE)],Vk.prototype,"unmuteLocal",null),Vy([Zk,Zy("design:type",Function),Zy("design:paramtypes",[]),Zy("design:returntype",void 0)],Vk.prototype,"close",null),Vy([Zk,Zy("design:type",Function),Zy("design:paramtypes",[String,pS]),Zy("design:returntype",tE)],Vk.prototype,"updateEncoderConfig",null),Vy([Zk,Zy("design:type",Function),Zy("design:paramtypes",[String,pS]),Zy("design:returntype",tE)],Vk.prototype,"updateSendParameters",null),Vy([Zk,Zy("design:type",Function),Zy("design:paramtypes",[pS,String]),Zy("design:returntype",tE)],Vk.prototype,"replaceTrack",null),Vy([Zk,Zy("design:type",Function),Zy("design:paramtypes",[String]),Zy("design:returntype",tE)],Vk.prototype,"getRemoteSSRC",null);const Jk="v=0\no=- 0 0 IN IP4 127.0.0.1\ns=AgoraGateway\nt=0 0\na=group:BUNDLE 0\na=msid-semantic: WMS\na=ice-lite\nm=application 9 UDP/DTLS/SCTP webrtc-datachannel\nc=IN IP4 127.0.0.1\na=mid:0\n",xk="9",Mk=2e4,Lk=4e4;class Pk{get localCapabilities(){return SC(this._localCapabilities)}get rtpCapabilities(){return SC(this._rtpCapabilities)}get candidates(){return SC(this._candidates)}get iceParameters(){return SC(this._iceParameters)}get dtlsParameters(){return SC(this._dtlsParameters)}constructor(e){ih(this,"sessionDesc",void 0),ih(this,"_localCapabilities",void 0),ih(this,"_rtpCapabilities",void 0),ih(this,"_candidates",void 0),ih(this,"_iceParameters",void 0),ih(this,"_dtlsParameters",void 0),ih(this,"setup",void 0),ih(this,"currentMidIndex",void 0),ih(this,"cname",void 0),ih(this,"firefoxSsrcMidMap",new Map),e=SC(e);const{remoteIceParameters:t,remoteDtlsParameters:n,candidates:i,remoteRTPCapabilities:r,remoteSetup:o,localCapabilities:a,cname:s}=e,c=Y_.parse(Jk);this._rtpCapabilities=r,this._candidates=i,this._iceParameters=t,this._dtlsParameters=n,this._localCapabilities=a,this.setup=o,this.cname=s;const l=this.rtpCapabilities.send;for(const d of c.mediaDescriptions){if(d.attributes.iceUfrag=t.iceUfrag,d.attributes.icePwd=t.icePwd,d.attributes.fingerprints=n.fingerprints,d.attributes.candidates=i,d.attributes.setup=o,"application"===d.media.mediaType&&(d.attributes.sctpPort="5000"),"video"===d.media.mediaType&&(d.media.fmts=l.videoCodecs.map((e=>e.payloadType.toString(10))),d.attributes.payloads=l.videoCodecs,d.attributes.extmaps=l.videoExtensions,NU("PRELOAD_MEDIA_COUNT")>0)){const{ssrcs:e,ssrcGroups:t}=Cw([{ssrcId:Lk,rtx:NU("USE_SUB_RTX")?40001:void 0}],this.cname);d.attributes.ssrcs=e,d.attributes.ssrcGroups=t}if("audio"===d.media.mediaType&&(d.media.fmts=l.audioCodecs.map((e=>e.payloadType.toString(10))),d.attributes.payloads=l.audioCodecs,d.attributes.extmaps=l.audioExtensions,Tw(d),NU("PRELOAD_MEDIA_COUNT")>0)){const{ssrcs:e,ssrcGroups:t}=Cw([{ssrcId:Mk}],this.cname);d.attributes.ssrcs=e,d.attributes.ssrcGroups=t}}this.sessionDesc=c,this.currentMidIndex=c.mediaDescriptions.length-1}updateRemoteRTPCapabilities(e){const t=Y_.parse(Jk);this._rtpCapabilities=e;const n=this.rtpCapabilities.send;for(const i of t.mediaDescriptions){if(i.attributes.iceUfrag=this._iceParameters.iceUfrag,i.attributes.icePwd=this._iceParameters.icePwd,i.attributes.fingerprints=this._dtlsParameters.fingerprints,i.attributes.candidates=this._candidates,i.attributes.setup=this.setup,"application"===i.media.mediaType&&(i.attributes.sctpPort="5000"),"video"===i.media.mediaType&&(i.media.fmts=n.videoCodecs.map((e=>e.payloadType.toString(10))),i.attributes.payloads=n.videoCodecs,i.attributes.extmaps=n.videoExtensions,NU("PRELOAD_MEDIA_COUNT")>0)){const{ssrcs:e,ssrcGroups:t}=Cw([{ssrcId:Lk,rtx:NU("USE_SUB_RTX")?40001:void 0}],this.cname);i.attributes.ssrcs=e,i.attributes.ssrcGroups=t}if("audio"===i.media.mediaType&&(i.media.fmts=n.audioCodecs.map((e=>e.payloadType.toString(10))),i.attributes.payloads=n.audioCodecs,i.attributes.extmaps=n.audioExtensions,NU("PRELOAD_MEDIA_COUNT")>0)){const{ssrcs:e,ssrcGroups:t}=Cw([{ssrcId:Mk}],this.cname);i.attributes.ssrcs=e,i.attributes.ssrcGroups=t}}this.sessionDesc=t,this.currentMidIndex=t.mediaDescriptions.length-1}preloadRemoteMedia(e){this.rtpCapabilities;const t=this.candidates,n=this.dtlsParameters,i=this.iceParameters,r=this.rtpCapabilities.send;for(let o=1;o<e;o++){const e=2*o+Mk,a=2*o+Lk,{ssrcs:s,ssrcGroups:c}=Cw([{ssrcId:e}],this.cname),{ssrcs:l,ssrcGroups:d}=Cw([{ssrcId:a,rtx:NU("USE_SUB_RTX")?a+1:void 0}],this.cname);this.sessionDesc.mediaDescriptions.push({media:{mediaType:"video",port:xk,protos:["UDP","TLS","RTP","SAVPF"],fmts:r.videoCodecs.map((e=>e.payloadType.toString(10)))},connections:[{nettype:"IN",addrtype:"IP4",address:"127.0.0.1"}],bandwidths:[],attributes:{iceUfrag:i.iceUfrag,icePwd:i.icePwd,unrecognized:[],candidates:t,extmaps:r.videoExtensions,fingerprints:n.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:l,ssrcGroups:d,rtcpFeedbackWildcards:[],payloads:r.videoCodecs,rtcp:{port:"9",netType:"IN",addressType:"IP4",address:"0.0.0.0"},setup:this.setup,direction:"sendonly",rtcpMux:!0,rtcpRsize:!0,mid:"".concat(2*o-1)}}),this.sessionDesc.mediaDescriptions.push({media:{mediaType:"audio",port:xk,protos:["UDP","TLS","RTP","SAVPF"],fmts:r.audioCodecs.map((e=>e.payloadType.toString(10)))},connections:[{nettype:"IN",addrtype:"IP4",address:"127.0.0.1"}],bandwidths:[],attributes:{iceUfrag:i.iceUfrag,icePwd:i.icePwd,unrecognized:[],candidates:t,extmaps:r.audioExtensions,fingerprints:n.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:s,ssrcGroups:c,rtcpFeedbackWildcards:[],payloads:r.audioCodecs,rtcp:{port:"9",netType:"IN",addressType:"IP4",address:"0.0.0.0"},setup:this.setup,direction:"sendonly",rtcpMux:!0,rtcpRsize:!0,mid:"".concat(2*o)}}),this.currentMidIndex+=2}this.updateBundleMids()}toString(){return Y_.print(this.sessionDesc)}send(e,t,n,i){const{ssrcs:r,ssrcGroups:o}=Cw(t,this.cname,NU("SYNC_GROUP")?n:void 0),a=this.findPreloadMediaDesc(r);if(a){if(QE()&&this.firefoxSsrcMidMap.set(r[0].ssrcId,a.attributes.mid),i&&(i.twcc||i.remb)){const e=this.sessionDesc.mediaDescriptions.indexOf(a);return this.sessionDesc.mediaDescriptions[e]=this.mungSendMediaDesc(a,i),{mid:a.attributes.mid,needExchangeSDP:!0}}return{mid:a.attributes.mid,needExchangeSDP:!1}}{const t=this.findAvailableMediaIndex(e,r);let n;return-1===t||IE()||UE()||RE()||0===t&&NU("USE_SUB_RTX")?(n=this.createOrRecycleSendMedia(e,r,o,"sendonly",i),this.updateBundleMids()):(n=SC(this.sessionDesc.mediaDescriptions[t]),n.attributes.direction="sendonly",n.attributes.ssrcs=r,n.attributes.ssrcGroups=o,this.sessionDesc.mediaDescriptions[t]=this.mungSendMediaDesc(n,i)),QE()&&this.firefoxSsrcMidMap.set(r[0].ssrcId,n.attributes.mid),{mid:n.attributes.mid,needExchangeSDP:!0}}}batchSend(e){const t=e.map((e=>{let{kind:t,ssrcMsg:n,mslabel:i}=e;return this.send(t,n,i)})),n=[];let i=!1;return t.forEach((e=>{let{mid:t,needExchangeSDP:r}=e;r&&(i=!0),n.push(t)})),{mids:n,needExchangeSDP:i}}stopSending(e){const t=this.sessionDesc.mediaDescriptions.filter((t=>t.attributes.mid&&-1!==e.indexOf(t.attributes.mid)));if(t.length!==e.length)throw new Error("mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.stopSending.");t.forEach((e=>{"0"===e.attributes.mid||QE()||IE()||UE()?e.attributes.ssrcs=[]:(e.attributes.ssrcs=[],e.attributes.direction="inactive",e.media.port="0")})),this.updateBundleMids()}mute(e){const t=this.sessionDesc.mediaDescriptions.find((t=>t.attributes.mid===e));if(!t)throw new Error("mediaDescription not found with ".concat(e," in remote SDP when calling RemoteSDP.mute."));t.attributes.direction="inactive"}unmute(e){const t=this.sessionDesc.mediaDescriptions.find((t=>t.attributes.mid===e));if(!t)throw new Error("mediaDescription not found with ".concat(e," in remote SDP when calling RemoteSDP.unmute."));t.attributes.direction="sendonly"}muteRemote(e){const t=this.sessionDesc.mediaDescriptions.filter((t=>Fi(e).call(e,t.attributes.mid||"")));if(t.length!==e.length)throw new Error("mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.muteRemote.");t.forEach((e=>{e.attributes.direction="inactive"}))}unmuteRemote(e){const t=this.sessionDesc.mediaDescriptions.filter((t=>Fi(e).call(e,t.attributes.mid||"")));if(t.length!==e.length)throw new Error("mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.muteRemote.");t.forEach((e=>{e.attributes.direction="recvonly"}))}receive(e,t,n,i){e.forEach(((e,r)=>{this.createOrRecycleRecvMedia(e,[],"recvonly",t,n,i[r])})),this.updateBundleMids()}stopReceiving(e){const t=this.sessionDesc.mediaDescriptions.filter((t=>-1!==e.indexOf(t.attributes.mid)));if(t.length!==e.length)throw new Error("MediaDescriptions' length doesn't match mids's length when calling RemoteSDP.receive.");t.forEach((e=>{e.media.port="0",e.attributes.direction="inactive"})),this.updateBundleMids()}updateCandidates(e){e===Ab.TCP?this._candidates.forEach((e=>{-1===this._candidates.findIndex((t=>"tcp"===t.transport&&t.connectionAddress===e.connectionAddress&&t.port===e.port))&&this._candidates.push(Ok(Ok({},e),{},{foundation:"tcpcandidate",priority:Number(e.priority)-1+"",transport:"tcp",port:Number(e.port)+90+""}))})):this._candidates=this._candidates.filter((e=>"tcp"!==e.transport));for(const t of this.sessionDesc.mediaDescriptions)t.attributes.candidates=this.candidates}restartICE(e){e=SC(e),this._iceParameters=e,this.sessionDesc.mediaDescriptions.forEach((t=>{t.attributes.iceUfrag=e.iceUfrag,t.attributes.icePwd=e.icePwd}))}predictReceivingMids(e){const t=[];for(let n=0;n<e;n++)t.push((this.currentMidIndex+n+1).toString(10));return t}findAvailableMediaIndex(e,t){return this.sessionDesc.mediaDescriptions.findIndex((n=>{const i=n.media.mediaType===e&&"0"!==n.media.port&&("sendonly"===n.attributes.direction||"sendrecv"===n.attributes.direction)&&0===n.attributes.ssrcs.length;if(QE()){if(i){const e=this.firefoxSsrcMidMap.get(t[0].ssrcId);return!(e||"0"!==n.attributes.mid&&"1"!==n.attributes.mid)||!(!e||e!==n.attributes.mid)}return!1}return i}))}createOrRecycleRecvMedia(e,t,n,i,r,o){const a=e._mediaStreamTrack.kind,s=this.rtpCapabilities.recv,c=_w(a,s,this.localCapabilities.send,a===hb.VIDEO?i:r),l=a===hb.VIDEO?s.videoExtensions:s.audioExtensions;this.currentMidIndex+=1;const d="".concat(this.currentMidIndex);let u={media:{mediaType:a,port:xk,protos:["UDP","TLS","RTP","SAVPF"],fmts:c.map((e=>e.payloadType.toString(10)))},connections:[{nettype:"IN",addrtype:"IP4",address:"127.0.0.1"}],bandwidths:[],attributes:{iceUfrag:this.iceParameters.iceUfrag,icePwd:this.iceParameters.icePwd,unrecognized:[],candidates:this.candidates,extmaps:l,fingerprints:this.dtlsParameters.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:t,ssrcGroups:[],rtcpFeedbackWildcards:[],payloads:c,rtcp:{port:"9",netType:"IN",addressType:"IP4",address:"0.0.0.0"},setup:this.setup,direction:n,rtcpMux:!0,rtcpRsize:!0,mid:"".concat(d)}};u=this.mungRecvMediaDsec(u,e,o);const h=this.findFirstClosedMedia(a);if(h){const e=this.sessionDesc.mediaDescriptions.indexOf(h);this.sessionDesc.mediaDescriptions[e]=u}else this.sessionDesc.mediaDescriptions.push(u);return u}updateRemoteCodec(e,t,n){const i=[...new Set(this._rtpCapabilities.recv.videoCodecs.map((e=>e.rtpMap&&e.rtpMap.encodingName.toLowerCase()||"")).filter((e=>{var t;return Fi(t=Object.keys(VU)).call(t,e)})))],r=new Set(t);if(i.every((e=>r.has(e))))return YU.debug("codecs has not changed, no need to updateRemoteCodec, codecs: ".concat(t)),!1;const o=this._rtpCapabilities.recv.videoCodecs.filter((e=>t.some((t=>{var n;return Fi(n=e.rtpMap&&e.rtpMap.encodingName.toLowerCase()||"").call(n,t)}))));if(0===o.length)return YU.debug("updateRemoteCodec failed, because cannot find matched codec, remoteCapabilities codecs: ".concat(i," codecs: ").concat(t)),!1;const a=[...new Set(o.map((e=>e.rtpMap&&e.rtpMap.encodingName.toLowerCase()||"")))];let s;if(YU.debug("updateRemoteCodec, from ".concat(i," to ").concat(a)),0===e.length)s=this.sessionDesc.mediaDescriptions.filter((e=>"video"===e.media.mediaType&&"recvonly"===e.attributes.direction));else if(s=this.sessionDesc.mediaDescriptions.filter((t=>t.attributes.mid&&Fi(e).call(e,t.attributes.mid)&&"recvonly"===t.attributes.direction)),s.length!==e.length)return YU.debug("updateRemoteCodec failed, because cannot find mids, mids: ".concat(e,", codecs: ").concat(t)),!1;this._rtpCapabilities.recv.videoCodecs=o;const c=this.localCapabilities.send,l=this.rtpCapabilities.recv,d=_w(hb.VIDEO,l,c,n);return s.forEach((e=>{const t=d.map((e=>e.payloadType.toString(10)));YU.debug("updateRemoteCodec mid: ".concat(e.attributes.mid,", from ").concat(e.attributes.payloads," to ").concat(d)),e.attributes.payloads=d,e.media.fmts=t})),!0}createOrRecycleSendMedia(e,t,n,i,r){const o=this.rtpCapabilities.send,a=e===hb.VIDEO?o.videoCodecs:o.audioCodecs,s=e===hb.VIDEO?o.videoExtensions:o.audioExtensions;this.currentMidIndex+=1;const c="".concat(this.currentMidIndex);let l={media:{mediaType:e,port:xk,protos:["UDP","TLS","RTP","SAVPF"],fmts:a.map((e=>e.payloadType.toString(10)))},connections:[{nettype:"IN",addrtype:"IP4",address:"127.0.0.1"}],bandwidths:[],attributes:{iceUfrag:this.iceParameters.iceUfrag,icePwd:this.iceParameters.icePwd,unrecognized:[],candidates:this.candidates,extmaps:s,fingerprints:this.dtlsParameters.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:t,ssrcGroups:n,rtcpFeedbackWildcards:[],payloads:a,rtcp:{port:"9",netType:"IN",addressType:"IP4",address:"0.0.0.0"},setup:this.setup,direction:i,rtcpMux:!0,rtcpRsize:!0,mid:"".concat(c)}};l=this.mungSendMediaDesc(l,r);const d=this.findFirstClosedMedia(e);if(d){const e=this.sessionDesc.mediaDescriptions.indexOf(d);this.sessionDesc.mediaDescriptions[e]=l}else this.sessionDesc.mediaDescriptions.push(l);return l}updateBundleMids(){this.sessionDesc.attributes.groups[0].identificationTag=this.sessionDesc.mediaDescriptions.filter((e=>"0"!==e.media.port)).map((e=>e.attributes.mid))}mungRecvMediaDsec(e,t,n){const i=SC(e);return Qw(i),Iw(i,t),Uw(i,t),yw(i),bw(i,n,this.localCapabilities.send),i}mungSendMediaDesc(e,t){const n=SC(e);return bw(n,t,this.localCapabilities.recv),Tw(n),n}updateRecvMedia(e,t){const n=this.sessionDesc.mediaDescriptions.findIndex((t=>t.attributes.mid===e));if(-1!==n){const e=this.mungRecvMediaDsec(this.sessionDesc.mediaDescriptions[n],t);this.sessionDesc.mediaDescriptions[n]=e}}bumpMid(e){this.currentMidIndex+=e}findFirstClosedMedia(e){return this.sessionDesc.mediaDescriptions.find((t=>QE()?"0"===t.media.port&&t.media.mediaType===e:"0"===t.media.port))}findPreloadMediaDesc(e){return this.sessionDesc.mediaDescriptions.find((t=>{var n;return(null===(n=t.attributes)||void 0===n||null===(n=n.ssrcs[0])||void 0===n?void 0:n.ssrcId)===e[0].ssrcId}))}getSSRC(e){var t;return null===(t=this.sessionDesc.mediaDescriptions.find((t=>t.attributes.mid===e)))||void 0===t?void 0:t.attributes.ssrcs}}function Gk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Yk(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gk(Object(n),!0).forEach((function(t){ih(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gk(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}class jk extends Db{get currentLocalDescription(){return this.peerConnection.currentLocalDescription}get currentRemoteDescription(){return this.peerConnection.currentRemoteDescription}get peerConnectionState(){return this.peerConnection.connectionState}get iceConnectionState(){return this.peerConnection.iceConnectionState}get localCodecs(){let e;return this.localCapabilities&&(e=Bw(this.localCapabilities)),[...new Set(e&&e.send.videoCodecs.map((e=>e.rtpMap&&e.rtpMap.encodingName.toLowerCase()||"")).filter((e=>{var t;return Fi(t=Object.keys(VU)).call(t,e)})))]}constructor(e,t,n){super(e,t),ih(this,"store",void 0),ih(this,"peerConnection",void 0),ih(this,"remoteSDP",void 0),ih(this,"initialOffer",void 0),ih(this,"transportEventReceiver",void 0),ih(this,"statsFilter",void 0),ih(this,"useXR",NU("USE_XR")),ih(this,"localCapabilities",void 0),ih(this,"localCandidateCount",0),ih(this,"allCandidatesReceived",!1),ih(this,"remoteCodecs",void 0),ih(this,"dataStreamChannelMap",new Map),ih(this,"establishPromise",void 0),ih(this,"mutex",new YC("NVExtentionsConnection-mutex")),ih(this,"rtcMedia",void 0),this.store=t,this.peerConnection=n,this.statsFilter=hw(this.peerConnection,NU("STATS_UPDATE_INTERVAL"),void 0,QE()?1200:void 0),this.bindPCEvents(),this.bindStatsEvents(),this.store.p2pId=this.store.p2pId+1,this.establishPromise=this.establish()}async establish(e){try{const e=await this.peerConnection.createOffer();if(!e.sdp)throw new Error("Cannot get initialOffer.sdp when trying to establish PeerConnection.");const t=fw(e.sdp),n=await Rw({filterRTX:!NU("USE_PUB_RTX")&&!NU("USE_SUB_RTX"),filterVideoFec:NU("FILTER_VIDEO_FEC"),filterAudioFec:NU("FILTER_AUDIO_FEC"),filterVideoCodec:NU("FILTER_VIDEO_CODEC")},{useXR:this.useXR});return this.localCapabilities=n,this.initialOffer=e,Yk(Yk({},t),{},{rtpCapabilities:n,offerSDP:e.sdp})}catch(e){throw new Wy(ZE.GET_LOCAL_CONNECTION_PARAMS_FAILED,e.toString())}}async connect(e,t,n,i,r,o){try{if(!this.initialOffer)throw new Error("Cannot establish NVConnection without initial offer.");this.remoteSDP=new Pk({remoteIceParameters:e,remoteDtlsParameters:t,candidates:n,remoteRTPCapabilities:i,remoteSetup:r,localCapabilities:Bw(this.localCapabilities),cname:o});const a=this.remoteSDP.toString(),s=Y_.parse(this.initialOffer.sdp),c=s.mediaDescriptions.find((e=>"audio"===e.media.mediaType));c&&Tw(c),this.useXR&&Nw(s);const l=Y_.print(s),d=this.logSDPExchange(l||"","offer","local","connect");await this.peerConnection.setLocalDescription({type:"offer",sdp:l}),null==d||d(a),await this.peerConnection.setRemoteDescription({type:"answer",sdp:a})}catch(e){throw new Wy(ZE.EXCHANGE_SDP_FAILED,"NV.connect failed; ".concat(e.toString()))}}async updateRemoteRTPCapabilities(e,t){if(this.remoteCodecs=t,this.remoteSDP)if(this.remoteSDP.updateRemoteCodec(e,t,this.store.codec)){const e=await this.peerConnection.createOffer(),t=this.logSDPExchange(e.sdp||"","offer","local","muteLocal");await this.peerConnection.setLocalDescription(e);const n=this.remoteSDP.toString();null==t||t(n),await this.peerConnection.setRemoteDescription({type:"answer",sdp:n})}else YU.debug("[P2PConnection] updateRemoteRTPCapabilities no need to exchange SDP.");else YU.debug("[P2PConnection] cannot updateRemoteRTPCapabilities before remote SDP created, local codecs: ".concat(this.localCodecs,", codecs: ").concat(t))}async updateRemoteConnect(e){var t,n,i,r;null===(t=this.remoteSDP)||void 0===t||t.updateRemoteRTPCapabilities(e),Array.isArray(this.remoteCodecs)&&this.remoteCodecs.length>0&&(null===(r=this.remoteSDP)||void 0===r||r.updateRemoteCodec([],this.remoteCodecs,this.store.codec)),null===(n=this.remoteSDP)||void 0===n||n.preloadRemoteMedia(2);const o=null===(i=this.remoteSDP)||void 0===i?void 0:i.toString();await this.peerConnection.setRemoteDescription({type:"offer",sdp:o});const a=await this.peerConnection.createAnswer();await this.peerConnection.setLocalDescription(a),YU.debug("[NVExtentionsConnection] updateRemoteRTPCapabilities by exchanging SDP.")}send(e,t,n){var i=this;return B_((function*(){const r=yield I_(i.mutex.lock("From NVExtentionsConnection.send"));try{if(!i.remoteSDP)throw new Error("Cannot call NVExtentionsConnection.send before remote SDP created");const o=[];e.forEach((e=>{const t=i.peerConnection.addTransceiver(e._mediaStreamTrack,{direction:"sendonly"});o.push(t)})),QE()&&!0===NU("SIMULCAST")&&(yield I_(i.applySimulcastForFirefox(o,e)));const a=yield I_(i.peerConnection.createOffer()),s=i.remoteSDP.predictReceivingMids(e.length),c=i.mungSendOfferSDP(a.sdp,e,s),l=Y_.parse(c),d=s.map((e=>{const t=l.mediaDescriptions.find((t=>t.attributes.mid===e));if(!t)throw new Error("Cannot extract ssrc from mediaDescription.");return mw(t,NU("USE_PUB_RTX"))}));let u;try{u=yield d}catch(r){u=[],i.remoteSDP.receive(e,t,n,u);const o=i.remoteSDP.toString();throw yield I_(i.peerConnection.setLocalDescription({type:"offer",sdp:c})),yield I_(i.peerConnection.setRemoteDescription({type:"answer",sdp:o})),yield I_(i.stopSending(s,!0)),r}i.remoteSDP.receive(e,t,n,u);const h=i.remoteSDP.toString(),A=i.logSDPExchange(c,"offer","local","send");return yield I_(i.peerConnection.setLocalDescription({type:"offer",sdp:c})),yield I_(i.applySimulcastEncodings(o,e)),yield I_(i.applySendEncodings(o,e)),null==A||A(h),yield I_(i.peerConnection.setRemoteDescription({type:"answer",sdp:h})),o.map(((e,t)=>{const n=s[t];return{localSSRC:d[t],id:n,transceiver:e}}))}catch(e){throw e instanceof Wy?e:new Wy(ZE.EXCHANGE_SDP_FAILED,"NVExtentionsConnection.send failed; ".concat(e.toString()))}finally{r()}}))()}async stopSending(e,t){const n=t?void 0:await this.mutex.lock("From NVExtentionsConnection.stopSending");try{if(!this.remoteSDP)throw new Error("Cannot call NVExtentionsConnection.stopSending before remote SDP created");const t=this.peerConnection.getTransceivers().filter((t=>-1!==e.indexOf(t.mid)));if(t.length!==e.length)throw new Error("Transceivers' length doesn't match mids' length when trying to call NVExtentionsConnection.stopSending.");t.map((e=>{var t;e.direction="inactive",null===(t=e.stop)||void 0===t||t.call(e)}));const n=await this.peerConnection.createOffer(),i=this.logSDPExchange(n.sdp||"","offer","local","stopSending");await this.peerConnection.setLocalDescription(n),this.remoteSDP.stopReceiving(e);const r=this.remoteSDP.toString();null==i||i(r),await this.peerConnection.setRemoteDescription({type:"answer",sdp:r})}catch(e){throw new Wy(ZE.EXCHANGE_SDP_FAILED,"NVExtentionsConnection.stopSending failed; ".concat(e.toString()))}finally{n&&n()}}async createDataChannels(e,t){try{if(!this.remoteSDP)throw new Error("Cannot call NVExtentionsConnection.createDataChannels before remote SDP created");let n=this.dataStreamChannelMap.get(e);return n&&"open"===n.readyState?YU.debug("[P2PConnection] Channels are already available and can be reused directly."):(n=this.peerConnection.createDataChannel("datastream-channel",{ordered:!1,maxRetransmits:NU("DATASTREAM_MAX_RETRANSMITS")}),n.binaryType="arraybuffer",this.dataStreamChannelMap.set(e,n)),void t.forEach((e=>{e._updateOriginDataChannel(n)}))}catch(e){throw e instanceof Wy?e:new Wy(ZE.DATACHANNEL_FAILED,"NVExtentionsConnection.createDataChannels failed; ".concat(e.toString()))}}async stopDataChannels(e){try{const t=this.dataStreamChannelMap.get(e);return null==t||t.close(),void this.dataStreamChannelMap.delete(e)}catch(e){throw e instanceof Wy?e:new Wy(ZE.DATACHANNEL_FAILED,"NVExtentionsConnection.stopDataChannels failed; ".concat(e.toString()))}}async receive(e,t,n,i){try{if(!this.remoteSDP)throw new Error("Cannot call NVExtentionsConnection.receive ".concat(e," before remoteSDP created."));const{mid:r,needExchangeSDP:o}=this.remoteSDP.send(e,t,n,i);if(o){const t=this.remoteSDP.toString(),n=this.logSDPExchange(t,"offer","remote","receive");await this.peerConnection.setRemoteDescription({type:"offer",sdp:t});const i=await this.peerConnection.createAnswer(),o=this.mungReceiveAnswerSDP(i.sdp,r,e);null==n||n(o||""),await this.peerConnection.setLocalDescription({type:"answer",sdp:o}),YU.debug("[NVExtentionsConnection] receive ".concat(e," by exchanging SDP."))}else YU.debug("[NVExtentionsConnection] receive ".concat(e," no need to exchange SDP."));const a=this.peerConnection.getTransceivers().find((e=>e.mid===r));if(!a)throw new Error("Cannot get transceiver after setLocalDescription.");return{track:a.receiver.track,id:r}}catch(e){throw new Wy(ZE.EXCHANGE_SDP_FAILED,"NVExtentionsConnection.receive failed; ".concat(e.toString()))}}async batchReceive(e){try{if(!this.remoteSDP)throw new Error("Cannot call NVExtentionsConnection.batchReceive before remoteSDP created.");const{mids:t,needExchangeSDP:n}=this.remoteSDP.batchSend(e);if(n){const e=this.remoteSDP.toString(),t=this.logSDPExchange(e,"offer","remote","receive");await this.peerConnection.setRemoteDescription({type:"offer",sdp:e});const n=await this.peerConnection.createAnswer();null==t||t(n.sdp||""),await this.peerConnection.setLocalDescription(n),YU.debug("[NVExtentionsConnection] batchReceive by exchanging SDP.")}else YU.debug("[NVExtentionsConnection] batchReceive no need to exchange SDP.");return t.map((e=>{const t=this.peerConnection.getTransceivers().find((t=>t.mid===e));if(!t)throw new Error("Cannot get transceiver after setLocalDescription.");return{track:t.receiver.track,id:e}}))}catch(e){throw new Wy(ZE.EXCHANGE_SDP_FAILED,"NVExtentionsConnection.receive failed; ".concat(e.toString()))}}async stopReceiving(e){try{if(!this.remoteSDP)throw new Error("Cannot call NVExtentionsConnection.stopReceiving before remote SDP created.");this.remoteSDP.stopSending(e);const t=this.remoteSDP.toString(),n=this.logSDPExchange(t,"offer","remote","stopReceiving");await this.peerConnection.setRemoteDescription({type:"offer",sdp:t});const i=await this.peerConnection.createAnswer();null==n||n(i.sdp||""),await this.peerConnection.setLocalDescription(i)}catch(e){throw new Wy(ZE.EXCHANGE_SDP_FAILED,"NVExtentionsConnection stopReceiving failed; ".concat(e.toString()))}}async muteRemote(e){try{if(!this.remoteSDP)throw new Error("Cannot call NVExtentionsConnection.muteRemote mid=".concat(e," before remote SDP created."));this.remoteSDP.mute(e);const t=this.remoteSDP.toString(),n=this.logSDPExchange(t,"offer","remote","muteRemote");await this.peerConnection.setRemoteDescription({type:"offer",sdp:t});const i=await this.peerConnection.createAnswer();null==n||n(i.sdp||""),await this.peerConnection.setLocalDescription(i)}catch(e){throw new Wy(ZE.EXCHANGE_SDP_FAILED,"NVExtentionsConnection.muteRemote failed; ".concat(e.toString()))}}async unmuteRemote(e){try{if(!this.remoteSDP)throw new Error("Cannot call NVExtentionsConnection.unmuteRemote mid=".concat(e," before remote SDP created."));this.remoteSDP.unmute(e);const t=this.remoteSDP.toString(),n=this.logSDPExchange(t,"offer","remote","unmuteRemote");await this.peerConnection.setRemoteDescription({type:"offer",sdp:t});const i=await this.peerConnection.createAnswer();null==n||n(i.sdp||""),await this.peerConnection.setLocalDescription(i)}catch(e){throw new Wy(ZE.EXCHANGE_SDP_FAILED,"NVExtentionsConnection.unmuteRemote failed; ".concat(e.toString()))}}async muteLocal(e){try{if(!this.remoteSDP)throw new Error("Cannot call NVExtentionsConnection.muteLocal before remote SDP created.");const t=this.peerConnection.getTransceivers().filter((t=>t.mid&&-1!==e.indexOf(t.mid)));if(t.length!==e.length)throw new Error("Transceivers' length doesn't match mids' length.");t.map((e=>{e.direction="inactive"}));const n=await this.peerConnection.createOffer(),i=this.logSDPExchange(n.sdp||"","offer","local","muteLocal");await this.peerConnection.setLocalDescription(n),this.remoteSDP.muteRemote(e);const r=this.remoteSDP.toString();null==i||i(r),await this.peerConnection.setRemoteDescription({type:"answer",sdp:r})}catch(e){throw new Wy(ZE.EXCHANGE_SDP_FAILED,"NVExtentionsConnection.muteLocal failed; ".concat(e.toString()))}}async unmuteLocal(e){try{if(!this.remoteSDP)throw new Error("Cannot call NVExtentionsConnection.unmuteLocal before remote SDP created.");const t=this.peerConnection.getTransceivers().filter((t=>t.mid&&-1!==e.indexOf(t.mid)));if(t.length!==e.length)throw new Error("Transceivers' length doesn't match mids' length.");t.map((async(e,t)=>{e.direction="sendonly"}));const n=await this.peerConnection.createOffer(),i=this.logSDPExchange(n.sdp||"","offer","local","unmuteLocal");await this.peerConnection.setLocalDescription(n),this.remoteSDP.unmuteRemote(e);const r=this.remoteSDP.toString();null==i||i(r),await this.peerConnection.setRemoteDescription({type:"answer",sdp:r})}catch(e){throw new Wy(ZE.EXCHANGE_SDP_FAILED,"NVExtentionsConnection.unmuteLocal failed; ".concat(e.toString()))}}restartICE(e){var t=this;return B_((function*(){const n=yield I_(t.mutex.lock("From NVExtentionsConnection.restartICE"));try{if(!t.remoteSDP)throw new Error("Cannot restartICE before remoteSDP created.");if(FR().supportPCSetConfiguration){const n=t.peerConnection.getConfiguration(),i=e===Ab.RELAY?"relay":"all";n.iceTransportPolicy!==i&&(YU.debug("restartICE change iceTransportPolicy from [".concat(n.iceTransportPolicy,"] to [").concat(i,"]")),n.iceTransportPolicy=i,t.peerConnection.setConfiguration(n))}else if(e===Ab.RELAY)return;e!==Ab.RELAY&&t.remoteSDP.updateCandidates(e);const n=yield I_(t.peerConnection.createOffer({iceRestart:!0}));if(!n.sdp)throw new Error("Cannot restartICE because restart offer SDP does not exist.");const i=fw(n.sdp),{remoteIceParameters:r}=yield i.iceParameters;t.remoteSDP.restartICE(r);const o=t.remoteSDP.toString(),a=t.logSDPExchange(n.sdp||"","offer","local","restartICE");yield I_(t.peerConnection.setLocalDescription(n)),null==a||a(o),yield I_(t.peerConnection.setRemoteDescription({type:"answer",sdp:o}))}catch(e){YU.warning("restart ICE failed, abort operation",e)}finally{n()}}))()}close(){var e;null===(e=this.onConnectionStateChange)||void 0===e||e.call(this,"closed"),this.unbindPCEvents(),this.unbindStatsEvents(),this.removeAllListeners(),this.transportEventReceiver=void 0,this.statsFilter.destroy(),this.dataStreamChannelMap.clear()}getStats(){return this.statsFilter.getStats()}getRemoteVideoIsReady(e){return this.statsFilter.getVideoIsReady(e)}async updateEncoderConfig(e,t){try{if(!this.remoteSDP)throw new Error("Cannot call NVExtentionsConnection.updateEncoderConfig before remote SDP created.");const n=await this.peerConnection.createOffer(),i=this.mungSendOfferSDP(n.sdp,[t],[e]);this.remoteSDP.updateRecvMedia(e,t);const r=this.remoteSDP.toString(),o=this.logSDPExchange(i,"offer","local","updateEncoderConfig");await this.peerConnection.setLocalDescription({type:"offer",sdp:i}),null==o||o(r),await this.peerConnection.setRemoteDescription({type:"answer",sdp:r})}catch(e){throw new Wy(ZE.EXCHANGE_SDP_FAILED,e.toString())}}async updateSendParameters(e,t){const n=this.peerConnection.getTransceivers().filter((t=>t.mid===e));1===n.length&&(this.isVP8Simulcast(t)?QE()||await this.applySimulcastEncodings(n,[t]):await this.applySendEncodings(n,[t]))}setStatsRemoteVideoIsReady(e,t){this.statsFilter.setVideoIsReady2(e,t)}async replaceTrack(e,t){const n=this.peerConnection.getTransceivers().find((e=>e.mid===t));n&&await n.sender.replaceTrack(e._mediaStreamTrack)}getP2PConnectionParams(){var e;if(null===(e=this.peerConnection.currentLocalDescription)||void 0===e||!e.sdp||!this.localCapabilities)throw new Error;return Yk(Yk({},fw(this.peerConnection.currentLocalDescription.sdp)),{},{rtpCapabilities:this.localCapabilities})}bindPCEvents(){this.peerConnection.oniceconnectionstatechange=()=>{var e;null===(e=this.onICEConnectionStateChange)||void 0===e||e.call(this,this.peerConnection.iceConnectionState)},this.peerConnection.onconnectionstatechange=()=>{var e;null===(e=this.onConnectionStateChange)||void 0===e||e.call(this,this.peerConnection.connectionState)},this.peerConnection.onicecandidate=e=>{e.candidate?this.localCandidateCount+=1:(this.peerConnection.onicecandidate=null,this.allCandidatesReceived=!0,YU.debug("[pc-".concat(this.store.p2pId,"] local candidate count"),this.localCandidateCount))},setTimeout((()=>{this.allCandidatesReceived||(this.allCandidatesReceived=!0,YU.debug("[pc-".concat(this.store.p2pId,"] onicecandidate timeout, local candidate count"),this.localCandidateCount))}),NU("CANDIDATE_TIMEOUT"))}unbindPCEvents(){this.peerConnection.oniceconnectionstatechange=null,this.peerConnection.onconnectionstatechange=null,this.peerConnection.onsignalingstatechange=null,this.peerConnection.onicecandidateerror=null,this.peerConnection.onicecandidate=null,this.peerConnection.ontrack=null}static resolvePCConfiguration(e){const t={iceServers:[]};return e.iceServers?t.iceServers=e.iceServers:e.turnServer&&"off"!==e.turnServer.mode&&(pC(e.turnServer.servers)?t.iceServers=e.turnServer.servers:(t.iceServers&&t.iceServers.push(...jk.turnServerConfigToIceServers(e.turnServer.servers)),NU("USE_TURN_SERVER_OF_GATEWAY")&&t.iceServers&&e.turnServer.serversFromGateway&&t.iceServers.push(...jk.turnServerConfigToIceServers(e.turnServer.serversFromGateway)),NU("FORCE_TURN_TCP")?t.iceTransportPolicy="relay":e.turnServer.servers.concat(e.turnServer.serversFromGateway||[]).forEach((e=>{e.forceturn&&(t.iceTransportPolicy="relay")})))),t}static turnServerConfigToIceServers(e){const t=[];return e.forEach((e=>{e.security?e.tcpport&&t.push({username:e.username,credential:e.password,credentialType:"password",urls:"turns:".concat(yv(e.turnServerURL),":").concat(e.tcpport,"?transport=tcp")}):(e.udpport&&!NU("FORCE_TURN_TCP")&&t.push({username:e.username,credential:e.password,credentialType:"password",urls:"turn:".concat(e.turnServerURL,":").concat(e.udpport,"?transport=udp")}),e.tcpport&&t.push({username:e.username,credential:e.password,credentialType:"password",urls:"turn:".concat(e.turnServerURL,":").concat(e.tcpport,"?transport=tcp")}))})),t}async applySendEncodings(e,t){try{if(!FR().supportSetRtpSenderParameters)return;if(e.length!==t.length)return;for(let d=0;d<e.length;d++){const u=e[d],h=t[d];if(h&&h instanceof TF){var n,i,r;if(this.isVP8Simulcast(h))continue;const e={},t={};switch(h._optimizationMode){case"motion":e.degradationPreference="maintain-framerate";break;case"detail":e.degradationPreference="maintain-resolution";break;default:e.degradationPreference="balanced"}var o,a,s,c;if(null!==(n=h._encoderConfig)&&void 0!==n&&n.bitrateMax&&(t.maxBitrate=1e3*(null===(o=h._encoderConfig)||void 0===o?void 0:o.bitrateMax)),Fi(i=h._hints).call(i,YR.LOW_STREAM)&&(null!==(a=h._encoderConfig)&&void 0!==a&&a.frameRate&&(t.maxFramerate=vv(h._encoderConfig.frameRate)),null!==(s=h._encoderConfig)&&void 0!==s&&s.scaleResolutionDownBy&&(null===(c=h._encoderConfig)||void 0===c?void 0:c.scaleResolutionDownBy)>1&&(t.scaleResolutionDownBy=h._encoderConfig.scaleResolutionDownBy)),NU("DSCP_TYPE")&&kE()){var l;const e=NU("DSCP_TYPE");Fi(l=["very-low","low","medium","high"]).call(l,e)&&(t.networkPriority=e)}const d=u.sender.getParameters(),A=null===(r=d.encodings)||void 0===r?void 0:r[0];QE()&&!A&&(e.encodings=[t]),A&&Object.assign(A,t),Object.assign(d,e),await u.sender.setParameters(d)}}}catch(e){YU.debug("Apply RTPSendEncodings failed.")}}mungSendOfferSDP(e,t,n){const i=Y_.parse(e);return t.forEach(((e,t)=>{const r=n[t],o=i.mediaDescriptions.find((e=>e.attributes.mid===r));o&&(Iw(o,e),vw(o,e,this.store.codec))})),Y_.print(i)}mungReceiveAnswerSDP(e,t,n){const i=Y_.parse(e),r=i.mediaDescriptions.find((e=>e.attributes.mid===t));return r&&n===hb.AUDIO&&"audio"===r.media.mediaType&&Tw(r),this.useXR&&Nw(i),Y_.print(i)}bindStatsEvents(){this.statsFilter.onFirstAudioReceived=e=>{var t;null===(t=this.onFirstAudioReceived)||void 0===t||t.call(this,e)},this.statsFilter.onFirstVideoReceived=e=>{var t;null===(t=this.onFirstVideoReceived)||void 0===t||t.call(this,e)},this.statsFilter.onFirstAudioDecoded=e=>{var t;null===(t=this.onFirstAudioDecoded)||void 0===t||t.call(this,e)},this.statsFilter.onFirstVideoDecoded=(e,t,n)=>{var i;null===(i=this.onFirstVideoDecoded)||void 0===i||i.call(this,e,t,n)},this.statsFilter.onSelectedLocalCandidateChanged=(e,t)=>{var n;null===(n=this.onSelectedLocalCandidateChanged)||void 0===n||n.call(this,e,t)},this.statsFilter.onSelectedRemoteCandidateChanged=(e,t)=>{var n;null===(n=this.onSelectedRemoteCandidateChanged)||void 0===n||n.call(this,e,t)},this.statsFilter.onFirstVideoDecodedTimeout=e=>{var t;null===(t=this.onFirstVideoDecodedTimeout)||void 0===t||t.call(this,e)}}unbindStatsEvents(){this.statsFilter.onFirstAudioReceived=void 0,this.statsFilter.onFirstVideoReceived=void 0,this.statsFilter.onFirstAudioDecoded=void 0,this.statsFilter.onFirstVideoDecoded=void 0,this.statsFilter.onSelectedLocalCandidateChanged=void 0,this.statsFilter.onSelectedRemoteCandidateChanged=void 0,this.statsFilter.onFirstVideoDecodedTimeout=void 0}async applySimulcastForFirefox(e,t){if(e.length===t.length)for(let s=0;s<e.length;s++){var n,i,r,o,a;const c=e[s],l=t[s];if(l instanceof TF&&!Fi(n=l._hints).call(n,YR.LOW_STREAM)&&null!==(i=l._encoderConfig)&&void 0!==i&&i.bitrateMax&&(null===(r=l._encoderConfig)||void 0===r?void 0:r.bitrateMax)>200&&null!==(o=l._scalabilityMode)&&void 0!==o&&o.numSpatialLayers&&(null===(a=l._scalabilityMode)||void 0===a?void 0:a.numSpatialLayers)>1&&"vp8"===this.store.codec){const e={},t={high:1e3*(l._encoderConfig.bitrateMax-50),medium:5e4};e.encodings=[{rid:"m",active:!0,maxBitrate:t.medium,scaleResolutionDownBy:4},{rid:"h",active:!0,maxBitrate:t.high}];const n=c.sender.getParameters();await c.sender.setParameters(Object.assign(n,e))}}}async applySimulcastEncodings(e,t){if(!QE()&&e.length===t.length)for(let n=0;n<e.length;n++){const i=t[n];if(i instanceof TF&&this.isVP8Simulcast(i)){const t=e[n],r={},o={high:1e3*(i._encoderConfig.bitrateMax-50),medium:5e4};r.encodings=[{active:!0,adaptivePtime:!1,networkPriority:"high",priority:"high",maxBitrate:o.high},{active:!0,adaptivePtime:!1,networkPriority:"low",priority:"low",maxBitrate:o.medium,scaleResolutionDownBy:4}];const a=t.sender.getParameters();await t.sender.setParameters(Object.assign(a,r))}}}isVP8Simulcast(e){var t,n,i,r,o;return!!(e instanceof TF&&NU("SIMULCAST")&&"vp8"===this.store.codec&&!Fi(t=e._hints).call(t,YR.LOW_STREAM)&&null!==(n=e._encoderConfig)&&void 0!==n&&n.bitrateMax&&(null===(i=e._encoderConfig)||void 0===i?void 0:i.bitrateMax)>200&&null!==(r=e._scalabilityMode)&&void 0!==r&&r.numSpatialLayers&&(null===(o=e._scalabilityMode)||void 0===o?void 0:o.numSpatialLayers)>1)}logSDPExchange(e,t,n,i){if(NU("SDP_LOGGING"))return YU.upload("exchanging ".concat(n," ").concat(t," SDP during NVExtentionsConnection.").concat(i,"\n"),e),"offer"===t?e=>{this.logSDPExchange(e,"answer","local"===n?"remote":"local",i)}:void 0}async getRemoteSSRC(e){if(!this.remoteSDP)return;const t=this.remoteSDP.getSSRC(e);return null==t?void 0:t[0].ssrcId}setConfiguration(e){if(FR().supportPCSetConfiguration){const t=jk.resolvePCConfiguration(e);this.peerConnection.setConfiguration(t)}}}function Xk(e,t,n){const i=e[t];if("function"!=typeof i)throw new Error("Cannot use mutex on object property.");return n.value=async function(){const e=this.mutex,n=await e.lock("From NVExtentionsConnection.".concat(t));try{for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return await i.apply(this,o)}finally{n()}},n}function Kk(e){var t,n,i,r=2;for("undefined"!=typeof Symbol&&(n=yk,i=Symbol.iterator);r--;){if(n&&null!=(t=e[n]))return t.call(e);if(i&&null!=(t=e[i]))return new Hk(t.call(e));n="@@asyncIterator",i="@@iterator"}throw new TypeError("Object is not async iterable")}function Hk(e){function t(e){if(Object(e)!==e)return tE.reject(new TypeError(e+" is not an object."));var t=e.done;return tE.resolve(e.value).then((function(e){return{value:e,done:t}}))}return Hk=function(e){this.s=e,this.n=e.next},Hk.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?tE.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?tE.reject(e):t(n.apply(this.s,arguments))}},new Hk(e)}Vy([Xk,Zy("design:type",Function),Zy("design:paramtypes",[Object,Object,Array,Object,String,String]),Zy("design:returntype",tE)],jk.prototype,"connect",null),Vy([Xk,Zy("design:type",Function),Zy("design:paramtypes",[Array,Array]),Zy("design:returntype",tE)],jk.prototype,"updateRemoteRTPCapabilities",null),Vy([Xk,Zy("design:type",Function),Zy("design:paramtypes",[Object]),Zy("design:returntype",tE)],jk.prototype,"updateRemoteConnect",null),Vy([Xk,Zy("design:type",Function),Zy("design:paramtypes",[Object,Array]),Zy("design:returntype",tE)],jk.prototype,"createDataChannels",null),Vy([Xk,Zy("design:type",Function),Zy("design:paramtypes",[String,Array,String,Object]),Zy("design:returntype",tE)],jk.prototype,"receive",null),Vy([Xk,Zy("design:type",Function),Zy("design:paramtypes",[Array]),Zy("design:returntype",tE)],jk.prototype,"batchReceive",null),Vy([Xk,Zy("design:type",Function),Zy("design:paramtypes",[Array]),Zy("design:returntype",tE)],jk.prototype,"stopReceiving",null),Vy([Xk,Zy("design:type",Function),Zy("design:paramtypes",[String]),Zy("design:returntype",tE)],jk.prototype,"muteRemote",null),Vy([Xk,Zy("design:type",Function),Zy("design:paramtypes",[String]),Zy("design:returntype",tE)],jk.prototype,"unmuteRemote",null),Vy([Xk,Zy("design:type",Function),Zy("design:paramtypes",[Array]),Zy("design:returntype",tE)],jk.prototype,"muteLocal",null),Vy([Xk,Zy("design:type",Function),Zy("design:paramtypes",[Array]),Zy("design:returntype",tE)],jk.prototype,"unmuteLocal",null),Vy([Xk,Zy("design:type",Function),Zy("design:paramtypes",[]),Zy("design:returntype",void 0)],jk.prototype,"close",null),Vy([Xk,Zy("design:type",Function),Zy("design:paramtypes",[String,pS]),Zy("design:returntype",tE)],jk.prototype,"updateEncoderConfig",null),Vy([Xk,Zy("design:type",Function),Zy("design:paramtypes",[String,pS]),Zy("design:returntype",tE)],jk.prototype,"updateSendParameters",null),Vy([Xk,Zy("design:type",Function),Zy("design:paramtypes",[pS,String]),Zy("design:returntype",tE)],jk.prototype,"replaceTrack",null),Vy([Xk,Zy("design:type",Function),Zy("design:paramtypes",[String]),Zy("design:returntype",tE)],jk.prototype,"getRemoteSSRC",null);class zk extends Db{get currentLocalDescription(){return this.peerConnection.currentLocalDescription}get currentRemoteDescription(){return this.peerConnection.currentRemoteDescription}get peerConnectionState(){return this.peerConnection.connectionState}get iceConnectionState(){return this.peerConnection.iceConnectionState}get localCodecs(){return this._p2pConnection.localCodecs}constructor(e,t){super(e,t),ih(this,"store",void 0),ih(this,"peerConnection",void 0),ih(this,"cname",void 0),ih(this,"mutex",new YC("DataChannelConnection-mutex")),ih(this,"dataChannel",void 0),ih(this,"_p2pConnection",void 0),ih(this,"establishPromise",void 0),ih(this,"_nvMedia",void 0),this.store=t,this.store.dcId=this.store.dcId+1,this.peerConnection=new RTCPeerConnection(zk.resolvePCConfiguration(e),{optional:[{googDscp:!0}]}),this.dataChannel=this.peerConnection.createDataChannel("agora-signal",{ordered:!1,maxPacketLifeTime:50}),this.dataChannel.binaryType="arraybuffer",this._p2pConnection=new jk(e,t,this.peerConnection),this.bindPCEvents(),this.establishPromise=this._p2pConnection.establishPromise}async establish(){var e;const t=null===(e=this._nvMedia)||void 0===e?void 0:e.getLocalRtpCapabilities();return await this._p2pConnection.establish(t)}getP2PConnectionParams(){return this._p2pConnection.getP2PConnectionParams()}async connect(e,t,n,i,r,o){return this.cname=o,await this._p2pConnection.connect(e,t,n,i,r,o),await new tE(((e,t)=>{const i=setTimeout((()=>{this.closeSignal(),t(new Wy(ZE.DATACHANNEL_CONNECTION_TIMEOUT,"Datachannel connection timed out, candidates: ".concat(JSON.stringify(n))))}),2e3);this.dataChannel.onopen=()=>{if("open"===this.dataChannel.readyState)return clearTimeout(i),void e()},this.dataChannel.onerror=e=>{this.closeSignal(),t(e)}})),{transmitter:this.dataChannel,close:this.closeSignal.bind(this)}}async updateRemoteRTPCapabilities(e,t){return this._p2pConnection.updateRemoteRTPCapabilities(e,t)}send(e,t,n){var i=this;return B_((function*(){const r=yield I_(i.mutex.lock("From DataChannelConnection.send"));try{return yield*Uk(Kk(i._p2pConnection.send(e,t,n)))}finally{r()}}))()}async stopSending(e,t){return this._p2pConnection.stopSending(e,t)}async createDataChannels(e,t){return this._p2pConnection.createDataChannels(e,t)}async stopDataChannels(e){return this._p2pConnection.stopDataChannels(e)}async receive(e,t,n,i){return this._nvMedia?(YU.debug("[DataChannelConnection] receive ".concat(e," by DataChannel.")),await this._nvMedia.reveiveByRTCMedia(e,t,this.cname)):(YU.debug("[DataChannelConnection] receive ".concat(e," by WebRTC.")),await this._p2pConnection.receive(e,t,n,i))}async batchReceive(e){return[...await this._p2pConnection.batchReceive(e)]}async stopReceiving(e){return await this._p2pConnection.stopReceiving(e)}async muteRemote(e){return await this._p2pConnection.muteRemote(e)}async unmuteRemote(e){return await this._p2pConnection.unmuteRemote(e)}async muteLocal(e){return await this._p2pConnection.muteLocal(e)}async unmuteLocal(e){return await this._p2pConnection.unmuteLocal(e)}restartICE(e){var t=this;return B_((function*(){return yield*Uk(Kk(t._p2pConnection.restartICE(e)))}))()}close(){var e;null===(e=this._nvMedia)||void 0===e||e.close(),this._p2pConnection.close(),this.unbindConnectionEvents(this._p2pConnection)}getStats(){return this._p2pConnection.getStats()}getRemoteVideoIsReady(e){return this._p2pConnection.getRemoteVideoIsReady(e)}updateRemoteConnect(e){var t;null===(t=this._nvMedia)||void 0===t||t.setRemoteRtpCapabilities(e),this._p2pConnection.updateRemoteConnect(e)}async updateEncoderConfig(e,t){return await this._p2pConnection.updateEncoderConfig(e,t)}async updateSendParameters(e,t){return await this._p2pConnection.updateSendParameters(e,t)}setStatsRemoteVideoIsReady(e,t){this._p2pConnection.setStatsRemoteVideoIsReady(e,t)}async replaceTrack(e,t){return await this._p2pConnection.replaceTrack(e,t)}async getRemoteSSRC(e){return this._p2pConnection.getRemoteSSRC(e)}logSDPExchange(e,t,n,i){if(NU("SDP_LOGGING"))return YU.upload("exchanging ".concat(n," ").concat(t," SDP during DataChannelConnection.").concat(i,"\n"),e),"offer"===t?e=>{this.logSDPExchange(e,"answer","local"===n?"remote":"local",i)}:void 0}static resolvePCConfiguration(e){const t={iceServers:[]};return e.iceServers?t.iceServers=e.iceServers:e.turnServer&&"off"!==e.turnServer.mode&&(pC(e.turnServer.servers)?t.iceServers=e.turnServer.servers:(t.iceServers&&t.iceServers.push(...zk.turnServerConfigToIceServers(e.turnServer.servers)),NU("USE_TURN_SERVER_OF_GATEWAY")&&t.iceServers&&e.turnServer.serversFromGateway&&t.iceServers.push(...zk.turnServerConfigToIceServers(e.turnServer.serversFromGateway)),NU("FORCE_TURN_TCP")?t.iceTransportPolicy="relay":e.turnServer.servers.concat(e.turnServer.serversFromGateway||[]).forEach((e=>{e.forceturn&&(t.iceTransportPolicy="relay")})))),t}static turnServerConfigToIceServers(e){const t=[];return e.forEach((e=>{e.security?e.tcpport&&t.push({username:e.username,credential:e.password,credentialType:"password",urls:"turns:".concat(yv(e.turnServerURL),":").concat(e.tcpport,"?transport=tcp")}):(e.udpport&&!NU("FORCE_TURN_TCP")&&t.push({username:e.username,credential:e.password,credentialType:"password",urls:"turn:".concat(e.turnServerURL,":").concat(e.udpport,"?transport=udp")}),e.tcpport&&t.push({username:e.username,credential:e.password,credentialType:"password",urls:"turn:".concat(e.turnServerURL,":").concat(e.tcpport,"?transport=tcp")}))})),t}bindPCEvents(){this._p2pConnection.onICEConnectionStateChange=e=>{var t;return null===(t=this.onICEConnectionStateChange)||void 0===t?void 0:t.call(this,e)},this._p2pConnection.onConnectionStateChange=e=>{var t;return null===(t=this.onConnectionStateChange)||void 0===t?void 0:t.call(this,e)},this._p2pConnection.onDTLSTransportStateChange=e=>{var t;return null===(t=this.onDTLSTransportStateChange)||void 0===t?void 0:t.call(this,e)},this._p2pConnection.onDTLSTransportError=e=>{var t;return null===(t=this.onDTLSTransportError)||void 0===t?void 0:t.call(this,e)},this._p2pConnection.onICETransportStateChange=e=>{var t;return null===(t=this.onICETransportStateChange)||void 0===t?void 0:t.call(this,e)},this._p2pConnection.onFirstAudioReceived=e=>{var t;return null===(t=this.onFirstAudioReceived)||void 0===t?void 0:t.call(this,e)},this._p2pConnection.onFirstVideoReceived=e=>{var t;return null===(t=this.onFirstVideoReceived)||void 0===t?void 0:t.call(this,e)},this._p2pConnection.onFirstAudioDecoded=e=>{var t;return null===(t=this.onFirstAudioDecoded)||void 0===t?void 0:t.call(this,e)},this._p2pConnection.onFirstVideoDecoded=(e,t,n)=>{var i;return null===(i=this.onFirstVideoDecoded)||void 0===i?void 0:i.call(this,e,t,n)},this._p2pConnection.onFirstVideoDecodedTimeout=e=>{var t;return null===(t=this.onFirstVideoDecodedTimeout)||void 0===t?void 0:t.call(this,e)},this._p2pConnection.onSelectedLocalCandidateChanged=(e,t)=>{var n;return null===(n=this.onSelectedLocalCandidateChanged)||void 0===n?void 0:n.call(this,e,t)},this._p2pConnection.onSelectedRemoteCandidateChanged=(e,t)=>{var n;return null===(n=this.onSelectedRemoteCandidateChanged)||void 0===n?void 0:n.call(this,e,t)}}closeSignal(){this.dataChannel.close(),this.peerConnection.close()}unbindConnectionEvents(e){e.onConnectionStateChange=void 0,e.onICEConnectionStateChange=void 0,e.onICETransportStateChange=void 0,e.onDTLSTransportStateChange=void 0,e.onDTLSTransportError=void 0,e.onFirstAudioDecoded=void 0,e.onFirstAudioReceived=void 0,e.onFirstVideoDecoded=void 0,e.onFirstVideoReceived=void 0,e.onSelectedLocalCandidateChanged=void 0,e.onSelectedRemoteCandidateChanged=void 0,e.onFirstVideoDecodedTimeout=void 0}setConfiguration(e){this._p2pConnection.setConfiguration(e)}}function qk(e,t,n){const i=e[t];if("function"!=typeof i)throw new Error("Cannot use mutex on object property.");return n.value=async function(){const e=this.mutex,n=await e.lock("From DataChannelConnection.".concat(t));try{for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return await i.apply(this,o)}finally{n()}},n}function $k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function eD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$k(Object(n),!0).forEach((function(t){ih(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function tD(e){var t,n,i,r=2;for("undefined"!=typeof Symbol&&(n=yk,i=Symbol.iterator);r--;){if(n&&null!=(t=e[n]))return t.call(e);if(i&&null!=(t=e[i]))return new nD(t.call(e));n="@@asyncIterator",i="@@iterator"}throw new TypeError("Object is not async iterable")}function nD(e){function t(e){if(Object(e)!==e)return tE.reject(new TypeError(e+" is not an object."));var t=e.done;return tE.resolve(e.value).then((function(e){return{value:e,done:t}}))}return nD=function(e){this.s=e,this.n=e.next},nD.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?tE.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?tE.reject(e):t(n.apply(this.s,arguments))}},new nD(e)}Vy([qk,Zy("design:type",Function),Zy("design:paramtypes",[Object,Object,Array,Object,String,String]),Zy("design:returntype",tE)],zk.prototype,"connect",null),Vy([qk,Zy("design:type",Function),Zy("design:paramtypes",[Array,Array]),Zy("design:returntype",tE)],zk.prototype,"updateRemoteRTPCapabilities",null),Vy([qk,Zy("design:type",Function),Zy("design:paramtypes",[Object,Array]),Zy("design:returntype",tE)],zk.prototype,"createDataChannels",null),Vy([qk,Zy("design:type",Function),Zy("design:paramtypes",[String,Array,String,Object]),Zy("design:returntype",tE)],zk.prototype,"receive",null),Vy([qk,Zy("design:type",Function),Zy("design:paramtypes",[Array]),Zy("design:returntype",tE)],zk.prototype,"stopReceiving",null),Vy([qk,Zy("design:type",Function),Zy("design:paramtypes",[String]),Zy("design:returntype",tE)],zk.prototype,"muteRemote",null),Vy([qk,Zy("design:type",Function),Zy("design:paramtypes",[String]),Zy("design:returntype",tE)],zk.prototype,"unmuteRemote",null),Vy([qk,Zy("design:type",Function),Zy("design:paramtypes",[Array]),Zy("design:returntype",tE)],zk.prototype,"muteLocal",null),Vy([qk,Zy("design:type",Function),Zy("design:paramtypes",[Array]),Zy("design:returntype",tE)],zk.prototype,"unmuteLocal",null),Vy([qk,Zy("design:type",Function),Zy("design:paramtypes",[]),Zy("design:returntype",void 0)],zk.prototype,"close",null),Vy([qk,Zy("design:type",Function),Zy("design:paramtypes",[String,pS]),Zy("design:returntype",tE)],zk.prototype,"updateEncoderConfig",null),Vy([qk,Zy("design:type",Function),Zy("design:paramtypes",[String,pS]),Zy("design:returntype",tE)],zk.prototype,"updateSendParameters",null),Vy([qk,Zy("design:type",Function),Zy("design:paramtypes",[pS,String]),Zy("design:returntype",tE)],zk.prototype,"replaceTrack",null),Vy([qk,Zy("design:type",Function),Zy("design:paramtypes",[String]),Zy("design:returntype",tE)],zk.prototype,"getRemoteSSRC",null);class iD extends nC{get state(){return this._state}set state(e){const t=this._state;this._state=e,this.emit(mb.StateChange,t,this._state)}constructor(e,t){super(),ih(this,"store",void 0),ih(this,"statsUploader",void 0),ih(this,"connection",void 0),ih(this,"localTrackMap",new Map),ih(this,"remoteUserMap",new Map),ih(this,"localDataChannels",[]),ih(this,"remoteDataChannelMap",new Map),ih(this,"pendingLocalTracks",[]),ih(this,"pendingRemoteTracks",[]),ih(this,"pendingLocalDataChannels",[]),ih(this,"pendingRemoteDataChannels",[]),ih(this,"statsCollector",void 0),ih(this,"isPlanB",!1),ih(this,"shouldForwardP2PCreation",void 0),ih(this,"iceFailedCount",0),ih(this,"dtlsFailedCount",0),ih(this,"mutex",new YC("P2PChannel-mutex")),ih(this,"_state",fb.Disconnected),ih(this,"_pcStatsUploadType",NU("NEW_ICE_RESTART")?pb.FIRST_CONNECTION:pb.OLD_FIRST_CONNECTION),ih(this,"_isInRestartIce",!1),ih(this,"_isStartRestartIce",!1),ih(this,"_restartStates",["disconnected","failed"]),ih(this,"_restartTimer",void 0),ih(this,"_isFirstConnected",!0),ih(this,"handleMuteLocalTrack",(async(e,t,n)=>{const i=await this.mutex.lock("Locking from P2PChannel.handleMuteLocalTrack");try{if(!this.connection||this.state!==fb.Connected)return void n(new WE(ZE.INVALID_OPERATION,"Cannot call P2PChannel.handleMuteLocalTrack before connection established."));const i=this.filterTobeMutedTracks(e);if(0===i.length)return void t();const r=i.find((e=>"videoLowTrack"===e[0]));r&&r[1].track._originMediaStreamTrack.stop(),await this.connection.muteLocal(i.map((e=>{let[,{id:t}]=e;return t})));const o=this.createMuteMessage(i);await EC(this,mb.RequestMuteLocal,o),t()}catch(e){n(e)}finally{i()}})),ih(this,"handleUnmuteLocalTrack",(async(e,t,n)=>{const i=await this.mutex.lock("Locking from P2PChannel.handleUnmuteLocalTrack");try{if(!this.connection||this.state!==fb.Connected)return void n(new WE(ZE.INVALID_OPERATION,"Cannot call P2PChannel.handleUnmuteLocalTrack before connection established."));const i=this.filterTobeUnmutedTracks(e);if(0===i.length)return void t();const r=i.find((e=>"videoLowTrack"===e[0]));if(r){const t=r[1];if(t.track._originMediaStreamTrack.stop(),!NU("DISABLE_DUAL_STREAM_USE_ENCODING")&&FR().supportDualStreamEncoding){const n=e._mediaStreamTrack.clone();t.track._mediaStreamTrack=n,t.track._originMediaStreamTrack=n}else{const n=Ow(e,IC(this,mb.RequestLowStreamParameter));t.track._mediaStreamTrack=n,t.track._originMediaStreamTrack=n}await new tE(((e,n)=>{this.handleReplaceTrack(t.track,e,n,!0)}))}await this.connection.unmuteLocal(i.map((e=>{let[,{id:t}]=e;return t})));const o=this.createUnmuteMessage(i);await EC(this,mb.RequestUnmuteLocal,o),t()}catch(e){n(e)}finally{i()}})),ih(this,"handleUpdateVideoEncoder",(async(e,t,n)=>{const i=await this.mutex.lock("Locking from P2PChannel.handleSetVideoEncoder");try{const n=this.localTrackMap.get(gb.LocalVideoTrack);if(!this.connection||!n||n.track!==e||this.state!==fb.Connected)return void t();const{id:i,track:r}=n;await this.connection.updateSendParameters(i,r),await this.connection.updateEncoderConfig(i,r),this.emit(mb.UpdateVideoEncoder,r),t()}catch(e){n(e)}finally{i()}})),ih(this,"handleSetOptimizationMode",(async(e,t,n)=>{const i=await this.mutex.lock("Locking from P2PChannel.handleSetOptimizationMode");try{const n=this.localTrackMap.get(gb.LocalVideoTrack);if(!this.connection||!n||n.track!==e||this.state!==fb.Connected)return;const{id:i,track:r}=n;await this.connection.updateSendParameters(i,r),t()}catch(e){n(e)}finally{i()}})),ih(this,"handleReplaceTrack",(async(e,t,n,i)=>{let r;YU.debug("[".concat(this.store.clientId,"] P2PChannel handleReplaceTrack for [track-id-").concat(e.getTrackId(),"]")),"boolean"==typeof i&&i||(r=await this.mutex.lock("From P2PChannel.handleReplaceTrack"));try{var o;const n=Array.from(this.localTrackMap.entries()).find((t=>{let[,{track:n}]=t;return e===n}));if(!this.connection||!n||this.state!==fb.Connected)return void t();if(await(null===(o=this.connection)||void 0===o?void 0:o.replaceTrack(e,n[1].id)),this.isPlanB){const t=n[1];t.id=e._mediaStreamTrack.id,this.localTrackMap.set(n[0],t)}if(n[0]===gb.LocalVideoTrack&&!NU("DISABLE_DUAL_STREAM_USE_ENCODING")&&FR().supportDualStreamEncoding){const t=this.localTrackMap.get(gb.LocalVideoLowTrack);if(t){const n=e._mediaStreamTrack.clone();t.track._originMediaStreamTrack.stop(),t.track._mediaStreamTrack=n,t.track._originMediaStreamTrack=n,await new tE(((e,n)=>{this.handleReplaceTrack(t.track,e,n,!0)}))}}t()}catch(e){n(e)}finally{var a;null===(a=r)||void 0===a||a()}})),ih(this,"handleGetRTCStats",(e=>{e(this.statsCollector.getRTCStats())})),ih(this,"handleGetLocalVideoStats",(e=>{e(this.statsCollector.getLocalVideoTrackStats())})),ih(this,"handleGetLocalAudioStats",(e=>{e(this.statsCollector.getLocalAudioTrackStats())})),ih(this,"handleGetRemoteVideoStats",(e=>this.statsCollector.getRemoteVideoTrackStats(e.uid)[e.uid])),ih(this,"handleGetRemoteAudioStats",(e=>this.statsCollector.getRemoteAudioTrackStats(e.uid)[e.uid])),this.store=e,this.statsCollector=t,this.statsCollector.addP2PChannel(this),this.statsUploader=new tk(this.store),this.bindStatsUploaderEvents(),this.isPlanB=!FR().supportUnifiedPlan||NU("CHROME_FORCE_PLAN_B")&&kE(),this.shouldForwardP2PCreation=NU("FORWARD_P2P_CREATION")&&FR().supportPCSetConfiguration&&function(){const e=pE();return e===sE.ANDROID||e===sE.IOS||e===sE.HARMONY_OS}(),this.shouldForwardP2PCreation&&(this.connection=this.store.useDataChannel?new zk({},this.store):this.isPlanB?new Fk({},this.store):new Vk({},this.store),this.bindConnectionEvents(this.connection))}async startP2PConnection(e,t){var n;this.state=fb.New;const i=this.shouldForwardP2PCreation&&"closed"===(null===(n=this.connection)||void 0===n?void 0:n.peerConnectionState);if(this.shouldForwardP2PCreation&&!i||(i&&this.connection&&(YU.warning("[".concat(this.store.clientId,"] P2PChannel.startP2PConnection ForwardP2P closed.")),this.connection.close(),this.unbindConnectionEvents(this.connection)),this.connection=this.store.useDataChannel?new zk(e,this.store):this.isPlanB?new Fk(e,this.store):new Vk(e,this.store),this.bindConnectionEvents(this.connection)),!this.connection)throw new WE(ZE.UNEXPECTED_ERROR,"Cannot P2PChannel.startConnection before P2PConnection initialization .");return this._pcStatsUploadType=NU("NEW_ICE_RESTART")?pb.FIRST_CONNECTION:pb.OLD_FIRST_CONNECTION,this._isFirstConnected=!0,this._isInRestartIce=!1,this._isStartRestartIce=!1,this.connection.setConfiguration(e),this.connection.establishPromise}async connect(e,t,n,i,r,o){if(!this.connection)throw new WE(ZE.UNEXPECTED_ERROR,"Cannot P2PChannel.connect before P2PChannel.startP2PConnection .");this.connection instanceof zk?this.connection.updateRemoteConnect(i):(this.store.peerConnectionStart(),await this.connection.connect(e,t,n,i,r,o),this.statsUploader.startUploadTransportStats(),this.statsUploader.startUploadExtensionUsageStats(),this.state=fb.Connected)}updateRemoteRTPCapabilities(e){const t=Array.from(this.localTrackMap.entries()).filter((e=>{var t;let[n]=e;return Fi(t=[gb.LocalVideoLowTrack,gb.LocalVideoTrack]).call(t,n)})),n=t.map((e=>{let[,{id:t}]=e;return t})),i=t.map((e=>{let[t]=e;return t}));if(this.connection instanceof Vk){if(oy.updateRemoteRTPCapabilities(this.store.sessionId,{trackTypes:JSON.stringify(i),localCodecs:JSON.stringify(this.connection.localCodecs),remoteCodecs:JSON.stringify(e)}),!Fi(e).call(e,this.store.codec)){const t=["vp8","h264"].find((t=>Fi(e).call(e,t)));t&&(this.store.codec=t,YU.debug("[".concat(this.store.clientId,"] [").concat(this.store.p2pId," updateRemoteRTPCapabilities] default codec is not available, hence the fallback to ").concat(t,".")))}this.connection.updateRemoteRTPCapabilities(n,e)}}async preConnect(e,t,n,i,r,o){if(!this.connection)throw new WE(ZE.UNEXPECTED_ERROR,"Cannot P2PChannel.connect before P2PChannel.startP2PConnection .");this.store.peerConnectionStart();const a=await this.connection.connect(e,t,n,i,r,o);return this.statsUploader.startUploadTransportStats(),this.statsUploader.startUploadExtensionUsageStats(),this.state=fb.Connected,a}getEstablishParams(){if(this.connection instanceof zk)return this.connection.getP2PConnectionParams();throw new Error("Only DataChannelConnection needs to obtain establishParams")}async publishDataChannel(e){if(!this.connection){if(this.state===fb.Disconnected)throw new WE(ZE.UNEXPECTED_ERROR,"PeerConnection already disconnected.");const t=e.filter((e=>-1!==this.pendingLocalDataChannels.findIndex((t=>t.id===e.id))));return void(this.pendingLocalDataChannels=this.pendingLocalDataChannels.concat(t))}const t=this.filterTobePublishedDataChannels(e);0!==t.length&&(t.forEach((e=>{const t=Date.now();this.store.publish(e.id.toString(),"datachannel",t)})),await this.connection.createDataChannels(this.store.uid,t),t.forEach((e=>{this.localDataChannels.push(e);const t=Date.now();this.store.publish(e.id+"","datachannel",void 0,t)})))}publish(e,t,n){var i=this;return B_((function*(){const r=yield I_(i.mutex.lock("From P2PChannel.publish"));try{if(!i.connection||i.state!==fb.Connected){if(i.state===fb.Disconnected)throw new WE(ZE.UNEXPECTED_ERROR,"PeerConnection already disconnected.");i.throwIfTrackTypeNotMatch(e);const t=e.filter((e=>-1===i.pendingLocalTracks.indexOf(e)));return void(i.pendingLocalTracks=i.pendingLocalTracks.concat(t))}i.store.pubId=i.store.pubId+1,E_.markPublishStart(i.store.clientId,i.store.pubId);const r=i.filterTobePublishedTracks(e,t,n);if(0===r.length)return void(yield I_(i.tryToUnmuteAudio(e)));yield*Uk(tD(i.doPublish(i.connection,r)))}finally{r()}}))()}doPublish(e,t){var n=this;return B_((function*(){t.forEach((e=>{let{track:t,type:i}=e;const r=Date.now();n.store.publish(t.getTrackId(),i===gb.LocalAudioTrack?"audio":"video",r)})),n.bindLocalTrackEvents(t);const i=yield I_(e.send(t.map((e=>{let{track:t}=e;return t})),n.store.codec,n.store.audioCodec)),r=(yield I_(i.next())).value,o=n.createGatewayPublishMessage(t,r);let a;try{a=yield o}catch(e){throw i.throw(e),(null==e?void 0:e.code)===ZE.WS_ABORT&&t.forEach((e=>{let{track:t}=e;-1===n.pendingLocalTracks.indexOf(t)&&n.pendingLocalTracks.push(t)})),n.unbindLocalTrackEvents(t),e}const s=n.mapPubResToRemoteConfig(o,a),c=(yield I_(i.next(s))).value;t.forEach((e=>{let{type:t}=e;n.statsCollector.addLocalStats(t)})),n.assignLocalTracks(t,c),n.statsUploader.startUploadOutboundStats(),t.forEach((e=>{let{track:t,type:i}=e;const r=Date.now();n.store.publish(t.getTrackId(),i===gb.LocalAudioTrack?"audio":"video",void 0,r)}))}))()}async updateVideoStreamParameter(e,t){const n=this.localTrackMap.get(t);if(!n)return;if(!(n.track instanceof TF))return YU.warn("[updateVideoStreamParameter]: track is not an instance of LocalVideoTrack");if(!(this.connection instanceof Vk||this.connection instanceof Fk))return YU.warn("[updateVideoStreamParameter]: connection is not P2PConnection or P2PConnectionPlanB");const{track:i}=n,r=function(e,t){const n={};return e.height&&e.width&&(n.scaleResolutionDownBy=Tv(e,t)),n.maxFramerate=e.framerate?vv(e.framerate):void 0,n.maxBitrate=e.bitrate?1e3*e.bitrate:void 0,n}(e,i);if(i._encoderConfig||(i._encoderConfig={}),t!==gb.LocalVideoLowTrack||!NU("DISABLE_DUAL_STREAM_USE_ENCODING")&&FR().supportDualStreamEncoding)null!=r.scaleResolutionDownBy&&(i._encoderConfig.scaleResolutionDownBy=r.scaleResolutionDownBy);else{const t=i._originMediaStreamTrack;if(!t.canvas)return YU.warn("[".concat(i.getTrackId(),"] no canvas on track"));!function(e,t){const n=e.canvas;t.width&&(n.width=vv(t.width)),t.height&&(n.height=vv(t.height)),t.framerate&&(n.stopCapture&&n.stopCapture(),n.stopCapture=bS((()=>{!n.startCapture&&n.stopCapture&&n.stopCapture(),n.startCapture&&n.startCapture()}),vv(t.framerate)))}(t,e)}null!=r.maxBitrate&&(i._encoderConfig.bitrateMax=r.maxBitrate/1e3),null!=r.maxFramerate&&(i._encoderConfig.frameRate&&"object"==typeof i._encoderConfig.frameRate?i._encoderConfig.frameRate.max=r.maxFramerate:i._encoderConfig.frameRate={max:r.maxFramerate}),YU.debug("[".concat(i.getTrackId(),"] LowStreamEncoderConfig: , ").concat(JSON.stringify(i._encoderConfig))),await this.connection.updateRtpSenderEncodings(i)}publishLowStream(e){var t=this;return B_((function*(){if(!t.connection||t.state!==fb.Connected)return;const n=yield I_(t.mutex.lock("Locking from P2PChannel.publishLowStream"));try{const n=t.localTrackMap.get(gb.LocalVideoTrack);if(!n)throw new WE(ZE.UNEXPECTED_ERROR,"Could not find high stream");if(t.localTrackMap.has(gb.LocalVideoLowTrack))throw new WE(ZE.UNEXPECTED_ERROR,"[".concat(t.store.clientId,"] Can't publish low stream when stream already publish"));const r=[{track:t.getLowVideoTrack(n.track,e),type:gb.LocalVideoLowTrack}];if(yield*Uk(tD(t.doPublish(t.connection,r))),n.track.muted||!n.track.enabled){var i;const e=null===(i=t.localTrackMap.get(gb.LocalVideoLowTrack))||void 0===i?void 0:i.id;void 0!==e&&(yield I_(t.connection.muteLocal([e])))}}finally{n()}}))()}async republish(){this.pendingLocalTracks.length>0&&(YU.debug("[".concat(this.store.clientId,"] Emit P2PChannelEvents.RequestRePublish to republish tracks.")),await mC(this,mb.RequestRePublish,this.pendingLocalTracks),this.emit(mb.MediaReconnectEnd,this.store.uid),this.pendingLocalTracks=[]),this.pendingLocalDataChannels.length>0&&(YU.debug("Emit P2PChannelEvents.RequestRePublishDataChannel to republish datachannels."),await mC(this,mb.RequestRePublishDataChannel,this.pendingLocalDataChannels),this.pendingLocalDataChannels=[])}async reSubscribe(e){for(let t=this.pendingRemoteTracks.length-1;t>=0;t--){const{user:e,kind:n}=this.pendingRemoteTracks[t];(n!==hb.AUDIO||e._audio_added_&&e._audioSSRC)&&(n!==hb.VIDEO||e._video_added_&&e._videoSSRC)||this.pendingRemoteTracks.splice(t,1)}if(e)await mC(this,mb.RequestReSubscribe,this.pendingRemoteTracks);else for(const{user:t,kind:n}of this.pendingRemoteTracks)await this.subscribe(t,n,n===hb.VIDEO?t._videoSSRC:t._audioSSRC);this.pendingRemoteTracks.forEach((e=>{let{user:t}=e;this.emit(mb.MediaReconnectEnd,t.uid)})),this.pendingRemoteTracks=[]}async unpublish(e){if(!this.connection||this.state!==fb.Connected)return void e.forEach((e=>{const t=this.pendingLocalTracks.indexOf(e);-1!==t&&this.pendingLocalTracks.splice(t,1)}));const t=this.filterTobeUnpublishedTracks(e);if(0===t.length)return;const n=t.find((e=>"videoLowTrack"===e[0]));return n&&n[1].track.close(),this.doUnpublish(this.connection,t)}async unpublishDataChannel(e){if(!this.connection||this.state!==fb.Connected)return void e.forEach((e=>{const t=this.pendingLocalDataChannels.indexOf(e);-1!==t&&this.pendingLocalDataChannels.splice(t,1)}));const t=this.filterTobeUnpublishedDataChannels(e);return 0!==t.length?(t.forEach((e=>{const t=this.localDataChannels.indexOf(e);-1!==t&&this.localDataChannels.splice(t,1)})),0===this.localDataChannels.length&&await this.connection.stopDataChannels(this.store.uid),t.map((e=>e.id))):void 0}async unpublishLowStream(){if(!this.connection||this.state!==fb.Connected)return;const e=this.localTrackMap.get(gb.LocalVideoLowTrack);if(!e)return;e.track.close();const t=[[gb.LocalVideoLowTrack,e]];return this.doUnpublish(this.connection,t)}async doUnpublish(e,t){const n=this.createGatewayUnpublishMessage(t);return await e.stopSending(t.map((e=>{let[,{id:t}]=e;return t}))),this.withdrawLocalTracks(t),this.unbindLocalTrackEvents(t.map((e=>{let[t,{track:n}]=e;return{type:t,track:n}}))),t.forEach((e=>{let[t]=e;this.statsCollector.removeLocalStats(t)})),0===this.localTrackMap.size&&this.statsUploader.stopUploadOutboundStats(),n}async subscribeDataChannel(e,t){if(!this.connection||this.state!==fb.Connected)throw new WE(ZE.INVALID_OPERATION,"Cannot subscribe remote user when peerConnection disconnected.");const n=t.filter((t=>{var n;return!(null!==(n=this.remoteDataChannelMap.get(e))&&void 0!==n&&n.get(t.id))}));if(0!==n.length)return await this.connection.createDataChannels(e.uid,n),n.forEach((t=>{var n;this.remoteDataChannelMap.has(e)?null===(n=this.remoteDataChannelMap.get(e))||void 0===n||n.set(t.id,t):this.remoteDataChannelMap.set(e,new Map([[t.id,t]]));const i=this.pendingRemoteDataChannels.findIndex((n=>{let{user:i,id:r}=n;return i.uid===e.uid&&r===t.id}));-1!==i&&this.pendingRemoteDataChannels.splice(i,1)})),n.map((e=>e.id))}async subscribe(e,t,n,i,r){var o;if(!this.connection||this.state!==fb.Connected)throw new WE(ZE.INVALID_OPERATION,"Cannot subscribe remote user when peerConnection disconnected.");if(null!==(o=this.remoteUserMap.get(e))&&void 0!==o&&o.has(t))return;let a,s,c;if(r){const n=r.find((e=>{let{stream_type:n}=e;return n===t}));if(!n)throw new WE(ZE.UNEXPECTED_ERROR,"Cannot subscribe to remote ".concat(t," for user: ").concat(e.uid," because subscribe answer from gateway does not contain stream_type: ").concat(t,"."));const i=await this.connection.receive(t,n.ssrcs,String(e._uintid),n.attributes);this.connection instanceof Vk&&(c=i.transceiver),a=i.track,s=i.id}else{const r=await this.connection.receive(t,[{ssrcId:n,rtx:i}],String(e._uintid),void 0);this.connection instanceof Vk&&(c=r.transceiver),a=r.track,s=r.id}t===hb.AUDIO?(e._audioTrack?e._audioTrack._updateOriginMediaStreamTrack(a):(e._audioTrack=new OF(a,e.uid,e._uintid,this.store),YU.info("[".concat(this.store.clientId,"] [").concat(this.store.p2pId,"] create remote audio track: ").concat(e._audioTrack.getTrackId()))),c&&e._audioTrack._updateRtpTransceiver(c),this.bindRemoteTrackEvents(e,e._audioTrack)):(e._videoTrack?e._videoTrack._updateOriginMediaStreamTrack(a):(e._videoTrack=new WF(a,e.uid,e._uintid,this.store),YU.info("[".concat(this.store.clientId,"] [").concat(this.store.p2pId,"] create remote video track: ").concat(e._videoTrack.getTrackId()))),c&&e._videoTrack._updateRtpTransceiver(c),this.bindRemoteTrackEvents(e,e._videoTrack));const l=this.remoteUserMap.get(e);l?l.set(t,s):this.remoteUserMap.set(e,new Map([[t,s]])),this.statsCollector.addRemoteStats(e.uid),this.statsUploader.startUploadInboundStats();const d=this.pendingRemoteTracks.findIndex((n=>{let{user:i,kind:r}=n;return i.uid===e.uid&&t===r}));-1!==d&&(this.pendingRemoteTracks.splice(d,1),this.emit(mb.MediaReconnectEnd,e.uid))}async massSubscribe(e){return this.massSubscribeNoLock(e)}async massSubscribeNoLock(e){if(!this.connection||this.state!==fb.Connected)throw new WE(ZE.INVALID_OPERATION,"Cannot subscribeAll remote users when peerConnection disconnected.");e=e.filter((e=>{var t;let{user:n,mediaType:i}=e;return!(null!==(t=this.remoteUserMap.get(n))&&void 0!==t&&t.has(i))}));const t=await this.connection.batchReceive(e.map((e=>{let{user:t,mediaType:n,ssrcId:i,rtxSsrcId:r}=e;return{kind:n,ssrcMsg:[{ssrcId:i,rtx:r}],mslabel:String(t._uintid)}})));e.forEach(((e,n)=>{let{user:i,mediaType:r}=e;const{track:o,id:a,transceiver:s}=t[n];r===hb.AUDIO?(i._audioTrack?i._audioTrack._updateOriginMediaStreamTrack(o):(i._audioTrack=new OF(o,i.uid,i._uintid,this.store),YU.info("[".concat(this.store.clientId,"] [").concat(this.store.p2pId,"] create remote audio track: ").concat(i._audioTrack.getTrackId()))),s&&i._audioTrack._updateRtpTransceiver(s),this.bindRemoteTrackEvents(i,i._audioTrack)):(i._videoTrack?i._videoTrack._updateOriginMediaStreamTrack(o):(i._videoTrack=new WF(o,i.uid,i._uintid,this.store),YU.info("[".concat(this.store.clientId,"] [").concat(this.store.p2pId,"] create remote video track: ").concat(i._videoTrack.getTrackId()))),s&&i._videoTrack._updateRtpTransceiver(s),this.bindRemoteTrackEvents(i,i._videoTrack));const c=this.remoteUserMap.get(i);c?c.set(r,a):this.remoteUserMap.set(i,new Map([[r,a]])),this.statsCollector.addRemoteStats(i.uid),this.statsUploader.startUploadInboundStats();const l=this.pendingRemoteTracks.findIndex((e=>{let{user:t,kind:n}=e;return t.uid===i.uid&&r===n}));-1!==l&&(this.pendingRemoteTracks.splice(l,1),this.emit(mb.MediaReconnectEnd,i.uid))}))}async unsubscribe(e,t,n){const i=this.pendingRemoteTracks.filter((n=>{let{user:i,kind:r}=n;return void 0!==t?i.uid===e.uid&&t===r:i.uid===e.uid}));if(i.forEach((e=>{const t=this.pendingRemoteTracks.indexOf(e);this.pendingRemoteTracks.splice(t,1)})),this.connection&&this.state===fb.Connected||n||i.forEach((t=>{let{kind:n}=t;var i;if(n===hb.AUDIO)null===(i=e._audioTrack)||void 0===i||i._destroy(),e._audioTrack=void 0;else if(n===hb.VIDEO){var r;null===(r=e._videoTrack)||void 0===r||r._destroy(),e._videoTrack=void 0}})),!this.connection||this.state!==fb.Connected)return;const r=this.filterTobeUnSubscribedTracks(e,t);if(0===r.length)return;await this.connection.stopReceiving(r.map((e=>{let[,{id:t}]=e;return t})));const o=this.createUnsubscribeMessage(r);return this.withdrawRemoteTracks(r),0===this.remoteUserMap.size&&this.statsUploader.stopUploadInboundStats(),r.forEach((e=>{let[t,{kind:i}]=e;var r,o;if(i===hb.VIDEO&&t._videoSSRC&&(null===(r=this.connection)||void 0===r||r.setStatsRemoteVideoIsReady(t._videoSSRC,!1)),i===hb.VIDEO)this.unbindRemoteTrackEvents(t._videoTrack),n||(null===(o=t._videoTrack)||void 0===o||o._destroy(),t._videoTrack=void 0);else if(i===hb.AUDIO){var a;this.unbindRemoteTrackEvents(t._audioTrack),n||(null===(a=t._audioTrack)||void 0===a||a._destroy(),t._audioTrack=void 0)}})),o}async unsubscribeDataChannel(e,t){if(t.forEach((e=>{const t=this.pendingRemoteDataChannels.findIndex((t=>t.id===e.id));-1!==t&&this.pendingRemoteDataChannels.splice(t,1)})),!this.connection)return;const n=this.filterTobeUnSubscribedDataChannels(e,t);if(0===n.length)return;t.forEach((e=>{e._close()}));const i=this.remoteDataChannelMap.get(e);return n.forEach((e=>{i&&i.delete(e.id)})),i&&0===i.size&&(this.remoteDataChannelMap.delete(e),await this.connection.stopDataChannels(e.uid)),n.map((e=>e.id))}async massUnsubscribe(e){return this.massUnsubscribeNoLock(e)}async massUnsubscribeNoLock(e){let t=[];for(const{user:r,mediaType:o}of e){const e=this.pendingRemoteTracks.filter((e=>{let{user:t,kind:n}=e;return void 0!==o?t.uid===r.uid&&o===n:t.uid===r.uid}));e.forEach((e=>{const t=this.pendingRemoteTracks.indexOf(e);this.pendingRemoteTracks.splice(t,1)})),t=t.concat(e)}if(!this.connection||this.state!==fb.Connected)return void t.forEach((e=>{let{user:t,kind:n}=e;var i;if(n===hb.AUDIO)null===(i=t._audioTrack)||void 0===i||i._destroy(),t._audioTrack=void 0;else if(n===hb.VIDEO){var r;null===(r=t._videoTrack)||void 0===r||r._destroy(),t._videoTrack=void 0}}));const n=cI(e).call(e,((e,t)=>{let{user:n,mediaType:i}=t;const r=this.filterTobeUnSubscribedTracks(n,i);return e.concat(r)}),[]);if(0===n.length)return;await this.connection.stopReceiving(n.map((e=>{let[,{id:t}]=e;return t})));const i=this.createUnsubscribeAllMessage(n);return this.withdrawRemoteTracks(n),0===this.remoteUserMap.size&&this.statsUploader.stopUploadInboundStats(),n.forEach((e=>{let[t,{kind:n}]=e;var i,r;if(n===hb.VIDEO&&t._videoSSRC&&(null===(i=this.connection)||void 0===i||i.setStatsRemoteVideoIsReady(t._videoSSRC,!1)),n===hb.VIDEO)this.unbindRemoteTrackEvents(t._videoTrack),null===(r=t._videoTrack)||void 0===r||r._destroy(),t._videoTrack=void 0;else if(n===hb.AUDIO){var o;this.unbindRemoteTrackEvents(t._audioTrack),null===(o=t._audioTrack)||void 0===o||o._destroy(),t._audioTrack=void 0}})),i}async muteRemote(e,t){if(!this.connection)return;const n=this.remoteUserMap.get(e);if(!n)return void YU.warning("[".concat(this.store.clientId,"] P2PChannel.muteRemote has no remote user ").concat(e.uid,"."));if(!n.get(t))return void YU.warning("[".concat(this.store.clientId,"] P2PChannel.muteRemote has no remote user ").concat(e.uid," media type ").concat(t,"."));const i=t===hb.VIDEO?e._videoSSRC:e._audioSSRC;void 0!==i&&this.connection.setStatsRemoteVideoIsReady(i,!1)}async unmuteRemote(e,t){return this.unmuteRemoteNoLock(e,t)}async unmuteRemoteNoLock(e,t){if(!this.connection)return;const n=this.remoteUserMap.get(e);n?n.get(t)||YU.warning("[".concat(this.store.clientId,"] P2PChannel.unmuteRemote has no remote user ").concat(e.uid," media type ").concat(t,".")):YU.warning("[".concat(this.store.clientId,"] P2PChannel.unmuteRemote has no remote user ").concat(e.uid,"."))}getAllTracks(e){const t=this.localTrackMap.get(gb.LocalAudioTrack);if((null==t?void 0:t.track)instanceof uF){const n=t.track;return Array.from(this.localTrackMap.entries()).filter((e=>{let[t]=e;return t!==gb.LocalAudioTrack})).filter((t=>{let[n]=t;return!(e&&n===gb.LocalVideoLowTrack)})).map((e=>{let[,{track:t}]=e;return t})).concat(n.trackList)}return Array.from(this.localTrackMap.entries()).filter((t=>{let[n]=t;return!(e&&n===gb.LocalVideoLowTrack)})).map((e=>{let[,{track:t}]=e;return t}))}getAllDataChannels(){return this.localDataChannels}reportPublishEvent(e,t,n,i,r){if(e){const n=this.localTrackMap.get(gb.LocalAudioTrack),o=i?this.localTrackMap.get(gb.LocalVideoLowTrack):this.localTrackMap.get(gb.LocalVideoTrack);oy.publish(this.store.sessionId,{eventElapse:E_.measureFromPublishStart(this.store.clientId,this.store.pubId),succ:e,ec:t,audioName:null==n?void 0:n.track.getTrackLabel(),videoName:null==o?void 0:o.track.getTrackLabel(),screenshare:-1!==(null==o?void 0:o.track._hints.indexOf(YR.SCREEN_TRACK)),audio:!!n,video:!!o,p2pid:this.store.p2pId,publishRequestid:this.store.pubId,extend:r})}else{var o;n||(n=[]);const a=n.find((e=>e instanceof cF)),s=i?null===(o=this.localTrackMap.get(gb.LocalVideoTrack))||void 0===o?void 0:o.track:n.find((e=>e instanceof TF));oy.publish(this.store.sessionId,{eventElapse:E_.measureFromPublishStart(this.store.clientId,this.store.pubId),succ:e,ec:t,audioName:null==a?void 0:a.getTrackLabel(),videoName:null==s?void 0:s.getTrackLabel(),screenshare:-1!==(null==s?void 0:s._hints.indexOf(YR.SCREEN_TRACK)),audio:!!a,video:!!s,p2pid:this.store.p2pId,publishRequestid:this.store.pubId,extend:r})}}reportSubscribeEvent(e,t,n,i){const r=i===hb.VIDEO?n._videoSSRC:n._audioSSRC;r&&oy.subscribe(this.store.sessionId,{succ:e,ec:t,video:i===hb.VIDEO,audio:i===hb.AUDIO,peerid:n.uid,subscribeRequestid:i===hb.VIDEO?n._videoSSRC:n._audioSSRC,p2pid:this.store.p2pId,eventElapse:E_.measureFromSubscribeStart(this.store.clientId,r)})}reset(){YU.debug("[".concat(this.store.clientId,"] P2PChannel.reset")),this.mutex=new YC("P2PChannel-mutex"),this.connection&&(this.connection.close(),this.unbindConnectionEvents(this.connection),this.connection=void 0),this.shouldForwardP2PCreation&&(this.connection=this.store.useDataChannel?new zk({},this.store):this.isPlanB?new Fk({},this.store):new Vk({},this.store),this.bindConnectionEvents(this.connection)),this.statsUploader.stopUploadOutboundStats(),this.statsUploader.stopUploadInboundStats(),this.statsUploader.stopUploadTransportStats(),this.statsUploader.stopUploadExtensionUsageStats(),this.unbindLocalTrackEvents(),this.unbindAllRemoteTrackEvents(),this.unbindRtpTransceiver();const e=this.localTrackMap.get(gb.LocalAudioTrack);if((null==e?void 0:e.track)instanceof uF){if(e.track.trackList.length>0){const t=e.track;e.track.trackList.forEach((e=>{t.removeAudioTrack(e)}))}e.track.close()}this.localTrackMap.clear(),this.remoteUserMap.clear(),this.statsCollector.removeRemoteStats(),this.statsCollector.removeLocalStats(),this.iceFailedCount=0,this.dtlsFailedCount=0,this.pendingLocalTracks=[],this.pendingRemoteTracks=[],this.localDataChannels=[],this.remoteDataChannelMap.clear(),this.pendingLocalDataChannels=[],this.pendingRemoteDataChannels=[],this.state=fb.Disconnected}getStats(){var e;return null===(e=this.connection)||void 0===e?void 0:e.getStats()}getRemoteVideoIsReady(e){var t;return(null===(t=this.connection)||void 0===t?void 0:t.getRemoteVideoIsReady(e))||!1}getLocalAudioVolume(){const e=this.localTrackMap.get(gb.LocalAudioTrack);if(e)return e.track.getVolumeLevel()}getLocalVideoSize(){const e=this.localTrackMap.get(gb.LocalVideoTrack);if(e)return{width:e.track._videoWidth||0,height:e.track._videoHeight||0}}getEncoderConfig(e){const t=this.localTrackMap.get(e);return t&&t.track instanceof TF||t&&t.track instanceof cF?t.track._encoderConfig:void 0}getLocalMedia(e){return this.localTrackMap.get(e)}hasLocalMedia(){return this.localTrackMap.size>0}hasRemoteMedia(e,t){if(!e)return this.remoteUserMap.size>0;const n=this.remoteUserMap.get(e);return!!n&&(!t||n.has(t))}async hasRemoteMediaWithLock(e,t){if(!e)return this.remoteUserMap.size>0;const n=this.remoteUserMap.get(e);return!!n&&(!t||n.has(t))}getRemoteMedia(e){var t;const n=Array.from(uh(t=this.remoteUserMap).call(t)).find((t=>t.uid===e));return n?{audioTrack:n.audioTrack,audioSSRC:n._audioSSRC,videoTrack:n.videoTrack,videoSSRC:n._videoSSRC}:{}}getAudioLevels(){let e=Array.from(this.remoteUserMap.entries()).map((e=>{let[t]=e;return{uid:t.uid,level:t.audioTrack?100*t.audioTrack._source.getAccurateVolumeLevel():0}}));const t=this.localTrackMap.get(gb.LocalAudioTrack);return t&&e.push({level:100*t.track._source.getAccurateVolumeLevel(),uid:this.store.uid}),e=qh(e).call(e,((e,t)=>e.level-t.level)),e}async disconnectForReconnect(){this.connection&&(YU.debug("[".concat(this.store.clientId,"] P2PChannel.disconnectForReconnect closing P2PConnection")),this.state=fb.Reconnecting,NU("KEEP_LAST_FRAME")&&0!==this.remoteUserMap.size&&Array.from(this.remoteUserMap.entries()).forEach((e=>{let[t]=e;var n;t._videoTrack&&t._videoTrack._player&&(null===(n=t._videoTrack._player.getVideoElement())||void 0===n||n.pause(),t._videoTrack._player.isKeepLastFrame=!0,t._videoTrack._originMediaStreamTrack.stop())})),this.connection.close(),this.unbindConnectionEvents(this.connection),this.connection=void 0,this.shouldForwardP2PCreation&&(this.connection=this.store.useDataChannel?new zk({},this.store):this.isPlanB?new Fk({},this.store):new Vk({},this.store),this.bindConnectionEvents(this.connection)),0!==this.localTrackMap.size&&(Array.from(this.localTrackMap.entries()).forEach((e=>{var t;let[n,{track:i}]=e;switch(n){case gb.LocalVideoTrack:Fi(t=i._hints).call(t,YR.LOW_STREAM)?i.close():this.pendingLocalTracks.push(i);break;case gb.LocalAudioTrack:i instanceof uF?this.pendingLocalTracks=this.pendingLocalTracks.concat(i.trackList):this.pendingLocalTracks.push(i);case gb.LocalVideoLowTrack:}})),this.emit(mb.MediaReconnectStart,this.store.uid)),this.unbindLocalTrackEvents(),this.localTrackMap.clear(),0!==this.remoteUserMap.size&&Array.from(this.remoteUserMap.entries()).forEach((e=>{let[t,n]=e;Array.from(uh(n).call(n)).forEach((e=>{this.setPendingRemoteMedia(t,e)})),this.emit(mb.MediaReconnectStart,t.uid)})),this.unbindAllRemoteTrackEvents(),this.remoteUserMap.clear(),0!==this.localDataChannels.length&&(this.localDataChannels.forEach((e=>{this.pendingLocalDataChannels.push(e)})),this.localDataChannels.length=0),0!==this.remoteDataChannelMap.size&&(Array.from(this.remoteDataChannelMap.entries()).forEach((e=>{let[t,n]=e;Array.from(uh(n).call(n)).forEach((e=>{this.setPendingRemoteDataChannel(t,e)}))})),this.remoteDataChannelMap.clear()),this.statsUploader.stopUploadOutboundStats(),this.statsUploader.stopUploadInboundStats(),this.statsUploader.stopUploadTransportStats(),YU.debug("[".concat(this.store.clientId,"] P2PChannel disconnected, waiting to reconnect.")))}hasPendingRemoteDataChannel(e,t){for(const n of this.pendingRemoteDataChannels){const{user:i,id:r}=n;if((e instanceof nk?e.uid:e)===i.uid&&r===t)return!0}return!1}setPendingRemoteDataChannel(e,t){this.hasPendingRemoteDataChannel(e,t)||this.pendingRemoteDataChannels.push({user:e,id:t})}hasPendingRemoteMedia(e,t){for(const n of this.pendingRemoteTracks){const{user:i,kind:r}=n;if((e instanceof nk?e.uid:e)===i.uid&&t===r)return!0}return!1}setPendingRemoteMedia(e,t){this.hasPendingRemoteMedia(e,t)||this.pendingRemoteTracks.push({user:e,kind:t})}restartICE(e){var t=this;return B_((function*(){if(!t.connection||t.state!==fb.Connected||t.connection instanceof zk)return;const n=yield I_(t.mutex.lock("From P2PChannel.restartICE"));let i;try{i=yield I_(t.connection.restartICE(e));const n=yield I_(i.next());if(n.done)return;const r=n.value,o=yield r;switch(t.reportPCDisconnectedOrFailed(e),e){case Ab.TCP:t._pcStatsUploadType=pb.TCP_RESTART;break;case Ab.RELAY:t._pcStatsUploadType=pb.RELAY_RESTART;break;default:t._pcStatsUploadType=pb.OLD_RESTART}t._isInRestartIce=!0,i.next(o)}catch(e){var r;null===(r=i)||void 0===r||r.throw(e)}finally{n()}}))()}getUplinkNetworkQuality(){if(!this.connection)return 0;const e=this.connection.getStats(),t=this.localTrackMap.get(gb.LocalVideoTrack),n=this.localTrackMap.get(gb.LocalAudioTrack),i=e.videoSend.find((e=>e.ssrc===(null==t?void 0:t.ssrcs[0].ssrcId))),r=e.audioSend.find((e=>e.ssrc===(null==n?void 0:n.ssrcs[0].ssrcId)));if(!i||!r)return 1;const o=CC(this,mb.NeedSignalRTT),a=i?i.rttMs:void 0,s=r?r.rttMs:void 0,c=a&&s?(a+s)/2:a||s,l=(c&&o?(c+o)/2:c||o)||0,d=100*e.sendPacketLossRate*.7/50+.3*l/1500,u=d<.17?1:d<.36?2:d<.59?3:d<.1?4:5,h=null==t?void 0:t.track;if(h&&h._encoderConfig&&-1===h._hints.indexOf(YR.SCREEN_TRACK)){const t=h._encoderConfig.bitrateMax,n=e.bitrate.actualEncoded;if(t&&n){const e=(1e3*t-n)/(1e3*t);return cy[e<.15?0:e<.3?1:e<.45?2:e<.6?3:4][u]}}return u}getDownlinkNetworkQuality(){if(!this.connection)return 0;const e=this.connection.getStats();let t=0;return Array.from(this.remoteUserMap.entries()).forEach((n=>{let[i]=n;const r=i._audioSSRC,o=i._videoSSRC,a=e.audioRecv.find((e=>e.ssrc===r)),s=e.videoRecv.find((e=>e.ssrc===o));if(!a&&!s)return void(t+=1);const c=CC(this,mb.NeedSignalRTT),l=e.rtt,d=(l&&c?(l+c)/2:l||c)||0,u=a?a.jitterMs:void 0,h=e.recvPacketLossRate;let A=.7*h*100/50+.3*d/1500;u&&(A=.6*h*100/50+.2*d/1500+.2*u/400),t+=A<.1?1:A<.17?2:A<.36?3:A<.59?4:5})),this.remoteUserMap.size>0?Math.round(t/this.remoteUserMap.size):t}async muteLocalTrack(e){return new tE(((t,n)=>{this.handleMuteLocalTrack(e,t,n)}))}filterTobePublishedTracks(e,t,n){const i=[],r=FR(),o=this.getAllTracks();e=vC(e=e.filter((e=>-1===o.indexOf(e))));let a=!1,s=!1;for(const c of e){if(c instanceof TF&&(this.localTrackMap.has(gb.LocalVideoTrack)||a?new WE(ZE.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS).throw():(i.push({track:c,type:gb.LocalVideoTrack}),a=!0),t)){const e=this.getLowVideoTrack(c,n);i.push({track:e,type:gb.LocalVideoLowTrack})}if(c instanceof cF){const e=this.localTrackMap.get(gb.LocalAudioTrack);if(e){if(!(e.track instanceof uF))throw new WE(ZE.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser does not support audio mixing");if(c._bypassWebAudio)throw new WE(ZE.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio");e.track.addAudioTrack(c),this.bindLocalAudioTrackEvents(c,!0)}else if(s){const e=i.find((e=>{let{type:t}=e;return t===gb.LocalAudioTrack}));if(!(e.track instanceof uF))throw new WE(ZE.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser does not support audio mixing");if(c._bypassWebAudio)throw new WE(ZE.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio");e.track.addAudioTrack(c)}else{if(!r.webAudioMediaStreamDest||c instanceof uF||c._bypassWebAudio)i.push({track:c,type:gb.LocalAudioTrack});else{const e=new uF;e.addAudioTrack(c),i.push({track:e,type:gb.LocalAudioTrack})}s=!0}}}return i}filterTobeUnpublishedTracks(e){const t=[],n=this.getAllTracks();e=vC(e=e.filter((e=>-1!==n.indexOf(e))));for(const i of e){if(i instanceof cF){const e=this.localTrackMap.get(gb.LocalAudioTrack);if(!e)continue;e.track instanceof uF?(e.track.removeAudioTrack(i),this.unbindLocalAudioTrackEvents(i),0===e.track.trackList.length&&(t.push([gb.LocalAudioTrack,e]),e.track.close())):t.push([gb.LocalAudioTrack,e])}if(i instanceof TF){const e=this.localTrackMap.get(gb.LocalVideoTrack);if(!e)continue;t.push([gb.LocalVideoTrack,e]);const n=this.localTrackMap.get(gb.LocalVideoLowTrack);n&&t.push([gb.LocalVideoLowTrack,n])}}return t}filterTobePublishedDataChannels(e){return(e=vC(e)).filter((e=>-1===this.localDataChannels.findIndex((t=>t.id===e.id))))}filterTobeUnpublishedDataChannels(e){return(e=(e=vC(e)).filter((e=>-1!==this.localDataChannels.indexOf(e)))).filter((e=>e._originDataChannel))}bindLocalTrackEvents(e){e.forEach((e=>{let{track:t,type:n}=e;switch(n){case gb.LocalVideoTrack:t.addListener(GR.GET_STATS,this.handleGetLocalVideoStats),t.addListener(GR.GET_RTC_STATS,this.handleGetRTCStats),t.addListener(GR.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),t.addListener(GR.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),t.addListener(GR.NEED_UPDATE_VIDEO_ENCODER,this.handleUpdateVideoEncoder),t.addListener(GR.SET_OPTIMIZATION_MODE,this.handleSetOptimizationMode),t.addListener(GR.NEED_REPLACE_TRACK,this.handleReplaceTrack),t.addListener(GR.NEED_MUTE_TRACK,this.handleMuteLocalTrack),t.addListener(GR.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack);break;case gb.LocalAudioTrack:this.bindLocalAudioTrackEvents(t);case gb.LocalVideoLowTrack:}}))}bindLocalAudioTrackEvents(e,t){e instanceof uF?e.trackList.forEach((e=>{e.addListener(GR.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),e.addListener(GR.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),e.addListener(GR.GET_STATS,this.handleGetLocalAudioStats),e.addListener(GR.NEED_MUTE_TRACK,this.handleMuteLocalTrack),e.addListener(GR.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack)})):(e.addListener(GR.GET_STATS,this.handleGetLocalAudioStats),e.addListener(GR.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),e.addListener(GR.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),e.addListener(GR.NEED_MUTE_TRACK,this.handleMuteLocalTrack),e.addListener(GR.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack),t||e.addListener(GR.NEED_REPLACE_TRACK,this.handleReplaceTrack))}unbindLocalTrackEvents(e){e||(e=Array.from(this.localTrackMap.entries()).map((e=>{let[t,{track:n}]=e;return{track:n,type:t}}))),e.forEach((e=>{let{track:t,type:n}=e;switch(n){case gb.LocalVideoTrack:t.off(GR.GET_STATS,this.handleGetLocalVideoStats),t.off(GR.GET_RTC_STATS,this.handleGetRTCStats),t.off(GR.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),t.off(GR.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),t.off(GR.NEED_UPDATE_VIDEO_ENCODER,this.handleUpdateVideoEncoder),t.off(GR.SET_OPTIMIZATION_MODE,this.handleSetOptimizationMode),t.off(GR.NEED_REPLACE_TRACK,this.handleReplaceTrack),t.off(GR.NEED_MUTE_TRACK,this.handleMuteLocalTrack),t.off(GR.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack);break;case gb.LocalAudioTrack:this.unbindLocalAudioTrackEvents(t);case gb.LocalVideoLowTrack:}}))}unbindLocalAudioTrackEvents(e){e instanceof uF?e.trackList.forEach((e=>{e.off(GR.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),e.off(GR.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),e.off(GR.GET_STATS,this.handleGetLocalAudioStats),e.off(GR.NEED_MUTE_TRACK,this.handleMuteLocalTrack),e.off(GR.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack)})):(e.off(GR.GET_STATS,this.handleGetLocalAudioStats),e.off(GR.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),e.off(GR.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),e.off(GR.NEED_REPLACE_TRACK,this.handleReplaceTrack),e.off(GR.NEED_MUTE_TRACK,this.handleMuteLocalTrack),e.off(GR.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack))}bindRemoteTrackEvents(e,t){t instanceof WF&&t.addListener(GR.GET_STATS,(t=>{t(this.handleGetRemoteVideoStats(e))})),t instanceof OF&&t.addListener(GR.GET_STATS,(t=>{t(this.handleGetRemoteAudioStats(e))}))}unbindRemoteTrackEvents(e){e&&e.removeAllListeners(GR.GET_STATS)}unbindAllRemoteTrackEvents(){Array.from(this.remoteUserMap.entries()).forEach((e=>{let[t,n]=e;n.has(hb.AUDIO)&&this.unbindRemoteTrackEvents(t._audioTrack),n.has(hb.VIDEO)&&this.unbindRemoteTrackEvents(t._videoTrack)}))}createGatewayPublishMessage(e,t){return e.map(((e,n)=>{var i;let r,o,{track:a,type:s}=e;switch(s){case gb.LocalAudioTrack:r=eb.Audio,o={dtx:a instanceof lF&&a._config.DTX,hq:!1,lq:!1,stereo:!1,speech:!1};break;case gb.LocalVideoTrack:r=Fi(i=a._hints).call(i,YR.SCREEN_TRACK)?eb.Screen:eb.High,o=eD(eD({},Rv(a)),{},{codec:this.store.codec});break;case gb.LocalVideoLowTrack:r=eb.Low,o=eD(eD({},Rv(a)),{},{codec:this.store.codec})}return{stream_type:r,attributes:o,ssrcs:t[n]}}))}createGatewayUnpublishMessage(e){return e.map((e=>{var t;let n,[i,{track:r,ssrcs:o,id:a}]=e;switch(i){case gb.LocalVideoTrack:n=Fi(t=r._hints).call(t,YR.SCREEN_TRACK)?eb.Screen:eb.High;break;case gb.LocalAudioTrack:n=eb.Audio;break;case gb.LocalVideoLowTrack:n=eb.Low}return{stream_type:n,ssrcs:o,mid:a}}))}assignLocalTracks(e,t){e.forEach(((e,n)=>{let{track:i,type:r}=e;this.localTrackMap.set(r,{track:i,id:t[n].id,ssrcs:t[n].localSSRC})}))}withdrawLocalTracks(e){e.forEach((e=>{let[t]=e;this.localTrackMap.delete(t)}))}bindConnectionEvents(e){e.onConnectionStateChange=async t=>{if(YU.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.onConnectionStateChange(").concat(t,")")),this.emit(mb.PeerConnectionStateChange,t),"connected"!==t||this.store.keyMetrics.peerConnectionEnd||this.store.peerConnectionEnd(),"connected"===t&&(this._restartTimer&&(clearTimeout(this._restartTimer),this._restartTimer=void 0),(this._isFirstConnected||this._isInRestartIce)&&this.reportPCStats(Date.now(),!0,this._pcStatsUploadType),this._isInRestartIce=!1,this._isFirstConnected=!1,this._isStartRestartIce=!1),NU("NEW_ICE_RESTART")){var n;if(Fi(n=this._restartStates).call(n,t)){if(this._isStartRestartIce)return;this._isStartRestartIce=!0;const t=t=>{"disconnected"!==e.iceConnectionState&&"checking"!==e.iceConnectionState&&"failed"!==e.iceConnectionState||(YU.debug("[".concat(this.store.clientId,"] [P2PChannel] start use restartICE, type is ").concat(t)),"CONNECTED"===CC(this,mb.QueryClientConnectionState)&&this.emit(mb.RequestRestartICE,t))},n=()=>{"disconnected"!==e.iceConnectionState&&"checking"!==e.iceConnectionState&&"failed"!==e.iceConnectionState||(this.reportPCStats(Date.now(),!1,this._pcStatsUploadType),YU.debug("[".concat(this.store.clientId,"] P2PConnection disconnected timeout, force reconnect")),setTimeout((()=>this.emit(mb.P2PLost)),0),this.iceFailedCount+=1,this.requestReconnect())},i=NU("ICE_RESTART_INTERVAL");return void(this._restartTimer=window.setTimeout((()=>{if(NU("JOIN_WITH_FALLBACK_MEDIA_PROXY_FORCE")&&FR().supportPCSetConfiguration)t(Ab.RELAY),this._restartTimer=window.setTimeout(n,i);else if(QE())t(Ab.UDP),this._restartTimer=window.setTimeout(n,4e3);else{if(t(Ab.TCP),FR().supportPCSetConfiguration)return void(this._restartTimer=window.setTimeout((()=>{t(Ab.RELAY),this._restartTimer=window.setTimeout(n,i)}),i));this._restartTimer=window.setTimeout(n,i)}}),800))}}else{if("disconnected"===t&&"disconnected"===e.iceConnectionState)return setTimeout((()=>{"disconnected"===e.iceConnectionState&&NU("ICE_RESTART")&&"CONNECTED"===CC(this,mb.QueryClientConnectionState)&&this.emit(mb.RequestRestartICE)}),800),void setTimeout((()=>{"disconnected"===e.peerConnectionState&&(YU.debug("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection disconnected timeout 4000ms, force reconnect")),this.reportPCStats(Date.now(),!1,this._pcStatsUploadType),this._isInRestartIce=!1,setTimeout((()=>this.emit(mb.P2PLost)),0),this.iceFailedCount+=1,this.requestReconnect())}),4e3);"failed"===t&&(YU.debug("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection state failed, force reconnect")),this.reportPCDisconnectedOrFailed(),setTimeout((()=>this.emit(mb.P2PLost)),0),this.iceFailedCount+=1,await this.requestReconnect())}},e.onICEConnectionStateChange=e=>{"connected"!==e||this.store.keyMetrics.iceConnectionEnd||this.store.iceConnectionEnd(),YU.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.onICEConnectionStateChange(").concat(e,")")),oy.reportApiInvoke(this.store.sessionId,{name:"ICEConnectionStateChange",options:e,tag:aC.TRACER}).onSuccess(),this.emit(mb.IceConnectionStateChange,e)},e.onICETransportStateChange=e=>{YU.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.onICETransportStateChange(").concat(e,")"))},e.onDTLSTransportStateChange=e=>{YU.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.onDTLSTransportStateChange(").concat(e,")"))},e.onDTLSTransportError=e=>{YU.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.onDTLSTransportError(").concat(e,")"))},e.onFirstAudioDecoded=e=>{var t;const n=Array.from(uh(t=this.remoteUserMap).call(t)).find((t=>t._audioSSRC===e));var i;n&&(this.store.subscribe(n.uid,"audio",void 0,void 0,void 0,Date.now()),null===(i=n.audioTrack)||void 0===i||i.emit(qR.FIRST_FRAME_DECODED),oy.firstRemoteFrame(this.store.sessionId,zU.FIRST_AUDIO_DECODE,qU.FIRST_AUDIO_DECODE,{peer:n._uintid,subscribeElapse:E_.measureFromSubscribeStart(this.store.clientId,e),subscribeRequestid:e,p2pid:this.store.p2pId}))},e.onFirstAudioReceived=e=>{var t;const n=Array.from(uh(t=this.remoteUserMap).call(t)).find((t=>t._audioSSRC===e));n&&oy.firstRemoteFrame(this.store.sessionId,zU.FIRST_AUDIO_RECEIVED,qU.FIRST_AUDIO_RECEIVED,{peer:n._uintid,subscribeElapse:E_.measureFromSubscribeStart(this.store.clientId,e),subscribeRequestid:e,p2pid:this.store.p2pId})},e.onFirstVideoDecoded=(e,t,n)=>{this.reportVideoFirstFrameDecoded(e,t,n)},e.onFirstVideoReceived=e=>{var t;const n=Array.from(uh(t=this.remoteUserMap).call(t)).find((t=>t._videoSSRC===e));n&&oy.firstRemoteFrame(this.store.sessionId,zU.FIRST_VIDEO_RECEIVED,qU.FIRST_VIDEO_RECEIVED,{peer:n._uintid,subscribeElapse:E_.measureFromSubscribeStart(this.store.clientId,e),subscribeRequestid:e,p2pid:this.store.p2pId})},e.onSelectedLocalCandidateChanged=(e,t)=>{const n="relay"===e.candidateType,i="relay"===t.candidateType;"unknown"!==t.candidateType&&n===i||this.emit(mb.ConnectionTypeChange,n),YU.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.SelectedLocalCandidateChanged(").concat(JSON.stringify(Nv(t))," -> ").concat(JSON.stringify(Nv(e)),")"))},e.onSelectedRemoteCandidateChanged=(e,t)=>{YU.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.SelectedRemoteCandidateChanged(").concat(JSON.stringify(Nv(t))," -> ").concat(JSON.stringify(Nv(e)),")"))},e.onFirstVideoDecodedTimeout=e=>{this.reportVideoFirstFrameDecoded(e,void 0,void 0,!0)}}unbindConnectionEvents(e){e.onConnectionStateChange=void 0,e.onICEConnectionStateChange=void 0,e.onICETransportStateChange=void 0,e.onDTLSTransportStateChange=void 0,e.onDTLSTransportError=void 0,e.onFirstAudioDecoded=void 0,e.onFirstAudioReceived=void 0,e.onFirstVideoDecoded=void 0,e.onFirstVideoReceived=void 0,e.onSelectedLocalCandidateChanged=void 0,e.onSelectedRemoteCandidateChanged=void 0,e.onFirstVideoDecodedTimeout=void 0}filterTobeMutedTracks(e){const t=[];if(-1===this.getAllTracks().indexOf(e))return t;const n=this.localTrackMap.get(gb.LocalAudioTrack);if(e instanceof cF&&(null==n?void 0:n.track)instanceof uF)return n.track.isActive||t.push([gb.LocalAudioTrack,n]),t;const i=Array.from(this.localTrackMap.entries()).find((t=>{let[,{track:n}]=t;return e===n}));if(i&&(t.push(i),i[0]===gb.LocalVideoTrack)){const e=this.localTrackMap.get(gb.LocalVideoLowTrack);e&&t.push([gb.LocalVideoLowTrack,e])}return t}filterTobeUnmutedTracks(e){const t=[],n=this.localTrackMap.get(gb.LocalAudioTrack);if(e instanceof cF&&(null==n?void 0:n.track)instanceof uF)return n.track.isActive&&t.push([gb.LocalAudioTrack,n]),t;const i=Array.from(this.localTrackMap.entries()).find((t=>{let[,{track:n}]=t;return e===n}));if(i)if(i[0]===gb.LocalVideoTrack){t.push(i);const e=this.localTrackMap.get(gb.LocalVideoLowTrack);e&&t.push([gb.LocalVideoLowTrack,e])}else t.push(i);return t}createMuteMessage(e){return e.map((e=>{var t;let n,[i,{track:r,ssrcs:o,id:a}]=e;switch(i){case gb.LocalAudioTrack:n=eb.Audio;break;case gb.LocalVideoTrack:n=Fi(t=r._hints).call(t,YR.SCREEN_TRACK)?eb.Screen:eb.High;break;case gb.LocalVideoLowTrack:n=eb.Low}return{stream_type:n,ssrcs:o,mid:a}}))}createUnmuteMessage(e){return e.map((e=>{var t;let n,[i,{track:r,ssrcs:o,id:a}]=e;switch(i){case gb.LocalAudioTrack:n=eb.Audio;break;case gb.LocalVideoTrack:n=Fi(t=r._hints).call(t,YR.SCREEN_TRACK)?eb.Screen:eb.High;break;case gb.LocalVideoLowTrack:n=eb.Low}return{stream_type:n,ssrcs:o,mid:a}}))}filterTobeUnSubscribedTracks(e,t){const n=[],i=this.remoteUserMap.get(e);if(!i)return n;if(t){const r=i.get(t);if(!r)return n;n.push([e,{kind:t,id:r}])}else Array.from(i.entries()).forEach((t=>{let[i,r]=t;n.push([e,{kind:i,id:r}])}));return n}filterTobeUnSubscribedDataChannels(e,t){const n=[];return t.forEach((t=>{var i;null!==(i=this.remoteDataChannelMap.get(e))&&void 0!==i&&i.has(t.id)&&n.push(t)})),n}createUnsubscribeMessage(e){const t=[];return e.forEach((e=>{let[n,{kind:i,id:r}]=e;switch(i){case hb.VIDEO:return void(n._videoSSRC&&t.push({stream_type:hb.VIDEO,ssrcId:n._videoSSRC}));case hb.AUDIO:return void(n._audioSSRC&&t.push({stream_type:hb.AUDIO,ssrcId:n._audioSSRC}))}})),t}createUnsubscribeAllMessage(e){const t=new Map;return e.forEach((e=>{let[n,{kind:i}]=e;if(t.has(n)){let e=t.get(n);i===hb.VIDEO?e|=ib.Video:e|=ib.Audio,t.set(n,e)}else i===hb.VIDEO?t.set(n,ib.Video):t.set(n,ib.Audio)})),{users:Array.from(t.entries()).map((e=>{let[t,n]=e;return{stream_id:t.uid,stream_type:n}}))}}withdrawRemoteTracks(e){e.forEach((e=>{let[t,{kind:n}]=e;const i=this.remoteUserMap.get(t);i&&(i.delete(n),0===Array.from(i.entries()).length&&this.remoteUserMap.delete(t))}))}async updateBitrateLimit(e){const t=this.localTrackMap.get(gb.LocalVideoTrack),n=this.localTrackMap.get(gb.LocalVideoLowTrack);t&&await t.track.setBitrateLimit(e.uplink),n&&e.low_stream_uplink&&await n.track.setBitrateLimit({max_bitrate:e.low_stream_uplink.bitrate,min_bitrate:e.low_stream_uplink.bitrate||0})}isP2PDisconnected(){return!this.connection||"connected"!==this.connection.peerConnectionState}mapPubResToRemoteConfig(e,t){return e.map(((e,n)=>{var i;let{stream_type:r}=e;return null===(i=t.find((e=>{let{stream_type:t}=e;return r===t})))||void 0===i?void 0:i.attributes}))}async tryToUnmuteAudio(e){for(let n=0;n<e.length;n++)if(e[n]instanceof cF){var t;const i=this.filterTobeUnmutedTracks(e[n]);if(0===i.length)continue;await(null===(t=this.connection)||void 0===t?void 0:t.unmuteLocal(i.map((e=>{let[,{id:t}]=e;return t}))));const r=this.createUnmuteMessage(i);return void await EC(this,mb.RequestUnmuteLocal,r)}}bindStatsUploaderEvents(){this.statsUploader.requestStats=()=>this.getStats(),this.statsUploader.requestLocalMedia=()=>Array.from(this.localTrackMap.entries()),this.statsUploader.requestRemoteMedia=()=>Array.from(this.remoteUserMap.entries()),this.statsUploader.requestVideoIsReady=e=>{var t;return!(null===(t=this.connection)||void 0===t||!t.getRemoteVideoIsReady(e))},this.statsUploader.requestUpload=(e,t)=>this.emit(mb.RequestUpload,e,t),this.statsUploader.requestUploadStats=e=>this.emit(mb.RequestUploadStats,e),this.statsUploader.requestAllTracks=()=>this.getAllTracks()}unbindStatsUploaderEvents(){this.statsUploader.requestStats=void 0,this.statsUploader.requestLocalMedia=void 0,this.statsUploader.requestRemoteMedia=void 0,this.statsUploader.requestVideoIsReady=void 0}async requestReconnect(){this.dtlsFailedCount+=1,await VC(KC(this.dtlsFailedCount,XC)),this.emit(mb.RequestReconnect)}async reconnectP2P(){const e=Array.from(this.localTrackMap.entries()),t=this.createGatewayUnpublishMessage(e);Array.from(this.remoteUserMap.entries()),t.length>0&&await mC(this,mb.RequestUnpublishForReconnectPC,t),this.disconnectForReconnect(),this.emit(mb.RequestReconnectPC)}canPublishLowStream(){return this.localTrackMap.has(gb.LocalVideoTrack)||this.pendingLocalTracks.some((e=>e instanceof TF))}throwIfTrackTypeNotMatch(e){if(e.filter((e=>e instanceof TF)).length>1)throw new WE(ZE.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS);if(e.filter((e=>e instanceof cF)).length>1&&(e.some((e=>e instanceof cF&&e._bypassWebAudio))||!FR().webAudioMediaStreamDest))throw new WE(ZE.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser doesn't support MediaStreamDestNode");for(const t of e){if(t instanceof TF&&this.pendingLocalTracks.some((e=>e instanceof TF)))throw new WE(ZE.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS);if(t instanceof cF&&this.pendingLocalTracks.some((e=>e instanceof cF))&&(!FR().webAudioMediaStreamDest||t._bypassWebAudio||this.pendingLocalTracks.some((e=>e instanceof cF&&e._bypassWebAudio))))throw new WE(ZE.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser doesn't support MediaStreamDestNode")}}getLowVideoTrack(e,t){const n=!NU("DISABLE_DUAL_STREAM_USE_ENCODING")&&FR().supportDualStreamEncoding,i=eD(eD({},{width:160,height:120,framerate:15,bitrate:50}),t);let r;r=n?e._mediaStreamTrack.clone():Ow(e,i);const o=ZC(8,"track-low-"),a=new TF(r,eD(eD({},n&&{scaleResolutionDownBy:Tv(i,e)}),{},{frameRate:i.framerate,bitrateMax:i.bitrate,bitrateMin:i.bitrate}),void 0,void 0,o);return a.on(HR.TRANSCEIVER_UPDATED,(t=>{e._updateRtpTransceiver(t,jR.LOW_STREAM)})),a._hints.push(YR.LOW_STREAM),e.addListener(GR.NEED_CLOSE,(()=>{a.close()})),a}async globalLock(){return this.mutex.lock("From P2PChannel.globalLock")}async reportPCStats(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(this.connection&&this.connection instanceof Vk){var r,o,a,s;const c=this.store.keyMetrics.descriptionStart||0,{iceConnectionState:l,dtlsTransportState:d,peerConnectionState:u}=this.connection,{local:h,remote:A}=await this.connection.getSelectedCandidatePair();oy.pcStats(this.store.sessionId,{startTime:c,eventElapse:e-c||0,iceconnectionsate:l,dtlsstate:d,connectionstate:u,intSucc:t?1:2,error:i,selectedLocalCandidateProtocol:null!==(r=null==h?void 0:h.protocol)&&void 0!==r?r:"",selectedLocalCandidateType:null!==(o=h.candidateType)&&void 0!==o?o:"",selectedLocalCandidateAddress:"".concat(h.address,":").concat(h.port),selectedRemoteCandidateProtocol:null!==(a=A.protocol)&&void 0!==a?a:"",selectedRemoteCandidateType:null!==(s=A.candidateType)&&void 0!==s?s:"",selectedRemoteCandidateAddress:"".concat(A.address,":").concat(A.port),restartCnt:n})}}reportVideoFirstFrameDecoded(e,t,n,i){var r;const o=Array.from(uh(r=this.remoteUserMap).call(r)).find((t=>t._videoSSRC===e));if(o){i||this.store.subscribe(o.uid,"video",void 0,void 0,void 0,void 0,Date.now());const r=this.store.keyMetrics,a=r.subscribe.find((e=>e.userId===o.uid&&"video"===e.type));oy.firstRemoteVideoDecode(this.store.sessionId,zU.FIRST_VIDEO_DECODE,qU.FIRST_VIDEO_DECODE,{peer:o._uintid,videowidth:t,videoheight:n,subscribeElapse:E_.measureFromSubscribeStart(this.store.clientId,e),subscribeRequestid:e,p2pid:this.store.p2pId,apEnd:r.requestAPEnd||0,apStart:r.requestAPStart||0,joinGwEnd:r.joinGatewayEnd||0,joinGwStart:r.joinGatewayStart||0,pcEnd:r.peerConnectionEnd||0,pcStart:r.peerConnectionStart||0,subscriberEnd:(null==a?void 0:a.subscribeEnd)||0,subscriberStart:(null==a?void 0:a.subscribeStart)||0,videoAddNotify:(null==a?void 0:a.streamAdded)||0,state:i?1:0})}}async remoteMediaSsrcChanged(e,t,n){if(!this.connection)return!1;const i=this.remoteUserMap.get(e);if(!i)return!1;const r=i.get(t);if(!r)return!1;const o=await this.connection.getRemoteSSRC(r);return void 0!==o&&o!==n}resetConnection(e){YU.debug("[".concat(this.store.clientId,"] [P2PChannel] reset connection to ").concat(e)),this.state===fb.Connected?(YU.debug("[".concat(this.store.clientId,"] [P2PChannel] fallback to websocket but P2PChannel state still connected, disconnect first")),this.disconnectForReconnect()):(this.connection&&(this.connection.close(),this.unbindConnectionEvents(this.connection),this.connection=void 0),this.shouldForwardP2PCreation&&(this.connection=e===rb.datachannel?new zk({},this.store):this.isPlanB?new Fk({},this.store):new Vk({},this.store),this.bindConnectionEvents(this.connection)))}unbindRtpTransceiver(){0!==this.localTrackMap.size&&Array.from(this.localTrackMap.entries()).forEach((e=>{let[t,{track:n}]=e;t===gb.LocalVideoLowTrack?n._updateRtpTransceiver(void 0,jR.LOW_STREAM):n._updateRtpTransceiver(void 0)}))}reportPCDisconnectedOrFailed(e){this.connection&&this.connection instanceof Vk&&("disconnected"!==this.connection.iceConnectionState&&"checking"!==this.connection.iceConnectionState&&"failed"!==this.connection.iceConnectionState||(this._isFirstConnected?(this.reportPCStats(Date.now(),!1,this._pcStatsUploadType),this._isFirstConnected=!1):this._pcStatsUploadType===pb.TCP_RESTART&&e===Ab.RELAY?this.reportPCStats(Date.now(),!1,this._pcStatsUploadType):this.reportPCStats(Date.now(),!1,pb.DISCONNECTED_OR_FAILED)))}}function rD(e,t,n){const i=e[t];if("function"!=typeof i)throw new Error("Cannot use mutex on object property.");return n.value=async function(){const e=this.mutex,n=await e.lock("From P2PChannel.".concat(t));try{for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return await i.apply(this,o)}finally{n()}},n}function oD(e){let t=fD();return function(e,t){let n=e.appId;void 0!==n&&(TD(t,10),yD(t,n));let i=e.cid;void 0!==i&&(TD(t,16),TD(t,i));let r=e.cname;void 0!==r&&(TD(t,26),yD(t,r));let o=e.deviceId;void 0!==o&&(TD(t,34),yD(t,o));let a=e.elapse;void 0!==a&&(TD(t,40),ND(t,a));let s=e.fileSize;void 0!==s&&(TD(t,48),ND(t,pD(s)));let c=e.height;void 0!==c&&(TD(t,56),ND(t,pD(c)));let l=e.jpg;void 0!==l&&(TD(t,66),TD(t,l.length),function(e,t){let n=ID(e,t.length);e.bytes.set(t,n)}(t,l));let d=e.networkType;void 0!==d&&(TD(t,72),ND(t,pD(d)));let u=e.osType;void 0!==u&&(TD(t,80),ND(t,pD(u)));let h=e.requestId;void 0!==h&&(TD(t,90),yD(t,h));let A=e.sdkVersion;void 0!==A&&(TD(t,98),yD(t,A));let p=e.sequence;void 0!==p&&(TD(t,104),ND(t,pD(p)));let g=e.sid;void 0!==g&&(TD(t,114),yD(t,g));let f=e.timestamp;void 0!==f&&(TD(t,120),ND(t,f));let m=e.uid;void 0!==m&&(TD(t,128),TD(t,m));let E=e.vid;void 0!==E&&(TD(t,136),TD(t,E));let C=e.width;void 0!==C&&(TD(t,144),ND(t,pD(C)));let I=e.service;void 0!==I&&(TD(t,152),TD(t,I));let Q=e.callbackData;void 0!==Q&&(TD(t,162),yD(t,Q));let U=e.jpgEncryption;void 0!==U&&(TD(t,168),TD(t,U));let y=e.requestType;void 0!==y&&(TD(t,176),TD(t,y));let b=e.scorePorn;void 0!==b&&(TD(t,185),FD(t,b));let v=e.scoreSexy;void 0!==v&&(TD(t,193),FD(t,v));let R=e.scoreNeutral;void 0!==R&&(TD(t,201),FD(t,R));let S=e.scene;void 0!==S&&(TD(t,208),TD(t,S));let F=e.ossFilePrefix;void 0!==F&&(TD(t,218),yD(t,F));let B=e.serviceVendor;if(void 0!==B)for(let T of B){TD(t,226);let e=fD();cD(T,e),TD(t,e.limit),bD(t,e),mD(e)}}(e,t),function(e){let t=e.bytes,n=e.limit;return t.length===n?t:t.subarray(0,n)}(t)}function aD(e){return function(e){let t={};e:for(;!CD(e);){let n=BD(e);switch(n>>>3){case 0:break e;case 1:t.code=BD(e);break;case 2:t.msg=UD(e,BD(e));break;case 3:{let n=lD(e);t.data=sD(e),e.limit=n;break}default:dD(e,7&n)}}return t}({bytes:t=e,offset:0,limit:t.length});var t}function sD(e){let t={};e:for(;!CD(e);){let n=BD(e);switch(n>>>3){case 0:break e;case 1:t.requestId=UD(e,BD(e));break;case 2:t.requestType=BD(e)>>>0;break;case 3:t.scorePorn=SD(e);break;case 4:t.scoreSexy=SD(e);break;case 5:t.scoreNeutral=SD(e);break;case 6:t.requestScene=BD(e)>>>0;break;case 7:t.scene=BD(e)>>>0;break;default:dD(e,7&n)}}return t}function cD(e,t){let n=e.service;void 0!==n&&(TD(t,8),TD(t,n));let i=e.vendor;void 0!==i&&(TD(t,16),TD(t,i));let r=e.token;void 0!==r&&(TD(t,26),yD(t,r));let o=e.callbackUrl;void 0!==o&&(TD(t,34),yD(t,o))}function lD(e){let t=BD(e),n=e.limit;return e.limit=e.offset+t,n}function dD(e,t){switch(t){case 0:for(;128&vD(e););break;case 2:ED(e,BD(e));break;case 5:ED(e,4);break;case 1:ED(e,8);break;default:throw new Error("Unimplemented type: "+t)}}Vy([rD,Zy("design:type",Function),Zy("design:paramtypes",[Object,Boolean]),Zy("design:returntype",tE)],iD.prototype,"startP2PConnection",null),Vy([rD,Zy("design:type",Function),Zy("design:paramtypes",[Object,Object,Array,Object,String,String]),Zy("design:returntype",tE)],iD.prototype,"connect",null),Vy([rD,Zy("design:type",Function),Zy("design:paramtypes",[Array]),Zy("design:returntype",void 0)],iD.prototype,"updateRemoteRTPCapabilities",null),Vy([rD,Zy("design:type",Function),Zy("design:paramtypes",[Object,Object,Array,Object,String,String]),Zy("design:returntype",tE)],iD.prototype,"preConnect",null),Vy([rD,Zy("design:type",Function),Zy("design:paramtypes",[Array]),Zy("design:returntype",tE)],iD.prototype,"publishDataChannel",null),Vy([rD,Zy("design:type",Function),Zy("design:paramtypes",[Array]),Zy("design:returntype",tE)],iD.prototype,"unpublish",null),Vy([rD,Zy("design:type",Function),Zy("design:paramtypes",[Array]),Zy("design:returntype",tE)],iD.prototype,"unpublishDataChannel",null),Vy([rD,Zy("design:type",Function),Zy("design:paramtypes",[]),Zy("design:returntype",tE)],iD.prototype,"unpublishLowStream",null),Vy([rD,Zy("design:type",Function),Zy("design:paramtypes",[nk,Array]),Zy("design:returntype",tE)],iD.prototype,"subscribeDataChannel",null),Vy([rD,Zy("design:type",Function),Zy("design:paramtypes",[nk,String,Number,Number,Array]),Zy("design:returntype",tE)],iD.prototype,"subscribe",null),Vy([rD,Zy("design:type",Function),Zy("design:paramtypes",[Array]),Zy("design:returntype",tE)],iD.prototype,"massSubscribe",null),Vy([rD,Zy("design:type",Function),Zy("design:paramtypes",[nk,String,Boolean]),Zy("design:returntype",tE)],iD.prototype,"unsubscribe",null),Vy([rD,Zy("design:type",Function),Zy("design:paramtypes",[nk,Array]),Zy("design:returntype",tE)],iD.prototype,"unsubscribeDataChannel",null),Vy([rD,Zy("design:type",Function),Zy("design:paramtypes",[Array]),Zy("design:returntype",tE)],iD.prototype,"massUnsubscribe",null),Vy([rD,Zy("design:type",Function),Zy("design:paramtypes",[nk,String]),Zy("design:returntype",tE)],iD.prototype,"muteRemote",null),Vy([rD,Zy("design:type",Function),Zy("design:paramtypes",[nk,String]),Zy("design:returntype",tE)],iD.prototype,"unmuteRemote",null),Vy([rD,Zy("design:type",Function),Zy("design:paramtypes",[nk,String]),Zy("design:returntype",tE)],iD.prototype,"hasRemoteMediaWithLock",null),Vy([rD,Zy("design:type",Function),Zy("design:paramtypes",[]),Zy("design:returntype",tE)],iD.prototype,"disconnectForReconnect",null),Vy([rD,Zy("design:type",Function),Zy("design:paramtypes",[Object]),Zy("design:returntype",tE)],iD.prototype,"updateBitrateLimit",null),Vy([rD,Zy("design:type",Function),Zy("design:paramtypes",[nk,String,Number]),Zy("design:returntype",tE)],iD.prototype,"remoteMediaSsrcChanged",null);let uD=new Float32Array(1);new Uint8Array(uD.buffer);let hD=new Float64Array(1),AD=new Uint8Array(hD.buffer);function pD(e){return{low:e|=0,high:e>>31,unsigned:e>=0}}let gD=[];function fD(){const e=gD.pop();return e?(e.offset=e.limit=0,e):{bytes:new Uint8Array(64),offset:0,limit:0}}function mD(e){gD.push(e)}function ED(e,t){if(e.offset+t>e.limit)throw new Error("Skip past limit");e.offset+=t}function CD(e){return e.offset>=e.limit}function ID(e,t){let n=e.bytes,i=e.offset,r=e.limit,o=i+t;if(o>n.length){let t=new Uint8Array(2*o);t.set(n),e.bytes=t}return e.offset=o,o>r&&(e.limit=o),i}function QD(e,t){let n=e.offset;if(n+t>e.limit)throw new Error("Read past limit");return e.offset+=t,n}function UD(e,t){let n=QD(e,t),i=String.fromCharCode,r=e.bytes,o="\ufffd",a="";for(let s=0;s<t;s++){let e,c,l,d,u=r[s+n];0==(128&u)?a+=i(u):192==(224&u)?s+1>=t?a+=o:(e=r[s+n+1],128!=(192&e)?a+=o:(d=(31&u)<<6|63&e,d<128?a+=o:(a+=i(d),s++))):224==(240&u)?s+2>=t?a+=o:(e=r[s+n+1],c=r[s+n+2],32896!=(49344&(e|c<<8))?a+=o:(d=(15&u)<<12|(63&e)<<6|63&c,d<2048||d>=55296&&d<=57343?a+=o:(a+=i(d),s+=2))):240==(248&u)?s+3>=t?a+=o:(e=r[s+n+1],c=r[s+n+2],l=r[s+n+3],8421504!=(12632256&(e|c<<8|l<<16))?a+=o:(d=(7&u)<<18|(63&e)<<12|(63&c)<<6|63&l,d<65536||d>1114111?a+=o:(d-=65536,a+=i(55296+(d>>10),56320+(1023&d)),s+=3))):a+=o}return a}function yD(e,t){let n=t.length,i=0;for(let a=0;a<n;a++){let e=t.charCodeAt(a);e>=55296&&e<=56319&&a+1<n&&(e=(e<<10)+t.charCodeAt(++a)-56613888),i+=e<128?1:e<2048?2:e<65536?3:4}TD(e,i);let r=ID(e,i),o=e.bytes;for(let a=0;a<n;a++){let e=t.charCodeAt(a);e>=55296&&e<=56319&&a+1<n&&(e=(e<<10)+t.charCodeAt(++a)-56613888),e<128?o[r++]=e:(e<2048?o[r++]=e>>6&31|192:(e<65536?o[r++]=e>>12&15|224:(o[r++]=e>>18&7|240,o[r++]=e>>12&63|128),o[r++]=e>>6&63|128),o[r++]=63&e|128)}}function bD(e,t){let n=ID(e,t.limit),i=e.bytes,r=t.bytes;for(let o=0,a=t.limit;o<a;o++)i[o+n]=r[o]}function vD(e){return e.bytes[QD(e,1)]}function RD(e,t){let n=ID(e,1);e.bytes[n]=t}function SD(e){let t=QD(e,8),n=e.bytes;return AD[0]=n[t++],AD[1]=n[t++],AD[2]=n[t++],AD[3]=n[t++],AD[4]=n[t++],AD[5]=n[t++],AD[6]=n[t++],AD[7]=n[t++],hD[0]}function FD(e,t){let n=ID(e,8),i=e.bytes;hD[0]=t,i[n++]=AD[0],i[n++]=AD[1],i[n++]=AD[2],i[n++]=AD[3],i[n++]=AD[4],i[n++]=AD[5],i[n++]=AD[6],i[n++]=AD[7]}function BD(e){let t,n=0,i=0;do{t=vD(e),n<32&&(i|=(127&t)<<n),n+=7}while(128&t);return i}function TD(e,t){for(t>>>=0;t>=128;)RD(e,127&t|128),t>>>=7;RD(e,t)}function ND(e,t){let n=t.low>>>0,i=(t.low>>>28|t.high<<4)>>>0,r=t.high>>>24,o=0===r?0===i?n<16384?n<128?1:2:n<1<<21?3:4:i<16384?i<128?5:6:i<1<<21?7:8:r<128?9:10,a=ID(e,o),s=e.bytes;switch(o){case 10:s[a+9]=r>>>7&1;case 9:s[a+8]=9!==o?128|r:127&r;case 8:s[a+7]=8!==o?i>>>21|128:i>>>21&127;case 7:s[a+6]=7!==o?i>>>14|128:i>>>14&127;case 6:s[a+5]=6!==o?i>>>7|128:i>>>7&127;case 5:s[a+4]=5!==o?128|i:127&i;case 4:s[a+3]=4!==o?n>>>21|128:n>>>21&127;case 3:s[a+2]=3!==o?n>>>14|128:n>>>14&127;case 2:s[a+1]=2!==o?n>>>7|128:n>>>7&127;case 1:s[a]=1!==o?128|n:127&n}}function _D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}const wD=new Map([["moderation",1],["supervise",2]]);class kD extends nC{get connectionState(){return this._connectionState}set connectionState(e){if(this._connectionState===e)return;const t=this._connectionState;this._connectionState=e,this.emit(Qb.CONNECTION_STATE_CHANGE,t,e)}get inspectType(){return this._inspectType}set inspectType(e){var t;this._inspectMode=cI(t=e.map((e=>wD.get(e)||0))).call(t,((e,t)=>e+t)),this._inspectType=e}get quality(){return this._quality}set quality(e){this._quality=e>1?1:e<.1?.1:e,this.qualityTimer&&(window.clearTimeout(this.qualityTimer),this.qualityTimer=null),this._quality>=1||(this.qualityTimer=window.setTimeout((()=>{this.quality=this._quality/this.qualityRatio}),6e4))}constructor(e){super(),ih(this,"name","AgoraRTCVideoContentInspect"),ih(this,"_connectionState",Cb.CONNECTING),ih(this,"_innerConnectionState",void 0),ih(this,"sequence",0),ih(this,"inspectStartTime",void 0),ih(this,"workerManagerConnection",void 0),ih(this,"workerConnection",void 0),ih(this,"workerMessageLengthLimit",void 0),ih(this,"inspectIntervalMinimum",void 0),ih(this,"qualityRatio",void 0),ih(this,"_connectInfo",void 0),ih(this,"_cancelTokenSource",gU.CancelToken.source()),ih(this,"_retryConfig",void 0),ih(this,"wmSequence",0),ih(this,"inspectInterval",void 0),ih(this,"inspectTimer",null),ih(this,"ossFilePrefix",void 0),ih(this,"extraInfo",void 0),ih(this,"_inspectType",void 0),ih(this,"_inspectMode",void 0),ih(this,"_quality",1),ih(this,"qualityTimer",null),ih(this,"_inspectId",void 0),ih(this,"_needWorkUrlOnly",!1),ih(this,"inspectImage",(()=>{if(this.connectionState!==Cb.CONNECTED)throw new Wy(ZE.OPERATION_ABORTED,"content inspect service connection status is ".concat(this.connectionState));this.inspectTimer&&(window.clearInterval(this.inspectTimer),this.inspectTimer=null),this.inspectTimer=window.setInterval((()=>{this.connectionState===Cb.CONNECTED?this.requestToInspectImage():YU.debug("[".concat(this._inspectId,"] Inspect State is not connected , "),this.connectionState)}),this.inspectInterval<this.inspectIntervalMinimum?this.inspectIntervalMinimum:this.inspectInterval),this.requestToInspectImage()})),this._inspectId=ZC(5,"inspect-"),this.workerMessageLengthLimit=NU("VIDEO_INSPECT_WORKER_MESSAGE_LENGTH_LIMIT"),this.inspectIntervalMinimum=NU("VIDEO_INSPECT_INTERVAL_MINIMUM"),this.qualityRatio=NU("VIDEO_INSPECT_QUALITY_RATIO"),this.inspectInterval=e.interval,this.ossFilePrefix=e.ossFilePrefix,this.extraInfo=e.extraInfo,this.inspectType=e.inspectType,this.inspectStartTime=Number(Date.now()),this.workerManagerConnection=new $b("worker-manager-"+this._inspectId,XC),this.on(Qb.STATE_CHANGE,((e,t)=>{this._innerConnectionState=e,YU.debug("[".concat(this._inspectId,"] Inspect operation :").concat(Ib[e]," ").concat(t||""))})),this.handleWorkerManagerEvents(),this.workerConnection=new $b("worker-"+this._inspectId,XC),this.handleWorkerEvents()}async init(e,t){this.emit(Qb.STATE_CHANGE,Ib.CONNECT_AP),this._connectInfo=e;const n=this._cancelTokenSource.token;return this._retryConfig=t,new tE(((i,r)=>{this.on(Qb.CONNECTION_STATE_CHANGE,((e,t)=>{t===Cb.CONNECTED&&i()})),this.requestAP(e,n,t).then((e=>{this.connectWorkerManager(e)})).catch((e=>{r(e)}))}))}async requestAP(e,t,n){const i=NU("WEBCS_DOMAIN").map((e=>"https://".concat(e,"/api/v1"))),r=await function(e,t,n,i){let{appId:r,areaCode:o,cname:a,sid:s,token:c,uid:l}=t;AR++;const d="image_moderation_api",u={service_name:d,json_body:JSON.stringify({appId:r,areaCode:o,cname:a,command:"allocateEdge",requestId:AR,seq:AR,sid:s,token:c,ts:Date.now(),uid:l+""})};let h,A,p=e[0];return HC((async()=>{h=Date.now();const e=await Gv(p,{data:u,cancelToken:n,headers:{"X-Packet-Service-Type":"0","X-Packet-URI":"61"},params:{action:"wrtc_gateway"}});if(A=Date.now()-h,0!==e.code){const t=new Wy(ZE.UNEXPECTED_RESPONSE,"image inspect ap error, code"+e.code,{retry:!0,responseTime:A});throw YU.error(t.toString()),t}const t=JSON.parse(e.json_body);if(200!==t.code){const e=new Wy(ZE.UNEXPECTED_RESPONSE,"image inspect ap error, code: ".concat(t.code,", reason: ").concat(t.reason),{code:t.code,responseTime:A});throw YU.error(e.toString()),e}if(!t.servers||!Array.isArray(t.servers)||0===t.servers.length){const e=new Wy(ZE.UNEXPECTED_RESPONSE,"image inspect ap empty server",{code:t.code,responseTime:A});throw YU.error(e.toString()),e}const i=NU("VIDEO_INSPECT_WORKER_MANAGER_HOST"),r=NU("VIDEO_INSPECT_WORKER_MANAGER_PORT");return{addressList:t.servers.map((e=>{let{address:t,wss:n}=e;if(t&&n)return"wss://".concat(t.replace(/\./g,"-"),".").concat(i,":").concat(r||n)})).filter((e=>!!e)),workerToken:t.workerToken,vid:t.vid,responseTime:A}}),((t,n)=>(oy.apworkerEvent(s,{success:!0,sc:200,serviceName:d,responseDetail:JSON.stringify(t.addressList),firstSuccess:0===n,responseTime:A,serverIp:e[n%e.length]}),!1)),((t,n)=>(oy.apworkerEvent(s,{success:!1,sc:t.data&&t.data.code||200,serviceName:d,responseTime:A,serverIp:e[n%e.length]}),!!(t.code!==ZE.OPERATION_ABORTED&&t.code!==ZE.UNEXPECTED_RESPONSE||t.data&&t.data.retry)&&(p=e[(n+1)%e.length],!0))),i)}(i,e,t,n);this.emit(Qb.STATE_CHANGE,Ib.AP_CONNECTED);const{addressList:o}=r;return this.wmSequence++,o}async connectWorkerManager(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._needWorkUrlOnly=t,this.emit(Qb.STATE_CHANGE,Ib.CONNECT_WORKER_MANAGER),await this.workerManagerConnection.init(e,1e4)}async connectWorker(e){await this.workerConnection.init([e])}handleWorkerManagerEvents(){this.workerManagerConnection.on(vy.CONNECTED,(async()=>{this.emit(Qb.STATE_CHANGE,Ib.WORKER_MANAGER_CONNECTED,this.workerManagerConnection.url),this.workerManagerConnection.sendMessage({appId:this._connectInfo.appId,cname:this._connectInfo.cname,uid:this._connectInfo.uid+"",sdkVersion:"4.20.0",sid:this._connectInfo.sid,seq:this.wmSequence,ts:Number(Date.now()),requestId:Math.floor(1e12*Math.random()),allocate:!0,clientRequest:{command:"join"}},!0)})),this.workerManagerConnection.on(vy.CLOSED,(()=>{this._innerConnectionState<Ib.GET_WORKER_MANAGER_RESPONSE&&YU.debug("[".concat(this._inspectId,"] Inspect worker manager is closed before connecting worker"))})),this.workerManagerConnection.on(vy.FAILED,(()=>{this._innerConnectionState<Ib.GET_WORKER_MANAGER_RESPONSE&&YU.debug("[".concat(this._inspectId,"] Connecting inspect worker manager is failed before connecting worker"))})),this.workerManagerConnection.on(vy.RECONNECTING,(()=>{this._innerConnectionState<Ib.GET_WORKER_MANAGER_RESPONSE&&YU.debug("[".concat(this._inspectId,"] Inspect worker manager is reconnecting before connecting worker"))})),this.workerManagerConnection.on(vy.ON_MESSAGE,(async e=>{this.emit(Qb.STATE_CHANGE,Ib.GET_WORKER_MANAGER_RESPONSE);const t=this.workerManagerConnection.url;this.workerManagerConnection.close();const n=JSON.parse(e.data);if(200!==n.code)throw YU.error("[".concat(this._inspectId,"] Unexpected code ").concat(n.code," from worker manager")),new Wy(ZE.UNEXPECTED_RESPONSE,"response code of worker is unexpected",n);if(!(n.serverResponse&&n.serverResponse.portWss&&t))throw YU.error("[".concat(this._inspectId,"] Unexpected content from worker manager : ").concat(JSON.stringify(n))),new Wy(ZE.UNEXPECTED_RESPONSE,"response content of worker is unexpected",n);{const e=NU("VIDEO_INSPECT_WORKER_PORT")||n.serverResponse.portWss,i=t.replace(/:\d+\/?$/,":".concat(e));this.emit(Qb.STATE_CHANGE,Ib.CONNECT_WORKER,i),this._needWorkUrlOnly?this.emit(Qb.REQUEST_NEW_WORKER_URL,i):await this.connectWorker(i)}})),this.workerManagerConnection.on(vy.WILL_RECONNECT,((e,t,n)=>{n(e)})),this.workerManagerConnection.on(vy.REQUEST_NEW_URLS,((e,t)=>{this.requestAP(this._connectInfo,this._cancelTokenSource.token,this._retryConfig).then(e).catch(t)}))}handleWorkerEvents(){this.workerConnection.on(vy.CONNECTED,(async()=>{this.emit(Qb.STATE_CHANGE,Ib.WORKER_CONNECTED,this.workerConnection.url),this.connectionState=Cb.CONNECTED})),this.workerConnection.on(vy.ON_MESSAGE,(async e=>{if(e.data instanceof ArrayBuffer){const n=aD(new Uint8Array(e.data));if(NU("SHOW_VIDEO_INSPECT_WORKER_MESSAGE")&&YU.debug("[".concat(this._inspectId,"] Response message for worker of inspect content "),JSON.stringify(n)),200===n.code){if(Array.isArray(this.inspectType)&&1===this.inspectType.length&&"supervise"===this.inspectType[0])return void this.emit(Qb.INSPECT_RESULT,void 0,void 0);if(n.data&&n.data.scorePorn&&n.data.scoreSexy&&n.data.scoreNeutral){var t;const e={porn:n.data.scorePorn,sexy:n.data.scoreSexy,neutral:n.data.scoreNeutral},i=cI(t=Object.keys(e)).call(t,((t,n)=>e[t]>e[n]?t:n),"porn"),r=Object.keys(e).find((e=>e===i));this.emit(Qb.INSPECT_RESULT,r)}else this.emit(Qb.INSPECT_RESULT,void 0,new Wy(ZE.UNEXPECTED_RESPONSE,n.code+"","There is an unexpected data on message"))}else this.emit(Qb.INSPECT_RESULT,void 0,new Wy(ZE.UNEXPECTED_RESPONSE,n.code+"",n.msg))}else YU.error("[".concat(this._inspectId,"] Unexpected message type from worker")),this.emit(Qb.INSPECT_RESULT,void 0,new Wy(ZE.UNEXPECTED_RESPONSE,"invalid worker message type"))})),this.workerConnection.on(vy.CLOSED,(()=>{this.connectionState=Cb.CLOSED})),this.workerConnection.on(vy.FAILED,(()=>{this.connectionState=Cb.CLOSED})),this.workerConnection.on(vy.RECONNECTING,(()=>{this.connectionState=this.connectionState===Cb.CONNECTED?Cb.RECONNECTING:Cb.CONNECTING})),this.workerConnection.on(vy.WILL_RECONNECT,((e,t,n)=>{"recover"===e&&n(e),n("tryNext")})),this.workerConnection.on(vy.REQUEST_NEW_URLS,((e,t)=>{this.workerManagerConnection.close(),this.once(Qb.REQUEST_NEW_WORKER_URL,(t=>{e([t])})),this.requestAP(this._connectInfo,this._cancelTokenSource.token,this._retryConfig).then((e=>{this.connectWorkerManager(e,!0)})).catch((e=>{t(e)}))}))}static intToLong(e){return{low:e|=0,high:e>>31,unsigned:e>=0}}async requestToInspectImage(){this.sequence++;const e=CC(this,Qb.CLIENT_LOCAL_VIDEO_TRACK),t={appId:this._connectInfo.appId,cname:this._connectInfo.cname,cid:this._connectInfo.cid,sid:this._connectInfo.sid,uid:this._connectInfo.uid,vid:this._connectInfo.vid};if(e){if(!e.isPlaying)return void this.emit(Qb.INSPECT_RESULT,void 0,new Wy(ZE.INVALID_OPERATION,"Only the track being played can be inspected"));const n=await this.generateRequestData(e,t);this.workerConnection.sendMessage(n,!0,!0)}else this.emit(Qb.INSPECT_RESULT,void 0,new Wy(ZE.INVALID_OPERATION,"Only the track being published can be inspected"))}async generateRequestData(e,t){let{appId:n,cname:i,cid:r,vid:o,sid:a,uid:s}=t;const c=Date.now(),l=await e.getCurrentFrameImage("image/jpeg",this.quality),d=await SF(l,n,i),u=this.sequence+"-"+r+"-"+s+"-"+c+"-"+ZC(12,""),h={appId:n,cid:r,cname:i,deviceId:"",elapse:kD.intToLong(Number(c-this.inspectStartTime)),fileSize:d.byteLength,jpgEncryption:2,height:l.height,width:l.width,jpg:d,networkType:6,osType:7,requestId:u,sdkVersion:"4.20.0",sequence:this.sequence,sid:a,timestamp:kD.intToLong(c),uid:s,vid:o,service:this._inspectMode,callbackData:this.extraInfo,ossFilePrefix:this.ossFilePrefix};void 0===this.extraInfo&&delete h.callbackData,void 0===this.ossFilePrefix&&delete h.ossFilePrefix;const A=oD(h);if(A.byteLength<this.workerMessageLengthLimit){if(NU("SHOW_VIDEO_INSPECT_WORKER_MESSAGE")){const e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_D(Object(n),!0).forEach((function(t){ih(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},h);delete e.jpg,YU.debug("[".concat(this._inspectId,"] Request message for worker of inspect content "),JSON.stringify(e))}return A}{const t=this.quality*this.qualityRatio;return this.quality=t,await this.generateRequestData(e,{appId:n,cname:i,cid:r,vid:o,sid:a,uid:s})}}close(){this._cancelTokenSource.cancel(),this._cancelTokenSource=gU.CancelToken.source(),this.workerManagerConnection&&this.workerManagerConnection.close(),this.workerConnection&&this.workerConnection.close(),this.inspectTimer&&window.clearInterval(this.inspectTimer),this.inspectTimer=null,this.connectionState=Cb.CLOSED,this.emit(Qb.STATE_CHANGE,Ib.CLOSED)}}function DD(e){let t=function(){const e=OD.pop();return e?(e.offset=e.limit=0,e):{bytes:new Uint8Array(64),offset:0,limit:0}}();return function(e,t){let n=e.appId;void 0!==n&&(HD(t,10),YD(t,n));let i=e.cid;void 0!==i&&(HD(t,16),HD(t,i));let r=e.cname;void 0!==r&&(HD(t,26),YD(t,r));let o=e.deviceId;void 0!==o&&(HD(t,34),YD(t,o));let a=e.elapse;void 0!==a&&(HD(t,40),qD(t,a));let s=e.fileSize;void 0!==s&&(HD(t,48),qD(t,WD(s)));let c=e.height;void 0!==c&&(HD(t,56),qD(t,WD(c)));let l=e.jpg;void 0!==l&&(HD(t,66),HD(t,l.length),PD(t,l));let d=e.networkType;void 0!==d&&(HD(t,72),qD(t,WD(d)));let u=e.osType;void 0!==u&&(HD(t,80),qD(t,WD(u)));let h=e.requestId;void 0!==h&&(HD(t,90),YD(t,h));let A=e.sdkVersion;void 0!==A&&(HD(t,98),YD(t,A));let p=e.sequence;void 0!==p&&(HD(t,104),qD(t,WD(p)));let g=e.sid;void 0!==g&&(HD(t,114),YD(t,g));let f=e.timestamp;void 0!==f&&(HD(t,120),qD(t,f));let m=e.uid;void 0!==m&&(HD(t,128),HD(t,m));let E=e.vid;void 0!==E&&(HD(t,136),HD(t,E));let C=e.width;void 0!==C&&(HD(t,144),qD(t,WD(C)));let I=e.service;void 0!==I&&(HD(t,152),HD(t,I));let Q=e.callbackData;void 0!==Q&&(HD(t,162),HD(t,Q.length),PD(t,Q));let U=e.ticket;void 0!==U&&(HD(t,170),YD(t,U));let y=e.vendorConfigs;void 0!==y&&(HD(t,178),YD(t,y))}(e,t),function(e){let t=e.bytes,n=e.limit;return t.length===n?t:t.subarray(0,n)}(t)}function VD(e){return function(e){let t={};e:for(;!xD(e);){let n=KD(e);switch(n>>>3){case 0:break e;case 1:t.code=KD(e);break;case 2:t.msg=GD(e,KD(e));break;case 3:t.requestId=GD(e,KD(e));break;case 4:t.timestamp=zD(e,!1);break;default:ZD(e,7&n)}}return t}({bytes:t=e,offset:0,limit:t.length});var t}function ZD(e,t){switch(t){case 0:for(;128&jD(e););break;case 2:JD(e,KD(e));break;case 5:JD(e,4);break;case 1:JD(e,8);break;default:throw new Error("Unimplemented type: "+t)}}function WD(e){return{low:e|=0,high:e>>31,unsigned:e>=0}}let OD=[];function JD(e,t){if(e.offset+t>e.limit)throw new Error("Skip past limit");e.offset+=t}function xD(e){return e.offset>=e.limit}function MD(e,t){let n=e.bytes,i=e.offset,r=e.limit,o=i+t;if(o>n.length){let t=new Uint8Array(2*o);t.set(n),e.bytes=t}return e.offset=o,o>r&&(e.limit=o),i}function LD(e,t){let n=e.offset;if(n+t>e.limit)throw new Error("Read past limit");return e.offset+=t,n}function PD(e,t){let n=MD(e,t.length);e.bytes.set(t,n)}function GD(e,t){let n=LD(e,t),i=String.fromCharCode,r=e.bytes,o="\ufffd",a="";for(let s=0;s<t;s++){let e,c,l,d,u=r[s+n];0==(128&u)?a+=i(u):192==(224&u)?s+1>=t?a+=o:(e=r[s+n+1],128!=(192&e)?a+=o:(d=(31&u)<<6|63&e,d<128?a+=o:(a+=i(d),s++))):224==(240&u)?s+2>=t?a+=o:(e=r[s+n+1],c=r[s+n+2],32896!=(49344&(e|c<<8))?a+=o:(d=(15&u)<<12|(63&e)<<6|63&c,d<2048||d>=55296&&d<=57343?a+=o:(a+=i(d),s+=2))):240==(248&u)?s+3>=t?a+=o:(e=r[s+n+1],c=r[s+n+2],l=r[s+n+3],8421504!=(12632256&(e|c<<8|l<<16))?a+=o:(d=(7&u)<<18|(63&e)<<12|(63&c)<<6|63&l,d<65536||d>1114111?a+=o:(d-=65536,a+=i(55296+(d>>10),56320+(1023&d)),s+=3))):a+=o}return a}function YD(e,t){let n=t.length,i=0;for(let a=0;a<n;a++){let e=t.charCodeAt(a);e>=55296&&e<=56319&&a+1<n&&(e=(e<<10)+t.charCodeAt(++a)-56613888),i+=e<128?1:e<2048?2:e<65536?3:4}HD(e,i);let r=MD(e,i),o=e.bytes;for(let a=0;a<n;a++){let e=t.charCodeAt(a);e>=55296&&e<=56319&&a+1<n&&(e=(e<<10)+t.charCodeAt(++a)-56613888),e<128?o[r++]=e:(e<2048?o[r++]=e>>6&31|192:(e<65536?o[r++]=e>>12&15|224:(o[r++]=e>>18&7|240,o[r++]=e>>12&63|128),o[r++]=e>>6&63|128),o[r++]=63&e|128)}}function jD(e){return e.bytes[LD(e,1)]}function XD(e,t){let n=MD(e,1);e.bytes[n]=t}function KD(e){let t,n=0,i=0;do{t=jD(e),n<32&&(i|=(127&t)<<n),n+=7}while(128&t);return i}function HD(e,t){for(t>>>=0;t>=128;)XD(e,127&t|128),t>>>=7;XD(e,t)}function zD(e,t){let n,i=0,r=0,o=0;return n=jD(e),i=127&n,128&n&&(n=jD(e),i|=(127&n)<<7,128&n&&(n=jD(e),i|=(127&n)<<14,128&n&&(n=jD(e),i|=(127&n)<<21,128&n&&(n=jD(e),r=127&n,128&n&&(n=jD(e),r|=(127&n)<<7,128&n&&(n=jD(e),r|=(127&n)<<14,128&n&&(n=jD(e),r|=(127&n)<<21,128&n&&(n=jD(e),o=127&n,128&n&&(n=jD(e),o|=(127&n)<<7))))))))),{low:i|r<<28,high:r>>>4|o<<24,unsigned:t}}function qD(e,t){let n=t.low>>>0,i=(t.low>>>28|t.high<<4)>>>0,r=t.high>>>24,o=0===r?0===i?n<16384?n<128?1:2:n<1<<21?3:4:i<16384?i<128?5:6:i<1<<21?7:8:r<128?9:10,a=MD(e,o),s=e.bytes;switch(o){case 10:s[a+9]=r>>>7&1;case 9:s[a+8]=9!==o?128|r:127&r;case 8:s[a+7]=8!==o?i>>>21|128:i>>>21&127;case 7:s[a+6]=7!==o?i>>>14|128:i>>>14&127;case 6:s[a+5]=6!==o?i>>>7|128:i>>>7&127;case 5:s[a+4]=5!==o?128|i:127&i;case 4:s[a+3]=4!==o?n>>>21|128:n>>>21&127;case 3:s[a+2]=3!==o?n>>>14|128:n>>>14&127;case 2:s[a+1]=2!==o?n>>>7|128:n>>>7&127;case 1:s[a]=1!==o?128|n:127&n}}const $D={},eV={},tV=4294967296,nV=tV*tV,iV=nV/2,rV=lV(0,!0),oV=lV(0),aV=dV(0,-2147483648,!1),sV=dV(-1,2147483647,!1),cV=dV(-1,-1,!0);function lV(e,t){let n,i,r;return t?(r=0<=(e>>>=0)&&e<256)&&(i=eV[e],i)?i:(n=dV(e,0,!0),r&&(eV[e]=n),n):(r=-128<=(e|=0)&&e<128)&&(i=$D[e],i)?i:(n=dV(e,e<0?-1:0,!1),r&&($D[e]=n),n)}function dV(e,t,n){return{low:0|e,high:0|t,unsigned:!!n}}function uV(e,t){if(isNaN(e))return t?rV:oV;if(t){if(e<0)return rV;if(e>=nV)return cV}else{if(e<=-iV)return aV;if(e+1>=iV)return sV}return e<0?t?rV:oV:dV(e%tV|0,e/tV|0,t)}function hV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}class AV extends nC{get connectionState(){return this._connectionState}set connectionState(e){if(this._connectionState===e)return;const t=this._connectionState;this._connectionState=e,this.emit(Sb.CONNECTION_STATE_CHANGE,e,t)}get quality(){return this._quality}set quality(e){this._quality=e>1?1:e<.1?.1:e,this._qualityTimer&&(window.clearTimeout(this._qualityTimer),this._qualityTimer=null),this._quality>=1||(this._qualityTimer=window.setTimeout((()=>{this.quality=this._quality/this._qualityRatio}),6e4))}constructor(e){var t;super(),ih(this,"name","AgoraRTCImageModeration"),ih(this,"_connectionState",Rb.CONNECTING),ih(this,"_sequence",0),ih(this,"_moderationStartTime",void 0),ih(this,"_workerConnection",void 0),ih(this,"_workerMessageLengthLimit",void 0),ih(this,"_qualityRatio",void 0),ih(this,"_connectInfo",void 0),ih(this,"_cancelTokenSource",gU.CancelToken.source()),ih(this,"_retryConfig",void 0),ih(this,"_moderationInterval",void 0),ih(this,"_moderationTimer",null),ih(this,"_moderationMode",1),ih(this,"_quality",1),ih(this,"_qualityTimer",null),ih(this,"_ticket",void 0),ih(this,"_moderationIntervalMinimum",void 0),ih(this,"_uploadFailedNum",0),ih(this,"_uploadNum",0),ih(this,"_uploadTimer",null),ih(this,"_extraInfo",void 0),ih(this,"_vendor",""),ih(this,"_encoder",new TextEncoder),ih(this,"_moderationId",void 0),ih(this,"inspectImage",(()=>{if(this.connectionState!==Rb.CONNECTED)throw new Wy(ZE.OPERATION_ABORTED,"image moderation service connection status is ".concat(this.connectionState));this._moderationTimer&&(window.clearInterval(this._moderationTimer),this._moderationTimer=null),this._moderationTimer=window.setInterval((()=>{this.connectionState===Rb.CONNECTED?this.requestToInspectImage():YU.debug("[".concat(this._moderationId,"] Moderation State is not connected , "),this.connectionState)}),this._moderationInterval<this._moderationIntervalMinimum?this._moderationIntervalMinimum:this._moderationInterval),this.requestToInspectImage()})),this._moderationId=ZC(5,"image-moderation-"),this._workerMessageLengthLimit=NU("IMAGE_MODERATION_WORKER_MESSAGE_LENGTH_LIMIT"),this._moderationIntervalMinimum=NU("IMAGE_MODERATION_INTERVAL_MINIMUM"),this._moderationInterval=null!==(t=e.interval)&&void 0!==t?t:1e3,e.extraInfo&&(this._extraInfo=this._encoder.encode(e.extraInfo)),e.vendor&&(this._vendor=e.vendor),this._qualityRatio=NU("IMAGE_MODERATION_QUALITY_RATIO"),this._moderationStartTime=Number(Date.now()),this._workerConnection=new $b("worker-"+this._moderationId,XC),this.on(Sb.STATE_CHANGE,((e,t)=>{YU.debug("[".concat(this._moderationId,"] Moderation operation :").concat(Fb[e]," ").concat(t||""))})),this.handleWorkerEvents()}async init(e,t){this.emit(Sb.STATE_CHANGE,Fb.CONNECT_AP),this._connectInfo=e;const n=this._cancelTokenSource.token;return this._retryConfig=t,new tE(((i,r)=>{this.on(Sb.CONNECTION_STATE_CHANGE,((e,t)=>{e===Rb.CONNECTED&&i()})),this.requestAP(e,n,t).then((e=>{this.connectWorker(e)})).catch((e=>{r(e)}))}))}updateConfig(e){var t;this._moderationInterval=null!==(t=e.interval)&&void 0!==t?t:1e3,e.extraInfo&&(this._extraInfo=this._encoder.encode(e.extraInfo)),e.vendor&&(this._vendor=e.vendor),YU.debug("[".concat(this._moderationId,"] updateConfig: ").concat(JSON.stringify(e))),this.connectionState===Rb.CONNECTED&&this.inspectImage()}async requestAP(e,t,n){const i=NU("WEBCS_DOMAIN").map((e=>"https://".concat(e,"/api/v1"))),r=await function(e,t,n,i){let{appId:r,areaCode:o,cname:a,sid:s,token:c,uid:l}=t;AR++;const d="moderation_plugin",u={service_name:d,json_body:JSON.stringify({appId:r,areaCode:o,cname:a,command:"allocateEdge",requestId:AR,seq:AR,sid:s,appToken:c,ts:Date.now(),uid:l+""})};let h,A,p=e[0];return HC((async()=>{h=Date.now();const e=await Gv(p,{data:u,cancelToken:n,headers:{"X-Packet-Service-Type":"0","X-Packet-URI":"61"},params:{action:"wrtc_gateway"}});if(A=Date.now()-h,0!==e.code){const t=new Wy(ZE.UNEXPECTED_RESPONSE,"moderation plugin ap error, code"+e.code,{retry:!0,responseTime:A});throw YU.error(t.toString()),t}const t=JSON.parse(e.json_body);if(200!==t.code){const e=new Wy(ZE.UNEXPECTED_RESPONSE,"moderation plugin ap error, code: ".concat(t.code,", reason: ").concat(t.reason),{code:t.code,responseTime:A});throw YU.error(e.toString()),e}if(!t.servers||!Array.isArray(t.servers)||0===t.servers.length){const e=new Wy(ZE.UNEXPECTED_RESPONSE,"moderation plugin ap empty server",{code:t.code,responseTime:A});throw YU.error(e.toString()),e}if(!t.servers.some((e=>!!e.wss))){const e=new Wy(ZE.UNEXPECTED_RESPONSE,"moderation plugin ap empty port",{code:t.code,responseTime:A});throw YU.error(e.toString()),e}const i=NU("IMAGE_MODERATION_WORKER_HOST");return{addressList:t.servers.map((e=>{let{address:t,wss:n}=e;if(t&&n)return"wss://".concat(t.replace(/\./g,"-"),".").concat(i,":").concat(n,"/moderation")})).filter((e=>!!e)),workerToken:t.workerToken,vid:t.vid,ticket:t.appTicket,responseTime:A}}),((t,n)=>(oy.apworkerEvent(s,{success:!0,sc:200,serviceName:d,responseDetail:JSON.stringify(t.addressList),firstSuccess:0===n,responseTime:A,serverIp:e[n%e.length]}),!1)),((t,n)=>(oy.apworkerEvent(s,{success:!1,sc:t.data&&t.data.code||200,serviceName:d,responseTime:A,serverIp:e[n%e.length]}),!!(t.code!==ZE.OPERATION_ABORTED&&t.code!==ZE.UNEXPECTED_RESPONSE||t.data&&t.data.retry)&&(p=e[(n+1)%e.length],!0))),i)}(i,e,t,n);this.emit(Sb.STATE_CHANGE,Fb.AP_CONNECTED);const{addressList:o,ticket:a}=r;return this._ticket=a,o}async connectWorker(e){this.emit(Sb.STATE_CHANGE,Fb.CONNECT_WORKER),await this._workerConnection.init(e,1e4)}handleWorkerEvents(){this._workerConnection.on(vy.CONNECTED,(async()=>{this.emit(Sb.STATE_CHANGE,Fb.WORKER_CONNECTED,this._workerConnection.url),this.connectionState=Rb.CONNECTED})),this._workerConnection.on(vy.CLOSED,(()=>{this.connectionState=Rb.CLOSED})),this._workerConnection.on(vy.FAILED,(()=>{this.connectionState=Rb.CLOSED})),this._workerConnection.on(vy.RECONNECTING,(()=>{this.connectionState=this.connectionState===Rb.CONNECTED?Rb.RECONNECTING:Rb.CONNECTING})),this._workerConnection.on(vy.ON_MESSAGE,(async e=>{if(e.data instanceof ArrayBuffer){const t=VD(new Uint8Array(e.data));NU("SHOW_IMAGE_MODERATION_WORKER_MESSAGE")&&YU.debug("[".concat(this._moderationId,"] Response message for worker of image moderation "),JSON.stringify(t)),this._uploadNum++,void 0===t.code||0===t.code||(this._uploadFailedNum++,YU.error("[".concat(this._moderationId,"] Error response from worke, code is ").concat(t.code,", msg is ").concat(t.msg)),this._uploadTimer||(this._uploadTimer=window.setTimeout((()=>{oy.reportApiInvoke(this._connectInfo.sid||null,{name:oC.IMAGE_MODERATION_UPLOAD,options:[this._uploadFailedNum,this._uploadNum,t.code],tag:aC.TRACER}).onError(new Wy(ZE.IMAGE_MODERATION_UPLOAD_FAILED,t.msg)),this._uploadTimer=null}),NU("IMAGE_MODERATION_UPLOAD_REPORT_INTERVAL"))))}else YU.error("[".concat(this._moderationId,"] Unexpected message type from worker"))})),this._workerConnection.on(vy.WILL_RECONNECT,((e,t,n)=>{"recover"===e&&n(e),n("tryNext")})),this._workerConnection.on(vy.REQUEST_NEW_URLS,((e,t)=>{this.requestAP(this._connectInfo,this._cancelTokenSource.token,this._retryConfig).then(e).catch(t)}))}static intToLong(e){return{low:e|=0,high:e>>31,unsigned:e>=0}}async requestToInspectImage(){const e=CC(this,Sb.CLIENT_LOCAL_VIDEO_TRACK),t={appId:this._connectInfo.appId,cname:this._connectInfo.cname,cid:this._connectInfo.cid,sid:this._connectInfo.sid,uid:this._connectInfo.uid,vid:this._connectInfo.vid};if(e){if(!e.isPlaying)return void(NU("SHOW_IMAGE_MODERATION_WORKER_MESSAGE")&&YU.debug("Only the track being played can be inspected"));this._sequence++;const n=await this.generateRequestData(e,t);this._workerConnection.sendMessage(n,!0,!0)}else NU("SHOW_IMAGE_MODERATION_WORKER_MESSAGE")&&YU.debug("Only the track being published can be inspected")}async generateRequestData(e,t){let{appId:n,cname:i,cid:r,vid:o,sid:a,uid:s}=t;const c=Date.now(),l=await e.getCurrentFrameImage("image/jpeg",this.quality),d=await SF(l,n,i),u=this._sequence+"-"+r+"-"+s+"-"+c+"-"+ZC(12,""),h={appId:n,cid:r,cname:i,deviceId:"",elapse:AV.intToLong(Number(c-this._moderationStartTime)),fileSize:l.buffer.byteLength,height:l.height,width:l.width,jpg:d,networkType:6,osType:7,requestId:u,sdkVersion:"4.20.0",sequence:this._sequence,sid:a,timestamp:uV(c),uid:s,vid:o,service:this._moderationMode,ticket:this._ticket,callbackData:this._extraInfo,vendorConfigs:this._vendor};void 0===this._extraInfo&&delete h.callbackData;const A=DD(h);if(A.byteLength<this._workerMessageLengthLimit){if(NU("SHOW_IMAGE_MODERATION_WORKER_MESSAGE")){const e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hV(Object(n),!0).forEach((function(t){ih(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hV(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},h);delete e.jpg,YU.debug("[".concat(this._moderationId,"] Request message for worker of image moderation service: "),JSON.stringify(e))}return A}{const t=this.quality*this._qualityRatio;return this.quality=t,await this.generateRequestData(e,{appId:n,cname:i,cid:r,vid:o,sid:a,uid:s})}}close(){this._cancelTokenSource.cancel(),this._cancelTokenSource=gU.CancelToken.source(),this._workerConnection&&this._workerConnection.close(),this._moderationTimer&&window.clearInterval(this._moderationTimer),this._moderationTimer=null,this._uploadTimer&&window.clearTimeout(this._uploadTimer),this._uploadTimer=null,this.connectionState=Rb.CLOSED,this.emit(Sb.STATE_CHANGE,Fb.CLOSED)}}function pV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function gV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pV(Object(n),!0).forEach((function(t){ih(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pV(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const fV=Date.now(),mV=20,EV=new Map,CV=new Map;async function IV(e){const t=EV.get(e),n=Array.isArray(t)&&t[t.length-1],i=CV.get(e);if(!n)return void(i.isSyncing=!1);const r={uid:n.uid,payload:NC(n.payload)};0===i.firstRecvTs&&(i.firstRecvTs=n.recvTs,i.firstSendTs=n.sendTs);const o=n.sendTs-i.firstSendTs,a=o-(Date.now()-i.firstRecvTs);a>0&&(i.firstRecvTs=Date.now()-o);let s=n.mediaDelay+a;s<=0?(t.pop(),QV(n.context,r),s=0):s=Math.min(s,mV),setTimeout((()=>t.length&&IV(e)),s)}function QV(e,t){e.safeEmit(lC.STREAM_MESSAGE,t.uid,t.payload),e.onStreamMessage&&e.onStreamMessage(t)}function UV(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;if(!e.syncWithAudio)return QV(n,{uid:e.uid,payload:NC(e.payload)});const i="".concat(n.id,"-").concat(e.uid),r=EV.get(i)||[],o=r.findIndex((t=>e.sendTs>=t.sendTs)),a=gV(gV({},e),{},{context:n,mediaDelay:t,recvTs:Date.now()});-1===o?r.push(a):r.splice(o,0,a),EV.set(i,r);let s=!1;var c;CV.has(i)?s=!(null===(c=CV.get(i))||void 0===c||!c.isSyncing):CV.set(i,{isSyncing:s,firstRecvTs:0,firstSendTs:0}),s||IV(i)}const yV=AE().name;function bV(){return!function(e,t,n){const i=AE();if(i.os!==sE.IOS||!i.osVersion)return!1;const r=i.osVersion.split(".");return n?t&&Number(r[0])===e&&Number(r[1])<t||Number(r[0])<e:t?Number(r[0])===e&&Number(r[1])<=t||Number(r[0])<e:Number(r[0])<=e}(16,0,!0)&&!function(e,t,n){const i=AE();if(i.name!==cE.SAFARI||!i.osVersion)return!1;const r=i.version.split(".");return n?t&&Number(r[0])===e&&Number(r[1])<t||Number(r[0])<e:t?Number(r[0])===e&&Number(r[1])<=t||Number(r[0])<e:Number(r[0])<=e}(16,0,!0)}function vV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function RV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vV(Object(n),!0).forEach((function(t){ih(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vV(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}YC.setLogger(YU);class SV extends nC{get connectionState(){return this._gateway.state}get remoteUsers(){return this._users}get localTracks(){return this._p2pChannel.getAllTracks(!0)}get uid(){return this._uid}get channelName(){return this._channelName}get localDataChannels(){return this._p2pChannel.getAllDataChannels()}get mode(){return this._config.mode}get role(){var e;return(null===(e=this._config)||void 0===e?void 0:e.role)||"audience"}get codec(){return this._config.codec}get audioCodec(){return this._config.audioCodec||"opus"}get isStringUID(){return!!this._joinInfo&&!!this._joinInfo.stringUid}get __className__(){return"Client"}constructor(e){let t;if(super(),ih(this,"store",void 0),ih(this,"_uid",void 0),ih(this,"_channelName",void 0),ih(this,"_uintUid",void 0),ih(this,"_users",[]),ih(this,"_config",void 0),ih(this,"_clientId",void 0),ih(this,"_appId",void 0),ih(this,"_sessionId",null),ih(this,"_key",void 0),ih(this,"_rtmConfig",{}),ih(this,"_joinInfo",void 0),ih(this,"_gateway",void 0),ih(this,"_statsCollector",void 0),ih(this,"_configDistribute",void 0),ih(this,"_leaveMutex",new YC("client-leave")),ih(this,"_publishMutex",new YC("client-publish")),ih(this,"_renewTokenMutex",new YC("client-renewtoken")),ih(this,"_subscribeMutex",new YC("client-subscribe")),ih(this,"_encryptionMode","none"),ih(this,"_encryptionSecret",null),ih(this,"_encryptionSalt",null),ih(this,"_proxyServer",void 0),ih(this,"_turnServer",{servers:[],mode:"auto"}),ih(this,"_cloudProxyServerMode","disabled"),ih(this,"_isDualStreamEnabled",!1),ih(this,"_defaultStreamFallbackType",void 0),ih(this,"_lowStreamParameter",void 0),ih(this,"_streamFallbackTypeCacheMap",new Map),ih(this,"_remoteStreamTypeCacheMap",new Map),ih(this,"_axiosCancelSource",gU.CancelToken.source()),ih(this,"_audioVolumeIndicationInterval",void 0),ih(this,"_networkQualityInterval",void 0),ih(this,"_userOfflineTimeout",void 0),ih(this,"_streamRemovedTimeout",void 0),ih(this,"_injectStreamingClient",void 0),ih(this,"_liveTranscodeStreamingClient",void 0),ih(this,"_liveRawStreamingClient",void 0),ih(this,"_channelMediaRelayClient",void 0),ih(this,"_networkQualitySensitivity","normal"),ih(this,"_p2pChannel",void 0),ih(this,"_useLocalAccessPoint",!1),ih(this,"_setLocalAPVersion",void 0),ih(this,"_joinAndNotLeaveYet",!1),ih(this,"_numberOfJoinCount",0),ih(this,"_remoteDefaultVideoStreamType",void 0),ih(this,"_inspect",void 0),ih(this,"_moderation",void 0),ih(this,"_license",void 0),ih(this,"_pendingPublishedUsers",[]),ih(this,"ntpAlignErrorCount",0),ih(this,"remoteInboundOffset",0),ih(this,"_handleLocalTrackEnable",((e,t,n)=>{this.publish(e,!1).then(t).catch(n)})),ih(this,"_handleLocalTrackDisable",((e,t,n)=>{this.unpublish(e).then(t).catch(n)})),ih(this,"_handleUserOnline",(e=>{if(NU("BLOCK_LOCAL_CLIENT")&&dy(e.uid,this.channelName))return void YU.debug("[".concat(e.uid,"] will be ignored in local"));this.isStringUID&&"string"!=typeof e.uid&&YU.error("[".concat(this._clientId,"] StringUID is Mixed with UintUID"));const t=this._users.find((t=>t.uid===e.uid));if(t)t._trust_in_room_=!0,t._is_pre_created&&(t._is_pre_created=!1,this.safeEmit(lC.USER_JOINED,t));else{const t=new nk(e.uid,e.uint_id||e.uid);this._users.push(t),YU.debug("[".concat(this._clientId,"] user online"),e.uid),this.safeEmit(lC.USER_JOINED,t)}})),ih(this,"_handleUserOffline",(e=>{if(NU("BLOCK_LOCAL_CLIENT")&&dy(e.uid,this.channelName))return;const t=this._users.find((t=>t.uid===e.uid));t&&(this._handleRemoveStream(e),this._handleRemoveDataChannels(e),t._audio_pre_subscribed||t._video_pre_subscribed?t._is_pre_created=!0:bC(this._users,t),this._remoteStreamTypeCacheMap.delete(t.uid),this._streamFallbackTypeCacheMap.delete(t.uid),YU.debug("[".concat(this._clientId,"] user offline"),e.uid,"reason:",e.reason),this.safeEmit(lC.USER_LEAVED,t,e.reason))})),ih(this,"_handleAddAudioOrVideoStream",((e,t,n,i,r,o,a)=>{if(NU("BLOCK_LOCAL_CLIENT")&&dy(t,this.channelName))return;const s=this._users.find((e=>e.uid===t));if(!s)return void YU.error("[".concat(this._clientId,"] can not find target user!(on_add_stream)"));YU.debug("[".concat(this._clientId,"] stream added with uid ").concat(t,", type ").concat(e)),this.store.subscribe(s.uid,e,void 0,void 0,void 0,Date.now());const c="audio"===e?s.hasAudio:s.hasVideo;s._uintid||(s._uintid=r||t),"audio"===e?s._trust_audio_stream_added_state_=!0:s._trust_video_stream_added_state_=!0,"audio"===e?(s._audio_added_=!0,void 0!==n&&(s._audioSSRC=n),void 0!==i&&(s._cname=i),o&&(s._audioOrtc=o)):(s._video_added_=!0,void 0!==n&&(s._videoSSRC=n),void 0!==i&&(s._cname=i),void 0!==a&&(s._rtxSsrcId=a),o&&(s._videoOrtc=o)),("audio"===e?s.hasAudio:s.hasVideo)&&!c&&(YU.info("[".concat(this._clientId,"] remote user ").concat(s.uid," published ").concat(e)),this.safeEmit(lC.USER_PUBLISHED,s,e)),"video"===e?oy.onGatewayStream(this._sessionId,zU.ON_ADD_VIDEO_STREAM,qU.ON_ADD_VIDEO_STREAM,{peer:r||t,ssrc:s._videoSSRC}):oy.onGatewayStream(this._sessionId,zU.ON_ADD_AUDIO_STREAM,qU.ON_ADD_AUDIO_STREAM,{peer:r||t,ssrc:s._audioSSRC}),this._p2pChannel.remoteMediaSsrcChanged(s,e,n).then((t=>{if(t&&(YU.debug("[".concat(this._clientId,"] resubscribe ").concat(e," for user ").concat(s.uid," after rejoin because SSRC id changed.")),this._p2pChannel instanceof iD))return this._p2pChannel.unsubscribe(s,e,!0).then((()=>this._subscribe(s,e,!0).catch((e=>{YU.error("[".concat(this._clientId,"] resubscribe error"),e.toString())}))))})),this._p2pChannel.hasPendingRemoteMedia(s,e)&&(YU.debug("[".concat(this._clientId,"] resubscribe ").concat(e," for user ").concat(s.uid," after reconnect.")),this._subscribe(s,e,!0).catch((e=>{YU.error("[".concat(this._clientId,"] resubscribe error"),e.toString())})))})),ih(this,"_handleRemoveStream",(e=>{if(NU("BLOCK_LOCAL_CLIENT")&&dy(e.uid,this.channelName))return;const t=this._users.find((t=>t.uid===e.uid));if(!t)return void YU.warning("[".concat(this._clientId,"] can not find target user!(on_remove_stream)"));YU.debug("[".concat(this._clientId,"] stream removed with uid ").concat(e.uid));let n=()=>{};t.hasAudio&&t.hasVideo?n=()=>{YU.info("[".concat(this._clientId,"] remote user ").concat(t.uid," unpublished audio track")),this.safeEmit(lC.USER_UNPUBLISHED,t,"audio"),YU.info("[".concat(this._clientId,"] remote user ").concat(t.uid," unpublished video track")),this.safeEmit(lC.USER_UNPUBLISHED,t,"video")}:t.hasVideo?n=()=>{YU.info("[".concat(this._clientId,"] remote user ").concat(t.uid," unpublished video track")),this.safeEmit(lC.USER_UNPUBLISHED,t,"video")}:t.hasAudio&&(n=()=>{YU.info("[".concat(this._clientId,"] remote user ").concat(t.uid," unpublished audio track")),this.safeEmit(lC.USER_UNPUBLISHED,t,"audio")}),t._video_pre_subscribed||t._audio_pre_subscribed||(t._trust_audio_stream_added_state_=!0,t._trust_video_stream_added_state_=!0,t._audio_added_=!1,t._video_added_=!1,this._p2pChannel instanceof iD&&this._p2pChannel.unsubscribe(t).then((e=>{if(e)return this._gateway.unsubscribe(e,t.uid)})),t._audioSSRC=void 0,t._videoSSRC=void 0,t._audioOrtc=void 0,t._videoOrtc=void 0,t._rtxSsrcId=void 0),oy.onGatewayStream(this._sessionId,zU.ON_REMOVE_STREAM,qU.ON_REMOVE_STREAM,{peer:e.uint_id||e.uid}),n()})),ih(this,"_handleSetStreamLocalEnable",((e,t,n)=>{if(NU("BLOCK_LOCAL_CLIENT")&&dy(t,this.channelName))return;const i=this._users.find((e=>e.uid===t));if(!i)return void YU.error("[".concat(this._clientId,"] can not find target user!(disable_local)"));YU.debug("[".concat(this._clientId,"] local ").concat(e," ").concat(n?"enabled":"disabled"," with uid ").concat(t));const r="audio"===e?i.hasAudio:i.hasVideo;if("audio"===e){i._trust_audio_enabled_state_=!0;const e=i._audio_enabled_;if(i._audio_enabled_=n,i._audio_enabled_===e)return;{const e=i._audio_enabled_?"enable-local-audio":"disable-local-audio";YU.debug("[".concat(this._clientId,"] user-info-updated, uid: ").concat(t,", msg: ").concat(e)),this.safeEmit(lC.USER_INFO_UPDATED,t,e)}}else{i._trust_video_enabled_state_=!0;const e=i._video_enabled_;if(i._video_enabled_=n,i._video_enabled_===e)return;{const e=i._video_enabled_?"enable-local-video":"disable-local-video";YU.debug("[".concat(this._clientId,"] user-info-update, uid: ").concat(t,", msg: ").concat(e)),this.safeEmit(lC.USER_INFO_UPDATED,t,e)}}const o="audio"===e?i.hasAudio:i.hasVideo;return r!==o?!r&&o?(YU.info("[".concat(this._clientId,"] remote user ").concat(t," published ").concat(e)),void this.safeEmit(lC.USER_PUBLISHED,i,e)):("video"===e&&i._videoTrack&&i._videoTrack._destroy(),"audio"===e&&i._audioTrack,this._p2pChannel.muteRemote(i,e),YU.info("[".concat(this._clientId,"] remote user ").concat(t," unpublished ").concat(e)),void this.safeEmit(lC.USER_UNPUBLISHED,i,e)):void 0})),ih(this,"_handleMuteStream",((e,t,n)=>{if(NU("BLOCK_LOCAL_CLIENT")&&dy(e,this.channelName))return;YU.debug("[".concat(this._clientId,"] receive mute message"),e,t,n);const i=this._users.find((t=>t.uid===e));if(!i)return void YU.warning("[".concat(this._clientId,"] can not find remote user, ignore mute event, uid: ").concat(e));const r="audio"===t?i.hasAudio:i.hasVideo;if("audio"===t){i._trust_audio_mute_state_=!0;const t=i._audio_muted_;if(i._audio_muted_=n,i._audio_muted_===t)return;{const t=i._audio_muted_?"mute-audio":"unmute-audio";YU.debug("[".concat(this._clientId,"] user-info-update, uid: ").concat(e,", msg: ").concat(t)),this.safeEmit(lC.USER_INFO_UPDATED,e,t)}}else{i._trust_video_mute_state_=!0;const t=i._video_muted_;if(i._video_muted_=n,i._video_muted_===t)return;{const t=i._video_muted_?"mute-video":"unmute-video";YU.debug("[".concat(this._clientId,"] user-info-update, uid: ").concat(e,", msg: ").concat(t)),this.safeEmit(lC.USER_INFO_UPDATED,e,t)}}const o="audio"===t?i.hasAudio:i.hasVideo;if(r!==o){if(!r&&o)return("audio"===t?i._audioSSRC:i._videoSSRC)?(YU.info("[".concat(this._clientId,"] remote user ").concat(e," published ").concat(t)),void this.safeEmit(lC.USER_PUBLISHED,i,t)):void YU.warning("[".concat(this._clientId,"] remote user ").concat(e," receive ").concat(t," unmute message  before add stream message, ").concat(t," SSRC doesn't exist yet."));"video"===t&&i._videoTrack&&!i._video_pre_subscribed&&i._videoTrack._destroy(),"audio"===t&&i._audioTrack,this._p2pChannel.muteRemote(i,t),YU.info("[".concat(this._clientId,"] remote user ").concat(e," unpublished ").concat(t)),this.safeEmit(lC.USER_UNPUBLISHED,i,t)}})),ih(this,"_handleP2PLost",(async e=>{YU.debug("[".concat(this._clientId,"] receive p2p lost"),e),parseInt(e.p2pid,10)===this.store.p2pId?await this._p2pChannel.requestReconnect():YU.warning("[".concat(this._clientId,"] P2PLost stream not found"),e)})),ih(this,"_handleTokenWillExpire",(()=>{YU.debug("[".concat(this._clientId,"] received message onTokenPrivilegeWillExpire")),this.safeEmit(lC.ON_TOKEN_PRIVILEGE_WILL_EXPIRE)})),ih(this,"_handleBeforeUnload",(e=>{"beforeunload"===e.type&&void 0!==e.returnValue&&""!==e.returnValue||(this.leave(),YU.info("[".concat(this._clientId,"] auto leave onbeforeunload or pagehide")))})),ih(this,"_handleUpdateNetworkQuality",(()=>{if("normal"===this._networkQualitySensitivity)return;if(navigator&&void 0!==navigator.onLine&&!navigator.onLine)return void this.safeEmit(lC.NETWORK_QUALITY,{downlinkNetworkQuality:6,uplinkNetworkQuality:6});const e={downlinkNetworkQuality:0,uplinkNetworkQuality:0};e.uplinkNetworkQuality=this._p2pChannel.getUplinkNetworkQuality(),e.downlinkNetworkQuality=this._p2pChannel.getDownlinkNetworkQuality(),this.safeEmit(lC.NETWORK_QUALITY,e)})),ih(this,"_handleP2PAddAudioOrVideoStream",((e,t,n,i)=>{const r=this._users.find((e=>e.uid===t));if(!r)return void YU.error("[".concat(this._clientId,"] can not find target user!(on_add_stream)"));YU.debug("[".concat(this._clientId,"] stream added with uid ").concat(t,", type ").concat(e)),this.store.subscribe(r.uid,e,void 0,void 0,void 0,Date.now());const o="audio"===e?r.hasAudio:r.hasVideo;"audio"===e?r._trust_audio_stream_added_state_=!0:r._trust_video_stream_added_state_=!0,"audio"===e?(r._audio_added_=!0,void 0!==n&&(r._audioSSRC=n),void 0!==i&&(r._audioMid=i)):(r._video_added_=!0,void 0!==n&&(r._videoSSRC=n),void 0!==i&&(r._videoMid=i)),("audio"===e?r.hasAudio:r.hasVideo)&&!o&&(YU.info("[".concat(this._clientId,"] remote user ").concat(r.uid," published ").concat(e)),this.safeEmit(lC.USER_PUBLISHED,r,e)),this._p2pChannel.hasPendingRemoteMedia(r,e)&&(YU.debug("[".concat(this._clientId,"] resubscribe ").concat(e," for user ").concat(r.uid," after reconnect.")),this._subscribe(r,e,!0).catch((e=>{YU.error("[".concat(this._clientId,"] resubscribe error"),e.toString())})))})),this._config=e,this._clientId=ZC(5,"client-"),this.store=new WU(e.codec,e.audioCodec,e.mode,this._clientId),this.store.clientCreated(),e.proxyServer&&this.setProxyServer(e.proxyServer,!0),e.turnServer&&this.setTurnServer(e.turnServer,!0),YU.info("[".concat(this._clientId,"] Initializing AgoraRTC client v").concat(vU," build: ").concat(FU,", mode: ").concat(this.mode,", codec: ").concat(this.codec)),e.clientRoleOptions)try{fC(e.clientRoleOptions),t=Object.assign({},e.clientRoleOptions)}catch(e){YU.warning("[".concat(this._clientId,"] ").concat(e.toString()))}this._statsCollector=new uk(this.store),this._statsCollector.onStatsException=(e,t,n)=>{YU.debug("[".concat(this._clientId,"] receive exception msg, code: ").concat(e,", msg: ").concat(t,", uid: ").concat(n)),this.safeEmit(lC.EXCEPTION,{code:e,msg:t,uid:n})},this._statsCollector.onUploadPublishDuration=(e,t,n,i)=>{const r=this._users.find((t=>t.uid===e));r&&oy.peerPublishStatus(this._sessionId,{subscribeElapse:i,audioPublishDuration:t,videoPublishDuration:n,peer:r._uintid})},this.store.useDataChannel=FR().supportDataChannel&&NU("SIGNAL_CHANNEL"),this.store.useP2P="p2p"===e.mode,this._gateway=new Mv(this.store,{clientId:this._clientId,mode:this.mode,codec:this.codec,websocketRetryConfig:e.websocketRetryConfig||XC,httpRetryConfig:e.httpRetryConfig||XC,forceWaitGatewayResponse:void 0===e.forceWaitGatewayResponse||e.forceWaitGatewayResponse,statsCollector:this._statsCollector,role:e.role,clientRoleOptions:t}),this._configDistribute=new RR,this.store.useP2P?(this._p2pChannel=new sk(this.store,this._statsCollector),this._handleP2PEvents()):this._p2pChannel=new iD(this.store,this._statsCollector),this._handleP2PChannelEvents(),this._handleGatewayEvents(),this._handleGatewaySignalEvents()}async joinMeta(e,t,n,i,r){let o=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],a=arguments.length>6&&void 0!==arguments[6]&&arguments[6];TU("JOIN_GATEWAY_USE_443PORT_ONLY",o),TU("JOIN_GATEWAY_USE_DUAL_DOMAIN",a);const s=this._gateway.signal.websocket;return s instanceof qb&&(s.use443PortOnly=o,s.tryDoubleDomain=a),async function(e,t,n){rE.get(e)||rE.set(e,[]),oE.get(e)||oE.set(e,t),aE.get(e)||aE.set(e,0);const i=rE.get(e),r=oE.get(e);if(!i||!r)throw new Error("concurrent: deferQueue or maxConcurrency is null");if(aE.get(e)===r){const e=iE();i.push(e),await e.promise}aE.set(e,aE.get(e)+1);for(var o=arguments.length,a=new Array(o>3?o-3:0),s=3;s<o;s++)a[s-3]=arguments[s];const c=await n(...a);return aE.set(e,aE.get(e)-1),aE.get(e)===r-1&&i.length>0&&(i[0].resolve(),i.shift()),0===aE.get(e)&&(rE.set(e,[]),oE.set(e,0),aE.set(e,0)),c}("client.join",NU("JOIN_MAX_CONCURRENCY"),this.join.bind(this),e,t,n,i,r)}async join(e,t,n,i,r){const o=++this._numberOfJoinCount;this.store.joinStart(),i&&(this.store.uid=i);const a=yU(),s=bU()?window.isSecureContext:"Browser Not Support";if(!bU()&&!a||!window.isSecureContext){const e="The website must be running in a secure context (About secure context: https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts ), otherwise the media collection will be restricted by the browser";YU.warning(e)}const c=WC();"DISCONNECTED"===this.connectionState&&(this.store.avoidJoinStart=Math.round(Date.now()),YU.debug("[".concat(this._clientId,"] set avoidJoinStart to ").concat(this.store.avoidJoinStart)));const l=oy.reportApiInvoke(c,{name:oC.JOIN,options:[e,t,n,i],states:{isHttps:a,isSecureContext:s},tag:aC.TRACER});oy.setAppId(e);try{if(!n&&null!==n)throw new Wy(ZE.INVALID_PARAMS,"Invalid token: ".concat(n,". If you don not use token, set it to null"));n&&LE(n,"token",1,2047),LE(e,"appid",1,2047),Oy(t),i&&Jy(i),r&&LE(r,"optionalInfo",1,2047)}catch(e){throw l.onError(e),e}if(YU.info("[".concat(this._clientId,"] start join channel ").concat(t,", join number: ").concat(o)),this._leaveMutex.isLocked&&(YU.debug("[".concat(this._clientId,"] join: waiting leave operation")),(await this._leaveMutex.lock())(),YU.debug("[".concat(this._clientId,"] join: continue"))),this._joinAndNotLeaveYet=!0,"DISCONNECTED"!==this.connectionState){const e=new Wy(ZE.INVALID_OPERATION,"[".concat(this._clientId,"] Client already in connecting/connected state"));throw l.onError(e),e}this._sessionId||(this._sessionId=c,this.store.sessionId=this._sessionId),this._gateway.state="CONNECTING";const d=RV(RV({},this._rtmConfig),{},{clientId:this._clientId,appId:e,sid:this._sessionId,cname:t,uid:"string"!=typeof i?i:null,turnServer:this._turnServer,proxyServer:this._proxyServer,token:n||e,cloudProxyServer:this._cloudProxyServerMode,optionalInfo:r,license:this._license,useLocalAccessPoint:this._useLocalAccessPoint},void 0!==this._remoteDefaultVideoStreamType&&{defaultVideoStream:this._remoteDefaultVideoStreamType});if(this._useLocalAccessPoint&&(d.setLocalAPVersion=this._setLocalAPVersion),"string"==typeof i&&(d.stringUid=i,this._uintUid?(d.uid=this._uintUid,this._uintUid=void 0):d.uid=0),"none"!==this._encryptionMode&&this._encryptionSecret){if(d.aesmode=this._encryptionMode,d.aespassword=await eC(this._encryptionSecret),!this._joinAndNotLeaveYet)throw new Wy(ZE.INVALID_OPERATION,"[".concat(this._clientId,"] Client already left"));this._encryptionSalt&&(d.aessalt=this._encryptionSalt)}this._startSession(this._sessionId,{channel:t,appId:e,stringUid:d.stringUid});const u=this._sessionId;setTimeout((()=>{"CONNECTING"===this.connectionState&&u===this._sessionId&&oy.joinChannelTimeout(this._sessionId,5)}),5e3);try{var h;let i;const r=d.cloudProxyServer;if(Fi(h=["proxy3","proxy4","proxy5"]).call(h,r)){const e=NU("PROXY_SERVER_TYPE3");Array.isArray(e)?d.proxyServer=e[0]:d.proxyServer=e}if(oy.setProxyServer(d.proxyServer),YU.setProxyServer(d.proxyServer),this.store.requestAPStart(),d.stringUid&&!d.uid){let e;[e,i]=await tE.all([ER(d.stringUid,d,this._axiosCancelSource.token,this._config.httpRetryConfig||XC,this.store),mR(d,this._axiosCancelSource.token,this._config.httpRetryConfig||XC,!0,this.store)]),YU.debug("[".concat(this._clientId,"] getUserAccount Success ").concat(d.stringUid," => ").concat(e)),d.uid=e,i.gatewayInfo.uid=e,i.gatewayInfo.res.uid=e}else i=await mR(d,this._axiosCancelSource.token,this._config.httpRetryConfig||XC,!0,this.store);if(!this._joinAndNotLeaveYet)throw new Wy(ZE.INVALID_OPERATION,"[".concat(this._clientId,"] Client already left"));this.store.requestAPEnd(),setTimeout((()=>{this._configDistribute.startGetConfigDistribute(d,this._axiosCancelSource.token),this._configDistribute.on(db.UPDATE_BITRATE_LIMIT,(e=>{this._p2pChannel.updateBitrateLimit(e)}))}),0),this._key=n||e;const o=i.gatewayInfo,a=d.uid?d.uid:o.uid;this._joinInfo=RV(RV({},d),{},{cid:o.cid,uid:a,vid:o.vid,apResponse:o.res,uni_lbs_ip:o.uni_lbs_ip,gatewayAddrs:o.gatewayAddrs}),this.store.intUid=a;const s=await this._joinGateway();if(!this._joinAndNotLeaveYet)throw new Wy(ZE.INVALID_OPERATION,"[".concat(this._clientId,"] Client already left"));l.onSuccess(s),this._appId=e,this._channelName=d.cname,this._uid=s,this.store.uid=s,setTimeout((()=>{this._networkQualityInterval&&window.clearInterval(this._networkQualityInterval),this._networkQualityInterval=window.setInterval(this._handleUpdateNetworkQuality,2e3),window.addEventListener(IE()?"beforeunload":"pagehide",this._handleBeforeUnload)}),0);const c=d.stringUid?"string uid: ".concat(d.stringUid,",uid: ").concat(d.uid):"uid: ".concat(this._uid);return YU.info("[".concat(this._clientId,"] Joining channel success: channel: ").concat(t,",").concat(c)),setTimeout((()=>{YU.startUpload()}),5e3),this.store.joinEnd(),A=this,Fi(ly).call(ly,A)||ly.push(A),s}catch(e){const t=Array.isArray(e)?e[0]:e;throw t&&t.code===ZE.OPERATION_ABORTED?YU.warning("[".concat(this._clientId,"] join number: ").concat(o,", Joining channel failed, rollback"),t):YU.error("[".concat(this._clientId,"] join number: ").concat(o,", Joining channel failed, rollback"),t),t.code!==ZE.OPERATION_ABORTED&&this._numberOfJoinCount===o&&(this._gateway.state="DISCONNECTED",this._reset()),l.onError(t),t}var A}_joinGateway(){if(!this._joinInfo||!this._key)throw new Wy(ZE.INVALID_OPERATION);return this._gateway.join(this._joinInfo,this._key,!("disabled"!==this._joinInfo.cloudProxyServer||this._joinInfo.proxyServer||!NU("JOIN_WITH_FALLBACK_SIGNAL_PROXY"))).then((e=>e)).catch((e=>{if(e.code===ZE.INIT_WEBSOCKET_TIMEOUT)return this._gateway.leave(!0,cC.FALLBACK),e;if(e.code===ZE.INIT_DATACHANNEL_TIMEOUT)return this._gateway.leave(!0,cC.FALLBACK),e;throw e})).then((e=>{if(e instanceof Wy){if(e.code===ZE.INIT_WEBSOCKET_TIMEOUT){if(YU.info("[".concat(this._clientId,"] join timeout, fallback to proxy")),!this._joinInfo||!this._key)throw new Wy(ZE.INVALID_OPERATION);this._joinInfo.cloudProxyServer="fallback",this._cloudProxyServerMode="fallback",this.store.cloudProxyServerMode="fallback";const e=NU("PROXY_SERVER_TYPE3");if(Array.isArray(e))if(this._joinInfo.apUrl){const t=/^https?:\/\/(.+?)(\/.*)?$/.exec(this._joinInfo.apUrl)[1].split("."),n=t.slice(t.length-2).join(".");e.forEach((e=>{this._joinInfo&&Fi(e).call(e,n)&&(this._joinInfo.proxyServer=e)})),this._joinInfo.proxyServer||(this._joinInfo.proxyServer=e[0])}else this._joinInfo.proxyServer=e[0];else this._joinInfo.proxyServer=e;const t=NU("LOG_UPLOAD_SERVER").match(/.+:(\d{1,5})$/);return t&&t[1]&&"443"!==t[1]&&YU.setProxyServer(this._joinInfo.proxyServer),"443"!==NU("STATS_COLLECTOR_PORT").toString()&&oy.setProxyServer(this._joinInfo.proxyServer),oy.reportApiInvoke(this._sessionId,{name:oC.JOIN_FALLBACK_TO_PROXY,options:[this._joinInfo.proxyServer],tag:aC.TRACER}).onSuccess(),this.safeEmit(lC.JOIN_FALLBACK_TO_PROXY,this._joinInfo.proxyServer),NU("JOIN_WITH_FALLBACK_MEDIA_PROXY_FORCE")&&this._joinInfo.turnServer.servers.forEach((e=>{"forceturn"in e&&(e.forceturn=!0)})),this._gateway.join(this._joinInfo,this._key)}if(YU.info("[".concat(this._clientId,"] join by datachannel timeout, fallback to websocket")),!this._joinInfo||!this._key)throw new Wy(ZE.INVALID_OPERATION);return oy.reportApiInvoke(this._sessionId,{name:oC.DATACHANNEL_FAILBACK,options:[this.store.clientId],tag:aC.TRACER}).onSuccess(),this._joinGateway()}return e})).then((e=>e))}async leave(){YU.info("[".concat(this._clientId,"] Leaving channel")),window.removeEventListener(IE()?"beforeunload":"pagehide",this._handleBeforeUnload),this._reset(),function(e){const t=ly.indexOf(e);-1!==t&&ly.splice(t,1)}(this);const e=await this._leaveMutex.lock();if("DISCONNECTED"===this.connectionState)return YU.info("[".concat(this._clientId,"] Leaving channel repeated, success")),void e();await this._gateway.leave("CONNECTED"!==this.connectionState),YU.info("[".concat(this._clientId,"] Leaving channel success")),this._joinAndNotLeaveYet=!1,this.store.resetJoinChannelServiceRecords(),e()}async publish(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!Array.isArray(e)){if(!(e instanceof pS))return this._publishDataChannel(e);e=[e]}if(0===e.length)throw new Wy(ZE.INVALID_PARAMS,"param list is empty");const n=e;if("audience"===this._gateway.role)throw new Wy(ZE.INVALID_OPERATION,"audience can not publish stream");for(const r of n){if(!(r instanceof pS))throw new Wy(ZE.INVALID_PARAMS,"parameter is not local track");if(!r._enabled&&t)throw new Wy(ZE.TRACK_IS_DISABLED,"can not publish a disabled track: ".concat(r.getTrackId()))}YU.info("[".concat(this._clientId,"] Publishing tracks, id ").concat(n.map((e=>"".concat(e.getTrackId()," ")))));const i=await this._publishMutex.lock();await this._configDistribute.awaitConfigDistributeComplete(),t&&n.forEach((e=>{const t=this._configDistribute.getBitrateLimit();e instanceof TF&&t&&e.setBitrateLimit(t.uplink)}));try{await this._publishHighStream(n),YU.info("[".concat(this._clientId,"] Publish success, id ").concat(n.map((e=>"".concat(e.getTrackId()," ")))))}catch(e){throw YU.error("[".concat(this._clientId,"] publish error"),e.toString()),e}finally{i()}}async _publishDataChannel(e){xE(e.id,"id",0,65535,!0),OE(e.ordered,"ordered"),LE(e.metadata,"metadata",0,512),YU.info("[".concat(this._clientId,"] Publishing datachannels, id ").concat(e.id));const t=await this._publishMutex.lock();try{if(-1!==this._p2pChannel.getAllDataChannels().findIndex((t=>t.id===e.id)))throw new Wy(ZE.INVALID_PARAMS,"Invalid id: ".concat(e.id,". If you want to republish the datachannel, unpublish first"));if(!this._joinInfo||void 0===this._uid)throw new Wy(ZE.INVALID_OPERATION,"Can't publish datachannel, haven't joined yet!");if("CONNECTED"!==this.connectionState&&"RECONNECTING"!==this.connectionState)throw new Wy(ZE.INVALID_OPERATION,"can not publish datachannel in ".concat(this.connectionState," state"));if("auto"===this._turnServer.mode&&NU("FORCE_TURN")&&!NU("TURN_ENABLE_TCP")&&!NU("TURN_ENABLE_UDP"))throw new Wy(ZE.UNEXPECTED_ERROR,"force TURN With No TURN Configuration");const t=new g_(e);await this._p2pChannel.publishDataChannel([t]);try{const n={streamId:e.id,ordered:e.ordered,maxRetransmits:NU("DATASTREAM_MAX_RETRANSMITS"),metadata:e.metadata,channelId:t._originDataChannelId};await this._gateway.publishDataChannel(this._uid,n,!0)}catch(e){if(e.code!==ZE.DISCONNECT_P2P)throw e}return await t._waitTillOpen(),YU.info("[".concat(this._clientId,"] Publish dataChannels success, id ").concat(t.id)),t}catch(e){throw YU.error("[".concat(this._clientId,"] publish datachannels error"),e.toString()),e}finally{t()}}async unpublish(e){if(!this._joinInfo||void 0===this._uid)throw new Wy(ZE.INVALID_OPERATION,"Can't unpublish stream, haven't joined yet!");let t=[];if(e)if(Array.isArray(e))t=e;else{if(!(e instanceof pS))return this._unpublishDataChannel([e]);t=[e]}else this.store.useP2P||await this._unpublishDataChannel(),t=this._p2pChannel.getAllTracks(!0);YU.info("[".concat(this._clientId,"] Unpublish tracks, tracks ").concat(t.map((e=>"".concat(e.getTrackId()," ")))," "));const n=await this._publishMutex.lock();try{if(this._p2pChannel instanceof sk){const e=await this._p2pChannel.unpublish(t);e&&await this._gateway.sendExtensionMessage(Bb.UNPUBLISH,{unpubMsg:e},!0)}else{const e=await this._p2pChannel.unpublish(t);e&&await this._gateway.unpublish(e,this._uid),YU.info("[".concat(this._clientId,"] Unpublish success,tracks ").concat(t.map((e=>"".concat(e.getTrackId())))))}}catch(e){throw YU.error("[".concat(this._clientId,"] unpublish error"),e.toString()),e}finally{n&&n()}}async _unpublishDataChannel(e){void 0!==e&&0!==e.length||(e=this._p2pChannel.getAllDataChannels()),YU.info("[".concat(this._clientId,"] Unpublish datachannels, datachannels ").concat(e.map((e=>"".concat(e.id," ")))," "));const t=await this._publishMutex.lock();try{const t=await this._p2pChannel.unpublishDataChannel(e);t&&await this._gateway.unpublishDataChannel(t),YU.info("[".concat(this._clientId,"] Unpublish dataChannel success,dataChannel ").concat(e.map((e=>"".concat(e.id)))))}catch(e){throw YU.error("[".concat(this._clientId,"] unpublish dataChannel error"),e.toString()),e}finally{t&&t()}}async subscribe(e,t,n){return"datachannel"===t?this._subscribeDataChannel(e,n):this._subscribe(e,t)}async presubscribe(e,t){if(JE(t,"mediaType",["audio","video"]),this._p2pChannel instanceof sk)throw new Wy(ZE.INVALID_OPERATION,"can't presub at p2p mode");if(!this._joinInfo)throw new Wy(ZE.INVALID_OPERATION,"can't presub when not join");if("CONNECTED"!==this.connectionState&&"RECONNECTING"!==this.connectionState)throw new Wy(ZE.INVALID_OPERATION,"can't presub in ".concat(this.connectionState," state"));const n=t===hb.AUDIO,i=t===hb.VIDEO,r=await this._subscribeMutex.lock();try{const{ssrcId:r,ortc:o,rtxSsrcId:a,cname:s,uint_id:c}=await this._gateway.presubscribe(e,t,!0);if(null==r)throw new Wy(ZE.UNEXPECTED_RESPONSE,"no ssrc id");let l=this._users.find((t=>t.uid===e));l||(l=new nk(e,c||e),l._is_pre_created=!0,this._users.push(l)),s&&(l._cname=s),l._uintid||(l._uintid=c||e),n&&(l._audioSSRC=r,l._audio_pre_subscribed=!0,o&&(l._audioOrtc=o)),i&&(l._videoSSRC=r,l._video_pre_subscribed=!0,o&&(l._videoOrtc=o),null!=a&&(l._rtxSsrcId=a)),YU.info("[".concat(this._clientId,"] presub succeed ssrc: ").concat(r)),await this._p2pChannel.subscribe(l,t,r,a,o);const d=n?l._audioTrack:l._videoTrack;if(!d)throw new Wy(ZE.UNEXPECTED_ERROR,"can not find remote track in user");return n&&(l._trust_audio_stream_added_state_=!0,l._audio_added_=!0),i&&(l._trust_video_stream_added_state_=!0,l._video_added_=!0),d}catch(t){throw YU.error("[".concat(this._clientId,"] presub user ").concat(e," error"),t),t}finally{r()}}async _subscribeDataChannel(e,t){var n;if(xE(t,"channelId",0,65535,!0),!this._joinInfo)throw new Wy(ZE.INVALID_OPERATION,"Can't subscribe datachannel, not joined");if("CONNECTED"!==this.connectionState&&"RECONNECTING"!==this.connectionState)throw new Wy(ZE.INVALID_OPERATION,"Can't subscribe datachannel in ".concat(this.connectionState," state"));if(!this._users.find((t=>t===e)))throw YU.error("[".concat(this._clientId,"] can not subscribe ").concat(e.uid,", this user is not in the channel")),new Wy(ZE.INVALID_REMOTE_USER,"user is not in the channel");if(!e.hasAudio&&!e.hasVideo&&0===e._dataChannels.length)throw YU.error("[".concat(this._clientId,"] can not subscribe ").concat(e.uid,", user is not published")),new Wy(ZE.INVALID_REMOTE_USER,"user is not published");const i=null===(n=e._dataChannels)||void 0===n?void 0:n.find((e=>e.id===t));if(!i)throw YU.error("[".concat(this._clientId,"] can not subscribe ").concat(e.uid," with mediaType datachannel, remote datachannel is not published")),new Wy(ZE.REMOTE_USER_IS_NOT_PUBLISHED);const r=await this._subscribeMutex.lock();YU.info("[".concat(this._clientId,"] subscribe user ").concat(e.uid,", mediaType: datachannel"));try{const n=await this._p2pChannel.subscribeDataChannel(e,[i]);if(n&&Fi(n).call(n,i.id))try{var o;if(!i._originDataChannelId)throw YU.error("[".concat(this._clientId,"] can not subscribe ").concat(e.uid," with mediaType datachannel, cannot get RTCDatachannel")),new Wy(ZE.REMOTE_USER_IS_NOT_PUBLISHED);const t={id:i.id,datachannelId:i._originDataChannelId,ordered:i.ordered,maxRetransmits:i.maxRetransmits,metadata:null!==(o=i.metadata)&&void 0!==o?o:""};await this._gateway.subscribeDataChannel(e.uid,t,!0)}catch(t){if((null==t?void 0:t.code)!==ZE.WS_ABORT)throw await this._p2pChannel.unsubscribeDataChannel(e,[i]),t;await this._p2pChannel.unsubscribeDataChannel(e,[i]),this._p2pChannel.setPendingRemoteDataChannel(e,i.id)}return await i._waitTillOpen(),YU.info("[".concat(this._clientId,"] subscribe success user ").concat(e.uid,", mediaType: datachannel")),i}finally{r()}}async _p2pSubscribe(e,t,n){if(JE(t,"mediaType",["audio","video"]),!this._joinInfo)throw new Wy(ZE.INVALID_OPERATION,"Can't subscribe stream, not joined");if("CONNECTED"!==this.connectionState&&"RECONNECTING"!==this.connectionState)throw new Wy(ZE.INVALID_OPERATION,"Can't subscribe stream in ".concat(this.connectionState," state"));if(!this._users.find((t=>t===e))){const t=new Wy(ZE.INVALID_REMOTE_USER,"user is not in the channel");throw YU.error("[".concat(this._clientId,"] can not subscribe ").concat(e.uid,", this user is not in the channel")),t}if(!e.hasAudio&&!e.hasVideo){const t=new Wy(ZE.INVALID_REMOTE_USER,"user is not published");throw YU.error("[".concat(this._clientId,"] can not subscribe ").concat(e.uid,", user is not published")),t}if(!n&&("audio"===t&&!e.hasAudio||"video"===t&&!e.hasVideo)){const n=new Wy(ZE.REMOTE_USER_IS_NOT_PUBLISHED);throw YU.error("[".concat(this._clientId,"] can not subscribe ").concat(e.uid," with mediaType ").concat(t,", remote track is not published")),n}const i=await this._subscribeMutex.lock();YU.info("[".concat(this._clientId,"] subscribe user ").concat(e.uid,", mediaType: ").concat(t));try{if(await this._p2pChannel.hasRemoteMediaWithLock(e,t))await this._p2pChannel.unmuteRemote(e,t);else try{const n="audio"===t?e._audioSSRC:e._videoSSRC,i="audio"===t?e._audioMid:e._videoMid;this.store.subscribe(e.uid,t,Date.now()),this._p2pChannel instanceof sk&&await this._p2pChannel.subscribe(e,t,n,i)}catch(e){throw e}YU.info("[".concat(this._clientId,"] subscribe success user ").concat(e.uid,", mediaType: ").concat(t)),this._defaultStreamFallbackType&&this.setStreamFallbackOption(e.uid,this._defaultStreamFallbackType).catch((e=>{YU.warning("[".concat(this._clientId,"] auto set fallback failed"),e)}));const n="audio"===t?e._audioTrack:e._videoTrack;if(!n)throw new Wy(ZE.UNEXPECTED_ERROR,"can not find remote track in user object");return n}catch(t){throw YU.error("[".concat(this._clientId,"] subscribe user ").concat(e.uid," error"),t),t}finally{i()}}async _subscribe(e,t,n){if(this._p2pChannel instanceof sk)return this._p2pSubscribe(e,t);if(JE(t,"mediaType",["audio","video"]),!this._joinInfo)throw new Wy(ZE.INVALID_OPERATION,"Can't subscribe stream, not joined");if("CONNECTED"!==this.connectionState&&"RECONNECTING"!==this.connectionState)throw new Wy(ZE.INVALID_OPERATION,"Can't subscribe stream in ".concat(this.connectionState," state"));if(!this._users.find((t=>t===e))){const t=new Wy(ZE.INVALID_REMOTE_USER,"user is not in the channel");throw YU.error("[".concat(this._clientId,"] can not subscribe ").concat(e.uid,", this user is not in the channel")),t}if(!e.hasAudio&&!e.hasVideo){const t=new Wy(ZE.INVALID_REMOTE_USER,"user is not published");throw YU.error("[".concat(this._clientId,"] can not subscribe ").concat(e.uid,", user is not published")),t}if(!(n||("audio"!==t||e.hasAudio&&void 0!==e._audioSSRC)&&("video"!==t||e.hasVideo&&void 0!==e._videoSSRC))){const n=new Wy(ZE.REMOTE_USER_IS_NOT_PUBLISHED);throw YU.error("[".concat(this._clientId,"] can not subscribe ").concat(e.uid," with mediaType ").concat(t,", remote track is not published")),n}let i="audio"===t?e._audioSSRC:e._videoSSRC,r="audio"===t?e._audioOrtc:e._videoOrtc,o="video"===t?e._rtxSsrcId:void 0,a={stream_type:"audio"===t?hb.AUDIO:hb.VIDEO,ssrcId:i};const s=await this._subscribeMutex.lock();YU.info("[".concat(this._clientId,"] subscribe user ").concat(e.uid,", mediaType: ").concat(t));try{if(await this._p2pChannel.hasRemoteMediaWithLock(e,t))await this._p2pChannel.unmuteRemote(e,t);else try{const s="audio"===t?e._audioSSRC:e._videoSSRC;void 0!==s&&s!==i&&(i=s,r="audio"===t?e._audioOrtc:e._videoOrtc,o="video"===t?e._rtxSsrcId:void 0,a={stream_type:"audio"===t?hb.AUDIO:hb.VIDEO,ssrcId:i}),E_.markSubscribeStart(this.store.clientId,i),this.store.subscribe(e.uid,t,Date.now()),await this._p2pChannel.subscribe(e,t,i,o,r);try{await this._gateway.subscribe(e.uid,a,!0)}catch(n){if((null==n?void 0:n.code)!==ZE.WS_ABORT)throw await this._p2pChannel.unsubscribe(e,t),n;await this._p2pChannel.unsubscribe(e,t,!0),this._p2pChannel.setPendingRemoteMedia(e,t)}this.store.subscribe(e.uid,t,void 0,Date.now()),this._p2pChannel.reportSubscribeEvent(!0,null,e,t)}catch(n){throw this._p2pChannel.reportSubscribeEvent(!1,null==n?void 0:n.code,e,t),n}YU.info("[".concat(this._clientId,"] subscribe success user ").concat(e.uid,", mediaType: ").concat(t)),this._defaultStreamFallbackType&&this.setStreamFallbackOption(e.uid,this._defaultStreamFallbackType).catch((e=>{YU.warning("[".concat(this._clientId,"] auto set fallback failed"),e)}));const s="audio"===t?e._audioTrack:e._videoTrack;if(!s)throw new Wy(ZE.UNEXPECTED_ERROR,"can not find remote track in user object");return s}catch(t){throw YU.error("[".concat(this._clientId,"] subscribe user ").concat(e.uid," error"),t),t}finally{s()}}async massSubscribe(e){if(PE(e,"subscribeList"),!this._joinInfo)throw new Wy(ZE.INVALID_OPERATION,"Can't subscribe stream, not joined");if("CONNECTED"!==this.connectionState&&"RECONNECTING"!==this.connectionState)throw new Wy(ZE.INVALID_OPERATION,"Can't subscribe stream in ".concat(this.connectionState," state"));const t=Date.now(),n=new Map,i=await this._subscribeMutex.lock();YU.info("[".concat(this._clientId,"]start massSubscribe user ").concat(e.map((e=>{let{user:t,mediaType:n}=e;return"user: ".concat(null==t?void 0:t.uid,", mediaType: ").concat(n)})).join("; ")));const r=(e=[...e]).map((e=>{let{user:t,mediaType:n}=e;return{user:t,mediaType:n}})),o=await this._p2pChannel.globalLock();try{var a;for(let t=e.length-1;t>=0;t--){const i=e[t],{user:o,mediaType:a}=i;if(JE(a,"mediaType",["audio","video"]),!o){const e=new Wy(ZE.INVALID_PARAMS,"user property does not exist in subscribeList item");throw YU.error("[".concat(this._clientId,"] user property does not exist in subscribeList item")),e}if(!this._users.find((e=>e===o))){const n=new Wy(ZE.INVALID_REMOTE_USER,"user is not in the channel");YU.error("[".concat(this._clientId,"] can not massSubscribe ").concat(o.uid,", this user is not in the channel")),r[t].error=n,e.splice(t,1);continue}if("audio"===a&&(!o.hasAudio||void 0===o._audioSSRC)||"video"===a&&(!o.hasVideo||void 0===o._videoSSRC)){const n=new Wy(ZE.REMOTE_USER_IS_NOT_PUBLISHED);YU.error("[".concat(this._clientId,"] can not subscribe ").concat(o.uid," with mediaType ").concat(a,", remote user is not published")),r[t].error=n,e.splice(t,1);continue}const s=ib.Video|ib.LwoVideo,c=n.get(o);if(c){if("video"===a?c&s:c&ib.Audio){e.splice(t,1),YU.warning("[".concat(this._clientId,"] repeat massSubscribe user:").concat(o.uid,", mediaType:").concat(a," twice"));continue}n.set(o,c|("video"===a?s:ib.Audio))}else n.set(o,"video"===a?s:ib.Audio)}for(let t=e.length-1;t>=0;t--){const i=e[t],{user:r,mediaType:o}=i,a=ib.Video|ib.LwoVideo;if(this._p2pChannel.hasRemoteMedia(r,o)){await this._p2pChannel.unmuteRemoteNoLock(r,o);const i=n.get(r);n.set(r,"video"===o?i^a:i^ib.Audio),e.splice(t,1)}}this.store.massSubscribe(e.map((e=>({userId:e.user.uid,type:e.mediaType}))),t);const i=cI(a=Array.from(n.entries())).call(a,((e,t)=>{let[n,i]=t;if(0===i)return e;const r={stream_id:n.uid,stream_type:i};return i&ib.Audio&&(r.audio_ssrc=n._audioSSRC),i&ib.Video&&(r.video_ssrc=n._videoSSRC),e.push(r),e}),[]);try{e.length>0&&await this._p2pChannel.massSubscribeNoLock(e.map((e=>{let{user:t,mediaType:n}=e;return{user:t,mediaType:n,ssrcId:n===hb.VIDEO?t._videoSSRC:t._audioSSRC,rtxSsrcId:n===hb.VIDEO?t._rtxSsrcId:void 0}})));const n=new Map;if(i.length>0){const e=await this._gateway.subscribeAll(i,!0);((null==e?void 0:e.users)||[]).forEach((e=>{let{stream_id:t,video_error_code:i,audio_error_code:r,error_code:o}=e;(i||r||o)&&n.set(t,{video_error_code:i,audio_error_code:r,error_code:o})}))}if(Array.from(n.entries()).length>0){const e=Array.from(n.entries()).map((e=>{let t,[n,i]=e;return i.error_code||i.video_error_code&&i.audio_error_code?t=void 0:i.video_error_code?t=hb.VIDEO:i.audio_error_code&&(t=hb.AUDIO),{user:this.remoteUsers.find((e=>e.uid===n)),mediaType:t}}));await this._p2pChannel.massUnsubscribeNoLock(e)}for(const e of r){const t=n.get(e.user.uid);if(t){const n=t.error_code||"audio"===e.mediaType&&t.audio_error_code||"video"===e.mediaType&&t.video_error_code;if(n){const t=Ob(n);YU.error("user:".concat(e.user.uid," mediaType:").concat(e.mediaType," has massSubscribe error ").concat(t.desc)),e.error=new Wy(ZE.SUBSCRIBE_FAILED,"code ".concat(n,": ").concat(t.desc))}}e.error||("video"===e.mediaType?e.track=e.user.videoTrack:e.track=e.user.audioTrack)}return this.store.massSubscribe(r.filter((e=>!e.error)).map((e=>({userId:e.user.uid,type:e.mediaType}))),void 0,Date.now()),r.forEach((e=>{var n;oy.subscribe(this.store.sessionId,{succ:!!e.error,ec:(null===(n=e.error)||void 0===n?void 0:n.code)||null,video:e.mediaType===hb.VIDEO,audio:e.mediaType===hb.AUDIO,peerid:e.user.uid,subscribeRequestid:e.mediaType===hb.VIDEO?e.user._videoSSRC:e.user._audioSSRC,p2pid:this.store.p2pId,eventElapse:Math.floor(performance.now()-t)},!0)})),YU.info("[".concat(this._clientId,"] massSubscribe success ").concat(e.map((e=>{let{user:t,mediaType:n}=e;return"user: ".concat(null==t?void 0:t.uid,", mediaType: ").concat(n)})).join("; "))),r}catch(t){throw await this._p2pChannel.massUnsubscribeNoLock(e),t}}finally{o(),i()}}async unsubscribe(e,t,n){if(t||this.store.useP2P){if("datachannel"===t)return this._unsubscribeDataChannel(e,n)}else await this._unsubscribeDataChannel(e,n);if(t&&JE(t,"mediaType",["audio","video"]),!this._joinInfo)throw new Wy(ZE.INVALID_OPERATION,"Can't unsubscribe stream, haven't joined yet!");if(!this._users.find((t=>t===e))){const t=new Wy(ZE.INVALID_REMOTE_USER,"user is not in the channel");throw YU.error("[".concat(this._clientId,"] can not unsubscribe ").concat(e.uid,", user is not in the channel")),t}YU.info("[".concat(this._clientId,"] unsubscribe uid: ").concat(e.uid,", mediaType: ").concat(t));const i=await this._subscribeMutex.lock();try{if(this._p2pChannel instanceof sk)await this._p2pChannel.unsubscribe(e,t);else{const n=await this._p2pChannel.unsubscribe(e,t);n&&await this._gateway.unsubscribe(n,e.uid),t&&"audio"!==t||(e._audio_pre_subscribed=!1),t&&"video"!==t||(e._video_pre_subscribed=!1),e._is_pre_created&&bC(this._users,e),YU.info("[".concat(this._clientId,"] unsubscribe success uid: ").concat(e.uid,", mediaType: ").concat(t))}}catch(t){if(t.code===ZE.DISCONNECT_P2P)return void YU.warning("disconnecting p2p, abort unsubscribe request.");throw YU.error("[".concat(this._clientId,"] unsubscribe user ").concat(e.uid," error"),t.toString()),t}finally{i()}}async _unsubscribeDataChannel(e,t){if(t&&xE(t,"id",0,65535,!0),!this._joinInfo)throw new Wy(ZE.INVALID_OPERATION,"Can't unsubscribe datachannel, haven't joined yet!");if(!this._users.find((t=>t===e))){const t=new Wy(ZE.INVALID_REMOTE_USER,"user is not in the channel");throw YU.error("[".concat(this._clientId,"] can not unsubscribe ").concat(e.uid,", user is not in the channel")),t}let n;if("number"==typeof t){const i=e._dataChannels.find((e=>e.id===t));i&&(n=[i])}else n=e._dataChannels;if(void 0===n){const n=new Wy(ZE.REMOTE_USER_IS_NOT_PUBLISHED);throw YU.error("[".concat(this._clientId,"] can not unsubscribe ").concat(e.uid," with channelId ").concat(t,", remote datachannel is not published")),n}YU.info("[".concat(this._clientId,"] unsubscribe uid: ").concat(e.uid,", mediaType: datachannel, ids: ").concat(n.map((e=>e.id))));try{const t=await this._p2pChannel.unsubscribeDataChannel(e,n);t&&await this._gateway.unsubscribeDataChannel(t,e.uid),YU.info("[".concat(this._clientId,"] unsubscribe datachannel success uid: ").concat(e.uid,", mediaType: datachannel, ids: ").concat(t))}catch(t){if(t.code===ZE.DISCONNECT_P2P)return void YU.warning("disconnecting p2p, abort unsubscribe request.");throw YU.error("[".concat(this._clientId,"] unsubscribe user ").concat(e.uid," error"),t.toString()),t}}async massUnsubscribe(e){if(PE(e,"unsubscribeList"),!this._joinInfo)throw new Wy(ZE.INVALID_OPERATION,"Can't unsubscribeAll stream, haven't joined yet!");YU.info("[".concat(this._clientId,"] start massUnsubscribe ").concat(e.map((e=>{let{user:t,mediaType:n}=e;return"user: ".concat(null==t?void 0:t.uid,", mediaType: ").concat(n,";")})).join())),e=[...e];const t=new Map;for(let n=e.length-1;n>=0;n--){const{user:i,mediaType:r}=e[n];if(!i){const e=new Wy(ZE.INVALID_PARAMS,"user property does not exist in unsubscribeList item");throw YU.error("[".concat(this._clientId,"] user property does not exist in unsubscribeList item")),e}if(JE(r,"mediaType",["video","audio",void 0]),!this._users.find((e=>e===i))){YU.warning("[".concat(this._clientId,"] can not unsubscribe ").concat(i.uid,", user is not in the channel")),e.splice(n,1);continue}const o=ib.Video|ib.LwoVideo;if(t.has(i)){const a=t.get(i);let s;switch(r){case"video":s=a&o;break;case"audio":s=a&ib.Audio;break;default:s=a&(ib.Audio|o)}if(s){YU.warning("[".concat(this._clientId,"] repeat massUnsubscribe user:").concat(i.uid,",mediaType:").concat(r," twice.")),e.splice(n,1);continue}r?"audio"===r?t.set(i,a|ib.Audio):"video"===r&&t.set(i,a|o):t.set(i,a|ib.Audio|o)}else r?"audio"===r?t.set(i,ib.Audio):"video"===r&&t.set(i,o):t.set(i,ib.Audio|o)}try{const t=await this._p2pChannel.massUnsubscribe(e);t&&await this._gateway.massUnsubscribe(t),YU.info("[".concat(this._clientId,"] massUnsubscribe success ").concat(e.map((e=>{let{user:t,mediaType:n}=e;return"user: ".concat(null==t?void 0:t.uid,", mediaType: ").concat(n,";")})).join()))}catch(e){if(e.code===ZE.DISCONNECT_P2P)return void YU.warning("[".concat(this._clientId,"] disconnecting p2p, abort unsubscribe request."));throw YU.error("[".concat(this._clientId,"] massUnsubscribe error"),e.toString()),e}}async setLowStreamParameter(e){!function(e){if(!e)throw new WE(ZE.INVALID_PARAMS);GE(e.width)||ME(e.width,"streamParameter.width"),GE(e.height)||ME(e.height,"streamParameter.height"),GE(e.framerate)||ME(e.framerate,"streamParameter.framerate"),GE(e.bitrate)||xE(e.bitrate,"streamParameter.bitrate")}(e),(!e.width&&e.height||e.width&&!e.height)&&YU.warning("[".concat(this._clientId,"] The width and height parameters take effect only when both are set")),YU.info("[".concat(this._clientId,"] set low stream parameter to"),JSON.stringify(e));const t=this._configDistribute.getLowStreamConfigDistribute();if(t&&t.bitrate&&e.bitrate&&t.bitrate<e.bitrate&&(e.bitrate=t.bitrate),this._lowStreamParameter=e,this._isDualStreamEnabled)return this._p2pChannel.updateVideoStreamParameter(e,gb.LocalVideoLowTrack)}async enableDualStream(){if(!FR().supportDualStream)throw oy.streamSwitch(this._sessionId,{lts:Date.now(),isdual:!0,succ:!1}),new Wy(ZE.NOT_SUPPORTED,"Your browser is not support dual stream");if(this._isDualStreamEnabled)throw new Wy(ZE.INVALID_OPERATION,"Dual stream is already enabled");if(this._p2pChannel.canPublishLowStream())try{await this._publishLowStream()}catch(e){throw oy.streamSwitch(this._sessionId,{lts:Date.now(),isdual:!0,succ:!1}),e}this._isDualStreamEnabled=!0,oy.streamSwitch(this._sessionId,{lts:Date.now(),isdual:!0,succ:!0}),YU.info("[".concat(this._clientId,"] enable dual stream"))}async disableDualStream(){if(this._isDualStreamEnabled){if(!this._joinInfo)throw new Wy(ZE.INVALID_OPERATION,"Can't publish stream, haven't joined yet!");if(this._p2pChannel.getLocalMedia(gb.LocalVideoLowTrack))try{const e=await this._p2pChannel.unpublishLowStream();e&&await this._gateway.unpublish(e,this._joinInfo.stringUid||this._joinInfo.uid)}catch(e){throw oy.streamSwitch(this._sessionId,{lts:Date.now(),isdual:!1,succ:!1}),e}this._isDualStreamEnabled=!1,oy.streamSwitch(this._sessionId,{lts:Date.now(),isdual:!1,succ:!0}),YU.info("[".concat(this._clientId,"] disable dual stream"))}}async setClientRole(e,t){if(function(e){JE(e,"role",["audience","host"])}(e),t&&fC(t),"rtc"===this.mode||"p2p"===this.mode)throw YU.warning("[".concat(this._clientId,"]").concat(this.mode," mode can not use setClientRole")),new Wy(ZE.INVALID_OPERATION,"".concat(this.mode," mode can not use setClientRole"));if(t&&t.level&&"host"===e)throw new Wy(ZE.INVALID_OPERATION,"host mode can not set audience latency level");if("audience"===e&&this._p2pChannel.hasLocalMedia())throw new Wy(ZE.INVALID_OPERATION,"can not set client role to audience when publishing stream");await this._gateway.setClientRole(e,t),this._config.role=e,YU.info("[".concat(this._clientId,"] set client role to ").concat(e,", level: ").concat(t&&t.level))}getRemoteInboundOffset(){var e;const t=null===(e=this._p2pChannel.getStats())||void 0===e?void 0:e.audioSend[0];if(!t||!t.timestamp)return 0;const n=t.timestamp-Date.now();return Math.abs(n)>1e3+t.rttMs+100?this.ntpAlignErrorCount+=1:this.ntpAlignErrorCount=0,this.ntpAlignErrorCount>=3?n:0}getNtpWallTimeInMs(){return"visible"===document.visibilityState&&(this.remoteInboundOffset=this.getRemoteInboundOffset()),this.remoteInboundOffset+Date.now()+this._gateway.ntpOffset}setProxyServer(e,t){if(LE(e,"proxyServer"),!t){if("DISCONNECTED"!==this.connectionState)throw new Wy(ZE.INVALID_OPERATION,"Set proxy server before join channel");if("disabled"!==this._cloudProxyServerMode||this._useLocalAccessPoint)throw new Wy(ZE.INVALID_OPERATION,"You have already set the proxy")}this._proxyServer=e,oy.setProxyServer(this._proxyServer),YU.setProxyServer(this._proxyServer),YU.info("[".concat(this._clientId,"] Set proxy server ").concat(t?"by initialize call":""," success."))}setTurnServer(e,t){if(Array.isArray(e)||(e=[e]),!t){if("DISCONNECTED"!==this.connectionState)throw new Wy(ZE.INVALID_OPERATION,"Set turn server before join channel");if("disabled"!==this._cloudProxyServerMode||this._useLocalAccessPoint)throw new Wy(ZE.INVALID_OPERATION,"You have already set the proxy")}if(pC(e))return this._turnServer={servers:e,mode:"original-manual"},void YU.info("[".concat(this._clientId,"] Set original turnserver ").concat(t?"by initialize call":""," success: ").concat(e.map((e=>e.urls)).join(","),"."));e.forEach((e=>gC(e))),this._turnServer={servers:e,mode:"manual"},YU.info("[".concat(this._clientId,"] Set turnserver ").concat(t?"by initialize call":""," success."))}setLicense(e){if("DISCONNECTED"!==this.connectionState)throw new Wy(ZE.INVALID_OPERATION,"you should set license before join channel");if(LE(e,"license",32,32),!/^[A-Za-z\d]+$/.test(e))throw new Wy(ZE.INVALID_PARAMS,"license should only contains characters from A-Z a-z 0-9");this._license=e,YU.info("[".concat(this._clientId,"] set license success"),e)}startProxyServer(e){if("DISCONNECTED"!==this.connectionState)throw new Wy(ZE.INVALID_OPERATION,"Start proxy server before join channel");if(this._proxyServer||"manual"===this._turnServer.mode||this._useLocalAccessPoint)throw new Wy(ZE.INVALID_OPERATION,"You have already set the proxy");const t=[3,4,5];let n;switch(void 0===e&&(e=3),e){case 1:case 2:throw new Wy(ZE.NOT_SUPPORTED,"proxy mode 1/2 has been deprecated and not supported.");case 3:n="proxy3";break;case 4:n="proxy4";break;case 5:n="proxy5";break;default:throw new Wy(ZE.INVALID_PARAMS,"proxy server mode must be ".concat(t.join("|")))}this._cloudProxyServerMode=n,this.store.cloudProxyServerMode=n,YU.info("[".concat(this._clientId,"] set cloud proxy server mode to"),this._cloudProxyServerMode)}stopProxyServer(){if("DISCONNECTED"!==this.connectionState)throw new Wy(ZE.INVALID_OPERATION,"Stop proxy server after leave channel");oy.setProxyServer(),YU.setProxyServer(),this._cloudProxyServerMode="disabled",this.store.cloudProxyServerMode="disabled",YU.info("[".concat(this._clientId,"] set cloud proxy server mode to"),this._cloudProxyServerMode),this._proxyServer=void 0,this._turnServer={mode:"auto",servers:[]}}setLocalAccessPointsV2(e){if(!e.accessPoints)throw new Wy(ZE.INVALID_PARAMS,"accessPoints is required.");PE(e.accessPoints.serverList,"accessPoints.serverList"),LE(e.accessPoints.domain,"accessPoints.domain");const t=(e,t)=>{xE(e,t,0,65535,!0)};let n=443;if(e.accessPoints.port&&(t(e.accessPoints.port,"accessPoints.port"),n=e.accessPoints.port),this._proxyServer||"disabled"!==this._cloudProxyServerMode)throw new Wy(ZE.INVALID_OPERATION,"set local access point failed, You have already set the cloud proxy");NU("CLOSE_AFB_FOR_LOCAL_AP")&&(TU("JOIN_WITH_FALLBACK_SIGNAL_PROXY",!1),TU("JOIN_WITH_FALLBACK_MEDIA_PROXY",!1));const i=/^((\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.){3}(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$/,r=e.accessPoints.domain,o=e.accessPoints.serverList.map((e=>i.test(e)?"".concat(e.replace(/\./g,"-"),".").concat(r):e)),a=o.map((e=>"".concat(e,":").concat(n)));this._useLocalAccessPoint=!0,this._setLocalAPVersion=2,TU("WEBCS_DOMAIN",a),TU("WEBCS_DOMAIN_BACKUP_LIST",a),TU("GATEWAY_DOMAINS",[r]),e.report&&e.report.hostname&&Array.isArray(e.report.hostname)&&e.report.hostname.length?(PE(e.report.hostname,"report.hostname"),TU("EVENT_REPORT_DOMAIN",e.report.hostname[0]),TU("EVENT_REPORT_BACKUP_DOMAIN",e.report.hostname[1]||e.report.hostname[0])):(TU("EVENT_REPORT_DOMAIN",o[0]),TU("EVENT_REPORT_BACKUP_DOMAIN",o[1]||o[0]));let s=6443;e.report&&e.report.port&&(t(e.report.port,"report.port"),s=e.report.port),TU("STATS_COLLECTOR_PORT",s),e.report?TU("ENABLE_EVENT_REPORT",!0):TU("ENABLE_EVENT_REPORT",!1);let c="";e.log&&e.log.hostname&&Array.isArray(e.log.hostname)&&e.log.hostname.length?(PE(e.log.hostname,"log.hostname"),c=e.log.hostname[0]):c=o[0];let l=6444;e.log&&e.log.port&&(t(e.log.port,"log.port"),l=e.log.port),TU("LOG_UPLOAD_SERVER","".concat(c,":").concat(l));let d=[];e.cds&&e.cds.hostname&&Array.isArray(e.cds.hostname)&&e.cds.hostname.length?(PE(e.cds.hostname,"cds.hostname"),d=e.cds.hostname):d=o;let u=443;e.cds&&e.cds.port&&(t(e.cds.port,"cds.port"),u=e.cds.port),TU("CDS_AP",d.map((e=>"".concat(e,":").concat(u)))),e.cds?TU("ENABLE_CONFIG_DISTRIBUTE",!0):TU("ENABLE_CONFIG_DISTRIBUTE",!1),YU.info("set local access point v2 success")}setLocalAccessPoints(e,t){if(PE(e,"serverList"),LE(t,"domain"),this._proxyServer||"disabled"!==this._cloudProxyServerMode)throw new Wy(ZE.INVALID_OPERATION,"set local access point failed, You have already set the cloud proxy");const n=/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$/;e=e.map((e=>n.test(e)?"".concat(e.replace(/\./g,"-"),".").concat(t):e)),this._useLocalAccessPoint=!0,this._setLocalAPVersion=1,TU("WEBCS_DOMAIN",e),TU("WEBCS_DOMAIN_BACKUP_LIST",e),TU("GATEWAY_DOMAINS",[t]),TU("EVENT_REPORT_DOMAIN",e[0]),TU("EVENT_REPORT_BACKUP_DOMAIN",e[1]||e[0]),TU("LOG_UPLOAD_SERVER","".concat(e[0],":6444")),YU.info("[".concat(this._clientId,"] set local access point success"))}async setRemoteDefaultVideoStreamType(e){if(JE(e,"streamType",[0,1]),this._remoteDefaultVideoStreamType=e,this._joinInfo)try{await this._gateway.setDefaultRemoteVideoStreamType(e),this._joinInfo.defaultVideoStream=this._remoteDefaultVideoStreamType}catch(e){throw YU.error("[".concat(this._clientId,"] set default remote video stream type error"),e.toString()),e}else YU.debug("[".concat(this._clientId,"] haven't joined yet, cache remoteDefaultVideoStreamType ").concat(e))}async setRemoteVideoStreamType(e,t){JE(t,"streamType",[0,1]);try{await this._gateway.setRemoteVideoStreamType(e,t),setTimeout((()=>{const t=this._users.find((t=>t.uid===e));t&&t.videoTrack&&t.videoTrack.updateMediaStreamTrackResolution()}),2e3)}catch(e){throw YU.error("[".concat(this._clientId,"] set remote video stream type error"),e.toString()),e}YU.info("[".concat(this._clientId,"] set remote ").concat(e," video stream type to ").concat(t)),this._remoteStreamTypeCacheMap.set(e,t)}async setStreamFallbackOption(e,t){JE(t,"fallbackType",[0,1,2]);try{await this._gateway.setStreamFallbackOption(e,t)}catch(e){throw YU.error("[".concat(this._clientId,"] set stream fallback option"),e.toString()),e}YU.info("[".concat(this._clientId,"] set remote ").concat(e," stream fallback type to ").concat(t)),this._streamFallbackTypeCacheMap.set(e,t)}setEncryptionConfig(e,t,n){!function(e){JE(e,"encryptionMode",["aes-128-xts","aes-256-xts","aes-128-ecb","sm4-128-ecb","aes-128-gcm","aes-256-gcm","aes-128-gcm2","aes-256-gcm2","none"])}(e),LE(t,"secret");const i=["aes-128-gcm2","aes-256-gcm2"];if(Fi(i).call(i,e)){if(!n||!(n instanceof Uint8Array&&32===n.length))throw new Wy(ZE.INVALID_PARAMS,"salt must be an Uint8Array and exactly equal to 32 bytes")}else if(n)throw new Wy(ZE.INVALID_PARAMS,"current encrypt mode does not need salt");new RegExp("^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*,.<>?/:;'\"|{}\\[\\]])(?=.{8,})").test(t)||YU.warning("The secret is not strong:\n      The secret must contain at least 1 lowercase alphabetical character,\n      The secret must contain at least 1 uppercase alphabetical character,\n      The secret must contain at least 1 numeric character,\n      The secret must contain at least one special character,\n      The secret must be eight characters or longer.\n      "),this._encryptionMode=e,this._encryptionSecret=t,n&&(this._encryptionSalt=_C(n))}async renewToken(e){if(LE(e,"token",1,2047),!this._key||!this._joinInfo)throw new Wy(ZE.INVALID_OPERATION,"renewToken should not be called before user join");const t=this._key;this._key=e,this._joinInfo&&(this._joinInfo.token=e);const n=await this._renewTokenMutex.lock();try{if(NU("USE_NEW_TOKEN")){YU.debug("[".concat(this._clientId,"] start renew token with ticket from unilbs"));const t=await yR(this._joinInfo,this._axiosCancelSource.token,this._config.httpRetryConfig||XC);YU.debug("[".concat(this._clientId,"] get ticket from unilbs success")),await this._gateway.renewToken({token:e,ticket:t})}else YU.debug("[".concat(this._clientId,"] start renew token without ticket")),await this._gateway.renewToken({token:e});YU.debug("[".concat(this._clientId,"] renewToken success"))}catch(e){throw this._key=t,this._joinInfo.token=t,YU.error("[".concat(this._clientId,"] renewToken failed"),e.toString()),e}finally{n()}}enableAudioVolumeIndicator(){this._audioVolumeIndicationInterval?YU.warning("you have already enabled audio volume indicator!"):this._audioVolumeIndicationInterval=window.setInterval((()=>{const e=this._p2pChannel.getAudioLevels();this.safeEmit(lC.VOLUME_INDICATOR,e)}),NU("AUDIO_VOLUME_INDICATION_INTERVAL")||2e3)}getRTCStats(){const e=this._statsCollector.getRTCStats(),t=this._gateway.getInChannelInfo();return e.Duration=Math.round(t.duration/1e3),e}async startLiveStreaming(e,t){if(!t){if("h264"!==this.codec)throw new Wy(ZE.LIVE_STREAMING_INVALID_RAW_STREAM,"raw streaming is only support h264");if(!this._p2pChannel.hasLocalMedia())throw new Wy(ZE.LIVE_STREAMING_INVALID_RAW_STREAM,"can not find stream to raw streaming")}if(this._liveRawStreamingClient&&this._liveRawStreamingClient.hasUrl(e)||this._liveTranscodeStreamingClient&&this._liveTranscodeStreamingClient.hasUrl(e))throw new Wy(ZE.LIVE_STREAMING_TASK_CONFLICT);const n=t?Ry.TRANSCODE:Ry.RAW;return this._createLiveStreamingClient(n).startLiveStreamingTask(e,n)}setLiveTranscoding(e){return this._createLiveStreamingClient(Ry.TRANSCODE).setTranscodingConfig(e)}async stopLiveStreaming(e){const t=[this._liveRawStreamingClient,this._liveTranscodeStreamingClient].filter((t=>t&&t.hasUrl(e)));if(!t.length)throw new Wy(ZE.INVALID_PARAMS,"can not find live streaming url to stop");await tE.all(t.map((t=>t&&t.stopLiveStreamingTask(e))))}async addInjectStreamUrl(e,t){if(!this._joinInfo)throw new Wy(ZE.INVALID_OPERATION,"can not addInjectStreamUrl, no joininfo");const n=this._createLiveStreamingClient(Ry.INJECT);n.setInjectStreamConfig(t,0),await n.startLiveStreamingTask(e,Ry.INJECT)}async removeInjectStreamUrl(){var e;const t=this._createLiveStreamingClient(Ry.INJECT),n=Array.from(Dy(e=t.streamingTasks).call(e)).find((e=>e.mode===Ry.INJECT));if(!this._joinInfo||!n)throw new Wy(ZE.INVALID_OPERATION,"can remove addInjectStreamUrl, no joininfo or inject task");await t.stopLiveStreamingTask(n.url)}async startChannelMediaRelay(e){Ck(e);const t=this._createChannelMediaRelayClient();await t.startChannelMediaRelay(e)}async updateChannelMediaRelay(e){Ck(e);const t=this._createChannelMediaRelayClient();await t.updateChannelMediaRelay(e)}async stopChannelMediaRelay(){const e=this._createChannelMediaRelayClient();await e.stopChannelMediaRelay(),this._statsCollector.onStatsChanged&&(this._statsCollector.onStatsChanged=void 0)}sendStreamMessage(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!this._joinInfo)throw new Wy(ZE.INVALID_OPERATION,"can not send data stream, not joined");if(("string"==typeof e||e instanceof Uint8Array)&&(e={payload:e}),"string"==typeof e.payload){const t=new TextEncoder;e.payload=t.encode(e.payload)}if(new Blob([e.payload]).size>1024)throw new Wy(ZE.INVALID_PARAMS,"stream message out of range.");return this._gateway.signal.request(Iy.DATA_STREAM,{payload:_C(e.payload),syncWithAudio:e.syncWithAudio,sendTs:Date.now()-fV},!t)}sendMetadata(e){if(!this._joinInfo)throw new Wy(ZE.INVALID_OPERATION,"can not send metadata, not joined");if(new Blob([e]).size>1024)throw new Wy(ZE.METADATA_OUT_OF_RANGE);return this._gateway.signal.request(Iy.SEND_METADATA,{session_id:this._joinInfo.sid,metadata:_C(e)})}async sendCustomReportMessage(e){if(Array.isArray(e)||(e=[e]),e.forEach(KU),!this._joinInfo)throw new Wy(ZE.INVALID_OPERATION,"can not send custom report, not joined");await oy.sendCustomReportMessage(this._joinInfo.sid,e)}getLocalAudioStats(){return this._statsCollector.getLocalAudioTrackStats()}getRemoteAudioStats(){return this._statsCollector.getRemoteAudioTrackStats()}getLocalVideoStats(){return this._statsCollector.getLocalVideoTrackStats()}getRemoteVideoStats(){return this._statsCollector.getRemoteVideoTrackStats()}getRemoteNetworkQuality(){return this._statsCollector.getRemoteNetworkQualityStats()}async pickSVCLayer(e,t){JE(t.spatialLayer,"spatialLayer",[0,1,2,3]),JE(t.temporalLayer,"temporalLayer",[0,1,2,3]);try{await this._gateway.pickSVCLayer(e,t)}catch(e){throw YU.error("[".concat(this._clientId,"] pick SVC layer failed"),e.toString()),e}}async setRTMConfig(e){const{apRTM:t=!1,rtmFlag:n}=e;if(OE(t,"apRTM"),xE(n,"rtmFlag",0),this._rtmConfig.apRTM=t,this._rtmConfig.rtmFlag=n,YU.debug("[".concat(this._clientId,"] setRTMconfig ").concat(JSON.stringify(e)," in ").concat(this.connectionState," state")),("CONNECTED"===this.connectionState||"RECONNECTING"===this.connectionState)&&this._joinInfo)return this._joinInfo.apRTM=t,this._joinInfo.rtmFlag=n,this._gateway.setRTM2Flag(n)}_reset(){if(YU.debug("[".concat(this._clientId,"] reset client")),this._axiosCancelSource.cancel(),this._axiosCancelSource=gU.CancelToken.source(),this._streamFallbackTypeCacheMap=new Map,this._remoteStreamTypeCacheMap=new Map,this._configDistribute.stopGetConfigDistribute(),this._joinInfo=void 0,this._proxyServer=void 0,this._defaultStreamFallbackType=void 0,this._sessionId=null,this.store.sessionId=null,this._statsCollector.reset(),this._key=void 0,this._appId=void 0,this._uid=void 0,this.store.uid=void 0,this._channelName=void 0,this._encryptionMode="none",this._encryptionSecret=null,this._encryptionSalt=null,this._pendingPublishedUsers=[],this._users.forEach((e=>{e._audioTrack&&e._audioTrack._destroy(),e._videoTrack&&e._videoTrack._destroy(),e._dataChannels&&(e._dataChannels.forEach((e=>e._close())),e._dataChannels.length=0)})),this._users=[],this._audioVolumeIndicationInterval&&(window.clearInterval(this._audioVolumeIndicationInterval),this._audioVolumeIndicationInterval=void 0),"fallback"===this._cloudProxyServerMode&&(this._cloudProxyServerMode="disabled",this.store.cloudProxyServerMode="disabled"),this._p2pChannel.reset(),this._publishMutex=new YC("client-publish"),this._subscribeMutex=new YC("client-subscribe"),this._networkQualityInterval&&(window.clearInterval(this._networkQualityInterval),this._networkQualityInterval=void 0),this._injectStreamingClient&&(this._injectStreamingClient.terminate(),this._injectStreamingClient.removeAllListeners(),this._injectStreamingClient=void 0),this._liveRawStreamingClient&&(this._liveRawStreamingClient.terminate(),this._liveRawStreamingClient.removeAllListeners(),this._liveRawStreamingClient=void 0),this._liveTranscodeStreamingClient&&(this._liveTranscodeStreamingClient.terminate(),this._liveTranscodeStreamingClient.removeAllListeners(),this._liveTranscodeStreamingClient=void 0),this._channelMediaRelayClient&&(this._channelMediaRelayClient.dispose(),this._channelMediaRelayClient=void 0),this._inspect)try{this._inspect.close(),this._inspect=void 0}catch(e){}if(this._moderation)try{this.setImageModeration(!1)}catch(e){}}_startSession(e,t){var n;const i=e||WC();e?YU.debug("[".concat(this._clientId,"] new Session ").concat(i)):YU.debug("[".concat(this._clientId,"] renewSession ").concat(this._sessionId," => ").concat(i));const r=e?"":this._sessionId||"";this._sessionId=i,this.store.sessionId=i;const o={lts:(new Date).getTime(),mode:this.mode,stringUid:(null==t?void 0:t.stringUid)||(null===(n=this._joinInfo)||void 0===n?void 0:n.stringUid),channelProfile:"live"===this.mode?1:0,channelMode:0,isABTestSuccess:Number(this._configDistribute.isSuccess),lsid:r,clientRole:"audience"===this.role?2:1};t?oy.sessionInit(this._sessionId,RV({cname:t.channel,appid:t.appId},o)):this._joinInfo?oy.sessionInit(this._sessionId,RV({cname:this._joinInfo.cname,appid:this._joinInfo.appId},o)):this._gateway.joinInfo&&oy.sessionInit(this._sessionId,RV({cname:this._gateway.joinInfo.cname,appid:this._gateway.joinInfo.appId},o)),this._joinInfo&&(this._joinInfo.sid=i),this._gateway.joinInfo&&(this._gateway.joinInfo.sid=i)}async _publishHighStream(e){if(!this._joinInfo||void 0===this._uid)throw new Wy(ZE.INVALID_OPERATION,"Can't publish stream, haven't joined yet!");if("CONNECTED"!==this.connectionState&&"RECONNECTING"!==this.connectionState)throw new Wy(ZE.INVALID_OPERATION,"can not publish stream in ".concat(this.connectionState," state"));if("auto"===this._turnServer.mode&&NU("FORCE_TURN")&&!NU("TURN_ENABLE_TCP")&&!NU("TURN_ENABLE_UDP"))throw new Wy(ZE.UNEXPECTED_ERROR,"force TURN With No TURN Configuration");YU.debug("[".concat(this._clientId,"] publish high stream"));try{const n=await this._p2pChannel.publish(e,this._isDualStreamEnabled,this._lowStreamParameter);if(this._p2pChannel instanceof sk){const t=(await n.next()).value;if(t){try{await this._gateway.sendExtensionMessage(Bb.PUBLISH,t,!0)}catch(e){throw n.throw(e),e}await n.next()}this._p2pChannel.reportPublishEvent(!0,null)}else{const i=(await n.next()).value;if(i){var t;let r;try{r=await this._gateway.publish(this._uid,i,!0)}catch(e){if(e.code!==ZE.DISCONNECT_P2P)throw n.throw(e),e}await n.next((null===(t=r)||void 0===t?void 0:t.ortc)||[])}this._p2pChannel.reportPublishEvent(!0,null);for(const t of e)t instanceof TF&&t._encoderConfig&&this._gateway.setVideoProfile(t._encoderConfig),!t.muted&&t.enabled||await this._p2pChannel.muteLocalTrack(t)}}catch(t){if(this._p2pChannel.reportPublishEvent(!1,null==t?void 0:t.code,e),(null==t?void 0:t.code)===ZE.WS_ABORT)return;throw t}}async _publishLowStream(){if(!this._joinInfo||void 0===this._uid)throw new Wy(ZE.INVALID_OPERATION,"Can't publish stream, haven't joined yet!");if("CONNECTED"!==this.connectionState&&"RECONNECTING"!==this.connectionState)throw new Wy(ZE.INVALID_OPERATION,"can not publish stream in ".concat(this.connectionState," state"));YU.debug("[".concat(this._clientId,"] publish low stream"));const e=this._configDistribute.getLowStreamConfigDistribute();e&&e.bitrate&&(this._lowStreamParameter||(this._lowStreamParameter={width:160,height:120,framerate:15,bitrate:50}),this._lowStreamParameter&&this._lowStreamParameter.bitrate&&e.bitrate<this._lowStreamParameter.bitrate&&(this._lowStreamParameter.bitrate=e.bitrate));try{const e=await this._p2pChannel.publishLowStream(this._lowStreamParameter),n=(await e.next()).value;if(n){var t;let i;try{i=await this._gateway.publish(this._uid,n,!0)}catch(t){if(t.code!==ZE.DISCONNECT_P2P)throw e.throw(t),t}e.next((null===(t=i)||void 0===t?void 0:t.ortc)||[]),this._p2pChannel.reportPublishEvent(!0,null,void 0,!0)}}catch(e){if(this._p2pChannel.reportPublishEvent(!1,null==e?void 0:e.code,void 0,!0),(null==e?void 0:e.code)===ZE.WS_ABORT)return;throw e}}_createLiveStreamingClient(e){if(!this._joinInfo||!this._appId)return new Wy(ZE.INVALID_OPERATION,"can not create live streaming client, please join channel first").throw();const t=()=>new mk(this._joinInfo,this._config.websocketRetryConfig||XC,this._config.httpRetryConfig||XC),n=e=>{e.onLiveStreamError=(e,t)=>{oy.reportApiInvoke(this._sessionId,{name:oC.ON_LIVE_STREAM_ERROR,options:[e,t],tag:aC.TRACER}).onSuccess(),this.safeEmit(lC.LIVE_STREAMING_ERROR,e,t)},e.onLiveStreamWarning=(e,t)=>{oy.reportApiInvoke(this._sessionId,{name:oC.ON_LIVE_STREAM_WARNING,options:[e,t],tag:aC.TRACER}).onSuccess(),this.safeEmit(lC.LIVE_STREAMING_WARNING,e,t)},e.on(jy.REQUEST_WORKER_MANAGER_LIST,((e,t,n)=>{if(!this._joinInfo)return n(new Wy(ZE.INVALID_OPERATION,"can not find join info to get worker manager"));QR(e,this._joinInfo,this._axiosCancelSource.token,XC).then(t).catch(n)}))};switch(e){case Ry.RAW:return this._liveRawStreamingClient||(this._liveRawStreamingClient=t(),n(this._liveRawStreamingClient)),this._liveRawStreamingClient;case Ry.TRANSCODE:return this._liveTranscodeStreamingClient||(this._liveTranscodeStreamingClient=t(),n(this._liveTranscodeStreamingClient)),this._liveTranscodeStreamingClient;case Ry.INJECT:return this._injectStreamingClient||(this._injectStreamingClient=t(),this._injectStreamingClient.on(jy.REQUEST_WORKER_MANAGER_LIST,((e,t,n)=>{if(!this._joinInfo)return n(new Wy(ZE.INVALID_OPERATION,"can not find join info to get worker manager"));QR(e,this._joinInfo,this._axiosCancelSource.token,XC).then(t).catch(n)})),this._injectStreamingClient.onInjectStatusChange=(e,t,n)=>{this.safeEmit(lC.INJECT_STREAM_STATUS,e,t,n)}),this._injectStreamingClient}}_createChannelMediaRelayClient(){if(!this._joinInfo)return new Wy(ZE.INVALID_OPERATION,"can not create channel media relay client, please join channel first").throw();if(!this._channelMediaRelayClient){const{sendResolutionWidth:e,sendResolutionHeight:t}=this.getLocalVideoStats(),n={width:e,height:t};this._channelMediaRelayClient=new Qk(this._joinInfo,this._clientId,this._config.websocketRetryConfig||XC,this._config.httpRetryConfig||XC,n),this._channelMediaRelayClient.on("state",(e=>{e===qy.RELAY_STATE_FAILURE&&this._channelMediaRelayClient&&this._channelMediaRelayClient.dispose(),this.safeEmit(lC.CHANNEL_MEDIA_RELAY_STATE,e)})),this._channelMediaRelayClient.on("event",(e=>{this.safeEmit(lC.CHANNEL_MEDIA_RELAY_EVENT,e)})),this._statsCollector.onStatsChanged=(e,t)=>{var n;"resolution"===e&&(null===(n=this._channelMediaRelayClient)||void 0===n||n.setVideoProfile(t))}}return this._channelMediaRelayClient}_handleUpdateDataChannel(e,t){const{added:n,deleted:i}=e,r=[];Array.isArray(n)&&n.length>0&&n.forEach((e=>{const{uid:n,stream_id:i,ordered:o,max_retrans_times:a,metadata:s}=e,c=this._users.find((e=>e._uintid===n));if(c){if(YU.debug("[".concat(this._clientId,"] data_channel added with uid ").concat(n)),Fi(r).call(r,c)||r.push(c),c._uintid||(c._uintid=n),-1===c._dataChannels.findIndex((t=>t.id===e.stream_id))){const e={id:i,ordered:!!o,maxRetransmits:a,metadata:s},n=new p_(e);c._dataChannels.push(n),YU.info("[".concat(this._clientId,"] remote user ").concat(c.uid," published datachannel")),t||this.safeEmit(lC.USER_PUBLISHED,c,"datachannel",e)}this._p2pChannel.hasPendingRemoteDataChannel(c,e.stream_id)&&(YU.debug("[".concat(this._clientId,"] resubscribe datachannel for user ").concat(c.uid," after reconnect.")),this._subscribeDataChannel(c,e.stream_id).catch((e=>{YU.error("[".concat(this._clientId,"] resubscribe datachannel error"),e.toString())})))}else YU.error("[".concat(this._clientId,"] can not find target user!(on_add_data_channel)"))})),t&&(this.safeEmit(lC.PUBLISHED_USER_LIST,this._pendingPublishedUsers),this._pendingPublishedUsers=[]),Array.isArray(i)&&i.length>0&&i.forEach((e=>{const{uid:t,stream_id:n}=e,i=this._users.find((e=>e._uintid===t));if(!i)return void YU.error("[".concat(this._clientId,"] can not find target user!(on_delete_data_channel)"));const r=i._dataChannels.find((t=>t.id===e.stream_id));r&&(YU.debug("[".concat(this._clientId,"] data_stream delete with uid ").concat(t)),this._p2pChannel.unsubscribeDataChannel(i,[r]).then((e=>{if(i._dataChannels=i._dataChannels.filter((e=>e!==r)),e)return this._gateway.unsubscribeDataChannel(e,i.uid)})),YU.info("[".concat(this._clientId,"] remote user ").concat(t," unpublished datachannel ,id:").concat(r.id)),this.safeEmit(lC.USER_UNPUBLISHED,i,"datachannel",r._config))}))}_handleRemoveDataChannels(e){const t=this._users.find((t=>t.uid===e.uid));if(t){if(void 0!==t._dataChannels&&t._dataChannels.length>0){YU.debug("[".concat(this._clientId,"] datachannel removed with uid ").concat(e.uid));const n=()=>{YU.info("[".concat(this._clientId,"] remote user ").concat(t.uid," unpublished datachannel")),t._dataChannels.forEach((e=>{this.safeEmit(lC.USER_UNPUBLISHED,t,"datachannel",e._config)}))};this._p2pChannel.unsubscribeDataChannel(t,t._dataChannels).then((e=>{if(e)return this._gateway.unsubscribeDataChannel(e,t.uid)})),n()}}else YU.warning("[".concat(this._clientId,"] can not find target user!(on_remove_datachannel)"))}_handleGatewayEvents(){this._gateway.on(tb.DISCONNECT_P2P,(async()=>{await this._p2pChannel.disconnectForReconnect()})),this._gateway.on(tb.CONNECTION_STATE_CHANGE,((e,t,n)=>{var i;if(n===cC.FALLBACK)return;const r=()=>{this.safeEmit(lC.CONNECTION_STATE_CHANGE,e,t,n)};if(oy.reportApiInvoke(this._sessionId||(null===(i=this._gateway.joinInfo)||void 0===i?void 0:i.sid)||null,{name:oC.CONNECTION_STATE_CHANGE,options:[e,t,n],tag:aC.TRACER}).onSuccess(JSON.stringify({cur:e,prev:t,reason:n})),YU.info("[".concat(this._clientId,"] connection state change: ").concat(t," -> ").concat(e)),"DISCONNECTED"===e)return this._reset(),void r();if("RECONNECTING"===e)this._users.forEach((e=>{e._trust_in_room_=!1,e._trust_audio_enabled_state_=!1,e._trust_video_enabled_state_=!1,e._trust_audio_mute_state_=!1,e._trust_video_mute_state_=!1,e._trust_audio_stream_added_state_=!1,e._trust_video_stream_added_state_=!1,e._is_pre_created||(e._audio_pre_subscribed||(e._audioSSRC=void 0,e._audioOrtc=void 0),e._video_pre_subscribed||(e._videoSSRC=void 0,e._videoOrtc=void 0,e._rtxSsrcId=void 0),e._cname=void 0)})),this._userOfflineTimeout&&window.clearTimeout(this._userOfflineTimeout),this._streamRemovedTimeout&&window.clearTimeout(this._streamRemovedTimeout),this._userOfflineTimeout=void 0,this._streamRemovedTimeout=void 0;else if("CONNECTED"===e){var o;this._streamFallbackTypeCacheMap.forEach(((e,t)=>{this._gateway.setStreamFallbackOption(t,e).catch((e=>{YU.warning("[".concat(this._clientId,"] auto set stream fallback option failed"),e)}))})),this._remoteStreamTypeCacheMap.forEach(((e,t)=>{this._gateway.setRemoteVideoStreamType(t,e).catch((e=>{YU.warning("[".concat(this._clientId,"] auto set remote stream type failed"),e)}))})),void 0!==this._remoteDefaultVideoStreamType&&void 0===(null===(o=this._joinInfo)||void 0===o?void 0:o.defaultVideoStream)&&this.setRemoteDefaultVideoStreamType(this._remoteDefaultVideoStreamType).then((()=>{YU.debug("[".concat(this._clientId,"] setRemoteDefaultVideoStreamType after gateway connected"))})).catch((e=>{YU.error("[".concat(this._clientId,"] setRemoteDefaultVideoStreamType after gateway failed, ").concat(e))})),this.store.useP2P||(this._p2pChannel.republish(),this._userOfflineTimeout=window.setTimeout((()=>{"CONNECTED"===this.connectionState&&(this._userOfflineTimeout=void 0,this._users.filter((e=>!e._trust_in_room_)).forEach((e=>{YU.debug("[".concat(this._clientId,"] user offline timeout, emit user offline ").concat(e.uid)),this._handleUserOffline({uid:e.uid})})))}),3e3),this._streamRemovedTimeout=window.setTimeout((()=>{"CONNECTED"===this.connectionState&&(this._streamRemovedTimeout=void 0,this._users.forEach((e=>{e._trust_audio_mute_state_||(YU.debug("[".concat(this._clientId,"] auto dispatch audio unmute event ").concat(e.uid)),this._handleMuteStream(e.uid,hb.AUDIO,!1)),e._trust_video_mute_state_||(YU.debug("[".concat(this._clientId,"] auto dispatch video unmute event ").concat(e.uid)),this._handleMuteStream(e.uid,hb.VIDEO,!1)),e._trust_audio_enabled_state_||(YU.debug("[".concat(this._clientId,"] auto dispatch enable local audio ").concat(e.uid)),this._handleSetStreamLocalEnable("audio",e.uid,!0)),e._trust_video_enabled_state_||(YU.debug("[".concat(this._clientId,"] auto dispatch enable local video ").concat(e.uid)),this._handleSetStreamLocalEnable("video",e.uid,!0)),e._trust_video_stream_added_state_||(YU.debug("[".concat(this._clientId,"] auto dispatch reset video stream added ").concat(e.uid)),this._handleResetAddStream(e,"video")),e._trust_audio_stream_added_state_||(YU.debug("[".concat(this._clientId,"] auto dispatch reset audio stream added ").concat(e.uid)),this._handleResetAddStream(e,"audio")),e._video_added_||e._audio_added_||(YU.debug("[".concat(this._clientId,"] auto dispatch stream remove ").concat(e.uid)),this._handleRemoveStream({uid:e.uid,uint_id:e._uintid}))})))}),1e3))}r()})),this._gateway.on(tb.REQUEST_NEW_GATEWAY_LIST,((e,t)=>{if(!this._joinInfo)return t(new Wy(ZE.UNEXPECTED_ERROR,"can not recover, no join info"));fR(this._joinInfo,this._axiosCancelSource.token,this._config.httpRetryConfig||XC,this.store).then((t=>{this._joinInfo&&(this._joinInfo.apResponse=t.gatewayInfo.res,this._joinInfo.gatewayAddrs=t.gatewayInfo.gatewayAddrs,this._joinInfo.uni_lbs_ip=t.gatewayInfo.uni_lbs_ip);const n=[];t.gatewayInfo.gatewayAddrs.forEach((e=>{let{address:t}=e;const[i,r]=t.split(":");this._joinInfo&&this._joinInfo.proxyServer?n.push({proxy:this._joinInfo.proxyServer,host:i,port:r}):n.push({host:i,port:r})})),e(n)})).catch(t)})),this._gateway.on(tb.NETWORK_QUALITY,(e=>{"normal"===this._networkQualitySensitivity&&this.safeEmit(lC.NETWORK_QUALITY,e)})),this._gateway.on(tb.STREAM_TYPE_CHANGE,((e,t)=>{this.safeEmit(lC.STREAM_TYPE_CHANGED,e,t),oy.reportApiInvoke(this._sessionId,{name:oC.STREAM_TYPE_CHANGE,options:[e,t],tag:aC.TRACER}).onSuccess(JSON.stringify({uid:e,streamType:t}))})),this._gateway.on(tb.IS_P2P_DISCONNECTED,(e=>{this._p2pChannel.isP2PDisconnected()?e(!0):this._p2pChannel.hasLocalMedia()||this._p2pChannel.hasRemoteMedia()?e(!1):e(!0)})),this._gateway.on(tb.NEED_RENEW_SESSION,(()=>{this._startSession()})),this._gateway.on(tb.REQUEST_P2P_CONNECTION_PARAMS,(async(e,t,n)=>{try{t(await this._p2pChannel.startP2PConnection(e))}catch(e){n(e)}})),this._gateway.on(tb.JOIN_RESPONSE,((e,t)=>{if(this.store.useP2P)return;const{dtlsParameters:n,iceParameters:i,candidates:r,rtpCapabilities:o,setup:a,cname:s}=Ew(e.ortc,t);this._p2pChannel.connect(i,n,r,o,a,s)})),this._gateway.on(tb.REQUEST_DC_CONNECTION_PARAMS,(e=>{e(this._p2pChannel.getEstablishParams())})),this._gateway.on(tb.RESET_SIGNAL,(e=>{this._p2pChannel.resetConnection(e),this._handleGatewaySignalEvents()})),this._gateway.on(tb.DATACHANNEL_FAILBACK,(()=>{this._joinGateway()})),this._gateway.on(tb.DATACHANNEL_PRECONNECT,(async(e,t,n,i)=>{var r,o,a,s,c,l;await this._p2pChannel.startP2PConnection({turnServer:null===(r=this._joinInfo)||void 0===r?void 0:r.turnServer},!0);const d=function(e,t){let n;return t&&t.ip&&"number"==typeof t.port?(n=[{foundation:"udpcandidate",componentId:"1",transport:"udp",priority:"2103266323",connectionAddress:t.ip,port:t.port.toString(),type:"host",extension:{}}],YU.debug("Using remote candidate from AP ".concat(t.ip,":").concat(t.port)),t.ip6&&(n.push({foundation:"udpcandidate",componentId:"1",transport:"udp",priority:"2103266323",connectionAddress:t.ip6,port:t.port.toString(),type:"host",extension:{}}),YU.debug("Using IPV6 remote candidate from AP ".concat(t.ip6,":").concat(t.port)))):n=[{foundation:"udpcandidate",componentId:"1",transport:"udp",priority:"2103266323",connectionAddress:e.ip,port:e.port.toString(),type:"host",extension:{}}],n}(e,t);return this._p2pChannel.preConnect({iceUfrag:"".concat(null===(o=this._joinInfo)||void 0===o?void 0:o.apResponse.cid,"_").concat(null===(a=this._joinInfo)||void 0===a?void 0:a.apResponse.cert),icePwd:"".concat(null===(s=this._joinInfo)||void 0===s?void 0:s.apResponse.cid,"_").concat(null===(c=this._joinInfo)||void 0===c?void 0:c.apResponse.cert)},{fingerprints:[{hashFunction:"sha-256",fingerprint:null!==(l=NU("FINGERPRINT"))&&void 0!==l?l:e.fingerprint}]},d,{send:{audioCodecs:[],videoCodecs:[],audioExtensions:[],videoExtensions:[]},recv:{audioCodecs:[],videoCodecs:[],audioExtensions:[],videoExtensions:[]}},"active","o/i14u9pJrxRKAsu").then(n).catch(i)}))}_handleGatewaySignalEvents(){this._gateway.signal.on(Uy.ON_USER_ONLINE,this._handleUserOnline),this._gateway.signal.on(Uy.ON_USER_OFFLINE,this._handleUserOffline),this._gateway.signal.on(Uy.ON_ADD_AUDIO_STREAM,(e=>this._handleAddAudioOrVideoStream("audio",e.uid,e.ssrcId,e.cname,e.uint_id,e.ortc))),this._gateway.signal.on(Uy.ON_ADD_VIDEO_STREAM,(e=>this._handleAddAudioOrVideoStream("video",e.uid,e.ssrcId,e.cname,e.uint_id,e.ortc,e.rtxSsrcId))),this._gateway.signal.on(Uy.ON_REMOTE_DATASTREAM_UPDATE,(e=>{this._handleUpdateDataChannel(e)})),this._gateway.signal.on(Uy.ON_REMOTE_FULL_DATASTREAM_INFO,(e=>{this._handleUpdateDataChannel({added:e.datastreams,deleted:[]},!0)})),this._gateway.signal.on(Uy.ON_REMOVE_STREAM,this._handleRemoveStream),this._gateway.signal.on(Uy.ON_P2P_LOST,this._handleP2PLost),this._gateway.signal.on(Uy.MUTE_AUDIO,(e=>this._handleMuteStream(e.uid,hb.AUDIO,!0))),this._gateway.signal.on(Uy.UNMUTE_AUDIO,(e=>this._handleMuteStream(e.uid,hb.AUDIO,!1))),this._gateway.signal.on(Uy.MUTE_VIDEO,(e=>this._handleMuteStream(e.uid,hb.VIDEO,!0))),this._gateway.signal.on(Uy.UNMUTE_VIDEO,(e=>this._handleMuteStream(e.uid,hb.VIDEO,!1))),this._gateway.signal.on(Uy.RECEIVE_METADATA,(e=>{const t=NC(e.metadata);this.safeEmit(lC.RECEIVE_METADATA,e.uid,t)})),this._gateway.signal.on(Uy.ON_DATA_STREAM,(async e=>{if(!e)return;let t=0;if(e.ordered||e.syncWithAudio){const n=this._p2pChannel.getStats(),i=this.remoteUsers.find((t=>t.uid===e.uid)),r=null==n?void 0:n.audioRecv.find((e=>e.ssrc===(null==i?void 0:i._audioSSRC)));t=null==r?void 0:r.jitterBufferMs}null==t&&(t=0),UV(e,t,{id:this._clientId,onStreamMessage:"function"==typeof this.onStreamMessage?this.onStreamMessage.bind(this):void 0,safeEmit:this.safeEmit.bind(this)})})),this._gateway.signal.on(Uy.ON_CRYPT_ERROR,(()=>{TC((()=>{YU.warning("[".concat(this._clientId,"] on crypt error")),this.safeEmit(lC.CRYPT_ERROR)}),this._sessionId)})),this._gateway.signal.on(Uy.ON_TOKEN_PRIVILEGE_WILL_EXPIRE,this._handleTokenWillExpire),this._gateway.signal.on(Uy.ON_TOKEN_PRIVILEGE_DID_EXPIRE,(()=>{YU.warning("[".concat(this._clientId,"] received message onTokenPrivilegeDidExpire, please get new token and join again")),this._gateway.leave(!0,cC.TOKEN_EXPIRE),this.safeEmit(lC.ON_TOKEN_PRIVILEGE_DID_EXPIRE),this._reset()})),this._gateway.signal.on(Uy.ON_STREAM_FALLBACK_UPDATE,(e=>{YU.debug("[".concat(this._clientId,"] stream fallback peerId: ").concat(e.stream_id,", attr: ").concat(e.stream_type)),this.safeEmit(lC.STREAM_FALLBACK,e.stream_id,1===e.stream_type?"fallback":"recover")})),this._gateway.signal.on(Uy.ON_PUBLISH_STREAM,(e=>{this.uid===this._uid&&(this._p2pChannel.reportPublishEvent(!0,null,void 0,!1,JSON.stringify({proxy:e.proxy})),YU.info("[".concat(this._clientId,"] on publish stream, ").concat(JSON.stringify(e))))})),this._gateway.signal.on(Uy.ENABLE_LOCAL_VIDEO,(e=>{this._handleSetStreamLocalEnable("video",e.uid,!0)})),this._gateway.signal.on(Uy.DISABLE_LOCAL_VIDEO,(e=>{this._handleSetStreamLocalEnable("video",e.uid,!1)})),this._gateway.signal.on(Cy.REQUEST_TIMEOUT,((e,t)=>{if(this._joinInfo)switch(e){case Iy.PUBLISH:{if(!t)return;const e=t.ortc;if(e){var n,i;const r=e.some((e=>{let{stream_type:t}=e;return t===eb.Audio})),o=e.some((e=>{let{stream_type:t}=e;return t!==eb.Audio})),a=e.some((e=>{let{stream_type:t}=e;return t===eb.Screen||t===eb.ScreenLow}));"offer"===t.state&&oy.publish(this._joinInfo.sid,{eventElapse:E_.measureFromPublishStart(this.store.clientId,this.store.pubId),succ:!1,ec:ZE.TIMEOUT,audio:r,video:o,p2pid:t.p2p_id,publishRequestid:this.store.pubId,screenshare:a,audioName:r?null===(n=e.find((e=>{let{stream_type:t}=e;return t===eb.Audio})))||void 0===n||null===(n=n.ssrcs[0])||void 0===n?void 0:n.ssrcId.toString():void 0,videoName:o?null===(i=e.find((e=>{let{stream_type:t}=e;return t!==eb.Audio})))||void 0===i||null===(i=i.ssrcs[0])||void 0===i?void 0:i.ssrcId.toString():void 0})}break}case Iy.SUBSCRIBE:t&&oy.subscribe(this._joinInfo.sid,{succ:!1,ec:ZE.TIMEOUT,audio:t.stream_type===hb.AUDIO,video:t.stream_type===hb.VIDEO,peerid:t.stream_id,subscribeRequestid:t.ssrcId,p2pid:this.store.p2pId,eventElapse:E_.measureFromSubscribeStart(this.store.clientId,t.ssrcId)})}})),this._gateway.signal.on(Uy.ON_P2P_OK,(e=>{this.uid,this._uid})),this._gateway.signal.on(Uy.ON_PUBLISHED_USER_LIST,(e=>{if(null==e||!e.users)return;NU("BLOCK_LOCAL_CLIENT")&&(e.users=e.users.filter((e=>!dy(e.string_id||e.stream_id,this.channelName))));const t=[],n=[];for(const i of e.users){let e=this._users.find((e=>e._uintid===i.stream_id));e?e._trust_in_room_=!0:(e=new nk(i.string_id||i.stream_id,i.stream_id),this._users.push(e),0===this.getListeners(lC.PUBLISHED_USER_LIST).length&&(YU.debug("[".concat(this._clientId,"] user online"),i.stream_id),this.safeEmit(lC.USER_JOINED,e)));const r=ib.Audio&i.stream_type,o=(ib.Video|ib.LwoVideo)&i.stream_type,a=0!=(65280&i.stream_type),s=r&&e.hasAudio,c=o&&e.hasVideo;o&&(e._trust_video_stream_added_state_=!0,e._video_added_=!0,e._videoSSRC=i.video_ssrc,e._rtxSsrcId=i.video_rtx),r&&(e._trust_audio_stream_added_state_=!0,e._audio_added_=!0,e._audioSSRC=i.audio_ssrc),r&&!s&&0===this.getListeners(lC.PUBLISHED_USER_LIST).length&&(YU.info("[".concat(this._clientId,"] remote user ").concat(e.uid," published audio")),this.safeEmit(lC.USER_PUBLISHED,e,"audio")),o&&!c&&0===this.getListeners(lC.PUBLISHED_USER_LIST).length&&(YU.info("[".concat(this._clientId,"] remote user ").concat(e.uid," published video")),this.safeEmit(lC.USER_PUBLISHED,e,"video")),(r&&!s||o&&!c||a)&&t.push(e),o&&this._p2pChannel.hasPendingRemoteMedia(e,"video")&&n.push({user:e,mediaType:"video"}),r&&this._p2pChannel.hasPendingRemoteMedia(e,"audio")&&n.push({user:e,mediaType:"audio"})}n.length>0&&(YU.debug("[".concat(this._clientId,"] RE massSubscribe after reconnect ").concat(n.map((e=>"user: ".concat(e.user.uid,", mediaType: ").concat(e.mediaType))).join("; ")," ")),this.massSubscribe(n).catch((e=>{YU.error("[".concat(this._clientId,"] mass resubscribe error"),e.toString())}))),this.getListeners(lC.PUBLISHED_USER_LIST).length>0?NU("ENABLE_DATASTREAM_2")?this._pendingPublishedUsers=t:(YU.info("[".concat(this._clientId,"] client emit user-list event, users: ").concat(t.map((e=>e.uid)).join(", "))),this.safeEmit(lC.PUBLISHED_USER_LIST,t)):YU.info("[".concat(this._clientId,"] client not emit user-list event case there is no user-list listener, users: ").concat(t.map((e=>e.uid)).join(", ")))})),this._gateway.signal.on(Uy.ON_RTP_CAPABILITY_CHANGE,(e=>{const{video_codec:t}=e;this._p2pChannel instanceof iD&&this._p2pChannel.updateRemoteRTPCapabilities(t.map((e=>e.toLowerCase())).filter((e=>{var t;return Fi(t=Object.keys(VU)).call(t,e)})))}))}_handleP2PEvents(){this._gateway.signal.on(Uy.ON_USER_OFFLINE,(()=>{this._p2pChannel.disconnectForReconnect()})),this._gateway.signal.on(Bb.PUBLISH,((e,t,n)=>{const{uid:i}=e;e.forEach((e=>{const{kind:r,ssrcs:o,mid:a,isMuted:s}=e;this._handleP2PAddAudioOrVideoStream(r,i,o[0].ssrcId,a);const c=this._users.find((e=>e.uid===i));return c&&this._p2pChannel instanceof sk?this._p2pChannel.mockSubscribe(c,r,o[0].ssrcId,a).then((()=>{t()})).catch(n):t(),this._handleMuteStream(i,r,!!s)}))})),this._gateway.signal.on(Bb.CALL,(async(e,t,n)=>{if(this._p2pChannel instanceof sk)try{var i;t(await this._p2pChannel.startP2P({turnServer:null===(i=this._joinInfo)||void 0===i?void 0:i.turnServer},e))}catch(e){n(e)}})),this._gateway.signal.on(Cy.P2P_CONNECTION,(async e=>{this._p2pChannel instanceof sk&&await this._p2pChannel.p2pConnect(e)})),this._gateway.signal.on(Bb.UNPUBLISH,(async(e,t,n)=>{if(this._p2pChannel instanceof sk){const{unpubMsg:i,uid:r}=e,o=this._users.find((e=>e.uid===r));if(!o)return YU.warning("[".concat(this._clientId,"] can not find remote user, ignore mute event, uid: ").concat(r)),void t();try{i.forEach((async e=>{let{stream_type:t}=e;const n=t===eb.Audio?hb.AUDIO:hb.VIDEO;await this._p2pChannel.unsubscribe(o,n),this._handleMuteStream(r,n,!0)})),t()}catch(e){n(e)}}})),this._gateway.signal.on(Bb.CONTROL,(async(e,t)=>{const{action:n}=e;switch(n){case Nb.MUTE_LOCAL_VIDEO:this._handleMuteStream(t,hb.VIDEO,!0);break;case Nb.MUTE_LOCAL_AUDIO:this._handleMuteStream(t,hb.AUDIO,!0);break;case Nb.UNMUTE_LOCAL_VIDEO:this._handleP2PAddAudioOrVideoStream("video",t),this._handleMuteStream(t,hb.VIDEO,!1);break;case Nb.UNMUTE_LOCAL_AUDIO:this._handleP2PAddAudioOrVideoStream("audio",t),this._handleMuteStream(t,hb.AUDIO,!1)}})),this._gateway.signal.on(Bb.RESTART_ICE,(async(e,t,n)=>{if(this._p2pChannel instanceof sk)try{const{direction:n,iceParameter:i}=e;n!==by.SEND_ONLY||i?t(await this._p2pChannel.restartICE(n,i)):(this._p2pChannel.handleDisconnect(n),t())}catch(e){n(e)}})),this._gateway.signal.on(Bb.CANDIDATE,(e=>{if(this._p2pChannel instanceof sk){const{candidate:t,direction:n}=e;this._p2pChannel.addRemoteCandidate(t,n)}})),this._p2pChannel.on(mb.RequestP2PRestartICE,(async(e,t,n)=>{try{const{direction:n}=e;t(await this._gateway.sendExtensionMessage(Bb.RESTART_ICE,e,n===by.SEND_ONLY))}catch(e){n(e)}})),this._p2pChannel.on(mb.LocalCandidate,(e=>{this._gateway.sendExtensionMessage(Bb.CANDIDATE,JSON.stringify(e),!0)})),this._p2pChannel.on(mb.RequestP2PMuteLocal,(async(e,t,n)=>{try{await this._gateway.sendExtensionMessage(Bb.CONTROL,e,!0),t()}catch(e){n(e)}})),this._p2pChannel.on(mb.RequestP2PUnmuteRemote,(async(e,t,n)=>{if(this._joinInfo)try{await this._gateway.unmuteRemote(e,this._joinInfo.stringUid||this._joinInfo.uid),t()}catch(e){e.code===ZE.DISCONNECT_P2P?t():n(e)}else t()})),this._p2pChannel.on(mb.RequestP2PMuteRemote,(async(e,t,n)=>{if(this._joinInfo)try{await this._gateway.muteRemote(e,this._joinInfo.stringUid||this._joinInfo.uid),t()}catch(e){e.code===ZE.DISCONNECT_P2P?t():n(e)}else t()})),this._p2pChannel.on(mb.StateChange,((e,t)=>{t===fb.Connected&&this._p2pChannel.republish()}))}_handleP2PChannelEvents(){this._p2pChannel.on(mb.RequestMuteLocal,(async(e,t,n)=>{if(this._joinInfo)try{await this._gateway.muteLocal(e,this._joinInfo.stringUid||this._joinInfo.uid),t()}catch(e){e.code===ZE.DISCONNECT_P2P?t():n(e)}else t()})),this._p2pChannel.on(mb.RequestUnmuteLocal,(async(e,t,n)=>{if(this._joinInfo)try{await this._gateway.unmuteLocal(e,this._joinInfo.stringUid||this._joinInfo.uid),t()}catch(e){e.code===ZE.DISCONNECT_P2P?t():n(e)}else t()})),this._p2pChannel.on(mb.RequestRePublish,((e,t,n)=>{this.publish(e,!1).then(t).catch(n)})),this._p2pChannel.on(mb.RequestRePublishDataChannel,((e,t,n)=>{tE.all(e.map((async e=>{await this._p2pChannel.publishDataChannel([e]);const t={streamId:e.id,ordered:e.ordered,maxRetransmits:e.maxRetransmits,metadata:e.metadata,channelId:e._originDataChannelId};try{await this._gateway.publishDataChannel(this._uid,t,!0)}catch(e){if(e.code!==ZE.DISCONNECT_P2P)throw e}}))).then(t).catch(n)})),this._p2pChannel.on(mb.RequestReSubscribe,(async(e,t,n)=>{try{for(const{user:t,kind:n}of e)n===hb.VIDEO?await this.subscribe(t,"video"):await this.subscribe(t,"audio");t()}catch(e){n(e)}})),this._p2pChannel.on(mb.RequestUpload,((e,t)=>{this._gateway.upload(e,t)})),this._p2pChannel.on(mb.RequestUploadStats,(e=>{this._gateway.uploadWRTCStats(e)})),this._p2pChannel.on(mb.MediaReconnectStart,(e=>{this.safeEmit(lC.MEDIA_RECONNECT_START,e)})),this._p2pChannel.on(mb.MediaReconnectEnd,(e=>{this.safeEmit(lC.MEDIA_RECONNECT_END,e)})),this._p2pChannel.on(mb.NeedSignalRTT,(e=>{e(this._gateway.getSignalRTT())})),this._p2pChannel.on(mb.RequestRestartICE,(async e=>{if(this._p2pChannel instanceof sk)return;const t=await this._p2pChannel.restartICE(e),n=await t.next();if(n.done)return;const i=n.value;let r;try{r=await this._gateway.restartICE({iceParameters:i})}catch(e){return void t.throw(e)}const{iceParameters:o}=function(e){const t=e.iceParameters;return{iceParameters:{iceUfrag:t.iceUfrag,icePwd:t.icePwd}}}(r);await t.next({remoteIceParameters:o})})),this._p2pChannel.on(mb.RequestReconnect,(async()=>{this._gateway.reconnect()})),this._p2pChannel.on(mb.RequestReconnectPC,(async()=>{var e;const{iceParameters:t,dtlsParameters:n,rtpCapabilities:i}=await this._p2pChannel.startP2PConnection({turnServer:null===(e=this._joinInfo)||void 0===e?void 0:e.turnServer}),{gatewayEstablishParams:r,gatewayAddress:o}=await this._gateway.reconnectPC({iceParameters:t,dtlsParameters:n,rtpCapabilities:i}),{dtlsParameters:a,iceParameters:s,candidates:c,rtpCapabilities:l,setup:d,cname:u}=Ew(r,o);await this._p2pChannel.connect(s,a,c,l,d,u),await this._p2pChannel.republish(),await this._p2pChannel.reSubscribe()})),this._p2pChannel.on(mb.RequestUnpublishForReconnectPC,(async(e,t,n)=>{this._joinInfo&&void 0!==this._uid?(await this._gateway.unpublish(e,this._uid),t()):n()})),this._p2pChannel.on(mb.P2PLost,(()=>{this.safeEmit(lC.P2P_LOST,this.store.uid)})),this._p2pChannel.on(mb.UpdateVideoEncoder,(e=>{e._encoderConfig&&this._gateway.setVideoProfile(e._encoderConfig)})),this._p2pChannel.on(mb.ConnectionTypeChange,(e=>{this.safeEmit(lC.IS_USING_CLOUD_PROXY,e)})),this._p2pChannel.on(mb.RequestLowStreamParameter,(e=>{e(this._lowStreamParameter||{width:160,height:120,framerate:15,bitrate:50})})),this._p2pChannel.on(mb.QueryClientConnectionState,(e=>{e(this.connectionState)}))}getKeyMetrics(){return this.store.keyMetrics}async enableContentInspect(e){if("CONNECTED"!==this.connectionState||!this._joinInfo)throw new Wy(ZE.INVALID_OPERATION,"[".concat(this._clientId,"] Client did not join channel"));if(this._inspect)throw new Wy(ZE.INVALID_OPERATION,"[".concat(this._clientId,"] Inspect content service already in connecting/connected state"));if(!e)throw new Wy(ZE.INVALID_PARAMS,"[".concat(this._clientId,"] inspectConfig is necessary"));if(!e.inspectType||!Array.isArray(e.inspectType))throw new Wy(ZE.INVALID_PARAMS,"[".concat(this._clientId,"] inspectConfig.inspectType is necessary and is an instance of Array."));{const t=[...new Set(e.inspectType)];t.forEach((e=>{var t;if(!Fi(t=["supervise","moderation"]).call(t,e))throw new Wy(ZE.INVALID_PARAMS,"[".concat(this._clientId,"] ").concat(e," is not a valid inspect type."))})),e.inspectType=t}if(e&&e.extraInfo&&e.extraInfo.length>1024)throw new Wy(ZE.INVALID_PARAMS,"[".concat(this._clientId,"] inspectConfig.extraInfo length cannot exceed 1024 bytes"));try{const t=new kD(e);this._inspect=t,this.handleVideoInspectEvents(this._inspect),await t.init({appId:this._joinInfo.appId,areaCode:"",cname:this._joinInfo.cname,sid:this._joinInfo.sid,token:this._joinInfo.token,uid:this._joinInfo.uid,cid:this._joinInfo.cid,vid:this._joinInfo.vid?Number(this._joinInfo.vid):0},XC)}catch(e){throw Array.isArray(e)?e[0]:e}}async disableContentInspect(){if(!this._inspect)throw new Wy(ZE.INVALID_OPERATION,"[".concat(this._clientId,"] inspectVideoContent not started"));try{this._inspect.close(),this._inspect=void 0}catch(e){throw Array.isArray(e)?e[0]:e}}async setImageModeration(e,t){if(OE(e,"enabled"),e){if(!t)throw new Wy(ZE.INVALID_PARAMS,"[".concat(this._clientId,"] config is necessary"));if(xE(t.interval,"interval",1e3,1/0),t&&t.extraInfo&&t.extraInfo.length>1024)throw new Wy(ZE.INVALID_PARAMS,"[".concat(this._clientId,"] config.extraInfo length cannot exceed 1024 bytes"));if(t&&t.vendor&&t.vendor.length>1024)throw new Wy(ZE.INVALID_PARAMS,"[".concat(this._clientId,"] config.vendor length cannot exceed 1024 bytes"));if("CONNECTED"!==this.connectionState||!this._joinInfo)throw new Wy(ZE.INVALID_OPERATION,"[".concat(this._clientId,'] can not enable image moderation, not joined"'));try{if(this._moderation)return void this._moderation.updateConfig(t);const e=new AV(t);this._moderation=e,this.handleImageModerationEvents(this._moderation),await e.init({appId:this._joinInfo.appId,areaCode:"",cname:this._joinInfo.cname,sid:this._joinInfo.sid,token:this._joinInfo.token,uid:this._joinInfo.uid,cid:this._joinInfo.cid,vid:this._joinInfo.vid?Number(this._joinInfo.vid):0},XC)}catch(e){throw Array.isArray(e)?e[0]:e}}else{if(!this._moderation)throw new Wy(ZE.INVALID_OPERATION,"[".concat(this._clientId,"] image moderation not started"));try{this._moderation.close(),this._moderation.removeAllListeners(),this._moderation=void 0}catch(e){throw Array.isArray(e)?e[0]:e}}}setP2PTransport(e){if(function(e){JE(e,"transport",["default","auto","relay","sd-rtn"])}(e),"p2p"!==this.mode)throw new Wy(ZE.INVALID_OPERATION,"only p2p mode can set p2pTransport");this.store.p2pTransport=e,YU.info("[".concat(this._clientId,"] set client p2pTransport to ").concat(e))}handleImageModerationEvents(e){e.on(Sb.CONNECTION_STATE_CHANGE,((t,n)=>{if(this.safeEmit(lC.IMAGE_MODERATION_CONNECTION_STATE_CHANGE,t,n),t===Rb.CONNECTED){if("CONNECTED"!==this.connectionState)throw this.setImageModeration(!1),new Wy(ZE.OPERATION_ABORTED,"Image moderation was cancelled because it left the channel");e.inspectImage()}})),e.on(Sb.CLIENT_LOCAL_VIDEO_TRACK,(e=>{e(this.localTracks.filter((e=>"video"===e.trackMediaType))[0])}))}handleVideoInspectEvents(e){e.on(Qb.CONNECTION_STATE_CHANGE,((t,n)=>{if(this.safeEmit(lC.CONTENT_INSPECT_CONNECTION_STATE_CHANGE,t,n),n===Cb.CONNECTED){if("CONNECTED"!==this.connectionState)return void this.safeEmit(lC.CONTENT_INSPECT_ERROR,new Wy(ZE.OPERATION_ABORTED,"Content inspect was cancelled because it left the channel"));e.inspectImage()}})),e.on(Qb.INSPECT_RESULT,((e,t)=>{var n;if((null==t?void 0:t.code)===ZE.INVALID_OPERATION&&"DISCONNECTED"===this.connectionState)return YU.debug("Stop inspect content because that has left channel"),null==this||null===(n=this._inspect)||void 0===n||n.close(),void(this._inspect=void 0);this.safeEmit(lC.CONTENT_INSPECT_RESULT,e,t)})),e.on(Qb.CLIENT_LOCAL_VIDEO_TRACK,(e=>{e(this.localTracks.filter((e=>"video"===e.trackMediaType))[0])}))}getJoinChannelServiceRecords(){return YU.debug("getJoinChannelServiceRecords"),this.store.joinChannelServiceRecords}async setPublishAudioFilterEnabled(e){OE(e,"enabled"),TU("ENABLE_PUBLISH_AUDIO_FILTER",e),this._joinInfo&&await this._gateway.setPublishAudioFilterEnabled(e)}_handleResetAddStream(e,t){switch(t){case"audio":e._audio_added_=!1,e._trust_audio_stream_added_state_=!0;break;case"video":e._video_added_=!1,e._trust_video_stream_added_state_=!0}}}Vy([ry(),Zy("design:type",Function),Zy("design:paramtypes",[]),Zy("design:returntype",tE)],SV.prototype,"leave",null),Vy([ry({argsMap:(e,t)=>{if(!Array.isArray(t)){if(!(t instanceof pS))return[t];t=[t]}return t.map((e=>e?Object(e).toString():"null"))}}),Zy("design:type",Function),Zy("design:paramtypes",[Object,Boolean]),Zy("design:returntype",tE)],SV.prototype,"publish",null),Vy([ry({argsMap:(e,t)=>(t||(t=[]),t instanceof g_?[t.getChannelId()]:(Array.isArray(t)||(t=[t]),t.map((e=>e.getTrackId()))))}),Zy("design:type",Function),Zy("design:paramtypes",[Object]),Zy("design:returntype",tE)],SV.prototype,"unpublish",null),Vy([ry({argsMap:(e,t,n,i)=>[t.uid,n,i]}),Zy("design:type",Function),Zy("design:paramtypes",[nk,String,Number]),Zy("design:returntype",tE)],SV.prototype,"subscribe",null),Vy([ry({argsMap:(e,t,n)=>[t,n]}),Zy("design:type",Function),Zy("design:paramtypes",[Object,String]),Zy("design:returntype",tE)],SV.prototype,"presubscribe",null),Vy([ry({argsMap:(e,t)=>t.map((e=>{let{user:t,mediaType:n}=e;return[null==t?void 0:t.uid,n]}))}),Zy("design:type",Function),Zy("design:paramtypes",[Array]),Zy("design:returntype",tE)],SV.prototype,"massSubscribe",null),Vy([ry({argsMap:(e,t,n,i)=>[t.uid,n,i]}),Zy("design:type",Function),Zy("design:paramtypes",[nk,String,Number]),Zy("design:returntype",tE)],SV.prototype,"unsubscribe",null),Vy([ry({argsMap:(e,t)=>t.map((e=>{let{user:t,mediaType:n}=e;return{uid:null==t?void 0:t.uid,mediaType:n}}))}),Zy("design:type",Function),Zy("design:paramtypes",[Array]),Zy("design:returntype",tE)],SV.prototype,"massUnsubscribe",null),Vy([ry(),Zy("design:type",Function),Zy("design:paramtypes",[Object]),Zy("design:returntype",tE)],SV.prototype,"setLowStreamParameter",null),Vy([ry(),Zy("design:type",Function),Zy("design:paramtypes",[]),Zy("design:returntype",tE)],SV.prototype,"enableDualStream",null),Vy([ry(),Zy("design:type",Function),Zy("design:paramtypes",[]),Zy("design:returntype",tE)],SV.prototype,"disableDualStream",null),Vy([ry(),Zy("design:type",Function),Zy("design:paramtypes",[String,Object]),Zy("design:returntype",tE)],SV.prototype,"setClientRole",null),Vy([ry(),Zy("design:type",Function),Zy("design:paramtypes",[String,Boolean]),Zy("design:returntype",void 0)],SV.prototype,"setProxyServer",null),Vy([ry(),Zy("design:type",Function),Zy("design:paramtypes",[Object,Boolean]),Zy("design:returntype",void 0)],SV.prototype,"setTurnServer",null),Vy([ry(),Zy("design:type",Function),Zy("design:paramtypes",[String]),Zy("design:returntype",void 0)],SV.prototype,"setLicense",null),Vy([ry(),Zy("design:type",Function),Zy("design:paramtypes",[Number]),Zy("design:returntype",void 0)],SV.prototype,"startProxyServer",null),Vy([ry(),Zy("design:type",Function),Zy("design:paramtypes",[]),Zy("design:returntype",void 0)],SV.prototype,"stopProxyServer",null),Vy([ry(),Zy("design:type",Function),Zy("design:paramtypes",[Object]),Zy("design:returntype",void 0)],SV.prototype,"setLocalAccessPointsV2",null),Vy([ry(),Zy("design:type",Function),Zy("design:paramtypes",[Array,String]),Zy("design:returntype",void 0)],SV.prototype,"setLocalAccessPoints",null),Vy([ry(),Zy("design:type",Function),Zy("design:paramtypes",[Number]),Zy("design:returntype",tE)],SV.prototype,"setRemoteDefaultVideoStreamType",null),Vy([ry(),Zy("design:type",Function),Zy("design:paramtypes",[Object,Number]),Zy("design:returntype",tE)],SV.prototype,"setRemoteVideoStreamType",null),Vy([ry(),Zy("design:type",Function),Zy("design:paramtypes",[Object,Number]),Zy("design:returntype",tE)],SV.prototype,"setStreamFallbackOption",null),Vy([ry({argsMap:(e,t)=>[t]}),Zy("design:type",Function),Zy("design:paramtypes",[String,String,Uint8Array]),Zy("design:returntype",void 0)],SV.prototype,"setEncryptionConfig",null),Vy([ry(),Zy("design:type",Function),Zy("design:paramtypes",[String]),Zy("design:returntype",tE)],SV.prototype,"renewToken",null),Vy([ry(),Zy("design:type",Function),Zy("design:paramtypes",[]),Zy("design:returntype",void 0)],SV.prototype,"enableAudioVolumeIndicator",null),Vy([ry(),Zy("design:type",Function),Zy("design:paramtypes",[String,Boolean]),Zy("design:returntype",tE)],SV.prototype,"startLiveStreaming",null),Vy([ry(),Zy("design:type",Function),Zy("design:paramtypes",[Object]),Zy("design:returntype",tE)],SV.prototype,"setLiveTranscoding",null),Vy([ry(),Zy("design:type",Function),Zy("design:paramtypes",[String]),Zy("design:returntype",tE)],SV.prototype,"stopLiveStreaming",null),Vy([ry(),Zy("design:type",Function),Zy("design:paramtypes",[String,Object]),Zy("design:returntype",tE)],SV.prototype,"addInjectStreamUrl",null),Vy([ry(),Zy("design:type",Function),Zy("design:paramtypes",[]),Zy("design:returntype",tE)],SV.prototype,"removeInjectStreamUrl",null),Vy([ry(),Zy("design:type",Function),Zy("design:paramtypes",[Ek]),Zy("design:returntype",tE)],SV.prototype,"startChannelMediaRelay",null),Vy([ry(),Zy("design:type",Function),Zy("design:paramtypes",[Ek]),Zy("design:returntype",tE)],SV.prototype,"updateChannelMediaRelay",null),Vy([ry(),Zy("design:type",Function),Zy("design:paramtypes",[]),Zy("design:returntype",tE)],SV.prototype,"stopChannelMediaRelay",null),Vy([ry({argsMap:(e,t)=>(Array.isArray(t)||(t=[t]),[JSON.stringify(t)])}),Zy("design:type",Function),Zy("design:paramtypes",[Object]),Zy("design:returntype",tE)],SV.prototype,"sendCustomReportMessage",null),Vy([ry(),Zy("design:type",Function),Zy("design:paramtypes",[Object,Object]),Zy("design:returntype",tE)],SV.prototype,"pickSVCLayer",null),Vy([ry(),Zy("design:type",Function),Zy("design:paramtypes",[Object]),Zy("design:returntype",tE)],SV.prototype,"setRTMConfig",null),Vy([ry(),Zy("design:type",Function),Zy("design:paramtypes",[Object]),Zy("design:returntype",tE)],SV.prototype,"enableContentInspect",null),Vy([ry(),Zy("design:type",Function),Zy("design:paramtypes",[]),Zy("design:returntype",tE)],SV.prototype,"disableContentInspect",null),Vy([ry(),Zy("design:type",Function),Zy("design:paramtypes",[Boolean,Object]),Zy("design:returntype",tE)],SV.prototype,"setImageModeration",null),Vy([ry(),Zy("design:type",Function),Zy("design:paramtypes",[String]),Zy("design:returntype",void 0)],SV.prototype,"setP2PTransport",null),Vy([ry({reportResult:!0}),Zy("design:type",Function),Zy("design:paramtypes",[]),Zy("design:returntype",Array)],SV.prototype,"getJoinChannelServiceRecords",null),Vy([ry(),Zy("design:type",Function),Zy("design:paramtypes",[Boolean]),Zy("design:returntype",tE)],SV.prototype,"setPublishAudioFilterEnabled",null);class FV{constructor(e,t){ih(this,"id",0),ih(this,"element",void 0),ih(this,"peerPair",void 0),ih(this,"context",void 0),ih(this,"audioPlayerElement",void 0),ih(this,"audioTrack",void 0),FV.count+=1,this.id=FV.count,this.element=e,this.context=t}initPeers(){this.peerPair=[new RTCPeerConnection,new RTCPeerConnection],this.peerPair[1].ontrack=e=>{const t=document.createElement("audio");t.srcObject=new MediaStream([e.track]),t.play(),this.audioPlayerElement=t}}async switchSdp(){if(!this.peerPair)return;const e=async(e,t)=>{const n="offer"===t?await e.createOffer():await e.createAnswer();return await e.setLocalDescription(n),"complete"===e.iceGatheringState?e.localDescription:new tE((t=>{e.onicegatheringstatechange=()=>{"complete"===e.iceGatheringState&&t(e.localDescription)}}))},t=async(e,t)=>await e.setRemoteDescription(t);try{const n=await e(this.peerPair[0],"offer");await t(this.peerPair[1],n);const i=await e(this.peerPair[1],"answer");await t(this.peerPair[0],i)}catch(e){throw new Wy(ZE.LOCAL_AEC_ERROR,e.toString()).print()}}async getTracksFromMediaElement(e){if(this.audioTrack)return this.audioTrack;let t;try{e instanceof HTMLVideoElement&&(e.captureStream?e.captureStream():e.mozCaptureStream()),t=this.context.createMediaStreamDestination(),this.context.createMediaElementSource(e).connect(t)}catch(e){throw new Wy(ZE.LOCAL_AEC_ERROR,e.toString()).print()}if(!t)throw new Wy(ZE.LOCAL_AEC_ERROR,"no dest node when local aec").print();const n=t.stream.getAudioTracks()[0];return this.audioTrack=n,n}getElement(){return this.element}async startEchoCancellation(){this.context.resume(),this.peerPair&&this.close(),this.initPeers();const e=this.element,t=await this.getTracksFromMediaElement(e);this.peerPair&&this.peerPair[0].addTrack(t),await this.switchSdp()}close(){YU.debug("close echo cancellation unit, id is",this.id),this.audioPlayerElement&&this.audioPlayerElement.pause(),this.peerPair&&this.peerPair.forEach((e=>{e.close()})),this.peerPair=void 0,this.audioPlayerElement=void 0}}ih(FV,"count",0);const BV=window.AudioContext||window.webkitAudioContext;class TV{constructor(){ih(this,"units",[]),ih(this,"context",void 0)}processExternalMediaAEC(e){if(!this._doesEnvironmentNeedAEC())return YU.debug("the system does not need to process local aec"),-1;this.context||(this.context=new BV);let t=this.units.find((t=>t&&t.getElement()===e));return t||(t=new FV(e,this.context),this.units.push(t)),t.startEchoCancellation(),YU.debug("start processing local audio echo cancellation, id is",t.id),t.id}_doesEnvironmentNeedAEC(){return AE().name!==cE.SAFARI}}Vy([ry({report:oy}),Zy("design:type",Function),Zy("design:paramtypes",[HTMLAudioElement]),Zy("design:returntype",Number)],TV.prototype,"processExternalMediaAEC",null);const NV=new TV;function _V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function wV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_V(Object(n),!0).forEach((function(t){ih(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const kV=window||document;function DV(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!kV)return;const n=ZV._cspEventHandlerPointer;if(n&&t)return void console.error(n,t);const i=e=>{if(!(e&&e.blockedURI&&(ZV.onSecurityPolicyViolation||ZV.getListeners(bb.SECURITY_POLICY_VIOLATION).length>0)))return;const t=e.blockedURI;NU("CSP_DETECTED_HOSTNAME_LIST").some((e=>Fi(t).call(t,e)))&&(ZV.onSecurityPolicyViolation&&"function"==typeof ZV.onSecurityPolicyViolation&&ZV.onSecurityPolicyViolation(e),ZV.getListeners(bb.SECURITY_POLICY_VIOLATION).length>0&&ZV.safeEmit(bb.SECURITY_POLICY_VIOLATION,e))};n&&kV.removeEventListener("securitypolicyviolation",n),(t||e&&"function"==typeof e||ZV.getListeners(bb.SECURITY_POLICY_VIOLATION).length>0)&&kV.addEventListener("securitypolicyviolation",i),ZV._cspEventHandlerPointer=i}TU("PROCESS_ID","process-".concat(ZC(8,""),"-").concat(ZC(4,""),"-").concat(ZC(4,""),"-").concat(ZC(4,""),"-").concat(ZC(12,""))),function(){let e;try{e=window.localStorage.getItem("websdk_ng_global_parameter")}catch(e){return void YU.error("Error loading sdk config",e.message)}if(e)try{const t=JSON.parse(window.atob(e)),n=Date.now();YU.debug("Loading global parameters from cache",t),Object.keys(t).forEach((e=>{if(Object.prototype.hasOwnProperty.call(BU,e)){const{value:i,expires:r}=t[e];if(r&&r<=n)return;_U[e]=i,BU[e]=i}}))}catch(t){YU.error("Error loading mutableParamsCache: ".concat(e),t.message)}}(),Array.isArray(_U.AREAS)&&_U.AREAS.length>0&&eR(_U.AREAS,!0);const VV=(e,t,n)=>{YU.debug("setParameter key:".concat(e,", value:").concat(JSON.stringify(t))),TU(e,t,n)},ZV=function(e){const t=new nC,n=e,i={getListeners:t.getListeners.bind(t),on:(e,n)=>(function(e,t){e===bb.SECURITY_POLICY_VIOLATION&&DV(t,!0)}(e,n),t.on.bind(t)(e,n)),addListener:t.addListener.bind(t),once:t.once.bind(t),off:t.off.bind(t),removeAllListeners:t.removeAllListeners.bind(t),emit:t.emit.bind(t),safeEmit:t.safeEmit.bind(t)};return wV(wV({},n),i)}({__TRACK_LIST__:LR,VERSION:vU,BUILD:FU,ESM_BUNDLER:!1,ESM:!1,UMD:!0,DEV:!1,setParameter:VV,getParameter:NU,getSupportedCodec:async function(){let e={audio:[],video:[]};try{let t=new RTCPeerConnection;t.addTransceiver("video",{direction:"recvonly"}),t.addTransceiver("audio",{direction:"recvonly"});const n=(await t.createOffer()).sdp;if(!n)return e;t.close(),t=null,e=function(e){const t={video:[],audio:[]};return e.match(/ VP8/i)&&t.video.push("VP8"),e.match(/ VP9/i)&&t.video.push("VP9"),e.match(/ AV1/i)&&t.video.push("AV1"),e.match(/ H264/i)&&t.video.push("H264"),e.match(/ H265/i)&&t.video.push("H265"),e.match(/ opus/i)&&t.audio.push("OPUS"),e.match(/ PCMU/i)&&t.audio.push("PCMU"),e.match(/ PCMA/i)&&t.audio.push("PCMA"),e.match(/ G722/i)&&t.audio.push("G722"),t}(n)}catch(e){throw new Wy(ZE.CREATE_OFFER_FAILED,e.toString&&e.toString()).print()}return e},checkSystemRequirements:function(){const e=oy.reportApiInvoke(null,{name:oC.CHECK_SYSTEM_REQUIREMENTS,options:[],tag:aC.TRACER});let t=!1;try{const e=window.RTCPeerConnection,n=navigator.mediaDevices&&navigator.mediaDevices.getUserMedia,i=window.WebSocket;t=!!(e&&n&&i)}catch(e){return YU.error("check system requirement failed: ",e),!1}let n=!1;const i=AE();i.name===cE.CHROME&&Number(i.version)>=58&&(!EE()||mE())&&(n=!0),i.name===cE.FIREFOX&&Number(i.version)>=56&&(n=!0),i.name===cE.OPERA&&Number(i.version)>=45&&(n=!0),i.name===cE.SAFARI&&Number(i.version)>=11&&(n=!0),(_E()||AE().name===cE.QQ)&&(n=!0),YU.debug("checkSystemRequirements, api:",t,"browser",n);const r=t&&n;return e.onSuccess(r),r},getDevices:function(e){return OS.enumerateDevices(!0,!0,e)},getMicrophones:function(e){return OS.getRecordingDevices(e)},getCameras:function(e){return OS.getCamerasDevices(e)},getElectronScreenSources:TS,getPlaybackDevices:function(e){return OS.getSpeakers(e)},createClient:function(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{codec:"vp8",audioCodec:"opus",mode:"rtc"};const n=oy.reportApiInvoke(null,{name:oC.CREATE_CLIENT,options:[t],tag:aC.TRACER});try{!function(e){JE(e.codec,"config.codec",["vp8","vp9","av1","h264","h265"]),JE(e.mode,"config.mode",["rtc","live","p2p"]),void 0!==e.audioCodec&&JE(e.audioCodec,"config.audioCodec",["opus","pcmu","pcma","g722"]),void 0!==e.proxyServer&&LE(e.proxyServer,"config.proxyServer",1,1e4),void 0!==e.turnServer&&gC(e.turnServer),void 0!==e.httpRetryConfig&&AC(e.httpRetryConfig),void 0!==e.websocketRetryConfig&&AC(e.websocketRetryConfig)}(t)}catch(e){throw n.onError(e),e}return bV()||("vp9"===t.codec&&(t.codec="vp8",YU.debug("browser not support vp9, force use vp8")),TU("UNSUPPORTED_VIDEO_CODEC",["vp9"])),void 0===t.audioCodec&&(t.audioCodec="opus"),n.onSuccess(),new SV(RV(RV({forceWaitGatewayResponse:!0},t),{},{role:Fi(e=["rtc","p2p"]).call(e,t.mode)?"host":t.role||"audience"}))},createCameraVideoTrack:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=oy.reportApiInvoke(null,{tag:aC.TRACER,name:oC.CREATE_CAM_VIDEO_TRACK,options:[wF({},e)]}),n=hF(e),i=ZC(8,"track-cam-");let r=null;const o="720p_auto"===e.encoderConfig;YU.info("start create camera video track with config",JSON.stringify(e),"trackId",i);try{r=(await DS({video:n},i)).getVideoTracks()[0]||null}catch(e){throw t.onError(e),e}if(!r){const e=new WE(ZE.UNEXPECTED_ERROR,"can not find track in media stream");return t.onError(e),e.throw(YU)}e.optimizationMode&&kF(i,r,e,WR(e.encoderConfig));const a=new NF(r,e,n,e.scalabiltyMode?JR(e.scalabiltyMode):{numSpatialLayers:1,numTemporalLayers:1},e.optimizationMode,i);return o&&a.startMonitorStats(),t.onSuccess(a.getTrackId()),YU.info("create camera video success, trackId:",i),a},createCustomVideoTrack:function(e){const t=oy.reportApiInvoke(null,{tag:aC.TRACER,name:oC.CREATE_CUSTOM_VIDEO_TRACK,options:[e]}),n=new TF(e.mediaStreamTrack,{width:e.width,height:e.height,frameRate:e.frameRate,bitrateMax:e.bitrateMax,bitrateMin:e.bitrateMin},e.scalabiltyMode?JR(e.scalabiltyMode):{numSpatialLayers:1,numTemporalLayers:1},e.optimizationMode,ZC(8,"track-cus-"),[YR.CUSTOM_TRACK]);return t.onSuccess(n.getTrackId()),YU.info("create custom video track success with config",e,"trackId",n.getTrackId()),n},createScreenVideoTrack:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"disable";const n=oy.reportApiInvoke(null,{tag:aC.TRACER,name:oC.CREATE_SCREEN_VIDEO_TRACK,options:[wF({},e),t]}),i="720p_auto"===e.encoderConfig;e.encoderConfig?"string"==typeof e.encoderConfig||e.encoderConfig.width&&e.encoderConfig.height||(e.encoderConfig.width={max:1920},e.encoderConfig.height={max:1080}):e.encoderConfig="1080p_2";const r=function(e){const t={};e.screenSourceType&&(t.mediaSource=e.screenSourceType),e.extensionId&&CE()&&(t.extensionId=e.extensionId);const{displaySurface:n,selfBrowserSurface:i,surfaceSwitching:r,systemAudio:o}=e;(yE(107)||bE(107)||vE(93))&&(n&&(JE(n,"displaySurface",["browser","window","monitor"]),t.displaySurface=n),i?(JE(i,"selfBrowserSurface",["exclude","include"]),t.selfBrowserSurface=i):t.selfBrowserSurface="include",r&&(JE(r,"surfaceSwitching",["exclude","include"]),t.surfaceSwitching=r)),(yE(105)||bE(105)||vE(91))&&o&&(JE(o,"systemAudio",["exclude","include"]),t.systemAudio=o),e.electronScreenSourceId&&(t.sourceId=e.electronScreenSourceId);const a=e.encoderConfig?OR(e.encoderConfig):null;return t.mandatory={chromeMediaSource:"desktop",maxWidth:a?a.width:void 0,maxHeight:a?a.height:void 0},a&&(a.frameRate&&("number"==typeof a.frameRate?(t.mandatory.maxFrameRate=a.frameRate,t.mandatory.minFrameRate=a.frameRate):(t.mandatory.maxFrameRate=a.frameRate.max||a.frameRate.ideal||a.frameRate.exact||void 0,t.mandatory.minFrameRate=a.frameRate.min||a.frameRate.ideal||a.frameRate.exact||void 0),t.frameRate=a.frameRate),a.width&&(t.width=a.width),a.height&&(t.height=a.height)),t}(e),o=ZC(8,"track-scr-v-");let a=null,s=null;const c=FR();if(!c.supportShareAudio&&"enable"===t){const e=new WE(ZE.NOT_SUPPORTED,"your browser or platform is not support share-screen with audio");return n.onError(e),e.throw(YU)}YU.info("start create screen video track with config",e,"withAudio",t,"trackId",o);try{const e=await DS({screen:r,screenAudio:"auto"===t?c.supportShareAudio:"enable"===t},o);a=e.getVideoTracks()[0]||null,s=e.getAudioTracks()[0]||null}catch(e){throw n.onError(e),e}if(!a){const e=new WE(ZE.UNEXPECTED_ERROR,"can not find track in media stream");return n.onError(e),e.throw(YU)}if(!s&&"enable"===t){a&&a.stop();const e=new WE(ZE.SHARE_AUDIO_NOT_ALLOWED);return n.onError(e),e.throw(YU)}e.optimizationMode||(e.optimizationMode="detail"),e.optimizationMode&&(kF(o,a,e,e.encoderConfig&&OR(e.encoderConfig)||void 0),e.encoderConfig&&"string"!=typeof e.encoderConfig&&(e.encoderConfig.bitrateMin=e.encoderConfig.bitrateMax));const l=new TF(a,e.encoderConfig?OR(e.encoderConfig):{},e.scalabiltyMode?JR(e.scalabiltyMode):{numSpatialLayers:1,numTemporalLayers:1},e.optimizationMode,o,[YR.SCREEN_TRACK]);if(i&&l.startMonitorStats(),!s)return n.onSuccess(l.getTrackId()),YU.info("create screen video track success","video:",l.getTrackId()),l;const d=new cF(s,void 0,ZC(8,"track-scr-a-"),!1,!0);return n.onSuccess([l.getTrackId(),d.getTrackId()]),YU.info("create screen video track success","video:",l.getTrackId(),"audio:",d.getTrackId()),[l,d]},createMicrophoneAndCameraTracks:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=oy.reportApiInvoke(null,{tag:aC.TRACER,name:oC.CREATE_MIC_AND_CAM_TRACKS,options:[e,t]}),i="720p_auto"===t.encoderConfig,r=hF(t),o=AF(e),a=ZC(8,"track-mic-"),s=ZC(8,"track-cam-");let c=null,l=null;YU.info("start create camera video track(".concat(s,") and microphone audio track(").concat(a,") with config, audio: ").concat(JSON.stringify(e),", video: ").concat(JSON.stringify(t)));try{const e=await DS({audio:o,video:r},"".concat(a,"-").concat(s));c=e.getAudioTracks()[0],l=e.getVideoTracks()[0]}catch(e){throw n.onError(e),e}if(!c||!l){const e=new WE(ZE.UNEXPECTED_ERROR,"can not find tracks in media stream");return n.onError(e),e.throw(YU)}t.optimizationMode&&kF(s,l,t,WR(t.encoderConfig));const d=new lF(c,e,o,a),u=new NF(l,t,r,t.scalabiltyMode?JR(t.scalabiltyMode):{numSpatialLayers:1,numTemporalLayers:1},t.optimizationMode,s);return i&&u.startMonitorStats(),n.onSuccess([d.getTrackId(),u.getTrackId()]),YU.info("create camera video track(".concat(s,") and microphone audio track(").concat(a,") success")),[d,u]},createMicrophoneAudioTrack:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=oy.reportApiInvoke(null,{tag:aC.TRACER,name:oC.CREATE_MIC_AUDIO_TRACK,options:[e]}),n=AF(e),i=ZC(8,"track-mic-");let r=null;YU.info("start create microphone audio track with config",JSON.stringify(e),"trackId",i);try{r=(await DS({audio:n},i)).getAudioTracks()[0]||null}catch(e){throw t.onError(e),e}if(!r){const e=new WE(ZE.UNEXPECTED_ERROR,"can not find track in media stream");return t.onError(e),e.throw(YU)}const o=new lF(r,e,n,i);return t.onSuccess(o.getTrackId()),YU.info("create microphone audio track success, trackId:",i),o},createCustomAudioTrack:function(e){const t=oy.reportApiInvoke(null,{tag:aC.TRACER,name:oC.CREATE_CUSTOM_AUDIO_TRACK,options:[e]}),n=new cF(e.mediaStreamTrack,e.encoderConfig?MR(e.encoderConfig):{},ZC(8,"track-cus-"),!1,!0);return YU.info("create custom audio track success with config",e,"trackId",n.getTrackId()),t.onSuccess(n.getTrackId()),n},createBufferSourceAudioTrack:async function(e){var t;const{cacheOnlineFile:n,encoderConfig:i}=e;let{source:r}=e;const o={source:r instanceof AudioBuffer?"AudioBuffer":r instanceof File?null!==(t=File.name)&&void 0!==t?t:"File":r,cacheOnlineFile:n,encoderConfig:i},a=oy.reportApiInvoke(null,{tag:aC.TRACER,name:oC.CREATE_BUFFER_AUDIO_TRACK,options:[o]});if(NU("DISABLE_WEBAUDIO"))throw new WE(ZE.NOT_SUPPORTED,"can not create BufferSourceAudioTrack when WebAudio disabled");const s=ZC(8,"track-buf-");YU.info("start create buffer source audio track with config",JSON.stringify(o),"trackId",s);const c=r;if(!(r instanceof AudioBuffer))try{r=await fF(r,n)}catch(e){return a.onError(e),e.throw(YU)}const l=new pF(r),d=new dF(c,l,i?MR(i):{},s);return YU.info("create buffer source audio track success, trackId:",s),a.onSuccess(d.getTrackId()),d},setAppType:function(e){if(YU.debug("setAppType: ".concat(e)),!(Number.isInteger(e)&&e>=0))throw YU.debug("Invalid appType"),new Wy(ZE.INVALID_PARAMS,"invalid app type",e);TU("APP_TYPE",Math.floor(e))},setLogLevel:function(e){YU.setLogLevel(e)},enableLogUpload:function(){NU("USE_NEW_LOG")?TU("UPLOAD_LOG",!0):YU.enableLogUpload()},disableLogUpload:function(){NU("USE_NEW_LOG")?TU("UPLOAD_LOG",!1):YU.disableLogUpload()},createChannelMediaRelayConfiguration:function(){return new Ek},checkAudioTrackIsActive:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3;const n=oy.reportApiInvoke(null,{tag:aC.TRACER,name:oC.CHECK_AUDIO_TRACK_IS_ACTIVE,options:[t]});if(!(e instanceof cF||e instanceof OF)){const e=new Wy(ZE.INVALID_TRACK,"the parameter is not a audio track");return n.onError(e),e.throw()}t&&t<1e3&&(t=1e3);const i=e instanceof cF?e.getTrackLabel():"remote_track",r=e.getVolumeLevel();let o=r,a=r;const s=Date.now();return new tE((r=>{const c=setInterval((()=>{const l=e.getVolumeLevel();o=l>o?l:o,a=l<a?l:a;const d=o-a>1e-4,u=Date.now()-s;if(d||u>t){clearInterval(c);const t=d,a={duration:u,deviceLabel:i,maxVolumeLevel:o,result:t};YU.info("[track-".concat(e.getTrackId(),"] check audio track active completed. ").concat(JSON.stringify(a))),n.onSuccess(a),r(t)}}),200)}))},checkVideoTrackIsActive:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3;const n=oy.reportApiInvoke(null,{tag:aC.TRACER,name:oC.CHECK_VIDEO_TRACK_IS_ACTIVE,options:[t]});if(!(e instanceof TF||e instanceof WF)){const e=new Wy(ZE.INVALID_TRACK,"the parameter is not a video track");return n.onError(e),e.throw()}t&&t<1e3&&(t=1e3);const i=e instanceof TF?e.getTrackLabel():"remote_track",r=e.getMediaStreamTrack(!0),o=document.createElement("video");o.style.width="1px",o.style.height="1px",o.setAttribute("muted",""),o.muted=!0,o.setAttribute("playsinline",""),o.controls=!1,(IE()||fE())&&(o.style.opacity="0.01",o.style.position="fixed",o.style.left="0",o.style.top="0",document.body.appendChild(o)),o.srcObject=new MediaStream([r]),o.play();const a=document.createElement("canvas");a.width=160,a.height=120;let s=0,c=0;try{const e=Date.now();s=await function(e,t,n,i){let r,o=0,a=null;return new tE(((s,c)=>{function l(){o>i&&r&&(r(),s(o));const t=n.getContext("2d");if(!t){const e=new Wy(ZE.UNEXPECTED_ERROR,"can not get canvas 2d context.");return YU.error(e.toString()),void c(e)}t.drawImage(e,0,0,160,120);const l=t.getImageData(0,0,n.width,n.height),d=Math.floor(l.data.length/3);if(a){for(let e=0;e<d;e+=3)if(l.data[e]!==a[e])return o+=1,void(a=l.data);a=l.data}else a=l.data}setTimeout((()=>{r&&(r(),s(o))}),t),r=bS((()=>{l()}),30)}))}(o,t,a,4),c=Date.now()-e}catch(e){throw n.onError(e),e}yV===cE.SAFARI&&(o.pause(),o.remove()),o.srcObject=null;const l=s>4,d={duration:c,changedPicNum:s,deviceLabel:i,result:l};return YU.info("[track-".concat(e.getTrackId(),"] check video track active completed. ").concat(JSON.stringify(d))),n.onSuccess(d),l},setArea:eR,audioElementPlayCenter:jS,resumeAudioContext:function(){jS.autoResumeAfterInterruption(!0)},processExternalMediaAEC:function(e){NV.processExternalMediaAEC(e)},registerExtensions:function(e){const t=NU("PLUGIN_INFO")||[];e.forEach((e=>{"name"in e&&!Fi(t).call(t,e.name)&&t.push(e.name);const n=e;n.__registered__=!0,n.logger.hookLog=YU.extLog,n.reporter.hookApiInvoke=oy.extApiInvoke,n.parameters&&Object.keys(n.parameters).forEach((e=>{n.parameters[e]=NU(e)}))})),VV("PLUGIN_INFO",t)},ChannelMediaRelayError:$y,ChannelMediaRelayEvent:zy,ChannelMediaRelayState:qy,RemoteStreamFallbackType:KR,RemoteStreamType:XR,ConnectionDisconnectedReason:cC,AudienceLatencyLevelType:sC,AREAS:ob});return Object.defineProperties(ZV,{onAudioAutoplayFailed:{get:()=>xS.onAudioAutoplayFailed,set:e=>{xS.onAudioAutoplayFailed=e}},onAutoplayFailed:{get:()=>xS.onAutoplayFailed,set:e=>{xS.onAutoplayFailed=e}},_onSecurityPolicyViolation:{value:void 0,writable:!0},_cspEventHandlerPointer:{value:void 0,writable:!0},onSecurityPolicyViolation:{get:()=>ZV._onSecurityPolicyViolation,set(e){ZV._onSecurityPolicyViolation=e,DV(e)}},__CLIENT_LIST__:{get:()=>NU("SHOW_GLOBAL_CLIENT_LIST")?ly:[]}}),OS.on(lS.CAMERA_DEVICE_CHANGED,(e=>{YU.info("camera device changed",JSON.stringify(e)),ZV.onCameraChanged&&ZV.onCameraChanged(e),ZV.safeEmit(bb.CAMERA_CHANGED,e)})),OS.on(lS.RECORDING_DEVICE_CHANGED,(e=>{YU.info("microphone device changed",JSON.stringify(e)),ZV.onMicrophoneChanged&&ZV.onMicrophoneChanged(e),ZV.safeEmit(bb.MICROPHONE_CHANGED,e)})),OS.on(lS.PLAYOUT_DEVICE_CHANGED,(e=>{YU.debug("playout device changed",JSON.stringify(e)),ZV.onPlaybackDeviceChanged&&ZV.onPlaybackDeviceChanged(e),ZV.safeEmit(bb.PLAYBACK_DEVICE_CHANGED,e)})),jS.onAutoplayFailed=()=>{YU.info("detect audio element autoplay failed"),xS.onAudioAutoplayFailed&&xS.onAudioAutoplayFailed()},ES.on("autoplay-failed",(()=>{YU.info("detect webaudio autoplay failed"),xS.onAudioAutoplayFailed&&xS.onAudioAutoplayFailed(),ZV.safeEmit(bb.AUTOPLAY_FAILED)})),ES.on(BR.STATE_CHANGE,((e,t)=>{YU.info("audio context state changed: ".concat(t," => ").concat(e)),ZV.onAudioContextStateChanged&&ZV.onAudioContextStateChanged(e,t),ZV.safeEmit(bb.AUDIO_CONTEXT_STATE_CHANGED,e,t)})),QC.on(hC.NETWORK_STATE_CHANGE,((e,t)=>{YU.info("[network-indicator] network state changed, ".concat(t," => ").concat(e))})),window&&(window.__ARTC__=ZV),ZV}()},9998:(e,t)=>{"use strict";t.Z=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(","),i=e.name||"",r=(e.type||"").toLowerCase(),o=r.replace(/\/.*$/,"");return n.some((function(e){var t=e.trim().toLowerCase();return"."===t.charAt(0)?i.toLowerCase().endsWith(t):t.endsWith("/*")?o===t.replace(/\/.*$/,""):r===t}))}return!0}},6998:(e,t,n)=>{"use strict";var i=n(2458),r={"text/plain":"Text","text/html":"Url",default:"Text"};e.exports=function(e,t){var n,o,a,s,c,l,d=!1;t||(t={}),n=t.debug||!1;try{if(a=i(),s=document.createRange(),c=document.getSelection(),(l=document.createElement("span")).textContent=e,l.ariaHidden="true",l.style.all="unset",l.style.position="fixed",l.style.top=0,l.style.clip="rect(0, 0, 0, 0)",l.style.whiteSpace="pre",l.style.webkitUserSelect="text",l.style.MozUserSelect="text",l.style.msUserSelect="text",l.style.userSelect="text",l.addEventListener("copy",(function(i){if(i.stopPropagation(),t.format)if(i.preventDefault(),"undefined"===typeof i.clipboardData){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var o=r[t.format]||r.default;window.clipboardData.setData(o,e)}else i.clipboardData.clearData(),i.clipboardData.setData(t.format,e);t.onCopy&&(i.preventDefault(),t.onCopy(i.clipboardData))})),document.body.appendChild(l),s.selectNodeContents(l),c.addRange(s),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");d=!0}catch(u){n&&console.error("unable to copy using execCommand: ",u),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),d=!0}catch(u){n&&console.error("unable to copy using clipboardData: ",u),n&&console.error("falling back to prompt"),o=function(e){var t=(/mac os x/i.test(navigator.userAgent)?"\u2318":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}("message"in t?t.message:"Copy to clipboard: #{key}, Enter"),window.prompt(o,e)}}finally{c&&("function"==typeof c.removeRange?c.removeRange(s):c.removeAllRanges()),l&&document.body.removeChild(l),a()}return d}},7143:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n="~";function i(){}function r(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(e,t,i,o,a){if("function"!==typeof i)throw new TypeError("The listener must be a function");var s=new r(i,o||e,a),c=n?n+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],s]:e._events[c].push(s):(e._events[c]=s,e._eventsCount++),e}function a(e,t){0===--e._eventsCount?e._events=new i:delete e._events[t]}function s(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(n=!1)),s.prototype.eventNames=function(){var e,i,r=[];if(0===this._eventsCount)return r;for(i in e=this._events)t.call(e,i)&&r.push(n?i.slice(1):i);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(e)):r},s.prototype.listeners=function(e){var t=n?n+e:e,i=this._events[t];if(!i)return[];if(i.fn)return[i.fn];for(var r=0,o=i.length,a=new Array(o);r<o;r++)a[r]=i[r].fn;return a},s.prototype.listenerCount=function(e){var t=n?n+e:e,i=this._events[t];return i?i.fn?1:i.length:0},s.prototype.emit=function(e,t,i,r,o,a){var s=n?n+e:e;if(!this._events[s])return!1;var c,l,d=this._events[s],u=arguments.length;if(d.fn){switch(d.once&&this.removeListener(e,d.fn,void 0,!0),u){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,t),!0;case 3:return d.fn.call(d.context,t,i),!0;case 4:return d.fn.call(d.context,t,i,r),!0;case 5:return d.fn.call(d.context,t,i,r,o),!0;case 6:return d.fn.call(d.context,t,i,r,o,a),!0}for(l=1,c=new Array(u-1);l<u;l++)c[l-1]=arguments[l];d.fn.apply(d.context,c)}else{var h,A=d.length;for(l=0;l<A;l++)switch(d[l].once&&this.removeListener(e,d[l].fn,void 0,!0),u){case 1:d[l].fn.call(d[l].context);break;case 2:d[l].fn.call(d[l].context,t);break;case 3:d[l].fn.call(d[l].context,t,i);break;case 4:d[l].fn.call(d[l].context,t,i,r);break;default:if(!c)for(h=1,c=new Array(u-1);h<u;h++)c[h-1]=arguments[h];d[l].fn.apply(d[l].context,c)}}return!0},s.prototype.on=function(e,t,n){return o(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return o(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,i,r){var o=n?n+e:e;if(!this._events[o])return this;if(!t)return a(this,o),this;var s=this._events[o];if(s.fn)s.fn!==t||r&&!s.once||i&&s.context!==i||a(this,o);else{for(var c=0,l=[],d=s.length;c<d;c++)(s[c].fn!==t||r&&!s[c].once||i&&s[c].context!==i)&&l.push(s[c]);l.length?this._events[o]=1===l.length?l[0]:l:a(this,o)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&a(this,t)):(this._events=new i,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s},8262:e=>{"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var i,r,o;if(Array.isArray(t)){if((i=t.length)!=n.length)return!1;for(r=i;0!==r--;)if(!e(t[r],n[r]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((i=(o=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(r=i;0!==r--;)if(!Object.prototype.hasOwnProperty.call(n,o[r]))return!1;for(r=i;0!==r--;){var a=o[r];if(!e(t[a],n[a]))return!1}return!0}return t!==t&&n!==n}},4802:function(e,t,n){var i,r,o;r=[],void 0===(o="function"===typeof(i=function(){"use strict";function t(e,t){return"undefined"==typeof t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function i(e,t,n){var i=new XMLHttpRequest;i.open("GET",e),i.responseType="blob",i.onload=function(){c(i.response,t,n)},i.onerror=function(){console.error("could not download file")},i.send()}function r(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function o(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(i){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var a="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n.g&&n.g.global===n.g?n.g:void 0,s=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),c=a.saveAs||("object"!=typeof window||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!s?function(e,t,n){var s=a.URL||a.webkitURL,c=document.createElement("a");t=t||e.name||"download",c.download=t,c.rel="noopener","string"==typeof e?(c.href=e,c.origin===location.origin?o(c):r(c.href)?i(e,t,n):o(c,c.target="_blank")):(c.href=s.createObjectURL(e),setTimeout((function(){s.revokeObjectURL(c.href)}),4e4),setTimeout((function(){o(c)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,n,a){if(n=n||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(t(e,a),n);else if(r(e))i(e,n,a);else{var s=document.createElement("a");s.href=e,s.target="_blank",setTimeout((function(){o(s)}))}}:function(e,t,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof e)return i(e,t,n);var o="application/octet-stream"===e.type,c=/constructor/i.test(a.HTMLElement)||a.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||o&&c||s)&&"undefined"!=typeof FileReader){var d=new FileReader;d.onloadend=function(){var e=d.result;e=l?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=e:location=e,r=null},d.readAsDataURL(e)}else{var u=a.URL||a.webkitURL,h=u.createObjectURL(e);r?r.location=h:location.href=h,r=null,setTimeout((function(){u.revokeObjectURL(h)}),4e4)}});a.saveAs=c.saveAs=c,e.exports=c})?i.apply(t,r):i)||(e.exports=o)},2110:(e,t,n)=>{"use strict";var i=n(8309),r={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function c(e){return i.isMemo(e)?a:s[e.$$typeof]||r}s[i.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[i.Memo]=a;var l=Object.defineProperty,d=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,A=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,i){if("string"!==typeof n){if(p){var r=A(n);r&&r!==p&&e(t,r,i)}var a=d(n);u&&(a=a.concat(u(n)));for(var s=c(t),g=c(n),f=0;f<a.length;++f){var m=a[f];if(!o[m]&&(!i||!i[m])&&(!g||!g[m])&&(!s||!s[m])){var E=h(n,m);try{l(t,m,E)}catch(C){}}}}return t}},746:(e,t)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,i=n?Symbol.for("react.element"):60103,r=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,c=n?Symbol.for("react.provider"):60109,l=n?Symbol.for("react.context"):60110,d=n?Symbol.for("react.async_mode"):60111,u=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,A=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,g=n?Symbol.for("react.memo"):60115,f=n?Symbol.for("react.lazy"):60116,m=n?Symbol.for("react.block"):60121,E=n?Symbol.for("react.fundamental"):60117,C=n?Symbol.for("react.responder"):60118,I=n?Symbol.for("react.scope"):60119;function Q(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case d:case u:case o:case s:case a:case A:return e;default:switch(e=e&&e.$$typeof){case l:case h:case f:case g:case c:return e;default:return t}}case r:return t}}}function U(e){return Q(e)===u}t.AsyncMode=d,t.ConcurrentMode=u,t.ContextConsumer=l,t.ContextProvider=c,t.Element=i,t.ForwardRef=h,t.Fragment=o,t.Lazy=f,t.Memo=g,t.Portal=r,t.Profiler=s,t.StrictMode=a,t.Suspense=A,t.isAsyncMode=function(e){return U(e)||Q(e)===d},t.isConcurrentMode=U,t.isContextConsumer=function(e){return Q(e)===l},t.isContextProvider=function(e){return Q(e)===c},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return Q(e)===h},t.isFragment=function(e){return Q(e)===o},t.isLazy=function(e){return Q(e)===f},t.isMemo=function(e){return Q(e)===g},t.isPortal=function(e){return Q(e)===r},t.isProfiler=function(e){return Q(e)===s},t.isStrictMode=function(e){return Q(e)===a},t.isSuspense=function(e){return Q(e)===A},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===u||e===s||e===a||e===A||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===f||e.$$typeof===g||e.$$typeof===c||e.$$typeof===l||e.$$typeof===h||e.$$typeof===E||e.$$typeof===C||e.$$typeof===I||e.$$typeof===m)},t.typeOf=Q},8309:(e,t,n)=>{"use strict";e.exports=n(746)},5102:e=>{function t(e,t){e.onload=function(){this.onerror=this.onload=null,t(null,e)},e.onerror=function(){this.onerror=this.onload=null,t(new Error("Failed to load "+this.src),e)}}function n(e,t){e.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||(this.onreadystatechange=null,t(null,e))}}e.exports=function(e,i,r){var o=document.head||document.getElementsByTagName("head")[0],a=document.createElement("script");"function"===typeof i&&(r=i,i={}),i=i||{},r=r||function(){},a.type=i.type||"text/javascript",a.charset=i.charset||"utf8",a.async=!("async"in i)||!!i.async,a.src=e,i.attrs&&function(e,t){for(var n in t)e.setAttribute(n,t[n])}(a,i.attrs),i.text&&(a.text=""+i.text),("onload"in a?t:n)(a,r),a.onload||t(a,r),o.appendChild(a)}},888:(e,t,n)=>{"use strict";var i=n(9047);function r(){}function o(){}o.resetWarningCache=r,e.exports=function(){function e(e,t,n,r,o,a){if(a!==i){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:r};return n.PropTypes=n,n}},2007:(e,t,n)=>{e.exports=n(888)()},9047:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},4463:(e,t,n)=>{"use strict";var i=n(2791),r=n(5296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,A={},p={};function g(e,t,n,i,r,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var f={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){f[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];f[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){f[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){f[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){f[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){f[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){f[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){f[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){f[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function E(e){return e[1].toUpperCase()}function C(e,t,n,i){var r=f.hasOwnProperty(t)?f[t]:null;(null!==r?0!==r.type:i||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,i){if(null===t||"undefined"===typeof t||function(e,t,n,i){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,r,i)&&(n=null),i||null===r?function(e){return!!u.call(p,e)||!u.call(A,e)&&(h.test(e)?p[e]=!0:(A[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=null===n?3!==r.type&&"":n:(t=r.attributeName,i=r.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(m,E);f[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(m,E);f[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(m,E);f[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){f[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),f.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){f[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var I=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Q=Symbol.for("react.element"),U=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),S=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),_=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var w=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var k=Symbol.iterator;function D(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=k&&e[k]||e["@@iterator"])?e:null}var V,Z=Object.assign;function W(e){if(void 0===V)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);V=t&&t[1]||""}return"\n"+V+e}var O=!1;function J(e,t){if(!e||O)return"";O=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var i=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){i=l}e.call(t.prototype)}else{try{throw Error()}catch(l){i=l}e()}}catch(l){if(l&&i&&"string"===typeof l.stack){for(var r=l.stack.split("\n"),o=i.stack.split("\n"),a=r.length-1,s=o.length-1;1<=a&&0<=s&&r[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(r[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||r[a]!==o[s]){var c="\n"+r[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}}while(1<=a&&0<=s);break}}}finally{O=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?W(e):""}function x(e){switch(e.tag){case 5:return W(e.type);case 16:return W("Lazy");case 13:return W("Suspense");case 19:return W("SuspenseList");case 0:case 2:case 15:return e=J(e.type,!1);case 11:return e=J(e.type.render,!1);case 1:return e=J(e.type,!0);default:return""}}function M(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case y:return"Fragment";case U:return"Portal";case v:return"Profiler";case b:return"StrictMode";case B:return"Suspense";case T:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case S:return(e.displayName||"Context")+".Consumer";case R:return(e._context.displayName||"Context")+".Provider";case F:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case N:return null!==(t=e.displayName||null)?t:M(e.type)||"Memo";case _:t=e._payload,e=e._init;try{return M(e(t))}catch(n){}}return null}function L(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return M(t);case 8:return t===b?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function P(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var r=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){i=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(e){i=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function j(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=G(e)?e.checked?"true":"false":e.value),(e=i)!==n&&(t.setValue(e),!0)}function X(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function K(e,t){var n=t.checked;return Z({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function H(e,t){var n=null==t.defaultValue?"":t.defaultValue,i=null!=t.checked?t.checked:t.defaultChecked;n=P(null!=t.value?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function z(e,t){null!=(t=t.checked)&&C(e,"checked",t,!1)}function q(e,t){z(e,t);var n=P(t.value),i=t.type;if(null!=n)"number"===i?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===i||"reset"===i)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,P(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!("submit"!==i&&"reset"!==i||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&X(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+P(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(i&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function ie(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return Z({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function re(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:P(n)}}function oe(e,t){var n=P(t.value),i=P(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=i&&(e.defaultValue=""+i)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ce(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,de,ue=(de=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,i){MSApp.execUnsafeLocalFunction((function(){return de(e,t)}))}:de);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var Ae={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ge(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||Ae.hasOwnProperty(e)&&Ae[e]?(""+t).trim():t+"px"}function fe(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var i=0===n.indexOf("--"),r=ge(n,t[n],i);"float"===n&&(n="cssFloat"),i?e.setProperty(n,r):e[n]=r}}Object.keys(Ae).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ae[t]=Ae[e]}))}));var me=Z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ee(e,t){if(t){if(me[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function Ce(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ie=null;function Qe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ue=null,ye=null,be=null;function ve(e){if(e=Cr(e)){if("function"!==typeof Ue)throw Error(o(280));var t=e.stateNode;t&&(t=Qr(t),Ue(e.stateNode,e.type,t))}}function Re(e){ye?be?be.push(e):be=[e]:ye=e}function Se(){if(ye){var e=ye,t=be;if(be=ye=null,ve(e),t)for(e=0;e<t.length;e++)ve(t[e])}}function Fe(e,t){return e(t)}function Be(){}var Te=!1;function Ne(e,t,n){if(Te)return e(t,n);Te=!0;try{return Fe(e,t,n)}finally{Te=!1,(null!==ye||null!==be)&&(Be(),Se())}}function _e(e,t){var n=e.stateNode;if(null===n)return null;var i=Qr(n);if(null===i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var we=!1;if(d)try{var ke={};Object.defineProperty(ke,"passive",{get:function(){we=!0}}),window.addEventListener("test",ke,ke),window.removeEventListener("test",ke,ke)}catch(de){we=!1}function De(e,t,n,i,r,o,a,s,c){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(d){this.onError(d)}}var Ve=!1,Ze=null,We=!1,Oe=null,Je={onError:function(e){Ve=!0,Ze=e}};function xe(e,t,n,i,r,o,a,s,c){Ve=!1,Ze=null,De.apply(Je,arguments)}function Me(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Le(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Pe(e){if(Me(e)!==e)throw Error(o(188))}function Ge(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Me(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(null===r)break;var a=r.alternate;if(null===a){if(null!==(i=r.return)){n=i;continue}break}if(r.child===a.child){for(a=r.child;a;){if(a===n)return Pe(r),e;if(a===i)return Pe(r),t;a=a.sibling}throw Error(o(188))}if(n.return!==i.return)n=r,i=a;else{for(var s=!1,c=r.child;c;){if(c===n){s=!0,n=r,i=a;break}if(c===i){s=!0,i=r,n=a;break}c=c.sibling}if(!s){for(c=a.child;c;){if(c===n){s=!0,n=a,i=r;break}if(c===i){s=!0,i=a,n=r;break}c=c.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==i)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?Ye(e):null}function Ye(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ye(e);if(null!==t)return t;e=e.sibling}return null}var je=r.unstable_scheduleCallback,Xe=r.unstable_cancelCallback,Ke=r.unstable_shouldYield,He=r.unstable_requestPaint,ze=r.unstable_now,qe=r.unstable_getCurrentPriorityLevel,$e=r.unstable_ImmediatePriority,et=r.unstable_UserBlockingPriority,tt=r.unstable_NormalPriority,nt=r.unstable_LowPriority,it=r.unstable_IdlePriority,rt=null,ot=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/ct|0)|0},st=Math.log,ct=Math.LN2;var lt=64,dt=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var i=0,r=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~r;0!==s?i=ut(s):0!==(o&=a)&&(i=ut(o))}else 0!==(a=n&~r)?i=ut(a):0!==o&&(i=ut(o));if(0===i)return 0;if(0!==t&&t!==i&&0===(t&r)&&((r=i&-i)>=(o=t&-t)||16===r&&0!==(4194240&o)))return t;if(0!==(4&i)&&(i|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=i;0<t;)r=1<<(n=31-at(t)),i|=e[n],t&=~r;return i}function At(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function ft(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function mt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function Et(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-at(n),r=1<<i;r&t|e[i]&t&&(e[i]|=t),n&=~r}}var Ct=0;function It(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var Qt,Ut,yt,bt,vt,Rt=!1,St=[],Ft=null,Bt=null,Tt=null,Nt=new Map,_t=new Map,wt=[],kt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dt(e,t){switch(e){case"focusin":case"focusout":Ft=null;break;case"dragenter":case"dragleave":Bt=null;break;case"mouseover":case"mouseout":Tt=null;break;case"pointerover":case"pointerout":Nt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":_t.delete(t.pointerId)}}function Vt(e,t,n,i,r,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:o,targetContainers:[r]},null!==t&&(null!==(t=Cr(t))&&Ut(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function Zt(e){var t=Er(e.target);if(null!==t){var n=Me(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Le(n)))return e.blockedOn=t,void vt(e.priority,(function(){yt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Wt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Kt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=Cr(n))&&Ut(t),e.blockedOn=n,!1;var i=new(n=e.nativeEvent).constructor(n.type,n);Ie=i,n.target.dispatchEvent(i),Ie=null,t.shift()}return!0}function Ot(e,t,n){Wt(e)&&n.delete(t)}function Jt(){Rt=!1,null!==Ft&&Wt(Ft)&&(Ft=null),null!==Bt&&Wt(Bt)&&(Bt=null),null!==Tt&&Wt(Tt)&&(Tt=null),Nt.forEach(Ot),_t.forEach(Ot)}function xt(e,t){e.blockedOn===t&&(e.blockedOn=null,Rt||(Rt=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Jt)))}function Mt(e){function t(t){return xt(t,e)}if(0<St.length){xt(St[0],e);for(var n=1;n<St.length;n++){var i=St[n];i.blockedOn===e&&(i.blockedOn=null)}}for(null!==Ft&&xt(Ft,e),null!==Bt&&xt(Bt,e),null!==Tt&&xt(Tt,e),Nt.forEach(t),_t.forEach(t),n=0;n<wt.length;n++)(i=wt[n]).blockedOn===e&&(i.blockedOn=null);for(;0<wt.length&&null===(n=wt[0]).blockedOn;)Zt(n),null===n.blockedOn&&wt.shift()}var Lt=I.ReactCurrentBatchConfig,Pt=!0;function Gt(e,t,n,i){var r=Ct,o=Lt.transition;Lt.transition=null;try{Ct=1,jt(e,t,n,i)}finally{Ct=r,Lt.transition=o}}function Yt(e,t,n,i){var r=Ct,o=Lt.transition;Lt.transition=null;try{Ct=4,jt(e,t,n,i)}finally{Ct=r,Lt.transition=o}}function jt(e,t,n,i){if(Pt){var r=Kt(e,t,n,i);if(null===r)Pi(e,t,i,Xt,n),Dt(e,i);else if(function(e,t,n,i,r){switch(t){case"focusin":return Ft=Vt(Ft,e,t,n,i,r),!0;case"dragenter":return Bt=Vt(Bt,e,t,n,i,r),!0;case"mouseover":return Tt=Vt(Tt,e,t,n,i,r),!0;case"pointerover":var o=r.pointerId;return Nt.set(o,Vt(Nt.get(o)||null,e,t,n,i,r)),!0;case"gotpointercapture":return o=r.pointerId,_t.set(o,Vt(_t.get(o)||null,e,t,n,i,r)),!0}return!1}(r,e,t,n,i))i.stopPropagation();else if(Dt(e,i),4&t&&-1<kt.indexOf(e)){for(;null!==r;){var o=Cr(r);if(null!==o&&Qt(o),null===(o=Kt(e,t,n,i))&&Pi(e,t,i,Xt,n),o===r)break;r=o}null!==r&&i.stopPropagation()}else Pi(e,t,i,null,n)}}var Xt=null;function Kt(e,t,n,i){if(Xt=null,null!==(e=Er(e=Qe(i))))if(null===(t=Me(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Le(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Xt=e,null}function Ht(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qe()){case $e:return 1;case et:return 4;case tt:case nt:return 16;case it:return 536870912;default:return 16}default:return 16}}var zt=null,qt=null,$t=null;function en(){if($t)return $t;var e,t,n=qt,i=n.length,r="value"in zt?zt.value:zt.textContent,o=r.length;for(e=0;e<i&&n[e]===r[e];e++);var a=i-e;for(t=1;t<=a&&n[i-t]===r[o-t];t++);return $t=r.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,i,r,o){for(var a in this._reactName=t,this._targetInst=i,this.type=n,this.nativeEvent=r,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(r):r[a]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return Z(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,cn,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=on(ln),un=Z({},ln,{view:0,detail:0}),hn=on(un),An=Z({},un,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cn&&(cn&&"mousemove"===e.type?(an=e.screenX-cn.screenX,sn=e.screenY-cn.screenY):sn=an=0,cn=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=on(An),gn=on(Z({},An,{dataTransfer:0})),fn=on(Z({},un,{relatedTarget:0})),mn=on(Z({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),En=Z({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Cn=on(En),In=on(Z({},ln,{data:0})),Qn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Un={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=yn[e])&&!!t[e]}function vn(){return bn}var Rn=Z({},un,{key:function(e){if(e.key){var t=Qn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Un[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Sn=on(Rn),Fn=on(Z({},An,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Bn=on(Z({},un,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vn})),Tn=on(Z({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),Nn=Z({},An,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),_n=on(Nn),wn=[9,13,27,32],kn=d&&"CompositionEvent"in window,Dn=null;d&&"documentMode"in document&&(Dn=document.documentMode);var Vn=d&&"TextEvent"in window&&!Dn,Zn=d&&(!kn||Dn&&8<Dn&&11>=Dn),Wn=String.fromCharCode(32),On=!1;function Jn(e,t){switch(e){case"keyup":return-1!==wn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Mn=!1;var Ln={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Ln[e.type]:"textarea"===t}function Gn(e,t,n,i){Re(i),0<(t=Yi(t,"onChange")).length&&(n=new dn("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Yn=null,jn=null;function Xn(e){Wi(e,0)}function Kn(e){if(j(Ir(e)))return e}function Hn(e,t){if("change"===e)return t}var zn=!1;if(d){var qn;if(d){var $n="oninput"in document;if(!$n){var ei=document.createElement("div");ei.setAttribute("oninput","return;"),$n="function"===typeof ei.oninput}qn=$n}else qn=!1;zn=qn&&(!document.documentMode||9<document.documentMode)}function ti(){Yn&&(Yn.detachEvent("onpropertychange",ni),jn=Yn=null)}function ni(e){if("value"===e.propertyName&&Kn(jn)){var t=[];Gn(t,jn,e,Qe(e)),Ne(Xn,t)}}function ii(e,t,n){"focusin"===e?(ti(),jn=n,(Yn=t).attachEvent("onpropertychange",ni)):"focusout"===e&&ti()}function ri(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Kn(jn)}function oi(e,t){if("click"===e)return Kn(t)}function ai(e,t){if("input"===e||"change"===e)return Kn(t)}var si="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ci(e,t){if(si(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!u.call(t,r)||!si(e[r],t[r]))return!1}return!0}function li(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function di(e,t){var n,i=li(e);for(e=0;i;){if(3===i.nodeType){if(n=e+i.textContent.length,e<=t&&n>=t)return{node:i,offset:t-e};e=n}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=li(i)}}function ui(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ui(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hi(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(i){n=!1}if(!n)break;t=X((e=t.contentWindow).document)}return t}function Ai(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pi(e){var t=hi(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ui(n.ownerDocument.documentElement,n)){if(null!==i&&Ai(n))if(t=i.start,void 0===(e=i.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var r=n.textContent.length,o=Math.min(i.start,r);i=void 0===i.end?o:Math.min(i.end,r),!e.extend&&o>i&&(r=i,i=o,o=r),r=di(n,o);var a=di(n,i);r&&a&&(1!==e.rangeCount||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(r.node,r.offset),e.removeAllRanges(),o>i?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gi=d&&"documentMode"in document&&11>=document.documentMode,fi=null,mi=null,Ei=null,Ci=!1;function Ii(e,t,n){var i=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Ci||null==fi||fi!==X(i)||("selectionStart"in(i=fi)&&Ai(i)?i={start:i.selectionStart,end:i.selectionEnd}:i={anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},Ei&&ci(Ei,i)||(Ei=i,0<(i=Yi(mi,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=fi)))}function Qi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ui={animationend:Qi("Animation","AnimationEnd"),animationiteration:Qi("Animation","AnimationIteration"),animationstart:Qi("Animation","AnimationStart"),transitionend:Qi("Transition","TransitionEnd")},yi={},bi={};function vi(e){if(yi[e])return yi[e];if(!Ui[e])return e;var t,n=Ui[e];for(t in n)if(n.hasOwnProperty(t)&&t in bi)return yi[e]=n[t];return e}d&&(bi=document.createElement("div").style,"AnimationEvent"in window||(delete Ui.animationend.animation,delete Ui.animationiteration.animation,delete Ui.animationstart.animation),"TransitionEvent"in window||delete Ui.transitionend.transition);var Ri=vi("animationend"),Si=vi("animationiteration"),Fi=vi("animationstart"),Bi=vi("transitionend"),Ti=new Map,Ni="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _i(e,t){Ti.set(e,t),c(t,[e])}for(var wi=0;wi<Ni.length;wi++){var ki=Ni[wi];_i(ki.toLowerCase(),"on"+(ki[0].toUpperCase()+ki.slice(1)))}_i(Ri,"onAnimationEnd"),_i(Si,"onAnimationIteration"),_i(Fi,"onAnimationStart"),_i("dblclick","onDoubleClick"),_i("focusin","onFocus"),_i("focusout","onBlur"),_i(Bi,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Di="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Vi=new Set("cancel close invalid load scroll toggle".split(" ").concat(Di));function Zi(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,i,r,a,s,c,l){if(xe.apply(this,arguments),Ve){if(!Ve)throw Error(o(198));var d=Ze;Ve=!1,Ze=null,We||(We=!0,Oe=d)}}(i,t,void 0,e),e.currentTarget=null}function Wi(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var i=e[n],r=i.event;i=i.listeners;e:{var o=void 0;if(t)for(var a=i.length-1;0<=a;a--){var s=i[a],c=s.instance,l=s.currentTarget;if(s=s.listener,c!==o&&r.isPropagationStopped())break e;Zi(r,s,l),o=c}else for(a=0;a<i.length;a++){if(c=(s=i[a]).instance,l=s.currentTarget,s=s.listener,c!==o&&r.isPropagationStopped())break e;Zi(r,s,l),o=c}}}if(We)throw e=Oe,We=!1,Oe=null,e}function Oi(e,t){var n=t[gr];void 0===n&&(n=t[gr]=new Set);var i=e+"__bubble";n.has(i)||(Li(t,e,2,!1),n.add(i))}function Ji(e,t,n){var i=0;t&&(i|=4),Li(n,e,i,t)}var xi="_reactListening"+Math.random().toString(36).slice(2);function Mi(e){if(!e[xi]){e[xi]=!0,a.forEach((function(t){"selectionchange"!==t&&(Vi.has(t)||Ji(t,!1,e),Ji(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[xi]||(t[xi]=!0,Ji("selectionchange",!1,t))}}function Li(e,t,n,i){switch(Ht(t)){case 1:var r=Gt;break;case 4:r=Yt;break;default:r=jt}n=r.bind(null,t,n,e),r=void 0,!we||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),i?void 0!==r?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):void 0!==r?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Pi(e,t,n,i,r){var o=i;if(0===(1&t)&&0===(2&t)&&null!==i)e:for(;;){if(null===i)return;var a=i.tag;if(3===a||4===a){var s=i.stateNode.containerInfo;if(s===r||8===s.nodeType&&s.parentNode===r)break;if(4===a)for(a=i.return;null!==a;){var c=a.tag;if((3===c||4===c)&&((c=a.stateNode.containerInfo)===r||8===c.nodeType&&c.parentNode===r))return;a=a.return}for(;null!==s;){if(null===(a=Er(s)))return;if(5===(c=a.tag)||6===c){i=o=a;continue e}s=s.parentNode}}i=i.return}Ne((function(){var i=o,r=Qe(n),a=[];e:{var s=Ti.get(e);if(void 0!==s){var c=dn,l=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":c=Sn;break;case"focusin":l="focus",c=fn;break;case"focusout":l="blur",c=fn;break;case"beforeblur":case"afterblur":c=fn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=Bn;break;case Ri:case Si:case Fi:c=mn;break;case Bi:c=Tn;break;case"scroll":c=hn;break;case"wheel":c=_n;break;case"copy":case"cut":case"paste":c=Cn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=Fn}var d=0!==(4&t),u=!d&&"scroll"===e,h=d?null!==s?s+"Capture":null:s;d=[];for(var A,p=i;null!==p;){var g=(A=p).stateNode;if(5===A.tag&&null!==g&&(A=g,null!==h&&(null!=(g=_e(p,h))&&d.push(Gi(p,g,A)))),u)break;p=p.return}0<d.length&&(s=new c(s,l,null,n,r),a.push({event:s,listeners:d}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===Ie||!(l=n.relatedTarget||n.fromElement)||!Er(l)&&!l[pr])&&(c||s)&&(s=r.window===r?r:(s=r.ownerDocument)?s.defaultView||s.parentWindow:window,c?(c=i,null!==(l=(l=n.relatedTarget||n.toElement)?Er(l):null)&&(l!==(u=Me(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(c=null,l=i),c!==l)){if(d=pn,g="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(d=Fn,g="onPointerLeave",h="onPointerEnter",p="pointer"),u=null==c?s:Ir(c),A=null==l?s:Ir(l),(s=new d(g,p+"leave",c,n,r)).target=u,s.relatedTarget=A,g=null,Er(r)===i&&((d=new d(h,p+"enter",l,n,r)).target=A,d.relatedTarget=u,g=d),u=g,c&&l)e:{for(h=l,p=0,A=d=c;A;A=ji(A))p++;for(A=0,g=h;g;g=ji(g))A++;for(;0<p-A;)d=ji(d),p--;for(;0<A-p;)h=ji(h),A--;for(;p--;){if(d===h||null!==h&&d===h.alternate)break e;d=ji(d),h=ji(h)}d=null}else d=null;null!==c&&Xi(a,s,c,d,!1),null!==l&&null!==u&&Xi(a,u,l,d,!0)}if("select"===(c=(s=i?Ir(i):window).nodeName&&s.nodeName.toLowerCase())||"input"===c&&"file"===s.type)var f=Hn;else if(Pn(s))if(zn)f=ai;else{f=ri;var m=ii}else(c=s.nodeName)&&"input"===c.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(f=oi);switch(f&&(f=f(e,i))?Gn(a,f,n,r):(m&&m(e,s,i),"focusout"===e&&(m=s._wrapperState)&&m.controlled&&"number"===s.type&&ee(s,"number",s.value)),m=i?Ir(i):window,e){case"focusin":(Pn(m)||"true"===m.contentEditable)&&(fi=m,mi=i,Ei=null);break;case"focusout":Ei=mi=fi=null;break;case"mousedown":Ci=!0;break;case"contextmenu":case"mouseup":case"dragend":Ci=!1,Ii(a,n,r);break;case"selectionchange":if(gi)break;case"keydown":case"keyup":Ii(a,n,r)}var E;if(kn)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Mn?Jn(e,n)&&(C="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(C="onCompositionStart");C&&(Zn&&"ko"!==n.locale&&(Mn||"onCompositionStart"!==C?"onCompositionEnd"===C&&Mn&&(E=en()):(qt="value"in(zt=r)?zt.value:zt.textContent,Mn=!0)),0<(m=Yi(i,C)).length&&(C=new In(C,e,null,n,r),a.push({event:C,listeners:m}),E?C.data=E:null!==(E=xn(n))&&(C.data=E))),(E=Vn?function(e,t){switch(e){case"compositionend":return xn(t);case"keypress":return 32!==t.which?null:(On=!0,Wn);case"textInput":return(e=t.data)===Wn&&On?null:e;default:return null}}(e,n):function(e,t){if(Mn)return"compositionend"===e||!kn&&Jn(e,t)?(e=en(),$t=qt=zt=null,Mn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Zn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(i=Yi(i,"onBeforeInput")).length&&(r=new In("onBeforeInput","beforeinput",null,n,r),a.push({event:r,listeners:i}),r.data=E))}Wi(a,t)}))}function Gi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Yi(e,t){for(var n=t+"Capture",i=[];null!==e;){var r=e,o=r.stateNode;5===r.tag&&null!==o&&(r=o,null!=(o=_e(e,n))&&i.unshift(Gi(e,o,r)),null!=(o=_e(e,t))&&i.push(Gi(e,o,r))),e=e.return}return i}function ji(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Xi(e,t,n,i,r){for(var o=t._reactName,a=[];null!==n&&n!==i;){var s=n,c=s.alternate,l=s.stateNode;if(null!==c&&c===i)break;5===s.tag&&null!==l&&(s=l,r?null!=(c=_e(n,o))&&a.unshift(Gi(n,c,s)):r||null!=(c=_e(n,o))&&a.push(Gi(n,c,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Ki=/\r\n?/g,Hi=/\u0000|\uFFFD/g;function zi(e){return("string"===typeof e?e:""+e).replace(Ki,"\n").replace(Hi,"")}function qi(e,t,n){if(t=zi(t),zi(e)!==t&&n)throw Error(o(425))}function $i(){}var er=null,tr=null;function nr(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ir="function"===typeof setTimeout?setTimeout:void 0,rr="function"===typeof clearTimeout?clearTimeout:void 0,or="function"===typeof Promise?Promise:void 0,ar="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof or?function(e){return or.resolve(null).then(e).catch(sr)}:ir;function sr(e){setTimeout((function(){throw e}))}function cr(e,t){var n=t,i=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===i)return e.removeChild(r),void Mt(t);i--}else"$"!==n&&"$?"!==n&&"$!"!==n||i++;n=r}while(n);Mt(t)}function lr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function dr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ur=Math.random().toString(36).slice(2),hr="__reactFiber$"+ur,Ar="__reactProps$"+ur,pr="__reactContainer$"+ur,gr="__reactEvents$"+ur,fr="__reactListeners$"+ur,mr="__reactHandles$"+ur;function Er(e){var t=e[hr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pr]||n[hr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=dr(e);null!==e;){if(n=e[hr])return n;e=dr(e)}return t}n=(e=n).parentNode}return null}function Cr(e){return!(e=e[hr]||e[pr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Ir(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function Qr(e){return e[Ar]||null}var Ur=[],yr=-1;function br(e){return{current:e}}function vr(e){0>yr||(e.current=Ur[yr],Ur[yr]=null,yr--)}function Rr(e,t){yr++,Ur[yr]=e.current,e.current=t}var Sr={},Fr=br(Sr),Br=br(!1),Tr=Sr;function Nr(e,t){var n=e.type.contextTypes;if(!n)return Sr;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var r,o={};for(r in n)o[r]=t[r];return i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function _r(e){return null!==(e=e.childContextTypes)&&void 0!==e}function wr(){vr(Br),vr(Fr)}function kr(e,t,n){if(Fr.current!==Sr)throw Error(o(168));Rr(Fr,t),Rr(Br,n)}function Dr(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,"function"!==typeof i.getChildContext)return n;for(var r in i=i.getChildContext())if(!(r in t))throw Error(o(108,L(e)||"Unknown",r));return Z({},n,i)}function Vr(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Sr,Tr=Fr.current,Rr(Fr,e),Rr(Br,Br.current),!0}function Zr(e,t,n){var i=e.stateNode;if(!i)throw Error(o(169));n?(e=Dr(e,t,Tr),i.__reactInternalMemoizedMergedChildContext=e,vr(Br),vr(Fr),Rr(Fr,e)):vr(Br),Rr(Br,n)}var Wr=null,Or=!1,Jr=!1;function xr(e){null===Wr?Wr=[e]:Wr.push(e)}function Mr(){if(!Jr&&null!==Wr){Jr=!0;var e=0,t=Ct;try{var n=Wr;for(Ct=1;e<n.length;e++){var i=n[e];do{i=i(!0)}while(null!==i)}Wr=null,Or=!1}catch(r){throw null!==Wr&&(Wr=Wr.slice(e+1)),je($e,Mr),r}finally{Ct=t,Jr=!1}}return null}var Lr=[],Pr=0,Gr=null,Yr=0,jr=[],Xr=0,Kr=null,Hr=1,zr="";function qr(e,t){Lr[Pr++]=Yr,Lr[Pr++]=Gr,Gr=e,Yr=t}function $r(e,t,n){jr[Xr++]=Hr,jr[Xr++]=zr,jr[Xr++]=Kr,Kr=e;var i=Hr;e=zr;var r=32-at(i)-1;i&=~(1<<r),n+=1;var o=32-at(t)+r;if(30<o){var a=r-r%5;o=(i&(1<<a)-1).toString(32),i>>=a,r-=a,Hr=1<<32-at(t)+r|n<<r|i,zr=o+e}else Hr=1<<o|n<<r|i,zr=e}function eo(e){null!==e.return&&(qr(e,1),$r(e,1,0))}function to(e){for(;e===Gr;)Gr=Lr[--Pr],Lr[Pr]=null,Yr=Lr[--Pr],Lr[Pr]=null;for(;e===Kr;)Kr=jr[--Xr],jr[Xr]=null,zr=jr[--Xr],jr[Xr]=null,Hr=jr[--Xr],jr[Xr]=null}var no=null,io=null,ro=!1,oo=null;function ao(e,t){var n=_l(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function so(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,io=lr(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,io=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Kr?{id:Hr,overflow:zr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=_l(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,io=null,!0);default:return!1}}function co(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function lo(e){if(ro){var t=io;if(t){var n=t;if(!so(e,t)){if(co(e))throw Error(o(418));t=lr(n.nextSibling);var i=no;t&&so(e,t)?ao(i,n):(e.flags=-4097&e.flags|2,ro=!1,no=e)}}else{if(co(e))throw Error(o(418));e.flags=-4097&e.flags|2,ro=!1,no=e}}}function uo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function ho(e){if(e!==no)return!1;if(!ro)return uo(e),ro=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!nr(e.type,e.memoizedProps)),t&&(t=io)){if(co(e))throw Ao(),Error(o(418));for(;t;)ao(e,t),t=lr(t.nextSibling)}if(uo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){io=lr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}io=null}}else io=no?lr(e.stateNode.nextSibling):null;return!0}function Ao(){for(var e=io;e;)e=lr(e.nextSibling)}function po(){io=no=null,ro=!1}function go(e){null===oo?oo=[e]:oo.push(e)}var fo=I.ReactCurrentBatchConfig;function mo(e,t){if(e&&e.defaultProps){for(var n in t=Z({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Eo=br(null),Co=null,Io=null,Qo=null;function Uo(){Qo=Io=Co=null}function yo(e){var t=Eo.current;vr(Eo),e._currentValue=t}function bo(e,t,n){for(;null!==e;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==i&&(i.childLanes|=t)):null!==i&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function vo(e,t){Co=e,Qo=Io=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Is=!0),e.firstContext=null)}function Ro(e){var t=e._currentValue;if(Qo!==e)if(e={context:e,memoizedValue:t,next:null},null===Io){if(null===Co)throw Error(o(308));Io=e,Co.dependencies={lanes:0,firstContext:e}}else Io=Io.next=e;return t}var So=null;function Fo(e){null===So?So=[e]:So.push(e)}function Bo(e,t,n,i){var r=t.interleaved;return null===r?(n.next=n,Fo(t)):(n.next=r.next,r.next=n),t.interleaved=n,To(e,i)}function To(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var No=!1;function _o(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ko(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Do(e,t,n){var i=e.updateQueue;if(null===i)return null;if(i=i.shared,0!==(2&Bc)){var r=i.pending;return null===r?t.next=t:(t.next=r.next,r.next=t),i.pending=t,To(e,n)}return null===(r=i.interleaved)?(t.next=t,Fo(i)):(t.next=r.next,r.next=t),i.interleaved=t,To(e,n)}function Vo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,Et(e,n)}}function Zo(e,t){var n=e.updateQueue,i=e.alternate;if(null!==i&&n===(i=i.updateQueue)){var r=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?r=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?r=o=t:o=o.next=t}else r=o=t;return n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:o,shared:i.shared,effects:i.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Wo(e,t,n,i){var r=e.updateQueue;No=!1;var o=r.firstBaseUpdate,a=r.lastBaseUpdate,s=r.shared.pending;if(null!==s){r.shared.pending=null;var c=s,l=c.next;c.next=null,null===a?o=l:a.next=l,a=c;var d=e.alternate;null!==d&&((s=(d=d.updateQueue).lastBaseUpdate)!==a&&(null===s?d.firstBaseUpdate=l:s.next=l,d.lastBaseUpdate=c))}if(null!==o){var u=r.baseState;for(a=0,d=l=c=null,s=o;;){var h=s.lane,A=s.eventTime;if((i&h)===h){null!==d&&(d=d.next={eventTime:A,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,g=s;switch(h=t,A=n,g.tag){case 1:if("function"===typeof(p=g.payload)){u=p.call(A,u,h);break e}u=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=g.payload)?p.call(A,u,h):p)||void 0===h)break e;u=Z({},u,h);break e;case 2:No=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=r.effects)?r.effects=[s]:h.push(s))}else A={eventTime:A,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===d?(l=d=A,c=u):d=d.next=A,a|=h;if(null===(s=s.next)){if(null===(s=r.shared.pending))break;s=(h=s).next,h.next=null,r.lastBaseUpdate=h,r.shared.pending=null}}if(null===d&&(c=u),r.baseState=c,r.firstBaseUpdate=l,r.lastBaseUpdate=d,null!==(t=r.shared.interleaved)){r=t;do{a|=r.lane,r=r.next}while(r!==t)}else null===o&&(r.shared.lanes=0);Zc|=a,e.lanes=a,e.memoizedState=u}}function Oo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var i=e[t],r=i.callback;if(null!==r){if(i.callback=null,i=n,"function"!==typeof r)throw Error(o(191,r));r.call(i)}}}var Jo=(new i.Component).refs;function xo(e,t,n,i){n=null===(n=n(i,t=e.memoizedState))||void 0===n?t:Z({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Mo={isMounted:function(e){return!!(e=e._reactInternals)&&Me(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=tl(),r=nl(e),o=ko(i,r);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Do(e,o,r))&&(il(t,e,r,i),Vo(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=tl(),r=nl(e),o=ko(i,r);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Do(e,o,r))&&(il(t,e,r,i),Vo(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tl(),i=nl(e),r=ko(n,i);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=Do(e,r,i))&&(il(t,e,i,n),Vo(t,e,i))}};function Lo(e,t,n,i,r,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(i,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!ci(n,i)||!ci(r,o))}function Po(e,t,n){var i=!1,r=Sr,o=t.contextType;return"object"===typeof o&&null!==o?o=Ro(o):(r=_r(t)?Tr:Fr.current,o=(i=null!==(i=t.contextTypes)&&void 0!==i)?Nr(e,r):Sr),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Mo,e.stateNode=t,t._reactInternals=e,i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=o),t}function Go(e,t,n,i){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,i),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&Mo.enqueueReplaceState(t,t.state,null)}function Yo(e,t,n,i){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs=Jo,_o(e);var o=t.contextType;"object"===typeof o&&null!==o?r.context=Ro(o):(o=_r(t)?Tr:Fr.current,r.context=Nr(e,o)),r.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(xo(e,t,o,n),r.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(t=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&Mo.enqueueReplaceState(r,r.state,null),Wo(e,n,r,i),r.state=e.memoizedState),"function"===typeof r.componentDidMount&&(e.flags|=4194308)}function jo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var i=n.stateNode}if(!i)throw Error(o(147,e));var r=i,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=r.refs;t===Jo&&(t=r.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Xo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ko(e){return(0,e._init)(e._payload)}function Ho(e){function t(t,n){if(e){var i=t.deletions;null===i?(t.deletions=[n],t.flags|=16):i.push(n)}}function n(n,i){if(!e)return null;for(;null!==i;)t(n,i),i=i.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t){return(e=kl(e,t)).index=0,e.sibling=null,e}function a(t,n,i){return t.index=i,e?null!==(i=t.alternate)?(i=i.index)<n?(t.flags|=2,n):i:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function c(e,t,n,i){return null===t||6!==t.tag?((t=Wl(n,e.mode,i)).return=e,t):((t=r(t,n)).return=e,t)}function l(e,t,n,i){var o=n.type;return o===y?u(e,t,n.props.children,i,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===_&&Ko(o)===t.type)?((i=r(t,n.props)).ref=jo(e,t,n),i.return=e,i):((i=Dl(n.type,n.key,n.props,null,e.mode,i)).ref=jo(e,t,n),i.return=e,i)}function d(e,t,n,i){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ol(n,e.mode,i)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function u(e,t,n,i,o){return null===t||7!==t.tag?((t=Vl(n,e.mode,i,o)).return=e,t):((t=r(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Wl(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case Q:return(n=Dl(t.type,t.key,t.props,null,e.mode,n)).ref=jo(e,null,t),n.return=e,n;case U:return(t=Ol(t,e.mode,n)).return=e,t;case _:return h(e,(0,t._init)(t._payload),n)}if(te(t)||D(t))return(t=Vl(t,e.mode,n,null)).return=e,t;Xo(e,t)}return null}function A(e,t,n,i){var r=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==r?null:c(e,t,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case Q:return n.key===r?l(e,t,n,i):null;case U:return n.key===r?d(e,t,n,i):null;case _:return A(e,t,(r=n._init)(n._payload),i)}if(te(n)||D(n))return null!==r?null:u(e,t,n,i,null);Xo(e,n)}return null}function p(e,t,n,i,r){if("string"===typeof i&&""!==i||"number"===typeof i)return c(t,e=e.get(n)||null,""+i,r);if("object"===typeof i&&null!==i){switch(i.$$typeof){case Q:return l(t,e=e.get(null===i.key?n:i.key)||null,i,r);case U:return d(t,e=e.get(null===i.key?n:i.key)||null,i,r);case _:return p(e,t,n,(0,i._init)(i._payload),r)}if(te(i)||D(i))return u(t,e=e.get(n)||null,i,r,null);Xo(t,i)}return null}function g(r,o,s,c){for(var l=null,d=null,u=o,g=o=0,f=null;null!==u&&g<s.length;g++){u.index>g?(f=u,u=null):f=u.sibling;var m=A(r,u,s[g],c);if(null===m){null===u&&(u=f);break}e&&u&&null===m.alternate&&t(r,u),o=a(m,o,g),null===d?l=m:d.sibling=m,d=m,u=f}if(g===s.length)return n(r,u),ro&&qr(r,g),l;if(null===u){for(;g<s.length;g++)null!==(u=h(r,s[g],c))&&(o=a(u,o,g),null===d?l=u:d.sibling=u,d=u);return ro&&qr(r,g),l}for(u=i(r,u);g<s.length;g++)null!==(f=p(u,r,g,s[g],c))&&(e&&null!==f.alternate&&u.delete(null===f.key?g:f.key),o=a(f,o,g),null===d?l=f:d.sibling=f,d=f);return e&&u.forEach((function(e){return t(r,e)})),ro&&qr(r,g),l}function f(r,s,c,l){var d=D(c);if("function"!==typeof d)throw Error(o(150));if(null==(c=d.call(c)))throw Error(o(151));for(var u=d=null,g=s,f=s=0,m=null,E=c.next();null!==g&&!E.done;f++,E=c.next()){g.index>f?(m=g,g=null):m=g.sibling;var C=A(r,g,E.value,l);if(null===C){null===g&&(g=m);break}e&&g&&null===C.alternate&&t(r,g),s=a(C,s,f),null===u?d=C:u.sibling=C,u=C,g=m}if(E.done)return n(r,g),ro&&qr(r,f),d;if(null===g){for(;!E.done;f++,E=c.next())null!==(E=h(r,E.value,l))&&(s=a(E,s,f),null===u?d=E:u.sibling=E,u=E);return ro&&qr(r,f),d}for(g=i(r,g);!E.done;f++,E=c.next())null!==(E=p(g,r,f,E.value,l))&&(e&&null!==E.alternate&&g.delete(null===E.key?f:E.key),s=a(E,s,f),null===u?d=E:u.sibling=E,u=E);return e&&g.forEach((function(e){return t(r,e)})),ro&&qr(r,f),d}return function e(i,o,a,c){if("object"===typeof a&&null!==a&&a.type===y&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case Q:e:{for(var l=a.key,d=o;null!==d;){if(d.key===l){if((l=a.type)===y){if(7===d.tag){n(i,d.sibling),(o=r(d,a.props.children)).return=i,i=o;break e}}else if(d.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===_&&Ko(l)===d.type){n(i,d.sibling),(o=r(d,a.props)).ref=jo(i,d,a),o.return=i,i=o;break e}n(i,d);break}t(i,d),d=d.sibling}a.type===y?((o=Vl(a.props.children,i.mode,c,a.key)).return=i,i=o):((c=Dl(a.type,a.key,a.props,null,i.mode,c)).ref=jo(i,o,a),c.return=i,i=c)}return s(i);case U:e:{for(d=a.key;null!==o;){if(o.key===d){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(i,o.sibling),(o=r(o,a.children||[])).return=i,i=o;break e}n(i,o);break}t(i,o),o=o.sibling}(o=Ol(a,i.mode,c)).return=i,i=o}return s(i);case _:return e(i,o,(d=a._init)(a._payload),c)}if(te(a))return g(i,o,a,c);if(D(a))return f(i,o,a,c);Xo(i,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(n(i,o.sibling),(o=r(o,a)).return=i,i=o):(n(i,o),(o=Wl(a,i.mode,c)).return=i,i=o),s(i)):n(i,o)}}var zo=Ho(!0),qo=Ho(!1),$o={},ea=br($o),ta=br($o),na=br($o);function ia(e){if(e===$o)throw Error(o(174));return e}function ra(e,t){switch(Rr(na,t),Rr(ta,e),Rr(ea,$o),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ce(null,"");break;default:t=ce(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}vr(ea),Rr(ea,t)}function oa(){vr(ea),vr(ta),vr(na)}function aa(e){ia(na.current);var t=ia(ea.current),n=ce(t,e.type);t!==n&&(Rr(ta,e),Rr(ea,n))}function sa(e){ta.current===e&&(vr(ea),vr(ta))}var ca=br(0);function la(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var da=[];function ua(){for(var e=0;e<da.length;e++)da[e]._workInProgressVersionPrimary=null;da.length=0}var ha=I.ReactCurrentDispatcher,Aa=I.ReactCurrentBatchConfig,pa=0,ga=null,fa=null,ma=null,Ea=!1,Ca=!1,Ia=0,Qa=0;function Ua(){throw Error(o(321))}function ya(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!si(e[n],t[n]))return!1;return!0}function ba(e,t,n,i,r,a){if(pa=a,ga=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ha.current=null===e||null===e.memoizedState?ss:cs,e=n(i,r),Ca){a=0;do{if(Ca=!1,Ia=0,25<=a)throw Error(o(301));a+=1,ma=fa=null,t.updateQueue=null,ha.current=ls,e=n(i,r)}while(Ca)}if(ha.current=as,t=null!==fa&&null!==fa.next,pa=0,ma=fa=ga=null,Ea=!1,t)throw Error(o(300));return e}function va(){var e=0!==Ia;return Ia=0,e}function Ra(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ma?ga.memoizedState=ma=e:ma=ma.next=e,ma}function Sa(){if(null===fa){var e=ga.alternate;e=null!==e?e.memoizedState:null}else e=fa.next;var t=null===ma?ga.memoizedState:ma.next;if(null!==t)ma=t,fa=e;else{if(null===e)throw Error(o(310));e={memoizedState:(fa=e).memoizedState,baseState:fa.baseState,baseQueue:fa.baseQueue,queue:fa.queue,next:null},null===ma?ga.memoizedState=ma=e:ma=ma.next=e}return ma}function Fa(e,t){return"function"===typeof t?t(e):t}function Ba(e){var t=Sa(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var i=fa,r=i.baseQueue,a=n.pending;if(null!==a){if(null!==r){var s=r.next;r.next=a.next,a.next=s}i.baseQueue=r=a,n.pending=null}if(null!==r){a=r.next,i=i.baseState;var c=s=null,l=null,d=a;do{var u=d.lane;if((pa&u)===u)null!==l&&(l=l.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),i=d.hasEagerState?d.eagerState:e(i,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===l?(c=l=h,s=i):l=l.next=h,ga.lanes|=u,Zc|=u}d=d.next}while(null!==d&&d!==a);null===l?s=i:l.next=c,si(i,t.memoizedState)||(Is=!0),t.memoizedState=i,t.baseState=s,t.baseQueue=l,n.lastRenderedState=i}if(null!==(e=n.interleaved)){r=e;do{a=r.lane,ga.lanes|=a,Zc|=a,r=r.next}while(r!==e)}else null===r&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ta(e){var t=Sa(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,a=t.memoizedState;if(null!==r){n.pending=null;var s=r=r.next;do{a=e(a,s.action),s=s.next}while(s!==r);si(a,t.memoizedState)||(Is=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,i]}function Na(){}function _a(e,t){var n=ga,i=Sa(),r=t(),a=!si(i.memoizedState,r);if(a&&(i.memoizedState=r,Is=!0),i=i.queue,Pa(Da.bind(null,n,i,e),[e]),i.getSnapshot!==t||a||null!==ma&&1&ma.memoizedState.tag){if(n.flags|=2048,Oa(9,ka.bind(null,n,i,r,t),void 0,null),null===Tc)throw Error(o(349));0!==(30&pa)||wa(n,t,r)}return r}function wa(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ga.updateQueue)?(t={lastEffect:null,stores:null},ga.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function ka(e,t,n,i){t.value=n,t.getSnapshot=i,Va(t)&&Za(e)}function Da(e,t,n){return n((function(){Va(t)&&Za(e)}))}function Va(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!si(e,n)}catch(i){return!0}}function Za(e){var t=To(e,1);null!==t&&il(t,e,1,-1)}function Wa(e){var t=Ra();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fa,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,ga,e),[t.memoizedState,e]}function Oa(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},null===(t=ga.updateQueue)?(t={lastEffect:null,stores:null},ga.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function Ja(){return Sa().memoizedState}function xa(e,t,n,i){var r=Ra();ga.flags|=e,r.memoizedState=Oa(1|t,n,void 0,void 0===i?null:i)}function Ma(e,t,n,i){var r=Sa();i=void 0===i?null:i;var o=void 0;if(null!==fa){var a=fa.memoizedState;if(o=a.destroy,null!==i&&ya(i,a.deps))return void(r.memoizedState=Oa(t,n,o,i))}ga.flags|=e,r.memoizedState=Oa(1|t,n,o,i)}function La(e,t){return xa(8390656,8,e,t)}function Pa(e,t){return Ma(2048,8,e,t)}function Ga(e,t){return Ma(4,2,e,t)}function Ya(e,t){return Ma(4,4,e,t)}function ja(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Xa(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ma(4,4,ja.bind(null,t,e),n)}function Ka(){}function Ha(e,t){var n=Sa();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&ya(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function za(e,t){var n=Sa();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&ya(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function qa(e,t,n){return 0===(21&pa)?(e.baseState&&(e.baseState=!1,Is=!0),e.memoizedState=n):(si(n,t)||(n=gt(),ga.lanes|=n,Zc|=n,e.baseState=!0),t)}function $a(e,t){var n=Ct;Ct=0!==n&&4>n?n:4,e(!0);var i=Aa.transition;Aa.transition={};try{e(!1),t()}finally{Ct=n,Aa.transition=i}}function es(){return Sa().memoizedState}function ts(e,t,n){var i=nl(e);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},is(e))rs(t,n);else if(null!==(n=Bo(e,t,n,i))){il(n,e,i,tl()),os(n,t,i)}}function ns(e,t,n){var i=nl(e),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(is(e))rs(t,r);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(r.hasEagerState=!0,r.eagerState=s,si(s,a)){var c=t.interleaved;return null===c?(r.next=r,Fo(t)):(r.next=c.next,c.next=r),void(t.interleaved=r)}}catch(l){}null!==(n=Bo(e,t,r,i))&&(il(n,e,i,r=tl()),os(n,t,i))}}function is(e){var t=e.alternate;return e===ga||null!==t&&t===ga}function rs(e,t){Ca=Ea=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function os(e,t,n){if(0!==(4194240&n)){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,Et(e,n)}}var as={readContext:Ro,useCallback:Ua,useContext:Ua,useEffect:Ua,useImperativeHandle:Ua,useInsertionEffect:Ua,useLayoutEffect:Ua,useMemo:Ua,useReducer:Ua,useRef:Ua,useState:Ua,useDebugValue:Ua,useDeferredValue:Ua,useTransition:Ua,useMutableSource:Ua,useSyncExternalStore:Ua,useId:Ua,unstable_isNewReconciler:!1},ss={readContext:Ro,useCallback:function(e,t){return Ra().memoizedState=[e,void 0===t?null:t],e},useContext:Ro,useEffect:La,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,xa(4194308,4,ja.bind(null,t,e),n)},useLayoutEffect:function(e,t){return xa(4194308,4,e,t)},useInsertionEffect:function(e,t){return xa(4,2,e,t)},useMemo:function(e,t){var n=Ra();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=Ra();return t=void 0!==n?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=ts.bind(null,ga,e),[i.memoizedState,e]},useRef:function(e){return e={current:e},Ra().memoizedState=e},useState:Wa,useDebugValue:Ka,useDeferredValue:function(e){return Ra().memoizedState=e},useTransition:function(){var e=Wa(!1),t=e[0];return e=$a.bind(null,e[1]),Ra().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=ga,r=Ra();if(ro){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Tc)throw Error(o(349));0!==(30&pa)||wa(i,t,n)}r.memoizedState=n;var a={value:n,getSnapshot:t};return r.queue=a,La(Da.bind(null,i,a,e),[e]),i.flags|=2048,Oa(9,ka.bind(null,i,a,n,t),void 0,null),n},useId:function(){var e=Ra(),t=Tc.identifierPrefix;if(ro){var n=zr;t=":"+t+"R"+(n=(Hr&~(1<<32-at(Hr)-1)).toString(32)+n),0<(n=Ia++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=Qa++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},cs={readContext:Ro,useCallback:Ha,useContext:Ro,useEffect:Pa,useImperativeHandle:Xa,useInsertionEffect:Ga,useLayoutEffect:Ya,useMemo:za,useReducer:Ba,useRef:Ja,useState:function(){return Ba(Fa)},useDebugValue:Ka,useDeferredValue:function(e){return qa(Sa(),fa.memoizedState,e)},useTransition:function(){return[Ba(Fa)[0],Sa().memoizedState]},useMutableSource:Na,useSyncExternalStore:_a,useId:es,unstable_isNewReconciler:!1},ls={readContext:Ro,useCallback:Ha,useContext:Ro,useEffect:Pa,useImperativeHandle:Xa,useInsertionEffect:Ga,useLayoutEffect:Ya,useMemo:za,useReducer:Ta,useRef:Ja,useState:function(){return Ta(Fa)},useDebugValue:Ka,useDeferredValue:function(e){var t=Sa();return null===fa?t.memoizedState=e:qa(t,fa.memoizedState,e)},useTransition:function(){return[Ta(Fa)[0],Sa().memoizedState]},useMutableSource:Na,useSyncExternalStore:_a,useId:es,unstable_isNewReconciler:!1};function ds(e,t){try{var n="",i=t;do{n+=x(i),i=i.return}while(i);var r=n}catch(o){r="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:r,digest:null}}function us(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var As="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=ko(-1,n)).tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){Gc||(Gc=!0,Yc=i),hs(0,t)},n}function gs(e,t,n){(n=ko(-1,n)).tag=3;var i=e.type.getDerivedStateFromError;if("function"===typeof i){var r=t.value;n.payload=function(){return i(r)},n.callback=function(){hs(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){hs(0,t),"function"!==typeof i&&(null===jc?jc=new Set([this]):jc.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function fs(e,t,n){var i=e.pingCache;if(null===i){i=e.pingCache=new As;var r=new Set;i.set(t,r)}else void 0===(r=i.get(t))&&(r=new Set,i.set(t,r));r.has(n)||(r.add(n),e=Rl.bind(null,e,t,n),t.then(e,e))}function ms(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function Es(e,t,n,i,r){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=ko(-1,1)).tag=2,Do(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=r,e)}var Cs=I.ReactCurrentOwner,Is=!1;function Qs(e,t,n,i){t.child=null===e?qo(t,null,n,i):zo(t,e.child,n,i)}function Us(e,t,n,i,r){n=n.render;var o=t.ref;return vo(t,r),i=ba(e,t,n,i,o,r),n=va(),null===e||Is?(ro&&n&&eo(t),t.flags|=1,Qs(e,t,i,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Gs(e,t,r))}function ys(e,t,n,i,r){if(null===e){var o=n.type;return"function"!==typeof o||wl(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Dl(n.type,null,i,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,bs(e,t,o,i,r))}if(o=e.child,0===(e.lanes&r)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:ci)(a,i)&&e.ref===t.ref)return Gs(e,t,r)}return t.flags|=1,(e=kl(o,i)).ref=t.ref,e.return=t,t.child=e}function bs(e,t,n,i,r){if(null!==e){var o=e.memoizedProps;if(ci(o,i)&&e.ref===t.ref){if(Is=!1,t.pendingProps=i=o,0===(e.lanes&r))return t.lanes=e.lanes,Gs(e,t,r);0!==(131072&e.flags)&&(Is=!0)}}return Ss(e,t,n,i,r)}function vs(e,t,n){var i=t.pendingProps,r=i.children,o=null!==e?e.memoizedState:null;if("hidden"===i.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Rr(kc,wc),wc|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Rr(kc,wc),wc|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=null!==o?o.baseLanes:n,Rr(kc,wc),wc|=i}else null!==o?(i=o.baseLanes|n,t.memoizedState=null):i=n,Rr(kc,wc),wc|=i;return Qs(e,t,r,n),t.child}function Rs(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ss(e,t,n,i,r){var o=_r(n)?Tr:Fr.current;return o=Nr(t,o),vo(t,r),n=ba(e,t,n,i,o,r),i=va(),null===e||Is?(ro&&i&&eo(t),t.flags|=1,Qs(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Gs(e,t,r))}function Fs(e,t,n,i,r){if(_r(n)){var o=!0;Vr(t)}else o=!1;if(vo(t,r),null===t.stateNode)Ps(e,t),Po(t,n,i),Yo(t,n,i,r),i=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var c=a.context,l=n.contextType;"object"===typeof l&&null!==l?l=Ro(l):l=Nr(t,l=_r(n)?Tr:Fr.current);var d=n.getDerivedStateFromProps,u="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate;u||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==i||c!==l)&&Go(t,a,i,l),No=!1;var h=t.memoizedState;a.state=h,Wo(t,i,a,r),c=t.memoizedState,s!==i||h!==c||Br.current||No?("function"===typeof d&&(xo(t,n,d,i),c=t.memoizedState),(s=No||Lo(t,n,s,i,h,c,l))?(u||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=c),a.props=i,a.state=c,a.context=l,i=s):("function"===typeof a.componentDidMount&&(t.flags|=4194308),i=!1)}else{a=t.stateNode,wo(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:mo(t.type,s),a.props=l,u=t.pendingProps,h=a.context,"object"===typeof(c=n.contextType)&&null!==c?c=Ro(c):c=Nr(t,c=_r(n)?Tr:Fr.current);var A=n.getDerivedStateFromProps;(d="function"===typeof A||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==u||h!==c)&&Go(t,a,i,c),No=!1,h=t.memoizedState,a.state=h,Wo(t,i,a,r);var p=t.memoizedState;s!==u||h!==p||Br.current||No?("function"===typeof A&&(xo(t,n,A,i),p=t.memoizedState),(l=No||Lo(t,n,l,i,h,p,c)||!1)?(d||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(i,p,c),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(i,p,c)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=p),a.props=i,a.state=p,a.context=c,i=l):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),i=!1)}return Bs(e,t,n,i,o,r)}function Bs(e,t,n,i,r,o){Rs(e,t);var a=0!==(128&t.flags);if(!i&&!a)return r&&Zr(t,n,!1),Gs(e,t,o);i=t.stateNode,Cs.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:i.render();return t.flags|=1,null!==e&&a?(t.child=zo(t,e.child,null,o),t.child=zo(t,null,s,o)):Qs(e,t,s,o),t.memoizedState=i.state,r&&Zr(t,n,!0),t.child}function Ts(e){var t=e.stateNode;t.pendingContext?kr(0,t.pendingContext,t.pendingContext!==t.context):t.context&&kr(0,t.context,!1),ra(e,t.containerInfo)}function Ns(e,t,n,i,r){return po(),go(r),t.flags|=256,Qs(e,t,n,i),t.child}var _s,ws,ks,Ds,Vs={dehydrated:null,treeContext:null,retryLane:0};function Zs(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ws(e,t,n){var i,r=t.pendingProps,a=ca.current,s=!1,c=0!==(128&t.flags);if((i=c)||(i=(null===e||null!==e.memoizedState)&&0!==(2&a)),i?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Rr(ca,1&a),null===e)return lo(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(c=r.children,e=r.fallback,s?(r=t.mode,s=t.child,c={mode:"hidden",children:c},0===(1&r)&&null!==s?(s.childLanes=0,s.pendingProps=c):s=Zl(c,r,0,null),e=Vl(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Zs(n),t.memoizedState=Vs,e):Os(t,c));if(null!==(a=e.memoizedState)&&null!==(i=a.dehydrated))return function(e,t,n,i,r,a,s){if(n)return 256&t.flags?(t.flags&=-257,Js(e,t,s,i=us(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=i.fallback,r=t.mode,i=Zl({mode:"visible",children:i.children},r,0,null),(a=Vl(a,r,s,null)).flags|=2,i.return=t,a.return=t,i.sibling=a,t.child=i,0!==(1&t.mode)&&zo(t,e.child,null,s),t.child.memoizedState=Zs(s),t.memoizedState=Vs,a);if(0===(1&t.mode))return Js(e,t,s,null);if("$!"===r.data){if(i=r.nextSibling&&r.nextSibling.dataset)var c=i.dgst;return i=c,Js(e,t,s,i=us(a=Error(o(419)),i,void 0))}if(c=0!==(s&e.childLanes),Is||c){if(null!==(i=Tc)){switch(s&-s){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}0!==(r=0!==(r&(i.suspendedLanes|s))?0:r)&&r!==a.retryLane&&(a.retryLane=r,To(e,r),il(i,e,r,-1))}return fl(),Js(e,t,s,i=us(Error(o(421))))}return"$?"===r.data?(t.flags|=128,t.child=e.child,t=Fl.bind(null,e),r._reactRetry=t,null):(e=a.treeContext,io=lr(r.nextSibling),no=t,ro=!0,oo=null,null!==e&&(jr[Xr++]=Hr,jr[Xr++]=zr,jr[Xr++]=Kr,Hr=e.id,zr=e.overflow,Kr=t),t=Os(t,i.children),t.flags|=4096,t)}(e,t,c,r,i,a,n);if(s){s=r.fallback,c=t.mode,i=(a=e.child).sibling;var l={mode:"hidden",children:r.children};return 0===(1&c)&&t.child!==a?((r=t.child).childLanes=0,r.pendingProps=l,t.deletions=null):(r=kl(a,l)).subtreeFlags=14680064&a.subtreeFlags,null!==i?s=kl(i,s):(s=Vl(s,c,n,null)).flags|=2,s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,c=null===(c=e.child.memoizedState)?Zs(n):{baseLanes:c.baseLanes|n,cachePool:null,transitions:c.transitions},s.memoizedState=c,s.childLanes=e.childLanes&~n,t.memoizedState=Vs,r}return e=(s=e.child).sibling,r=kl(s,{mode:"visible",children:r.children}),0===(1&t.mode)&&(r.lanes=n),r.return=t,r.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Os(e,t){return(t=Zl({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Js(e,t,n,i){return null!==i&&go(i),zo(t,e.child,null,n),(e=Os(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function xs(e,t,n){e.lanes|=t;var i=e.alternate;null!==i&&(i.lanes|=t),bo(e.return,t,n)}function Ms(e,t,n,i,r){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=n,o.tailMode=r)}function Ls(e,t,n){var i=t.pendingProps,r=i.revealOrder,o=i.tail;if(Qs(e,t,i.children,n),0!==(2&(i=ca.current)))i=1&i|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&xs(e,n,t);else if(19===e.tag)xs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(Rr(ca,i),0===(1&t.mode))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===la(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Ms(t,!1,r,n,o);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===la(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Ms(t,!0,n,null,o);break;case"together":Ms(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ps(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Gs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Zc|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=kl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=kl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ys(e,t){if(!ro)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?t||null===e.tail?e.tail=null:e.tail.sibling=null:i.sibling=null}}function js(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,i=0;if(t)for(var r=e.child;null!==r;)n|=r.lanes|r.childLanes,i|=14680064&r.subtreeFlags,i|=14680064&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function Xs(e,t,n){var i=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return js(t),null;case 1:case 17:return _r(t.type)&&wr(),js(t),null;case 3:return i=t.stateNode,oa(),vr(Br),vr(Fr),ua(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),null!==e&&null!==e.child||(ho(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(sl(oo),oo=null))),ws(e,t),js(t),null;case 5:sa(t);var r=ia(na.current);if(n=t.type,null!==e&&null!=t.stateNode)ks(e,t,n,i,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(null===t.stateNode)throw Error(o(166));return js(t),null}if(e=ia(ea.current),ho(t)){i=t.stateNode,n=t.type;var a=t.memoizedProps;switch(i[hr]=t,i[Ar]=a,e=0!==(1&t.mode),n){case"dialog":Oi("cancel",i),Oi("close",i);break;case"iframe":case"object":case"embed":Oi("load",i);break;case"video":case"audio":for(r=0;r<Di.length;r++)Oi(Di[r],i);break;case"source":Oi("error",i);break;case"img":case"image":case"link":Oi("error",i),Oi("load",i);break;case"details":Oi("toggle",i);break;case"input":H(i,a),Oi("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!a.multiple},Oi("invalid",i);break;case"textarea":re(i,a),Oi("invalid",i)}for(var c in Ee(n,a),r=null,a)if(a.hasOwnProperty(c)){var l=a[c];"children"===c?"string"===typeof l?i.textContent!==l&&(!0!==a.suppressHydrationWarning&&qi(i.textContent,l,e),r=["children",l]):"number"===typeof l&&i.textContent!==""+l&&(!0!==a.suppressHydrationWarning&&qi(i.textContent,l,e),r=["children",""+l]):s.hasOwnProperty(c)&&null!=l&&"onScroll"===c&&Oi("scroll",i)}switch(n){case"input":Y(i),$(i,a,!0);break;case"textarea":Y(i),ae(i);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(i.onclick=$i)}i=r,t.updateQueue=i,null!==i&&(t.flags|=4)}else{c=9===r.nodeType?r:r.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof i.is?e=c.createElement(n,{is:i.is}):(e=c.createElement(n),"select"===n&&(c=e,i.multiple?c.multiple=!0:i.size&&(c.size=i.size))):e=c.createElementNS(e,n),e[hr]=t,e[Ar]=i,_s(e,t,!1,!1),t.stateNode=e;e:{switch(c=Ce(n,i),n){case"dialog":Oi("cancel",e),Oi("close",e),r=i;break;case"iframe":case"object":case"embed":Oi("load",e),r=i;break;case"video":case"audio":for(r=0;r<Di.length;r++)Oi(Di[r],e);r=i;break;case"source":Oi("error",e),r=i;break;case"img":case"image":case"link":Oi("error",e),Oi("load",e),r=i;break;case"details":Oi("toggle",e),r=i;break;case"input":H(e,i),r=K(e,i),Oi("invalid",e);break;case"option":default:r=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},r=Z({},i,{value:void 0}),Oi("invalid",e);break;case"textarea":re(e,i),r=ie(e,i),Oi("invalid",e)}for(a in Ee(n,r),l=r)if(l.hasOwnProperty(a)){var d=l[a];"style"===a?fe(e,d):"dangerouslySetInnerHTML"===a?null!=(d=d?d.__html:void 0)&&ue(e,d):"children"===a?"string"===typeof d?("textarea"!==n||""!==d)&&he(e,d):"number"===typeof d&&he(e,""+d):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=d&&"onScroll"===a&&Oi("scroll",e):null!=d&&C(e,a,d,c))}switch(n){case"input":Y(e),$(e,i,!1);break;case"textarea":Y(e),ae(e);break;case"option":null!=i.value&&e.setAttribute("value",""+P(i.value));break;case"select":e.multiple=!!i.multiple,null!=(a=i.value)?ne(e,!!i.multiple,a,!1):null!=i.defaultValue&&ne(e,!!i.multiple,i.defaultValue,!0);break;default:"function"===typeof r.onClick&&(e.onclick=$i)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return js(t),null;case 6:if(e&&null!=t.stateNode)Ds(e,t,e.memoizedProps,i);else{if("string"!==typeof i&&null===t.stateNode)throw Error(o(166));if(n=ia(na.current),ia(ea.current),ho(t)){if(i=t.stateNode,n=t.memoizedProps,i[hr]=t,(a=i.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:qi(i.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&qi(i.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(i=(9===n.nodeType?n:n.ownerDocument).createTextNode(i))[hr]=t,t.stateNode=i}return js(t),null;case 13:if(vr(ca),i=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ro&&null!==io&&0!==(1&t.mode)&&0===(128&t.flags))Ao(),po(),t.flags|=98560,a=!1;else if(a=ho(t),null!==i&&null!==i.dehydrated){if(null===e){if(!a)throw Error(o(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(o(317));a[hr]=t}else po(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;js(t),a=!1}else null!==oo&&(sl(oo),oo=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((i=null!==i)!==(null!==e&&null!==e.memoizedState)&&i&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ca.current)?0===Dc&&(Dc=3):fl())),null!==t.updateQueue&&(t.flags|=4),js(t),null);case 4:return oa(),ws(e,t),null===e&&Mi(t.stateNode.containerInfo),js(t),null;case 10:return yo(t.type._context),js(t),null;case 19:if(vr(ca),null===(a=t.memoizedState))return js(t),null;if(i=0!==(128&t.flags),null===(c=a.rendering))if(i)Ys(a,!1);else{if(0!==Dc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(c=la(e))){for(t.flags|=128,Ys(a,!1),null!==(i=c.updateQueue)&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;null!==n;)e=i,(a=n).flags&=14680066,null===(c=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,e=c.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Rr(ca,1&ca.current|2),t.child}e=e.sibling}null!==a.tail&&ze()>Lc&&(t.flags|=128,i=!0,Ys(a,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=la(c))){if(t.flags|=128,i=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ys(a,!0),null===a.tail&&"hidden"===a.tailMode&&!c.alternate&&!ro)return js(t),null}else 2*ze()-a.renderingStartTime>Lc&&1073741824!==n&&(t.flags|=128,i=!0,Ys(a,!1),t.lanes=4194304);a.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=a.last)?n.sibling=c:t.child=c,a.last=c)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=ze(),t.sibling=null,n=ca.current,Rr(ca,i?1&n|2:1&n),t):(js(t),null);case 22:case 23:return hl(),i=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==i&&(t.flags|=8192),i&&0!==(1&t.mode)?0!==(1073741824&wc)&&(js(t),6&t.subtreeFlags&&(t.flags|=8192)):js(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Ks(e,t){switch(to(t),t.tag){case 1:return _r(t.type)&&wr(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return oa(),vr(Br),vr(Fr),ua(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return sa(t),null;case 13:if(vr(ca),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return vr(ca),null;case 4:return oa(),null;case 10:return yo(t.type._context),null;case 22:case 23:return hl(),null;default:return null}}_s=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},ws=function(){},ks=function(e,t,n,i){var r=e.memoizedProps;if(r!==i){e=t.stateNode,ia(ea.current);var o,a=null;switch(n){case"input":r=K(e,r),i=K(e,i),a=[];break;case"select":r=Z({},r,{value:void 0}),i=Z({},i,{value:void 0}),a=[];break;case"textarea":r=ie(e,r),i=ie(e,i),a=[];break;default:"function"!==typeof r.onClick&&"function"===typeof i.onClick&&(e.onclick=$i)}for(d in Ee(n,i),n=null,r)if(!i.hasOwnProperty(d)&&r.hasOwnProperty(d)&&null!=r[d])if("style"===d){var c=r[d];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(s.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in i){var l=i[d];if(c=null!=r?r[d]:void 0,i.hasOwnProperty(d)&&l!==c&&(null!=l||null!=c))if("style"===d)if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(a||(a=[]),a.push(d,n)),n=l;else"dangerouslySetInnerHTML"===d?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(a=a||[]).push(d,l)):"children"===d?"string"!==typeof l&&"number"!==typeof l||(a=a||[]).push(d,""+l):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(s.hasOwnProperty(d)?(null!=l&&"onScroll"===d&&Oi("scroll",e),a||c===l||(a=[])):(a=a||[]).push(d,l))}n&&(a=a||[]).push("style",n);var d=a;(t.updateQueue=d)&&(t.flags|=4)}},Ds=function(e,t,n,i){n!==i&&(t.flags|=4)};var Hs=!1,zs=!1,qs="function"===typeof WeakSet?WeakSet:Set,$s=null;function ec(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(i){vl(e,t,i)}else n.current=null}function tc(e,t,n){try{n()}catch(i){vl(e,t,i)}}var nc=!1;function ic(e,t,n){var i=t.updateQueue;if(null!==(i=null!==i?i.lastEffect:null)){var r=i=i.next;do{if((r.tag&e)===e){var o=r.destroy;r.destroy=void 0,void 0!==o&&tc(t,n,o)}r=r.next}while(r!==i)}}function rc(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function oc(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ac(e){var t=e.alternate;null!==t&&(e.alternate=null,ac(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hr],delete t[Ar],delete t[gr],delete t[fr],delete t[mr])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sc(e){return 5===e.tag||3===e.tag||4===e.tag}function cc(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function lc(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$i));else if(4!==i&&null!==(e=e.child))for(lc(e,t,n),e=e.sibling;null!==e;)lc(e,t,n),e=e.sibling}function dc(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==i&&null!==(e=e.child))for(dc(e,t,n),e=e.sibling;null!==e;)dc(e,t,n),e=e.sibling}var uc=null,hc=!1;function Ac(e,t,n){for(n=n.child;null!==n;)pc(e,t,n),n=n.sibling}function pc(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(rt,n)}catch(s){}switch(n.tag){case 5:zs||ec(n,t);case 6:var i=uc,r=hc;uc=null,Ac(e,t,n),hc=r,null!==(uc=i)&&(hc?(e=uc,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):uc.removeChild(n.stateNode));break;case 18:null!==uc&&(hc?(e=uc,n=n.stateNode,8===e.nodeType?cr(e.parentNode,n):1===e.nodeType&&cr(e,n),Mt(e)):cr(uc,n.stateNode));break;case 4:i=uc,r=hc,uc=n.stateNode.containerInfo,hc=!0,Ac(e,t,n),uc=i,hc=r;break;case 0:case 11:case 14:case 15:if(!zs&&(null!==(i=n.updateQueue)&&null!==(i=i.lastEffect))){r=i=i.next;do{var o=r,a=o.destroy;o=o.tag,void 0!==a&&(0!==(2&o)||0!==(4&o))&&tc(n,t,a),r=r.next}while(r!==i)}Ac(e,t,n);break;case 1:if(!zs&&(ec(n,t),"function"===typeof(i=n.stateNode).componentWillUnmount))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(s){vl(n,t,s)}Ac(e,t,n);break;case 21:Ac(e,t,n);break;case 22:1&n.mode?(zs=(i=zs)||null!==n.memoizedState,Ac(e,t,n),zs=i):Ac(e,t,n);break;default:Ac(e,t,n)}}function gc(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new qs),t.forEach((function(t){var i=Bl.bind(null,e,t);n.has(t)||(n.add(t),t.then(i,i))}))}}function fc(e,t){var n=t.deletions;if(null!==n)for(var i=0;i<n.length;i++){var r=n[i];try{var a=e,s=t,c=s;e:for(;null!==c;){switch(c.tag){case 5:uc=c.stateNode,hc=!1;break e;case 3:case 4:uc=c.stateNode.containerInfo,hc=!0;break e}c=c.return}if(null===uc)throw Error(o(160));pc(a,s,r),uc=null,hc=!1;var l=r.alternate;null!==l&&(l.return=null),r.return=null}catch(d){vl(r,t,d)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)mc(t,e),t=t.sibling}function mc(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(fc(t,e),Ec(e),4&i){try{ic(3,e,e.return),rc(3,e)}catch(f){vl(e,e.return,f)}try{ic(5,e,e.return)}catch(f){vl(e,e.return,f)}}break;case 1:fc(t,e),Ec(e),512&i&&null!==n&&ec(n,n.return);break;case 5:if(fc(t,e),Ec(e),512&i&&null!==n&&ec(n,n.return),32&e.flags){var r=e.stateNode;try{he(r,"")}catch(f){vl(e,e.return,f)}}if(4&i&&null!=(r=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,c=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===c&&"radio"===a.type&&null!=a.name&&z(r,a),Ce(c,s);var d=Ce(c,a);for(s=0;s<l.length;s+=2){var u=l[s],h=l[s+1];"style"===u?fe(r,h):"dangerouslySetInnerHTML"===u?ue(r,h):"children"===u?he(r,h):C(r,u,h,d)}switch(c){case"input":q(r,a);break;case"textarea":oe(r,a);break;case"select":var A=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(r,!!a.multiple,p,!1):A!==!!a.multiple&&(null!=a.defaultValue?ne(r,!!a.multiple,a.defaultValue,!0):ne(r,!!a.multiple,a.multiple?[]:"",!1))}r[Ar]=a}catch(f){vl(e,e.return,f)}}break;case 6:if(fc(t,e),Ec(e),4&i){if(null===e.stateNode)throw Error(o(162));r=e.stateNode,a=e.memoizedProps;try{r.nodeValue=a}catch(f){vl(e,e.return,f)}}break;case 3:if(fc(t,e),Ec(e),4&i&&null!==n&&n.memoizedState.isDehydrated)try{Mt(t.containerInfo)}catch(f){vl(e,e.return,f)}break;case 4:default:fc(t,e),Ec(e);break;case 13:fc(t,e),Ec(e),8192&(r=e.child).flags&&(a=null!==r.memoizedState,r.stateNode.isHidden=a,!a||null!==r.alternate&&null!==r.alternate.memoizedState||(Mc=ze())),4&i&&gc(e);break;case 22:if(u=null!==n&&null!==n.memoizedState,1&e.mode?(zs=(d=zs)||u,fc(t,e),zs=d):fc(t,e),Ec(e),8192&i){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!u&&0!==(1&e.mode))for($s=e,u=e.child;null!==u;){for(h=$s=u;null!==$s;){switch(p=(A=$s).child,A.tag){case 0:case 11:case 14:case 15:ic(4,A,A.return);break;case 1:ec(A,A.return);var g=A.stateNode;if("function"===typeof g.componentWillUnmount){i=A,n=A.return;try{t=i,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(f){vl(i,n,f)}}break;case 5:ec(A,A.return);break;case 22:if(null!==A.memoizedState){Uc(h);continue}}null!==p?(p.return=A,$s=p):Uc(h)}u=u.sibling}e:for(u=null,h=e;;){if(5===h.tag){if(null===u){u=h;try{r=h.stateNode,d?"function"===typeof(a=r.style).setProperty?a.setProperty("display","none","important"):a.display="none":(c=h.stateNode,s=void 0!==(l=h.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null,c.style.display=ge("display",s))}catch(f){vl(e,e.return,f)}}}else if(6===h.tag){if(null===u)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(f){vl(e,e.return,f)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:fc(t,e),Ec(e),4&i&&gc(e);case 21:}}function Ec(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sc(n)){var i=n;break e}n=n.return}throw Error(o(160))}switch(i.tag){case 5:var r=i.stateNode;32&i.flags&&(he(r,""),i.flags&=-33),dc(e,cc(e),r);break;case 3:case 4:var a=i.stateNode.containerInfo;lc(e,cc(e),a);break;default:throw Error(o(161))}}catch(s){vl(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Cc(e,t,n){$s=e,Ic(e,t,n)}function Ic(e,t,n){for(var i=0!==(1&e.mode);null!==$s;){var r=$s,o=r.child;if(22===r.tag&&i){var a=null!==r.memoizedState||Hs;if(!a){var s=r.alternate,c=null!==s&&null!==s.memoizedState||zs;s=Hs;var l=zs;if(Hs=a,(zs=c)&&!l)for($s=r;null!==$s;)c=(a=$s).child,22===a.tag&&null!==a.memoizedState?yc(r):null!==c?(c.return=a,$s=c):yc(r);for(;null!==o;)$s=o,Ic(o,t,n),o=o.sibling;$s=r,Hs=s,zs=l}Qc(e)}else 0!==(8772&r.subtreeFlags)&&null!==o?(o.return=r,$s=o):Qc(e)}}function Qc(e){for(;null!==$s;){var t=$s;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:zs||rc(5,t);break;case 1:var i=t.stateNode;if(4&t.flags&&!zs)if(null===n)i.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:mo(t.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Oo(t,a,i);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Oo(t,s,n)}break;case 5:var c=t.stateNode;if(null===n&&4&t.flags){n=c;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var d=t.alternate;if(null!==d){var u=d.memoizedState;if(null!==u){var h=u.dehydrated;null!==h&&Mt(h)}}}break;default:throw Error(o(163))}zs||512&t.flags&&oc(t)}catch(A){vl(t,t.return,A)}}if(t===e){$s=null;break}if(null!==(n=t.sibling)){n.return=t.return,$s=n;break}$s=t.return}}function Uc(e){for(;null!==$s;){var t=$s;if(t===e){$s=null;break}var n=t.sibling;if(null!==n){n.return=t.return,$s=n;break}$s=t.return}}function yc(e){for(;null!==$s;){var t=$s;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rc(4,t)}catch(c){vl(t,n,c)}break;case 1:var i=t.stateNode;if("function"===typeof i.componentDidMount){var r=t.return;try{i.componentDidMount()}catch(c){vl(t,r,c)}}var o=t.return;try{oc(t)}catch(c){vl(t,o,c)}break;case 5:var a=t.return;try{oc(t)}catch(c){vl(t,a,c)}}}catch(c){vl(t,t.return,c)}if(t===e){$s=null;break}var s=t.sibling;if(null!==s){s.return=t.return,$s=s;break}$s=t.return}}var bc,vc=Math.ceil,Rc=I.ReactCurrentDispatcher,Sc=I.ReactCurrentOwner,Fc=I.ReactCurrentBatchConfig,Bc=0,Tc=null,Nc=null,_c=0,wc=0,kc=br(0),Dc=0,Vc=null,Zc=0,Wc=0,Oc=0,Jc=null,xc=null,Mc=0,Lc=1/0,Pc=null,Gc=!1,Yc=null,jc=null,Xc=!1,Kc=null,Hc=0,zc=0,qc=null,$c=-1,el=0;function tl(){return 0!==(6&Bc)?ze():-1!==$c?$c:$c=ze()}function nl(e){return 0===(1&e.mode)?1:0!==(2&Bc)&&0!==_c?_c&-_c:null!==fo.transition?(0===el&&(el=gt()),el):0!==(e=Ct)?e:e=void 0===(e=window.event)?16:Ht(e.type)}function il(e,t,n,i){if(50<zc)throw zc=0,qc=null,Error(o(185));mt(e,n,i),0!==(2&Bc)&&e===Tc||(e===Tc&&(0===(2&Bc)&&(Wc|=n),4===Dc&&cl(e,_c)),rl(e,i),1===n&&0===Bc&&0===(1&t.mode)&&(Lc=ze()+500,Or&&Mr()))}function rl(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,r=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-at(o),s=1<<a,c=r[a];-1===c?0!==(s&n)&&0===(s&i)||(r[a]=At(s,t)):c<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var i=ht(e,e===Tc?_c:0);if(0===i)null!==n&&Xe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(null!=n&&Xe(n),1===t)0===e.tag?function(e){Or=!0,xr(e)}(ll.bind(null,e)):xr(ll.bind(null,e)),ar((function(){0===(6&Bc)&&Mr()})),n=null;else{switch(It(i)){case 1:n=$e;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=it}n=Tl(n,ol.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ol(e,t){if($c=-1,el=0,0!==(6&Bc))throw Error(o(327));var n=e.callbackNode;if(yl()&&e.callbackNode!==n)return null;var i=ht(e,e===Tc?_c:0);if(0===i)return null;if(0!==(30&i)||0!==(i&e.expiredLanes)||t)t=ml(e,i);else{t=i;var r=Bc;Bc|=2;var a=gl();for(Tc===e&&_c===t||(Pc=null,Lc=ze()+500,Al(e,t));;)try{Cl();break}catch(c){pl(e,c)}Uo(),Rc.current=a,Bc=r,null!==Nc?t=0:(Tc=null,_c=0,t=Dc)}if(0!==t){if(2===t&&(0!==(r=pt(e))&&(i=r,t=al(e,r))),1===t)throw n=Vc,Al(e,0),cl(e,i),rl(e,ze()),n;if(6===t)cl(e,i);else{if(r=e.current.alternate,0===(30&i)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var i=0;i<n.length;i++){var r=n[i],o=r.getSnapshot;r=r.value;try{if(!si(o(),r))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(r)&&(2===(t=ml(e,i))&&(0!==(a=pt(e))&&(i=a,t=al(e,a))),1===t))throw n=Vc,Al(e,0),cl(e,i),rl(e,ze()),n;switch(e.finishedWork=r,e.finishedLanes=i,t){case 0:case 1:throw Error(o(345));case 2:case 5:Ul(e,xc,Pc);break;case 3:if(cl(e,i),(130023424&i)===i&&10<(t=Mc+500-ze())){if(0!==ht(e,0))break;if(((r=e.suspendedLanes)&i)!==i){tl(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=ir(Ul.bind(null,e,xc,Pc),t);break}Ul(e,xc,Pc);break;case 4:if(cl(e,i),(4194240&i)===i)break;for(t=e.eventTimes,r=-1;0<i;){var s=31-at(i);a=1<<s,(s=t[s])>r&&(r=s),i&=~a}if(i=r,10<(i=(120>(i=ze()-i)?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*vc(i/1960))-i)){e.timeoutHandle=ir(Ul.bind(null,e,xc,Pc),i);break}Ul(e,xc,Pc);break;default:throw Error(o(329))}}}return rl(e,ze()),e.callbackNode===n?ol.bind(null,e):null}function al(e,t){var n=Jc;return e.current.memoizedState.isDehydrated&&(Al(e,t).flags|=256),2!==(e=ml(e,t))&&(t=xc,xc=n,null!==t&&sl(t)),e}function sl(e){null===xc?xc=e:xc.push.apply(xc,e)}function cl(e,t){for(t&=~Oc,t&=~Wc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),i=1<<n;e[n]=-1,t&=~i}}function ll(e){if(0!==(6&Bc))throw Error(o(327));yl();var t=ht(e,0);if(0===(1&t))return rl(e,ze()),null;var n=ml(e,t);if(0!==e.tag&&2===n){var i=pt(e);0!==i&&(t=i,n=al(e,i))}if(1===n)throw n=Vc,Al(e,0),cl(e,t),rl(e,ze()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ul(e,xc,Pc),rl(e,ze()),null}function dl(e,t){var n=Bc;Bc|=1;try{return e(t)}finally{0===(Bc=n)&&(Lc=ze()+500,Or&&Mr())}}function ul(e){null!==Kc&&0===Kc.tag&&0===(6&Bc)&&yl();var t=Bc;Bc|=1;var n=Fc.transition,i=Ct;try{if(Fc.transition=null,Ct=1,e)return e()}finally{Ct=i,Fc.transition=n,0===(6&(Bc=t))&&Mr()}}function hl(){wc=kc.current,vr(kc)}function Al(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,rr(n)),null!==Nc)for(n=Nc.return;null!==n;){var i=n;switch(to(i),i.tag){case 1:null!==(i=i.type.childContextTypes)&&void 0!==i&&wr();break;case 3:oa(),vr(Br),vr(Fr),ua();break;case 5:sa(i);break;case 4:oa();break;case 13:case 19:vr(ca);break;case 10:yo(i.type._context);break;case 22:case 23:hl()}n=n.return}if(Tc=e,Nc=e=kl(e.current,null),_c=wc=t,Dc=0,Vc=null,Oc=Wc=Zc=0,xc=Jc=null,null!==So){for(t=0;t<So.length;t++)if(null!==(i=(n=So[t]).interleaved)){n.interleaved=null;var r=i.next,o=n.pending;if(null!==o){var a=o.next;o.next=r,i.next=a}n.pending=i}So=null}return e}function pl(e,t){for(;;){var n=Nc;try{if(Uo(),ha.current=as,Ea){for(var i=ga.memoizedState;null!==i;){var r=i.queue;null!==r&&(r.pending=null),i=i.next}Ea=!1}if(pa=0,ma=fa=ga=null,Ca=!1,Ia=0,Sc.current=null,null===n||null===n.return){Dc=1,Vc=t,Nc=null;break}e:{var a=e,s=n.return,c=n,l=t;if(t=_c,c.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var d=l,u=c,h=u.tag;if(0===(1&u.mode)&&(0===h||11===h||15===h)){var A=u.alternate;A?(u.updateQueue=A.updateQueue,u.memoizedState=A.memoizedState,u.lanes=A.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=ms(s);if(null!==p){p.flags&=-257,Es(p,s,c,0,t),1&p.mode&&fs(a,d,t),l=d;var g=(t=p).updateQueue;if(null===g){var f=new Set;f.add(l),t.updateQueue=f}else g.add(l);break e}if(0===(1&t)){fs(a,d,t),fl();break e}l=Error(o(426))}else if(ro&&1&c.mode){var m=ms(s);if(null!==m){0===(65536&m.flags)&&(m.flags|=256),Es(m,s,c,0,t),go(ds(l,c));break e}}a=l=ds(l,c),4!==Dc&&(Dc=2),null===Jc?Jc=[a]:Jc.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Zo(a,ps(0,l,t));break e;case 1:c=l;var E=a.type,C=a.stateNode;if(0===(128&a.flags)&&("function"===typeof E.getDerivedStateFromError||null!==C&&"function"===typeof C.componentDidCatch&&(null===jc||!jc.has(C)))){a.flags|=65536,t&=-t,a.lanes|=t,Zo(a,gs(a,c,t));break e}}a=a.return}while(null!==a)}Ql(n)}catch(I){t=I,Nc===n&&null!==n&&(Nc=n=n.return);continue}break}}function gl(){var e=Rc.current;return Rc.current=as,null===e?as:e}function fl(){0!==Dc&&3!==Dc&&2!==Dc||(Dc=4),null===Tc||0===(268435455&Zc)&&0===(268435455&Wc)||cl(Tc,_c)}function ml(e,t){var n=Bc;Bc|=2;var i=gl();for(Tc===e&&_c===t||(Pc=null,Al(e,t));;)try{El();break}catch(r){pl(e,r)}if(Uo(),Bc=n,Rc.current=i,null!==Nc)throw Error(o(261));return Tc=null,_c=0,Dc}function El(){for(;null!==Nc;)Il(Nc)}function Cl(){for(;null!==Nc&&!Ke();)Il(Nc)}function Il(e){var t=bc(e.alternate,e,wc);e.memoizedProps=e.pendingProps,null===t?Ql(e):Nc=t,Sc.current=null}function Ql(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Xs(n,t,wc)))return void(Nc=n)}else{if(null!==(n=Ks(n,t)))return n.flags&=32767,void(Nc=n);if(null===e)return Dc=6,void(Nc=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Nc=t);Nc=t=e}while(null!==t);0===Dc&&(Dc=5)}function Ul(e,t,n){var i=Ct,r=Fc.transition;try{Fc.transition=null,Ct=1,function(e,t,n,i){do{yl()}while(null!==Kc);if(0!==(6&Bc))throw Error(o(327));n=e.finishedWork;var r=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-at(n),o=1<<r;t[r]=0,i[r]=-1,e[r]=-1,n&=~o}}(e,a),e===Tc&&(Nc=Tc=null,_c=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Xc||(Xc=!0,Tl(tt,(function(){return yl(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Fc.transition,Fc.transition=null;var s=Ct;Ct=1;var c=Bc;Bc|=4,Sc.current=null,function(e,t){if(er=Pt,Ai(e=hi())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var i=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(i&&0!==i.rangeCount){n=i.anchorNode;var r=i.anchorOffset,a=i.focusNode;i=i.focusOffset;try{n.nodeType,a.nodeType}catch(Q){n=null;break e}var s=0,c=-1,l=-1,d=0,u=0,h=e,A=null;t:for(;;){for(var p;h!==n||0!==r&&3!==h.nodeType||(c=s+r),h!==a||0!==i&&3!==h.nodeType||(l=s+i),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)A=h,h=p;for(;;){if(h===e)break t;if(A===n&&++d===r&&(c=s),A===a&&++u===i&&(l=s),null!==(p=h.nextSibling))break;A=(h=A).parentNode}h=p}n=-1===c||-1===l?null:{start:c,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(tr={focusedElem:e,selectionRange:n},Pt=!1,$s=t;null!==$s;)if(e=(t=$s).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,$s=e;else for(;null!==$s;){t=$s;try{var g=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var f=g.memoizedProps,m=g.memoizedState,E=t.stateNode,C=E.getSnapshotBeforeUpdate(t.elementType===t.type?f:mo(t.type,f),m);E.__reactInternalSnapshotBeforeUpdate=C}break;case 3:var I=t.stateNode.containerInfo;1===I.nodeType?I.textContent="":9===I.nodeType&&I.documentElement&&I.removeChild(I.documentElement);break;default:throw Error(o(163))}}catch(Q){vl(t,t.return,Q)}if(null!==(e=t.sibling)){e.return=t.return,$s=e;break}$s=t.return}g=nc,nc=!1}(e,n),mc(n,e),pi(tr),Pt=!!er,tr=er=null,e.current=n,Cc(n,e,r),He(),Bc=c,Ct=s,Fc.transition=a}else e.current=n;if(Xc&&(Xc=!1,Kc=e,Hc=r),a=e.pendingLanes,0===a&&(jc=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(rt,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rl(e,ze()),null!==t)for(i=e.onRecoverableError,n=0;n<t.length;n++)r=t[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(Gc)throw Gc=!1,e=Yc,Yc=null,e;0!==(1&Hc)&&0!==e.tag&&yl(),a=e.pendingLanes,0!==(1&a)?e===qc?zc++:(zc=0,qc=e):zc=0,Mr()}(e,t,n,i)}finally{Fc.transition=r,Ct=i}return null}function yl(){if(null!==Kc){var e=It(Hc),t=Fc.transition,n=Ct;try{if(Fc.transition=null,Ct=16>e?16:e,null===Kc)var i=!1;else{if(e=Kc,Kc=null,Hc=0,0!==(6&Bc))throw Error(o(331));var r=Bc;for(Bc|=4,$s=e.current;null!==$s;){var a=$s,s=a.child;if(0!==(16&$s.flags)){var c=a.deletions;if(null!==c){for(var l=0;l<c.length;l++){var d=c[l];for($s=d;null!==$s;){var u=$s;switch(u.tag){case 0:case 11:case 15:ic(8,u,a)}var h=u.child;if(null!==h)h.return=u,$s=h;else for(;null!==$s;){var A=(u=$s).sibling,p=u.return;if(ac(u),u===d){$s=null;break}if(null!==A){A.return=p,$s=A;break}$s=p}}}var g=a.alternate;if(null!==g){var f=g.child;if(null!==f){g.child=null;do{var m=f.sibling;f.sibling=null,f=m}while(null!==f)}}$s=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,$s=s;else e:for(;null!==$s;){if(0!==(2048&(a=$s).flags))switch(a.tag){case 0:case 11:case 15:ic(9,a,a.return)}var E=a.sibling;if(null!==E){E.return=a.return,$s=E;break e}$s=a.return}}var C=e.current;for($s=C;null!==$s;){var I=(s=$s).child;if(0!==(2064&s.subtreeFlags)&&null!==I)I.return=s,$s=I;else e:for(s=C;null!==$s;){if(0!==(2048&(c=$s).flags))try{switch(c.tag){case 0:case 11:case 15:rc(9,c)}}catch(U){vl(c,c.return,U)}if(c===s){$s=null;break e}var Q=c.sibling;if(null!==Q){Q.return=c.return,$s=Q;break e}$s=c.return}}if(Bc=r,Mr(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(rt,e)}catch(U){}i=!0}return i}finally{Ct=n,Fc.transition=t}}return!1}function bl(e,t,n){e=Do(e,t=ps(0,t=ds(n,t),1),1),t=tl(),null!==e&&(mt(e,1,t),rl(e,t))}function vl(e,t,n){if(3===e.tag)bl(e,e,n);else for(;null!==t;){if(3===t.tag){bl(t,e,n);break}if(1===t.tag){var i=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof i.componentDidCatch&&(null===jc||!jc.has(i))){t=Do(t,e=gs(t,e=ds(n,e),1),1),e=tl(),null!==t&&(mt(t,1,e),rl(t,e));break}}t=t.return}}function Rl(e,t,n){var i=e.pingCache;null!==i&&i.delete(t),t=tl(),e.pingedLanes|=e.suspendedLanes&n,Tc===e&&(_c&n)===n&&(4===Dc||3===Dc&&(130023424&_c)===_c&&500>ze()-Mc?Al(e,0):Oc|=n),rl(e,t)}function Sl(e,t){0===t&&(0===(1&e.mode)?t=1:(t=dt,0===(130023424&(dt<<=1))&&(dt=4194304)));var n=tl();null!==(e=To(e,t))&&(mt(e,t,n),rl(e,n))}function Fl(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Sl(e,n)}function Bl(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,r=e.memoizedState;null!==r&&(n=r.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(o(314))}null!==i&&i.delete(t),Sl(e,n)}function Tl(e,t){return je(e,t)}function Nl(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _l(e,t,n,i){return new Nl(e,t,n,i)}function wl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function kl(e,t){var n=e.alternate;return null===n?((n=_l(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Dl(e,t,n,i,r,a){var s=2;if(i=e,"function"===typeof e)wl(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case y:return Vl(n.children,r,a,t);case b:s=8,r|=8;break;case v:return(e=_l(12,n,t,2|r)).elementType=v,e.lanes=a,e;case B:return(e=_l(13,n,t,r)).elementType=B,e.lanes=a,e;case T:return(e=_l(19,n,t,r)).elementType=T,e.lanes=a,e;case w:return Zl(n,r,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case R:s=10;break e;case S:s=9;break e;case F:s=11;break e;case N:s=14;break e;case _:s=16,i=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=_l(s,n,t,r)).elementType=e,t.type=i,t.lanes=a,t}function Vl(e,t,n,i){return(e=_l(7,e,i,t)).lanes=n,e}function Zl(e,t,n,i){return(e=_l(22,e,i,t)).elementType=w,e.lanes=n,e.stateNode={isHidden:!1},e}function Wl(e,t,n){return(e=_l(6,e,null,t)).lanes=n,e}function Ol(e,t,n){return(t=_l(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Jl(e,t,n,i,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ft(0),this.expirationTimes=ft(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ft(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function xl(e,t,n,i,r,o,a,s,c){return e=new Jl(e,t,n,s,c),1===t?(t=1,!0===o&&(t|=8)):t=0,o=_l(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},_o(o),e}function Ml(e){if(!e)return Sr;e:{if(Me(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(_r(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(_r(n))return Dr(e,n,t)}return t}function Ll(e,t,n,i,r,o,a,s,c){return(e=xl(n,i,!0,e,0,o,0,s,c)).context=Ml(null),n=e.current,(o=ko(i=tl(),r=nl(n))).callback=void 0!==t&&null!==t?t:null,Do(n,o,r),e.current.lanes=r,mt(e,r,i),rl(e,i),e}function Pl(e,t,n,i){var r=t.current,o=tl(),a=nl(r);return n=Ml(n),null===t.context?t.context=n:t.pendingContext=n,(t=ko(o,a)).payload={element:e},null!==(i=void 0===i?null:i)&&(t.callback=i),null!==(e=Do(r,t,a))&&(il(e,r,a,o),Vo(e,r,a)),a}function Gl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Yl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function jl(e,t){Yl(e,t),(e=e.alternate)&&Yl(e,t)}bc=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Br.current)Is=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return Is=!1,function(e,t,n){switch(t.tag){case 3:Ts(t),po();break;case 5:aa(t);break;case 1:_r(t.type)&&Vr(t);break;case 4:ra(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,r=t.memoizedProps.value;Rr(Eo,i._currentValue),i._currentValue=r;break;case 13:if(null!==(i=t.memoizedState))return null!==i.dehydrated?(Rr(ca,1&ca.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ws(e,t,n):(Rr(ca,1&ca.current),null!==(e=Gs(e,t,n))?e.sibling:null);Rr(ca,1&ca.current);break;case 19:if(i=0!==(n&t.childLanes),0!==(128&e.flags)){if(i)return Ls(e,t,n);t.flags|=128}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),Rr(ca,ca.current),i)break;return null;case 22:case 23:return t.lanes=0,vs(e,t,n)}return Gs(e,t,n)}(e,t,n);Is=0!==(131072&e.flags)}else Is=!1,ro&&0!==(1048576&t.flags)&&$r(t,Yr,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;Ps(e,t),e=t.pendingProps;var r=Nr(t,Fr.current);vo(t,n),r=ba(null,t,i,e,r,n);var a=va();return t.flags|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,_r(i)?(a=!0,Vr(t)):a=!1,t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,_o(t),r.updater=Mo,t.stateNode=r,r._reactInternals=t,Yo(t,i,e,n),t=Bs(null,t,i,!0,a,n)):(t.tag=0,ro&&a&&eo(t),Qs(null,t,r,n),t=t.child),t;case 16:i=t.elementType;e:{switch(Ps(e,t),e=t.pendingProps,i=(r=i._init)(i._payload),t.type=i,r=t.tag=function(e){if("function"===typeof e)return wl(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===F)return 11;if(e===N)return 14}return 2}(i),e=mo(i,e),r){case 0:t=Ss(null,t,i,e,n);break e;case 1:t=Fs(null,t,i,e,n);break e;case 11:t=Us(null,t,i,e,n);break e;case 14:t=ys(null,t,i,mo(i.type,e),n);break e}throw Error(o(306,i,""))}return t;case 0:return i=t.type,r=t.pendingProps,Ss(e,t,i,r=t.elementType===i?r:mo(i,r),n);case 1:return i=t.type,r=t.pendingProps,Fs(e,t,i,r=t.elementType===i?r:mo(i,r),n);case 3:e:{if(Ts(t),null===e)throw Error(o(387));i=t.pendingProps,r=(a=t.memoizedState).element,wo(e,t),Wo(t,i,null,n);var s=t.memoizedState;if(i=s.element,a.isDehydrated){if(a={element:i,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Ns(e,t,i,n,r=ds(Error(o(423)),t));break e}if(i!==r){t=Ns(e,t,i,n,r=ds(Error(o(424)),t));break e}for(io=lr(t.stateNode.containerInfo.firstChild),no=t,ro=!0,oo=null,n=qo(t,null,i,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),i===r){t=Gs(e,t,n);break e}Qs(e,t,i,n)}t=t.child}return t;case 5:return aa(t),null===e&&lo(t),i=t.type,r=t.pendingProps,a=null!==e?e.memoizedProps:null,s=r.children,nr(i,r)?s=null:null!==a&&nr(i,a)&&(t.flags|=32),Rs(e,t),Qs(e,t,s,n),t.child;case 6:return null===e&&lo(t),null;case 13:return Ws(e,t,n);case 4:return ra(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=zo(t,null,i,n):Qs(e,t,i,n),t.child;case 11:return i=t.type,r=t.pendingProps,Us(e,t,i,r=t.elementType===i?r:mo(i,r),n);case 7:return Qs(e,t,t.pendingProps,n),t.child;case 8:case 12:return Qs(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,r=t.pendingProps,a=t.memoizedProps,s=r.value,Rr(Eo,i._currentValue),i._currentValue=s,null!==a)if(si(a.value,s)){if(a.children===r.children&&!Br.current){t=Gs(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var c=a.dependencies;if(null!==c){s=a.child;for(var l=c.firstContext;null!==l;){if(l.context===i){if(1===a.tag){(l=ko(-1,n&-n)).tag=2;var d=a.updateQueue;if(null!==d){var u=(d=d.shared).pending;null===u?l.next=l:(l.next=u.next,u.next=l),d.pending=l}}a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),bo(a.return,n,t),c.lanes|=n;break}l=l.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),bo(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}Qs(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,i=t.pendingProps.children,vo(t,n),i=i(r=Ro(r)),t.flags|=1,Qs(e,t,i,n),t.child;case 14:return r=mo(i=t.type,t.pendingProps),ys(e,t,i,r=mo(i.type,r),n);case 15:return bs(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:mo(i,r),Ps(e,t),t.tag=1,_r(i)?(e=!0,Vr(t)):e=!1,vo(t,n),Po(t,i,r),Yo(t,i,r,n),Bs(null,t,i,!0,e,n);case 19:return Ls(e,t,n);case 22:return vs(e,t,n)}throw Error(o(156,t.tag))};var Xl="function"===typeof reportError?reportError:function(e){console.error(e)};function Kl(e){this._internalRoot=e}function Hl(e){this._internalRoot=e}function zl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function ql(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function $l(){}function ed(e,t,n,i,r){var o=n._reactRootContainer;if(o){var a=o;if("function"===typeof r){var s=r;r=function(){var e=Gl(a);s.call(e)}}Pl(t,a,e,r)}else a=function(e,t,n,i,r){if(r){if("function"===typeof i){var o=i;i=function(){var e=Gl(a);o.call(e)}}var a=Ll(t,i,e,0,null,!1,0,"",$l);return e._reactRootContainer=a,e[pr]=a.current,Mi(8===e.nodeType?e.parentNode:e),ul(),a}for(;r=e.lastChild;)e.removeChild(r);if("function"===typeof i){var s=i;i=function(){var e=Gl(c);s.call(e)}}var c=xl(e,0,!1,null,0,!1,0,"",$l);return e._reactRootContainer=c,e[pr]=c.current,Mi(8===e.nodeType?e.parentNode:e),ul((function(){Pl(t,c,n,i)})),c}(n,t,e,r,i);return Gl(a)}Hl.prototype.render=Kl.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Pl(e,t,null,null)},Hl.prototype.unmount=Kl.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;ul((function(){Pl(null,e,null,null)})),t[pr]=null}},Hl.prototype.unstable_scheduleHydration=function(e){if(e){var t=bt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<wt.length&&0!==t&&t<wt[n].priority;n++);wt.splice(n,0,e),0===n&&Zt(e)}},Qt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ut(t.pendingLanes);0!==n&&(Et(t,1|n),rl(t,ze()),0===(6&Bc)&&(Lc=ze()+500,Mr()))}break;case 13:ul((function(){var t=To(e,1);if(null!==t){var n=tl();il(t,e,1,n)}})),jl(e,1)}},Ut=function(e){if(13===e.tag){var t=To(e,134217728);if(null!==t)il(t,e,134217728,tl());jl(e,134217728)}},yt=function(e){if(13===e.tag){var t=nl(e),n=To(e,t);if(null!==n)il(n,e,t,tl());jl(e,t)}},bt=function(){return Ct},vt=function(e,t){var n=Ct;try{return Ct=e,t()}finally{Ct=n}},Ue=function(e,t,n){switch(t){case"input":if(q(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=Qr(i);if(!r)throw Error(o(90));j(i),q(i,r)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Fe=dl,Be=ul;var td={usingClientEntryPoint:!1,Events:[Cr,Ir,Qr,Re,Se,dl]},nd={findFiberByHostInstance:Er,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},id={bundleType:nd.bundleType,version:nd.version,rendererPackageName:nd.rendererPackageName,rendererConfig:nd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:I.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:nd.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rd.isDisabled&&rd.supportsFiber)try{rt=rd.inject(id),ot=rd}catch(de){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=td,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!zl(t))throw Error(o(200));return function(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:U,key:null==i?null:""+i,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!zl(e))throw Error(o(299));var n=!1,i="",r=Xl;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(i=t.identifierPrefix),void 0!==t.onRecoverableError&&(r=t.onRecoverableError)),t=xl(e,1,!1,null,0,n,0,i,r),e[pr]=t.current,Mi(8===e.nodeType?e.parentNode:e),new Kl(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return ul(e)},t.hydrate=function(e,t,n){if(!ql(t))throw Error(o(200));return ed(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!zl(e))throw Error(o(405));var i=null!=n&&n.hydratedSources||null,r=!1,a="",s=Xl;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Ll(t,null,e,1,null!=n?n:null,r,0,a,s),e[pr]=t.current,Mi(e),i)for(e=0;e<i.length;e++)r=(r=(n=i[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new Hl(t)},t.render=function(e,t,n){if(!ql(t))throw Error(o(200));return ed(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ql(e))throw Error(o(40));return!!e._reactRootContainer&&(ul((function(){ed(null,null,e,!1,(function(){e._reactRootContainer=null,e[pr]=null}))})),!0)},t.unstable_batchedUpdates=dl,t.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!ql(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return ed(e,t,n,!1,i)},t.version="18.2.0-next-9e3b772b8-20220608"},1250:(e,t,n)=>{"use strict";var i=n(4164);t.createRoot=i.createRoot,t.hydrateRoot=i.hydrateRoot},4164:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},5655:function(e,t){"use strict";var n,i,r,o=this&&this.__awaiter||function(e,t,n,i){return new(n=n||Promise)((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):((t=e.value)instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))},a=this&&this.__rest||function(e,t){var n={};for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};Object.defineProperty(t,"__esModule",{value:!0}),t.fromLatLng=t.fromPlaceId=t.fromAddress=t.geocode=t.enableAddressDescriptor=t.setOutputFormat=t.setLocationType=t.setResultType=t.setBounds=t.setComponents=t.setRegion=t.setLanguage=t.setKey=t.setDefaults=t.OutputFormat=t.RequestType=void 0,(r=n=t.RequestType||(t.RequestType={})).ADDRESS="address",r.LATLNG="latlng",r.PLACE_ID="place_id",function(e){e.XML="xml",e.JSON="json"}(i=t.OutputFormat||(t.OutputFormat={}));const s="https://maps.googleapis.com/maps/api/geocode";let c={outputFormat:i.JSON};function l(e,t,n){if("string"!=typeof e||"string"!=typeof t)throw new Error("Both requestType and value are required and must be of type string. \n       requestType: ".concat(typeof e,", value: ")+typeof t);return function(e){return o(this,void 0,void 0,(function*(){var t=e.outputFormat,n=a(e,["outputFormat"]);n=new URLSearchParams(n).toString(),t=s+"/".concat(t,"?")+n;try{var i=yield(yield fetch(t)).json(),{status:r,error_message:o}=i;if("OK"===r)return i;throw new Error("Geocoding failed: ".concat(o,". Server returned status code ").concat(r,"."))}catch(t){if(t instanceof Error)throw new Error("Geocoding request failed: "+t.message);throw new Error("Geocoding request failed with unknown error: "+t)}}))}(Object.assign(Object.assign(Object.assign({},c),n),{[e]:t}))}t.setDefaults=function(e){c=Object.assign(Object.assign({},c),e)},t.setKey=function(e){c.key=e},t.setLanguage=function(e){c.language=e},t.setRegion=function(e){c.region=e},t.setComponents=function(e){c.components=e},t.setBounds=function(e){c.bounds=e},t.setResultType=function(e){c.result_type=e},t.setLocationType=function(e){c.location_type=e},t.setOutputFormat=function(e){c.outputFormat=e},t.enableAddressDescriptor=function(e){c.enable_address_descriptor=e},t.geocode=l,t.fromAddress=function(e,t,r,o){var a={outputFormat:i.JSON};return t&&(a.key=t),r&&(a.language=r),o&&(a.region=o),l(n.ADDRESS,e,a)},t.fromPlaceId=function(e,t,r,o){var a={outputFormat:i.JSON};return t&&(a.key=t),r&&(a.language=r),o&&(a.region=o),l(n.PLACE_ID,e,a)},t.fromLatLng=function(e,t,r,o,a,s){var c={outputFormat:i.JSON};return r&&(c.key=r),o&&(c.language=o),a&&(c.region=a),s&&(c.location_type=s),l(n.LATLNG,e+","+t,c)}},8459:(e,t)=>{"use strict";var n,i=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),l=Symbol.for("react.context"),d=Symbol.for("react.server_context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),f=Symbol.for("react.offscreen");function m(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case o:case s:case a:case h:case A:return e;default:switch(e=e&&e.$$typeof){case d:case l:case u:case g:case p:case c:return e;default:return t}}case r:return t}}}n=Symbol.for("react.module.reference")},6900:(e,t,n)=>{"use strict";n(8459)},6374:(e,t,n)=>{"use strict";var i=n(2791),r=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var i,o={},l=null,d=null;for(i in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(d=t.ref),t)a.call(t,i)&&!c.hasOwnProperty(i)&&(o[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps)void 0===o[i]&&(o[i]=t[i]);return{$$typeof:r,type:e,key:l,ref:d,props:o,_owner:s.current}}t.Fragment=o,t.jsx=l,t.jsxs=l},9117:(e,t)=>{"use strict";var n=Symbol.for("react.element"),i=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),A=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,f={};function m(e,t,n){this.props=e,this.context=t,this.refs=f,this.updater=n||p}function E(){}function C(e,t,n){this.props=e,this.context=t,this.refs=f,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},E.prototype=m.prototype;var I=C.prototype=new E;I.constructor=C,g(I,m.prototype),I.isPureReactComponent=!0;var Q=Array.isArray,U=Object.prototype.hasOwnProperty,y={current:null},b={key:!0,ref:!0,__self:!0,__source:!0};function v(e,t,i){var r,o={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)U.call(t,r)&&!b.hasOwnProperty(r)&&(o[r]=t[r]);var c=arguments.length-2;if(1===c)o.children=i;else if(1<c){for(var l=Array(c),d=0;d<c;d++)l[d]=arguments[d+2];o.children=l}if(e&&e.defaultProps)for(r in c=e.defaultProps)void 0===o[r]&&(o[r]=c[r]);return{$$typeof:n,type:e,key:a,ref:s,props:o,_owner:y.current}}function R(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var S=/\/+/g;function F(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function B(e,t,r,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var c=!1;if(null===e)c=!0;else switch(s){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case n:case i:c=!0}}if(c)return a=a(c=e),e=""===o?"."+F(c,0):o,Q(a)?(r="",null!=e&&(r=e.replace(S,"$&/")+"/"),B(a,t,r,"",(function(e){return e}))):null!=a&&(R(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,r+(!a.key||c&&c.key===a.key?"":(""+a.key).replace(S,"$&/")+"/")+e)),t.push(a)),1;if(c=0,o=""===o?".":o+":",Q(e))for(var l=0;l<e.length;l++){var d=o+F(s=e[l],l);c+=B(s,t,r,d,a)}else if(d=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=A&&e[A]||e["@@iterator"])?e:null}(e),"function"===typeof d)for(e=d.call(e),l=0;!(s=e.next()).done;)c+=B(s=s.value,t,r,d=o+F(s,l++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return c}function T(e,t,n){if(null==e)return e;var i=[],r=0;return B(e,i,"","",(function(e){return t.call(n,e,r++)})),i}function N(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var _={current:null},w={transition:null},k={ReactCurrentDispatcher:_,ReactCurrentBatchConfig:w,ReactCurrentOwner:y};t.Children={map:T,forEach:function(e,t,n){T(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return T(e,(function(){t++})),t},toArray:function(e){return T(e,(function(e){return e}))||[]},only:function(e){if(!R(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=m,t.Fragment=r,t.Profiler=a,t.PureComponent=C,t.StrictMode=o,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=k,t.cloneElement=function(e,t,i){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=g({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=y.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)U.call(t,l)&&!b.hasOwnProperty(l)&&(r[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)r.children=i;else if(1<l){c=Array(l);for(var d=0;d<l;d++)c[d]=arguments[d+2];r.children=c}return{$$typeof:n,type:e.type,key:o,ref:a,props:r,_owner:s}},t.createContext=function(e){return(e={$$typeof:c,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=v,t.createFactory=function(e){var t=v.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=R,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=w.transition;w.transition={};try{e()}finally{w.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return _.current.useCallback(e,t)},t.useContext=function(e){return _.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return _.current.useDeferredValue(e)},t.useEffect=function(e,t){return _.current.useEffect(e,t)},t.useId=function(){return _.current.useId()},t.useImperativeHandle=function(e,t,n){return _.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return _.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return _.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return _.current.useMemo(e,t)},t.useReducer=function(e,t,n){return _.current.useReducer(e,t,n)},t.useRef=function(e){return _.current.useRef(e)},t.useState=function(e){return _.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return _.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return _.current.useTransition()},t.version="18.2.0"},2791:(e,t,n)=>{"use strict";e.exports=n(9117)},184:(e,t,n)=>{"use strict";e.exports=n(6374)},6813:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var i=n-1>>>1,r=e[i];if(!(0<o(r,t)))break e;e[i]=t,e[n]=r,n=i}}function i(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var i=0,r=e.length,a=r>>>1;i<a;){var s=2*(i+1)-1,c=e[s],l=s+1,d=e[l];if(0>o(c,n))l<r&&0>o(d,c)?(e[i]=d,e[l]=n,i=l):(e[i]=c,e[s]=n,i=s);else{if(!(l<r&&0>o(d,n)))break e;e[i]=d,e[l]=n,i=l}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,c=s.now();t.unstable_now=function(){return s.now()-c}}var l=[],d=[],u=1,h=null,A=3,p=!1,g=!1,f=!1,m="function"===typeof setTimeout?setTimeout:null,E="function"===typeof clearTimeout?clearTimeout:null,C="undefined"!==typeof setImmediate?setImmediate:null;function I(e){for(var t=i(d);null!==t;){if(null===t.callback)r(d);else{if(!(t.startTime<=e))break;r(d),t.sortIndex=t.expirationTime,n(l,t)}t=i(d)}}function Q(e){if(f=!1,I(e),!g)if(null!==i(l))g=!0,w(U);else{var t=i(d);null!==t&&k(Q,t.startTime-e)}}function U(e,n){g=!1,f&&(f=!1,E(R),R=-1),p=!0;var o=A;try{for(I(n),h=i(l);null!==h&&(!(h.expirationTime>n)||e&&!B());){var a=h.callback;if("function"===typeof a){h.callback=null,A=h.priorityLevel;var s=a(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===i(l)&&r(l),I(n)}else r(l);h=i(l)}if(null!==h)var c=!0;else{var u=i(d);null!==u&&k(Q,u.startTime-n),c=!1}return c}finally{h=null,A=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var y,b=!1,v=null,R=-1,S=5,F=-1;function B(){return!(t.unstable_now()-F<S)}function T(){if(null!==v){var e=t.unstable_now();F=e;var n=!0;try{n=v(!0,e)}finally{n?y():(b=!1,v=null)}}else b=!1}if("function"===typeof C)y=function(){C(T)};else if("undefined"!==typeof MessageChannel){var N=new MessageChannel,_=N.port2;N.port1.onmessage=T,y=function(){_.postMessage(null)}}else y=function(){m(T,0)};function w(e){v=e,b||(b=!0,y())}function k(e,n){R=m((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,w(U))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return A},t.unstable_getFirstCallbackNode=function(){return i(l)},t.unstable_next=function(e){switch(A){case 1:case 2:case 3:var t=3;break;default:t=A}var n=A;A=t;try{return e()}finally{A=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=A;A=e;try{return t()}finally{A=n}},t.unstable_scheduleCallback=function(e,r,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:u++,callback:r,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,n(d,e),null===i(l)&&e===i(d)&&(f?(E(R),R=-1):f=!0,k(Q,o-a))):(e.sortIndex=s,n(l,e),g||p||(g=!0,w(U))),e},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(e){var t=A;return function(){var n=A;A=t;try{return e.apply(this,arguments)}finally{A=n}}}},5296:(e,t,n)=>{"use strict";e.exports=n(6813)},3457:e=>{"use strict";var t;t=function(){var e={},t={};return e.on=function(e,n){var i={name:e,handler:n};return t[e]=t[e]||[],t[e].unshift(i),i},e.off=function(e){var n=t[e.name].indexOf(e);-1!==n&&t[e.name].splice(n,1)},e.trigger=function(e,n){var i,r=t[e];if(r)for(i=r.length;i--;)r[i].handler(n)},e},e.exports=t},2458:e=>{e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],i=0;i<e.rangeCount;i++)n.push(e.getRangeAt(i));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||n.forEach((function(t){e.addRange(t)})),t&&t.focus()}}},1561:(e,t,n)=>{"use strict";var i=n(2791);var r="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=i.useState,a=i.useEffect,s=i.useLayoutEffect,c=i.useDebugValue;function l(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!r(e,n)}catch(i){return!0}}var d="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),i=o({inst:{value:n,getSnapshot:t}}),r=i[0].inst,d=i[1];return s((function(){r.value=n,r.getSnapshot=t,l(r)&&d({inst:r})}),[e,n,t]),a((function(){return l(r)&&d({inst:r}),e((function(){l(r)&&d({inst:r})}))}),[e]),c(n),n};t.useSyncExternalStore=void 0!==i.useSyncExternalStore?i.useSyncExternalStore:d},7595:(e,t,n)=>{"use strict";var i=n(2791),r=n(7248);var o="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=r.useSyncExternalStore,s=i.useRef,c=i.useEffect,l=i.useMemo,d=i.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,i,r){var u=s(null);if(null===u.current){var h={hasValue:!1,value:null};u.current=h}else h=u.current;u=l((function(){function e(e){if(!c){if(c=!0,a=e,e=i(e),void 0!==r&&h.hasValue){var t=h.value;if(r(t,e))return s=t}return s=e}if(t=s,o(a,e))return t;var n=i(e);return void 0!==r&&r(t,n)?t:(a=e,s=n)}var a,s,c=!1,l=void 0===n?null:n;return[function(){return e(t())},null===l?void 0:function(){return e(l())}]}),[t,n,i,r]);var A=a(e,u[0],u[1]);return c((function(){h.hasValue=!0,h.value=A}),[A]),d(A),A}},7248:(e,t,n)=>{"use strict";e.exports=n(1561)},327:(e,t,n)=>{"use strict";e.exports=n(7595)},6364:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(5439),o=(i=r)&&i.__esModule?i:{default:i};t.default={pauseVideo:{acceptableStates:[o.default.ENDED,o.default.PAUSED],stateChangeRequired:!1},playVideo:{acceptableStates:[o.default.ENDED,o.default.PLAYING],stateChangeRequired:!1},seekTo:{acceptableStates:[o.default.ENDED,o.default.PLAYING,o.default.PAUSED],stateChangeRequired:!0,timeout:3e3}},e.exports=t.default},1698:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(2788)),r=s(n(5506)),o=s(n(626)),a=s(n(6364));function s(e){return e&&e.__esModule?e:{default:e}}var c=(0,i.default)("youtube-player"),l={proxyEvents:function(e){var t={},n=function(n){var i="on"+n.slice(0,1).toUpperCase()+n.slice(1);t[i]=function(t){c('event "%s"',i,t),e.trigger(n,t)}},i=!0,r=!1,a=void 0;try{for(var s,l=o.default[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){n(s.value)}}catch(d){r=!0,a=d}finally{try{!i&&l.return&&l.return()}finally{if(r)throw a}}return t},promisifyPlayer:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={},i=function(i){t&&a.default[i]?n[i]=function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.then((function(e){var t=a.default[i],r=e.getPlayerState(),o=e[i].apply(e,n);return t.stateChangeRequired||Array.isArray(t.acceptableStates)&&-1===t.acceptableStates.indexOf(r)?new Promise((function(n){e.addEventListener("onStateChange",(function i(){var r=e.getPlayerState(),o=void 0;"number"===typeof t.timeout&&(o=setTimeout((function(){e.removeEventListener("onStateChange",i),n()}),t.timeout)),Array.isArray(t.acceptableStates)&&-1!==t.acceptableStates.indexOf(r)&&(e.removeEventListener("onStateChange",i),clearTimeout(o),n())}))})).then((function(){return o})):o}))}:n[i]=function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.then((function(e){return e[i].apply(e,n)}))}},o=!0,s=!1,c=void 0;try{for(var l,d=r.default[Symbol.iterator]();!(o=(l=d.next()).done);o=!0){i(l.value)}}catch(u){s=!0,c=u}finally{try{!o&&d.return&&d.return()}finally{if(s)throw c}}return n}};t.default=l,e.exports=t.default},5439:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={BUFFERING:3,ENDED:0,PAUSED:2,PLAYING:1,UNSTARTED:-1,VIDEO_CUED:5},e.exports=t.default},626:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["ready","stateChange","playbackQualityChange","playbackRateChange","error","apiChange","volumeChange"],e.exports=t.default},5506:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["cueVideoById","loadVideoById","cueVideoByUrl","loadVideoByUrl","playVideo","pauseVideo","stopVideo","getVideoLoadedFraction","cuePlaylist","loadPlaylist","nextVideo","previousVideo","playVideoAt","setShuffle","setLoop","getPlaylist","getPlaylistIndex","setOption","mute","unMute","isMuted","setVolume","getVolume","seekTo","getPlayerState","getPlaybackRate","setPlaybackRate","getAvailablePlaybackRates","getPlaybackQuality","setPlaybackQuality","getAvailableQualityLevels","getCurrentTime","getDuration","removeEventListener","getVideoUrl","getVideoEmbedCode","getOptions","getOption","addEventListener","destroy","setSize","getIframe"],e.exports=t.default},6071:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=s(n(3457)),o=s(n(1642)),a=s(n(1698));function s(e){return e&&e.__esModule?e:{default:e}}var c=void 0;t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=(0,r.default)();if(c||(c=(0,o.default)(s)),t.events)throw new Error("Event handlers cannot be overwritten.");if("string"===typeof e&&!document.getElementById(e))throw new Error('Element "'+e+'" does not exist.');t.events=a.default.proxyEvents(s);var l=new Promise((function(n){"object"===("undefined"===typeof e?"undefined":i(e))&&e.playVideo instanceof Function?n(e):c.then((function(i){var r=new i.Player(e,t);return s.on("ready",(function(){n(r)})),null}))})),d=a.default.promisifyPlayer(l,n);return d.on=s.on,d.off=s.off,d},e.exports=t.default},1642:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(5102),o=(i=r)&&i.__esModule?i:{default:i};t.default=function(e){return new Promise((function(t){if(window.YT&&window.YT.Player&&window.YT.Player instanceof Function)t(window.YT);else{var n="http:"===window.location.protocol?"http:":"https:";(0,o.default)(n+"//www.youtube.com/iframe_api",(function(t){t&&e.trigger("error",t)}));var i=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=function(){i&&i(),t(window.YT)}}}))},e.exports=t.default},2788:(e,t,n)=>{function i(){var e;try{e=t.storage.debug}catch(n){}return!e&&"undefined"!==typeof process&&"env"in process&&(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_BACKEND_URL:"http://43.205.115.65",REACT_APP_ID:"336c606941cf4da1b930952b954b846b",REACT_APP_URL:"http://localhost:3000"}.DEBUG),e}(t=e.exports=n(3572)).log=function(){return"object"===typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),!n)return;var i="color: "+this.color;e.splice(1,0,i,"color: inherit");var r=0,o=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(r++,"%c"===e&&(o=r))})),e.splice(o,0,i)},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(n){}},t.load=i,t.useColors=function(){if("undefined"!==typeof window&&window.process&&"renderer"===window.process.type)return!0;return"undefined"!==typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!==typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},t.enable(i())},3572:(e,t,n)=>{var i;function r(e){function n(){if(n.enabled){var e=n,r=+new Date,o=r-(i||r);e.diff=o,e.prev=i,e.curr=r,i=r;for(var a=new Array(arguments.length),s=0;s<a.length;s++)a[s]=arguments[s];a[0]=t.coerce(a[0]),"string"!==typeof a[0]&&a.unshift("%O");var c=0;a[0]=a[0].replace(/%([a-zA-Z%])/g,(function(n,i){if("%%"===n)return n;c++;var r=t.formatters[i];if("function"===typeof r){var o=a[c];n=r.call(e,o),a.splice(c,1),c--}return n})),t.formatArgs.call(e,a),(n.log||t.log||console.log.bind(console)).apply(e,a)}}return n.namespace=e,n.enabled=t.enabled(e),n.useColors=t.useColors(),n.color=function(e){var n,i=0;for(n in e)i=(i<<5)-i+e.charCodeAt(n),i|=0;return t.colors[Math.abs(i)%t.colors.length]}(e),"function"===typeof t.init&&t.init(n),n}(t=e.exports=r.debug=r.default=r).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){t.save(e),t.names=[],t.skips=[];for(var n=("string"===typeof e?e:"").split(/[\s,]+/),i=n.length,r=0;r<i;r++)n[r]&&("-"===(e=n[r].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){var n,i;for(n=0,i=t.skips.length;n<i;n++)if(t.skips[n].test(e))return!1;for(n=0,i=t.names.length;n<i;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(9426),t.names=[],t.skips=[],t.formatters={}},9426:e=>{var t=1e3,n=60*t,i=60*n,r=24*i,o=365.25*r;function a(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}e.exports=function(e,s){s=s||{};var c,l=typeof e;if("string"===l&&e.length>0)return function(e){if((e=String(e)).length>100)return;var a=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!a)return;var s=parseFloat(a[1]);switch((a[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return s*o;case"days":case"day":case"d":return s*r;case"hours":case"hour":case"hrs":case"hr":case"h":return s*i;case"minutes":case"minute":case"mins":case"min":case"m":return s*n;case"seconds":case"second":case"secs":case"sec":case"s":return s*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}(e);if("number"===l&&!1===isNaN(e))return s.long?a(c=e,r,"day")||a(c,i,"hour")||a(c,n,"minute")||a(c,t,"second")||c+" ms":function(e){if(e>=r)return Math.round(e/r)+"d";if(e>=i)return Math.round(e/i)+"h";if(e>=n)return Math.round(e/n)+"m";if(e>=t)return Math.round(e/t)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var o=t[i]={exports:{}};return e[i].call(o.exports,o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(i,r){if(1&r&&(i=this(i)),8&r)return i;if("object"===typeof i&&i){if(4&r&&i.__esModule)return i;if(16&r&&"function"===typeof i.then)return i}var o=Object.create(null);n.r(o);var a={};e=e||[null,t({}),t([]),t(t)];for(var s=2&r&&i;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>a[e]=()=>i[e]));return a.default=()=>i,n.d(o,a),o}})(),n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{"use strict";var e,t=n(2791),i=n.t(t,2),r=n(1250),o=n(4164),a=n.t(o,2);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},s.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(e||(e={}));const c="popstate";function l(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function d(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function u(e,t){return{usr:e.state,key:e.key,idx:t}}function h(e,t,n,i){return void 0===n&&(n=null),s({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?p(t):t,{state:n,key:t&&t.key||i||Math.random().toString(36).substr(2,8)})}function A(e){let{pathname:t="/",search:n="",hash:i=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),i&&"#"!==i&&(t+="#"===i.charAt(0)?i:"#"+i),t}function p(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substr(i),e=e.substr(0,i)),e&&(t.pathname=e)}return t}function g(t,n,i,r){void 0===r&&(r={});let{window:o=document.defaultView,v5Compat:a=!1}=r,d=o.history,p=e.Pop,g=null,f=m();function m(){return(d.state||{idx:null}).idx}function E(){p=e.Pop;let t=m(),n=null==t?null:t-f;f=t,g&&g({action:p,location:I.location,delta:n})}function C(e){let t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof e?e:A(e);return l(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==f&&(f=0,d.replaceState(s({},d.state,{idx:f}),""));let I={get action(){return p},get location(){return t(o,d)},listen(e){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(c,E),g=e,()=>{o.removeEventListener(c,E),g=null}},createHref:e=>n(o,e),createURL:C,encodeLocation(e){let t=C(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(t,n){p=e.Push;let r=h(I.location,t,n);i&&i(r,t),f=m()+1;let s=u(r,f),c=I.createHref(r);try{d.pushState(s,"",c)}catch(l){if(l instanceof DOMException&&"DataCloneError"===l.name)throw l;o.location.assign(c)}a&&g&&g({action:p,location:I.location,delta:1})},replace:function(t,n){p=e.Replace;let r=h(I.location,t,n);i&&i(r,t),f=m();let o=u(r,f),s=I.createHref(r);d.replaceState(o,"",s),a&&g&&g({action:p,location:I.location,delta:0})},go:e=>d.go(e)};return I}var f;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(f||(f={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function m(e,t,n){void 0===n&&(n="/");let i=N(("string"===typeof t?p(t):t).pathname||"/",n);if(null==i)return null;let r=E(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(r);let o=null;for(let a=0;null==o&&a<r.length;++a)o=F(r[a],T(i));return o}function E(e,t,n,i){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===i&&(i="");let r=(e,r,o)=>{let a={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:r,route:e};a.relativePath.startsWith("/")&&(l(a.relativePath.startsWith(i),'Absolute route path "'+a.relativePath+'" nested under path "'+i+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(i.length));let s=V([i,a.relativePath]),c=n.concat(a);e.children&&e.children.length>0&&(l(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),E(e.children,t,c,s)),(null!=e.path||e.index)&&t.push({path:s,score:S(s,e.index),routesMeta:c})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let i of C(e.path))r(e,t,i);else r(e,t)})),t}function C(e){let t=e.split("/");if(0===t.length)return[];let[n,...i]=t,r=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===i.length)return r?[o,""]:[o];let a=C(i.join("/")),s=[];return s.push(...a.map((e=>""===e?o:[o,e].join("/")))),r&&s.push(...a),s.map((t=>e.startsWith("/")&&""===t?"/":t))}const I=/^:\w+$/,Q=3,U=2,y=1,b=10,v=-2,R=e=>"*"===e;function S(e,t){let n=e.split("/"),i=n.length;return n.some(R)&&(i+=v),t&&(i+=U),n.filter((e=>!R(e))).reduce(((e,t)=>e+(I.test(t)?Q:""===t?y:b)),i)}function F(e,t){let{routesMeta:n}=e,i={},r="/",o=[];for(let a=0;a<n.length;++a){let e=n[a],s=a===n.length-1,c="/"===r?t:t.slice(r.length)||"/",l=B({path:e.relativePath,caseSensitive:e.caseSensitive,end:s},c);if(!l)return null;Object.assign(i,l.params);let d=e.route;o.push({params:i,pathname:V([r,l.pathname]),pathnameBase:Z(V([r,l.pathnameBase])),route:d}),"/"!==l.pathnameBase&&(r=V([r,l.pathnameBase]))}return o}function B(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);d("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let i=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,((e,t,n)=>(i.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(i.push({paramName:"*"}),r+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":""!==e&&"/"!==e&&(r+="(?:(?=\\/|$))");let o=new RegExp(r,t?void 0:"i");return[o,i]}(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let o=r[0],a=o.replace(/(.)\/+$/,"$1"),s=r.slice(1),c=i.reduce(((e,t,n)=>{let{paramName:i,isOptional:r}=t;if("*"===i){let e=s[n]||"";a=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const c=s[n];return e[i]=r&&!c?void 0:function(e,t){try{return decodeURIComponent(e)}catch(n){return d(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(c||"",i),e}),{});return{params:c,pathname:o,pathnameBase:a,pattern:e}}function T(e){try{return decodeURI(e)}catch(t){return d(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function N(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&"/"!==i?null:e.slice(n)||"/"}function _(e,t,n,i){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(i)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function w(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function k(e,t){let n=w(e);return t?n.map(((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)):n.map((e=>e.pathnameBase))}function D(e,t,n,i){let r;void 0===i&&(i=!1),"string"===typeof e?r=p(e):(r=s({},e),l(!r.pathname||!r.pathname.includes("?"),_("?","pathname","search",r)),l(!r.pathname||!r.pathname.includes("#"),_("#","pathname","hash",r)),l(!r.search||!r.search.includes("#"),_("#","search","hash",r)));let o,a=""===e||""===r.pathname,c=a?"/":r.pathname;if(null==c)o=n;else if(i){let e=0===t.length?[]:t[t.length-1].replace(/^\//,"").split("/");if(c.startsWith("..")){let t=c.split("/");for(;".."===t[0];)t.shift(),e.pop();r.pathname=t.join("/")}o="/"+e.join("/")}else{let e=t.length-1;if(c.startsWith("..")){let t=c.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}o=e>=0?t[e]:"/"}let d=function(e,t){void 0===t&&(t="/");let{pathname:n,search:i="",hash:r=""}="string"===typeof e?p(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:W(i),hash:O(r)}}(r,o),u=c&&"/"!==c&&c.endsWith("/"),h=(a||"."===c)&&n.endsWith("/");return d.pathname.endsWith("/")||!u&&!h||(d.pathname+="/"),d}const V=e=>e.join("/").replace(/\/\/+/g,"/"),Z=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),W=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",O=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function J(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const x=["post","put","patch","delete"],M=(new Set(x),["get",...x]);new Set(M),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function L(){return L=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},L.apply(this,arguments)}const P=t.createContext(null);const G=t.createContext(null);const Y=t.createContext(null);const j=t.createContext(null);const X=t.createContext({outlet:null,matches:[],isDataRoute:!1});const K=t.createContext(null);function H(){return null!=t.useContext(j)}function z(){return H()||l(!1),t.useContext(j).location}function q(e){t.useContext(Y).static||t.useLayoutEffect(e)}function $(){let{isDataRoute:e}=t.useContext(X);return e?function(){let{router:e}=le(se.UseNavigateStable),n=ue(ce.UseNavigateStable),i=t.useRef(!1);q((()=>{i.current=!0}));let r=t.useCallback((function(t,r){void 0===r&&(r={}),i.current&&("number"===typeof t?e.navigate(t):e.navigate(t,L({fromRouteId:n},r)))}),[e,n]);return r}():function(){H()||l(!1);let e=t.useContext(P),{basename:n,future:i,navigator:r}=t.useContext(Y),{matches:o}=t.useContext(X),{pathname:a}=z(),s=JSON.stringify(k(o,i.v7_relativeSplatPath)),c=t.useRef(!1);q((()=>{c.current=!0}));let d=t.useCallback((function(t,i){if(void 0===i&&(i={}),!c.current)return;if("number"===typeof t)return void r.go(t);let o=D(t,JSON.parse(s),a,"path"===i.relative);null==e&&"/"!==n&&(o.pathname="/"===o.pathname?n:V([n,o.pathname])),(i.replace?r.replace:r.push)(o,i.state,i)}),[n,r,s,a,e]);return d}()}function ee(e,n){let{relative:i}=void 0===n?{}:n,{future:r}=t.useContext(Y),{matches:o}=t.useContext(X),{pathname:a}=z(),s=JSON.stringify(k(o,r.v7_relativeSplatPath));return t.useMemo((()=>D(e,JSON.parse(s),a,"path"===i)),[e,s,a,i])}function te(n,i,r,o){H()||l(!1);let{navigator:a}=t.useContext(Y),{matches:s}=t.useContext(X),c=s[s.length-1],d=c?c.params:{},u=(c&&c.pathname,c?c.pathnameBase:"/");c&&c.route;let h,A=z();if(i){var g;let e="string"===typeof i?p(i):i;"/"===u||(null==(g=e.pathname)?void 0:g.startsWith(u))||l(!1),h=e}else h=A;let f=h.pathname||"/",E=m(n,{pathname:"/"===u?f:f.slice(u.length)||"/"});let C=ae(E&&E.map((e=>Object.assign({},e,{params:Object.assign({},d,e.params),pathname:V([u,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:V([u,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),s,r,o);return i&&C?t.createElement(j.Provider,{value:{location:L({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:e.Pop}},C):C}function ne(){let e=function(){var e;let n=t.useContext(K),i=de(ce.UseRouteError),r=ue(ce.UseRouteError);if(void 0!==n)return n;return null==(e=i.errors)?void 0:e[r]}(),n=J(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),i=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),i?t.createElement("pre",{style:o},i):null,null)}const ie=t.createElement(ne,null);class re extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?t.createElement(X.Provider,{value:this.props.routeContext},t.createElement(K.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function oe(e){let{routeContext:n,match:i,children:r}=e,o=t.useContext(P);return o&&o.static&&o.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=i.route.id),t.createElement(X.Provider,{value:n},r)}function ae(e,n,i,r){var o;if(void 0===n&&(n=[]),void 0===i&&(i=null),void 0===r&&(r=null),null==e){var a;if(null==(a=i)||!a.errors)return null;e=i.matches}let s=e,c=null==(o=i)?void 0:o.errors;if(null!=c){let e=s.findIndex((e=>e.route.id&&(null==c?void 0:c[e.route.id])));e>=0||l(!1),s=s.slice(0,Math.min(s.length,e+1))}let d=!1,u=-1;if(i&&r&&r.v7_partialHydration)for(let t=0;t<s.length;t++){let e=s[t];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=t),e.route.loader&&e.route.id&&void 0===i.loaderData[e.route.id]&&(!i.errors||void 0===i.errors[e.route.id])){d=!0,s=u>=0?s.slice(0,u+1):[s[0]];break}}return s.reduceRight(((e,r,o)=>{let a,l=!1,h=null,A=null;var p;i&&(a=c&&r.route.id?c[r.route.id]:void 0,h=r.route.errorElement||ie,d&&(u<0&&0===o?(p="route-fallback",!1||he[p]||(he[p]=!0),l=!0,A=null):u===o&&(l=!0,A=r.route.hydrateFallbackElement||null)));let g=n.concat(s.slice(0,o+1)),f=()=>{let n;return n=a?h:l?A:r.route.Component?t.createElement(r.route.Component,null):r.route.element?r.route.element:e,t.createElement(oe,{match:r,routeContext:{outlet:e,matches:g,isDataRoute:null!=i},children:n})};return i&&(r.route.ErrorBoundary||r.route.errorElement||0===o)?t.createElement(re,{location:i.location,revalidation:i.revalidation,component:h,error:a,children:f(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):f()}),null)}var se=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(se||{}),ce=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ce||{});function le(e){let n=t.useContext(P);return n||l(!1),n}function de(e){let n=t.useContext(G);return n||l(!1),n}function ue(e){let n=function(e){let n=t.useContext(X);return n||l(!1),n}(),i=n.matches[n.matches.length-1];return i.route.id||l(!1),i.route.id}const he={};i.startTransition;function Ae(e){let{to:n,replace:i,state:r,relative:o}=e;H()||l(!1);let{future:a,static:s}=t.useContext(Y),{matches:c}=t.useContext(X),{pathname:d}=z(),u=$(),h=D(n,k(c,a.v7_relativeSplatPath),d,"path"===o),A=JSON.stringify(h);return t.useEffect((()=>u(JSON.parse(A),{replace:i,state:r,relative:o})),[u,A,o,i,r]),null}function pe(e){l(!1)}function ge(n){let{basename:i="/",children:r=null,location:o,navigationType:a=e.Pop,navigator:s,static:c=!1,future:d}=n;H()&&l(!1);let u=i.replace(/^\/*/,"/"),h=t.useMemo((()=>({basename:u,navigator:s,static:c,future:L({v7_relativeSplatPath:!1},d)})),[u,d,s,c]);"string"===typeof o&&(o=p(o));let{pathname:A="/",search:g="",hash:f="",state:m=null,key:E="default"}=o,C=t.useMemo((()=>{let e=N(A,u);return null==e?null:{location:{pathname:e,search:g,hash:f,state:m,key:E},navigationType:a}}),[u,A,g,f,m,E,a]);return null==C?null:t.createElement(Y.Provider,{value:h},t.createElement(j.Provider,{children:r,value:C}))}function fe(e){let{children:t,location:n}=e;return te(me(t),n)}new Promise((()=>{}));t.Component;function me(e,n){void 0===n&&(n=[]);let i=[];return t.Children.forEach(e,((e,r)=>{if(!t.isValidElement(e))return;let o=[...n,r];if(e.type===t.Fragment)return void i.push.apply(i,me(e.props.children,o));e.type!==pe&&l(!1),e.props.index&&e.props.children&&l(!1);let a={id:e.props.id||o.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=me(e.props.children,o)),i.push(a)})),i}function Ee(){return Ee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ee.apply(this,arguments)}function Ce(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Ie=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];new Map;const Qe=i.startTransition;a.flushSync;function Ue(e){let{basename:n,children:i,future:r,window:o}=e,a=t.useRef();var s;null==a.current&&(a.current=(void 0===(s={window:o,v5Compat:!0})&&(s={}),g((function(e,t){let{pathname:n,search:i,hash:r}=e.location;return h("",{pathname:n,search:i,hash:r},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:A(t)}),null,s)));let c=a.current,[l,d]=t.useState({action:c.action,location:c.location}),{v7_startTransition:u}=r||{},p=t.useCallback((e=>{u&&Qe?Qe((()=>d(e))):d(e)}),[d,u]);return t.useLayoutEffect((()=>c.listen(p)),[c,p]),t.createElement(ge,{basename:n,children:i,location:l.location,navigationType:l.action,navigator:c,future:r})}const ye="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,be=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ve=t.forwardRef((function(e,n){let i,{onClick:r,relative:o,reloadDocument:a,replace:s,state:c,target:d,to:u,preventScrollReset:h,unstable_viewTransition:p}=e,g=Ce(e,Ie),{basename:f}=t.useContext(Y),m=!1;if("string"===typeof u&&be.test(u)&&(i=u,ye))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),n=N(t.pathname,f);t.origin===e.origin&&null!=n?u=n+t.search+t.hash:m=!0}catch(I){}let E=function(e,n){let{relative:i}=void 0===n?{}:n;H()||l(!1);let{basename:r,navigator:o}=t.useContext(Y),{hash:a,pathname:s,search:c}=ee(e,{relative:i}),d=s;return"/"!==r&&(d="/"===s?r:V([r,s])),o.createHref({pathname:d,search:c,hash:a})}(u,{relative:o}),C=function(e,n){let{target:i,replace:r,state:o,preventScrollReset:a,relative:s,unstable_viewTransition:c}=void 0===n?{}:n,l=$(),d=z(),u=ee(e,{relative:s});return t.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,i)){t.preventDefault();let n=void 0!==r?r:A(d)===A(u);l(e,{replace:n,state:o,preventScrollReset:a,relative:s,unstable_viewTransition:c})}}),[d,l,u,r,o,i,e,a,s,c])}(u,{replace:s,state:c,target:d,preventScrollReset:h,relative:o,unstable_viewTransition:p});return t.createElement("a",Ee({},g,{href:i||E,onClick:m||a?r:function(e){r&&r(e),e.defaultPrevented||C(e)},ref:n,target:d}))}));var Re,Se;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Re||(Re={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Se||(Se={}));function Fe(e){var t,n,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=Fe(e[t]))&&(i&&(i+=" "),i+=n);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}const Be=function(){for(var e,t,n=0,i="";n<arguments.length;)(e=arguments[n++])&&(t=Fe(e))&&(i&&(i+=" "),i+=t);return i},Te=e=>"number"==typeof e&&!isNaN(e),Ne=e=>"string"==typeof e,_e=e=>"function"==typeof e,we=e=>Ne(e)||_e(e)?e:null,ke=e=>(0,t.isValidElement)(e)||Ne(e)||_e(e)||Te(e);function De(e){let{enter:n,exit:i,appendPosition:r=!1,collapse:o=!0,collapseDuration:a=300}=e;return function(e){let{children:s,position:c,preventExitTransition:l,done:d,nodeRef:u,isIn:h}=e;const A=r?"".concat(n,"--").concat(c):n,p=r?"".concat(i,"--").concat(c):i,g=(0,t.useRef)(0);return(0,t.useLayoutEffect)((()=>{const e=u.current,t=A.split(" "),n=i=>{i.target===u.current&&(e.dispatchEvent(new Event("d")),e.removeEventListener("animationend",n),e.removeEventListener("animationcancel",n),0===g.current&&"animationcancel"!==i.type&&e.classList.remove(...t))};e.classList.add(...t),e.addEventListener("animationend",n),e.addEventListener("animationcancel",n)}),[]),(0,t.useEffect)((()=>{const e=u.current,t=()=>{e.removeEventListener("animationend",t),o?function(e,t,n){void 0===n&&(n=300);const{scrollHeight:i,style:r}=e;requestAnimationFrame((()=>{r.minHeight="initial",r.height=i+"px",r.transition="all ".concat(n,"ms"),requestAnimationFrame((()=>{r.height="0",r.padding="0",r.margin="0",setTimeout(t,n)}))}))}(e,d,a):d()};h||(l?t():(g.current=1,e.className+=" ".concat(p),e.addEventListener("animationend",t)))}),[h]),t.createElement(t.Fragment,null,s)}}function Ve(e,t){return null!=e?{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}:{}}const Ze={list:new Map,emitQueue:new Map,on(e,t){return this.list.has(e)||this.list.set(e,[]),this.list.get(e).push(t),this},off(e,t){if(t){const n=this.list.get(e).filter((e=>e!==t));return this.list.set(e,n),this}return this.list.delete(e),this},cancelEmit(e){const t=this.emitQueue.get(e);return t&&(t.forEach(clearTimeout),this.emitQueue.delete(e)),this},emit(e){this.list.has(e)&&this.list.get(e).forEach((t=>{const n=setTimeout((()=>{t(...[].slice.call(arguments,1))}),0);this.emitQueue.has(e)||this.emitQueue.set(e,[]),this.emitQueue.get(e).push(n)}))}},We=e=>{let{theme:n,type:i,...r}=e;return t.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===n?"currentColor":"var(--toastify-icon-color-".concat(i,")"),...r})},Oe={info:function(e){return t.createElement(We,{...e},t.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return t.createElement(We,{...e},t.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return t.createElement(We,{...e},t.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return t.createElement(We,{...e},t.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return t.createElement("div",{className:"Toastify__spinner"})}};function Je(e){const[,n]=(0,t.useReducer)((e=>e+1),0),[i,r]=(0,t.useState)([]),o=(0,t.useRef)(null),a=(0,t.useRef)(new Map).current,s=e=>-1!==i.indexOf(e),c=(0,t.useRef)({toastKey:1,displayedToast:0,count:0,queue:[],props:e,containerId:null,isToastActive:s,getToast:e=>a.get(e)}).current;function l(e){let{containerId:t}=e;const{limit:n}=c.props;!n||t&&c.containerId!==t||(c.count-=c.queue.length,c.queue=[])}function d(e){r((t=>null==e?[]:t.filter((t=>t!==e))))}function u(){const{toastContent:e,toastProps:t,staleId:n}=c.queue.shift();A(e,t,n)}function h(e,i){let{delay:r,staleId:s,...l}=i;if(!ke(e)||function(e){return!o.current||c.props.enableMultiContainer&&e.containerId!==c.props.containerId||a.has(e.toastId)&&null==e.updateId}(l))return;const{toastId:h,updateId:p,data:g}=l,{props:f}=c,m=()=>d(h),E=null==p;E&&c.count++;const C={...f,style:f.toastStyle,key:c.toastKey++,...Object.fromEntries(Object.entries(l).filter((e=>{let[t,n]=e;return null!=n}))),toastId:h,updateId:p,data:g,closeToast:m,isIn:!1,className:we(l.className||f.toastClassName),bodyClassName:we(l.bodyClassName||f.bodyClassName),progressClassName:we(l.progressClassName||f.progressClassName),autoClose:!l.isLoading&&(I=l.autoClose,Q=f.autoClose,!1===I||Te(I)&&I>0?I:Q),deleteToast(){const e=Ve(a.get(h),"removed");a.delete(h),Ze.emit(4,e);const t=c.queue.length;if(c.count=null==h?c.count-c.displayedToast:c.count-1,c.count<0&&(c.count=0),t>0){const e=null==h?c.props.limit:1;if(1===t||1===e)c.displayedToast++,u();else{const n=e>t?t:e;c.displayedToast=n;for(let e=0;e<n;e++)u()}}else n()}};var I,Q;C.iconOut=function(e){let{theme:n,type:i,isLoading:r,icon:o}=e,a=null;const s={theme:n,type:i};return!1===o||(_e(o)?a=o(s):(0,t.isValidElement)(o)?a=(0,t.cloneElement)(o,s):Ne(o)||Te(o)?a=o:r?a=Oe.spinner():(e=>e in Oe)(i)&&(a=Oe[i](s))),a}(C),_e(l.onOpen)&&(C.onOpen=l.onOpen),_e(l.onClose)&&(C.onClose=l.onClose),C.closeButton=f.closeButton,!1===l.closeButton||ke(l.closeButton)?C.closeButton=l.closeButton:!0===l.closeButton&&(C.closeButton=!ke(f.closeButton)||f.closeButton);let U=e;(0,t.isValidElement)(e)&&!Ne(e.type)?U=(0,t.cloneElement)(e,{closeToast:m,toastProps:C,data:g}):_e(e)&&(U=e({closeToast:m,toastProps:C,data:g})),f.limit&&f.limit>0&&c.count>f.limit&&E?c.queue.push({toastContent:U,toastProps:C,staleId:s}):Te(r)?setTimeout((()=>{A(U,C,s)}),r):A(U,C,s)}function A(e,t,n){const{toastId:i}=t;n&&a.delete(n);const o={content:e,props:t};a.set(i,o),r((e=>[...e,i].filter((e=>e!==n)))),Ze.emit(4,Ve(o,null==o.props.updateId?"added":"updated"))}return(0,t.useEffect)((()=>(c.containerId=e.containerId,Ze.cancelEmit(3).on(0,h).on(1,(e=>o.current&&d(e))).on(5,l).emit(2,c),()=>{a.clear(),Ze.emit(3,c)})),[]),(0,t.useEffect)((()=>{c.props=e,c.isToastActive=s,c.displayedToast=i.length})),{getToastToRender:function(t){const n=new Map,i=Array.from(a.values());return e.newestOnTop&&i.reverse(),i.forEach((e=>{const{position:t}=e.props;n.has(t)||n.set(t,[]),n.get(t).push(e)})),Array.from(n,(e=>t(e[0],e[1])))},containerRef:o,isToastActive:s}}function xe(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}function Me(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}function Le(e){const[n,i]=(0,t.useState)(!1),[r,o]=(0,t.useState)(!1),a=(0,t.useRef)(null),s=(0,t.useRef)({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,c=(0,t.useRef)(e),{autoClose:l,pauseOnHover:d,closeToast:u,onClick:h,closeOnClick:A}=e;function p(t){if(e.draggable){"touchstart"===t.nativeEvent.type&&t.nativeEvent.preventDefault(),s.didMove=!1,document.addEventListener("mousemove",E),document.addEventListener("mouseup",C),document.addEventListener("touchmove",E),document.addEventListener("touchend",C);const n=a.current;s.canCloseOnClick=!0,s.canDrag=!0,s.boundingRect=n.getBoundingClientRect(),n.style.transition="",s.x=xe(t.nativeEvent),s.y=Me(t.nativeEvent),"x"===e.draggableDirection?(s.start=s.x,s.removalDistance=n.offsetWidth*(e.draggablePercent/100)):(s.start=s.y,s.removalDistance=n.offsetHeight*(80===e.draggablePercent?1.5*e.draggablePercent:e.draggablePercent/100))}}function g(t){if(s.boundingRect){const{top:n,bottom:i,left:r,right:o}=s.boundingRect;"touchend"!==t.nativeEvent.type&&e.pauseOnHover&&s.x>=r&&s.x<=o&&s.y>=n&&s.y<=i?m():f()}}function f(){i(!0)}function m(){i(!1)}function E(t){const i=a.current;s.canDrag&&i&&(s.didMove=!0,n&&m(),s.x=xe(t),s.y=Me(t),s.delta="x"===e.draggableDirection?s.x-s.start:s.y-s.start,s.start!==s.x&&(s.canCloseOnClick=!1),i.style.transform="translate".concat(e.draggableDirection,"(").concat(s.delta,"px)"),i.style.opacity=""+(1-Math.abs(s.delta/s.removalDistance)))}function C(){document.removeEventListener("mousemove",E),document.removeEventListener("mouseup",C),document.removeEventListener("touchmove",E),document.removeEventListener("touchend",C);const t=a.current;if(s.canDrag&&s.didMove&&t){if(s.canDrag=!1,Math.abs(s.delta)>s.removalDistance)return o(!0),void e.closeToast();t.style.transition="transform 0.2s, opacity 0.2s",t.style.transform="translate".concat(e.draggableDirection,"(0)"),t.style.opacity="1"}}(0,t.useEffect)((()=>{c.current=e})),(0,t.useEffect)((()=>(a.current&&a.current.addEventListener("d",f,{once:!0}),_e(e.onOpen)&&e.onOpen((0,t.isValidElement)(e.children)&&e.children.props),()=>{const e=c.current;_e(e.onClose)&&e.onClose((0,t.isValidElement)(e.children)&&e.children.props)})),[]),(0,t.useEffect)((()=>(e.pauseOnFocusLoss&&(document.hasFocus()||m(),window.addEventListener("focus",f),window.addEventListener("blur",m)),()=>{e.pauseOnFocusLoss&&(window.removeEventListener("focus",f),window.removeEventListener("blur",m))})),[e.pauseOnFocusLoss]);const I={onMouseDown:p,onTouchStart:p,onMouseUp:g,onTouchEnd:g};return l&&d&&(I.onMouseEnter=m,I.onMouseLeave=f),A&&(I.onClick=e=>{h&&h(e),s.canCloseOnClick&&u()}),{playToast:f,pauseToast:m,isRunning:n,preventExitTransition:r,toastRef:a,eventHandlers:I}}function Pe(e){let{closeToast:n,theme:i,ariaLabel:r="close"}=e;return t.createElement("button",{className:"Toastify__close-button Toastify__close-button--".concat(i),type:"button",onClick:e=>{e.stopPropagation(),n(e)},"aria-label":r},t.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},t.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function Ge(e){let{delay:n,isRunning:i,closeToast:r,type:o="default",hide:a,className:s,style:c,controlledProgress:l,progress:d,rtl:u,isIn:h,theme:A}=e;const p=a||l&&0===d,g={...c,animationDuration:"".concat(n,"ms"),animationPlayState:i?"running":"paused",opacity:p?0:1};l&&(g.transform="scaleX(".concat(d,")"));const f=Be("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated","Toastify__progress-bar-theme--".concat(A),"Toastify__progress-bar--".concat(o),{"Toastify__progress-bar--rtl":u}),m=_e(s)?s({rtl:u,type:o,defaultClassName:f}):Be(f,s);return t.createElement("div",{role:"progressbar","aria-hidden":p?"true":"false","aria-label":"notification timer",className:m,style:g,[l&&d>=1?"onTransitionEnd":"onAnimationEnd"]:l&&d<1?null:()=>{h&&r()}})}const Ye=e=>{const{isRunning:n,preventExitTransition:i,toastRef:r,eventHandlers:o}=Le(e),{closeButton:a,children:s,autoClose:c,onClick:l,type:d,hideProgressBar:u,closeToast:h,transition:A,position:p,className:g,style:f,bodyClassName:m,bodyStyle:E,progressClassName:C,progressStyle:I,updateId:Q,role:U,progress:y,rtl:b,toastId:v,deleteToast:R,isIn:S,isLoading:F,iconOut:B,closeOnClick:T,theme:N}=e,_=Be("Toastify__toast","Toastify__toast-theme--".concat(N),"Toastify__toast--".concat(d),{"Toastify__toast--rtl":b},{"Toastify__toast--close-on-click":T}),w=_e(g)?g({rtl:b,position:p,type:d,defaultClassName:_}):Be(_,g),k=!!y||!c,D={closeToast:h,type:d,theme:N};let V=null;return!1===a||(V=_e(a)?a(D):(0,t.isValidElement)(a)?(0,t.cloneElement)(a,D):Pe(D)),t.createElement(A,{isIn:S,done:R,position:p,preventExitTransition:i,nodeRef:r},t.createElement("div",{id:v,onClick:l,className:w,...o,style:f,ref:r},t.createElement("div",{...S&&{role:U},className:_e(m)?m({type:d}):Be("Toastify__toast-body",m),style:E},null!=B&&t.createElement("div",{className:Be("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!F})},B),t.createElement("div",null,s)),V,t.createElement(Ge,{...Q&&!k?{key:"pb-".concat(Q)}:{},rtl:b,theme:N,delay:c,isRunning:n,isIn:S,closeToast:h,hide:u,type:d,style:I,className:C,controlledProgress:k,progress:y||0})))},je=function(e,t){return void 0===t&&(t=!1),{enter:"Toastify--animate Toastify__".concat(e,"-enter"),exit:"Toastify--animate Toastify__".concat(e,"-exit"),appendPosition:t}},Xe=De(je("bounce",!0)),Ke=(De(je("slide",!0)),De(je("zoom")),De(je("flip")),(0,t.forwardRef)(((e,n)=>{const{getToastToRender:i,containerRef:r,isToastActive:o}=Je(e),{className:a,style:s,rtl:c,containerId:l}=e;function d(e){const t=Be("Toastify__toast-container","Toastify__toast-container--".concat(e),{"Toastify__toast-container--rtl":c});return _e(a)?a({position:e,rtl:c,defaultClassName:t}):Be(t,we(a))}return(0,t.useEffect)((()=>{n&&(n.current=r.current)}),[]),t.createElement("div",{ref:r,className:"Toastify",id:l},i(((e,n)=>{const i=n.length?{...s}:{...s,pointerEvents:"none"};return t.createElement("div",{className:d(e),style:i,key:"container-".concat(e)},n.map(((e,i)=>{let{content:r,props:a}=e;return t.createElement(Ye,{...a,isIn:o(a.toastId),style:{...a.style,"--nth":i+1,"--len":n.length},key:"toast-".concat(a.key)},r)})))})))})));Ke.displayName="ToastContainer",Ke.defaultProps={position:"top-right",transition:Xe,autoClose:5e3,closeButton:Pe,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};let He,ze=new Map,qe=[],$e=1;function et(){return""+$e++}function tt(e){return e&&(Ne(e.toastId)||Te(e.toastId))?e.toastId:et()}function nt(e,t){return ze.size>0?Ze.emit(0,e,t):qe.push({content:e,options:t}),t.toastId}function it(e,t){return{...t,type:t&&t.type||e,toastId:tt(t)}}function rt(e){return(t,n)=>nt(t,it(e,n))}function ot(e,t){return nt(e,it("default",t))}ot.loading=(e,t)=>nt(e,it("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t})),ot.promise=function(e,t,n){let i,{pending:r,error:o,success:a}=t;r&&(i=Ne(r)?ot.loading(r,n):ot.loading(r.render,{...n,...r}));const s={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},c=(e,t,r)=>{if(null==t)return void ot.dismiss(i);const o={type:e,...s,...n,data:r},a=Ne(t)?{render:t}:t;return i?ot.update(i,{...o,...a}):ot(a.render,{...o,...a}),r},l=_e(e)?e():e;return l.then((e=>c("success",a,e))).catch((e=>c("error",o,e))),l},ot.success=rt("success"),ot.info=rt("info"),ot.error=rt("error"),ot.warning=rt("warning"),ot.warn=ot.warning,ot.dark=(e,t)=>nt(e,it("default",{theme:"dark",...t})),ot.dismiss=e=>{ze.size>0?Ze.emit(1,e):qe=qe.filter((t=>null!=e&&t.options.toastId!==e))},ot.clearWaitingQueue=function(e){return void 0===e&&(e={}),Ze.emit(5,e)},ot.isActive=e=>{let t=!1;return ze.forEach((n=>{n.isToastActive&&n.isToastActive(e)&&(t=!0)})),t},ot.update=function(e,t){void 0===t&&(t={}),setTimeout((()=>{const n=function(e,t){let{containerId:n}=t;const i=ze.get(n||He);return i&&i.getToast(e)}(e,t);if(n){const{props:i,content:r}=n,o={delay:100,...i,...t,toastId:t.toastId||e,updateId:et()};o.toastId!==e&&(o.staleId=e);const a=o.render||r;delete o.render,nt(a,o)}}),0)},ot.done=e=>{ot.update(e,{progress:1})},ot.onChange=e=>(Ze.on(4,e),()=>{Ze.off(4,e)}),ot.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},ot.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},Ze.on(2,(e=>{He=e.containerId||e,ze.set(He,e),qe.forEach((e=>{Ze.emit(0,e.content,e.options)})),qe=[]})).on(3,(e=>{ze.delete(e.containerId||e),0===ze.size&&Ze.off(0).off(1).off(5)}));var at=n(7248),st=n(327);let ct=function(e){e()};const lt=()=>ct,dt=Symbol.for("react-redux-context"),ut="undefined"!==typeof globalThis?globalThis:{};function ht(){var e;if(!t.createContext)return{};const n=null!=(e=ut[dt])?e:ut[dt]=new Map;let i=n.get(t.createContext);return i||(i=t.createContext(null),n.set(t.createContext,i)),i}const At=ht();function pt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:At;return function(){return(0,t.useContext)(e)}}const gt=pt();let ft=()=>{throw new Error("uSES not initialized!")};const mt=(e,t)=>e===t;function Et(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:At;const n=e===At?gt:pt(e);return function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{equalityFn:r=mt,stabilityCheck:o,noopCheck:a}="function"===typeof i?{equalityFn:i}:i;const{store:s,subscription:c,getServerState:l,stabilityCheck:d,noopCheck:u}=n(),h=((0,t.useRef)(!0),(0,t.useCallback)({[e.name]:t=>e(t)}[e.name],[e,d,o])),A=ft(c.addNestedSub,s.getState,l||s.getState,h,r);return(0,t.useDebugValue)(A),A}}const Ct=Et();n(2110),n(6900);const It={notify(){},get:()=>[]};function Qt(e,t){let n,i=It,r=0,o=!1;function a(){l.onStateChange&&l.onStateChange()}function s(){r++,n||(n=t?t.addNestedSub(a):e.subscribe(a),i=function(){const e=lt();let t=null,n=null;return{clear(){t=null,n=null},notify(){e((()=>{let e=t;for(;e;)e.callback(),e=e.next}))},get(){let e=[],n=t;for(;n;)e.push(n),n=n.next;return e},subscribe(e){let i=!0,r=n={callback:e,next:null,prev:n};return r.prev?r.prev.next=r:t=r,function(){i&&null!==t&&(i=!1,r.next?r.next.prev=r.prev:n=r.prev,r.prev?r.prev.next=r.next:t=r.next)}}}}())}function c(){r--,n&&0===r&&(n(),n=void 0,i.clear(),i=It)}const l={addNestedSub:function(e){s();const t=i.subscribe(e);let n=!1;return()=>{n||(n=!0,t(),c())}},notifyNestedSubs:function(){i.notify()},handleChangeWrapper:a,isSubscribed:function(){return o},trySubscribe:function(){o||(o=!0,s())},tryUnsubscribe:function(){o&&(o=!1,c())},getListeners:()=>i};return l}const Ut=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?t.useLayoutEffect:t.useEffect;let yt=null;const bt=function(e){let{store:n,context:i,children:r,serverState:o,stabilityCheck:a="once",noopCheck:s="once"}=e;const c=t.useMemo((()=>{const e=Qt(n);return{store:n,subscription:e,getServerState:o?()=>o:void 0,stabilityCheck:a,noopCheck:s}}),[n,o,a,s]),l=t.useMemo((()=>n.getState()),[n]);Ut((()=>{const{subscription:e}=c;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),l!==n.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}}),[c,l]);const d=i||At;return t.createElement(d.Provider,{value:c},r)};function vt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:At;const t=e===At?gt:pt(e);return function(){const{store:e}=t();return e}}const Rt=vt();function St(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:At;const t=e===At?Rt:vt(e);return function(){return t().dispatch}}const Ft=St();function Bt(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function Tt(e,t){if(Bt(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;const n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(t,n[r])||!Bt(e[n[r]],t[n[r]]))return!1;return!0}var Nt;function _t(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function wt(e){return!!e&&!!e[bn]}function kt(e){var t;return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===vn}(e)||Array.isArray(e)||!!e[yn]||!!(null===(t=e.constructor)||void 0===t?void 0:t[yn])||xt(e)||Mt(e))}function Dt(e,t,n){void 0===n&&(n=!1),0===Vt(e)?(n?Object.keys:Rn)(e).forEach((function(i){n&&"symbol"==typeof i||t(i,e[i],e)})):e.forEach((function(n,i){return t(i,n,e)}))}function Vt(e){var t=e[bn];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:xt(e)?2:Mt(e)?3:0}function Zt(e,t){return 2===Vt(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Wt(e,t){return 2===Vt(e)?e.get(t):e[t]}function Ot(e,t,n){var i=Vt(e);2===i?e.set(t,n):3===i?e.add(n):e[t]=n}function Jt(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function xt(e){return Cn&&e instanceof Map}function Mt(e){return In&&e instanceof Set}function Lt(e){return e.o||e.t}function Pt(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=Sn(e);delete t[bn];for(var n=Rn(t),i=0;i<n.length;i++){var r=n[i],o=t[r];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[r]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[r]})}return Object.create(Object.getPrototypeOf(e),t)}function Gt(e,t){return void 0===t&&(t=!1),jt(e)||wt(e)||!kt(e)||(Vt(e)>1&&(e.set=e.add=e.clear=e.delete=Yt),Object.freeze(e),t&&Dt(e,(function(e,t){return Gt(t,!0)}),!0)),e}function Yt(){_t(2)}function jt(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function Xt(e){var t=Fn[e];return t||_t(18,e),t}function Kt(e,t){Fn[e]||(Fn[e]=t)}function Ht(){return mn}function zt(e,t){t&&(Xt("Patches"),e.u=[],e.s=[],e.v=t)}function qt(e){$t(e),e.p.forEach(tn),e.p=null}function $t(e){e===mn&&(mn=e.l)}function en(e){return mn={p:[],l:mn,h:e,m:!0,_:0}}function tn(e){var t=e[bn];0===t.i||1===t.i?t.j():t.g=!0}function nn(e,t){t._=t.p.length;var n=t.p[0],i=void 0!==e&&e!==n;return t.h.O||Xt("ES5").S(t,e,i),i?(n[bn].P&&(qt(t),_t(4)),kt(e)&&(e=rn(t,e),t.l||an(t,e)),t.u&&Xt("Patches").M(n[bn].t,e,t.u,t.s)):e=rn(t,n,[]),qt(t),t.u&&t.v(t.u,t.s),e!==Un?e:void 0}function rn(e,t,n){if(jt(t))return t;var i=t[bn];if(!i)return Dt(t,(function(r,o){return on(e,i,t,r,o,n)}),!0),t;if(i.A!==e)return t;if(!i.P)return an(e,i.t,!0),i.t;if(!i.I){i.I=!0,i.A._--;var r=4===i.i||5===i.i?i.o=Pt(i.k):i.o,o=r,a=!1;3===i.i&&(o=new Set(r),r.clear(),a=!0),Dt(o,(function(t,o){return on(e,i,r,t,o,n,a)})),an(e,r,!1),n&&e.u&&Xt("Patches").N(i,n,e.u,e.s)}return i.o}function on(e,t,n,i,r,o,a){if(wt(r)){var s=rn(e,r,o&&t&&3!==t.i&&!Zt(t.R,i)?o.concat(i):void 0);if(Ot(n,i,s),!wt(s))return;e.m=!1}else a&&n.add(r);if(kt(r)&&!jt(r)){if(!e.h.D&&e._<1)return;rn(e,r),t&&t.A.l||an(e,r)}}function an(e,t,n){void 0===n&&(n=!1),!e.l&&e.h.D&&e.m&&Gt(t,n)}function sn(e,t){var n=e[bn];return(n?Lt(n):e)[t]}function cn(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var i=Object.getOwnPropertyDescriptor(n,t);if(i)return i;n=Object.getPrototypeOf(n)}}function ln(e){e.P||(e.P=!0,e.l&&ln(e.l))}function dn(e){e.o||(e.o=Pt(e.t))}function un(e,t,n){var i=xt(t)?Xt("MapSet").F(t,n):Mt(t)?Xt("MapSet").T(t,n):e.O?function(e,t){var n=Array.isArray(e),i={i:n?1:0,A:t?t.A:Ht(),P:!1,I:!1,R:{},l:t,t:e,k:null,o:null,j:null,C:!1},r=i,o=Bn;n&&(r=[i],o=Tn);var a=Proxy.revocable(r,o),s=a.revoke,c=a.proxy;return i.k=c,i.j=s,c}(t,n):Xt("ES5").J(t,n);return(n?n.A:Ht()).p.push(i),i}function hn(e){return wt(e)||_t(22,e),function e(t){if(!kt(t))return t;var n,i=t[bn],r=Vt(t);if(i){if(!i.P&&(i.i<4||!Xt("ES5").K(i)))return i.t;i.I=!0,n=An(t,r),i.I=!1}else n=An(t,r);return Dt(n,(function(t,r){i&&Wt(i.t,t)===r||Ot(n,t,e(r))})),3===r?new Set(n):n}(e)}function An(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return Pt(e)}function pn(){function e(e,t){var n=r[e];return n?n.enumerable=t:r[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[bn];return Bn.get(t,e)},set:function(t){var n=this[bn];Bn.set(n,e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var r=e[t][bn];if(!r.P)switch(r.i){case 5:i(r)&&ln(r);break;case 4:n(r)&&ln(r)}}}function n(e){for(var t=e.t,n=e.k,i=Rn(n),r=i.length-1;r>=0;r--){var o=i[r];if(o!==bn){var a=t[o];if(void 0===a&&!Zt(t,o))return!0;var s=n[o],c=s&&s[bn];if(c?c.t!==a:!Jt(s,a))return!0}}var l=!!t[bn];return i.length!==Rn(t).length+(l?0:1)}function i(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);if(n&&!n.get)return!0;for(var i=0;i<t.length;i++)if(!t.hasOwnProperty(i))return!0;return!1}var r={};Kt("ES5",{J:function(t,n){var i=Array.isArray(t),r=function(t,n){if(t){for(var i=Array(n.length),r=0;r<n.length;r++)Object.defineProperty(i,""+r,e(r,!0));return i}var o=Sn(n);delete o[bn];for(var a=Rn(o),s=0;s<a.length;s++){var c=a[s];o[c]=e(c,t||!!o[c].enumerable)}return Object.create(Object.getPrototypeOf(n),o)}(i,t),o={i:i?5:4,A:n?n.A:Ht(),P:!1,I:!1,R:{},l:n,t:t,k:r,o:null,g:!1,C:!1};return Object.defineProperty(r,bn,{value:o,writable:!0}),r},S:function(e,n,r){r?wt(n)&&n[bn].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var n=t[bn];if(n){var r=n.t,o=n.k,a=n.R,s=n.i;if(4===s)Dt(o,(function(t){t!==bn&&(void 0!==r[t]||Zt(r,t)?a[t]||e(o[t]):(a[t]=!0,ln(n)))})),Dt(r,(function(e){void 0!==o[e]||Zt(o,e)||(a[e]=!1,ln(n))}));else if(5===s){if(i(n)&&(ln(n),a.length=!0),o.length<r.length)for(var c=o.length;c<r.length;c++)a[c]=!1;else for(var l=r.length;l<o.length;l++)a[l]=!0;for(var d=Math.min(o.length,r.length),u=0;u<d;u++)o.hasOwnProperty(u)||(a[u]=!0),void 0===a[u]&&e(o[u])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?n(e):i(e)}})}function gn(){function e(t){if(!kt(t))return t;if(Array.isArray(t))return t.map(e);if(xt(t))return new Map(Array.from(t.entries()).map((function(t){return[t[0],e(t[1])]})));if(Mt(t))return new Set(Array.from(t).map(e));var n=Object.create(Object.getPrototypeOf(t));for(var i in t)n[i]=e(t[i]);return Zt(t,yn)&&(n[yn]=t[yn]),n}function t(t){return wt(t)?e(t):t}var n="add";Kt("Patches",{$:function(t,i){return i.forEach((function(i){for(var r=i.path,o=i.op,a=t,s=0;s<r.length-1;s++){var c=Vt(a),l=r[s];"string"!=typeof l&&"number"!=typeof l&&(l=""+l),0!==c&&1!==c||"__proto__"!==l&&"constructor"!==l||_t(24),"function"==typeof a&&"prototype"===l&&_t(24),"object"!=typeof(a=Wt(a,l))&&_t(15,r.join("/"))}var d=Vt(a),u=e(i.value),h=r[r.length-1];switch(o){case"replace":switch(d){case 2:return a.set(h,u);case 3:_t(16);default:return a[h]=u}case n:switch(d){case 1:return"-"===h?a.push(u):a.splice(h,0,u);case 2:return a.set(h,u);case 3:return a.add(u);default:return a[h]=u}case"remove":switch(d){case 1:return a.splice(h,1);case 2:return a.delete(h);case 3:return a.delete(i.value);default:return delete a[h]}default:_t(17,o)}})),t},N:function(e,i,r,o){switch(e.i){case 0:case 4:case 2:return function(e,i,r,o){var a=e.t,s=e.o;Dt(e.R,(function(e,c){var l=Wt(a,e),d=Wt(s,e),u=c?Zt(a,e)?"replace":n:"remove";if(l!==d||"replace"!==u){var h=i.concat(e);r.push("remove"===u?{op:u,path:h}:{op:u,path:h,value:d}),o.push(u===n?{op:"remove",path:h}:"remove"===u?{op:n,path:h,value:t(l)}:{op:"replace",path:h,value:t(l)})}}))}(e,i,r,o);case 5:case 1:return function(e,i,r,o){var a=e.t,s=e.R,c=e.o;if(c.length<a.length){var l=[c,a];a=l[0],c=l[1];var d=[o,r];r=d[0],o=d[1]}for(var u=0;u<a.length;u++)if(s[u]&&c[u]!==a[u]){var h=i.concat([u]);r.push({op:"replace",path:h,value:t(c[u])}),o.push({op:"replace",path:h,value:t(a[u])})}for(var A=a.length;A<c.length;A++){var p=i.concat([A]);r.push({op:n,path:p,value:t(c[A])})}a.length<c.length&&o.push({op:"replace",path:i.concat(["length"]),value:a.length})}(e,i,r,o);case 3:return function(e,t,i,r){var o=e.t,a=e.o,s=0;o.forEach((function(e){if(!a.has(e)){var o=t.concat([s]);i.push({op:"remove",path:o,value:e}),r.unshift({op:n,path:o,value:e})}s++})),s=0,a.forEach((function(e){if(!o.has(e)){var a=t.concat([s]);i.push({op:n,path:a,value:e}),r.unshift({op:"remove",path:a,value:e})}s++}))}(e,i,r,o)}},M:function(e,t,n,i){n.push({op:"replace",path:[],value:t===Un?void 0:t}),i.push({op:"replace",path:[],value:e})}})}(e=>{ft=e})(st.useSyncExternalStoreWithSelector),(e=>{yt=e})(at.useSyncExternalStore),Nt=o.unstable_batchedUpdates,ct=Nt;var fn,mn,En="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),Cn="undefined"!=typeof Map,In="undefined"!=typeof Set,Qn="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,Un=En?Symbol.for("immer-nothing"):((fn={})["immer-nothing"]=!0,fn),yn=En?Symbol.for("immer-draftable"):"__$immer_draftable",bn=En?Symbol.for("immer-state"):"__$immer_state",vn=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),Rn="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Sn=Object.getOwnPropertyDescriptors||function(e){var t={};return Rn(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},Fn={},Bn={get:function(e,t){if(t===bn)return e;var n=Lt(e);if(!Zt(n,t))return function(e,t,n){var i,r=cn(t,n);return r?"value"in r?r.value:null===(i=r.get)||void 0===i?void 0:i.call(e.k):void 0}(e,n,t);var i=n[t];return e.I||!kt(i)?i:i===sn(e.t,t)?(dn(e),e.o[t]=un(e.A.h,i,e)):i},has:function(e,t){return t in Lt(e)},ownKeys:function(e){return Reflect.ownKeys(Lt(e))},set:function(e,t,n){var i=cn(Lt(e),t);if(null==i?void 0:i.set)return i.set.call(e.k,n),!0;if(!e.P){var r=sn(Lt(e),t),o=null==r?void 0:r[bn];if(o&&o.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(Jt(n,r)&&(void 0!==n||Zt(e.t,t)))return!0;dn(e),ln(e)}return e.o[t]===n&&(void 0!==n||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return void 0!==sn(e.t,t)||t in e.t?(e.R[t]=!1,dn(e),ln(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=Lt(e),i=Reflect.getOwnPropertyDescriptor(n,t);return i?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:i.enumerable,value:n[t]}:i},defineProperty:function(){_t(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){_t(12)}},Tn={};Dt(Bn,(function(e,t){Tn[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),Tn.deleteProperty=function(e,t){return Tn.set.call(this,e,t,void 0)},Tn.set=function(e,t,n){return Bn.set.call(this,e[0],t,n,e[0])};var Nn=function(){function e(e){var t=this;this.O=Qn,this.D=!0,this.produce=function(e,n,i){if("function"==typeof e&&"function"!=typeof n){var r=n;n=e;var o=t;return function(e){var t=this;void 0===e&&(e=r);for(var i=arguments.length,a=Array(i>1?i-1:0),s=1;s<i;s++)a[s-1]=arguments[s];return o.produce(e,(function(e){var i;return(i=n).call.apply(i,[t,e].concat(a))}))}}var a;if("function"!=typeof n&&_t(6),void 0!==i&&"function"!=typeof i&&_t(7),kt(e)){var s=en(t),c=un(t,e,void 0),l=!0;try{a=n(c),l=!1}finally{l?qt(s):$t(s)}return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(e){return zt(s,i),nn(e,s)}),(function(e){throw qt(s),e})):(zt(s,i),nn(a,s))}if(!e||"object"!=typeof e){if(void 0===(a=n(e))&&(a=e),a===Un&&(a=void 0),t.D&&Gt(a,!0),i){var d=[],u=[];Xt("Patches").M(e,a,d,u),i(d,u)}return a}_t(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var i=arguments.length,r=Array(i>1?i-1:0),o=1;o<i;o++)r[o-1]=arguments[o];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(r))}))};var i,r,o=t.produce(e,n,(function(e,t){i=e,r=t}));return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return[e,i,r]})):[o,i,r]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){kt(e)||_t(8),wt(e)&&(e=hn(e));var t=en(this),n=un(this,e,void 0);return n[bn].C=!0,$t(t),n},t.finishDraft=function(e,t){var n=(e&&e[bn]).A;return zt(n,t),nn(void 0,n)},t.setAutoFreeze=function(e){this.D=e},t.setUseProxies=function(e){e&&!Qn&&_t(20),this.O=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var i=t[n];if(0===i.path.length&&"replace"===i.op){e=i.value;break}}n>-1&&(t=t.slice(n+1));var r=Xt("Patches").$;return wt(e)?r(e,t):this.produce(e,(function(e){return r(e,t)}))},e}(),_n=new Nn,wn=_n.produce,kn=_n.produceWithPatches.bind(_n),Dn=(_n.setAutoFreeze.bind(_n),_n.setUseProxies.bind(_n),_n.applyPatches.bind(_n));_n.createDraft.bind(_n),_n.finishDraft.bind(_n);const Vn=wn;function Zn(e){return Zn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zn(e)}function Wn(e){var t=function(e,t){if("object"!=Zn(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=Zn(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Zn(t)?t:String(t)}function On(e,t,n){return(t=Wn(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function xn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jn(Object(n),!0).forEach((function(t){On(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Mn(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var Ln="function"===typeof Symbol&&Symbol.observable||"@@observable",Pn=function(){return Math.random().toString(36).substring(7).split("").join(".")},Gn={INIT:"@@redux/INIT"+Pn(),REPLACE:"@@redux/REPLACE"+Pn(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Pn()}};function Yn(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function jn(e,t,n){var i;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(Mn(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(Mn(1));return n(jn)(e,t)}if("function"!==typeof e)throw new Error(Mn(2));var r=e,o=t,a=[],s=a,c=!1;function l(){s===a&&(s=a.slice())}function d(){if(c)throw new Error(Mn(3));return o}function u(e){if("function"!==typeof e)throw new Error(Mn(4));if(c)throw new Error(Mn(5));var t=!0;return l(),s.push(e),function(){if(t){if(c)throw new Error(Mn(6));t=!1,l();var n=s.indexOf(e);s.splice(n,1),a=null}}}function h(e){if(!Yn(e))throw new Error(Mn(7));if("undefined"===typeof e.type)throw new Error(Mn(8));if(c)throw new Error(Mn(9));try{c=!0,o=r(o,e)}finally{c=!1}for(var t=a=s,n=0;n<t.length;n++){(0,t[n])()}return e}return h({type:Gn.INIT}),(i={dispatch:h,subscribe:u,getState:d,replaceReducer:function(e){if("function"!==typeof e)throw new Error(Mn(10));r=e,h({type:Gn.REPLACE})}})[Ln]=function(){var e,t=u;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(Mn(11));function n(){e.next&&e.next(d())}return n(),{unsubscribe:t(n)}}})[Ln]=function(){return this},e},i}function Xn(e){for(var t=Object.keys(e),n={},i=0;i<t.length;i++){var r=t[i];0,"function"===typeof e[r]&&(n[r]=e[r])}var o,a=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:Gn.INIT}))throw new Error(Mn(12));if("undefined"===typeof n(void 0,{type:Gn.PROBE_UNKNOWN_ACTION()}))throw new Error(Mn(13))}))}(n)}catch(s){o=s}return function(e,t){if(void 0===e&&(e={}),o)throw o;for(var i=!1,r={},s=0;s<a.length;s++){var c=a[s],l=n[c],d=e[c],u=l(d,t);if("undefined"===typeof u){t&&t.type;throw new Error(Mn(14))}r[c]=u,i=i||u!==d}return(i=i||a.length!==Object.keys(e).length)?r:e}}function Kn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function Hn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),i=function(){throw new Error(Mn(15))},r={getState:n.getState,dispatch:function(){return i.apply(void 0,arguments)}},o=t.map((function(e){return e(r)}));return i=Kn.apply(void 0,o)(n.dispatch),xn(xn({},n),{},{dispatch:i})}}}function zn(e){return function(t){var n=t.dispatch,i=t.getState;return function(t){return function(r){return"function"===typeof r?r(n,i,e):t(r)}}}}var qn=zn();qn.withExtraArgument=zn;const $n=qn;var ei=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ti=function(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},ni=function(e,t){for(var n=0,i=t.length,r=e.length;n<i;n++,r++)e[r]=t[n];return e},ii=Object.defineProperty,ri=Object.defineProperties,oi=Object.getOwnPropertyDescriptors,ai=Object.getOwnPropertySymbols,si=Object.prototype.hasOwnProperty,ci=Object.prototype.propertyIsEnumerable,li=function(e,t,n){return t in e?ii(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},di=function(e,t){for(var n in t||(t={}))si.call(t,n)&&li(e,n,t[n]);if(ai)for(var i=0,r=ai(t);i<r.length;i++){n=r[i];ci.call(t,n)&&li(e,n,t[n])}return e},ui=function(e,t){return ri(e,oi(t))},hi=function(e,t,n){return new Promise((function(i,r){var o=function(e){try{s(n.next(e))}catch(t){r(t)}},a=function(e){try{s(n.throw(e))}catch(t){r(t)}},s=function(e){return e.done?i(e.value):Promise.resolve(e.value).then(o,a)};s((n=n.apply(e,t)).next())}))},Ai="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?Kn:Kn.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function pi(e){if("object"!==typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n}var gi=function(e){return e&&"function"===typeof e.match};function fi(e,t){function n(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];if(t){var r=t.apply(void 0,n);if(!r)throw new Error("prepareAction did not return an object");return di(di({type:e,payload:r.payload},"meta"in r&&{meta:r.meta}),"error"in r&&{error:r.error})}return{type:e,payload:n[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(t){return t.type===e},n}var mi=function(e){function t(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var r=e.apply(this,n)||this;return Object.setPrototypeOf(r,t.prototype),r}return ei(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,ni([void 0],e[0].concat(this)))):new(t.bind.apply(t,ni([void 0],e.concat(this))))},t}(Array),Ei=function(e){function t(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var r=e.apply(this,n)||this;return Object.setPrototypeOf(r,t.prototype),r}return ei(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,ni([void 0],e[0].concat(this)))):new(t.bind.apply(t,ni([void 0],e.concat(this))))},t}(Array);function Ci(e){return kt(e)?Vn(e,(function(){})):e}function Ii(){return function(e){return function(e){void 0===e&&(e={});var t=e.thunk,n=void 0===t||t,i=(e.immutableCheck,e.serializableCheck,e.actionCreatorCheck,new mi);n&&(!function(e){return"boolean"===typeof e}(n)?i.push($n.withExtraArgument(n.extraArgument)):i.push($n));0;return i}(e)}}function Qi(e){var t,n={},i=[],r={addCase:function(e,t){var i="string"===typeof e?e:e.type;if(!i)throw new Error("`builder.addCase` cannot be called with an empty action type");if(i in n)throw new Error("`builder.addCase` cannot be called with two reducers for the same action type");return n[i]=t,r},addMatcher:function(e,t){return i.push({matcher:e,reducer:t}),r},addDefaultCase:function(e){return t=e,r}};return e(r),[n,i,t]}function Ui(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var n,i="function"==typeof e.initialState?e.initialState:Ci(e.initialState),r=e.reducers||{},o=Object.keys(r),a={},s={},c={};function l(){var t="function"===typeof e.extraReducers?Qi(e.extraReducers):[e.extraReducers],n=t[0],r=void 0===n?{}:n,o=t[1],a=void 0===o?[]:o,c=t[2],l=void 0===c?void 0:c,d=di(di({},r),s);return function(e,t,n,i){void 0===n&&(n=[]);var r,o="function"===typeof t?Qi(t):[t,n,i],a=o[0],s=o[1],c=o[2];if(function(e){return"function"===typeof e}(e))r=function(){return Ci(e())};else{var l=Ci(e);r=function(){return l}}function d(e,t){void 0===e&&(e=r());var n=ni([a[t.type]],s.filter((function(e){return(0,e.matcher)(t)})).map((function(e){return e.reducer})));return 0===n.filter((function(e){return!!e})).length&&(n=[c]),n.reduce((function(e,n){if(n){var i;if(wt(e))return void 0===(i=n(e,t))?e:i;if(kt(e))return Vn(e,(function(e){return n(e,t)}));if(void 0===(i=n(e,t))){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return i}return e}),e)}return d.getInitialState=r,d}(i,(function(e){for(var t in d)e.addCase(t,d[t]);for(var n=0,i=a;n<i.length;n++){var r=i[n];e.addMatcher(r.matcher,r.reducer)}l&&e.addDefaultCase(l)}))}return o.forEach((function(e){var n,i,o=r[e],l=function(e,t){return e+"/"+t}(t,e);"reducer"in o?(n=o.reducer,i=o.prepare):n=o,a[e]=n,s[l]=n,c[e]=i?fi(l,i):fi(l)})),{name:t,reducer:function(e,t){return n||(n=l()),n(e,t)},actions:c,caseReducers:a,getInitialState:function(){return n||(n=l()),n.getInitialState()}}}var yi=function(e){void 0===e&&(e=21);for(var t="",n=e;n--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t},bi=["name","message","stack","code"],vi=function(e,t){this.payload=e,this.meta=t},Ri=function(e,t){this.payload=e,this.meta=t},Si=function(e){if("object"===typeof e&&null!==e){for(var t={},n=0,i=bi;n<i.length;n++){var r=i[n];"string"===typeof e[r]&&(t[r]=e[r])}return t}return{message:String(e)}},Fi=function(){function e(e,t,n){var i=fi(e+"/fulfilled",(function(e,t,n,i){return{payload:e,meta:ui(di({},i||{}),{arg:n,requestId:t,requestStatus:"fulfilled"})}})),r=fi(e+"/pending",(function(e,t,n){return{payload:void 0,meta:ui(di({},n||{}),{arg:t,requestId:e,requestStatus:"pending"})}})),o=fi(e+"/rejected",(function(e,t,i,r,o){return{payload:r,error:(n&&n.serializeError||Si)(e||"Rejected"),meta:ui(di({},o||{}),{arg:i,requestId:t,rejectedWithValue:!!r,requestStatus:"rejected",aborted:"AbortError"===(null==e?void 0:e.name),condition:"ConditionError"===(null==e?void 0:e.name)})}})),a="undefined"!==typeof AbortController?AbortController:function(){function e(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return e.prototype.abort=function(){0},e}();return Object.assign((function(e){return function(s,c,l){var d,u=(null==n?void 0:n.idGenerator)?n.idGenerator(e):yi(),h=new a;function A(e){d=e,h.abort()}var p=function(){return hi(this,null,(function(){var a,p,g,f,m,E;return ti(this,(function(C){switch(C.label){case 0:return C.trys.push([0,4,,5]),f=null==(a=null==n?void 0:n.condition)?void 0:a.call(n,e,{getState:c,extra:l}),null===(I=f)||"object"!==typeof I||"function"!==typeof I.then?[3,2]:[4,f];case 1:f=C.sent(),C.label=2;case 2:if(!1===f||h.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return!0,m=new Promise((function(e,t){return h.signal.addEventListener("abort",(function(){return t({name:"AbortError",message:d||"Aborted"})}))})),s(r(u,e,null==(p=null==n?void 0:n.getPendingMeta)?void 0:p.call(n,{requestId:u,arg:e},{getState:c,extra:l}))),[4,Promise.race([m,Promise.resolve(t(e,{dispatch:s,getState:c,extra:l,requestId:u,signal:h.signal,abort:A,rejectWithValue:function(e,t){return new vi(e,t)},fulfillWithValue:function(e,t){return new Ri(e,t)}})).then((function(t){if(t instanceof vi)throw t;return t instanceof Ri?i(t.payload,u,e,t.meta):i(t,u,e)}))])];case 3:return g=C.sent(),[3,5];case 4:return E=C.sent(),g=E instanceof vi?o(null,u,e,E.payload,E.meta):o(E,u,e),[3,5];case 5:return n&&!n.dispatchConditionRejection&&o.match(g)&&g.meta.condition||s(g),[2,g]}var I}))}))}();return Object.assign(p,{abort:A,requestId:u,arg:e,unwrap:function(){return p.then(Bi)}})}}),{pending:r,rejected:o,fulfilled:i,typePrefix:e})}return e.withTypes=function(){return e},e}();function Bi(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}var Ti=function(e,t){return gi(e)?e.match(t):e(t)};function Ni(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return e.some((function(e){return Ti(e,t)}))}}function _i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return e.every((function(e){return Ti(e,t)}))}}function wi(e,t){if(!e||!e.meta)return!1;var n="string"===typeof e.meta.requestId,i=t.indexOf(e.meta.requestStatus)>-1;return n&&i}function ki(e){return"function"===typeof e[0]&&"pending"in e[0]&&"fulfilled"in e[0]&&"rejected"in e[0]}function Di(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?function(e){return wi(e,["pending"])}:ki(e)?function(t){var n=e.map((function(e){return e.pending}));return Ni.apply(void 0,n)(t)}:Di()(e[0])}function Vi(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?function(e){return wi(e,["rejected"])}:ki(e)?function(t){var n=e.map((function(e){return e.rejected}));return Ni.apply(void 0,n)(t)}:Vi()(e[0])}function Zi(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=function(e){return e&&e.meta&&e.meta.rejectedWithValue};return 0===e.length||ki(e)?function(t){return _i(Vi.apply(void 0,e),n)(t)}:Zi()(e[0])}function Wi(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?function(e){return wi(e,["fulfilled"])}:ki(e)?function(t){var n=e.map((function(e){return e.fulfilled}));return Ni.apply(void 0,n)(t)}:Wi()(e[0])}function Oi(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?function(e){return wi(e,["pending","fulfilled","rejected"])}:ki(e)?function(t){for(var n=[],i=0,r=e;i<r.length;i++){var o=r[i];n.push(o.pending,o.rejected,o.fulfilled)}return Ni.apply(void 0,n)(t)}:Oi()(e[0])}Object.assign;var Ji="listenerMiddleware";fi(Ji+"/add"),fi(Ji+"/removeAll"),fi(Ji+"/remove");var xi,Mi="RTK_autoBatch",Li=function(){return function(e){var t;return{payload:e,meta:(t={},t[Mi]=!0,t)}}},Pi=("function"===typeof queueMicrotask&&queueMicrotask.bind("undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:globalThis),function(e){return function(t){setTimeout(t,e)}});"undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:Pi(10);pn();var Gi="NOT_FOUND";var Yi=function(e,t){return e===t};function ji(e,t){var n="object"===typeof t?t:{equalityCheck:t},i=n.equalityCheck,r=void 0===i?Yi:i,o=n.maxSize,a=void 0===o?1:o,s=n.resultEqualityCheck,c=function(e){return function(t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var i=t.length,r=0;r<i;r++)if(!e(t[r],n[r]))return!1;return!0}}(r),l=1===a?function(e){var t;return{get:function(n){return t&&e(t.key,n)?t.value:Gi},put:function(e,n){t={key:e,value:n}},getEntries:function(){return t?[t]:[]},clear:function(){t=void 0}}}(c):function(e,t){var n=[];function i(e){var i=n.findIndex((function(n){return t(e,n.key)}));if(i>-1){var r=n[i];return i>0&&(n.splice(i,1),n.unshift(r)),r.value}return Gi}return{get:i,put:function(t,r){i(t)===Gi&&(n.unshift({key:t,value:r}),n.length>e&&n.pop())},getEntries:function(){return n},clear:function(){n=[]}}}(a,c);function d(){var t=l.get(arguments);if(t===Gi){if(t=e.apply(null,arguments),s){var n=l.getEntries().find((function(e){return s(e.value,t)}));n&&(t=n.value)}l.put(arguments,t)}return t}return d.clearCache=function(){return l.clear()},d}function Xi(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return function(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];var o,a=0,s={memoizeOptions:void 0},c=i.pop();if("object"===typeof c&&(s=c,c=i.pop()),"function"!==typeof c)throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof c+"]");var l=s.memoizeOptions,d=void 0===l?n:l,u=Array.isArray(d)?d:[d],h=function(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"===typeof e}))){var n=t.map((function(e){return"function"===typeof e?"function "+(e.name||"unnamed")+"()":typeof e})).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+n+"]")}return t}(i),A=e.apply(void 0,[function(){return a++,c.apply(null,arguments)}].concat(u)),p=e((function(){for(var e=[],t=h.length,n=0;n<t;n++)e.push(h[n].apply(null,arguments));return o=A.apply(null,e)}));return Object.assign(p,{resultFunc:c,memoizedResultFunc:A,dependencies:h,lastResult:function(){return o},recomputations:function(){return a},resetRecomputations:function(){return a=0}}),p}}var Ki,Hi,zi=Xi(ji),qi=function(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},$i=function(e,t){for(var n=0,i=t.length,r=e.length;n<i;n++,r++)e[r]=t[n];return e},er=Object.defineProperty,tr=Object.defineProperties,nr=Object.getOwnPropertyDescriptors,ir=Object.getOwnPropertySymbols,rr=Object.prototype.hasOwnProperty,or=Object.prototype.propertyIsEnumerable,ar=function(e,t,n){return t in e?er(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},sr=function(e,t){for(var n in t||(t={}))rr.call(t,n)&&ar(e,n,t[n]);if(ir)for(var i=0,r=ir(t);i<r.length;i++){n=r[i];or.call(t,n)&&ar(e,n,t[n])}return e},cr=function(e,t){return tr(e,nr(t))},lr=function(e,t){var n={};for(var i in e)rr.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&ir)for(var r=0,o=ir(e);r<o.length;r++){i=o[r];t.indexOf(i)<0&&or.call(e,i)&&(n[i]=e[i])}return n},dr=function(e,t,n){return new Promise((function(i,r){var o=function(e){try{s(n.next(e))}catch(t){r(t)}},a=function(e){try{s(n.throw(e))}catch(t){r(t)}},s=function(e){return e.done?i(e.value):Promise.resolve(e.value).then(o,a)};s((n=n.apply(e,t)).next())}))};(Hi=Ki||(Ki={})).uninitialized="uninitialized",Hi.pending="pending",Hi.fulfilled="fulfilled",Hi.rejected="rejected";var ur=function(e){return e.replace(/\/$/,"")},hr=function(e){return e.replace(/^\//,"")};function Ar(e,t){if(!e)return t;if(!t)return e;if(function(e){return new RegExp("(^|:)//").test(e)}(t))return t;var n=e.endsWith("/")||!t.startsWith("?")?"/":"";return""+(e=ur(e))+n+(t=hr(t))}var pr=function(e){return[].concat.apply([],e)};var gr=pi;function fr(e,t){if(e===t||!(gr(e)&&gr(t)||Array.isArray(e)&&Array.isArray(t)))return t;for(var n=Object.keys(t),i=Object.keys(e),r=n.length===i.length,o=Array.isArray(t)?[]:{},a=0,s=n;a<s.length;a++){var c=s[a];o[c]=fr(e[c],t[c]),r&&(r=e[c]===o[c])}return r?e:o}var mr=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return fetch.apply(void 0,e)},Er=function(e){return e.status>=200&&e.status<=299},Cr=function(e){return/ion\/(vnd\.api\+)?json/.test(e.get("content-type")||"")};function Ir(e){if(!pi(e))return e;for(var t=sr({},e),n=0,i=Object.entries(t);n<i.length;n++){var r=i[n],o=r[0];void 0===r[1]&&delete t[o]}return t}var Qr=function(e,t){void 0===t&&(t=void 0),this.value=e,this.meta=t};var Ur,yr,br=fi("__rtkq/focused"),vr=fi("__rtkq/unfocused"),Rr=fi("__rtkq/online"),Sr=fi("__rtkq/offline");function Fr(e){return e.type===Ur.query}function Br(e,t,n,i,r,o){return function(e){return"function"===typeof e}(e)?e(t,n,i,r).map(Tr).map(o):Array.isArray(e)?e.map(Tr).map(o):[]}function Tr(e){return"string"===typeof e?{type:e}:e}function Nr(e){return null!=e}(yr=Ur||(Ur={})).query="query",yr.mutation="mutation";var _r=Symbol("forceQueryFn"),wr=function(e){return"function"===typeof e[_r]};function kr(e){return e}function Dr(e,t,n,i){return Br(n[e.meta.arg.endpointName][t],Wi(e)?e.payload:void 0,Zi(e)?e.payload:void 0,e.meta.arg.originalArgs,"baseQueryMeta"in e.meta?e.meta.baseQueryMeta:void 0,i)}function Vr(e,t,n){var i=e[t];i&&n(i)}function Zr(e){var t;return null!=(t="arg"in e?e.arg.fixedCacheKey:e.fixedCacheKey)?t:e.requestId}function Wr(e,t,n){var i=e[Zr(t)];i&&n(i)}var Or={};function Jr(e){var t=e.reducerPath,n=e.queryThunk,i=e.mutationThunk,r=e.context,o=r.endpointDefinitions,a=r.apiUid,s=r.extractRehydrationInfo,c=r.hasRehydrationInfo,l=e.assertTagType,d=e.config,u=fi(t+"/resetApiState"),h=Ui({name:t+"/queries",initialState:Or,reducers:{removeQueryResult:{reducer:function(e,t){delete e[t.payload.queryCacheKey]},prepare:Li()},queryResultPatched:{reducer:function(e,t){var n=t.payload,i=n.queryCacheKey,r=n.patches;Vr(e,i,(function(e){e.data=Dn(e.data,r.concat())}))},prepare:Li()}},extraReducers:function(e){e.addCase(n.pending,(function(e,t){var n,i=t.meta,r=t.meta.arg,o=wr(r);(r.subscribe||o)&&(null!=e[n=r.queryCacheKey]||(e[n]={status:Ki.uninitialized,endpointName:r.endpointName})),Vr(e,r.queryCacheKey,(function(e){e.status=Ki.pending,e.requestId=o&&e.requestId?e.requestId:i.requestId,void 0!==r.originalArgs&&(e.originalArgs=r.originalArgs),e.startedTimeStamp=i.startedTimeStamp}))})).addCase(n.fulfilled,(function(e,t){var n=t.meta,i=t.payload;Vr(e,n.arg.queryCacheKey,(function(e){var t;if(e.requestId===n.requestId||wr(n.arg)){var r=o[n.arg.endpointName].merge;if(e.status=Ki.fulfilled,r)if(void 0!==e.data){var a=n.fulfilledTimeStamp,s=n.arg,c=n.baseQueryMeta,l=n.requestId,d=Vn(e.data,(function(e){return r(e,i,{arg:s.originalArgs,baseQueryMeta:c,fulfilledTimeStamp:a,requestId:l})}));e.data=d}else e.data=i;else e.data=null==(t=o[n.arg.endpointName].structuralSharing)||t?fr(wt(e.data)?function(e){return wt(e)||_t(23,e),e[bn].t}(e.data):e.data,i):i;delete e.error,e.fulfilledTimeStamp=n.fulfilledTimeStamp}}))})).addCase(n.rejected,(function(e,t){var n=t.meta,i=n.condition,r=n.arg,o=n.requestId,a=t.error,s=t.payload;Vr(e,r.queryCacheKey,(function(e){if(i);else{if(e.requestId!==o)return;e.status=Ki.rejected,e.error=null!=s?s:a}}))})).addMatcher(c,(function(e,t){for(var n=s(t).queries,i=0,r=Object.entries(n);i<r.length;i++){var o=r[i],a=o[0],c=o[1];(null==c?void 0:c.status)!==Ki.fulfilled&&(null==c?void 0:c.status)!==Ki.rejected||(e[a]=c)}}))}}),A=Ui({name:t+"/mutations",initialState:Or,reducers:{removeMutationResult:{reducer:function(e,t){var n=Zr(t.payload);n in e&&delete e[n]},prepare:Li()}},extraReducers:function(e){e.addCase(i.pending,(function(e,t){var n=t.meta,i=t.meta,r=i.requestId,o=i.arg,a=i.startedTimeStamp;o.track&&(e[Zr(n)]={requestId:r,status:Ki.pending,endpointName:o.endpointName,startedTimeStamp:a})})).addCase(i.fulfilled,(function(e,t){var n=t.payload,i=t.meta;i.arg.track&&Wr(e,i,(function(e){e.requestId===i.requestId&&(e.status=Ki.fulfilled,e.data=n,e.fulfilledTimeStamp=i.fulfilledTimeStamp)}))})).addCase(i.rejected,(function(e,t){var n=t.payload,i=t.error,r=t.meta;r.arg.track&&Wr(e,r,(function(e){e.requestId===r.requestId&&(e.status=Ki.rejected,e.error=null!=n?n:i)}))})).addMatcher(c,(function(e,t){for(var n=s(t).mutations,i=0,r=Object.entries(n);i<r.length;i++){var o=r[i],a=o[0],c=o[1];(null==c?void 0:c.status)!==Ki.fulfilled&&(null==c?void 0:c.status)!==Ki.rejected||a===(null==c?void 0:c.requestId)||(e[a]=c)}}))}}),p=Ui({name:t+"/invalidation",initialState:Or,reducers:{updateProvidedBy:{reducer:function(e,t){for(var n,i,r,o,a=t.payload,s=a.queryCacheKey,c=a.providedTags,l=0,d=Object.values(e);l<d.length;l++)for(var u=d[l],h=0,A=Object.values(u);h<A.length;h++){var p=A[h],g=p.indexOf(s);-1!==g&&p.splice(g,1)}for(var f=0,m=c;f<m.length;f++){var E=m[f],C=E.type,I=E.id,Q=null!=(o=(i=null!=(n=e[C])?n:e[C]={})[r=I||"__internal_without_id"])?o:i[r]=[];Q.includes(s)||Q.push(s)}},prepare:Li()}},extraReducers:function(e){e.addCase(h.actions.removeQueryResult,(function(e,t){for(var n=t.payload.queryCacheKey,i=0,r=Object.values(e);i<r.length;i++)for(var o=r[i],a=0,s=Object.values(o);a<s.length;a++){var c=s[a],l=c.indexOf(n);-1!==l&&c.splice(l,1)}})).addMatcher(c,(function(e,t){for(var n,i,r,o,a=s(t).provided,c=0,l=Object.entries(a);c<l.length;c++)for(var d=l[c],u=d[0],h=d[1],A=0,p=Object.entries(h);A<p.length;A++)for(var g=p[A],f=g[0],m=g[1],E=null!=(o=(i=null!=(n=e[u])?n:e[u]={})[r=f||"__internal_without_id"])?o:i[r]=[],C=0,I=m;C<I.length;C++){var Q=I[C];E.includes(Q)||E.push(Q)}})).addMatcher(Ni(Wi(n),Zi(n)),(function(e,t){var n=Dr(t,"providesTags",o,l),i=t.meta.arg.queryCacheKey;p.caseReducers.updateProvidedBy(e,p.actions.updateProvidedBy({queryCacheKey:i,providedTags:n}))}))}}),g=Ui({name:t+"/subscriptions",initialState:Or,reducers:{updateSubscriptionOptions:function(e,t){},unsubscribeQueryResult:function(e,t){},internal_probeSubscription:function(e,t){}}}),f=Ui({name:t+"/internalSubscriptions",initialState:Or,reducers:{subscriptionsUpdated:{reducer:function(e,t){return Dn(e,t.payload)},prepare:Li()}}}),m=Ui({name:t+"/config",initialState:sr({online:"undefined"===typeof navigator||void 0===navigator.onLine||navigator.onLine,focused:"undefined"===typeof document||"hidden"!==document.visibilityState,middlewareRegistered:!1},d),reducers:{middlewareRegistered:function(e,t){var n=t.payload;e.middlewareRegistered="conflict"!==e.middlewareRegistered&&a===n||"conflict"}},extraReducers:function(e){e.addCase(Rr,(function(e){e.online=!0})).addCase(Sr,(function(e){e.online=!1})).addCase(br,(function(e){e.focused=!0})).addCase(vr,(function(e){e.focused=!1})).addMatcher(c,(function(e){return sr({},e)}))}}),E=Xn({queries:h.reducer,mutations:A.reducer,provided:p.reducer,subscriptions:f.reducer,config:m.reducer});return{reducer:function(e,t){return E(u.match(t)?void 0:e,t)},actions:cr(sr(sr(sr(sr(sr(sr({},m.actions),h.actions),g.actions),f.actions),A.actions),p.actions),{unsubscribeMutationResult:A.actions.removeMutationResult,resetApiState:u})}}var xr=Symbol.for("RTKQ/skipToken"),Mr={status:Ki.uninitialized},Lr=Vn(Mr,(function(){})),Pr=Vn(Mr,(function(){}));function Gr(e){var t=e.serializeQueryArgs,n=e.reducerPath,i=function(e){return Lr},r=function(e){return Pr};return{buildQuerySelector:function(e,n){return function(r){var s=t({queryArgs:r,endpointDefinition:n,endpointName:e});return zi(r===xr?i:function(e){var t,n,i;return null!=(i=null==(n=null==(t=a(e))?void 0:t.queries)?void 0:n[s])?i:Lr},o)}},buildMutationSelector:function(){return function(e){var t,n;n="object"===typeof e?null!=(t=Zr(e))?t:xr:e;return zi(n===xr?r:function(e){var t,i,r;return null!=(r=null==(i=null==(t=a(e))?void 0:t.mutations)?void 0:i[n])?r:Pr},o)}},selectInvalidatedBy:function(e,t){for(var i,r=e[n],o=new Set,a=0,s=t.map(Tr);a<s.length;a++){var c=s[a],l=r.provided[c.type];if(l)for(var d=0,u=null!=(i=void 0!==c.id?l[c.id]:pr(Object.values(l)))?i:[];d<u.length;d++){var h=u[d];o.add(h)}}return pr(Array.from(o.values()).map((function(e){var t=r.queries[e];return t?[{queryCacheKey:e,endpointName:t.endpointName,originalArgs:t.originalArgs}]:[]})))}};function o(e){return sr(sr({},e),{status:t=e.status,isUninitialized:t===Ki.uninitialized,isLoading:t===Ki.pending,isSuccess:t===Ki.fulfilled,isError:t===Ki.rejected});var t}function a(e){return e[n]}}var Yr=WeakMap?new WeakMap:void 0,jr=function(e){var t=e.endpointName,n=e.queryArgs,i="",r=null==Yr?void 0:Yr.get(n);if("string"===typeof r)i=r;else{var o=JSON.stringify(n,(function(e,t){return pi(t)?Object.keys(t).sort().reduce((function(e,n){return e[n]=t[n],e}),{}):t}));pi(n)&&(null==Yr||Yr.set(n,o)),i=o}return t+"("+i+")"};function Xr(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){var n=ji((function(e){var n,i;return null==(i=t.extractRehydrationInfo)?void 0:i.call(t,e,{reducerPath:null!=(n=t.reducerPath)?n:"api"})})),i=cr(sr({reducerPath:"api",keepUnusedDataFor:60,refetchOnMountOrArgChange:!1,refetchOnFocus:!1,refetchOnReconnect:!1},t),{extractRehydrationInfo:n,serializeQueryArgs:function(e){var n=jr;if("serializeQueryArgs"in e.endpointDefinition){var i=e.endpointDefinition.serializeQueryArgs;n=function(e){var t=i(e);return"string"===typeof t?t:jr(cr(sr({},e),{queryArgs:t}))}}else t.serializeQueryArgs&&(n=t.serializeQueryArgs);return n(e)},tagTypes:$i([],t.tagTypes||[])}),r={endpointDefinitions:{},batch:function(e){e()},apiUid:yi(),extractRehydrationInfo:n,hasRehydrationInfo:ji((function(e){return null!=n(e)}))},o={injectEndpoints:function(e){for(var t=e.endpoints({query:function(e){return cr(sr({},e),{type:Ur.query})},mutation:function(e){return cr(sr({},e),{type:Ur.mutation})}}),n=0,i=Object.entries(t);n<i.length;n++){var s=i[n],c=s[0],l=s[1];if(e.overrideExisting||!(c in r.endpointDefinitions)){r.endpointDefinitions[c]=l;for(var d=0,u=a;d<u.length;d++){u[d].injectEndpoint(c,l)}}}return o},enhanceEndpoints:function(e){var t=e.addTagTypes,n=e.endpoints;if(t)for(var a=0,s=t;a<s.length;a++){var c=s[a];i.tagTypes.includes(c)||i.tagTypes.push(c)}if(n)for(var l=0,d=Object.entries(n);l<d.length;l++){var u=d[l],h=u[0],A=u[1];"function"===typeof A?A(r.endpointDefinitions[h]):Object.assign(r.endpointDefinitions[h]||{},A)}return o}},a=e.map((function(e){return e.init(o,i,r)}));return o.injectEndpoints({endpoints:t.endpoints})}}var Kr,Hr=function(e){var t=e.reducerPath,n=e.api,i=e.context,r=e.internalState,o=n.internalActions,a=o.removeQueryResult,s=o.unsubscribeQueryResult;function c(e){var t=r.currentSubscriptions[e];return!!t&&!function(e){for(var t in e)return!1;return!0}(t)}var l={};function d(e,t,n,r){var o,s=i.endpointDefinitions[t],d=null!=(o=null==s?void 0:s.keepUnusedDataFor)?o:r.keepUnusedDataFor;if(d!==1/0){var u=Math.max(0,Math.min(d,2147482.647));if(!c(e)){var h=l[e];h&&clearTimeout(h),l[e]=setTimeout((function(){c(e)||n.dispatch(a({queryCacheKey:e})),delete l[e]}),1e3*u)}}}return function(e,r,o){var a;if(s.match(e)){var c=r.getState()[t];d(I=e.payload.queryCacheKey,null==(a=c.queries[I])?void 0:a.endpointName,r,c.config)}if(n.util.resetApiState.match(e))for(var u=0,h=Object.entries(l);u<h.length;u++){var A=h[u],p=A[0],g=A[1];g&&clearTimeout(g),delete l[p]}if(i.hasRehydrationInfo(e)){c=r.getState()[t];for(var f=i.extractRehydrationInfo(e).queries,m=0,E=Object.entries(f);m<E.length;m++){var C=E[m],I=C[0],Q=C[1];d(I,null==Q?void 0:Q.endpointName,r,c.config)}}}},zr=function(e){var t=e.reducerPath,n=e.context,i=e.context.endpointDefinitions,r=e.mutationThunk,o=e.api,a=e.assertTagType,s=e.refetchQuery,c=o.internalActions.removeQueryResult,l=Ni(Wi(r),Zi(r));function d(e,i){var r=i.getState(),a=r[t],l=o.util.selectInvalidatedBy(r,e);n.batch((function(){for(var e,t=0,n=Array.from(l.values());t<n.length;t++){var r=n[t].queryCacheKey,o=a.queries[r],d=null!=(e=a.subscriptions[r])?e:{};o&&(0===Object.keys(d).length?i.dispatch(c({queryCacheKey:r})):o.status!==Ki.uninitialized&&i.dispatch(s(o,r)))}}))}return function(e,t){l(e)&&d(Dr(e,"invalidatesTags",i,a),t),o.util.invalidateTags.match(e)&&d(Br(e.payload,void 0,void 0,void 0,void 0,a),t)}},qr=function(e){var t=e.reducerPath,n=e.queryThunk,i=e.api,r=e.refetchQuery,o=e.internalState,a={};function s(e,n){var i=e.queryCacheKey,s=n.getState()[t].queries[i],c=o.currentSubscriptions[i];if(s&&s.status!==Ki.uninitialized){var l=d(c);if(Number.isFinite(l)){var u=a[i];(null==u?void 0:u.timeout)&&(clearTimeout(u.timeout),u.timeout=void 0);var h=Date.now()+l,A=a[i]={nextPollTimestamp:h,pollingInterval:l,timeout:setTimeout((function(){A.timeout=void 0,n.dispatch(r(s,i))}),l)}}}}function c(e,n){var i=e.queryCacheKey,r=n.getState()[t].queries[i],c=o.currentSubscriptions[i];if(r&&r.status!==Ki.uninitialized){var u=d(c);if(Number.isFinite(u)){var h=a[i],A=Date.now()+u;(!h||A<h.nextPollTimestamp)&&s({queryCacheKey:i},n)}else l(i)}}function l(e){var t=a[e];(null==t?void 0:t.timeout)&&clearTimeout(t.timeout),delete a[e]}function d(e){void 0===e&&(e={});var t=Number.POSITIVE_INFINITY;for(var n in e)e[n].pollingInterval&&(t=Math.min(e[n].pollingInterval,t));return t}return function(e,t){(i.internalActions.updateSubscriptionOptions.match(e)||i.internalActions.unsubscribeQueryResult.match(e))&&c(e.payload,t),(n.pending.match(e)||n.rejected.match(e)&&e.meta.condition)&&c(e.meta.arg,t),(n.fulfilled.match(e)||n.rejected.match(e)&&!e.meta.condition)&&s(e.meta.arg,t),i.util.resetApiState.match(e)&&function(){for(var e=0,t=Object.keys(a);e<t.length;e++){l(t[e])}}()}},$r=new Error("Promise never resolved before cacheEntryRemoved."),eo=function(e){var t=e.api,n=e.reducerPath,i=e.context,r=e.queryThunk,o=e.mutationThunk,a=(e.internalState,Oi(r)),s=Oi(o),c=Wi(r,o),l={};function d(e,n,r,o,a){var s=i.endpointDefinitions[e],c=null==s?void 0:s.onCacheEntryAdded;if(c){var d={},u=new Promise((function(e){d.cacheEntryRemoved=e})),h=Promise.race([new Promise((function(e){d.valueResolved=e})),u.then((function(){throw $r}))]);h.catch((function(){})),l[r]=d;var A=t.endpoints[e].select(s.type===Ur.query?n:r),p=o.dispatch((function(e,t,n){return n})),g=cr(sr({},o),{getCacheEntry:function(){return A(o.getState())},requestId:a,extra:p,updateCachedData:s.type===Ur.query?function(i){return o.dispatch(t.util.updateQueryData(e,n,i))}:void 0,cacheDataLoaded:h,cacheEntryRemoved:u}),f=c(n,g);Promise.resolve(f).catch((function(e){if(e!==$r)throw e}))}}return function(e,i,u){var h=function(e){return a(e)?e.meta.arg.queryCacheKey:s(e)?e.meta.requestId:t.internalActions.removeQueryResult.match(e)?e.payload.queryCacheKey:t.internalActions.removeMutationResult.match(e)?Zr(e.payload):""}(e);if(r.pending.match(e)){var A=u[n].queries[h],p=i.getState()[n].queries[h];!A&&p&&d(e.meta.arg.endpointName,e.meta.arg.originalArgs,h,i,e.meta.requestId)}else if(o.pending.match(e)){(p=i.getState()[n].mutations[h])&&d(e.meta.arg.endpointName,e.meta.arg.originalArgs,h,i,e.meta.requestId)}else if(c(e)){(null==(C=l[h])?void 0:C.valueResolved)&&(C.valueResolved({data:e.payload,meta:e.meta.baseQueryMeta}),delete C.valueResolved)}else if(t.internalActions.removeQueryResult.match(e)||t.internalActions.removeMutationResult.match(e)){(C=l[h])&&(delete l[h],C.cacheEntryRemoved())}else if(t.util.resetApiState.match(e))for(var g=0,f=Object.entries(l);g<f.length;g++){var m=f[g],E=m[0],C=m[1];delete l[E],C.cacheEntryRemoved()}}},to=function(e){var t=e.api,n=e.context,i=e.queryThunk,r=e.mutationThunk,o=Di(i,r),a=Vi(i,r),s=Wi(i,r),c={};return function(e,i){var r,l,d;if(o(e)){var u=e.meta,h=u.requestId,A=u.arg,p=A.endpointName,g=A.originalArgs,f=n.endpointDefinitions[p],m=null==f?void 0:f.onQueryStarted;if(m){var E={},C=new Promise((function(e,t){E.resolve=e,E.reject=t}));C.catch((function(){})),c[h]=E;var I=t.endpoints[p].select(f.type===Ur.query?g:h),Q=i.dispatch((function(e,t,n){return n})),U=cr(sr({},i),{getCacheEntry:function(){return I(i.getState())},requestId:h,extra:Q,updateCachedData:f.type===Ur.query?function(e){return i.dispatch(t.util.updateQueryData(p,g,e))}:void 0,queryFulfilled:C});m(g,U)}}else if(s(e)){var y=e.meta,b=(h=y.requestId,y.baseQueryMeta);null==(r=c[h])||r.resolve({data:e.payload,meta:b}),delete c[h]}else if(a(e)){var v=e.meta,R=(h=v.requestId,v.rejectedWithValue);b=v.baseQueryMeta;null==(d=c[h])||d.reject({error:null!=(l=e.payload)?l:e.error,isUnhandledError:!R,meta:b}),delete c[h]}}},no=function(e){var t=e.api,n=e.context.apiUid;e.reducerPath;return function(e,i){t.util.resetApiState.match(e)&&i.dispatch(t.internalActions.middlewareRegistered(n))}},io="function"===typeof queueMicrotask?queueMicrotask.bind("undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:globalThis):function(e){return(Kr||(Kr=Promise.resolve())).then(e).catch((function(e){return setTimeout((function(){throw e}),0)}))},ro=function(e){var t=e.api,n=e.queryThunk,i=e.internalState,r=t.reducerPath+"/subscriptions",o=null,a=!1,s=t.internalActions,c=s.updateSubscriptionOptions,l=s.unsubscribeQueryResult;return function(e,s){var d,u;if(o||(o=JSON.parse(JSON.stringify(i.currentSubscriptions))),t.util.resetApiState.match(e))return o=i.currentSubscriptions={},[!0,!1];if(t.internalActions.internal_probeSubscription.match(e)){var h=e.payload,A=h.queryCacheKey,p=h.requestId;return[!1,!!(null==(d=i.currentSubscriptions[A])?void 0:d[p])]}var g=function(e,i){var r,o,a,s,d,u,h,A,p;if(c.match(i)){var g=i.payload,f=g.queryCacheKey,m=g.requestId,E=g.options;return(null==(r=null==e?void 0:e[f])?void 0:r[m])&&(e[f][m]=E),!0}if(l.match(i)){var C=i.payload;return f=C.queryCacheKey,m=C.requestId,e[f]&&delete e[f][m],!0}if(t.internalActions.removeQueryResult.match(i))return delete e[i.payload.queryCacheKey],!0;if(n.pending.match(i)){var I=i.meta,Q=I.arg;if(m=I.requestId,Q.subscribe)return(U=null!=(a=e[o=Q.queryCacheKey])?a:e[o]={})[m]=null!=(d=null!=(s=Q.subscriptionOptions)?s:U[m])?d:{},!0}if(n.rejected.match(i)){var U,y=i.meta,b=y.condition;if(Q=y.arg,m=y.requestId,b&&Q.subscribe)return(U=null!=(h=e[u=Q.queryCacheKey])?h:e[u]={})[m]=null!=(p=null!=(A=Q.subscriptionOptions)?A:U[m])?p:{},!0}return!1}(i.currentSubscriptions,e);if(g){a||(io((function(){var e=JSON.parse(JSON.stringify(i.currentSubscriptions)),n=kn(o,(function(){return e}))[1];s.next(t.internalActions.subscriptionsUpdated(n)),o=e,a=!1})),a=!0);var f=!!(null==(u=e.type)?void 0:u.startsWith(r)),m=n.rejected.match(e)&&e.meta.condition&&!!e.meta.arg.subscribe;return[!f&&!m,!1]}return[!0,!1]}};function oo(e){var t=e.reducerPath,n=e.queryThunk,i=e.api,r=e.context,o=r.apiUid,a={invalidateTags:fi(t+"/invalidateTags")},s=[no,Hr,zr,qr,eo,to];return{middleware:function(n){var a=!1,l=cr(sr({},e),{internalState:{currentSubscriptions:{}},refetchQuery:c}),d=s.map((function(e){return e(l)})),u=ro(l),h=function(e){var t=e.reducerPath,n=e.context,i=e.api,r=e.refetchQuery,o=e.internalState,a=i.internalActions.removeQueryResult;function s(e,i){var s=e.getState()[t],c=s.queries,l=o.currentSubscriptions;n.batch((function(){for(var t=0,n=Object.keys(l);t<n.length;t++){var o=n[t],d=c[o],u=l[o];u&&d&&(Object.values(u).some((function(e){return!0===e[i]}))||Object.values(u).every((function(e){return void 0===e[i]}))&&s.config[i])&&(0===Object.keys(u).length?e.dispatch(a({queryCacheKey:o})):d.status!==Ki.uninitialized&&e.dispatch(r(d,o)))}}))}return function(e,t){br.match(e)&&s(t,"refetchOnFocus"),Rr.match(e)&&s(t,"refetchOnReconnect")}}(l);return function(e){return function(s){a||(a=!0,n.dispatch(i.internalActions.middlewareRegistered(o)));var c,l=cr(sr({},n),{next:e}),A=n.getState(),p=u(s,l,A),g=p[0],f=p[1];if(c=g?e(s):f,n.getState()[t]&&(h(s,l,A),function(e){return!!e&&"string"===typeof e.type&&e.type.startsWith(t+"/")}(s)||r.hasRehydrationInfo(s)))for(var m=0,E=d;m<E.length;m++){(0,E[m])(s,l,A)}return c}}},actions:a};function c(e,t,i){return void 0===i&&(i={}),n(sr({type:"query",endpointName:e.endpointName,originalArgs:e.originalArgs,subscribe:!1,forceRefetch:!0,queryCacheKey:t},i))}}function ao(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];Object.assign.apply(Object,$i([e],t))}var so=Symbol(),co=function(){return{name:so,init:function(e,t,n){var i=t.baseQuery,r=(t.tagTypes,t.reducerPath),o=t.serializeQueryArgs,a=t.keepUnusedDataFor,s=t.refetchOnMountOrArgChange,c=t.refetchOnFocus,l=t.refetchOnReconnect;gn();var d=function(e){return e};Object.assign(e,{reducerPath:r,endpoints:{},internalActions:{onOnline:Rr,onOffline:Sr,onFocus:br,onFocusLost:vr},util:{}});var u=function(e){var t=this,n=e.reducerPath,i=e.baseQuery,r=e.context.endpointDefinitions,o=e.serializeQueryArgs,a=e.api,s=e.assertTagType,c=function(e,n){return dr(t,[e,n],(function(e,t){var n,o,a,s,c,d,u,h,A,p,g,f,m,E=t.signal,C=t.abort,I=t.rejectWithValue,Q=t.fulfillWithValue,U=t.dispatch,y=t.getState,b=t.extra;return qi(this,(function(t){switch(t.label){case 0:n=r[e.endpointName],t.label=1;case 1:return t.trys.push([1,8,,13]),o=kr,a=void 0,s={signal:E,abort:C,dispatch:U,getState:y,extra:b,endpoint:e.endpointName,type:e.type,forced:"query"===e.type?l(e,y()):void 0},(c="query"===e.type?e[_r]:void 0)?(a=c(),[3,6]):[3,2];case 2:return n.query?[4,i(n.query(e.originalArgs),s,n.extraOptions)]:[3,4];case 3:return a=t.sent(),n.transformResponse&&(o=n.transformResponse),[3,6];case 4:return[4,n.queryFn(e.originalArgs,s,n.extraOptions,(function(e){return i(e,s,n.extraOptions)}))];case 5:a=t.sent(),t.label=6;case 6:if(a.error)throw new Qr(a.error,a.meta);return d=Q,[4,o(a.data,a.meta,e.originalArgs)];case 7:return[2,d.apply(void 0,[t.sent(),(f={fulfilledTimeStamp:Date.now(),baseQueryMeta:a.meta},f[Mi]=!0,f)])];case 8:if(u=t.sent(),!((h=u)instanceof Qr))return[3,12];A=kr,n.query&&n.transformErrorResponse&&(A=n.transformErrorResponse),t.label=9;case 9:return t.trys.push([9,11,,12]),p=I,[4,A(h.value,h.meta,e.originalArgs)];case 10:return[2,p.apply(void 0,[t.sent(),(m={baseQueryMeta:h.meta},m[Mi]=!0,m)])];case 11:return g=t.sent(),h=g,[3,12];case 12:throw console.error(h),h;case 13:return[2]}}))}))};function l(e,t){var i,r,o,a,s=null==(r=null==(i=t[n])?void 0:i.queries)?void 0:r[e.queryCacheKey],c=null==(o=t[n])?void 0:o.config.refetchOnMountOrArgChange,l=null==s?void 0:s.fulfilledTimeStamp,d=null!=(a=e.forceRefetch)?a:e.subscribe&&c;return!!d&&(!0===d||(Number(new Date)-Number(l))/1e3>=d)}var d=Fi(n+"/executeQuery",c,{getPendingMeta:function(){var e;return(e={startedTimeStamp:Date.now()})[Mi]=!0,e},condition:function(e,t){var i,o,a,s=(0,t.getState)(),c=null==(o=null==(i=s[n])?void 0:i.queries)?void 0:o[e.queryCacheKey],d=null==c?void 0:c.fulfilledTimeStamp,u=e.originalArgs,h=null==c?void 0:c.originalArgs,A=r[e.endpointName];return!!wr(e)||"pending"!==(null==c?void 0:c.status)&&(!!l(e,s)||!(!Fr(A)||!(null==(a=null==A?void 0:A.forceRefetch)?void 0:a.call(A,{currentArg:u,previousArg:h,endpointState:c,state:s})))||!d)},dispatchConditionRejection:!0}),u=Fi(n+"/executeMutation",c,{getPendingMeta:function(){var e;return(e={startedTimeStamp:Date.now()})[Mi]=!0,e}});function h(e){return function(t){var n,i;return(null==(i=null==(n=null==t?void 0:t.meta)?void 0:n.arg)?void 0:i.endpointName)===e}}return{queryThunk:d,mutationThunk:u,prefetch:function(e,t,n){return function(i,r){var o=function(e){return"force"in e}(n)&&n.force,s=function(e){return"ifOlderThan"in e}(n)&&n.ifOlderThan,c=function(n){return void 0===n&&(n=!0),a.endpoints[e].initiate(t,{forceRefetch:n})},l=a.endpoints[e].select(t)(r());if(o)i(c());else if(s){var d=null==l?void 0:l.fulfilledTimeStamp;if(!d)return void i(c());(Number(new Date)-Number(new Date(d)))/1e3>=s&&i(c())}else i(c(!1))}},updateQueryData:function(e,t,n,i){return void 0===i&&(i=!0),function(r,o){var s,c,l,d=a.endpoints[e].select(t)(o()),u={patches:[],inversePatches:[],undo:function(){return r(a.util.patchQueryData(e,t,u.inversePatches,i))}};if(d.status===Ki.uninitialized)return u;if("data"in d)if(kt(d.data)){var h=kn(d.data,n),A=h[0],p=h[1],g=h[2];(s=u.patches).push.apply(s,p),(c=u.inversePatches).push.apply(c,g),l=A}else l=n(d.data),u.patches.push({op:"replace",path:[],value:l}),u.inversePatches.push({op:"replace",path:[],value:d.data});return r(a.util.patchQueryData(e,t,u.patches,i)),u}},upsertQueryData:function(e,t,n){return function(i){var r;return i(a.endpoints[e].initiate(t,((r={subscribe:!1,forceRefetch:!0})[_r]=function(){return{data:n}},r)))}},patchQueryData:function(e,t,n,i){return function(c,l){var d=r[e],u=o({queryArgs:t,endpointDefinition:d,endpointName:e});if(c(a.internalActions.queryResultPatched({queryCacheKey:u,patches:n})),i){var h=a.endpoints[e].select(t)(l()),A=Br(d.providesTags,h.data,void 0,t,{},s);c(a.internalActions.updateProvidedBy({queryCacheKey:u,providedTags:A}))}}},buildMatchThunkActions:function(e,t){return{matchPending:_i(Di(e),h(t)),matchFulfilled:_i(Wi(e),h(t)),matchRejected:_i(Vi(e),h(t))}}}}({baseQuery:i,reducerPath:r,context:n,api:e,serializeQueryArgs:o,assertTagType:d}),h=u.queryThunk,A=u.mutationThunk,p=u.patchQueryData,g=u.updateQueryData,f=u.upsertQueryData,m=u.prefetch,E=u.buildMatchThunkActions,C=Jr({context:n,queryThunk:h,mutationThunk:A,reducerPath:r,assertTagType:d,config:{refetchOnFocus:c,refetchOnReconnect:l,refetchOnMountOrArgChange:s,keepUnusedDataFor:a,reducerPath:r}}),I=C.reducer,Q=C.actions;ao(e.util,{patchQueryData:p,updateQueryData:g,upsertQueryData:f,prefetch:m,resetApiState:Q.resetApiState}),ao(e.internalActions,Q);var U=oo({reducerPath:r,context:n,queryThunk:h,mutationThunk:A,api:e,assertTagType:d}),y=U.middleware,b=U.actions;ao(e.util,b),ao(e,{reducer:I,middleware:y});var v=Gr({serializeQueryArgs:o,reducerPath:r}),R=v.buildQuerySelector,S=v.buildMutationSelector,F=v.selectInvalidatedBy;ao(e.util,{selectInvalidatedBy:F});var B=function(e){var t=e.serializeQueryArgs,n=e.queryThunk,i=e.mutationThunk,r=e.api,o=e.context,a=new Map,s=new Map,c=r.internalActions,l=c.unsubscribeQueryResult,d=c.removeMutationResult,u=c.updateSubscriptionOptions;return{buildInitiateQuery:function(e,i){var o=function(s,c){var d=void 0===c?{}:c,A=d.subscribe,p=void 0===A||A,g=d.forceRefetch,f=d.subscriptionOptions,m=d[_r];return function(c,d){var A,E,C=t({queryArgs:s,endpointDefinition:i,endpointName:e}),I=n(((A={type:"query",subscribe:p,forceRefetch:g,subscriptionOptions:f,endpointName:e,originalArgs:s,queryCacheKey:C})[_r]=m,A)),Q=r.endpoints[e].select(s),U=c(I),y=Q(d());h(c);var b=U.requestId,v=U.abort,R=y.requestId!==b,S=null==(E=a.get(c))?void 0:E[C],F=function(){return Q(d())},B=Object.assign(m?U.then(F):R&&!S?Promise.resolve(y):Promise.all([S,U]).then(F),{arg:s,requestId:b,subscriptionOptions:f,queryCacheKey:C,abort:v,unwrap:function(){return dr(this,null,(function(){var e;return qi(this,(function(t){switch(t.label){case 0:return[4,B];case 1:if((e=t.sent()).isError)throw e.error;return[2,e.data]}}))}))},refetch:function(){return c(o(s,{subscribe:!1,forceRefetch:!0}))},unsubscribe:function(){p&&c(l({queryCacheKey:C,requestId:b}))},updateSubscriptionOptions:function(t){B.subscriptionOptions=t,c(u({endpointName:e,requestId:b,queryCacheKey:C,options:t}))}});if(!S&&!R&&!m){var T=a.get(c)||{};T[C]=B,a.set(c,T),B.then((function(){delete T[C],Object.keys(T).length||a.delete(c)}))}return B}};return o},buildInitiateMutation:function(e){return function(t,n){var r=void 0===n?{}:n,o=r.track,a=void 0===o||o,c=r.fixedCacheKey;return function(n,r){var o=i({type:"mutation",endpointName:e,originalArgs:t,track:a,fixedCacheKey:c}),l=n(o);h(n);var u=l.requestId,A=l.abort,p=l.unwrap,g=l.unwrap().then((function(e){return{data:e}})).catch((function(e){return{error:e}})),f=function(){n(d({requestId:u,fixedCacheKey:c}))},m=Object.assign(g,{arg:l.arg,requestId:u,abort:A,unwrap:p,unsubscribe:f,reset:f}),E=s.get(n)||{};return s.set(n,E),E[u]=m,m.then((function(){delete E[u],Object.keys(E).length||s.delete(n)})),c&&(E[c]=m,m.then((function(){E[c]===m&&(delete E[c],Object.keys(E).length||s.delete(n))}))),m}}},getRunningQueryThunk:function(e,n){return function(i){var r,s=o.endpointDefinitions[e],c=t({queryArgs:n,endpointDefinition:s,endpointName:e});return null==(r=a.get(i))?void 0:r[c]}},getRunningMutationThunk:function(e,t){return function(e){var n;return null==(n=s.get(e))?void 0:n[t]}},getRunningQueriesThunk:function(){return function(e){return Object.values(a.get(e)||{}).filter(Nr)}},getRunningMutationsThunk:function(){return function(e){return Object.values(s.get(e)||{}).filter(Nr)}},getRunningOperationPromises:function(){var e=function(e){return Array.from(e.values()).flatMap((function(e){return e?Object.values(e):[]}))};return $i($i([],e(a)),e(s)).filter(Nr)},removalWarning:function(){throw new Error("This method had to be removed due to a conceptual bug in RTK.\n       Please see https://github.com/reduxjs/redux-toolkit/pull/2481 for details.\n       See https://redux-toolkit.js.org/rtk-query/usage/server-side-rendering for new guidance on SSR.")}};function h(e){}}({queryThunk:h,mutationThunk:A,api:e,serializeQueryArgs:o,context:n}),T=B.buildInitiateQuery,N=B.buildInitiateMutation,_=B.getRunningMutationThunk,w=B.getRunningMutationsThunk,k=B.getRunningQueriesThunk,D=B.getRunningQueryThunk,V=B.getRunningOperationPromises,Z=B.removalWarning;return ao(e.util,{getRunningOperationPromises:V,getRunningOperationPromise:Z,getRunningMutationThunk:_,getRunningMutationsThunk:w,getRunningQueryThunk:D,getRunningQueriesThunk:k}),{name:so,injectEndpoint:function(t,n){var i,r=e;null!=(i=r.endpoints)[t]||(i[t]={}),Fr(n)?ao(r.endpoints[t],{name:t,select:R(t,n),initiate:T(t,n)},E(h,t)):function(e){return e.type===Ur.mutation}(n)&&ao(r.endpoints[t],{name:t,select:S(),initiate:N(t)},E(A,t))}}}}},lo=(co(),function(e,t){for(var n=0,i=t.length,r=e.length;n<i;n++,r++)e[r]=t[n];return e}),uo=Object.defineProperty,ho=Object.defineProperties,Ao=Object.getOwnPropertyDescriptors,po=Object.getOwnPropertySymbols,go=Object.prototype.hasOwnProperty,fo=Object.prototype.propertyIsEnumerable,mo=function(e,t,n){return t in e?uo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Eo=function(e,t){for(var n in t||(t={}))go.call(t,n)&&mo(e,n,t[n]);if(po)for(var i=0,r=po(t);i<r.length;i++){n=r[i];fo.call(t,n)&&mo(e,n,t[n])}return e},Co=function(e,t){return ho(e,Ao(t))};function Io(e,n,i,r){var o=(0,t.useMemo)((function(){return{queryArgs:e,serialized:"object"==typeof e?n({queryArgs:e,endpointDefinition:i,endpointName:r}):e}}),[e,n,i,r]),a=(0,t.useRef)(o);return(0,t.useEffect)((function(){a.current.serialized!==o.serialized&&(a.current=o)}),[o]),a.current.serialized===o.serialized?a.current.queryArgs:e}var Qo=Symbol();function Uo(e){var n=(0,t.useRef)(e);return(0,t.useEffect)((function(){Tt(n.current,e)||(n.current=e)}),[e]),Tt(n.current,e)?n.current:e}var yo,bo=WeakMap?new WeakMap:void 0,vo=function(e){var t=e.endpointName,n=e.queryArgs,i="",r=null==bo?void 0:bo.get(n);if("string"===typeof r)i=r;else{var o=JSON.stringify(n,(function(e,t){return pi(t)?Object.keys(t).sort().reduce((function(e,n){return e[n]=t[n],e}),{}):t}));pi(n)&&(null==bo||bo.set(n,o)),i=o}return t+"("+i+")"},Ro="undefined"!==typeof window&&window.document&&window.document.createElement?t.useLayoutEffect:t.useEffect,So=function(e){return e},Fo=function(e){return e.isUninitialized?Co(Eo({},e),{isUninitialized:!1,isFetching:!0,isLoading:void 0===e.data,status:Ki.pending}):e};function Bo(e){return e.replace(e[0],e[0].toUpperCase())}function To(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];Object.assign.apply(Object,lo([e],t))}!function(e){e.query="query",e.mutation="mutation"}(yo||(yo={}));var No=Symbol();var _o=Xr(co(),function(e){var n=void 0===e?{}:e,i=n.batch,r=void 0===i?o.unstable_batchedUpdates:i,a=n.useDispatch,s=void 0===a?Ft:a,c=n.useSelector,l=void 0===c?Ct:c,d=n.useStore,u=void 0===d?Rt:d,h=n.unstable__sideEffectsInRender,A=void 0!==h&&h;return{name:No,init:function(e,n,i){var o=n.serializeQueryArgs,a=e,c=function(e){var n=e.api,i=e.moduleOptions,r=i.batch,o=i.useDispatch,a=i.useSelector,s=i.useStore,c=i.unstable__sideEffectsInRender,l=e.serializeQueryArgs,d=e.context,u=c?function(e){return e()}:t.useEffect;return{buildQueryHooks:function(e){var i=function(i,r){var a=void 0===r?{}:r,s=a.refetchOnReconnect,c=a.refetchOnFocus,l=a.refetchOnMountOrArgChange,h=a.skip,A=void 0!==h&&h,p=a.pollingInterval,g=void 0===p?0:p,f=n.endpoints[e].initiate,m=o(),E=Io(A?xr:i,vo,d.endpointDefinitions[e],e),C=Uo({refetchOnReconnect:s,refetchOnFocus:c,pollingInterval:g}),I=(0,t.useRef)(!1),Q=(0,t.useRef)(),U=Q.current||{},y=U.queryCacheKey,b=U.requestId,v=!1;if(y&&b){var R=m(n.internalActions.internal_probeSubscription({queryCacheKey:y,requestId:b}));v=!!R}var S=!v&&I.current;return u((function(){I.current=v})),u((function(){S&&(Q.current=void 0)}),[S]),u((function(){var e,t=Q.current;if(E===xr)return null==t||t.unsubscribe(),void(Q.current=void 0);var n=null==(e=Q.current)?void 0:e.subscriptionOptions;if(t&&t.arg===E)C!==n&&t.updateSubscriptionOptions(C);else{null==t||t.unsubscribe();var i=m(f(E,{subscriptionOptions:C,forceRefetch:l}));Q.current=i}}),[m,f,l,E,C,S]),(0,t.useEffect)((function(){return function(){var e;null==(e=Q.current)||e.unsubscribe(),Q.current=void 0}}),[]),(0,t.useMemo)((function(){return{refetch:function(){var e;if(!Q.current)throw new Error("Cannot refetch a query that has not been started yet.");return null==(e=Q.current)?void 0:e.refetch()}}}),[])},c=function(i){var a=void 0===i?{}:i,s=a.refetchOnReconnect,c=a.refetchOnFocus,l=a.pollingInterval,d=void 0===l?0:l,h=n.endpoints[e].initiate,A=o(),p=(0,t.useState)(Qo),g=p[0],f=p[1],m=(0,t.useRef)(),E=Uo({refetchOnReconnect:s,refetchOnFocus:c,pollingInterval:d});u((function(){var e,t,n=null==(e=m.current)?void 0:e.subscriptionOptions;E!==n&&(null==(t=m.current)||t.updateSubscriptionOptions(E))}),[E]);var C=(0,t.useRef)(E);u((function(){C.current=E}),[E]);var I=(0,t.useCallback)((function(e,t){var n;return void 0===t&&(t=!1),r((function(){var i;null==(i=m.current)||i.unsubscribe(),m.current=n=A(h(e,{subscriptionOptions:C.current,forceRefetch:!t})),f(e)})),n}),[A,h]);return(0,t.useEffect)((function(){return function(){var e;null==(e=null==m?void 0:m.current)||e.unsubscribe()}}),[]),(0,t.useEffect)((function(){g===Qo||m.current||I(g,!0)}),[g,I]),(0,t.useMemo)((function(){return[I,g]}),[I,g])},A=function(i,r){var o=void 0===r?{}:r,c=o.skip,u=void 0!==c&&c,A=o.selectFromResult,p=n.endpoints[e].select,g=Io(u?xr:i,l,d.endpointDefinitions[e],e),f=(0,t.useRef)(),m=(0,t.useMemo)((function(){return zi([p(g),function(e,t){return t},function(e){return g}],h)}),[p,g]),E=(0,t.useMemo)((function(){return A?zi([m],A):m}),[m,A]),C=a((function(e){return E(e,f.current)}),Tt),I=s(),Q=m(I.getState(),f.current);return Ro((function(){f.current=Q}),[Q]),C};return{useQueryState:A,useQuerySubscription:i,useLazyQuerySubscription:c,useLazyQuery:function(e){var n=c(e),i=n[0],r=n[1],o=A(r,Co(Eo({},e),{skip:r===Qo})),a=(0,t.useMemo)((function(){return{lastArg:r}}),[r]);return(0,t.useMemo)((function(){return[i,o,a]}),[i,o,a])},useQuery:function(e,n){var r=i(e,n),o=A(e,Eo({selectFromResult:e===xr||(null==n?void 0:n.skip)?void 0:Fo},n)),a=o.data,s=o.status,c=o.isLoading,l=o.isSuccess,d=o.isError,u=o.error;return(0,t.useDebugValue)({data:a,status:s,isLoading:c,isSuccess:l,isError:d,error:u}),(0,t.useMemo)((function(){return Eo(Eo({},o),r)}),[o,r])}}},buildMutationHook:function(e){return function(i){var s=void 0===i?{}:i,c=s.selectFromResult,l=void 0===c?So:c,d=s.fixedCacheKey,u=n.endpoints[e],h=u.select,A=u.initiate,p=o(),g=(0,t.useState)(),f=g[0],m=g[1];(0,t.useEffect)((function(){return function(){(null==f?void 0:f.arg.fixedCacheKey)||null==f||f.reset()}}),[f]);var E=(0,t.useCallback)((function(e){var t=p(A(e,{fixedCacheKey:d}));return m(t),t}),[p,A,d]),C=(f||{}).requestId,I=(0,t.useMemo)((function(){return zi([h({fixedCacheKey:d,requestId:null==f?void 0:f.requestId})],l)}),[h,f,l,d]),Q=a(I,Tt),U=null==d?null==f?void 0:f.arg.originalArgs:void 0,y=(0,t.useCallback)((function(){r((function(){f&&m(void 0),d&&p(n.internalActions.removeMutationResult({requestId:C,fixedCacheKey:d}))}))}),[p,d,f,C]),b=Q.endpointName,v=Q.data,R=Q.status,S=Q.isLoading,F=Q.isSuccess,B=Q.isError,T=Q.error;(0,t.useDebugValue)({endpointName:b,data:v,status:R,isLoading:S,isSuccess:F,isError:B,error:T});var N=(0,t.useMemo)((function(){return Co(Eo({},Q),{originalArgs:U,reset:y})}),[Q,U,y]);return(0,t.useMemo)((function(){return[E,N]}),[E,N])}},usePrefetch:function(e,i){var r=o(),a=Uo(i);return(0,t.useCallback)((function(t,i){return r(n.util.prefetch(e,t,Eo(Eo({},a),i)))}),[e,r,a])}};function h(e,t,n){if((null==t?void 0:t.endpointName)&&e.isUninitialized){var i=t.endpointName,r=d.endpointDefinitions[i];l({queryArgs:t.originalArgs,endpointDefinition:r,endpointName:i})===l({queryArgs:n,endpointDefinition:r,endpointName:i})&&(t=void 0)}var o=e.isSuccess?e.data:null==t?void 0:t.data;void 0===o&&(o=e.data);var a=void 0!==o,s=e.isLoading,c=!a&&s,u=e.isSuccess||s&&a;return Co(Eo({},e),{data:o,currentData:e.data,isFetching:s,isLoading:c,isSuccess:u})}}({api:e,moduleOptions:{batch:r,useDispatch:s,useSelector:l,useStore:u,unstable__sideEffectsInRender:A},serializeQueryArgs:o,context:i}),d=c.buildQueryHooks,h=c.buildMutationHook,p=c.usePrefetch;return To(a,{usePrefetch:p}),To(i,{batch:r}),{injectEndpoint:function(t,n){if(function(e){return e.type===yo.query}(n)){var i=d(t),r=i.useQuery,o=i.useLazyQuery,s=i.useLazyQuerySubscription,c=i.useQueryState,l=i.useQuerySubscription;To(a.endpoints[t],{useQuery:r,useLazyQuery:o,useLazyQuerySubscription:s,useQueryState:c,useQuerySubscription:l}),e["use"+Bo(t)+"Query"]=r,e["useLazy"+Bo(t)+"Query"]=o}else if(function(e){return e.type===yo.mutation}(n)){var u=h(t);To(a.endpoints[t],{useMutation:u}),e["use"+Bo(t)+"Mutation"]=u}}}}}}());const wo=function(e){var t=this;void 0===e&&(e={});var n=e,i=n.baseUrl,r=n.prepareHeaders,o=void 0===r?function(e){return e}:r,a=n.fetchFn,s=void 0===a?mr:a,c=n.paramsSerializer,l=n.isJsonContentType,d=void 0===l?Cr:l,u=n.jsonContentType,h=void 0===u?"application/json":u,A=n.jsonReplacer,p=n.timeout,g=n.responseHandler,f=n.validateStatus,m=lr(n,["baseUrl","prepareHeaders","fetchFn","paramsSerializer","isJsonContentType","jsonContentType","jsonReplacer","timeout","responseHandler","validateStatus"]);return"undefined"===typeof fetch&&s===mr&&console.warn("Warning: `fetch` is not available. Please supply a custom `fetchFn` property to use `fetchBaseQuery` on SSR environments."),function(e,n){return dr(t,null,(function(){var t,r,a,l,u,C,I,Q,U,y,b,v,R,S,F,B,T,N,_,w,k,D,V,Z,W,O,J,x,M,L,P,G,Y,j,X,K;return qi(this,(function(H){switch(H.label){case 0:return t=n.signal,r=n.getState,a=n.extra,l=n.endpoint,u=n.forced,C=n.type,U=(Q="string"==typeof e?{url:e}:e).url,y=Q.headers,b=void 0===y?new Headers(m.headers):y,v=Q.params,R=void 0===v?void 0:v,S=Q.responseHandler,F=void 0===S?null!=g?g:"json":S,B=Q.validateStatus,T=void 0===B?null!=f?f:Er:B,N=Q.timeout,_=void 0===N?p:N,w=lr(Q,["url","headers","params","responseHandler","validateStatus","timeout"]),k=sr(cr(sr({},m),{signal:t}),w),b=new Headers(Ir(b)),D=k,[4,o(b,{getState:r,extra:a,endpoint:l,forced:u,type:C})];case 1:D.headers=H.sent()||b,V=function(e){return"object"===typeof e&&(pi(e)||Array.isArray(e)||"function"===typeof e.toJSON)},!k.headers.has("content-type")&&V(k.body)&&k.headers.set("content-type",h),V(k.body)&&d(k.headers)&&(k.body=JSON.stringify(k.body,A)),R&&(Z=~U.indexOf("?")?"&":"?",W=c?c(R):new URLSearchParams(Ir(R)),U+=Z+W),U=Ar(i,U),O=new Request(U,k),J=new Request(U,k),I={request:J},M=!1,L=_&&setTimeout((function(){M=!0,n.abort()}),_),H.label=2;case 2:return H.trys.push([2,4,5,6]),[4,s(O)];case 3:return x=H.sent(),[3,6];case 4:return P=H.sent(),[2,{error:{status:M?"TIMEOUT_ERROR":"FETCH_ERROR",error:String(P)},meta:I}];case 5:return L&&clearTimeout(L),[7];case 6:G=x.clone(),I.response=G,j="",H.label=7;case 7:return H.trys.push([7,9,,10]),[4,Promise.all([E(x,F).then((function(e){return Y=e}),(function(e){return X=e})),G.text().then((function(e){return j=e}),(function(){}))])];case 8:if(H.sent(),X)throw X;return[3,10];case 9:return K=H.sent(),[2,{error:{status:"PARSING_ERROR",originalStatus:x.status,data:j,error:String(K)},meta:I}];case 10:return[2,T(x,Y)?{data:Y,meta:I}:{error:{status:x.status,data:Y},meta:I}]}}))}))};function E(e,t){return dr(this,null,(function(){var n;return qi(this,(function(i){switch(i.label){case 0:return"function"===typeof t?[2,t(e)]:("content-type"===t&&(t=d(e.headers)?"json":"text"),"json"!==t?[3,2]:[4,e.text()]);case 1:return[2,(n=i.sent()).length?JSON.parse(n):null];case 2:return[2,e.text()]}}))}))}}({baseUrl:"",prepareHeaders:(e,t)=>{let{getState:n}=t;const i=sessionStorage.getItem("token");return i&&e.set("x-auth-token",i),e}}),ko=_o({baseQuery:wo,tagTypes:["User","Property","Tour"],endpoints:e=>({})}),Do="".concat("http://43.205.115.65","/api/users"),Vo=ko.injectEndpoints({endpoints:e=>({login:e.mutation({query:e=>({url:"".concat(Do,"/auth"),method:"POST",body:e})}),signup:e.mutation({query:e=>({url:"".concat(Do),method:"POST",body:e})}),auth:e.mutation({query:e=>({url:"".concat("http://43.205.115.65","/api/auth"),method:"GET"})}),logout:e.mutation({query:()=>({url:"".concat(Do,"/logout"),method:"POST"})}),updateUser:e.mutation({query:e=>({url:"".concat(Do),method:"PATCH",body:e})}),updateUserBasic:e.mutation({query:e=>({url:"".concat(Do,"/basic/").concat(e.id),method:"POST",body:e})}),getAllUsers:e.mutation({query:()=>({url:"".concat(Do),method:"GET"})}),getUserById:e.mutation({query:e=>({url:"".concat(Do,"/").concat(e),method:"GET"})}),getResetCode:e.mutation({query:e=>({url:"".concat(Do,"/forgotPassword"),method:"POST",body:e})}),resetPassword:e.mutation({query:e=>({url:"".concat(Do,"/resetPassword/").concat(e.id,"/").concat(e.token),method:"POST",body:e})}),sendSms:e.mutation({query:e=>({url:"".concat(Do,"/sms"),method:"POST",body:e})})})}),{useLoginMutation:Zo,useSignupMutation:Wo,useLogoutMutation:Oo,useAuthMutation:Jo,useUpdateUserMutation:xo,useUpdateUserBasicMutation:Mo,useGetAllUsersMutation:Lo,useGetUserByIdMutation:Po,useGetResetCodeMutation:Go,useResetPasswordMutation:Yo,useSendSmsMutation:jo}=Vo,Xo=Ui({name:"auth",initialState:{userInfo:null},reducers:{setCredentials:(e,t)=>{e.userInfo=t.payload,sessionStorage.setItem("userInfo",JSON.stringify(t.payload))},setUsers:(e,t)=>{e.userInfo=Object.values(t.payload)},setSingleUser:(e,t)=>{e.userInfo=t.payload},clearCredentials:(e,t)=>{e.userInfo=null,sessionStorage.removeItem("userInfo"),sessionStorage.removeItem("token")}}}),{setCredentials:Ko,clearCredentials:Ho,setUsers:zo,setSingleUser:qo}=Xo.actions,$o=Xo.reducer,ea=n.p+"static/media/logo2.d17e7ac853982aa0a597.png";function ta(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}function na(){return na=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},na.apply(this,arguments)}function ia(e){var t,n,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=ia(e[t]))&&(i&&(i+=" "),i+=n);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}const ra=function(){for(var e,t,n=0,i="";n<arguments.length;)(e=arguments[n++])&&(t=ia(e))&&(i&&(i+=" "),i+=t);return i};function oa(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;const i={};return Object.keys(e).forEach((r=>{i[r]=e[r].reduce(((e,i)=>{if(i){const r=t(i);""!==r&&e.push(r),n&&n[i]&&e.push(n[i])}return e}),[]).join(" ")})),i}function aa(e){let t="https://mui.com/production-error/?code="+e;for(let n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}function sa(e){if("string"!==typeof e)throw new Error(aa(7));return e.charAt(0).toUpperCase()+e.slice(1)}const ca=sa;function la(e){return null!==e&&"object"===typeof e&&e.constructor===Object}function da(e){if(!la(e))return e;const t={};return Object.keys(e).forEach((n=>{t[n]=da(e[n])})),t}function ua(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0};const i=n.clone?na({},e):e;return la(e)&&la(t)&&Object.keys(t).forEach((r=>{"__proto__"!==r&&(la(t[r])&&r in e&&la(e[r])?i[r]=ua(e[r],t[r],n):n.clone?i[r]=la(t[r])?da(t[r]):t[r]:i[r]=t[r])})),i}const ha={xs:0,sm:600,md:900,lg:1200,xl:1536},Aa={keys:["xs","sm","md","lg","xl"],up:e=>"@media (min-width:".concat(ha[e],"px)")};function pa(e,t,n){const i=e.theme||{};if(Array.isArray(t)){const e=i.breakpoints||Aa;return t.reduce(((i,r,o)=>(i[e.up(e.keys[o])]=n(t[o]),i)),{})}if("object"===typeof t){const e=i.breakpoints||Aa;return Object.keys(t).reduce(((i,r)=>{if(-1!==Object.keys(e.values||ha).indexOf(r)){i[e.up(r)]=n(t[r],r)}else{const e=r;i[e]=t[e]}return i}),{})}return n(t)}function ga(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t;return(null==(t=e.keys)?void 0:t.reduce(((t,n)=>(t[e.up(n)]={},t)),{}))||{}}function fa(e,t){return e.reduce(((e,t)=>{const n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}function ma(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){const n="vars.".concat(t).split(".").reduce(((e,t)=>e&&e[t]?e[t]:null),e);if(null!=n)return n}return t.split(".").reduce(((e,t)=>e&&null!=e[t]?e[t]:null),e)}function Ea(e,t,n){let i,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return i="function"===typeof e?e(n):Array.isArray(e)?e[n]||r:ma(e,n)||r,t&&(i=t(i,r,e)),i}const Ca=function(e){const{prop:t,cssProperty:n=e.prop,themeKey:i,transform:r}=e,o=e=>{if(null==e[t])return null;const o=e[t],a=ma(e.theme,i)||{};return pa(e,o,(e=>{let i=Ea(a,r,e);return e===i&&"string"===typeof e&&(i=Ea(a,r,"".concat(t).concat("default"===e?"":sa(e)),e)),!1===n?i:{[n]:i}}))};return o.propTypes={},o.filterProps=[t],o};const Ia=function(e,t){return t?ua(e,t,{clone:!1}):e};const Qa={m:"margin",p:"padding"},Ua={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},ya={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},ba=function(e){const t={};return n=>(void 0===t[n]&&(t[n]=e(n)),t[n])}((e=>{if(e.length>2){if(!ya[e])return[e];e=ya[e]}const[t,n]=e.split(""),i=Qa[t],r=Ua[n]||"";return Array.isArray(r)?r.map((e=>i+e)):[i+r]})),va=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Ra=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],Sa=[...va,...Ra];function Fa(e,t,n,i){var r;const o=null!=(r=ma(e,t,!1))?r:n;return"number"===typeof o?e=>"string"===typeof e?e:o*e:Array.isArray(o)?e=>"string"===typeof e?e:o[e]:"function"===typeof o?o:()=>{}}function Ba(e){return Fa(e,"spacing",8)}function Ta(e,t){if("string"===typeof t||null==t)return t;const n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}function Na(e,t,n,i){if(-1===t.indexOf(n))return null;const r=function(e,t){return n=>e.reduce(((e,i)=>(e[i]=Ta(t,n),e)),{})}(ba(n),i);return pa(e,e[n],r)}function _a(e,t){const n=Ba(e.theme);return Object.keys(e).map((i=>Na(e,t,i,n))).reduce(Ia,{})}function wa(e){return _a(e,va)}function ka(e){return _a(e,Ra)}function Da(e){return _a(e,Sa)}wa.propTypes={},wa.filterProps=va,ka.propTypes={},ka.filterProps=Ra,Da.propTypes={},Da.filterProps=Sa;const Va=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const i=t.reduce(((e,t)=>(t.filterProps.forEach((n=>{e[n]=t})),e)),{}),r=e=>Object.keys(e).reduce(((t,n)=>i[n]?Ia(t,i[n](e)):t),{});return r.propTypes={},r.filterProps=t.reduce(((e,t)=>e.concat(t.filterProps)),[]),r};function Za(e){return"number"!==typeof e?e:"".concat(e,"px solid")}function Wa(e,t){return Ca({prop:e,themeKey:"borders",transform:t})}const Oa=Wa("border",Za),Ja=Wa("borderTop",Za),xa=Wa("borderRight",Za),Ma=Wa("borderBottom",Za),La=Wa("borderLeft",Za),Pa=Wa("borderColor"),Ga=Wa("borderTopColor"),Ya=Wa("borderRightColor"),ja=Wa("borderBottomColor"),Xa=Wa("borderLeftColor"),Ka=Wa("outline",Za),Ha=Wa("outlineColor"),za=e=>{if(void 0!==e.borderRadius&&null!==e.borderRadius){const t=Fa(e.theme,"shape.borderRadius",4),n=e=>({borderRadius:Ta(t,e)});return pa(e,e.borderRadius,n)}return null};za.propTypes={},za.filterProps=["borderRadius"];Va(Oa,Ja,xa,Ma,La,Pa,Ga,Ya,ja,Xa,za,Ka,Ha);const qa=e=>{if(void 0!==e.gap&&null!==e.gap){const t=Fa(e.theme,"spacing",8),n=e=>({gap:Ta(t,e)});return pa(e,e.gap,n)}return null};qa.propTypes={},qa.filterProps=["gap"];const $a=e=>{if(void 0!==e.columnGap&&null!==e.columnGap){const t=Fa(e.theme,"spacing",8),n=e=>({columnGap:Ta(t,e)});return pa(e,e.columnGap,n)}return null};$a.propTypes={},$a.filterProps=["columnGap"];const es=e=>{if(void 0!==e.rowGap&&null!==e.rowGap){const t=Fa(e.theme,"spacing",8),n=e=>({rowGap:Ta(t,e)});return pa(e,e.rowGap,n)}return null};es.propTypes={},es.filterProps=["rowGap"];Va(qa,$a,es,Ca({prop:"gridColumn"}),Ca({prop:"gridRow"}),Ca({prop:"gridAutoFlow"}),Ca({prop:"gridAutoColumns"}),Ca({prop:"gridAutoRows"}),Ca({prop:"gridTemplateColumns"}),Ca({prop:"gridTemplateRows"}),Ca({prop:"gridTemplateAreas"}),Ca({prop:"gridArea"}));function ts(e,t){return"grey"===t?t:e}Va(Ca({prop:"color",themeKey:"palette",transform:ts}),Ca({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:ts}),Ca({prop:"backgroundColor",themeKey:"palette",transform:ts}));function ns(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}const is=Ca({prop:"width",transform:ns}),rs=e=>{if(void 0!==e.maxWidth&&null!==e.maxWidth){const t=t=>{var n,i;const r=(null==(n=e.theme)||null==(n=n.breakpoints)||null==(n=n.values)?void 0:n[t])||ha[t];return r?"px"!==(null==(i=e.theme)||null==(i=i.breakpoints)?void 0:i.unit)?{maxWidth:"".concat(r).concat(e.theme.breakpoints.unit)}:{maxWidth:r}:{maxWidth:ns(t)}};return pa(e,e.maxWidth,t)}return null};rs.filterProps=["maxWidth"];const os=Ca({prop:"minWidth",transform:ns}),as=Ca({prop:"height",transform:ns}),ss=Ca({prop:"maxHeight",transform:ns}),cs=Ca({prop:"minHeight",transform:ns}),ls=(Ca({prop:"size",cssProperty:"width",transform:ns}),Ca({prop:"size",cssProperty:"height",transform:ns}),Va(is,rs,os,as,ss,cs,Ca({prop:"boxSizing"})),{border:{themeKey:"borders",transform:Za},borderTop:{themeKey:"borders",transform:Za},borderRight:{themeKey:"borders",transform:Za},borderBottom:{themeKey:"borders",transform:Za},borderLeft:{themeKey:"borders",transform:Za},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Za},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:za},color:{themeKey:"palette",transform:ts},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:ts},backgroundColor:{themeKey:"palette",transform:ts},p:{style:ka},pt:{style:ka},pr:{style:ka},pb:{style:ka},pl:{style:ka},px:{style:ka},py:{style:ka},padding:{style:ka},paddingTop:{style:ka},paddingRight:{style:ka},paddingBottom:{style:ka},paddingLeft:{style:ka},paddingX:{style:ka},paddingY:{style:ka},paddingInline:{style:ka},paddingInlineStart:{style:ka},paddingInlineEnd:{style:ka},paddingBlock:{style:ka},paddingBlockStart:{style:ka},paddingBlockEnd:{style:ka},m:{style:wa},mt:{style:wa},mr:{style:wa},mb:{style:wa},ml:{style:wa},mx:{style:wa},my:{style:wa},margin:{style:wa},marginTop:{style:wa},marginRight:{style:wa},marginBottom:{style:wa},marginLeft:{style:wa},marginX:{style:wa},marginY:{style:wa},marginInline:{style:wa},marginInlineStart:{style:wa},marginInlineEnd:{style:wa},marginBlock:{style:wa},marginBlockStart:{style:wa},marginBlockEnd:{style:wa},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:qa},rowGap:{style:es},columnGap:{style:$a},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:ns},maxWidth:{style:rs},minWidth:{transform:ns},height:{transform:ns},maxHeight:{transform:ns},minHeight:{transform:ns},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}}),ds=["sx"],us=e=>{var t,n;const i={systemProps:{},otherProps:{}},r=null!=(t=null==e||null==(n=e.theme)?void 0:n.unstable_sxConfig)?t:ls;return Object.keys(e).forEach((t=>{r[t]?i.systemProps[t]=e[t]:i.otherProps[t]=e[t]})),i};function hs(e){const{sx:t}=e,n=ta(e,ds),{systemProps:i,otherProps:r}=us(n);let o;return o=Array.isArray(t)?[i,...t]:"function"===typeof t?function(){const e=t(...arguments);return la(e)?na({},i,e):i}:na({},i,t),na({},r,{sx:o})}function As(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var ps=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,gs=As((function(e){return ps.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));var fs=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(i){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),ms=Math.abs,Es=String.fromCharCode,Cs=Object.assign;function Is(e){return e.trim()}function Qs(e,t,n){return e.replace(t,n)}function Us(e,t){return e.indexOf(t)}function ys(e,t){return 0|e.charCodeAt(t)}function bs(e,t,n){return e.slice(t,n)}function vs(e){return e.length}function Rs(e){return e.length}function Ss(e,t){return t.push(e),e}var Fs=1,Bs=1,Ts=0,Ns=0,_s=0,ws="";function ks(e,t,n,i,r,o,a){return{value:e,root:t,parent:n,type:i,props:r,children:o,line:Fs,column:Bs,length:a,return:""}}function Ds(e,t){return Cs(ks("",null,null,"",null,null,0),e,{length:-e.length},t)}function Vs(){return _s=Ns>0?ys(ws,--Ns):0,Bs--,10===_s&&(Bs=1,Fs--),_s}function Zs(){return _s=Ns<Ts?ys(ws,Ns++):0,Bs++,10===_s&&(Bs=1,Fs++),_s}function Ws(){return ys(ws,Ns)}function Os(){return Ns}function Js(e,t){return bs(ws,e,t)}function xs(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Ms(e){return Fs=Bs=1,Ts=vs(ws=e),Ns=0,[]}function Ls(e){return ws="",e}function Ps(e){return Is(Js(Ns-1,js(91===e?e+2:40===e?e+1:e)))}function Gs(e){for(;(_s=Ws())&&_s<33;)Zs();return xs(e)>2||xs(_s)>3?"":" "}function Ys(e,t){for(;--t&&Zs()&&!(_s<48||_s>102||_s>57&&_s<65||_s>70&&_s<97););return Js(e,Os()+(t<6&&32==Ws()&&32==Zs()))}function js(e){for(;Zs();)switch(_s){case e:return Ns;case 34:case 39:34!==e&&39!==e&&js(_s);break;case 40:41===e&&js(e);break;case 92:Zs()}return Ns}function Xs(e,t){for(;Zs()&&e+_s!==57&&(e+_s!==84||47!==Ws()););return"/*"+Js(t,Ns-1)+"*"+Es(47===e?e:Zs())}function Ks(e){for(;!xs(Ws());)Zs();return Js(e,Ns)}var Hs="-ms-",zs="-moz-",qs="-webkit-",$s="comm",ec="rule",tc="decl",nc="@keyframes";function ic(e,t){for(var n="",i=Rs(e),r=0;r<i;r++)n+=t(e[r],r,e,t)||"";return n}function rc(e,t,n,i){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case tc:return e.return=e.return||e.value;case $s:return"";case nc:return e.return=e.value+"{"+ic(e.children,i)+"}";case ec:e.value=e.props.join(",")}return vs(n=ic(e.children,i))?e.return=e.value+"{"+n+"}":""}function oc(e){return function(t){t.root||(t=t.return)&&e(t)}}function ac(e){return Ls(sc("",null,null,null,[""],e=Ms(e),0,[0],e))}function sc(e,t,n,i,r,o,a,s,c){for(var l=0,d=0,u=a,h=0,A=0,p=0,g=1,f=1,m=1,E=0,C="",I=r,Q=o,U=i,y=C;f;)switch(p=E,E=Zs()){case 40:if(108!=p&&58==ys(y,u-1)){-1!=Us(y+=Qs(Ps(E),"&","&\f"),"&\f")&&(m=-1);break}case 34:case 39:case 91:y+=Ps(E);break;case 9:case 10:case 13:case 32:y+=Gs(p);break;case 92:y+=Ys(Os()-1,7);continue;case 47:switch(Ws()){case 42:case 47:Ss(lc(Xs(Zs(),Os()),t,n),c);break;default:y+="/"}break;case 123*g:s[l++]=vs(y)*m;case 125*g:case 59:case 0:switch(E){case 0:case 125:f=0;case 59+d:-1==m&&(y=Qs(y,/\f/g,"")),A>0&&vs(y)-u&&Ss(A>32?dc(y+";",i,n,u-1):dc(Qs(y," ","")+";",i,n,u-2),c);break;case 59:y+=";";default:if(Ss(U=cc(y,t,n,l,d,r,s,C,I=[],Q=[],u),o),123===E)if(0===d)sc(y,t,U,U,I,o,u,s,Q);else switch(99===h&&110===ys(y,3)?100:h){case 100:case 108:case 109:case 115:sc(e,U,U,i&&Ss(cc(e,U,U,0,0,r,s,C,r,I=[],u),Q),r,Q,u,s,i?I:Q);break;default:sc(y,U,U,U,[""],Q,0,s,Q)}}l=d=A=0,g=m=1,C=y="",u=a;break;case 58:u=1+vs(y),A=p;default:if(g<1)if(123==E)--g;else if(125==E&&0==g++&&125==Vs())continue;switch(y+=Es(E),E*g){case 38:m=d>0?1:(y+="\f",-1);break;case 44:s[l++]=(vs(y)-1)*m,m=1;break;case 64:45===Ws()&&(y+=Ps(Zs())),h=Ws(),d=u=vs(C=y+=Ks(Os())),E++;break;case 45:45===p&&2==vs(y)&&(g=0)}}return o}function cc(e,t,n,i,r,o,a,s,c,l,d){for(var u=r-1,h=0===r?o:[""],A=Rs(h),p=0,g=0,f=0;p<i;++p)for(var m=0,E=bs(e,u+1,u=ms(g=a[p])),C=e;m<A;++m)(C=Is(g>0?h[m]+" "+E:Qs(E,/&\f/g,h[m])))&&(c[f++]=C);return ks(e,t,n,0===r?ec:s,c,l,d)}function lc(e,t,n){return ks(e,t,n,$s,Es(_s),bs(e,2,-2),0)}function dc(e,t,n,i){return ks(e,t,n,tc,bs(e,0,i),bs(e,i+1,-1),i)}var uc=function(e,t,n){for(var i=0,r=0;i=r,r=Ws(),38===i&&12===r&&(t[n]=1),!xs(r);)Zs();return Js(e,Ns)},hc=function(e,t){return Ls(function(e,t){var n=-1,i=44;do{switch(xs(i)){case 0:38===i&&12===Ws()&&(t[n]=1),e[n]+=uc(Ns-1,t,n);break;case 2:e[n]+=Ps(i);break;case 4:if(44===i){e[++n]=58===Ws()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=Es(i)}}while(i=Zs());return e}(Ms(e),t))},Ac=new WeakMap,pc=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,i=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||Ac.get(n))&&!i){Ac.set(e,!0);for(var r=[],o=hc(t,r),a=n.props,s=0,c=0;s<o.length;s++)for(var l=0;l<a.length;l++,c++)e.props[c]=r[s]?o[s].replace(/&\f/g,a[l]):a[l]+" "+o[s]}}},gc=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function fc(e,t){switch(function(e,t){return 45^ys(e,0)?(((t<<2^ys(e,0))<<2^ys(e,1))<<2^ys(e,2))<<2^ys(e,3):0}(e,t)){case 5103:return qs+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return qs+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return qs+e+zs+e+Hs+e+e;case 6828:case 4268:return qs+e+Hs+e+e;case 6165:return qs+e+Hs+"flex-"+e+e;case 5187:return qs+e+Qs(e,/(\w+).+(:[^]+)/,qs+"box-$1$2"+Hs+"flex-$1$2")+e;case 5443:return qs+e+Hs+"flex-item-"+Qs(e,/flex-|-self/,"")+e;case 4675:return qs+e+Hs+"flex-line-pack"+Qs(e,/align-content|flex-|-self/,"")+e;case 5548:return qs+e+Hs+Qs(e,"shrink","negative")+e;case 5292:return qs+e+Hs+Qs(e,"basis","preferred-size")+e;case 6060:return qs+"box-"+Qs(e,"-grow","")+qs+e+Hs+Qs(e,"grow","positive")+e;case 4554:return qs+Qs(e,/([^-])(transform)/g,"$1"+qs+"$2")+e;case 6187:return Qs(Qs(Qs(e,/(zoom-|grab)/,qs+"$1"),/(image-set)/,qs+"$1"),e,"")+e;case 5495:case 3959:return Qs(e,/(image-set\([^]*)/,qs+"$1$`$1");case 4968:return Qs(Qs(e,/(.+:)(flex-)?(.*)/,qs+"box-pack:$3"+Hs+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+qs+e+e;case 4095:case 3583:case 4068:case 2532:return Qs(e,/(.+)-inline(.+)/,qs+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(vs(e)-1-t>6)switch(ys(e,t+1)){case 109:if(45!==ys(e,t+4))break;case 102:return Qs(e,/(.+:)(.+)-([^]+)/,"$1"+qs+"$2-$3$1"+zs+(108==ys(e,t+3)?"$3":"$2-$3"))+e;case 115:return~Us(e,"stretch")?fc(Qs(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==ys(e,t+1))break;case 6444:switch(ys(e,vs(e)-3-(~Us(e,"!important")&&10))){case 107:return Qs(e,":",":"+qs)+e;case 101:return Qs(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+qs+(45===ys(e,14)?"inline-":"")+"box$3$1"+qs+"$2$3$1"+Hs+"$2box$3")+e}break;case 5936:switch(ys(e,t+11)){case 114:return qs+e+Hs+Qs(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return qs+e+Hs+Qs(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return qs+e+Hs+Qs(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return qs+e+Hs+e+e}return e}var mc=[function(e,t,n,i){if(e.length>-1&&!e.return)switch(e.type){case tc:e.return=fc(e.value,e.length);break;case nc:return ic([Ds(e,{value:Qs(e.value,"@","@"+qs)})],i);case ec:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return ic([Ds(e,{props:[Qs(t,/:(read-\w+)/,":-moz-$1")]})],i);case"::placeholder":return ic([Ds(e,{props:[Qs(t,/:(plac\w+)/,":"+qs+"input-$1")]}),Ds(e,{props:[Qs(t,/:(plac\w+)/,":-moz-$1")]}),Ds(e,{props:[Qs(t,/:(plac\w+)/,Hs+"input-$1")]})],i)}return""}))}}],Ec=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var i=e.stylisPlugins||mc;var r,o,a={},s=[];r=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)a[t[n]]=!0;s.push(e)}));var c=[pc,gc];var l,d=[rc,oc((function(e){l.insert(e)}))],u=function(e){var t=Rs(e);return function(n,i,r,o){for(var a="",s=0;s<t;s++)a+=e[s](n,i,r,o)||"";return a}}(c.concat(i,d));o=function(e,t,n,i){l=n,function(e){ic(ac(e),u)}(e?e+"{"+t.styles+"}":t.styles),i&&(h.inserted[t.name]=!0)};var h={key:t,sheet:new fs({key:t,container:r,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:o};return h.sheet.hydrate(s),h};var Cc={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Ic=/[A-Z]|^ms/g,Qc=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Uc=function(e){return 45===e.charCodeAt(1)},yc=function(e){return null!=e&&"boolean"!==typeof e},bc=As((function(e){return Uc(e)?e:e.replace(Ic,"-$&").toLowerCase()})),vc=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(Qc,(function(e,t,n){return Sc={name:t,styles:n,next:Sc},t}))}return 1===Cc[e]||Uc(e)||"number"!==typeof t||0===t?t:t+"px"};function Rc(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return Sc={name:n.name,styles:n.styles,next:Sc},n.name;if(void 0!==n.styles){var i=n.next;if(void 0!==i)for(;void 0!==i;)Sc={name:i.name,styles:i.styles,next:Sc},i=i.next;return n.styles+";"}return function(e,t,n){var i="";if(Array.isArray(n))for(var r=0;r<n.length;r++)i+=Rc(e,t,n[r])+";";else for(var o in n){var a=n[o];if("object"!==typeof a)null!=t&&void 0!==t[a]?i+=o+"{"+t[a]+"}":yc(a)&&(i+=bc(o)+":"+vc(o,a)+";");else if(!Array.isArray(a)||"string"!==typeof a[0]||null!=t&&void 0!==t[a[0]]){var s=Rc(e,t,a);switch(o){case"animation":case"animationName":i+=bc(o)+":"+s+";";break;default:i+=o+"{"+s+"}"}}else for(var c=0;c<a.length;c++)yc(a[c])&&(i+=bc(o)+":"+vc(o,a[c])+";")}return i}(e,t,n);case"function":if(void 0!==e){var r=Sc,o=n(e);return Sc=r,Rc(e,t,o)}}if(null==t)return n;var a=t[n];return void 0!==a?a:n}var Sc,Fc=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var Bc=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var i=!0,r="";Sc=void 0;var o=e[0];null==o||void 0===o.raw?(i=!1,r+=Rc(n,t,o)):r+=o[0];for(var a=1;a<e.length;a++)r+=Rc(n,t,e[a]),i&&(r+=o[a]);Fc.lastIndex=0;for(var s,c="";null!==(s=Fc.exec(r));)c+="-"+s[1];var l=function(e){for(var t,n=0,i=0,r=e.length;r>=4;++i,r-=4)t=1540483477*(65535&(t=255&e.charCodeAt(i)|(255&e.charCodeAt(++i))<<8|(255&e.charCodeAt(++i))<<16|(255&e.charCodeAt(++i))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(r){case 3:n^=(255&e.charCodeAt(i+2))<<16;case 2:n^=(255&e.charCodeAt(i+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(i)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(r)+c;return{name:l,styles:r,next:Sc}},Tc=!!i.useInsertionEffect&&i.useInsertionEffect,Nc=Tc||function(e){return e()},_c=Tc||t.useLayoutEffect,wc=t.createContext("undefined"!==typeof HTMLElement?Ec({key:"css"}):null);wc.Provider;var kc=function(e){return(0,t.forwardRef)((function(n,i){var r=(0,t.useContext)(wc);return e(n,r,i)}))};var Dc=t.createContext({});var Vc=function(e,t,n){var i=e.key+"-"+t.name;!1===n&&void 0===e.registered[i]&&(e.registered[i]=t.styles)},Zc=function(e,t,n){Vc(e,t,n);var i=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var r=t;do{e.insert(t===r?"."+i:"",r,e.sheet,!0),r=r.next}while(void 0!==r)}},Wc=gs,Oc=function(e){return"theme"!==e},Jc=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?Wc:Oc},xc=function(e,t,n){var i;if(t){var r=t.shouldForwardProp;i=e.__emotion_forwardProp&&r?function(t){return e.__emotion_forwardProp(t)&&r(t)}:r}return"function"!==typeof i&&n&&(i=e.__emotion_forwardProp),i},Mc=function(e){var t=e.cache,n=e.serialized,i=e.isStringTag;return Vc(t,n,i),Nc((function(){return Zc(t,n,i)})),null},Lc=function e(n,i){var r,o,a=n.__emotion_real===n,s=a&&n.__emotion_base||n;void 0!==i&&(r=i.label,o=i.target);var c=xc(n,i,a),l=c||Jc(s),d=!l("as");return function(){var u=arguments,h=a&&void 0!==n.__emotion_styles?n.__emotion_styles.slice(0):[];if(void 0!==r&&h.push("label:"+r+";"),null==u[0]||void 0===u[0].raw)h.push.apply(h,u);else{0,h.push(u[0][0]);for(var A=u.length,p=1;p<A;p++)h.push(u[p],u[0][p])}var g=kc((function(e,n,i){var r=d&&e.as||s,a="",u=[],A=e;if(null==e.theme){for(var p in A={},e)A[p]=e[p];A.theme=t.useContext(Dc)}"string"===typeof e.className?a=function(e,t,n){var i="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):i+=n+" "})),i}(n.registered,u,e.className):null!=e.className&&(a=e.className+" ");var g=Bc(h.concat(u),n.registered,A);a+=n.key+"-"+g.name,void 0!==o&&(a+=" "+o);var f=d&&void 0===c?Jc(r):l,m={};for(var E in e)d&&"as"===E||f(E)&&(m[E]=e[E]);return m.className=a,m.ref=i,t.createElement(t.Fragment,null,t.createElement(Mc,{cache:n,serialized:g,isStringTag:"string"===typeof r}),t.createElement(r,m))}));return g.displayName=void 0!==r?r:"Styled("+("string"===typeof s?s:s.displayName||s.name||"Component")+")",g.defaultProps=n.defaultProps,g.__emotion_real=g,g.__emotion_base=s,g.__emotion_styles=h,g.__emotion_forwardProp=c,Object.defineProperty(g,"toString",{value:function(){return"."+o}}),g.withComponent=function(t,n){return e(t,na({},i,n,{shouldForwardProp:xc(g,n,!0)})).apply(void 0,h)},g}}.bind();function Pc(e,t){return Lc(e,t)}["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){Lc[e]=Lc(e)}));const Gc=["values","unit","step"],Yc=e=>{const t=Object.keys(e).map((t=>({key:t,val:e[t]})))||[];return t.sort(((e,t)=>e.val-t.val)),t.reduce(((e,t)=>na({},e,{[t.key]:t.val})),{})};const jc={borderRadius:4};const Xc=function(){function e(e,t,n,i){const r={[e]:t,theme:n},o=i[e];if(!o)return{[e]:t};const{cssProperty:a=e,themeKey:s,transform:c,style:l}=o;if(null==t)return null;if("typography"===s&&"inherit"===t)return{[e]:t};const d=ma(n,s)||{};if(l)return l(r);return pa(r,t,(t=>{let n=Ea(d,c,t);return t===n&&"string"===typeof t&&(n=Ea(d,c,"".concat(e).concat("default"===t?"":sa(t)),t)),!1===a?n:{[a]:n}}))}return function t(n){var i;const{sx:r,theme:o={}}=n||{};if(!r)return null;const a=null!=(i=o.unstable_sxConfig)?i:ls;function s(n){let i=n;if("function"===typeof n)i=n(o);else if("object"!==typeof n)return n;if(!i)return null;const r=ga(o.breakpoints),s=Object.keys(r);let c=r;return Object.keys(i).forEach((n=>{const r=(s=i[n],l=o,"function"===typeof s?s(l):s);var s,l;if(null!==r&&void 0!==r)if("object"===typeof r)if(a[n])c=Ia(c,e(n,r,o,a));else{const e=pa({theme:o},r,(e=>({[n]:e})));!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const i=t.reduce(((e,t)=>e.concat(Object.keys(t))),[]),r=new Set(i);return t.every((e=>r.size===Object.keys(e).length))}(e,r)?c=Ia(c,e):c[n]=t({sx:r,theme:o})}else c=Ia(c,e(n,r,o,a))})),fa(s,c)}return Array.isArray(r)?r.map(s):s(r)}}();Xc.filterProps=["sx"];const Kc=Xc,Hc=["breakpoints","palette","spacing","shape"];const zc=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{breakpoints:t={},palette:n={},spacing:i,shape:r={}}=e,o=ta(e,Hc),a=function(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:i=5}=e,r=ta(e,Gc),o=Yc(t),a=Object.keys(o);function s(e){const i="number"===typeof t[e]?t[e]:e;return"@media (min-width:".concat(i).concat(n,")")}function c(e){const r="number"===typeof t[e]?t[e]:e;return"@media (max-width:".concat(r-i/100).concat(n,")")}function l(e,r){const o=a.indexOf(r);return"@media (min-width:".concat("number"===typeof t[e]?t[e]:e).concat(n,") and ")+"(max-width:".concat((-1!==o&&"number"===typeof t[a[o]]?t[a[o]]:r)-i/100).concat(n,")")}return na({keys:a,values:o,up:s,down:c,between:l,only:function(e){return a.indexOf(e)+1<a.length?l(e,a[a.indexOf(e)+1]):s(e)},not:function(e){const t=a.indexOf(e);return 0===t?s(a[1]):t===a.length-1?c(a[t]):l(e,a[a.indexOf(e)+1]).replace("@media","@media not all and")},unit:n},r)}(t),s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;const t=Ba({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return(0===n.length?[1]:n).map((e=>{const n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}(i);let c=ua({breakpoints:a,direction:"ltr",components:{},palette:na({mode:"light"},n),spacing:s,shape:na({},jc,r)},o);for(var l=arguments.length,d=new Array(l>1?l-1:0),u=1;u<l;u++)d[u-1]=arguments[u];return c=d.reduce(((e,t)=>ua(e,t)),c),c.unstable_sxConfig=na({},ls,null==o?void 0:o.unstable_sxConfig),c.unstable_sx=function(e){return Kc({sx:e,theme:this})},c},qc=["variant"];function $c(e){return 0===e.length}function el(e){const{variant:t}=e,n=ta(e,qc);let i=t||"";return Object.keys(n).sort().forEach((t=>{i+="color"===t?$c(i)?e[t]:sa(e[t]):"".concat($c(i)?t:sa(t)).concat(sa(e[t].toString()))})),i}const tl=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];const nl=e=>{const t={};return e&&e.forEach((e=>{const n=el(e.props);t[n]=e.style})),t},il=(e,t,n)=>{const{ownerState:i={}}=e,r=[];return n&&n.forEach((n=>{let o=!0;Object.keys(n.props).forEach((t=>{i[t]!==n.props[t]&&e[t]!==n.props[t]&&(o=!1)})),o&&r.push(t[el(n.props)])})),r};function rl(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}const ol=zc(),al=e=>e?e.charAt(0).toLowerCase()+e.slice(1):e;function sl(e){let{defaultTheme:t,theme:n,themeId:i}=e;return r=n,0===Object.keys(r).length?t:n[i]||n;var r}function cl(e){return e?(t,n)=>n[e]:null}const ll=e=>{let{styledArg:t,props:n,defaultTheme:i,themeId:r}=e;const o=t(na({},n,{theme:sl(na({},n,{defaultTheme:i,themeId:r}))}));let a;if(o&&o.variants&&(a=o.variants,delete o.variants),a){return[o,...il(n,nl(a),a)]}return o};function dl(e,t){return na({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},t)}function ul(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function hl(e){if(e.type)return e;if("#"===e.charAt(0))return hl(function(e){e=e.slice(1);const t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g");let n=e.match(t);return n&&1===n[0].length&&(n=n.map((e=>e+e))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map(((e,t)=>t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3)).join(", "),")"):""}(e));const t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error(aa(9,e));let i,r=e.substring(t+1,e.length-1);if("color"===n){if(r=r.split(" "),i=r.shift(),4===r.length&&"/"===r[3].charAt(0)&&(r[3]=r[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i))throw new Error(aa(10,i))}else r=r.split(",");return r=r.map((e=>parseFloat(e))),{type:n,values:r,colorSpace:i}}function Al(e){const{type:t,colorSpace:n}=e;let{values:i}=e;return-1!==t.indexOf("rgb")?i=i.map(((e,t)=>t<3?parseInt(e,10):e)):-1!==t.indexOf("hsl")&&(i[1]="".concat(i[1],"%"),i[2]="".concat(i[2],"%")),i=-1!==t.indexOf("color")?"".concat(n," ").concat(i.join(" ")):"".concat(i.join(", ")),"".concat(t,"(").concat(i,")")}function pl(e){let t="hsl"===(e=hl(e)).type||"hsla"===e.type?hl(function(e){e=hl(e);const{values:t}=e,n=t[0],i=t[1]/100,r=t[2]/100,o=i*Math.min(r,1-r),a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return r-o*Math.max(Math.min(t-3,9-t,1),-1)};let s="rgb";const c=[Math.round(255*a(0)),Math.round(255*a(8)),Math.round(255*a(4))];return"hsla"===e.type&&(s+="a",c.push(t[3])),Al({type:s,values:c})}(e)).values:e.values;return t=t.map((t=>("color"!==e.type&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4))),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function gl(e,t){return e=hl(e),t=ul(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]="/".concat(t):e.values[3]=t,Al(e)}function fl(e,t){if(e=hl(e),t=ul(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(let n=0;n<3;n+=1)e.values[n]*=1-t;return Al(e)}function ml(e,t){if(e=hl(e),t=ul(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return Al(e)}const El={black:"#000",white:"#fff"},Cl={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Il={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Ql={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Ul={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},yl={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},bl={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},vl={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Rl=["mode","contrastThreshold","tonalOffset"],Sl={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:El.white,default:El.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Fl={text:{primary:El.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:El.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function Bl(e,t,n,i){const r=i.light||i,o=i.dark||1.5*i;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=ml(e.main,r):"dark"===t&&(e.dark=fl(e.main,o)))}function Tl(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:i=.2}=e,r=ta(e,Rl),o=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:yl[200],light:yl[50],dark:yl[400]}:{main:yl[700],light:yl[400],dark:yl[800]}}(t),a=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Il[200],light:Il[50],dark:Il[400]}:{main:Il[500],light:Il[300],dark:Il[700]}}(t),s=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Ql[500],light:Ql[300],dark:Ql[700]}:{main:Ql[700],light:Ql[400],dark:Ql[800]}}(t),c=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:bl[400],light:bl[300],dark:bl[700]}:{main:bl[700],light:bl[500],dark:bl[900]}}(t),l=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:vl[400],light:vl[300],dark:vl[700]}:{main:vl[800],light:vl[500],dark:vl[900]}}(t),d=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Ul[400],light:Ul[300],dark:Ul[700]}:{main:"#ed6c02",light:Ul[500],dark:Ul[900]}}(t);function u(e){const t=function(e,t){const n=pl(e),i=pl(t);return(Math.max(n,i)+.05)/(Math.min(n,i)+.05)}(e,Fl.text.primary)>=n?Fl.text.primary:Sl.text.primary;return t}const h=e=>{let{color:t,name:n,mainShade:r=500,lightShade:o=300,darkShade:a=700}=e;if(t=na({},t),!t.main&&t[r]&&(t.main=t[r]),!t.hasOwnProperty("main"))throw new Error(aa(11,n?" (".concat(n,")"):"",r));if("string"!==typeof t.main)throw new Error(aa(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return Bl(t,"light",o,i),Bl(t,"dark",a,i),t.contrastText||(t.contrastText=u(t.main)),t},A={dark:Fl,light:Sl};return ua(na({common:na({},El),mode:t,primary:h({color:o,name:"primary"}),secondary:h({color:a,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:h({color:s,name:"error"}),warning:h({color:d,name:"warning"}),info:h({color:c,name:"info"}),success:h({color:l,name:"success"}),grey:Cl,contrastThreshold:n,getContrastText:u,augmentColor:h,tonalOffset:i},A[t]),r)}const Nl=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];const _l={textTransform:"uppercase"},wl='"Roboto", "Helvetica", "Arial", sans-serif';function kl(e,t){const n="function"===typeof t?t(e):t,{fontFamily:i=wl,fontSize:r=14,fontWeightLight:o=300,fontWeightRegular:a=400,fontWeightMedium:s=500,fontWeightBold:c=700,htmlFontSize:l=16,allVariants:d,pxToRem:u}=n,h=ta(n,Nl);const A=r/14,p=u||(e=>"".concat(e/l*A,"rem")),g=(e,t,n,r,o)=>{return na({fontFamily:i,fontWeight:e,fontSize:p(t),lineHeight:n},i===wl?{letterSpacing:"".concat((a=r/t,Math.round(1e5*a)/1e5),"em")}:{},o,d);var a},f={h1:g(o,96,1.167,-1.5),h2:g(o,60,1.2,-.5),h3:g(a,48,1.167,0),h4:g(a,34,1.235,.25),h5:g(a,24,1.334,0),h6:g(s,20,1.6,.15),subtitle1:g(a,16,1.75,.15),subtitle2:g(s,14,1.57,.1),body1:g(a,16,1.5,.15),body2:g(a,14,1.43,.15),button:g(s,14,1.75,.4,_l),caption:g(a,12,1.66,.4),overline:g(a,12,2.66,1,_l),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return ua(na({htmlFontSize:l,pxToRem:p,fontFamily:i,fontSize:r,fontWeightLight:o,fontWeightRegular:a,fontWeightMedium:s,fontWeightBold:c},f),h,{clone:!1})}function Dl(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}const Vl=["none",Dl(0,2,1,-1,0,1,1,0,0,1,3,0),Dl(0,3,1,-2,0,2,2,0,0,1,5,0),Dl(0,3,3,-2,0,3,4,0,0,1,8,0),Dl(0,2,4,-1,0,4,5,0,0,1,10,0),Dl(0,3,5,-1,0,5,8,0,0,1,14,0),Dl(0,3,5,-1,0,6,10,0,0,1,18,0),Dl(0,4,5,-2,0,7,10,1,0,2,16,1),Dl(0,5,5,-3,0,8,10,1,0,3,14,2),Dl(0,5,6,-3,0,9,12,1,0,3,16,2),Dl(0,6,6,-3,0,10,14,1,0,4,18,3),Dl(0,6,7,-4,0,11,15,1,0,4,20,3),Dl(0,7,8,-4,0,12,17,2,0,5,22,4),Dl(0,7,8,-4,0,13,19,2,0,5,24,4),Dl(0,7,9,-4,0,14,21,2,0,5,26,4),Dl(0,8,9,-5,0,15,22,2,0,6,28,5),Dl(0,8,10,-5,0,16,24,2,0,6,30,5),Dl(0,8,11,-5,0,17,26,2,0,6,32,5),Dl(0,9,11,-5,0,18,28,2,0,7,34,6),Dl(0,9,12,-6,0,19,29,2,0,7,36,6),Dl(0,10,13,-6,0,20,31,3,0,8,38,7),Dl(0,10,13,-6,0,21,33,3,0,8,40,7),Dl(0,10,14,-6,0,22,35,3,0,8,42,7),Dl(0,11,14,-7,0,23,36,3,0,9,44,8),Dl(0,11,15,-7,0,24,38,3,0,9,46,8)],Zl=["duration","easing","delay"],Wl={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Ol={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function Jl(e){return"".concat(Math.round(e),"ms")}function xl(e){if(!e)return 0;const t=e/36;return Math.round(10*(4+15*t**.25+t/5))}function Ml(e){const t=na({},Wl,e.easing),n=na({},Ol,e.duration);return na({getAutoHeightDuration:xl,create:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{duration:r=n.standard,easing:o=t.easeInOut,delay:a=0}=i;ta(i,Zl);return(Array.isArray(e)?e:[e]).map((e=>"".concat(e," ").concat("string"===typeof r?r:Jl(r)," ").concat(o," ").concat("string"===typeof a?a:Jl(a)))).join(",")}},e,{easing:t,duration:n})}const Ll={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},Pl=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function Gl(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{mixins:t={},palette:n={},transitions:i={},typography:r={}}=e,o=ta(e,Pl);if(e.vars)throw new Error(aa(18));const a=Tl(n),s=zc(e);let c=ua(s,{mixins:dl(s.breakpoints,t),palette:a,shadows:Vl.slice(),typography:kl(a,r),transitions:Ml(i),zIndex:na({},Ll)});c=ua(c,o);for(var l=arguments.length,d=new Array(l>1?l-1:0),u=1;u<l;u++)d[u-1]=arguments[u];return c=d.reduce(((e,t)=>ua(e,t)),c),c.unstable_sxConfig=na({},ls,null==o?void 0:o.unstable_sxConfig),c.unstable_sx=function(e){return Kc({sx:e,theme:this})},c}const Yl=Gl,jl=Yl(),Xl="$$material",Kl=e=>rl(e)&&"classes"!==e,Hl=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:n=ol,rootShouldForwardProp:i=rl,slotShouldForwardProp:r=rl}=e,o=e=>Kc(na({},e,{theme:sl(na({},e,{defaultTheme:n,themeId:t}))}));return o.__mui_systemSx=!0,function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};((e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))})(e,(e=>e.filter((e=>!(null!=e&&e.__mui_systemSx)))));const{name:s,slot:c,skipVariantsResolver:l,skipSx:d,overridesResolver:u=cl(al(c))}=a,h=ta(a,tl),A=void 0!==l?l:c&&"Root"!==c&&"root"!==c||!1,p=d||!1;let g=rl;"Root"===c||"root"===c?g=i:c?g=r:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(g=void 0);const f=Pc(e,na({shouldForwardProp:g,label:undefined},h)),m=function(i){for(var r=arguments.length,a=new Array(r>1?r-1:0),c=1;c<r;c++)a[c-1]=arguments[c];const l=a?a.map((e=>{if("function"===typeof e&&e.__emotion_real!==e)return i=>ll({styledArg:e,props:i,defaultTheme:n,themeId:t});if(la(e)){let t,n=e;return e&&e.variants&&(t=e.variants,delete n.variants,n=n=>{let i=e;return il(n,nl(t),t).forEach((e=>{i=ua(i,e)})),i}),n}return e})):[];let d=i;if(la(i)){let e;i&&i.variants&&(e=i.variants,delete d.variants,d=t=>{let n=i;return il(t,nl(e),e).forEach((e=>{n=ua(n,e)})),n})}else"function"===typeof i&&i.__emotion_real!==i&&(d=e=>ll({styledArg:i,props:e,defaultTheme:n,themeId:t}));s&&u&&l.push((e=>{const i=sl(na({},e,{defaultTheme:n,themeId:t})),r=((e,t)=>t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null)(s,i);if(r){const t={};return Object.entries(r).forEach((n=>{let[r,o]=n;t[r]="function"===typeof o?o(na({},e,{theme:i})):o})),u(e,t)}return null})),s&&!A&&l.push((e=>{const i=sl(na({},e,{defaultTheme:n,themeId:t}));return((e,t,n,i)=>{var r;const o=null==n||null==(r=n.components)||null==(r=r[i])?void 0:r.variants;return il(e,t,o)})(e,((e,t)=>{let n=[];return t&&t.components&&t.components[e]&&t.components[e].variants&&(n=t.components[e].variants),nl(n)})(s,i),i,s)})),p||l.push(o);const h=l.length-a.length;if(Array.isArray(i)&&h>0){const e=new Array(h).fill("");d=[...i,...e],d.raw=[...i.raw,...e]}const g=f(d,...l);return e.muiName&&(g.muiName=e.muiName),g};return f.withConfig&&(m.withConfig=f.withConfig),m}}({themeId:Xl,defaultTheme:jl,rootShouldForwardProp:Kl}),zl=Hl;function ql(e,t){const n=na({},t);return Object.keys(e).forEach((i=>{if(i.toString().match(/^(components|slots)$/))n[i]=na({},e[i],n[i]);else if(i.toString().match(/^(componentsProps|slotProps)$/)){const r=e[i]||{},o=t[i];n[i]={},o&&Object.keys(o)?r&&Object.keys(r)?(n[i]=na({},o),Object.keys(r).forEach((e=>{n[i][e]=ql(r[e],o[e])}))):n[i]=o:n[i]=r}else void 0===n[i]&&(n[i]=e[i])})),n}function $l(e){const{theme:t,name:n,props:i}=e;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?ql(t.components[n].defaultProps,i):i}const ed=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const n=t.useContext(Dc);return n&&(i=n,0!==Object.keys(i).length)?n:e;var i},td=zc();const nd=function(){return ed(arguments.length>0&&void 0!==arguments[0]?arguments[0]:td)};function id(e){let{props:t,name:n}=e;return function(e){let{props:t,name:n,defaultTheme:i,themeId:r}=e,o=nd(i);return r&&(o=o[r]||o),$l({theme:o,name:n,props:t})}({props:t,name:n,defaultTheme:jl,themeId:Xl})}const rd=e=>e,od=(()=>{let e=rd;return{configure(t){e=t},generate:t=>e(t),reset(){e=rd}}})(),ad={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function sd(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui";const i=ad[t];return i?"".concat(n,"-").concat(i):"".concat(od.generate(e),"-").concat(t)}function cd(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui";const i={};return t.forEach((t=>{i[t]=sd(e,t,n)})),i}function ld(e){return sd("MuiTypography",e)}cd("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);var dd=n(184);const ud=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],hd=zl("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.variant&&t[n.variant],"inherit"!==n.align&&t["align".concat(ca(n.align))],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})((e=>{let{theme:t,ownerState:n}=e;return na({margin:0},"inherit"===n.variant&&{font:"inherit"},"inherit"!==n.variant&&t.typography[n.variant],"inherit"!==n.align&&{textAlign:n.align},n.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n.gutterBottom&&{marginBottom:"0.35em"},n.paragraph&&{marginBottom:16})})),Ad={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},pd={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},gd=t.forwardRef((function(e,t){const n=id({props:e,name:"MuiTypography"}),i=(e=>pd[e]||e)(n.color),r=hs(na({},n,{color:i})),{align:o="inherit",className:a,component:s,gutterBottom:c=!1,noWrap:l=!1,paragraph:d=!1,variant:u="body1",variantMapping:h=Ad}=r,A=ta(r,ud),p=na({},r,{align:o,color:i,className:a,component:s,gutterBottom:c,noWrap:l,paragraph:d,variant:u,variantMapping:h}),g=s||(d?"p":h[u]||Ad[u])||"span",f=(e=>{const{align:t,gutterBottom:n,noWrap:i,paragraph:r,variant:o,classes:a}=e;return oa({root:["root",o,"inherit"!==e.align&&"align".concat(ca(t)),n&&"gutterBottom",i&&"noWrap",r&&"paragraph"]},ld,a)})(p);return(0,dd.jsx)(hd,na({as:g,ref:t,ownerState:p,className:ra(f.root,a)},A))})),fd=gd;const md=t.createContext(void 0);function Ed(){return t.useContext(md)}function Cd(e){return sd("MuiInputAdornment",e)}const Id=cd("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var Qd;const Ud=["children","className","component","disablePointerEvents","disableTypography","position","variant"],yd=zl("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t["position".concat(ca(n.position))],!0===n.disablePointerEvents&&t.disablePointerEvents,t[n.variant]]}})((e=>{let{theme:t,ownerState:n}=e;return na({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(t.vars||t).palette.action.active},"filled"===n.variant&&{["&.".concat(Id.positionStart,"&:not(.").concat(Id.hiddenLabel,")")]:{marginTop:16}},"start"===n.position&&{marginRight:8},"end"===n.position&&{marginLeft:8},!0===n.disablePointerEvents&&{pointerEvents:"none"})})),bd=t.forwardRef((function(e,n){const i=id({props:e,name:"MuiInputAdornment"}),{children:r,className:o,component:a="div",disablePointerEvents:s=!1,disableTypography:c=!1,position:l,variant:d}=i,u=ta(i,Ud),h=Ed()||{};let A=d;d&&h.variant,h&&!A&&(A=h.variant);const p=na({},i,{hiddenLabel:h.hiddenLabel,size:h.size,disablePointerEvents:s,position:l,variant:A}),g=(e=>{const{classes:t,disablePointerEvents:n,hiddenLabel:i,position:r,size:o,variant:a}=e;return oa({root:["root",n&&"disablePointerEvents",r&&"position".concat(ca(r)),a,i&&"hiddenLabel",o&&"size".concat(ca(o))]},Cd,t)})(p);return(0,dd.jsx)(md.Provider,{value:null,children:(0,dd.jsx)(yd,na({as:a,ownerState:p,className:ra(g.root,o),ref:n},u,{children:"string"!==typeof r||c?(0,dd.jsxs)(t.Fragment,{children:["start"===l?Qd||(Qd=(0,dd.jsx)("span",{className:"notranslate",children:"\u200b"})):null,r]}):(0,dd.jsx)(fd,{color:"text.secondary",children:r})}))})})),vd=bd;var Rd;const Sd=["children","classes","className","label","notched"],Fd=zl("fieldset",{shouldForwardProp:Kl})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),Bd=zl("legend",{shouldForwardProp:Kl})((e=>{let{ownerState:t,theme:n}=e;return na({float:"unset",width:"auto",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:n.transitions.create("width",{duration:150,easing:n.transitions.easing.easeOut})},t.withLabel&&na({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:n.transitions.create("max-width",{duration:50,easing:n.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:n.transitions.create("max-width",{duration:100,easing:n.transitions.easing.easeOut,delay:50})}))}));function Td(e){let{props:t,states:n,muiFormControl:i}=e;return n.reduce(((e,n)=>(e[n]=t[n],i&&"undefined"===typeof t[n]&&(e[n]=i[n]),e)),{})}function Nd(e){return sd("MuiInputBase",e)}const _d=cd("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);function wd(e){return sd("MuiOutlinedInput",e)}const kd=na({},_d,cd("MuiOutlinedInput",["root","notchedOutline","input"]));function Dd(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function Vd(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.useMemo((()=>n.every((e=>null==e))?null:e=>{n.forEach((t=>{Dd(t,e)}))}),n)}function Zd(e){return e&&e.ownerDocument||document}function Wd(e){return Zd(e).defaultView||window}const Od="undefined"!==typeof window?t.useLayoutEffect:t.useEffect;const Jd=["onChange","maxRows","minRows","style","value"];function xd(e){return parseInt(e,10)||0}const Md={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"};function Ld(e){return void 0===e||null===e||0===Object.keys(e).length||0===e.outerHeightStyle&&!e.overflow}const Pd=t.forwardRef((function(e,n){const{onChange:i,maxRows:r,minRows:a=1,style:s,value:c}=e,l=ta(e,Jd),{current:d}=t.useRef(null!=c),u=t.useRef(null),h=Vd(n,u),A=t.useRef(null),p=t.useRef(0),[g,f]=t.useState({outerHeightStyle:0}),m=t.useCallback((()=>{const t=u.current,n=Wd(t).getComputedStyle(t);if("0px"===n.width)return{outerHeightStyle:0};const i=A.current;i.style.width=n.width,i.value=t.value||e.placeholder||"x","\n"===i.value.slice(-1)&&(i.value+=" ");const o=n.boxSizing,s=xd(n.paddingBottom)+xd(n.paddingTop),c=xd(n.borderBottomWidth)+xd(n.borderTopWidth),l=i.scrollHeight;i.value="x";const d=i.scrollHeight;let h=l;a&&(h=Math.max(Number(a)*d,h)),r&&(h=Math.min(Number(r)*d,h)),h=Math.max(h,d);return{outerHeightStyle:h+("border-box"===o?s+c:0),overflow:Math.abs(h-l)<=1}}),[r,a,e.placeholder]),E=(e,t)=>{const{outerHeightStyle:n,overflow:i}=t;return p.current<20&&(n>0&&Math.abs((e.outerHeightStyle||0)-n)>1||e.overflow!==i)?(p.current+=1,{overflow:i,outerHeightStyle:n}):e},C=t.useCallback((()=>{const e=m();Ld(e)||f((t=>E(t,e)))}),[m]);Od((()=>{const e=()=>{p.current=0,(()=>{const e=m();Ld(e)||o.flushSync((()=>{f((t=>E(t,e)))}))})()};let t;const n=function(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function i(){for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];clearTimeout(t),t=setTimeout((()=>{e.apply(this,r)}),n)}return i.clear=()=>{clearTimeout(t)},i}(e),i=u.current,r=Wd(i);let a;return r.addEventListener("resize",n),"undefined"!==typeof ResizeObserver&&(a=new ResizeObserver(e),a.observe(i)),()=>{n.clear(),cancelAnimationFrame(t),r.removeEventListener("resize",n),a&&a.disconnect()}}),[m]),Od((()=>{C()})),t.useEffect((()=>{p.current=0}),[c]);return(0,dd.jsxs)(t.Fragment,{children:[(0,dd.jsx)("textarea",na({value:c,onChange:e=>{p.current=0,d||C(),i&&i(e)},ref:h,rows:a,style:na({height:g.outerHeightStyle,overflow:g.overflow?"hidden":void 0},s)},l)),(0,dd.jsx)("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:A,tabIndex:-1,style:na({},Md,s,{paddingTop:0,paddingBottom:0})})]})}));function Gd(e){return"string"===typeof e}const Yd=Vd,jd=Od;var Xd=kc((function(e,n){var i=e.styles,r=Bc([i],void 0,t.useContext(Dc)),o=t.useRef();return _c((function(){var e=n.key+"-global",t=new n.sheet.constructor({key:e,nonce:n.sheet.nonce,container:n.sheet.container,speedy:n.sheet.isSpeedy}),i=!1,a=document.querySelector('style[data-emotion="'+e+" "+r.name+'"]');return n.sheet.tags.length&&(t.before=n.sheet.tags[0]),null!==a&&(i=!0,a.setAttribute("data-emotion",e),t.hydrate([a])),o.current=[t,i],function(){t.flush()}}),[n]),_c((function(){var e=o.current,t=e[0];if(e[1])e[1]=!1;else{if(void 0!==r.next&&Zc(n,r.next,!0),t.tags.length){var i=t.tags[t.tags.length-1].nextElementSibling;t.before=i,t.flush()}n.insert("",r,t,!1)}}),[n,r.name]),null}));function Kd(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Bc(t)}var Hd=function(){var e=Kd.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};function zd(e){const{styles:t,defaultTheme:n={}}=e,i="function"===typeof t?e=>{return t(void 0===(i=e)||null===i||0===Object.keys(i).length?n:e);var i}:t;return(0,dd.jsx)(Xd,{styles:i})}const qd=function(e){let{styles:t,themeId:n,defaultTheme:i={}}=e;const r=nd(i),o="function"===typeof t?t(n&&r[n]||r):t;return(0,dd.jsx)(zd,{styles:o})};const $d=function(e){return(0,dd.jsx)(qd,na({},e,{defaultTheme:jl,themeId:Xl}))};function eu(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}const tu=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],nu=(e,t)=>{const{ownerState:n}=e;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,"small"===n.size&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t["color".concat(ca(n.color))],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},iu=(e,t)=>{const{ownerState:n}=e;return[t.input,"small"===n.size&&t.inputSizeSmall,n.multiline&&t.inputMultiline,"search"===n.type&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},ru=zl("div",{name:"MuiInputBase",slot:"Root",overridesResolver:nu})((e=>{let{theme:t,ownerState:n}=e;return na({},t.typography.body1,{color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",["&.".concat(_d.disabled)]:{color:(t.vars||t).palette.text.disabled,cursor:"default"}},n.multiline&&na({padding:"4px 0 5px"},"small"===n.size&&{paddingTop:1}),n.fullWidth&&{width:"100%"})})),ou=zl("input",{name:"MuiInputBase",slot:"Input",overridesResolver:iu})((e=>{let{theme:t,ownerState:n}=e;const i="light"===t.palette.mode,r=na({color:"currentColor"},t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:i?.42:.5},{transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})}),o={opacity:"0 !important"},a=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:i?.42:.5};return na({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},["label[data-shrink=false] + .".concat(_d.formControl," &")]:{"&::-webkit-input-placeholder":o,"&::-moz-placeholder":o,"&:-ms-input-placeholder":o,"&::-ms-input-placeholder":o,"&:focus::-webkit-input-placeholder":a,"&:focus::-moz-placeholder":a,"&:focus:-ms-input-placeholder":a,"&:focus::-ms-input-placeholder":a},["&.".concat(_d.disabled)]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},"small"===n.size&&{paddingTop:1},n.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},"search"===n.type&&{MozAppearance:"textfield"})})),au=(0,dd.jsx)($d,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),su=t.forwardRef((function(e,n){var i;const r=id({props:e,name:"MuiInputBase"}),{"aria-describedby":o,autoComplete:a,autoFocus:s,className:c,components:l={},componentsProps:d={},defaultValue:u,disabled:h,disableInjectingGlobalStyles:A,endAdornment:p,fullWidth:g=!1,id:f,inputComponent:m="input",inputProps:E={},inputRef:C,maxRows:I,minRows:Q,multiline:U=!1,name:y,onBlur:b,onChange:v,onClick:R,onFocus:S,onKeyDown:F,onKeyUp:B,placeholder:T,readOnly:N,renderSuffix:_,rows:w,slotProps:k={},slots:D={},startAdornment:V,type:Z="text",value:W}=r,O=ta(r,tu),J=null!=E.value?E.value:W,{current:x}=t.useRef(null!=J),M=t.useRef(),L=t.useCallback((e=>{0}),[]),P=Yd(M,C,E.ref,L),[G,Y]=t.useState(!1),j=Ed();const X=Td({props:r,muiFormControl:j,states:["color","disabled","error","hiddenLabel","size","required","filled"]});X.focused=j?j.focused:G,t.useEffect((()=>{!j&&h&&G&&(Y(!1),b&&b())}),[j,h,G,b]);const K=j&&j.onFilled,H=j&&j.onEmpty,z=t.useCallback((e=>{!function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(eu(e.value)&&""!==e.value||t&&eu(e.defaultValue)&&""!==e.defaultValue)}(e)?H&&H():K&&K()}),[K,H]);jd((()=>{x&&z({value:J})}),[J,z,x]);t.useEffect((()=>{z(M.current)}),[]);let q=m,$=E;U&&"input"===q&&($=na(w?{type:void 0,minRows:w,maxRows:w}:{type:void 0,maxRows:I,minRows:Q},$),q=Pd);t.useEffect((()=>{j&&j.setAdornedStart(Boolean(V))}),[j,V]);const ee=na({},r,{color:X.color||"primary",disabled:X.disabled,endAdornment:p,error:X.error,focused:X.focused,formControl:j,fullWidth:g,hiddenLabel:X.hiddenLabel,multiline:U,size:X.size,startAdornment:V,type:Z}),te=(e=>{const{classes:t,color:n,disabled:i,error:r,endAdornment:o,focused:a,formControl:s,fullWidth:c,hiddenLabel:l,multiline:d,readOnly:u,size:h,startAdornment:A,type:p}=e;return oa({root:["root","color".concat(ca(n)),i&&"disabled",r&&"error",c&&"fullWidth",a&&"focused",s&&"formControl",h&&"medium"!==h&&"size".concat(ca(h)),d&&"multiline",A&&"adornedStart",o&&"adornedEnd",l&&"hiddenLabel",u&&"readOnly"],input:["input",i&&"disabled","search"===p&&"inputTypeSearch",d&&"inputMultiline","small"===h&&"inputSizeSmall",l&&"inputHiddenLabel",A&&"inputAdornedStart",o&&"inputAdornedEnd",u&&"readOnly"]},Nd,t)})(ee),ne=D.root||l.Root||ru,ie=k.root||d.root||{},re=D.input||l.Input||ou;return $=na({},$,null!=(i=k.input)?i:d.input),(0,dd.jsxs)(t.Fragment,{children:[!A&&au,(0,dd.jsxs)(ne,na({},ie,!Gd(ne)&&{ownerState:na({},ee,ie.ownerState)},{ref:n,onClick:e=>{M.current&&e.currentTarget===e.target&&M.current.focus(),R&&R(e)}},O,{className:ra(te.root,ie.className,c,N&&"MuiInputBase-readOnly"),children:[V,(0,dd.jsx)(md.Provider,{value:null,children:(0,dd.jsx)(re,na({ownerState:ee,"aria-invalid":X.error,"aria-describedby":o,autoComplete:a,autoFocus:s,defaultValue:u,disabled:X.disabled,id:f,onAnimationStart:e=>{z("mui-auto-fill-cancel"===e.animationName?M.current:{value:"x"})},name:y,placeholder:T,readOnly:N,required:X.required,rows:w,value:J,onKeyDown:F,onKeyUp:B,type:Z},$,!Gd(re)&&{as:q,ownerState:na({},ee,$.ownerState)},{ref:P,className:ra(te.input,$.className,N&&"MuiInputBase-readOnly"),onBlur:e=>{b&&b(e),E.onBlur&&E.onBlur(e),j&&j.onBlur?j.onBlur(e):Y(!1)},onChange:function(e){if(!x){const t=e.target||M.current;if(null==t)throw new Error(aa(1));z({value:t.value})}for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];E.onChange&&E.onChange(e,...n),v&&v(e,...n)},onFocus:e=>{X.disabled?e.stopPropagation():(S&&S(e),E.onFocus&&E.onFocus(e),j&&j.onFocus?j.onFocus(e):Y(!0))}}))}),p,_?_(na({},X,{startAdornment:V})):null]}))]})})),cu=su,lu=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],du=zl(ru,{shouldForwardProp:e=>Kl(e)||"classes"===e,name:"MuiOutlinedInput",slot:"Root",overridesResolver:nu})((e=>{let{theme:t,ownerState:n}=e;const i="light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return na({position:"relative",borderRadius:(t.vars||t).shape.borderRadius,["&:hover .".concat(kd.notchedOutline)]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{["&:hover .".concat(kd.notchedOutline)]:{borderColor:t.vars?"rgba(".concat(t.vars.palette.common.onBackgroundChannel," / 0.23)"):i}},["&.".concat(kd.focused," .").concat(kd.notchedOutline)]:{borderColor:(t.vars||t).palette[n.color].main,borderWidth:2},["&.".concat(kd.error," .").concat(kd.notchedOutline)]:{borderColor:(t.vars||t).palette.error.main},["&.".concat(kd.disabled," .").concat(kd.notchedOutline)]:{borderColor:(t.vars||t).palette.action.disabled}},n.startAdornment&&{paddingLeft:14},n.endAdornment&&{paddingRight:14},n.multiline&&na({padding:"16.5px 14px"},"small"===n.size&&{padding:"8.5px 14px"}))})),uu=zl((function(e){const{className:t,label:n,notched:i}=e,r=ta(e,Sd),o=null!=n&&""!==n,a=na({},e,{notched:i,withLabel:o});return(0,dd.jsx)(Fd,na({"aria-hidden":!0,className:t,ownerState:a},r,{children:(0,dd.jsx)(Bd,{ownerState:a,children:o?(0,dd.jsx)("span",{children:n}):Rd||(Rd=(0,dd.jsx)("span",{className:"notranslate",children:"\u200b"}))})}))}),{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(e,t)=>t.notchedOutline})((e=>{let{theme:t}=e;const n="light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?"rgba(".concat(t.vars.palette.common.onBackgroundChannel," / 0.23)"):n}})),hu=zl(ou,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:iu})((e=>{let{theme:t,ownerState:n}=e;return na({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},"small"===n.size&&{padding:"8.5px 14px"},n.multiline&&{padding:0},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0})})),Au=t.forwardRef((function(e,n){var i,r,o,a,s;const c=id({props:e,name:"MuiOutlinedInput"}),{components:l={},fullWidth:d=!1,inputComponent:u="input",label:h,multiline:A=!1,notched:p,slots:g={},type:f="text"}=c,m=ta(c,lu),E=(e=>{const{classes:t}=e;return na({},t,oa({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},wd,t))})(c),C=Ed(),I=Td({props:c,muiFormControl:C,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),Q=na({},c,{color:I.color||"primary",disabled:I.disabled,error:I.error,focused:I.focused,formControl:C,fullWidth:d,hiddenLabel:I.hiddenLabel,multiline:A,size:I.size,type:f}),U=null!=(i=null!=(r=g.root)?r:l.Root)?i:du,y=null!=(o=null!=(a=g.input)?a:l.Input)?o:hu;return(0,dd.jsx)(cu,na({slots:{root:U,input:y},renderSuffix:e=>(0,dd.jsx)(uu,{ownerState:Q,className:E.notchedOutline,label:null!=h&&""!==h&&I.required?s||(s=(0,dd.jsxs)(t.Fragment,{children:[h,"\u2009","*"]})):h,notched:"undefined"!==typeof p?p:Boolean(e.startAdornment||e.filled||e.focused)}),fullWidth:d,inputComponent:u,multiline:A,ref:n,type:f},m,{classes:na({},E,{notchedOutline:null})}))}));Au.muiName="Input";const pu=Au,gu=()=>{const[e,n]=(0,t.useState)(!1),[i,r]=(0,t.useState)(!1),[o,a]=(0,t.useState)(!1),[s]=Jo(),[c]=Oo(),l=$(),d=Ft(),{userInfo:u}=Ct((e=>e.auth)),h=async()=>{n(!e);const t=document.getElementById("sideDrawer");t.style.display=e?"none":"block"};return(0,t.useEffect)((()=>{sessionStorage.userInfo&&(async()=>{try{const e=await s().unwrap();d(Ko({...e}))}catch(e){e.data.errors.forEach((e=>{ot.error(e.msg)}))}})()}),[]),(0,dd.jsx)("div",{id:"header",children:(0,dd.jsxs)("div",{id:"upperHeader",children:[e?(0,dd.jsx)("i",{className:"fa-solid fa-xmark fa-bars",onClick:h}):(0,dd.jsx)("i",{className:"fa-solid fa-bars",onClick:h}),(0,dd.jsxs)("span",{className:"logoSpan",children:[(0,dd.jsx)("img",{src:ea,alt:"",className:"logo"}),(0,dd.jsx)("h1",{children:"Cam"})]}),(0,dd.jsx)(pu,{id:"outlined-adornment-weight",className:"searchInput",placeholder:"Ref. property",endAdornment:(0,dd.jsx)(vd,{position:"end",children:(0,dd.jsx)("i",{className:"fa-solid fa-magnifying-glass"})}),"aria-describedby":"outlined-weight-helper-text",inputProps:{"aria-label":"weight"}}),(0,dd.jsxs)("div",{className:"profileDiv",onClick:()=>a(!o),children:[(0,dd.jsx)("span",{className:"userSpan",children:(0,dd.jsx)("i",{className:"fa-solid fa-user"})}),(0,dd.jsx)("p",{className:"profileDivp1",children:"My Profile"}),o?(0,dd.jsx)("i",{className:"fa-solid fa-angle-up"}):(0,dd.jsx)("i",{className:"fa-solid fa-angle-down"}),(0,dd.jsxs)("div",{className:"menuDiv",style:{display:"".concat(o?"flex":"none")},children:[(0,dd.jsxs)("div",{className:"menuDiv1",children:[(0,dd.jsx)("span",{className:"imgSpan",children:(0,dd.jsx)("i",{className:"fa-solid fa-user"})}),(0,dd.jsxs)("span",{className:"emailSpan",children:[(0,dd.jsx)("p",{children:"test@gmail.com"}),(0,dd.jsx)(ve,{to:"/profile",children:"Edit Profile"})]})]}),(0,dd.jsx)("div",{className:"hr",style:{margin:"20px 0 20px 0"}}),(0,dd.jsxs)("div",{className:"linkDiv",style:{marginRight:"5px"},onClick:()=>l("/profile#users"),children:[(0,dd.jsx)("i",{className:"fa-solid fa-user-plus linkIcon linkIconFlip"}),(0,dd.jsx)("p",{children:"Manage users"})]}),(0,dd.jsxs)("div",{className:"linkDiv",onClick:()=>l("/profile#brand"),children:[(0,dd.jsx)("i",{className:"fa-solid fa-tag linkIcon linkIconFlip"}),(0,dd.jsx)("p",{children:"Customize brand"})]}),(0,dd.jsx)("div",{className:"hr",style:{margin:"0px 0 15px 0"}}),(0,dd.jsxs)("div",{className:"linkDiv",style:{marginBottom:"0"},onClick:async()=>{try{await c().unwrap(),d(Ho()),a(!o),window.location.assign("/login")}catch(e){e.data.errors.forEach((e=>{ot.error(e.msg)}))}},children:[(0,dd.jsx)("i",{className:"fa-solid fa-arrow-right-from-bracket linkIcon"}),(0,dd.jsx)("p",{children:"Log out"})]})]})]})]})})},fu=()=>{const e=$(),t=window.location.pathname;return(0,dd.jsxs)("div",{id:"sideDrawer",children:[(0,dd.jsxs)("div",{className:"sideLinkDiv ".concat("/home"===t?"sideLinkDivSelected":"sideLinkDiv"),onClick:()=>e("/home"),children:[(0,dd.jsx)("i",{className:"fa-solid fa-globe  ".concat("/home"===t?"sideIconSelected":"sideIcon")}),(0,dd.jsx)("p",{className:"".concat("/home"===t?"sideLinkDivpSelected":"sideLinkDivp"),children:"Home"})]}),(0,dd.jsxs)("div",{className:"sideLinkDiv ".concat("/properties"===t?"sideLinkDivSelected":"sideLinkDiv"),onClick:()=>e("/properties#active"),children:[(0,dd.jsx)("i",{className:"fa-solid fa-house-chimney  ".concat("/properties"===t?"sideIconSelected":"sideIcon")}),(0,dd.jsx)("p",{className:"".concat("/properties"===t?"sideLinkDivpSelected":"sideLinkDivp"),children:"Properties"})]}),(0,dd.jsxs)("div",{className:"sideLinkDiv ".concat("/videocalls"===t?"sideLinkDivSelected":"sideLinkDiv"),onClick:()=>e("/videocalls#videocalls"),children:[(0,dd.jsx)("i",{className:"fa-solid fa-video  ".concat("/videocalls"===t?"sideIconSelected":"sideIcon")}),(0,dd.jsx)("p",{className:"".concat("/videocalls"===t?"sideLinkDivpSelected":"sideLinkDivp"),children:"Videocalls"})]}),(0,dd.jsxs)("div",{className:"sideLinkDiv ".concat("/analytics"===t?"sideLinkDivSelected":"sideLinkDiv"),onClick:()=>e("/analytics"),children:[(0,dd.jsx)("i",{className:"fa-solid fa-chart-pie  ".concat("/analytics"===t?"sideIconSelected":"sideIcon")}),(0,dd.jsx)("p",{className:"".concat("/analytics"===t?"sideLinkDivpSelected":"sideLinkDivp"),children:"Analytics"})]}),(0,dd.jsxs)("div",{className:"sideLinkDiv ".concat("/help"===t?"sideLinkDivSelected":"sideLinkDiv"),onClick:()=>e("/help"),children:[(0,dd.jsx)("i",{className:"fa-regular fa-circle-question  ".concat("/help"===t?"sideIconSelected":"sideIcon")}),(0,dd.jsx)("p",{className:"".concat("/help"===t?"sideLinkDivpSelected":"sideLinkDivp"),children:"Help"})]})]})};const mu=n.p+"static/media/share.6580a5893a59e34f486b60d081f114e5.svg";const Eu=n.p+"static/media/hdimage.d0e3ed9f122bc08ce1ccbeb8c106b085.svg";const Cu=n.p+"static/media/floorplan.4faa8fa71129e02d7aaa0e90728a3d28.svg";const Iu=n.p+"static/media/360tour.e93fdb7076bd1f798452bd4810c664e1.svg";const Qu=n.p+"static/media/virtual_tour.779f40e31abba94fd13a0693a71d6dfa.svg";const Uu=n.p+"static/media/render_3D.c113dea75ec543e65ea4bac442dc66d8.svg";const yu=n.p+"static/media/360Camera.ede425b7aa4504e8e06163d9c1adbb31.svg";const bu=n.p+"static/media/tripod.5c763c1684269b842f57c8dedf377155.svg";const vu=n.p+"static/media/app.a49582ef81913605bbf051b81231d1c6.svg";var Ru=n(2007),Su=n.n(Ru);function Fu(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(t){o(t)}}function s(e){try{c(i.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))}function Bu(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,i=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){a.label=s[1];break}if(6===s[0]&&a.label<r[1]){a.label=r[1],r=s;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(s);break}r[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(c){s=[6,c],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}Object.create;function Tu(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(s){r={error:s}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a}function Nu(e,t,n){if(n||2===arguments.length)for(var i,r=0,o=t.length;r<o;r++)!i&&r in t||(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}Object.create;"function"===typeof SuppressedError&&SuppressedError;var _u=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function wu(e,t){var n=function(e){var t=e.name;if(t&&-1!==t.lastIndexOf(".")&&!e.type){var n=t.split(".").pop().toLowerCase(),i=_u.get(n);i&&Object.defineProperty(e,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return e}(e);if("string"!==typeof n.path){var i=e.webkitRelativePath;Object.defineProperty(n,"path",{value:"string"===typeof t?t:"string"===typeof i&&i.length>0?i:e.name,writable:!1,configurable:!1,enumerable:!0})}return n}var ku=[".DS_Store","Thumbs.db"];function Du(e){return"object"===typeof e&&null!==e}function Vu(e){return Ju(e.target.files).map((function(e){return wu(e)}))}function Zu(e){return Fu(this,void 0,void 0,(function(){return Bu(this,(function(t){switch(t.label){case 0:return[4,Promise.all(e.map((function(e){return e.getFile()})))];case 1:return[2,t.sent().map((function(e){return wu(e)}))]}}))}))}function Wu(e,t){return Fu(this,void 0,void 0,(function(){var n;return Bu(this,(function(i){switch(i.label){case 0:return e.items?(n=Ju(e.items).filter((function(e){return"file"===e.kind})),"drop"!==t?[2,n]:[4,Promise.all(n.map(xu))]):[3,2];case 1:return[2,Ou(Mu(i.sent()))];case 2:return[2,Ou(Ju(e.files).map((function(e){return wu(e)})))]}}))}))}function Ou(e){return e.filter((function(e){return-1===ku.indexOf(e.name)}))}function Ju(e){if(null===e)return[];for(var t=[],n=0;n<e.length;n++){var i=e[n];t.push(i)}return t}function xu(e){if("function"!==typeof e.webkitGetAsEntry)return Lu(e);var t=e.webkitGetAsEntry();return t&&t.isDirectory?Gu(t):Lu(e)}function Mu(e){return e.reduce((function(e,t){return Nu(Nu([],Tu(e),!1),Tu(Array.isArray(t)?Mu(t):[t]),!1)}),[])}function Lu(e){var t=e.getAsFile();if(!t)return Promise.reject("".concat(e," is not a File"));var n=wu(t);return Promise.resolve(n)}function Pu(e){return Fu(this,void 0,void 0,(function(){return Bu(this,(function(t){return[2,e.isDirectory?Gu(e):Yu(e)]}))}))}function Gu(e){var t=e.createReader();return new Promise((function(e,n){var i=[];!function r(){var o=this;t.readEntries((function(t){return Fu(o,void 0,void 0,(function(){var o,a,s;return Bu(this,(function(c){switch(c.label){case 0:if(t.length)return[3,5];c.label=1;case 1:return c.trys.push([1,3,,4]),[4,Promise.all(i)];case 2:return o=c.sent(),e(o),[3,4];case 3:return a=c.sent(),n(a),[3,4];case 4:return[3,6];case 5:s=Promise.all(t.map(Pu)),i.push(s),r(),c.label=6;case 6:return[2]}}))}))}),(function(e){n(e)}))}()}))}function Yu(e){return Fu(this,void 0,void 0,(function(){return Bu(this,(function(t){return[2,new Promise((function(t,n){e.file((function(n){var i=wu(n,e.fullPath);t(i)}),(function(e){n(e)}))}))]}))}))}var ju=n(9998);function Xu(e){return function(e){if(Array.isArray(e))return eh(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||$u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ku(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Hu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ku(Object(n),!0).forEach((function(t){zu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ku(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,r,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);a=!0);}catch(c){s=!0,r=c}finally{try{a||null==n.return||n.return()}finally{if(s)throw r}}return o}(e,t)||$u(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $u(e,t){if(e){if("string"===typeof e)return eh(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?eh(e,t):void 0}}function eh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var th="file-invalid-type",nh="file-too-large",ih="file-too-small",rh="too-many-files",oh=function(e){e=Array.isArray(e)&&1===e.length?e[0]:e;var t=Array.isArray(e)?"one of ".concat(e.join(", ")):e;return{code:th,message:"File type must be ".concat(t)}},ah=function(e){return{code:nh,message:"File is larger than ".concat(e," ").concat(1===e?"byte":"bytes")}},sh=function(e){return{code:ih,message:"File is smaller than ".concat(e," ").concat(1===e?"byte":"bytes")}},ch={code:rh,message:"Too many files"};function lh(e,t){var n="application/x-moz-file"===e.type||(0,ju.Z)(e,t);return[n,n?null:oh(t)]}function dh(e,t,n){if(uh(e.size))if(uh(t)&&uh(n)){if(e.size>n)return[!1,ah(n)];if(e.size<t)return[!1,sh(t)]}else{if(uh(t)&&e.size<t)return[!1,sh(t)];if(uh(n)&&e.size>n)return[!1,ah(n)]}return[!0,null]}function uh(e){return void 0!==e&&null!==e}function hh(e){return"function"===typeof e.isPropagationStopped?e.isPropagationStopped():"undefined"!==typeof e.cancelBubble&&e.cancelBubble}function Ah(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,(function(e){return"Files"===e||"application/x-moz-file"===e})):!!e.target&&!!e.target.files}function ph(e){e.preventDefault()}function gh(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return t.some((function(t){return!hh(e)&&t&&t.apply(void 0,[e].concat(i)),hh(e)}))}}function fh(e){return"audio/*"===e||"video/*"===e||"image/*"===e||"text/*"===e||/\w+\/[-+.\w]+/g.test(e)}function mh(e){return/^.*\.[\w]+$/.test(e)}var Eh=["children"],Ch=["open"],Ih=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],Qh=["refKey","onChange","onClick"];function Uh(e){return function(e){if(Array.isArray(e))return vh(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||bh(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yh(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,r,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);a=!0);}catch(c){s=!0,r=c}finally{try{a||null==n.return||n.return()}finally{if(s)throw r}}return o}(e,t)||bh(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bh(e,t){if(e){if("string"===typeof e)return vh(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vh(e,t):void 0}}function vh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Rh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Sh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rh(Object(n),!0).forEach((function(t){Fh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Fh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bh(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Th=(0,t.forwardRef)((function(e,n){var i=e.children,r=wh(Bh(e,Eh)),o=r.open,a=Bh(r,Ch);return(0,t.useImperativeHandle)(n,(function(){return{open:o}}),[o]),t.createElement(t.Fragment,null,i(Sh(Sh({},a),{},{open:o})))}));Th.displayName="Dropzone";var Nh={disabled:!1,getFilesFromEvent:function(e){return Fu(this,void 0,void 0,(function(){return Bu(this,(function(t){return Du(e)&&Du(e.dataTransfer)?[2,Wu(e.dataTransfer,e.type)]:function(e){return Du(e)&&Du(e.target)}(e)?[2,Vu(e)]:Array.isArray(e)&&e.every((function(e){return"getFile"in e&&"function"===typeof e.getFile}))?[2,Zu(e)]:[2,[]]}))}))},maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0,autoFocus:!1};Th.defaultProps=Nh,Th.propTypes={children:Su().func,accept:Su().objectOf(Su().arrayOf(Su().string)),multiple:Su().bool,preventDropOnDocument:Su().bool,noClick:Su().bool,noKeyboard:Su().bool,noDrag:Su().bool,noDragEventsBubbling:Su().bool,minSize:Su().number,maxSize:Su().number,maxFiles:Su().number,disabled:Su().bool,getFilesFromEvent:Su().func,onFileDialogCancel:Su().func,onFileDialogOpen:Su().func,useFsAccessApi:Su().bool,autoFocus:Su().bool,onDragEnter:Su().func,onDragLeave:Su().func,onDragOver:Su().func,onDrop:Su().func,onDropAccepted:Su().func,onDropRejected:Su().func,onError:Su().func,validator:Su().func};var _h={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function wh(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Sh(Sh({},Nh),e),i=n.accept,r=n.disabled,o=n.getFilesFromEvent,a=n.maxSize,s=n.minSize,c=n.multiple,l=n.maxFiles,d=n.onDragEnter,u=n.onDragLeave,h=n.onDragOver,A=n.onDrop,p=n.onDropAccepted,g=n.onDropRejected,f=n.onFileDialogCancel,m=n.onFileDialogOpen,E=n.useFsAccessApi,C=n.autoFocus,I=n.preventDropOnDocument,Q=n.noClick,U=n.noKeyboard,y=n.noDrag,b=n.noDragEventsBubbling,v=n.onError,R=n.validator,S=(0,t.useMemo)((function(){return function(e){if(uh(e))return Object.entries(e).reduce((function(e,t){var n=qu(t,2),i=n[0],r=n[1];return[].concat(Xu(e),[i],Xu(r))}),[]).filter((function(e){return fh(e)||mh(e)})).join(",")}(i)}),[i]),F=(0,t.useMemo)((function(){return function(e){return uh(e)?[{description:"Files",accept:Object.entries(e).filter((function(e){var t=qu(e,2),n=t[0],i=t[1],r=!0;return fh(n)||(console.warn('Skipped "'.concat(n,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),r=!1),Array.isArray(i)&&i.every(mh)||(console.warn('Skipped "'.concat(n,'" because an invalid file extension was provided.')),r=!1),r})).reduce((function(e,t){var n=qu(t,2),i=n[0],r=n[1];return Hu(Hu({},e),{},zu({},i,r))}),{})}]:e}(i)}),[i]),B=(0,t.useMemo)((function(){return"function"===typeof m?m:Dh}),[m]),T=(0,t.useMemo)((function(){return"function"===typeof f?f:Dh}),[f]),N=(0,t.useRef)(null),_=(0,t.useRef)(null),w=yh((0,t.useReducer)(kh,_h),2),k=w[0],D=w[1],V=k.isFocused,Z=k.isFileDialogActive,W=(0,t.useRef)("undefined"!==typeof window&&window.isSecureContext&&E&&"showOpenFilePicker"in window),O=function(){!W.current&&Z&&setTimeout((function(){_.current&&(_.current.files.length||(D({type:"closeDialog"}),T()))}),300)};(0,t.useEffect)((function(){return window.addEventListener("focus",O,!1),function(){window.removeEventListener("focus",O,!1)}}),[_,Z,T,W]);var J=(0,t.useRef)([]),x=function(e){N.current&&N.current.contains(e.target)||(e.preventDefault(),J.current=[])};(0,t.useEffect)((function(){return I&&(document.addEventListener("dragover",ph,!1),document.addEventListener("drop",x,!1)),function(){I&&(document.removeEventListener("dragover",ph),document.removeEventListener("drop",x))}}),[N,I]),(0,t.useEffect)((function(){return!r&&C&&N.current&&N.current.focus(),function(){}}),[N,C,r]);var M=(0,t.useCallback)((function(e){v?v(e):console.error(e)}),[v]),L=(0,t.useCallback)((function(e){e.preventDefault(),e.persist(),ne(e),J.current=[].concat(Uh(J.current),[e.target]),Ah(e)&&Promise.resolve(o(e)).then((function(t){if(!hh(e)||b){var n=t.length,i=n>0&&function(e){var t=e.files,n=e.accept,i=e.minSize,r=e.maxSize,o=e.multiple,a=e.maxFiles,s=e.validator;return!(!o&&t.length>1||o&&a>=1&&t.length>a)&&t.every((function(e){var t=qu(lh(e,n),1)[0],o=qu(dh(e,i,r),1)[0],a=s?s(e):null;return t&&o&&!a}))}({files:t,accept:S,minSize:s,maxSize:a,multiple:c,maxFiles:l,validator:R});D({isDragAccept:i,isDragReject:n>0&&!i,isDragActive:!0,type:"setDraggedFiles"}),d&&d(e)}})).catch((function(e){return M(e)}))}),[o,d,M,b,S,s,a,c,l,R]),P=(0,t.useCallback)((function(e){e.preventDefault(),e.persist(),ne(e);var t=Ah(e);if(t&&e.dataTransfer)try{e.dataTransfer.dropEffect="copy"}catch(n){}return t&&h&&h(e),!1}),[h,b]),G=(0,t.useCallback)((function(e){e.preventDefault(),e.persist(),ne(e);var t=J.current.filter((function(e){return N.current&&N.current.contains(e)})),n=t.indexOf(e.target);-1!==n&&t.splice(n,1),J.current=t,t.length>0||(D({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),Ah(e)&&u&&u(e))}),[N,u,b]),Y=(0,t.useCallback)((function(e,t){var n=[],i=[];e.forEach((function(e){var t=yh(lh(e,S),2),r=t[0],o=t[1],c=yh(dh(e,s,a),2),l=c[0],d=c[1],u=R?R(e):null;if(r&&l&&!u)n.push(e);else{var h=[o,d];u&&(h=h.concat(u)),i.push({file:e,errors:h.filter((function(e){return e}))})}})),(!c&&n.length>1||c&&l>=1&&n.length>l)&&(n.forEach((function(e){i.push({file:e,errors:[ch]})})),n.splice(0)),D({acceptedFiles:n,fileRejections:i,type:"setFiles"}),A&&A(n,i,t),i.length>0&&g&&g(i,t),n.length>0&&p&&p(n,t)}),[D,c,S,s,a,l,A,p,g,R]),j=(0,t.useCallback)((function(e){e.preventDefault(),e.persist(),ne(e),J.current=[],Ah(e)&&Promise.resolve(o(e)).then((function(t){hh(e)&&!b||Y(t,e)})).catch((function(e){return M(e)})),D({type:"reset"})}),[o,Y,M,b]),X=(0,t.useCallback)((function(){if(W.current){D({type:"openDialog"}),B();var e={multiple:c,types:F};window.showOpenFilePicker(e).then((function(e){return o(e)})).then((function(e){Y(e,null),D({type:"closeDialog"})})).catch((function(e){!function(e){return e instanceof DOMException&&("AbortError"===e.name||e.code===e.ABORT_ERR)}(e)?!function(e){return e instanceof DOMException&&("SecurityError"===e.name||e.code===e.SECURITY_ERR)}(e)?M(e):(W.current=!1,_.current?(_.current.value=null,_.current.click()):M(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):(T(e),D({type:"closeDialog"}))}))}else _.current&&(D({type:"openDialog"}),B(),_.current.value=null,_.current.click())}),[D,B,T,E,Y,M,F,c]),K=(0,t.useCallback)((function(e){N.current&&N.current.isEqualNode(e.target)&&(" "!==e.key&&"Enter"!==e.key&&32!==e.keyCode&&13!==e.keyCode||(e.preventDefault(),X()))}),[N,X]),H=(0,t.useCallback)((function(){D({type:"focus"})}),[]),z=(0,t.useCallback)((function(){D({type:"blur"})}),[]),q=(0,t.useCallback)((function(){Q||(!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent;return function(e){return-1!==e.indexOf("MSIE")||-1!==e.indexOf("Trident/")}(e)||function(e){return-1!==e.indexOf("Edge/")}(e)}()?X():setTimeout(X,0))}),[Q,X]),$=function(e){return r?null:e},ee=function(e){return U?null:$(e)},te=function(e){return y?null:$(e)},ne=function(e){b&&e.stopPropagation()},ie=(0,t.useMemo)((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.refKey,n=void 0===t?"ref":t,i=e.role,o=e.onKeyDown,a=e.onFocus,s=e.onBlur,c=e.onClick,l=e.onDragEnter,d=e.onDragOver,u=e.onDragLeave,h=e.onDrop,A=Bh(e,Ih);return Sh(Sh(Fh({onKeyDown:ee(gh(o,K)),onFocus:ee(gh(a,H)),onBlur:ee(gh(s,z)),onClick:$(gh(c,q)),onDragEnter:te(gh(l,L)),onDragOver:te(gh(d,P)),onDragLeave:te(gh(u,G)),onDrop:te(gh(h,j)),role:"string"===typeof i&&""!==i?i:"presentation"},n,N),r||U?{}:{tabIndex:0}),A)}}),[N,K,H,z,q,L,P,G,j,U,y,r]),re=(0,t.useCallback)((function(e){e.stopPropagation()}),[]),oe=(0,t.useMemo)((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.refKey,n=void 0===t?"ref":t,i=e.onChange,r=e.onClick,o=Bh(e,Qh);return Sh(Sh({},Fh({accept:S,multiple:c,type:"file",style:{display:"none"},onChange:$(gh(i,j)),onClick:$(gh(r,re)),tabIndex:-1},n,_)),o)}}),[_,i,c,j,r]);return Sh(Sh({},k),{},{isFocused:V&&!r,getRootProps:ie,getInputProps:oe,rootRef:N,inputRef:_,open:$(X)})}function kh(e,t){switch(t.type){case"focus":return Sh(Sh({},e),{},{isFocused:!0});case"blur":return Sh(Sh({},e),{},{isFocused:!1});case"openDialog":return Sh(Sh({},_h),{},{isFileDialogActive:!0});case"closeDialog":return Sh(Sh({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return Sh(Sh({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return Sh(Sh({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections});case"reset":return Sh({},_h);default:return e}}function Dh(){}const Vh=function(e){let{controlled:n,default:i,name:r,state:o="value"}=e;const{current:a}=t.useRef(void 0!==n),[s,c]=t.useState(i);return[a?n:s,t.useCallback((e=>{a||c(e)}),[])]};const Zh=function(e){const n=t.useRef(e);return Od((()=>{n.current=e})),t.useRef((function(){return(0,n.current)(...arguments)})).current},Wh=Zh;let Oh,Jh=!0,xh=!1;const Mh={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function Lh(e){e.metaKey||e.altKey||e.ctrlKey||(Jh=!0)}function Ph(){Jh=!1}function Gh(){"hidden"===this.visibilityState&&xh&&(Jh=!0)}function Yh(e){const{target:t}=e;try{return t.matches(":focus-visible")}catch(n){}return Jh||function(e){const{type:t,tagName:n}=e;return!("INPUT"!==n||!Mh[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}const jh=function(){const e=t.useCallback((e=>{var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",Lh,!0),t.addEventListener("mousedown",Ph,!0),t.addEventListener("pointerdown",Ph,!0),t.addEventListener("touchstart",Ph,!0),t.addEventListener("visibilitychange",Gh,!0))}),[]),n=t.useRef(!1);return{isFocusVisibleRef:n,onFocus:function(e){return!!Yh(e)&&(n.current=!0,!0)},onBlur:function(){return!!n.current&&(xh=!0,window.clearTimeout(Oh),Oh=window.setTimeout((()=>{xh=!1}),100),n.current=!1,!0)},ref:e}};function Xh(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Kh(e,t){return Kh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Kh(e,t)}function Hh(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Kh(e,t)}const zh=t.createContext(null);function qh(e,n){var i=Object.create(null);return e&&t.Children.map(e,(function(e){return e})).forEach((function(e){i[e.key]=function(e){return n&&(0,t.isValidElement)(e)?n(e):e}(e)})),i}function $h(e,t,n){return null!=n[t]?n[t]:e.props[t]}function eA(e,n,i){var r=qh(e.children),o=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var i,r=Object.create(null),o=[];for(var a in e)a in t?o.length&&(r[a]=o,o=[]):o.push(a);var s={};for(var c in t){if(r[c])for(i=0;i<r[c].length;i++){var l=r[c][i];s[r[c][i]]=n(l)}s[c]=n(c)}for(i=0;i<o.length;i++)s[o[i]]=n(o[i]);return s}(n,r);return Object.keys(o).forEach((function(a){var s=o[a];if((0,t.isValidElement)(s)){var c=a in n,l=a in r,d=n[a],u=(0,t.isValidElement)(d)&&!d.props.in;!l||c&&!u?l||!c||u?l&&c&&(0,t.isValidElement)(d)&&(o[a]=(0,t.cloneElement)(s,{onExited:i.bind(null,s),in:d.props.in,exit:$h(s,"exit",e),enter:$h(s,"enter",e)})):o[a]=(0,t.cloneElement)(s,{in:!1}):o[a]=(0,t.cloneElement)(s,{onExited:i.bind(null,s),in:!0,exit:$h(s,"exit",e),enter:$h(s,"enter",e)})}})),o}var tA=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},nA=function(e){function n(t,n){var i,r=(i=e.call(this,t,n)||this).handleExited.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(i));return i.state={contextValue:{isMounting:!0},handleExited:r,firstRender:!0},i}Hh(n,e);var i=n.prototype;return i.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},i.componentWillUnmount=function(){this.mounted=!1},n.getDerivedStateFromProps=function(e,n){var i,r,o=n.children,a=n.handleExited;return{children:n.firstRender?(i=e,r=a,qh(i.children,(function(e){return(0,t.cloneElement)(e,{onExited:r.bind(null,e),in:!0,appear:$h(e,"appear",i),enter:$h(e,"enter",i),exit:$h(e,"exit",i)})}))):eA(e,o,a),firstRender:!1}},i.handleExited=function(e,t){var n=qh(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=na({},t.children);return delete n[e.key],{children:n}})))},i.render=function(){var e=this.props,n=e.component,i=e.childFactory,r=ta(e,["component","childFactory"]),o=this.state.contextValue,a=tA(this.state.children).map(i);return delete r.appear,delete r.enter,delete r.exit,null===n?t.createElement(zh.Provider,{value:o},a):t.createElement(zh.Provider,{value:o},t.createElement(n,r,a))},n}(t.Component);nA.propTypes={},nA.defaultProps={component:"div",childFactory:function(e){return e}};const iA=nA;const rA=function(e){const{className:n,classes:i,pulsate:r=!1,rippleX:o,rippleY:a,rippleSize:s,in:c,onExited:l,timeout:d}=e,[u,h]=t.useState(!1),A=ra(n,i.ripple,i.rippleVisible,r&&i.ripplePulsate),p={width:s,height:s,top:-s/2+a,left:-s/2+o},g=ra(i.child,u&&i.childLeaving,r&&i.childPulsate);return c||u||h(!0),t.useEffect((()=>{if(!c&&null!=l){const e=setTimeout(l,d);return()=>{clearTimeout(e)}}}),[l,c,d]),(0,dd.jsx)("span",{className:A,style:p,children:(0,dd.jsx)("span",{className:g})})};const oA=cd("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]);var aA,sA,cA,lA;const dA=["center","classes","className"];let uA,hA,AA,pA;const gA=Hd(uA||(uA=aA||(aA=Xh(["\n  0% {\n    transform: scale(0);\n    opacity: 0.1;\n  }\n\n  100% {\n    transform: scale(1);\n    opacity: 0.3;\n  }\n"])))),fA=Hd(hA||(hA=sA||(sA=Xh(["\n  0% {\n    opacity: 1;\n  }\n\n  100% {\n    opacity: 0;\n  }\n"])))),mA=Hd(AA||(AA=cA||(cA=Xh(["\n  0% {\n    transform: scale(1);\n  }\n\n  50% {\n    transform: scale(0.92);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n"])))),EA=zl("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),CA=zl(rA,{name:"MuiTouchRipple",slot:"Ripple"})(pA||(pA=lA||(lA=Xh(["\n  opacity: 0;\n  position: absolute;\n\n  &."," {\n    opacity: 0.3;\n    transform: scale(1);\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  &."," {\n    animation-duration: ","ms;\n  }\n\n  & ."," {\n    opacity: 1;\n    display: block;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    background-color: currentColor;\n  }\n\n  & ."," {\n    opacity: 0;\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  & ."," {\n    position: absolute;\n    /* @noflip */\n    left: 0px;\n    top: 0;\n    animation-name: ",";\n    animation-duration: 2500ms;\n    animation-timing-function: ",";\n    animation-iteration-count: infinite;\n    animation-delay: 200ms;\n  }\n"]))),oA.rippleVisible,gA,550,(e=>{let{theme:t}=e;return t.transitions.easing.easeInOut}),oA.ripplePulsate,(e=>{let{theme:t}=e;return t.transitions.duration.shorter}),oA.child,oA.childLeaving,fA,550,(e=>{let{theme:t}=e;return t.transitions.easing.easeInOut}),oA.childPulsate,mA,(e=>{let{theme:t}=e;return t.transitions.easing.easeInOut})),IA=t.forwardRef((function(e,n){const i=id({props:e,name:"MuiTouchRipple"}),{center:r=!1,classes:o={},className:a}=i,s=ta(i,dA),[c,l]=t.useState([]),d=t.useRef(0),u=t.useRef(null);t.useEffect((()=>{u.current&&(u.current(),u.current=null)}),[c]);const h=t.useRef(!1),A=t.useRef(0),p=t.useRef(null),g=t.useRef(null);t.useEffect((()=>()=>{A.current&&clearTimeout(A.current)}),[]);const f=t.useCallback((e=>{const{pulsate:t,rippleX:n,rippleY:i,rippleSize:r,cb:a}=e;l((e=>[...e,(0,dd.jsx)(CA,{classes:{ripple:ra(o.ripple,oA.ripple),rippleVisible:ra(o.rippleVisible,oA.rippleVisible),ripplePulsate:ra(o.ripplePulsate,oA.ripplePulsate),child:ra(o.child,oA.child),childLeaving:ra(o.childLeaving,oA.childLeaving),childPulsate:ra(o.childPulsate,oA.childPulsate)},timeout:550,pulsate:t,rippleX:n,rippleY:i,rippleSize:r},d.current)])),d.current+=1,u.current=a}),[o]),m=t.useCallback((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};const{pulsate:i=!1,center:o=r||t.pulsate,fakeElement:a=!1}=t;if("mousedown"===(null==e?void 0:e.type)&&h.current)return void(h.current=!1);"touchstart"===(null==e?void 0:e.type)&&(h.current=!0);const s=a?null:g.current,c=s?s.getBoundingClientRect():{width:0,height:0,left:0,top:0};let l,d,u;if(o||void 0===e||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)l=Math.round(c.width/2),d=Math.round(c.height/2);else{const{clientX:t,clientY:n}=e.touches&&e.touches.length>0?e.touches[0]:e;l=Math.round(t-c.left),d=Math.round(n-c.top)}if(o)u=Math.sqrt((2*c.width**2+c.height**2)/3),u%2===0&&(u+=1);else{const e=2*Math.max(Math.abs((s?s.clientWidth:0)-l),l)+2,t=2*Math.max(Math.abs((s?s.clientHeight:0)-d),d)+2;u=Math.sqrt(e**2+t**2)}null!=e&&e.touches?null===p.current&&(p.current=()=>{f({pulsate:i,rippleX:l,rippleY:d,rippleSize:u,cb:n})},A.current=setTimeout((()=>{p.current&&(p.current(),p.current=null)}),80)):f({pulsate:i,rippleX:l,rippleY:d,rippleSize:u,cb:n})}),[r,f]),E=t.useCallback((()=>{m({},{pulsate:!0})}),[m]),C=t.useCallback(((e,t)=>{if(clearTimeout(A.current),"touchend"===(null==e?void 0:e.type)&&p.current)return p.current(),p.current=null,void(A.current=setTimeout((()=>{C(e,t)})));p.current=null,l((e=>e.length>0?e.slice(1):e)),u.current=t}),[]);return t.useImperativeHandle(n,(()=>({pulsate:E,start:m,stop:C})),[E,m,C]),(0,dd.jsx)(EA,na({className:ra(oA.root,o.root,a),ref:g},s,{children:(0,dd.jsx)(iA,{component:null,exit:!0,children:c})}))}));function QA(e){return sd("MuiButtonBase",e)}const UA=cd("MuiButtonBase",["root","disabled","focusVisible"]),yA=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],bA=zl("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},["&.".concat(UA.disabled)]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),vA=t.forwardRef((function(e,n){const i=id({props:e,name:"MuiButtonBase"}),{action:r,centerRipple:o=!1,children:a,className:s,component:c="button",disabled:l=!1,disableRipple:d=!1,disableTouchRipple:u=!1,focusRipple:h=!1,LinkComponent:A="a",onBlur:p,onClick:g,onContextMenu:f,onDragLeave:m,onFocus:E,onFocusVisible:C,onKeyDown:I,onKeyUp:Q,onMouseDown:U,onMouseLeave:y,onMouseUp:b,onTouchEnd:v,onTouchMove:R,onTouchStart:S,tabIndex:F=0,TouchRippleProps:B,touchRippleRef:T,type:N}=i,_=ta(i,yA),w=t.useRef(null),k=t.useRef(null),D=Yd(k,T),{isFocusVisibleRef:V,onFocus:Z,onBlur:W,ref:O}=jh(),[J,x]=t.useState(!1);l&&J&&x(!1),t.useImperativeHandle(r,(()=>({focusVisible:()=>{x(!0),w.current.focus()}})),[]);const[M,L]=t.useState(!1);t.useEffect((()=>{L(!0)}),[]);const P=M&&!d&&!l;function G(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u;return Wh((i=>{t&&t(i);return!n&&k.current&&k.current[e](i),!0}))}t.useEffect((()=>{J&&h&&!d&&M&&k.current.pulsate()}),[d,h,J,M]);const Y=G("start",U),j=G("stop",f),X=G("stop",m),K=G("stop",b),H=G("stop",(e=>{J&&e.preventDefault(),y&&y(e)})),z=G("start",S),q=G("stop",v),$=G("stop",R),ee=G("stop",(e=>{W(e),!1===V.current&&x(!1),p&&p(e)}),!1),te=Wh((e=>{w.current||(w.current=e.currentTarget),Z(e),!0===V.current&&(x(!0),C&&C(e)),E&&E(e)})),ne=()=>{const e=w.current;return c&&"button"!==c&&!("A"===e.tagName&&e.href)},ie=t.useRef(!1),re=Wh((e=>{h&&!ie.current&&J&&k.current&&" "===e.key&&(ie.current=!0,k.current.stop(e,(()=>{k.current.start(e)}))),e.target===e.currentTarget&&ne()&&" "===e.key&&e.preventDefault(),I&&I(e),e.target===e.currentTarget&&ne()&&"Enter"===e.key&&!l&&(e.preventDefault(),g&&g(e))})),oe=Wh((e=>{h&&" "===e.key&&k.current&&J&&!e.defaultPrevented&&(ie.current=!1,k.current.stop(e,(()=>{k.current.pulsate(e)}))),Q&&Q(e),g&&e.target===e.currentTarget&&ne()&&" "===e.key&&!e.defaultPrevented&&g(e)}));let ae=c;"button"===ae&&(_.href||_.to)&&(ae=A);const se={};"button"===ae?(se.type=void 0===N?"button":N,se.disabled=l):(_.href||_.to||(se.role="button"),l&&(se["aria-disabled"]=l));const ce=Yd(n,O,w);const le=na({},i,{centerRipple:o,component:c,disabled:l,disableRipple:d,disableTouchRipple:u,focusRipple:h,tabIndex:F,focusVisible:J}),de=(e=>{const{disabled:t,focusVisible:n,focusVisibleClassName:i,classes:r}=e,o=oa({root:["root",t&&"disabled",n&&"focusVisible"]},QA,r);return n&&i&&(o.root+=" ".concat(i)),o})(le);return(0,dd.jsxs)(bA,na({as:ae,className:ra(de.root,s),ownerState:le,onBlur:ee,onClick:g,onContextMenu:j,onFocus:te,onKeyDown:re,onKeyUp:oe,onMouseDown:Y,onMouseLeave:H,onMouseUp:K,onDragLeave:X,onTouchEnd:q,onTouchMove:$,onTouchStart:z,ref:ce,tabIndex:l?-1:F,type:N},se,_,{children:[a,P?(0,dd.jsx)(IA,na({ref:D,center:o},B)):null]}))})),RA=vA;function SA(e){return sd("PrivateSwitchBase",e)}cd("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const FA=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],BA=zl(RA)((e=>{let{ownerState:t}=e;return na({padding:9,borderRadius:"50%"},"start"===t.edge&&{marginLeft:"small"===t.size?-3:-12},"end"===t.edge&&{marginRight:"small"===t.size?-3:-12})})),TA=zl("input",{shouldForwardProp:Kl})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),NA=t.forwardRef((function(e,t){const{autoFocus:n,checked:i,checkedIcon:r,className:o,defaultChecked:a,disabled:s,disableFocusRipple:c=!1,edge:l=!1,icon:d,id:u,inputProps:h,inputRef:A,name:p,onBlur:g,onChange:f,onFocus:m,readOnly:E,required:C=!1,tabIndex:I,type:Q,value:U}=e,y=ta(e,FA),[b,v]=Vh({controlled:i,default:Boolean(a),name:"SwitchBase",state:"checked"}),R=Ed();let S=s;R&&"undefined"===typeof S&&(S=R.disabled);const F="checkbox"===Q||"radio"===Q,B=na({},e,{checked:b,disabled:S,disableFocusRipple:c,edge:l}),T=(e=>{const{classes:t,checked:n,disabled:i,edge:r}=e;return oa({root:["root",n&&"checked",i&&"disabled",r&&"edge".concat(ca(r))],input:["input"]},SA,t)})(B);return(0,dd.jsxs)(BA,na({component:"span",className:ra(T.root,o),centerRipple:!0,focusRipple:!c,disabled:S,tabIndex:null,role:void 0,onFocus:e=>{m&&m(e),R&&R.onFocus&&R.onFocus(e)},onBlur:e=>{g&&g(e),R&&R.onBlur&&R.onBlur(e)},ownerState:B,ref:t},y,{children:[(0,dd.jsx)(TA,na({autoFocus:n,checked:i,defaultChecked:a,className:T.input,disabled:S,id:F?u:void 0,name:p,onChange:e=>{if(e.nativeEvent.defaultPrevented)return;const t=e.target.checked;v(t),f&&f(e,t)},readOnly:E,ref:A,required:C,ownerState:B,tabIndex:I,type:Q},"checkbox"===Q&&void 0===U?{}:{value:U},h)),b?r:d]}))})),_A=NA;function wA(e){return sd("MuiSvgIcon",e)}cd("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const kA=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],DA=zl("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"inherit"!==n.color&&t["color".concat(ca(n.color))],t["fontSize".concat(ca(n.fontSize))]]}})((e=>{let{theme:t,ownerState:n}=e;var i,r,o,a,s,c,l,d,u,h,A,p,g;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:n.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:null==(i=t.transitions)||null==(r=i.create)?void 0:r.call(i,"fill",{duration:null==(o=t.transitions)||null==(o=o.duration)?void 0:o.shorter}),fontSize:{inherit:"inherit",small:(null==(a=t.typography)||null==(s=a.pxToRem)?void 0:s.call(a,20))||"1.25rem",medium:(null==(c=t.typography)||null==(l=c.pxToRem)?void 0:l.call(c,24))||"1.5rem",large:(null==(d=t.typography)||null==(u=d.pxToRem)?void 0:u.call(d,35))||"2.1875rem"}[n.fontSize],color:null!=(h=null==(A=(t.vars||t).palette)||null==(A=A[n.color])?void 0:A.main)?h:{action:null==(p=(t.vars||t).palette)||null==(p=p.action)?void 0:p.active,disabled:null==(g=(t.vars||t).palette)||null==(g=g.action)?void 0:g.disabled,inherit:void 0}[n.color]}})),VA=t.forwardRef((function(e,n){const i=id({props:e,name:"MuiSvgIcon"}),{children:r,className:o,color:a="inherit",component:s="svg",fontSize:c="medium",htmlColor:l,inheritViewBox:d=!1,titleAccess:u,viewBox:h="0 0 24 24"}=i,A=ta(i,kA),p=t.isValidElement(r)&&"svg"===r.type,g=na({},i,{color:a,component:s,fontSize:c,instanceFontSize:e.fontSize,inheritViewBox:d,viewBox:h,hasSvgAsChild:p}),f={};d||(f.viewBox=h);const m=(e=>{const{color:t,fontSize:n,classes:i}=e;return oa({root:["root","inherit"!==t&&"color".concat(ca(t)),"fontSize".concat(ca(n))]},wA,i)})(g);return(0,dd.jsxs)(DA,na({as:s,className:ra(m.root,o),focusable:"false",color:l,"aria-hidden":!u||void 0,role:u?"img":void 0,ref:n},f,A,p&&r.props,{ownerState:g,children:[p?r.props.children:r,u?(0,dd.jsx)("title",{children:u}):null]}))}));VA.muiName="SvgIcon";const ZA=VA;function WA(e,n){function i(t,i){return(0,dd.jsx)(ZA,na({"data-testid":"".concat(n,"Icon"),ref:i},t,{children:e}))}return i.muiName=ZA.muiName,t.memo(t.forwardRef(i))}const OA=WA((0,dd.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),JA=WA((0,dd.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),xA=WA((0,dd.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function MA(e){return sd("MuiCheckbox",e)}const LA=cd("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),PA=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],GA=zl(_A,{shouldForwardProp:e=>Kl(e)||"classes"===e,name:"MuiCheckbox",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.indeterminate&&t.indeterminate,t["size".concat(ca(n.size))],"default"!==n.color&&t["color".concat(ca(n.color))]]}})((e=>{let{theme:t,ownerState:n}=e;return na({color:(t.vars||t).palette.text.secondary},!n.disableRipple&&{"&:hover":{backgroundColor:t.vars?"rgba(".concat("default"===n.color?t.vars.palette.action.activeChannel:t.vars.palette[n.color].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):gl("default"===n.color?t.palette.action.active:t.palette[n.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==n.color&&{["&.".concat(LA.checked,", &.").concat(LA.indeterminate)]:{color:(t.vars||t).palette[n.color].main},["&.".concat(LA.disabled)]:{color:(t.vars||t).palette.action.disabled}})})),YA=(0,dd.jsx)(JA,{}),jA=(0,dd.jsx)(OA,{}),XA=(0,dd.jsx)(xA,{}),KA=t.forwardRef((function(e,n){var i,r;const o=id({props:e,name:"MuiCheckbox"}),{checkedIcon:a=YA,color:s="primary",icon:c=jA,indeterminate:l=!1,indeterminateIcon:d=XA,inputProps:u,size:h="medium",className:A}=o,p=ta(o,PA),g=l?d:c,f=l?d:a,m=na({},o,{color:s,indeterminate:l,size:h}),E=(e=>{const{classes:t,indeterminate:n,color:i,size:r}=e;return na({},t,oa({root:["root",n&&"indeterminate","color".concat(ca(i)),"size".concat(ca(r))]},MA,t))})(m);return(0,dd.jsx)(GA,na({type:"checkbox",inputProps:na({"data-indeterminate":l},u),icon:t.cloneElement(g,{fontSize:null!=(i=g.props.fontSize)?i:h}),checkedIcon:t.cloneElement(f,{fontSize:null!=(r=f.props.fontSize)?r:h}),ownerState:m,ref:n,className:ra(E.root,A)},p,{classes:E}))})),HA=KA;n(8457);const zA=!1;var qA="unmounted",$A="exited",ep="entering",tp="entered",np="exiting",ip=function(e){function n(t,n){var i;i=e.call(this,t,n)||this;var r,o=n&&!n.isMounting?t.enter:t.appear;return i.appearStatus=null,t.in?o?(r=$A,i.appearStatus=ep):r=tp:r=t.unmountOnExit||t.mountOnEnter?qA:$A,i.state={status:r},i.nextCallback=null,i}Hh(n,e),n.getDerivedStateFromProps=function(e,t){return e.in&&t.status===qA?{status:$A}:null};var i=n.prototype;return i.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},i.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==ep&&n!==tp&&(t=ep):n!==ep&&n!==tp||(t=np)}this.updateStatus(!1,t)},i.componentWillUnmount=function(){this.cancelNextCallback()},i.getTimeouts=function(){var e,t,n,i=this.props.timeout;return e=t=n=i,null!=i&&"number"!==typeof i&&(e=i.exit,t=i.enter,n=void 0!==i.appear?i.appear:t),{exit:e,enter:t,appear:n}},i.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===ep){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:o.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===$A&&this.setState({status:qA})},i.performEnter=function(e){var t=this,n=this.props.enter,i=this.context?this.context.isMounting:e,r=this.props.nodeRef?[i]:[o.findDOMNode(this),i],a=r[0],s=r[1],c=this.getTimeouts(),l=i?c.appear:c.enter;!e&&!n||zA?this.safeSetState({status:tp},(function(){t.props.onEntered(a)})):(this.props.onEnter(a,s),this.safeSetState({status:ep},(function(){t.props.onEntering(a,s),t.onTransitionEnd(l,(function(){t.safeSetState({status:tp},(function(){t.props.onEntered(a,s)}))}))})))},i.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),i=this.props.nodeRef?void 0:o.findDOMNode(this);t&&!zA?(this.props.onExit(i),this.safeSetState({status:np},(function(){e.props.onExiting(i),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:$A},(function(){e.props.onExited(i)}))}))}))):this.safeSetState({status:$A},(function(){e.props.onExited(i)}))},i.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},i.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},i.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(i){n&&(n=!1,t.nextCallback=null,e(i))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},i.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:o.findDOMNode(this),i=null==e&&!this.props.addEndListener;if(n&&!i){if(this.props.addEndListener){var r=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],a=r[0],s=r[1];this.props.addEndListener(a,s)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},i.render=function(){var e=this.state.status;if(e===qA)return null;var n=this.props,i=n.children,r=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,ta(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return t.createElement(zh.Provider,{value:null},"function"===typeof i?i(e,r):t.cloneElement(t.Children.only(i),r))},n}(t.Component);function rp(){}ip.contextType=zh,ip.propTypes={},ip.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:rp,onEntering:rp,onEntered:rp,onExit:rp,onExiting:rp,onExited:rp},ip.UNMOUNTED=qA,ip.EXITED=$A,ip.ENTERING=ep,ip.ENTERED=tp,ip.EXITING=np;const op=ip;function ap(e,t){var n,i;const{timeout:r,easing:o,style:a={}}=e;return{duration:null!=(n=a.transitionDuration)?n:"number"===typeof r?r:r[t.mode]||0,easing:null!=(i=a.transitionTimingFunction)?i:"object"===typeof o?o[t.mode]:o,delay:a.transitionDelay}}function sp(){const e=nd(jl);return e[Xl]||e}function cp(e){return sd("MuiCollapse",e)}cd("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const lp=["addEndListener","children","className","collapsedSize","component","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","orientation","style","timeout","TransitionComponent"],dp=zl("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.orientation],"entered"===n.state&&t.entered,"exited"===n.state&&!n.in&&"0px"===n.collapsedSize&&t.hidden]}})((e=>{let{theme:t,ownerState:n}=e;return na({height:0,overflow:"hidden",transition:t.transitions.create("height")},"horizontal"===n.orientation&&{height:"auto",width:0,transition:t.transitions.create("width")},"entered"===n.state&&na({height:"auto",overflow:"visible"},"horizontal"===n.orientation&&{width:"auto"}),"exited"===n.state&&!n.in&&"0px"===n.collapsedSize&&{visibility:"hidden"})})),up=zl("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(e,t)=>t.wrapper})((e=>{let{ownerState:t}=e;return na({display:"flex",width:"100%"},"horizontal"===t.orientation&&{width:"auto",height:"100%"})})),hp=zl("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(e,t)=>t.wrapperInner})((e=>{let{ownerState:t}=e;return na({width:"100%"},"horizontal"===t.orientation&&{width:"auto",height:"100%"})})),Ap=t.forwardRef((function(e,n){const i=id({props:e,name:"MuiCollapse"}),{addEndListener:r,children:o,className:a,collapsedSize:s="0px",component:c,easing:l,in:d,onEnter:u,onEntered:h,onEntering:A,onExit:p,onExited:g,onExiting:f,orientation:m="vertical",style:E,timeout:C=Ol.standard,TransitionComponent:I=op}=i,Q=ta(i,lp),U=na({},i,{orientation:m,collapsedSize:s}),y=(e=>{const{orientation:t,classes:n}=e;return oa({root:["root","".concat(t)],entered:["entered"],hidden:["hidden"],wrapper:["wrapper","".concat(t)],wrapperInner:["wrapperInner","".concat(t)]},cp,n)})(U),b=sp(),v=t.useRef(),R=t.useRef(null),S=t.useRef(),F="number"===typeof s?"".concat(s,"px"):s,B="horizontal"===m,T=B?"width":"height";t.useEffect((()=>()=>{clearTimeout(v.current)}),[]);const N=t.useRef(null),_=Yd(n,N),w=e=>t=>{if(e){const n=N.current;void 0===t?e(n):e(n,t)}},k=()=>R.current?R.current[B?"clientWidth":"clientHeight"]:0,D=w(((e,t)=>{R.current&&B&&(R.current.style.position="absolute"),e.style[T]=F,u&&u(e,t)})),V=w(((e,t)=>{const n=k();R.current&&B&&(R.current.style.position="");const{duration:i,easing:r}=ap({style:E,timeout:C,easing:l},{mode:"enter"});if("auto"===C){const t=b.transitions.getAutoHeightDuration(n);e.style.transitionDuration="".concat(t,"ms"),S.current=t}else e.style.transitionDuration="string"===typeof i?i:"".concat(i,"ms");e.style[T]="".concat(n,"px"),e.style.transitionTimingFunction=r,A&&A(e,t)})),Z=w(((e,t)=>{e.style[T]="auto",h&&h(e,t)})),W=w((e=>{e.style[T]="".concat(k(),"px"),p&&p(e)})),O=w(g),J=w((e=>{const t=k(),{duration:n,easing:i}=ap({style:E,timeout:C,easing:l},{mode:"exit"});if("auto"===C){const n=b.transitions.getAutoHeightDuration(t);e.style.transitionDuration="".concat(n,"ms"),S.current=n}else e.style.transitionDuration="string"===typeof n?n:"".concat(n,"ms");e.style[T]=F,e.style.transitionTimingFunction=i,f&&f(e)}));return(0,dd.jsx)(I,na({in:d,onEnter:D,onEntered:Z,onEntering:V,onExit:W,onExited:O,onExiting:J,addEndListener:e=>{"auto"===C&&(v.current=setTimeout(e,S.current||0)),r&&r(N.current,e)},nodeRef:N,timeout:"auto"===C?null:C},Q,{children:(e,t)=>(0,dd.jsx)(dp,na({as:c,className:ra(y.root,a,{entered:y.entered,exited:!d&&"0px"===F&&y.hidden}[e]),style:na({[B?"minWidth":"minHeight"]:F},E),ownerState:na({},U,{state:e}),ref:_},t,{children:(0,dd.jsx)(up,{ownerState:na({},U,{state:e}),className:y.wrapper,ref:R,children:(0,dd.jsx)(hp,{ownerState:na({},U,{state:e}),className:y.wrapperInner,children:o})})}))}))}));Ap.muiSupportAuto=!0;const pp=Ap,gp=e=>{let t;return t=e<1?5.11916*e**2:4.5*Math.log(e+1)+2,(t/100).toFixed(2)};function fp(e){return sd("MuiPaper",e)}cd("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const mp=["className","component","elevation","square","variant"],Ep=zl("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,"elevation"===n.variant&&t["elevation".concat(n.elevation)]]}})((e=>{let{theme:t,ownerState:n}=e;var i;return na({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!n.square&&{borderRadius:t.shape.borderRadius},"outlined"===n.variant&&{border:"1px solid ".concat((t.vars||t).palette.divider)},"elevation"===n.variant&&na({boxShadow:(t.vars||t).shadows[n.elevation]},!t.vars&&"dark"===t.palette.mode&&{backgroundImage:"linear-gradient(".concat(gl("#fff",gp(n.elevation)),", ").concat(gl("#fff",gp(n.elevation)),")")},t.vars&&{backgroundImage:null==(i=t.vars.overlays)?void 0:i[n.elevation]}))})),Cp=t.forwardRef((function(e,t){const n=id({props:e,name:"MuiPaper"}),{className:i,component:r="div",elevation:o=1,square:a=!1,variant:s="elevation"}=n,c=ta(n,mp),l=na({},n,{component:r,elevation:o,square:a,variant:s}),d=(e=>{const{square:t,elevation:n,variant:i,classes:r}=e;return oa({root:["root",i,!t&&"rounded","elevation"===i&&"elevation".concat(n)]},fp,r)})(l);return(0,dd.jsx)(Ep,na({as:r,ownerState:l,className:ra(d.root,i),ref:t},c))}));const Ip=t.createContext({});function Qp(e){return sd("MuiAccordion",e)}const Up=cd("MuiAccordion",["root","rounded","expanded","disabled","gutters","region"]),yp=["children","className","defaultExpanded","disabled","disableGutters","expanded","onChange","square","TransitionComponent","TransitionProps"],bp=zl(Cp,{name:"MuiAccordion",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{["& .".concat(Up.region)]:t.region},t.root,!n.square&&t.rounded,!n.disableGutters&&t.gutters]}})((e=>{let{theme:t}=e;const n={duration:t.transitions.duration.shortest};return{position:"relative",transition:t.transitions.create(["margin"],n),overflowAnchor:"none","&:before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:(t.vars||t).palette.divider,transition:t.transitions.create(["opacity","background-color"],n)},"&:first-of-type":{"&:before":{display:"none"}},["&.".concat(Up.expanded)]:{"&:before":{opacity:0},"&:first-of-type":{marginTop:0},"&:last-of-type":{marginBottom:0},"& + &":{"&:before":{display:"none"}}},["&.".concat(Up.disabled)]:{backgroundColor:(t.vars||t).palette.action.disabledBackground}}}),(e=>{let{theme:t,ownerState:n}=e;return na({},!n.square&&{borderRadius:0,"&:first-of-type":{borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius},"&:last-of-type":{borderBottomLeftRadius:(t.vars||t).shape.borderRadius,borderBottomRightRadius:(t.vars||t).shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}},!n.disableGutters&&{["&.".concat(Up.expanded)]:{margin:"16px 0"}})})),vp=t.forwardRef((function(e,n){const i=id({props:e,name:"MuiAccordion"}),{children:r,className:o,defaultExpanded:a=!1,disabled:s=!1,disableGutters:c=!1,expanded:l,onChange:d,square:u=!1,TransitionComponent:h=pp,TransitionProps:A}=i,p=ta(i,yp),[g,f]=Vh({controlled:l,default:a,name:"Accordion",state:"expanded"}),m=t.useCallback((e=>{f(!g),d&&d(e,!g)}),[g,d,f]),[E,...C]=t.Children.toArray(r),I=t.useMemo((()=>({expanded:g,disabled:s,disableGutters:c,toggle:m})),[g,s,c,m]),Q=na({},i,{square:u,disabled:s,disableGutters:c,expanded:g}),U=(e=>{const{classes:t,square:n,expanded:i,disabled:r,disableGutters:o}=e;return oa({root:["root",!n&&"rounded",i&&"expanded",r&&"disabled",!o&&"gutters"],region:["region"]},Qp,t)})(Q);return(0,dd.jsxs)(bp,na({className:ra(U.root,o),ref:n,ownerState:Q,square:u},p,{children:[(0,dd.jsx)(Ip.Provider,{value:I,children:E}),(0,dd.jsx)(h,na({in:g,timeout:"auto"},A,{children:(0,dd.jsx)("div",{"aria-labelledby":E.props.id,id:E.props["aria-controls"],role:"region",className:U.region,children:C})}))]}))}));function Rp(e){return sd("MuiAccordionSummary",e)}const Sp=cd("MuiAccordionSummary",["root","expanded","focusVisible","disabled","gutters","contentGutters","content","expandIconWrapper"]),Fp=["children","className","expandIcon","focusVisibleClassName","onClick"],Bp=zl(RA,{name:"MuiAccordionSummary",slot:"Root",overridesResolver:(e,t)=>t.root})((e=>{let{theme:t,ownerState:n}=e;const i={duration:t.transitions.duration.shortest};return na({display:"flex",minHeight:48,padding:t.spacing(0,2),transition:t.transitions.create(["min-height","background-color"],i),["&.".concat(Sp.focusVisible)]:{backgroundColor:(t.vars||t).palette.action.focus},["&.".concat(Sp.disabled)]:{opacity:(t.vars||t).palette.action.disabledOpacity},["&:hover:not(.".concat(Sp.disabled,")")]:{cursor:"pointer"}},!n.disableGutters&&{["&.".concat(Sp.expanded)]:{minHeight:64}})})),Tp=zl("div",{name:"MuiAccordionSummary",slot:"Content",overridesResolver:(e,t)=>t.content})((e=>{let{theme:t,ownerState:n}=e;return na({display:"flex",flexGrow:1,margin:"12px 0"},!n.disableGutters&&{transition:t.transitions.create(["margin"],{duration:t.transitions.duration.shortest}),["&.".concat(Sp.expanded)]:{margin:"20px 0"}})})),Np=zl("div",{name:"MuiAccordionSummary",slot:"ExpandIconWrapper",overridesResolver:(e,t)=>t.expandIconWrapper})((e=>{let{theme:t}=e;return{display:"flex",color:(t.vars||t).palette.action.active,transform:"rotate(0deg)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest}),["&.".concat(Sp.expanded)]:{transform:"rotate(180deg)"}}})),_p=t.forwardRef((function(e,n){const i=id({props:e,name:"MuiAccordionSummary"}),{children:r,className:o,expandIcon:a,focusVisibleClassName:s,onClick:c}=i,l=ta(i,Fp),{disabled:d=!1,disableGutters:u,expanded:h,toggle:A}=t.useContext(Ip),p=na({},i,{expanded:h,disabled:d,disableGutters:u}),g=(e=>{const{classes:t,expanded:n,disabled:i,disableGutters:r}=e;return oa({root:["root",n&&"expanded",i&&"disabled",!r&&"gutters"],focusVisible:["focusVisible"],content:["content",n&&"expanded",!r&&"contentGutters"],expandIconWrapper:["expandIconWrapper",n&&"expanded"]},Rp,t)})(p);return(0,dd.jsxs)(Bp,na({focusRipple:!1,disableRipple:!0,disabled:d,component:"div","aria-expanded":h,className:ra(g.root,o),focusVisibleClassName:ra(g.focusVisible,s),onClick:e=>{A&&A(e),c&&c(e)},ref:n,ownerState:p},l,{children:[(0,dd.jsx)(Tp,{className:g.content,ownerState:p,children:r}),a&&(0,dd.jsx)(Np,{className:g.expandIconWrapper,ownerState:p,children:a})]}))}));function wp(e){return sd("MuiAccordionDetails",e)}cd("MuiAccordionDetails",["root"]);const kp=["className"],Dp=zl("div",{name:"MuiAccordionDetails",slot:"Root",overridesResolver:(e,t)=>t.root})((e=>{let{theme:t}=e;return{padding:t.spacing(1,2,2)}})),Vp=t.forwardRef((function(e,t){const n=id({props:e,name:"MuiAccordionDetails"}),{className:i}=n,r=ta(n,kp),o=n,a=(e=>{const{classes:t}=e;return oa({root:["root"]},wp,t)})(o);return(0,dd.jsx)(Dp,na({className:ra(a.root,i),ref:t,ownerState:o},r))}));function Zp(e){return sd("MuiLinearProgress",e)}const Wp=cd("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);var Op,Jp,xp,Mp,Lp,Pp;const Gp=["className","color","value","valueBuffer","variant"];let Yp,jp,Xp,Kp,Hp,zp;const qp=Hd(Yp||(Yp=Op||(Op=Xh(["\n  0% {\n    left: -35%;\n    right: 100%;\n  }\n\n  60% {\n    left: 100%;\n    right: -90%;\n  }\n\n  100% {\n    left: 100%;\n    right: -90%;\n  }\n"])))),$p=Hd(jp||(jp=Jp||(Jp=Xh(["\n  0% {\n    left: -200%;\n    right: 100%;\n  }\n\n  60% {\n    left: 107%;\n    right: -8%;\n  }\n\n  100% {\n    left: 107%;\n    right: -8%;\n  }\n"])))),eg=Hd(Xp||(Xp=xp||(xp=Xh(["\n  0% {\n    opacity: 1;\n    background-position: 0 -23px;\n  }\n\n  60% {\n    opacity: 0;\n    background-position: 0 -23px;\n  }\n\n  100% {\n    opacity: 1;\n    background-position: -200px -23px;\n  }\n"])))),tg=(e,t)=>"inherit"===t?"currentColor":e.vars?e.vars.palette.LinearProgress["".concat(t,"Bg")]:"light"===e.palette.mode?ml(e.palette[t].main,.62):fl(e.palette[t].main,.5),ng=zl("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t["color".concat(ca(n.color))],t[n.variant]]}})((e=>{let{ownerState:t,theme:n}=e;return na({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},backgroundColor:tg(n,t.color)},"inherit"===t.color&&"buffer"!==t.variant&&{backgroundColor:"none","&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}},"buffer"===t.variant&&{backgroundColor:"transparent"},"query"===t.variant&&{transform:"rotate(180deg)"})})),ig=zl("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.dashed,t["dashedColor".concat(ca(n.color))]]}})((e=>{let{ownerState:t,theme:n}=e;const i=tg(n,t.color);return na({position:"absolute",marginTop:0,height:"100%",width:"100%"},"inherit"===t.color&&{opacity:.3},{backgroundImage:"radial-gradient(".concat(i," 0%, ").concat(i," 16%, transparent 42%)"),backgroundSize:"10px 10px",backgroundPosition:"0 -23px"})}),Kd(Kp||(Kp=Mp||(Mp=Xh(["\n    animation: "," 3s infinite linear;\n  "]))),eg)),rg=zl("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.bar,t["barColor".concat(ca(n.color))],("indeterminate"===n.variant||"query"===n.variant)&&t.bar1Indeterminate,"determinate"===n.variant&&t.bar1Determinate,"buffer"===n.variant&&t.bar1Buffer]}})((e=>{let{ownerState:t,theme:n}=e;return na({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",backgroundColor:"inherit"===t.color?"currentColor":(n.vars||n).palette[t.color].main},"determinate"===t.variant&&{transition:"transform .".concat(4,"s linear")},"buffer"===t.variant&&{zIndex:1,transition:"transform .".concat(4,"s linear")})}),(e=>{let{ownerState:t}=e;return("indeterminate"===t.variant||"query"===t.variant)&&Kd(Hp||(Hp=Lp||(Lp=Xh(["\n      width: auto;\n      animation: "," 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;\n    "]))),qp)})),og=zl("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.bar,t["barColor".concat(ca(n.color))],("indeterminate"===n.variant||"query"===n.variant)&&t.bar2Indeterminate,"buffer"===n.variant&&t.bar2Buffer]}})((e=>{let{ownerState:t,theme:n}=e;return na({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},"buffer"!==t.variant&&{backgroundColor:"inherit"===t.color?"currentColor":(n.vars||n).palette[t.color].main},"inherit"===t.color&&{opacity:.3},"buffer"===t.variant&&{backgroundColor:tg(n,t.color),transition:"transform .".concat(4,"s linear")})}),(e=>{let{ownerState:t}=e;return("indeterminate"===t.variant||"query"===t.variant)&&Kd(zp||(zp=Pp||(Pp=Xh(["\n      width: auto;\n      animation: "," 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;\n    "]))),$p)})),ag=t.forwardRef((function(e,t){const n=id({props:e,name:"MuiLinearProgress"}),{className:i,color:r="primary",value:o,valueBuffer:a,variant:s="indeterminate"}=n,c=ta(n,Gp),l=na({},n,{color:r,variant:s}),d=(e=>{const{classes:t,variant:n,color:i}=e;return oa({root:["root","color".concat(ca(i)),n],dashed:["dashed","dashedColor".concat(ca(i))],bar1:["bar","barColor".concat(ca(i)),("indeterminate"===n||"query"===n)&&"bar1Indeterminate","determinate"===n&&"bar1Determinate","buffer"===n&&"bar1Buffer"],bar2:["bar","buffer"!==n&&"barColor".concat(ca(i)),"buffer"===n&&"color".concat(ca(i)),("indeterminate"===n||"query"===n)&&"bar2Indeterminate","buffer"===n&&"bar2Buffer"]},Zp,t)})(l),u=sp(),h={},A={bar1:{},bar2:{}};if("determinate"===s||"buffer"===s)if(void 0!==o){h["aria-valuenow"]=Math.round(o),h["aria-valuemin"]=0,h["aria-valuemax"]=100;let e=o-100;"rtl"===u.direction&&(e=-e),A.bar1.transform="translateX(".concat(e,"%)")}else 0;if("buffer"===s)if(void 0!==a){let e=(a||0)-100;"rtl"===u.direction&&(e=-e),A.bar2.transform="translateX(".concat(e,"%)")}else 0;return(0,dd.jsxs)(ng,na({className:ra(d.root,i),ownerState:l,role:"progressbar"},h,{ref:t},c,{children:["buffer"===s?(0,dd.jsx)(ig,{className:d.dashed,ownerState:l}):null,(0,dd.jsx)(rg,{className:d.bar1,ownerState:l,style:A.bar1}),"determinate"===s?null:(0,dd.jsx)(og,{className:d.bar2,ownerState:l,style:A.bar2})]}))})),sg=ag;function cg(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(void 0===e)return{};const n={};return Object.keys(e).filter((n=>n.match(/^on[A-Z]/)&&"function"===typeof e[n]&&!t.includes(n))).forEach((t=>{n[t]=e[t]})),n}function lg(e){if(void 0===e)return{};const t={};return Object.keys(e).filter((t=>!(t.match(/^on[A-Z]/)&&"function"===typeof e[t]))).forEach((n=>{t[n]=e[n]})),t}const dg=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function ug(e){var t;const{elementType:n,externalSlotProps:i,ownerState:r,skipResolvingSlotProps:o=!1}=e,a=ta(e,dg),s=o?{}:function(e,t,n){return"function"===typeof e?e(t,n):e}(i,r),{props:c,internalRef:l}=function(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:i,externalForwardedProps:r,className:o}=e;if(!t){const e=ra(null==n?void 0:n.className,o,null==r?void 0:r.className,null==i?void 0:i.className),t=na({},null==n?void 0:n.style,null==r?void 0:r.style,null==i?void 0:i.style),a=na({},n,r,i);return e.length>0&&(a.className=e),Object.keys(t).length>0&&(a.style=t),{props:a,internalRef:void 0}}const a=cg(na({},r,i)),s=lg(i),c=lg(r),l=t(a),d=ra(null==l?void 0:l.className,null==n?void 0:n.className,o,null==r?void 0:r.className,null==i?void 0:i.className),u=na({},null==l?void 0:l.style,null==n?void 0:n.style,null==r?void 0:r.style,null==i?void 0:i.style),h=na({},l,n,c,s);return d.length>0&&(h.className=d),Object.keys(u).length>0&&(h.style=u),{props:h,internalRef:l.ref}}(na({},a,{externalSlotProps:s})),d=function(e,t,n){return void 0===e||Gd(e)?t:na({},t,{ownerState:na({},t.ownerState,n)})}(n,na({},c,{ref:Vd(l,null==s?void 0:s.ref,null==(t=e.additionalProps)?void 0:t.ref)}),r);return d}function hg(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(((e,t)=>null==t?e:function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];e.apply(this,i),t.apply(this,i)}),(()=>{}))}function Ag(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function pg(e){return parseInt(Wd(e).getComputedStyle(e).paddingRight,10)||0}function gg(e,t,n,i,r){const o=[t,n,...i];[].forEach.call(e.children,(e=>{const t=-1===o.indexOf(e),n=!function(e){const t=-1!==["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(e.tagName),n="INPUT"===e.tagName&&"hidden"===e.getAttribute("type");return t||n}(e);t&&n&&Ag(e,r)}))}function fg(e,t){let n=-1;return e.some(((e,i)=>!!t(e)&&(n=i,!0))),n}function mg(e,t){const n=[],i=e.container;if(!t.disableScrollLock){if(function(e){const t=Zd(e);return t.body===e?Wd(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(i)){const e=function(e){const t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}(Zd(i));n.push({value:i.style.paddingRight,property:"padding-right",el:i}),i.style.paddingRight="".concat(pg(i)+e,"px");const t=Zd(i).querySelectorAll(".mui-fixed");[].forEach.call(t,(t=>{n.push({value:t.style.paddingRight,property:"padding-right",el:t}),t.style.paddingRight="".concat(pg(t)+e,"px")}))}let e;if(i.parentNode instanceof DocumentFragment)e=Zd(i).body;else{const t=i.parentElement,n=Wd(i);e="HTML"===(null==t?void 0:t.nodeName)&&"scroll"===n.getComputedStyle(t).overflowY?t:i}n.push({value:e.style.overflow,property:"overflow",el:e},{value:e.style.overflowX,property:"overflow-x",el:e},{value:e.style.overflowY,property:"overflow-y",el:e}),e.style.overflow="hidden"}return()=>{n.forEach((e=>{let{value:t,el:n,property:i}=e;t?n.style.setProperty(i,t):n.style.removeProperty(i)}))}}const Eg=new class{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,t){let n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&Ag(e.modalRef,!1);const i=function(e){const t=[];return[].forEach.call(e.children,(e=>{"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);gg(t,e.mount,e.modalRef,i,!0);const r=fg(this.containers,(e=>e.container===t));return-1!==r?(this.containers[r].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:i}),n)}mount(e,t){const n=fg(this.containers,(t=>-1!==t.modals.indexOf(e))),i=this.containers[n];i.restore||(i.restore=mg(i,t))}remove(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=this.modals.indexOf(e);if(-1===n)return n;const i=fg(this.containers,(t=>-1!==t.modals.indexOf(e))),r=this.containers[i];if(r.modals.splice(r.modals.indexOf(e),1),this.modals.splice(n,1),0===r.modals.length)r.restore&&r.restore(),e.modalRef&&Ag(e.modalRef,t),gg(r.container,e.mount,e.modalRef,r.hiddenSiblings,!1),this.containers.splice(i,1);else{const e=r.modals[r.modals.length-1];e.modalRef&&Ag(e.modalRef,!1)}return n}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}};function Cg(e){const{container:n,disableEscapeKeyDown:i=!1,disableScrollLock:r=!1,manager:o=Eg,closeAfterTransition:a=!1,onTransitionEnter:s,onTransitionExited:c,children:l,onClose:d,open:u,rootRef:h}=e,A=t.useRef({}),p=t.useRef(null),g=t.useRef(null),f=Vd(g,h),[m,E]=t.useState(!u),C=function(e){return!!e&&e.props.hasOwnProperty("in")}(l);let I=!0;"false"!==e["aria-hidden"]&&!1!==e["aria-hidden"]||(I=!1);const Q=()=>(A.current.modalRef=g.current,A.current.mount=p.current,A.current),U=()=>{o.mount(Q(),{disableScrollLock:r}),g.current&&(g.current.scrollTop=0)},y=Zh((()=>{const e=function(e){return"function"===typeof e?e():e}(n)||Zd(p.current).body;o.add(Q(),e),g.current&&U()})),b=t.useCallback((()=>o.isTopModal(Q())),[o]),v=Zh((e=>{p.current=e,e&&(u&&b()?U():g.current&&Ag(g.current,I))})),R=t.useCallback((()=>{o.remove(Q(),I)}),[I,o]);t.useEffect((()=>()=>{R()}),[R]),t.useEffect((()=>{u?y():C&&a||R()}),[u,R,C,a,y]);const S=e=>t=>{var n;null==(n=e.onKeyDown)||n.call(e,t),"Escape"===t.key&&229!==t.which&&b()&&(i||(t.stopPropagation(),d&&d(t,"escapeKeyDown")))},F=e=>t=>{var n;null==(n=e.onClick)||n.call(e,t),t.target===t.currentTarget&&d&&d(t,"backdropClick")};return{getRootProps:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=cg(e);delete n.onTransitionEnter,delete n.onTransitionExited;const i=na({},n,t);return na({role:"presentation"},i,{onKeyDown:S(i),ref:f})},getBackdropProps:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return na({"aria-hidden":!0},e,{onClick:F(e),open:u})},getTransitionProps:()=>({onEnter:hg((()=>{E(!1),s&&s()}),null==l?void 0:l.props.onEnter),onExited:hg((()=>{E(!0),c&&c(),a&&R()}),null==l?void 0:l.props.onExited)}),rootRef:f,portalRef:v,isTopModal:b,exited:m,hasTransition:C}}const Ig=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function Qg(e){const t=[],n=[];return Array.from(e.querySelectorAll(Ig)).forEach(((e,i)=>{const r=function(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?"true"===e.contentEditable||("AUDIO"===e.nodeName||"VIDEO"===e.nodeName||"DETAILS"===e.nodeName)&&null===e.getAttribute("tabindex")?0:e.tabIndex:t}(e);-1!==r&&function(e){return!(e.disabled||"INPUT"===e.tagName&&"hidden"===e.type||function(e){if("INPUT"!==e.tagName||"radio"!==e.type)return!1;if(!e.name)return!1;const t=t=>e.ownerDocument.querySelector('input[type="radio"]'.concat(t));let n=t('[name="'.concat(e.name,'"]:checked'));return n||(n=t('[name="'.concat(e.name,'"]'))),n!==e}(e))}(e)&&(0===r?t.push(e):n.push({documentOrder:i,tabIndex:r,node:e}))})),n.sort(((e,t)=>e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex)).map((e=>e.node)).concat(t)}function Ug(){return!0}function yg(e){const{children:n,disableAutoFocus:i=!1,disableEnforceFocus:r=!1,disableRestoreFocus:o=!1,getTabbable:a=Qg,isEnabled:s=Ug,open:c}=e,l=t.useRef(!1),d=t.useRef(null),u=t.useRef(null),h=t.useRef(null),A=t.useRef(null),p=t.useRef(!1),g=t.useRef(null),f=Vd(n.ref,g),m=t.useRef(null);t.useEffect((()=>{c&&g.current&&(p.current=!i)}),[i,c]),t.useEffect((()=>{if(!c||!g.current)return;const e=Zd(g.current);return g.current.contains(e.activeElement)||(g.current.hasAttribute("tabIndex")||g.current.setAttribute("tabIndex","-1"),p.current&&g.current.focus()),()=>{o||(h.current&&h.current.focus&&(l.current=!0,h.current.focus()),h.current=null)}}),[c]),t.useEffect((()=>{if(!c||!g.current)return;const e=Zd(g.current),t=t=>{m.current=t,!r&&s()&&"Tab"===t.key&&e.activeElement===g.current&&t.shiftKey&&(l.current=!0,u.current&&u.current.focus())},n=()=>{const t=g.current;if(null===t)return;if(!e.hasFocus()||!s()||l.current)return void(l.current=!1);if(t.contains(e.activeElement))return;if(r&&e.activeElement!==d.current&&e.activeElement!==u.current)return;if(e.activeElement!==A.current)A.current=null;else if(null!==A.current)return;if(!p.current)return;let n=[];if(e.activeElement!==d.current&&e.activeElement!==u.current||(n=a(g.current)),n.length>0){var i,o;const e=Boolean((null==(i=m.current)?void 0:i.shiftKey)&&"Tab"===(null==(o=m.current)?void 0:o.key)),t=n[0],r=n[n.length-1];"string"!==typeof t&&"string"!==typeof r&&(e?r.focus():t.focus())}else t.focus()};e.addEventListener("focusin",n),e.addEventListener("keydown",t,!0);const i=setInterval((()=>{e.activeElement&&"BODY"===e.activeElement.tagName&&n()}),50);return()=>{clearInterval(i),e.removeEventListener("focusin",n),e.removeEventListener("keydown",t,!0)}}),[i,r,o,s,c,a]);const E=e=>{null===h.current&&(h.current=e.relatedTarget),p.current=!0};return(0,dd.jsxs)(t.Fragment,{children:[(0,dd.jsx)("div",{tabIndex:c?0:-1,onFocus:E,ref:d,"data-testid":"sentinelStart"}),t.cloneElement(n,{ref:f,onFocus:e=>{null===h.current&&(h.current=e.relatedTarget),p.current=!0,A.current=e.target;const t=n.props.onFocus;t&&t(e)}}),(0,dd.jsx)("div",{tabIndex:c?0:-1,onFocus:E,ref:u,"data-testid":"sentinelEnd"})]})}const bg=t.forwardRef((function(e,n){const{children:i,container:r,disablePortal:a=!1}=e,[s,c]=t.useState(null),l=Vd(t.isValidElement(i)?i.ref:null,n);if(Od((()=>{a||c(function(e){return"function"===typeof e?e():e}(r)||document.body)}),[r,a]),Od((()=>{if(s&&!a)return Dd(n,s),()=>{Dd(n,null)}}),[n,s,a]),a){if(t.isValidElement(i)){const e={ref:l};return t.cloneElement(i,e)}return(0,dd.jsx)(t.Fragment,{children:i})}return(0,dd.jsx)(t.Fragment,{children:s?o.createPortal(i,s):s})}));const vg=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],Rg={entering:{opacity:1},entered:{opacity:1}},Sg=t.forwardRef((function(e,n){const i=sp(),r={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{addEndListener:o,appear:a=!0,children:s,easing:c,in:l,onEnter:d,onEntered:u,onEntering:h,onExit:A,onExited:p,onExiting:g,style:f,timeout:m=r,TransitionComponent:E=op}=e,C=ta(e,vg),I=t.useRef(null),Q=Yd(I,s.ref,n),U=e=>t=>{if(e){const n=I.current;void 0===t?e(n):e(n,t)}},y=U(h),b=U(((e,t)=>{(e=>{e.scrollTop})(e);const n=ap({style:f,timeout:m,easing:c},{mode:"enter"});e.style.webkitTransition=i.transitions.create("opacity",n),e.style.transition=i.transitions.create("opacity",n),d&&d(e,t)})),v=U(u),R=U(g),S=U((e=>{const t=ap({style:f,timeout:m,easing:c},{mode:"exit"});e.style.webkitTransition=i.transitions.create("opacity",t),e.style.transition=i.transitions.create("opacity",t),A&&A(e)})),F=U(p);return(0,dd.jsx)(E,na({appear:a,in:l,nodeRef:I,onEnter:b,onEntered:v,onEntering:y,onExit:S,onExited:F,onExiting:R,addEndListener:e=>{o&&o(I.current,e)},timeout:m},C,{children:(e,n)=>t.cloneElement(s,na({style:na({opacity:0,visibility:"exited"!==e||l?void 0:"hidden"},Rg[e],f,s.props.style),ref:Q},n))}))})),Fg=Sg;function Bg(e){return sd("MuiBackdrop",e)}cd("MuiBackdrop",["root","invisible"]);const Tg=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],Ng=zl("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.invisible&&t.invisible]}})((e=>{let{ownerState:t}=e;return na({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})})),_g=t.forwardRef((function(e,t){var n,i,r;const o=id({props:e,name:"MuiBackdrop"}),{children:a,className:s,component:c="div",components:l={},componentsProps:d={},invisible:u=!1,open:h,slotProps:A={},slots:p={},TransitionComponent:g=Fg,transitionDuration:f}=o,m=ta(o,Tg),E=na({},o,{component:c,invisible:u}),C=(e=>{const{classes:t,invisible:n}=e;return oa({root:["root",n&&"invisible"]},Bg,t)})(E),I=null!=(n=A.root)?n:d.root;return(0,dd.jsx)(g,na({in:h,timeout:f},m,{children:(0,dd.jsx)(Ng,na({"aria-hidden":!0},I,{as:null!=(i=null!=(r=p.root)?r:l.Root)?i:c,className:ra(C.root,s,null==I?void 0:I.className),ownerState:na({},E,null==I?void 0:I.ownerState),classes:C,ref:t,children:a}))}))}));function wg(e){return sd("MuiModal",e)}cd("MuiModal",["root","hidden","backdrop"]);const kg=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],Dg=zl("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.open&&n.exited&&t.hidden]}})((e=>{let{theme:t,ownerState:n}=e;return na({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!n.open&&n.exited&&{visibility:"hidden"})})),Vg=zl(_g,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),Zg=t.forwardRef((function(e,n){var i,r,o,a,s,c;const l=id({name:"MuiModal",props:e}),{BackdropComponent:d=Vg,BackdropProps:u,className:h,closeAfterTransition:A=!1,children:p,container:g,component:f,components:m={},componentsProps:E={},disableAutoFocus:C=!1,disableEnforceFocus:I=!1,disableEscapeKeyDown:Q=!1,disablePortal:U=!1,disableRestoreFocus:y=!1,disableScrollLock:b=!1,hideBackdrop:v=!1,keepMounted:R=!1,onBackdropClick:S,open:F,slotProps:B,slots:T}=l,N=ta(l,kg),_=na({},l,{closeAfterTransition:A,disableAutoFocus:C,disableEnforceFocus:I,disableEscapeKeyDown:Q,disablePortal:U,disableRestoreFocus:y,disableScrollLock:b,hideBackdrop:v,keepMounted:R}),{getRootProps:w,getBackdropProps:k,getTransitionProps:D,portalRef:V,isTopModal:Z,exited:W,hasTransition:O}=Cg(na({},_,{rootRef:n})),J=na({},_,{exited:W}),x=(e=>{const{open:t,exited:n,classes:i}=e;return oa({root:["root",!t&&n&&"hidden"],backdrop:["backdrop"]},wg,i)})(J),M={};if(void 0===p.props.tabIndex&&(M.tabIndex="-1"),O){const{onEnter:e,onExited:t}=D();M.onEnter=e,M.onExited=t}const L=null!=(i=null!=(r=null==T?void 0:T.root)?r:m.Root)?i:Dg,P=null!=(o=null!=(a=null==T?void 0:T.backdrop)?a:m.Backdrop)?o:d,G=null!=(s=null==B?void 0:B.root)?s:E.root,Y=null!=(c=null==B?void 0:B.backdrop)?c:E.backdrop,j=ug({elementType:L,externalSlotProps:G,externalForwardedProps:N,getSlotProps:w,additionalProps:{ref:n,as:f},ownerState:J,className:ra(h,null==G?void 0:G.className,null==x?void 0:x.root,!J.open&&J.exited&&(null==x?void 0:x.hidden))}),X=ug({elementType:P,externalSlotProps:Y,additionalProps:u,getSlotProps:e=>k(na({},e,{onClick:t=>{S&&S(t),null!=e&&e.onClick&&e.onClick(t)}})),className:ra(null==Y?void 0:Y.className,null==u?void 0:u.className,null==x?void 0:x.backdrop),ownerState:J});return R||F||O&&!W?(0,dd.jsx)(bg,{ref:V,container:g,disablePortal:U,children:(0,dd.jsxs)(L,na({},j,{children:[!v&&d?(0,dd.jsx)(P,na({},X)):null,(0,dd.jsx)(yg,{disableEnforceFocus:I,disableAutoFocus:C,disableRestoreFocus:y,isEnabled:Z,open:F,children:t.cloneElement(p,M)})]}))}):null})),Wg=Zg,Og=["className","component"];const Jg=cd("MuiBox",["root"]),xg=Yl(),Mg=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:n,defaultTheme:i,defaultClassName:r="MuiBox-root",generateClassName:o}=e,a=Pc("div",{shouldForwardProp:e=>"theme"!==e&&"sx"!==e&&"as"!==e})(Kc);return t.forwardRef((function(e,t){const s=nd(i),c=hs(e),{className:l,component:d="div"}=c,u=ta(c,Og);return(0,dd.jsx)(a,na({as:d,ref:t,className:ra(l,o?o(r):r),theme:n&&s[n]||s},u))}))}({themeId:Xl,defaultTheme:xg,defaultClassName:Jg.root,generateClassName:od.generate}),Lg=Mg;var Pg=n(8262),Gg=n.n(Pg),Yg=n(6071),jg=n.n(Yg),Xg=Object.defineProperty,Kg=Object.defineProperties,Hg=Object.getOwnPropertyDescriptors,zg=Object.getOwnPropertySymbols,qg=Object.prototype.hasOwnProperty,$g=Object.prototype.propertyIsEnumerable,ef=(e,t,n)=>t in e?Xg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,tf=(e,t)=>{for(var n in t||(t={}))qg.call(t,n)&&ef(e,n,t[n]);if(zg)for(var n of zg(t))$g.call(t,n)&&ef(e,n,t[n]);return e},nf=(e,t)=>Kg(e,Hg(t));function rf(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return nf(tf({},e),{height:0,width:0,playerVars:nf(tf({},e.playerVars),{autoplay:0,start:0,end:0})})}var of={videoId:Su().string,id:Su().string,className:Su().string,iframeClassName:Su().string,style:Su().object,title:Su().string,loading:Su().oneOf(["lazy","eager"]),opts:Su().objectOf(Su().any),onReady:Su().func,onError:Su().func,onPlay:Su().func,onPause:Su().func,onEnd:Su().func,onStateChange:Su().func,onPlaybackRateChange:Su().func,onPlaybackQualityChange:Su().func},af=class extends t.Component{constructor(e){super(e),this.destroyPlayerPromise=void 0,this.onPlayerReady=e=>{var t,n;return null==(n=(t=this.props).onReady)?void 0:n.call(t,e)},this.onPlayerError=e=>{var t,n;return null==(n=(t=this.props).onError)?void 0:n.call(t,e)},this.onPlayerStateChange=e=>{var t,n,i,r,o,a,s,c;switch(null==(n=(t=this.props).onStateChange)||n.call(t,e),e.data){case af.PlayerState.ENDED:null==(r=(i=this.props).onEnd)||r.call(i,e);break;case af.PlayerState.PLAYING:null==(a=(o=this.props).onPlay)||a.call(o,e);break;case af.PlayerState.PAUSED:null==(c=(s=this.props).onPause)||c.call(s,e)}},this.onPlayerPlaybackRateChange=e=>{var t,n;return null==(n=(t=this.props).onPlaybackRateChange)?void 0:n.call(t,e)},this.onPlayerPlaybackQualityChange=e=>{var t,n;return null==(n=(t=this.props).onPlaybackQualityChange)?void 0:n.call(t,e)},this.destroyPlayer=()=>this.internalPlayer?(this.destroyPlayerPromise=this.internalPlayer.destroy().then((()=>this.destroyPlayerPromise=void 0)),this.destroyPlayerPromise):Promise.resolve(),this.createPlayer=()=>{if("undefined"===typeof document)return;if(this.destroyPlayerPromise)return void this.destroyPlayerPromise.then(this.createPlayer);const e=nf(tf({},this.props.opts),{videoId:this.props.videoId});this.internalPlayer=jg()(this.container,e),this.internalPlayer.on("ready",this.onPlayerReady),this.internalPlayer.on("error",this.onPlayerError),this.internalPlayer.on("stateChange",this.onPlayerStateChange),this.internalPlayer.on("playbackRateChange",this.onPlayerPlaybackRateChange),this.internalPlayer.on("playbackQualityChange",this.onPlayerPlaybackQualityChange),(this.props.title||this.props.loading)&&this.internalPlayer.getIframe().then((e=>{this.props.title&&e.setAttribute("title",this.props.title),this.props.loading&&e.setAttribute("loading",this.props.loading)}))},this.resetPlayer=()=>this.destroyPlayer().then(this.createPlayer),this.updatePlayer=()=>{var e;null==(e=this.internalPlayer)||e.getIframe().then((e=>{this.props.id?e.setAttribute("id",this.props.id):e.removeAttribute("id"),this.props.iframeClassName?e.setAttribute("class",this.props.iframeClassName):e.removeAttribute("class"),this.props.opts&&this.props.opts.width?e.setAttribute("width",this.props.opts.width.toString()):e.removeAttribute("width"),this.props.opts&&this.props.opts.height?e.setAttribute("height",this.props.opts.height.toString()):e.removeAttribute("height"),this.props.title?e.setAttribute("title",this.props.title):e.setAttribute("title","YouTube video player"),this.props.loading?e.setAttribute("loading",this.props.loading):e.removeAttribute("loading")}))},this.getInternalPlayer=()=>this.internalPlayer,this.updateVideo=()=>{var e,t,n,i;if("undefined"===typeof this.props.videoId||null===this.props.videoId)return void(null==(e=this.internalPlayer)||e.stopVideo());let r=!1;const o={videoId:this.props.videoId};(null==(t=this.props.opts)?void 0:t.playerVars)&&(r=1===this.props.opts.playerVars.autoplay,"start"in this.props.opts.playerVars&&(o.startSeconds=this.props.opts.playerVars.start),"end"in this.props.opts.playerVars&&(o.endSeconds=this.props.opts.playerVars.end)),r?null==(n=this.internalPlayer)||n.loadVideoById(o):null==(i=this.internalPlayer)||i.cueVideoById(o)},this.refContainer=e=>{this.container=e},this.container=null,this.internalPlayer=null}componentDidMount(){this.createPlayer()}componentDidUpdate(e){return t=this,n=null,i=function*(){(function(e,t){var n,i,r,o;return e.id!==t.id||e.className!==t.className||(null==(n=e.opts)?void 0:n.width)!==(null==(i=t.opts)?void 0:i.width)||(null==(r=e.opts)?void 0:r.height)!==(null==(o=t.opts)?void 0:o.height)||e.iframeClassName!==t.iframeClassName||e.title!==t.title})(e,this.props)&&this.updatePlayer(),function(e,t){return e.videoId!==t.videoId||!Gg()(rf(e.opts),rf(t.opts))}(e,this.props)&&(yield this.resetPlayer()),function(e,t){var n,i;if(e.videoId!==t.videoId)return!0;const r=(null==(n=e.opts)?void 0:n.playerVars)||{},o=(null==(i=t.opts)?void 0:i.playerVars)||{};return r.start!==o.start||r.end!==o.end}(e,this.props)&&this.updateVideo()},new Promise(((e,r)=>{var o=e=>{try{s(i.next(e))}catch(t){r(t)}},a=e=>{try{s(i.throw(e))}catch(t){r(t)}},s=t=>t.done?e(t.value):Promise.resolve(t.value).then(o,a);s((i=i.apply(t,n)).next())}));var t,n,i}componentWillUnmount(){this.destroyPlayer()}render(){return t.createElement("div",{className:this.props.className,style:this.props.style},t.createElement("div",{id:this.props.id,className:this.props.iframeClassName,ref:this.refContainer}))}},sf=af;sf.propTypes=of,sf.defaultProps={videoId:"",id:"",className:"",iframeClassName:"",style:{},title:"",loading:void 0,opts:{},onReady:()=>{},onError:()=>{},onPlay:()=>{},onPause:()=>{},onEnd:()=>{},onStateChange:()=>{},onPlaybackRateChange:()=>{},onPlaybackQualityChange:()=>{}},sf.PlayerState={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5};var cf=sf;const lf=e=>{let{content:n,modalOpen:i,setModalOpen:r}=e;const[o,a]=(0,t.useState)(i),[s,c]=(0,t.useState)({phone:null,name:""}),[l]=jo();console.log("values",s);const[d,u]=(0,t.useState)(""),[h,A]=(0,t.useState)(""),[p,g]=(0,t.useState)(),f=()=>{a(!1),r(!1)};console.log("modalOpen",i),console.log("open",o);const m={height:"390",width:"500",borderRadius:"12px",playerVars:{autoplay:1,controls:1}},E=e=>{const t=e.target.value;c({...s,[e.target.name]:t})},C=(e,t)=>{"Camera"===e?u(t):A(t)};return(0,t.useEffect)((()=>{a(i)}),[i]),(0,dd.jsxs)("div",{children:[" ",(0,dd.jsx)(Wg,{open:o,onClose:f,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",id:"tutorialmodal",children:(0,dd.jsxs)(Lg,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:500,bgcolor:"background.paper",border:"0",borderRadius:"12px",boxShadow:24,p:2,display:"flex",flexDirection:"column"},children:[(0,dd.jsx)("i",{className:"fa-solid fa-xmark",onClick:f}),1===n&&(0,dd.jsxs)(dd.Fragment,{children:[(0,dd.jsx)("h1",{children:"How does it work?"}),(0,dd.jsx)("p",{children:"With the following video or the quick guide, learn how to create virtual tours automatically."}),(0,dd.jsx)(cf,{videoId:"6K_kspdSTN4",options:m,id:"video"})]}),2===n&&(0,dd.jsxs)(dd.Fragment,{children:[(0,dd.jsx)("h1",{children:"How to virtualize properties"}),(0,dd.jsx)("p",{children:"Learn how to virtualize your properties with the following video or the quick guide."}),(0,dd.jsx)(cf,{videoId:"p6bT2x7yMUA",options:m,id:"video"})]}),3===n&&(0,dd.jsxs)(dd.Fragment,{children:[(0,dd.jsx)("h1",{children:"Training"}),(0,dd.jsx)("p",{children:"We will contact you to coordinate a free training session."}),(0,dd.jsxs)("form",{onSubmit:async e=>{e.preventDefault();let t={phone:s.phone,name:s.name};try{const e=await l(t).unwrap();console.log(e),ot.success("Sms Sent",{position:"top-center"}),c({phone:null,name:""}),f()}catch(n){console.error(n),ot.error(n.msg)}},children:[(0,dd.jsx)("p",{children:"Name"}),(0,dd.jsx)("input",{type:"text",name:"name",value:s.name,onChange:E,placeholder:"Your name",className:"nameInput"}),(0,dd.jsx)("p",{children:"Phone"}),(0,dd.jsx)("input",{type:"text",name:"phone",value:s.phone,onChange:E,placeholder:"Phone",className:"nameInput"}),(0,dd.jsx)("button",{type:"submit",children:"Send"})]})]}),4===n&&(0,dd.jsxs)(dd.Fragment,{children:[(0,dd.jsx)("h1",{className:"h1",children:"Get our app"}),(0,dd.jsx)("p",{className:"p1",children:"Create virtual tours in 10min"}),(0,dd.jsx)("p",{className:"p2",children:"Send an SMS with the links to our apps."}),(0,dd.jsxs)("form",{onSubmit:()=>[],className:"downloadAppForm",children:[(0,dd.jsx)(dd.Fragment,{children:(0,dd.jsx)("input",{type:"text",name:"mobile",value:s.mobile,onChange:E,placeholder:"Phone",className:"nameInput"})}),(0,dd.jsx)("button",{type:"submit",children:"Send"})]}),(0,dd.jsxs)("div",{className:"downloadDivParent",children:[(0,dd.jsxs)("div",{className:"downloadDiv",children:[(0,dd.jsx)("i",{className:"fa-brands fa-apple"}),(0,dd.jsx)("p",{children:"Download on the App Store"})]}),(0,dd.jsxs)("div",{className:"downloadDiv",children:[(0,dd.jsx)("i",{className:"fa-brands fa-google-play fa-apple"}),(0,dd.jsx)("p",{children:"Download on Google Play"})]})]})]}),5===n&&(0,dd.jsxs)(dd.Fragment,{children:[(0,dd.jsx)("h1",{children:"\xbfDo you have a 360 camera?"}),(0,dd.jsx)("p",{children:"You will need one to create virtual tours"}),(0,dd.jsxs)("div",{className:"parentDiv",children:[(0,dd.jsx)("div",{className:"".concat("Yes"===d?"parentDivChildSelected":"parentDivChild"),onClick:()=>C("Camera","Yes"),children:"Yes"}),(0,dd.jsx)("div",{className:"".concat("No"===d?"parentDivChildSelected":"parentDivChild"),onClick:()=>C("Camera","No"),children:"No"})]})]}),6===n&&(0,dd.jsxs)(dd.Fragment,{children:[(0,dd.jsx)("h1",{children:"Do you have a tripod?"}),(0,dd.jsx)("p",{children:"You will need a tripod to take the shots correctly."}),(0,dd.jsxs)("div",{className:"parentDiv",children:[(0,dd.jsx)("div",{className:"".concat("Yes"===h?"parentDivChildSelected":"parentDivChild"),onClick:()=>C("Tripod","Yes"),children:"Yes"}),(0,dd.jsx)("div",{className:"".concat("No"===h?"parentDivChildSelected":"parentDivChild"),onClick:()=>C("Tripod","No"),children:"No"})]})]})]})})]})},df=e=>{let{tour:t}=e;const n=$();return(0,dd.jsxs)("div",{id:"tourdemodiv",onClick:()=>n("/property/".concat(t._id,"#content")),children:[(0,dd.jsxs)("div",{className:"upperDiv",children:[(0,dd.jsx)("img",{src:t.images[1],alt:"",className:"tourimage"}),(0,dd.jsxs)("span",{className:"span1",children:[(0,dd.jsx)("h1",{children:t.name}),(0,dd.jsx)("img",{src:mu,className:"fa-solid fa-share-nodes icon",alt:""}),(0,dd.jsx)("i",{className:"fa-solid fa-ellipsis-vertical icon"})]}),(0,dd.jsxs)("span",{className:"span2",children:[(0,dd.jsx)("i",{className:"fa-solid fa-location-dot"}),(0,dd.jsxs)("p",{children:[t.address,",",t.city,", ",t.country]})]}),(0,dd.jsx)("span",{className:"span3",children:(0,dd.jsx)("p",{children:"Tour 3D"})})]}),(0,dd.jsxs)("div",{className:"lowerDiv",children:[(0,dd.jsx)("span",{className:"imageSpan",children:(0,dd.jsx)("img",{src:Qu,alt:""})}),(0,dd.jsx)("span",{className:"imageSpan",children:(0,dd.jsx)("img",{src:Uu,alt:""})}),(0,dd.jsx)("span",{className:"imageSpan",children:(0,dd.jsx)("img",{src:Cu,alt:""})}),(0,dd.jsx)("span",{className:"imageSpan",children:(0,dd.jsx)("img",{src:Eu,alt:"",style:{width:"40px"}})}),(0,dd.jsx)("div",{className:"verticalLine"}),(0,dd.jsxs)("span",{className:"startSpan",children:[(0,dd.jsx)("i",{className:"fa-solid fa-video"}),(0,dd.jsx)("p",{children:"Start"})]})]})]})},uf=Ui({name:"tour",initialState:{tourInfo:[]},reducers:{setTour:(e,t)=>{e.tourInfo=t.payload},setAllTour:(e,t)=>{e.tourInfo=Object.values(t.payload)},clearTour:(e,t)=>{e.tourInfo=[]}}}),{setAllTour:hf,setTour:Af,clearTour:pf}=uf.actions,gf=uf.reducer,ff="".concat("http://43.205.115.65","/api/tour"),mf=ko.injectEndpoints({endpoints:e=>({createTour:e.mutation({query:e=>({url:"".concat(ff),method:"POST",body:e})}),updateTourImages:e.mutation({query:e=>({url:"".concat(ff,"/").concat(e.id),method:"PUT",body:e})}),getTour:e.mutation({query:e=>({url:"".concat(ff,"/").concat(e),method:"GET"})}),getAllTour:e.mutation({query:e=>({url:"".concat(ff),method:"GET"})})})}),{useCreateTourMutation:Ef,useGetTourMutation:Cf,useGetAllTourMutation:If,useUpdateTourImagesMutation:Qf}=mf,Uf=zl(sg)((e=>{let{theme:t}=e;return{width:180,height:10,borderRadius:5,["&.".concat(Wp.colorPrimary)]:{backgroundColor:t.palette.grey["light"===t.palette.mode?200:800]},["& .".concat(Wp.bar)]:{borderRadius:5,backgroundColor:"light"===t.palette.mode?"#06C15D":"#308fe8"}}})),yf=e=>{let{loginComponent:n}=e;const i=Ft(),[r,o]=(0,t.useState)({name:"",address:"",country:"",city:"",virtual_tour:!0,floor_plan:!1,dollhouse:!1,pack:!1}),[a,s]=(0,t.useState)(!1),c=(0,t.useRef)(null),[l,d]=(0,t.useState)([]),[u,h]=(0,t.useState)(!1),[A,p]=(0,t.useState)(),[g]=Mo(),[f]=Ef(),{userInfo:m}=Ct((e=>e.auth)),[E,C]=(0,t.useState)({basic1:!1,basic2:!1,basic3:!1,basic4:!1,basic5:!1,basic6:!1}),[I,Q]=(0,t.useState)(!0),[U,y]=(0,t.useState)([]),b=(0,t.useCallback)((e=>{d([...l,...e])}),[l]),{getRootProps:v,getInputProps:R,isDragActive:S}=wh({onDrop:b});console.log(l);const F=e=>{const t=e.target.value;o({...r,[e.target.name]:t})},B=e=>{o((t=>({...t,[e]:!t[e]})))},T=e=>{console.log(e),y([...U,e]),h(!0),p(e)},N=async e=>{e.preventDefault();const t=await Promise.all(l.map((async e=>{const t=new FormData;t.append("file",e),t.append("upload_preset","u928wexc"),t.append("cloud_name","dihkvficg");const n=await fetch("https://api.cloudinary.com/v1_1/dihkvficg/image/upload",{method:"post",body:t});return(await n.json()).url})));let n={name:r.name,address:r.address,city:r.city,country:r.country,virtual_tour:r.virtual_tour,floorplan:r.floor_plan,dollhouse:r.dollhouse,pack:r.pack,images:t};try{const e=await f(n).unwrap();i(Af({...e})),ot.success("Tour Created",{position:"top-center"}),setTimeout((()=>{window.location.reload()}),3e3)}catch(o){console.error(o),ot.error(o.msg)}};console.log(r);const _=async(e,t,n)=>{e.preventDefault();let r={basicType:n,basic:t,id:m._id};try{const e=await g(r).unwrap();i(Ko({...e}))}catch(o){console.error(o),ot.error(o.msg)}};return(0,t.useEffect)((()=>{r.name&&r.city&&r.country&&r.address&&l.length>0&&s(!0)}),[r.address,r.city,r.country,r.name,l]),console.log(m),(0,dd.jsxs)("div",{id:"home",children:[(0,dd.jsxs)("div",{className:"homeDiv1",children:[(0,dd.jsxs)("div",{className:"homeDiv1d1",children:[(0,dd.jsxs)("span",{className:"homeDiv1d1span1",children:[(0,dd.jsx)("span",{className:"numberDiv",children:(0,dd.jsx)("h1",{children:"1"})}),(0,dd.jsx)("h3",{children:"Create virtual tour"}),(0,dd.jsx)("div",{className:"dotted-line"})]}),(0,dd.jsxs)("form",{onSubmit:N,children:[(0,dd.jsx)("input",{type:"text",name:"name",required:!0,placeholder:"Tour name",className:"nameInput",value:r.name,onChange:F}),(0,dd.jsx)("input",{type:"text",name:"address",required:!0,placeholder:"Address",className:"nameInput",value:r.address,onChange:F}),(0,dd.jsxs)("span",{className:"inputSpan2",children:[(0,dd.jsxs)("select",{name:"country",id:"country",style:{marginRight:"20px"},value:r.country,onChange:F,children:[(0,dd.jsx)("option",{value:"",children:"Country"}),(0,dd.jsx)("option",{value:"Pakistan",children:"Pakistan"}),(0,dd.jsx)("option",{value:"KSA",children:"KSA"}),(0,dd.jsx)("option",{value:"Palestine",children:"Palestine"}),(0,dd.jsx)("option",{value:"Yemen",children:"Yemen"})]}),(0,dd.jsx)("input",{type:"text",name:"city",required:!0,placeholder:"City",value:r.city,onChange:F})]})]}),(0,dd.jsx)("div",{className:"uploadDiv",onClick:()=>{c.current&&c.current.click()},children:l.length>0?(0,dd.jsxs)("div",{className:"previewImagesDiv",children:[l.map(((e,t)=>(0,dd.jsx)("img",{src:URL.createObjectURL(e),alt:"Preview-".concat(t),className:"imagePreview"},t))),(0,dd.jsx)("div",{className:"paraDiv",children:(0,dd.jsx)("p",{children:"Drop your 360\xb0 photos here"})})]}):(0,dd.jsxs)("div",{...v(),style:{outline:"none"},children:[(0,dd.jsx)("input",{...R(),ref:c}),S?(0,dd.jsxs)("div",{className:"isActiveDiv",children:[(0,dd.jsx)("img",{src:Iu,className:"fa-solid fa-globe"}),(0,dd.jsx)("p",{children:"Drop your 360\xb0 photos here"})]}):(0,dd.jsxs)("div",{className:"isActiveDiv",children:[(0,dd.jsx)("img",{src:Iu,className:"fa-solid fa-globe"}),(0,dd.jsx)("p",{children:"Drag your 360\xb0 photos here"}),(0,dd.jsx)("button",{children:"Browse files"})]})]})})]}),(0,dd.jsxs)("div",{className:"homeDiv1d2",style:{opacity:"".concat(a?"1":"0.5")},children:[(0,dd.jsxs)("span",{className:"homeDiv1d1span1",children:[(0,dd.jsx)("span",{className:"numberDiv",children:(0,dd.jsx)("h1",{children:"2"})}),(0,dd.jsx)("h3",{children:"Virtualize"})]}),(0,dd.jsxs)("div",{className:"homeDiv1d3",children:[(0,dd.jsxs)("div",{className:"choiceDiv",children:[(0,dd.jsx)(HA,{name:"virtual_tour",disabled:!a,checked:r.virtual_tour,onChange:()=>B("virtual_tour"),sx:{"&.Mui-checked":{color:"#ffc600"}}}),(0,dd.jsx)("span",{className:"imgSpan",children:(0,dd.jsx)("img",{src:Qu,className:"fa-regular fa-circle-play"})}),(0,dd.jsxs)("span",{className:"paraSpan",children:[(0,dd.jsx)("h1",{children:"Virtual tour"}),(0,dd.jsx)("p",{children:"Free"})]})]}),(0,dd.jsx)("div",{className:"hr",style:{margin:"0 0 10px 0"}}),(0,dd.jsxs)("div",{className:"choiceDiv",children:[(0,dd.jsx)(HA,{disabled:!a,checked:r.floor_plan,onChange:()=>B("floor_plan"),name:"floor_plan",sx:{"&.Mui-checked":{color:"#ffc600"}}}),(0,dd.jsx)("span",{className:"imgSpan",children:(0,dd.jsx)("img",{src:Cu,className:"fa-regular fa-circle-play"})}),(0,dd.jsxs)("span",{className:"paraSpan",children:[(0,dd.jsx)("h1",{children:"Floor plan"}),(0,dd.jsx)("p",{children:"$15"})]})]}),(0,dd.jsxs)("div",{className:"choiceDiv",children:[(0,dd.jsx)(HA,{disabled:!a,checked:r.dollhouse,onChange:()=>B("dollhouse"),name:"dollhouse",sx:{"&.Mui-checked":{color:"#ffc600"}}}),(0,dd.jsx)("span",{className:"imgSpan",children:(0,dd.jsx)("img",{src:Uu,className:"fa-regular fa-circle-play"})}),(0,dd.jsxs)("span",{className:"paraSpan",children:[(0,dd.jsx)("h1",{children:"3D Dollhouse"}),(0,dd.jsx)("p",{children:"$15"})]})]}),(0,dd.jsxs)("div",{className:"choiceDiv",children:[(0,dd.jsx)(HA,{disabled:!a,checked:r.pack,onChange:()=>B("pack"),name:"pack",sx:{"&.Mui-checked":{color:"#ffc600"}}}),(0,dd.jsx)("span",{className:"imgSpan",style:{marginRight:"0"},children:(0,dd.jsx)("img",{src:Cu,className:"fa-regular fa-circle-play"})}),(0,dd.jsx)("span",{className:"imgSpan",children:(0,dd.jsx)("img",{src:Uu,className:"fa-regular fa-circle-play"})}),(0,dd.jsxs)("span",{className:"paraSpan",children:[(0,dd.jsx)("h1",{children:"Pack offer"}),(0,dd.jsx)("p",{children:"For only $19"})]})]}),(0,dd.jsx)("button",{onClick:N,disabled:!a,children:"Virtualize"})]})]})]}),(0,dd.jsxs)("div",{className:"homeDiv2",children:[(0,dd.jsxs)("div",{className:"homeDiv3",children:[(0,dd.jsx)("h1",{children:"LET'S START"}),(0,dd.jsx)("div",{className:"homeDiv4",children:(0,dd.jsxs)(vp,{defaultExpanded:!0,children:[(0,dd.jsx)(_p,{expandIcon:(0,dd.jsx)("i",{className:"fa-solid fa-angle-down"}),"aria-controls":"panel1a-content",id:"panel1a-header",children:(0,dd.jsxs)("div",{className:"accordDiv",children:[(0,dd.jsx)("i",{className:"fa-solid fa-graduation-cap"}),(0,dd.jsxs)("span",{className:"accordDivSpan",children:[(0,dd.jsx)("h1",{children:"Basic knowledge"}),(0,dd.jsxs)("div",{className:"progressDiv",children:[(0,dd.jsx)(Uf,{variant:"determinate",value:33}),(0,dd.jsx)("p",{children:"0/3"})]})]})]})}),(0,dd.jsxs)(Vp,{children:[(0,dd.jsx)("div",{className:"hr",style:{margin:"0 0 10px 0"}}),(0,dd.jsxs)("div",{className:"checklistDiv",style:{marginTop:"10px"},onClick:e=>{T(1),_(e,!0,"basic1")},children:[(0,dd.jsx)("i",{className:"fa-solid fa-circle-check ".concat(null!==m&&void 0!==m&&m.basic1?"fa-circle-check-green":"")}),(0,dd.jsx)("h1",{children:"How it works"}),(0,dd.jsx)("i",{className:"fa-solid fa-angle-right"})]}),(0,dd.jsxs)("div",{className:"checklistDiv",onClick:e=>{T(2),_(e,!0,"basic2")},children:[(0,dd.jsx)("i",{className:"fa-solid fa-circle-check ".concat(null!==m&&void 0!==m&&m.basic2?"fa-circle-check-green":"")}),(0,dd.jsx)("h1",{children:"How to take photos?"}),(0,dd.jsx)("i",{className:"fa-solid fa-angle-right"})]}),(0,dd.jsxs)("div",{className:"checklistDiv",onClick:e=>{T(3),_(e,!0,"basic3")},style:{marginBottom:"0px"},children:[(0,dd.jsx)("i",{className:"fa-solid fa-circle-check ".concat(null!==m&&void 0!==m&&m.basic3?"fa-circle-check-green":"")}),(0,dd.jsx)("h1",{children:"Request free training"}),(0,dd.jsx)("i",{className:"fa-solid fa-angle-right"})]})]})]})})]}),(0,dd.jsxs)("div",{className:"homeDiv3",children:[(0,dd.jsx)("h1",{style:{visibility:"hidden"},children:"LET'S START"}),(0,dd.jsx)("div",{className:"homeDiv4",children:(0,dd.jsxs)(vp,{defaultExpanded:!0,children:[(0,dd.jsx)(_p,{expandIcon:(0,dd.jsx)("i",{className:"fa-solid fa-angle-down"}),"aria-controls":"panel1a-content",id:"panel1a-header",children:(0,dd.jsxs)("div",{className:"accordDiv",children:[(0,dd.jsx)("i",{className:"fa-solid fa-lock"}),(0,dd.jsxs)("span",{className:"accordDivSpan",children:[(0,dd.jsx)("h1",{children:"Basic knowledge"}),(0,dd.jsxs)("div",{className:"progressDiv",children:[(0,dd.jsx)(Uf,{variant:"determinate",value:33}),(0,dd.jsx)("p",{children:"0/3"})]})]})]})}),(0,dd.jsxs)(Vp,{children:[(0,dd.jsx)("div",{className:"hr",style:{margin:"0 0 10px 0"}}),(0,dd.jsxs)("div",{className:"checklistDiv",style:{marginTop:"10px"},onClick:e=>{T(4),_(e,!0,"basic4")},children:[(0,dd.jsx)("i",{className:"fa-solid fa-circle-check ".concat(null!==m&&void 0!==m&&m.basic4?"fa-circle-check-green":"")}),(0,dd.jsx)("img",{src:vu,alt:"",className:"checklistImg"}),(0,dd.jsx)("h1",{children:"Cam App"}),(0,dd.jsx)("i",{className:"fa-solid fa-angle-right"})]}),(0,dd.jsxs)("div",{className:"checklistDiv",onClick:e=>{T(5),_(e,!0,"basic5")},children:[(0,dd.jsx)("i",{className:"fa-solid fa-circle-check ".concat(null!==m&&void 0!==m&&m.basic5?"fa-circle-check-green":"")}),(0,dd.jsx)("img",{src:yu,alt:"",className:"checklistImg"}),(0,dd.jsx)("h1",{children:"360\xba Camera"}),(0,dd.jsx)("i",{className:"fa-solid fa-angle-right"})]}),(0,dd.jsxs)("div",{className:"checklistDiv",onClick:e=>{T(6),_(e,!0,"basic6")},style:{marginBottom:"0px"},children:[(0,dd.jsx)("i",{className:"fa-solid fa-circle-check ".concat(null!==m&&void 0!==m&&m.basic6?"fa-circle-check-green":"")}),(0,dd.jsx)("img",{src:bu,alt:"",className:"checklistImg"}),(0,dd.jsx)("h1",{children:"Tripod"}),(0,dd.jsx)("i",{className:"fa-solid fa-angle-right"})]})]})]})})]}),(0,dd.jsxs)("div",{className:"homeDiv3 tourhomeDiv3",children:[(0,dd.jsx)("h1",{style:{visibility:"hidden"},children:"LET'S START"}),(0,dd.jsx)("div",{className:"homeDiv4",style:{height:"261px"},children:(0,dd.jsxs)("div",{id:"tourdemodiv",className:"hometourdemodiv",children:[(0,dd.jsxs)("div",{className:"upperDiv homeupperDiv",children:[(0,dd.jsxs)("span",{className:"span1",children:[(0,dd.jsx)("h1",{children:"3D Tour Demo"}),(0,dd.jsx)("img",{src:mu,className:"fa-solid fa-share-nodes icon",alt:""}),(0,dd.jsx)("i",{className:"fa-solid fa-ellipsis-vertical icon"})]}),(0,dd.jsxs)("span",{className:"span2",children:[(0,dd.jsx)("i",{className:"fa-solid fa-location-dot"}),(0,dd.jsx)("p",{children:"Sitges, Espa\xf1a, Passeig de la Ribera"})]}),(0,dd.jsx)("span",{className:"span3",children:(0,dd.jsx)("p",{children:"Tour 3D"})})]}),(0,dd.jsxs)("div",{className:"lowerDiv",children:[(0,dd.jsx)("span",{className:"imageSpan",children:(0,dd.jsx)("img",{src:Qu,alt:""})}),(0,dd.jsx)("span",{className:"imageSpan",children:(0,dd.jsx)("img",{src:Uu,alt:""})}),(0,dd.jsx)("span",{className:"imageSpan",children:(0,dd.jsx)("img",{src:Cu,alt:""})}),(0,dd.jsx)("span",{className:"imageSpan",children:(0,dd.jsx)("img",{src:Eu,alt:"",style:{width:"40px"}})}),(0,dd.jsx)("div",{className:"verticalLine"}),(0,dd.jsxs)("span",{className:"startSpan",children:[(0,dd.jsx)("i",{className:"fa-solid fa-video"}),(0,dd.jsx)("p",{children:"Start"})]})]})]})})]}),(0,dd.jsx)(lf,{content:A,modalOpen:u,setModalOpen:h})]})]})},bf=()=>{const[e,n]=(0,t.useState)({email:"",password:""}),[i]=Zo(),[r]=Jo(),o=($(),Ft()),{userInfo:a}=Ct((e=>e.auth)),s=t=>{t.preventDefault();const i=t.target.value;n({...e,[t.target.name]:i})};return console.log(a),(0,t.useEffect)((()=>{a&&"user"===(null===a||void 0===a?void 0:a.role)&&(window.location.assign("/home"),console.log("useruseffect")),a&&"admin"===(null===a||void 0===a?void 0:a.role)&&(window.location.assign("/admin/dashboard"),console.log("adminuseffect")),sessionStorage.userInfo&&(async()=>{try{const e=await r().unwrap();console.log("INSIDE HANDLE AUTH"),o(Ko({...e}))}catch(e){e.data.errors.forEach((e=>{ot.error(e.msg)}))}})()}),[a]),console.log(e),(0,dd.jsxs)("div",{id:"loginContainer",children:[(0,dd.jsx)("div",{id:"leftDiv"}),(0,dd.jsx)("div",{id:"login",children:(0,dd.jsxs)("div",{className:"parentDiv",children:[(0,dd.jsx)("h1",{children:"Log in"}),(0,dd.jsx)("p",{children:"Hello again!"}),(0,dd.jsxs)("form",{onSubmit:async t=>{t.preventDefault();let n={email:e.email,password:e.password};try{const e=await i(n).unwrap();sessionStorage.setItem("token",e.token),ot.success("Login Successful",{position:"top-center"}),o(Ko({...e}))}catch(r){console.error(r),r.data.errors.forEach((e=>{ot.error(e.msg)}))}},children:[(0,dd.jsx)("input",{type:"email",name:"email",placeholder:"Email",value:e.email,onChange:s}),(0,dd.jsx)("input",{type:"password",name:"password",placeholder:"Your password",value:e.password,onChange:s}),(0,dd.jsx)(ve,{children:"Forgot your password?"}),(0,dd.jsx)("button",{children:"Log in"})]}),(0,dd.jsxs)("span",{children:[(0,dd.jsx)("p",{children:"\xbfDo not have an account? "}),(0,dd.jsx)(ve,{to:"/signup",children:"Sign up"})]})]})})]})},vf=()=>{const[e,n]=(0,t.useState)(!1),i=$(),r=Ft(),[o]=Wo(),{userInfo:a}=Ct((e=>e.auth)),[s,c]=(0,t.useState)({email:"",password:""}),l=e=>{e.preventDefault();const t=e.target.value;c({...s,[e.target.name]:t})};console.log(e);return(0,t.useEffect)((()=>{a&&window.location.assign("/home")}),[i,a]),(0,dd.jsxs)("div",{id:"signupContainer",children:[(0,dd.jsx)("div",{id:"leftDiv"}),(0,dd.jsx)("div",{id:"signup",children:(0,dd.jsxs)("div",{className:"parentDiv",children:[(0,dd.jsx)("h1",{children:"Create profile"}),(0,dd.jsx)("p",{children:"You have one tour for free"}),(0,dd.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),!1===e)return void ot.error("Accept Terms & Conditions!");const n={email:s.email,password:s.password};try{const e=await o(n).unwrap();sessionStorage.setItem("token",e.token),ot.success("Account Created",{position:"top-center"}),r(Ko({...e}))}catch(i){console.log(i),i.data.errors.forEach((e=>{ot.error(e.msg)}))}},children:[(0,dd.jsx)("input",{type:"email",name:"email",placeholder:"Email",value:s.email,onChange:l}),(0,dd.jsx)("input",{type:"password",name:"password",placeholder:"Your password",value:s.password,onChange:l}),(0,dd.jsxs)("span",{className:"checkboxSpan",children:[(0,dd.jsx)(HA,{checked:e,onChange:()=>{n(!e)},className:"checkbox",sx:{color:"#00000059","&.Mui-checked":{color:"#ffc600"},"& .MuiSvgIcon-root":{fontSize:20}}}),(0,dd.jsxs)("p",{children:["I accept the ",(0,dd.jsx)(ve,{children:"Terms of use"})," and"," ",(0,dd.jsx)(ve,{children:"privacy policies"})]})]}),(0,dd.jsx)("button",{children:"Create profile"})]}),(0,dd.jsxs)("span",{children:[(0,dd.jsx)("p",{children:"You have an account?"}),(0,dd.jsx)(ve,{to:"/login",children:"Log in"})]})]})})]})},Rf=()=>{const e=Ft(),[n,i]=(0,t.useState)(!1);let r=window.location.hash;const o=$(),[a]=If(),{tourInfo:s}=Ct((e=>e.tour));return(0,t.useEffect)((()=>{(async()=>{try{const t=await a().unwrap();e(hf({...t}))}catch(t){console.error(t),ot.error(t.msg)}})()}),[]),console.log(s),(0,dd.jsxs)("div",{id:"properties",children:[(0,dd.jsx)("h1",{className:"propertiesh1",children:"Properties"}),(0,dd.jsxs)("div",{className:"headerDiv",children:[(0,dd.jsxs)(ve,{to:"#active",onClick:()=>i(!n),children:[(0,dd.jsx)("p",{className:" ".concat("#active"===r?"linkpSelected":"linkp"),children:"Active"}),(0,dd.jsx)("span",{className:" ".concat("#active"===r?"linkspanSelected":"linkspan"),children:"1"})]}),(0,dd.jsx)("h4",{children:"|"}),(0,dd.jsxs)(ve,{to:"#archived",onClick:()=>i(!n),style:{marginLeft:"0"},children:[(0,dd.jsx)("p",{className:" ".concat("#archived"===r?"linkpSelected":"linkp"),children:"Archived"}),(0,dd.jsx)("span",{className:" ".concat("#archived"===r?"linkspanSelected":"linkspan"),children:"1"})]}),(0,dd.jsxs)("div",{className:"searchDiv",children:[(0,dd.jsx)(pu,{id:"outlined-adornment-weight",className:"searchInput",placeholder:"Ref. property",endAdornment:(0,dd.jsx)(vd,{position:"end",children:(0,dd.jsx)("i",{className:"fa-solid fa-magnifying-glass"})}),"aria-describedby":"outlined-weight-helper-text",inputProps:{"aria-label":"weight"}}),(0,dd.jsx)("span",{className:"downloadSpan",children:(0,dd.jsx)("i",{className:"fa-solid fa-download"})})]})]}),(0,dd.jsx)("div",{className:"headerDiv headerDivMobile",children:(0,dd.jsxs)("div",{className:"searchDivMobile",children:[(0,dd.jsx)(pu,{id:"outlined-adornment-weight",className:"searchInput",placeholder:"Ref. property",endAdornment:(0,dd.jsx)(vd,{position:"end",children:(0,dd.jsx)("i",{className:"fa-solid fa-magnifying-glass"})}),"aria-describedby":"outlined-weight-helper-text",inputProps:{"aria-label":"weight"}}),(0,dd.jsx)("span",{className:"downloadSpan",children:(0,dd.jsx)("i",{className:"fa-solid fa-download"})})]})}),(0,dd.jsxs)("div",{className:"tourDiv",children:[(0,dd.jsxs)("div",{className:"newTourDiv",onClick:()=>o("/home"),style:{display:"".concat("#active"===r?"flex":"none")},children:[(0,dd.jsx)("img",{src:Iu,alt:"",className:"worldImg"}),(0,dd.jsx)("p",{children:"Create new tour"})]}),(null===s||void 0===s?void 0:s.length)>0&&(null===s||void 0===s?void 0:s.map(((e,t)=>(0,dd.jsx)(df,{tour:e},t))))]}),(0,dd.jsx)("div",{className:"resultDiv",children:(0,dd.jsx)("p",{children:"Showing 3 results"})})]})};n.p;n.p;const Sf=n.p+"static/media/tourexample.d3415db90a75d3b2f30c.jpg",Ff=()=>(0,dd.jsx)("div",{className:"videocallsContent",children:(0,dd.jsxs)("div",{className:"singleCallDiv",children:[(0,dd.jsx)("img",{src:Sf,alt:""}),(0,dd.jsxs)("span",{className:"span1",children:[(0,dd.jsx)("h1",{children:"3D Tour Demo"}),(0,dd.jsx)("p",{children:"Beautiful house in sitges."}),(0,dd.jsxs)("span",{className:"span2",children:[(0,dd.jsxs)("span",{className:"smallspan",children:[(0,dd.jsx)("i",{className:"fa-solid fa-calendar-days"}),(0,dd.jsx)("p",{children:"27 Dec, 2023"})]}),(0,dd.jsxs)("span",{className:"smallspan",children:[(0,dd.jsx)("i",{className:"fa-solid fa-house"}),(0,dd.jsx)("p",{children:"1978430"})]}),(0,dd.jsxs)("span",{className:"smallspan",children:[(0,dd.jsx)("i",{className:"fa-regular fa-user"}),(0,dd.jsx)("p",{children:"null"})]}),(0,dd.jsxs)("span",{className:"smallspan",children:[(0,dd.jsx)("i",{className:"fa-solid fa-users"}),(0,dd.jsx)("p",{children:"0/6"})]})]})]})]})}),Bf=()=>{const[e,n]=(0,t.useState)(!1);let i=window.location.hash;return(0,dd.jsxs)("div",{id:"videocalls",children:[(0,dd.jsx)("div",{className:"headerDiv",children:(0,dd.jsx)(ve,{to:"#videocalls",onClick:()=>n(!e),children:(0,dd.jsx)("p",{className:" ".concat("#videocalls"===i?"linkpSelected":"linkp"),children:"Video Calls"})})}),"#videocalls"===i&&(0,dd.jsx)(Ff,{}),"#videocalls"===i&&(0,dd.jsx)(Ff,{}),"#videocalls"===i&&(0,dd.jsx)(Ff,{}),"#openhouses"===i&&(0,dd.jsx)(Ff,{}),"#openhouses"===i&&(0,dd.jsx)(Ff,{}),"#openhouses"===i&&(0,dd.jsx)(Ff,{})]})},Tf=e=>{let{visit:t}=e;return(0,dd.jsxs)("div",{id:"visitbox",children:[(0,dd.jsx)("img",{className:"propertyimg",src:Sf,alt:""}),(0,dd.jsxs)("div",{className:"visitboxParentDiv",children:[(0,dd.jsxs)("div",{className:"visitboxd1",children:[(0,dd.jsx)("h1",{children:"3D Tour Demo"}),(0,dd.jsx)("p",{children:"25/12/2023"})]}),(0,dd.jsxs)("div",{className:"visitboxd2",children:[(0,dd.jsx)("span",{className:"span1",children:"last"===t?(0,dd.jsxs)(dd.Fragment,{children:[(0,dd.jsx)("i",{className:"fa-regular fa-clock"}),(0,dd.jsx)("p",{children:"50s"})]}):(0,dd.jsxs)(dd.Fragment,{children:[(0,dd.jsx)("i",{className:"fa-solid fa-trophy"}),(0,dd.jsx)("p",{children:"1"})]})}),(0,dd.jsx)("span",{className:"span2",children:"last"===t?(0,dd.jsxs)(dd.Fragment,{children:[(0,dd.jsx)("i",{className:"fa-solid fa-location-dot"}),(0,dd.jsx)("p",{children:"Punjab, PK"})]}):(0,dd.jsxs)(dd.Fragment,{children:[(0,dd.jsx)("i",{className:"fa-solid fa-eye"}),(0,dd.jsx)("p",{children:"2 Visits"})]})})]})]})]})};function Nf(e){return e+.5|0}const _f=(e,t,n)=>Math.max(Math.min(e,n),t);function wf(e){return _f(Nf(2.55*e),0,255)}function kf(e){return _f(Nf(255*e),0,255)}function Df(e){return _f(Nf(e/2.55)/100,0,1)}function Vf(e){return _f(Nf(100*e),0,100)}const Zf={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Wf=[..."0123456789ABCDEF"],Of=e=>Wf[15&e],Jf=e=>Wf[(240&e)>>4]+Wf[15&e],xf=e=>(240&e)>>4===(15&e);function Mf(e){var t=(e=>xf(e.r)&&xf(e.g)&&xf(e.b)&&xf(e.a))(e)?Of:Jf;return e?"#"+t(e.r)+t(e.g)+t(e.b)+((e,t)=>e<255?t(e):"")(e.a,t):void 0}const Lf=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Pf(e,t,n){const i=t*Math.min(n,1-n),r=function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(t+e/30)%12;return n-i*Math.max(Math.min(r-3,9-r,1),-1)};return[r(0),r(8),r(4)]}function Gf(e,t,n){const i=function(i){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(i+e/60)%6;return n-n*t*Math.max(Math.min(r,4-r,1),0)};return[i(5),i(3),i(1)]}function Yf(e,t,n){const i=Pf(e,1,.5);let r;for(t+n>1&&(r=1/(t+n),t*=r,n*=r),r=0;r<3;r++)i[r]*=1-t-n,i[r]+=t;return i}function jf(e){const t=e.r/255,n=e.g/255,i=e.b/255,r=Math.max(t,n,i),o=Math.min(t,n,i),a=(r+o)/2;let s,c,l;return r!==o&&(l=r-o,c=a>.5?l/(2-r-o):l/(r+o),s=function(e,t,n,i,r){return e===r?(t-n)/i+(t<n?6:0):t===r?(n-e)/i+2:(e-t)/i+4}(t,n,i,l,r),s=60*s+.5),[0|s,c||0,a]}function Xf(e,t,n,i){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,i)).map(kf)}function Kf(e,t,n){return Xf(Pf,e,t,n)}function Hf(e){return(e%360+360)%360}function zf(e){const t=Lf.exec(e);let n,i=255;if(!t)return;t[5]!==n&&(i=t[6]?wf(+t[5]):kf(+t[5]));const r=Hf(+t[2]),o=+t[3]/100,a=+t[4]/100;return n="hwb"===t[1]?function(e,t,n){return Xf(Yf,e,t,n)}(r,o,a):"hsv"===t[1]?function(e,t,n){return Xf(Gf,e,t,n)}(r,o,a):Kf(r,o,a),{r:n[0],g:n[1],b:n[2],a:i}}const qf={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},$f={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let em;function tm(e){em||(em=function(){const e={},t=Object.keys($f),n=Object.keys(qf);let i,r,o,a,s;for(i=0;i<t.length;i++){for(a=s=t[i],r=0;r<n.length;r++)o=n[r],s=s.replace(o,qf[o]);o=parseInt($f[a],16),e[s]=[o>>16&255,o>>8&255,255&o]}return e}(),em.transparent=[0,0,0,0]);const t=em[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}const nm=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;const im=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055,rm=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function om(e,t,n){if(e){let i=jf(e);i[t]=Math.max(0,Math.min(i[t]+i[t]*n,0===t?360:1)),i=Kf(i),e.r=i[0],e.g=i[1],e.b=i[2]}}function am(e,t){return e?Object.assign(t||{},e):e}function sm(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=kf(e[3]))):(t=am(e,{r:0,g:0,b:0,a:1})).a=kf(t.a),t}function cm(e){return"r"===e.charAt(0)?function(e){const t=nm.exec(e);let n,i,r,o=255;if(t){if(t[7]!==n){const e=+t[7];o=t[8]?wf(e):_f(255*e,0,255)}return n=+t[1],i=+t[3],r=+t[5],n=255&(t[2]?wf(n):_f(n,0,255)),i=255&(t[4]?wf(i):_f(i,0,255)),r=255&(t[6]?wf(r):_f(r,0,255)),{r:n,g:i,b:r,a:o}}}(e):zf(e)}class lm{constructor(e){if(e instanceof lm)return e;const t=typeof e;let n;"object"===t?n=sm(e):"string"===t&&(n=function(e){var t,n=e.length;return"#"===e[0]&&(4===n||5===n?t={r:255&17*Zf[e[1]],g:255&17*Zf[e[2]],b:255&17*Zf[e[3]],a:5===n?17*Zf[e[4]]:255}:7!==n&&9!==n||(t={r:Zf[e[1]]<<4|Zf[e[2]],g:Zf[e[3]]<<4|Zf[e[4]],b:Zf[e[5]]<<4|Zf[e[6]],a:9===n?Zf[e[7]]<<4|Zf[e[8]]:255})),t}(e)||tm(e)||cm(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=am(this._rgb);return e&&(e.a=Df(e.a)),e}set rgb(e){this._rgb=sm(e)}rgbString(){return this._valid?function(e){return e&&(e.a<255?"rgba(".concat(e.r,", ").concat(e.g,", ").concat(e.b,", ").concat(Df(e.a),")"):"rgb(".concat(e.r,", ").concat(e.g,", ").concat(e.b,")"))}(this._rgb):void 0}hexString(){return this._valid?Mf(this._rgb):void 0}hslString(){return this._valid?function(e){if(!e)return;const t=jf(e),n=t[0],i=Vf(t[1]),r=Vf(t[2]);return e.a<255?"hsla(".concat(n,", ").concat(i,"%, ").concat(r,"%, ").concat(Df(e.a),")"):"hsl(".concat(n,", ").concat(i,"%, ").concat(r,"%)")}(this._rgb):void 0}mix(e,t){if(e){const n=this.rgb,i=e.rgb;let r;const o=t===r?.5:t,a=2*o-1,s=n.a-i.a,c=((a*s===-1?a:(a+s)/(1+a*s))+1)/2;r=1-c,n.r=255&c*n.r+r*i.r+.5,n.g=255&c*n.g+r*i.g+.5,n.b=255&c*n.b+r*i.b+.5,n.a=o*n.a+(1-o)*i.a,this.rgb=n}return this}interpolate(e,t){return e&&(this._rgb=function(e,t,n){const i=rm(Df(e.r)),r=rm(Df(e.g)),o=rm(Df(e.b));return{r:kf(im(i+n*(rm(Df(t.r))-i))),g:kf(im(r+n*(rm(Df(t.g))-r))),b:kf(im(o+n*(rm(Df(t.b))-o))),a:e.a+n*(t.a-e.a)}}(this._rgb,e._rgb,t)),this}clone(){return new lm(this.rgb)}alpha(e){return this._rgb.a=kf(e),this}clearer(e){return this._rgb.a*=1-e,this}greyscale(){const e=this._rgb,t=Nf(.3*e.r+.59*e.g+.11*e.b);return e.r=e.g=e.b=t,this}opaquer(e){return this._rgb.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return om(this._rgb,2,e),this}darken(e){return om(this._rgb,2,-e),this}saturate(e){return om(this._rgb,1,e),this}desaturate(e){return om(this._rgb,1,-e),this}rotate(e){return function(e,t){var n=jf(e);n[0]=Hf(n[0]+t),n=Kf(n),e.r=n[0],e.g=n[1],e.b=n[2]}(this._rgb,e),this}}function dm(){}const um=(()=>{let e=0;return()=>e++})();function hm(e){return null===e||"undefined"===typeof e}function Am(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function pm(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}function gm(e){return("number"===typeof e||e instanceof Number)&&isFinite(+e)}function fm(e,t){return gm(e)?e:t}function mm(e,t){return"undefined"===typeof e?t:e}const Em=(e,t)=>"string"===typeof e&&e.endsWith("%")?parseFloat(e)/100*t:+e;function Cm(e,t,n){if(e&&"function"===typeof e.call)return e.apply(n,t)}function Im(e,t,n,i){let r,o,a;if(Am(e))if(o=e.length,i)for(r=o-1;r>=0;r--)t.call(n,e[r],r);else for(r=0;r<o;r++)t.call(n,e[r],r);else if(pm(e))for(a=Object.keys(e),o=a.length,r=0;r<o;r++)t.call(n,e[a[r]],a[r])}function Qm(e,t){let n,i,r,o;if(!e||!t||e.length!==t.length)return!1;for(n=0,i=e.length;n<i;++n)if(r=e[n],o=t[n],r.datasetIndex!==o.datasetIndex||r.index!==o.index)return!1;return!0}function Um(e){if(Am(e))return e.map(Um);if(pm(e)){const t=Object.create(null),n=Object.keys(e),i=n.length;let r=0;for(;r<i;++r)t[n[r]]=Um(e[n[r]]);return t}return e}function ym(e){return-1===["__proto__","prototype","constructor"].indexOf(e)}function bm(e,t,n,i){if(!ym(e))return;const r=t[e],o=n[e];pm(r)&&pm(o)?vm(r,o,i):t[e]=Um(o)}function vm(e,t,n){const i=Am(t)?t:[t],r=i.length;if(!pm(e))return e;const o=(n=n||{}).merger||bm;let a;for(let s=0;s<r;++s){if(a=i[s],!pm(a))continue;const t=Object.keys(a);for(let i=0,r=t.length;i<r;++i)o(t[i],e,a,n)}return e}function Rm(e,t){return vm(e,t,{merger:Sm})}function Sm(e,t,n){if(!ym(e))return;const i=t[e],r=n[e];pm(i)&&pm(r)?Rm(i,r):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=Um(r))}const Fm={"":e=>e,x:e=>e.x,y:e=>e.y};function Bm(e,t){const n=Fm[t]||(Fm[t]=function(e){const t=function(e){const t=e.split("."),n=[];let i="";for(const r of t)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}(e);return e=>{for(const n of t){if(""===n)break;e=e&&e[n]}return e}}(t));return n(e)}function Tm(e){return e.charAt(0).toUpperCase()+e.slice(1)}const Nm=e=>"undefined"!==typeof e,_m=e=>"function"===typeof e,wm=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};const km=Math.PI,Dm=2*km,Vm=Dm+km,Zm=Number.POSITIVE_INFINITY,Wm=km/180,Om=km/2,Jm=km/4,xm=2*km/3,Mm=Math.log10,Lm=Math.sign;function Pm(e,t,n){return Math.abs(e-t)<n}function Gm(e){const t=Math.round(e);e=Pm(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(Mm(e))),i=e/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function Ym(e){return!isNaN(parseFloat(e))&&isFinite(e)}function jm(e,t,n){let i,r,o;for(i=0,r=e.length;i<r;i++)o=e[i][n],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function Xm(e){return e*(km/180)}function Km(e){return e*(180/km)}function Hm(e){if(!gm(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function zm(e,t){const n=t.x-e.x,i=t.y-e.y,r=Math.sqrt(n*n+i*i);let o=Math.atan2(i,n);return o<-.5*km&&(o+=Dm),{angle:o,distance:r}}function qm(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function $m(e,t){return(e-t+Vm)%Dm-km}function eE(e){return(e%Dm+Dm)%Dm}function tE(e,t,n,i){const r=eE(e),o=eE(t),a=eE(n),s=eE(o-r),c=eE(a-r),l=eE(r-o),d=eE(r-a);return r===o||r===a||i&&o===a||s>c&&l<d}function nE(e,t,n){return Math.max(t,Math.min(n,e))}function iE(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-6;return e>=Math.min(t,n)-i&&e<=Math.max(t,n)+i}function rE(e,t,n){n=n||(n=>e[n]<t);let i,r=e.length-1,o=0;for(;r-o>1;)i=o+r>>1,n(i)?o=i:r=i;return{lo:o,hi:r}}const oE=(e,t,n,i)=>rE(e,n,i?i=>{const r=e[i][t];return r<n||r===n&&e[i+1][t]===n}:i=>e[i][t]<n),aE=(e,t,n)=>rE(e,n,(i=>e[i][t]>=n));const sE=["push","pop","shift","splice","unshift"];function cE(e,t){const n=e._chartjs;if(!n)return;const i=n.listeners,r=i.indexOf(t);-1!==r&&i.splice(r,1),i.length>0||(sE.forEach((t=>{delete e[t]})),delete e._chartjs)}function lE(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const dE="undefined"===typeof window?function(e){return e()}:window.requestAnimationFrame;function uE(e,t){let n=[],i=!1;return function(){for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];n=o,i||(i=!0,dE.call(window,(()=>{i=!1,e.apply(t,n)})))}}const hE=e=>"start"===e?"left":"end"===e?"right":"center",AE=(e,t,n)=>"start"===e?t:"end"===e?n:(t+n)/2;function pE(e,t,n){const i=t.length;let r=0,o=i;if(e._sorted){const{iScale:a,_parsed:s}=e,c=a.axis,{min:l,max:d,minDefined:u,maxDefined:h}=a.getUserBounds();u&&(r=nE(Math.min(oE(s,c,l).lo,n?i:oE(t,c,a.getPixelForValue(l)).lo),0,i-1)),o=h?nE(Math.max(oE(s,a.axis,d,!0).hi+1,n?0:oE(t,c,a.getPixelForValue(d),!0).hi+1),r,i)-r:i-r}return{start:r,count:o}}function gE(e){const{xScale:t,yScale:n,_scaleRanges:i}=e,r={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!i)return e._scaleRanges=r,!0;const o=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,r),o}const fE=e=>0===e||1===e,mE=(e,t,n)=>-Math.pow(2,10*(e-=1))*Math.sin((e-t)*Dm/n),EE=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*Dm/n)+1,CE={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>1-Math.cos(e*Om),easeOutSine:e=>Math.sin(e*Om),easeInOutSine:e=>-.5*(Math.cos(km*e)-1),easeInExpo:e=>0===e?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>1===e?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>fE(e)?e:e<.5?.5*Math.pow(2,10*(2*e-1)):.5*(2-Math.pow(2,-10*(2*e-1))),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>fE(e)?e:mE(e,.075,.3),easeOutElastic:e=>fE(e)?e:EE(e,.075,.3),easeInOutElastic(e){const t=.1125;return fE(e)?e:e<.5?.5*mE(2*e,t,.45):.5+.5*EE(2*e-1,t,.45)},easeInBack(e){const t=1.70158;return e*e*((t+1)*e-t)},easeOutBack(e){const t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:e=>1-CE.easeOutBounce(1-e),easeOutBounce(e){const t=7.5625,n=2.75;return e<1/n?t*e*e:e<2/n?t*(e-=1.5/n)*e+.75:e<2.5/n?t*(e-=2.25/n)*e+.9375:t*(e-=2.625/n)*e+.984375},easeInOutBounce:e=>e<.5?.5*CE.easeInBounce(2*e):.5*CE.easeOutBounce(2*e-1)+.5};function IE(e){if(e&&"object"===typeof e){const t=e.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function QE(e){return IE(e)?e:new lm(e)}function UE(e){return IE(e)?e:new lm(e).saturate(.5).darken(.1).hexString()}const yE=["x","y","borderWidth","radius","tension"],bE=["color","borderColor","backgroundColor"];const vE=new Map;function RE(e,t,n){return function(e,t){t=t||{};const n=e+JSON.stringify(t);let i=vE.get(n);return i||(i=new Intl.NumberFormat(e,t),vE.set(n,i)),i}(t,n).format(e)}const SE={values:e=>Am(e)?e:""+e,numeric(e,t,n){if(0===e)return"0";const i=this.chart.options.locale;let r,o=e;if(n.length>1){const t=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(t<1e-4||t>1e15)&&(r="scientific"),o=function(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e));return n}(e,n)}const a=Mm(Math.abs(o)),s=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),c={notation:r,minimumFractionDigits:s,maximumFractionDigits:s};return Object.assign(c,this.options.ticks.format),RE(e,i,c)},logarithmic(e,t,n){if(0===e)return"0";const i=n[t].significand||e/Math.pow(10,Math.floor(Mm(e)));return[1,2,3,5,10,15].includes(i)||t>.8*n.length?SE.numeric.call(this,e,t,n):""}};var FE={formatters:SE};const BE=Object.create(null),TE=Object.create(null);function NE(e,t){if(!t)return e;const n=t.split(".");for(let i=0,r=n.length;i<r;++i){const t=n[i];e=e[t]||(e[t]=Object.create(null))}return e}function _E(e,t,n){return"string"===typeof t?vm(NE(e,t),n):vm(NE(e,""),t)}class wE{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=e=>e.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(e,t)=>UE(t.backgroundColor),this.hoverBorderColor=(e,t)=>UE(t.borderColor),this.hoverColor=(e,t)=>UE(t.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return _E(this,e,t)}get(e){return NE(this,e)}describe(e,t){return _E(TE,e,t)}override(e,t){return _E(BE,e,t)}route(e,t,n,i){const r=NE(this,e),o=NE(this,n),a="_"+t;Object.defineProperties(r,{[a]:{value:r[t],writable:!0},[t]:{enumerable:!0,get(){const e=this[a],t=o[i];return pm(e)?Object.assign({},t,e):mm(e,t)},set(e){this[a]=e}}})}apply(e){e.forEach((e=>e(this)))}}var kE=new wE({_scriptable:e=>!e.startsWith("on"),_indexable:e=>"events"!==e,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>"onProgress"!==e&&"onComplete"!==e&&"fn"!==e}),e.set("animations",{colors:{type:"color",properties:bE},numbers:{type:"number",properties:yE}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>0|e}}}})},function(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:FE.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&"callback"!==e&&"parser"!==e,_indexable:e=>"borderDash"!==e&&"tickBorderDash"!==e&&"dash"!==e}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:e=>"backdropPadding"!==e&&"callback"!==e,_indexable:e=>"backdropPadding"!==e})}]);function DE(e,t,n,i,r){let o=t[r];return o||(o=t[r]=e.measureText(r).width,n.push(r)),o>i&&(i=o),i}function VE(e,t,n,i){let r=(i=i||{}).data=i.data||{},o=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(r=i.data={},o=i.garbageCollect=[],i.font=t),e.save(),e.font=t;let a=0;const s=n.length;let c,l,d,u,h;for(c=0;c<s;c++)if(u=n[c],void 0===u||null===u||Am(u)){if(Am(u))for(l=0,d=u.length;l<d;l++)h=u[l],void 0===h||null===h||Am(h)||(a=DE(e,r,o,a,h))}else a=DE(e,r,o,a,u);e.restore();const A=o.length/2;if(A>n.length){for(c=0;c<A;c++)delete r[o[c]];o.splice(0,A)}return a}function ZE(e,t,n){const i=e.currentDevicePixelRatio,r=0!==n?Math.max(n/2,.5):0;return Math.round((t-r)*i)/i+r}function WE(e,t){(t=t||e.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore()}function OE(e,t,n,i){JE(e,t,n,i,null)}function JE(e,t,n,i,r){let o,a,s,c,l,d,u,h;const A=t.pointStyle,p=t.rotation,g=t.radius;let f=(p||0)*Wm;if(A&&"object"===typeof A&&(o=A.toString(),"[object HTMLImageElement]"===o||"[object HTMLCanvasElement]"===o))return e.save(),e.translate(n,i),e.rotate(f),e.drawImage(A,-A.width/2,-A.height/2,A.width,A.height),void e.restore();if(!(isNaN(g)||g<=0)){switch(e.beginPath(),A){default:r?e.ellipse(n,i,r/2,g,0,0,Dm):e.arc(n,i,g,0,Dm),e.closePath();break;case"triangle":d=r?r/2:g,e.moveTo(n+Math.sin(f)*d,i-Math.cos(f)*g),f+=xm,e.lineTo(n+Math.sin(f)*d,i-Math.cos(f)*g),f+=xm,e.lineTo(n+Math.sin(f)*d,i-Math.cos(f)*g),e.closePath();break;case"rectRounded":l=.516*g,c=g-l,a=Math.cos(f+Jm)*c,u=Math.cos(f+Jm)*(r?r/2-l:c),s=Math.sin(f+Jm)*c,h=Math.sin(f+Jm)*(r?r/2-l:c),e.arc(n-u,i-s,l,f-km,f-Om),e.arc(n+h,i-a,l,f-Om,f),e.arc(n+u,i+s,l,f,f+Om),e.arc(n-h,i+a,l,f+Om,f+km),e.closePath();break;case"rect":if(!p){c=Math.SQRT1_2*g,d=r?r/2:c,e.rect(n-d,i-c,2*d,2*c);break}f+=Jm;case"rectRot":u=Math.cos(f)*(r?r/2:g),a=Math.cos(f)*g,s=Math.sin(f)*g,h=Math.sin(f)*(r?r/2:g),e.moveTo(n-u,i-s),e.lineTo(n+h,i-a),e.lineTo(n+u,i+s),e.lineTo(n-h,i+a),e.closePath();break;case"crossRot":f+=Jm;case"cross":u=Math.cos(f)*(r?r/2:g),a=Math.cos(f)*g,s=Math.sin(f)*g,h=Math.sin(f)*(r?r/2:g),e.moveTo(n-u,i-s),e.lineTo(n+u,i+s),e.moveTo(n+h,i-a),e.lineTo(n-h,i+a);break;case"star":u=Math.cos(f)*(r?r/2:g),a=Math.cos(f)*g,s=Math.sin(f)*g,h=Math.sin(f)*(r?r/2:g),e.moveTo(n-u,i-s),e.lineTo(n+u,i+s),e.moveTo(n+h,i-a),e.lineTo(n-h,i+a),f+=Jm,u=Math.cos(f)*(r?r/2:g),a=Math.cos(f)*g,s=Math.sin(f)*g,h=Math.sin(f)*(r?r/2:g),e.moveTo(n-u,i-s),e.lineTo(n+u,i+s),e.moveTo(n+h,i-a),e.lineTo(n-h,i+a);break;case"line":a=r?r/2:Math.cos(f)*g,s=Math.sin(f)*g,e.moveTo(n-a,i-s),e.lineTo(n+a,i+s);break;case"dash":e.moveTo(n,i),e.lineTo(n+Math.cos(f)*(r?r/2:g),i+Math.sin(f)*g);break;case!1:e.closePath()}e.fill(),t.borderWidth>0&&e.stroke()}}function xE(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function ME(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function LE(e){e.restore()}function PE(e,t,n,i,r){if(!t)return e.lineTo(n.x,n.y);if("middle"===r){const i=(t.x+n.x)/2;e.lineTo(i,t.y),e.lineTo(i,n.y)}else"after"===r!==!!i?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function GE(e,t,n,i){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function YE(e,t,n,i,r){if(r.strikethrough||r.underline){const o=e.measureText(i),a=t-o.actualBoundingBoxLeft,s=t+o.actualBoundingBoxRight,c=n-o.actualBoundingBoxAscent,l=n+o.actualBoundingBoxDescent,d=r.strikethrough?(c+l)/2:l;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=r.decorationWidth||2,e.moveTo(a,d),e.lineTo(s,d),e.stroke()}}function jE(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function XE(e,t,n,i,r){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=Am(t)?t:[t],s=o.strokeWidth>0&&""!==o.strokeColor;let c,l;for(e.save(),e.font=r.string,function(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),hm(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}(e,o),c=0;c<a.length;++c)l=a[c],o.backdrop&&jE(e,o.backdrop),s&&(o.strokeColor&&(e.strokeStyle=o.strokeColor),hm(o.strokeWidth)||(e.lineWidth=o.strokeWidth),e.strokeText(l,n,i,o.maxWidth)),e.fillText(l,n,i,o.maxWidth),YE(e,n,i,l,o),i+=Number(r.lineHeight);e.restore()}function KE(e,t){const{x:n,y:i,w:r,h:o,radius:a}=t;e.arc(n+a.topLeft,i+a.topLeft,a.topLeft,1.5*km,km,!0),e.lineTo(n,i+o-a.bottomLeft),e.arc(n+a.bottomLeft,i+o-a.bottomLeft,a.bottomLeft,km,Om,!0),e.lineTo(n+r-a.bottomRight,i+o),e.arc(n+r-a.bottomRight,i+o-a.bottomRight,a.bottomRight,Om,0,!0),e.lineTo(n+r,i+a.topRight),e.arc(n+r-a.topRight,i+a.topRight,a.topRight,0,-Om,!0),e.lineTo(n+a.topLeft,i)}const HE=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,zE=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function qE(e,t){const n=(""+e).match(HE);if(!n||"normal"===n[1])return 1.2*t;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100}return t*e}const $E=e=>+e||0;function eC(e,t){const n={},i=pm(t),r=i?Object.keys(t):t,o=pm(e)?i?n=>mm(e[n],e[t[n]]):t=>e[t]:()=>e;for(const a of r)n[a]=$E(o(a));return n}function tC(e){return eC(e,{top:"y",right:"x",bottom:"y",left:"x"})}function nC(e){return eC(e,["topLeft","topRight","bottomLeft","bottomRight"])}function iC(e){const t=tC(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function rC(e,t){e=e||{},t=t||kE.font;let n=mm(e.size,t.size);"string"===typeof n&&(n=parseInt(n,10));let i=mm(e.style,t.style);i&&!(""+i).match(zE)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:mm(e.family,t.family),lineHeight:qE(mm(e.lineHeight,t.lineHeight),n),size:n,style:i,weight:mm(e.weight,t.weight),string:""};return r.string=function(e){return!e||hm(e.size)||hm(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}(r),r}function oC(e,t,n,i){let r,o,a,s=!0;for(r=0,o=e.length;r<o;++r)if(a=e[r],void 0!==a&&(void 0!==t&&"function"===typeof a&&(a=a(t),s=!1),void 0!==n&&Am(a)&&(a=a[n%a.length],s=!1),void 0!==a))return i&&!s&&(i.cacheable=!1),a}function aC(e,t){return Object.assign(Object.create(e),t)}function sC(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[""],n=arguments.length>3?arguments[3]:void 0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:()=>e[0];const r=(arguments.length>2?arguments[2]:void 0)||e;"undefined"===typeof n&&(n=EC("_fallback",e));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:r,_fallback:n,_getTarget:i,override:i=>sC([i,...e],t,r,n)};return new Proxy(o,{deleteProperty:(t,n)=>(delete t[n],delete t._keys,delete e[0][n],!0),get:(n,i)=>hC(n,i,(()=>function(e,t,n,i){let r;for(const o of t)if(r=EC(dC(o,e),n),"undefined"!==typeof r)return uC(e,r)?fC(n,i,e,r):r}(i,t,e,n))),getOwnPropertyDescriptor:(e,t)=>Reflect.getOwnPropertyDescriptor(e._scopes[0],t),getPrototypeOf:()=>Reflect.getPrototypeOf(e[0]),has:(e,t)=>CC(e).includes(t),ownKeys:e=>CC(e),set(e,t,n){const r=e._storage||(e._storage=i());return e[t]=r[t]=n,delete e._keys,!0}})}function cC(e,t,n,i){const r={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:lC(e,i),setContext:t=>cC(e,t,n,i),override:r=>cC(e.override(r),t,n,i)};return new Proxy(r,{deleteProperty:(t,n)=>(delete t[n],delete e[n],!0),get:(e,t,n)=>hC(e,t,(()=>function(e,t,n){const{_proxy:i,_context:r,_subProxy:o,_descriptors:a}=e;let s=i[t];_m(s)&&a.isScriptable(t)&&(s=function(e,t,n,i){const{_proxy:r,_context:o,_subProxy:a,_stack:s}=n;if(s.has(e))throw new Error("Recursion detected: "+Array.from(s).join("->")+"->"+e);s.add(e);let c=t(o,a||i);s.delete(e),uC(e,c)&&(c=fC(r._scopes,r,e,c));return c}(t,s,e,n));Am(s)&&s.length&&(s=function(e,t,n,i){const{_proxy:r,_context:o,_subProxy:a,_descriptors:s}=n;if("undefined"!==typeof o.index&&i(e))return t[o.index%t.length];if(pm(t[0])){const n=t,i=r._scopes.filter((e=>e!==n));t=[];for(const c of n){const n=fC(i,r,e,c);t.push(cC(n,o,a&&a[e],s))}}return t}(t,s,e,a.isIndexable));uC(t,s)&&(s=cC(s,r,o&&o[t],a));return s}(e,t,n))),getOwnPropertyDescriptor:(t,n)=>t._descriptors.allKeys?Reflect.has(e,n)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,n),getPrototypeOf:()=>Reflect.getPrototypeOf(e),has:(t,n)=>Reflect.has(e,n),ownKeys:()=>Reflect.ownKeys(e),set:(t,n,i)=>(e[n]=i,delete t[n],!0)})}function lC(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{scriptable:!0,indexable:!0};const{_scriptable:n=t.scriptable,_indexable:i=t.indexable,_allKeys:r=t.allKeys}=e;return{allKeys:r,scriptable:n,indexable:i,isScriptable:_m(n)?n:()=>n,isIndexable:_m(i)?i:()=>i}}const dC=(e,t)=>e?e+Tm(t):t,uC=(e,t)=>pm(t)&&"adapters"!==e&&(null===Object.getPrototypeOf(t)||t.constructor===Object);function hC(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t))return e[t];const i=n();return e[t]=i,i}function AC(e,t,n){return _m(e)?e(t,n):e}const pC=(e,t)=>!0===e?t:"string"===typeof e?Bm(t,e):void 0;function gC(e,t,n,i,r){for(const o of t){const t=pC(n,o);if(t){e.add(t);const o=AC(t._fallback,n,r);if("undefined"!==typeof o&&o!==n&&o!==i)return o}else if(!1===t&&"undefined"!==typeof i&&n!==i)return null}return!1}function fC(e,t,n,i){const r=t._rootScopes,o=AC(t._fallback,n,i),a=[...e,...r],s=new Set;s.add(i);let c=mC(s,a,n,o||n,i);return null!==c&&(("undefined"===typeof o||o===n||(c=mC(s,a,o,c,i),null!==c))&&sC(Array.from(s),[""],r,o,(()=>function(e,t,n){const i=e._getTarget();t in i||(i[t]={});const r=i[t];if(Am(r)&&pm(n))return n;return r||{}}(t,n,i))))}function mC(e,t,n,i,r){for(;n;)n=gC(e,t,n,i,r);return n}function EC(e,t){for(const n of t){if(!n)continue;const t=n[e];if("undefined"!==typeof t)return t}}function CC(e){let t=e._keys;return t||(t=e._keys=function(e){const t=new Set;for(const n of e)for(const e of Object.keys(n).filter((e=>!e.startsWith("_"))))t.add(e);return Array.from(t)}(e._scopes)),t}function IC(e,t,n,i){const{iScale:r}=e,{key:o="r"}=this._parsing,a=new Array(i);let s,c,l,d;for(s=0,c=i;s<c;++s)l=s+n,d=t[l],a[s]={r:r.parse(Bm(d,o),l)};return a}const QC=Number.EPSILON||1e-14,UC=(e,t)=>t<e.length&&!e[t].skip&&e[t],yC=e=>"x"===e?"y":"x";function bC(e,t,n,i){const r=e.skip?t:e,o=t,a=n.skip?t:n,s=qm(o,r),c=qm(a,o);let l=s/(s+c),d=c/(s+c);l=isNaN(l)?0:l,d=isNaN(d)?0:d;const u=i*l,h=i*d;return{previous:{x:o.x-u*(a.x-r.x),y:o.y-u*(a.y-r.y)},next:{x:o.x+h*(a.x-r.x),y:o.y+h*(a.y-r.y)}}}function vC(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x";const n=yC(t),i=e.length,r=Array(i).fill(0),o=Array(i);let a,s,c,l=UC(e,0);for(a=0;a<i;++a)if(s=c,c=l,l=UC(e,a+1),c){if(l){const e=l[t]-c[t];r[a]=0!==e?(l[n]-c[n])/e:0}o[a]=s?l?Lm(r[a-1])!==Lm(r[a])?0:(r[a-1]+r[a])/2:r[a-1]:r[a]}!function(e,t,n){const i=e.length;let r,o,a,s,c,l=UC(e,0);for(let d=0;d<i-1;++d)c=l,l=UC(e,d+1),c&&l&&(Pm(t[d],0,QC)?n[d]=n[d+1]=0:(r=n[d]/t[d],o=n[d+1]/t[d],s=Math.pow(r,2)+Math.pow(o,2),s<=9||(a=3/Math.sqrt(s),n[d]=r*a*t[d],n[d+1]=o*a*t[d])))}(e,r,o),function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x";const i=yC(n),r=e.length;let o,a,s,c=UC(e,0);for(let l=0;l<r;++l){if(a=s,s=c,c=UC(e,l+1),!s)continue;const r=s[n],d=s[i];a&&(o=(r-a[n])/3,s["cp1".concat(n)]=r-o,s["cp1".concat(i)]=d-o*t[l]),c&&(o=(c[n]-r)/3,s["cp2".concat(n)]=r+o,s["cp2".concat(i)]=d+o*t[l])}}(e,o,t)}function RC(e,t,n){return Math.max(Math.min(e,n),t)}function SC(e,t,n,i,r){let o,a,s,c;if(t.spanGaps&&(e=e.filter((e=>!e.skip))),"monotone"===t.cubicInterpolationMode)vC(e,r);else{let n=i?e[e.length-1]:e[0];for(o=0,a=e.length;o<a;++o)s=e[o],c=bC(n,s,e[Math.min(o+1,a-(i?0:1))%a],t.tension),s.cp1x=c.previous.x,s.cp1y=c.previous.y,s.cp2x=c.next.x,s.cp2y=c.next.y,n=s}t.capBezierPoints&&function(e,t){let n,i,r,o,a,s=xE(e[0],t);for(n=0,i=e.length;n<i;++n)a=o,o=s,s=n<i-1&&xE(e[n+1],t),o&&(r=e[n],a&&(r.cp1x=RC(r.cp1x,t.left,t.right),r.cp1y=RC(r.cp1y,t.top,t.bottom)),s&&(r.cp2x=RC(r.cp2x,t.left,t.right),r.cp2y=RC(r.cp2y,t.top,t.bottom)))}(e,n)}function FC(){return"undefined"!==typeof window&&"undefined"!==typeof document}function BC(e){let t=e.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function TC(e,t,n){let i;return"string"===typeof e?(i=parseInt(e,10),-1!==e.indexOf("%")&&(i=i/100*t.parentNode[n])):i=e,i}const NC=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);const _C=["top","right","bottom","left"];function wC(e,t,n){const i={};n=n?"-"+n:"";for(let r=0;r<4;r++){const o=_C[r];i[o]=parseFloat(e[t+"-"+o+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const kC=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function DC(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:i}=t,r=NC(n),o="border-box"===r.boxSizing,a=wC(r,"padding"),s=wC(r,"border","width"),{x:c,y:l,box:d}=function(e,t){const n=e.touches,i=n&&n.length?n[0]:e,{offsetX:r,offsetY:o}=i;let a,s,c=!1;if(kC(r,o,e.target))a=r,s=o;else{const e=t.getBoundingClientRect();a=i.clientX-e.left,s=i.clientY-e.top,c=!0}return{x:a,y:s,box:c}}(e,n),u=a.left+(d&&s.left),h=a.top+(d&&s.top);let{width:A,height:p}=t;return o&&(A-=a.width+s.width,p-=a.height+s.height),{x:Math.round((c-u)/A*n.width/i),y:Math.round((l-h)/p*n.height/i)}}const VC=e=>Math.round(10*e)/10;function ZC(e,t,n,i){const r=NC(e),o=wC(r,"margin"),a=TC(r.maxWidth,e,"clientWidth")||Zm,s=TC(r.maxHeight,e,"clientHeight")||Zm,c=function(e,t,n){let i,r;if(void 0===t||void 0===n){const o=BC(e);if(o){const e=o.getBoundingClientRect(),a=NC(o),s=wC(a,"border","width"),c=wC(a,"padding");t=e.width-c.width-s.width,n=e.height-c.height-s.height,i=TC(a.maxWidth,o,"clientWidth"),r=TC(a.maxHeight,o,"clientHeight")}else t=e.clientWidth,n=e.clientHeight}return{width:t,height:n,maxWidth:i||Zm,maxHeight:r||Zm}}(e,t,n);let{width:l,height:d}=c;if("content-box"===r.boxSizing){const e=wC(r,"border","width"),t=wC(r,"padding");l-=t.width+e.width,d-=t.height+e.height}l=Math.max(0,l-o.width),d=Math.max(0,i?l/i:d-o.height),l=VC(Math.min(l,a,c.maxWidth)),d=VC(Math.min(d,s,c.maxHeight)),l&&!d&&(d=VC(l/2));return(void 0!==t||void 0!==n)&&i&&c.height&&d>c.height&&(d=c.height,l=VC(Math.floor(d*i))),{width:l,height:d}}function WC(e,t,n){const i=t||1,r=Math.floor(e.height*i),o=Math.floor(e.width*i);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const a=e.canvas;return a.style&&(n||!a.style.height&&!a.style.width)&&(a.style.height="".concat(e.height,"px"),a.style.width="".concat(e.width,"px")),(e.currentDevicePixelRatio!==i||a.height!==r||a.width!==o)&&(e.currentDevicePixelRatio=i,a.height=r,a.width=o,e.ctx.setTransform(i,0,0,i,0,0),!0)}const OC=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};FC()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch(t){}return e}();function JC(e,t){const n=function(e,t){return NC(e).getPropertyValue(t)}(e,t),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function xC(e,t,n,i){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function MC(e,t,n,i){return{x:e.x+n*(t.x-e.x),y:"middle"===i?n<.5?e.y:t.y:"after"===i?n<1?e.y:t.y:n>0?t.y:e.y}}function LC(e,t,n,i){const r={x:e.cp2x,y:e.cp2y},o={x:t.cp1x,y:t.cp1y},a=xC(e,r,n),s=xC(r,o,n),c=xC(o,t,n),l=xC(a,s,n),d=xC(s,c,n);return xC(l,d,n)}function PC(e,t,n){return e?function(e,t){return{x:n=>e+e+t-n,setWidth(e){t=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,t)=>e-t,leftForLtr:(e,t)=>e-t}}(t,n):{x:e=>e,setWidth(e){},textAlign:e=>e,xPlus:(e,t)=>e+t,leftForLtr:(e,t)=>e}}function GC(e,t){let n,i;"ltr"!==t&&"rtl"!==t||(n=e.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=i)}function YC(e,t){void 0!==t&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function jC(e){return"angle"===e?{between:tE,compare:$m,normalize:eE}:{between:iE,compare:(e,t)=>e-t,normalize:e=>e}}function XC(e){let{start:t,end:n,count:i,loop:r,style:o}=e;return{start:t%i,end:n%i,loop:r&&(n-t+1)%i===0,style:o}}function KC(e,t,n){if(!n)return[e];const{property:i,start:r,end:o}=n,a=t.length,{compare:s,between:c,normalize:l}=jC(i),{start:d,end:u,loop:h,style:A}=function(e,t,n){const{property:i,start:r,end:o}=n,{between:a,normalize:s}=jC(i),c=t.length;let l,d,{start:u,end:h,loop:A}=e;if(A){for(u+=c,h+=c,l=0,d=c;l<d&&a(s(t[u%c][i]),r,o);++l)u--,h--;u%=c,h%=c}return h<u&&(h+=c),{start:u,end:h,loop:A,style:e.style}}(e,t,n),p=[];let g,f,m,E=!1,C=null;const I=()=>E||c(r,m,g)&&0!==s(r,m),Q=()=>!E||0===s(o,g)||c(o,m,g);for(let U=d,y=d;U<=u;++U)f=t[U%a],f.skip||(g=l(f[i]),g!==m&&(E=c(g,r,o),null===C&&I()&&(C=0===s(g,r)?U:y),null!==C&&Q()&&(p.push(XC({start:C,end:U,loop:h,count:a,style:A})),C=null),y=U,m=g));return null!==C&&p.push(XC({start:C,end:u,loop:h,count:a,style:A})),p}function HC(e,t){const n=[],i=e.segments;for(let r=0;r<i.length;r++){const o=KC(i[r],e.points,t);o.length&&n.push(...o)}return n}function zC(e,t,n,i){return i&&i.setContext&&n?function(e,t,n,i){const r=e._chart.getContext(),o=qC(e.options),{_datasetIndex:a,options:{spanGaps:s}}=e,c=n.length,l=[];let d=o,u=t[0].start,h=u;function A(e,t,i,r){const o=s?-1:1;if(e!==t){for(e+=c;n[e%c].skip;)e-=o;for(;n[t%c].skip;)t+=o;e%c!==t%c&&(l.push({start:e%c,end:t%c,loop:i,style:r}),d=r,u=t%c)}}for(const p of t){u=s?u:p.start;let e,t=n[u%c];for(h=u+1;h<=p.end;h++){const o=n[h%c];e=qC(i.setContext(aC(r,{type:"segment",p0:t,p1:o,p0DataIndex:(h-1)%c,p1DataIndex:h%c,datasetIndex:a}))),$C(e,d)&&A(u,h-1,p.loop,d),t=o,d=e}u<h-1&&A(u,h-1,p.loop,d)}return l}(e,t,n,i):t}function qC(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function $C(e,t){if(!t)return!1;const n=[],i=function(e,t){return IE(t)?(n.includes(t)||n.push(t),n.indexOf(t)):t};return JSON.stringify(e,i)!==JSON.stringify(t,i)}class eI{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,n,i){const r=t.listeners[i],o=t.duration;r.forEach((i=>i({chart:e,initial:t.initial,numSteps:o,currentStep:Math.min(n-t.start,o)})))}_refresh(){this._request||(this._running=!0,this._request=dE.call(window,(()=>{this._update(),this._request=null,this._running&&this._refresh()})))}_update(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now(),t=0;this._charts.forEach(((n,i)=>{if(!n.running||!n.items.length)return;const r=n.items;let o,a=r.length-1,s=!1;for(;a>=0;--a)o=r[a],o._active?(o._total>n.duration&&(n.duration=o._total),o.tick(e),s=!0):(r[a]=r[r.length-1],r.pop());s&&(i.draw(),this._notify(i,n,e,"progress")),r.length||(n.running=!1,this._notify(i,n,e,"complete"),n.initial=!1),t+=r.length})),this._lastDate=e,0===t&&(this._running=!1)}_getAnims(e){const t=this._charts;let n=t.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,n)),n}listen(e,t,n){this._getAnims(e).listeners[t].push(n)}add(e,t){t&&t.length&&this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce(((e,t)=>Math.max(e,t._duration)),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!!(t&&t.running&&t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const n=t.items;let i=n.length-1;for(;i>=0;--i)n[i].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var tI=new eI;const nI="transparent",iI={boolean:(e,t,n)=>n>.5?t:e,color(e,t,n){const i=QE(e||nI),r=i.valid&&QE(t||nI);return r&&r.valid?r.mix(i,n).hexString():t},number:(e,t,n)=>e+(t-e)*n};class rI{constructor(e,t,n,i){const r=t[n];i=oC([e.to,i,r,e.from]);const o=oC([e.from,r,i]);this._active=!0,this._fn=e.fn||iI[e.type||typeof o],this._easing=CE[e.easing]||CE.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=n,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(e,t,n){if(this._active){this._notify(!1);const i=this._target[this._prop],r=n-this._start,o=this._duration-r;this._start=n,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=r,this._loop=!!e.loop,this._to=oC([e.to,t,i,e.from]),this._from=oC([e.from,i,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,n=this._duration,i=this._prop,r=this._from,o=this._loop,a=this._to;let s;if(this._active=r!==a&&(o||t<n),!this._active)return this._target[i]=a,void this._notify(!0);t<0?this._target[i]=r:(s=t/n%2,s=o&&s>1?2-s:s,s=this._easing(Math.min(1,Math.max(0,s))),this._target[i]=this._fn(r,a,s))}wait(){const e=this._promises||(this._promises=[]);return new Promise(((t,n)=>{e.push({res:t,rej:n})}))}_notify(e){const t=e?"res":"rej",n=this._promises||[];for(let i=0;i<n.length;i++)n[i][t]()}}class oI{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!pm(e))return;const t=Object.keys(kE.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach((i=>{const r=e[i];if(!pm(r))return;const o={};for(const e of t)o[e]=r[e];(Am(r.properties)&&r.properties||[i]).forEach((e=>{e!==i&&n.has(e)||n.set(e,o)}))}))}_animateOptions(e,t){const n=t.options,i=function(e,t){if(!t)return;let n=e.options;if(!n)return void(e.options=t);n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}}));return n}(e,n);if(!i)return[];const r=this._createAnimations(i,n);return n.$shared&&function(e,t){const n=[],i=Object.keys(t);for(let r=0;r<i.length;r++){const t=e[i[r]];t&&t.active()&&n.push(t.wait())}return Promise.all(n)}(e.options.$animations,n).then((()=>{e.options=n}),(()=>{})),r}_createAnimations(e,t){const n=this._properties,i=[],r=e.$animations||(e.$animations={}),o=Object.keys(t),a=Date.now();let s;for(s=o.length-1;s>=0;--s){const c=o[s];if("$"===c.charAt(0))continue;if("options"===c){i.push(...this._animateOptions(e,t));continue}const l=t[c];let d=r[c];const u=n.get(c);if(d){if(u&&d.active()){d.update(u,l,a);continue}d.cancel()}u&&u.duration?(r[c]=d=new rI(u,e,c,l),i.push(d)):e[c]=l}return i}update(e,t){if(0===this._properties.size)return void Object.assign(e,t);const n=this._createAnimations(e,t);return n.length?(tI.add(this._chart,n),!0):void 0}}function aI(e,t){const n=e&&e.options||{},i=n.reverse,r=void 0===n.min?t:0,o=void 0===n.max?t:0;return{start:i?o:r,end:i?r:o}}function sI(e,t){const n=[],i=e._getSortedDatasetMetas(t);let r,o;for(r=0,o=i.length;r<o;++r)n.push(i[r].index);return n}function cI(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const r=e.keys,o="single"===i.mode;let a,s,c,l;if(null!==t){for(a=0,s=r.length;a<s;++a){if(c=+r[a],c===n){if(i.all)continue;break}l=e.values[c],gm(l)&&(o||0===t||Lm(t)===Lm(l))&&(t+=l)}return t}}function lI(e,t){const n=e&&e.options.stacked;return n||void 0===n&&void 0!==t.stack}function dI(e,t,n){const i=e[t]||(e[t]={});return i[n]||(i[n]={})}function uI(e,t,n,i){for(const r of t.getMatchingVisibleMetas(i).reverse()){const t=e[r.index];if(n&&t>0||!n&&t<0)return r.index}return null}function hI(e,t){const{chart:n,_cachedMeta:i}=e,r=n._stacks||(n._stacks={}),{iScale:o,vScale:a,index:s}=i,c=o.axis,l=a.axis,d=function(e,t,n){return"".concat(e.id,".").concat(t.id,".").concat(n.stack||n.type)}(o,a,i),u=t.length;let h;for(let A=0;A<u;++A){const e=t[A],{[c]:n,[l]:o}=e;h=(e._stacks||(e._stacks={}))[l]=dI(r,d,n),h[s]=o,h._top=uI(h,a,!0,i.type),h._bottom=uI(h,a,!1,i.type);(h._visualValues||(h._visualValues={}))[s]=o}}function AI(e,t){const n=e.scales;return Object.keys(n).filter((e=>n[e].axis===t)).shift()}function pI(e,t){const n=e.controller.index,i=e.vScale&&e.vScale.axis;if(i){t=t||e._parsed;for(const e of t){const t=e._stacks;if(!t||void 0===t[i]||void 0===t[i][n])return;delete t[i][n],void 0!==t[i]._visualValues&&void 0!==t[i]._visualValues[n]&&delete t[i]._visualValues[n]}}}const gI=e=>"reset"===e||"none"===e,fI=(e,t)=>t?e:Object.assign({},e);class mI{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=lI(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&pI(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,n=this.getDataset(),i=(e,t,n,i)=>"x"===e?t:"r"===e?i:n,r=t.xAxisID=mm(n.xAxisID,AI(e,"x")),o=t.yAxisID=mm(n.yAxisID,AI(e,"y")),a=t.rAxisID=mm(n.rAxisID,AI(e,"r")),s=t.indexAxis,c=t.iAxisID=i(s,r,o,a),l=t.vAxisID=i(s,o,r,a);t.xScale=this.getScaleForId(r),t.yScale=this.getScaleForId(o),t.rScale=this.getScaleForId(a),t.iScale=this.getScaleForId(c),t.vScale=this.getScaleForId(l)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&cE(this._data,this),e._stacked&&pI(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),n=this._data;if(pm(t))this._data=function(e){const t=Object.keys(e),n=new Array(t.length);let i,r,o;for(i=0,r=t.length;i<r;++i)o=t[i],n[i]={x:o,y:e[o]};return n}(t);else if(n!==t){if(n){cE(n,this);const e=this._cachedMeta;pI(e),e._parsed=[]}t&&Object.isExtensible(t)&&function(e,t){e._chartjs?e._chartjs.listeners.push(t):(Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),sE.forEach((t=>{const n="_onData"+Tm(t),i=e[t];Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];const a=i.apply(this,r);return e._chartjs.listeners.forEach((e=>{"function"===typeof e[n]&&e[n](...r)})),a}})})))}(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,n=this.getDataset();let i=!1;this._dataCheck();const r=t._stacked;t._stacked=lI(t.vScale,t),t.stack!==n.stack&&(i=!0,pI(t),t.stack=n.stack),this._resyncElements(e),(i||r!==t._stacked)&&hI(this,t._parsed)}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:n,_data:i}=this,{iScale:r,_stacked:o}=n,a=r.axis;let s,c,l,d=0===e&&t===i.length||n._sorted,u=e>0&&n._parsed[e-1];if(!1===this._parsing)n._parsed=i,n._sorted=!0,l=i;else{l=Am(i[e])?this.parseArrayData(n,i,e,t):pm(i[e])?this.parseObjectData(n,i,e,t):this.parsePrimitiveData(n,i,e,t);const r=()=>null===c[a]||u&&c[a]<u[a];for(s=0;s<t;++s)n._parsed[s+e]=c=l[s],d&&(r()&&(d=!1),u=c);n._sorted=d}o&&hI(this,l)}parsePrimitiveData(e,t,n,i){const{iScale:r,vScale:o}=e,a=r.axis,s=o.axis,c=r.getLabels(),l=r===o,d=new Array(i);let u,h,A;for(u=0,h=i;u<h;++u)A=u+n,d[u]={[a]:l||r.parse(c[A],A),[s]:o.parse(t[A],A)};return d}parseArrayData(e,t,n,i){const{xScale:r,yScale:o}=e,a=new Array(i);let s,c,l,d;for(s=0,c=i;s<c;++s)l=s+n,d=t[l],a[s]={x:r.parse(d[0],l),y:o.parse(d[1],l)};return a}parseObjectData(e,t,n,i){const{xScale:r,yScale:o}=e,{xAxisKey:a="x",yAxisKey:s="y"}=this._parsing,c=new Array(i);let l,d,u,h;for(l=0,d=i;l<d;++l)u=l+n,h=t[u],c[l]={x:r.parse(Bm(h,a),u),y:o.parse(Bm(h,s),u)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,n){const i=this.chart,r=this._cachedMeta,o=t[e.axis];return cI({keys:sI(i,!0),values:t._stacks[e.axis]._visualValues},o,r.index,{mode:n})}updateRangeFromParsed(e,t,n,i){const r=n[t.axis];let o=null===r?NaN:r;const a=i&&n._stacks[t.axis];i&&a&&(i.values=a,o=cI(i,r,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,t){const n=this._cachedMeta,i=n._parsed,r=n._sorted&&e===n.iScale,o=i.length,a=this._getOtherScale(e),s=((e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:sI(n,!0),values:null})(t,n,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:l,max:d}=function(e){const{min:t,max:n,minDefined:i,maxDefined:r}=e.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:r?n:Number.POSITIVE_INFINITY}}(a);let u,h;function A(){h=i[u];const t=h[a.axis];return!gm(h[e.axis])||l>t||d<t}for(u=0;u<o&&(A()||(this.updateRangeFromParsed(c,e,h,s),!r));++u);if(r)for(u=o-1;u>=0;--u)if(!A()){this.updateRangeFromParsed(c,e,h,s);break}return c}getAllParsedValues(e){const t=this._cachedMeta._parsed,n=[];let i,r,o;for(i=0,r=t.length;i<r;++i)o=t[i][e.axis],gm(o)&&n.push(o);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,n=t.iScale,i=t.vScale,r=this.getParsed(e);return{label:n?""+n.getLabelForValue(r[n.axis]):"",value:i?""+i.getLabelForValue(r[i.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=function(e){let t,n,i,r;return pm(e)?(t=e.top,n=e.right,i=e.bottom,r=e.left):t=n=i=r=e,{top:t,right:n,bottom:i,left:r,disabled:!1===e}}(mm(this.options.clip,function(e,t,n){if(!1===n)return!1;const i=aI(e,n),r=aI(t,n);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,n=this._cachedMeta,i=n.data||[],r=t.chartArea,o=[],a=this._drawStart||0,s=this._drawCount||i.length-a,c=this.options.drawActiveElementsOnTop;let l;for(n.dataset&&n.dataset.draw(e,r,a,s),l=a;l<a+s;++l){const t=i[l];t.hidden||(t.active&&c?o.push(t):t.draw(e,r))}for(l=0;l<o.length;++l)o[l].draw(e,r)}getStyle(e,t){const n=t?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,t,n){const i=this.getDataset();let r;if(e>=0&&e<this._cachedMeta.data.length){const t=this._cachedMeta.data[e];r=t.$context||(t.$context=function(e,t,n){return aC(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}(this.getContext(),e,t)),r.parsed=this.getParsed(e),r.raw=i.data[e],r.index=r.dataIndex=e}else r=this.$context||(this.$context=function(e,t){return aC(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),r.dataset=i,r.index=r.datasetIndex=this.index;return r.active=!!t,r.mode=n,r}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",n=arguments.length>2?arguments[2]:void 0;const i="active"===t,r=this._cachedDataOpts,o=e+"-"+t,a=r[o],s=this.enableOptionSharing&&Nm(n);if(a)return fI(a,s);const c=this.chart.config,l=c.datasetElementScopeKeys(this._type,e),d=i?["".concat(e,"Hover"),"hover",e,""]:[e,""],u=c.getOptionScopes(this.getDataset(),l),h=Object.keys(kE.elements[e]),A=c.resolveNamedOptions(u,h,(()=>this.getContext(n,i,t)),d);return A.$shared&&(A.$shared=s,r[o]=Object.freeze(fI(A,s))),A}_resolveAnimations(e,t,n){const i=this.chart,r=this._cachedDataOpts,o="animation-".concat(t),a=r[o];if(a)return a;let s;if(!1!==i.options.animation){const i=this.chart.config,r=i.datasetAnimationScopeKeys(this._type,t),o=i.getOptionScopes(this.getDataset(),r);s=i.createResolver(o,this.getContext(e,n,t))}const c=new oI(i,s&&s.animations);return s&&s._cacheable&&(r[o]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||gI(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const n=this.resolveDataElementOptions(e,t),i=this._sharedOptions,r=this.getSharedOptions(n),o=this.includeOptions(t,r)||r!==i;return this.updateSharedOptions(r,t,n),{sharedOptions:r,includeOptions:o}}updateElement(e,t,n,i){gI(i)?Object.assign(e,n):this._resolveAnimations(t,i).update(e,n)}updateSharedOptions(e,t,n){e&&!gI(t)&&this._resolveAnimations(void 0,t).update(e,n)}_setStyle(e,t,n,i){e.active=i;const r=this.getStyle(t,i);this._resolveAnimations(t,n,i).update(e,{options:!i&&this.getSharedOptions(r)||r})}removeHoverStyle(e,t,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,t,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,n=this._cachedMeta.data;for(const[a,s,c]of this._syncList)this[a](s,c);this._syncList=[];const i=n.length,r=t.length,o=Math.min(r,i);o&&this.parse(0,o),r>i?this._insertElements(i,r-i,e):r<i&&this._removeElements(r,i-r)}_insertElements(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const i=this._cachedMeta,r=i.data,o=e+t;let a;const s=e=>{for(e.length+=t,a=e.length-1;a>=o;a--)e[a]=e[a-t]};for(s(r),a=e;a<o;++a)r[a]=new this.dataElementType;this._parsing&&s(i._parsed),this.parse(e,t),n&&this.updateElements(r,e,t,"reset")}updateElements(e,t,n,i){}_removeElements(e,t){const n=this._cachedMeta;if(this._parsing){const i=n._parsed.splice(e,t);n._stacked&&pI(n,i)}n.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,n,i]=e;this[t](n,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function EI(e){const t=e.iScale,n=function(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let i=[];for(let t=0,r=n.length;t<r;t++)i=i.concat(n[t].controller.getAllParsedValues(e));e._cache.$bar=lE(i.sort(((e,t)=>e-t)))}return e._cache.$bar}(t,e.type);let i,r,o,a,s=t._length;const c=()=>{32767!==o&&-32768!==o&&(Nm(a)&&(s=Math.min(s,Math.abs(o-a)||s)),a=o)};for(i=0,r=n.length;i<r;++i)o=t.getPixelForValue(n[i]),c();for(a=void 0,i=0,r=t.ticks.length;i<r;++i)o=t.getPixelForTick(i),c();return s}function CI(e,t,n,i){return Am(e)?function(e,t,n,i){const r=n.parse(e[0],i),o=n.parse(e[1],i),a=Math.min(r,o),s=Math.max(r,o);let c=a,l=s;Math.abs(a)>Math.abs(s)&&(c=s,l=a),t[n.axis]=l,t._custom={barStart:c,barEnd:l,start:r,end:o,min:a,max:s}}(e,t,n,i):t[n.axis]=n.parse(e,i),t}function II(e,t,n,i){const r=e.iScale,o=e.vScale,a=r.getLabels(),s=r===o,c=[];let l,d,u,h;for(l=n,d=n+i;l<d;++l)h=t[l],u={},u[r.axis]=s||r.parse(a[l],l),c.push(CI(h,u,o,l));return c}function QI(e){return e&&void 0!==e.barStart&&void 0!==e.barEnd}function UI(e,t,n,i){let r=t.borderSkipped;const o={};if(!r)return void(e.borderSkipped=o);if(!0===r)return void(e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:a,end:s,reverse:c,top:l,bottom:d}=function(e){let t,n,i,r,o;return e.horizontal?(t=e.base>e.x,n="left",i="right"):(t=e.base<e.y,n="bottom",i="top"),t?(r="end",o="start"):(r="start",o="end"),{start:n,end:i,reverse:t,top:r,bottom:o}}(e);"middle"===r&&n&&(e.enableBorderRadius=!0,(n._top||0)===i?r=l:(n._bottom||0)===i?r=d:(o[yI(d,a,s,c)]=!0,r=l)),o[yI(r,a,s,c)]=!0,e.borderSkipped=o}function yI(e,t,n,i){var r,o,a;return i?(a=n,e=bI(e=(r=e)===(o=t)?a:r===a?o:r,n,t)):e=bI(e,t,n),e}function bI(e,t,n){return"start"===e?t:"end"===e?n:e}function vI(e,t,n){let{inflateAmount:i}=t;e.inflateAmount="auto"===i?1===n?.33:0:i}On(mI,"defaults",{}),On(mI,"datasetElementType",null),On(mI,"dataElementType",null);class RI extends mI{parsePrimitiveData(e,t,n,i){return II(e,t,n,i)}parseArrayData(e,t,n,i){return II(e,t,n,i)}parseObjectData(e,t,n,i){const{iScale:r,vScale:o}=e,{xAxisKey:a="x",yAxisKey:s="y"}=this._parsing,c="x"===r.axis?a:s,l="x"===o.axis?a:s,d=[];let u,h,A,p;for(u=n,h=n+i;u<h;++u)p=t[u],A={},A[r.axis]=r.parse(Bm(p,c),u),d.push(CI(Bm(p,l),A,o,u));return d}updateRangeFromParsed(e,t,n,i){super.updateRangeFromParsed(e,t,n,i);const r=n._custom;r&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,r.min),e.max=Math.max(e.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:n,vScale:i}=t,r=this.getParsed(e),o=r._custom,a=QI(o)?"["+o.start+", "+o.end+"]":""+i.getLabelForValue(r[i.axis]);return{label:""+n.getLabelForValue(r[n.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();this._cachedMeta.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,n,i){const r="reset"===i,{index:o,_cachedMeta:{vScale:a}}=this,s=a.getBasePixel(),c=a.isHorizontal(),l=this._getRuler(),{sharedOptions:d,includeOptions:u}=this._getSharedOptions(t,i);for(let h=t;h<t+n;h++){const t=this.getParsed(h),n=r||hm(t[a.axis])?{base:s,head:s}:this._calculateBarValuePixels(h),A=this._calculateBarIndexPixels(h,l),p=(t._stacks||{})[a.axis],g={horizontal:c,base:n.base,enableBorderRadius:!p||QI(t._custom)||o===p._top||o===p._bottom,x:c?n.head:A.center,y:c?A.center:n.head,height:c?A.size:Math.abs(n.size),width:c?Math.abs(n.size):A.size};u&&(g.options=d||this.resolveDataElementOptions(h,e[h].active?"active":i));const f=g.options||e[h].options;UI(g,f,p,o),vI(g,f,l.ratio),this.updateElement(e[h],h,g,i)}}_getStacks(e,t){const{iScale:n}=this._cachedMeta,i=n.getMatchingVisibleMetas(this._type).filter((e=>e.controller.options.grouped)),r=n.options.stacked,o=[],a=e=>{const n=e.controller.getParsed(t),i=n&&n[e.vScale.axis];if(hm(i)||isNaN(i))return!0};for(const s of i)if((void 0===t||!a(s))&&((!1===r||-1===o.indexOf(s.stack)||void 0===r&&void 0===s.stack)&&o.push(s.stack),s.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,t,n){const i=this._getStacks(e,n),r=void 0!==t?i.indexOf(t):-1;return-1===r?i.length-1:r}_getRuler(){const e=this.options,t=this._cachedMeta,n=t.iScale,i=[];let r,o;for(r=0,o=t.data.length;r<o;++r)i.push(n.getPixelForValue(this.getParsed(r)[n.axis],r));const a=e.barThickness;return{min:a||EI(t),pixels:i,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:n,index:i},options:{base:r,minBarLength:o}}=this,a=r||0,s=this.getParsed(e),c=s._custom,l=QI(c);let d,u,h=s[t.axis],A=0,p=n?this.applyStack(t,s,n):h;p!==h&&(A=p-h,p=h),l&&(h=c.barStart,p=c.barEnd-c.barStart,0!==h&&Lm(h)!==Lm(c.barEnd)&&(A=0),A+=h);const g=hm(r)||l?A:r;let f=t.getPixelForValue(g);if(d=this.chart.getDataVisibility(e)?t.getPixelForValue(A+p):f,u=d-f,Math.abs(u)<o){u=function(e,t,n){return 0!==e?Lm(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}(u,t,a)*o,h===a&&(f-=u/2);const e=t.getPixelForDecimal(0),r=t.getPixelForDecimal(1),c=Math.min(e,r),A=Math.max(e,r);f=Math.max(Math.min(f,A),c),d=f+u,n&&!l&&(s._stacks[t.axis]._visualValues[i]=t.getValueForPixel(d)-t.getValueForPixel(f))}if(f===t.getPixelForValue(a)){const e=Lm(u)*t.getLineWidthForValue(a)/2;f+=e,u-=e}return{size:u,base:f,head:d,center:d+u/2}}_calculateBarIndexPixels(e,t){const n=t.scale,i=this.options,r=i.skipNull,o=mm(i.maxBarThickness,1/0);let a,s;if(t.grouped){const n=r?this._getStackCount(e):t.stackCount,c="flex"===i.barThickness?function(e,t,n,i){const r=t.pixels,o=r[e];let a=e>0?r[e-1]:null,s=e<r.length-1?r[e+1]:null;const c=n.categoryPercentage;null===a&&(a=o-(null===s?t.end-t.start:s-o)),null===s&&(s=o+o-a);const l=o-(o-Math.min(a,s))/2*c;return{chunk:Math.abs(s-a)/2*c/i,ratio:n.barPercentage,start:l}}(e,t,i,n):function(e,t,n,i){const r=n.barThickness;let o,a;return hm(r)?(o=t.min*n.categoryPercentage,a=n.barPercentage):(o=r*i,a=1),{chunk:o/i,ratio:a,start:t.pixels[e]-o/2}}(e,t,i,n),l=this._getStackIndex(this.index,this._cachedMeta.stack,r?e:void 0);a=c.start+c.chunk*l+c.chunk/2,s=Math.min(o,c.chunk*c.ratio)}else a=n.getPixelForValue(this.getParsed(e)[n.axis],e),s=Math.min(o,t.min*t.ratio);return{base:a-s/2,head:a+s/2,center:a,size:s}}draw(){const e=this._cachedMeta,t=e.vScale,n=e.data,i=n.length;let r=0;for(;r<i;++r)null!==this.getParsed(r)[t.axis]&&n[r].draw(this._ctx)}}On(RI,"id","bar"),On(RI,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),On(RI,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class SI extends mI{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,t,n,i){const r=super.parsePrimitiveData(e,t,n,i);for(let o=0;o<r.length;o++)r[o]._custom=this.resolveDataElementOptions(o+n).radius;return r}parseArrayData(e,t,n,i){const r=super.parseArrayData(e,t,n,i);for(let o=0;o<r.length;o++){const e=t[n+o];r[o]._custom=mm(e[2],this.resolveDataElementOptions(o+n).radius)}return r}parseObjectData(e,t,n,i){const r=super.parseObjectData(e,t,n,i);for(let o=0;o<r.length;o++){const e=t[n+o];r[o]._custom=mm(e&&e.r&&+e.r,this.resolveDataElementOptions(o+n).radius)}return r}getMaxOverflow(){const e=this._cachedMeta.data;let t=0;for(let n=e.length-1;n>=0;--n)t=Math.max(t,e[n].size(this.resolveDataElementOptions(n))/2);return t>0&&t}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart.data.labels||[],{xScale:i,yScale:r}=t,o=this.getParsed(e),a=i.getLabelForValue(o.x),s=r.getLabelForValue(o.y),c=o._custom;return{label:n[e]||"",value:"("+a+", "+s+(c?", "+c:"")+")"}}update(e){const t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,n,i){const r="reset"===i,{iScale:o,vScale:a}=this._cachedMeta,{sharedOptions:s,includeOptions:c}=this._getSharedOptions(t,i),l=o.axis,d=a.axis;for(let u=t;u<t+n;u++){const t=e[u],n=!r&&this.getParsed(u),h={},A=h[l]=r?o.getPixelForDecimal(.5):o.getPixelForValue(n[l]),p=h[d]=r?a.getBasePixel():a.getPixelForValue(n[d]);h.skip=isNaN(A)||isNaN(p),c&&(h.options=s||this.resolveDataElementOptions(u,t.active?"active":i),r&&(h.options.radius=0)),this.updateElement(t,u,h,i)}}resolveDataElementOptions(e,t){const n=this.getParsed(e);let i=super.resolveDataElementOptions(e,t);i.$shared&&(i=Object.assign({},i,{$shared:!1}));const r=i.radius;return"active"!==t&&(i.radius=0),i.radius+=mm(n&&n._custom,r),i}}On(SI,"id","bubble"),On(SI,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),On(SI,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});class FI extends mI{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const n=this.getDataset().data,i=this._cachedMeta;if(!1===this._parsing)i._parsed=n;else{let r,o,a=e=>+n[e];if(pm(n[e])){const{key:e="value"}=this._parsing;a=t=>+Bm(n[t],e)}for(r=e,o=e+t;r<o;++r)i._parsed[r]=a(r)}}_getRotation(){return Xm(this.options.rotation-90)}_getCircumference(){return Xm(this.options.circumference)}_getRotationExtents(){let e=Dm,t=-Dm;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const i=this.chart.getDatasetMeta(n).controller,r=i._getRotation(),o=i._getCircumference();e=Math.min(e,r),t=Math.max(t,r+o)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:n}=t,i=this._cachedMeta,r=i.data,o=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,a=Math.max((Math.min(n.width,n.height)-o)/2,0),s=Math.min((c=this.options.cutout,l=a,"string"===typeof c&&c.endsWith("%")?parseFloat(c)/100:+c/l),1);var c,l;const d=this._getRingWeight(this.index),{circumference:u,rotation:h}=this._getRotationExtents(),{ratioX:A,ratioY:p,offsetX:g,offsetY:f}=function(e,t,n){let i=1,r=1,o=0,a=0;if(t<Dm){const s=e,c=s+t,l=Math.cos(s),d=Math.sin(s),u=Math.cos(c),h=Math.sin(c),A=(e,t,i)=>tE(e,s,c,!0)?1:Math.max(t,t*n,i,i*n),p=(e,t,i)=>tE(e,s,c,!0)?-1:Math.min(t,t*n,i,i*n),g=A(0,l,u),f=A(Om,d,h),m=p(km,l,u),E=p(km+Om,d,h);i=(g-m)/2,r=(f-E)/2,o=-(g+m)/2,a=-(f+E)/2}return{ratioX:i,ratioY:r,offsetX:o,offsetY:a}}(h,u,s),m=(n.width-o)/A,E=(n.height-o)/p,C=Math.max(Math.min(m,E)/2,0),I=Em(this.options.radius,C),Q=(I-Math.max(I*s,0))/this._getVisibleDatasetWeightTotal();this.offsetX=g*I,this.offsetY=f*I,i.total=this.calculateTotal(),this.outerRadius=I-Q*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-Q*d,0),this.updateElements(r,0,r.length,e)}_circumference(e,t){const n=this.options,i=this._cachedMeta,r=this._getCircumference();return t&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||null===i._parsed[e]||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*r/Dm)}updateElements(e,t,n,i){const r="reset"===i,o=this.chart,a=o.chartArea,s=o.options.animation,c=(a.left+a.right)/2,l=(a.top+a.bottom)/2,d=r&&s.animateScale,u=d?0:this.innerRadius,h=d?0:this.outerRadius,{sharedOptions:A,includeOptions:p}=this._getSharedOptions(t,i);let g,f=this._getRotation();for(g=0;g<t;++g)f+=this._circumference(g,r);for(g=t;g<t+n;++g){const t=this._circumference(g,r),n=e[g],o={x:c+this.offsetX,y:l+this.offsetY,startAngle:f,endAngle:f+t,circumference:t,outerRadius:h,innerRadius:u};p&&(o.options=A||this.resolveDataElementOptions(g,n.active?"active":i)),f+=t,this.updateElement(n,g,o,i)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let n,i=0;for(n=0;n<t.length;n++){const r=e._parsed[n];null===r||isNaN(r)||!this.chart.getDataVisibility(n)||t[n].hidden||(i+=Math.abs(r))}return i}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?Dm*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart,i=n.data.labels||[],r=RE(t._parsed[e],n.options.locale);return{label:i[e]||"",value:r}}getMaxBorderWidth(e){let t=0;const n=this.chart;let i,r,o,a,s;if(!e)for(i=0,r=n.data.datasets.length;i<r;++i)if(n.isDatasetVisible(i)){o=n.getDatasetMeta(i),e=o.data,a=o.controller;break}if(!e)return 0;for(i=0,r=e.length;i<r;++i)s=a.resolveDataElementOptions(i),"inner"!==s.borderAlign&&(t=Math.max(t,s.borderWidth||0,s.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let n=0,i=e.length;n<i;++n){const e=this.resolveDataElementOptions(n);t=Math.max(t,e.offset||0,e.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(t+=this._getRingWeight(n));return t}_getRingWeight(e){return Math.max(mm(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}On(FI,"id","doughnut"),On(FI,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),On(FI,"descriptors",{_scriptable:e=>"spacing"!==e,_indexable:e=>"spacing"!==e&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),On(FI,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:n,color:i}}=e.legend.options;return t.labels.map(((t,r)=>{const o=e.getDatasetMeta(0).controller.getStyle(r);return{text:t,fillStyle:o.backgroundColor,strokeStyle:o.borderColor,fontColor:i,lineWidth:o.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(r),index:r}}))}return[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}}}});class BI extends mI{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:n,data:i=[],_dataset:r}=t,o=this.chart._animationsDisabled;let{start:a,count:s}=pE(t,i,o);this._drawStart=a,this._drawCount=s,gE(t)&&(a=0,s=i.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!r._decimated,n.points=i;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(n,void 0,{animated:!o,options:c},e),this.updateElements(i,a,s,e)}updateElements(e,t,n,i){const r="reset"===i,{iScale:o,vScale:a,_stacked:s,_dataset:c}=this._cachedMeta,{sharedOptions:l,includeOptions:d}=this._getSharedOptions(t,i),u=o.axis,h=a.axis,{spanGaps:A,segment:p}=this.options,g=Ym(A)?A:Number.POSITIVE_INFINITY,f=this.chart._animationsDisabled||r||"none"===i,m=t+n,E=e.length;let C=t>0&&this.getParsed(t-1);for(let I=0;I<E;++I){const n=e[I],A=f?n:{};if(I<t||I>=m){A.skip=!0;continue}const E=this.getParsed(I),Q=hm(E[h]),U=A[u]=o.getPixelForValue(E[u],I),y=A[h]=r||Q?a.getBasePixel():a.getPixelForValue(s?this.applyStack(a,E,s):E[h],I);A.skip=isNaN(U)||isNaN(y)||Q,A.stop=I>0&&Math.abs(E[u]-C[u])>g,p&&(A.parsed=E,A.raw=c.data[I]),d&&(A.options=l||this.resolveDataElementOptions(I,n.active?"active":i)),f||this.updateElement(n,I,A,i),C=E}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,n=t.options&&t.options.borderWidth||0,i=e.data||[];if(!i.length)return n;const r=i[0].size(this.resolveDataElementOptions(0)),o=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(n,r,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}On(BI,"id","line"),On(BI,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),On(BI,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class TI extends mI{constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart,i=n.data.labels||[],r=RE(t._parsed[e].r,n.options.locale);return{label:i[e]||"",value:r}}parseObjectData(e,t,n,i){return IC.bind(this)(e,t,n,i)}update(e){const t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}getMinMax(){const e=this._cachedMeta,t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach(((e,n)=>{const i=this.getParsed(n).r;!isNaN(i)&&this.chart.getDataVisibility(n)&&(i<t.min&&(t.min=i),i>t.max&&(t.max=i))})),t}_updateRadius(){const e=this.chart,t=e.chartArea,n=e.options,i=Math.min(t.right-t.left,t.bottom-t.top),r=Math.max(i/2,0),o=(r-Math.max(n.cutoutPercentage?r/100*n.cutoutPercentage:1,0))/e.getVisibleDatasetCount();this.outerRadius=r-o*this.index,this.innerRadius=this.outerRadius-o}updateElements(e,t,n,i){const r="reset"===i,o=this.chart,a=o.options.animation,s=this._cachedMeta.rScale,c=s.xCenter,l=s.yCenter,d=s.getIndexAngle(0)-.5*km;let u,h=d;const A=360/this.countVisibleElements();for(u=0;u<t;++u)h+=this._computeAngle(u,i,A);for(u=t;u<t+n;u++){const t=e[u];let n=h,p=h+this._computeAngle(u,i,A),g=o.getDataVisibility(u)?s.getDistanceFromCenterForValue(this.getParsed(u).r):0;h=p,r&&(a.animateScale&&(g=0),a.animateRotate&&(n=p=d));const f={x:c,y:l,innerRadius:0,outerRadius:g,startAngle:n,endAngle:p,options:this.resolveDataElementOptions(u,t.active?"active":i)};this.updateElement(t,u,f,i)}}countVisibleElements(){const e=this._cachedMeta;let t=0;return e.data.forEach(((e,n)=>{!isNaN(this.getParsed(n).r)&&this.chart.getDataVisibility(n)&&t++})),t}_computeAngle(e,t,n){return this.chart.getDataVisibility(e)?Xm(this.resolveDataElementOptions(e,t).angle||n):0}}On(TI,"id","polarArea"),On(TI,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),On(TI,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:n,color:i}}=e.legend.options;return t.labels.map(((t,r)=>{const o=e.getDatasetMeta(0).controller.getStyle(r);return{text:t,fillStyle:o.backgroundColor,strokeStyle:o.borderColor,fontColor:i,lineWidth:o.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(r),index:r}}))}return[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class NI extends FI{}On(NI,"id","pie"),On(NI,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class _I extends mI{getLabelAndValue(e){const t=this._cachedMeta.vScale,n=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(n[t.axis])}}parseObjectData(e,t,n,i){return IC.bind(this)(e,t,n,i)}update(e){const t=this._cachedMeta,n=t.dataset,i=t.data||[],r=t.iScale.getLabels();if(n.points=i,"resize"!==e){const t=this.resolveDatasetElementOptions(e);this.options.showLine||(t.borderWidth=0);const o={_loop:!0,_fullLoop:r.length===i.length,options:t};this.updateElement(n,void 0,o,e)}this.updateElements(i,0,i.length,e)}updateElements(e,t,n,i){const r=this._cachedMeta.rScale,o="reset"===i;for(let a=t;a<t+n;a++){const t=e[a],n=this.resolveDataElementOptions(a,t.active?"active":i),s=r.getPointPositionForValue(a,this.getParsed(a).r),c=o?r.xCenter:s.x,l=o?r.yCenter:s.y,d={x:c,y:l,angle:s.angle,skip:isNaN(c)||isNaN(l),options:n};this.updateElement(t,a,d,i)}}}On(_I,"id","radar"),On(_I,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),On(_I,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class wI extends mI{getLabelAndValue(e){const t=this._cachedMeta,n=this.chart.data.labels||[],{xScale:i,yScale:r}=t,o=this.getParsed(e),a=i.getLabelForValue(o.x),s=r.getLabelForValue(o.y);return{label:n[e]||"",value:"("+a+", "+s+")"}}update(e){const t=this._cachedMeta,{data:n=[]}=t,i=this.chart._animationsDisabled;let{start:r,count:o}=pE(t,n,i);if(this._drawStart=r,this._drawCount=o,gE(t)&&(r=0,o=n.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:r,_dataset:o}=t;r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!o._decimated,r.points=n;const a=this.resolveDatasetElementOptions(e);a.segment=this.options.segment,this.updateElement(r,void 0,{animated:!i,options:a},e)}else this.datasetElementType&&(delete t.dataset,this.datasetElementType=!1);this.updateElements(n,r,o,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,t,n,i){const r="reset"===i,{iScale:o,vScale:a,_stacked:s,_dataset:c}=this._cachedMeta,l=this.resolveDataElementOptions(t,i),d=this.getSharedOptions(l),u=this.includeOptions(i,d),h=o.axis,A=a.axis,{spanGaps:p,segment:g}=this.options,f=Ym(p)?p:Number.POSITIVE_INFINITY,m=this.chart._animationsDisabled||r||"none"===i;let E=t>0&&this.getParsed(t-1);for(let C=t;C<t+n;++C){const t=e[C],n=this.getParsed(C),l=m?t:{},p=hm(n[A]),I=l[h]=o.getPixelForValue(n[h],C),Q=l[A]=r||p?a.getBasePixel():a.getPixelForValue(s?this.applyStack(a,n,s):n[A],C);l.skip=isNaN(I)||isNaN(Q)||p,l.stop=C>0&&Math.abs(n[h]-E[h])>f,g&&(l.parsed=n,l.raw=c.data[C]),u&&(l.options=d||this.resolveDataElementOptions(C,t.active?"active":i)),m||this.updateElement(t,C,l,i),E=n}this.updateSharedOptions(d,i,l)}getMaxOverflow(){const e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){let e=0;for(let n=t.length-1;n>=0;--n)e=Math.max(e,t[n].size(this.resolveDataElementOptions(n))/2);return e>0&&e}const n=e.dataset,i=n.options&&n.options.borderWidth||0;if(!t.length)return i;const r=t[0].size(this.resolveDataElementOptions(0)),o=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(i,r,o)/2}}On(wI,"id","scatter"),On(wI,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),On(wI,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});function kI(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class DI{static override(e){Object.assign(DI.prototype,e)}constructor(e){On(this,"options",void 0),this.options=e||{}}init(){}formats(){return kI()}parse(){return kI()}format(){return kI()}add(){return kI()}diff(){return kI()}startOf(){return kI()}endOf(){return kI()}}var VI=DI;function ZI(e,t,n,i){const{controller:r,data:o,_sorted:a}=e,s=r._cachedMeta.iScale;if(s&&t===s.axis&&"r"!==t&&a&&o.length){const e=s._reversePixels?aE:oE;if(!i)return e(o,t,n);if(r._sharedOptions){const i=o[0],r="function"===typeof i.getRange&&i.getRange(t);if(r){const i=e(o,t,n-r),a=e(o,t,n+r);return{lo:i.lo,hi:a.hi}}}}return{lo:0,hi:o.length-1}}function WI(e,t,n,i,r){const o=e.getSortedVisibleDatasetMetas(),a=n[t];for(let s=0,c=o.length;s<c;++s){const{index:e,data:n}=o[s],{lo:c,hi:l}=ZI(o[s],t,a,r);for(let t=c;t<=l;++t){const r=n[t];r.skip||i(r,e,t)}}}function OI(e,t,n,i,r){const o=[];if(!r&&!e.isPointInArea(t))return o;return WI(e,n,t,(function(n,a,s){(r||xE(n,e.chartArea,0))&&n.inRange(t.x,t.y,i)&&o.push({element:n,datasetIndex:a,index:s})}),!0),o}function JI(e,t,n,i,r,o){let a=[];const s=function(e){const t=-1!==e.indexOf("x"),n=-1!==e.indexOf("y");return function(e,i){const r=t?Math.abs(e.x-i.x):0,o=n?Math.abs(e.y-i.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(o,2))}}(n);let c=Number.POSITIVE_INFINITY;return WI(e,n,t,(function(n,l,d){const u=n.inRange(t.x,t.y,r);if(i&&!u)return;const h=n.getCenterPoint(r);if(!(!!o||e.isPointInArea(h))&&!u)return;const A=s(t,h);A<c?(a=[{element:n,datasetIndex:l,index:d}],c=A):A===c&&a.push({element:n,datasetIndex:l,index:d})})),a}function xI(e,t,n,i,r,o){return o||e.isPointInArea(t)?"r"!==n||i?JI(e,t,n,i,r,o):function(e,t,n,i){let r=[];return WI(e,n,t,(function(e,n,o){const{startAngle:a,endAngle:s}=e.getProps(["startAngle","endAngle"],i),{angle:c}=zm(e,{x:t.x,y:t.y});tE(c,a,s)&&r.push({element:e,datasetIndex:n,index:o})})),r}(e,t,n,r):[]}function MI(e,t,n,i,r){const o=[],a="x"===n?"inXRange":"inYRange";let s=!1;return WI(e,n,t,((e,i,c)=>{e[a](t[n],r)&&(o.push({element:e,datasetIndex:i,index:c}),s=s||e.inRange(t.x,t.y,r))})),i&&!s?[]:o}var LI={evaluateInteractionItems:WI,modes:{index(e,t,n,i){const r=DC(t,e),o=n.axis||"x",a=n.includeInvisible||!1,s=n.intersect?OI(e,r,o,i,a):xI(e,r,o,!1,i,a),c=[];return s.length?(e.getSortedVisibleDatasetMetas().forEach((e=>{const t=s[0].index,n=e.data[t];n&&!n.skip&&c.push({element:n,datasetIndex:e.index,index:t})})),c):[]},dataset(e,t,n,i){const r=DC(t,e),o=n.axis||"xy",a=n.includeInvisible||!1;let s=n.intersect?OI(e,r,o,i,a):xI(e,r,o,!1,i,a);if(s.length>0){const t=s[0].datasetIndex,n=e.getDatasetMeta(t).data;s=[];for(let e=0;e<n.length;++e)s.push({element:n[e],datasetIndex:t,index:e})}return s},point:(e,t,n,i)=>OI(e,DC(t,e),n.axis||"xy",i,n.includeInvisible||!1),nearest(e,t,n,i){const r=DC(t,e),o=n.axis||"xy",a=n.includeInvisible||!1;return xI(e,r,o,n.intersect,i,a)},x:(e,t,n,i)=>MI(e,DC(t,e),"x",n.intersect,i),y:(e,t,n,i)=>MI(e,DC(t,e),"y",n.intersect,i)}};const PI=["left","top","right","bottom"];function GI(e,t){return e.filter((e=>e.pos===t))}function YI(e,t){return e.filter((e=>-1===PI.indexOf(e.pos)&&e.box.axis===t))}function jI(e,t){return e.sort(((e,n)=>{const i=t?n:e,r=t?e:n;return i.weight===r.weight?i.index-r.index:i.weight-r.weight}))}function XI(e,t){const n=function(e){const t={};for(const n of e){const{stack:e,pos:i,stackWeight:r}=n;if(!e||!PI.includes(i))continue;const o=t[e]||(t[e]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=r}return t}(e),{vBoxMaxWidth:i,hBoxMaxHeight:r}=t;let o,a,s;for(o=0,a=e.length;o<a;++o){s=e[o];const{fullSize:a}=s.box,c=n[s.stack],l=c&&s.stackWeight/c.weight;s.horizontal?(s.width=l?l*i:a&&t.availableWidth,s.height=r):(s.width=i,s.height=l?l*r:a&&t.availableHeight)}return n}function KI(e,t,n,i){return Math.max(e[n],t[n])+Math.max(e[i],t[i])}function HI(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function zI(e,t,n,i){const{pos:r,box:o}=n,a=e.maxPadding;if(!pm(r)){n.size&&(e[r]-=n.size);const t=i[n.stack]||{size:0,count:1};t.size=Math.max(t.size,n.horizontal?o.height:o.width),n.size=t.size/t.count,e[r]+=n.size}o.getPadding&&HI(a,o.getPadding());const s=Math.max(0,t.outerWidth-KI(a,e,"left","right")),c=Math.max(0,t.outerHeight-KI(a,e,"top","bottom")),l=s!==e.w,d=c!==e.h;return e.w=s,e.h=c,n.horizontal?{same:l,other:d}:{same:d,other:l}}function qI(e,t){const n=t.maxPadding;function i(e){const i={left:0,top:0,right:0,bottom:0};return e.forEach((e=>{i[e]=Math.max(t[e],n[e])})),i}return i(e?["left","right"]:["top","bottom"])}function $I(e,t,n,i){const r=[];let o,a,s,c,l,d;for(o=0,a=e.length,l=0;o<a;++o){s=e[o],c=s.box,c.update(s.width||t.w,s.height||t.h,qI(s.horizontal,t));const{same:a,other:u}=zI(t,n,s,i);l|=a&&r.length,d=d||u,c.fullSize||r.push(s)}return l&&$I(r,t,n,i)||d}function eQ(e,t,n,i,r){e.top=n,e.left=t,e.right=t+i,e.bottom=n+r,e.width=i,e.height=r}function tQ(e,t,n,i){const r=n.padding;let{x:o,y:a}=t;for(const s of e){const e=s.box,c=i[s.stack]||{count:1,placed:0,weight:1},l=s.stackWeight/c.weight||1;if(s.horizontal){const i=t.w*l,o=c.size||e.height;Nm(c.start)&&(a=c.start),e.fullSize?eQ(e,r.left,a,n.outerWidth-r.right-r.left,o):eQ(e,t.left+c.placed,a,i,o),c.start=a,c.placed+=i,a=e.bottom}else{const i=t.h*l,a=c.size||e.width;Nm(c.start)&&(o=c.start),e.fullSize?eQ(e,o,r.top,a,n.outerHeight-r.bottom-r.top):eQ(e,o,t.top+c.placed,a,i),c.start=o,c.placed+=i,o=e.right}}t.x=o,t.y=a}var nQ={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;-1!==n&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,i){if(!e)return;const r=iC(e.options.layout.padding),o=Math.max(t-r.width,0),a=Math.max(n-r.height,0),s=function(e){const t=function(e){const t=[];let n,i,r,o,a,s;for(n=0,i=(e||[]).length;n<i;++n)r=e[n],({position:o,options:{stack:a,stackWeight:s=1}}=r),t.push({index:n,box:r,pos:o,horizontal:r.isHorizontal(),weight:r.weight,stack:a&&o+a,stackWeight:s});return t}(e),n=jI(t.filter((e=>e.box.fullSize)),!0),i=jI(GI(t,"left"),!0),r=jI(GI(t,"right")),o=jI(GI(t,"top"),!0),a=jI(GI(t,"bottom")),s=YI(t,"x"),c=YI(t,"y");return{fullSize:n,leftAndTop:i.concat(o),rightAndBottom:r.concat(c).concat(a).concat(s),chartArea:GI(t,"chartArea"),vertical:i.concat(r).concat(c),horizontal:o.concat(a).concat(s)}}(e.boxes),c=s.vertical,l=s.horizontal;Im(e.boxes,(e=>{"function"===typeof e.beforeLayout&&e.beforeLayout()}));const d=c.reduce(((e,t)=>t.box.options&&!1===t.box.options.display?e:e+1),0)||1,u=Object.freeze({outerWidth:t,outerHeight:n,padding:r,availableWidth:o,availableHeight:a,vBoxMaxWidth:o/2/d,hBoxMaxHeight:a/2}),h=Object.assign({},r);HI(h,iC(i));const A=Object.assign({maxPadding:h,w:o,h:a,x:r.left,y:r.top},r),p=XI(c.concat(l),u);$I(s.fullSize,A,u,p),$I(c,A,u,p),$I(l,A,u,p)&&$I(c,A,u,p),function(e){const t=e.maxPadding;function n(n){const i=Math.max(t[n]-e[n],0);return e[n]+=i,i}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}(A),tQ(s.leftAndTop,A,u,p),A.x+=A.w,A.y+=A.h,tQ(s.rightAndBottom,A,u,p),e.chartArea={left:A.left,top:A.top,right:A.left+A.w,bottom:A.top+A.h,height:A.h,width:A.w},Im(s.chartArea,(t=>{const n=t.box;Object.assign(n,e.chartArea),n.update(A.w,A.h,{left:0,top:0,right:0,bottom:0})}))}};class iQ{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,n){}removeEventListener(e,t,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,n,i){return t=Math.max(0,t||e.width),n=n||e.height,{width:t,height:Math.max(0,i?Math.floor(t/i):n)}}isAttached(e){return!0}updateConfig(e){}}class rQ extends iQ{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const oQ="$chartjs",aQ={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},sQ=e=>null===e||""===e;const cQ=!!OC&&{passive:!0};function lQ(e,t,n){e.canvas.removeEventListener(t,n,cQ)}function dQ(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function uQ(e,t,n){const i=e.canvas,r=new MutationObserver((e=>{let t=!1;for(const n of e)t=t||dQ(n.addedNodes,i),t=t&&!dQ(n.removedNodes,i);t&&n()}));return r.observe(document,{childList:!0,subtree:!0}),r}function hQ(e,t,n){const i=e.canvas,r=new MutationObserver((e=>{let t=!1;for(const n of e)t=t||dQ(n.removedNodes,i),t=t&&!dQ(n.addedNodes,i);t&&n()}));return r.observe(document,{childList:!0,subtree:!0}),r}const AQ=new Map;let pQ=0;function gQ(){const e=window.devicePixelRatio;e!==pQ&&(pQ=e,AQ.forEach(((t,n)=>{n.currentDevicePixelRatio!==e&&t()})))}function fQ(e,t,n){const i=e.canvas,r=i&&BC(i);if(!r)return;const o=uE(((e,t)=>{const i=r.clientWidth;n(e,t),i<r.clientWidth&&n()}),window),a=new ResizeObserver((e=>{const t=e[0],n=t.contentRect.width,i=t.contentRect.height;0===n&&0===i||o(n,i)}));return a.observe(r),function(e,t){AQ.size||window.addEventListener("resize",gQ),AQ.set(e,t)}(e,o),a}function mQ(e,t,n){n&&n.disconnect(),"resize"===t&&function(e){AQ.delete(e),AQ.size||window.removeEventListener("resize",gQ)}(e)}function EQ(e,t,n){const i=e.canvas,r=uE((t=>{null!==e.ctx&&n(function(e,t){const n=aQ[e.type]||e.type,{x:i,y:r}=DC(e,t);return{type:n,chart:t,native:e,x:void 0!==i?i:null,y:void 0!==r?r:null}}(t,e))}),e);return function(e,t,n){e.addEventListener(t,n,cQ)}(i,t,r),r}class CQ extends iQ{acquireContext(e,t){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(function(e,t){const n=e.style,i=e.getAttribute("height"),r=e.getAttribute("width");if(e[oQ]={initial:{height:i,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",sQ(r)){const t=JC(e,"width");void 0!==t&&(e.width=t)}if(sQ(i))if(""===e.style.height)e.height=e.width/(t||2);else{const t=JC(e,"height");void 0!==t&&(e.height=t)}}(e,t),n):null}releaseContext(e){const t=e.canvas;if(!t[oQ])return!1;const n=t[oQ].initial;["height","width"].forEach((e=>{const i=n[e];hm(i)?t.removeAttribute(e):t.setAttribute(e,i)}));const i=n.style||{};return Object.keys(i).forEach((e=>{t.style[e]=i[e]})),t.width=t.width,delete t[oQ],!0}addEventListener(e,t,n){this.removeEventListener(e,t);const i=e.$proxies||(e.$proxies={}),r={attach:uQ,detach:hQ,resize:fQ}[t]||EQ;i[t]=r(e,t,n)}removeEventListener(e,t){const n=e.$proxies||(e.$proxies={}),i=n[t];if(!i)return;({attach:mQ,detach:mQ,resize:mQ}[t]||lQ)(e,t,i),n[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,n,i){return ZC(e,t,n,i)}isAttached(e){const t=BC(e);return!(!t||!t.isConnected)}}class IQ{constructor(){On(this,"x",void 0),On(this,"y",void 0),On(this,"active",!1),On(this,"options",void 0),On(this,"$animations",void 0)}tooltipPosition(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}hasValue(){return Ym(this.x)&&Ym(this.y)}getProps(e,t){const n=this.$animations;if(!t||!n)return this;const i={};return e.forEach((e=>{i[e]=n[e]&&n[e].active()?n[e]._to:this[e]})),i}}function QQ(e,t){const n=e.options.ticks,i=function(e){const t=e.options.offset,n=e._tickSize(),i=e._length/n+(t?0:1),r=e._maxLength/n;return Math.floor(Math.min(i,r))}(e),r=Math.min(n.maxTicksLimit||i,i),o=n.major.enabled?function(e){const t=[];let n,i;for(n=0,i=e.length;n<i;n++)e[n].major&&t.push(n);return t}(t):[],a=o.length,s=o[0],c=o[a-1],l=[];if(a>r)return function(e,t,n,i){let r,o=0,a=n[0];for(i=Math.ceil(i),r=0;r<e.length;r++)r===a&&(t.push(e[r]),o++,a=n[o*i])}(t,l,o,a/r),l;const d=function(e,t,n){const i=function(e){const t=e.length;let n,i;if(t<2)return!1;for(i=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==i)return!1;return i}(e),r=t.length/n;if(!i)return Math.max(r,1);const o=function(e){const t=[],n=Math.sqrt(e);let i;for(i=1;i<n;i++)e%i===0&&(t.push(i),t.push(e/i));return n===(0|n)&&t.push(n),t.sort(((e,t)=>e-t)).pop(),t}(i);for(let a=0,s=o.length-1;a<s;a++){const e=o[a];if(e>r)return e}return Math.max(r,1)}(o,t,r);if(a>0){let e,n;const i=a>1?Math.round((c-s)/(a-1)):null;for(UQ(t,l,d,hm(i)?0:s-i,s),e=0,n=a-1;e<n;e++)UQ(t,l,d,o[e],o[e+1]);return UQ(t,l,d,c,hm(i)?t.length:c+i),l}return UQ(t,l,d),l}function UQ(e,t,n,i,r){const o=mm(i,0),a=Math.min(mm(r,e.length),e.length);let s,c,l,d=0;for(n=Math.ceil(n),r&&(s=r-i,n=s/Math.floor(s/n)),l=o;l<0;)d++,l=Math.round(o+d*n);for(c=Math.max(o,0);c<a;c++)c===l&&(t.push(e[c]),d++,l=Math.round(o+d*n))}On(IQ,"defaults",{}),On(IQ,"defaultRoutes",void 0);const yQ=(e,t,n)=>"top"===t||"left"===t?e[t]+n:e[t]-n,bQ=(e,t)=>Math.min(t||e,e);function vQ(e,t){const n=[],i=e.length/t,r=e.length;let o=0;for(;o<r;o+=i)n.push(e[Math.floor(o)]);return n}function RQ(e,t,n){const i=e.ticks.length,r=Math.min(t,i-1),o=e._startPixel,a=e._endPixel,s=1e-6;let c,l=e.getPixelForTick(r);if(!(n&&(c=1===i?Math.max(l-o,a-l):0===t?(e.getPixelForTick(1)-l)/2:(l-e.getPixelForTick(r-1))/2,l+=r<t?c:-c,l<o-s||l>a+s)))return l}function SQ(e){return e.drawTicks?e.tickLength:0}function FQ(e,t){if(!e.display)return 0;const n=rC(e.font,t),i=iC(e.padding);return(Am(e.text)?e.text.length:1)*n.lineHeight+i.height}function BQ(e,t,n){let i=hE(e);return(n&&"right"!==t||!n&&"right"===t)&&(i=(e=>"left"===e?"right":"right"===e?"left":e)(i)),i}class TQ extends IQ{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:n,_suggestedMax:i}=this;return e=fm(e,Number.POSITIVE_INFINITY),t=fm(t,Number.NEGATIVE_INFINITY),n=fm(n,Number.POSITIVE_INFINITY),i=fm(i,Number.NEGATIVE_INFINITY),{min:fm(e,n),max:fm(t,i),minDefined:gm(e),maxDefined:gm(t)}}getMinMax(e){let t,{min:n,max:i,minDefined:r,maxDefined:o}=this.getUserBounds();if(r&&o)return{min:n,max:i};const a=this.getMatchingVisibleMetas();for(let s=0,c=a.length;s<c;++s)t=a[s].controller.getMinMax(this,e),r||(n=Math.min(n,t.min)),o||(i=Math.max(i,t.max));return n=o&&n>i?i:n,i=r&&n>i?n:i,{min:fm(n,fm(i,n)),max:fm(i,fm(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.chart.chartArea;return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Cm(this.options.beforeUpdate,[this])}update(e,t,n){const{beginAtZero:i,grace:r,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(e,t,n){const{min:i,max:r}=e,o=Em(t,(r-i)/2),a=(e,t)=>n&&0===e?0:e+t;return{min:a(i,-Math.abs(o)),max:a(r,o)}}(this,r,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const s=a<this.ticks.length;this._convertTicksToLabels(s?vQ(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||"auto"===o.source)&&(this.ticks=QQ(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),s&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,t,n=this.options.reverse;this.isHorizontal()?(e=this.left,t=this.right):(e=this.top,t=this.bottom,n=!n),this._startPixel=e,this._endPixel=t,this._reversePixels=n,this._length=t-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Cm(this.options.afterUpdate,[this])}beforeSetDimensions(){Cm(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Cm(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Cm(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Cm(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let n,i,r;for(n=0,i=e.length;n<i;n++)r=e[n],r.label=Cm(t.callback,[r.value,n,e],this)}afterTickToLabelConversion(){Cm(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Cm(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,n=bQ(this.ticks.length,e.ticks.maxTicksLimit),i=t.minRotation||0,r=t.maxRotation;let o,a,s,c=i;if(!this._isVisible()||!t.display||i>=r||n<=1||!this.isHorizontal())return void(this.labelRotation=i);const l=this._getLabelSizes(),d=l.widest.width,u=l.highest.height,h=nE(this.chart.width-d,0,this.maxWidth);o=e.offset?this.maxWidth/n:h/(n-1),d+6>o&&(o=h/(n-(e.offset?.5:1)),a=this.maxHeight-SQ(e.grid)-t.padding-FQ(e.title,this.chart.options.font),s=Math.sqrt(d*d+u*u),c=Km(Math.min(Math.asin(nE((l.highest.height+6)/o,-1,1)),Math.asin(nE(a/s,-1,1))-Math.asin(nE(u/s,-1,1)))),c=Math.max(i,Math.min(r,c))),this.labelRotation=c}afterCalculateLabelRotation(){Cm(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Cm(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:n,title:i,grid:r}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const o=FQ(i,t.options.font);if(a?(e.width=this.maxWidth,e.height=SQ(r)+o):(e.height=this.maxHeight,e.width=SQ(r)+o),n.display&&this.ticks.length){const{first:t,last:i,widest:r,highest:o}=this._getLabelSizes(),s=2*n.padding,c=Xm(this.labelRotation),l=Math.cos(c),d=Math.sin(c);if(a){const t=n.mirror?0:d*r.width+l*o.height;e.height=Math.min(this.maxHeight,e.height+t+s)}else{const t=n.mirror?0:l*r.width+d*o.height;e.width=Math.min(this.maxWidth,e.width+t+s)}this._calculatePadding(t,i,d,l)}}this._handleMargins(),a?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,n,i){const{ticks:{align:r,padding:o},position:a}=this.options,s=0!==this.labelRotation,c="top"!==a&&"x"===this.axis;if(this.isHorizontal()){const a=this.getPixelForTick(0)-this.left,l=this.right-this.getPixelForTick(this.ticks.length-1);let d=0,u=0;s?c?(d=i*e.width,u=n*t.height):(d=n*e.height,u=i*t.width):"start"===r?u=t.width:"end"===r?d=e.width:"inner"!==r&&(d=e.width/2,u=t.width/2),this.paddingLeft=Math.max((d-a+o)*this.width/(this.width-a),0),this.paddingRight=Math.max((u-l+o)*this.width/(this.width-l),0)}else{let n=t.height/2,i=e.height/2;"start"===r?(n=0,i=e.height):"end"===r&&(n=t.height,i=0),this.paddingTop=n+o,this.paddingBottom=i+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Cm(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return"top"===t||"bottom"===t||"x"===e}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){let t,n;for(this.beforeTickToLabelConversion(),this.generateTickLabels(e),t=0,n=e.length;t<n;t++)hm(e[t].label)&&(e.splice(t,1),n--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let n=this.ticks;t<n.length&&(n=vQ(n,t)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,n){const{ctx:i,_longestTextCache:r}=this,o=[],a=[],s=Math.floor(t/bQ(t,n));let c,l,d,u,h,A,p,g,f,m,E,C=0,I=0;for(c=0;c<t;c+=s){if(u=e[c].label,h=this._resolveTickFontOptions(c),i.font=A=h.string,p=r[A]=r[A]||{data:{},gc:[]},g=h.lineHeight,f=m=0,hm(u)||Am(u)){if(Am(u))for(l=0,d=u.length;l<d;++l)E=u[l],hm(E)||Am(E)||(f=DE(i,p.data,p.gc,f,E),m+=g)}else f=DE(i,p.data,p.gc,f,u),m=g;o.push(f),a.push(m),C=Math.max(f,C),I=Math.max(m,I)}!function(e,t){Im(e,(e=>{const n=e.gc,i=n.length/2;let r;if(i>t){for(r=0;r<i;++r)delete e.data[n[r]];n.splice(0,i)}}))}(r,t);const Q=o.indexOf(C),U=a.indexOf(I),y=e=>({width:o[e]||0,height:a[e]||0});return{first:y(0),last:y(t-1),widest:y(Q),highest:y(U),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return nE(this._alignToPixels?ZE(this.chart,t,0):t,-32768,32767)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const n=t[e];return n.$context||(n.$context=function(e,t,n){return aC(e,{tick:n,index:t,type:"tick"})}(this.getContext(),e,n))}return this.$context||(this.$context=aC(this.chart.getContext(),{scale:this,type:"scale"}))}_tickSize(){const e=this.options.ticks,t=Xm(this.labelRotation),n=Math.abs(Math.cos(t)),i=Math.abs(Math.sin(t)),r=this._getLabelSizes(),o=e.autoSkipPadding||0,a=r?r.widest.width+o:0,s=r?r.highest.height+o:0;return this.isHorizontal()?s*n>a*i?a/n:s/i:s*i<a*n?s/n:a/i}_isVisible(){const e=this.options.display;return"auto"!==e?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,n=this.chart,i=this.options,{grid:r,position:o,border:a}=i,s=r.offset,c=this.isHorizontal(),l=this.ticks.length+(s?1:0),d=SQ(r),u=[],h=a.setContext(this.getContext()),A=h.display?h.width:0,p=A/2,g=function(e){return ZE(n,e,A)};let f,m,E,C,I,Q,U,y,b,v,R,S;if("top"===o)f=g(this.bottom),Q=this.bottom-d,y=f-p,v=g(e.top)+p,S=e.bottom;else if("bottom"===o)f=g(this.top),v=e.top,S=g(e.bottom)-p,Q=f+p,y=this.top+d;else if("left"===o)f=g(this.right),I=this.right-d,U=f-p,b=g(e.left)+p,R=e.right;else if("right"===o)f=g(this.left),b=e.left,R=g(e.right)-p,I=f+p,U=this.left+d;else if("x"===t){if("center"===o)f=g((e.top+e.bottom)/2+.5);else if(pm(o)){const e=Object.keys(o)[0],t=o[e];f=g(this.chart.scales[e].getPixelForValue(t))}v=e.top,S=e.bottom,Q=f+p,y=Q+d}else if("y"===t){if("center"===o)f=g((e.left+e.right)/2);else if(pm(o)){const e=Object.keys(o)[0],t=o[e];f=g(this.chart.scales[e].getPixelForValue(t))}I=f-p,U=I-d,b=e.left,R=e.right}const F=mm(i.ticks.maxTicksLimit,l),B=Math.max(1,Math.ceil(l/F));for(m=0;m<l;m+=B){const e=this.getContext(m),t=r.setContext(e),i=a.setContext(e),o=t.lineWidth,l=t.color,d=i.dash||[],h=i.dashOffset,A=t.tickWidth,p=t.tickColor,g=t.tickBorderDash||[],f=t.tickBorderDashOffset;E=RQ(this,m,s),void 0!==E&&(C=ZE(n,E,o),c?I=U=b=R=C:Q=y=v=S=C,u.push({tx1:I,ty1:Q,tx2:U,ty2:y,x1:b,y1:v,x2:R,y2:S,width:o,color:l,borderDash:d,borderDashOffset:h,tickWidth:A,tickColor:p,tickBorderDash:g,tickBorderDashOffset:f}))}return this._ticksLength=l,this._borderValue=f,u}_computeLabelItems(e){const t=this.axis,n=this.options,{position:i,ticks:r}=n,o=this.isHorizontal(),a=this.ticks,{align:s,crossAlign:c,padding:l,mirror:d}=r,u=SQ(n.grid),h=u+l,A=d?-l:h,p=-Xm(this.labelRotation),g=[];let f,m,E,C,I,Q,U,y,b,v,R,S,F="middle";if("top"===i)Q=this.bottom-A,U=this._getXAxisLabelAlignment();else if("bottom"===i)Q=this.top+A,U=this._getXAxisLabelAlignment();else if("left"===i){const e=this._getYAxisLabelAlignment(u);U=e.textAlign,I=e.x}else if("right"===i){const e=this._getYAxisLabelAlignment(u);U=e.textAlign,I=e.x}else if("x"===t){if("center"===i)Q=(e.top+e.bottom)/2+h;else if(pm(i)){const e=Object.keys(i)[0],t=i[e];Q=this.chart.scales[e].getPixelForValue(t)+h}U=this._getXAxisLabelAlignment()}else if("y"===t){if("center"===i)I=(e.left+e.right)/2-h;else if(pm(i)){const e=Object.keys(i)[0],t=i[e];I=this.chart.scales[e].getPixelForValue(t)}U=this._getYAxisLabelAlignment(u).textAlign}"y"===t&&("start"===s?F="top":"end"===s&&(F="bottom"));const B=this._getLabelSizes();for(f=0,m=a.length;f<m;++f){E=a[f],C=E.label;const e=r.setContext(this.getContext(f));y=this.getPixelForTick(f)+r.labelOffset,b=this._resolveTickFontOptions(f),v=b.lineHeight,R=Am(C)?C.length:1;const t=R/2,n=e.color,s=e.textStrokeColor,l=e.textStrokeWidth;let u,h=U;if(o?(I=y,"inner"===U&&(h=f===m-1?this.options.reverse?"left":"right":0===f?this.options.reverse?"right":"left":"center"),S="top"===i?"near"===c||0!==p?-R*v+v/2:"center"===c?-B.highest.height/2-t*v+v:-B.highest.height+v/2:"near"===c||0!==p?v/2:"center"===c?B.highest.height/2-t*v:B.highest.height-R*v,d&&(S*=-1),0===p||e.showLabelBackdrop||(I+=v/2*Math.sin(p))):(Q=y,S=(1-R)*v/2),e.showLabelBackdrop){const t=iC(e.backdropPadding),n=B.heights[f],i=B.widths[f];let r=S-t.top,o=0-t.left;switch(F){case"middle":r-=n/2;break;case"bottom":r-=n}switch(U){case"center":o-=i/2;break;case"right":o-=i;break;case"inner":f===m-1?o-=i:f>0&&(o-=i/2)}u={left:o,top:r,width:i+t.width,height:n+t.height,color:e.backdropColor}}g.push({label:C,font:b,textOffset:S,options:{rotation:p,color:n,strokeColor:s,strokeWidth:l,textAlign:h,textBaseline:F,translation:[I,Q],backdrop:u}})}return g}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-Xm(this.labelRotation))return"top"===e?"left":"right";let n="center";return"start"===t.align?n="left":"end"===t.align?n="right":"inner"===t.align&&(n="inner"),n}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:n,mirror:i,padding:r}}=this.options,o=e+r,a=this._getLabelSizes().widest.width;let s,c;return"left"===t?i?(c=this.right+r,"near"===n?s="left":"center"===n?(s="center",c+=a/2):(s="right",c+=a)):(c=this.right-o,"near"===n?s="right":"center"===n?(s="center",c-=a/2):(s="left",c=this.left)):"right"===t?i?(c=this.left+r,"near"===n?s="right":"center"===n?(s="center",c-=a/2):(s="left",c-=a)):(c=this.left+o,"near"===n?s="left":"center"===n?(s="center",c+=a/2):(s="right",c=this.right)):s="right",{textAlign:s,x:c}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;return"left"===t||"right"===t?{top:0,left:this.left,bottom:e.height,right:this.right}:"top"===t||"bottom"===t?{top:this.top,left:0,bottom:this.bottom,right:e.width}:void 0}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:n,top:i,width:r,height:o}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(n,i,r,o),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const n=this.ticks.findIndex((t=>t.value===e));if(n>=0){return t.setContext(this.getContext(n)).lineWidth}return 0}drawGrid(e){const t=this.options.grid,n=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let r,o;const a=(e,t,i)=>{i.width&&i.color&&(n.save(),n.lineWidth=i.width,n.strokeStyle=i.color,n.setLineDash(i.borderDash||[]),n.lineDashOffset=i.borderDashOffset,n.beginPath(),n.moveTo(e.x,e.y),n.lineTo(t.x,t.y),n.stroke(),n.restore())};if(t.display)for(r=0,o=i.length;r<o;++r){const e=i[r];t.drawOnChartArea&&a({x:e.x1,y:e.y1},{x:e.x2,y:e.y2},e),t.drawTicks&&a({x:e.tx1,y:e.ty1},{x:e.tx2,y:e.ty2},{color:e.tickColor,width:e.tickWidth,borderDash:e.tickBorderDash,borderDashOffset:e.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:n,grid:i}}=this,r=n.setContext(this.getContext()),o=n.display?r.width:0;if(!o)return;const a=i.setContext(this.getContext(0)).lineWidth,s=this._borderValue;let c,l,d,u;this.isHorizontal()?(c=ZE(e,this.left,o)-o/2,l=ZE(e,this.right,a)+a/2,d=u=s):(d=ZE(e,this.top,o)-o/2,u=ZE(e,this.bottom,a)+a/2,c=l=s),t.save(),t.lineWidth=r.width,t.strokeStyle=r.color,t.beginPath(),t.moveTo(c,d),t.lineTo(l,u),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const t=this.ctx,n=this._computeLabelArea();n&&ME(t,n);const i=this.getLabelItems(e);for(const r of i){const e=r.options,n=r.font;XE(t,r.label,0,r.textOffset,n,e)}n&&LE(t)}drawTitle(){const{ctx:e,options:{position:t,title:n,reverse:i}}=this;if(!n.display)return;const r=rC(n.font),o=iC(n.padding),a=n.align;let s=r.lineHeight/2;"bottom"===t||"center"===t||pm(t)?(s+=o.bottom,Am(n.text)&&(s+=r.lineHeight*(n.text.length-1))):s+=o.top;const{titleX:c,titleY:l,maxWidth:d,rotation:u}=function(e,t,n,i){const{top:r,left:o,bottom:a,right:s,chart:c}=e,{chartArea:l,scales:d}=c;let u,h,A,p=0;const g=a-r,f=s-o;if(e.isHorizontal()){if(h=AE(i,o,s),pm(n)){const e=Object.keys(n)[0],i=n[e];A=d[e].getPixelForValue(i)+g-t}else A="center"===n?(l.bottom+l.top)/2+g-t:yQ(e,n,t);u=s-o}else{if(pm(n)){const e=Object.keys(n)[0],i=n[e];h=d[e].getPixelForValue(i)-f+t}else h="center"===n?(l.left+l.right)/2-f+t:yQ(e,n,t);A=AE(i,a,r),p="left"===n?-Om:Om}return{titleX:h,titleY:A,maxWidth:u,rotation:p}}(this,s,t,a);XE(e,n.text,0,0,r,{color:n.color,maxWidth:d,rotation:u,textAlign:BQ(a,t,i),textBaseline:"middle",translation:[c,l]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,n=mm(e.grid&&e.grid.z,-1),i=mm(e.border&&e.border.z,0);return this._isVisible()&&this.draw===TQ.prototype.draw?[{z:n,draw:e=>{this.drawBackground(),this.drawGrid(e),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:t,draw:e=>{this.drawLabels(e)}}]:[{z:t,draw:e=>{this.draw(e)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",i=[];let r,o;for(r=0,o=t.length;r<o;++r){const o=t[r];o[n]!==this.id||e&&o.type!==e||i.push(o)}return i}_resolveTickFontOptions(e){return rC(this.options.ticks.setContext(this.getContext(e)).font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class NQ{constructor(e,t,n){this.type=e,this.scope=t,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let n;(function(e){return"id"in e&&"defaults"in e})(t)&&(n=this.register(t));const i=this.items,r=e.id,o=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+e);return r in i||(i[r]=e,function(e,t,n){const i=vm(Object.create(null),[n?kE.get(n):{},kE.get(t),e.defaults]);kE.set(t,i),e.defaultRoutes&&function(e,t){Object.keys(t).forEach((n=>{const i=n.split("."),r=i.pop(),o=[e].concat(i).join("."),a=t[n].split("."),s=a.pop(),c=a.join(".");kE.route(o,r,c,s)}))}(t,e.defaultRoutes);e.descriptors&&kE.describe(t,e.descriptors)}(e,o,n),this.override&&kE.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const t=this.items,n=e.id,i=this.scope;n in t&&delete t[n],i&&n in kE[i]&&(delete kE[i][n],this.override&&delete BE[n])}}class _Q{constructor(){this.controllers=new NQ(mI,"datasets",!0),this.elements=new NQ(IQ,"elements"),this.plugins=new NQ(Object,"plugins"),this.scales=new NQ(TQ,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t)}remove(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t)}addControllers(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.controllers)}addElements(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.elements)}addPlugins(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.plugins)}addScales(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.controllers)}removeElements(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.elements)}removePlugins(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.plugins)}removeScales(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.scales)}_each(e,t,n){[...t].forEach((t=>{const i=n||this._getRegistryForType(t);n||i.isForType(t)||i===this.plugins&&t.id?this._exec(e,i,t):Im(t,(t=>{const i=n||this._getRegistryForType(t);this._exec(e,i,t)}))}))}_exec(e,t,n){const i=Tm(e);Cm(n["before"+i],[],n),t[e](n),Cm(n["after"+i],[],n)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const n=this._typedRegistries[t];if(n.isForType(e))return n}return this.plugins}_get(e,t,n){const i=t.get(e);if(void 0===i)throw new Error('"'+e+'" is not a registered '+n+".");return i}}var wQ=new _Q;class kQ{constructor(){this._init=[]}notify(e,t,n,i){"beforeInit"===t&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const r=i?this._descriptors(e).filter(i):this._descriptors(e),o=this._notify(r,e,t,n);return"afterDestroy"===t&&(this._notify(r,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,t,n,i){i=i||{};for(const r of e){const e=r.plugin;if(!1===Cm(e[n],[t,i,r.options],e)&&i.cancelable)return!1}return!0}invalidate(){hm(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const n=e&&e.config,i=mm(n.options&&n.options.plugins,{}),r=function(e){const t={},n=[],i=Object.keys(wQ.plugins.items);for(let o=0;o<i.length;o++)n.push(wQ.getPlugin(i[o]));const r=e.plugins||[];for(let o=0;o<r.length;o++){const e=r[o];-1===n.indexOf(e)&&(n.push(e),t[e.id]=!0)}return{plugins:n,localIds:t}}(n);return!1!==i||t?function(e,t,n,i){let{plugins:r,localIds:o}=t;const a=[],s=e.getContext();for(const c of r){const t=c.id,r=DQ(n[t],i);null!==r&&a.push({plugin:c,options:VQ(e.config,{plugin:c,local:o[t]},r,s)})}return a}(e,r,i,t):[]}_notifyStateChanges(e){const t=this._oldCache||[],n=this._cache,i=(e,t)=>e.filter((e=>!t.some((t=>e.plugin.id===t.plugin.id))));this._notify(i(t,n),e,"stop"),this._notify(i(n,t),e,"start")}}function DQ(e,t){return t||!1!==e?!0===e?{}:e:null}function VQ(e,t,n,i){let{plugin:r,local:o}=t;const a=e.pluginScopeKeys(r),s=e.getOptionScopes(n,a);return o&&r.defaults&&s.push(r.defaults),e.createResolver(s,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function ZQ(e,t){const n=kE.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function WQ(e){if("x"===e||"y"===e||"r"===e)return e}function OQ(e){return"top"===e||"bottom"===e?"x":"left"===e||"right"===e?"y":void 0}function JQ(e){if(WQ(e))return e;for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];for(const r of n){const t=r.axis||OQ(r.position)||e.length>1&&WQ(e[0].toLowerCase());if(t)return t}throw new Error("Cannot determine type of '".concat(e,"' axis. Please provide 'axis' or 'position' option."))}function xQ(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function MQ(e,t){const n=BE[e.type]||{scales:{}},i=t.scales||{},r=ZQ(e.type,t),o=Object.create(null);return Object.keys(i).forEach((t=>{const a=i[t];if(!pm(a))return console.error("Invalid scale configuration for scale: ".concat(t));if(a._proxy)return console.warn("Ignoring resolver passed as options for scale: ".concat(t));const s=JQ(t,a,function(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter((t=>t.xAxisID===e||t.yAxisID===e));if(n.length)return xQ(e,"x",n[0])||xQ(e,"y",n[0])}return{}}(t,e),kE.scales[a.type]),c=function(e,t){return e===t?"_index_":"_value_"}(s,r),l=n.scales||{};o[t]=Rm(Object.create(null),[{axis:s},a,l[s],l[c]])})),e.data.datasets.forEach((n=>{const r=n.type||e.type,a=n.indexAxis||ZQ(r,t),s=(BE[r]||{}).scales||{};Object.keys(s).forEach((e=>{const t=function(e,t){let n=e;return"_index_"===e?n=t:"_value_"===e&&(n="x"===t?"y":"x"),n}(e,a),r=n[t+"AxisID"]||t;o[r]=o[r]||Object.create(null),Rm(o[r],[{axis:t},i[r],s[e]])}))})),Object.keys(o).forEach((e=>{const t=o[e];Rm(t,[kE.scales[t.type],kE.scale])})),o}function LQ(e){const t=e.options||(e.options={});t.plugins=mm(t.plugins,{}),t.scales=MQ(e,t)}function PQ(e){return(e=e||{}).datasets=e.datasets||[],e.labels=e.labels||[],e}const GQ=new Map,YQ=new Set;function jQ(e,t){let n=GQ.get(e);return n||(n=t(),GQ.set(e,n),YQ.add(n)),n}const XQ=(e,t,n)=>{const i=Bm(t,n);void 0!==i&&e.add(i)};class KQ{constructor(e){this._config=function(e){return(e=e||{}).data=PQ(e.data),LQ(e),e}(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=PQ(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),LQ(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return jQ(e,(()=>[["datasets.".concat(e),""]]))}datasetAnimationScopeKeys(e,t){return jQ("".concat(e,".transition.").concat(t),(()=>[["datasets.".concat(e,".transitions.").concat(t),"transitions.".concat(t)],["datasets.".concat(e),""]]))}datasetElementScopeKeys(e,t){return jQ("".concat(e,"-").concat(t),(()=>[["datasets.".concat(e,".elements.").concat(t),"datasets.".concat(e),"elements.".concat(t),""]]))}pluginScopeKeys(e){const t=e.id,n=this.type;return jQ("".concat(n,"-plugin-").concat(t),(()=>[["plugins.".concat(t),...e.additionalOptionScopes||[]]]))}_cachedScopes(e,t){const n=this._scopeCache;let i=n.get(e);return i&&!t||(i=new Map,n.set(e,i)),i}getOptionScopes(e,t,n){const{options:i,type:r}=this,o=this._cachedScopes(e,n),a=o.get(t);if(a)return a;const s=new Set;t.forEach((t=>{e&&(s.add(e),t.forEach((t=>XQ(s,e,t)))),t.forEach((e=>XQ(s,i,e))),t.forEach((e=>XQ(s,BE[r]||{},e))),t.forEach((e=>XQ(s,kE,e))),t.forEach((e=>XQ(s,TE,e)))}));const c=Array.from(s);return 0===c.length&&c.push(Object.create(null)),YQ.has(t)&&o.set(t,c),c}chartOptionScopes(){const{options:e,type:t}=this;return[e,BE[t]||{},kE.datasets[t]||{},{type:t},kE,TE]}resolveNamedOptions(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[""];const r={$shared:!0},{resolver:o,subPrefixes:a}=HQ(this._resolverCache,e,i);let s=o;if(function(e,t){const{isScriptable:n,isIndexable:i}=lC(e);for(const r of t){const t=n(r),o=i(r),a=(o||t)&&e[r];if(t&&(_m(a)||zQ(a))||o&&Am(a))return!0}return!1}(o,t)){r.$shared=!1;s=cC(o,n=_m(n)?n():n,this.createResolver(e,n,a))}for(const c of t)r[c]=s[c];return r}createResolver(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[""],i=arguments.length>3?arguments[3]:void 0;const{resolver:r}=HQ(this._resolverCache,e,n);return pm(t)?cC(r,t,void 0,i):r}}function HQ(e,t,n){let i=e.get(t);i||(i=new Map,e.set(t,i));const r=n.join();let o=i.get(r);if(!o){o={resolver:sC(t,n),subPrefixes:n.filter((e=>!e.toLowerCase().includes("hover")))},i.set(r,o)}return o}const zQ=e=>pm(e)&&Object.getOwnPropertyNames(e).some((t=>_m(e[t])));const qQ=["top","bottom","left","right","chartArea"];function $Q(e,t){return"top"===e||"bottom"===e||-1===qQ.indexOf(e)&&"x"===t}function eU(e,t){return function(n,i){return n[e]===i[e]?n[t]-i[t]:n[e]-i[e]}}function tU(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),Cm(n&&n.onComplete,[e],t)}function nU(e){const t=e.chart,n=t.options.animation;Cm(n&&n.onProgress,[e],t)}function iU(e){return FC()&&"string"===typeof e?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const rU={},oU=e=>{const t=iU(e);return Object.values(rU).filter((e=>e.canvas===t)).pop()};function aU(e,t,n){const i=Object.keys(e);for(const r of i){const i=+r;if(i>=t){const o=e[r];delete e[r],(n>0||i>t)&&(e[i+n]=o)}}}function sU(e,t,n){return e.options.clip?e[n]:t[n]}class cU{static register(){wQ.add(...arguments),lU()}static unregister(){wQ.remove(...arguments),lU()}constructor(e,t){const n=this.config=new KQ(t),i=iU(e),r=oU(i);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const o=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||function(e){return!FC()||"undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas?rQ:CQ}(i)),this.platform.updateConfig(n);const a=this.platform.acquireContext(i,o.aspectRatio),s=a&&a.canvas,c=s&&s.height,l=s&&s.width;this.id=um(),this.ctx=a,this.canvas=s,this.width=l,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new kQ,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(e,t){let n;return function(){for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return t?(clearTimeout(n),n=setTimeout(e,t,r)):e.apply(this,r),t}}((e=>this.update(e)),o.resizeDelay||0),this._dataChanges=[],rU[this.id]=this,a&&s?(tI.listen(this,"complete",tU),tI.listen(this,"progress",nU),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:n,height:i,_aspectRatio:r}=this;return hm(e)?t&&r?r:i?n/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return wQ}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():WC(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return WE(this.canvas,this.ctx),this}stop(){return tI.stop(this),this}resize(e,t){tI.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const n=this.options,i=this.canvas,r=n.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,e,t,r),a=n.devicePixelRatio||this.platform.getDevicePixelRatio(),s=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,WC(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),Cm(n.onResize,[this,o],this),this.attached&&this._doResize(s)&&this.render())}ensureScalesHaveIDs(){Im(this.options.scales||{},((e,t)=>{e.id=t}))}buildOrUpdateScales(){const e=this.options,t=e.scales,n=this.scales,i=Object.keys(n).reduce(((e,t)=>(e[t]=!1,e)),{});let r=[];t&&(r=r.concat(Object.keys(t).map((e=>{const n=t[e],i=JQ(e,n),r="r"===i,o="x"===i;return{options:n,dposition:r?"chartArea":o?"bottom":"left",dtype:r?"radialLinear":o?"category":"linear"}})))),Im(r,(t=>{const r=t.options,o=r.id,a=JQ(o,r),s=mm(r.type,t.dtype);void 0!==r.position&&$Q(r.position,a)===$Q(t.dposition)||(r.position=t.dposition),i[o]=!0;let c=null;if(o in n&&n[o].type===s)c=n[o];else{c=new(wQ.getScale(s))({id:o,type:s,ctx:this.ctx,chart:this}),n[c.id]=c}c.init(r,e)})),Im(i,((e,t)=>{e||delete n[t]})),Im(n,(e=>{nQ.configure(this,e,e.options),nQ.addBox(this,e)}))}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,n=e.length;if(e.sort(((e,t)=>e.index-t.index)),n>t){for(let e=t;e<n;++e)this._destroyDatasetMeta(e);e.splice(t,n-t)}this._sortedMetasets=e.slice(0).sort(eU("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach(((e,n)=>{0===t.filter((t=>t===e._dataset)).length&&this._destroyDatasetMeta(n)}))}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let n,i;for(this._removeUnreferencedMetasets(),n=0,i=t.length;n<i;n++){const i=t[n];let r=this.getDatasetMeta(n);const o=i.type||this.config.type;if(r.type&&r.type!==o&&(this._destroyDatasetMeta(n),r=this.getDatasetMeta(n)),r.type=o,r.indexAxis=i.indexAxis||ZQ(o,this.options),r.order=i.order||0,r.index=n,r.label=""+i.label,r.visible=this.isDatasetVisible(n),r.controller)r.controller.updateIndex(n),r.controller.linkScales();else{const t=wQ.getController(o),{datasetElementType:i,dataElementType:a}=kE.datasets[o];Object.assign(t,{dataElementType:wQ.getElement(a),datasetElementType:i&&wQ.getElement(i)}),r.controller=new t(this,n),e.push(r.controller)}}return this._updateMetasets(),e}_resetElements(){Im(this.data.datasets,((e,t)=>{this.getDatasetMeta(t).controller.reset()}),this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const n=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0}))return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,l=this.data.datasets.length;c<l;c++){const{controller:e}=this.getDatasetMeta(c),t=!i&&-1===r.indexOf(e);e.buildOrUpdateElements(t),o=Math.max(+e.getMaxOverflow(),o)}o=this._minPadding=n.layout.autoPadding?o:0,this._updateLayout(o),i||Im(r,(e=>{e.reset()})),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(eU("z","_idx"));const{_active:a,_lastEvent:s}=this;s?this._eventHandler(s,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){Im(this.scales,(e=>{nQ.removeBox(this,e)})),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),n=new Set(e.events);wm(t,n)&&!!this._responsiveListeners===e.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:n,start:i,count:r}of t){aU(e,i,"_removeElements"===n?-r:r)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,n=t=>new Set(e.filter((e=>e[0]===t)).map(((e,t)=>t+","+e.splice(1).join(",")))),i=n(0);for(let r=1;r<t;r++)if(!wm(i,n(r)))return;return Array.from(i).map((e=>e.split(","))).map((e=>({method:e[1],start:+e[2],count:+e[3]})))}_updateLayout(e){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;nQ.update(this,this.width,this.height,e);const t=this.chartArea,n=t.width<=0||t.height<=0;this._layers=[],Im(this.boxes,(e=>{n&&"chartArea"===e.position||(e.configure&&e.configure(),this._layers.push(...e._layers()))}),this),this._layers.forEach(((e,t)=>{e._idx=t})),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(let e=0,t=this.data.datasets.length;e<t;++e)this.getDatasetMeta(e).controller.configure();for(let t=0,n=this.data.datasets.length;t<n;++t)this._updateDataset(t,_m(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const n=this.getDatasetMeta(e),i={meta:n,index:e,mode:t,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",i)&&(n.controller._update(t),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(tI.has(this)?this.attached&&!tI.running(this)&&tI.start(this):(this.draw(),tU({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:e,height:t}=this._resizeBeforeDraw;this._resize(e,t),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,n=[];let i,r;for(i=0,r=t.length;i<r;++i){const r=t[i];e&&!r.visible||n.push(r)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,n=e._clip,i=!n.disabled,r=function(e,t){const{xScale:n,yScale:i}=e;return n&&i?{left:sU(n,t,"left"),right:sU(n,t,"right"),top:sU(i,t,"top"),bottom:sU(i,t,"bottom")}:t}(e,this.chartArea),o={meta:e,index:e.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",o)&&(i&&ME(t,{left:!1===n.left?0:r.left-n.left,right:!1===n.right?this.width:r.right+n.right,top:!1===n.top?0:r.top-n.top,bottom:!1===n.bottom?this.height:r.bottom+n.bottom}),e.controller.draw(),i&&LE(t),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(e){return xE(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,n,i){const r=LI.modes[t];return"function"===typeof r?r(this,e,n,i):[]}getDatasetMeta(e){const t=this.data.datasets[e],n=this._metasets;let i=n.filter((e=>e&&e._dataset===t)).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},n.push(i)),i}getContext(){return this.$context||(this.$context=aC(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const n=this.getDatasetMeta(e);return"boolean"===typeof n.hidden?!n.hidden:!t.hidden}setDatasetVisibility(e,t){this.getDatasetMeta(e).hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,n){const i=n?"show":"hide",r=this.getDatasetMeta(e),o=r.controller._resolveAnimations(void 0,i);Nm(t)?(r.data[t].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),o.update(r,{visible:n}),this.update((t=>t.datasetIndex===e?i:void 0)))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),tI.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),WE(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete rU[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(){return this.canvas.toDataURL(...arguments)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,n=(n,i)=>{t.addEventListener(this,n,i),e[n]=i},i=(e,t,n)=>{e.offsetX=t,e.offsetY=n,this._eventHandler(e)};Im(this.options.events,(e=>n(e,i)))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,n=(n,i)=>{t.addEventListener(this,n,i),e[n]=i},i=(n,i)=>{e[n]&&(t.removeEventListener(this,n,i),delete e[n])},r=(e,t)=>{this.canvas&&this.resize(e,t)};let o;const a=()=>{i("attach",a),this.attached=!0,this.resize(),n("resize",r),n("detach",o)};o=()=>{this.attached=!1,i("resize",r),this._stop(),this._resize(0,0),n("attach",a)},t.isAttached(this.canvas)?a():o()}unbindEvents(){Im(this._listeners,((e,t)=>{this.platform.removeEventListener(this,t,e)})),this._listeners={},Im(this._responsiveListeners,((e,t)=>{this.platform.removeEventListener(this,t,e)})),this._responsiveListeners=void 0}updateHoverStyle(e,t,n){const i=n?"set":"remove";let r,o,a,s;for("dataset"===t&&(r=this.getDatasetMeta(e[0].datasetIndex),r.controller["_"+i+"DatasetHoverStyle"]()),a=0,s=e.length;a<s;++a){o=e[a];const t=o&&this.getDatasetMeta(o.datasetIndex).controller;t&&t[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],n=e.map((e=>{let{datasetIndex:t,index:n}=e;const i=this.getDatasetMeta(t);if(!i)throw new Error("No dataset found at index "+t);return{datasetIndex:t,element:i.data[n],index:n}}));!Qm(n,t)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,t))}notifyPlugins(e,t,n){return this._plugins.notify(this,e,t,n)}isPluginEnabled(e){return 1===this._plugins._cache.filter((t=>t.plugin.id===e)).length}_updateHoverStyles(e,t,n){const i=this.options.hover,r=(e,t)=>e.filter((e=>!t.some((t=>e.datasetIndex===t.datasetIndex&&e.index===t.index)))),o=r(t,e),a=n?e:r(e,t);o.length&&this.updateHoverStyle(o,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(e,t){const n={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},i=t=>(t.options.events||this.options.events).includes(e.native.type);if(!1===this.notifyPlugins("beforeEvent",n,i))return;const r=this._handleEvent(e,t,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,i),(r||n.changed)&&this.render(),this}_handleEvent(e,t,n){const{_active:i=[],options:r}=this,o=t,a=this._getActiveElements(e,i,n,o),s=function(e){return"mouseup"===e.type||"click"===e.type||"contextmenu"===e.type}(e),c=function(e,t,n,i){return n&&"mouseout"!==e.type?i?t:e:null}(e,this._lastEvent,n,s);n&&(this._lastEvent=null,Cm(r.onHover,[e,a,this],this),s&&Cm(r.onClick,[e,a,this],this));const l=!Qm(a,i);return(l||t)&&(this._active=a,this._updateHoverStyles(a,i,t)),this._lastEvent=c,l}_getActiveElements(e,t,n,i){if("mouseout"===e.type)return[];if(!n)return t;const r=this.options.hover;return this.getElementsAtEventForMode(e,r.mode,r,i)}}function lU(){return Im(cU.instances,(e=>e._plugins.invalidate()))}function dU(e,t,n,i){const r=eC(e.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"]);const o=(n-t)/2,a=Math.min(o,i*t/2),s=e=>{const t=(n-Math.min(o,e))*i/2;return nE(e,0,Math.min(o,t))};return{outerStart:s(r.outerStart),outerEnd:s(r.outerEnd),innerStart:nE(r.innerStart,0,a),innerEnd:nE(r.innerEnd,0,a)}}function uU(e,t,n,i){return{x:n+e*Math.cos(t),y:i+e*Math.sin(t)}}function hU(e,t,n,i,r,o){const{x:a,y:s,startAngle:c,pixelMargin:l,innerRadius:d}=t,u=Math.max(t.outerRadius+i+n-l,0),h=d>0?d+i+n+l:0;let A=0;const p=r-c;if(i){const e=((d>0?d-i:0)+(u>0?u-i:0))/2;A=(p-(0!==e?p*e/(e+i):p))/2}const g=(p-Math.max(.001,p*u-n/km)/u)/2,f=c+g+A,m=r-g-A,{outerStart:E,outerEnd:C,innerStart:I,innerEnd:Q}=dU(t,h,u,m-f),U=u-E,y=u-C,b=f+E/U,v=m-C/y,R=h+I,S=h+Q,F=f+I/R,B=m-Q/S;if(e.beginPath(),o){const t=(b+v)/2;if(e.arc(a,s,u,b,t),e.arc(a,s,u,t,v),C>0){const t=uU(y,v,a,s);e.arc(t.x,t.y,C,v,m+Om)}const n=uU(S,m,a,s);if(e.lineTo(n.x,n.y),Q>0){const t=uU(S,B,a,s);e.arc(t.x,t.y,Q,m+Om,B+Math.PI)}const i=(m-Q/h+(f+I/h))/2;if(e.arc(a,s,h,m-Q/h,i,!0),e.arc(a,s,h,i,f+I/h,!0),I>0){const t=uU(R,F,a,s);e.arc(t.x,t.y,I,F+Math.PI,f-Om)}const r=uU(U,f,a,s);if(e.lineTo(r.x,r.y),E>0){const t=uU(U,b,a,s);e.arc(t.x,t.y,E,f-Om,b)}}else{e.moveTo(a,s);const t=Math.cos(b)*u+a,n=Math.sin(b)*u+s;e.lineTo(t,n);const i=Math.cos(v)*u+a,r=Math.sin(v)*u+s;e.lineTo(i,r)}e.closePath()}function AU(e,t,n,i,r){const{fullCircles:o,startAngle:a,circumference:s,options:c}=t,{borderWidth:l,borderJoinStyle:d,borderDash:u,borderDashOffset:h}=c,A="inner"===c.borderAlign;if(!l)return;e.setLineDash(u||[]),e.lineDashOffset=h,A?(e.lineWidth=2*l,e.lineJoin=d||"round"):(e.lineWidth=l,e.lineJoin=d||"bevel");let p=t.endAngle;if(o){hU(e,t,n,i,p,r);for(let t=0;t<o;++t)e.stroke();isNaN(s)||(p=a+(s%Dm||Dm))}A&&function(e,t,n){const{startAngle:i,pixelMargin:r,x:o,y:a,outerRadius:s,innerRadius:c}=t;let l=r/s;e.beginPath(),e.arc(o,a,s,i-l,n+l),c>r?(l=r/c,e.arc(o,a,c,n+l,i-l,!0)):e.arc(o,a,r,n+Om,i-Om),e.closePath(),e.clip()}(e,t,p),o||(hU(e,t,n,i,p,r),e.stroke())}On(cU,"defaults",kE),On(cU,"instances",rU),On(cU,"overrides",BE),On(cU,"registry",wQ),On(cU,"version","4.4.1"),On(cU,"getChart",oU);class pU extends IQ{constructor(e){super(),On(this,"circumference",void 0),On(this,"endAngle",void 0),On(this,"fullCircles",void 0),On(this,"innerRadius",void 0),On(this,"outerRadius",void 0),On(this,"pixelMargin",void 0),On(this,"startAngle",void 0),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,n){const i=this.getProps(["x","y"],n),{angle:r,distance:o}=zm(i,{x:e,y:t}),{startAngle:a,endAngle:s,innerRadius:c,outerRadius:l,circumference:d}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),u=(this.options.spacing+this.options.borderWidth)/2,h=mm(d,s-a)>=Dm||tE(r,a,s),A=iE(o,c+u,l+u);return h&&A}getCenterPoint(e){const{x:t,y:n,startAngle:i,endAngle:r,innerRadius:o,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:s,spacing:c}=this.options,l=(i+r)/2,d=(o+a+c+s)/2;return{x:t+Math.cos(l)*d,y:n+Math.sin(l)*d}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:n}=this,i=(t.offset||0)/4,r=(t.spacing||0)/2,o=t.circular;if(this.pixelMargin="inner"===t.borderAlign?.33:0,this.fullCircles=n>Dm?Math.floor(n/Dm):0,0===n||this.innerRadius<0||this.outerRadius<0)return;e.save();const a=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(a)*i,Math.sin(a)*i);const s=i*(1-Math.sin(Math.min(km,n||0)));e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,function(e,t,n,i,r){const{fullCircles:o,startAngle:a,circumference:s}=t;let c=t.endAngle;if(o){hU(e,t,n,i,c,r);for(let t=0;t<o;++t)e.fill();isNaN(s)||(c=a+(s%Dm||Dm))}hU(e,t,n,i,c,r),e.fill()}(e,this,s,r,o),AU(e,this,s,r,o),e.restore()}}function gU(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;e.lineCap=mm(n.borderCapStyle,t.borderCapStyle),e.setLineDash(mm(n.borderDash,t.borderDash)),e.lineDashOffset=mm(n.borderDashOffset,t.borderDashOffset),e.lineJoin=mm(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=mm(n.borderWidth,t.borderWidth),e.strokeStyle=mm(n.borderColor,t.borderColor)}function fU(e,t,n){e.lineTo(n.x,n.y)}function mU(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=e.length,{start:r=0,end:o=i-1}=n,{start:a,end:s}=t,c=Math.max(r,a),l=Math.min(o,s),d=r<a&&o<a||r>s&&o>s;return{count:i,start:c,loop:t.loop,ilen:l<c&&!d?i+l-c:l-c}}function EU(e,t,n,i){const{points:r,options:o}=t,{count:a,start:s,loop:c,ilen:l}=mU(r,n,i),d=function(e){return e.stepped?PE:e.tension||"monotone"===e.cubicInterpolationMode?GE:fU}(o);let u,h,A,{move:p=!0,reverse:g}=i||{};for(u=0;u<=l;++u)h=r[(s+(g?l-u:u))%a],h.skip||(p?(e.moveTo(h.x,h.y),p=!1):d(e,A,h,g,o.stepped),A=h);return c&&(h=r[(s+(g?l:0))%a],d(e,A,h,g,o.stepped)),!!c}function CU(e,t,n,i){const r=t.points,{count:o,start:a,ilen:s}=mU(r,n,i),{move:c=!0,reverse:l}=i||{};let d,u,h,A,p,g,f=0,m=0;const E=e=>(a+(l?s-e:e))%o,C=()=>{A!==p&&(e.lineTo(f,p),e.lineTo(f,A),e.lineTo(f,g))};for(c&&(u=r[E(0)],e.moveTo(u.x,u.y)),d=0;d<=s;++d){if(u=r[E(d)],u.skip)continue;const t=u.x,n=u.y,i=0|t;i===h?(n<A?A=n:n>p&&(p=n),f=(m*f+t)/++m):(C(),e.lineTo(t,n),h=i,m=0,A=p=n),g=n}C()}function IU(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&"monotone"!==t.cubicInterpolationMode&&!t.stepped&&!n?CU:EU}On(pU,"id","arc"),On(pU,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),On(pU,"defaultRoutes",{backgroundColor:"backgroundColor"}),On(pU,"descriptors",{_scriptable:!0,_indexable:e=>"borderDash"!==e});const QU="function"===typeof Path2D;function UU(e,t,n,i){QU&&!t.options.segment?function(e,t,n,i){let r=t._path;r||(r=t._path=new Path2D,t.path(r,n,i)&&r.closePath()),gU(e,t.options),e.stroke(r)}(e,t,n,i):function(e,t,n,i){const{segments:r,options:o}=t,a=IU(t);for(const s of r)gU(e,o,s.style),e.beginPath(),a(e,t,s,{start:n,end:n+i-1})&&e.closePath(),e.stroke()}(e,t,n,i)}class yU extends IQ{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const n=this.options;if((n.tension||"monotone"===n.cubicInterpolationMode)&&!n.stepped&&!this._pointsUpdated){const i=n.spanGaps?this._loop:this._fullLoop;SC(this._points,n,e,i,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function(e,t){const n=e.points,i=e.options.spanGaps,r=n.length;if(!r)return[];const o=!!e._loop,{start:a,end:s}=function(e,t,n,i){let r=0,o=t-1;if(n&&!i)for(;r<t&&!e[r].skip;)r++;for(;r<t&&e[r].skip;)r++;for(r%=t,n&&(o+=r);o>r&&e[o%t].skip;)o--;return o%=t,{start:r,end:o}}(n,r,o,i);return zC(e,!0===i?[{start:a,end:s,loop:o}]:function(e,t,n,i){const r=e.length,o=[];let a,s=t,c=e[t];for(a=t+1;a<=n;++a){const n=e[a%r];n.skip||n.stop?c.skip||(i=!1,o.push({start:t%r,end:(a-1)%r,loop:i}),t=s=n.stop?a:null):(s=a,c.skip&&(t=a)),c=n}return null!==s&&o.push({start:t%r,end:s%r,loop:i}),o}(n,a,s<a?s+r:s,!!e._fullLoop&&0===a&&s===r-1),n,t)}(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,n=e.length;return n&&t[e[n-1].end]}interpolate(e,t){const n=this.options,i=e[t],r=this.points,o=HC(this,{property:t,start:i,end:i});if(!o.length)return;const a=[],s=function(e){return e.stepped?MC:e.tension||"monotone"===e.cubicInterpolationMode?LC:xC}(n);let c,l;for(c=0,l=o.length;c<l;++c){const{start:l,end:d}=o[c],u=r[l],h=r[d];if(u===h){a.push(u);continue}const A=s(u,h,Math.abs((i-u[t])/(h[t]-u[t])),n.stepped);A[t]=e[t],a.push(A)}return 1===a.length?a[0]:a}pathSegment(e,t,n){return IU(this)(e,this,t,n)}path(e,t,n){const i=this.segments,r=IU(this);let o=this._loop;t=t||0,n=n||this.points.length-t;for(const a of i)o&=r(e,this,a,{start:t,end:t+n-1});return!!o}draw(e,t,n,i){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(e.save(),UU(e,this,n,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function bU(e,t,n,i){const r=e.options,{[n]:o}=e.getProps([n],i);return Math.abs(t-o)<r.radius+r.hitRadius}On(yU,"id","line"),On(yU,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),On(yU,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),On(yU,"descriptors",{_scriptable:!0,_indexable:e=>"borderDash"!==e&&"fill"!==e});class vU extends IQ{constructor(e){super(),On(this,"parsed",void 0),On(this,"skip",void 0),On(this,"stop",void 0),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,n){const i=this.options,{x:r,y:o}=this.getProps(["x","y"],n);return Math.pow(e-r,2)+Math.pow(t-o,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(e,t){return bU(this,e,"x",t)}inYRange(e,t){return bU(this,e,"y",t)}getCenterPoint(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}size(e){let t=(e=e||this.options||{}).radius||0;t=Math.max(t,t&&e.hoverRadius||0);return 2*(t+(t&&e.borderWidth||0))}draw(e,t){const n=this.options;this.skip||n.radius<.1||!xE(this,t,this.size(n)/2)||(e.strokeStyle=n.borderColor,e.lineWidth=n.borderWidth,e.fillStyle=n.backgroundColor,OE(e,n,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function RU(e,t){const{x:n,y:i,base:r,width:o,height:a}=e.getProps(["x","y","base","width","height"],t);let s,c,l,d,u;return e.horizontal?(u=a/2,s=Math.min(n,r),c=Math.max(n,r),l=i-u,d=i+u):(u=o/2,s=n-u,c=n+u,l=Math.min(i,r),d=Math.max(i,r)),{left:s,top:l,right:c,bottom:d}}function SU(e,t,n,i){return e?0:nE(t,n,i)}function FU(e){const t=RU(e),n=t.right-t.left,i=t.bottom-t.top,r=function(e,t,n){const i=e.options.borderWidth,r=e.borderSkipped,o=tC(i);return{t:SU(r.top,o.top,0,n),r:SU(r.right,o.right,0,t),b:SU(r.bottom,o.bottom,0,n),l:SU(r.left,o.left,0,t)}}(e,n/2,i/2),o=function(e,t,n){const{enableBorderRadius:i}=e.getProps(["enableBorderRadius"]),r=e.options.borderRadius,o=nC(r),a=Math.min(t,n),s=e.borderSkipped,c=i||pm(r);return{topLeft:SU(!c||s.top||s.left,o.topLeft,0,a),topRight:SU(!c||s.top||s.right,o.topRight,0,a),bottomLeft:SU(!c||s.bottom||s.left,o.bottomLeft,0,a),bottomRight:SU(!c||s.bottom||s.right,o.bottomRight,0,a)}}(e,n/2,i/2);return{outer:{x:t.left,y:t.top,w:n,h:i,radius:o},inner:{x:t.left+r.l,y:t.top+r.t,w:n-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,o.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(r.b,r.r))}}}}function BU(e,t,n,i){const r=null===t,o=null===n,a=e&&!(r&&o)&&RU(e,i);return a&&(r||iE(t,a.left,a.right))&&(o||iE(n,a.top,a.bottom))}function TU(e,t){e.rect(t.x,t.y,t.w,t.h)}function NU(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=e.x!==n.x?-t:0,r=e.y!==n.y?-t:0,o=(e.x+e.w!==n.x+n.w?t:0)-i,a=(e.y+e.h!==n.y+n.h?t:0)-r;return{x:e.x+i,y:e.y+r,w:e.w+o,h:e.h+a,radius:e.radius}}On(vU,"id","point"),On(vU,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),On(vU,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});class _U extends IQ{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:n,backgroundColor:i}}=this,{inner:r,outer:o}=FU(this),a=(s=o.radius).topLeft||s.topRight||s.bottomLeft||s.bottomRight?KE:TU;var s;e.save(),o.w===r.w&&o.h===r.h||(e.beginPath(),a(e,NU(o,t,r)),e.clip(),a(e,NU(r,-t,o)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),a(e,NU(r,t)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,t,n){return BU(this,e,t,n)}inXRange(e,t){return BU(this,e,null,t)}inYRange(e,t){return BU(this,null,e,t)}getCenterPoint(e){const{x:t,y:n,base:i,horizontal:r}=this.getProps(["x","y","base","horizontal"],e);return{x:r?(t+i)/2:t,y:r?n:(n+i)/2}}getRange(e){return"x"===e?this.width/2:this.height/2}}On(_U,"id","bar"),On(_U,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),On(_U,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const wU=(e,t)=>{let{boxHeight:n=t,boxWidth:i=t}=e;return e.usePointStyle&&(n=Math.min(n,t),i=e.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(t,n)}};class kU extends IQ{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,n){this.maxWidth=e,this.maxHeight=t,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=Cm(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter((t=>e.filter(t,this.chart.data)))),e.sort&&(t=t.sort(((t,n)=>e.sort(t,n,this.chart.data)))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display)return void(this.width=this.height=0);const n=e.labels,i=rC(n.font),r=i.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:s}=wU(n,r);let c,l;t.font=i.string,this.isHorizontal()?(c=this.maxWidth,l=this._fitRows(o,r,a,s)+10):(l=this.maxHeight,c=this._fitCols(o,i,a,s)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(l,e.maxHeight||this.maxHeight)}_fitRows(e,t,n,i){const{ctx:r,maxWidth:o,options:{labels:{padding:a}}}=this,s=this.legendHitBoxes=[],c=this.lineWidths=[0],l=i+a;let d=e;r.textAlign="left",r.textBaseline="middle";let u=-1,h=-l;return this.legendItems.forEach(((e,A)=>{const p=n+t/2+r.measureText(e.text).width;(0===A||c[c.length-1]+p+2*a>o)&&(d+=l,c[c.length-(A>0?0:1)]=0,h+=l,u++),s[A]={left:0,top:h,row:u,width:p,height:i},c[c.length-1]+=p+a})),d}_fitCols(e,t,n,i){const{ctx:r,maxHeight:o,options:{labels:{padding:a}}}=this,s=this.legendHitBoxes=[],c=this.columnSizes=[],l=o-e;let d=a,u=0,h=0,A=0,p=0;return this.legendItems.forEach(((e,o)=>{const{itemWidth:g,itemHeight:f}=function(e,t,n,i,r){const o=function(e,t,n,i){let r=e.text;r&&"string"!==typeof r&&(r=r.reduce(((e,t)=>e.length>t.length?e:t)));return t+n.size/2+i.measureText(r).width}(i,e,t,n),a=function(e,t,n){let i=e;"string"!==typeof t.text&&(i=DU(t,n));return i}(r,i,t.lineHeight);return{itemWidth:o,itemHeight:a}}(n,t,r,e,i);o>0&&h+f+2*a>l&&(d+=u+a,c.push({width:u,height:h}),A+=u+a,p++,u=h=0),s[o]={left:A,top:h,col:p,width:g,height:f},u=Math.max(u,g),h+=f+a})),d+=u,c.push({width:u,height:h}),d}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:n,labels:{padding:i},rtl:r}}=this,o=PC(r,this.left,this.width);if(this.isHorizontal()){let r=0,a=AE(n,this.left+i,this.right-this.lineWidths[r]);for(const s of t)r!==s.row&&(r=s.row,a=AE(n,this.left+i,this.right-this.lineWidths[r])),s.top+=this.top+e+i,s.left=o.leftForLtr(o.x(a),s.width),a+=s.width+i}else{let r=0,a=AE(n,this.top+e+i,this.bottom-this.columnSizes[r].height);for(const s of t)s.col!==r&&(r=s.col,a=AE(n,this.top+e+i,this.bottom-this.columnSizes[r].height)),s.top=a,s.left+=this.left+i,s.left=o.leftForLtr(o.x(s.left),s.width),a+=s.height+i}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const e=this.ctx;ME(e,this),this._draw(),LE(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:n,ctx:i}=this,{align:r,labels:o}=e,a=kE.color,s=PC(e.rtl,this.left,this.width),c=rC(o.font),{padding:l}=o,d=c.size,u=d/2;let h;this.drawTitle(),i.textAlign=s.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=c.string;const{boxWidth:A,boxHeight:p,itemHeight:g}=wU(o,d),f=this.isHorizontal(),m=this._computeTitleHeight();h=f?{x:AE(r,this.left+l,this.right-n[0]),y:this.top+l+m,line:0}:{x:this.left+l,y:AE(r,this.top+m+l,this.bottom-t[0].height),line:0},GC(this.ctx,e.textDirection);const E=g+l;this.legendItems.forEach(((C,I)=>{i.strokeStyle=C.fontColor,i.fillStyle=C.fontColor;const Q=i.measureText(C.text).width,U=s.textAlign(C.textAlign||(C.textAlign=o.textAlign)),y=A+u+Q;let b=h.x,v=h.y;s.setWidth(this.width),f?I>0&&b+y+l>this.right&&(v=h.y+=E,h.line++,b=h.x=AE(r,this.left+l,this.right-n[h.line])):I>0&&v+E>this.bottom&&(b=h.x=b+t[h.line].width+l,h.line++,v=h.y=AE(r,this.top+m+l,this.bottom-t[h.line].height));if(function(e,t,n){if(isNaN(A)||A<=0||isNaN(p)||p<0)return;i.save();const r=mm(n.lineWidth,1);if(i.fillStyle=mm(n.fillStyle,a),i.lineCap=mm(n.lineCap,"butt"),i.lineDashOffset=mm(n.lineDashOffset,0),i.lineJoin=mm(n.lineJoin,"miter"),i.lineWidth=r,i.strokeStyle=mm(n.strokeStyle,a),i.setLineDash(mm(n.lineDash,[])),o.usePointStyle){const a={radius:p*Math.SQRT2/2,pointStyle:n.pointStyle,rotation:n.rotation,borderWidth:r},c=s.xPlus(e,A/2);JE(i,a,c,t+u,o.pointStyleWidth&&A)}else{const o=t+Math.max((d-p)/2,0),a=s.leftForLtr(e,A),c=nC(n.borderRadius);i.beginPath(),Object.values(c).some((e=>0!==e))?KE(i,{x:a,y:o,w:A,h:p,radius:c}):i.rect(a,o,A,p),i.fill(),0!==r&&i.stroke()}i.restore()}(s.x(b),v,C),b=((e,t,n,i)=>e===(i?"left":"right")?n:"center"===e?(t+n)/2:t)(U,b+A+u,f?b+y:this.right,e.rtl),function(e,t,n){XE(i,n.text,e,t+g/2,c,{strikethrough:n.hidden,textAlign:s.textAlign(n.textAlign)})}(s.x(b),v,C),f)h.x+=y+l;else if("string"!==typeof C.text){const e=c.lineHeight;h.y+=DU(C,e)+l}else h.y+=E})),YC(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,n=rC(t.font),i=iC(t.padding);if(!t.display)return;const r=PC(e.rtl,this.left,this.width),o=this.ctx,a=t.position,s=n.size/2,c=i.top+s;let l,d=this.left,u=this.width;if(this.isHorizontal())u=Math.max(...this.lineWidths),l=this.top+c,d=AE(e.align,d,this.right-u);else{const t=this.columnSizes.reduce(((e,t)=>Math.max(e,t.height)),0);l=c+AE(e.align,this.top,this.bottom-t-e.labels.padding-this._computeTitleHeight())}const h=AE(a,d,d+u);o.textAlign=r.textAlign(hE(a)),o.textBaseline="middle",o.strokeStyle=t.color,o.fillStyle=t.color,o.font=n.string,XE(o,t.text,h,l,n)}_computeTitleHeight(){const e=this.options.title,t=rC(e.font),n=iC(e.padding);return e.display?t.lineHeight+n.height:0}_getLegendItemAt(e,t){let n,i,r;if(iE(e,this.left,this.right)&&iE(t,this.top,this.bottom))for(r=this.legendHitBoxes,n=0;n<r.length;++n)if(i=r[n],iE(e,i.left,i.left+i.width)&&iE(t,i.top,i.top+i.height))return this.legendItems[n];return null}handleEvent(e){const t=this.options;if(!function(e,t){if(("mousemove"===e||"mouseout"===e)&&(t.onHover||t.onLeave))return!0;if(t.onClick&&("click"===e||"mouseup"===e))return!0;return!1}(e.type,t))return;const n=this._getLegendItemAt(e.x,e.y);if("mousemove"===e.type||"mouseout"===e.type){const i=this._hoveredItem,r=((e,t)=>null!==e&&null!==t&&e.datasetIndex===t.datasetIndex&&e.index===t.index)(i,n);i&&!r&&Cm(t.onLeave,[e,i,this],this),this._hoveredItem=n,n&&!r&&Cm(t.onHover,[e,n,this],this)}else n&&Cm(t.onClick,[e,n,this],this)}}function DU(e,t){return t*(e.text?e.text.length:0)}var VU={id:"legend",_element:kU,start(e,t,n){const i=e.legend=new kU({ctx:e.ctx,options:n,chart:e});nQ.configure(e,i,n),nQ.addBox(e,i)},stop(e){nQ.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const i=e.legend;nQ.configure(e,i,n),i.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const i=t.datasetIndex,r=n.chart;r.isDatasetVisible(i)?(r.hide(i),t.hidden=!0):(r.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:r,color:o,useBorderRadius:a,borderRadius:s}}=e.legend.options;return e._getSortedDatasetMetas().map((e=>{const c=e.controller.getStyle(n?0:void 0),l=iC(c.borderWidth);return{text:t[e.index].label,fillStyle:c.backgroundColor,fontColor:o,hidden:!e.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(l.width+l.height)/4,strokeStyle:c.borderColor,pointStyle:i||c.pointStyle,rotation:c.rotation,textAlign:r||c.textAlign,borderRadius:a&&(s||c.borderRadius),datasetIndex:e.index}}),this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class ZU extends IQ{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const n=this.options;if(this.left=0,this.top=0,!n.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=e,this.height=this.bottom=t;const i=Am(n.text)?n.text.length:1;this._padding=iC(n.padding);const r=i*rC(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const e=this.options.position;return"top"===e||"bottom"===e}_drawArgs(e){const{top:t,left:n,bottom:i,right:r,options:o}=this,a=o.align;let s,c,l,d=0;return this.isHorizontal()?(c=AE(a,n,r),l=t+e,s=r-n):("left"===o.position?(c=n+e,l=AE(a,i,t),d=-.5*km):(c=r-e,l=AE(a,t,i),d=.5*km),s=i-t),{titleX:c,titleY:l,maxWidth:s,rotation:d}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const n=rC(t.font),i=n.lineHeight/2+this._padding.top,{titleX:r,titleY:o,maxWidth:a,rotation:s}=this._drawArgs(i);XE(e,t.text,0,0,n,{color:t.color,maxWidth:a,rotation:s,textAlign:hE(t.align),textBaseline:"middle",translation:[r,o]})}}var WU={id:"title",_element:ZU,start(e,t,n){!function(e,t){const n=new ZU({ctx:e.ctx,options:t,chart:e});nQ.configure(e,n,t),nQ.addBox(e,n),e.titleBlock=n}(e,n)},stop(e){const t=e.titleBlock;nQ.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const i=e.titleBlock;nQ.configure(e,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};new WeakMap;const OU={average(e){if(!e.length)return!1;let t,n,i=0,r=0,o=0;for(t=0,n=e.length;t<n;++t){const n=e[t].element;if(n&&n.hasValue()){const e=n.tooltipPosition();i+=e.x,r+=e.y,++o}}return{x:i/o,y:r/o}},nearest(e,t){if(!e.length)return!1;let n,i,r,o=t.x,a=t.y,s=Number.POSITIVE_INFINITY;for(n=0,i=e.length;n<i;++n){const i=e[n].element;if(i&&i.hasValue()){const e=qm(t,i.getCenterPoint());e<s&&(s=e,r=i)}}if(r){const e=r.tooltipPosition();o=e.x,a=e.y}return{x:o,y:a}}};function JU(e,t){return t&&(Am(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function xU(e){return("string"===typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function MU(e,t){const{element:n,datasetIndex:i,index:r}=t,o=e.getDatasetMeta(i).controller,{label:a,value:s}=o.getLabelAndValue(r);return{chart:e,label:a,parsed:o.getParsed(r),raw:e.data.datasets[i].data[r],formattedValue:s,dataset:o.getDataset(),dataIndex:r,datasetIndex:i,element:n}}function LU(e,t){const n=e.chart.ctx,{body:i,footer:r,title:o}=e,{boxWidth:a,boxHeight:s}=t,c=rC(t.bodyFont),l=rC(t.titleFont),d=rC(t.footerFont),u=o.length,h=r.length,A=i.length,p=iC(t.padding);let g=p.height,f=0,m=i.reduce(((e,t)=>e+t.before.length+t.lines.length+t.after.length),0);if(m+=e.beforeBody.length+e.afterBody.length,u&&(g+=u*l.lineHeight+(u-1)*t.titleSpacing+t.titleMarginBottom),m){g+=A*(t.displayColors?Math.max(s,c.lineHeight):c.lineHeight)+(m-A)*c.lineHeight+(m-1)*t.bodySpacing}h&&(g+=t.footerMarginTop+h*d.lineHeight+(h-1)*t.footerSpacing);let E=0;const C=function(e){f=Math.max(f,n.measureText(e).width+E)};return n.save(),n.font=l.string,Im(e.title,C),n.font=c.string,Im(e.beforeBody.concat(e.afterBody),C),E=t.displayColors?a+2+t.boxPadding:0,Im(i,(e=>{Im(e.before,C),Im(e.lines,C),Im(e.after,C)})),E=0,n.font=d.string,Im(e.footer,C),n.restore(),f+=p.width,{width:f,height:g}}function PU(e,t,n,i){const{x:r,width:o}=n,{width:a,chartArea:{left:s,right:c}}=e;let l="center";return"center"===i?l=r<=(s+c)/2?"left":"right":r<=o/2?l="left":r>=a-o/2&&(l="right"),function(e,t,n,i){const{x:r,width:o}=i,a=n.caretSize+n.caretPadding;return"left"===e&&r+o+a>t.width||"right"===e&&r-o-a<0||void 0}(l,e,t,n)&&(l="center"),l}function GU(e,t,n){const i=n.yAlign||t.yAlign||function(e,t){const{y:n,height:i}=t;return n<i/2?"top":n>e.height-i/2?"bottom":"center"}(e,n);return{xAlign:n.xAlign||t.xAlign||PU(e,t,n,i),yAlign:i}}function YU(e,t,n,i){const{caretSize:r,caretPadding:o,cornerRadius:a}=e,{xAlign:s,yAlign:c}=n,l=r+o,{topLeft:d,topRight:u,bottomLeft:h,bottomRight:A}=nC(a);let p=function(e,t){let{x:n,width:i}=e;return"right"===t?n-=i:"center"===t&&(n-=i/2),n}(t,s);const g=function(e,t,n){let{y:i,height:r}=e;return"top"===t?i+=n:i-="bottom"===t?r+n:r/2,i}(t,c,l);return"center"===c?"left"===s?p+=l:"right"===s&&(p-=l):"left"===s?p-=Math.max(d,h)+r:"right"===s&&(p+=Math.max(u,A)+r),{x:nE(p,0,i.width-t.width),y:nE(g,0,i.height-t.height)}}function jU(e,t,n){const i=iC(n.padding);return"center"===t?e.x+e.width/2:"right"===t?e.x+e.width-i.right:e.x+i.left}function XU(e){return JU([],xU(e))}function KU(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const HU={beforeTitle:dm,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,i=n?n.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return n[t.dataIndex]}return""},afterTitle:dm,beforeBody:dm,beforeLabel:dm,label(e){if(this&&this.options&&"dataset"===this.options.mode)return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return hm(n)||(t+=n),t},labelColor(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:dm,afterBody:dm,beforeFooter:dm,footer:dm,afterFooter:dm};function zU(e,t,n,i){const r=e[t].call(n,i);return"undefined"===typeof r?HU[t].call(n,i):r}class qU extends IQ{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,n=this.options.setContext(this.getContext()),i=n.enabled&&t.options.animation&&n.animations,r=new oI(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=(e=this.chart.getContext(),t=this,n=this._tooltipItems,aC(e,{tooltip:t,tooltipItems:n,type:"tooltip"})));var e,t,n}getTitle(e,t){const{callbacks:n}=t,i=zU(n,"beforeTitle",this,e),r=zU(n,"title",this,e),o=zU(n,"afterTitle",this,e);let a=[];return a=JU(a,xU(i)),a=JU(a,xU(r)),a=JU(a,xU(o)),a}getBeforeBody(e,t){return XU(zU(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:n}=t,i=[];return Im(e,(e=>{const t={before:[],lines:[],after:[]},r=KU(n,e);JU(t.before,xU(zU(r,"beforeLabel",this,e))),JU(t.lines,zU(r,"label",this,e)),JU(t.after,xU(zU(r,"afterLabel",this,e))),i.push(t)})),i}getAfterBody(e,t){return XU(zU(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:n}=t,i=zU(n,"beforeFooter",this,e),r=zU(n,"footer",this,e),o=zU(n,"afterFooter",this,e);let a=[];return a=JU(a,xU(i)),a=JU(a,xU(r)),a=JU(a,xU(o)),a}_createItems(e){const t=this._active,n=this.chart.data,i=[],r=[],o=[];let a,s,c=[];for(a=0,s=t.length;a<s;++a)c.push(MU(this.chart,t[a]));return e.filter&&(c=c.filter(((t,i,r)=>e.filter(t,i,r,n)))),e.itemSort&&(c=c.sort(((t,i)=>e.itemSort(t,i,n)))),Im(c,(t=>{const n=KU(e.callbacks,t);i.push(zU(n,"labelColor",this,t)),r.push(zU(n,"labelPointStyle",this,t)),o.push(zU(n,"labelTextColor",this,t))})),this.labelColors=i,this.labelPointStyles=r,this.labelTextColors=o,this.dataPoints=c,c}update(e,t){const n=this.options.setContext(this.getContext()),i=this._active;let r,o=[];if(i.length){const e=OU[n.position].call(this,i,this._eventPosition);o=this._createItems(n),this.title=this.getTitle(o,n),this.beforeBody=this.getBeforeBody(o,n),this.body=this.getBody(o,n),this.afterBody=this.getAfterBody(o,n),this.footer=this.getFooter(o,n);const t=this._size=LU(this,n),a=Object.assign({},e,t),s=GU(this.chart,n,a),c=YU(n,a,s,this.chart);this.xAlign=s.xAlign,this.yAlign=s.yAlign,r={opacity:1,x:c.x,y:c.y,width:t.width,height:t.height,caretX:e.x,caretY:e.y}}else 0!==this.opacity&&(r={opacity:0});this._tooltipItems=o,this.$context=void 0,r&&this._resolveAnimations().update(this,r),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,n,i){const r=this.getCaretPosition(e,n,i);t.lineTo(r.x1,r.y1),t.lineTo(r.x2,r.y2),t.lineTo(r.x3,r.y3)}getCaretPosition(e,t,n){const{xAlign:i,yAlign:r}=this,{caretSize:o,cornerRadius:a}=n,{topLeft:s,topRight:c,bottomLeft:l,bottomRight:d}=nC(a),{x:u,y:h}=e,{width:A,height:p}=t;let g,f,m,E,C,I;return"center"===r?(C=h+p/2,"left"===i?(g=u,f=g-o,E=C+o,I=C-o):(g=u+A,f=g+o,E=C-o,I=C+o),m=g):(f="left"===i?u+Math.max(s,l)+o:"right"===i?u+A-Math.max(c,d)-o:this.caretX,"top"===r?(E=h,C=E-o,g=f-o,m=f+o):(E=h+p,C=E+o,g=f+o,m=f-o),I=E),{x1:g,x2:f,x3:m,y1:E,y2:C,y3:I}}drawTitle(e,t,n){const i=this.title,r=i.length;let o,a,s;if(r){const c=PC(n.rtl,this.x,this.width);for(e.x=jU(this,n.titleAlign,n),t.textAlign=c.textAlign(n.titleAlign),t.textBaseline="middle",o=rC(n.titleFont),a=n.titleSpacing,t.fillStyle=n.titleColor,t.font=o.string,s=0;s<r;++s)t.fillText(i[s],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,s+1===r&&(e.y+=n.titleMarginBottom-a)}}_drawColorBox(e,t,n,i,r){const o=this.labelColors[n],a=this.labelPointStyles[n],{boxHeight:s,boxWidth:c}=r,l=rC(r.bodyFont),d=jU(this,"left",r),u=i.x(d),h=s<l.lineHeight?(l.lineHeight-s)/2:0,A=t.y+h;if(r.usePointStyle){const t={radius:Math.min(c,s)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},n=i.leftForLtr(u,c)+c/2,l=A+s/2;e.strokeStyle=r.multiKeyBackground,e.fillStyle=r.multiKeyBackground,OE(e,t,n,l),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,OE(e,t,n,l)}else{e.lineWidth=pm(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const t=i.leftForLtr(u,c),n=i.leftForLtr(i.xPlus(u,1),c-2),a=nC(o.borderRadius);Object.values(a).some((e=>0!==e))?(e.beginPath(),e.fillStyle=r.multiKeyBackground,KE(e,{x:t,y:A,w:c,h:s,radius:a}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),KE(e,{x:n,y:A+1,w:c-2,h:s-2,radius:a}),e.fill()):(e.fillStyle=r.multiKeyBackground,e.fillRect(t,A,c,s),e.strokeRect(t,A,c,s),e.fillStyle=o.backgroundColor,e.fillRect(n,A+1,c-2,s-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,t,n){const{body:i}=this,{bodySpacing:r,bodyAlign:o,displayColors:a,boxHeight:s,boxWidth:c,boxPadding:l}=n,d=rC(n.bodyFont);let u=d.lineHeight,h=0;const A=PC(n.rtl,this.x,this.width),p=function(n){t.fillText(n,A.x(e.x+h),e.y+u/2),e.y+=u+r},g=A.textAlign(o);let f,m,E,C,I,Q,U;for(t.textAlign=o,t.textBaseline="middle",t.font=d.string,e.x=jU(this,g,n),t.fillStyle=n.bodyColor,Im(this.beforeBody,p),h=a&&"right"!==g?"center"===o?c/2+l:c+2+l:0,C=0,Q=i.length;C<Q;++C){for(f=i[C],m=this.labelTextColors[C],t.fillStyle=m,Im(f.before,p),E=f.lines,a&&E.length&&(this._drawColorBox(t,e,C,A,n),u=Math.max(d.lineHeight,s)),I=0,U=E.length;I<U;++I)p(E[I]),u=d.lineHeight;Im(f.after,p)}h=0,u=d.lineHeight,Im(this.afterBody,p),e.y-=r}drawFooter(e,t,n){const i=this.footer,r=i.length;let o,a;if(r){const s=PC(n.rtl,this.x,this.width);for(e.x=jU(this,n.footerAlign,n),e.y+=n.footerMarginTop,t.textAlign=s.textAlign(n.footerAlign),t.textBaseline="middle",o=rC(n.footerFont),t.fillStyle=n.footerColor,t.font=o.string,a=0;a<r;++a)t.fillText(i[a],s.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+n.footerSpacing}}drawBackground(e,t,n,i){const{xAlign:r,yAlign:o}=this,{x:a,y:s}=e,{width:c,height:l}=n,{topLeft:d,topRight:u,bottomLeft:h,bottomRight:A}=nC(i.cornerRadius);t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.beginPath(),t.moveTo(a+d,s),"top"===o&&this.drawCaret(e,t,n,i),t.lineTo(a+c-u,s),t.quadraticCurveTo(a+c,s,a+c,s+u),"center"===o&&"right"===r&&this.drawCaret(e,t,n,i),t.lineTo(a+c,s+l-A),t.quadraticCurveTo(a+c,s+l,a+c-A,s+l),"bottom"===o&&this.drawCaret(e,t,n,i),t.lineTo(a+h,s+l),t.quadraticCurveTo(a,s+l,a,s+l-h),"center"===o&&"left"===r&&this.drawCaret(e,t,n,i),t.lineTo(a,s+d),t.quadraticCurveTo(a,s,a+d,s),t.closePath(),t.fill(),i.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,n=this.$animations,i=n&&n.x,r=n&&n.y;if(i||r){const n=OU[e.position].call(this,this._active,this._eventPosition);if(!n)return;const o=this._size=LU(this,e),a=Object.assign({},n,this._size),s=GU(t,e,a),c=YU(e,a,s,t);i._to===c.x&&r._to===c.y||(this.xAlign=s.xAlign,this.yAlign=s.yAlign,this.width=o.width,this.height=o.height,this.caretX=n.x,this.caretY=n.y,this._resolveAnimations().update(this,c))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(t);const i={width:this.width,height:this.height},r={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const o=iC(t.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&a&&(e.save(),e.globalAlpha=n,this.drawBackground(r,e,i,t),GC(e,t.textDirection),r.y+=o.top,this.drawTitle(r,e,t),this.drawBody(r,e,t),this.drawFooter(r,e,t),YC(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const n=this._active,i=e.map((e=>{let{datasetIndex:t,index:n}=e;const i=this.chart.getDatasetMeta(t);if(!i)throw new Error("Cannot find a dataset at index "+t);return{datasetIndex:t,element:i.data[n],index:n}})),r=!Qm(n,i),o=this._positionChanged(i,t);(r||o)&&(this._active=i,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,r=this._active||[],o=this._getActiveElements(e,r,t,n),a=this._positionChanged(o,e),s=t||!Qm(o,r)||a;return s&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),s}_getActiveElements(e,t,n,i){const r=this.options;if("mouseout"===e.type)return[];if(!i)return t.filter((e=>this.chart.data.datasets[e.datasetIndex]&&void 0!==this.chart.getDatasetMeta(e.datasetIndex).controller.getParsed(e.index)));const o=this.chart.getElementsAtEventForMode(e,r.mode,r,n);return r.reverse&&o.reverse(),o}_positionChanged(e,t){const{caretX:n,caretY:i,options:r}=this,o=OU[r.position].call(this,e,t);return!1!==o&&(n!==o.x||i!==o.y)}}On(qU,"positioners",OU);var $U={id:"tooltip",_element:qU,positioners:OU,afterInit(e,t,n){n&&(e.tooltip=new qU({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(!1===e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0}))return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:HU},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>"filter"!==e&&"itemSort"!==e&&"external"!==e,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};function ey(e,t,n,i){const r=e.indexOf(t);if(-1===r)return((e,t,n,i)=>("string"===typeof t?(n=e.push(t)-1,i.unshift({index:n,label:t})):isNaN(t)&&(n=null),n))(e,t,n,i);return r!==e.lastIndexOf(t)?n:r}function ty(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class ny extends TQ{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const e=this.getLabels();for(const{index:n,label:i}of t)e[n]===i&&e.splice(n,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(hm(e))return null;const n=this.getLabels();return((e,t)=>null===e?null:nE(Math.round(e),0,t))(t=isFinite(t)&&n[t]===e?t:ey(n,e,mm(t,e),this._addedLabels),n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:n,max:i}=this.getMinMax(!0);"ticks"===this.options.bounds&&(e||(n=0),t||(i=this.getLabels().length-1)),this.min=n,this.max=i}buildTicks(){const e=this.min,t=this.max,n=this.options.offset,i=[];let r=this.getLabels();r=0===e&&t===r.length-1?r:r.slice(e,t+1),this._valueRange=Math.max(r.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let o=e;o<=t;o++)i.push({value:o});return i}getLabelForValue(e){return ty.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return"number"!==typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function iy(e,t){const n=[],{bounds:i,step:r,min:o,max:a,precision:s,count:c,maxTicks:l,maxDigits:d,includeBounds:u}=e,h=r||1,A=l-1,{min:p,max:g}=t,f=!hm(o),m=!hm(a),E=!hm(c),C=(g-p)/(d+1);let I,Q,U,y,b=Gm((g-p)/A/h)*h;if(b<1e-14&&!f&&!m)return[{value:p},{value:g}];y=Math.ceil(g/b)-Math.floor(p/b),y>A&&(b=Gm(y*b/A/h)*h),hm(s)||(I=Math.pow(10,s),b=Math.ceil(b*I)/I),"ticks"===i?(Q=Math.floor(p/b)*b,U=Math.ceil(g/b)*b):(Q=p,U=g),f&&m&&r&&function(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}((a-o)/r,b/1e3)?(y=Math.round(Math.min((a-o)/b,l)),b=(a-o)/y,Q=o,U=a):E?(Q=f?o:Q,U=m?a:U,y=c-1,b=(U-Q)/y):(y=(U-Q)/b,y=Pm(y,Math.round(y),b/1e3)?Math.round(y):Math.ceil(y));const v=Math.max(Hm(b),Hm(Q));I=Math.pow(10,hm(s)?v:s),Q=Math.round(Q*I)/I,U=Math.round(U*I)/I;let R=0;for(f&&(u&&Q!==o?(n.push({value:o}),Q<o&&R++,Pm(Math.round((Q+R*b)*I)/I,o,ry(o,C,e))&&R++):Q<o&&R++);R<y;++R){const e=Math.round((Q+R*b)*I)/I;if(m&&e>a)break;n.push({value:e})}return m&&u&&U!==a?n.length&&Pm(n[n.length-1].value,a,ry(a,C,e))?n[n.length-1].value=a:n.push({value:a}):m&&U!==a||n.push({value:U}),n}function ry(e,t,n){let{horizontal:i,minRotation:r}=n;const o=Xm(r),a=(i?Math.sin(o):Math.cos(o))||.001,s=.75*t*(""+e).length;return Math.min(t/a,s)}On(ny,"id","category"),On(ny,"defaults",{ticks:{callback:ty}});class oy extends TQ{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return hm(e)||("number"===typeof e||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:i,max:r}=this;const o=e=>i=t?i:e,a=e=>r=n?r:e;if(e){const e=Lm(i),t=Lm(r);e<0&&t<0?a(0):e>0&&t>0&&o(0)}if(i===r){let t=0===r?1:Math.abs(.05*r);a(r+t),e||o(i-t)}this.min=i,this.max=r}getTickLimit(){const e=this.options.ticks;let t,{maxTicksLimit:n,stepSize:i}=e;return i?(t=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,t>1e3&&(console.warn("scales.".concat(this.id,".ticks.stepSize: ").concat(i," would result generating up to ").concat(t," ticks. Limiting to 1000.")),t=1e3)):(t=this.computeTickLimit(),n=n||11),n&&(t=Math.min(n,t)),t}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const i=iy({maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:!1!==t.includeBounds},this._range||this);return"ticks"===e.bounds&&jm(i,this,"value"),e.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}configure(){const e=this.ticks;let t=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const i=(n-t)/Math.max(e.length-1,1)/2;t-=i,n+=i}this._startValue=t,this._endValue=n,this._valueRange=n-t}getLabelForValue(e){return RE(e,this.chart.options.locale,this.options.ticks.format)}}class ay extends oy{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=gm(e)?e:0,this.max=gm(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,n=Xm(this.options.ticks.minRotation),i=(e?Math.sin(n):Math.cos(n))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,r.lineHeight/i))}getPixelForValue(e){return null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}On(ay,"id","linear"),On(ay,"defaults",{ticks:{callback:FE.formatters.numeric}});const sy=e=>Math.floor(Mm(e)),cy=(e,t)=>Math.pow(10,sy(e)+t);function ly(e){return 1===e/Math.pow(10,sy(e))}function dy(e,t,n){const i=Math.pow(10,n),r=Math.floor(e/i);return Math.ceil(t/i)-r}function uy(e,t){let{min:n,max:i}=t;n=fm(e.min,n);const r=[],o=sy(n);let a=function(e,t){let n=sy(t-e);for(;dy(e,t,n)>10;)n++;for(;dy(e,t,n)<10;)n--;return Math.min(n,sy(e))}(n,i),s=a<0?Math.pow(10,Math.abs(a)):1;const c=Math.pow(10,a),l=o>a?Math.pow(10,o):0,d=Math.round((n-l)*s)/s,u=Math.floor((n-l)/c/10)*c*10;let h=Math.floor((d-u)/Math.pow(10,a)),A=fm(e.min,Math.round((l+u+h*Math.pow(10,a))*s)/s);for(;A<i;)r.push({value:A,major:ly(A),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(a++,h=2,s=a>=0?1:s),A=Math.round((l+u+h*Math.pow(10,a))*s)/s;const p=fm(e.max,A);return r.push({value:p,major:ly(p),significand:h}),r}class hy extends TQ{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const n=oy.prototype.parse.apply(this,[e,t]);if(0!==n)return gm(n)&&n>0?n:null;this._zero=!0}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=gm(e)?Math.max(0,e):null,this.max=gm(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!gm(this._userMin)&&(this.min=e===cy(this.min,0)?cy(this.min,-1):cy(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let n=this.min,i=this.max;const r=t=>n=e?n:t,o=e=>i=t?i:e;n===i&&(n<=0?(r(1),o(10)):(r(cy(n,-1)),o(cy(i,1)))),n<=0&&r(cy(i,-1)),i<=0&&o(cy(n,1)),this.min=n,this.max=i}buildTicks(){const e=this.options,t=uy({min:this._userMin,max:this._userMax},this);return"ticks"===e.bounds&&jm(t,this,"value"),e.reverse?(t.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),t}getLabelForValue(e){return void 0===e?"0":RE(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=Mm(e),this._valueRange=Mm(this.max)-Mm(e)}getPixelForValue(e){return void 0!==e&&0!==e||(e=this.min),null===e||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Mm(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}function Ay(e){const t=e.ticks;if(t.display&&e.display){const e=iC(t.backdropPadding);return mm(t.font&&t.font.size,kE.font.size)+e.height}return 0}function py(e,t,n,i,r){return e===i||e===r?{start:t-n/2,end:t+n/2}:e<i||e>r?{start:t-n,end:t}:{start:t,end:t+n}}function gy(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},n=Object.assign({},t),i=[],r=[],o=e._pointLabels.length,a=e.options.pointLabels,s=a.centerPointLabels?km/o:0;for(let u=0;u<o;u++){const o=a.setContext(e.getPointLabelContext(u));r[u]=o.padding;const h=e.getPointPosition(u,e.drawingArea+r[u],s),A=rC(o.font),p=(c=e.ctx,l=A,d=Am(d=e._pointLabels[u])?d:[d],{w:VE(c,l.string,d),h:d.length*l.lineHeight});i[u]=p;const g=eE(e.getIndexAngle(u)+s),f=Math.round(Km(g));fy(n,t,g,py(f,h.x,p.w,0,180),py(f,h.y,p.h,90,270))}var c,l,d;e.setCenterPoint(t.l-n.l,n.r-t.r,t.t-n.t,n.b-t.b),e._pointLabelItems=function(e,t,n){const i=[],r=e._pointLabels.length,o=e.options,{centerPointLabels:a,display:s}=o.pointLabels,c={extra:Ay(o)/2,additionalAngle:a?km/r:0};let l;for(let d=0;d<r;d++){c.padding=n[d],c.size=t[d];const r=my(e,d,c);i.push(r),"auto"===s&&(r.visible=Ey(r,l),r.visible&&(l=r))}return i}(e,i,r)}function fy(e,t,n,i,r){const o=Math.abs(Math.sin(n)),a=Math.abs(Math.cos(n));let s=0,c=0;i.start<t.l?(s=(t.l-i.start)/o,e.l=Math.min(e.l,t.l-s)):i.end>t.r&&(s=(i.end-t.r)/o,e.r=Math.max(e.r,t.r+s)),r.start<t.t?(c=(t.t-r.start)/a,e.t=Math.min(e.t,t.t-c)):r.end>t.b&&(c=(r.end-t.b)/a,e.b=Math.max(e.b,t.b+c))}function my(e,t,n){const i=e.drawingArea,{extra:r,additionalAngle:o,padding:a,size:s}=n,c=e.getPointPosition(t,i+r+a,o),l=Math.round(Km(eE(c.angle+Om))),d=function(e,t,n){90===n||270===n?e-=t/2:(n>270||n<90)&&(e-=t);return e}(c.y,s.h,l),u=function(e){if(0===e||180===e)return"center";if(e<180)return"left";return"right"}(l),h=function(e,t,n){"right"===n?e-=t:"center"===n&&(e-=t/2);return e}(c.x,s.w,u);return{visible:!0,x:c.x,y:d,textAlign:u,left:h,top:d,right:h+s.w,bottom:d+s.h}}function Ey(e,t){if(!t)return!0;const{left:n,top:i,right:r,bottom:o}=e;return!(xE({x:n,y:i},t)||xE({x:n,y:o},t)||xE({x:r,y:i},t)||xE({x:r,y:o},t))}function Cy(e,t,n){const{left:i,top:r,right:o,bottom:a}=n,{backdropColor:s}=t;if(!hm(s)){const n=nC(t.borderRadius),c=iC(t.backdropPadding);e.fillStyle=s;const l=i-c.left,d=r-c.top,u=o-i+c.width,h=a-r+c.height;Object.values(n).some((e=>0!==e))?(e.beginPath(),KE(e,{x:l,y:d,w:u,h:h,radius:n}),e.fill()):e.fillRect(l,d,u,h)}}function Iy(e,t,n,i){const{ctx:r}=e;if(n)r.arc(e.xCenter,e.yCenter,t,0,Dm);else{let n=e.getPointPosition(0,t);r.moveTo(n.x,n.y);for(let o=1;o<i;o++)n=e.getPointPosition(o,t),r.lineTo(n.x,n.y)}}On(hy,"id","logarithmic"),On(hy,"defaults",{ticks:{callback:FE.formatters.logarithmic,major:{enabled:!0}}});class Qy extends oy{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=iC(Ay(this.options)/2),t=this.width=this.maxWidth-e.width,n=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+n/2+e.top),this.drawingArea=Math.floor(Math.min(t,n)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=gm(e)&&!isNaN(e)?e:0,this.max=gm(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Ay(this.options))}generateTickLabels(e){oy.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map(((e,t)=>{const n=Cm(this.options.pointLabels.callback,[e,t],this);return n||0===n?n:""})).filter(((e,t)=>this.chart.getDataVisibility(t)))}fit(){const e=this.options;e.display&&e.pointLabels.display?gy(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,n,i){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((n-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,n,i))}getIndexAngle(e){return eE(e*(Dm/(this._pointLabels.length||1))+Xm(this.options.startAngle||0))}getDistanceFromCenterForValue(e){if(hm(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(hm(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const n=t[e];return function(e,t,n){return aC(e,{label:n,index:t,type:"pointLabel"})}(this.getContext(),e,n)}}getPointPosition(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const i=this.getIndexAngle(e)-Om+n;return{x:Math.cos(i)*t+this.xCenter,y:Math.sin(i)*t+this.yCenter,angle:i}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:n,right:i,bottom:r}=this._pointLabelItems[e];return{left:t,top:n,right:i,bottom:r}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const n=this.ctx;n.save(),n.beginPath(),Iy(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),n.closePath(),n.fillStyle=e,n.fill(),n.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:n,grid:i,border:r}=t,o=this._pointLabels.length;let a,s,c;if(t.pointLabels.display&&function(e,t){const{ctx:n,options:{pointLabels:i}}=e;for(let r=t-1;r>=0;r--){const t=e._pointLabelItems[r];if(!t.visible)continue;const o=i.setContext(e.getPointLabelContext(r));Cy(n,o,t);const a=rC(o.font),{x:s,y:c,textAlign:l}=t;XE(n,e._pointLabels[r],s,c+a.lineHeight/2,a,{color:o.color,textAlign:l,textBaseline:"middle"})}}(this,o),i.display&&this.ticks.forEach(((e,t)=>{if(0!==t){s=this.getDistanceFromCenterForValue(e.value);const n=this.getContext(t),a=i.setContext(n),c=r.setContext(n);!function(e,t,n,i,r){const o=e.ctx,a=t.circular,{color:s,lineWidth:c}=t;!a&&!i||!s||!c||n<0||(o.save(),o.strokeStyle=s,o.lineWidth=c,o.setLineDash(r.dash),o.lineDashOffset=r.dashOffset,o.beginPath(),Iy(e,n,a,i),o.closePath(),o.stroke(),o.restore())}(this,a,s,o,c)}})),n.display){for(e.save(),a=o-1;a>=0;a--){const i=n.setContext(this.getPointLabelContext(a)),{color:r,lineWidth:o}=i;o&&r&&(e.lineWidth=o,e.strokeStyle=r,e.setLineDash(i.borderDash),e.lineDashOffset=i.borderDashOffset,s=this.getDistanceFromCenterForValue(t.ticks.reverse?this.min:this.max),c=this.getPointPosition(a,s),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(c.x,c.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,n=t.ticks;if(!n.display)return;const i=this.getIndexAngle(0);let r,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(i),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach(((i,a)=>{if(0===a&&!t.reverse)return;const s=n.setContext(this.getContext(a)),c=rC(s.font);if(r=this.getDistanceFromCenterForValue(this.ticks[a].value),s.showLabelBackdrop){e.font=c.string,o=e.measureText(i.label).width,e.fillStyle=s.backdropColor;const t=iC(s.backdropPadding);e.fillRect(-o/2-t.left,-r-c.size/2-t.top,o+t.width,c.size+t.height)}XE(e,i.label,0,-r,c,{color:s.color,strokeColor:s.textStrokeColor,strokeWidth:s.textStrokeWidth})})),e.restore()}drawTitle(){}}On(Qy,"id","radialLinear"),On(Qy,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:FE.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:e=>e,padding:5,centerPointLabels:!1}}),On(Qy,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),On(Qy,"descriptors",{angleLines:{_fallback:"grid"}});const Uy={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},yy=Object.keys(Uy);function by(e,t){return e-t}function vy(e,t){if(hm(t))return null;const n=e._adapter,{parser:i,round:r,isoWeekday:o}=e._parseOpts;let a=t;return"function"===typeof i&&(a=i(a)),gm(a)||(a="string"===typeof i?n.parse(a,i):n.parse(a)),null===a?null:(r&&(a="week"!==r||!Ym(o)&&!0!==o?n.startOf(a,r):n.startOf(a,"isoWeek",o)),+a)}function Ry(e,t,n,i){const r=yy.length;for(let o=yy.indexOf(e);o<r-1;++o){const e=Uy[yy[o]],r=e.steps?e.steps:Number.MAX_SAFE_INTEGER;if(e.common&&Math.ceil((n-t)/(r*e.size))<=i)return yy[o]}return yy[r-1]}function Sy(e,t,n){if(n){if(n.length){const{lo:i,hi:r}=rE(n,t);e[n[i]>=t?n[i]:n[r]]=!0}}else e[t]=!0}function Fy(e,t,n){const i=[],r={},o=t.length;let a,s;for(a=0;a<o;++a)s=t[a],r[s]=a,i.push({value:s,major:!1});return 0!==o&&n?function(e,t,n,i){const r=e._adapter,o=+r.startOf(t[0].value,i),a=t[t.length-1].value;let s,c;for(s=o;s<=a;s=+r.add(s,1,i))c=n[s],c>=0&&(t[c].major=!0);return t}(e,i,r,n):i}class By extends TQ{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e.time||(e.time={}),i=this._adapter=new VI(e.adapters.date);i.init(t),Rm(n.displayFormats,i.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return void 0===e?null:vy(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,n=e.time.unit||"day";let{min:i,max:r,minDefined:o,maxDefined:a}=this.getUserBounds();function s(e){o||isNaN(e.min)||(i=Math.min(i,e.min)),a||isNaN(e.max)||(r=Math.max(r,e.max))}o&&a||(s(this._getLabelBounds()),"ticks"===e.bounds&&"labels"===e.ticks.source||s(this.getMinMax(!1))),i=gm(i)&&!isNaN(i)?i:+t.startOf(Date.now(),n),r=gm(r)&&!isNaN(r)?r:+t.endOf(Date.now(),n)+1,this.min=Math.min(i,r-1),this.max=Math.max(i+1,r)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],n=e[e.length-1]),{min:t,max:n}}buildTicks(){const e=this.options,t=e.time,n=e.ticks,i="labels"===n.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const r=this.min,o=function(e,t,n){let i=0,r=e.length;for(;i<r&&e[i]<t;)i++;for(;r>i&&e[r-1]>n;)r--;return i>0||r<e.length?e.slice(i,r):e}(i,r,this.max);return this._unit=t.unit||(n.autoSkip?Ry(t.minUnit,this.min,this.max,this._getLabelCapacity(r)):function(e,t,n,i,r){for(let o=yy.length-1;o>=yy.indexOf(n);o--){const n=yy[o];if(Uy[n].common&&e._adapter.diff(r,i,n)>=t-1)return n}return yy[n?yy.indexOf(n):0]}(this,o.length,t.minUnit,this.min,this.max)),this._majorUnit=n.major.enabled&&"year"!==this._unit?function(e){for(let t=yy.indexOf(e)+1,n=yy.length;t<n;++t)if(Uy[yy[t]].common)return yy[t]}(this._unit):void 0,this.initOffsets(i),e.reverse&&o.reverse(),Fy(this,o,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map((e=>+e.value)))}initOffsets(){let e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=0,r=0;this.options.offset&&n.length&&(e=this.getDecimalForValue(n[0]),i=1===n.length?1-e:(this.getDecimalForValue(n[1])-e)/2,t=this.getDecimalForValue(n[n.length-1]),r=1===n.length?t:(t-this.getDecimalForValue(n[n.length-2]))/2);const o=n.length<3?.5:.25;i=nE(i,0,o),r=nE(r,0,o),this._offsets={start:i,end:r,factor:1/(i+1+r)}}_generate(){const e=this._adapter,t=this.min,n=this.max,i=this.options,r=i.time,o=r.unit||Ry(r.minUnit,t,n,this._getLabelCapacity(t)),a=mm(i.ticks.stepSize,1),s="week"===o&&r.isoWeekday,c=Ym(s)||!0===s,l={};let d,u,h=t;if(c&&(h=+e.startOf(h,"isoWeek",s)),h=+e.startOf(h,c?"day":o),e.diff(n,t,o)>1e5*a)throw new Error(t+" and "+n+" are too far apart with stepSize of "+a+" "+o);const A="data"===i.ticks.source&&this.getDataTimestamps();for(d=h,u=0;d<n;d=+e.add(d,a,o),u++)Sy(l,d,A);return d!==n&&"ticks"!==i.bounds&&1!==u||Sy(l,d,A),Object.keys(l).sort(by).map((e=>+e))}getLabelForValue(e){const t=this._adapter,n=this.options.time;return n.tooltipFormat?t.format(e,n.tooltipFormat):t.format(e,n.displayFormats.datetime)}format(e,t){const n=this.options.time.displayFormats,i=this._unit,r=t||n[i];return this._adapter.format(e,r)}_tickFormatFunction(e,t,n,i){const r=this.options,o=r.ticks.callback;if(o)return Cm(o,[e,t,n],this);const a=r.time.displayFormats,s=this._unit,c=this._majorUnit,l=s&&a[s],d=c&&a[c],u=n[t],h=c&&d&&u&&u.major;return this._adapter.format(e,i||(h?d:l))}generateTickLabels(e){let t,n,i;for(t=0,n=e.length;t<n;++t)i=e[t],i.label=this._tickFormatFunction(i.value,t,e)}getDecimalForValue(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+n)*t.factor)}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,n=this.ctx.measureText(e).width,i=Xm(this.isHorizontal()?t.maxRotation:t.minRotation),r=Math.cos(i),o=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:n*r+a*o,h:n*o+a*r}}_getLabelCapacity(e){const t=this.options.time,n=t.displayFormats,i=n[t.unit]||n.millisecond,r=this._tickFormatFunction(e,0,Fy(this,[e],this._majorUnit),i),o=this._getLabelSize(r),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e,t,n=this._cache.data||[];if(n.length)return n;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(e=0,t=i.length;e<t;++e)n=n.concat(i[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(n)}getLabelTimestamps(){const e=this._cache.labels||[];let t,n;if(e.length)return e;const i=this.getLabels();for(t=0,n=i.length;t<n;++t)e.push(vy(this,i[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return lE(e.sort(by))}}function Ty(e,t,n){let i,r,o,a,s=0,c=e.length-1;n?(t>=e[s].pos&&t<=e[c].pos&&({lo:s,hi:c}=oE(e,"pos",t)),({pos:i,time:o}=e[s]),({pos:r,time:a}=e[c])):(t>=e[s].time&&t<=e[c].time&&({lo:s,hi:c}=oE(e,"time",t)),({time:i,pos:o}=e[s]),({time:r,pos:a}=e[c]));const l=r-i;return l?o+(a-o)*(t-i)/l:o}On(By,"id","time"),On(By,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});class Ny extends By{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=Ty(t,this.min),this._tableRange=Ty(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:n}=this,i=[],r=[];let o,a,s,c,l;for(o=0,a=e.length;o<a;++o)c=e[o],c>=t&&c<=n&&i.push(c);if(i.length<2)return[{time:t,pos:0},{time:n,pos:1}];for(o=0,a=i.length;o<a;++o)l=i[o+1],s=i[o-1],c=i[o],Math.round((l+s)/2)!==c&&r.push({time:c,pos:o/(a-1)});return r}_generate(){const e=this.min,t=this.max;let n=super.getDataTimestamps();return n.includes(e)&&n.length||n.splice(0,0,e),n.includes(t)&&1!==n.length||n.push(t),n.sort(((e,t)=>e-t))}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),n=this.getLabelTimestamps();return e=t.length&&n.length?this.normalize(t.concat(n)):t.length?t:n,e=this._cache.all=e,e}getDecimalForValue(e){return(Ty(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return Ty(this._table,n*this._tableRange+this._minPos,!0)}}On(Ny,"id","timeseries"),On(Ny,"defaults",By.defaults);const _y="label";function wy(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function ky(e,t){e.labels=t}function Dy(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_y;const i=[];e.datasets=t.map((t=>{const r=e.datasets.find((e=>e[n]===t[n]));return r&&t.data&&!i.includes(r)?(i.push(r),Object.assign(r,t),r):{...t}}))}function Vy(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_y;const n={labels:[],datasets:[]};return ky(n,e.labels),Dy(n,e.datasets,t),n}function Zy(e,n){const{height:i=150,width:r=300,redraw:o=!1,datasetIdKey:a,type:s,data:c,options:l,plugins:d=[],fallbackContent:u,updateMode:h,...A}=e,p=(0,t.useRef)(null),g=(0,t.useRef)(),f=()=>{p.current&&(g.current=new cU(p.current,{type:s,data:Vy(c,a),options:l&&{...l},plugins:d}),wy(n,g.current))},m=()=>{wy(n,null),g.current&&(g.current.destroy(),g.current=null)};return(0,t.useEffect)((()=>{!o&&g.current&&l&&function(e,t){const n=e.options;n&&t&&Object.assign(n,t)}(g.current,l)}),[o,l]),(0,t.useEffect)((()=>{!o&&g.current&&ky(g.current.config.data,c.labels)}),[o,c.labels]),(0,t.useEffect)((()=>{!o&&g.current&&c.datasets&&Dy(g.current.config.data,c.datasets,a)}),[o,c.datasets]),(0,t.useEffect)((()=>{g.current&&(o?(m(),setTimeout(f)):g.current.update(h))}),[o,l,c.labels,c.datasets,h]),(0,t.useEffect)((()=>{g.current&&(m(),setTimeout(f))}),[s]),(0,t.useEffect)((()=>(f(),()=>m())),[]),t.createElement("canvas",Object.assign({ref:p,role:"img",height:i,width:r},A),u)}const Wy=(0,t.forwardRef)(Zy);function Oy(e,n){return cU.register(n),(0,t.forwardRef)(((n,i)=>t.createElement(Wy,Object.assign({},n,{ref:i,type:e}))))}const Jy=Oy("line",BI);cU.register(ny,ay,vU,yU,WU,$U,VU);const xy=()=>{const[e,n]=(0,t.useState)([]),[i,r]=(0,t.useState)(!0),o=()=>{const e=window.innerWidth;r(e>500)},a={labels:e.map((e=>(e=>i?e.toLocaleDateString("en-GB"):e.getDate().toString())(e))),datasets:[{label:"Dataset 1",data:[1,3,4,5,1,3,7],borderColor:"#ffc600",backgroundColor:"rgba(255, 99, 132, 0.5)"}]};return(0,t.useEffect)((()=>{n((e=>{const t=new Date,n=Array.from({length:e},((e,n)=>{const i=new Date(t);return i.setDate(t.getDate()-n),i}));return n})(7))}),[]),(0,t.useEffect)((()=>(o(),window.addEventListener("resize",o),()=>{window.removeEventListener("resize",o)})),[]),(0,dd.jsxs)("div",{id:"analytics",children:[(0,dd.jsx)("p",{className:"p1",children:"Tendency"}),(0,dd.jsx)("div",{className:"graphDiv",children:(0,dd.jsx)("div",{children:(0,dd.jsx)(Jy,{options:{scales:{x:{grid:{display:!1}}},responsive:!0,plugins:{legend:{display:!1},title:{display:!1,text:"Chart.js Line Chart"}}},data:a,className:"lineGraph"})})}),(0,dd.jsxs)("div",{className:"visitParentDiv",children:[(0,dd.jsxs)("div",{className:"lastvisitDiv",children:[(0,dd.jsx)("p",{className:"p1",children:"Last Visits"}),(0,dd.jsx)(Tf,{visit:"last"}),(0,dd.jsx)(Tf,{visit:"last"}),(0,dd.jsx)(Tf,{visit:"last"}),(0,dd.jsx)(Tf,{visit:"last"}),(0,dd.jsx)(Tf,{visit:"last"})]}),(0,dd.jsxs)("div",{className:"mostvisitedDiv",children:[(0,dd.jsx)("p",{className:"p1",children:"Most Visited Properties"}),(0,dd.jsx)(Tf,{visit:"most"})]})]})]})},My=()=>{const e=["What do I need to create a virtual tour?","I don't have a 360\xba camera. What do I do?","What differentiates Floorfy from other platforms?","What happens if a rental camera breaks?","Can I create videos?","Why monthly or annual subscriptions and not one-time payments?","If I stop paying for the subscription, do I lose the virtual tours?",'What does "Active Virtual Tours" mean?',"Can I share virtual tours on real estate portals?","Is the 3D Dollhouse included?","Is the bounded floor plan included?","Can I impersonate my watermark?","What is the difference between an Open-House and a Video Call?","What is a mp4 video commercial?","How can I download an mp4 video commercial?"],t=["All you need is a tripod, a 360\xb0 camera, a mobile phone and our app.","There are currently many 360\xba cameras on the market. But after trying hundreds of them, we recommend the Ricoh Theta brand. In our opinion: they are the best. That's why we became an official partner of Ricoh Theta and we include their cameras alongside our monthly subscriptions (plus free shipping and no permanent contract needed).","We want to make virtual reality simple and affordable for those who look to buy and rent a property. We want them to find their dream home quickly yet successfully. Therefore, we work with thousands of estates agents and develop technologies that help them to focus on their clients, creating a personal experience for each of them through virtual tours.","In case of breakage, loss or non-return, the full amount will be charged. Remember that the camera must be returned as it was delivered, inside its box with all the accessories (case, cable...), otherwise, \u20ac20 will be charged to replace them.","Yes, you can automatically create videos that will simulate the experience of a virtual visit.","We pride ourselves on keeping virtual tours active 24/7 and all year round in our servers. In this way you can pause your subscription at any time and we will archive your tours. However, they will be unavailable to you until you activate your account again.","No, they will remain archived in your account. To activate them you must re-subscribe and activate your account again.","Active tours are virtual tours that are published and visible to your clients. If you reach the limit of active tours that your subscription allows, you can extend your plan or archive a tour making another available to you.","Yes, of course. Our virtual tours are compatible with our partners. You will notice a field saying \u2018link to the Virtual Tour\u2019, copy the link that we give you. If you notice that the link is not activated on the platform, write to the agent asking if they can activate it (let us know if you face any difficulties with this).","It is not included. But it can be generated automatically for only 15 euros.","It is not included. But it can be generated automatically for only 15 euros.","Yes, the software allows you to personalise the watermark to your own logo. To change the logo, follow these steps: 1) Go to \u201cMy Profile\u201d (from clicking your username on the top right) and click the \u2018viewer\u2019 option. 2) Upload your business logo and save it (the recommended measurements are 400x400).","The Open House allows you to make a videoconference from within the virtual tour during presentations of up to 3000 participants. The video-call is a videoconference between two people where the agent and client interact during a virtual tour.","An mp4 video commercial includes the videos that we retrieve from the 360\xba photographs, creating panoramas of different rooms in the property. Normally, agencies display this MP4 video on their web page to give a preview of the 360\xba virtual tour.","To download the MP4 videos you need to follow these steps: 1) Enter the tour (on the pencil icon marked \u201ceditor\u201d). 2) Then click the icon that is marked \u201cinstant videos\u201d located on the top left. 3) Up on the right you will see an arrow pointing downwards, when you click on it the mp4 video should start downloading. If the option is available, please contact one of our agents so they can help you."];return null===e||void 0===e?void 0:e.map(((n,i)=>(0,dd.jsx)("div",{id:"questionDiv",children:(0,dd.jsxs)(vp,{style:{boxShadow:"".concat(e.length-1===i&&"none"," ")},children:[(0,dd.jsx)(_p,{expandIcon:(0,dd.jsx)("i",{className:"fa-solid fa-angle-down"}),"aria-controls":"panel1a-content",id:"panel1a-header",children:(0,dd.jsx)("div",{className:"qaccordDiv",children:(0,dd.jsx)("p",{children:n})})}),(0,dd.jsx)(Vp,{children:(0,dd.jsx)("div",{className:"qaccorddetailDiv",children:(0,dd.jsx)("p",{children:t[i]})})})]})})))},Ly=()=>{const e={height:"390",width:"500",borderRadius:"12px",playerVars:{autoplay:1,controls:1}};return(0,dd.jsxs)("div",{id:"help",children:[(0,dd.jsxs)("div",{className:"videoParentDiv",children:[(0,dd.jsxs)("div",{className:"videoDiv",children:[(0,dd.jsx)("h1",{children:"How does it work?"}),(0,dd.jsx)("p",{children:"With the following video or the quick guide, learn how to create virtual tours automatically."}),(0,dd.jsx)(cf,{videoId:"6K_kspdSTN4",options:e,id:"video"})]}),(0,dd.jsxs)("div",{className:"videoDiv",children:[(0,dd.jsx)("h1",{children:"How to virtualize properties"}),(0,dd.jsx)("p",{children:"Learn how to virtualize your properties with the following video or the quick guide."}),(0,dd.jsx)(cf,{videoId:"p6bT2x7yMUA",options:e,id:"video"})]}),(0,dd.jsxs)("div",{className:"videoDiv",children:[(0,dd.jsx)("h1",{children:"PDF manual"}),(0,dd.jsx)("p",{children:"Explore our manual explaining step by step how to virtualize a property."}),(0,dd.jsx)(cf,{videoId:"p6bT2x7yMUA",options:e,id:"video"})]})]}),(0,dd.jsxs)("div",{className:"questionDiv",children:[(0,dd.jsx)("h1",{children:"Frequently asked questions"}),(0,dd.jsx)("div",{className:"hr",style:{margin:"20px 0 20px 0"}}),(0,dd.jsx)(My,{})]})]})};const Py=n.p+"static/media/videos_icon.132b2954fbf04ddb15224a88cc462c61.svg",Gy=n.p+"static/media/floorplan1.e63042a47ed421f4695c.jpg",Yy=n.p+"static/media/floorplan2.b09a27bbef5e860e6315.jpg",jy=n.p+"static/media/images1.7cbf740b1ac80b26b34b.jpg",Xy=n.p+"static/media/images2.31f4d20deaa907f99291.jpg",Ky=n.p+"static/media/images3.7703155322f44f43f991.jpg";var Hy=n(7143),zy=n.n(Hy);function qy(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(t){o(t)}}function s(e){try{c(i.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))}var $y=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var i,r,o;if(Array.isArray(t)){if((i=t.length)!=n.length)return!1;for(r=i;0!==r--;)if(!e(t[r],n[r]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((i=(o=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(r=i;0!==r--;)if(!Object.prototype.hasOwnProperty.call(n,o[r]))return!1;for(r=i;0!==r--;){var a=o[r];if(!e(t[a],n[a]))return!1}return!0}return t!==t&&n!==n};const eb="__googleMapsScriptId";var tb;!function(e){e[e.INITIALIZED=0]="INITIALIZED",e[e.LOADING=1]="LOADING",e[e.SUCCESS=2]="SUCCESS",e[e.FAILURE=3]="FAILURE"}(tb||(tb={}));class nb{constructor(e){let{apiKey:t,authReferrerPolicy:n,channel:i,client:r,id:o=eb,language:a,libraries:s=[],mapIds:c,nonce:l,region:d,retries:u=3,url:h="https://maps.googleapis.com/maps/api/js",version:A}=e;if(this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=t,this.authReferrerPolicy=n,this.channel=i,this.client=r,this.id=o||eb,this.language=a,this.libraries=s,this.mapIds=c,this.nonce=l,this.region=d,this.retries=u,this.url=h,this.version=A,nb.instance){if(!$y(this.options,nb.instance.options))throw new Error("Loader must not be called again with different options. ".concat(JSON.stringify(this.options)," !== ").concat(JSON.stringify(nb.instance.options)));return nb.instance}nb.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?tb.FAILURE:this.done?tb.SUCCESS:this.loading?tb.LOADING:tb.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){let e=this.url;return e+="?callback=__googleMapsCallback",this.apiKey&&(e+="&key=".concat(this.apiKey)),this.channel&&(e+="&channel=".concat(this.channel)),this.client&&(e+="&client=".concat(this.client)),this.libraries.length>0&&(e+="&libraries=".concat(this.libraries.join(","))),this.language&&(e+="&language=".concat(this.language)),this.region&&(e+="&region=".concat(this.region)),this.version&&(e+="&v=".concat(this.version)),this.mapIds&&(e+="&map_ids=".concat(this.mapIds.join(","))),this.authReferrerPolicy&&(e+="&auth_referrer_policy=".concat(this.authReferrerPolicy)),e}deleteScript(){const e=document.getElementById(this.id);e&&e.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise(((e,t)=>{this.loadCallback((n=>{n?t(n.error):e(window.google)}))}))}importLibrary(e){return this.execute(),google.maps.importLibrary(e)}loadCallback(e){this.callbacks.push(e),this.execute()}setScript(){var e,t;if(document.getElementById(this.id))return void this.callback();const n={key:this.apiKey,channel:this.channel,client:this.client,libraries:this.libraries.length&&this.libraries,v:this.version,mapIds:this.mapIds,language:this.language,region:this.region,authReferrerPolicy:this.authReferrerPolicy};Object.keys(n).forEach((e=>!n[e]&&delete n[e])),(null===(t=null===(e=null===window||void 0===window?void 0:window.google)||void 0===e?void 0:e.maps)||void 0===t?void 0:t.importLibrary)||(e=>{let t,n,i,r="The Google Maps JavaScript API",o="google",a="importLibrary",s="__ib__",c=document,l=window;l=l[o]||(l[o]={});const d=l.maps||(l.maps={}),u=new Set,h=new URLSearchParams,A=()=>t||(t=new Promise(((a,l)=>qy(this,void 0,void 0,(function*(){var A;for(i in yield n=c.createElement("script"),n.id=this.id,h.set("libraries",[...u]+""),e)h.set(i.replace(/[A-Z]/g,(e=>"_"+e[0].toLowerCase())),e[i]);h.set("callback",o+".maps."+s),n.src=this.url+"?"+h,d[s]=a,n.onerror=()=>t=l(Error(r+" could not load.")),n.nonce=this.nonce||(null===(A=c.querySelector("script[nonce]"))||void 0===A?void 0:A.nonce)||"",c.head.append(n)})))));d[a]?console.warn(r+" only loads once. Ignoring:",e):d[a]=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return u.add(e)&&A().then((()=>d[a](e,...n)))}})(n);const i=this.libraries.map((e=>this.importLibrary(e)));i.length||i.push(this.importLibrary("core")),Promise.all(i).then((()=>this.callback()),(e=>{const t=new ErrorEvent("error",{error:e});this.loadErrorCallback(t)}))}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(e){if(this.errors.push(e),this.errors.length<=this.retries){const e=this.errors.length*Math.pow(2,this.errors.length);console.error("Failed to load Google Maps script, retrying in ".concat(e," ms.")),setTimeout((()=>{this.deleteScript(),this.setScript()}),e)}else this.onerrorEvent=e,this.callback()}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach((e=>{e(this.onerrorEvent)})),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version)return console.warn("Google Maps already loaded outside @googlemaps/js-api-loader.This may result in undesirable behavior as options and script parameters may not match."),void this.callback();this.loading||(this.loading=!0,this.setScript())}}}var ib=n(8322),rb=n.n(ib);function ob(){return(ob=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function ab(e,t){var n,i;e.prototype=Object.create(t.prototype),e.prototype.constructor=e,n=e,i=t,(Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(n,i)}function sb(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var cb={width:"100%",height:"100%",left:0,top:0,margin:0,padding:0,position:"absolute"},lb=function(e){function n(){return e.apply(this,arguments)||this}ab(n,e);var i=n.prototype;return i.shouldComponentUpdate=function(){return!1},i.render=function(){return t.createElement("div",{ref:this.props.registerChild,style:cb})},n}(t.Component),db=function(e){function t(t){var n;return(n=e.call(this)||this).gmapInstance=t,n}ab(t,e);var n=t.prototype;return n.getChildren=function(){return this.gmapInstance.props.children},n.getMousePosition=function(){return this.gmapInstance.mouse_},n.getUpdateCounter=function(){return this.gmapInstance.updateCounter_},n.dispose=function(){this.gmapInstance=null,this.removeAllListeners()},t}(zy()),ub=function(e,t){for(var n=ob({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(e),e)),i=0;i<t.length;i++){var r=t[i];r in n&&delete n[r]}return n},hb=Object.prototype.hasOwnProperty;function Ab(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function pb(e,t){if(Ab(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(var r=0;r<n.length;r++)if(!hb.call(t,n[r])||!Ab(e[n[r]],t[n[r]]))return!1;return!0}var gb={width:"100%",height:"100%",left:0,top:0,margin:0,padding:0,position:"absolute"},fb={width:0,height:0,left:0,top:0,backgroundColor:"transparent",position:"absolute"},mb=function(e){function n(n){var i;return(i=e.call(this,n)||this)._getState=function(){return{children:i.props.dispatcher.getChildren(),updateCounter:i.props.dispatcher.getUpdateCounter()}},i._onChangeHandler=function(){if(i.dimensionsCache_){var e=(i.state.children||[]).length,t=i._getState();i.setState(t,(function(){return(t.children||[]).length!==e&&i._onMouseChangeHandler()}))}},i._onChildClick=function(){i.props.onChildClick&&i.hoverChildProps_&&i.props.onChildClick(i.hoverKey_,i.hoverChildProps_)},i._onChildMouseDown=function(){i.props.onChildMouseDown&&i.hoverChildProps_&&i.props.onChildMouseDown(i.hoverKey_,i.hoverChildProps_)},i._onChildMouseEnter=function(e,t){i.dimensionsCache_&&(i.props.onChildMouseEnter&&i.props.onChildMouseEnter(e,t),i.hoverChildProps_=t,i.hoverKey_=e,i.setState({hoverKey:e}))},i._onChildMouseLeave=function(){if(i.dimensionsCache_){var e=i.hoverKey_;null!=e&&(i.props.onChildMouseLeave&&i.props.onChildMouseLeave(e,i.hoverChildProps_),i.hoverKey_=null,i.hoverChildProps_=null,i.setState({hoverKey:null}))}},i._onMouseAllow=function(e){e||i._onChildMouseLeave(),i.allowMouse_=e},i._onMouseChangeHandler=function(){i.allowMouse_&&i._onMouseChangeHandlerRaf()},i._onMouseChangeHandlerRaf=function(){if(i.dimensionsCache_){var e=i.props.dispatcher.getMousePosition();if(e){var n=[],r=i.props.getHoverDistance();if(t.Children.forEach(i.state.children,(function(t,o){if(t&&(void 0!==t.props.latLng||void 0!==t.props.lat||void 0!==t.props.lng)){var a=null!=t.key?t.key:o,s=i.props.distanceToMouse(i.dimensionsCache_[a],e,t.props);s<r&&n.push({key:a,dist:s,props:t.props})}})),n.length){n.sort((function(e,t){return e.dist-t.dist}));var o=n[0].key,a=n[0].props;i.hoverKey_!==o&&(i._onChildMouseLeave(),i._onChildMouseEnter(o,a))}else i._onChildMouseLeave()}else i._onChildMouseLeave()}},i._getDimensions=function(e){return i.dimensionsCache_[e]},i.dimensionsCache_={},i.hoverKey_=null,i.hoverChildProps_=null,i.allowMouse_=!0,i.state=ob({},i._getState(),{hoverKey:null}),i}ab(n,e);var i=n.prototype;return i.componentDidMount=function(){this.props.dispatcher.on("kON_CHANGE",this._onChangeHandler),this.props.dispatcher.on("kON_MOUSE_POSITION_CHANGE",this._onMouseChangeHandler),this.props.dispatcher.on("kON_CLICK",this._onChildClick),this.props.dispatcher.on("kON_MDOWN",this._onChildMouseDown)},i.shouldComponentUpdate=function(e,t){return!0===this.props.experimental?!pb(this.props,e)||!pb(ub(this.state,["hoverKey"]),ub(t,["hoverKey"])):!pb(this.props,e)||!pb(this.state,t)},i.componentWillUnmount=function(){this.props.dispatcher.removeListener("kON_CHANGE",this._onChangeHandler),this.props.dispatcher.removeListener("kON_MOUSE_POSITION_CHANGE",this._onMouseChangeHandler),this.props.dispatcher.removeListener("kON_CLICK",this._onChildClick),this.props.dispatcher.removeListener("kON_MDOWN",this._onChildMouseDown),this.dimensionsCache_=null},i.render=function(){var e=this,n=this.props.style||gb;this.dimensionsCache_={};var i=t.Children.map(this.state.children,(function(n,i){if(n){if(void 0===n.props.latLng&&void 0===n.props.lat&&void 0===n.props.lng)return t.cloneElement(n,{$geoService:e.props.geoService,$onMouseAllow:e._onMouseAllow,$prerender:e.props.prerender});var r=void 0!==n.props.latLng?n.props.latLng:{lat:n.props.lat,lng:n.props.lng},o=e.props.insideMapPanes?e.props.geoService.fromLatLngToDivPixel(r):e.props.geoService.fromLatLngToCenterPixel(r),a={left:o.x,top:o.y};if(void 0!==n.props.seLatLng||void 0!==n.props.seLat&&void 0!==n.props.seLng){var s=void 0!==n.props.seLatLng?n.props.seLatLng:{lat:n.props.seLat,lng:n.props.seLng},c=e.props.insideMapPanes?e.props.geoService.fromLatLngToDivPixel(s):e.props.geoService.fromLatLngToCenterPixel(s);a.width=c.x-o.x,a.height=c.y-o.y}var l=e.props.geoService.fromLatLngToContainerPixel(r),d=null!=n.key?n.key:i;return e.dimensionsCache_[d]=ob({x:l.x,y:l.y},r),t.createElement("div",{key:d,style:ob({},fb,a),className:n.props.$markerHolderClassName},t.cloneElement(n,{$hover:d===e.state.hoverKey,$getDimensions:e._getDimensions,$dimensionKey:d,$geoService:e.props.geoService,$onMouseAllow:e._onMouseAllow,$prerender:e.props.prerender}))}}));return t.createElement("div",{style:n},i)},n}(t.Component);mb.propTypes={geoService:Su().any,style:Su().any,distanceToMouse:Su().func,dispatcher:Su().any,onChildClick:Su().func,onChildMouseDown:Su().func,onChildMouseLeave:Su().func,onChildMouseEnter:Su().func,getHoverDistance:Su().func,insideMapPanes:Su().bool,prerender:Su().bool},mb.defaultProps={insideMapPanes:!1,prerender:!1};var Eb={width:"50%",height:"50%",left:"50%",top:"50%",margin:0,padding:0,position:"absolute"};function Cb(e){return t.createElement("div",{style:Eb},t.createElement(mb,ob({},e,{prerender:!0})))}var Ib,Qb,Ub,yb=["key"],bb=new Promise((function(e){Ub=e})),vb=function(e,t){if(!e)return bb;if(Qb)return Qb;e.libraries||(e.libraries=[]);var n=[].concat(e.libraries);if(t&&(0!==n.length&&n.includes("visualization")||n.push("visualization"),console.warn("heatmapLibrary will be deprecated in the future. Please use { libraries: ['visualization'] } in bootstrapURLKeys property instead")),"undefined"==typeof window)throw new Error("google map cannot be loaded outside browser env");var i=e.key,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)t.indexOf(n=o[i])>=0||(r[n]=e[n]);return r}(e,yb);return Ib||(Ib=new nb(ob({apiKey:i||""},r,{libraries:n}))),Qb=Ib.load().then((function(){return Ub(window.google.maps),window.google.maps})),Ub(Qb),Qb};function Rb(e,t,n){var i=n-t;return e===n?e:((e-t)%i+i)%i+t}var Sb=function(){function e(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid LatLng object: ("+e+", "+t+")");this.lat=+e,this.lng=+t}return e.prototype.wrap=function(){return new e(this.lat,Rb(this.lng,-180,180))},e}();Sb.convert=function(e){return e instanceof Sb?e:Array.isArray(e)?new Sb(e[0],e[1]):"lng"in e&&"lat"in e?new Sb(e.lat,e.lng):e};var Fb=function(){function e(e,t,n){this.tileSize=e||512,this._minZoom=t||0,this._maxZoom=n||52,this.latRange=[-85.05113,85.05113],this.width=0,this.height=0,this.zoom=0,this.center=new Sb(0,0),this.angle=0}var t,n,i=e.prototype;return i.zoomScale=function(e){return Math.pow(2,e)},i.scaleZoom=function(e){return Math.log(e)/Math.LN2},i.project=function(e,t){return new(rb())(this.lngX(e.lng,t),this.latY(e.lat,t))},i.unproject=function(e,t){return new Sb(this.yLat(e.y,t),this.xLng(e.x,t))},i.lngX=function(e,t){return(180+e)*(t||this.worldSize)/360},i.latY=function(e,t){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e*Math.PI/360)))*(t||this.worldSize)/360},i.xLng=function(e,t){return 360*e/(t||this.worldSize)-180},i.yLat=function(e,t){return 360/Math.PI*Math.atan(Math.exp((180-360*e/(t||this.worldSize))*Math.PI/180))-90},i.locationPoint=function(e){var t=this.project(e);return this.centerPoint._sub(this.point._sub(t)._rotate(this.angle))},i.pointLocation=function(e){var t=this.centerPoint._sub(e)._rotate(-this.angle);return this.unproject(this.point.sub(t))},t=e,(n=[{key:"minZoom",get:function(){return this._minZoom},set:function(e){this._minZoom=e,this.zoom=Math.max(this.zoom,e)}},{key:"maxZoom",get:function(){return this._maxZoom},set:function(e){this._maxZoom=e,this.zoom=Math.min(this.zoom,e)}},{key:"worldSize",get:function(){return this.tileSize*this.scale}},{key:"centerPoint",get:function(){return new(rb())(0,0)}},{key:"size",get:function(){return new(rb())(this.width,this.height)}},{key:"bearing",get:function(){return-this.angle/Math.PI*180},set:function(e){this.angle=-Rb(e,-180,180)*Math.PI/180}},{key:"zoom",get:function(){return this._zoom},set:function(e){var t=Math.min(Math.max(e,this.minZoom),this.maxZoom);this._zoom=t,this.scale=this.zoomScale(t),this.tileZoom=Math.floor(t),this.zoomFraction=t-this.tileZoom}},{key:"x",get:function(){return this.lngX(this.center.lng)}},{key:"y",get:function(){return this.latY(this.center.lat)}},{key:"point",get:function(){return new(rb())(this.x,this.y)}}])&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,"symbol"==typeof(r=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(i.key))?r:String(r),i)}var r}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Bb=function(){function e(e){this.hasSize_=!1,this.hasView_=!1,this.transform_=new Fb(e||512)}var t=e.prototype;return t.setView=function(e,t,n){this.transform_.center=Sb.convert(e),this.transform_.zoom=+t,this.transform_.bearing=+n,this.hasView_=!0},t.setViewSize=function(e,t){this.transform_.width=e,this.transform_.height=t,this.hasSize_=!0},t.setMapCanvasProjection=function(e,t){this.maps_=e,this.mapCanvasProjection_=t},t.canProject=function(){return this.hasSize_&&this.hasView_},t.hasSize=function(){return this.hasSize_},t.fromLatLngToCenterPixel=function(e){return this.transform_.locationPoint(Sb.convert(e))},t.fromLatLngToDivPixel=function(e){if(this.mapCanvasProjection_){var t=new this.maps_.LatLng(e.lat,e.lng);return this.mapCanvasProjection_.fromLatLngToDivPixel(t)}return this.fromLatLngToCenterPixel(e)},t.fromLatLngToContainerPixel=function(e){if(this.mapCanvasProjection_){var t=new this.maps_.LatLng(e.lat,e.lng);return this.mapCanvasProjection_.fromLatLngToContainerPixel(t)}var n=this.fromLatLngToCenterPixel(e);return n.x-=this.transform_.worldSize*Math.round(n.x/this.transform_.worldSize),n.x+=this.transform_.width/2,n.y+=this.transform_.height/2,n},t.fromContainerPixelToLatLng=function(e){if(this.mapCanvasProjection_){var t=this.mapCanvasProjection_.fromContainerPixelToLatLng(e);return{lat:t.lat(),lng:t.lng()}}var n=ob({},e);n.x-=this.transform_.width/2,n.y-=this.transform_.height/2;var i=this.transform_.pointLocation(rb().convert(n));return i.lng-=360*Math.round(i.lng/360),i},t.getWidth=function(){return this.transform_.width},t.getHeight=function(){return this.transform_.height},t.getZoom=function(){return this.transform_.zoom},t.getCenter=function(){return this.transform_.pointLocation({x:0,y:0})},t.getBounds=function(e,t){var n=e&&e[0]||0,i=e&&e[1]||0,r=e&&e[2]||0,o=e&&e[3]||0;if(this.getWidth()-i-o>0&&this.getHeight()-n-r>0){var a=this.transform_.pointLocation(rb().convert({x:o-this.getWidth()/2,y:n-this.getHeight()/2})),s=this.transform_.pointLocation(rb().convert({x:this.getWidth()/2-i,y:this.getHeight()/2-r})),c=[a.lat,a.lng,s.lat,s.lng,s.lat,a.lng,a.lat,s.lng];return t&&(c=c.map((function(e){return Math.round(e*t)/t}))),c}return[0,0,0,0]},e}();function Tb(e){if(window.requestAnimationFrame)return window.requestAnimationFrame(e);var t=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame;return t?t(e):window.setTimeout(e,1e3/60)}var Nb=Math.log2?Math.log2:function(e){return Math.log(e)/Math.LN2};function _b(e,t){return Object.keys(e).reduce((function(n,i){return t(e[i])&&(n[i]=e[i]),n}),{})}var wb=function(e){if(null!==e&&"object"==typeof e){if(0===Object.keys(e).length)return!0}else if(null==e||""===e)return!0;return!1},kb=Object.prototype.toString;function Db(e){return"number"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Number]"===kb.call(e)}var Vb=null;function Zb(){if(Vb)return Vb;if("undefined"!=typeof navigator){var e=navigator.userAgent.indexOf("MSIE")>-1,t=navigator.userAgent.indexOf("Firefox")>-1,n=navigator.userAgent.toLowerCase().indexOf("op")>-1,i=navigator.userAgent.indexOf("Chrome")>-1,r=navigator.userAgent.indexOf("Safari")>-1;return i&&r&&(r=!1),i&&n&&(i=!1),Vb={isExplorer:e,isFirefox:t,isOpera:n,isChrome:i,isSafari:r}}return Vb={isChrome:!0,isExplorer:!1,isFirefox:!1,isOpera:!1,isSafari:!1}}var Wb=function(e){return Function.prototype.toString.call(e)};function Ob(e){if(!e||"object"!=typeof e)return!1;var t="function"==typeof e.constructor?Object.getPrototypeOf(e):Object.prototype;if(null===t)return!0;var n=t.constructor;return"function"==typeof n&&n instanceof n&&Wb(n)===Wb(Object)}function Jb(e,t,n,i){e.addEventListener(t,n,function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",t,t),window.removeEventListener("test",t,t)}catch(t){e=!1}return e}()?{capture:i,passive:!0}:i)}var xb,Mb=!("undefined"==typeof window||!window.document||!window.document.createElement);xb=Mb?window:"undefined"!=typeof self?self:void 0;var Lb,Pb="undefined"!=typeof document&&document.attachEvent,Gb=!1;if(Mb&&!Pb){var Yb=function(){var e=xb.requestAnimationFrame||xb.mozRequestAnimationFrame||xb.webkitRequestAnimationFrame||function(e){return xb.setTimeout(e,20)};return function(t){return e(t)}}(),jb=(Lb=xb.cancelAnimationFrame||xb.mozCancelAnimationFrame||xb.webkitCancelAnimationFrame||xb.clearTimeout,function(e){return Lb(e)}),Xb=function(e){var t=e.__resizeTriggers__,n=t.firstElementChild,i=t.lastElementChild,r=n.firstElementChild;i.scrollLeft=i.scrollWidth,i.scrollTop=i.scrollHeight,r.style.width=n.offsetWidth+1+"px",r.style.height=n.offsetHeight+1+"px",n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight},Kb=function(e){var t=this;Xb(this),this.__resizeRAF__&&jb(this.__resizeRAF__),this.__resizeRAF__=Yb((function(){(function(e){return e.offsetWidth!=e.__resizeLast__.width||e.offsetHeight!=e.__resizeLast__.height})(t)&&(t.__resizeLast__.width=t.offsetWidth,t.__resizeLast__.height=t.offsetHeight,t.__resizeListeners__.forEach((function(n){n.call(t,e)})))}))},Hb=!1,zb="",qb="animationstart",$b="Webkit Moz O ms".split(" "),ev="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" ");if(Mb){var tv=document.createElement("fakeelement");if(void 0!==tv.style.animationName&&(Hb=!0),!1===Hb)for(var nv=0;nv<$b.length;nv++)if(void 0!==tv.style[$b[nv]+"AnimationName"]){zb="-"+$b[nv].toLowerCase()+"-",qb=ev[nv],Hb=!0;break}}var iv="resizeanim",rv="@"+zb+"keyframes "+iv+" { from { opacity: 0; } to { opacity: 0; } } ",ov=zb+"animation: 1ms "+iv+"; "}var av=void 0!==o.createPortal,sv=av?o.createPortal:o.unstable_renderSubtreeIntoContainer,cv=function(e){return Ob(e)?e:{lat:e[0],lng:e[1]}},lv=function(e,t){return t<e?e:t},dv=function(e){function n(n){var i;if((i=e.call(this,n)||this)._getMinZoom=function(){if(i.geoService_.getWidth()>0||i.geoService_.getHeight()>0){var e=Math.ceil(i.geoService_.getWidth()/256)+2,t=Math.ceil(i.geoService_.getHeight()/256)+2,n=Math.max(e,t);return Math.ceil(Nb(n))}return 3},i._computeMinZoom=function(e){return wb(e)?i._getMinZoom():e},i._mapDomResizeCallback=function(){if(i.resetSizeOnIdle_=!0,i.maps_){var e=i.props.center||i.props.defaultCenter,t=i.map_.getCenter();i.maps_.event.trigger(i.map_,"resize"),i.map_.setCenter(i.props.resetBoundsOnResize?e:t)}},i._setLayers=function(e){e.forEach((function(e){i.layers_[e]=new i.maps_[e],i.layers_[e].setMap(i.map_)}))},i._renderPortal=function(){return t.createElement(mb,{experimental:i.props.experimental,onChildClick:i._onChildClick,onChildMouseDown:i._onChildMouseDown,onChildMouseEnter:i._onChildMouseEnter,onChildMouseLeave:i._onChildMouseLeave,geoService:i.geoService_,insideMapPanes:!0,distanceToMouse:i.props.distanceToMouse,getHoverDistance:i._getHoverDistance,dispatcher:i.markersDispatcher_})},i._initMap=function(){if(!i.initialized_){i.initialized_=!0;var e=cv(i.props.center||i.props.defaultCenter);i.geoService_.setView(e,i.props.zoom||i.props.defaultZoom,0),i._onBoundsChanged();var t=ob({},i.props.apiKey&&{key:i.props.apiKey},i.props.bootstrapURLKeys);i.props.googleMapLoader(t,i.props.heatmapLibrary).then((function(e){if(i.mounted_){var t,n,r=i.geoService_.getCenter(),a={zoom:i.props.zoom||i.props.defaultZoom,center:new e.LatLng(r.lat,r.lng)};i.props.heatmap.positions&&(Object.assign(sb(i),{heatmap:(t=e,n=i.props.heatmap,new t.visualization.HeatmapLayer({data:n.positions.reduce((function(e,n){var i=n.weight,r=void 0===i?1:i;return e.push({location:new t.LatLng(n.lat,n.lng),weight:r}),e}),[])}))}),function(e,t){var n=t.options,i=void 0===n?{}:n;Object.keys(i).map((function(t){return e.set(t,i[t])}))}(i.heatmap,i.props.heatmap));var s=_b(e,Ob),c="function"==typeof i.props.options?i.props.options(s):i.props.options,l=!wb(i.props.draggable)&&{draggable:i.props.draggable},d=i._computeMinZoom(c.minZoom);i.minZoom_=d;var u=ob({},{overviewMapControl:!1,streetViewControl:!1,rotateControl:!0,mapTypeControl:!1,styles:[{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]}],minZoom:3},{minZoom:d},c,a);i.defaultDraggableOption_=wb(u.draggable)?i.defaultDraggableOption_:u.draggable;var h=ob({},u,l);h.minZoom=lv(h.minZoom,d);var A=new e.Map(o.findDOMNode(i.googleMapDom_),h);i.map_=A,i.maps_=e,i._setLayers(i.props.layerTypes);var p=e.version.match(/^3\.(\d+)\./),g=p&&Number(p[1]),f=sb(i),m=Object.assign(new e.OverlayView,{onAdd:function(){var t="undefined"!=typeof screen?screen.width+"px":"2000px",n="undefined"!=typeof screen?screen.height+"px":"2000px",i=document.createElement("div");if(i.style.backgroundColor="transparent",i.style.position="absolute",i.style.left="0px",i.style.top="0px",i.style.width=t,i.style.height=n,f.props.overlayViewDivStyle){var r=f.props.overlayViewDivStyle;"object"==typeof r&&Object.keys(r).forEach((function(e){i.style[e]=r[e]}))}this.getPanes().overlayMouseTarget.appendChild(i),f.geoService_.setMapCanvasProjection(e,m.getProjection()),av?f.setState({overlay:i}):sv(f,f._renderPortal(),i,(function(){return f.setState({overlay:i})}))},onRemove:function(){var e=f.state.overlay;e&&!av&&o.unmountComponentAtNode(e),f.setState({overlay:null})},draw:function(){if(f.updateCounter_++,f._onBoundsChanged(A,e,!f.props.debounced),f.googleApiLoadedCalled_||(f._onGoogleApiLoaded({map:A,maps:e,ref:f.googleMapDom_}),f.googleApiLoadedCalled_=!0),f.mouse_){var t=f.geoService_.fromContainerPixelToLatLng(f.mouse_);f.mouse_.lat=t.lat,f.mouse_.lng=t.lng}f._onChildMouseMove(),f.markersDispatcher_&&(f.markersDispatcher_.emit("kON_CHANGE"),f.fireMouseEventOnIdle_&&f.markersDispatcher_.emit("kON_MOUSE_POSITION_CHANGE"))}});i.overlay_=m,m.setMap(A),i.props.heatmap.positions&&i.heatmap.setMap(A),i.props.onTilesLoaded&&e.event.addListener(A,"tilesloaded",(function(){f._onTilesLoaded()})),e.event.addListener(A,"zoom_changed",(function(){f.geoService_.getZoom()!==A.getZoom()&&(f.zoomAnimationInProgress_||(f.zoomAnimationInProgress_=!0,f._onZoomAnimationStart(A.zoom)),g<32)&&((new Date).getTime()-i.zoomControlClickTime_<300?Tb((function(){return Tb((function(){f.updateCounter_++,f._onBoundsChanged(A,e)}))})):(f.updateCounter_++,f._onBoundsChanged(A,e)))})),e.event.addListener(A,"idle",(function(){if(i.resetSizeOnIdle_){i._setViewSize();var t=i._computeMinZoom(c.minZoom);t!==i.minZoom_&&(i.minZoom_=t,A.setOptions({minZoom:t})),i.resetSizeOnIdle_=!1}f.zoomAnimationInProgress_&&(f.zoomAnimationInProgress_=!1,f._onZoomAnimationEnd(A.zoom)),f.updateCounter_++,f._onBoundsChanged(A,e),f.dragTime_=0,f.markersDispatcher_&&f.markersDispatcher_.emit("kON_CHANGE")})),e.event.addListener(A,"mouseover",(function(){f.mouseInMap_=!0})),e.event.addListener(A,"click",(function(){f.mouseInMap_=!0})),e.event.addListener(A,"mouseout",(function(){f.mouseInMap_=!1,f.mouse_=null,f.markersDispatcher_.emit("kON_MOUSE_POSITION_CHANGE")})),e.event.addListener(A,"drag",(function(){f.dragTime_=(new Date).getTime(),f._onDrag(A)})),e.event.addListener(A,"dragend",(function(){var t=e.event.addListener(A,"idle",(function(){e.event.removeListener(t),f._onDragEnd(A)}))})),e.event.addListener(A,"maptypeid_changed",(function(){f._onMapTypeIdChange(A.getMapTypeId())}))}})).catch((function(e){throw i._onGoogleApiLoaded({map:null,maps:null,ref:i.googleMapDom_}),console.error(e),e}))}},i._onGoogleApiLoaded=function(){var e;i.props.onGoogleApiLoaded&&(e=i.props).onGoogleApiLoaded.apply(e,arguments)},i._getHoverDistance=function(){return i.props.hoverDistance},i._onDrag=function(){var e;return i.props.onDrag&&(e=i.props).onDrag.apply(e,arguments)},i._onDragEnd=function(){var e;return i.props.onDragEnd&&(e=i.props).onDragEnd.apply(e,arguments)},i._onMapTypeIdChange=function(){var e;return i.props.onMapTypeIdChange&&(e=i.props).onMapTypeIdChange.apply(e,arguments)},i._onZoomAnimationStart=function(){var e;return i.props.onZoomAnimationStart&&(e=i.props).onZoomAnimationStart.apply(e,arguments)},i._onZoomAnimationEnd=function(){var e;return i.props.onZoomAnimationEnd&&(e=i.props).onZoomAnimationEnd.apply(e,arguments)},i._onTilesLoaded=function(){return i.props.onTilesLoaded&&i.props.onTilesLoaded()},i._onChildClick=function(){var e;if(i.props.onChildClick)return(e=i.props).onChildClick.apply(e,arguments)},i._onChildMouseDown=function(e,t){i.childMouseDownArgs_=[e,t],i.props.onChildMouseDown&&i.props.onChildMouseDown(e,t,ob({},i.mouse_))},i._onChildMouseUp=function(){var e;i.childMouseDownArgs_&&(i.props.onChildMouseUp&&(e=i.props).onChildMouseUp.apply(e,i.childMouseDownArgs_.concat([ob({},i.mouse_)])),i.childMouseDownArgs_=null,i.childMouseUpTime_=(new Date).getTime())},i._onChildMouseMove=function(){var e;i.childMouseDownArgs_&&i.props.onChildMouseMove&&(e=i.props).onChildMouseMove.apply(e,i.childMouseDownArgs_.concat([ob({},i.mouse_)]))},i._onChildMouseEnter=function(){var e;if(i.props.onChildMouseEnter)return(e=i.props).onChildMouseEnter.apply(e,arguments)},i._onChildMouseLeave=function(){var e;if(i.props.onChildMouseLeave)return(e=i.props).onChildMouseLeave.apply(e,arguments)},i._setViewSize=function(){if(i.mounted_){if(document.fullscreen||document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenElement)i.geoService_.setViewSize(window.innerWidth,window.innerHeight);else{var e=o.findDOMNode(i.googleMapDom_);i.geoService_.setViewSize(e.clientWidth,e.clientHeight)}i._onBoundsChanged()}},i._onWindowResize=function(){i.resetSizeOnIdle_=!0},i._onMapMouseMove=function(e){if(i.mouseInMap_){var t=(new Date).getTime();t-i.mouseMoveTime_>50&&(i.boundingRect_=e.currentTarget.getBoundingClientRect()),i.mouseMoveTime_=t;var n=e.clientX-i.boundingRect_.left,r=e.clientY-i.boundingRect_.top;i.mouse_||(i.mouse_={x:0,y:0,lat:0,lng:0}),i.mouse_.x=n,i.mouse_.y=r;var o=i.geoService_.fromContainerPixelToLatLng(i.mouse_);i.mouse_.lat=o.lat,i.mouse_.lng=o.lng,i._onChildMouseMove(),t-i.dragTime_<100?i.fireMouseEventOnIdle_=!0:(i.markersDispatcher_.emit("kON_MOUSE_POSITION_CHANGE"),i.fireMouseEventOnIdle_=!1)}},i._onClick=function(){var e;return i.props.onClick&&!i.childMouseDownArgs_&&(new Date).getTime()-i.childMouseUpTime_>300&&0===i.dragTime_&&(e=i.props).onClick.apply(e,arguments)},i._onMapClick=function(e){i.markersDispatcher_&&(i._onMapMouseMove(e),(new Date).getTime()-i.dragTime_>100&&(i.mouse_&&i._onClick(ob({},i.mouse_,{event:e})),i.markersDispatcher_.emit("kON_CLICK",e)))},i._onMapMouseDownNative=function(e){i.mouseInMap_&&i._onMapMouseDown(e)},i._onMapMouseDown=function(e){i.markersDispatcher_&&(new Date).getTime()-i.dragTime_>100&&(i._onMapMouseMove(e),i.markersDispatcher_.emit("kON_MDOWN",e))},i._onMapMouseDownCapture=function(){Zb().isChrome&&(i.zoomControlClickTime_=(new Date).getTime())},i._onKeyDownCapture=function(){Zb().isChrome&&(i.zoomControlClickTime_=(new Date).getTime())},i._isCenterDefined=function(e){return e&&(Ob(e)&&Db(e.lat)&&Db(e.lng)||2===e.length&&Db(e[0])&&Db(e[1]))},i._onBoundsChanged=function(e,t,n){if(e){var r=e.getCenter();i.geoService_.setView([r.lat(),r.lng()],e.getZoom(),0)}if((i.props.onChange||i.props.onBoundsChange)&&i.geoService_.canProject()){var o=i.geoService_.getZoom(),a=i.geoService_.getBounds(),s=i.geoService_.getCenter();if(!function(e,t,n){if(e&&t){for(var i=0;i!==e.length;++i)if(Math.abs(e[i]-t[i])>1e-5)return!1;return!0}return!1}(a,i.prevBounds_)&&!1!==n){var c=i.geoService_.getBounds(i.props.margin);i.props.onBoundsChange&&i.props.onBoundsChange(i.centerIsObject_?ob({},s):[s.lat,s.lng],o,a,c),i.props.onChange&&i.props.onChange({center:ob({},s),zoom:o,bounds:{nw:{lat:a[0],lng:a[1]},se:{lat:a[2],lng:a[3]},sw:{lat:a[4],lng:a[5]},ne:{lat:a[6],lng:a[7]}},marginBounds:{nw:{lat:c[0],lng:c[1]},se:{lat:c[2],lng:c[3]},sw:{lat:c[4],lng:c[5]},ne:{lat:c[6],lng:c[7]}},size:i.geoService_.hasSize()?{width:i.geoService_.getWidth(),height:i.geoService_.getHeight()}:{width:0,height:0}}),i.prevBounds_=a}}},i._registerChild=function(e){i.googleMapDom_=e},i.mounted_=!1,i.initialized_=!1,i.googleApiLoadedCalled_=!1,i.map_=null,i.maps_=null,i.prevBounds_=null,i.heatmap=null,i.layers_={},i.mouse_=null,i.mouseMoveTime_=0,i.boundingRect_=null,i.mouseInMap_=!0,i.dragTime_=0,i.fireMouseEventOnIdle_=!1,i.updateCounter_=0,i.markersDispatcher_=new db(sb(i)),i.geoService_=new Bb(256),i.centerIsObject_=Ob(i.props.center),i.minZoom_=3,i.defaultDraggableOption_=!0,i.zoomControlClickTime_=0,i.childMouseDownArgs_=null,i.childMouseUpTime_=0,i.googleMapDom_=null,i._isCenterDefined(i.props.center||i.props.defaultCenter)){var r=cv(i.props.center||i.props.defaultCenter);i.geoService_.setView(r,i.props.zoom||i.props.defaultZoom,0)}return i.zoomAnimationInProgress_=!1,i.state={overlay:null},i}ab(n,e);var i=n.prototype;return i.componentDidMount=function(){var e=this;this.mounted_=!0,this.markersDispatcher_=new db(this),Jb(window,"resize",this._onWindowResize,!1),Jb(window,"keydown",this._onKeyDownCapture,!0);var t=o.findDOMNode(this.googleMapDom_);t&&Jb(t,"mousedown",this._onMapMouseDownNative,!0),Jb(window,"mouseup",this._onChildMouseUp,!1);var n=ob({},this.props.apiKey&&{key:this.props.apiKey},this.props.bootstrapURLKeys);this.props.googleMapLoader(n,this.props.heatmapLibrary),setTimeout((function(){e._setViewSize(),e._isCenterDefined(e.props.center||e.props.defaultCenter)&&e._initMap()}),0,this),this.props.resetBoundsOnResize&&function(e,t){if(void 0===e.parentNode){var n=document.createElement("div");e.parentNode=n}e=e.parentNode,Pb?e.attachEvent("onresize",t):(e.__resizeTriggers__||("static"==getComputedStyle(e).position&&(e.style.position="relative"),function(){if(!Gb){var e=(rv||"")+".resize-triggers { "+(ov||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e)),t.appendChild(n),Gb=!0}}(),e.__resizeLast__={},e.__resizeListeners__=[],(e.__resizeTriggers__=document.createElement("div")).className="resize-triggers",e.__resizeTriggers__.innerHTML='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>',e.appendChild(e.__resizeTriggers__),Xb(e),Jb(e,"scroll",Kb,!0),qb&&e.__resizeTriggers__.addEventListener(qb,(function(t){t.animationName==iv&&Xb(e)}))),e.__resizeListeners__.push(t))}(t,this._mapDomResizeCallback)},i.shouldComponentUpdate=function(e,t){return!pb(ub(this.props,["draggable"]),ub(e,["draggable"]))||!pb(this.state,t)},i.componentDidUpdate=function(e){var t=this;if(!this._isCenterDefined(e.center)&&this._isCenterDefined(this.props.center)&&setTimeout((function(){return t._initMap()}),0),this.map_){var n=this.geoService_.getCenter();if(this._isCenterDefined(this.props.center)){var i=cv(this.props.center),r=this._isCenterDefined(e.center)?cv(e.center):null;(!r||Math.abs(i.lat-r.lat)+Math.abs(i.lng-r.lng)>1e-5)&&Math.abs(i.lat-n.lat)+Math.abs(i.lng-n.lng)>1e-5&&this.map_.panTo({lat:i.lat,lng:i.lng})}if(wb(this.props.zoom)||Math.abs(this.props.zoom-e.zoom)>0&&this.map_.setZoom(this.props.zoom),!wb(e.draggable)&&wb(this.props.draggable)?this.map_.setOptions({draggable:this.defaultDraggableOption_}):pb(e.draggable,this.props.draggable)||this.map_.setOptions({draggable:this.props.draggable}),!wb(this.props.options)&&!pb(e.options,this.props.options)){var o=_b(this.maps_,Ob),a="function"==typeof this.props.options?this.props.options(o):this.props.options;if("minZoom"in(a=ub(a,["zoom","center","draggable"]))){var s=this._computeMinZoom(a.minZoom);a.minZoom=lv(a.minZoom,s)}this.map_.setOptions(a)}pb(this.props.layerTypes,e.layerTypes)||(Object.keys(this.layers_).forEach((function(e){t.layers_[e].setMap(null),delete t.layers_[e]})),this._setLayers(this.props.layerTypes)),this.heatmap&&!pb(this.props.heatmap.positions,e.heatmap.positions)&&this.heatmap.setData(this.props.heatmap.positions.map((function(e){return{location:new t.maps_.LatLng(e.lat,e.lng),weight:e.weight}}))),this.heatmap&&!pb(this.props.heatmap.options,e.heatmap.options)&&Object.keys(this.props.heatmap.options).forEach((function(e){t.heatmap.set(e,t.props.heatmap.options[e])}))}this.markersDispatcher_.emit("kON_CHANGE"),pb(this.props.hoverDistance,e.hoverDistance)||this.markersDispatcher_.emit("kON_MOUSE_POSITION_CHANGE")},i.componentWillUnmount=function(){this.mounted_=!1;var e,t,n=o.findDOMNode(this.googleMapDom_);n&&n.removeEventListener("mousedown",this._onMapMouseDownNative,!0),window.removeEventListener("resize",this._onWindowResize),window.removeEventListener("keydown",this._onKeyDownCapture),window.removeEventListener("mouseup",this._onChildMouseUp,!1),this.props.resetBoundsOnResize&&(t=this._mapDomResizeCallback,e=(e=n).parentNode,Pb?e.detachEvent("onresize",t):(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t),1),e.__resizeListeners__.length||(e.removeEventListener("scroll",Kb),e.__resizeTriggers__=!e.removeChild(e.__resizeTriggers__)))),this.overlay_&&this.overlay_.setMap(null),this.maps_&&this.map_&&this.props.shouldUnregisterMapOnUnmount&&(this.map_.setOptions({scrollwheel:!1}),this.maps_.event.clearInstanceListeners(this.map_)),this.props.shouldUnregisterMapOnUnmount&&(this.map_=null,this.maps_=null),this.markersDispatcher_.dispose(),this.resetSizeOnIdle_=!1,this.props.shouldUnregisterMapOnUnmount&&(delete this.map_,delete this.markersDispatcher_)},i.render=function(){var e=this.state.overlay,n=e?null:t.createElement(Cb,{experimental:this.props.experimental,onChildClick:this._onChildClick,onChildMouseDown:this._onChildMouseDown,onChildMouseEnter:this._onChildMouseEnter,onChildMouseLeave:this._onChildMouseLeave,geoService:this.geoService_,insideMapPanes:!1,distanceToMouse:this.props.distanceToMouse,getHoverDistance:this._getHoverDistance,dispatcher:this.markersDispatcher_});return t.createElement("div",{style:this.props.style,onMouseMove:this._onMapMouseMove,onMouseDownCapture:this._onMapMouseDownCapture,onClick:this._onMapClick},t.createElement(lb,{registerChild:this._registerChild}),av&&e&&sv(this._renderPortal(),e),n)},n}(t.Component);dv.propTypes={apiKey:Su().string,bootstrapURLKeys:Su().any,defaultCenter:Su().oneOfType([Su().array,Su().shape({lat:Su().number,lng:Su().number})]),center:Su().oneOfType([Su().array,Su().shape({lat:Su().number,lng:Su().number})]),defaultZoom:Su().number,zoom:Su().number,onBoundsChange:Su().func,onChange:Su().func,onClick:Su().func,onChildClick:Su().func,onChildMouseDown:Su().func,onChildMouseUp:Su().func,onChildMouseMove:Su().func,onChildMouseEnter:Su().func,onChildMouseLeave:Su().func,onZoomAnimationStart:Su().func,onZoomAnimationEnd:Su().func,onDrag:Su().func,onDragEnd:Su().func,onMapTypeIdChange:Su().func,onTilesLoaded:Su().func,options:Su().any,distanceToMouse:Su().func,hoverDistance:Su().number,debounced:Su().bool,margin:Su().array,googleMapLoader:Su().any,onGoogleApiLoaded:Su().func,yesIWantToUseGoogleMapApiInternals:Su().bool,draggable:Su().bool,style:Su().any,resetBoundsOnResize:Su().bool,layerTypes:Su().arrayOf(Su().string),shouldUnregisterMapOnUnmount:Su().bool},dv.defaultProps={distanceToMouse:function(e,t){return Math.sqrt((e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y))},hoverDistance:30,debounced:!0,options:function(){return{overviewMapControl:!1,streetViewControl:!1,rotateControl:!0,mapTypeControl:!1,styles:[{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]}],minZoom:3}},googleMapLoader:vb,yesIWantToUseGoogleMapApiInternals:!1,style:{width:"100%",height:"100%",margin:0,padding:0,position:"relative"},layerTypes:[],heatmap:{},heatmapLibrary:!1,shouldUnregisterMapOnUnmount:!0},dv.googleMapLoader=vb;const uv=dv;var hv=function(){return hv=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},hv.apply(this,arguments)};function Av(){return Av=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Av.apply(this,arguments)}function pv(e){return pv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pv(e)}function gv(e){var t=function(e,t){if("object"!==pv(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,"string");if("object"!==pv(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===pv(t)?t:String(t)}function fv(e,t,n){return(t=gv(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Ev(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mv(Object(n),!0).forEach((function(t){fv(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Cv(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,gv(i.key),i)}}function Iv(e,t){return Iv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Iv(e,t)}function Qv(e){return Qv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Qv(e)}function Uv(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Qv(e);if(t){var r=Qv(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===pv(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function yv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function bv(e,t){if(e){if("string"==typeof e)return yv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?yv(e,t):void 0}}function vv(e){return function(e){if(Array.isArray(e))return yv(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||bv(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Rv=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(t){}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),Sv="-ms-",Fv="-moz-",Bv="-webkit-",Tv="decl",Nv="@keyframes",_v=Math.abs,wv=String.fromCharCode,kv=Object.assign;function Dv(e){return e.trim()}function Vv(e,t,n){return e.replace(t,n)}function Zv(e,t){return e.indexOf(t)}function Wv(e,t){return 0|e.charCodeAt(t)}function Ov(e,t,n){return e.slice(t,n)}function Jv(e){return e.length}function xv(e){return e.length}function Mv(e,t){return t.push(e),e}var Lv=1,Pv=1,Gv=0,Yv=0,jv=0,Xv="";function Kv(e,t,n,i,r,o,a){return{value:e,root:t,parent:n,type:i,props:r,children:o,line:Lv,column:Pv,length:a,return:""}}function Hv(e,t){return kv(Kv("",null,null,"",null,null,0),e,{length:-e.length},t)}function zv(){return jv=Yv<Gv?Wv(Xv,Yv++):0,Pv++,10===jv&&(Pv=1,Lv++),jv}function qv(){return Wv(Xv,Yv)}function $v(){return Yv}function eR(e,t){return Ov(Xv,e,t)}function tR(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function nR(e){return Lv=Pv=1,Gv=Jv(Xv=e),Yv=0,[]}function iR(e){return Xv="",e}function rR(e){return Dv(eR(Yv-1,sR(91===e?e+2:40===e?e+1:e)))}function oR(e){for(;(jv=qv())&&jv<33;)zv();return tR(e)>2||tR(jv)>3?"":" "}function aR(e,t){for(;--t&&zv()&&!(jv<48||jv>102||jv>57&&jv<65||jv>70&&jv<97););return eR(e,$v()+(t<6&&32==qv()&&32==zv()))}function sR(e){for(;zv();)switch(jv){case e:return Yv;case 34:case 39:34!==e&&39!==e&&sR(jv);break;case 40:41===e&&sR(e);break;case 92:zv()}return Yv}function cR(e,t){for(;zv()&&e+jv!==57&&(e+jv!==84||47!==qv()););return"/*"+eR(t,Yv-1)+"*"+wv(47===e?e:zv())}function lR(e){for(;!tR(qv());)zv();return eR(e,Yv)}function dR(e){return iR(uR("",null,null,null,[""],e=nR(e),0,[0],e))}function uR(e,t,n,i,r,o,a,s,c){for(var l=0,d=0,u=a,h=0,A=0,p=0,g=1,f=1,m=1,E=0,C="",I=r,Q=o,U=i,y=C;f;)switch(p=E,E=zv()){case 40:if(108!=p&&58==Wv(y,u-1)){-1!=Zv(y+=Vv(rR(E),"&","&\f"),"&\f")&&(m=-1);break}case 34:case 39:case 91:y+=rR(E);break;case 9:case 10:case 13:case 32:y+=oR(p);break;case 92:y+=aR($v()-1,7);continue;case 47:switch(qv()){case 42:case 47:Mv(AR(cR(zv(),$v()),t,n),c);break;default:y+="/"}break;case 123*g:s[l++]=Jv(y)*m;case 125*g:case 59:case 0:switch(E){case 0:case 125:f=0;case 59+d:A>0&&Jv(y)-u&&Mv(A>32?pR(y+";",i,n,u-1):pR(Vv(y," ","")+";",i,n,u-2),c);break;case 59:y+=";";default:if(Mv(U=hR(y,t,n,l,d,r,s,C,I=[],Q=[],u),o),123===E)if(0===d)uR(y,t,U,U,I,o,u,s,Q);else switch(99===h&&110===Wv(y,3)?100:h){case 100:case 109:case 115:uR(e,U,U,i&&Mv(hR(e,U,U,0,0,r,s,C,r,I=[],u),Q),r,Q,u,s,i?I:Q);break;default:uR(y,U,U,U,[""],Q,0,s,Q)}}l=d=A=0,g=m=1,C=y="",u=a;break;case 58:u=1+Jv(y),A=p;default:if(g<1)if(123==E)--g;else if(125==E&&0==g++&&125==(jv=Yv>0?Wv(Xv,--Yv):0,Pv--,10===jv&&(Pv=1,Lv--),jv))continue;switch(y+=wv(E),E*g){case 38:m=d>0?1:(y+="\f",-1);break;case 44:s[l++]=(Jv(y)-1)*m,m=1;break;case 64:45===qv()&&(y+=rR(zv())),h=qv(),d=u=Jv(C=y+=lR($v())),E++;break;case 45:45===p&&2==Jv(y)&&(g=0)}}return o}function hR(e,t,n,i,r,o,a,s,c,l,d){for(var u=r-1,h=0===r?o:[""],A=xv(h),p=0,g=0,f=0;p<i;++p)for(var m=0,E=Ov(e,u+1,u=_v(g=a[p])),C=e;m<A;++m)(C=Dv(g>0?h[m]+" "+E:Vv(E,/&\f/g,h[m])))&&(c[f++]=C);return Kv(e,t,n,0===r?"rule":s,c,l,d)}function AR(e,t,n){return Kv(e,t,n,"comm",wv(jv),Ov(e,2,-2),0)}function pR(e,t,n,i){return Kv(e,t,n,Tv,Ov(e,0,i),Ov(e,i+1,-1),i)}function gR(e,t){for(var n="",i=xv(e),r=0;r<i;r++)n+=t(e[r],r,e,t)||"";return n}function fR(e,t,n,i){switch(e.type){case"@import":case Tv:return e.return=e.return||e.value;case"comm":return"";case Nv:return e.return=e.value+"{"+gR(e.children,i)+"}";case"rule":e.value=e.props.join(",")}return Jv(n=gR(e.children,i))?e.return=e.value+"{"+n+"}":""}function mR(e){var t=xv(e);return function(n,i,r,o){for(var a="",s=0;s<t;s++)a+=e[s](n,i,r,o)||"";return a}}function ER(e){return function(t){t.root||(t=t.return)&&e(t)}}function CR(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var IR=function(e,t,n){for(var i=0,r=0;i=r,r=qv(),38===i&&12===r&&(t[n]=1),!tR(r);)zv();return eR(e,Yv)},QR=new WeakMap,UR=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,i=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||QR.get(n))&&!i){QR.set(e,!0);for(var r=[],o=function(e,t){return iR(function(e,t){var n=-1,i=44;do{switch(tR(i)){case 0:38===i&&12===qv()&&(t[n]=1),e[n]+=IR(Yv-1,t,n);break;case 2:e[n]+=rR(i);break;case 4:if(44===i){e[++n]=58===qv()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=wv(i)}}while(i=zv());return e}(nR(e),t))}(t,r),a=n.props,s=0,c=0;s<o.length;s++)for(var l=0;l<a.length;l++,c++)e.props[c]=r[s]?o[s].replace(/&\f/g,a[l]):a[l]+" "+o[s]}}},yR=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function bR(e,t){switch(function(e,t){return 45^Wv(e,0)?(((t<<2^Wv(e,0))<<2^Wv(e,1))<<2^Wv(e,2))<<2^Wv(e,3):0}(e,t)){case 5103:return Bv+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Bv+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Bv+e+Fv+e+Sv+e+e;case 6828:case 4268:return Bv+e+Sv+e+e;case 6165:return Bv+e+Sv+"flex-"+e+e;case 5187:return Bv+e+Vv(e,/(\w+).+(:[^]+)/,Bv+"box-$1$2-ms-flex-$1$2")+e;case 5443:return Bv+e+Sv+"flex-item-"+Vv(e,/flex-|-self/,"")+e;case 4675:return Bv+e+Sv+"flex-line-pack"+Vv(e,/align-content|flex-|-self/,"")+e;case 5548:return Bv+e+Sv+Vv(e,"shrink","negative")+e;case 5292:return Bv+e+Sv+Vv(e,"basis","preferred-size")+e;case 6060:return Bv+"box-"+Vv(e,"-grow","")+Bv+e+Sv+Vv(e,"grow","positive")+e;case 4554:return Bv+Vv(e,/([^-])(transform)/g,"$1"+Bv+"$2")+e;case 6187:return Vv(Vv(Vv(e,/(zoom-|grab)/,Bv+"$1"),/(image-set)/,Bv+"$1"),e,"")+e;case 5495:case 3959:return Vv(e,/(image-set\([^]*)/,Bv+"$1$`$1");case 4968:return Vv(Vv(e,/(.+:)(flex-)?(.*)/,Bv+"box-pack:$3-ms-flex-pack:$3"),/s.+-b[^;]+/,"justify")+Bv+e+e;case 4095:case 3583:case 4068:case 2532:return Vv(e,/(.+)-inline(.+)/,Bv+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Jv(e)-1-t>6)switch(Wv(e,t+1)){case 109:if(45!==Wv(e,t+4))break;case 102:return Vv(e,/(.+:)(.+)-([^]+)/,"$1"+Bv+"$2-$3$1"+Fv+(108==Wv(e,t+3)?"$3":"$2-$3"))+e;case 115:return~Zv(e,"stretch")?bR(Vv(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==Wv(e,t+1))break;case 6444:switch(Wv(e,Jv(e)-3-(~Zv(e,"!important")&&10))){case 107:return Vv(e,":",":"+Bv)+e;case 101:return Vv(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Bv+(45===Wv(e,14)?"inline-":"")+"box$3$1"+Bv+"$2$3$1-ms-$2box$3")+e}break;case 5936:switch(Wv(e,t+11)){case 114:return Bv+e+Sv+Vv(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Bv+e+Sv+Vv(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Bv+e+Sv+Vv(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Bv+e+Sv+e+e}return e}var vR,RR,SR="undefined"!=typeof document,FR=SR?void 0:(vR=function(){return CR((function(){var e={};return function(t){return e[t]}}))},RR=new WeakMap,function(e){if(RR.has(e))return RR.get(e);var t=vR();return RR.set(e,t),t}),BR=[function(e,t,n,i){if(e.length>-1&&!e.return)switch(e.type){case Tv:e.return=bR(e.value,e.length);break;case Nv:return gR([Hv(e,{value:Vv(e.value,"@","@"+Bv)})],i);case"rule":if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=/(::plac\w+|:read-\w+)/.exec(e))?e[0]:e}(t)){case":read-only":case":read-write":return gR([Hv(e,{props:[Vv(t,/:(read-\w+)/,":-moz-$1")]})],i);case"::placeholder":return gR([Hv(e,{props:[Vv(t,/:(plac\w+)/,":"+Bv+"input-$1")]}),Hv(e,{props:[Vv(t,/:(plac\w+)/,":-moz-$1")]}),Hv(e,{props:[Vv(t,/:(plac\w+)/,"-ms-input-$1")]})],i)}return""}))}}],TR=function(e){var t=e.key;if(SR&&"css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var i=e.stylisPlugins||BR;var r,o,a={},s=[];SR&&(r=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)a[t[n]]=!0;s.push(e)})));var c=[UR,yR];if(SR){var l,d=[fR,ER((function(e){l.insert(e)}))],u=mR(c.concat(i,d));o=function(e,t,n,i){l=n,gR(dR(e?e+"{"+t.styles+"}":t.styles),u),i&&(g.inserted[t.name]=!0)}}else{var h=[fR],A=mR(c.concat(i,h)),p=FR(i)(t);o=function(e,t,n,i){var r=t.name,o=function(e,t){var n=t.name;return void 0===p[n]&&(p[n]=gR(dR(e?e+"{"+t.styles+"}":t.styles),A)),p[n]}(e,t);return void 0===g.compat?(i&&(g.inserted[r]=!0),o):i?void(g.inserted[r]=o):o}}var g={key:t,sheet:new Rv({key:t,container:r,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:o};return g.sheet.hydrate(s),g};function NR(e,t,n){return e(n={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&n.path)}},n.exports),n.exports}var _R="function"==typeof Symbol&&Symbol.for,wR=_R?Symbol.for("react.element"):60103,kR=_R?Symbol.for("react.portal"):60106,DR=_R?Symbol.for("react.fragment"):60107,VR=_R?Symbol.for("react.strict_mode"):60108,ZR=_R?Symbol.for("react.profiler"):60114,WR=_R?Symbol.for("react.provider"):60109,OR=_R?Symbol.for("react.context"):60110,JR=_R?Symbol.for("react.async_mode"):60111,xR=_R?Symbol.for("react.concurrent_mode"):60111,MR=_R?Symbol.for("react.forward_ref"):60112,LR=_R?Symbol.for("react.suspense"):60113,PR=_R?Symbol.for("react.suspense_list"):60120,GR=_R?Symbol.for("react.memo"):60115,YR=_R?Symbol.for("react.lazy"):60116,jR=_R?Symbol.for("react.block"):60121,XR=_R?Symbol.for("react.fundamental"):60117,KR=_R?Symbol.for("react.responder"):60118,HR=_R?Symbol.for("react.scope"):60119;function zR(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case wR:switch(e=e.type){case JR:case xR:case DR:case ZR:case VR:case LR:return e;default:switch(e=e&&e.$$typeof){case OR:case MR:case YR:case GR:case WR:return e;default:return t}}case kR:return t}}}function qR(e){return zR(e)===xR}var $R={AsyncMode:JR,ConcurrentMode:xR,ContextConsumer:OR,ContextProvider:WR,Element:wR,ForwardRef:MR,Fragment:DR,Lazy:YR,Memo:GR,Portal:kR,Profiler:ZR,StrictMode:VR,Suspense:LR,isAsyncMode:function(e){return qR(e)||zR(e)===JR},isConcurrentMode:qR,isContextConsumer:function(e){return zR(e)===OR},isContextProvider:function(e){return zR(e)===WR},isElement:function(e){return"object"==typeof e&&null!==e&&e.$$typeof===wR},isForwardRef:function(e){return zR(e)===MR},isFragment:function(e){return zR(e)===DR},isLazy:function(e){return zR(e)===YR},isMemo:function(e){return zR(e)===GR},isPortal:function(e){return zR(e)===kR},isProfiler:function(e){return zR(e)===ZR},isStrictMode:function(e){return zR(e)===VR},isSuspense:function(e){return zR(e)===LR},isValidElementType:function(e){return"string"==typeof e||"function"==typeof e||e===DR||e===xR||e===ZR||e===VR||e===LR||e===PR||"object"==typeof e&&null!==e&&(e.$$typeof===YR||e.$$typeof===GR||e.$$typeof===WR||e.$$typeof===OR||e.$$typeof===MR||e.$$typeof===XR||e.$$typeof===KR||e.$$typeof===HR||e.$$typeof===jR)},typeOf:zR},eS=(NR((function(e,t){})),NR((function(e){e.exports=$R}))),tS={};tS[eS.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},tS[eS.Memo]={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0};var nS="undefined"!=typeof document;function iS(e,t,n){var i="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):i+=n+" "})),i}var rS=function(e,t,n){var i=e.key+"-"+t.name;(!1===n||!1===nS&&void 0!==e.compat)&&void 0===e.registered[i]&&(e.registered[i]=t.styles)},oS=function(e,t,n){rS(e,t,n);var i=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var r="",o=t;do{var a=e.insert(t===o?"."+i:"",o,e.sheet,!0);nS||void 0===a||(r+=a),o=o.next}while(void 0!==o);if(!nS&&0!==r.length)return r}},aS={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},sS=/[A-Z]|^ms/g,cS=/_EMO_([^_]+?)_([^]*?)_EMO_/g,lS=function(e){return 45===e.charCodeAt(1)},dS=function(e){return null!=e&&"boolean"!=typeof e},uS=CR((function(e){return lS(e)?e:e.replace(sS,"-$&").toLowerCase()})),hS=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(cS,(function(e,t,n){return pS={name:t,styles:n,next:pS},t}))}return 1===aS[e]||lS(e)||"number"!=typeof t||0===t?t:t+"px"};function AS(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return pS={name:n.name,styles:n.styles,next:pS},n.name;if(void 0!==n.styles){var i=n.next;if(void 0!==i)for(;void 0!==i;)pS={name:i.name,styles:i.styles,next:pS},i=i.next;return n.styles+";"}return function(e,t,n){var i="";if(Array.isArray(n))for(var r=0;r<n.length;r++)i+=AS(e,t,n[r])+";";else for(var o in n){var a=n[o];if("object"!=typeof a)null!=t&&void 0!==t[a]?i+=o+"{"+t[a]+"}":dS(a)&&(i+=uS(o)+":"+hS(o,a)+";");else if(!Array.isArray(a)||"string"!=typeof a[0]||null!=t&&void 0!==t[a[0]]){var s=AS(e,t,a);switch(o){case"animation":case"animationName":i+=uS(o)+":"+s+";";break;default:i+=o+"{"+s+"}"}}else for(var c=0;c<a.length;c++)dS(a[c])&&(i+=uS(o)+":"+hS(o,a[c])+";")}return i}(e,t,n);case"function":if(void 0!==e){var r=pS,o=n(e);return pS=r,AS(e,t,o)}}if(null==t)return n;var a=t[n];return void 0!==a?a:n}var pS,gS=/label:\s*([^\s;\n{]+)\s*(;|$)/g,fS=function(e,t,n){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var i=!0,r="";pS=void 0;var o=e[0];null==o||void 0===o.raw?(i=!1,r+=AS(n,t,o)):r+=o[0];for(var a=1;a<e.length;a++)r+=AS(n,t,e[a]),i&&(r+=o[a]);gS.lastIndex=0;for(var s,c="";null!==(s=gS.exec(r));)c+="-"+s[1];var l=function(e){for(var t,n=0,i=0,r=e.length;r>=4;++i,r-=4)t=1540483477*(65535&(t=255&e.charCodeAt(i)|(255&e.charCodeAt(++i))<<8|(255&e.charCodeAt(++i))<<16|(255&e.charCodeAt(++i))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(r){case 3:n^=(255&e.charCodeAt(i+2))<<16;case 2:n^=(255&e.charCodeAt(i+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(i)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(r)+c;return{name:l,styles:r,next:pS}},mS="undefined"!=typeof document,ES=!!t.useInsertionEffect&&t.useInsertionEffect,CS=mS&&ES||function(e){return e()},IS=ES||t.useLayoutEffect,QS="undefined"!=typeof document,US={}.hasOwnProperty,yS=(0,t.createContext)("undefined"!=typeof HTMLElement?TR({key:"css"}):null);yS.Provider;var bS=function(e){return(0,t.forwardRef)((function(n,i){var r=(0,t.useContext)(yS);return e(n,r,i)}))};QS||(bS=function(e){return function(n){var i=(0,t.useContext)(yS);return null===i?(i=TR({key:"css"}),(0,t.createElement)(yS.Provider,{value:i},e(n,i))):e(n,i)}});var vS=(0,t.createContext)({}),RS=(new Set(["renderWithHooks","processChild","finishClassComponent","renderToString"]),"__EMOTION_TYPE_PLEASE_DO_NOT_USE__"),SS=function(e){var n=e.cache,i=e.serialized,r=e.isStringTag;rS(n,i,r);var o=CS((function(){return oS(n,i,r)}));if(!QS&&void 0!==o){for(var a,s=i.name,c=i.next;void 0!==c;)s+=" "+c.name,c=c.next;return(0,t.createElement)("style",((a={})["data-emotion"]=n.key+" "+s,a.dangerouslySetInnerHTML={__html:o},a.nonce=n.sheet.nonce,a))}return null},FS=bS((function(e,n,i){var r=e.css;"string"==typeof r&&void 0!==n.registered[r]&&(r=n.registered[r]);var o=e[RS],a=[r],s="";"string"==typeof e.className?s=iS(n.registered,a,e.className):null!=e.className&&(s=e.className+" ");var c=fS(a,void 0,(0,t.useContext)(vS));s+=n.key+"-"+c.name;var l={};for(var d in e)!US.call(e,d)||"css"===d||d===RS||(l[d]=e[d]);return l.ref=i,l.className=s,(0,t.createElement)(t.Fragment,null,(0,t.createElement)(SS,{cache:n,serialized:c,isStringTag:"string"==typeof o}),(0,t.createElement)(o,l))}));NR((function(e){function t(){return e.exports=t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(this,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}));var BS=function(e,n){var i=arguments;if(null==n||!US.call(n,"css"))return t.createElement.apply(void 0,i);var r=i.length,o=new Array(r);o[0]=FS,o[1]=function(e,t){var n={};for(var i in t)US.call(t,i)&&(n[i]=t[i]);return n[RS]=e,n}(e,n);for(var a=2;a<r;a++)o[a]=i[a];return t.createElement.apply(null,o)};bS((function(e,n){var i=e.styles,r=fS([i],void 0,(0,t.useContext)(vS));if(!QS){for(var o,a=r.name,s=r.styles,c=r.next;void 0!==c;)a+=" "+c.name,s+=c.styles,c=c.next;var l=!0===n.compat,d=n.insert("",{name:a,styles:s},n.sheet,l);return l?null:(0,t.createElement)("style",((o={})["data-emotion"]=n.key+"-global "+a,o.dangerouslySetInnerHTML={__html:d},o.nonce=n.sheet.nonce,o))}var u=(0,t.useRef)();return IS((function(){var e=n.key+"-global",t=new n.sheet.constructor({key:e,nonce:n.sheet.nonce,container:n.sheet.container,speedy:n.sheet.isSpeedy}),i=!1,o=document.querySelector('style[data-emotion="'+e+" "+r.name+'"]');return n.sheet.tags.length&&(t.before=n.sheet.tags[0]),null!==o&&(i=!0,o.setAttribute("data-emotion",e),t.hydrate([o])),u.current=[t,i],function(){t.flush()}}),[n]),IS((function(){var e=u.current,t=e[0];if(e[1])e[1]=!1;else{if(void 0!==r.next&&oS(n,r.next,!0),t.tags.length){var i=t.tags[t.tags.length-1].nextElementSibling;t.before=i,t.flush()}n.insert("",r,t,!1)}}),[n,r.name]),null}));function TS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return fS(t)}var NS=function e(t){for(var n=t.length,i=0,r="";i<n;i++){var o=t[i];if(null!=o){var a=void 0;switch(typeof o){case"boolean":break;case"object":if(Array.isArray(o))a=e(o);else for(var s in a="",o)o[s]&&s&&(a&&(a+=" "),a+=s);break;default:a=o}a&&(r&&(r+=" "),r+=a)}}return r};var _S=function(e){var n,i=e.cache,r=e.serializedArr,o=CS((function(){for(var e="",t=0;t<r.length;t++){var n=oS(i,r[t],!1);QS||void 0===n||(e+=n)}if(!QS)return e}));return QS||0===o.length?null:(0,t.createElement)("style",((n={})["data-emotion"]=i.key+" "+r.map((function(e){return e.name})).join(" "),n.dangerouslySetInnerHTML={__html:o},n.nonce=i.sheet.nonce,n))};bS((function(e,n){var i=[],r=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var o=fS(t,n.registered);return i.push(o),rS(n,o,!1),n.key+"-"+o.name},o={css:r,cx:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return function(e,t,n){var i=[],r=iS(e,i,n);return i.length<2?n:r+t(i)}(n.registered,r,NS(t))},theme:(0,t.useContext)(vS)},a=e.children(o);return!0,(0,t.createElement)(t.Fragment,null,(0,t.createElement)(_S,{cache:n,serializedArr:i}),a)}));function wS(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=o.call(n)).done)&&(s.push(i.value),s.length!==t);c=!0);}catch(e){l=!0,r=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw r}}return s}}(e,t)||bv(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kS(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function DS(e){var t;return(null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function VS(e){return DS(e).getComputedStyle(e)}const ZS=Math.round;function WS(e){return MS(e)?(e.nodeName||"").toLowerCase():""}let OS;function JS(e){return e instanceof DS(e).HTMLElement}function xS(e){return e instanceof DS(e).Element}function MS(e){return e instanceof DS(e).Node}function LS(e){return"undefined"!=typeof ShadowRoot&&(e instanceof DS(e).ShadowRoot||e instanceof ShadowRoot)}function PS(e){const{overflow:t,overflowX:n,overflowY:i,display:r}=VS(e);return/auto|scroll|overlay|hidden|clip/.test(t+i+n)&&!["inline","contents"].includes(r)}function GS(e){return xS(e)?e:e.contextElement}const YS={x:1,y:1};function jS(e){const t=GS(e);if(!JS(t))return YS;const n=t.getBoundingClientRect(),{width:i,height:r,fallback:o}=function(e){const t=VS(e);let n=parseFloat(t.width),i=parseFloat(t.height);const r=e.offsetWidth,o=e.offsetHeight,a=ZS(n)!==r||ZS(i)!==o;return a&&(n=r,i=o),{width:n,height:i,fallback:a}}(t);let a=(o?ZS(n.width):n.width)/i,s=(o?ZS(n.height):n.height)/r;return a&&Number.isFinite(a)||(a=1),s&&Number.isFinite(s)||(s=1),{x:a,y:s}}function XS(e,t,n,i){var r,o;void 0===t&&(t=!1),void 0===n&&(n=!1);const a=e.getBoundingClientRect(),s=GS(e);let c=YS;t&&(i?xS(i)&&(c=jS(i)):c=jS(e));const l=s?DS(s):window,d=/^((?!chrome|android).)*safari/i.test(function(){if(OS)return OS;const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?(OS=e.brands.map((e=>e.brand+"/"+e.version)).join(" "),OS):navigator.userAgent}())&&n;let u=(a.left+(d&&(null==(r=l.visualViewport)?void 0:r.offsetLeft)||0))/c.x,h=(a.top+(d&&(null==(o=l.visualViewport)?void 0:o.offsetTop)||0))/c.y,A=a.width/c.x,p=a.height/c.y;if(s){const e=DS(s),t=i&&xS(i)?DS(i):i;let n=e.frameElement;for(;n&&i&&t!==e;){const e=jS(n),t=n.getBoundingClientRect(),i=getComputedStyle(n);t.x+=(n.clientLeft+parseFloat(i.paddingLeft))*e.x,t.y+=(n.clientTop+parseFloat(i.paddingTop))*e.y,u*=e.x,h*=e.y,A*=e.x,p*=e.y,u+=t.x,h+=t.y,n=DS(n).frameElement}}return{width:A,height:p,top:h,right:u+A,bottom:h+p,left:u,x:u,y:h}}function KS(e){const t=function(e){if("html"===WS(e))return e;const t=e.assignedSlot||e.parentNode||LS(e)&&e.host||function(e){return((MS(e)?e.ownerDocument:e.document)||window.document).documentElement}(e);return LS(t)?t.host:t}(e);return function(e){return["html","body","#document"].includes(WS(e))}(t)?t.ownerDocument.body:JS(t)&&PS(t)?t:KS(t)}function HS(e,t){var n;void 0===t&&(t=[]);const i=KS(e),r=i===(null==(n=e.ownerDocument)?void 0:n.body),o=DS(i);return r?t.concat(o,o.visualViewport||[],PS(i)?i:[]):t.concat(i,HS(i))}var zS="undefined"!=typeof document?t.useLayoutEffect:t.useEffect,qS=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],$S=function(){};function eF(e,t){return t?"-"===t[0]?e+t:e+"__"+t:e}function tF(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];var o=[].concat(i);if(t&&e)for(var a in t)t.hasOwnProperty(a)&&t[a]&&o.push("".concat(eF(e,a)));return o.filter((function(e){return e})).map((function(e){return String(e).trim()})).join(" ")}var nF=function(e){return t=e,Array.isArray(t)?e.filter(Boolean):"object"===pv(e)&&null!==e?[e]:[];var t},iF=function(e){return e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme,Ev({},kS(e,qS))},rF=function(e,t,n){var i=e.cx,r=e.getStyles,o=e.getClassNames,a=e.className;return{css:r(t,e),className:i(null!=n?n:{},o(t,e),a)}};function oF(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function aF(e){return oF(e)?window.pageYOffset:e.scrollTop}function sF(e,t){oF(e)?window.scrollTo(0,t):e.scrollTop=t}function cF(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:$S,r=aF(e),o=t-r,a=0;!function t(){var s=function(e,t,n,i){return n*((e=e/i-1)*e*e+1)+t}(a+=10,r,o,n);sF(e,s),a<n?window.requestAnimationFrame(t):i(e)}()}function lF(e,t){var n=e.getBoundingClientRect(),i=t.getBoundingClientRect(),r=t.offsetHeight/3;i.bottom+r>n.bottom?sF(e,Math.min(t.offsetTop+t.clientHeight-e.offsetHeight+r,e.scrollHeight)):i.top-r<n.top&&sF(e,Math.max(t.offsetTop-r,0))}function dF(){try{return document.createEvent("TouchEvent"),!0}catch(e){return!1}}var uF=!1,hF={get passive(){return uF=!0}},AF="undefined"!=typeof window?window:{};AF.addEventListener&&AF.removeEventListener&&(AF.addEventListener("p",$S,hF),AF.removeEventListener("p",$S,!1));var pF=uF;function gF(e){return null!=e}function fF(e,t,n){return e?t:n}var mF=function(e){return"auto"===e?"bottom":e},EF=(0,t.createContext)(null),CF=function(e){var n=e.children,i=e.minMenuHeight,r=e.maxMenuHeight,o=e.menuPlacement,a=e.menuPosition,s=e.menuShouldScrollIntoView,c=e.theme,l=((0,t.useContext)(EF)||{}).setPortalPlacement,d=(0,t.useRef)(null),u=wS((0,t.useState)(r),2),h=u[0],A=u[1],p=wS((0,t.useState)(null),2),g=p[0],f=p[1],m=c.spacing.controlHeight;return zS((function(){var e=d.current;if(e){var t="fixed"===a,n=function(e){var t=e.maxHeight,n=e.menuEl,i=e.minHeight,r=e.placement,o=e.shouldScroll,a=e.isFixedPosition,s=e.controlHeight,c=function(e){var t=getComputedStyle(e),n="absolute"===t.position,i=/(auto|scroll)/;if("fixed"===t.position)return document.documentElement;for(var r=e;r=r.parentElement;)if(t=getComputedStyle(r),(!n||"static"!==t.position)&&i.test(t.overflow+t.overflowY+t.overflowX))return r;return document.documentElement}(n),l={placement:"bottom",maxHeight:t};if(!n||!n.offsetParent)return l;var d,u=c.getBoundingClientRect().height,h=n.getBoundingClientRect(),A=h.bottom,p=h.height,g=h.top,f=n.offsetParent.getBoundingClientRect().top,m=a||oF(d=c)?window.innerHeight:d.clientHeight,E=aF(c),C=parseInt(getComputedStyle(n).marginBottom,10),I=parseInt(getComputedStyle(n).marginTop,10),Q=f-I,U=m-g,y=Q+E,b=u-E-g,v=A-m+E+C,R=E+g-I,S=160;switch(r){case"auto":case"bottom":if(U>=p)return{placement:"bottom",maxHeight:t};if(b>=p&&!a)return o&&cF(c,v,S),{placement:"bottom",maxHeight:t};if(!a&&b>=i||a&&U>=i)return o&&cF(c,v,S),{placement:"bottom",maxHeight:a?U-C:b-C};if("auto"===r||a){var F=t,B=a?Q:y;return B>=i&&(F=Math.min(B-C-s,t)),{placement:"top",maxHeight:F}}if("bottom"===r)return o&&sF(c,v),{placement:"bottom",maxHeight:t};break;case"top":if(Q>=p)return{placement:"top",maxHeight:t};if(y>=p&&!a)return o&&cF(c,R,S),{placement:"top",maxHeight:t};if(!a&&y>=i||a&&Q>=i){var T=t;return(!a&&y>=i||a&&Q>=i)&&(T=a?Q-I:y-I),o&&cF(c,R,S),{placement:"top",maxHeight:T}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(r,'".'))}return l}({maxHeight:r,menuEl:e,minHeight:i,placement:o,shouldScroll:s&&!t,isFixedPosition:t,controlHeight:m});A(n.maxHeight),f(n.placement),null==l||l(n.placement)}}),[r,o,a,s,i,l,m]),n({ref:d,placerProps:Ev(Ev({},e),{},{placement:g||mF(o),maxHeight:h})})},IF=function(e,t){var n=e.theme,i=n.spacing.baseUnit,r=n.colors;return Ev({textAlign:"center"},t?{}:{color:r.neutral40,padding:"".concat(2*i,"px ").concat(3*i,"px")})},QF=IF,UF=IF,yF=function(e){var t=e.children,n=e.innerProps;return BS("div",Av({},rF(e,"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),n),t)};yF.defaultProps={children:"No options"};var bF=function(e){var t=e.children,n=e.innerProps;return BS("div",Av({},rF(e,"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),n),t)};bF.defaultProps={children:"Loading..."};var vF,RF,SF,FF=["size"],BF={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},TF=function(e){var t=e.size,n=kS(e,FF);return BS("svg",Av({height:t,width:t,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:BF},n))},NF=function(e){return BS(TF,Av({size:20},e),BS("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},_F=function(e){return BS(TF,Av({size:20},e),BS("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},wF=function(e,t){var n=e.isFocused,i=e.theme,r=i.spacing.baseUnit,o=i.colors;return Ev({label:"indicatorContainer",display:"flex",transition:"color 150ms"},t?{}:{color:n?o.neutral60:o.neutral20,padding:2*r,":hover":{color:n?o.neutral80:o.neutral40}})},kF=wF,DF=wF,VF=function(){var e=TS.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}(vF||(RF=["\n  0%, 80%, 100% { opacity: 0; }\n  40% { opacity: 1; }\n"],SF||(SF=RF.slice(0)),vF=Object.freeze(Object.defineProperties(RF,{raw:{value:Object.freeze(SF)}})))),ZF=function(e){var t=e.delay,n=e.offset;return BS("span",{css:TS({animation:"".concat(VF," 1s ease-in-out ").concat(t,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:n?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},WF=function(e){var t=e.innerProps,n=e.isRtl;return BS("div",Av({},rF(e,"loadingIndicator",{indicator:!0,"loading-indicator":!0}),t),BS(ZF,{delay:0,offset:n}),BS(ZF,{delay:160,offset:!0}),BS(ZF,{delay:320,offset:!n}))};WF.defaultProps={size:4};var OF=["data"],JF=["innerRef","isDisabled","isHidden","inputClassName"],xF={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},MF={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":Ev({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},xF)},LF=function(e){return Ev({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},xF)},PF=function(e){var t=e.children,n=e.innerProps;return BS("div",n,t)},GF={ClearIndicator:function(e){var t=e.children,n=e.innerProps;return BS("div",Av({},rF(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),n),t||BS(NF,null))},Control:function(e){var t=e.children,n=e.isDisabled,i=e.isFocused,r=e.innerRef,o=e.innerProps,a=e.menuIsOpen;return BS("div",Av({ref:r},rF(e,"control",{control:!0,"control--is-disabled":n,"control--is-focused":i,"control--menu-is-open":a}),o),t)},DropdownIndicator:function(e){var t=e.children,n=e.innerProps;return BS("div",Av({},rF(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),n),t||BS(_F,null))},DownChevron:_F,CrossIcon:NF,Group:function(e){var t=e.children,n=e.cx,i=e.getStyles,r=e.getClassNames,o=e.Heading,a=e.headingProps,s=e.innerProps,c=e.label,l=e.theme,d=e.selectProps;return BS("div",Av({},rF(e,"group",{group:!0}),s),BS(o,Av({},a,{selectProps:d,theme:l,getStyles:i,getClassNames:r,cx:n}),c),BS("div",null,t))},GroupHeading:function(e){var t=iF(e);t.data;var n=kS(t,OF);return BS("div",Av({},rF(e,"groupHeading",{"group-heading":!0}),n))},IndicatorsContainer:function(e){var t=e.children,n=e.innerProps;return BS("div",Av({},rF(e,"indicatorsContainer",{indicators:!0}),n),t)},IndicatorSeparator:function(e){var t=e.innerProps;return BS("span",Av({},t,rF(e,"indicatorSeparator",{"indicator-separator":!0})))},Input:function(e){var t=e.cx,n=e.value,i=iF(e),r=i.innerRef,o=i.isDisabled,a=i.isHidden,s=i.inputClassName,c=kS(i,JF);return BS("div",Av({},rF(e,"input",{"input-container":!0}),{"data-value":n||""}),BS("input",Av({className:t({input:!0},s),ref:r,style:LF(a),disabled:o},c)))},LoadingIndicator:WF,Menu:function(e){var t=e.children,n=e.innerRef,i=e.innerProps;return BS("div",Av({},rF(e,"menu",{menu:!0}),{ref:n},i),t)},MenuList:function(e){var t=e.children,n=e.innerProps,i=e.innerRef,r=e.isMulti;return BS("div",Av({},rF(e,"menuList",{"menu-list":!0,"menu-list--is-multi":r}),{ref:i},n),t)},MenuPortal:function(e){var n=e.appendTo,i=e.children,r=e.controlElement,a=e.innerProps,s=e.menuPlacement,c=e.menuPosition,l=(0,t.useRef)(null),d=(0,t.useRef)(null),u=wS((0,t.useState)(mF(s)),2),h=u[0],A=u[1],p=(0,t.useMemo)((function(){return{setPortalPlacement:A}}),[]),g=wS((0,t.useState)(null),2),f=g[0],m=g[1],E=(0,t.useCallback)((function(){if(r){var e=function(e){var t=e.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}(r),t="fixed"===c?0:window.pageYOffset,n=e[h]+t;n===(null==f?void 0:f.offset)&&e.left===(null==f?void 0:f.rect.left)&&e.width===(null==f?void 0:f.rect.width)||m({offset:n,rect:e})}}),[r,c,h,null==f?void 0:f.offset,null==f?void 0:f.rect.left,null==f?void 0:f.rect.width]);zS((function(){E()}),[E]);var C=(0,t.useCallback)((function(){"function"==typeof d.current&&(d.current(),d.current=null),r&&l.current&&(d.current=function(e,t,n,i){void 0===i&&(i={});const{ancestorScroll:r=!0,ancestorResize:o=!0,elementResize:a=!0,animationFrame:s=!1}=i,c=r&&!s,l=c||o?[...xS(e)?HS(e):e.contextElement?HS(e.contextElement):[],...HS(t)]:[];l.forEach((e=>{c&&e.addEventListener("scroll",n,{passive:!0}),o&&e.addEventListener("resize",n)}));let d,u=null;if(a){let i=!0;u=new ResizeObserver((()=>{i||n(),i=!1})),xS(e)&&!s&&u.observe(e),xS(e)||!e.contextElement||s||u.observe(e.contextElement),u.observe(t)}let h=s?XS(e):null;return s&&function t(){const i=XS(e);!h||i.x===h.x&&i.y===h.y&&i.width===h.width&&i.height===h.height||n(),h=i,d=requestAnimationFrame(t)}(),n(),()=>{var e;l.forEach((e=>{c&&e.removeEventListener("scroll",n),o&&e.removeEventListener("resize",n)})),null==(e=u)||e.disconnect(),u=null,s&&cancelAnimationFrame(d)}}(r,l.current,E,{elementResize:"ResizeObserver"in window}))}),[r,E]);zS((function(){C()}),[C]);var I=(0,t.useCallback)((function(e){l.current=e,C()}),[C]);if(!n&&"fixed"!==c||!f)return null;var Q=BS("div",Av({ref:I},rF(Ev(Ev({},e),{},{offset:f.offset,position:c,rect:f.rect}),"menuPortal",{"menu-portal":!0}),a),i);return BS(EF.Provider,{value:p},n?(0,o.createPortal)(Q,n):Q)},LoadingMessage:bF,NoOptionsMessage:yF,MultiValue:function(e){var t=e.children,n=e.components,i=e.data,r=e.innerProps,o=e.isDisabled,a=e.removeProps,s=e.selectProps,c=n.Container,l=n.Label,d=n.Remove;return BS(c,{data:i,innerProps:Ev(Ev({},rF(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":o})),r),selectProps:s},BS(l,{data:i,innerProps:Ev({},rF(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:s},t),BS(d,{data:i,innerProps:Ev(Ev({},rF(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(t||"option")},a),selectProps:s}))},MultiValueContainer:PF,MultiValueLabel:PF,MultiValueRemove:function(e){var t=e.children,n=e.innerProps;return BS("div",Av({role:"button"},n),t||BS(NF,{size:14}))},Option:function(e){var t=e.children,n=e.isDisabled,i=e.isFocused,r=e.isSelected,o=e.innerRef,a=e.innerProps;return BS("div",Av({},rF(e,"option",{option:!0,"option--is-disabled":n,"option--is-focused":i,"option--is-selected":r}),{ref:o,"aria-disabled":n},a),t)},Placeholder:function(e){var t=e.children,n=e.innerProps;return BS("div",Av({},rF(e,"placeholder",{placeholder:!0}),n),t)},SelectContainer:function(e){var t=e.children,n=e.innerProps,i=e.isDisabled,r=e.isRtl;return BS("div",Av({},rF(e,"container",{"--is-disabled":i,"--is-rtl":r}),n),t)},SingleValue:function(e){var t=e.children,n=e.isDisabled,i=e.innerProps;return BS("div",Av({},rF(e,"singleValue",{"single-value":!0,"single-value--is-disabled":n}),i),t)},ValueContainer:function(e){var t=e.children,n=e.innerProps,i=e.isMulti,r=e.hasValue;return BS("div",Av({},rF(e,"valueContainer",{"value-container":!0,"value-container--is-multi":i,"value-container--has-value":r}),n),t)}},YF=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function jF(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!((i=e[n])===(r=t[n])||YF(i)&&YF(r)))return!1;var i,r;return!0}for(var XF={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},KF=function(e){return BS("span",Av({css:XF},e))},HF={guidance:function(e){var t=e.isSearchable,n=e.isMulti,i=e.isDisabled,r=e.tabSelectsValue;switch(e.context){case"menu":return"Use Up and Down to choose options".concat(i?"":", press Enter to select the currently focused option",", press Escape to exit the menu").concat(r?", press Tab to select the option and exit the menu":"",".");case"input":return"".concat(e["aria-label"]||"Select"," is focused ").concat(t?",type to refine list":"",", press Down to open the menu, ").concat(n?" press left to focus selected values":"");case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var t=e.action,n=e.label,i=void 0===n?"":n,r=e.labels,o=e.isDisabled;switch(t){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(i,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(r.length>1?"s":""," ").concat(r.join(","),", selected.");case"select-option":return"option ".concat(i,o?" is disabled. Select another option.":", selected.");default:return""}},onFocus:function(e){var t=e.context,n=e.focused,i=e.options,r=e.label,o=void 0===r?"":r,a=e.selectValue,s=e.isDisabled,c=e.isSelected,l=function(e,t){return e&&e.length?"".concat(e.indexOf(t)+1," of ").concat(e.length):""};if("value"===t&&a)return"value ".concat(o," focused, ").concat(l(a,n),".");if("menu"===t){var d=s?" disabled":"",u="".concat(c?"selected":"focused").concat(d);return"option ".concat(o," ").concat(u,", ").concat(l(i,n),".")}return""},onFilter:function(e){var t=e.inputValue,n=e.resultsMessage;return"".concat(n).concat(t?" for search term "+t:"",".")}},zF=function(e){var n=e.ariaSelection,i=e.focusedOption,r=e.focusedValue,o=e.focusableOptions,a=e.isFocused,s=e.selectValue,c=e.selectProps,l=e.id,d=c.ariaLiveMessages,u=c.getOptionLabel,h=c.inputValue,A=c.isMulti,p=c.isOptionDisabled,g=c.isSearchable,f=c.menuIsOpen,m=c.options,E=c.screenReaderStatus,C=c.tabSelectsValue,I=c["aria-label"],Q=c["aria-live"],U=(0,t.useMemo)((function(){return Ev(Ev({},HF),d||{})}),[d]),y=(0,t.useMemo)((function(){var e,t="";if(n&&U.onChange){var i=n.option,r=n.options,o=n.removedValue,a=n.removedValues,c=n.value,l=o||i||(e=c,Array.isArray(e)?null:e),d=l?u(l):"",h=r||a||void 0,A=h?h.map(u):[],g=Ev({isDisabled:l&&p(l,s),label:d,labels:A},n);t=U.onChange(g)}return t}),[n,U,p,s,u]),b=(0,t.useMemo)((function(){var e="",t=i||r,n=!!(i&&s&&s.includes(i));if(t&&U.onFocus){var a={focused:t,label:u(t),isDisabled:p(t,s),isSelected:n,options:o,context:t===i?"menu":"value",selectValue:s};e=U.onFocus(a)}return e}),[i,r,u,p,U,o,s]),v=(0,t.useMemo)((function(){var e="";if(f&&m.length&&U.onFilter){var t=E({count:o.length});e=U.onFilter({inputValue:h,resultsMessage:t})}return e}),[o,h,f,U,m,E]),R=(0,t.useMemo)((function(){var e="";if(U.guidance){var t=r?"value":f?"menu":"input";e=U.guidance({"aria-label":I,context:t,isDisabled:i&&p(i,s),isMulti:A,isSearchable:g,tabSelectsValue:C})}return e}),[I,i,r,A,p,g,f,U,s,C]),S="".concat(b," ").concat(v," ").concat(R),F=BS(t.Fragment,null,BS("span",{id:"aria-selection"},y),BS("span",{id:"aria-context"},S)),B="initial-input-focus"===(null==n?void 0:n.action);return BS(t.Fragment,null,BS(KF,{id:l},B&&F),BS(KF,{"aria-live":Q,"aria-atomic":"false","aria-relevant":"additions text"},a&&!B&&F))},qF=[{base:"A",letters:"A\u24b6\uff21\xc0\xc1\xc2\u1ea6\u1ea4\u1eaa\u1ea8\xc3\u0100\u0102\u1eb0\u1eae\u1eb4\u1eb2\u0226\u01e0\xc4\u01de\u1ea2\xc5\u01fa\u01cd\u0200\u0202\u1ea0\u1eac\u1eb6\u1e00\u0104\u023a\u2c6f"},{base:"AA",letters:"\ua732"},{base:"AE",letters:"\xc6\u01fc\u01e2"},{base:"AO",letters:"\ua734"},{base:"AU",letters:"\ua736"},{base:"AV",letters:"\ua738\ua73a"},{base:"AY",letters:"\ua73c"},{base:"B",letters:"B\u24b7\uff22\u1e02\u1e04\u1e06\u0243\u0182\u0181"},{base:"C",letters:"C\u24b8\uff23\u0106\u0108\u010a\u010c\xc7\u1e08\u0187\u023b\ua73e"},{base:"D",letters:"D\u24b9\uff24\u1e0a\u010e\u1e0c\u1e10\u1e12\u1e0e\u0110\u018b\u018a\u0189\ua779"},{base:"DZ",letters:"\u01f1\u01c4"},{base:"Dz",letters:"\u01f2\u01c5"},{base:"E",letters:"E\u24ba\uff25\xc8\xc9\xca\u1ec0\u1ebe\u1ec4\u1ec2\u1ebc\u0112\u1e14\u1e16\u0114\u0116\xcb\u1eba\u011a\u0204\u0206\u1eb8\u1ec6\u0228\u1e1c\u0118\u1e18\u1e1a\u0190\u018e"},{base:"F",letters:"F\u24bb\uff26\u1e1e\u0191\ua77b"},{base:"G",letters:"G\u24bc\uff27\u01f4\u011c\u1e20\u011e\u0120\u01e6\u0122\u01e4\u0193\ua7a0\ua77d\ua77e"},{base:"H",letters:"H\u24bd\uff28\u0124\u1e22\u1e26\u021e\u1e24\u1e28\u1e2a\u0126\u2c67\u2c75\ua78d"},{base:"I",letters:"I\u24be\uff29\xcc\xcd\xce\u0128\u012a\u012c\u0130\xcf\u1e2e\u1ec8\u01cf\u0208\u020a\u1eca\u012e\u1e2c\u0197"},{base:"J",letters:"J\u24bf\uff2a\u0134\u0248"},{base:"K",letters:"K\u24c0\uff2b\u1e30\u01e8\u1e32\u0136\u1e34\u0198\u2c69\ua740\ua742\ua744\ua7a2"},{base:"L",letters:"L\u24c1\uff2c\u013f\u0139\u013d\u1e36\u1e38\u013b\u1e3c\u1e3a\u0141\u023d\u2c62\u2c60\ua748\ua746\ua780"},{base:"LJ",letters:"\u01c7"},{base:"Lj",letters:"\u01c8"},{base:"M",letters:"M\u24c2\uff2d\u1e3e\u1e40\u1e42\u2c6e\u019c"},{base:"N",letters:"N\u24c3\uff2e\u01f8\u0143\xd1\u1e44\u0147\u1e46\u0145\u1e4a\u1e48\u0220\u019d\ua790\ua7a4"},{base:"NJ",letters:"\u01ca"},{base:"Nj",letters:"\u01cb"},{base:"O",letters:"O\u24c4\uff2f\xd2\xd3\xd4\u1ed2\u1ed0\u1ed6\u1ed4\xd5\u1e4c\u022c\u1e4e\u014c\u1e50\u1e52\u014e\u022e\u0230\xd6\u022a\u1ece\u0150\u01d1\u020c\u020e\u01a0\u1edc\u1eda\u1ee0\u1ede\u1ee2\u1ecc\u1ed8\u01ea\u01ec\xd8\u01fe\u0186\u019f\ua74a\ua74c"},{base:"OI",letters:"\u01a2"},{base:"OO",letters:"\ua74e"},{base:"OU",letters:"\u0222"},{base:"P",letters:"P\u24c5\uff30\u1e54\u1e56\u01a4\u2c63\ua750\ua752\ua754"},{base:"Q",letters:"Q\u24c6\uff31\ua756\ua758\u024a"},{base:"R",letters:"R\u24c7\uff32\u0154\u1e58\u0158\u0210\u0212\u1e5a\u1e5c\u0156\u1e5e\u024c\u2c64\ua75a\ua7a6\ua782"},{base:"S",letters:"S\u24c8\uff33\u1e9e\u015a\u1e64\u015c\u1e60\u0160\u1e66\u1e62\u1e68\u0218\u015e\u2c7e\ua7a8\ua784"},{base:"T",letters:"T\u24c9\uff34\u1e6a\u0164\u1e6c\u021a\u0162\u1e70\u1e6e\u0166\u01ac\u01ae\u023e\ua786"},{base:"TZ",letters:"\ua728"},{base:"U",letters:"U\u24ca\uff35\xd9\xda\xdb\u0168\u1e78\u016a\u1e7a\u016c\xdc\u01db\u01d7\u01d5\u01d9\u1ee6\u016e\u0170\u01d3\u0214\u0216\u01af\u1eea\u1ee8\u1eee\u1eec\u1ef0\u1ee4\u1e72\u0172\u1e76\u1e74\u0244"},{base:"V",letters:"V\u24cb\uff36\u1e7c\u1e7e\u01b2\ua75e\u0245"},{base:"VY",letters:"\ua760"},{base:"W",letters:"W\u24cc\uff37\u1e80\u1e82\u0174\u1e86\u1e84\u1e88\u2c72"},{base:"X",letters:"X\u24cd\uff38\u1e8a\u1e8c"},{base:"Y",letters:"Y\u24ce\uff39\u1ef2\xdd\u0176\u1ef8\u0232\u1e8e\u0178\u1ef6\u1ef4\u01b3\u024e\u1efe"},{base:"Z",letters:"Z\u24cf\uff3a\u0179\u1e90\u017b\u017d\u1e92\u1e94\u01b5\u0224\u2c7f\u2c6b\ua762"},{base:"a",letters:"a\u24d0\uff41\u1e9a\xe0\xe1\xe2\u1ea7\u1ea5\u1eab\u1ea9\xe3\u0101\u0103\u1eb1\u1eaf\u1eb5\u1eb3\u0227\u01e1\xe4\u01df\u1ea3\xe5\u01fb\u01ce\u0201\u0203\u1ea1\u1ead\u1eb7\u1e01\u0105\u2c65\u0250"},{base:"aa",letters:"\ua733"},{base:"ae",letters:"\xe6\u01fd\u01e3"},{base:"ao",letters:"\ua735"},{base:"au",letters:"\ua737"},{base:"av",letters:"\ua739\ua73b"},{base:"ay",letters:"\ua73d"},{base:"b",letters:"b\u24d1\uff42\u1e03\u1e05\u1e07\u0180\u0183\u0253"},{base:"c",letters:"c\u24d2\uff43\u0107\u0109\u010b\u010d\xe7\u1e09\u0188\u023c\ua73f\u2184"},{base:"d",letters:"d\u24d3\uff44\u1e0b\u010f\u1e0d\u1e11\u1e13\u1e0f\u0111\u018c\u0256\u0257\ua77a"},{base:"dz",letters:"\u01f3\u01c6"},{base:"e",letters:"e\u24d4\uff45\xe8\xe9\xea\u1ec1\u1ebf\u1ec5\u1ec3\u1ebd\u0113\u1e15\u1e17\u0115\u0117\xeb\u1ebb\u011b\u0205\u0207\u1eb9\u1ec7\u0229\u1e1d\u0119\u1e19\u1e1b\u0247\u025b\u01dd"},{base:"f",letters:"f\u24d5\uff46\u1e1f\u0192\ua77c"},{base:"g",letters:"g\u24d6\uff47\u01f5\u011d\u1e21\u011f\u0121\u01e7\u0123\u01e5\u0260\ua7a1\u1d79\ua77f"},{base:"h",letters:"h\u24d7\uff48\u0125\u1e23\u1e27\u021f\u1e25\u1e29\u1e2b\u1e96\u0127\u2c68\u2c76\u0265"},{base:"hv",letters:"\u0195"},{base:"i",letters:"i\u24d8\uff49\xec\xed\xee\u0129\u012b\u012d\xef\u1e2f\u1ec9\u01d0\u0209\u020b\u1ecb\u012f\u1e2d\u0268\u0131"},{base:"j",letters:"j\u24d9\uff4a\u0135\u01f0\u0249"},{base:"k",letters:"k\u24da\uff4b\u1e31\u01e9\u1e33\u0137\u1e35\u0199\u2c6a\ua741\ua743\ua745\ua7a3"},{base:"l",letters:"l\u24db\uff4c\u0140\u013a\u013e\u1e37\u1e39\u013c\u1e3d\u1e3b\u017f\u0142\u019a\u026b\u2c61\ua749\ua781\ua747"},{base:"lj",letters:"\u01c9"},{base:"m",letters:"m\u24dc\uff4d\u1e3f\u1e41\u1e43\u0271\u026f"},{base:"n",letters:"n\u24dd\uff4e\u01f9\u0144\xf1\u1e45\u0148\u1e47\u0146\u1e4b\u1e49\u019e\u0272\u0149\ua791\ua7a5"},{base:"nj",letters:"\u01cc"},{base:"o",letters:"o\u24de\uff4f\xf2\xf3\xf4\u1ed3\u1ed1\u1ed7\u1ed5\xf5\u1e4d\u022d\u1e4f\u014d\u1e51\u1e53\u014f\u022f\u0231\xf6\u022b\u1ecf\u0151\u01d2\u020d\u020f\u01a1\u1edd\u1edb\u1ee1\u1edf\u1ee3\u1ecd\u1ed9\u01eb\u01ed\xf8\u01ff\u0254\ua74b\ua74d\u0275"},{base:"oi",letters:"\u01a3"},{base:"ou",letters:"\u0223"},{base:"oo",letters:"\ua74f"},{base:"p",letters:"p\u24df\uff50\u1e55\u1e57\u01a5\u1d7d\ua751\ua753\ua755"},{base:"q",letters:"q\u24e0\uff51\u024b\ua757\ua759"},{base:"r",letters:"r\u24e1\uff52\u0155\u1e59\u0159\u0211\u0213\u1e5b\u1e5d\u0157\u1e5f\u024d\u027d\ua75b\ua7a7\ua783"},{base:"s",letters:"s\u24e2\uff53\xdf\u015b\u1e65\u015d\u1e61\u0161\u1e67\u1e63\u1e69\u0219\u015f\u023f\ua7a9\ua785\u1e9b"},{base:"t",letters:"t\u24e3\uff54\u1e6b\u1e97\u0165\u1e6d\u021b\u0163\u1e71\u1e6f\u0167\u01ad\u0288\u2c66\ua787"},{base:"tz",letters:"\ua729"},{base:"u",letters:"u\u24e4\uff55\xf9\xfa\xfb\u0169\u1e79\u016b\u1e7b\u016d\xfc\u01dc\u01d8\u01d6\u01da\u1ee7\u016f\u0171\u01d4\u0215\u0217\u01b0\u1eeb\u1ee9\u1eef\u1eed\u1ef1\u1ee5\u1e73\u0173\u1e77\u1e75\u0289"},{base:"v",letters:"v\u24e5\uff56\u1e7d\u1e7f\u028b\ua75f\u028c"},{base:"vy",letters:"\ua761"},{base:"w",letters:"w\u24e6\uff57\u1e81\u1e83\u0175\u1e87\u1e85\u1e98\u1e89\u2c73"},{base:"x",letters:"x\u24e7\uff58\u1e8b\u1e8d"},{base:"y",letters:"y\u24e8\uff59\u1ef3\xfd\u0177\u1ef9\u0233\u1e8f\xff\u1ef7\u1e99\u1ef5\u01b4\u024f\u1eff"},{base:"z",letters:"z\u24e9\uff5a\u017a\u1e91\u017c\u017e\u1e93\u1e95\u01b6\u0225\u0240\u2c6c\ua763"}],$F=new RegExp("["+qF.map((function(e){return e.letters})).join("")+"]","g"),eB={},tB=0;tB<qF.length;tB++)for(var nB=qF[tB],iB=0;iB<nB.letters.length;iB++)eB[nB.letters[iB]]=nB.base;var rB=function(e){return e.replace($F,(function(e){return eB[e]}))},oB=function(e,t){void 0===t&&(t=jF);var n=null;function i(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];if(n&&n.lastThis===this&&t(i,n.lastArgs))return n.lastResult;var o=e.apply(this,i);return n={lastResult:o,lastArgs:i,lastThis:this},o}return i.clear=function(){n=null},i}(rB),aB=function(e){return e.replace(/^\s+|\s+$/g,"")},sB=function(e){return"".concat(e.label," ").concat(e.value)},cB=["innerRef"];function lB(e){var t=e.innerRef,n=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r=Object.entries(e).filter((function(e){var t=wS(e,1)[0];return!n.includes(t)}));return r.reduce((function(e,t){var n=wS(t,2),i=n[0],r=n[1];return e[i]=r,e}),{})}(kS(e,cB),"onExited","in","enter","exit","appear");return BS("input",Av({ref:t},n,{css:TS({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var dB=["boxSizing","height","overflow","paddingRight","position"],uB={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function hB(e){e.preventDefault()}function AB(e){e.stopPropagation()}function pB(){var e=this.scrollTop,t=this.scrollHeight,n=e+this.offsetHeight;0===e?this.scrollTop=1:n===t&&(this.scrollTop=e-1)}function gB(){return"ontouchstart"in window||navigator.maxTouchPoints}var fB=!("undefined"==typeof window||!window.document||!window.document.createElement),mB=0,EB={capture:!1,passive:!1},CB=function(){return document.activeElement&&document.activeElement.blur()},IB={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function QB(e){var n=e.children,i=e.lockEnabled,r=e.captureEnabled,o=function(e){var n=e.isEnabled,i=e.onBottomArrive,r=e.onBottomLeave,o=e.onTopArrive,a=e.onTopLeave,s=(0,t.useRef)(!1),c=(0,t.useRef)(!1),l=(0,t.useRef)(0),d=(0,t.useRef)(null),u=(0,t.useCallback)((function(e,t){if(null!==d.current){var n=d.current,l=n.scrollTop,u=n.scrollHeight,h=n.clientHeight,A=d.current,p=t>0,g=u-h-l,f=!1;g>t&&s.current&&(r&&r(e),s.current=!1),p&&c.current&&(a&&a(e),c.current=!1),p&&t>g?(i&&!s.current&&i(e),A.scrollTop=u,f=!0,s.current=!0):!p&&-t>l&&(o&&!c.current&&o(e),A.scrollTop=0,f=!0,c.current=!0),f&&function(e){e.preventDefault(),e.stopPropagation()}(e)}}),[i,r,o,a]),h=(0,t.useCallback)((function(e){u(e,e.deltaY)}),[u]),A=(0,t.useCallback)((function(e){l.current=e.changedTouches[0].clientY}),[]),p=(0,t.useCallback)((function(e){var t=l.current-e.changedTouches[0].clientY;u(e,t)}),[u]),g=(0,t.useCallback)((function(e){if(e){var t=!!pF&&{passive:!1};e.addEventListener("wheel",h,t),e.addEventListener("touchstart",A,t),e.addEventListener("touchmove",p,t)}}),[p,A,h]),f=(0,t.useCallback)((function(e){e&&(e.removeEventListener("wheel",h,!1),e.removeEventListener("touchstart",A,!1),e.removeEventListener("touchmove",p,!1))}),[p,A,h]);return(0,t.useEffect)((function(){if(n){var e=d.current;return g(e),function(){f(e)}}}),[n,g,f]),function(e){d.current=e}}({isEnabled:void 0===r||r,onBottomArrive:e.onBottomArrive,onBottomLeave:e.onBottomLeave,onTopArrive:e.onTopArrive,onTopLeave:e.onTopLeave}),a=function(e){var n=e.isEnabled,i=e.accountForScrollbars,r=void 0===i||i,o=(0,t.useRef)({}),a=(0,t.useRef)(null),s=(0,t.useCallback)((function(e){if(fB){var t=document.body,n=t&&t.style;if(r&&dB.forEach((function(e){var t=n&&n[e];o.current[e]=t})),r&&mB<1){var i=parseInt(o.current.paddingRight,10)||0,a=document.body?document.body.clientWidth:0,s=window.innerWidth-a+i||0;Object.keys(uB).forEach((function(e){var t=uB[e];n&&(n[e]=t)})),n&&(n.paddingRight="".concat(s,"px"))}t&&gB()&&(t.addEventListener("touchmove",hB,EB),e&&(e.addEventListener("touchstart",pB,EB),e.addEventListener("touchmove",AB,EB))),mB+=1}}),[r]),c=(0,t.useCallback)((function(e){if(fB){var t=document.body,n=t&&t.style;mB=Math.max(mB-1,0),r&&mB<1&&dB.forEach((function(e){var t=o.current[e];n&&(n[e]=t)})),t&&gB()&&(t.removeEventListener("touchmove",hB,EB),e&&(e.removeEventListener("touchstart",pB,EB),e.removeEventListener("touchmove",AB,EB)))}}),[r]);return(0,t.useEffect)((function(){if(n){var e=a.current;return s(e),function(){c(e)}}}),[n,s,c]),function(e){a.current=e}}({isEnabled:i});return BS(t.Fragment,null,i&&BS("div",{onClick:CB,css:IB}),n((function(e){o(e),a(e)})))}var UB={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},yB=function(e){var t=e.name,n=e.onFocus;return BS("input",{required:!0,name:t,tabIndex:-1,"aria-hidden":"true",onFocus:n,css:UB,value:"",onChange:function(){}})},bB={clearIndicator:DF,container:function(e){var t=e.isDisabled;return{label:"container",direction:e.isRtl?"rtl":void 0,pointerEvents:t?"none":void 0,position:"relative"}},control:function(e,t){var n=e.isDisabled,i=e.isFocused,r=e.theme,o=r.colors,a=r.borderRadius;return Ev({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:r.spacing.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},t?{}:{backgroundColor:n?o.neutral5:o.neutral0,borderColor:n?o.neutral10:i?o.primary:o.neutral20,borderRadius:a,borderStyle:"solid",borderWidth:1,boxShadow:i?"0 0 0 1px ".concat(o.primary):void 0,"&:hover":{borderColor:i?o.primary:o.neutral30}})},dropdownIndicator:kF,group:function(e,t){var n=e.theme.spacing;return t?{}:{paddingBottom:2*n.baseUnit,paddingTop:2*n.baseUnit}},groupHeading:function(e,t){var n=e.theme,i=n.colors,r=n.spacing;return Ev({label:"group",cursor:"default",display:"block"},t?{}:{color:i.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:3*r.baseUnit,paddingRight:3*r.baseUnit,textTransform:"uppercase"})},indicatorsContainer:function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},indicatorSeparator:function(e,t){var n=e.isDisabled,i=e.theme,r=i.spacing.baseUnit,o=i.colors;return Ev({label:"indicatorSeparator",alignSelf:"stretch",width:1},t?{}:{backgroundColor:n?o.neutral10:o.neutral20,marginBottom:2*r,marginTop:2*r})},input:function(e,t){var n=e.isDisabled,i=e.value,r=e.theme,o=r.spacing,a=r.colors;return Ev(Ev({visibility:n?"hidden":"visible",transform:i?"translateZ(0)":""},MF),t?{}:{margin:o.baseUnit/2,paddingBottom:o.baseUnit/2,paddingTop:o.baseUnit/2,color:a.neutral80})},loadingIndicator:function(e,t){var n=e.isFocused,i=e.size,r=e.theme,o=r.colors,a=r.spacing.baseUnit;return Ev({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:i,lineHeight:1,marginRight:i,textAlign:"center",verticalAlign:"middle"},t?{}:{color:n?o.neutral60:o.neutral20,padding:2*a})},loadingMessage:UF,menu:function(e,t){var n,i=e.placement,r=e.theme,o=r.borderRadius,a=r.spacing,s=r.colors;return Ev((fv(n={label:"menu"},function(e){return e?{bottom:"top",top:"bottom"}[e]:"bottom"}(i),"100%"),fv(n,"position","absolute"),fv(n,"width","100%"),fv(n,"zIndex",1),n),t?{}:{backgroundColor:s.neutral0,borderRadius:o,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:a.menuGutter,marginTop:a.menuGutter})},menuList:function(e,t){var n=e.maxHeight,i=e.theme.spacing.baseUnit;return Ev({maxHeight:n,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},t?{}:{paddingBottom:i,paddingTop:i})},menuPortal:function(e){var t=e.rect,n=e.offset,i=e.position;return{left:t.left,position:i,top:n,width:t.width,zIndex:1}},multiValue:function(e,t){var n=e.theme,i=n.spacing,r=n.borderRadius,o=n.colors;return Ev({label:"multiValue",display:"flex",minWidth:0},t?{}:{backgroundColor:o.neutral10,borderRadius:r/2,margin:i.baseUnit/2})},multiValueLabel:function(e,t){var n=e.theme,i=n.borderRadius,r=n.colors,o=e.cropWithEllipsis;return Ev({overflow:"hidden",textOverflow:o||void 0===o?"ellipsis":void 0,whiteSpace:"nowrap"},t?{}:{borderRadius:i/2,color:r.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},multiValueRemove:function(e,t){var n=e.theme,i=n.spacing,r=n.borderRadius,o=n.colors,a=e.isFocused;return Ev({alignItems:"center",display:"flex"},t?{}:{borderRadius:r/2,backgroundColor:a?o.dangerLight:void 0,paddingLeft:i.baseUnit,paddingRight:i.baseUnit,":hover":{backgroundColor:o.dangerLight,color:o.danger}})},noOptionsMessage:QF,option:function(e,t){var n=e.isDisabled,i=e.isFocused,r=e.isSelected,o=e.theme,a=o.spacing,s=o.colors;return Ev({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},t?{}:{backgroundColor:r?s.primary:i?s.primary25:"transparent",color:n?s.neutral20:r?s.neutral0:"inherit",padding:"".concat(2*a.baseUnit,"px ").concat(3*a.baseUnit,"px"),":active":{backgroundColor:n?void 0:r?s.primary:s.primary50}})},placeholder:function(e,t){var n=e.theme,i=n.spacing,r=n.colors;return Ev({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},t?{}:{color:r.neutral50,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},singleValue:function(e,t){var n=e.isDisabled,i=e.theme,r=i.spacing,o=i.colors;return Ev({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t?{}:{color:n?o.neutral40:o.neutral80,marginLeft:r.baseUnit/2,marginRight:r.baseUnit/2})},valueContainer:function(e,t){var n=e.theme.spacing,i=e.isMulti,r=e.hasValue,o=e.selectProps.controlShouldRenderValue;return Ev({alignItems:"center",display:i&&r&&o?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},t?{}:{padding:"".concat(n.baseUnit/2,"px ").concat(2*n.baseUnit,"px")})}},vB={borderRadius:4,colors:{primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},spacing:{baseUnit:4,controlHeight:38,menuGutter:8}},RB={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:dF(),captureMenuScroll:!dF(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:function(e,t){if(e.data.__isNew__)return!0;var n=Ev({ignoreCase:!0,ignoreAccents:!0,stringify:sB,trim:!0,matchFrom:"any"},undefined),i=n.ignoreCase,r=n.ignoreAccents,o=n.stringify,a=n.trim,s=n.matchFrom,c=a?aB(t):t,l=a?aB(o(e)):o(e);return i&&(c=c.toLowerCase(),l=l.toLowerCase()),r&&(c=oB(c),l=rB(l)),"start"===s?l.substr(0,c.length)===c:l.indexOf(c)>-1},formatGroupLabel:function(e){return e.label},getOptionLabel:function(e){return e.label},getOptionValue:function(e){return e.value},isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:function(e){return!!e.isDisabled},loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!function(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch(e){return!1}}(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var t=e.count;return"".concat(t," result").concat(1!==t?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function SB(e,t,n,i){return{type:"option",data:t,isDisabled:wB(e,t,n),isSelected:kB(e,t,n),label:NB(e,t),value:_B(e,t),index:i}}function FB(e,t){return e.options.map((function(n,i){if("options"in n){var r=n.options.map((function(n,i){return SB(e,n,t,i)})).filter((function(t){return TB(e,t)}));return r.length>0?{type:"group",data:n,options:r,index:i}:void 0}var o=SB(e,n,t,i);return TB(e,o)?o:void 0})).filter(gF)}function BB(e){return e.reduce((function(e,t){return"group"===t.type?e.push.apply(e,vv(t.options.map((function(e){return e.data})))):e.push(t.data),e}),[])}function TB(e,t){var n=e.inputValue,i=void 0===n?"":n,r=t.data,o=t.isSelected,a=t.label,s=t.value;return(!VB(e)||!o)&&DB(e,{label:a,value:s,data:r},i)}var NB=function(e,t){return e.getOptionLabel(t)},_B=function(e,t){return e.getOptionValue(t)};function wB(e,t,n){return"function"==typeof e.isOptionDisabled&&e.isOptionDisabled(t,n)}function kB(e,t,n){if(n.indexOf(t)>-1)return!0;if("function"==typeof e.isOptionSelected)return e.isOptionSelected(t,n);var i=_B(e,t);return n.some((function(t){return _B(e,t)===i}))}function DB(e,t,n){return!e.filterOption||e.filterOption(t,n)}var VB=function(e){var t=e.hideSelectedOptions,n=e.isMulti;return void 0===t?n:t},ZB=1,WB=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Iv(e,t)}(a,t.Component);var n,i,r,o=Uv(a);function a(e){var t;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=o.call(this,e)).state={ariaSelection:null,focusedOption:null,focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0},t.blockOptionHover=!1,t.isComposing=!1,t.commonProps=void 0,t.initialTouchX=0,t.initialTouchY=0,t.instancePrefix="",t.openAfterFocus=!1,t.scrollToFocusedOptionOnUpdate=!1,t.userIsDragging=void 0,t.controlRef=null,t.getControlRef=function(e){t.controlRef=e},t.focusedOptionRef=null,t.getFocusedOptionRef=function(e){t.focusedOptionRef=e},t.menuListRef=null,t.getMenuListRef=function(e){t.menuListRef=e},t.inputRef=null,t.getInputRef=function(e){t.inputRef=e},t.focus=t.focusInput,t.blur=t.blurInput,t.onChange=function(e,n){var i=t.props,r=i.onChange,o=i.name;n.name=o,t.ariaOnChange(e,n),r(e,n)},t.setValue=function(e,n,i){var r=t.props,o=r.closeMenuOnSelect,a=r.isMulti,s=r.inputValue;t.onInputChange("",{action:"set-value",prevInputValue:s}),o&&(t.setState({inputIsHiddenAfterUpdate:!a}),t.onMenuClose()),t.setState({clearFocusValueOnUpdate:!0}),t.onChange(e,{action:n,option:i})},t.selectOption=function(e){var n=t.props,i=n.blurInputOnSelect,r=n.isMulti,o=n.name,a=t.state.selectValue,s=r&&t.isOptionSelected(e,a),c=t.isOptionDisabled(e,a);if(s){var l=t.getOptionValue(e);t.setValue(a.filter((function(e){return t.getOptionValue(e)!==l})),"deselect-option",e)}else{if(c)return void t.ariaOnChange(e,{action:"select-option",option:e,name:o});r?t.setValue([].concat(vv(a),[e]),"select-option",e):t.setValue(e,"select-option")}i&&t.blurInput()},t.removeValue=function(e){var n=t.props.isMulti,i=t.state.selectValue,r=t.getOptionValue(e),o=i.filter((function(e){return t.getOptionValue(e)!==r})),a=fF(n,o,o[0]||null);t.onChange(a,{action:"remove-value",removedValue:e}),t.focusInput()},t.clearValue=function(){var e=t.state.selectValue;t.onChange(fF(t.props.isMulti,[],null),{action:"clear",removedValues:e})},t.popValue=function(){var e=t.props.isMulti,n=t.state.selectValue,i=n[n.length-1],r=n.slice(0,n.length-1),o=fF(e,r,r[0]||null);t.onChange(o,{action:"pop-value",removedValue:i})},t.getValue=function(){return t.state.selectValue},t.cx=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return tF.apply(void 0,[t.props.classNamePrefix].concat(n))},t.getOptionLabel=function(e){return NB(t.props,e)},t.getOptionValue=function(e){return _B(t.props,e)},t.getStyles=function(e,n){var i=t.props.unstyled,r=bB[e](n,i);r.boxSizing="border-box";var o=t.props.styles[e];return o?o(r,n):r},t.getClassNames=function(e,n){var i,r;return null===(i=(r=t.props.classNames)[e])||void 0===i?void 0:i.call(r,n)},t.getElementId=function(e){return"".concat(t.instancePrefix,"-").concat(e)},t.getComponents=function(){return e=t.props,Ev(Ev({},GF),e.components);var e},t.buildCategorizedOptions=function(){return FB(t.props,t.state.selectValue)},t.getCategorizedOptions=function(){return t.props.menuIsOpen?t.buildCategorizedOptions():[]},t.buildFocusableOptions=function(){return BB(t.buildCategorizedOptions())},t.getFocusableOptions=function(){return t.props.menuIsOpen?t.buildFocusableOptions():[]},t.ariaOnChange=function(e,n){t.setState({ariaSelection:Ev({value:e},n)})},t.onMenuMouseDown=function(e){0===e.button&&(e.stopPropagation(),e.preventDefault(),t.focusInput())},t.onMenuMouseMove=function(e){t.blockOptionHover=!1},t.onControlMouseDown=function(e){if(!e.defaultPrevented){var n=t.props.openMenuOnClick;t.state.isFocused?t.props.menuIsOpen?"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&t.onMenuClose():n&&t.openMenu("first"):(n&&(t.openAfterFocus=!0),t.focusInput()),"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&e.preventDefault()}},t.onDropdownIndicatorMouseDown=function(e){if(!(e&&"mousedown"===e.type&&0!==e.button||t.props.isDisabled)){var n=t.props,i=n.isMulti,r=n.menuIsOpen;t.focusInput(),r?(t.setState({inputIsHiddenAfterUpdate:!i}),t.onMenuClose()):t.openMenu("first"),e.preventDefault()}},t.onClearIndicatorMouseDown=function(e){e&&"mousedown"===e.type&&0!==e.button||(t.clearValue(),e.preventDefault(),t.openAfterFocus=!1,"touchend"===e.type?t.focusInput():setTimeout((function(){return t.focusInput()})))},t.onScroll=function(e){"boolean"==typeof t.props.closeMenuOnScroll?e.target instanceof HTMLElement&&oF(e.target)&&t.props.onMenuClose():"function"==typeof t.props.closeMenuOnScroll&&t.props.closeMenuOnScroll(e)&&t.props.onMenuClose()},t.onCompositionStart=function(){t.isComposing=!0},t.onCompositionEnd=function(){t.isComposing=!1},t.onTouchStart=function(e){var n=e.touches,i=n&&n.item(0);i&&(t.initialTouchX=i.clientX,t.initialTouchY=i.clientY,t.userIsDragging=!1)},t.onTouchMove=function(e){var n=e.touches,i=n&&n.item(0);if(i){var r=Math.abs(i.clientX-t.initialTouchX),o=Math.abs(i.clientY-t.initialTouchY);t.userIsDragging=r>5||o>5}},t.onTouchEnd=function(e){t.userIsDragging||(t.controlRef&&!t.controlRef.contains(e.target)&&t.menuListRef&&!t.menuListRef.contains(e.target)&&t.blurInput(),t.initialTouchX=0,t.initialTouchY=0)},t.onControlTouchEnd=function(e){t.userIsDragging||t.onControlMouseDown(e)},t.onClearIndicatorTouchEnd=function(e){t.userIsDragging||t.onClearIndicatorMouseDown(e)},t.onDropdownIndicatorTouchEnd=function(e){t.userIsDragging||t.onDropdownIndicatorMouseDown(e)},t.handleInputChange=function(e){var n=t.props.inputValue,i=e.currentTarget.value;t.setState({inputIsHiddenAfterUpdate:!1}),t.onInputChange(i,{action:"input-change",prevInputValue:n}),t.props.menuIsOpen||t.onMenuOpen()},t.onInputFocus=function(e){t.props.onFocus&&t.props.onFocus(e),t.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(t.openAfterFocus||t.props.openMenuOnFocus)&&t.openMenu("first"),t.openAfterFocus=!1},t.onInputBlur=function(e){var n=t.props.inputValue;t.menuListRef&&t.menuListRef.contains(document.activeElement)?t.inputRef.focus():(t.props.onBlur&&t.props.onBlur(e),t.onInputChange("",{action:"input-blur",prevInputValue:n}),t.onMenuClose(),t.setState({focusedValue:null,isFocused:!1}))},t.onOptionHover=function(e){t.blockOptionHover||t.state.focusedOption===e||t.setState({focusedOption:e})},t.shouldHideSelectedOptions=function(){return VB(t.props)},t.onValueInputFocus=function(e){e.preventDefault(),e.stopPropagation(),t.focus()},t.onKeyDown=function(e){var n=t.props,i=n.isMulti,r=n.backspaceRemovesValue,o=n.escapeClearsValue,a=n.inputValue,s=n.isClearable,c=n.isDisabled,l=n.menuIsOpen,d=n.onKeyDown,u=n.tabSelectsValue,h=n.openMenuOnFocus,A=t.state,p=A.focusedOption,g=A.focusedValue,f=A.selectValue;if(!(c||"function"==typeof d&&(d(e),e.defaultPrevented))){switch(t.blockOptionHover=!0,e.key){case"ArrowLeft":if(!i||a)return;t.focusValue("previous");break;case"ArrowRight":if(!i||a)return;t.focusValue("next");break;case"Delete":case"Backspace":if(a)return;if(g)t.removeValue(g);else{if(!r)return;i?t.popValue():s&&t.clearValue()}break;case"Tab":if(t.isComposing)return;if(e.shiftKey||!l||!u||!p||h&&t.isOptionSelected(p,f))return;t.selectOption(p);break;case"Enter":if(229===e.keyCode)break;if(l){if(!p)return;if(t.isComposing)return;t.selectOption(p);break}return;case"Escape":l?(t.setState({inputIsHiddenAfterUpdate:!1}),t.onInputChange("",{action:"menu-close",prevInputValue:a}),t.onMenuClose()):s&&o&&t.clearValue();break;case" ":if(a)return;if(!l){t.openMenu("first");break}if(!p)return;t.selectOption(p);break;case"ArrowUp":l?t.focusOption("up"):t.openMenu("last");break;case"ArrowDown":l?t.focusOption("down"):t.openMenu("first");break;case"PageUp":if(!l)return;t.focusOption("pageup");break;case"PageDown":if(!l)return;t.focusOption("pagedown");break;case"Home":if(!l)return;t.focusOption("first");break;case"End":if(!l)return;t.focusOption("last");break;default:return}e.preventDefault()}},t.instancePrefix="react-select-"+(t.props.instanceId||++ZB),t.state.selectValue=nF(e.value),e.menuIsOpen&&t.state.selectValue.length){var n=t.buildFocusableOptions(),i=n.indexOf(t.state.selectValue[0]);t.state.focusedOption=n[i]}return t}return n=a,i=[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&lF(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isDisabled,i=t.menuIsOpen,r=this.state.isFocused;(r&&!n&&e.isDisabled||r&&i&&!e.menuIsOpen)&&this.focusInput(),r&&n&&!e.isDisabled?this.setState({isFocused:!1},this.onMenuClose):r||n||!e.isDisabled||this.inputRef!==document.activeElement||this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(lF(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(e,t){this.props.onInputChange(e,t)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(e){var t=this,n=this.state,i=n.selectValue,r=n.isFocused,o=this.buildFocusableOptions(),a="first"===e?0:o.length-1;if(!this.props.isMulti){var s=o.indexOf(i[0]);s>-1&&(a=s)}this.scrollToFocusedOptionOnUpdate=!(r&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:o[a]},(function(){return t.onMenuOpen()}))}},{key:"focusValue",value:function(e){var t=this.state,n=t.selectValue,i=t.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var r=n.indexOf(i);i||(r=-1);var o=n.length-1,a=-1;if(n.length){switch(e){case"previous":a=0===r?0:-1===r?o:r-1;break;case"next":r>-1&&r<o&&(a=r+1)}this.setState({inputIsHidden:-1!==a,focusedValue:n[a]})}}}},{key:"focusOption",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"first",t=this.props.pageSize,n=this.state.focusedOption,i=this.getFocusableOptions();if(i.length){var r=0,o=i.indexOf(n);n||(o=-1),"up"===e?r=o>0?o-1:i.length-1:"down"===e?r=(o+1)%i.length:"pageup"===e?(r=o-t)<0&&(r=0):"pagedown"===e?(r=o+t)>i.length-1&&(r=i.length-1):"last"===e&&(r=i.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:i[r],focusedValue:null})}}},{key:"getTheme",value:function(){return this.props.theme?"function"==typeof this.props.theme?this.props.theme(vB):Ev(Ev({},vB),this.props.theme):vB}},{key:"getCommonProps",value:function(){var e=this.clearValue,t=this.cx,n=this.getStyles,i=this.getClassNames,r=this.getValue,o=this.selectOption,a=this.setValue,s=this.props,c=s.isMulti,l=s.isRtl,d=s.options;return{clearValue:e,cx:t,getStyles:n,getClassNames:i,getValue:r,hasValue:this.hasValue(),isMulti:c,isRtl:l,options:d,selectOption:o,selectProps:s,setValue:a,theme:this.getTheme()}}},{key:"hasValue",value:function(){return this.state.selectValue.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var e=this.props,t=e.isClearable,n=e.isMulti;return void 0===t?n:t}},{key:"isOptionDisabled",value:function(e,t){return wB(this.props,e,t)}},{key:"isOptionSelected",value:function(e,t){return kB(this.props,e,t)}},{key:"filterOption",value:function(e,t){return DB(this.props,e,t)}},{key:"formatOptionLabel",value:function(e,t){if("function"==typeof this.props.formatOptionLabel){var n=this.props.inputValue,i=this.state.selectValue;return this.props.formatOptionLabel(e,{context:t,inputValue:n,selectValue:i})}return this.getOptionLabel(e)}},{key:"formatGroupLabel",value:function(e){return this.props.formatGroupLabel(e)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var e=this.props,n=e.isDisabled,i=e.isSearchable,r=e.inputId,o=e.inputValue,a=e.tabIndex,s=e.form,c=e.menuIsOpen,l=e.required,d=this.getComponents().Input,u=this.state,h=u.inputIsHidden,A=u.ariaSelection,p=this.commonProps,g=r||this.getElementId("input"),f=Ev(Ev(Ev({"aria-autocomplete":"list","aria-expanded":c,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":l,role:"combobox"},c&&{"aria-controls":this.getElementId("listbox"),"aria-owns":this.getElementId("listbox")}),!i&&{"aria-readonly":!0}),this.hasValue()?"initial-input-focus"===(null==A?void 0:A.action)&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return i?t.createElement(d,Av({},p,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:g,innerRef:this.getInputRef,isDisabled:n,isHidden:h,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:a,form:s,type:"text",value:o},f)):t.createElement(lB,Av({id:g,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:$S,onFocus:this.onInputFocus,disabled:n,tabIndex:a,inputMode:"none",form:s,value:""},f))}},{key:"renderPlaceholderOrValue",value:function(){var e=this,n=this.getComponents(),i=n.MultiValue,r=n.MultiValueContainer,o=n.MultiValueLabel,a=n.MultiValueRemove,s=n.SingleValue,c=n.Placeholder,l=this.commonProps,d=this.props,u=d.controlShouldRenderValue,h=d.isDisabled,A=d.isMulti,p=d.inputValue,g=d.placeholder,f=this.state,m=f.selectValue,E=f.focusedValue,C=f.isFocused;if(!this.hasValue()||!u)return p?null:t.createElement(c,Av({},l,{key:"placeholder",isDisabled:h,isFocused:C,innerProps:{id:this.getElementId("placeholder")}}),g);if(A)return m.map((function(n,s){var c=n===E,d="".concat(e.getOptionLabel(n),"-").concat(e.getOptionValue(n));return t.createElement(i,Av({},l,{components:{Container:r,Label:o,Remove:a},isFocused:c,isDisabled:h,key:d,index:s,removeProps:{onClick:function(){return e.removeValue(n)},onTouchEnd:function(){return e.removeValue(n)},onMouseDown:function(e){e.preventDefault()}},data:n}),e.formatOptionLabel(n,"value"))}));if(p)return null;var I=m[0];return t.createElement(s,Av({},l,{data:I,isDisabled:h}),this.formatOptionLabel(I,"value"))}},{key:"renderClearIndicator",value:function(){var e=this.getComponents().ClearIndicator,n=this.commonProps,i=this.props,r=i.isDisabled,o=i.isLoading,a=this.state.isFocused;if(!this.isClearable()||!e||r||!this.hasValue()||o)return null;var s={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return t.createElement(e,Av({},n,{innerProps:s,isFocused:a}))}},{key:"renderLoadingIndicator",value:function(){var e=this.getComponents().LoadingIndicator,n=this.commonProps,i=this.props,r=i.isDisabled,o=i.isLoading,a=this.state.isFocused;return e&&o?t.createElement(e,Av({},n,{innerProps:{"aria-hidden":"true"},isDisabled:r,isFocused:a})):null}},{key:"renderIndicatorSeparator",value:function(){var e=this.getComponents(),n=e.DropdownIndicator,i=e.IndicatorSeparator;if(!n||!i)return null;var r=this.commonProps,o=this.props.isDisabled,a=this.state.isFocused;return t.createElement(i,Av({},r,{isDisabled:o,isFocused:a}))}},{key:"renderDropdownIndicator",value:function(){var e=this.getComponents().DropdownIndicator;if(!e)return null;var n=this.commonProps,i=this.props.isDisabled,r=this.state.isFocused,o={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return t.createElement(e,Av({},n,{innerProps:o,isDisabled:i,isFocused:r}))}},{key:"renderMenu",value:function(){var e=this,n=this.getComponents(),i=n.Group,r=n.GroupHeading,o=n.Menu,a=n.MenuList,s=n.MenuPortal,c=n.LoadingMessage,l=n.NoOptionsMessage,d=n.Option,u=this.commonProps,h=this.state.focusedOption,A=this.props,p=A.captureMenuScroll,g=A.inputValue,f=A.isLoading,m=A.loadingMessage,E=A.minMenuHeight,C=A.maxMenuHeight,I=A.menuIsOpen,Q=A.menuPlacement,U=A.menuPosition,y=A.menuPortalTarget,b=A.menuShouldBlockScroll,v=A.menuShouldScrollIntoView,R=A.noOptionsMessage,S=A.onMenuScrollToTop,F=A.onMenuScrollToBottom;if(!I)return null;var B,T=function(n,i){var r=n.type,o=n.data,a=n.isDisabled,s=n.isSelected,c=n.label,l=n.value,A=h===o,p=a?void 0:function(){return e.onOptionHover(o)},g=a?void 0:function(){return e.selectOption(o)},f="".concat(e.getElementId("option"),"-").concat(i),m={id:f,onClick:g,onMouseMove:p,onMouseOver:p,tabIndex:-1};return t.createElement(d,Av({},u,{innerProps:m,data:o,isDisabled:a,isSelected:s,key:f,label:c,type:r,value:l,isFocused:A,innerRef:A?e.getFocusedOptionRef:void 0}),e.formatOptionLabel(n.data,"menu"))};if(this.hasOptions())B=this.getCategorizedOptions().map((function(n){if("group"===n.type){var o=n.data,a=n.options,s=n.index,c="".concat(e.getElementId("group"),"-").concat(s),l="".concat(c,"-heading");return t.createElement(i,Av({},u,{key:c,data:o,options:a,Heading:r,headingProps:{id:l,data:n.data},label:e.formatGroupLabel(n.data)}),n.options.map((function(e){return T(e,"".concat(s,"-").concat(e.index))})))}if("option"===n.type)return T(n,"".concat(n.index))}));else if(f){var N=m({inputValue:g});if(null===N)return null;B=t.createElement(c,u,N)}else{var _=R({inputValue:g});if(null===_)return null;B=t.createElement(l,u,_)}var w={minMenuHeight:E,maxMenuHeight:C,menuPlacement:Q,menuPosition:U,menuShouldScrollIntoView:v},k=t.createElement(CF,Av({},u,w),(function(n){var i=n.ref,r=n.placerProps,s=r.placement,c=r.maxHeight;return t.createElement(o,Av({},u,w,{innerRef:i,innerProps:{onMouseDown:e.onMenuMouseDown,onMouseMove:e.onMenuMouseMove,id:e.getElementId("listbox")},isLoading:f,placement:s}),t.createElement(QB,{captureEnabled:p,onTopArrive:S,onBottomArrive:F,lockEnabled:b},(function(n){return t.createElement(a,Av({},u,{innerRef:function(t){e.getMenuListRef(t),n(t)},isLoading:f,maxHeight:c,focusedOption:h}),B)})))}));return y||"fixed"===U?t.createElement(s,Av({},u,{appendTo:y,controlElement:this.controlRef,menuPlacement:Q,menuPosition:U}),k):k}},{key:"renderFormField",value:function(){var e=this,n=this.props,i=n.delimiter,r=n.isDisabled,o=n.isMulti,a=n.name,s=n.required,c=this.state.selectValue;if(s&&!this.hasValue()&&!r)return t.createElement(yB,{name:a,onFocus:this.onValueInputFocus});if(a&&!r){if(o){if(i){var l=c.map((function(t){return e.getOptionValue(t)})).join(i);return t.createElement("input",{name:a,type:"hidden",value:l})}var d=c.length>0?c.map((function(n,i){return t.createElement("input",{key:"i-".concat(i),name:a,type:"hidden",value:e.getOptionValue(n)})})):t.createElement("input",{name:a,type:"hidden",value:""});return t.createElement("div",null,d)}var u=c[0]?this.getOptionValue(c[0]):"";return t.createElement("input",{name:a,type:"hidden",value:u})}}},{key:"renderLiveRegion",value:function(){var e=this.commonProps,n=this.state,i=n.ariaSelection,r=n.focusedOption,o=n.focusedValue,a=n.isFocused,s=n.selectValue,c=this.getFocusableOptions();return t.createElement(zF,Av({},e,{id:this.getElementId("live-region"),ariaSelection:i,focusedOption:r,focusedValue:o,isFocused:a,selectValue:s,focusableOptions:c}))}},{key:"render",value:function(){var e=this.getComponents(),n=e.Control,i=e.IndicatorsContainer,r=e.SelectContainer,o=e.ValueContainer,a=this.props,s=a.className,c=a.id,l=a.isDisabled,d=a.menuIsOpen,u=this.state.isFocused,h=this.commonProps=this.getCommonProps();return t.createElement(r,Av({},h,{className:s,innerProps:{id:c,onKeyDown:this.onKeyDown},isDisabled:l,isFocused:u}),this.renderLiveRegion(),t.createElement(n,Av({},h,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:l,isFocused:u,menuIsOpen:d}),t.createElement(o,Av({},h,{isDisabled:l}),this.renderPlaceholderOrValue(),this.renderInput()),t.createElement(i,Av({},h,{isDisabled:l}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],r=[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.prevProps,i=t.clearFocusValueOnUpdate,r=t.inputIsHiddenAfterUpdate,o=t.ariaSelection,a=t.isFocused,s=t.prevWasFocused,c=e.options,l=e.value,d=e.menuIsOpen,u=e.inputValue,h=e.isMulti,A=nF(l),p={};if(n&&(l!==n.value||c!==n.options||d!==n.menuIsOpen||u!==n.inputValue)){var g=d?function(e,t){return BB(FB(e,t))}(e,A):[],f=i?function(e,t){var n=e.focusedValue,i=e.selectValue.indexOf(n);if(i>-1){if(t.indexOf(n)>-1)return n;if(i<t.length)return t[i]}return null}(t,A):null,m=function(e,t){var n=e.focusedOption;return n&&t.indexOf(n)>-1?n:t[0]}(t,g);p={selectValue:A,focusedOption:m,focusedValue:f,clearFocusValueOnUpdate:!1}}var E=null!=r&&e!==n?{inputIsHidden:r,inputIsHiddenAfterUpdate:void 0}:{},C=o,I=a&&s;return a&&!I&&(C={value:fF(h,A,A[0]||null),options:A,action:"initial-input-focus"},I=!s),"initial-input-focus"===(null==o?void 0:o.action)&&(C=null),Ev(Ev(Ev({},p),E),{},{prevProps:e,ariaSelection:C,prevWasFocused:I})}}],i&&Cv(n.prototype,i),r&&Cv(n,r),Object.defineProperty(n,"prototype",{writable:!1}),a}();WB.defaultProps=RB;var OB=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"],JB=["defaultOptions","cacheOptions","loadOptions","options","isLoading","onInputChange","filterOption"],xB=NR((function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})),MB=NR((function(e){var t=xB.default;e.exports=function(e,n){if("object"!==t(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,n||"default");if("object"!==t(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports})),LB=NR((function(e){var t=xB.default;e.exports=function(e){var n=MB(e,"string");return"symbol"===t(n)?n:String(n)},e.exports.__esModule=!0,e.exports.default=e.exports})),PB=NR((function(e){e.exports=function(e,t,n){return(t=LB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports}));NR((function(e){function t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}e.exports=function(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?t(Object(i),!0).forEach((function(t){PB(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):t(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e},e.exports.__esModule=!0,e.exports.default=e.exports})),NR((function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports})),NR((function(e){function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,LB(i.key),i)}}e.exports=function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports}));var GB=NR((function(e){function t(n,i){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,i)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}));NR((function(e){e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&GB(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports}));var YB=NR((function(e){function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})),jB=NR((function(e){e.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},e.exports.__esModule=!0,e.exports.default=e.exports})),XB=NR((function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports})),KB=NR((function(e){var t=xB.default;e.exports=function(e,n){if(n&&("object"===t(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return XB(e)},e.exports.__esModule=!0,e.exports.default=e.exports}));NR((function(e){e.exports=function(e){var t=jB();return function(){var n,i=YB(e);if(t){var r=YB(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return KB(this,n)}},e.exports.__esModule=!0,e.exports.default=e.exports}));var HB=NR((function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i},e.exports.__esModule=!0,e.exports.default=e.exports})),zB=NR((function(e){e.exports=function(e){if(Array.isArray(e))return HB(e)},e.exports.__esModule=!0,e.exports.default=e.exports})),qB=NR((function(e){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports})),$B=NR((function(e){e.exports=function(e,t){if(e){if("string"==typeof e)return HB(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?HB(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports})),eT=NR((function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports}));NR((function(e){e.exports=function(e){return zB(e)||qB(e)||$B(e)||eT()},e.exports.__esModule=!0,e.exports.default=e.exports}));var tT=NR((function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports})),nT=NR((function(e){e.exports=function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=o.call(n)).done)&&(s.push(i.value),s.length!==t);c=!0);}catch(e){l=!0,r=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw r}}return s}},e.exports.__esModule=!0,e.exports.default=e.exports})),iT=NR((function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports}));NR((function(e){e.exports=function(e,t){return tT(e)||nT(e,t)||$B(e,t)||iT()},e.exports.__esModule=!0,e.exports.default=e.exports}));var rT=NR((function(e){e.exports=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r},e.exports.__esModule=!0,e.exports.default=e.exports}));NR((function(e){e.exports=function(e,t){if(null==e)return{};var n,i,r=rT(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r},e.exports.__esModule=!0,e.exports.default=e.exports})),NR((function(e){e.exports=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))},e.exports.__esModule=!0,e.exports.default=e.exports}));var oT,aT=(0,t.forwardRef)((function(e,n){var i=function(e){var n=e.defaultOptions,i=void 0!==n&&n,r=e.cacheOptions,o=void 0!==r&&r,a=e.loadOptions;e.options;var s=e.isLoading,c=void 0!==s&&s,l=e.onInputChange,d=e.filterOption,u=void 0===d?null:d,h=kS(e,JB),A=h.inputValue,p=(0,t.useRef)(void 0),g=(0,t.useRef)(!1),f=wS((0,t.useState)(Array.isArray(i)?i:void 0),2),m=f[0],E=f[1],C=wS((0,t.useState)(void 0!==A?A:""),2),I=C[0],Q=C[1],U=wS((0,t.useState)(!0===i),2),y=U[0],b=U[1],v=wS((0,t.useState)(void 0),2),R=v[0],S=v[1],F=wS((0,t.useState)([]),2),B=F[0],T=F[1],N=wS((0,t.useState)(!1),2),_=N[0],w=N[1],k=wS((0,t.useState)({}),2),D=k[0],V=k[1],Z=wS((0,t.useState)(void 0),2),W=Z[0],O=Z[1],J=wS((0,t.useState)(void 0),2),x=J[0],M=J[1];o!==x&&(V({}),M(o)),i!==W&&(E(Array.isArray(i)?i:void 0),O(i)),(0,t.useEffect)((function(){return g.current=!0,function(){g.current=!1}}),[]);var L=(0,t.useCallback)((function(e,t){if(!a)return t();var n=a(e,t);n&&"function"==typeof n.then&&n.then(t,(function(){return t()}))}),[a]);(0,t.useEffect)((function(){!0===i&&L(I,(function(e){g.current&&(E(e||[]),b(!!p.current))}))}),[]);var P=(0,t.useCallback)((function(e,t){var n=function(e,t,n){if(n){var i=n(e,t);if("string"==typeof i)return i}return e}(e,t,l);if(!n)return p.current=void 0,Q(""),S(""),T([]),b(!1),void w(!1);if(o&&D[n])Q(n),S(n),T(D[n]),b(!1),w(!1);else{var i=p.current={};Q(n),b(!0),w(!R),L(n,(function(e){g&&i===p.current&&(p.current=void 0,b(!1),S(n),T(e||[]),w(!1),V(e?Ev(Ev({},D),{},fv({},n,e)):D))}))}}),[o,L,R,D,l]),G=_?[]:I&&R?B:m||[];return Ev(Ev({},h),{},{options:G,isLoading:y||c,onInputChange:P,filterOption:u})}(e),r=function(e){var n=e.defaultInputValue,i=void 0===n?"":n,r=e.defaultMenuIsOpen,o=void 0!==r&&r,a=e.defaultValue,s=void 0===a?null:a,c=e.inputValue,l=e.menuIsOpen,d=e.onChange,u=e.onInputChange,h=e.onMenuClose,A=e.onMenuOpen,p=e.value,g=kS(e,OB),f=wS((0,t.useState)(void 0!==c?c:i),2),m=f[0],E=f[1],C=wS((0,t.useState)(void 0!==l?l:o),2),I=C[0],Q=C[1],U=wS((0,t.useState)(void 0!==p?p:s),2),y=U[0],b=U[1],v=(0,t.useCallback)((function(e,t){"function"==typeof d&&d(e,t),b(e)}),[d]),R=(0,t.useCallback)((function(e,t){var n;"function"==typeof u&&(n=u(e,t)),E(void 0!==n?n:e)}),[u]),S=(0,t.useCallback)((function(){"function"==typeof A&&A(),Q(!0)}),[A]),F=(0,t.useCallback)((function(){"function"==typeof h&&h(),Q(!1)}),[h]),B=void 0!==c?c:m,T=void 0!==l?l:I,N=void 0!==p?p:y;return Ev(Ev({},g),{},{inputValue:B,menuIsOpen:T,onChange:v,onInputChange:R,onMenuClose:F,onMenuOpen:S,value:N})}(i);return t.createElement(WB,Av({ref:n},r))})),sT=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var i,r,o;if(Array.isArray(t)){if((i=t.length)!=n.length)return!1;for(r=i;0!=r--;)if(!e(t[r],n[r]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((i=(o=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(r=i;0!=r--;)if(!Object.prototype.hasOwnProperty.call(n,o[r]))return!1;for(r=i;0!=r--;){var a=o[r];if(!e(t[a],n[a]))return!1}return!0}return t!=t&&n!=n};!function(e){e[e.INITIALIZED=0]="INITIALIZED",e[e.LOADING=1]="LOADING",e[e.SUCCESS=2]="SUCCESS",e[e.FAILURE=3]="FAILURE"}(oT||(oT={}));class cT{constructor(e){let{apiKey:t,authReferrerPolicy:n,channel:i,client:r,id:o="__googleMapsScriptId",language:a,libraries:s=[],mapIds:c,nonce:l,region:d,retries:u=3,url:h="https://maps.googleapis.com/maps/api/js",version:A}=e;if(this.CALLBACK="__googleMapsCallback",this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=t,this.authReferrerPolicy=n,this.channel=i,this.client=r,this.id=o||"__googleMapsScriptId",this.language=a,this.libraries=s,this.mapIds=c,this.nonce=l,this.region=d,this.retries=u,this.url=h,this.version=A,cT.instance){if(!sT(this.options,cT.instance.options))throw new Error("Loader must not be called again with different options. ".concat(JSON.stringify(this.options)," !== ").concat(JSON.stringify(cT.instance.options)));return cT.instance}cT.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?oT.FAILURE:this.done?oT.SUCCESS:this.loading?oT.LOADING:oT.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){let e=this.url;return e+="?callback=".concat(this.CALLBACK),this.apiKey&&(e+="&key=".concat(this.apiKey)),this.channel&&(e+="&channel=".concat(this.channel)),this.client&&(e+="&client=".concat(this.client)),this.libraries.length>0&&(e+="&libraries=".concat(this.libraries.join(","))),this.language&&(e+="&language=".concat(this.language)),this.region&&(e+="&region=".concat(this.region)),this.version&&(e+="&v=".concat(this.version)),this.mapIds&&(e+="&map_ids=".concat(this.mapIds.join(","))),this.authReferrerPolicy&&(e+="&auth_referrer_policy=".concat(this.authReferrerPolicy)),e}deleteScript(){const e=document.getElementById(this.id);e&&e.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise(((e,t)=>{this.loadCallback((n=>{n?t(n.error):e(window.google)}))}))}loadCallback(e){this.callbacks.push(e),this.execute()}setScript(){if(document.getElementById(this.id))return void this.callback();const e=this.createUrl(),t=document.createElement("script");t.id=this.id,t.type="text/javascript",t.src=e,t.onerror=this.loadErrorCallback.bind(this),t.defer=!0,t.async=!0,this.nonce&&(t.nonce=this.nonce),document.head.appendChild(t)}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(e){if(this.errors.push(e),this.errors.length<=this.retries){const e=this.errors.length*Math.pow(2,this.errors.length);console.log("Failed to load Google Maps script, retrying in ".concat(e," ms.")),setTimeout((()=>{this.deleteScript(),this.setScript()}),e)}else this.onerrorEvent=e,this.callback()}setCallback(){window.__googleMapsCallback=this.callback.bind(this)}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach((e=>{e(this.onerrorEvent)})),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version)return console.warn("Google Maps already loaded outside @googlemaps/js-api-loader.This may result in undesirable behavior as options and script parameters may not match."),void this.callback();this.loading||(this.loading=!0,this.setCallback(),this.setScript())}}}var lT=function(e){var n=e.autocompletionRequest,i=e.debounce,r=e.minLengthAutocomplete,o=e.placesService,a=e.sessionToken,s=e.withSessionToken,c=function(e,n,i){void 0===i&&(i={});var r=i.maxWait,o=(0,t.useRef)(null),a=(0,t.useRef)([]),s=i.leading,c=void 0===i.trailing||i.trailing,l=(0,t.useRef)(!1),d=(0,t.useRef)(null),u=(0,t.useRef)(!1),h=(0,t.useRef)(e);h.current=e;var A=(0,t.useCallback)((function(){clearTimeout(d.current),clearTimeout(o.current),o.current=null,a.current=[],d.current=null,l.current=!1}),[]);(0,t.useEffect)((function(){return u.current=!1,function(){u.current=!0}}),[]);var p=(0,t.useCallback)((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];a.current=e,clearTimeout(d.current),l.current&&(l.current=!1),d.current||!s||l.current||(h.current.apply(h,e),l.current=!0),d.current=setTimeout((function(){var t=!0;s&&l.current&&(t=!1),A(),!u.current&&c&&t&&h.current.apply(h,e)}),n),r&&!o.current&&c&&(o.current=setTimeout((function(){var e=a.current;A(),u.current||h.current.apply(null,e)}),r))}),[r,n,A,s,c]),g=(0,t.useCallback)((function(){d.current&&(h.current.apply(null,a.current),A())}),[A]);return[p,A,g]}((function(e,t){if(!o)return t([]);if(e.length<r)return t([]);var i=hv({},n);o.getPlacePredictions(function(e,t,n){var i,r=e.bounds,o=e.location,a=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}(e,["bounds","location"]),s=hv({input:t},a);return n&&(s.sessionToken=n),r&&(s.bounds=new((i=google.maps.LatLngBounds).bind.apply(i,function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),r=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,r++)i[r]=o[a];return i}([void 0],r)))),o&&(s.location=new google.maps.LatLng(o)),s}(i,e,s&&a),(function(e){t((e||[]).map((function(e){return{label:e.description,value:e}})))}))}),i)[0];return c},dT=(0,t.forwardRef)((function(e,n){var i,r,o,a,s,c,l,d,u=function(e){var n=e.apiKey,i=e.apiOptions,r=e.onLoadFailed,o=(0,t.useState)(void 0),a=o[0],s=o[1],c=(0,t.useState)(void 0),l=c[0],d=c[1],u=function(){if(!window.google)throw new Error("[react-google-places-autocomplete]: Google script not loaded");if(!window.google.maps)throw new Error("[react-google-places-autocomplete]: Google maps script not loaded");if(!window.google.maps.places)throw new Error("[react-google-places-autocomplete]: Google maps places script not loaded");s(new window.google.maps.places.AutocompleteService),d(new google.maps.places.AutocompleteSessionToken)};return(0,t.useEffect)((function(){n?function(e,t,n,i){new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))}(void 0,void 0,void 0,(function(){var e;return function(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((r=(r=a.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(t){switch(t.label){case 0:if(!n)return[2];t.label=1;case 1:return t.trys.push([1,4,,5]),window.google&&window.google.maps&&window.google.maps.places?[3,3]:[4,new cT(hv({apiKey:n},hv({libraries:["places"]},i))).load()];case 2:t.sent(),t.label=3;case 3:return u(),[3,5];case 4:return e=t.sent(),"function"==typeof r&&r(e),[3,5];case 5:return[2]}}))})):u()}),[]),{placesService:a,sessionToken:l,setSessionToken:d}}({apiKey:null!==(i=e.apiKey)&&void 0!==i?i:"",apiOptions:null!==(r=e.apiOptions)&&void 0!==r?r:{},onLoadFailed:null!==(o=e.onLoadFailed)&&void 0!==o?o:console.error}),h=u.placesService,A=u.sessionToken,p=u.setSessionToken,g=lT({autocompletionRequest:null!==(a=e.autocompletionRequest)&&void 0!==a?a:{},debounce:null!==(s=e.debounce)&&void 0!==s?s:300,minLengthAutocomplete:null!==(c=e.minLengthAutocomplete)&&void 0!==c?c:0,placesService:h,sessionToken:A,withSessionToken:null!==(l=e.withSessionToken)&&void 0!==l&&l});return(0,t.useImperativeHandle)(n,(function(){return{getSessionToken:function(){return A},refreshSessionToken:function(){p(new google.maps.places.AutocompleteSessionToken)}}}),[A]),t.createElement(aT,hv({},null!==(d=e.selectProps)&&void 0!==d?d:{},{loadOptions:g,getOptionValue:function(e){return e.value.place_id}}))})),uT=n(5655);const hT=(e,t)=>(0,dd.jsx)("div",{style:{width:"30px",height:"30px"},children:(0,dd.jsx)("i",{className:"fa-solid fa-location-dot",style:{width:"100%",height:"100%",color:"#ffc600",fontSize:"24px"}})}),AT=e=>{var n;let{setValues:i,handleInput:r,values:o}=e;const[a,s]=(0,t.useState)({companylocation:{lat:null,lng:null}}),[c,l]=(0,t.useState)({lat:null===o||void 0===o?void 0:o.location.lat,lng:null===o||void 0===o?void 0:o.location.lng}),d={center:{lat:23.8859,lng:45.0792},zoom:6},[u,h]=(0,t.useState)({center:{lat:23.8859,lng:45.0792},zoom:6}),[A,p]=(0,t.useState)("");(0,t.useEffect)((()=>{(async()=>{try{(0,uT.setKey)("AIzaSyA_9dyGB-Du4nrXiyVLx_Ice7c93V-JOGY");const e=await(0,uT.geocode)(uT.RequestType.ADDRESS,A.label),{lat:t,lng:n}=e.results[0].geometry.location,r={lat:t,lng:n};l(r),h({center:{lat:r.lat,lng:r.lng},zoom:15}),console.log("Latitude:",r.lat),console.log("Longitude:",r.lng),console.log("NNNNNNN"),console.log(c),i({...o,address:A,location:r})}catch(e){console.error(e)}})()}),[A]),console.log(A?u.center:(A||null!==a&&void 0!==a&&a.companylocation.lat)&&null!==a&&void 0!==a&&a.companylocation.lat?a.companylocation:u.center);const g=()=>{"geolocation"in navigator?navigator.geolocation.getCurrentPosition((e=>{const{latitude:t,longitude:n}=e.coords;console.log("Latitude is :",t),console.log("Longitude is :",n),h({center:{lat:t,lng:n},zoom:15})}),(e=>{console.error("Error getting user location:",e)})):console.error("Geolocation is not supported by this browser.")};return(0,t.useEffect)((()=>{g()}),[]),(0,dd.jsx)(dd.Fragment,{children:(0,dd.jsxs)("div",{className:"mapDiv",children:[(0,dd.jsx)("p",{children:"Address"}),(0,dd.jsx)(dT,{id:"addressInput",selectProps:{address:A,onChange:p}}),(0,dd.jsx)("p",{children:"Location"}),(0,dd.jsx)(uv,{bootstrapURLKeys:{key:"AIzaSyA_9dyGB-Du4nrXiyVLx_Ice7c93V-JOGY"},defaultCenter:d.center,defaultZoom:null!==a&&void 0!==a&&a.companylocation?15:d.zoom,center:A?u.center:(A||null!==o&&void 0!==o&&o.location.lat)&&null!==o&&void 0!==o&&o.location.lat?{lat:parseFloat(null===o||void 0===o?void 0:o.location.lat),lng:parseFloat(null===o||void 0===o?void 0:o.location.lng)}:u.center,zoom:null!==o&&void 0!==o&&null!==(n=o.location)&&void 0!==n&&n.lat?15:u.zoom,onClick:e=>{const t={lat:e.lat,lng:e.lng};l(t),i({...o,location:t}),console.log("Latitude:",t.lat),console.log("Longitude:",t.lng)},children:c&&(0,dd.jsx)(hT,{lat:c.lat,lng:c.lng})}),(0,dd.jsx)("button",{className:"locationBtn",onClick:()=>{g(),i({...o,location:u.center})},children:"Live Location"}),(0,dd.jsxs)("div",{className:"checkboxDiv",style:{marginTop:"15px"},children:[(0,dd.jsx)(HA,{name:"ishideLocation",checked:o.ishideLocation,onChange:r,sx:{"& .MuiSvgIcon-root":{fontSize:18},"&.Mui-checked":{color:"#ffc600"}}}),(0,dd.jsx)("p",{children:"Hide the exact location to the users"})]})]})})},pT=Ui({name:"property",initialState:{propertyInfo:[]},reducers:{setProperty:(e,t)=>{e.propertyInfo=t.payload},clearProperty:(e,t)=>{e.propertyInfo=[]}}}),{setProperty:gT,clearProperty:fT}=pT.actions,mT=pT.reducer,ET="".concat("http://43.205.115.65","/api/property"),CT=ko.injectEndpoints({endpoints:e=>({updateProperty:e.mutation({query:e=>({url:"".concat(ET,"/").concat(e.tour_id),method:"POST",body:e})}),getProperty:e.mutation({query:e=>({url:"".concat(ET,"/").concat(e),method:"GET"})})})}),{useUpdatePropertyMutation:IT,useGetPropertyMutation:QT}=CT,UT=()=>{const e=Ft(),{propertyInfo:n}=Ct((e=>e.property)),[i,r]=(0,t.useState)({title:null!==n&&void 0!==n&&n.property_title?null===n||void 0===n?void 0:n.property_title:"",type:null!==n&&void 0!==n&&n.property_type?null===n||void 0===n?void 0:n.property_type:"",adType:null!==n&&void 0!==n&&n.ad_type?null===n||void 0===n?void 0:n.ad_type:"",areaUnit:null!==n&&void 0!==n&&n.area_unit?null===n||void 0===n?void 0:n.area_unit:"",surface:null!==n&&void 0!==n&&n.surface?null===n||void 0===n?void 0:n.surface:"",coin:null!==n&&void 0!==n&&n.coin?null===n||void 0===n?void 0:n.coin:"",price:null!==n&&void 0!==n&&n.price?null===n||void 0===n?void 0:n.price:"",description:null!==n&&void 0!==n&&n.description?null===n||void 0===n?void 0:n.description:"",externalId:null!==n&&void 0!==n&&n.external_ID?null===n||void 0===n?void 0:n.external_ID:"",agent:null!==n&&void 0!==n&&n.agent?null===n||void 0===n?void 0:n.agent:"",address:null!==n&&void 0!==n&&n.address?null===n||void 0===n?void 0:n.address:"",location:null!==n&&void 0!==n&&n.location?null===n||void 0===n?void 0:n.location:{},isshowPropertyDetails:null===n||void 0===n||!n.showDetails||(null===n||void 0===n?void 0:n.showDetails),isenableWaterMark:null===n||void 0===n||!n.enableWatermark||(null===n||void 0===n?void 0:n.enableWatermark),ishideLocation:!(null===n||void 0===n||!n.hideExactLocation)&&(null===n||void 0===n?void 0:n.hideExactLocation)}),[o]=IT(),[a]=QT(),{userInfo:s}=Ct((e=>e.auth)),c=e=>{const{name:t,value:n}=e.target;r((e=>({...e,[t]:n})))},l=e=>{const{name:t,checked:n}=e.target;r((e=>({...e,[t]:n})))};console.log(i);return(0,t.useEffect)((()=>{r({title:null!==n&&void 0!==n&&n.property_title?null===n||void 0===n?void 0:n.property_title:"",type:null!==n&&void 0!==n&&n.property_type?null===n||void 0===n?void 0:n.property_type:"",adType:null!==n&&void 0!==n&&n.ad_type?null===n||void 0===n?void 0:n.ad_type:"",areaUnit:null!==n&&void 0!==n&&n.area_unit?null===n||void 0===n?void 0:n.area_unit:"",surface:null!==n&&void 0!==n&&n.surface?null===n||void 0===n?void 0:n.surface:"",coin:null!==n&&void 0!==n&&n.coin?null===n||void 0===n?void 0:n.coin:"",price:null!==n&&void 0!==n&&n.price?null===n||void 0===n?void 0:n.price:"",description:null!==n&&void 0!==n&&n.description?null===n||void 0===n?void 0:n.description:"",externalId:null!==n&&void 0!==n&&n.external_ID?null===n||void 0===n?void 0:n.external_ID:"",agent:null!==n&&void 0!==n&&n.agent?null===n||void 0===n?void 0:n.agent:"",address:null!==n&&void 0!==n&&n.address?null===n||void 0===n?void 0:n.address:"",location:null!==n&&void 0!==n&&n.location?null===n||void 0===n?void 0:n.location:{},isshowPropertyDetails:null===n||void 0===n||!n.showDetails||(null===n||void 0===n?void 0:n.showDetails),isenableWaterMark:null===n||void 0===n||!n.enableWatermark||(null===n||void 0===n?void 0:n.enableWatermark),ishideLocation:!(null===n||void 0===n||!n.hideExactLocation)&&(null===n||void 0===n?void 0:n.hideExactLocation)})}),[n]),(0,t.useEffect)((()=>{(async()=>{let t=window.location.pathname.split("/")[2];try{const n=await a(t).unwrap();e(gT({...n}))}catch(n){console.error(n),ot.error(n.msg)}})()}),[]),console.log("propertyInfo",n),(0,dd.jsxs)("div",{id:"propertyDetail",children:[(0,dd.jsxs)("span",{className:"propertydetailspan1",children:[(0,dd.jsx)("h1",{children:"Internal Details"}),(0,dd.jsx)("button",{onClick:async t=>{t.preventDefault();let n=window.location.pathname.split("/")[2],r={user_id:s._id,tour_id:n,property_title:i.title,property_type:i.type,ad_type:i.adType,area_unit:i.areaUnit,surface:i.surface,coin:i.coin,price:i.price,description:i.description,external_ID:i.externalId,agent:i.agent,address:i.address.label,location:i.location,showDetails:i.isshowPropertyDetails,enableWatermark:i.isenableWaterMark,hideExactLocation:i.ishideLocation};try{const t=await o(r).unwrap();ot.success("Property Updated",{position:"top-center"}),e(gT({...t}))}catch(a){console.error(a),ot.error(a.msg)}},children:"Save"})]}),(0,dd.jsxs)("span",{className:"propertydetailspan2",children:[(0,dd.jsx)("p",{children:"Tour not published"}),(0,dd.jsxs)("span",{children:[(0,dd.jsx)("i",{className:"fa-solid fa-house"}),(0,dd.jsx)("p",{children:"1978430"})]}),(0,dd.jsxs)("span",{children:[(0,dd.jsx)("i",{className:"fa-regular fa-folder-closed"}),(0,dd.jsx)("p",{children:"Properties/3D Tour Demo"})]})]}),(0,dd.jsx)("h1",{className:"propertydetailh1",children:"Tour details"}),(0,dd.jsxs)("div",{className:"propertyDetailmainDiv",children:[(0,dd.jsxs)("div",{className:"propertyDetailDiv1",children:[(0,dd.jsx)("p",{children:"Property title"}),(0,dd.jsx)("input",{type:"text",name:"title",placeholder:"3D Tour Demo",value:i.title,onChange:c}),(0,dd.jsxs)("div",{className:"selectDiv",children:[(0,dd.jsxs)("span",{className:"span1",children:[(0,dd.jsx)("p",{children:"Property type"}),(0,dd.jsxs)("select",{name:"type",className:"selectInput",style:{marginRight:"20px"},value:i.type,onChange:c,children:[(0,dd.jsx)("option",{value:"house",children:"House"}),(0,dd.jsx)("option",{value:"flat",children:"Flat"}),(0,dd.jsx)("option",{value:"aparment",children:"Aparment"}),(0,dd.jsx)("option",{value:"duplex",children:"Duplex"}),(0,dd.jsx)("option",{value:"office",children:"Office"})]})]}),(0,dd.jsxs)("span",{className:"span1",children:[(0,dd.jsx)("p",{children:"Ad type"}),(0,dd.jsxs)("select",{name:"adType",className:"selectInput",style:{marginRight:"20px"},value:i.adType,onChange:c,children:[(0,dd.jsx)("option",{value:"sale",children:"Sale"}),(0,dd.jsx)("option",{value:"rental",children:"Rental"}),(0,dd.jsx)("option",{value:"sold out",children:"Sold out"}),(0,dd.jsx)("option",{value:"rented",children:"Rented"})]})]}),(0,dd.jsxs)("span",{className:"span1",children:[(0,dd.jsx)("p",{children:"Area unit"}),(0,dd.jsxs)("select",{name:"areaUnit",className:"selectInput",style:{marginRight:"20px"},value:i.areaUnit,onChange:c,children:[(0,dd.jsx)("option",{value:"feet",children:"Square feet (ft\xb2)"}),(0,dd.jsx)("option",{value:"meters",children:"Square meters (m\xb2)"})]})]}),(0,dd.jsxs)("span",{className:"span1",children:[(0,dd.jsx)("p",{children:"Surface"}),(0,dd.jsx)("input",{type:"text",name:"surface",placeholder:"123",value:i.surface,onChange:c})]})]}),(0,dd.jsxs)("div",{className:"priceDiv",children:[(0,dd.jsxs)("span",{className:"span1",children:[(0,dd.jsx)("p",{children:"Coin"}),(0,dd.jsxs)("select",{name:"coin",className:"selectInput",style:{marginRight:"20px"},value:i.coin,onChange:c,children:[(0,dd.jsx)("option",{value:"pkr",children:"PKR"}),(0,dd.jsx)("option",{value:"aed",children:"AED - Dirham"}),(0,dd.jsx)("option",{value:"sar",children:"SAR - Riyal"})]})]}),(0,dd.jsxs)("span",{className:"span1",children:[(0,dd.jsx)("p",{children:"Price"}),(0,dd.jsx)("input",{type:"text",name:"price",placeholder:"100",value:i.price,onChange:c})]})]}),(0,dd.jsxs)("span",{className:"textareaspan",children:[(0,dd.jsx)("p",{children:"Property description "}),(0,dd.jsx)("textarea",{name:"description",id:"descriptionArea",cols:"30",rows:"10",placeholder:" Beautiful home in xyz...",value:i.description,onChange:c})]}),(0,dd.jsxs)("div",{className:"priceDiv",children:[(0,dd.jsxs)("span",{className:"span1",children:[(0,dd.jsx)("p",{children:"External ID"}),(0,dd.jsx)("input",{type:"text",name:"externalId",placeholder:"xyz@gmail.com",style:{marginRight:"20px"},value:i.email,onChange:c})]}),(0,dd.jsxs)("span",{className:"span1",children:[(0,dd.jsx)("p",{children:"Agent"}),(0,dd.jsxs)("select",{name:"agent",className:"selectInput",value:i.agent,onChange:c,children:[(0,dd.jsx)("option",{value:"no",children:"No"}),(0,dd.jsx)("option",{value:"yes",children:"Yes"})]})]})]}),(0,dd.jsxs)("div",{className:"checkboxDiv",children:[(0,dd.jsx)(HA,{name:"isshowPropertyDetails",checked:i.isshowPropertyDetails,onChange:l,sx:{"& .MuiSvgIcon-root":{fontSize:18},"&.Mui-checked":{color:"#ffc600"}}}),(0,dd.jsx)("p",{children:"Show Property Details"})]}),(0,dd.jsxs)("div",{className:"checkboxDiv",children:[(0,dd.jsx)(HA,{name:"isenableWaterMark",checked:i.isenableWaterMark,onChange:l,sx:{"& .MuiSvgIcon-root":{fontSize:18},"&.Mui-checked":{color:"#ffc600"}}}),(0,dd.jsx)("p",{children:"Enable watermark"})]})]}),(0,dd.jsx)("div",{className:"propertyDetailDiv2",children:(0,dd.jsx)(AT,{setValues:r,values:i,handleInput:l})})]})]})};cU.register(ny,ay,vU,yU,WU,$U,VU);const yT=()=>{const[e,n]=(0,t.useState)([]),[i,r]=(0,t.useState)(!0),o=()=>{const e=window.innerWidth;r(e>500)},a={labels:e.map((e=>(e=>i?e.toLocaleDateString("en-GB"):e.getDate().toString())(e))),datasets:[{label:"Dataset 1",data:[1,3,4,5,1,3,7],borderColor:"#ffc600",backgroundColor:"rgba(255, 99, 132, 0.5)"}]};return(0,t.useEffect)((()=>{n((e=>{const t=new Date,n=Array.from({length:e},((e,n)=>{const i=new Date(t);return i.setDate(t.getDate()-n),i}));return n})(7))}),[]),(0,t.useEffect)((()=>(o(),window.addEventListener("resize",o),()=>{window.removeEventListener("resize",o)})),[]),(0,dd.jsxs)("div",{id:"propertystats",children:[(0,dd.jsxs)("div",{className:"propertystatsDiv1",children:[(0,dd.jsxs)("div",{className:"propertystatsDiv1d1",children:[(0,dd.jsx)("span",{className:"span1",children:(0,dd.jsx)("i",{className:"fa-regular fa-eye"})}),(0,dd.jsxs)("span",{className:"span2",children:[(0,dd.jsx)("p",{className:"p1",children:"Total visits"}),(0,dd.jsx)("p",{className:"p2",children:"4"})]})]}),(0,dd.jsxs)("div",{className:"propertystatsDiv1d1",children:[(0,dd.jsx)("span",{className:"span1 userSpan",children:(0,dd.jsx)("i",{className:"fa-solid fa-users"})}),(0,dd.jsxs)("span",{className:"span2",children:[(0,dd.jsx)("p",{className:"p1",children:"Users"}),(0,dd.jsx)("p",{className:"p2",children:"1"})]})]}),(0,dd.jsxs)("div",{className:"propertystatsDiv1d1",children:[(0,dd.jsx)("span",{className:"span1 clockSpan",children:(0,dd.jsx)("i",{className:"fa-regular fa-clock"})}),(0,dd.jsxs)("span",{className:"span2",children:[(0,dd.jsx)("p",{className:"p1",children:"Average time"}),(0,dd.jsx)("p",{className:"p2",children:"38m 33s"})]})]}),(0,dd.jsxs)("div",{className:"propertystatsDiv1d1",children:[(0,dd.jsx)("span",{className:"span1",children:(0,dd.jsx)("i",{className:"fa-solid fa-video"})}),(0,dd.jsxs)("span",{className:"span2",children:[(0,dd.jsx)("p",{className:"p1",children:"Videocalls"}),(0,dd.jsx)("p",{className:"p2",children:"0"})]})]})]}),(0,dd.jsxs)("div",{className:"propertystatsDiv2",children:[(0,dd.jsxs)("div",{className:"propertystatsDiv2d1",children:[(0,dd.jsx)("p",{children:"Tendency"}),(0,dd.jsx)("div",{className:"graphDiv",children:(0,dd.jsx)("div",{children:(0,dd.jsx)(Jy,{options:{scales:{x:{grid:{display:!1}}},responsive:!0,plugins:{legend:{display:!1},title:{display:!1,text:"Chart.js Line Chart"}}},data:a,className:"lineGraph"})})})]}),(0,dd.jsxs)("div",{className:"propertystatsDiv2d2",children:[(0,dd.jsx)("p",{children:" LAST VISITS"}),(0,dd.jsx)(Tf,{visit:"last"}),(0,dd.jsx)(Tf,{visit:"last"}),(0,dd.jsx)(Tf,{visit:"last"}),(0,dd.jsx)(Tf,{visit:"last"}),(0,dd.jsx)(Tf,{visit:"last"})]})]})]})};var bT=n(4802);const vT=()=>{var e;const n=Ft(),[i,r]=(0,t.useState)(!1),[o,a]=(0,t.useState)("virtual_tour"),[s]=Cf(),[c]=Qf(),{tourInfo:l}=Ct((e=>e.tour));let d=window.location.hash;console.log(l);const u=(0,t.useRef)(null),[h,A]=(0,t.useState)([]);console.log("uploadedImages",h);const p=async e=>{let t=[];console.log("files",e);for(let n=0;n<e.length;n++){const i=new FormData;i.append("file",e[n]),i.append("upload_preset","u928wexc"),i.append("cloud_name","dihkvficg");const r=await fetch("https://api.cloudinary.com/v1_1/dihkvficg/image/upload",{method:"post",body:i}),o=(await r.json()).url;t.push(o)}try{let e={id:window.location.pathname.split("/")[2],images:t};const i=await c(e).unwrap();n(Af({...i}))}catch(i){console.error(i),ot.error(i.msg)}};return(0,t.useEffect)((()=>{(async()=>{try{let e=window.location.pathname.split("/")[2];const t=await s(e).unwrap();n(Af({...t}))}catch(e){console.error(e),ot.error(e.msg)}})()}),[]),(0,dd.jsxs)("div",{id:"individualproperty",children:[(0,dd.jsxs)("span",{className:"span1",children:[(0,dd.jsx)("p",{className:"p1",children:"Properties"}),(0,dd.jsx)("i",{className:"fa-solid fa-angle-right"}),(0,dd.jsx)("h1",{className:"h1",children:"3D Tour Demo"})]}),(0,dd.jsxs)("div",{className:"headerDiv",children:[(0,dd.jsx)(ve,{to:"#content",onClick:()=>r(!i),children:(0,dd.jsx)("p",{className:" ".concat("#content"===d?"linkpSelected":"linkp"),children:"Content"})}),(0,dd.jsx)("h4",{children:"|"}),(0,dd.jsx)(ve,{to:"#details",onClick:()=>r(!i),style:{marginLeft:"0"},children:(0,dd.jsx)("p",{className:" ".concat("#details"===d?"linkpSelected":"linkp"),children:"Details"})}),(0,dd.jsx)("h4",{children:"|"}),(0,dd.jsx)(ve,{to:"#statistics",onClick:()=>r(!i),style:{marginLeft:"0"},children:(0,dd.jsx)("p",{className:" ".concat("#statistics"===d?"linkpSelected":"linkp"),children:"Statistics"})}),(0,dd.jsxs)("div",{className:"callDiv",children:[(0,dd.jsxs)("span",{className:"videocallSpan",onClick:()=>window.open("/lobby/494e56cb97d21544","_blank"),children:[(0,dd.jsx)("i",{className:"fa-solid fa-video"}),(0,dd.jsx)("p",{children:window.screen.width<="975"?"Start":"Start videocall"})]}),(0,dd.jsxs)("span",{className:"span2",children:[(0,dd.jsx)("i",{className:"fa-regular fa-copy"}),(0,dd.jsx)("p",{children:"Copy tour link"})]}),(0,dd.jsxs)("span",{className:"span2",children:[(0,dd.jsx)("i",{className:"fa-regular fa-flag"}),(0,dd.jsx)("p",{children:"Report bug"})]})]})]}),(0,dd.jsx)("div",{className:"headerDiv headerDivMobile",children:(0,dd.jsxs)("div",{className:"callDivmobile",children:[(0,dd.jsxs)("span",{className:"videocallSpan",children:[(0,dd.jsx)("i",{className:"fa-solid fa-video"}),(0,dd.jsx)("p",{children:window.screen.width<="975"?"Start":"Start videocall"})]}),(0,dd.jsxs)("span",{className:"span2",children:[(0,dd.jsx)("i",{className:"fa-regular fa-copy"}),(0,dd.jsx)("p",{children:"Copy tour link"})]}),(0,dd.jsxs)("span",{className:"span2",children:[(0,dd.jsx)("i",{className:"fa-regular fa-flag"}),(0,dd.jsx)("p",{children:"Report bug"})]})]})}),"#content"===d&&(0,dd.jsxs)("div",{className:"mainDiv",children:[(0,dd.jsxs)("div",{className:"selectionDiv",children:[(0,dd.jsxs)("span",{className:"span1 ".concat("virtual_tour"===o?"span1Selected":"span1"),onClick:()=>a("virtual_tour"),children:[(0,dd.jsx)("span",{className:"borderSpan",children:(0,dd.jsx)("img",{src:Qu,alt:""})}),(0,dd.jsx)("p",{className:"".concat("virtual_tour"===o?"selectedp":""),children:"Virtual tours"})]}),(0,dd.jsxs)("span",{className:"span1 ".concat("dollhouse"===o?"span1Selected":"span1"),onClick:()=>a("dollhouse"),children:[(0,dd.jsx)("span",{className:"borderSpan",children:(0,dd.jsx)("img",{src:Uu,alt:""})}),(0,dd.jsx)("p",{className:"".concat("dollhouse"===o?"selectedp":""),children:"3D Dollhouse"})]}),(0,dd.jsxs)("span",{className:"span1 ".concat("floorplan"===o?"span1Selected":"span1"),onClick:()=>a("floorplan"),children:[(0,dd.jsx)("span",{className:"borderSpan",children:(0,dd.jsx)("img",{src:Cu,alt:""})}),(0,dd.jsx)("p",{className:"".concat("floorplan"===o?"selectedp":""),children:"Floorplans"})]}),(0,dd.jsxs)("span",{className:"span1 ".concat("images"===o?"span1Selected":"span1"),onClick:()=>a("images"),children:[(0,dd.jsx)("span",{className:"borderSpan",children:(0,dd.jsx)("img",{src:Eu,alt:""})}),(0,dd.jsx)("p",{className:"".concat("images"===o?"selectedp":""),children:"Images"})]}),(0,dd.jsxs)("span",{className:"span1 ".concat("videos"===o?"span1Selected":"span1"),onClick:()=>a("videos"),children:[(0,dd.jsx)("span",{className:"borderSpan",children:(0,dd.jsx)("img",{src:Py,alt:""})}),(0,dd.jsx)("p",{className:"".concat("videos"===o?"selectedp":""),children:"Videos"})]})]}),(0,dd.jsxs)("div",{className:"contentDiv",children:["virtual_tour"===o&&(0,dd.jsx)("div",{className:"contentvirtualtourDiv",children:(0,dd.jsx)("iframe",{id:"embed_iframe_box",src:"http://13.232.6.248/cms4vr/link/6628eb0cd4504",scrolling:"no",frameborder:"0",allowvr:"yes",allow:"vr; xr; accelerometer; magnetometer; gyroscope; autoplay;",allowfullscreen:!0,mozallowfullscreen:"true",webkitallowfullscreen:"true",width:"100%",height:"100%",title:"Virtual Tour"})}),"dollhouse"===o&&(0,dd.jsx)("div",{className:"contentdollhouseDiv",children:(0,dd.jsx)("iframe",{title:"Floorfy Viewer",width:"100%",height:"100%",src:"https://floorfy.com/tour/1987195?play=no&galleryOpen=no",frameborder:"0",scrolling:"no",allowfullscreen:"true",webkitallowfullscreen:"true",mozallowfullscreen:"true"})}),"floorplan"===o&&(0,dd.jsxs)("div",{className:"contentfloorplanDiv",children:[(0,dd.jsx)("div",{className:"contentfloorplanDiv1",children:(0,dd.jsx)("button",{children:"Request floorplans"})}),(0,dd.jsxs)("div",{className:"contentfloorplanDiv2",children:[(0,dd.jsx)("div",{className:"floorplan1",children:(0,dd.jsx)("img",{src:Gy,alt:""})}),(0,dd.jsx)("div",{className:"floorplan2",children:(0,dd.jsx)("img",{src:Yy,alt:""})})]})]}),"images"===o&&(0,dd.jsxs)("div",{className:"contentimagesDiv",children:[(0,dd.jsxs)("div",{className:"contentimagesDiv1",children:[(0,dd.jsx)("input",{type:"file",accept:"image/*",style:{display:"none"},ref:u,onChange:e=>{const t=Array.from(e.target.files);A(t),p(t)},multiple:!0}),(0,dd.jsxs)("span",{onClick:()=>{u.current.click()},children:[(0,dd.jsx)("i",{className:"fa-solid fa-upload"}),(0,dd.jsx)("p",{children:"Upload"})]}),(0,dd.jsxs)("span",{onClick:()=>{var e;null===l||void 0===l||null===(e=l.images)||void 0===e||e.map((e=>(0,bT.saveAs)("".concat(e),"image.jpg")))},children:[(0,dd.jsx)("i",{className:"fa-solid fa-download"}),(0,dd.jsx)("p",{children:"Download"})]})]}),(0,dd.jsx)("div",{className:"contentimagesDiv2",children:null===l||void 0===l||null===(e=l.images)||void 0===e?void 0:e.map(((e,t)=>(0,dd.jsx)("img",{src:e,alt:""},t)))})]}),"videos"===o&&(0,dd.jsx)("div",{className:"contentvideosDiv",children:(0,dd.jsx)("div",{className:"contentvideosDiv2"})})]})]}),"#details"===d&&(0,dd.jsx)(UT,{}),"#statistics"===d&&(0,dd.jsx)(yT,{})]})},RT=n.p+"static/media/brandlogo1.708bee3b0ddb678a8edc.jpg",ST=n.p+"static/media/brandlogo2.64675d6e2be16cf626d1.jpg",FT=()=>{const[e,n]=(0,t.useState)(!1),[i,r]=(0,t.useState)(""),[o]=xo(),{userInfo:a}=Ct((e=>e.auth)),[s,c]=(0,t.useState)({company_name:a?a.company_name:"",email:a?a.email:"",web:a?a.web:"",coin:a?a.coin:"",phone:a?a.phone:"",contact_name:a?a.contact_name:"",language:a?a.language:"",area_unit:a?a.area_unit:"",image:a?a.image:"",password:"",conpassword:""}),[l,d]=(0,t.useState)(),[u,h]=(0,t.useState)(null),A=Ft(),p=e=>{const t=e.target.value;c((n=>({...n,[e.target.name]:t})))};console.log(s);let g=window.location.hash;const f=(0,t.useRef)(null);return(0,t.useEffect)((()=>{c({company_name:a?a.company_name:"",email:a?a.email:"",web:a?a.web:"",coin:a?a.coin:"",phone:a?a.phone:"",contact_name:a?a.contact_name:"",language:a?a.language:"",area_unit:a?a.area_unit:"",image:a?a.image:"",password:"",conpassword:""})}),[a]),(0,dd.jsxs)("div",{id:"profile",children:[(0,dd.jsx)("div",{className:"headerDiv",children:(0,dd.jsx)(ve,{to:"",onClick:()=>n(!e),children:(0,dd.jsx)("p",{className:" ".concat(""===g?"linkpSelected":"linkp"),children:"Profile"})})}),""===g&&(0,dd.jsxs)("div",{className:"profileMainDiv",children:[(0,dd.jsxs)("span",{className:"span1",children:[(0,dd.jsx)("p",{children:"Profile data"}),(0,dd.jsx)("button",{onClick:async e=>{let t;if(e.preventDefault(),s.password===s.conpassword){if(l){const e=new FormData;e.append("file",l),e.append("upload_preset","u928wexc"),e.append("cloud_name","dihkvficg");const n=await fetch("https://api.cloudinary.com/v1_1/dihkvficg/image/upload",{method:"post",body:e});t=(await n.json()).url}let e;e=l?{email:s.email,password:s.password,company_name:s.company_name,web:s.web,coin:s.coin,phone:s.phone,contact_name:s.contact_name,language:s.language,area_unit:s.area_unit,image:t}:{email:s.email,password:s.password,company_name:s.company_name,web:s.web,coin:s.coin,phone:s.phone,contact_name:s.contact_name,language:s.language,area_unit:s.area_unit,image:s.image};try{console.log(e);const t=await o(e).unwrap();ot.success("Profile Updated",{position:"top-center"}),A(Ko({...t}))}catch(n){console.error(n),n.data.errors.forEach((e=>{ot.error(e.msg)}))}}else ot.error("Passwords do not match")},children:"Save changes"})]}),(0,dd.jsx)("hr",{className:"hr",style:{opacity:"0.5"}}),(0,dd.jsxs)("div",{className:"profileMainDivd1",children:[(0,dd.jsxs)("div",{className:"profileMainDivinput1",children:[(0,dd.jsxs)("span",{children:[(0,dd.jsx)("p",{children:"Company name"}),(0,dd.jsx)("input",{type:"text",name:"company_name",placeholder:"New name",value:s.company_name,onChange:p})]}),(0,dd.jsxs)("span",{children:[(0,dd.jsx)("p",{children:"Email"}),(0,dd.jsx)("input",{type:"text",name:"email",placeholder:"xyz@gmail.com",value:s.email,onChange:p})]}),(0,dd.jsxs)("span",{children:[(0,dd.jsx)("p",{children:"Web"}),(0,dd.jsx)("input",{type:"text",name:"web",placeholder:"New web",value:s.web,onChange:p})]}),(0,dd.jsxs)("span",{children:[(0,dd.jsx)("p",{children:"Coin"}),(0,dd.jsxs)("select",{name:"coin",className:"selectInput",value:s.coin,onChange:p,children:[(0,dd.jsx)("option",{value:"pkr",children:"PKR"}),(0,dd.jsx)("option",{value:"aed",children:"AED - Dirham"}),(0,dd.jsx)("option",{value:"sar",children:"SAR - Riyal"})]})]}),(0,dd.jsxs)("span",{children:[(0,dd.jsx)("p",{children:"Password"}),(0,dd.jsx)("input",{type:"password",name:"password",placeholder:"Password",value:s.password,onChange:p})]})]}),(0,dd.jsxs)("div",{className:"profileMainDivinput2",children:[(0,dd.jsxs)("span",{children:[(0,dd.jsx)("p",{children:"Phone"}),(0,dd.jsx)("input",{type:"text",name:"phone",placeholder:"New phone",value:s.phone,onChange:p})]}),(0,dd.jsxs)("span",{children:[(0,dd.jsx)("p",{children:"Contact name"}),(0,dd.jsx)("input",{type:"text",name:"contact_name",placeholder:"Contact name",value:s.contact_name,onChange:p})]}),(0,dd.jsxs)("span",{children:[(0,dd.jsx)("p",{children:"Language"}),(0,dd.jsxs)("select",{name:"language",className:"selectInput",value:s.language,onChange:p,children:[(0,dd.jsx)("option",{value:"english",children:"English"}),(0,dd.jsx)("option",{value:"italiano",children:"Italiano"}),(0,dd.jsx)("option",{value:"deutsch",children:"Deutsch"})]})]}),(0,dd.jsxs)("span",{children:[(0,dd.jsx)("p",{children:"Area unit"}),(0,dd.jsxs)("select",{name:"area_unit",className:"selectInput",value:s.area_unit,onChange:p,children:[(0,dd.jsx)("option",{value:"feet",children:"Square feet (ft\xb2)"}),(0,dd.jsx)("option",{value:"meters",children:"Square meters (m\xb2)"})]})]}),(0,dd.jsxs)("span",{children:[(0,dd.jsx)("p",{children:"Confirm Password"}),(0,dd.jsx)("input",{type:"password",name:"conpassword",placeholder:"Confirm Password",value:s.conpassword,onChange:p})]})]}),(0,dd.jsxs)("div",{className:"logoDiv",onClick:()=>{f.current.click()},children:[u?(0,dd.jsx)("span",{className:"span2",children:(0,dd.jsx)("img",{src:u,alt:"profile",className:"userImage"})}):s.image?(0,dd.jsx)("span",{className:"span2",children:(0,dd.jsx)("img",{src:s.image,alt:"profile",className:"userImage"})}):(0,dd.jsx)("span",{className:"span2",children:(0,dd.jsx)("p",{children:"Your logo here"})}),(0,dd.jsxs)("span",{className:"span3",children:[(0,dd.jsx)("i",{className:"fa-solid fa-upload"}),(0,dd.jsx)("p",{children:"Upload logo"})]}),(0,dd.jsx)("input",{id:"file-uploader",ref:f,style:{display:"none"},type:"file",onChange:e=>{const t=e.target.files[0];d(t);const n=new FileReader;n.onloadend=()=>{h(n.result)},t&&n.readAsDataURL(t)}}),(0,dd.jsx)("label",{htmlFor:"file-uploader",className:"file-label"})]})]})]}),"#users"===g&&(0,dd.jsxs)("div",{className:"profileUsers",children:[(0,dd.jsx)("span",{className:"span1",children:(0,dd.jsx)("i",{className:"fa-solid fa-users"})}),(0,dd.jsx)("h1",{children:"Users not found."}),(0,dd.jsx)("p",{children:"Click the button to add more users."}),(0,dd.jsxs)("button",{children:[(0,dd.jsx)("i",{className:"fa-solid fa-plus"}),(0,dd.jsx)("p",{children:"Invite a user"})]})]}),"brand"===g.split("#")[1]&&(0,dd.jsxs)("div",{className:"profileBrand",children:[(0,dd.jsx)("h1",{children:"Customize your brand"}),(0,dd.jsx)("p",{children:"Add your logo to appear in the virtual tour, videos and generated images."}),(0,dd.jsxs)("div",{className:"mainDiv",children:[(0,dd.jsxs)("div",{className:"subheaderDiv",children:[(0,dd.jsxs)(ve,{to:"#brand",className:" ".concat("#brand"===g?"aSelected":""),onClick:()=>n(!e),children:[(0,dd.jsx)("img",{src:Qu,alt:""}),(0,dd.jsx)("p",{className:" ".concat("#brand"===g?"linkpSelected":"linkp"),children:"Virtual tours"})]}),(0,dd.jsxs)(ve,{to:"#brand#floorplan",className:" ".concat("#brand#floorplan"===g?"aSelected":""),onClick:()=>n(!e),children:[(0,dd.jsx)("img",{src:Cu,alt:""}),(0,dd.jsx)("p",{className:" ".concat("#brand#floorplan"===g?"linkpSelected":"linkp"),children:"Floorplans"})]}),(0,dd.jsxs)(ve,{to:"#brand#photos",className:" ".concat("#brand#photos"===g?"aSelected":""),onClick:()=>n(!e),children:[(0,dd.jsx)("i",{className:"fa-regular fa-image"}),(0,dd.jsx)("p",{className:" ".concat("#brand#photos"===g?"linkpSelected":"linkp"),children:"Photos"})]}),(0,dd.jsxs)(ve,{to:"#brand#videos",className:" ".concat("#brand#videos"===g?"aSelected":""),onClick:()=>n(!e),children:[(0,dd.jsx)("i",{className:"fa-solid fa-film"}),(0,dd.jsx)("p",{className:" ".concat("#brand#videos"===g?"linkpSelected":"linkp"),children:"Videos"})]}),(0,dd.jsx)("button",{children:"Save changes"})]}),(0,dd.jsx)("hr",{className:"hr",style:{opacity:"0.8",marginTop:"0"}}),"#brand"===g&&(0,dd.jsxs)("div",{className:"contentDiv",children:[(0,dd.jsxs)("div",{className:"contentDiv1",children:[(0,dd.jsx)("p",{children:"WATERMARK ON THE FLOOR"}),(0,dd.jsxs)("span",{className:"span1",children:[(0,dd.jsx)("i",{className:"fa-solid fa-circle-info"}),(0,dd.jsxs)("span",{className:"span2",children:[(0,dd.jsx)("h1",{children:"Required format:"}),(0,dd.jsx)("p",{children:"JPG Image. Square shape recommended ."})]})]}),(0,dd.jsx)("p",{className:"logop",children:"Select a main logo"}),(0,dd.jsxs)("div",{className:"imageDiv",children:[(0,dd.jsx)("span",{className:"addSpan",children:(0,dd.jsx)("i",{className:"fa-solid fa-plus"})}),(0,dd.jsxs)("span",{className:"imgSpan ".concat("logo1"===i?"imgSpanSelected":"imgSpan"),children:[(0,dd.jsx)("span",{className:"imgSpan1 ".concat("logo1"===i?"imgSpan1Selected":"imgSpan1"),onClick:()=>r("logo1"),children:(0,dd.jsx)("i",{className:"fa-solid fa-check"})}),(0,dd.jsx)("img",{src:RT,alt:""}),(0,dd.jsx)("i",{className:"fa-solid fa-trash-can"})]}),(0,dd.jsxs)("span",{className:"imgSpan ".concat("logo2"===i?"imgSpanSelected":"imgSpan"),children:[(0,dd.jsx)("span",{className:"imgSpan1 ".concat("logo2"===i?"imgSpan1Selected":"imgSpan1"),onClick:()=>r("logo2"),children:(0,dd.jsx)("i",{className:"fa-solid fa-check"})}),(0,dd.jsx)("img",{src:ST,alt:""}),(0,dd.jsx)("i",{className:"fa-solid fa-trash-can"})]}),(0,dd.jsxs)("span",{className:"imgSpan ".concat("logo2"===i?"imgSpanSelected":"imgSpan"),children:[(0,dd.jsx)("span",{className:"imgSpan1 ".concat("logo2"===i?"imgSpan1Selected":"imgSpan1"),onClick:()=>r("logo2"),children:(0,dd.jsx)("i",{className:"fa-solid fa-check"})}),(0,dd.jsx)("img",{src:ST,alt:""}),(0,dd.jsx)("i",{className:"fa-solid fa-trash-can"})]}),(0,dd.jsxs)("span",{className:"imgSpan ".concat("logo2"===i?"imgSpanSelected":"imgSpan"),children:[(0,dd.jsx)("span",{className:"imgSpan1 ".concat("logo2"===i?"imgSpan1Selected":"imgSpan1"),onClick:()=>r("logo2"),children:(0,dd.jsx)("i",{className:"fa-solid fa-check"})}),(0,dd.jsx)("img",{src:ST,alt:""}),(0,dd.jsx)("i",{className:"fa-solid fa-trash-can"})]}),(0,dd.jsxs)("span",{className:"imgSpan ".concat("logo2"===i?"imgSpanSelected":"imgSpan"),children:[(0,dd.jsx)("span",{className:"imgSpan1 ".concat("logo2"===i?"imgSpan1Selected":"imgSpan1"),onClick:()=>r("logo2"),children:(0,dd.jsx)("i",{className:"fa-solid fa-check"})}),(0,dd.jsx)("img",{src:ST,alt:""}),(0,dd.jsx)("i",{className:"fa-solid fa-trash-can"})]})]})]}),(0,dd.jsxs)("div",{className:"contentDiv2",children:[(0,dd.jsx)("p",{children:"Preview"}),(0,dd.jsx)("img",{src:Sf,alt:""})]})]}),"#brand#floorplan"===g&&(0,dd.jsxs)("div",{className:"contentDiv",children:[(0,dd.jsxs)("div",{className:"contentDiv1",children:[(0,dd.jsx)("p",{children:"WATERMARK"}),(0,dd.jsxs)("span",{className:"span1",children:[(0,dd.jsx)("i",{className:"fa-solid fa-circle-info"}),(0,dd.jsxs)("span",{className:"span2",children:[(0,dd.jsx)("h1",{children:"Required format:"}),(0,dd.jsx)("p",{children:"JPG or PNG image"})]})]}),(0,dd.jsxs)("div",{className:"floorplanimageDiv",children:[(0,dd.jsx)("p",{style:{marginLeft:"10px"},children:"Logo"}),(0,dd.jsxs)("span",{children:[(0,dd.jsx)("i",{className:"fa-solid fa-upload"}),(0,dd.jsx)("p",{children:"Browse files"})]})]})]}),(0,dd.jsxs)("div",{className:"contentDiv2",children:[(0,dd.jsx)("p",{children:"Preview"}),(0,dd.jsx)("img",{src:Gy,alt:""})]})]}),"#brand#photos"===g&&(0,dd.jsxs)("div",{className:"contentDiv",children:[(0,dd.jsxs)("div",{className:"contentDiv1",children:[(0,dd.jsx)("p",{children:"WATERMARK"}),(0,dd.jsxs)("span",{className:"span1",children:[(0,dd.jsx)("i",{className:"fa-solid fa-circle-info"}),(0,dd.jsxs)("span",{className:"span2",children:[(0,dd.jsx)("h1",{children:"Required format:"}),(0,dd.jsx)("p",{children:"JPG or PNG image"})]})]}),(0,dd.jsxs)("div",{className:"floorplanimageDiv",children:[(0,dd.jsx)("p",{style:{marginLeft:"10px"},children:"Logo"}),(0,dd.jsxs)("span",{children:[(0,dd.jsx)("i",{className:"fa-solid fa-upload"}),(0,dd.jsx)("p",{children:"Browse files"})]})]})]}),(0,dd.jsxs)("div",{className:"contentDiv2",children:[(0,dd.jsx)("p",{children:"Preview"}),(0,dd.jsx)("img",{src:Sf,alt:""})]})]}),"#brand#videos"===g&&(0,dd.jsxs)("div",{className:"contentDiv",children:[(0,dd.jsxs)("div",{className:"contentDiv1",children:[(0,dd.jsx)("p",{children:"WATERMARK"}),(0,dd.jsxs)("span",{className:"span1",children:[(0,dd.jsx)("i",{className:"fa-solid fa-circle-info"}),(0,dd.jsxs)("span",{className:"span2",children:[(0,dd.jsx)("h1",{children:"Required format:"}),(0,dd.jsx)("p",{children:"JPG or PNG image"})]})]}),(0,dd.jsxs)("div",{className:"floorplanimageDiv",children:[(0,dd.jsx)("p",{style:{marginLeft:"10px"},children:"Logo"}),(0,dd.jsxs)("span",{children:[(0,dd.jsx)("i",{className:"fa-solid fa-upload"}),(0,dd.jsx)("p",{children:"Browse files"})]})]})]}),(0,dd.jsxs)("div",{className:"contentDiv2",children:[(0,dd.jsx)("p",{children:"Preview"}),(0,dd.jsx)("img",{src:Sf,alt:""})]})]})]})]})]})};n(3161);var BT=n(3322),TT=n.n(BT),NT=n(6998),_T=n.n(NT);const wT=()=>(0,dd.jsx)("div",{style:{width:"30px",height:"30px"},children:(0,dd.jsx)("i",{className:"fa-solid fa-location-dot",style:{width:"100%",height:"100%",color:"#ffc600",fontSize:"24px"}})}),kT=()=>{var e,n;const[i]=(0,t.useState)(String(Math.floor(1e4*Math.random())));const[r,o]=(0,t.useState)(TT().createClient({mode:"rtc",codec:"vp8"}));let a=window.location.pathname.split("/")[2];const[s,c]=(0,t.useState)([]),[l,d]=(0,t.useState)(),[u,h]=(0,t.useState)(!1);let A={};const[p,g]=(0,t.useState)(!0),[f,m]=(0,t.useState)(!0),[E,C]=(0,t.useState)(!1),[I,Q]=(0,t.useState)(0),U=new URLSearchParams(window.location.search),y=U.get("guest"),b=U.get("cam"),v=U.get("mic");console.log(y),console.log(b),console.log(v);const R=async e=>{console.log("ONLY FOR FIRST USER"),console.log(document.getElementsByClassName("hostDiv").length);let t,n=await TT().createMicrophoneAndCameraTracks({},{encoderConfig:{width:{min:640,ideal:1920,max:1920},height:{min:480,ideal:1080,max:1080}}});"true"===y?(console.log("INSIDE guest true"),t=' <div class="hostDiv" id="user-container-'.concat(i,'" >\n      <span class="span1">\n      <div class="video-player" id="user-').concat(i,'">\n     \n      </div>\n      </span>\n  \n     <span class="span2">\n     <i class="fa-solid fa-microphone"></i>\n     <p>Guest-1</p>\n   </span>\n    </div>'),document.getElementById("streams__container").insertAdjacentHTML("afterbegin",t)):(console.log("INSIDE guest false"),t=' <div class="hostDiv user-1-main" id="user-container-'.concat(i,'" >\n      <span class="span1">\n      <div class="video-player" id="user-').concat(i,'">\n     \n      </div>\n      </span>\n  \n     <span class="span2">\n     <i class="fa-solid fa-microphone"></i>\n     <p>Agency(You)</p>\n   </span>\n    </div>'),document.getElementById("top-container").insertAdjacentHTML("afterbegin",t)),document.getElementById("user-container-".concat(i)).addEventListener("click",T),n[1].play("user-".concat(i)),"false"===b&&(await n[1].setMuted(!0),g(!1)),"false"===v&&(await n[0].setMuted(!0),m(!1)),await e.publish([n[0],n[1]]),c(n)},S=async(e,t)=>{Q((e=>e+1)),console.log("ONLY FOR SECOND USER"),console.log("client",r),A[e.uid]=e,await r.subscribe(e,t);let n=document.getElementById("user-container-".concat(e.uid));null===n&&("false"===y?(console.log("INSIDE second guest false"),n=' <div class="hostDiv" id="user-container-'.concat(e.uid,'">\n        <span class="span1">\n        <div class="video-player" id="user-').concat(e.uid,'">\n       \n        </div>\n        </span>\n    \n       <span class="span2">\n       <i class="fa-solid fa-microphone"></i>\n       <p>Guest-1</p>\n     </span>\n      </div>'),document.getElementById("streams__container").insertAdjacentHTML("afterbegin",n)):(n=' <div class="hostDiv user-1-main" id="user-container-'.concat(e.uid,'">\n        <span class="span1">\n        <div class="video-player" id="user-').concat(e.uid,'">\n       \n        </div>\n        </span>\n    \n       <span class="span2">\n       <i class="fa-solid fa-microphone"></i>\n       <p>Agency(You)</p>\n     </span>\n      </div>'),document.getElementById("top-container").insertAdjacentHTML("afterbegin",n)),document.getElementById("user-container-".concat(e.uid)).addEventListener("click",T)),"video"===t&&e.videoTrack.play("user-".concat(e.uid)),"audio"===t&&e.audioTrack.play()};document.getElementsByClassName("hostDiv");let F,B=null,T=e=>{F=document.getElementById("stream__box"),console.log("EXPAND DISPLAY FRAME IS BEING CALLED");let t=F.children[0];if(t)if(t.removeEventListener("click",_),t.addEventListener("click",T),console.log(t.classList),"user-1-main"===t.classList[1]){let e=document.getElementById("top-container");e.insertBefore(t,e.firstChild)}else{let e=document.getElementById("streams__container");e.insertBefore(t,e.firstChild)}F.style.display="block",F.appendChild(e.currentTarget),F.children[0].removeEventListener("click",T),F.children[0].addEventListener("click",_),B=e.currentTarget.id,console.log(F.children[0])};const N=async e=>{F=document.getElementById("stream__box"),delete A[e.uid],document.getElementById("user-container-".concat(e.uid)).remove(),B==="user-container-".concat(e.uid)&&(F.style.display=null)},_=()=>{F=document.getElementById("stream__box"),B=null,F.style.display=null,console.log("HIDE DISPLAY FRAME IS BEING CALLED");let e=F.children[0];if(console.log(e),e.removeEventListener("click",_),e.addEventListener("click",T),"user-1-main"===e.classList[1]){let t=document.getElementById("top-container");t.insertBefore(e,t.firstChild)}else{let t=document.getElementById("streams__container");t.insertBefore(e,t.firstChild)}};(0,t.useEffect)((()=>{(async()=>{await r.join("336c606941cf4da1b930952b954b846b",a,null,i),r.on("user-published",S),r.on("user-left",N),R(r)})()}),[]);const[w,k]=(0,t.useState)({companylocation:{lat:null,lng:null}}),[D,V]=(0,t.useState)("virtual_tour"),[Z,W]=(0,t.useState)(null),O={center:{lat:23.8859,lng:45.0792},zoom:6},[J,x]=(0,t.useState)({center:{lat:23.8859,lng:45.0792},zoom:6}),M=e=>{const t={lat:e.lat,lng:e.lng};W(t),console.log("Latitude:",t.lat),console.log("Longitude:",t.lng)},[L,P]=(0,t.useState)([]);return(0,t.useEffect)((()=>{console.log("useeffect");let e=[],t=document.getElementsByClassName("hostDiv");console.log("users",t);for(let n=0;n<t.length;n++){let i=t[n].querySelector(".span2 p").textContent;console.log("name",i),e.push(i)}P(e)}),[I,Q]),console.log("userNames",L),(0,dd.jsxs)("div",{id:"videos",children:[(0,dd.jsxs)("div",{className:"videoheader",children:[(0,dd.jsxs)("span",{className:"logoSpan",children:[(0,dd.jsx)("img",{src:ea,alt:"",className:"logo"}),(0,dd.jsx)("h1",{children:"Cam"})]}),(0,dd.jsxs)("button",{onClick:()=>{const e=window.location.pathname.split("/")[2];_T()("".concat("http://localhost:3000","/lobby/").concat(e)),ot.success("Link Copied!",{position:"top-center",hideProgressBar:!0,autoClose:1e3})},children:[(0,dd.jsx)("i",{className:"fa-solid fa-user-plus"}),(0,dd.jsx)("p",{children:"Invite"})]})]}),(0,dd.jsxs)("div",{className:"parentDiv",children:["false"===y&&(0,dd.jsxs)("div",{className:"leftDiv",children:[(0,dd.jsx)("h1",{className:"leftDivh1",children:"Activity"}),(0,dd.jsx)("div",{className:"hr"}),L.length>1?L.map(((e,t)=>(0,dd.jsx)("span",{className:"activitySpan",children:(0,dd.jsxs)("p",{className:"activityP",children:[e,"has joined!"]})},t))):(0,dd.jsxs)(dd.Fragment,{children:[(0,dd.jsx)("i",{className:"fa-solid fa-bell"}),(0,dd.jsx)("p",{className:"leftDivp1",children:"You have no recent activity"})]}),(0,dd.jsxs)("span",{className:"span1",children:[(0,dd.jsx)("h1",{className:"leftDivh1",children:"Participants"}),(0,dd.jsx)("i",{className:"fa-solid fa-user-plus"})]}),(0,dd.jsx)("div",{className:"hr",style:{margin:"10px 0 10px 0"}}),(0,dd.jsxs)("span",{className:"span2",children:[(0,dd.jsx)("i",{className:"fa-solid fa-microphone"}),(0,dd.jsx)("p",{children:"(You)"})]}),(0,dd.jsx)("div",{className:"hr",style:{margin:"10px 0 10px 0"}})]}),(0,dd.jsxs)("div",{className:"mainDiv",children:[(0,dd.jsx)("div",{className:"topDiv",id:"top-container",children:(0,dd.jsx)("div",{className:"guestDiv",id:"streams__container"})}),(0,dd.jsx)("div",{id:"stream__box"}),"virtual_tour"===D&&"false"===y&&(0,dd.jsx)("div",{className:"contentDiv",children:(0,dd.jsx)("iframe",{id:"embed_iframe_box",src:"http://13.232.6.248/cms4vr/link/6628eb0cd4504",scrolling:"no",frameborder:"0",allowvr:"yes",allow:"vr; xr; accelerometer; magnetometer; gyroscope; autoplay;",allowfullscreen:!0,mozallowfullscreen:"true",webkitallowfullscreen:"true",width:"100%",height:"100%",title:"Virtual Tour"})}),"floorplans"===D&&"false"===y&&(0,dd.jsxs)("div",{className:"contentDiv",children:[(0,dd.jsx)("p",{children:"Floor plans"}),(0,dd.jsxs)("span",{className:"floorplanDiv",children:[(0,dd.jsx)("img",{src:Gy,alt:"",className:"floorplan"}),(0,dd.jsx)("img",{src:Yy,alt:"",className:"floorplan"})]})]}),"images"===D&&"false"===y&&(0,dd.jsxs)("div",{className:"contentDiv",children:[(0,dd.jsx)("p",{children:"Images"}),(0,dd.jsxs)("span",{className:"imagesDiv",children:[(0,dd.jsx)("img",{src:jy,alt:"",className:"floorplan"}),(0,dd.jsx)("img",{src:Xy,alt:"",className:"floorplan"}),(0,dd.jsx)("img",{src:Ky,alt:"",className:"floorplan"}),(0,dd.jsx)("img",{src:jy,alt:"",className:"floorplan"}),(0,dd.jsx)("img",{src:Xy,alt:"",className:"floorplan"}),(0,dd.jsx)("img",{src:Ky,alt:"",className:"floorplan"}),(0,dd.jsx)("img",{src:jy,alt:"",className:"floorplan"}),(0,dd.jsx)("img",{src:Xy,alt:"",className:"floorplan"}),(0,dd.jsx)("img",{src:Ky,alt:"",className:"floorplan"}),(0,dd.jsx)("img",{src:jy,alt:"",className:"floorplan"}),(0,dd.jsx)("img",{src:Xy,alt:"",className:"floorplan"}),(0,dd.jsx)("img",{src:Ky,alt:"",className:"floorplan"})]})]}),"google_maps"===D&&"false"===y&&(0,dd.jsx)("div",{className:"googlemapDiv",children:(0,dd.jsx)(uv,{bootstrapURLKeys:{key:"AIzaSyA_9dyGB-Du4nrXiyVLx_Ice7c93V-JOGY"},defaultCenter:O.center,defaultZoom:null!==w&&void 0!==w&&w.companylocation?15:O.zoom,center:J.center,zoom:null!==w&&void 0!==w&&null!==(e=w.companylocation)&&void 0!==e&&e.lat?15:J.zoom,onClick:M,children:Z&&(0,dd.jsx)(wT,{lat:Z.lat,lng:Z.lng})})}),(0,dd.jsxs)("div",{className:"controlDiv",children:[(0,dd.jsx)("span",{className:"span1 ".concat(!f&&"spanSelected"),id:"mic-btn",onClick:async e=>{console.log(s);let t=s;t[0].muted?(await t[0].setMuted(!1),m(!0)):(console.log(t),await t[0].setMuted(!0),m(!1),console.log(t)),c(t)},children:(0,dd.jsx)("i",{className:"fa-solid ".concat(f?"fa-microphone":"fa-microphone-slash"," icon")})}),!u&&(0,dd.jsx)("span",{className:"span1 ".concat(!p&&"spanSelected"),id:"camera-btn",onClick:async e=>{console.log(s);let t=s;t[1].muted?(await t[1].setMuted(!1),g(!0)):(console.log(t),await t[1].setMuted(!0),g(!1),console.log(t)),c(t)},children:(0,dd.jsx)("i",{className:"fa-solid ".concat(p?"fa-video":"fa-video-slash"," icon")})}),"false"===y&&(0,dd.jsx)("span",{className:"span1 ".concat(u&&"screenSelected"),id:"screen-btn",onClick:async e=>{if(F=document.getElementById("stream__box"),u){let e=l;h(!1),document.getElementById("user-container-".concat(i)).remove(),await r.unpublish([e]),e.close(),d(e),(async()=>{F=document.getElementById("stream__box");let e=' <div class="hostDiv user-1-main" id="user-container-'.concat(i,'" >\n<span class="span1">\n<div class="video-player" id="user-').concat(i,'">\n\n</div>\n</span>\n\n<span class="span2">\n<i class="fa-solid fa-microphone"></i>\n<p>Agency(You)</p>\n</span>\n</div>');document.getElementById("top-container").insertAdjacentHTML("afterbegin",e),document.getElementById("user-container-".concat(i)).addEventListener("click",T),B=null,F.style.display=null;let t=s;await t[0].setMuted(!0),await t[1].setMuted(!0),m(!1),g(!1),C(!1),h(!1),t[1].play("user-".concat(i)),await r.publish([t[1]]),c(t)})()}else{h(!0);let e=await TT().createScreenVideoTrack();console.log(F),document.getElementById("user-container-".concat(i)).remove(),F.style.display="block";let t=' <div class="hostDiv user-1-main" id="user-container-'.concat(i,'">\n      <span class="span1">\n      <div class="video-player" id="user-').concat(i,'">\n     \n      </div>\n      </span>\n  \n     <span class="span2">\n     <i class="fa-solid fa-microphone"></i>\n     <p>Agency(You)</p>\n   </span>\n    </div>');F.insertAdjacentHTML("beforeend",t),document.getElementById("user-container-".concat(i)).addEventListener("click",_),B="user-container-".concat(i),e.play("user-".concat(i)),await r.unpublish([s[1]]),await r.publish([e]),d(e)}},children:(0,dd.jsx)("i",{className:"fa-solid fa-display icon"})}),(0,dd.jsx)("span",{className:"span1 callLeaveSpan1",id:"leave-btn",onClick:async e=>{e.preventDefault(),F=document.getElementById("stream__box");for(let t=0;s.length>t;t++)s[t].stop(),s[t].close();await r.unpublish([s[0],s[1]]),l&&await r.unpublish([l]),document.getElementById("user-container-".concat(i)).remove(),B==="user-container-".concat(i)&&(F.style.display=null),window.open("about:blank","_self"),window.close()},children:(0,dd.jsx)("i",{className:"fa-solid fa-phone-slash"})})]})]}),"false"===y&&(0,dd.jsxs)("div",{className:"rightDiv",children:[(0,dd.jsxs)(vp,{defaultExpanded:!0,className:"accordian",children:[(0,dd.jsx)(_p,{expandIcon:(0,dd.jsx)("i",{className:"fa-solid fa-angle-down"}),"aria-controls":"panel1a-content",id:"panel1a-header",children:(0,dd.jsx)("p",{children:"Show"})}),(0,dd.jsx)(Vp,{children:(0,dd.jsxs)("div",{className:"productDiv",children:[(0,dd.jsxs)("div",{className:"product ".concat("virtual_tour"===D&&"productSelected"),onClick:()=>V("virtual_tour"),children:[(0,dd.jsx)("img",{src:Qu,alt:"",className:"icon"}),(0,dd.jsx)("p",{children:"Virtual tour"})]}),(0,dd.jsxs)("div",{className:"product ".concat("floorplans"===D&&"productSelected"),onClick:()=>V("floorplans"),children:[(0,dd.jsx)("img",{src:Cu,alt:"",className:"icon"}),(0,dd.jsx)("p",{children:"Floor plans"})]}),(0,dd.jsxs)("div",{className:"product ".concat("images"===D&&"productSelected"),onClick:()=>V("images"),children:[(0,dd.jsx)("img",{src:Eu,alt:"",className:"icon"}),(0,dd.jsx)("p",{children:"Images"})]}),(0,dd.jsxs)("div",{className:"product ".concat("google_maps"===D&&"productSelected"),onClick:()=>V("google_maps"),children:[(0,dd.jsx)("i",{className:"fa-solid fa-location-dot icon"}),(0,dd.jsx)("p",{children:"Google Maps"})]})]})})]}),(0,dd.jsxs)(vp,{defaultExpanded:!1,className:"accordian",children:[(0,dd.jsx)(_p,{expandIcon:(0,dd.jsx)("i",{className:"fa-solid fa-angle-down"}),"aria-controls":"panel1a-content",id:"panel1a-header",children:(0,dd.jsx)("p",{children:"Property Information"})}),(0,dd.jsx)(Vp,{children:(0,dd.jsxs)("div",{className:"propertyDiv",children:[(0,dd.jsx)("h1",{children:"3D Tour Demo"}),(0,dd.jsxs)("p",{children:[" ",(0,dd.jsx)("b",{children:"Price:"})," 850 USD"]}),(0,dd.jsx)("p",{children:"Beautiful house in sight"}),(0,dd.jsx)("div",{className:"mapDiv",children:(0,dd.jsx)(uv,{bootstrapURLKeys:{key:"AIzaSyA_9dyGB-Du4nrXiyVLx_Ice7c93V-JOGY"},defaultCenter:O.center,defaultZoom:null!==w&&void 0!==w&&w.companylocation?15:O.zoom,center:J.center,zoom:null!==w&&void 0!==w&&null!==(n=w.companylocation)&&void 0!==n&&n.lat?15:J.zoom,onClick:M,children:Z&&(0,dd.jsx)(wT,{lat:Z.lat,lng:Z.lng})})}),(0,dd.jsxs)("span",{className:"span1",children:[(0,dd.jsx)("i",{className:"fa-solid fa-location-dot"}),(0,dd.jsx)("p",{children:"Pakistan ,jkhkjahsdjk a"})]})]})})]})]})]})]})},DT=()=>{const e=(0,t.useRef)(null),[n,i]=(0,t.useState)(null),[r,o]=(0,t.useState)(!0),[a,s]=(0,t.useState)(!0),[c,l]=(0,t.useState)(),[d]=Jo(),u=Ft(),{userInfo:h}=Ct((e=>e.auth));console.log(h),(0,t.useEffect)((()=>((async()=>{try{const t=await navigator.mediaDevices.getUserMedia({video:r,audio:a});e.current.srcObject=t,r?(console.log("BLOCK"),document.getElementById("videotag").style.display="block"):(console.log("NONE"),document.getElementById("videotag").style.display="none")}catch(t){console.error("Error accessing media devices:",t),i("Error accessing media devices. Please check camera and microphone permissions.")}})(),()=>{var t;const n=null===(t=e.current.srcObject)||void 0===t?void 0:t.getTracks();n&&n.forEach((e=>e.stop()))})),[r,a]);return(0,t.useEffect)((()=>{sessionStorage.userInfo&&(async()=>{try{const e=await d().unwrap();u(Ko({...e}))}catch(n){n.data.errors.forEach((e=>{ot.error(e.msg)}))}})()}),[]),(0,dd.jsx)("div",{id:"lobby",children:(0,dd.jsxs)("div",{className:"lobbyDiv1",children:[(0,dd.jsx)("h1",{children:"All ready?"}),(0,dd.jsx)("p",{children:"Test your camera and microphone before entering"}),(0,dd.jsxs)("div",{className:"cameraDiv",children:[!r&&(0,dd.jsx)("i",{className:"fa-regular fa-user"}),(0,dd.jsx)("video",{ref:e,autoPlay:!0,playsInline:!0,className:"videotag",id:"videotag",style:{display:r?"block":"none"}})]}),(0,dd.jsxs)("div",{className:"iconDiv",children:[(0,dd.jsx)("span",{className:"iconSpan ".concat(a?"":"iconSpanDisabled"," icon"),onClick:()=>{s(!a)},children:(0,dd.jsx)("i",{className:"fa-solid fa-microphone icon"})}),(0,dd.jsx)("span",{className:"iconSpan ".concat(r?"":"iconSpanDisabled"," icon"),onClick:()=>{o(!r)},children:(0,dd.jsx)("i",{className:"fa-solid fa-video icon"})})]}),(0,dd.jsx)("button",{onClick:()=>{const e=window.location.pathname.split("/")[2];h?window.location.assign("/video/".concat(e,"?guest=false&mic=").concat(a,"&cam=").concat(r)):window.location.assign("/video/".concat(e,"?guest=true&mic=").concat(a,"&cam=").concat(r))},children:"Enter now"})]})})},VT=function(e){var t,n=Ii(),i=e||{},r=i.reducer,o=void 0===r?void 0:r,a=i.middleware,s=void 0===a?n():a,c=i.devTools,l=void 0===c||c,d=i.preloadedState,u=void 0===d?void 0:d,h=i.enhancers,A=void 0===h?void 0:h;if("function"===typeof o)t=o;else{if(!pi(o))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=Xn(o)}var p=s;"function"===typeof p&&(p=p(n));var g=Hn.apply(void 0,p),f=Kn;l&&(f=Ai(di({trace:!1},"object"===typeof l&&l)));var m=new Ei(g),E=m;return Array.isArray(A)?E=ni([g],A):"function"===typeof A&&(E=A(m)),jn(t,u,f.apply(void 0,E))}({reducer:{auth:$o,property:mT,tour:gf,[ko.reducerPath]:ko.reducer},middleware:e=>e().concat(ko.middleware),devTools:!0}),ZT=VT,WT=()=>(0,dd.jsx)(dd.Fragment,{children:(0,dd.jsx)(bt,{store:ZT,children:(0,dd.jsxs)(Ue,{children:[(0,dd.jsx)(Ke,{}),"/signup"!==window.location.pathname&&"/"!==window.location.pathname&&"/login"!==window.location.pathname&&"/forgot-password"!==window.location.pathname&&"lobby"!==window.location.pathname.split("/")[1]&&"video"!==window.location.pathname.split("/")[1]&&"reset-password"!==window.location.pathname.split("/")[1]&&(0,dd.jsxs)(dd.Fragment,{children:[(0,dd.jsx)(gu,{}),(0,dd.jsx)(fu,{})]}),(0,dd.jsxs)(fe,{children:[(0,dd.jsx)(pe,{exact:!0,path:"/home",element:(0,dd.jsx)(yf,{})}),(0,dd.jsx)(pe,{exact:!0,path:"/login",element:(0,dd.jsx)(bf,{})}),(0,dd.jsx)(pe,{exact:!0,path:"/signup",element:(0,dd.jsx)(vf,{})}),(0,dd.jsx)(pe,{exact:!0,path:"/",element:(0,dd.jsx)(Ae,{replace:!0,to:"/login"})}),(0,dd.jsx)(pe,{exact:!0,path:"/properties",element:(0,dd.jsx)(Rf,{})}),(0,dd.jsx)(pe,{exact:!0,path:"/property/:id",element:(0,dd.jsx)(vT,{})}),(0,dd.jsx)(pe,{exact:!0,path:"/video/:id",element:(0,dd.jsx)(kT,{})}),(0,dd.jsx)(pe,{exact:!0,path:"/lobby/:id",element:(0,dd.jsx)(DT,{})}),(0,dd.jsx)(pe,{exact:!0,path:"/videocalls",element:(0,dd.jsx)(Bf,{})}),(0,dd.jsx)(pe,{exact:!0,path:"/analytics",element:(0,dd.jsx)(xy,{})}),(0,dd.jsx)(pe,{exact:!0,path:"/help",element:(0,dd.jsx)(Ly,{})}),(0,dd.jsx)(pe,{exact:!0,path:"/profile",element:(0,dd.jsx)(FT,{})})]})]})})});r.createRoot(document.getElementById("root")).render((0,dd.jsx)(WT,{}))})()})();
//# sourceMappingURL=main.6035fb25.js.map